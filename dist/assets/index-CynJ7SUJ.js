function QK(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function ZK(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var oA={exports:{}},gw={},aA={exports:{}},Ku={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN;function eG(){if(fN)return Ku;fN=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.iterator;function y(Ee){return Ee===null||typeof Ee!="object"?null:(Ee=g&&Ee[g]||Ee["@@iterator"],typeof Ee=="function"?Ee:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,M={};function F(Ee,Ze,xt){this.props=Ee,this.context=Ze,this.refs=M,this.updater=xt||b}F.prototype.isReactComponent={},F.prototype.setState=function(Ee,Ze){if(typeof Ee!="object"&&typeof Ee!="function"&&Ee!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Ee,Ze,"setState")},F.prototype.forceUpdate=function(Ee){this.updater.enqueueForceUpdate(this,Ee,"forceUpdate")};function O(){}O.prototype=F.prototype;function j(Ee,Ze,xt){this.props=Ee,this.context=Ze,this.refs=M,this.updater=xt||b}var z=j.prototype=new O;z.constructor=j,_(z,F.prototype),z.isPureReactComponent=!0;var W=Array.isArray,J=Object.prototype.hasOwnProperty,G={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function te(Ee,Ze,xt){var wt,Dt={},rn=null,an=null;if(Ze!=null)for(wt in Ze.ref!==void 0&&(an=Ze.ref),Ze.key!==void 0&&(rn=""+Ze.key),Ze)J.call(Ze,wt)&&!Q.hasOwnProperty(wt)&&(Dt[wt]=Ze[wt]);var un=arguments.length-2;if(un===1)Dt.children=xt;else if(1<un){for(var ur=Array(un),Fn=0;Fn<un;Fn++)ur[Fn]=arguments[Fn+2];Dt.children=ur}if(Ee&&Ee.defaultProps)for(wt in un=Ee.defaultProps,un)Dt[wt]===void 0&&(Dt[wt]=un[wt]);return{$$typeof:n,type:Ee,key:rn,ref:an,props:Dt,_owner:G.current}}function ae(Ee,Ze){return{$$typeof:n,type:Ee.type,key:Ze,ref:Ee.ref,props:Ee.props,_owner:Ee._owner}}function se(Ee){return typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===n}function ge(Ee){var Ze={"=":"=0",":":"=2"};return"$"+Ee.replace(/[=:]/g,function(xt){return Ze[xt]})}var xe=/\/+/g;function Pe(Ee,Ze){return typeof Ee=="object"&&Ee!==null&&Ee.key!=null?ge(""+Ee.key):Ze.toString(36)}function Ce(Ee,Ze,xt,wt,Dt){var rn=typeof Ee;(rn==="undefined"||rn==="boolean")&&(Ee=null);var an=!1;if(Ee===null)an=!0;else switch(rn){case"string":case"number":an=!0;break;case"object":switch(Ee.$$typeof){case n:case e:an=!0}}if(an)return an=Ee,Dt=Dt(an),Ee=wt===""?"."+Pe(an,0):wt,W(Dt)?(xt="",Ee!=null&&(xt=Ee.replace(xe,"$&/")+"/"),Ce(Dt,Ze,xt,"",function(Fn){return Fn})):Dt!=null&&(se(Dt)&&(Dt=ae(Dt,xt+(!Dt.key||an&&an.key===Dt.key?"":(""+Dt.key).replace(xe,"$&/")+"/")+Ee)),Ze.push(Dt)),1;if(an=0,wt=wt===""?".":wt+":",W(Ee))for(var un=0;un<Ee.length;un++){rn=Ee[un];var ur=wt+Pe(rn,un);an+=Ce(rn,Ze,xt,ur,Dt)}else if(ur=y(Ee),typeof ur=="function")for(Ee=ur.call(Ee),un=0;!(rn=Ee.next()).done;)rn=rn.value,ur=wt+Pe(rn,un++),an+=Ce(rn,Ze,xt,ur,Dt);else if(rn==="object")throw Ze=String(Ee),Error("Objects are not valid as a React child (found: "+(Ze==="[object Object]"?"object with keys {"+Object.keys(Ee).join(", ")+"}":Ze)+"). If you meant to render a collection of children, use an array instead.");return an}function Me(Ee,Ze,xt){if(Ee==null)return Ee;var wt=[],Dt=0;return Ce(Ee,wt,"","",function(rn){return Ze.call(xt,rn,Dt++)}),wt}function Oe(Ee){if(Ee._status===-1){var Ze=Ee._result;Ze=Ze(),Ze.then(function(xt){(Ee._status===0||Ee._status===-1)&&(Ee._status=1,Ee._result=xt)},function(xt){(Ee._status===0||Ee._status===-1)&&(Ee._status=2,Ee._result=xt)}),Ee._status===-1&&(Ee._status=0,Ee._result=Ze)}if(Ee._status===1)return Ee._result.default;throw Ee._result}var et={current:null},$e={transition:null},Fe={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:$e,ReactCurrentOwner:G};function Ne(){throw Error("act(...) is not supported in production builds of React.")}return Ku.Children={map:Me,forEach:function(Ee,Ze,xt){Me(Ee,function(){Ze.apply(this,arguments)},xt)},count:function(Ee){var Ze=0;return Me(Ee,function(){Ze++}),Ze},toArray:function(Ee){return Me(Ee,function(Ze){return Ze})||[]},only:function(Ee){if(!se(Ee))throw Error("React.Children.only expected to receive a single React element child.");return Ee}},Ku.Component=F,Ku.Fragment=t,Ku.Profiler=i,Ku.PureComponent=j,Ku.StrictMode=r,Ku.Suspense=c,Ku.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fe,Ku.act=Ne,Ku.cloneElement=function(Ee,Ze,xt){if(Ee==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Ee+".");var wt=_({},Ee.props),Dt=Ee.key,rn=Ee.ref,an=Ee._owner;if(Ze!=null){if(Ze.ref!==void 0&&(rn=Ze.ref,an=G.current),Ze.key!==void 0&&(Dt=""+Ze.key),Ee.type&&Ee.type.defaultProps)var un=Ee.type.defaultProps;for(ur in Ze)J.call(Ze,ur)&&!Q.hasOwnProperty(ur)&&(wt[ur]=Ze[ur]===void 0&&un!==void 0?un[ur]:Ze[ur])}var ur=arguments.length-2;if(ur===1)wt.children=xt;else if(1<ur){un=Array(ur);for(var Fn=0;Fn<ur;Fn++)un[Fn]=arguments[Fn+2];wt.children=un}return{$$typeof:n,type:Ee.type,key:Dt,ref:rn,props:wt,_owner:an}},Ku.createContext=function(Ee){return Ee={$$typeof:s,_currentValue:Ee,_currentValue2:Ee,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Ee.Provider={$$typeof:o,_context:Ee},Ee.Consumer=Ee},Ku.createElement=te,Ku.createFactory=function(Ee){var Ze=te.bind(null,Ee);return Ze.type=Ee,Ze},Ku.createRef=function(){return{current:null}},Ku.forwardRef=function(Ee){return{$$typeof:u,render:Ee}},Ku.isValidElement=se,Ku.lazy=function(Ee){return{$$typeof:f,_payload:{_status:-1,_result:Ee},_init:Oe}},Ku.memo=function(Ee,Ze){return{$$typeof:p,type:Ee,compare:Ze===void 0?null:Ze}},Ku.startTransition=function(Ee){var Ze=$e.transition;$e.transition={};try{Ee()}finally{$e.transition=Ze}},Ku.unstable_act=Ne,Ku.useCallback=function(Ee,Ze){return et.current.useCallback(Ee,Ze)},Ku.useContext=function(Ee){return et.current.useContext(Ee)},Ku.useDebugValue=function(){},Ku.useDeferredValue=function(Ee){return et.current.useDeferredValue(Ee)},Ku.useEffect=function(Ee,Ze){return et.current.useEffect(Ee,Ze)},Ku.useId=function(){return et.current.useId()},Ku.useImperativeHandle=function(Ee,Ze,xt){return et.current.useImperativeHandle(Ee,Ze,xt)},Ku.useInsertionEffect=function(Ee,Ze){return et.current.useInsertionEffect(Ee,Ze)},Ku.useLayoutEffect=function(Ee,Ze){return et.current.useLayoutEffect(Ee,Ze)},Ku.useMemo=function(Ee,Ze){return et.current.useMemo(Ee,Ze)},Ku.useReducer=function(Ee,Ze,xt){return et.current.useReducer(Ee,Ze,xt)},Ku.useRef=function(Ee){return et.current.useRef(Ee)},Ku.useState=function(Ee){return et.current.useState(Ee)},Ku.useSyncExternalStore=function(Ee,Ze,xt){return et.current.useSyncExternalStore(Ee,Ze,xt)},Ku.useTransition=function(){return et.current.useTransition()},Ku.version="18.3.1",Ku}var hN;function ZT(){return hN||(hN=1,aA.exports=eG()),aA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function tG(){if(pN)return gw;pN=1;var n=ZT(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(u,c,p){var f,g={},y=null,b=null;p!==void 0&&(y=""+p),c.key!==void 0&&(y=""+c.key),c.ref!==void 0&&(b=c.ref);for(f in c)r.call(c,f)&&!o.hasOwnProperty(f)&&(g[f]=c[f]);if(u&&u.defaultProps)for(f in c=u.defaultProps,c)g[f]===void 0&&(g[f]=c[f]);return{$$typeof:e,type:u,key:y,ref:b,props:g,_owner:i.current}}return gw.Fragment=t,gw.jsx=s,gw.jsxs=s,gw}var gN;function nG(){return gN||(gN=1,oA.exports=tG()),oA.exports}var ft=nG(),at=ZT();const qi=ZK(at),kS=QK({__proto__:null,default:qi},[at]);var jx={},sA={exports:{}},xg={},uA={exports:{}},lA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mN;function rG(){return mN||(mN=1,function(n){function e($e,Fe){var Ne=$e.length;$e.push(Fe);e:for(;0<Ne;){var Ee=Ne-1>>>1,Ze=$e[Ee];if(0<i(Ze,Fe))$e[Ee]=Fe,$e[Ne]=Ze,Ne=Ee;else break e}}function t($e){return $e.length===0?null:$e[0]}function r($e){if($e.length===0)return null;var Fe=$e[0],Ne=$e.pop();if(Ne!==Fe){$e[0]=Ne;e:for(var Ee=0,Ze=$e.length,xt=Ze>>>1;Ee<xt;){var wt=2*(Ee+1)-1,Dt=$e[wt],rn=wt+1,an=$e[rn];if(0>i(Dt,Ne))rn<Ze&&0>i(an,Dt)?($e[Ee]=an,$e[rn]=Ne,Ee=rn):($e[Ee]=Dt,$e[wt]=Ne,Ee=wt);else if(rn<Ze&&0>i(an,Ne))$e[Ee]=an,$e[rn]=Ne,Ee=rn;else break e}}return Fe}function i($e,Fe){var Ne=$e.sortIndex-Fe.sortIndex;return Ne!==0?Ne:$e.id-Fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();n.unstable_now=function(){return s.now()-u}}var c=[],p=[],f=1,g=null,y=3,b=!1,_=!1,M=!1,F=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z($e){for(var Fe=t(p);Fe!==null;){if(Fe.callback===null)r(p);else if(Fe.startTime<=$e)r(p),Fe.sortIndex=Fe.expirationTime,e(c,Fe);else break;Fe=t(p)}}function W($e){if(M=!1,z($e),!_)if(t(c)!==null)_=!0,Oe(J);else{var Fe=t(p);Fe!==null&&et(W,Fe.startTime-$e)}}function J($e,Fe){_=!1,M&&(M=!1,O(te),te=-1),b=!0;var Ne=y;try{for(z(Fe),g=t(c);g!==null&&(!(g.expirationTime>Fe)||$e&&!ge());){var Ee=g.callback;if(typeof Ee=="function"){g.callback=null,y=g.priorityLevel;var Ze=Ee(g.expirationTime<=Fe);Fe=n.unstable_now(),typeof Ze=="function"?g.callback=Ze:g===t(c)&&r(c),z(Fe)}else r(c);g=t(c)}if(g!==null)var xt=!0;else{var wt=t(p);wt!==null&&et(W,wt.startTime-Fe),xt=!1}return xt}finally{g=null,y=Ne,b=!1}}var G=!1,Q=null,te=-1,ae=5,se=-1;function ge(){return!(n.unstable_now()-se<ae)}function xe(){if(Q!==null){var $e=n.unstable_now();se=$e;var Fe=!0;try{Fe=Q(!0,$e)}finally{Fe?Pe():(G=!1,Q=null)}}else G=!1}var Pe;if(typeof j=="function")Pe=function(){j(xe)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,Me=Ce.port2;Ce.port1.onmessage=xe,Pe=function(){Me.postMessage(null)}}else Pe=function(){F(xe,0)};function Oe($e){Q=$e,G||(G=!0,Pe())}function et($e,Fe){te=F(function(){$e(n.unstable_now())},Fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($e){$e.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,Oe(J))},n.unstable_forceFrameRate=function($e){0>$e||125<$e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ae=0<$e?Math.floor(1e3/$e):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function($e){switch(y){case 1:case 2:case 3:var Fe=3;break;default:Fe=y}var Ne=y;y=Fe;try{return $e()}finally{y=Ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function($e,Fe){switch($e){case 1:case 2:case 3:case 4:case 5:break;default:$e=3}var Ne=y;y=$e;try{return Fe()}finally{y=Ne}},n.unstable_scheduleCallback=function($e,Fe,Ne){var Ee=n.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Ee+Ne:Ee):Ne=Ee,$e){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=Ne+Ze,$e={id:f++,callback:Fe,priorityLevel:$e,startTime:Ne,expirationTime:Ze,sortIndex:-1},Ne>Ee?($e.sortIndex=Ne,e(p,$e),t(c)===null&&$e===t(p)&&(M?(O(te),te=-1):M=!0,et(W,Ne-Ee))):($e.sortIndex=Ze,e(c,$e),_||b||(_=!0,Oe(J))),$e},n.unstable_shouldYield=ge,n.unstable_wrapCallback=function($e){var Fe=y;return function(){var Ne=y;y=Fe;try{return $e.apply(this,arguments)}finally{y=Ne}}}}(lA)),lA}var dN;function iG(){return dN||(dN=1,uA.exports=rG()),uA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vN;function oG(){if(vN)return xg;vN=1;var n=ZT(),e=iG();function t(C){for(var k="https://reactjs.org/docs/error-decoder.html?invariant="+C,B=1;B<arguments.length;B++)k+="&args[]="+encodeURIComponent(arguments[B]);return"Minified React error #"+C+"; visit "+k+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(C,k){s(C,k),s(C+"Capture",k)}function s(C,k){for(i[C]=k,C=0;C<k.length;C++)r.add(k[C])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function y(C){return c.call(g,C)?!0:c.call(f,C)?!1:p.test(C)?g[C]=!0:(f[C]=!0,!1)}function b(C,k,B,K){if(B!==null&&B.type===0)return!1;switch(typeof k){case"function":case"symbol":return!0;case"boolean":return K?!1:B!==null?!B.acceptsBooleans:(C=C.toLowerCase().slice(0,5),C!=="data-"&&C!=="aria-");default:return!1}}function _(C,k,B,K){if(k===null||typeof k>"u"||b(C,k,B,K))return!0;if(K)return!1;if(B!==null)switch(B.type){case 3:return!k;case 4:return k===!1;case 5:return isNaN(k);case 6:return isNaN(k)||1>k}return!1}function M(C,k,B,K,ee,oe,ke){this.acceptsBooleans=k===2||k===3||k===4,this.attributeName=K,this.attributeNamespace=ee,this.mustUseProperty=B,this.propertyName=C,this.type=k,this.sanitizeURL=oe,this.removeEmptyString=ke}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(C){F[C]=new M(C,0,!1,C,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(C){var k=C[0];F[k]=new M(k,1,!1,C[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(C){F[C]=new M(C,2,!1,C.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(C){F[C]=new M(C,2,!1,C,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(C){F[C]=new M(C,3,!1,C.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(C){F[C]=new M(C,3,!0,C,null,!1,!1)}),["capture","download"].forEach(function(C){F[C]=new M(C,4,!1,C,null,!1,!1)}),["cols","rows","size","span"].forEach(function(C){F[C]=new M(C,6,!1,C,null,!1,!1)}),["rowSpan","start"].forEach(function(C){F[C]=new M(C,5,!1,C.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function j(C){return C[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(C){var k=C.replace(O,j);F[k]=new M(k,1,!1,C,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(C){var k=C.replace(O,j);F[k]=new M(k,1,!1,C,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(C){var k=C.replace(O,j);F[k]=new M(k,1,!1,C,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(C){F[C]=new M(C,1,!1,C.toLowerCase(),null,!1,!1)}),F.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(C){F[C]=new M(C,1,!1,C.toLowerCase(),null,!0,!0)});function z(C,k,B,K){var ee=F.hasOwnProperty(k)?F[k]:null;(ee!==null?ee.type!==0:K||!(2<k.length)||k[0]!=="o"&&k[0]!=="O"||k[1]!=="n"&&k[1]!=="N")&&(_(k,B,ee,K)&&(B=null),K||ee===null?y(k)&&(B===null?C.removeAttribute(k):C.setAttribute(k,""+B)):ee.mustUseProperty?C[ee.propertyName]=B===null?ee.type===3?!1:"":B:(k=ee.attributeName,K=ee.attributeNamespace,B===null?C.removeAttribute(k):(ee=ee.type,B=ee===3||ee===4&&B===!0?"":""+B,K?C.setAttributeNS(K,k,B):C.setAttribute(k,B))))}var W=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),G=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ae=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),ge=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ce=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),$e=Symbol.iterator;function Fe(C){return C===null||typeof C!="object"?null:(C=$e&&C[$e]||C["@@iterator"],typeof C=="function"?C:null)}var Ne=Object.assign,Ee;function Ze(C){if(Ee===void 0)try{throw Error()}catch(B){var k=B.stack.trim().match(/\n( *(at )?)/);Ee=k&&k[1]||""}return`
`+Ee+C}var xt=!1;function wt(C,k){if(!C||xt)return"";xt=!0;var B=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(k)if(k=function(){throw Error()},Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(Rt){var K=Rt}Reflect.construct(C,[],k)}else{try{k.call()}catch(Rt){K=Rt}C.call(k.prototype)}else{try{throw Error()}catch(Rt){K=Rt}C()}}catch(Rt){if(Rt&&K&&typeof Rt.stack=="string"){for(var ee=Rt.stack.split(`
`),oe=K.stack.split(`
`),ke=ee.length-1,tt=oe.length-1;1<=ke&&0<=tt&&ee[ke]!==oe[tt];)tt--;for(;1<=ke&&0<=tt;ke--,tt--)if(ee[ke]!==oe[tt]){if(ke!==1||tt!==1)do if(ke--,tt--,0>tt||ee[ke]!==oe[tt]){var ht=`
`+ee[ke].replace(" at new "," at ");return C.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",C.displayName)),ht}while(1<=ke&&0<=tt);break}}}finally{xt=!1,Error.prepareStackTrace=B}return(C=C?C.displayName||C.name:"")?Ze(C):""}function Dt(C){switch(C.tag){case 5:return Ze(C.type);case 16:return Ze("Lazy");case 13:return Ze("Suspense");case 19:return Ze("SuspenseList");case 0:case 2:case 15:return C=wt(C.type,!1),C;case 11:return C=wt(C.type.render,!1),C;case 1:return C=wt(C.type,!0),C;default:return""}}function rn(C){if(C==null)return null;if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C;switch(C){case Q:return"Fragment";case G:return"Portal";case ae:return"Profiler";case te:return"StrictMode";case Pe:return"Suspense";case Ce:return"SuspenseList"}if(typeof C=="object")switch(C.$$typeof){case ge:return(C.displayName||"Context")+".Consumer";case se:return(C._context.displayName||"Context")+".Provider";case xe:var k=C.render;return C=C.displayName,C||(C=k.displayName||k.name||"",C=C!==""?"ForwardRef("+C+")":"ForwardRef"),C;case Me:return k=C.displayName||null,k!==null?k:rn(C.type)||"Memo";case Oe:k=C._payload,C=C._init;try{return rn(C(k))}catch{}}return null}function an(C){var k=C.type;switch(C.tag){case 24:return"Cache";case 9:return(k.displayName||"Context")+".Consumer";case 10:return(k._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return C=k.render,C=C.displayName||C.name||"",k.displayName||(C!==""?"ForwardRef("+C+")":"ForwardRef");case 7:return"Fragment";case 5:return k;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rn(k);case 8:return k===te?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof k=="function")return k.displayName||k.name||null;if(typeof k=="string")return k}return null}function un(C){switch(typeof C){case"boolean":case"number":case"string":case"undefined":return C;case"object":return C;default:return""}}function ur(C){var k=C.type;return(C=C.nodeName)&&C.toLowerCase()==="input"&&(k==="checkbox"||k==="radio")}function Fn(C){var k=ur(C)?"checked":"value",B=Object.getOwnPropertyDescriptor(C.constructor.prototype,k),K=""+C[k];if(!C.hasOwnProperty(k)&&typeof B<"u"&&typeof B.get=="function"&&typeof B.set=="function"){var ee=B.get,oe=B.set;return Object.defineProperty(C,k,{configurable:!0,get:function(){return ee.call(this)},set:function(ke){K=""+ke,oe.call(this,ke)}}),Object.defineProperty(C,k,{enumerable:B.enumerable}),{getValue:function(){return K},setValue:function(ke){K=""+ke},stopTracking:function(){C._valueTracker=null,delete C[k]}}}}function wi(C){C._valueTracker||(C._valueTracker=Fn(C))}function js(C){if(!C)return!1;var k=C._valueTracker;if(!k)return!0;var B=k.getValue(),K="";return C&&(K=ur(C)?C.checked?"true":"false":C.value),C=K,C!==B?(k.setValue(C),!0):!1}function $a(C){if(C=C||(typeof document<"u"?document:void 0),typeof C>"u")return null;try{return C.activeElement||C.body}catch{return C.body}}function fe(C,k){var B=k.checked;return Ne({},k,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:B??C._wrapperState.initialChecked})}function ue(C,k){var B=k.defaultValue==null?"":k.defaultValue,K=k.checked!=null?k.checked:k.defaultChecked;B=un(k.value!=null?k.value:B),C._wrapperState={initialChecked:K,initialValue:B,controlled:k.type==="checkbox"||k.type==="radio"?k.checked!=null:k.value!=null}}function ve(C,k){k=k.checked,k!=null&&z(C,"checked",k,!1)}function Se(C,k){ve(C,k);var B=un(k.value),K=k.type;if(B!=null)K==="number"?(B===0&&C.value===""||C.value!=B)&&(C.value=""+B):C.value!==""+B&&(C.value=""+B);else if(K==="submit"||K==="reset"){C.removeAttribute("value");return}k.hasOwnProperty("value")?Be(C,k.type,B):k.hasOwnProperty("defaultValue")&&Be(C,k.type,un(k.defaultValue)),k.checked==null&&k.defaultChecked!=null&&(C.defaultChecked=!!k.defaultChecked)}function Re(C,k,B){if(k.hasOwnProperty("value")||k.hasOwnProperty("defaultValue")){var K=k.type;if(!(K!=="submit"&&K!=="reset"||k.value!==void 0&&k.value!==null))return;k=""+C._wrapperState.initialValue,B||k===C.value||(C.value=k),C.defaultValue=k}B=C.name,B!==""&&(C.name=""),C.defaultChecked=!!C._wrapperState.initialChecked,B!==""&&(C.name=B)}function Be(C,k,B){(k!=="number"||$a(C.ownerDocument)!==C)&&(B==null?C.defaultValue=""+C._wrapperState.initialValue:C.defaultValue!==""+B&&(C.defaultValue=""+B))}var He=Array.isArray;function We(C,k,B,K){if(C=C.options,k){k={};for(var ee=0;ee<B.length;ee++)k["$"+B[ee]]=!0;for(B=0;B<C.length;B++)ee=k.hasOwnProperty("$"+C[B].value),C[B].selected!==ee&&(C[B].selected=ee),ee&&K&&(C[B].defaultSelected=!0)}else{for(B=""+un(B),k=null,ee=0;ee<C.length;ee++){if(C[ee].value===B){C[ee].selected=!0,K&&(C[ee].defaultSelected=!0);return}k!==null||C[ee].disabled||(k=C[ee])}k!==null&&(k.selected=!0)}}function ot(C,k){if(k.dangerouslySetInnerHTML!=null)throw Error(t(91));return Ne({},k,{value:void 0,defaultValue:void 0,children:""+C._wrapperState.initialValue})}function gt(C,k){var B=k.value;if(B==null){if(B=k.children,k=k.defaultValue,B!=null){if(k!=null)throw Error(t(92));if(He(B)){if(1<B.length)throw Error(t(93));B=B[0]}k=B}k==null&&(k=""),B=k}C._wrapperState={initialValue:un(B)}}function bt(C,k){var B=un(k.value),K=un(k.defaultValue);B!=null&&(B=""+B,B!==C.value&&(C.value=B),k.defaultValue==null&&C.defaultValue!==B&&(C.defaultValue=B)),K!=null&&(C.defaultValue=""+K)}function fn(C){var k=C.textContent;k===C._wrapperState.initialValue&&k!==""&&k!==null&&(C.value=k)}function kn(C){switch(C){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yn(C,k){return C==null||C==="http://www.w3.org/1999/xhtml"?kn(k):C==="http://www.w3.org/2000/svg"&&k==="foreignObject"?"http://www.w3.org/1999/xhtml":C}var At,Ui=function(C){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(k,B,K,ee){MSApp.execUnsafeLocalFunction(function(){return C(k,B,K,ee)})}:C}(function(C,k){if(C.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in C)C.innerHTML=k;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+k.valueOf().toString()+"</svg>",k=At.firstChild;C.firstChild;)C.removeChild(C.firstChild);for(;k.firstChild;)C.appendChild(k.firstChild)}});function io(C,k){if(k){var B=C.firstChild;if(B&&B===C.lastChild&&B.nodeType===3){B.nodeValue=k;return}}C.textContent=k}var bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ta=["Webkit","ms","Moz","O"];Object.keys(bo).forEach(function(C){ta.forEach(function(k){k=k+C.charAt(0).toUpperCase()+C.substring(1),bo[k]=bo[C]})});function Oo(C,k,B){return k==null||typeof k=="boolean"||k===""?"":B||typeof k!="number"||k===0||bo.hasOwnProperty(C)&&bo[C]?(""+k).trim():k+"px"}function Ru(C,k){C=C.style;for(var B in k)if(k.hasOwnProperty(B)){var K=B.indexOf("--")===0,ee=Oo(B,k[B],K);B==="float"&&(B="cssFloat"),K?C.setProperty(B,ee):C[B]=ee}}var fa=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ju(C,k){if(k){if(fa[C]&&(k.children!=null||k.dangerouslySetInnerHTML!=null))throw Error(t(137,C));if(k.dangerouslySetInnerHTML!=null){if(k.children!=null)throw Error(t(60));if(typeof k.dangerouslySetInnerHTML!="object"||!("__html"in k.dangerouslySetInnerHTML))throw Error(t(61))}if(k.style!=null&&typeof k.style!="object")throw Error(t(62))}}function eu(C,k){if(C.indexOf("-")===-1)return typeof k.is=="string";switch(C){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hs=null;function uu(C){return C=C.target||C.srcElement||window,C.correspondingUseElement&&(C=C.correspondingUseElement),C.nodeType===3?C.parentNode:C}var zl=null,Ss=null,Dl=null;function Cl(C){if(C=Ps(C)){if(typeof zl!="function")throw Error(t(280));var k=C.stateNode;k&&(k=lr(k),zl(C.stateNode,C.type,k))}}function Qa(C){Ss?Dl?Dl.push(C):Dl=[C]:Ss=C}function Ul(){if(Ss){var C=Ss,k=Dl;if(Dl=Ss=null,Cl(C),k)for(C=0;C<k.length;C++)Cl(k[C])}}function rl(C,k){return C(k)}function Gu(){}var Ls=!1;function Sl(C,k,B){if(Ls)return C(k,B);Ls=!0;try{return rl(C,k,B)}finally{Ls=!1,(Ss!==null||Dl!==null)&&(Gu(),Ul())}}function _s(C,k){var B=C.stateNode;if(B===null)return null;var K=lr(B);if(K===null)return null;B=K[k];e:switch(k){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(K=!K.disabled)||(C=C.type,K=!(C==="button"||C==="input"||C==="select"||C==="textarea")),C=!K;break e;default:C=!1}if(C)return null;if(B&&typeof B!="function")throw Error(t(231,k,typeof B));return B}var xa=!1;if(u)try{var za={};Object.defineProperty(za,"passive",{get:function(){xa=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{xa=!1}function Jo(C,k,B,K,ee,oe,ke,tt,ht){var Rt=Array.prototype.slice.call(arguments,3);try{k.apply(B,Rt)}catch(Mn){this.onError(Mn)}}var il=!1,ol=null,Ua=!1,lu=null,al={onError:function(C){il=!0,ol=C}};function sl(C,k,B,K,ee,oe,ke,tt,ht){il=!1,ol=null,Jo.apply(al,arguments)}function tu(C,k,B,K,ee,oe,ke,tt,ht){if(sl.apply(this,arguments),il){if(il){var Rt=ol;il=!1,ol=null}else throw Error(t(198));Ua||(Ua=!0,lu=Rt)}}function cu(C){var k=C,B=C;if(C.alternate)for(;k.return;)k=k.return;else{C=k;do k=C,k.flags&4098&&(B=k.return),C=k.return;while(C)}return k.tag===3?B:null}function _l(C){if(C.tag===13){var k=C.memoizedState;if(k===null&&(C=C.alternate,C!==null&&(k=C.memoizedState)),k!==null)return k.dehydrated}return null}function Pi(C){if(cu(C)!==C)throw Error(t(188))}function Lu(C){var k=C.alternate;if(!k){if(k=cu(C),k===null)throw Error(t(188));return k!==C?null:C}for(var B=C,K=k;;){var ee=B.return;if(ee===null)break;var oe=ee.alternate;if(oe===null){if(K=ee.return,K!==null){B=K;continue}break}if(ee.child===oe.child){for(oe=ee.child;oe;){if(oe===B)return Pi(ee),C;if(oe===K)return Pi(ee),k;oe=oe.sibling}throw Error(t(188))}if(B.return!==K.return)B=ee,K=oe;else{for(var ke=!1,tt=ee.child;tt;){if(tt===B){ke=!0,B=ee,K=oe;break}if(tt===K){ke=!0,K=ee,B=oe;break}tt=tt.sibling}if(!ke){for(tt=oe.child;tt;){if(tt===B){ke=!0,B=oe,K=ee;break}if(tt===K){ke=!0,K=oe,B=ee;break}tt=tt.sibling}if(!ke)throw Error(t(189))}}if(B.alternate!==K)throw Error(t(190))}if(B.tag!==3)throw Error(t(188));return B.stateNode.current===B?C:k}function Br(C){return C=Lu(C),C!==null?ha(C):null}function ha(C){if(C.tag===5||C.tag===6)return C;for(C=C.child;C!==null;){var k=ha(C);if(k!==null)return k;C=C.sibling}return null}var gn=e.unstable_scheduleCallback,na=e.unstable_cancelCallback,Sc=e.unstable_shouldYield,El=e.unstable_requestPaint,No=e.unstable_now,Qt=e.unstable_getCurrentPriorityLevel,jt=e.unstable_ImmediatePriority,fu=e.unstable_UserBlockingPriority,Ph=e.unstable_NormalPriority,Es=e.unstable_LowPriority,Bo=e.unstable_IdlePriority,Nf=null,Bt=null;function rr(C){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Nf,C,void 0,(C.current.flags&128)===128)}catch{}}var Mo=Math.clz32?Math.clz32:Rr,df=Math.log,Za=Math.LN2;function Rr(C){return C>>>=0,C===0?32:31-(df(C)/Za|0)|0}var hu=64,Ei=4194304;function Hn(C){switch(C&-C){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return C&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return C}}function Xo(C,k){var B=C.pendingLanes;if(B===0)return 0;var K=0,ee=C.suspendedLanes,oe=C.pingedLanes,ke=B&268435455;if(ke!==0){var tt=ke&~ee;tt!==0?K=Hn(tt):(oe&=ke,oe!==0&&(K=Hn(oe)))}else ke=B&~ee,ke!==0?K=Hn(ke):oe!==0&&(K=Hn(oe));if(K===0)return 0;if(k!==0&&k!==K&&!(k&ee)&&(ee=K&-K,oe=k&-k,ee>=oe||ee===16&&(oe&4194240)!==0))return k;if(K&4&&(K|=B&16),k=C.entangledLanes,k!==0)for(C=C.entanglements,k&=K;0<k;)B=31-Mo(k),ee=1<<B,K|=C[B],k&=~ee;return K}function af(C,k){switch(C){case 1:case 2:case 4:return k+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return k+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cc(C,k){for(var B=C.suspendedLanes,K=C.pingedLanes,ee=C.expirationTimes,oe=C.pendingLanes;0<oe;){var ke=31-Mo(oe),tt=1<<ke,ht=ee[ke];ht===-1?(!(tt&B)||tt&K)&&(ee[ke]=af(tt,k)):ht<=k&&(C.expiredLanes|=tt),oe&=~tt}}function Rn(C){return C=C.pendingLanes&-1073741825,C!==0?C:C&1073741824?1073741824:0}function Qf(){var C=hu;return hu<<=1,!(hu&4194240)&&(hu=64),C}function jr(C){for(var k=[],B=0;31>B;B++)k.push(C);return k}function Nc(C,k,B){C.pendingLanes|=k,k!==536870912&&(C.suspendedLanes=0,C.pingedLanes=0),C=C.eventTimes,k=31-Mo(k),C[k]=B}function As(C,k){var B=C.pendingLanes&~k;C.pendingLanes=k,C.suspendedLanes=0,C.pingedLanes=0,C.expiredLanes&=k,C.mutableReadLanes&=k,C.entangledLanes&=k,k=C.entanglements;var K=C.eventTimes;for(C=C.expirationTimes;0<B;){var ee=31-Mo(B),oe=1<<ee;k[ee]=0,K[ee]=-1,C[ee]=-1,B&=~oe}}function mi(C,k){var B=C.entangledLanes|=k;for(C=C.entanglements;B;){var K=31-Mo(B),ee=1<<K;ee&k|C[K]&k&&(C[K]|=k),B&=~ee}}var Jn=0;function ri(C){return C&=-C,1<C?4<C?C&268435455?16:536870912:4:1}var nn,Xn,es,ch,Jr,$s=!1,Wl=[],Wn=null,bi=null,Bc=null,ul=new Map,zs=new Map,pa=[],Al="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(C,k){switch(C){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Bc=null;break;case"pointerover":case"pointerout":ul.delete(k.pointerId);break;case"gotpointercapture":case"lostpointercapture":zs.delete(k.pointerId)}}function Us(C,k,B,K,ee,oe){return C===null||C.nativeEvent!==oe?(C={blockedOn:k,domEventName:B,eventSystemFlags:K,nativeEvent:oe,targetContainers:[ee]},k!==null&&(k=Ps(k),k!==null&&Xn(k)),C):(C.eventSystemFlags|=K,k=C.targetContainers,ee!==null&&k.indexOf(ee)===-1&&k.push(ee),C)}function tc(C,k,B,K,ee){switch(k){case"focusin":return Wn=Us(Wn,C,k,B,K,ee),!0;case"dragenter":return bi=Us(bi,C,k,B,K,ee),!0;case"mouseover":return Bc=Us(Bc,C,k,B,K,ee),!0;case"pointerover":var oe=ee.pointerId;return ul.set(oe,Us(ul.get(oe)||null,C,k,B,K,ee)),!0;case"gotpointercapture":return oe=ee.pointerId,zs.set(oe,Us(zs.get(oe)||null,C,k,B,K,ee)),!0}return!1}function Hl(C){var k=Tl(C.target);if(k!==null){var B=cu(k);if(B!==null){if(k=B.tag,k===13){if(k=_l(B),k!==null){C.blockedOn=k,Jr(C.priority,function(){es(B)});return}}else if(k===3&&B.stateNode.current.memoizedState.isDehydrated){C.blockedOn=B.tag===3?B.stateNode.containerInfo:null;return}}}C.blockedOn=null}function vr(C){if(C.blockedOn!==null)return!1;for(var k=C.targetContainers;0<k.length;){var B=xo(C.domEventName,C.eventSystemFlags,k[0],C.nativeEvent);if(B===null){B=C.nativeEvent;var K=new B.constructor(B.type,B);hs=K,B.target.dispatchEvent(K),hs=null}else return k=Ps(B),k!==null&&Xn(k),C.blockedOn=B,!1;k.shift()}return!0}function ll(C,k,B){vr(C)&&B.delete(k)}function Ro(){$s=!1,Wn!==null&&vr(Wn)&&(Wn=null),bi!==null&&vr(bi)&&(bi=null),Bc!==null&&vr(Bc)&&(Bc=null),ul.forEach(ll),zs.forEach(ll)}function Vl(C,k){C.blockedOn===k&&(C.blockedOn=null,$s||($s=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ro)))}function ga(C){function k(ee){return Vl(ee,C)}if(0<Wl.length){Vl(Wl[0],C);for(var B=1;B<Wl.length;B++){var K=Wl[B];K.blockedOn===C&&(K.blockedOn=null)}}for(Wn!==null&&Vl(Wn,C),bi!==null&&Vl(bi,C),Bc!==null&&Vl(Bc,C),ul.forEach(k),zs.forEach(k),B=0;B<pa.length;B++)K=pa[B],K.blockedOn===C&&(K.blockedOn=null);for(;0<pa.length&&(B=pa[0],B.blockedOn===null);)Hl(B),B.blockedOn===null&&pa.shift()}var fc=W.ReactCurrentBatchConfig,ql=!0;function ra(C,k,B,K){var ee=Jn,oe=fc.transition;fc.transition=null;try{Jn=1,ji(C,k,B,K)}finally{Jn=ee,fc.transition=oe}}function Wa(C,k,B,K){var ee=Jn,oe=fc.transition;fc.transition=null;try{Jn=4,ji(C,k,B,K)}finally{Jn=ee,fc.transition=oe}}function ji(C,k,B,K){if(ql){var ee=xo(C,k,B,K);if(ee===null)Kt(C,k,K,hc,B),_c(C,K);else if(tc(ee,C,k,B,K))K.stopPropagation();else if(_c(C,K),k&4&&-1<Al.indexOf(C)){for(;ee!==null;){var oe=Ps(ee);if(oe!==null&&nn(oe),oe=xo(C,k,B,K),oe===null&&Kt(C,k,K,hc,B),oe===ee)break;ee=oe}ee!==null&&K.stopPropagation()}else Kt(C,k,K,null,B)}}var hc=null;function xo(C,k,B,K){if(hc=null,C=uu(K),C=Tl(C),C!==null)if(k=cu(C),k===null)C=null;else if(B=k.tag,B===13){if(C=_l(k),C!==null)return C;C=null}else if(B===3){if(k.stateNode.current.memoizedState.isDehydrated)return k.tag===3?k.stateNode.containerInfo:null;C=null}else k!==C&&(C=null);return hc=C,null}function ts(C){switch(C){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case jt:return 1;case fu:return 4;case Ph:case Es:return 16;case Bo:return 536870912;default:return 16}default:return 16}}var Qi=null,ii=null,Qo=null;function vf(){if(Qo)return Qo;var C,k=ii,B=k.length,K,ee="value"in Qi?Qi.value:Qi.textContent,oe=ee.length;for(C=0;C<B&&k[C]===ee[C];C++);var ke=B-C;for(K=1;K<=ke&&k[B-K]===ee[oe-K];K++);return Qo=ee.slice(C,1<K?1-K:void 0)}function ia(C){var k=C.keyCode;return"charCode"in C?(C=C.charCode,C===0&&k===13&&(C=13)):C=k,C===10&&(C=13),32<=C||C===13?C:0}function ie(){return!0}function de(){return!1}function ye(C){function k(B,K,ee,oe,ke){this._reactName=B,this._targetInst=ee,this.type=K,this.nativeEvent=oe,this.target=ke,this.currentTarget=null;for(var tt in C)C.hasOwnProperty(tt)&&(B=C[tt],this[tt]=B?B(oe):oe[tt]);return this.isDefaultPrevented=(oe.defaultPrevented!=null?oe.defaultPrevented:oe.returnValue===!1)?ie:de,this.isPropagationStopped=de,this}return Ne(k.prototype,{preventDefault:function(){this.defaultPrevented=!0;var B=this.nativeEvent;B&&(B.preventDefault?B.preventDefault():typeof B.returnValue!="unknown"&&(B.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var B=this.nativeEvent;B&&(B.stopPropagation?B.stopPropagation():typeof B.cancelBubble!="unknown"&&(B.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),k}var ze={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(C){return C.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ct=ye(ze),Ue=Ne({},ze,{view:0,detail:0}),pt=ye(Ue),Et,he,Ke,Qe=Ne({},Ue,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kl,button:0,buttons:0,relatedTarget:function(C){return C.relatedTarget===void 0?C.fromElement===C.srcElement?C.toElement:C.fromElement:C.relatedTarget},movementX:function(C){return"movementX"in C?C.movementX:(C!==Ke&&(Ke&&C.type==="mousemove"?(Et=C.screenX-Ke.screenX,he=C.screenY-Ke.screenY):he=Et=0,Ke=C),Et)},movementY:function(C){return"movementY"in C?C.movementY:he}}),ut=ye(Qe),Vt=Ne({},Qe,{dataTransfer:0}),hn=ye(Vt),Cr=Ne({},Ue,{relatedTarget:0}),Do=ye(Cr),jn=Ne({},ze,{animationName:0,elapsedTime:0,pseudoElement:0}),$t=ye(jn),Zh=Ne({},ze,{clipboardData:function(C){return"clipboardData"in C?C.clipboardData:window.clipboardData}}),oa=ye(Zh),ps=Ne({},ze,{data:0}),Ec=ye(ps),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(C){var k=this.nativeEvent;return k.getModifierState?k.getModifierState(C):(C=pu[C])?!!k[C]:!1}function kl(){return pn}var wf=Ne({},Ue,{key:function(C){if(C.key){var k=oo[C.key]||C.key;if(k!=="Unidentified")return k}return C.type==="keypress"?(C=ia(C),C===13?"Enter":String.fromCharCode(C)):C.type==="keydown"||C.type==="keyup"?yf[C.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kl,charCode:function(C){return C.type==="keypress"?ia(C):0},keyCode:function(C){return C.type==="keydown"||C.type==="keyup"?C.keyCode:0},which:function(C){return C.type==="keypress"?ia(C):C.type==="keydown"||C.type==="keyup"?C.keyCode:0}}),Ma=ye(wf),Bf=Ne({},Qe,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=ye(Bf),cl=Ne({},Ue,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kl}),fl=ye(cl),Wi=Ne({},ze,{propertyName:0,elapsedTime:0,pseudoElement:0}),aa=ye(Wi),gu=Ne({},Qe,{deltaX:function(C){return"deltaX"in C?C.deltaX:"wheelDeltaX"in C?-C.wheelDeltaX:0},deltaY:function(C){return"deltaY"in C?C.deltaY:"wheelDeltaY"in C?-C.wheelDeltaY:"wheelDelta"in C?-C.wheelDelta:0},deltaZ:0,deltaMode:0}),sf=ye(gu),fh=[9,13,27,32],Ac=u&&"CompositionEvent"in window,Zo=null;u&&"documentMode"in document&&(Zo=document.documentMode);var $u=u&&"TextEvent"in window&&!Zo,zu=u&&(!Ac||Zo&&8<Zo&&11>=Zo),Kl=" ",Rc=!1;function Ch(C,k){switch(C){case"keyup":return fh.indexOf(k.keyCode)!==-1;case"keydown":return k.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(C){return C=C.detail,typeof C=="object"&&"data"in C?C.data:null}var Tn=!1;function wn(C,k){switch(C){case"compositionend":return Sh(k);case"keypress":return k.which!==32?null:(Rc=!0,Kl);case"textInput":return C=k.data,C===Kl&&Rc?null:C;default:return null}}function Gl(C,k){if(Tn)return C==="compositionend"||!Ac&&Ch(C,k)?(C=vf(),Qo=ii=Qi=null,Tn=!1,C):null;switch(C){case"paste":return null;case"keypress":if(!(k.ctrlKey||k.altKey||k.metaKey)||k.ctrlKey&&k.altKey){if(k.char&&1<k.char.length)return k.char;if(k.which)return String.fromCharCode(k.which)}return null;case"compositionend":return zu&&k.locale!=="ko"?null:k.data;default:return null}}var Zf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rf(C){var k=C&&C.nodeName&&C.nodeName.toLowerCase();return k==="input"?!!Zf[C.type]:k==="textarea"}function Ws(C,k,B,K){Qa(K),k=Fc(k,"onChange"),0<k.length&&(B=new ct("onChange","change",null,B,K),C.push({event:B,listeners:k}))}var Da=null,ks=null;function Ai(C){pc(C,0)}function Tr(C){var k=Ar(C);if(js(k))return C}function ns(C,k){if(C==="change")return k}var Hs=!1;if(u){var Fa;if(u){var Pa="oninput"in document;if(!Pa){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Pa=typeof kc.oninput=="function"}Fa=Pa}else Fa=!1;Hs=Fa&&(!document.documentMode||9<document.documentMode)}function Uu(){Da&&(Da.detachEvent("onpropertychange",Wu),ks=Da=null)}function Wu(C){if(C.propertyName==="value"&&Tr(ks)){var k=[];Ws(k,ks,C,uu(C)),Sl(Ai,k)}}function hl(C,k,B){C==="focusin"?(Uu(),Da=k,ks=B,Da.attachEvent("onpropertychange",Wu)):C==="focusout"&&Uu()}function Yl(C){if(C==="selectionchange"||C==="keyup"||C==="keydown")return Tr(ks)}function rs(C,k){if(C==="click")return Tr(k)}function Ms(C,k){if(C==="input"||C==="change")return Tr(k)}function Ml(C,k){return C===k&&(C!==0||1/C===1/k)||C!==C&&k!==k}var R=typeof Object.is=="function"?Object.is:Ml;function is(C,k){if(R(C,k))return!0;if(typeof C!="object"||C===null||typeof k!="object"||k===null)return!1;var B=Object.keys(C),K=Object.keys(k);if(B.length!==K.length)return!1;for(K=0;K<B.length;K++){var ee=B[K];if(!c.call(k,ee)||!R(C[ee],k[ee]))return!1}return!0}function Yu(C){for(;C&&C.firstChild;)C=C.firstChild;return C}function Lr(C,k){var B=Yu(C);C=0;for(var K;B;){if(B.nodeType===3){if(K=C+B.textContent.length,C<=k&&K>=k)return{node:B,offset:k-C};C=K}e:{for(;B;){if(B.nextSibling){B=B.nextSibling;break e}B=B.parentNode}B=void 0}B=Yu(B)}}function _t(C,k){return C&&k?C===k?!0:C&&C.nodeType===3?!1:k&&k.nodeType===3?_t(C,k.parentNode):"contains"in C?C.contains(k):C.compareDocumentPosition?!!(C.compareDocumentPosition(k)&16):!1:!1}function Ae(){for(var C=window,k=$a();k instanceof C.HTMLIFrameElement;){try{var B=typeof k.contentWindow.location.href=="string"}catch{B=!1}if(B)C=k.contentWindow;else break;k=$a(C.document)}return k}function $r(C){var k=C&&C.nodeName&&C.nodeName.toLowerCase();return k&&(k==="input"&&(C.type==="text"||C.type==="search"||C.type==="tel"||C.type==="url"||C.type==="password")||k==="textarea"||C.contentEditable==="true")}function xi(C){var k=Ae(),B=C.focusedElem,K=C.selectionRange;if(k!==B&&B&&B.ownerDocument&&_t(B.ownerDocument.documentElement,B)){if(K!==null&&$r(B)){if(k=K.start,C=K.end,C===void 0&&(C=k),"selectionStart"in B)B.selectionStart=k,B.selectionEnd=Math.min(C,B.value.length);else if(C=(k=B.ownerDocument||document)&&k.defaultView||window,C.getSelection){C=C.getSelection();var ee=B.textContent.length,oe=Math.min(K.start,ee);K=K.end===void 0?oe:Math.min(K.end,ee),!C.extend&&oe>K&&(ee=K,K=oe,oe=ee),ee=Lr(B,oe);var ke=Lr(B,K);ee&&ke&&(C.rangeCount!==1||C.anchorNode!==ee.node||C.anchorOffset!==ee.offset||C.focusNode!==ke.node||C.focusOffset!==ke.offset)&&(k=k.createRange(),k.setStart(ee.node,ee.offset),C.removeAllRanges(),oe>K?(C.addRange(k),C.extend(ke.node,ke.offset)):(k.setEnd(ke.node,ke.offset),C.addRange(k)))}}for(k=[],C=B;C=C.parentNode;)C.nodeType===1&&k.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<k.length;B++)C=k[B],C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}var Z=u&&"documentMode"in document&&11>=document.documentMode,ln=null,Eu=null,bn=null,_n=!1;function gs(C,k,B){var K=B.window===B?B.document:B.nodeType===9?B:B.ownerDocument;_n||ln==null||ln!==$a(K)||(K=ln,"selectionStart"in K&&$r(K)?K={start:K.selectionStart,end:K.selectionEnd}:(K=(K.ownerDocument&&K.ownerDocument.defaultView||window).getSelection(),K={anchorNode:K.anchorNode,anchorOffset:K.anchorOffset,focusNode:K.focusNode,focusOffset:K.focusOffset}),bn&&is(bn,K)||(bn=K,K=Fc(Eu,"onSelect"),0<K.length&&(k=new ct("onSelect","select",null,k,B),C.push({event:k,listeners:K}),k.target=ln)))}function Di(C,k){var B={};return B[C.toLowerCase()]=k.toLowerCase(),B["Webkit"+C]="webkit"+k,B["Moz"+C]="moz"+k,B}var Yi={animationend:Di("Animation","AnimationEnd"),animationiteration:Di("Animation","AnimationIteration"),animationstart:Di("Animation","AnimationStart"),transitionend:Di("Transition","TransitionEnd")},sa={},Ca={};u&&(Ca=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Jl(C){if(sa[C])return sa[C];if(!Yi[C])return C;var k=Yi[C],B;for(B in k)if(k.hasOwnProperty(B)&&B in Ca)return sa[C]=k[B];return C}var oi=Jl("animationend"),Xl=Jl("animationiteration"),Ta=Jl("animationstart"),Hr=Jl("transitionend"),Fl=new Map,ms="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ua(C,k){Fl.set(C,k),o(k,[C])}for(var Li=0;Li<ms.length;Li++){var fo=ms[Li],uf=fo.toLowerCase(),Sa=fo[0].toUpperCase()+fo.slice(1);ua(uf,"on"+Sa)}ua(oi,"onAnimationEnd"),ua(Xl,"onAnimationIteration"),ua(Ta,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(Hr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ln=new Set("cancel close invalid load scroll toggle".split(" ").concat(jo));function Mc(C,k,B){var K=C.type||"unknown-event";C.currentTarget=B,tu(K,k,void 0,C),C.currentTarget=null}function pc(C,k){k=(k&4)!==0;for(var B=0;B<C.length;B++){var K=C[B],ee=K.event;K=K.listeners;e:{var oe=void 0;if(k)for(var ke=K.length-1;0<=ke;ke--){var tt=K[ke],ht=tt.instance,Rt=tt.currentTarget;if(tt=tt.listener,ht!==oe&&ee.isPropagationStopped())break e;Mc(ee,tt,Rt),oe=ht}else for(ke=0;ke<K.length;ke++){if(tt=K[ke],ht=tt.instance,Rt=tt.currentTarget,tt=tt.listener,ht!==oe&&ee.isPropagationStopped())break e;Mc(ee,tt,Rt),oe=ht}}}if(Ua)throw C=lu,Ua=!1,lu=null,C}function Pn(C,k){var B=k[vs];B===void 0&&(B=k[vs]=new Set);var K=C+"__bubble";B.has(K)||(os(k,C,2,!1),B.add(K))}function Ha(C,k,B){var K=0;k&&(K|=4),os(B,C,K,k)}var Ho="_reactListening"+Math.random().toString(36).slice(2);function di(C){if(!C[Ho]){C[Ho]=!0,r.forEach(function(B){B!=="selectionchange"&&(Ln.has(B)||Ha(B,!1,C),Ha(B,!0,C))});var k=C.nodeType===9?C:C.ownerDocument;k===null||k[Ho]||(k[Ho]=!0,Ha("selectionchange",!1,k))}}function os(C,k,B,K){switch(ts(k)){case 1:var ee=ra;break;case 4:ee=Wa;break;default:ee=ji}B=ee.bind(null,k,B,C),ee=void 0,!xa||k!=="touchstart"&&k!=="touchmove"&&k!=="wheel"||(ee=!0),K?ee!==void 0?C.addEventListener(k,B,{capture:!0,passive:ee}):C.addEventListener(k,B,!0):ee!==void 0?C.addEventListener(k,B,{passive:ee}):C.addEventListener(k,B,!1)}function Kt(C,k,B,K,ee){var oe=K;if(!(k&1)&&!(k&2)&&K!==null)e:for(;;){if(K===null)return;var ke=K.tag;if(ke===3||ke===4){var tt=K.stateNode.containerInfo;if(tt===ee||tt.nodeType===8&&tt.parentNode===ee)break;if(ke===4)for(ke=K.return;ke!==null;){var ht=ke.tag;if((ht===3||ht===4)&&(ht=ke.stateNode.containerInfo,ht===ee||ht.nodeType===8&&ht.parentNode===ee))return;ke=ke.return}for(;tt!==null;){if(ke=Tl(tt),ke===null)return;if(ht=ke.tag,ht===5||ht===6){K=oe=ke;continue e}tt=tt.parentNode}}K=K.return}Sl(function(){var Rt=oe,Mn=uu(B),Bn=[];e:{var En=Fl.get(C);if(En!==void 0){var Ur=ct,_i=C;switch(C){case"keypress":if(ia(B)===0)break e;case"keydown":case"keyup":Ur=Ma;break;case"focusin":_i="focus",Ur=Do;break;case"focusout":_i="blur",Ur=Do;break;case"beforeblur":case"afterblur":Ur=Do;break;case"click":if(B.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ur=ut;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ur=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ur=fl;break;case oi:case Xl:case Ta:Ur=$t;break;case Hr:Ur=aa;break;case"scroll":Ur=pt;break;case"wheel":Ur=sf;break;case"copy":case"cut":case"paste":Ur=oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ur=nc}var Oi=(k&4)!==0,Uh=!Oi&&C==="scroll",kt=Oi?En!==null?En+"Capture":null:En;Oi=[];for(var vt=Rt,Pt;vt!==null;){Pt=vt;var qn=Pt.stateNode;if(Pt.tag===5&&qn!==null&&(Pt=qn,kt!==null&&(qn=_s(vt,kt),qn!=null&&Oi.push(Lo(vt,qn,Pt)))),Uh)break;vt=vt.return}0<Oi.length&&(En=new Ur(En,_i,null,B,Mn),Bn.push({event:En,listeners:Oi}))}}if(!(k&7)){e:{if(En=C==="mouseover"||C==="pointerover",Ur=C==="mouseout"||C==="pointerout",En&&B!==hs&&(_i=B.relatedTarget||B.fromElement)&&(Tl(_i)||_i[Ct]))break e;if((Ur||En)&&(En=Mn.window===Mn?Mn:(En=Mn.ownerDocument)?En.defaultView||En.parentWindow:window,Ur?(_i=B.relatedTarget||B.toElement,Ur=Rt,_i=_i?Tl(_i):null,_i!==null&&(Uh=cu(_i),_i!==Uh||_i.tag!==5&&_i.tag!==6)&&(_i=null)):(Ur=null,_i=Rt),Ur!==_i)){if(Oi=ut,qn="onMouseLeave",kt="onMouseEnter",vt="mouse",(C==="pointerout"||C==="pointerover")&&(Oi=nc,qn="onPointerLeave",kt="onPointerEnter",vt="pointer"),Uh=Ur==null?En:Ar(Ur),Pt=_i==null?En:Ar(_i),En=new Oi(qn,vt+"leave",Ur,B,Mn),En.target=Uh,En.relatedTarget=Pt,qn=null,Tl(Mn)===Rt&&(Oi=new Oi(kt,vt+"enter",_i,B,Mn),Oi.target=Pt,Oi.relatedTarget=Uh,qn=Oi),Uh=qn,Ur&&_i)t:{for(Oi=Ur,kt=_i,vt=0,Pt=Oi;Pt;Pt=_a(Pt))vt++;for(Pt=0,qn=kt;qn;qn=_a(qn))Pt++;for(;0<vt-Pt;)Oi=_a(Oi),vt--;for(;0<Pt-vt;)kt=_a(kt),Pt--;for(;vt--;){if(Oi===kt||kt!==null&&Oi===kt.alternate)break t;Oi=_a(Oi),kt=_a(kt)}Oi=null}else Oi=null;Ur!==null&&rc(Bn,En,Ur,Oi,!1),_i!==null&&Uh!==null&&rc(Bn,Uh,_i,Oi,!0)}}e:{if(En=Rt?Ar(Rt):window,Ur=En.nodeName&&En.nodeName.toLowerCase(),Ur==="select"||Ur==="input"&&En.type==="file")var Vi=ns;else if(Rf(En))if(Hs)Vi=Ms;else{Vi=Yl;var Go=hl}else(Ur=En.nodeName)&&Ur.toLowerCase()==="input"&&(En.type==="checkbox"||En.type==="radio")&&(Vi=rs);if(Vi&&(Vi=Vi(C,Rt))){Ws(Bn,Vi,B,Mn);break e}Go&&Go(C,En,Rt),C==="focusout"&&(Go=En._wrapperState)&&Go.controlled&&En.type==="number"&&Be(En,"number",En.value)}switch(Go=Rt?Ar(Rt):window,C){case"focusin":(Rf(Go)||Go.contentEditable==="true")&&(ln=Go,Eu=Rt,bn=null);break;case"focusout":bn=Eu=ln=null;break;case"mousedown":_n=!0;break;case"contextmenu":case"mouseup":case"dragend":_n=!1,gs(Bn,B,Mn);break;case"selectionchange":if(Z)break;case"keydown":case"keyup":gs(Bn,B,Mn)}var Yo;if(Ac)e:{switch(C){case"compositionstart":var La="onCompositionStart";break e;case"compositionend":La="onCompositionEnd";break e;case"compositionupdate":La="onCompositionUpdate";break e}La=void 0}else Tn?Ch(C,B)&&(La="onCompositionEnd"):C==="keydown"&&B.keyCode===229&&(La="onCompositionStart");La&&(zu&&B.locale!=="ko"&&(Tn||La!=="onCompositionStart"?La==="onCompositionEnd"&&Tn&&(Yo=vf()):(Qi=Mn,ii="value"in Qi?Qi.value:Qi.textContent,Tn=!0)),Go=Fc(Rt,La),0<Go.length&&(La=new Ec(La,C,null,B,Mn),Bn.push({event:La,listeners:Go}),Yo?La.data=Yo:(Yo=Sh(B),Yo!==null&&(La.data=Yo)))),(Yo=$u?wn(C,B):Gl(C,B))&&(Rt=Fc(Rt,"onBeforeInput"),0<Rt.length&&(Mn=new Ec("onBeforeInput","beforeinput",null,B,Mn),Bn.push({event:Mn,listeners:Rt}),Mn.data=Yo))}pc(Bn,k)})}function Lo(C,k,B){return{instance:C,listener:k,currentTarget:B}}function Fc(C,k){for(var B=k+"Capture",K=[];C!==null;){var ee=C,oe=ee.stateNode;ee.tag===5&&oe!==null&&(ee=oe,oe=_s(C,B),oe!=null&&K.unshift(Lo(C,oe,ee)),oe=_s(C,k),oe!=null&&K.push(Lo(C,oe,ee))),C=C.return}return K}function _a(C){if(C===null)return null;do C=C.return;while(C&&C.tag!==5);return C||null}function rc(C,k,B,K,ee){for(var oe=k._reactName,ke=[];B!==null&&B!==K;){var tt=B,ht=tt.alternate,Rt=tt.stateNode;if(ht!==null&&ht===K)break;tt.tag===5&&Rt!==null&&(tt=Rt,ee?(ht=_s(B,oe),ht!=null&&ke.unshift(Lo(B,ht,tt))):ee||(ht=_s(B,oe),ht!=null&&ke.push(Lo(B,ht,tt)))),B=B.return}ke.length!==0&&C.push({event:k,listeners:ke})}var Xr=/\r\n?/g,as=/\u0000|\uFFFD/g;function Ea(C){return(typeof C=="string"?C:""+C).replace(Xr,`
`).replace(as,"")}function Ci(C,k,B){if(k=Ea(k),Ea(C)!==k&&B)throw Error(t(425))}function pl(){}var Au=null,ds=null;function ir(C,k){return C==="textarea"||C==="noscript"||typeof k.children=="string"||typeof k.children=="number"||typeof k.dangerouslySetInnerHTML=="object"&&k.dangerouslySetInnerHTML!==null&&k.dangerouslySetInnerHTML.__html!=null}var Qn=typeof setTimeout=="function"?setTimeout:void 0,mu=typeof clearTimeout=="function"?clearTimeout:void 0,ki=typeof Promise=="function"?Promise:void 0,Mi=typeof queueMicrotask=="function"?queueMicrotask:typeof ki<"u"?function(C){return ki.resolve(null).then(C).catch(Ju)}:Qn;function Ju(C){setTimeout(function(){throw C})}function ku(C,k){var B=k,K=0;do{var ee=B.nextSibling;if(C.removeChild(B),ee&&ee.nodeType===8)if(B=ee.data,B==="/$"){if(K===0){C.removeChild(ee),ga(k);return}K--}else B!=="$"&&B!=="$?"&&B!=="$!"||K++;B=ee}while(B);ga(k)}function Ji(C){for(;C!=null;C=C.nextSibling){var k=C.nodeType;if(k===1||k===3)break;if(k===8){if(k=C.data,k==="$"||k==="$!"||k==="$?")break;if(k==="/$")return null}}return C}function ic(C){C=C.previousSibling;for(var k=0;C;){if(C.nodeType===8){var B=C.data;if(B==="$"||B==="$!"||B==="$?"){if(k===0)return C;k--}else B==="/$"&&k++}C=C.previousSibling}return null}var Pl=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Pl,du="__reactProps$"+Pl,Ct="__reactContainer$"+Pl,vs="__reactEvents$"+Pl,Zc="__reactListeners$"+Pl,Vs="__reactHandles$"+Pl;function Tl(C){var k=C[Fs];if(k)return k;for(var B=C.parentNode;B;){if(k=B[Ct]||B[Fs]){if(B=k.alternate,k.child!==null||B!==null&&B.child!==null)for(C=ic(C);C!==null;){if(B=C[Fs])return B;C=ic(C)}return k}C=B,B=C.parentNode}return null}function Ps(C){return C=C[Fs]||C[Ct],!C||C.tag!==5&&C.tag!==6&&C.tag!==13&&C.tag!==3?null:C}function Ar(C){if(C.tag===5||C.tag===6)return C.stateNode;throw Error(t(33))}function lr(C){return C[du]||null}var Pc=[],tn=-1;function ao(C){return{current:C}}function Wr(C){0>tn||(C.current=Pc[tn],Pc[tn]=null,tn--)}function Vr(C,k){tn++,Pc[tn]=C.current,C.current=k}var xn={},hr=ao(xn),Co=ao(!1),So=xn;function nu(C,k){var B=C.type.contextTypes;if(!B)return xn;var K=C.stateNode;if(K&&K.__reactInternalMemoizedUnmaskedChildContext===k)return K.__reactInternalMemoizedMaskedChildContext;var ee={},oe;for(oe in B)ee[oe]=k[oe];return K&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=k,C.__reactInternalMemoizedMaskedChildContext=ee),ee}function Ia(C){return C=C.childContextTypes,C!=null}function zr(){Wr(Co),Wr(hr)}function so(C,k,B){if(hr.current!==xn)throw Error(t(168));Vr(hr,k),Vr(Co,B)}function pr(C,k,B){var K=C.stateNode;if(k=k.childContextTypes,typeof K.getChildContext!="function")return B;K=K.getChildContext();for(var ee in K)if(!(ee in k))throw Error(t(108,an(C)||"Unknown",ee));return Ne({},B,K)}function Sr(C){return C=(C=C.stateNode)&&C.__reactInternalMemoizedMergedChildContext||xn,So=hr.current,Vr(hr,C),Vr(Co,Co.current),!0}function Qr(C,k,B){var K=C.stateNode;if(!K)throw Error(t(169));B?(C=pr(C,k,So),K.__reactInternalMemoizedMergedChildContext=C,Wr(Co),Wr(hr),Vr(hr,C)):Wr(Co),Vr(Co,B)}var Ql=null,Zi=!1,gl=!1;function jc(C){Ql===null?Ql=[C]:Ql.push(C)}function Mu(C){Zi=!0,jc(C)}function ru(){if(!gl&&Ql!==null){gl=!0;var C=0,k=Jn;try{var B=Ql;for(Jn=1;C<B.length;C++){var K=B[C];do K=K(!0);while(K!==null)}Ql=null,Zi=!1}catch(ee){throw Ql!==null&&(Ql=Ql.slice(C+1)),gn(jt,ru),ee}finally{Jn=k,gl=!1}}return null}var qs=[],Ts=0,iu=null,or=0,Kn=[],Oa=0,la=null,Va=1,ml="";function ca(C,k){qs[Ts++]=or,qs[Ts++]=iu,iu=C,or=k}function uo(C,k,B){Kn[Oa++]=Va,Kn[Oa++]=ml,Kn[Oa++]=la,la=C;var K=Va;C=ml;var ee=32-Mo(K)-1;K&=~(1<<ee),B+=1;var oe=32-Mo(k)+ee;if(30<oe){var ke=ee-ee%5;oe=(K&(1<<ke)-1).toString(32),K>>=ke,ee-=ke,Va=1<<32-Mo(k)+ee|B<<ee|K,ml=oe+C}else Va=1<<oe|B<<ee|K,ml=C}function Vo(C){C.return!==null&&(ca(C,1),uo(C,1,0))}function Hi(C){for(;C===iu;)iu=qs[--Ts],qs[Ts]=null,or=qs[--Ts],qs[Ts]=null;for(;C===la;)la=Kn[--Oa],Kn[Oa]=null,ml=Kn[--Oa],Kn[Oa]=null,Va=Kn[--Oa],Kn[Oa]=null}var eo=null,Fo=null,$i=!1,to=null;function ho(C,k){var B=S(5,null,null,0);B.elementType="DELETED",B.stateNode=k,B.return=C,k=C.deletions,k===null?(C.deletions=[B],C.flags|=16):k.push(B)}function Na(C,k){switch(C.tag){case 5:var B=C.type;return k=k.nodeType!==1||B.toLowerCase()!==k.nodeName.toLowerCase()?null:k,k!==null?(C.stateNode=k,eo=C,Fo=Ji(k.firstChild),!0):!1;case 6:return k=C.pendingProps===""||k.nodeType!==3?null:k,k!==null?(C.stateNode=k,eo=C,Fo=null,!0):!1;case 13:return k=k.nodeType!==8?null:k,k!==null?(B=la!==null?{id:Va,overflow:ml}:null,C.memoizedState={dehydrated:k,treeContext:B,retryLane:1073741824},B=S(18,null,null,0),B.stateNode=k,B.return=C,C.child=B,eo=C,Fo=null,!0):!1;default:return!1}}function vu(C){return(C.mode&1)!==0&&(C.flags&128)===0}function qa(C){if($i){var k=Fo;if(k){var B=k;if(!Na(C,k)){if(vu(C))throw Error(t(418));k=Ji(B.nextSibling);var K=eo;k&&Na(C,k)?ho(K,B):(C.flags=C.flags&-4097|2,$i=!1,eo=C)}}else{if(vu(C))throw Error(t(418));C.flags=C.flags&-4097|2,$i=!1,eo=C}}}function Is(C){for(C=C.return;C!==null&&C.tag!==5&&C.tag!==3&&C.tag!==13;)C=C.return;eo=C}function ma(C){if(C!==eo)return!1;if(!$i)return Is(C),$i=!0,!1;var k;if((k=C.tag!==3)&&!(k=C.tag!==5)&&(k=C.type,k=k!=="head"&&k!=="body"&&!ir(C.type,C.memoizedProps)),k&&(k=Fo)){if(vu(C))throw gc(),Error(t(418));for(;k;)ho(C,k),k=Ji(k.nextSibling)}if(Is(C),C.tag===13){if(C=C.memoizedState,C=C!==null?C.dehydrated:null,!C)throw Error(t(317));e:{for(C=C.nextSibling,k=0;C;){if(C.nodeType===8){var B=C.data;if(B==="/$"){if(k===0){Fo=Ji(C.nextSibling);break e}k--}else B!=="$"&&B!=="$!"&&B!=="$?"||k++}C=C.nextSibling}Fo=null}}else Fo=eo?Ji(C.stateNode.nextSibling):null;return!0}function gc(){for(var C=Fo;C;)C=Ji(C.nextSibling)}function Il(){Fo=eo=null,$i=!1}function wr(C){to===null?to=[C]:to.push(C)}var ys=W.ReactCurrentBatchConfig;function yu(C,k,B){if(C=B.ref,C!==null&&typeof C!="function"&&typeof C!="object"){if(B._owner){if(B=B._owner,B){if(B.tag!==1)throw Error(t(309));var K=B.stateNode}if(!K)throw Error(t(147,C));var ee=K,oe=""+C;return k!==null&&k.ref!==null&&typeof k.ref=="function"&&k.ref._stringRef===oe?k.ref:(k=function(ke){var tt=ee.refs;ke===null?delete tt[oe]:tt[oe]=ke},k._stringRef=oe,k)}if(typeof C!="string")throw Error(t(284));if(!B._owner)throw Error(t(290,C))}return C}function lf(C,k){throw C=Object.prototype.toString.call(k),Error(t(31,C==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":C))}function dl(C){var k=C._init;return k(C._payload)}function lo(C){function k(kt,vt){if(C){var Pt=kt.deletions;Pt===null?(kt.deletions=[vt],kt.flags|=16):Pt.push(vt)}}function B(kt,vt){if(!C)return null;for(;vt!==null;)k(kt,vt),vt=vt.sibling;return null}function K(kt,vt){for(kt=new Map;vt!==null;)vt.key!==null?kt.set(vt.key,vt):kt.set(vt.index,vt),vt=vt.sibling;return kt}function ee(kt,vt){return kt=q(kt,vt),kt.index=0,kt.sibling=null,kt}function oe(kt,vt,Pt){return kt.index=Pt,C?(Pt=kt.alternate,Pt!==null?(Pt=Pt.index,Pt<vt?(kt.flags|=2,vt):Pt):(kt.flags|=2,vt)):(kt.flags|=1048576,vt)}function ke(kt){return C&&kt.alternate===null&&(kt.flags|=2),kt}function tt(kt,vt,Pt,qn){return vt===null||vt.tag!==6?(vt=_e(Pt,kt.mode,qn),vt.return=kt,vt):(vt=ee(vt,Pt),vt.return=kt,vt)}function ht(kt,vt,Pt,qn){var Vi=Pt.type;return Vi===Q?Mn(kt,vt,Pt.props.children,qn,Pt.key):vt!==null&&(vt.elementType===Vi||typeof Vi=="object"&&Vi!==null&&Vi.$$typeof===Oe&&dl(Vi)===vt.type)?(qn=ee(vt,Pt.props),qn.ref=yu(kt,vt,Pt),qn.return=kt,qn):(qn=X(Pt.type,Pt.key,Pt.props,null,kt.mode,qn),qn.ref=yu(kt,vt,Pt),qn.return=kt,qn)}function Rt(kt,vt,Pt,qn){return vt===null||vt.tag!==4||vt.stateNode.containerInfo!==Pt.containerInfo||vt.stateNode.implementation!==Pt.implementation?(vt=Ve(Pt,kt.mode,qn),vt.return=kt,vt):(vt=ee(vt,Pt.children||[]),vt.return=kt,vt)}function Mn(kt,vt,Pt,qn,Vi){return vt===null||vt.tag!==7?(vt=le(Pt,kt.mode,qn,Vi),vt.return=kt,vt):(vt=ee(vt,Pt),vt.return=kt,vt)}function Bn(kt,vt,Pt){if(typeof vt=="string"&&vt!==""||typeof vt=="number")return vt=_e(""+vt,kt.mode,Pt),vt.return=kt,vt;if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case J:return Pt=X(vt.type,vt.key,vt.props,null,kt.mode,Pt),Pt.ref=yu(kt,null,vt),Pt.return=kt,Pt;case G:return vt=Ve(vt,kt.mode,Pt),vt.return=kt,vt;case Oe:var qn=vt._init;return Bn(kt,qn(vt._payload),Pt)}if(He(vt)||Fe(vt))return vt=le(vt,kt.mode,Pt,null),vt.return=kt,vt;lf(kt,vt)}return null}function En(kt,vt,Pt,qn){var Vi=vt!==null?vt.key:null;if(typeof Pt=="string"&&Pt!==""||typeof Pt=="number")return Vi!==null?null:tt(kt,vt,""+Pt,qn);if(typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case J:return Pt.key===Vi?ht(kt,vt,Pt,qn):null;case G:return Pt.key===Vi?Rt(kt,vt,Pt,qn):null;case Oe:return Vi=Pt._init,En(kt,vt,Vi(Pt._payload),qn)}if(He(Pt)||Fe(Pt))return Vi!==null?null:Mn(kt,vt,Pt,qn,null);lf(kt,Pt)}return null}function Ur(kt,vt,Pt,qn,Vi){if(typeof qn=="string"&&qn!==""||typeof qn=="number")return kt=kt.get(Pt)||null,tt(vt,kt,""+qn,Vi);if(typeof qn=="object"&&qn!==null){switch(qn.$$typeof){case J:return kt=kt.get(qn.key===null?Pt:qn.key)||null,ht(vt,kt,qn,Vi);case G:return kt=kt.get(qn.key===null?Pt:qn.key)||null,Rt(vt,kt,qn,Vi);case Oe:var Go=qn._init;return Ur(kt,vt,Pt,Go(qn._payload),Vi)}if(He(qn)||Fe(qn))return kt=kt.get(Pt)||null,Mn(vt,kt,qn,Vi,null);lf(vt,qn)}return null}function _i(kt,vt,Pt,qn){for(var Vi=null,Go=null,Yo=vt,La=vt=0,fp=null;Yo!==null&&La<Pt.length;La++){Yo.index>La?(fp=Yo,Yo=null):fp=Yo.sibling;var xc=En(kt,Yo,Pt[La],qn);if(xc===null){Yo===null&&(Yo=fp);break}C&&Yo&&xc.alternate===null&&k(kt,Yo),vt=oe(xc,vt,La),Go===null?Vi=xc:Go.sibling=xc,Go=xc,Yo=fp}if(La===Pt.length)return B(kt,Yo),$i&&ca(kt,La),Vi;if(Yo===null){for(;La<Pt.length;La++)Yo=Bn(kt,Pt[La],qn),Yo!==null&&(vt=oe(Yo,vt,La),Go===null?Vi=Yo:Go.sibling=Yo,Go=Yo);return $i&&ca(kt,La),Vi}for(Yo=K(kt,Yo);La<Pt.length;La++)fp=Ur(Yo,kt,La,Pt[La],qn),fp!==null&&(C&&fp.alternate!==null&&Yo.delete(fp.key===null?La:fp.key),vt=oe(fp,vt,La),Go===null?Vi=fp:Go.sibling=fp,Go=fp);return C&&Yo.forEach(function(yd){return k(kt,yd)}),$i&&ca(kt,La),Vi}function Oi(kt,vt,Pt,qn){var Vi=Fe(Pt);if(typeof Vi!="function")throw Error(t(150));if(Pt=Vi.call(Pt),Pt==null)throw Error(t(151));for(var Go=Vi=null,Yo=vt,La=vt=0,fp=null,xc=Pt.next();Yo!==null&&!xc.done;La++,xc=Pt.next()){Yo.index>La?(fp=Yo,Yo=null):fp=Yo.sibling;var yd=En(kt,Yo,xc.value,qn);if(yd===null){Yo===null&&(Yo=fp);break}C&&Yo&&yd.alternate===null&&k(kt,Yo),vt=oe(yd,vt,La),Go===null?Vi=yd:Go.sibling=yd,Go=yd,Yo=fp}if(xc.done)return B(kt,Yo),$i&&ca(kt,La),Vi;if(Yo===null){for(;!xc.done;La++,xc=Pt.next())xc=Bn(kt,xc.value,qn),xc!==null&&(vt=oe(xc,vt,La),Go===null?Vi=xc:Go.sibling=xc,Go=xc);return $i&&ca(kt,La),Vi}for(Yo=K(kt,Yo);!xc.done;La++,xc=Pt.next())xc=Ur(Yo,kt,La,xc.value,qn),xc!==null&&(C&&xc.alternate!==null&&Yo.delete(xc.key===null?La:xc.key),vt=oe(xc,vt,La),Go===null?Vi=xc:Go.sibling=xc,Go=xc);return C&&Yo.forEach(function(XK){return k(kt,XK)}),$i&&ca(kt,La),Vi}function Uh(kt,vt,Pt,qn){if(typeof Pt=="object"&&Pt!==null&&Pt.type===Q&&Pt.key===null&&(Pt=Pt.props.children),typeof Pt=="object"&&Pt!==null){switch(Pt.$$typeof){case J:e:{for(var Vi=Pt.key,Go=vt;Go!==null;){if(Go.key===Vi){if(Vi=Pt.type,Vi===Q){if(Go.tag===7){B(kt,Go.sibling),vt=ee(Go,Pt.props.children),vt.return=kt,kt=vt;break e}}else if(Go.elementType===Vi||typeof Vi=="object"&&Vi!==null&&Vi.$$typeof===Oe&&dl(Vi)===Go.type){B(kt,Go.sibling),vt=ee(Go,Pt.props),vt.ref=yu(kt,Go,Pt),vt.return=kt,kt=vt;break e}B(kt,Go);break}else k(kt,Go);Go=Go.sibling}Pt.type===Q?(vt=le(Pt.props.children,kt.mode,qn,Pt.key),vt.return=kt,kt=vt):(qn=X(Pt.type,Pt.key,Pt.props,null,kt.mode,qn),qn.ref=yu(kt,vt,Pt),qn.return=kt,kt=qn)}return ke(kt);case G:e:{for(Go=Pt.key;vt!==null;){if(vt.key===Go)if(vt.tag===4&&vt.stateNode.containerInfo===Pt.containerInfo&&vt.stateNode.implementation===Pt.implementation){B(kt,vt.sibling),vt=ee(vt,Pt.children||[]),vt.return=kt,kt=vt;break e}else{B(kt,vt);break}else k(kt,vt);vt=vt.sibling}vt=Ve(Pt,kt.mode,qn),vt.return=kt,kt=vt}return ke(kt);case Oe:return Go=Pt._init,Uh(kt,vt,Go(Pt._payload),qn)}if(He(Pt))return _i(kt,vt,Pt,qn);if(Fe(Pt))return Oi(kt,vt,Pt,qn);lf(kt,Pt)}return typeof Pt=="string"&&Pt!==""||typeof Pt=="number"?(Pt=""+Pt,vt!==null&&vt.tag===6?(B(kt,vt.sibling),vt=ee(vt,Pt),vt.return=kt,kt=vt):(B(kt,vt),vt=_e(Pt,kt.mode,qn),vt.return=kt,kt=vt),ke(kt)):B(kt,vt)}return Uh}var qo=lo(!0),Ba=lo(!1),ou=ao(null),no=null,Xi=null,st=null;function ss(){st=Xi=no=null}function Ol(C){var k=ou.current;Wr(ou),C._currentValue=k}function Zr(C,k,B){for(;C!==null;){var K=C.alternate;if((C.childLanes&k)!==k?(C.childLanes|=k,K!==null&&(K.childLanes|=k)):K!==null&&(K.childLanes&k)!==k&&(K.childLanes|=k),C===B)break;C=C.return}}function ar(C,k){no=C,st=Xi=null,C=C.dependencies,C!==null&&C.firstContext!==null&&(C.lanes&k&&(tr=!0),C.firstContext=null)}function da(C){var k=C._currentValue;if(st!==C)if(C={context:C,memoizedValue:k,next:null},Xi===null){if(no===null)throw Error(t(308));Xi=C,no.dependencies={lanes:0,firstContext:C}}else Xi=Xi.next=C;return k}var Lt=null;function Hu(C){Lt===null?Lt=[C]:Lt.push(C)}function Ks(C,k,B,K){var ee=k.interleaved;return ee===null?(B.next=B,Hu(k)):(B.next=ee.next,ee.next=B),k.interleaved=B,Ut(C,K)}function Ut(C,k){C.lanes|=k;var B=C.alternate;for(B!==null&&(B.lanes|=k),B=C,C=C.return;C!==null;)C.childLanes|=k,B=C.alternate,B!==null&&(B.childLanes|=k),B=C,C=C.return;return B.tag===3?B.stateNode:null}var gr=!1;function Gt(C){C.updateQueue={baseState:C.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vn(C,k){C=C.updateQueue,k.updateQueue===C&&(k.updateQueue={baseState:C.baseState,firstBaseUpdate:C.firstBaseUpdate,lastBaseUpdate:C.lastBaseUpdate,shared:C.shared,effects:C.effects})}function kr(C,k){return{eventTime:C,lane:k,tag:0,payload:null,callback:null,next:null}}function Nl(C,k,B){var K=C.updateQueue;if(K===null)return null;if(K=K.shared,er&2){var ee=K.pending;return ee===null?k.next=k:(k.next=ee.next,ee.next=k),K.pending=k,Ut(C,B)}return ee=K.interleaved,ee===null?(k.next=k,Hu(K)):(k.next=ee.next,ee.next=k),K.interleaved=k,Ut(C,B)}function br(C,k,B){if(k=k.updateQueue,k!==null&&(k=k.shared,(B&4194240)!==0)){var K=k.lanes;K&=C.pendingLanes,B|=K,k.lanes=B,mi(C,B)}}function Gs(C,k){var B=C.updateQueue,K=C.alternate;if(K!==null&&(K=K.updateQueue,B===K)){var ee=null,oe=null;if(B=B.firstBaseUpdate,B!==null){do{var ke={eventTime:B.eventTime,lane:B.lane,tag:B.tag,payload:B.payload,callback:B.callback,next:null};oe===null?ee=oe=ke:oe=oe.next=ke,B=B.next}while(B!==null);oe===null?ee=oe=k:oe=oe.next=k}else ee=oe=k;B={baseState:K.baseState,firstBaseUpdate:ee,lastBaseUpdate:oe,shared:K.shared,effects:K.effects},C.updateQueue=B;return}C=B.lastBaseUpdate,C===null?B.firstBaseUpdate=k:C.next=k,B.lastBaseUpdate=k}function Ys(C,k,B,K){var ee=C.updateQueue;gr=!1;var oe=ee.firstBaseUpdate,ke=ee.lastBaseUpdate,tt=ee.shared.pending;if(tt!==null){ee.shared.pending=null;var ht=tt,Rt=ht.next;ht.next=null,ke===null?oe=Rt:ke.next=Rt,ke=ht;var Mn=C.alternate;Mn!==null&&(Mn=Mn.updateQueue,tt=Mn.lastBaseUpdate,tt!==ke&&(tt===null?Mn.firstBaseUpdate=Rt:tt.next=Rt,Mn.lastBaseUpdate=ht))}if(oe!==null){var Bn=ee.baseState;ke=0,Mn=Rt=ht=null,tt=oe;do{var En=tt.lane,Ur=tt.eventTime;if((K&En)===En){Mn!==null&&(Mn=Mn.next={eventTime:Ur,lane:0,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null});e:{var _i=C,Oi=tt;switch(En=k,Ur=B,Oi.tag){case 1:if(_i=Oi.payload,typeof _i=="function"){Bn=_i.call(Ur,Bn,En);break e}Bn=_i;break e;case 3:_i.flags=_i.flags&-65537|128;case 0:if(_i=Oi.payload,En=typeof _i=="function"?_i.call(Ur,Bn,En):_i,En==null)break e;Bn=Ne({},Bn,En);break e;case 2:gr=!0}}tt.callback!==null&&tt.lane!==0&&(C.flags|=64,En=ee.effects,En===null?ee.effects=[tt]:En.push(tt))}else Ur={eventTime:Ur,lane:En,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},Mn===null?(Rt=Mn=Ur,ht=Bn):Mn=Mn.next=Ur,ke|=En;if(tt=tt.next,tt===null){if(tt=ee.shared.pending,tt===null)break;En=tt,tt=En.next,En.next=null,ee.lastBaseUpdate=En,ee.shared.pending=null}}while(!0);if(Mn===null&&(ht=Bn),ee.baseState=ht,ee.firstBaseUpdate=Rt,ee.lastBaseUpdate=Mn,k=ee.shared.interleaved,k!==null){ee=k;do ke|=ee.lane,ee=ee.next;while(ee!==k)}else oe===null&&(ee.shared.lanes=0);Ic|=ke,C.lanes=ke,C.memoizedState=Bn}}function po(C,k,B){if(C=k.effects,k.effects=null,C!==null)for(k=0;k<C.length;k++){var K=C[k],ee=K.callback;if(ee!==null){if(K.callback=null,K=B,typeof ee!="function")throw Error(t(191,ee));ee.call(K)}}}var va={},qr=ao(va),Fu=ao(va),Ti=ao(va);function go(C){if(C===va)throw Error(t(174));return C}function Js(C,k){switch(Vr(Ti,k),Vr(Fu,C),Vr(qr,va),C=k.nodeType,C){case 9:case 11:k=(k=k.documentElement)?k.namespaceURI:yn(null,"");break;default:C=C===8?k.parentNode:k,k=C.namespaceURI||null,C=C.tagName,k=yn(k,C)}Wr(qr),Vr(qr,k)}function Bl(){Wr(qr),Wr(Fu),Wr(Ti)}function wu(C){go(Ti.current);var k=go(qr.current),B=yn(k,C.type);k!==B&&(Vr(Fu,C),Vr(qr,B))}function Lc(C){Fu.current===C&&(Wr(qr),Wr(Fu))}var Zn=ao(0);function Po(C){for(var k=C;k!==null;){if(k.tag===13){var B=k.memoizedState;if(B!==null&&(B=B.dehydrated,B===null||B.data==="$?"||B.data==="$!"))return k}else if(k.tag===19&&k.memoizedProps.revealOrder!==void 0){if(k.flags&128)return k}else if(k.child!==null){k.child.return=k,k=k.child;continue}if(k===C)break;for(;k.sibling===null;){if(k.return===null||k.return===C)return null;k=k.return}k.sibling.return=k.return,k=k.sibling}return null}var $c=[];function mc(){for(var C=0;C<$c.length;C++)$c[C]._workInProgressVersionPrimary=null;$c.length=0}var Tc=W.ReactCurrentDispatcher,jf=W.ReactCurrentBatchConfig,Xs=0,vi=null,Ka=null,Si=null,bu=!1,bf=!1,cf=0,ai=0;function Xu(){throw Error(t(321))}function zc(C,k){if(k===null)return!1;for(var B=0;B<k.length&&B<C.length;B++)if(!R(C[B],k[B]))return!1;return!0}function eh(C,k,B,K,ee,oe){if(Xs=oe,vi=k,k.memoizedState=null,k.updateQueue=null,k.lanes=0,Tc.current=C===null||C.memoizedState===null?gh:vc,C=B(K,ee),bf){oe=0;do{if(bf=!1,cf=0,25<=oe)throw Error(t(301));oe+=1,Si=Ka=null,k.updateQueue=null,Tc.current=ef,C=B(K,ee)}while(bf)}if(Tc.current=ws,k=Ka!==null&&Ka.next!==null,Xs=0,Si=Ka=vi=null,bu=!1,k)throw Error(t(300));return C}function Rl(){var C=cf!==0;return cf=0,C}function dc(){var C={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Si===null?vi.memoizedState=Si=C:Si=Si.next=C,Si}function Os(){if(Ka===null){var C=vi.alternate;C=C!==null?C.memoizedState:null}else C=Ka.next;var k=Si===null?vi.memoizedState:Si.next;if(k!==null)Si=k,Ka=C;else{if(C===null)throw Error(t(310));Ka=C,C={memoizedState:Ka.memoizedState,baseState:Ka.baseState,baseQueue:Ka.baseQueue,queue:Ka.queue,next:null},Si===null?vi.memoizedState=Si=C:Si=Si.next=C}return Si}function th(C,k){return typeof k=="function"?k(C):k}function Uc(C){var k=Os(),B=k.queue;if(B===null)throw Error(t(311));B.lastRenderedReducer=C;var K=Ka,ee=K.baseQueue,oe=B.pending;if(oe!==null){if(ee!==null){var ke=ee.next;ee.next=oe.next,oe.next=ke}K.baseQueue=ee=oe,B.pending=null}if(ee!==null){oe=ee.next,K=K.baseState;var tt=ke=null,ht=null,Rt=oe;do{var Mn=Rt.lane;if((Xs&Mn)===Mn)ht!==null&&(ht=ht.next={lane:0,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null}),K=Rt.hasEagerState?Rt.eagerState:C(K,Rt.action);else{var Bn={lane:Mn,action:Rt.action,hasEagerState:Rt.hasEagerState,eagerState:Rt.eagerState,next:null};ht===null?(tt=ht=Bn,ke=K):ht=ht.next=Bn,vi.lanes|=Mn,Ic|=Mn}Rt=Rt.next}while(Rt!==null&&Rt!==oe);ht===null?ke=K:ht.next=tt,R(K,k.memoizedState)||(tr=!0),k.memoizedState=K,k.baseState=ke,k.baseQueue=ht,B.lastRenderedState=K}if(C=B.interleaved,C!==null){ee=C;do oe=ee.lane,vi.lanes|=oe,Ic|=oe,ee=ee.next;while(ee!==C)}else ee===null&&(B.lanes=0);return[k.memoizedState,B.dispatch]}function ya(C){var k=Os(),B=k.queue;if(B===null)throw Error(t(311));B.lastRenderedReducer=C;var K=B.dispatch,ee=B.pending,oe=k.memoizedState;if(ee!==null){B.pending=null;var ke=ee=ee.next;do oe=C(oe,ke.action),ke=ke.next;while(ke!==ee);R(oe,k.memoizedState)||(tr=!0),k.memoizedState=oe,k.baseQueue===null&&(k.baseState=oe),B.lastRenderedState=oe}return[oe,K]}function Th(){}function Ih(C,k){var B=vi,K=Os(),ee=k(),oe=!R(K.memoizedState,ee);if(oe&&(K.memoizedState=ee,tr=!0),K=K.queue,Wc(hh.bind(null,B,K,C),[C]),K.getSnapshot!==k||oe||Si!==null&&Si.memoizedState.tag&1){if(B.flags|=2048,nh(9,Lf.bind(null,B,K,ee,k),void 0,null),Ko===null)throw Error(t(349));Xs&30||Oh(B,k,ee)}return ee}function Oh(C,k,B){C.flags|=16384,C={getSnapshot:k,value:B},k=vi.updateQueue,k===null?(k={lastEffect:null,stores:null},vi.updateQueue=k,k.stores=[C]):(B=k.stores,B===null?k.stores=[C]:B.push(C))}function Lf(C,k,B,K){k.value=B,k.getSnapshot=K,xf(k)&&ph(C)}function hh(C,k,B){return B(function(){xf(k)&&ph(C)})}function xf(C){var k=C.getSnapshot;C=C.value;try{var B=k();return!R(C,B)}catch{return!0}}function ph(C){var k=Ut(C,1);k!==null&&Y(k,C,1,-1)}function vl(C){var k=dc();return typeof C=="function"&&(C=C()),k.memoizedState=k.baseState=C,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:C},k.queue=C,C=C.dispatch=_h.bind(null,vi,C),[k.memoizedState,C]}function nh(C,k,B,K){return C={tag:C,create:k,destroy:B,deps:K,next:null},k=vi.updateQueue,k===null?(k={lastEffect:null,stores:null},vi.updateQueue=k,k.lastEffect=C.next=C):(B=k.lastEffect,B===null?k.lastEffect=C.next=C:(K=B.next,B.next=C,C.next=K,k.lastEffect=C)),C}function xu(){return Os().memoizedState}function $f(C,k,B,K){var ee=dc();vi.flags|=C,ee.memoizedState=nh(1|k,B,void 0,K===void 0?null:K)}function ff(C,k,B,K){var ee=Os();K=K===void 0?null:K;var oe=void 0;if(Ka!==null){var ke=Ka.memoizedState;if(oe=ke.destroy,K!==null&&zc(K,ke.deps)){ee.memoizedState=nh(k,B,oe,K);return}}vi.flags|=C,ee.memoizedState=nh(1|k,B,oe,K)}function Df(C,k){return $f(8390656,8,C,k)}function Wc(C,k){return ff(2048,8,C,k)}function Nh(C,k){return ff(4,2,C,k)}function zf(C,k){return ff(4,4,C,k)}function yl(C,k){if(typeof k=="function")return C=C(),k(C),function(){k(null)};if(k!=null)return C=C(),k.current=C,function(){k.current=null}}function wl(C,k,B){return B=B!=null?B.concat([C]):null,ff(4,4,yl.bind(null,k,C),B)}function Uf(){}function zh(C,k){var B=Os();k=k===void 0?null:k;var K=B.memoizedState;return K!==null&&k!==null&&zc(k,K[1])?K[0]:(B.memoizedState=[C,k],C)}function Zl(C,k){var B=Os();k=k===void 0?null:k;var K=B.memoizedState;return K!==null&&k!==null&&zc(k,K[1])?K[0]:(C=C(),B.memoizedState=[C,k],C)}function hf(C,k,B){return Xs&21?(R(B,k)||(B=Qf(),vi.lanes|=B,Ic|=B,C.baseState=!0),k):(C.baseState&&(C.baseState=!1,tr=!0),C.memoizedState=B)}function Cf(C,k){var B=Jn;Jn=B!==0&&4>B?B:4,C(!0);var K=jf.transition;jf.transition={};try{C(!1),k()}finally{Jn=B,jf.transition=K}}function oc(){return Os().memoizedState}function rh(C,k,B){var K=V(C);if(B={lane:K,action:B,hasEagerState:!1,eagerState:null,next:null},_o(C))Ra(k,B);else if(B=Ks(C,k,B,K),B!==null){var ee=H();Y(B,C,K,ee),jl(B,k,K)}}function _h(C,k,B){var K=V(C),ee={lane:K,action:B,hasEagerState:!1,eagerState:null,next:null};if(_o(C))Ra(k,ee);else{var oe=C.alternate;if(C.lanes===0&&(oe===null||oe.lanes===0)&&(oe=k.lastRenderedReducer,oe!==null))try{var ke=k.lastRenderedState,tt=oe(ke,B);if(ee.hasEagerState=!0,ee.eagerState=tt,R(tt,ke)){var ht=k.interleaved;ht===null?(ee.next=ee,Hu(k)):(ee.next=ht.next,ht.next=ee),k.interleaved=ee;return}}catch{}finally{}B=Ks(C,k,ee,K),B!==null&&(ee=H(),Y(B,C,K,ee),jl(B,k,K))}}function _o(C){var k=C.alternate;return C===vi||k!==null&&k===vi}function Ra(C,k){bf=bu=!0;var B=C.pending;B===null?k.next=k:(k.next=B.next,B.next=k),C.pending=k}function jl(C,k,B){if(B&4194240){var K=k.lanes;K&=C.pendingLanes,B|=K,k.lanes=B,mi(C,B)}}var ws={readContext:da,useCallback:Xu,useContext:Xu,useEffect:Xu,useImperativeHandle:Xu,useInsertionEffect:Xu,useLayoutEffect:Xu,useMemo:Xu,useReducer:Xu,useRef:Xu,useState:Xu,useDebugValue:Xu,useDeferredValue:Xu,useTransition:Xu,useMutableSource:Xu,useSyncExternalStore:Xu,useId:Xu,unstable_isNewReconciler:!1},gh={readContext:da,useCallback:function(C,k){return dc().memoizedState=[C,k===void 0?null:k],C},useContext:da,useEffect:Df,useImperativeHandle:function(C,k,B){return B=B!=null?B.concat([C]):null,$f(4194308,4,yl.bind(null,k,C),B)},useLayoutEffect:function(C,k){return $f(4194308,4,C,k)},useInsertionEffect:function(C,k){return $f(4,2,C,k)},useMemo:function(C,k){var B=dc();return k=k===void 0?null:k,C=C(),B.memoizedState=[C,k],C},useReducer:function(C,k,B){var K=dc();return k=B!==void 0?B(k):k,K.memoizedState=K.baseState=k,C={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:C,lastRenderedState:k},K.queue=C,C=C.dispatch=rh.bind(null,vi,C),[K.memoizedState,C]},useRef:function(C){var k=dc();return C={current:C},k.memoizedState=C},useState:vl,useDebugValue:Uf,useDeferredValue:function(C){return dc().memoizedState=C},useTransition:function(){var C=vl(!1),k=C[0];return C=Cf.bind(null,C[1]),dc().memoizedState=C,[k,C]},useMutableSource:function(){},useSyncExternalStore:function(C,k,B){var K=vi,ee=dc();if($i){if(B===void 0)throw Error(t(407));B=B()}else{if(B=k(),Ko===null)throw Error(t(349));Xs&30||Oh(K,k,B)}ee.memoizedState=B;var oe={value:B,getSnapshot:k};return ee.queue=oe,Df(hh.bind(null,K,oe,C),[C]),K.flags|=2048,nh(9,Lf.bind(null,K,oe,B,k),void 0,null),B},useId:function(){var C=dc(),k=Ko.identifierPrefix;if($i){var B=ml,K=Va;B=(K&~(1<<32-Mo(K)-1)).toString(32)+B,k=":"+k+"R"+B,B=cf++,0<B&&(k+="H"+B.toString(32)),k+=":"}else B=ai++,k=":"+k+"r"+B.toString(32)+":";return C.memoizedState=k},unstable_isNewReconciler:!1},vc={readContext:da,useCallback:zh,useContext:da,useEffect:Wc,useImperativeHandle:wl,useInsertionEffect:Nh,useLayoutEffect:zf,useMemo:Zl,useReducer:Uc,useRef:xu,useState:function(){return Uc(th)},useDebugValue:Uf,useDeferredValue:function(C){var k=Os();return hf(k,Ka.memoizedState,C)},useTransition:function(){var C=Uc(th)[0],k=Os().memoizedState;return[C,k]},useMutableSource:Th,useSyncExternalStore:Ih,useId:oc,unstable_isNewReconciler:!1},ef={readContext:da,useCallback:zh,useContext:da,useEffect:Wc,useImperativeHandle:wl,useInsertionEffect:Nh,useLayoutEffect:zf,useMemo:Zl,useReducer:ya,useRef:xu,useState:function(){return ya(th)},useDebugValue:Uf,useDeferredValue:function(C){var k=Os();return Ka===null?k.memoizedState=C:hf(k,Ka.memoizedState,C)},useTransition:function(){var C=ya(th)[0],k=Os().memoizedState;return[C,k]},useMutableSource:Th,useSyncExternalStore:Ih,useId:oc,unstable_isNewReconciler:!1};function Ll(C,k){if(C&&C.defaultProps){k=Ne({},k),C=C.defaultProps;for(var B in C)k[B]===void 0&&(k[B]=C[B]);return k}return k}function Kr(C,k,B,K){k=C.memoizedState,B=B(K,k),B=B==null?k:Ne({},k,B),C.memoizedState=B,C.lanes===0&&(C.updateQueue.baseState=B)}var tf={isMounted:function(C){return(C=C._reactInternals)?cu(C)===C:!1},enqueueSetState:function(C,k,B){C=C._reactInternals;var K=H(),ee=V(C),oe=kr(K,ee);oe.payload=k,B!=null&&(oe.callback=B),k=Nl(C,oe,ee),k!==null&&(Y(k,C,ee,K),br(k,C,ee))},enqueueReplaceState:function(C,k,B){C=C._reactInternals;var K=H(),ee=V(C),oe=kr(K,ee);oe.tag=1,oe.payload=k,B!=null&&(oe.callback=B),k=Nl(C,oe,ee),k!==null&&(Y(k,C,ee,K),br(k,C,ee))},enqueueForceUpdate:function(C,k){C=C._reactInternals;var B=H(),K=V(C),ee=kr(B,K);ee.tag=2,k!=null&&(ee.callback=k),k=Nl(C,ee,K),k!==null&&(Y(k,C,K,B),br(k,C,K))}};function Bh(C,k,B,K,ee,oe,ke){return C=C.stateNode,typeof C.shouldComponentUpdate=="function"?C.shouldComponentUpdate(K,oe,ke):k.prototype&&k.prototype.isPureReactComponent?!is(B,K)||!is(ee,oe):!0}function To(C,k,B){var K=!1,ee=xn,oe=k.contextType;return typeof oe=="object"&&oe!==null?oe=da(oe):(ee=Ia(k)?So:hr.current,K=k.contextTypes,oe=(K=K!=null)?nu(C,ee):xn),k=new k(B,oe),C.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=tf,C.stateNode=k,k._reactInternals=C,K&&(C=C.stateNode,C.__reactInternalMemoizedUnmaskedChildContext=ee,C.__reactInternalMemoizedMaskedChildContext=oe),k}function dt(C,k,B,K){C=k.state,typeof k.componentWillReceiveProps=="function"&&k.componentWillReceiveProps(B,K),typeof k.UNSAFE_componentWillReceiveProps=="function"&&k.UNSAFE_componentWillReceiveProps(B,K),k.state!==C&&tf.enqueueReplaceState(k,k.state,null)}function ih(C,k,B,K){var ee=C.stateNode;ee.props=B,ee.state=C.memoizedState,ee.refs={},Gt(C);var oe=k.contextType;typeof oe=="object"&&oe!==null?ee.context=da(oe):(oe=Ia(k)?So:hr.current,ee.context=nu(C,oe)),ee.state=C.memoizedState,oe=k.getDerivedStateFromProps,typeof oe=="function"&&(Kr(C,k,oe,B),ee.state=C.memoizedState),typeof k.getDerivedStateFromProps=="function"||typeof ee.getSnapshotBeforeUpdate=="function"||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(k=ee.state,typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount(),k!==ee.state&&tf.enqueueReplaceState(ee,ee.state,null),Ys(C,B,ee,K),ee.state=C.memoizedState),typeof ee.componentDidMount=="function"&&(C.flags|=4194308)}function $n(C,k){try{var B="",K=k;do B+=Dt(K),K=K.return;while(K);var ee=B}catch(oe){ee=`
Error generating stack: `+oe.message+`
`+oe.stack}return{value:C,source:k,stack:ee,digest:null}}function Dn(C,k,B){return{value:C,source:null,stack:B??null,digest:k??null}}function $o(C,k){try{console.error(k.value)}catch(B){setTimeout(function(){throw B})}}var wa=typeof WeakMap=="function"?WeakMap:Map;function Nr(C,k,B){B=kr(-1,B),B.tag=3,B.payload={element:null};var K=k.value;return B.callback=function(){I||(I=!0,U=K),$o(C,k)},B}function mo(C,k,B){B=kr(-1,B),B.tag=3;var K=C.type.getDerivedStateFromError;if(typeof K=="function"){var ee=k.value;B.payload=function(){return K(ee)},B.callback=function(){$o(C,k)}}var oe=C.stateNode;return oe!==null&&typeof oe.componentDidCatch=="function"&&(B.callback=function(){$o(C,k),typeof K!="function"&&(D===null?D=new Set([this]):D.add(this));var ke=k.stack;this.componentDidCatch(k.value,{componentStack:ke!==null?ke:""})}),B}function Eo(C,k,B){var K=C.pingCache;if(K===null){K=C.pingCache=new wa;var ee=new Set;K.set(k,ee)}else ee=K.get(k),ee===void 0&&(ee=new Set,K.set(k,ee));ee.has(B)||(ee.add(B),C=Ga.bind(null,C,k,B),k.then(C,C))}function zt(C){do{var k;if((k=C.tag===13)&&(k=C.memoizedState,k=k!==null?k.dehydrated!==null:!0),k)return C;C=C.return}while(C!==null);return null}function on(C,k,B,K,ee){return C.mode&1?(C.flags|=65536,C.lanes=ee,C):(C===k?C.flags|=65536:(C.flags|=128,B.flags|=131072,B.flags&=-52805,B.tag===1&&(B.alternate===null?B.tag=17:(k=kr(-1,1),k.tag=2,Nl(B,k,1))),B.lanes|=1),C)}var Wt=W.ReactCurrentOwner,tr=!1;function _r(C,k,B,K){k.child=C===null?Ba(k,null,B,K):qo(k,C.child,B,K)}function us(C,k,B,K,ee){B=B.render;var oe=k.ref;return ar(k,ee),K=eh(C,k,B,K,oe,ee),B=Rl(),C!==null&&!tr?(k.updateQueue=C.updateQueue,k.flags&=-2053,C.lanes&=~ee,Dr(C,k,ee)):($i&&B&&Vo(k),k.flags|=1,_r(C,k,K,ee),k.child)}function Fi(C,k,B,K,ee){if(C===null){var oe=B.type;return typeof oe=="function"&&!T(oe)&&oe.defaultProps===void 0&&B.compare===null&&B.defaultProps===void 0?(k.tag=15,k.type=oe,Ii(C,k,oe,K,ee)):(C=X(B.type,null,K,k,k.mode,ee),C.ref=k.ref,C.return=k,k.child=C)}if(oe=C.child,!(C.lanes&ee)){var ke=oe.memoizedProps;if(B=B.compare,B=B!==null?B:is,B(ke,K)&&C.ref===k.ref)return Dr(C,k,ee)}return k.flags|=1,C=q(oe,K),C.ref=k.ref,C.return=k,k.child=C}function Ii(C,k,B,K,ee){if(C!==null){var oe=C.memoizedProps;if(is(oe,K)&&C.ref===k.ref)if(tr=!1,k.pendingProps=K=oe,(C.lanes&ee)!==0)C.flags&131072&&(tr=!0);else return k.lanes=C.lanes,Dr(C,k,ee)}return sn(C,k,B,K,ee)}function Ao(C,k,B){var K=k.pendingProps,ee=K.children,oe=C!==null?C.memoizedState:null;if(K.mode==="hidden")if(!(k.mode&1))k.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vr(of,fs),fs|=B;else{if(!(B&1073741824))return C=oe!==null?oe.baseLanes|B:B,k.lanes=k.childLanes=1073741824,k.memoizedState={baseLanes:C,cachePool:null,transitions:null},k.updateQueue=null,Vr(of,fs),fs|=C,null;k.memoizedState={baseLanes:0,cachePool:null,transitions:null},K=oe!==null?oe.baseLanes:B,Vr(of,fs),fs|=K}else oe!==null?(K=oe.baseLanes|B,k.memoizedState=null):K=B,Vr(of,fs),fs|=K;return _r(C,k,ee,B),k.child}function sr(C,k){var B=k.ref;(C===null&&B!==null||C!==null&&C.ref!==B)&&(k.flags|=512,k.flags|=2097152)}function sn(C,k,B,K,ee){var oe=Ia(B)?So:hr.current;return oe=nu(k,oe),ar(k,ee),B=eh(C,k,B,K,oe,ee),K=Rl(),C!==null&&!tr?(k.updateQueue=C.updateQueue,k.flags&=-2053,C.lanes&=~ee,Dr(C,k,ee)):($i&&K&&Vo(k),k.flags|=1,_r(C,k,B,ee),k.child)}function si(C,k,B,K,ee){if(Ia(B)){var oe=!0;Sr(k)}else oe=!1;if(ar(k,ee),k.stateNode===null)Ht(C,k),To(k,B,K),ih(k,B,K,ee),K=!0;else if(C===null){var ke=k.stateNode,tt=k.memoizedProps;ke.props=tt;var ht=ke.context,Rt=B.contextType;typeof Rt=="object"&&Rt!==null?Rt=da(Rt):(Rt=Ia(B)?So:hr.current,Rt=nu(k,Rt));var Mn=B.getDerivedStateFromProps,Bn=typeof Mn=="function"||typeof ke.getSnapshotBeforeUpdate=="function";Bn||typeof ke.UNSAFE_componentWillReceiveProps!="function"&&typeof ke.componentWillReceiveProps!="function"||(tt!==K||ht!==Rt)&&dt(k,ke,K,Rt),gr=!1;var En=k.memoizedState;ke.state=En,Ys(k,K,ke,ee),ht=k.memoizedState,tt!==K||En!==ht||Co.current||gr?(typeof Mn=="function"&&(Kr(k,B,Mn,K),ht=k.memoizedState),(tt=gr||Bh(k,B,tt,K,En,ht,Rt))?(Bn||typeof ke.UNSAFE_componentWillMount!="function"&&typeof ke.componentWillMount!="function"||(typeof ke.componentWillMount=="function"&&ke.componentWillMount(),typeof ke.UNSAFE_componentWillMount=="function"&&ke.UNSAFE_componentWillMount()),typeof ke.componentDidMount=="function"&&(k.flags|=4194308)):(typeof ke.componentDidMount=="function"&&(k.flags|=4194308),k.memoizedProps=K,k.memoizedState=ht),ke.props=K,ke.state=ht,ke.context=Rt,K=tt):(typeof ke.componentDidMount=="function"&&(k.flags|=4194308),K=!1)}else{ke=k.stateNode,Vn(C,k),tt=k.memoizedProps,Rt=k.type===k.elementType?tt:Ll(k.type,tt),ke.props=Rt,Bn=k.pendingProps,En=ke.context,ht=B.contextType,typeof ht=="object"&&ht!==null?ht=da(ht):(ht=Ia(B)?So:hr.current,ht=nu(k,ht));var Ur=B.getDerivedStateFromProps;(Mn=typeof Ur=="function"||typeof ke.getSnapshotBeforeUpdate=="function")||typeof ke.UNSAFE_componentWillReceiveProps!="function"&&typeof ke.componentWillReceiveProps!="function"||(tt!==Bn||En!==ht)&&dt(k,ke,K,ht),gr=!1,En=k.memoizedState,ke.state=En,Ys(k,K,ke,ee);var _i=k.memoizedState;tt!==Bn||En!==_i||Co.current||gr?(typeof Ur=="function"&&(Kr(k,B,Ur,K),_i=k.memoizedState),(Rt=gr||Bh(k,B,Rt,K,En,_i,ht)||!1)?(Mn||typeof ke.UNSAFE_componentWillUpdate!="function"&&typeof ke.componentWillUpdate!="function"||(typeof ke.componentWillUpdate=="function"&&ke.componentWillUpdate(K,_i,ht),typeof ke.UNSAFE_componentWillUpdate=="function"&&ke.UNSAFE_componentWillUpdate(K,_i,ht)),typeof ke.componentDidUpdate=="function"&&(k.flags|=4),typeof ke.getSnapshotBeforeUpdate=="function"&&(k.flags|=1024)):(typeof ke.componentDidUpdate!="function"||tt===C.memoizedProps&&En===C.memoizedState||(k.flags|=4),typeof ke.getSnapshotBeforeUpdate!="function"||tt===C.memoizedProps&&En===C.memoizedState||(k.flags|=1024),k.memoizedProps=K,k.memoizedState=_i),ke.props=K,ke.state=_i,ke.context=ht,K=Rt):(typeof ke.componentDidUpdate!="function"||tt===C.memoizedProps&&En===C.memoizedState||(k.flags|=4),typeof ke.getSnapshotBeforeUpdate!="function"||tt===C.memoizedProps&&En===C.memoizedState||(k.flags|=1024),K=!1)}return Tt(C,k,B,K,oe,ee)}function Tt(C,k,B,K,ee,oe){sr(C,k);var ke=(k.flags&128)!==0;if(!K&&!ke)return ee&&Qr(k,B,!1),Dr(C,k,oe);K=k.stateNode,Wt.current=k;var tt=ke&&typeof B.getDerivedStateFromError!="function"?null:K.render();return k.flags|=1,C!==null&&ke?(k.child=qo(k,C.child,null,oe),k.child=qo(k,null,tt,oe)):_r(C,k,tt,oe),k.memoizedState=K.state,ee&&Qr(k,B,!0),k.child}function Qu(C){var k=C.stateNode;k.pendingContext?so(C,k.pendingContext,k.pendingContext!==k.context):k.context&&so(C,k.context,!1),Js(C,k.containerInfo)}function yi(C,k,B,K,ee){return Il(),wr(ee),k.flags|=256,_r(C,k,B,K),k.child}var mt={dehydrated:null,treeContext:null,retryLane:0};function Du(C){return{baseLanes:C,cachePool:null,transitions:null}}function xr(C,k,B){var K=k.pendingProps,ee=Zn.current,oe=!1,ke=(k.flags&128)!==0,tt;if((tt=ke)||(tt=C!==null&&C.memoizedState===null?!1:(ee&2)!==0),tt?(oe=!0,k.flags&=-129):(C===null||C.memoizedState!==null)&&(ee|=1),Vr(Zn,ee&1),C===null)return qa(k),C=k.memoizedState,C!==null&&(C=C.dehydrated,C!==null)?(k.mode&1?C.data==="$!"?k.lanes=8:k.lanes=1073741824:k.lanes=1,null):(ke=K.children,C=K.fallback,oe?(K=k.mode,oe=k.child,ke={mode:"hidden",children:ke},!(K&1)&&oe!==null?(oe.childLanes=0,oe.pendingProps=ke):oe=pe(ke,K,0,null),C=le(C,K,B,null),oe.return=k,C.return=k,oe.sibling=C,k.child=oe,k.child.memoizedState=Du(B),k.memoizedState=mt,C):zo(k,ke));if(ee=C.memoizedState,ee!==null&&(tt=ee.dehydrated,tt!==null))return nf(C,k,ke,K,tt,ee,B);if(oe){oe=K.fallback,ke=k.mode,ee=C.child,tt=ee.sibling;var ht={mode:"hidden",children:K.children};return!(ke&1)&&k.child!==ee?(K=k.child,K.childLanes=0,K.pendingProps=ht,k.deletions=null):(K=q(ee,ht),K.subtreeFlags=ee.subtreeFlags&14680064),tt!==null?oe=q(tt,oe):(oe=le(oe,ke,B,null),oe.flags|=2),oe.return=k,K.return=k,K.sibling=oe,k.child=K,K=oe,oe=k.child,ke=C.child.memoizedState,ke=ke===null?Du(B):{baseLanes:ke.baseLanes|B,cachePool:null,transitions:ke.transitions},oe.memoizedState=ke,oe.childLanes=C.childLanes&~B,k.memoizedState=mt,K}return oe=C.child,C=oe.sibling,K=q(oe,{mode:"visible",children:K.children}),!(k.mode&1)&&(K.lanes=B),K.return=k,K.sibling=null,C!==null&&(B=k.deletions,B===null?(k.deletions=[C],k.flags|=16):B.push(C)),k.child=K,k.memoizedState=null,K}function zo(C,k){return k=pe({mode:"visible",children:k},C.mode,0,null),k.return=C,C.child=k}function Ot(C,k,B,K){return K!==null&&wr(K),qo(k,C.child,null,B),C=zo(k,k.pendingProps.children),C.flags|=2,k.memoizedState=null,C}function nf(C,k,B,K,ee,oe,ke){if(B)return k.flags&256?(k.flags&=-257,K=Dn(Error(t(422))),Ot(C,k,ke,K)):k.memoizedState!==null?(k.child=C.child,k.flags|=128,null):(oe=K.fallback,ee=k.mode,K=pe({mode:"visible",children:K.children},ee,0,null),oe=le(oe,ee,ke,null),oe.flags|=2,K.return=k,oe.return=k,K.sibling=oe,k.child=K,k.mode&1&&qo(k,C.child,null,ke),k.child.memoizedState=Du(ke),k.memoizedState=mt,oe);if(!(k.mode&1))return Ot(C,k,ke,null);if(ee.data==="$!"){if(K=ee.nextSibling&&ee.nextSibling.dataset,K)var tt=K.dgst;return K=tt,oe=Error(t(419)),K=Dn(oe,K,void 0),Ot(C,k,ke,K)}if(tt=(ke&C.childLanes)!==0,tr||tt){if(K=Ko,K!==null){switch(ke&-ke){case 4:ee=2;break;case 16:ee=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ee=32;break;case 536870912:ee=268435456;break;default:ee=0}ee=ee&(K.suspendedLanes|ke)?0:ee,ee!==0&&ee!==oe.retryLane&&(oe.retryLane=ee,Ut(C,ee),Y(K,C,ee,-1))}return Mt(),K=Dn(Error(t(421))),Ot(C,k,ke,K)}return ee.data==="$?"?(k.flags|=128,k.child=C.child,k=Wf.bind(null,C),ee._reactRetry=k,null):(C=oe.treeContext,Fo=Ji(ee.nextSibling),eo=k,$i=!0,to=null,C!==null&&(Kn[Oa++]=Va,Kn[Oa++]=ml,Kn[Oa++]=la,Va=C.id,ml=C.overflow,la=k),k=zo(k,K.children),k.flags|=4096,k)}function ui(C,k,B){C.lanes|=k;var K=C.alternate;K!==null&&(K.lanes|=k),Zr(C.return,k,B)}function Cu(C,k,B,K,ee){var oe=C.memoizedState;oe===null?C.memoizedState={isBackwards:k,rendering:null,renderingStartTime:0,last:K,tail:B,tailMode:ee}:(oe.isBackwards=k,oe.rendering=null,oe.renderingStartTime=0,oe.last=K,oe.tail=B,oe.tailMode=ee)}function ea(C,k,B){var K=k.pendingProps,ee=K.revealOrder,oe=K.tail;if(_r(C,k,K.children,B),K=Zn.current,K&2)K=K&1|2,k.flags|=128;else{if(C!==null&&C.flags&128)e:for(C=k.child;C!==null;){if(C.tag===13)C.memoizedState!==null&&ui(C,B,k);else if(C.tag===19)ui(C,B,k);else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===k)break e;for(;C.sibling===null;){if(C.return===null||C.return===k)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}K&=1}if(Vr(Zn,K),!(k.mode&1))k.memoizedState=null;else switch(ee){case"forwards":for(B=k.child,ee=null;B!==null;)C=B.alternate,C!==null&&Po(C)===null&&(ee=B),B=B.sibling;B=ee,B===null?(ee=k.child,k.child=null):(ee=B.sibling,B.sibling=null),Cu(k,!1,ee,B,oe);break;case"backwards":for(B=null,ee=k.child,k.child=null;ee!==null;){if(C=ee.alternate,C!==null&&Po(C)===null){k.child=ee;break}C=ee.sibling,ee.sibling=B,B=ee,ee=C}Cu(k,!0,B,null,oe);break;case"together":Cu(k,!1,null,null,void 0);break;default:k.memoizedState=null}return k.child}function Ht(C,k){!(k.mode&1)&&C!==null&&(C.alternate=null,k.alternate=null,k.flags|=2)}function Dr(C,k,B){if(C!==null&&(k.dependencies=C.dependencies),Ic|=k.lanes,!(B&k.childLanes))return null;if(C!==null&&k.child!==C.child)throw Error(t(153));if(k.child!==null){for(C=k.child,B=q(C,C.pendingProps),k.child=B,B.return=k;C.sibling!==null;)C=C.sibling,B=B.sibling=q(C,C.pendingProps),B.return=k;B.sibling=null}return k.child}function ko(C,k,B){switch(k.tag){case 3:Qu(k),Il();break;case 5:wu(k);break;case 1:Ia(k.type)&&Sr(k);break;case 4:Js(k,k.stateNode.containerInfo);break;case 10:var K=k.type._context,ee=k.memoizedProps.value;Vr(ou,K._currentValue),K._currentValue=ee;break;case 13:if(K=k.memoizedState,K!==null)return K.dehydrated!==null?(Vr(Zn,Zn.current&1),k.flags|=128,null):B&k.child.childLanes?xr(C,k,B):(Vr(Zn,Zn.current&1),C=Dr(C,k,B),C!==null?C.sibling:null);Vr(Zn,Zn.current&1);break;case 19:if(K=(B&k.childLanes)!==0,C.flags&128){if(K)return ea(C,k,B);k.flags|=128}if(ee=k.memoizedState,ee!==null&&(ee.rendering=null,ee.tail=null,ee.lastEffect=null),Vr(Zn,Zn.current),K)break;return null;case 22:case 23:return k.lanes=0,Ao(C,k,B)}return Dr(C,k,B)}var ac,zn,Vu,mh;ac=function(C,k){for(var B=k.child;B!==null;){if(B.tag===5||B.tag===6)C.appendChild(B.stateNode);else if(B.tag!==4&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===k)break;for(;B.sibling===null;){if(B.return===null||B.return===k)return;B=B.return}B.sibling.return=B.return,B=B.sibling}},zn=function(){},Vu=function(C,k,B,K){var ee=C.memoizedProps;if(ee!==K){C=k.stateNode,go(qr.current);var oe=null;switch(B){case"input":ee=fe(C,ee),K=fe(C,K),oe=[];break;case"select":ee=Ne({},ee,{value:void 0}),K=Ne({},K,{value:void 0}),oe=[];break;case"textarea":ee=ot(C,ee),K=ot(C,K),oe=[];break;default:typeof ee.onClick!="function"&&typeof K.onClick=="function"&&(C.onclick=pl)}ju(B,K);var ke;B=null;for(Rt in ee)if(!K.hasOwnProperty(Rt)&&ee.hasOwnProperty(Rt)&&ee[Rt]!=null)if(Rt==="style"){var tt=ee[Rt];for(ke in tt)tt.hasOwnProperty(ke)&&(B||(B={}),B[ke]="")}else Rt!=="dangerouslySetInnerHTML"&&Rt!=="children"&&Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&Rt!=="autoFocus"&&(i.hasOwnProperty(Rt)?oe||(oe=[]):(oe=oe||[]).push(Rt,null));for(Rt in K){var ht=K[Rt];if(tt=ee!=null?ee[Rt]:void 0,K.hasOwnProperty(Rt)&&ht!==tt&&(ht!=null||tt!=null))if(Rt==="style")if(tt){for(ke in tt)!tt.hasOwnProperty(ke)||ht&&ht.hasOwnProperty(ke)||(B||(B={}),B[ke]="");for(ke in ht)ht.hasOwnProperty(ke)&&tt[ke]!==ht[ke]&&(B||(B={}),B[ke]=ht[ke])}else B||(oe||(oe=[]),oe.push(Rt,B)),B=ht;else Rt==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,tt=tt?tt.__html:void 0,ht!=null&&tt!==ht&&(oe=oe||[]).push(Rt,ht)):Rt==="children"?typeof ht!="string"&&typeof ht!="number"||(oe=oe||[]).push(Rt,""+ht):Rt!=="suppressContentEditableWarning"&&Rt!=="suppressHydrationWarning"&&(i.hasOwnProperty(Rt)?(ht!=null&&Rt==="onScroll"&&Pn("scroll",C),oe||tt===ht||(oe=[])):(oe=oe||[]).push(Rt,ht))}B&&(oe=oe||[]).push("style",B);var Rt=oe;(k.updateQueue=Rt)&&(k.flags|=4)}},mh=function(C,k,B,K){B!==K&&(k.flags|=4)};function ls(C,k){if(!$i)switch(C.tailMode){case"hidden":k=C.tail;for(var B=null;k!==null;)k.alternate!==null&&(B=k),k=k.sibling;B===null?C.tail=null:B.sibling=null;break;case"collapsed":B=C.tail;for(var K=null;B!==null;)B.alternate!==null&&(K=B),B=B.sibling;K===null?k||C.tail===null?C.tail=null:C.tail.sibling=null:K.sibling=null}}function An(C){var k=C.alternate!==null&&C.alternate.child===C.child,B=0,K=0;if(k)for(var ee=C.child;ee!==null;)B|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags&14680064,K|=ee.flags&14680064,ee.return=C,ee=ee.sibling;else for(ee=C.child;ee!==null;)B|=ee.lanes|ee.childLanes,K|=ee.subtreeFlags,K|=ee.flags,ee.return=C,ee=ee.sibling;return C.subtreeFlags|=K,C.childLanes=B,k}function Er(C,k,B){var K=k.pendingProps;switch(Hi(k),k.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(k),null;case 1:return Ia(k.type)&&zr(),An(k),null;case 3:return K=k.stateNode,Bl(),Wr(Co),Wr(hr),mc(),K.pendingContext&&(K.context=K.pendingContext,K.pendingContext=null),(C===null||C.child===null)&&(ma(k)?k.flags|=4:C===null||C.memoizedState.isDehydrated&&!(k.flags&256)||(k.flags|=1024,to!==null&&(me(to),to=null))),zn(C,k),An(k),null;case 5:Lc(k);var ee=go(Ti.current);if(B=k.type,C!==null&&k.stateNode!=null)Vu(C,k,B,K,ee),C.ref!==k.ref&&(k.flags|=512,k.flags|=2097152);else{if(!K){if(k.stateNode===null)throw Error(t(166));return An(k),null}if(C=go(qr.current),ma(k)){K=k.stateNode,B=k.type;var oe=k.memoizedProps;switch(K[Fs]=k,K[du]=oe,C=(k.mode&1)!==0,B){case"dialog":Pn("cancel",K),Pn("close",K);break;case"iframe":case"object":case"embed":Pn("load",K);break;case"video":case"audio":for(ee=0;ee<jo.length;ee++)Pn(jo[ee],K);break;case"source":Pn("error",K);break;case"img":case"image":case"link":Pn("error",K),Pn("load",K);break;case"details":Pn("toggle",K);break;case"input":ue(K,oe),Pn("invalid",K);break;case"select":K._wrapperState={wasMultiple:!!oe.multiple},Pn("invalid",K);break;case"textarea":gt(K,oe),Pn("invalid",K)}ju(B,oe),ee=null;for(var ke in oe)if(oe.hasOwnProperty(ke)){var tt=oe[ke];ke==="children"?typeof tt=="string"?K.textContent!==tt&&(oe.suppressHydrationWarning!==!0&&Ci(K.textContent,tt,C),ee=["children",tt]):typeof tt=="number"&&K.textContent!==""+tt&&(oe.suppressHydrationWarning!==!0&&Ci(K.textContent,tt,C),ee=["children",""+tt]):i.hasOwnProperty(ke)&&tt!=null&&ke==="onScroll"&&Pn("scroll",K)}switch(B){case"input":wi(K),Re(K,oe,!0);break;case"textarea":wi(K),fn(K);break;case"select":case"option":break;default:typeof oe.onClick=="function"&&(K.onclick=pl)}K=ee,k.updateQueue=K,K!==null&&(k.flags|=4)}else{ke=ee.nodeType===9?ee:ee.ownerDocument,C==="http://www.w3.org/1999/xhtml"&&(C=kn(B)),C==="http://www.w3.org/1999/xhtml"?B==="script"?(C=ke.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild)):typeof K.is=="string"?C=ke.createElement(B,{is:K.is}):(C=ke.createElement(B),B==="select"&&(ke=C,K.multiple?ke.multiple=!0:K.size&&(ke.size=K.size))):C=ke.createElementNS(C,B),C[Fs]=k,C[du]=K,ac(C,k,!1,!1),k.stateNode=C;e:{switch(ke=eu(B,K),B){case"dialog":Pn("cancel",C),Pn("close",C),ee=K;break;case"iframe":case"object":case"embed":Pn("load",C),ee=K;break;case"video":case"audio":for(ee=0;ee<jo.length;ee++)Pn(jo[ee],C);ee=K;break;case"source":Pn("error",C),ee=K;break;case"img":case"image":case"link":Pn("error",C),Pn("load",C),ee=K;break;case"details":Pn("toggle",C),ee=K;break;case"input":ue(C,K),ee=fe(C,K),Pn("invalid",C);break;case"option":ee=K;break;case"select":C._wrapperState={wasMultiple:!!K.multiple},ee=Ne({},K,{value:void 0}),Pn("invalid",C);break;case"textarea":gt(C,K),ee=ot(C,K),Pn("invalid",C);break;default:ee=K}ju(B,ee),tt=ee;for(oe in tt)if(tt.hasOwnProperty(oe)){var ht=tt[oe];oe==="style"?Ru(C,ht):oe==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,ht!=null&&Ui(C,ht)):oe==="children"?typeof ht=="string"?(B!=="textarea"||ht!=="")&&io(C,ht):typeof ht=="number"&&io(C,""+ht):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(i.hasOwnProperty(oe)?ht!=null&&oe==="onScroll"&&Pn("scroll",C):ht!=null&&z(C,oe,ht,ke))}switch(B){case"input":wi(C),Re(C,K,!1);break;case"textarea":wi(C),fn(C);break;case"option":K.value!=null&&C.setAttribute("value",""+un(K.value));break;case"select":C.multiple=!!K.multiple,oe=K.value,oe!=null?We(C,!!K.multiple,oe,!1):K.defaultValue!=null&&We(C,!!K.multiple,K.defaultValue,!0);break;default:typeof ee.onClick=="function"&&(C.onclick=pl)}switch(B){case"button":case"input":case"select":case"textarea":K=!!K.autoFocus;break e;case"img":K=!0;break e;default:K=!1}}K&&(k.flags|=4)}k.ref!==null&&(k.flags|=512,k.flags|=2097152)}return An(k),null;case 6:if(C&&k.stateNode!=null)mh(C,k,C.memoizedProps,K);else{if(typeof K!="string"&&k.stateNode===null)throw Error(t(166));if(B=go(Ti.current),go(qr.current),ma(k)){if(K=k.stateNode,B=k.memoizedProps,K[Fs]=k,(oe=K.nodeValue!==B)&&(C=eo,C!==null))switch(C.tag){case 3:Ci(K.nodeValue,B,(C.mode&1)!==0);break;case 5:C.memoizedProps.suppressHydrationWarning!==!0&&Ci(K.nodeValue,B,(C.mode&1)!==0)}oe&&(k.flags|=4)}else K=(B.nodeType===9?B:B.ownerDocument).createTextNode(K),K[Fs]=k,k.stateNode=K}return An(k),null;case 13:if(Wr(Zn),K=k.memoizedState,C===null||C.memoizedState!==null&&C.memoizedState.dehydrated!==null){if($i&&Fo!==null&&k.mode&1&&!(k.flags&128))gc(),Il(),k.flags|=98560,oe=!1;else if(oe=ma(k),K!==null&&K.dehydrated!==null){if(C===null){if(!oe)throw Error(t(318));if(oe=k.memoizedState,oe=oe!==null?oe.dehydrated:null,!oe)throw Error(t(317));oe[Fs]=k}else Il(),!(k.flags&128)&&(k.memoizedState=null),k.flags|=4;An(k),oe=!1}else to!==null&&(me(to),to=null),oe=!0;if(!oe)return k.flags&65536?k:null}return k.flags&128?(k.lanes=B,k):(K=K!==null,K!==(C!==null&&C.memoizedState!==null)&&K&&(k.child.flags|=8192,k.mode&1&&(C===null||Zn.current&1?au===0&&(au=3):Mt())),k.updateQueue!==null&&(k.flags|=4),An(k),null);case 4:return Bl(),zn(C,k),C===null&&di(k.stateNode.containerInfo),An(k),null;case 10:return Ol(k.type._context),An(k),null;case 17:return Ia(k.type)&&zr(),An(k),null;case 19:if(Wr(Zn),oe=k.memoizedState,oe===null)return An(k),null;if(K=(k.flags&128)!==0,ke=oe.rendering,ke===null)if(K)ls(oe,!1);else{if(au!==0||C!==null&&C.flags&128)for(C=k.child;C!==null;){if(ke=Po(C),ke!==null){for(k.flags|=128,ls(oe,!1),K=ke.updateQueue,K!==null&&(k.updateQueue=K,k.flags|=4),k.subtreeFlags=0,K=B,B=k.child;B!==null;)oe=B,C=K,oe.flags&=14680066,ke=oe.alternate,ke===null?(oe.childLanes=0,oe.lanes=C,oe.child=null,oe.subtreeFlags=0,oe.memoizedProps=null,oe.memoizedState=null,oe.updateQueue=null,oe.dependencies=null,oe.stateNode=null):(oe.childLanes=ke.childLanes,oe.lanes=ke.lanes,oe.child=ke.child,oe.subtreeFlags=0,oe.deletions=null,oe.memoizedProps=ke.memoizedProps,oe.memoizedState=ke.memoizedState,oe.updateQueue=ke.updateQueue,oe.type=ke.type,C=ke.dependencies,oe.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),B=B.sibling;return Vr(Zn,Zn.current&1|2),k.child}C=C.sibling}oe.tail!==null&&No()>w&&(k.flags|=128,K=!0,ls(oe,!1),k.lanes=4194304)}else{if(!K)if(C=Po(ke),C!==null){if(k.flags|=128,K=!0,B=C.updateQueue,B!==null&&(k.updateQueue=B,k.flags|=4),ls(oe,!0),oe.tail===null&&oe.tailMode==="hidden"&&!ke.alternate&&!$i)return An(k),null}else 2*No()-oe.renderingStartTime>w&&B!==1073741824&&(k.flags|=128,K=!0,ls(oe,!1),k.lanes=4194304);oe.isBackwards?(ke.sibling=k.child,k.child=ke):(B=oe.last,B!==null?B.sibling=ke:k.child=ke,oe.last=ke)}return oe.tail!==null?(k=oe.tail,oe.rendering=k,oe.tail=k.sibling,oe.renderingStartTime=No(),k.sibling=null,B=Zn.current,Vr(Zn,K?B&1|2:B&1),k):(An(k),null);case 22:case 23:return Xe(),K=k.memoizedState!==null,C!==null&&C.memoizedState!==null!==K&&(k.flags|=8192),K&&k.mode&1?fs&1073741824&&(An(k),k.subtreeFlags&6&&(k.flags|=8192)):An(k),null;case 24:return null;case 25:return null}throw Error(t(156,k.tag))}function Eh(C,k){switch(Hi(k),k.tag){case 1:return Ia(k.type)&&zr(),C=k.flags,C&65536?(k.flags=C&-65537|128,k):null;case 3:return Bl(),Wr(Co),Wr(hr),mc(),C=k.flags,C&65536&&!(C&128)?(k.flags=C&-65537|128,k):null;case 5:return Lc(k),null;case 13:if(Wr(Zn),C=k.memoizedState,C!==null&&C.dehydrated!==null){if(k.alternate===null)throw Error(t(340));Il()}return C=k.flags,C&65536?(k.flags=C&-65537|128,k):null;case 19:return Wr(Zn),null;case 4:return Bl(),null;case 10:return Ol(k.type._context),null;case 22:case 23:return Xe(),null;case 24:return null;default:return null}}var pf=!1,Su=!1,oh=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function ja(C,k){var B=C.ref;if(B!==null)if(typeof B=="function")try{B(null)}catch(K){fr(C,k,K)}else B.current=null}function rf(C,k,B){try{B()}catch(K){fr(C,k,K)}}var On=!1;function Sn(C,k){if(Au=ql,C=Ae(),$r(C)){if("selectionStart"in C)var B={start:C.selectionStart,end:C.selectionEnd};else e:{B=(B=C.ownerDocument)&&B.defaultView||window;var K=B.getSelection&&B.getSelection();if(K&&K.rangeCount!==0){B=K.anchorNode;var ee=K.anchorOffset,oe=K.focusNode;K=K.focusOffset;try{B.nodeType,oe.nodeType}catch{B=null;break e}var ke=0,tt=-1,ht=-1,Rt=0,Mn=0,Bn=C,En=null;t:for(;;){for(var Ur;Bn!==B||ee!==0&&Bn.nodeType!==3||(tt=ke+ee),Bn!==oe||K!==0&&Bn.nodeType!==3||(ht=ke+K),Bn.nodeType===3&&(ke+=Bn.nodeValue.length),(Ur=Bn.firstChild)!==null;)En=Bn,Bn=Ur;for(;;){if(Bn===C)break t;if(En===B&&++Rt===ee&&(tt=ke),En===oe&&++Mn===K&&(ht=ke),(Ur=Bn.nextSibling)!==null)break;Bn=En,En=Bn.parentNode}Bn=Ur}B=tt===-1||ht===-1?null:{start:tt,end:ht}}else B=null}B=B||{start:0,end:0}}else B=null;for(ds={focusedElem:C,selectionRange:B},ql=!1,Cn=k;Cn!==null;)if(k=Cn,C=k.child,(k.subtreeFlags&1028)!==0&&C!==null)C.return=k,Cn=C;else for(;Cn!==null;){k=Cn;try{var _i=k.alternate;if(k.flags&1024)switch(k.tag){case 0:case 11:case 15:break;case 1:if(_i!==null){var Oi=_i.memoizedProps,Uh=_i.memoizedState,kt=k.stateNode,vt=kt.getSnapshotBeforeUpdate(k.elementType===k.type?Oi:Ll(k.type,Oi),Uh);kt.__reactInternalSnapshotBeforeUpdate=vt}break;case 3:var Pt=k.stateNode.containerInfo;Pt.nodeType===1?Pt.textContent="":Pt.nodeType===9&&Pt.documentElement&&Pt.removeChild(Pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(qn){fr(k,k.return,qn)}if(C=k.sibling,C!==null){C.return=k.return,Cn=C;break}Cn=k.return}return _i=On,On=!1,_i}function zi(C,k,B){var K=k.updateQueue;if(K=K!==null?K.lastEffect:null,K!==null){var ee=K=K.next;do{if((ee.tag&C)===C){var oe=ee.destroy;ee.destroy=void 0,oe!==void 0&&rf(k,B,oe)}ee=ee.next}while(ee!==K)}}function ei(C,k){if(k=k.updateQueue,k=k!==null?k.lastEffect:null,k!==null){var B=k=k.next;do{if((B.tag&C)===C){var K=B.create;B.destroy=K()}B=B.next}while(B!==k)}}function Io(C){var k=C.ref;if(k!==null){var B=C.stateNode;switch(C.tag){case 5:C=B;break;default:C=B}typeof k=="function"?k(C):k.current=C}}function cs(C){var k=C.alternate;k!==null&&(C.alternate=null,cs(k)),C.child=null,C.deletions=null,C.sibling=null,C.tag===5&&(k=C.stateNode,k!==null&&(delete k[Fs],delete k[du],delete k[vs],delete k[Zc],delete k[Vs])),C.stateNode=null,C.return=null,C.dependencies=null,C.memoizedProps=null,C.memoizedState=null,C.pendingProps=null,C.stateNode=null,C.updateQueue=null}function Zu(C){return C.tag===5||C.tag===3||C.tag===4}function ro(C){e:for(;;){for(;C.sibling===null;){if(C.return===null||Zu(C.return))return null;C=C.return}for(C.sibling.return=C.return,C=C.sibling;C.tag!==5&&C.tag!==6&&C.tag!==18;){if(C.flags&2||C.child===null||C.tag===4)continue e;C.child.return=C,C=C.child}if(!(C.flags&2))return C.stateNode}}function yc(C,k,B){var K=C.tag;if(K===5||K===6)C=C.stateNode,k?B.nodeType===8?B.parentNode.insertBefore(C,k):B.insertBefore(C,k):(B.nodeType===8?(k=B.parentNode,k.insertBefore(C,B)):(k=B,k.appendChild(C)),B=B._reactRootContainer,B!=null||k.onclick!==null||(k.onclick=pl));else if(K!==4&&(C=C.child,C!==null))for(yc(C,k,B),C=C.sibling;C!==null;)yc(C,k,B),C=C.sibling}function bs(C,k,B){var K=C.tag;if(K===5||K===6)C=C.stateNode,k?B.insertBefore(C,k):B.appendChild(C);else if(K!==4&&(C=C.child,C!==null))for(bs(C,k,B),C=C.sibling;C!==null;)bs(C,k,B),C=C.sibling}var ba=null,Pu=!1;function _u(C,k,B){for(B=B.child;B!==null;)xs(C,k,B),B=B.sibling}function xs(C,k,B){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Nf,B)}catch{}switch(B.tag){case 5:Su||ja(B,k);case 6:var K=ba,ee=Pu;ba=null,_u(C,k,B),ba=K,Pu=ee,ba!==null&&(Pu?(C=ba,B=B.stateNode,C.nodeType===8?C.parentNode.removeChild(B):C.removeChild(B)):ba.removeChild(B.stateNode));break;case 18:ba!==null&&(Pu?(C=ba,B=B.stateNode,C.nodeType===8?ku(C.parentNode,B):C.nodeType===1&&ku(C,B),ga(C)):ku(ba,B.stateNode));break;case 4:K=ba,ee=Pu,ba=B.stateNode.containerInfo,Pu=!0,_u(C,k,B),ba=K,Pu=ee;break;case 0:case 11:case 14:case 15:if(!Su&&(K=B.updateQueue,K!==null&&(K=K.lastEffect,K!==null))){ee=K=K.next;do{var oe=ee,ke=oe.destroy;oe=oe.tag,ke!==void 0&&(oe&2||oe&4)&&rf(B,k,ke),ee=ee.next}while(ee!==K)}_u(C,k,B);break;case 1:if(!Su&&(ja(B,k),K=B.stateNode,typeof K.componentWillUnmount=="function"))try{K.props=B.memoizedProps,K.state=B.memoizedState,K.componentWillUnmount()}catch(tt){fr(B,k,tt)}_u(C,k,B);break;case 21:_u(C,k,B);break;case 22:B.mode&1?(Su=(K=Su)||B.memoizedState!==null,_u(C,k,B),Su=K):_u(C,k,B);break;default:_u(C,k,B)}}function wc(C){var k=C.updateQueue;if(k!==null){C.updateQueue=null;var B=C.stateNode;B===null&&(B=C.stateNode=new oh),k.forEach(function(K){var ee=tp.bind(null,C,K);B.has(K)||(B.add(K),K.then(ee,ee))})}}function Tu(C,k){var B=k.deletions;if(B!==null)for(var K=0;K<B.length;K++){var ee=B[K];try{var oe=C,ke=k,tt=ke;e:for(;tt!==null;){switch(tt.tag){case 5:ba=tt.stateNode,Pu=!1;break e;case 3:ba=tt.stateNode.containerInfo,Pu=!0;break e;case 4:ba=tt.stateNode.containerInfo,Pu=!0;break e}tt=tt.return}if(ba===null)throw Error(t(160));xs(oe,ke,ee),ba=null,Pu=!1;var ht=ee.alternate;ht!==null&&(ht.return=null),ee.return=null}catch(Rt){fr(ee,k,Rt)}}if(k.subtreeFlags&12854)for(k=k.child;k!==null;)bl(k,C),k=k.sibling}function bl(C,k){var B=C.alternate,K=C.flags;switch(C.tag){case 0:case 11:case 14:case 15:if(Tu(k,C),Yn(C),K&4){try{zi(3,C,C.return),ei(3,C)}catch(Oi){fr(C,C.return,Oi)}try{zi(5,C,C.return)}catch(Oi){fr(C,C.return,Oi)}}break;case 1:Tu(k,C),Yn(C),K&512&&B!==null&&ja(B,B.return);break;case 5:if(Tu(k,C),Yn(C),K&512&&B!==null&&ja(B,B.return),C.flags&32){var ee=C.stateNode;try{io(ee,"")}catch(Oi){fr(C,C.return,Oi)}}if(K&4&&(ee=C.stateNode,ee!=null)){var oe=C.memoizedProps,ke=B!==null?B.memoizedProps:oe,tt=C.type,ht=C.updateQueue;if(C.updateQueue=null,ht!==null)try{tt==="input"&&oe.type==="radio"&&oe.name!=null&&ve(ee,oe),eu(tt,ke);var Rt=eu(tt,oe);for(ke=0;ke<ht.length;ke+=2){var Mn=ht[ke],Bn=ht[ke+1];Mn==="style"?Ru(ee,Bn):Mn==="dangerouslySetInnerHTML"?Ui(ee,Bn):Mn==="children"?io(ee,Bn):z(ee,Mn,Bn,Rt)}switch(tt){case"input":Se(ee,oe);break;case"textarea":bt(ee,oe);break;case"select":var En=ee._wrapperState.wasMultiple;ee._wrapperState.wasMultiple=!!oe.multiple;var Ur=oe.value;Ur!=null?We(ee,!!oe.multiple,Ur,!1):En!==!!oe.multiple&&(oe.defaultValue!=null?We(ee,!!oe.multiple,oe.defaultValue,!0):We(ee,!!oe.multiple,oe.multiple?[]:"",!1))}ee[du]=oe}catch(Oi){fr(C,C.return,Oi)}}break;case 6:if(Tu(k,C),Yn(C),K&4){if(C.stateNode===null)throw Error(t(162));ee=C.stateNode,oe=C.memoizedProps;try{ee.nodeValue=oe}catch(Oi){fr(C,C.return,Oi)}}break;case 3:if(Tu(k,C),Yn(C),K&4&&B!==null&&B.memoizedState.isDehydrated)try{ga(k.containerInfo)}catch(Oi){fr(C,C.return,Oi)}break;case 4:Tu(k,C),Yn(C);break;case 13:Tu(k,C),Yn(C),ee=C.child,ee.flags&8192&&(oe=ee.memoizedState!==null,ee.stateNode.isHidden=oe,!oe||ee.alternate!==null&&ee.alternate.memoizedState!==null||(l=No())),K&4&&wc(C);break;case 22:if(Mn=B!==null&&B.memoizedState!==null,C.mode&1?(Su=(Rt=Su)||Mn,Tu(k,C),Su=Rt):Tu(k,C),Yn(C),K&8192){if(Rt=C.memoizedState!==null,(C.stateNode.isHidden=Rt)&&!Mn&&C.mode&1)for(Cn=C,Mn=C.child;Mn!==null;){for(Bn=Cn=Mn;Cn!==null;){switch(En=Cn,Ur=En.child,En.tag){case 0:case 11:case 14:case 15:zi(4,En,En.return);break;case 1:ja(En,En.return);var _i=En.stateNode;if(typeof _i.componentWillUnmount=="function"){K=En,B=En.return;try{k=K,_i.props=k.memoizedProps,_i.state=k.memoizedState,_i.componentWillUnmount()}catch(Oi){fr(K,B,Oi)}}break;case 5:ja(En,En.return);break;case 22:if(En.memoizedState!==null){Ds(Bn);continue}}Ur!==null?(Ur.return=En,Cn=Ur):Ds(Bn)}Mn=Mn.sibling}e:for(Mn=null,Bn=C;;){if(Bn.tag===5){if(Mn===null){Mn=Bn;try{ee=Bn.stateNode,Rt?(oe=ee.style,typeof oe.setProperty=="function"?oe.setProperty("display","none","important"):oe.display="none"):(tt=Bn.stateNode,ht=Bn.memoizedProps.style,ke=ht!=null&&ht.hasOwnProperty("display")?ht.display:null,tt.style.display=Oo("display",ke))}catch(Oi){fr(C,C.return,Oi)}}}else if(Bn.tag===6){if(Mn===null)try{Bn.stateNode.nodeValue=Rt?"":Bn.memoizedProps}catch(Oi){fr(C,C.return,Oi)}}else if((Bn.tag!==22&&Bn.tag!==23||Bn.memoizedState===null||Bn===C)&&Bn.child!==null){Bn.child.return=Bn,Bn=Bn.child;continue}if(Bn===C)break e;for(;Bn.sibling===null;){if(Bn.return===null||Bn.return===C)break e;Mn===Bn&&(Mn=null),Bn=Bn.return}Mn===Bn&&(Mn=null),Bn.sibling.return=Bn.return,Bn=Bn.sibling}}break;case 19:Tu(k,C),Yn(C),K&4&&wc(C);break;case 21:break;default:Tu(k,C),Yn(C)}}function Yn(C){var k=C.flags;if(k&2){try{e:{for(var B=C.return;B!==null;){if(Zu(B)){var K=B;break e}B=B.return}throw Error(t(160))}switch(K.tag){case 5:var ee=K.stateNode;K.flags&32&&(io(ee,""),K.flags&=-33);var oe=ro(C);bs(C,oe,ee);break;case 3:case 4:var ke=K.stateNode.containerInfo,tt=ro(C);yc(C,tt,ke);break;default:throw Error(t(161))}}catch(ht){fr(C,C.return,ht)}C.flags&=-3}k&4096&&(C.flags&=-4097)}function bc(C,k,B){Cn=C,qu(C)}function qu(C,k,B){for(var K=(C.mode&1)!==0;Cn!==null;){var ee=Cn,oe=ee.child;if(ee.tag===22&&K){var ke=ee.memoizedState!==null||pf;if(!ke){var tt=ee.alternate,ht=tt!==null&&tt.memoizedState!==null||Su;tt=pf;var Rt=Su;if(pf=ke,(Su=ht)&&!Rt)for(Cn=ee;Cn!==null;)ke=Cn,ht=ke.child,ke.tag===22&&ke.memoizedState!==null?ec(ee):ht!==null?(ht.return=ke,Cn=ht):ec(ee);for(;oe!==null;)Cn=oe,qu(oe),oe=oe.sibling;Cn=ee,pf=tt,Su=Rt}Hc(C)}else ee.subtreeFlags&8772&&oe!==null?(oe.return=ee,Cn=oe):Hc(C)}}function Hc(C){for(;Cn!==null;){var k=Cn;if(k.flags&8772){var B=k.alternate;try{if(k.flags&8772)switch(k.tag){case 0:case 11:case 15:Su||ei(5,k);break;case 1:var K=k.stateNode;if(k.flags&4&&!Su)if(B===null)K.componentDidMount();else{var ee=k.elementType===k.type?B.memoizedProps:Ll(k.type,B.memoizedProps);K.componentDidUpdate(ee,B.memoizedState,K.__reactInternalSnapshotBeforeUpdate)}var oe=k.updateQueue;oe!==null&&po(k,oe,K);break;case 3:var ke=k.updateQueue;if(ke!==null){if(B=null,k.child!==null)switch(k.child.tag){case 5:B=k.child.stateNode;break;case 1:B=k.child.stateNode}po(k,ke,B)}break;case 5:var tt=k.stateNode;if(B===null&&k.flags&4){B=tt;var ht=k.memoizedProps;switch(k.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&B.focus();break;case"img":ht.src&&(B.src=ht.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(k.memoizedState===null){var Rt=k.alternate;if(Rt!==null){var Mn=Rt.memoizedState;if(Mn!==null){var Bn=Mn.dehydrated;Bn!==null&&ga(Bn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Su||k.flags&512&&Io(k)}catch(En){fr(k,k.return,En)}}if(k===C){Cn=null;break}if(B=k.sibling,B!==null){B.return=k.return,Cn=B;break}Cn=k.return}}function Ds(C){for(;Cn!==null;){var k=Cn;if(k===C){Cn=null;break}var B=k.sibling;if(B!==null){B.return=k.return,Cn=B;break}Cn=k.return}}function ec(C){for(;Cn!==null;){var k=Cn;try{switch(k.tag){case 0:case 11:case 15:var B=k.return;try{ei(4,k)}catch(ht){fr(k,B,ht)}break;case 1:var K=k.stateNode;if(typeof K.componentDidMount=="function"){var ee=k.return;try{K.componentDidMount()}catch(ht){fr(k,ee,ht)}}var oe=k.return;try{Io(k)}catch(ht){fr(k,oe,ht)}break;case 5:var ke=k.return;try{Io(k)}catch(ht){fr(k,ke,ht)}}}catch(ht){fr(k,k.return,ht)}if(k===C){Cn=null;break}var tt=k.sibling;if(tt!==null){tt.return=k.return,Cn=tt;break}Cn=k.return}}var Cs=Math.ceil,gf=W.ReactCurrentDispatcher,Sf=W.ReactCurrentOwner,li=W.ReactCurrentBatchConfig,er=0,Ko=null,ci=null,Ir=0,fs=0,of=ao(0),au=0,el=null,Ic=0,mf=0,$l=0,Oc=null,a=null,l=0,w=1/0,A=null,I=!1,U=null,D=null,E=!1,N=null,v=0,m=0,x=null,P=-1,L=0;function H(){return er&6?No():P!==-1?P:P=No()}function V(C){return C.mode&1?er&2&&Ir!==0?Ir&-Ir:ys.transition!==null?(L===0&&(L=Qf()),L):(C=Jn,C!==0||(C=window.event,C=C===void 0?16:ts(C.type)),C):1}function Y(C,k,B,K){if(50<m)throw m=0,x=null,Error(t(185));Nc(C,B,K),(!(er&2)||C!==Ko)&&(C===Ko&&(!(er&2)&&(mf|=B),au===4&&we(C,Ir)),re(C,K),B===1&&er===0&&!(k.mode&1)&&(w=No()+500,Zi&&ru()))}function re(C,k){var B=C.callbackNode;cc(C,k);var K=Xo(C,C===Ko?Ir:0);if(K===0)B!==null&&na(B),C.callbackNode=null,C.callbackPriority=0;else if(k=K&-K,C.callbackPriority!==k){if(B!=null&&na(B),k===1)C.tag===0?Mu(Te.bind(null,C)):jc(Te.bind(null,C)),Mi(function(){!(er&6)&&ru()}),B=null;else{switch(ri(K)){case 1:B=jt;break;case 4:B=fu;break;case 16:B=Ph;break;case 536870912:B=Bo;break;default:B=Ph}B=h(B,ne.bind(null,C))}C.callbackPriority=k,C.callbackNode=B}}function ne(C,k){if(P=-1,L=0,er&6)throw Error(t(327));var B=C.callbackNode;if(Gn()&&C.callbackNode!==B)return null;var K=Xo(C,C===Ko?Ir:0);if(K===0)return null;if(K&30||K&C.expiredLanes||k)k=en(C,K);else{k=K;var ee=er;er|=2;var oe=St();(Ko!==C||Ir!==k)&&(A=null,w=No()+500,Ye(C,k));do try{It();break}catch(tt){rt(C,tt)}while(!0);ss(),gf.current=oe,er=ee,ci!==null?k=0:(Ko=null,Ir=0,k=au)}if(k!==0){if(k===2&&(ee=Rn(C),ee!==0&&(K=ee,k=ce(C,ee))),k===1)throw B=el,Ye(C,0),we(C,K),re(C,No()),B;if(k===6)we(C,K);else{if(ee=C.current.alternate,!(K&30)&&!be(ee)&&(k=en(C,K),k===2&&(oe=Rn(C),oe!==0&&(K=oe,k=ce(C,oe))),k===1))throw B=el,Ye(C,0),we(C,K),re(C,No()),B;switch(C.finishedWork=ee,C.finishedLanes=K,k){case 0:case 1:throw Error(t(345));case 2:cr(C,a,A);break;case 3:if(we(C,K),(K&130023424)===K&&(k=l+500-No(),10<k)){if(Xo(C,0)!==0)break;if(ee=C.suspendedLanes,(ee&K)!==K){H(),C.pingedLanes|=C.suspendedLanes&ee;break}C.timeoutHandle=Qn(cr.bind(null,C,a,A),k);break}cr(C,a,A);break;case 4:if(we(C,K),(K&4194240)===K)break;for(k=C.eventTimes,ee=-1;0<K;){var ke=31-Mo(K);oe=1<<ke,ke=k[ke],ke>ee&&(ee=ke),K&=~oe}if(K=ee,K=No()-K,K=(120>K?120:480>K?480:1080>K?1080:1920>K?1920:3e3>K?3e3:4320>K?4320:1960*Cs(K/1960))-K,10<K){C.timeoutHandle=Qn(cr.bind(null,C,a,A),K);break}cr(C,a,A);break;case 5:cr(C,a,A);break;default:throw Error(t(329))}}}return re(C,No()),C.callbackNode===B?ne.bind(null,C):null}function ce(C,k){var B=Oc;return C.current.memoizedState.isDehydrated&&(Ye(C,k).flags|=256),C=en(C,k),C!==2&&(k=a,a=B,k!==null&&me(k)),C}function me(C){a===null?a=C:a.push.apply(a,C)}function be(C){for(var k=C;;){if(k.flags&16384){var B=k.updateQueue;if(B!==null&&(B=B.stores,B!==null))for(var K=0;K<B.length;K++){var ee=B[K],oe=ee.getSnapshot;ee=ee.value;try{if(!R(oe(),ee))return!1}catch{return!1}}}if(B=k.child,k.subtreeFlags&16384&&B!==null)B.return=k,k=B;else{if(k===C)break;for(;k.sibling===null;){if(k.return===null||k.return===C)return!0;k=k.return}k.sibling.return=k.return,k=k.sibling}}return!0}function we(C,k){for(k&=~$l,k&=~mf,C.suspendedLanes|=k,C.pingedLanes&=~k,C=C.expirationTimes;0<k;){var B=31-Mo(k),K=1<<B;C[B]=-1,k&=~K}}function Te(C){if(er&6)throw Error(t(327));Gn();var k=Xo(C,0);if(!(k&1))return re(C,No()),null;var B=en(C,k);if(C.tag!==0&&B===2){var K=Rn(C);K!==0&&(k=K,B=ce(C,K))}if(B===1)throw B=el,Ye(C,0),we(C,k),re(C,No()),B;if(B===6)throw Error(t(345));return C.finishedWork=C.current.alternate,C.finishedLanes=k,cr(C,a,A),re(C,No()),null}function Ge(C,k){var B=er;er|=1;try{return C(k)}finally{er=B,er===0&&(w=No()+500,Zi&&ru())}}function Ie(C){N!==null&&N.tag===0&&!(er&6)&&Gn();var k=er;er|=1;var B=li.transition,K=Jn;try{if(li.transition=null,Jn=1,C)return C()}finally{Jn=K,li.transition=B,er=k,!(er&6)&&ru()}}function Xe(){fs=of.current,Wr(of)}function Ye(C,k){C.finishedWork=null,C.finishedLanes=0;var B=C.timeoutHandle;if(B!==-1&&(C.timeoutHandle=-1,mu(B)),ci!==null)for(B=ci.return;B!==null;){var K=B;switch(Hi(K),K.tag){case 1:K=K.type.childContextTypes,K!=null&&zr();break;case 3:Bl(),Wr(Co),Wr(hr),mc();break;case 5:Lc(K);break;case 4:Bl();break;case 13:Wr(Zn);break;case 19:Wr(Zn);break;case 10:Ol(K.type._context);break;case 22:case 23:Xe()}B=B.return}if(Ko=C,ci=C=q(C.current,null),Ir=fs=k,au=0,el=null,$l=mf=Ic=0,a=Oc=null,Lt!==null){for(k=0;k<Lt.length;k++)if(B=Lt[k],K=B.interleaved,K!==null){B.interleaved=null;var ee=K.next,oe=B.pending;if(oe!==null){var ke=oe.next;oe.next=ee,K.next=ke}B.pending=K}Lt=null}return C}function rt(C,k){do{var B=ci;try{if(ss(),Tc.current=ws,bu){for(var K=vi.memoizedState;K!==null;){var ee=K.queue;ee!==null&&(ee.pending=null),K=K.next}bu=!1}if(Xs=0,Si=Ka=vi=null,bf=!1,cf=0,Sf.current=null,B===null||B.return===null){au=1,el=k,ci=null;break}e:{var oe=C,ke=B.return,tt=B,ht=k;if(k=Ir,tt.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var Rt=ht,Mn=tt,Bn=Mn.tag;if(!(Mn.mode&1)&&(Bn===0||Bn===11||Bn===15)){var En=Mn.alternate;En?(Mn.updateQueue=En.updateQueue,Mn.memoizedState=En.memoizedState,Mn.lanes=En.lanes):(Mn.updateQueue=null,Mn.memoizedState=null)}var Ur=zt(ke);if(Ur!==null){Ur.flags&=-257,on(Ur,ke,tt,oe,k),Ur.mode&1&&Eo(oe,Rt,k),k=Ur,ht=Rt;var _i=k.updateQueue;if(_i===null){var Oi=new Set;Oi.add(ht),k.updateQueue=Oi}else _i.add(ht);break e}else{if(!(k&1)){Eo(oe,Rt,k),Mt();break e}ht=Error(t(426))}}else if($i&&tt.mode&1){var Uh=zt(ke);if(Uh!==null){!(Uh.flags&65536)&&(Uh.flags|=256),on(Uh,ke,tt,oe,k),wr($n(ht,tt));break e}}oe=ht=$n(ht,tt),au!==4&&(au=2),Oc===null?Oc=[oe]:Oc.push(oe),oe=ke;do{switch(oe.tag){case 3:oe.flags|=65536,k&=-k,oe.lanes|=k;var kt=Nr(oe,ht,k);Gs(oe,kt);break e;case 1:tt=ht;var vt=oe.type,Pt=oe.stateNode;if(!(oe.flags&128)&&(typeof vt.getDerivedStateFromError=="function"||Pt!==null&&typeof Pt.componentDidCatch=="function"&&(D===null||!D.has(Pt)))){oe.flags|=65536,k&=-k,oe.lanes|=k;var qn=mo(oe,tt,k);Gs(oe,qn);break e}}oe=oe.return}while(oe!==null)}yr(B)}catch(Vi){k=Vi,ci===B&&B!==null&&(ci=B=B.return);continue}break}while(!0)}function St(){var C=gf.current;return gf.current=ws,C===null?ws:C}function Mt(){(au===0||au===3||au===2)&&(au=4),Ko===null||!(Ic&268435455)&&!(mf&268435455)||we(Ko,Ir)}function en(C,k){var B=er;er|=2;var K=St();(Ko!==C||Ir!==k)&&(A=null,Ye(C,k));do try{qt();break}catch(ee){rt(C,ee)}while(!0);if(ss(),er=B,gf.current=K,ci!==null)throw Error(t(261));return Ko=null,Ir=0,au}function qt(){for(;ci!==null;)Zt(ci)}function It(){for(;ci!==null&&!Sc();)Zt(ci)}function Zt(C){var k=sc(C.alternate,C,fs);C.memoizedProps=C.pendingProps,k===null?yr(C):ci=k,Sf.current=null}function yr(C){var k=C;do{var B=k.alternate;if(C=k.return,k.flags&32768){if(B=Eh(B,k),B!==null){B.flags&=32767,ci=B;return}if(C!==null)C.flags|=32768,C.subtreeFlags=0,C.deletions=null;else{au=6,ci=null;return}}else if(B=Er(B,k,fs),B!==null){ci=B;return}if(k=k.sibling,k!==null){ci=k;return}ci=k=C}while(k!==null);au===0&&(au=5)}function cr(C,k,B){var K=Jn,ee=li.transition;try{li.transition=null,Jn=1,fi(C,k,B,K)}finally{li.transition=ee,Jn=K}return null}function fi(C,k,B,K){do Gn();while(N!==null);if(er&6)throw Error(t(327));B=C.finishedWork;var ee=C.finishedLanes;if(B===null)return null;if(C.finishedWork=null,C.finishedLanes=0,B===C.current)throw Error(t(177));C.callbackNode=null,C.callbackPriority=0;var oe=B.lanes|B.childLanes;if(As(C,oe),C===Ko&&(ci=Ko=null,Ir=0),!(B.subtreeFlags&2064)&&!(B.flags&2064)||E||(E=!0,h(Ph,function(){return Gn(),null})),oe=(B.flags&15990)!==0,B.subtreeFlags&15990||oe){oe=li.transition,li.transition=null;var ke=Jn;Jn=1;var tt=er;er|=4,Sf.current=null,Sn(C,B),bl(B,C),xi(ds),ql=!!Au,ds=Au=null,C.current=B,bc(B),El(),er=tt,Jn=ke,li.transition=oe}else C.current=B;if(E&&(E=!1,N=C,v=ee),oe=C.pendingLanes,oe===0&&(D=null),rr(B.stateNode),re(C,No()),k!==null)for(K=C.onRecoverableError,B=0;B<k.length;B++)ee=k[B],K(ee.value,{componentStack:ee.stack,digest:ee.digest});if(I)throw I=!1,C=U,U=null,C;return v&1&&C.tag!==0&&Gn(),oe=C.pendingLanes,oe&1?C===x?m++:(m=0,x=C):m=0,ru(),null}function Gn(){if(N!==null){var C=ri(v),k=li.transition,B=Jn;try{if(li.transition=null,Jn=16>C?16:C,N===null)var K=!1;else{if(C=N,N=null,v=0,er&6)throw Error(t(331));var ee=er;for(er|=4,Cn=C.current;Cn!==null;){var oe=Cn,ke=oe.child;if(Cn.flags&16){var tt=oe.deletions;if(tt!==null){for(var ht=0;ht<tt.length;ht++){var Rt=tt[ht];for(Cn=Rt;Cn!==null;){var Mn=Cn;switch(Mn.tag){case 0:case 11:case 15:zi(8,Mn,oe)}var Bn=Mn.child;if(Bn!==null)Bn.return=Mn,Cn=Bn;else for(;Cn!==null;){Mn=Cn;var En=Mn.sibling,Ur=Mn.return;if(cs(Mn),Mn===Rt){Cn=null;break}if(En!==null){En.return=Ur,Cn=En;break}Cn=Ur}}}var _i=oe.alternate;if(_i!==null){var Oi=_i.child;if(Oi!==null){_i.child=null;do{var Uh=Oi.sibling;Oi.sibling=null,Oi=Uh}while(Oi!==null)}}Cn=oe}}if(oe.subtreeFlags&2064&&ke!==null)ke.return=oe,Cn=ke;else e:for(;Cn!==null;){if(oe=Cn,oe.flags&2048)switch(oe.tag){case 0:case 11:case 15:zi(9,oe,oe.return)}var kt=oe.sibling;if(kt!==null){kt.return=oe.return,Cn=kt;break e}Cn=oe.return}}var vt=C.current;for(Cn=vt;Cn!==null;){ke=Cn;var Pt=ke.child;if(ke.subtreeFlags&2064&&Pt!==null)Pt.return=ke,Cn=Pt;else e:for(ke=vt;Cn!==null;){if(tt=Cn,tt.flags&2048)try{switch(tt.tag){case 0:case 11:case 15:ei(9,tt)}}catch(Vi){fr(tt,tt.return,Vi)}if(tt===ke){Cn=null;break e}var qn=tt.sibling;if(qn!==null){qn.return=tt.return,Cn=qn;break e}Cn=tt.return}}if(er=ee,ru(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Nf,C)}catch{}K=!0}return K}finally{Jn=B,li.transition=k}}return!1}function Uo(C,k,B){k=$n(B,k),k=Nr(C,k,1),C=Nl(C,k,1),k=H(),C!==null&&(Nc(C,1,k),re(C,k))}function fr(C,k,B){if(C.tag===3)Uo(C,C,B);else for(;k!==null;){if(k.tag===3){Uo(k,C,B);break}else if(k.tag===1){var K=k.stateNode;if(typeof k.type.getDerivedStateFromError=="function"||typeof K.componentDidCatch=="function"&&(D===null||!D.has(K))){C=$n(B,C),C=mo(k,C,1),k=Nl(k,C,1),C=H(),k!==null&&(Nc(k,1,C),re(k,C));break}}k=k.return}}function Ga(C,k,B){var K=C.pingCache;K!==null&&K.delete(k),k=H(),C.pingedLanes|=C.suspendedLanes&B,Ko===C&&(Ir&B)===B&&(au===4||au===3&&(Ir&130023424)===Ir&&500>No()-l?Ye(C,0):$l|=B),re(C,k)}function ep(C,k){k===0&&(C.mode&1?(k=Ei,Ei<<=1,!(Ei&130023424)&&(Ei=4194304)):k=1);var B=H();C=Ut(C,k),C!==null&&(Nc(C,k,B),re(C,B))}function Wf(C){var k=C.memoizedState,B=0;k!==null&&(B=k.retryLane),ep(C,B)}function tp(C,k){var B=0;switch(C.tag){case 13:var K=C.stateNode,ee=C.memoizedState;ee!==null&&(B=ee.retryLane);break;case 19:K=C.stateNode;break;default:throw Error(t(314))}K!==null&&K.delete(k),ep(C,B)}var sc;sc=function(C,k,B){if(C!==null)if(C.memoizedProps!==k.pendingProps||Co.current)tr=!0;else{if(!(C.lanes&B)&&!(k.flags&128))return tr=!1,ko(C,k,B);tr=!!(C.flags&131072)}else tr=!1,$i&&k.flags&1048576&&uo(k,or,k.index);switch(k.lanes=0,k.tag){case 2:var K=k.type;Ht(C,k),C=k.pendingProps;var ee=nu(k,hr.current);ar(k,B),ee=eh(null,k,K,C,ee,B);var oe=Rl();return k.flags|=1,typeof ee=="object"&&ee!==null&&typeof ee.render=="function"&&ee.$$typeof===void 0?(k.tag=1,k.memoizedState=null,k.updateQueue=null,Ia(K)?(oe=!0,Sr(k)):oe=!1,k.memoizedState=ee.state!==null&&ee.state!==void 0?ee.state:null,Gt(k),ee.updater=tf,k.stateNode=ee,ee._reactInternals=k,ih(k,K,C,B),k=Tt(null,k,K,!0,oe,B)):(k.tag=0,$i&&oe&&Vo(k),_r(null,k,ee,B),k=k.child),k;case 16:K=k.elementType;e:{switch(Ht(C,k),C=k.pendingProps,ee=K._init,K=ee(K._payload),k.type=K,ee=k.tag=$(K),C=Ll(K,C),ee){case 0:k=sn(null,k,K,C,B);break e;case 1:k=si(null,k,K,C,B);break e;case 11:k=us(null,k,K,C,B);break e;case 14:k=Fi(null,k,K,Ll(K.type,C),B);break e}throw Error(t(306,K,""))}return k;case 0:return K=k.type,ee=k.pendingProps,ee=k.elementType===K?ee:Ll(K,ee),sn(C,k,K,ee,B);case 1:return K=k.type,ee=k.pendingProps,ee=k.elementType===K?ee:Ll(K,ee),si(C,k,K,ee,B);case 3:e:{if(Qu(k),C===null)throw Error(t(387));K=k.pendingProps,oe=k.memoizedState,ee=oe.element,Vn(C,k),Ys(k,K,null,B);var ke=k.memoizedState;if(K=ke.element,oe.isDehydrated)if(oe={element:K,isDehydrated:!1,cache:ke.cache,pendingSuspenseBoundaries:ke.pendingSuspenseBoundaries,transitions:ke.transitions},k.updateQueue.baseState=oe,k.memoizedState=oe,k.flags&256){ee=$n(Error(t(423)),k),k=yi(C,k,K,B,ee);break e}else if(K!==ee){ee=$n(Error(t(424)),k),k=yi(C,k,K,B,ee);break e}else for(Fo=Ji(k.stateNode.containerInfo.firstChild),eo=k,$i=!0,to=null,B=Ba(k,null,K,B),k.child=B;B;)B.flags=B.flags&-3|4096,B=B.sibling;else{if(Il(),K===ee){k=Dr(C,k,B);break e}_r(C,k,K,B)}k=k.child}return k;case 5:return wu(k),C===null&&qa(k),K=k.type,ee=k.pendingProps,oe=C!==null?C.memoizedProps:null,ke=ee.children,ir(K,ee)?ke=null:oe!==null&&ir(K,oe)&&(k.flags|=32),sr(C,k),_r(C,k,ke,B),k.child;case 6:return C===null&&qa(k),null;case 13:return xr(C,k,B);case 4:return Js(k,k.stateNode.containerInfo),K=k.pendingProps,C===null?k.child=qo(k,null,K,B):_r(C,k,K,B),k.child;case 11:return K=k.type,ee=k.pendingProps,ee=k.elementType===K?ee:Ll(K,ee),us(C,k,K,ee,B);case 7:return _r(C,k,k.pendingProps,B),k.child;case 8:return _r(C,k,k.pendingProps.children,B),k.child;case 12:return _r(C,k,k.pendingProps.children,B),k.child;case 10:e:{if(K=k.type._context,ee=k.pendingProps,oe=k.memoizedProps,ke=ee.value,Vr(ou,K._currentValue),K._currentValue=ke,oe!==null)if(R(oe.value,ke)){if(oe.children===ee.children&&!Co.current){k=Dr(C,k,B);break e}}else for(oe=k.child,oe!==null&&(oe.return=k);oe!==null;){var tt=oe.dependencies;if(tt!==null){ke=oe.child;for(var ht=tt.firstContext;ht!==null;){if(ht.context===K){if(oe.tag===1){ht=kr(-1,B&-B),ht.tag=2;var Rt=oe.updateQueue;if(Rt!==null){Rt=Rt.shared;var Mn=Rt.pending;Mn===null?ht.next=ht:(ht.next=Mn.next,Mn.next=ht),Rt.pending=ht}}oe.lanes|=B,ht=oe.alternate,ht!==null&&(ht.lanes|=B),Zr(oe.return,B,k),tt.lanes|=B;break}ht=ht.next}}else if(oe.tag===10)ke=oe.type===k.type?null:oe.child;else if(oe.tag===18){if(ke=oe.return,ke===null)throw Error(t(341));ke.lanes|=B,tt=ke.alternate,tt!==null&&(tt.lanes|=B),Zr(ke,B,k),ke=oe.sibling}else ke=oe.child;if(ke!==null)ke.return=oe;else for(ke=oe;ke!==null;){if(ke===k){ke=null;break}if(oe=ke.sibling,oe!==null){oe.return=ke.return,ke=oe;break}ke=ke.return}oe=ke}_r(C,k,ee.children,B),k=k.child}return k;case 9:return ee=k.type,K=k.pendingProps.children,ar(k,B),ee=da(ee),K=K(ee),k.flags|=1,_r(C,k,K,B),k.child;case 14:return K=k.type,ee=Ll(K,k.pendingProps),ee=Ll(K.type,ee),Fi(C,k,K,ee,B);case 15:return Ii(C,k,k.type,k.pendingProps,B);case 17:return K=k.type,ee=k.pendingProps,ee=k.elementType===K?ee:Ll(K,ee),Ht(C,k),k.tag=1,Ia(K)?(C=!0,Sr(k)):C=!1,ar(k,B),To(k,K,ee),ih(k,K,ee,B),Tt(null,k,K,!0,C,B);case 19:return ea(C,k,B);case 22:return Ao(C,k,B)}throw Error(t(156,k.tag))};function h(C,k){return gn(C,k)}function d(C,k,B,K){this.tag=C,this.key=B,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=k,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=K,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function S(C,k,B,K){return new d(C,k,B,K)}function T(C){return C=C.prototype,!(!C||!C.isReactComponent)}function $(C){if(typeof C=="function")return T(C)?1:0;if(C!=null){if(C=C.$$typeof,C===xe)return 11;if(C===Me)return 14}return 2}function q(C,k){var B=C.alternate;return B===null?(B=S(C.tag,k,C.key,C.mode),B.elementType=C.elementType,B.type=C.type,B.stateNode=C.stateNode,B.alternate=C,C.alternate=B):(B.pendingProps=k,B.type=C.type,B.flags=0,B.subtreeFlags=0,B.deletions=null),B.flags=C.flags&14680064,B.childLanes=C.childLanes,B.lanes=C.lanes,B.child=C.child,B.memoizedProps=C.memoizedProps,B.memoizedState=C.memoizedState,B.updateQueue=C.updateQueue,k=C.dependencies,B.dependencies=k===null?null:{lanes:k.lanes,firstContext:k.firstContext},B.sibling=C.sibling,B.index=C.index,B.ref=C.ref,B}function X(C,k,B,K,ee,oe){var ke=2;if(K=C,typeof C=="function")T(C)&&(ke=1);else if(typeof C=="string")ke=5;else e:switch(C){case Q:return le(B.children,ee,oe,k);case te:ke=8,ee|=8;break;case ae:return C=S(12,B,k,ee|2),C.elementType=ae,C.lanes=oe,C;case Pe:return C=S(13,B,k,ee),C.elementType=Pe,C.lanes=oe,C;case Ce:return C=S(19,B,k,ee),C.elementType=Ce,C.lanes=oe,C;case et:return pe(B,ee,oe,k);default:if(typeof C=="object"&&C!==null)switch(C.$$typeof){case se:ke=10;break e;case ge:ke=9;break e;case xe:ke=11;break e;case Me:ke=14;break e;case Oe:ke=16,K=null;break e}throw Error(t(130,C==null?C:typeof C,""))}return k=S(ke,B,k,ee),k.elementType=C,k.type=K,k.lanes=oe,k}function le(C,k,B,K){return C=S(7,C,K,k),C.lanes=B,C}function pe(C,k,B,K){return C=S(22,C,K,k),C.elementType=et,C.lanes=B,C.stateNode={isHidden:!1},C}function _e(C,k,B){return C=S(6,C,null,k),C.lanes=B,C}function Ve(C,k,B){return k=S(4,C.children!==null?C.children:[],C.key,k),k.lanes=B,k.stateNode={containerInfo:C.containerInfo,pendingChildren:null,implementation:C.implementation},k}function qe(C,k,B,K,ee){this.tag=k,this.containerInfo=C,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jr(0),this.expirationTimes=jr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jr(0),this.identifierPrefix=K,this.onRecoverableError=ee,this.mutableSourceEagerHydrationData=null}function Je(C,k,B,K,ee,oe,ke,tt,ht){return C=new qe(C,k,B,tt,ht),k===1?(k=1,oe===!0&&(k|=8)):k=0,oe=S(3,null,null,k),C.current=oe,oe.stateNode=C,oe.memoizedState={element:K,isDehydrated:B,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gt(oe),C}function it(C,k,B){var K=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:K==null?null:""+K,children:C,containerInfo:k,implementation:B}}function yt(C){if(!C)return xn;C=C._reactInternals;e:{if(cu(C)!==C||C.tag!==1)throw Error(t(170));var k=C;do{switch(k.tag){case 3:k=k.stateNode.context;break e;case 1:if(Ia(k.type)){k=k.stateNode.__reactInternalMemoizedMergedChildContext;break e}}k=k.return}while(k!==null);throw Error(t(171))}if(C.tag===1){var B=C.type;if(Ia(B))return pr(C,B,k)}return k}function lt(C,k,B,K,ee,oe,ke,tt,ht){return C=Je(B,K,!0,C,ee,oe,ke,tt,ht),C.context=yt(null),B=C.current,K=H(),ee=V(B),oe=kr(K,ee),oe.callback=k??null,Nl(B,oe,ee),C.current.lanes=ee,Nc(C,ee,K),re(C,K),C}function je(C,k,B,K){var ee=k.current,oe=H(),ke=V(ee);return B=yt(B),k.context===null?k.context=B:k.pendingContext=B,k=kr(oe,ke),k.payload={element:C},K=K===void 0?null:K,K!==null&&(k.callback=K),C=Nl(ee,k,ke),C!==null&&(Y(C,ee,ke,oe),br(C,ee,ke)),ke}function De(C){if(C=C.current,!C.child)return null;switch(C.child.tag){case 5:return C.child.stateNode;default:return C.child.stateNode}}function Le(C,k){if(C=C.memoizedState,C!==null&&C.dehydrated!==null){var B=C.retryLane;C.retryLane=B!==0&&B<k?B:k}}function nt(C,k){Le(C,k),(C=C.alternate)&&Le(C,k)}function Nt(){return null}var Un=typeof reportError=="function"?reportError:function(C){console.error(C)};function Ft(C){this._internalRoot=C}Nn.prototype.render=Ft.prototype.render=function(C){var k=this._internalRoot;if(k===null)throw Error(t(409));je(C,k,null,null)},Nn.prototype.unmount=Ft.prototype.unmount=function(){var C=this._internalRoot;if(C!==null){this._internalRoot=null;var k=C.containerInfo;Ie(function(){je(null,C,null,null)}),k[Ct]=null}};function Nn(C){this._internalRoot=C}Nn.prototype.unstable_scheduleHydration=function(C){if(C){var k=ch();C={blockedOn:null,target:C,priority:k};for(var B=0;B<pa.length&&k!==0&&k<pa[B].priority;B++);pa.splice(B,0,C),B===0&&Hl(C)}};function Or(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11)}function Mr(C){return!(!C||C.nodeType!==1&&C.nodeType!==9&&C.nodeType!==11&&(C.nodeType!==8||C.nodeValue!==" react-mount-point-unstable "))}function Gr(){}function Wo(C,k,B,K,ee){if(ee){if(typeof K=="function"){var oe=K;K=function(){var Rt=De(ke);oe.call(Rt)}}var ke=lt(k,K,C,0,null,!1,!1,"",Gr);return C._reactRootContainer=ke,C[Ct]=ke.current,di(C.nodeType===8?C.parentNode:C),Ie(),ke}for(;ee=C.lastChild;)C.removeChild(ee);if(typeof K=="function"){var tt=K;K=function(){var Rt=De(ht);tt.call(Rt)}}var ht=Je(C,0,!1,null,null,!1,!1,"",Gr);return C._reactRootContainer=ht,C[Ct]=ht.current,di(C.nodeType===8?C.parentNode:C),Ie(function(){je(k,ht,B,K)}),ht}function bg(C,k,B,K,ee){var oe=B._reactRootContainer;if(oe){var ke=oe;if(typeof ee=="function"){var tt=ee;ee=function(){var ht=De(ke);tt.call(ht)}}je(k,ke,C,ee)}else ke=Wo(B,k,C,ee,K);return De(ke)}nn=function(C){switch(C.tag){case 3:var k=C.stateNode;if(k.current.memoizedState.isDehydrated){var B=Hn(k.pendingLanes);B!==0&&(mi(k,B|1),re(k,No()),!(er&6)&&(w=No()+500,ru()))}break;case 13:Ie(function(){var K=Ut(C,1);if(K!==null){var ee=H();Y(K,C,1,ee)}}),nt(C,1)}},Xn=function(C){if(C.tag===13){var k=Ut(C,134217728);if(k!==null){var B=H();Y(k,C,134217728,B)}nt(C,134217728)}},es=function(C){if(C.tag===13){var k=V(C),B=Ut(C,k);if(B!==null){var K=H();Y(B,C,k,K)}nt(C,k)}},ch=function(){return Jn},Jr=function(C,k){var B=Jn;try{return Jn=C,k()}finally{Jn=B}},zl=function(C,k,B){switch(k){case"input":if(Se(C,B),k=B.name,B.type==="radio"&&k!=null){for(B=C;B.parentNode;)B=B.parentNode;for(B=B.querySelectorAll("input[name="+JSON.stringify(""+k)+'][type="radio"]'),k=0;k<B.length;k++){var K=B[k];if(K!==C&&K.form===C.form){var ee=lr(K);if(!ee)throw Error(t(90));js(K),Se(K,ee)}}}break;case"textarea":bt(C,B);break;case"select":k=B.value,k!=null&&We(C,!!B.multiple,k,!1)}},rl=Ge,Gu=Ie;var Lg={usingClientEntryPoint:!1,Events:[Ps,Ar,lr,Qa,Ul,Ge]},Mm={findFiberByHostInstance:Tl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pw={bundleType:Mm.bundleType,version:Mm.version,rendererPackageName:Mm.rendererPackageName,rendererConfig:Mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(C){return C=Br(C),C===null?null:C.stateNode},findFiberByHostInstance:Mm.findFiberByHostInstance||Nt,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var s0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!s0.isDisabled&&s0.supportsFiber)try{Nf=s0.inject(pw),Bt=s0}catch{}}return xg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg,xg.createPortal=function(C,k){var B=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Or(k))throw Error(t(200));return it(C,k,null,B)},xg.createRoot=function(C,k){if(!Or(C))throw Error(t(299));var B=!1,K="",ee=Un;return k!=null&&(k.unstable_strictMode===!0&&(B=!0),k.identifierPrefix!==void 0&&(K=k.identifierPrefix),k.onRecoverableError!==void 0&&(ee=k.onRecoverableError)),k=Je(C,1,!1,null,null,B,!1,K,ee),C[Ct]=k.current,di(C.nodeType===8?C.parentNode:C),new Ft(k)},xg.findDOMNode=function(C){if(C==null)return null;if(C.nodeType===1)return C;var k=C._reactInternals;if(k===void 0)throw typeof C.render=="function"?Error(t(188)):(C=Object.keys(C).join(","),Error(t(268,C)));return C=Br(k),C=C===null?null:C.stateNode,C},xg.flushSync=function(C){return Ie(C)},xg.hydrate=function(C,k,B){if(!Mr(k))throw Error(t(200));return bg(null,C,k,!0,B)},xg.hydrateRoot=function(C,k,B){if(!Or(C))throw Error(t(405));var K=B!=null&&B.hydratedSources||null,ee=!1,oe="",ke=Un;if(B!=null&&(B.unstable_strictMode===!0&&(ee=!0),B.identifierPrefix!==void 0&&(oe=B.identifierPrefix),B.onRecoverableError!==void 0&&(ke=B.onRecoverableError)),k=lt(k,null,C,1,B??null,ee,!1,oe,ke),C[Ct]=k.current,di(C),K)for(C=0;C<K.length;C++)B=K[C],ee=B._getVersion,ee=ee(B._source),k.mutableSourceEagerHydrationData==null?k.mutableSourceEagerHydrationData=[B,ee]:k.mutableSourceEagerHydrationData.push(B,ee);return new Nn(k)},xg.render=function(C,k,B){if(!Mr(k))throw Error(t(200));return bg(null,C,k,!1,B)},xg.unmountComponentAtNode=function(C){if(!Mr(C))throw Error(t(40));return C._reactRootContainer?(Ie(function(){bg(null,null,C,!1,function(){C._reactRootContainer=null,C[Ct]=null})}),!0):!1},xg.unstable_batchedUpdates=Ge,xg.unstable_renderSubtreeIntoContainer=function(C,k,B,K){if(!Mr(B))throw Error(t(200));if(C==null||C._reactInternals===void 0)throw Error(t(38));return bg(C,k,B,!1,K)},xg.version="18.3.1-next-f1338f8080-20240426",xg}var yN;function aG(){if(yN)return sA.exports;yN=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),sA.exports=oG(),sA.exports}var wN;function sG(){if(wN)return jx;wN=1;var n=aG();return jx.createRoot=n.createRoot,jx.hydrateRoot=n.hydrateRoot,jx}var uG=sG(),mw={},bN;function lG(){if(bN)return mw;bN=1,Object.defineProperty(mw,"__esModule",{value:!0}),mw.parse=s,mw.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,o=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function s(y,b){const _=new o,M=y.length;if(M<2)return _;const F=(b==null?void 0:b.decode)||f;let O=0;do{const j=y.indexOf("=",O);if(j===-1)break;const z=y.indexOf(";",O),W=z===-1?M:z;if(j>W){O=y.lastIndexOf(";",j-1)+1;continue}const J=u(y,O,j),G=c(y,j,J),Q=y.slice(J,G);if(_[Q]===void 0){let te=u(y,j+1,W),ae=c(y,W,te);const se=F(y.slice(te,ae));_[Q]=se}O=W+1}while(O<M);return _}function u(y,b,_){do{const M=y.charCodeAt(b);if(M!==32&&M!==9)return b}while(++b<_);return _}function c(y,b,_){for(;b>_;){const M=y.charCodeAt(--b);if(M!==32&&M!==9)return b+1}return _}function p(y,b,_){const M=(_==null?void 0:_.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const F=M(b);if(!e.test(F))throw new TypeError(`argument val is invalid: ${b}`);let O=y+"="+F;if(!_)return O;if(_.maxAge!==void 0){if(!Number.isInteger(_.maxAge))throw new TypeError(`option maxAge is invalid: ${_.maxAge}`);O+="; Max-Age="+_.maxAge}if(_.domain){if(!t.test(_.domain))throw new TypeError(`option domain is invalid: ${_.domain}`);O+="; Domain="+_.domain}if(_.path){if(!r.test(_.path))throw new TypeError(`option path is invalid: ${_.path}`);O+="; Path="+_.path}if(_.expires){if(!g(_.expires)||!Number.isFinite(_.expires.valueOf()))throw new TypeError(`option expires is invalid: ${_.expires}`);O+="; Expires="+_.expires.toUTCString()}if(_.httpOnly&&(O+="; HttpOnly"),_.secure&&(O+="; Secure"),_.partitioned&&(O+="; Partitioned"),_.priority)switch(typeof _.priority=="string"?_.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${_.priority}`)}if(_.sameSite)switch(typeof _.sameSite=="string"?_.sameSite.toLowerCase():_.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${_.sameSite}`)}return O}function f(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function g(y){return i.call(y)==="[object Date]"}return mw}lG();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var xN="popstate";function cG(n={}){function e(i,o){let{pathname:s="/",search:u="",hash:c=""}=Cy(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),yM("",{pathname:s,search:u,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){let s=i.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=i.location.href,p=c.indexOf("#");u=p===-1?c:c.slice(0,p)}return u+"#"+(typeof o=="string"?o:Mb(o))}function r(i,o){t0(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return hG(e,t,r,n)}function Fh(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function t0(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fG(){return Math.random().toString(36).substring(2,10)}function DN(n,e){return{usr:n.state,key:n.key,idx:e}}function yM(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cy(e):e,state:t,key:e&&e.key||r||fG()}}function Mb({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Cy(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hG(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,u="POP",c=null,p=f();p==null&&(p=0,s.replaceState({...s.state,idx:p},""));function f(){return(s.state||{idx:null}).idx}function g(){u="POP";let F=f(),O=F==null?null:F-p;p=F,c&&c({action:u,location:M.location,delta:O})}function y(F,O){u="PUSH";let j=yM(M.location,F,O);t&&t(j,F),p=f()+1;let z=DN(j,p),W=M.createHref(j);try{s.pushState(z,"",W)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;i.location.assign(W)}o&&c&&c({action:u,location:M.location,delta:1})}function b(F,O){u="REPLACE";let j=yM(M.location,F,O);t&&t(j,F),p=f();let z=DN(j,p),W=M.createHref(j);s.replaceState(z,"",W),o&&c&&c({action:u,location:M.location,delta:0})}function _(F){let O=i.location.origin!=="null"?i.location.origin:i.location.href,j=typeof F=="string"?F:Mb(F);return j=j.replace(/ $/,"%20"),Fh(O,`No window.location.(origin|href) available to create URL for href: ${j}`),new URL(j,O)}let M={get action(){return u},get location(){return n(i,s)},listen(F){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xN,g),c=F,()=>{i.removeEventListener(xN,g),c=null}},createHref(F){return e(i,F)},createURL:_,encodeLocation(F){let O=_(F);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:y,replace:b,go(F){return s.go(F)}};return M}function Q$(n,e,t="/"){return pG(n,e,t,!1)}function pG(n,e,t,r){let i=typeof e=="string"?Cy(e):e,o=lv(i.pathname||"/",t);if(o==null)return null;let s=Z$(n);gG(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let p=_G(o);u=CG(s[c],p,r)}return u}function Z$(n,e=[],t=[],r=""){let i=(o,s,u)=>{let c={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};c.relativePath.startsWith("/")&&(Fh(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length));let p=hd([r,c.relativePath]),f=t.concat(c);o.children&&o.children.length>0&&(Fh(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),Z$(o.children,e,f,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:xG(p,o.index),routesMeta:f})};return n.forEach((o,s)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,s);else for(let c of ez(o.path))i(o,s,c)}),e}function ez(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=ez(r.join("/")),u=[];return u.push(...s.map(c=>c===""?o:[o,c].join("/"))),i&&u.push(...s),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function gG(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:DG(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var mG=/^:[\w-]+$/,dG=3,vG=2,yG=1,wG=10,bG=-2,CN=n=>n==="*";function xG(n,e){let t=n.split("/"),r=t.length;return t.some(CN)&&(r+=bG),e&&(r+=vG),t.filter(i=>!CN(i)).reduce((i,o)=>i+(mG.test(o)?dG:o===""?yG:wG),r)}function DG(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function CG(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],p=u===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",g=MS({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},f),y=c.route;if(!g&&p&&t&&!r[r.length-1].route.index&&(g=MS({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!g)return null;Object.assign(i,g.params),s.push({params:i,pathname:hd([o,g.pathname]),pathnameBase:MG(hd([o,g.pathnameBase])),route:y}),g.pathnameBase!=="/"&&(o=hd([o,g.pathnameBase]))}return s}function MS(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=SG(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:f,isOptional:g},y)=>{if(f==="*"){let _=u[y]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const b=u[y];return g&&!b?p[f]=void 0:p[f]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:s,pattern:n}}function SG(n,e=!1,t=!0){t0(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function _G(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return t0(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function lv(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function EG(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Cy(n):n;return{pathname:t?t.startsWith("/")?t:AG(t,e):e,search:FG(r),hash:PG(i)}}function AG(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function cA(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kG(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function tz(n){let e=kG(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function nz(n,e,t,r=!1){let i;typeof n=="string"?i=Cy(n):(i={...n},Fh(!i.pathname||!i.pathname.includes("?"),cA("?","pathname","search",i)),Fh(!i.pathname||!i.pathname.includes("#"),cA("#","pathname","hash",i)),Fh(!i.search||!i.search.includes("#"),cA("#","search","hash",i)));let o=n===""||i.pathname==="",s=o?"/":i.pathname,u;if(s==null)u=t;else{let g=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),g-=1;i.pathname=y.join("/")}u=g>=0?e[g]:"/"}let c=EG(i,u),p=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(p||f)&&(c.pathname+="/"),c}var hd=n=>n.join("/").replace(/\/\/+/g,"/"),MG=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),FG=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PG=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function TG(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var rz=["POST","PUT","PATCH","DELETE"];new Set(rz);var IG=["GET",...rz];new Set(IG);var nw=at.createContext(null);nw.displayName="DataRouter";var vE=at.createContext(null);vE.displayName="DataRouterState";var iz=at.createContext({isTransitioning:!1});iz.displayName="ViewTransition";var OG=at.createContext(new Map);OG.displayName="Fetchers";var NG=at.createContext(null);NG.displayName="Await";var H0=at.createContext(null);H0.displayName="Navigation";var Ex=at.createContext(null);Ex.displayName="Location";var V0=at.createContext({outlet:null,matches:[],isDataRoute:!1});V0.displayName="Route";var eI=at.createContext(null);eI.displayName="RouteError";function BG(n,{relative:e}={}){Fh(Ax(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=at.useContext(H0),{hash:i,pathname:o,search:s}=kx(n,{relative:e}),u=o;return t!=="/"&&(u=o==="/"?t:hd([t,o])),r.createHref({pathname:u,search:s,hash:i})}function Ax(){return at.useContext(Ex)!=null}function Sy(){return Fh(Ax(),"useLocation() may be used only in the context of a <Router> component."),at.useContext(Ex).location}var oz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function az(n){at.useContext(H0).static||at.useLayoutEffect(n)}function tI(){let{isDataRoute:n}=at.useContext(V0);return n?JG():RG()}function RG(){Fh(Ax(),"useNavigate() may be used only in the context of a <Router> component.");let n=at.useContext(nw),{basename:e,navigator:t}=at.useContext(H0),{matches:r}=at.useContext(V0),{pathname:i}=Sy(),o=JSON.stringify(tz(r)),s=at.useRef(!1);return az(()=>{s.current=!0}),at.useCallback((c,p={})=>{if(t0(s.current,oz),!s.current)return;if(typeof c=="number"){t.go(c);return}let f=nz(c,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hd([e,f.pathname])),(p.replace?t.replace:t.push)(f,p.state,p)},[e,t,o,i,n])}at.createContext(null);function jG(){let{matches:n}=at.useContext(V0),e=n[n.length-1];return e?e.params:{}}function kx(n,{relative:e}={}){let{matches:t}=at.useContext(V0),{pathname:r}=Sy(),i=JSON.stringify(tz(t));return at.useMemo(()=>nz(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function LG(n,e){return sz(n,e)}function sz(n,e,t,r){var O;Fh(Ax(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=at.useContext(H0),{matches:o}=at.useContext(V0),s=o[o.length-1],u=s?s.params:{},c=s?s.pathname:"/",p=s?s.pathnameBase:"/",f=s&&s.route;{let j=f&&f.path||"";uz(c,!f||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let g=Sy(),y;if(e){let j=typeof e=="string"?Cy(e):e;Fh(p==="/"||((O=j.pathname)==null?void 0:O.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${j.pathname}" was given in the \`location\` prop.`),y=j}else y=g;let b=y.pathname||"/",_=b;if(p!=="/"){let j=p.replace(/^\//,"").split("/");_="/"+b.replace(/^\//,"").split("/").slice(j.length).join("/")}let M=Q$(n,{pathname:_});t0(f||M!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),t0(M==null||M[M.length-1].route.element!==void 0||M[M.length-1].route.Component!==void 0||M[M.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=HG(M&&M.map(j=>Object.assign({},j,{params:Object.assign({},u,j.params),pathname:hd([p,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:hd([p,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t,r);return e&&F?at.createElement(Ex.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},F):F}function $G(){let n=YG(),e=TG(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=at.createElement(at.Fragment,null,at.createElement("p",null,"💿 Hey developer 👋"),at.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",at.createElement("code",{style:o},"ErrorBoundary")," or"," ",at.createElement("code",{style:o},"errorElement")," prop on your route.")),at.createElement(at.Fragment,null,at.createElement("h2",null,"Unexpected Application Error!"),at.createElement("h3",{style:{fontStyle:"italic"}},e),t?at.createElement("pre",{style:i},t):null,s)}var zG=at.createElement($G,null),UG=class extends at.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?at.createElement(V0.Provider,{value:this.props.routeContext},at.createElement(eI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WG({routeContext:n,match:e,children:t}){let r=at.useContext(nw);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),at.createElement(V0.Provider,{value:n},t)}function HG(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,o=t==null?void 0:t.errors;if(o!=null){let c=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Fh(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,c+1))}let s=!1,u=-1;if(t)for(let c=0;c<i.length;c++){let p=i[c];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=c),p.route.id){let{loaderData:f,errors:g}=t,y=p.route.loader&&!f.hasOwnProperty(p.route.id)&&(!g||g[p.route.id]===void 0);if(p.route.lazy||y){s=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((c,p,f)=>{let g,y=!1,b=null,_=null;t&&(g=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||zG,s&&(u<0&&f===0?(uz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,_=null):u===f&&(y=!0,_=p.route.hydrateFallbackElement||null)));let M=e.concat(i.slice(0,f+1)),F=()=>{let O;return g?O=b:y?O=_:p.route.Component?O=at.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=c,at.createElement(WG,{match:p,routeContext:{outlet:c,matches:M,isDataRoute:t!=null},children:O})};return t&&(p.route.ErrorBoundary||p.route.errorElement||f===0)?at.createElement(UG,{location:t.location,revalidation:t.revalidation,component:b,error:g,children:F(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):F()},null)}function nI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VG(n){let e=at.useContext(nw);return Fh(e,nI(n)),e}function qG(n){let e=at.useContext(vE);return Fh(e,nI(n)),e}function KG(n){let e=at.useContext(V0);return Fh(e,nI(n)),e}function rI(n){let e=KG(n),t=e.matches[e.matches.length-1];return Fh(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function GG(){return rI("useRouteId")}function YG(){var r;let n=at.useContext(eI),e=qG("useRouteError"),t=rI("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function JG(){let{router:n}=VG("useNavigate"),e=rI("useNavigate"),t=at.useRef(!1);return az(()=>{t.current=!0}),at.useCallback(async(i,o={})=>{t0(t.current,oz),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var SN={};function uz(n,e,t){!e&&!SN[n]&&(SN[n]=!0,t0(!1,t))}at.memo(XG);function XG({routes:n,future:e,state:t}){return sz(n,void 0,t,e)}function wM(n){Fh(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function QG({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){Fh(!Ax(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),u=at.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof t=="string"&&(t=Cy(t));let{pathname:c="/",search:p="",hash:f="",state:g=null,key:y="default"}=t,b=at.useMemo(()=>{let _=lv(c,s);return _==null?null:{location:{pathname:_,search:p,hash:f,state:g,key:y},navigationType:r}},[s,c,p,f,g,y,r]);return t0(b!=null,`<Router basename="${s}"> is not able to match the URL "${c}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:at.createElement(H0.Provider,{value:u},at.createElement(Ex.Provider,{children:e,value:b}))}function ZG({children:n,location:e}){return LG(bM(n),e)}function bM(n,e=[]){let t=[];return at.Children.forEach(n,(r,i)=>{if(!at.isValidElement(r))return;let o=[...e,i];if(r.type===at.Fragment){t.push.apply(t,bM(r.props.children,o));return}Fh(r.type===wM,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Fh(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=bM(r.props.children,o)),t.push(s)}),t}var kC="get",MC="application/x-www-form-urlencoded";function yE(n){return n!=null&&typeof n.tagName=="string"}function eY(n){return yE(n)&&n.tagName.toLowerCase()==="button"}function tY(n){return yE(n)&&n.tagName.toLowerCase()==="form"}function nY(n){return yE(n)&&n.tagName.toLowerCase()==="input"}function rY(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iY(n,e){return n.button===0&&(!e||e==="_self")&&!rY(n)}var Lx=null;function oY(){if(Lx===null)try{new FormData(document.createElement("form"),0),Lx=!1}catch{Lx=!0}return Lx}var aY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fA(n){return n!=null&&!aY.has(n)?(t0(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${MC}"`),null):n}function sY(n,e){let t,r,i,o,s;if(tY(n)){let u=n.getAttribute("action");r=u?lv(u,e):null,t=n.getAttribute("method")||kC,i=fA(n.getAttribute("enctype"))||MC,o=new FormData(n)}else if(eY(n)||nY(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||u.getAttribute("action");if(r=c?lv(c,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||kC,i=fA(n.getAttribute("formenctype"))||fA(u.getAttribute("enctype"))||MC,o=new FormData(u,n),!oY()){let{name:p,type:f,value:g}=n;if(f==="image"){let y=p?`${p}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else p&&o.append(p,g)}}else{if(yE(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=kC,r=null,i=MC,s=n}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:s}}function iI(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function uY(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lY(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function cY(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await uY(o,t);return s.links?s.links():[]}return[]}));return gY(r.flat(1).filter(lY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function _N(n,e,t,r,i,o){let s=(c,p)=>t[p]?c.route.id!==t[p].route.id:!0,u=(c,p)=>{var f;return t[p].pathname!==c.pathname||((f=t[p].route.path)==null?void 0:f.endsWith("*"))&&t[p].params["*"]!==c.params["*"]};return o==="assets"?e.filter((c,p)=>s(c,p)||u(c,p)):o==="data"?e.filter((c,p)=>{var g;let f=r.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,p)||u(c,p))return!0;if(c.route.shouldRevalidate){let y=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((g=t[0])==null?void 0:g.params)||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function fY(n,e){return hY(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function hY(n){return[...new Set(n)]}function pY(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function gY(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(pY(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function mY(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function dY(){let n=at.useContext(nw);return iI(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function vY(){let n=at.useContext(vE);return iI(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var oI=at.createContext(void 0);oI.displayName="FrameworkContext";function lz(){let n=at.useContext(oI);return iI(n,"You must render this element inside a <HydratedRouter> element"),n}function yY(n,e){let t=at.useContext(oI),[r,i]=at.useState(!1),[o,s]=at.useState(!1),{onFocus:u,onBlur:c,onMouseEnter:p,onMouseLeave:f,onTouchStart:g}=e,y=at.useRef(null);at.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let M=O=>{O.forEach(j=>{s(j.isIntersecting)})},F=new IntersectionObserver(M,{threshold:.5});return y.current&&F.observe(y.current),()=>{F.disconnect()}}},[n]),at.useEffect(()=>{if(r){let M=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(M)}}},[r]);let b=()=>{i(!0)},_=()=>{i(!1),s(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:dw(u,b),onBlur:dw(c,_),onMouseEnter:dw(p,b),onMouseLeave:dw(f,_),onTouchStart:dw(g,b)}]:[!1,y,{}]}function dw(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function wY({page:n,...e}){let{router:t}=dY(),r=at.useMemo(()=>Q$(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?at.createElement(xY,{page:n,matches:r,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function bY(n){let{manifest:e,routeModules:t}=lz(),[r,i]=at.useState([]);return at.useEffect(()=>{let o=!1;return cY(n,e,t).then(s=>{o||i(s)}),()=>{o=!0}},[n,e,t]),r}function xY({page:n,matches:e,...t}){let r=Sy(),{manifest:i,routeModules:o}=lz(),{loaderData:s,matches:u}=vY(),c=at.useMemo(()=>_N(n,e,u,i,r,"data"),[n,e,u,i,r]),p=at.useMemo(()=>_N(n,e,u,i,r,"assets"),[n,e,u,i,r]),f=at.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,_=!1;if(e.forEach(F=>{var j;let O=i.routes[F.route.id];!O||!O.hasLoader||(!c.some(z=>z.route.id===F.route.id)&&F.route.id in s&&((j=o[F.route.id])!=null&&j.shouldRevalidate)||O.hasClientLoader?_=!0:b.add(F.route.id))}),b.size===0)return[];let M=mY(n);return _&&b.size>0&&M.searchParams.set("_routes",e.filter(F=>b.has(F.route.id)).map(F=>F.route.id).join(",")),[M.pathname+M.search]},[s,r,i,c,e,n,o]),g=at.useMemo(()=>fY(p,i),[p,i]),y=bY(p);return at.createElement(at.Fragment,null,f.map(b=>at.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),g.map(b=>at.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),y.map(({key:b,link:_})=>at.createElement("link",{key:b,..._})))}function DY(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var cz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cz&&(window.__reactRouterVersion="7.0.2")}catch{}function CY({basename:n,children:e,window:t}){let r=at.useRef();r.current==null&&(r.current=cG({window:t,v5Compat:!0}));let i=r.current,[o,s]=at.useState({action:i.action,location:i.location}),u=at.useCallback(c=>{at.startTransition(()=>s(c))},[s]);return at.useLayoutEffect(()=>i.listen(u),[i,u]),at.createElement(QG,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var fz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hz=at.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:u,target:c,to:p,preventScrollReset:f,viewTransition:g,...y},b){let{basename:_}=at.useContext(H0),M=typeof p=="string"&&fz.test(p),F,O=!1;if(typeof p=="string"&&M&&(F=p,cz))try{let ae=new URL(window.location.href),se=p.startsWith("//")?new URL(ae.protocol+p):new URL(p),ge=lv(se.pathname,_);se.origin===ae.origin&&ge!=null?p=ge+se.search+se.hash:O=!0}catch{t0(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=BG(p,{relative:i}),[z,W,J]=yY(r,y),G=AY(p,{replace:s,state:u,target:c,preventScrollReset:f,relative:i,viewTransition:g});function Q(ae){e&&e(ae),ae.defaultPrevented||G(ae)}let te=at.createElement("a",{...y,...J,href:F||j,onClick:O||o?e:Q,ref:DY(b,W),target:c,"data-discover":!M&&t==="render"?"true":void 0});return z&&!M?at.createElement(at.Fragment,null,te,at.createElement(wY,{page:j})):te});hz.displayName="Link";var SY=at.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:u,children:c,...p},f){let g=kx(s,{relative:p.relative}),y=Sy(),b=at.useContext(vE),{navigator:_,basename:M}=at.useContext(H0),F=b!=null&&TY(g)&&u===!0,O=_.encodeLocation?_.encodeLocation(g).pathname:g.pathname,j=y.pathname,z=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(j=j.toLowerCase(),z=z?z.toLowerCase():null,O=O.toLowerCase()),z&&M&&(z=lv(z,M)||z);const W=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let J=j===O||!i&&j.startsWith(O)&&j.charAt(W)==="/",G=z!=null&&(z===O||!i&&z.startsWith(O)&&z.charAt(O.length)==="/"),Q={isActive:J,isPending:G,isTransitioning:F},te=J?e:void 0,ae;typeof r=="function"?ae=r(Q):ae=[r,J?"active":null,G?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let se=typeof o=="function"?o(Q):o;return at.createElement(hz,{...p,"aria-current":te,className:ae,ref:f,style:se,to:s,viewTransition:u},typeof c=="function"?c(Q):c)});SY.displayName="NavLink";var _Y=at.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:s=kC,action:u,onSubmit:c,relative:p,preventScrollReset:f,viewTransition:g,...y},b)=>{let _=FY(),M=PY(u,{relative:p}),F=s.toLowerCase()==="get"?"get":"post",O=typeof u=="string"&&fz.test(u),j=z=>{if(c&&c(z),z.defaultPrevented)return;z.preventDefault();let W=z.nativeEvent.submitter,J=(W==null?void 0:W.getAttribute("formmethod"))||s;_(W||z.currentTarget,{fetcherKey:e,method:J,navigate:t,replace:i,state:o,relative:p,preventScrollReset:f,viewTransition:g})};return at.createElement("form",{ref:b,method:F,action:M,onSubmit:r?c:j,...y,"data-discover":!O&&n==="render"?"true":void 0})});_Y.displayName="Form";function EY(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pz(n){let e=at.useContext(nw);return Fh(e,EY(n)),e}function AY(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let u=tI(),c=Sy(),p=kx(n,{relative:o});return at.useCallback(f=>{if(iY(f,e)){f.preventDefault();let g=t!==void 0?t:Mb(c)===Mb(p);u(n,{replace:g,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[c,u,p,t,r,e,n,i,o,s])}var kY=0,MY=()=>`__${String(++kY)}__`;function FY(){let{router:n}=pz("useSubmit"),{basename:e}=at.useContext(H0),t=GG();return at.useCallback(async(r,i={})=>{let{action:o,method:s,encType:u,formData:c,body:p}=sY(r,e);if(i.navigate===!1){let f=i.fetcherKey||MY();await n.fetch(f,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:p,formMethod:i.method||s,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:p,formMethod:i.method||s,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function PY(n,{relative:e}={}){let{basename:t}=at.useContext(H0),r=at.useContext(V0);Fh(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...kx(n||".",{relative:e})},s=Sy();if(n==null){o.search=s.search;let u=new URLSearchParams(o.search),c=u.getAll("index");if(c.some(f=>f==="")){u.delete("index"),c.filter(g=>g).forEach(g=>u.append("index",g));let f=u.toString();o.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:hd([t,o.pathname])),Mb(o)}function TY(n,e={}){let t=at.useContext(iz);Fh(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pz("useViewTransitionState"),i=kx(n,{relative:e.relative});if(!t.isTransitioning)return!1;let o=lv(t.currentLocation.pathname,r)||t.currentLocation.pathname,s=lv(t.nextLocation.pathname,r)||t.nextLocation.pathname;return MS(i.pathname,s)!=null||MS(i.pathname,o)!=null}new TextEncoder;const IY=at.createContext(null),hA={didCatch:!1,error:null};let gz=class extends at.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=hA}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){const{error:e}=this.state;if(e!==null){for(var t,r,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(t=(r=this.props).onReset)===null||t===void 0||t.call(r,{args:o,reason:"imperative-api"}),this.setState(hA)}}componentDidCatch(e,t){var r,i;(r=(i=this.props).onError)===null||r===void 0||r.call(i,e,t)}componentDidUpdate(e,t){const{didCatch:r}=this.state,{resetKeys:i}=this.props;if(r&&t.error!==null&&OY(e.resetKeys,i)){var o,s;(o=(s=this.props).onReset)===null||o===void 0||o.call(s,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(hA)}}render(){const{children:e,fallbackRender:t,FallbackComponent:r,fallback:i}=this.props,{didCatch:o,error:s}=this.state;let u=e;if(o){const c={error:s,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")u=t(c);else if(r)u=at.createElement(r,c);else if(i!==void 0)u=i;else throw s}return at.createElement(IY.Provider,{value:{didCatch:o,error:s,resetErrorBoundary:this.resetErrorBoundary}},u)}};function OY(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return n.length!==e.length||n.some((t,r)=>!Object.is(t,e[r]))}var mz=at.createContext(void 0);function dz(){var n=at.useContext(mz);if(n===void 0)throw new Error("useServerUrl must be used within a ServerUrlContext.Provider");return n}function NY(n){var e=n.serverUrlIsValid,t=n.ProjectScreen,r=n.ErrorScreen,i=n.serverUrl;return e(i)?ft.jsx(gz,{FallbackComponent:r,children:ft.jsx(mz.Provider,{value:i,children:ft.jsx(t,{})})}):ft.jsx(r,{})}var vz=at.createContext(null);function BY(n){var e=n.ProjectLoadError,t=n.ActiveProject,r=n.useLoadProject,i=n.useServerUrl,o=n.TIMEOUT,s=at.useState(!1),u=s[0],c=s[1];at.useEffect(function(){var y=setTimeout(function(){if(!u)throw new Error("TIMEOUT_ERROR: Project failed to load")},o);return function(){return clearTimeout(y)}});var p=function(){return c(!0)},f=i(),g=r(f,p);return ft.jsx(gz,{FallbackComponent:e,children:ft.jsx(vz.Provider,{value:[g,u],children:ft.jsx(t,{})})})}function wE(){var n=at.useContext(vz);if(n===null)throw new Error("useProject must be used within a ProjectProvider");return n}var yz=at.createContext(void 0),RY=function(){var n=at.useContext(yz);if(n===void 0)throw new Error("useSetProjectLayout must be used within a SetProjectLayoutContext.Provider");return n};function jY(n){var e=n.ProjectModalOverlay,t=n.OrgArea,r=n.Playback,i=n.EditingArea,o=n.NavBar,s=n.ComposeGridLayout,u=at.useState({type:"normal"}),c=u[0],p=u[1],f=at.useState("normal"),g=f[0],y=f[1];c.type!=="modal"&&c.type!==g&&y(c.type);var b=function(){p({type:"normal"})};return ft.jsxs(yz.Provider,{value:p,children:[ft.jsxs(s,{normalOrFullscreen:g,children:[ft.jsx("div",{style:{gridArea:"nav"},children:ft.jsx(o,{})}),ft.jsx("div",{style:{gridArea:"orgArea"},children:ft.jsx(t,{})}),ft.jsx("div",{style:{gridArea:"playback"},children:ft.jsx(r,{})}),ft.jsx("div",{style:{gridArea:"editingArea",width:"100%",height:"100%"},children:ft.jsx(i,{})})]}),c.type==="modal"?ft.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:ft.jsx(e,{modalType:c.modalType,modalId:c.modalId,closeModal:b})}):null]})}function LY(n){var e=n.modalTypes,t=n.modalType,r=n.modalId,i=n.closeModal;function o(u){return Object.keys(e).includes(u)}if(!o(t))throw new Error("Modal type ".concat(t," is not legal"));var s=e[t];return ft.jsx(s,{id:r,closeModal:i})}var xM=function(n,e){return xM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},xM(n,e)};function Dh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}xM(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Iu=function(){return Iu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Iu.apply(this,arguments)};function n0(n,e,t){for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var EN=function(){function n(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100]},signalData:{},templateData:{}}}return n.prototype.addDiscreteSignal=function(e,t){this._project.orgData.signalIds.push(e),this._project.orgData.signalNames[e]=t,this._project.orgData.signalTypes[e]="discrete",this._project.signalData[e]={id:e,type:"discrete",pinIds:[],pinTimes:{},pinValues:{}}},n.prototype.addContinuousSignal=function(e,t,r){this._project.orgData.signalIds.push(e),this._project.orgData.signalNames[e]=t,this._project.orgData.signalTypes[e]="continuous",this._project.signalData[e]={id:e,type:"continuous",range:r,pinIds:[],pinTimes:{},pinValues:{},curves:{}}},n.prototype.addPin=function(e,t,r,i){var o=this._project.signalData[e],s=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(s),this._project.orgData.signalIdByPinId[s]=e,o.type==="continuous"){if(o.pinIds.push(s),o.pinTimes[s]=t,typeof r!="number")throw new Error("Continuous signal pin value must be a number");if(o.pinValues[s]=r,!i)throw new Error("Continuous signal pin must have a curve");i&&(o.curves[s]=i)}if(o.type==="discrete"){if(o.pinIds.push(s),o.pinTimes[s]=t,typeof r!="string")throw new Error("Discrete signal pin value must be a string");o.pinValues[s]=r}},n.prototype.setTimelineData=function(e,t,r){this._project.timelineData=Iu(Iu({},this._project.timelineData),{numberOfFrames:e,framesPerSecond:t,playheadPosition:r})},n.prototype.setSignalActiveStatus=function(e,t){t?this._project.orgData.activeSignalIds.push(e):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(r){return r!==e})},n.prototype.getProject=function(){return this._project},n.prototype.addCurveTemplate=function(e,t){this._project.templateData[e]=t},n}(),Mx=Object.freeze({__proto__:null,ProjectBuilder:EN,defaultProject:function(){var n=new EN;return n.addDiscreteSignal("signal1","Signal 1"),n.addContinuousSignal("signal2","Signal 2",[0,1]),n.addPin("signal1",100,"VALUE"),n.addPin("signal2",100,0,"return easyLinear();"),n.setSignalActiveStatus("signal1",!0),n.setSignalActiveStatus("signal2",!0),n.getProject()}}),DM=function(){function n(e,t,r){if(r===void 0&&(r=1e4),this.content=e,this.__transformer=t,typeof r=="number"){if(r<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:r}}else this.__internal=r;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return n.deserialize=function(e,t){var r=JSON.parse(e);return new n(r.content,t,r.__internal)},n.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},n.prototype.next=function(){var e=this.__internal.states[this.__internal.cursor].nextState;if(!e)return{success:!1,message:"No next state"};var t=this.__internal.cursor,r=this.__internal.states[t].forward;return this.__internal.cursor=e,this.content=this.__transformer(this.content,r),{success:!0,message:"Next state reached"}},n.prototype.previous=function(){var e=this.__internal.states[this.__internal.cursor].previousState;if(!e)return{success:!1,message:"No previous state"};var t=this.__internal.cursor,r=this.__internal.states[t].backward;return this.__internal.cursor=e,this.content=this.__transformer(this.content,r),{success:!0,message:"Previous state reached"}},n.prototype.goToNamedState=function(e){var t=this.__internal.namedStates[e];if(!t)return{success:!1,message:"Named state not found"};if(!this.__internal.states[t])throw new Error("Named state has no corresponding state");var r=this.__internal.cursor;if(t===r)return{success:!0,message:"Already at named state"};for(var i="forward",o=r,s=0;o&&s<this.__MAX_ITERATIONS;)s++,o===t&&(i="backward"),o=this.__internal.states[o].previousState;if(i==="forward"){for(s=0;this.__internal.cursor!==t&&s<this.__MAX_ITERATIONS;)if(s++,!(u=this.next()).success)throw new Error(u.message)}else for(s=0;this.__internal.cursor!==t&&s<this.__MAX_ITERATIONS;){var u;if(s++,!(u=this.previous()).success)throw new Error(u.message)}return{success:!0,message:"Moved to named state"}},n.prototype.saveAsNamedState=function(e){this.__internal.namedStates[e]=this.__internal.cursor},n.prototype.appendToCurrentState=function(e,t){this.content=this.__transformer(this.content,e);var r=this.__internal.cursor,i=this.__internal.states[r].forward,o=this.__internal.states[r].backward;this.__internal.states[r].forward=i.concat(e),this.__internal.states[r].backward=t.concat(o)},n.prototype.addNextState=function(e,t){for(var r=this,i=[],o=u=this.__internal.cursor,s=0;o&&s<this.__MAX_ITERATIONS;)s++,(o=this.__internal.states[o].nextState)&&i.push(o);i.forEach(function(y){delete r.__internal.states[y]});var u=this.__internal.cursor,c="state".concat(function(){for(var y="",b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",_=0;_<10;_++)y+=b.charAt(Math.floor(52*Math.random()));return y}());this.__internal.states[c]={forward:e,backward:t,nextState:void 0,previousState:u},this.__internal.states[u].nextState=c,this.__internal.cursor=c,this.content=this.__transformer(this.content,e);var p=1,f=(o=u=this.__internal.cursor,[u]);for(s=0;o&&p<this.__internal.maxSize&&s<this.__MAX_ITERATIONS;)s++,(o=this.__internal.states[o].previousState)&&f.push(o),p++;var g=Object.keys(this.__internal.states).filter(function(y){return!f.includes(y)});g.forEach(function(y){delete r.__internal.states[y]}),f.forEach(function(y,b){var _=r.__internal.states[y].previousState,M=r.__internal.states[y].nextState;_&&!r.__internal.states[_]&&(r.__internal.states[y].previousState=void 0),M&&!r.__internal.states[M]&&(r.__internal.states[y].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(y){var b=r.__internal.namedStates[y];if(!b)throw new Error("Named state has no corresponding state");r.__internal.states[b]||delete r.__internal.namedStates[y]})},n.prototype.executeCommand=function(e){switch(e.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(e.namedState);break;case"saveAsNamedState":this.saveAsNamedState(e.namedState);break;case"addNextState":this.addNextState(e.forward,e.backward);break;case"appendToCurrentState":this.appendToCurrentState(e.forward,e.backward);break;default:throw new Error("Invalid command")}},n.prototype.executeCommands=function(e){var t=this;e.forEach(function(r){return t.executeCommand(r)})},n}(),wz=function(){function n(e){this.subscribers=[],this.update=[],this.dispatch=e,this.authorId="a".concat(FS())}return n.prototype.subscribeToProjectUpdates=function(e){var t=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter(function(r){return r!==e})}},n.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},n.prototype.pushCommand=function(e){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var t=e();this.worm.executeCommand(t),this.update.push(t)}catch(r){console.error(r)}},n.prototype.pushCommands=function(e){var t;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var r=e();this.worm.executeCommands(r),(t=this.update).push.apply(t,r)}catch(i){console.error(i)}},n.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var e=this.update;this.update=[];var t=this.projectStateId;this.projectStateId="ps".concat(FS()),this.subscribers.forEach(function(r){return r()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:e,lastAgreedProjectStateId:t,newProjectStateId:this.projectStateId})},n.prototype.processUpdate=function(e){if(this.worm&&this.projectStateId){var t=e.lastAgreedProjectStateId,r=e.newProjectStateId;(this.host?t===this.projectStateId&&e.authorIsHost===!1&&this.update.length===0:t===this.projectStateId)?(this.update=[],this.worm.executeCommands(e.instructions),this.projectStateId=r,this.subscribers.forEach(function(i){return i()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},n}(),$Y=function(n){function e(t,r){var i=n.call(this,t.dispatch)||this;return i.host=!0,i.worm=r,i.projectStateId="ps".concat(FS()),i.dispatch({authorId:i.authorId,authorIsHost:!0,type:"hostIsConnected"}),i}return Dh(e,n),Object.defineProperty(e.prototype,"initialized",{get:function(){return!0},enumerable:!1,configurable:!0}),e.fromProject=function(t,r){return new e(t,new DM(r,t.projectTransformer))},e.fromSerializedWorm=function(t,r){return new e(t,DM.deserialize(r,t.projectTransformer))},e.prototype.receive=function(t){if(t.authorId!==this.authorId)switch(t.type){case"requestProject":this.pushProject(t.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(t);break;default:throw new Error("Invalid event type")}},e.prototype.pushProject=function(t){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:t})},e}(wz),zY=function(n){function e(t){var r=n.call(this,t.dispatch)||this;return r.host=!1,r.projectRequestCallbacks={},r.__projectTransformer=t.projectTransformer,r}return Dh(e,n),Object.defineProperty(e.prototype,"initialized",{get:function(){return this.worm!==void 0&&this.projectStateId!==void 0},enumerable:!1,configurable:!0}),e.prototype.receive=function(t){if(t.authorId!==this.authorId)switch(t.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=DM.deserialize(t.serializedWorm,this.__projectTransformer),this.projectStateId=t.initialProjectStateId,t.requestId&&this.projectRequestCallbacks[t.requestId]&&(this.projectRequestCallbacks[t.requestId](),delete this.projectRequestCallbacks[t.requestId]);break;case"pushUpdate":this.processUpdate(t);break;default:throw new Error("Invalid event type")}},e.prototype.requestProject=function(t){var r;t&&(r="r".concat(FS()),this.projectRequestCallbacks[r]=t),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:r})},e}(wz),FS=function(){for(var n="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",t=0;t<10;t++)n+=e.charAt(Math.floor(52*Math.random()));return n},bz=Symbol.for("immer-nothing"),AN=Symbol.for("immer-draftable"),rm=Symbol.for("immer-state");function Rm(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var O1=Object.getPrototypeOf;function d1(n){return!!n&&!!n[rm]}function oy(n){var e;return!!n&&(xz(n)||Array.isArray(n)||!!n[AN]||!!((e=n.constructor)!=null&&e[AN])||xE(n)||DE(n))}var UY=Object.prototype.constructor.toString();function xz(n){if(!n||typeof n!="object")return!1;const e=O1(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object||typeof t=="function"&&Function.toString.call(t)===UY}function PS(n,e){bE(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function bE(n){const e=n[rm];return e?e.type_:Array.isArray(n)?1:xE(n)?2:DE(n)?3:0}function CM(n,e){return bE(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Dz(n,e,t){const r=bE(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function xE(n){return n instanceof Map}function DE(n){return n instanceof Set}function Iv(n){return n.copy_||n.base_}function SM(n,e){if(xE(n))return new Map(n);if(DE(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=xz(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[rm];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[s]})}return Object.create(O1(n),r)}{const r=O1(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function aI(n,e=!1){return CE(n)||d1(n)||!oy(n)||(bE(n)>1&&(n.set=n.add=n.clear=n.delete=WY),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>aI(r,!0))),n}function WY(){Rm(2)}function CE(n){return Object.isFrozen(n)}var Fb,HY={};function ay(n){const e=HY[n];return e||Rm(0,n),e}function kN(){return Fb}function MN(n,e){e&&(ay("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function _M(n){EM(n),n.drafts_.forEach(VY),n.drafts_=null}function EM(n){n===Fb&&(Fb=n.parent_)}function FN(n){return Fb={drafts_:[],parent_:Fb,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function VY(n){const e=n[rm];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PN(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[rm].modified_&&(_M(e),Rm(4)),oy(n)&&(n=TS(e,n),e.parent_||IS(e,n)),e.patches_&&ay("Patches").generateReplacementPatches_(t[rm].base_,n,e.patches_,e.inversePatches_)):n=TS(e,t,[]),_M(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==bz?n:void 0}function TS(n,e,t){if(CE(e))return e;const r=e[rm];if(!r)return PS(e,(i,o)=>TN(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return IS(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),PS(o,(u,c)=>TN(n,r,i,u,c,t,s)),IS(n,i,!1),t&&n.patches_&&ay("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function TN(n,e,t,r,i,o,s){if(d1(i)){const u=TS(n,i,o&&e&&e.type_!==3&&!CM(e.assigned_,r)?o.concat(r):void 0);if(Dz(t,r,u),!d1(u))return;n.canAutoFreeze_=!1}else s&&t.add(i);if(oy(i)&&!CE(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;TS(n,i),e&&e.scope_.parent_||typeof r=="symbol"||!Object.prototype.propertyIsEnumerable.call(t,r)||IS(n,i)}}function IS(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&aI(e,t)}var AM={get(n,e){if(e===rm)return n;const t=Iv(n);if(!CM(t,e))return function(i,o,s){var c;const u=IN(o,s);return u?"value"in u?u.value:(c=u.get)==null?void 0:c.call(i.draft_):void 0}(n,t,e);const r=t[e];return n.finalized_||!oy(r)?r:r===pA(n.base_,e)?(gA(n),n.copy_[e]=MM(r,n)):r},has:(n,e)=>e in Iv(n),ownKeys:n=>Reflect.ownKeys(Iv(n)),set(n,e,t){const r=IN(Iv(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=pA(Iv(n),e),u=s==null?void 0:s[rm];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(((i=t)===(o=s)?i!==0||1/i==1/o:i!=i&&o!=o)&&(t!==void 0||CM(n.base_,e)))return!0;gA(n),kM(n)}var i,o;return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty:(n,e)=>(pA(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,gA(n),kM(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0),getOwnPropertyDescriptor(n,e){const t=Iv(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Rm(11)},getPrototypeOf:n=>O1(n.base_),setPrototypeOf(){Rm(12)}},jw={};function pA(n,e){const t=n[rm];return(t?Iv(t):n)[e]}function IN(n,e){if(!(e in n))return;let t=O1(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=O1(t)}}function kM(n){n.modified_||(n.modified_=!0,n.parent_&&kM(n.parent_))}function gA(n){n.copy_||(n.copy_=SM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}PS(AM,(n,e)=>{jw[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),jw.deleteProperty=function(n,e){return jw.set.call(this,n,e,void 0)},jw.set=function(n,e,t){return AM.set.call(this,n[0],e,t,n[0])};function MM(n,e){const t=xE(n)?ay("MapSet").proxyMap_(n,e):DE(n)?ay("MapSet").proxySet_(n,e):function(r,i){const o=Array.isArray(r),s={type_:o?1:0,scope_:i?i.scope_:kN(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=s,c=AM;o&&(u=[s],c=jw);const{revoke:p,proxy:f}=Proxy.revocable(u,c);return s.draft_=f,s.revoke_=p,f}(n,e);return(e?e.scope_:kN()).drafts_.push(t),t}function Cz(n){if(!oy(n)||CE(n))return n;const e=n[rm];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=SM(n,e.scope_.immer_.useStrictShallowCopy_)}else t=SM(n,!0);return PS(t,(r,i)=>{Dz(t,r,Cz(i))}),e&&(e.finalized_=!1),t}var Ug=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const s=this;return function(u=o,...c){return s.produce(u,p=>t.call(this,p,...c))}}let i;if(typeof t!="function"&&Rm(6),r!==void 0&&typeof r!="function"&&Rm(7),oy(e)){const o=FN(this),s=MM(e,void 0);let u=!0;try{i=t(s),u=!1}finally{u?_M(o):EM(o)}return MN(o,r),PN(i,o)}if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===bz&&(i=void 0),this.autoFreeze_&&aI(i,!0),r){const o=[],s=[];ay("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}Rm(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,u=>e(u,...s));let r,i;return[this.produce(e,t,(o,s)=>{r=o,i=s}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){oy(n)||Rm(8),d1(n)&&(n=function(r){return d1(r)||Rm(10,r),Cz(r)}(n));const e=FN(this),t=MM(n,void 0);return t[rm].isManual_=!0,EM(e),t}finishDraft(n,e){const t=n&&n[rm];t&&t.isManual_||Rm(9);const{scope_:r}=t;return MN(r,e),PN(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=ay("Patches").applyPatches_;return d1(n)?r(n,e):this.produce(n,i=>r(i,e))}},qY=Ug.produce;function ON(n,e){var t=e.pinId,r=!1;for(var i in n.signalData){var o=n.signalData[i],s=o.pinIds.indexOf(t);if(s!==-1){o.pinIds.splice(s,1),delete o.pinTimes[t],delete o.pinValues[t],o.type==="continuous"&&delete o.curves[t],r=!0;break}}if(!r)throw new Error("Pin with id ".concat(t," not found"));n.orgData.pinIds=n.orgData.pinIds.filter(function(u){return u!==t}),delete n.orgData.signalIdByPinId[t]}Ug.produceWithPatches.bind(Ug),Ug.setAutoFreeze.bind(Ug),Ug.setUseStrictShallowCopy.bind(Ug),Ug.applyPatches.bind(Ug),Ug.createDraft.bind(Ug),Ug.finishDraft.bind(Ug);var KY={addPin:function(n,e){var t=e.signalId,r=e.pinId,i=e.pinTime,o=e.pinValue,s=e.functionString,u=n.signalData[t];if(!u)throw new Error("Signal with id ".concat(t," not found"));var c=u.type;if(c==="continuous"&&typeof o!="number")throw new Error("Pin value must be a number for continuous signals");if(c==="discrete"&&typeof o!="string")throw new Error("Pin value must be a string for discrete signals");for(var p in n.signalData)if(n.signalData[p].pinIds.includes(r))throw new Error("Pin with id ".concat(r," already exists"));if(Object.values(u.pinTimes).includes(i))throw new Error("Pin time must be unique within the signal");var f=n.timelineData.numberOfFrames;if(i<0||i>f)throw new Error("Pin time must be between 0 and ".concat(f));if(c==="continuous"){var g=u.range,y=g[0],b=g[1];if(o<y||o>b)throw new Error("Pin value must be between ".concat(y," and ").concat(b));if(!s)throw new Error("Curve is required for continuous signals")}var _=u.pinIds;if(_.length===0)u.pinIds.push(r);else{var M=_.findIndex(function(F){return u.pinTimes[F]>=i});M===-1&&(M=_.length),u.pinIds.splice(M,0,r)}u.pinTimes[r]=i,u.pinValues[r]=o,c==="continuous"&&(u.curves[r]=s),n.orgData.pinIds.push(r),n.orgData.signalIdByPinId[r]=t},deletePin:ON,updatePinTime:function(n,e){var t=e.pinId,r=e.pinTime,i=n.timelineData.numberOfFrames;if(r<0||r>i)throw new Error("Pin time must be between 0 and ".concat(i));var o=!1,s=function(c){var p=n.signalData[c];if(p.pinIds.includes(t)){p.pinTimes[t]=r;var f=p.pinIds,g=f.indexOf(t);f.splice(g,1);var y=f.findIndex(function(b){return p.pinTimes[b]>=r});return y===-1&&(y=f.length),f.splice(y,0,t),o=!0,"break"}};for(var u in n.signalData)if(s(u)==="break")break;if(!o)throw new Error("Pin with id ".concat(t," not found"))},updatePinValue:function(n,e){var t=e.pinId,r=e.pinValue,i=!1;for(var o in n.signalData){var s=n.signalData[o];if(s.pinIds.includes(t)){if(s.type==="continuous"&&typeof r!="number")throw new Error("Pin value must be a number for continuous signals");if(s.type==="discrete"&&typeof r!="string")throw new Error("Pin value must be a string for discrete signals");if(s.type==="continuous"){var u=s.range,c=u[0],p=u[1];if(r<c||r>p)throw new Error("Pin value must be between ".concat(c," and ").concat(p))}s.pinValues[t]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(t," not found"))},updatePins:function(n,e){for(var t=function(o){var s=o.pinId,u=o.pinTime,c=o.pinValue,p=o.functionString,f=n.orgData.signalIdByPinId[s];if(!f)throw new Error("Pin with id ".concat(s," not found"));var g=n.signalData[f];if(g.type==="continuous"&&typeof c!="number")throw new Error("Pin value must be a number for continuous signals");if(g.type==="discrete"&&typeof c!="string")throw new Error("Pin value must be a string for discrete signals");if(g.type==="continuous"){var y=g.range,b=y[0],_=y[1];if(c<b||c>_)throw new Error("Pin value must be between ".concat(b," and ").concat(_));if(!p)throw new Error("Curve is required for continuous signals")}g.pinTimes[s]=u,g.pinValues[s]=c;var M=g.pinIds,F=M.indexOf(s);M.splice(F,1);var O=M.findIndex(function(j){return g.pinTimes[j]>=u});O===-1&&(O=M.length),M.splice(O,0,s),g.type==="continuous"&&(g.curves[s]=p)},r=0,i=e.pins;r<i.length;r++)t(i[r])},updateCurve:function(n,e){var t=e.pinId,r=e.functionString,i=!1;for(var o in n.signalData){var s=n.signalData[o];if(s.type!=="discrete"&&s.pinIds.includes(t)){s.curves[t]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(t," not found"))},createSignal:function(n,e){var t,r=e.signalId,i=e.signalType,o=e.signalName,s=e.range;if(n.signalData[r])throw new Error("Signal with id ".concat(r," already exists"));if(i!=="continuous"&&i!=="discrete")throw new Error("Signal type must be continuous or discrete");if(i==="continuous"){if(!s)throw new Error("Range is required for continuous signals");if(s[0]>=s[1])throw new Error("Min value must be less than max value");t={id:r,type:i,range:s,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}i==="discrete"&&(t={id:r,type:i,pinIds:[],pinTimes:{},pinValues:{}}),n.signalData[r]=t,n.orgData.signalIds.push(r),n.orgData.signalNames[r]=o,n.orgData.signalTypes[r]=i,n.orgData.activeSignalIds.push(r)},deleteSignal:function(n,e){var t=e.signalId;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));delete n.signalData[t],n.orgData.signalIds=n.orgData.signalIds.filter(function(r){return r!==t}),delete n.orgData.signalNames[t],n.orgData.activeSignalIds=n.orgData.activeSignalIds.filter(function(r){return r!==t})},updateSignalName:function(n,e){var t=e.signalId,r=e.signalName;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));n.orgData.signalNames[t]=r},updateSignalRange:function(n,e){var t=e.signalId,r=e.range;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));if(n.signalData[t].type!=="continuous")throw new Error("Range can only be updated for continuous signals");if(r[0]>=r[1])throw new Error("Min value must be less than max value");n.signalData[t].range=r},updateSignalIndex:function(n,e){var t=e.signalId,r=e.index,i=n.orgData.signalIds,o=i.indexOf(t);if(o===-1)throw new Error("Signal with id ".concat(t," not found"));i.splice(o,1),i.splice(r,0,t)},updateSignalActiveStatus:function(n,e){var t=e.signalId,r=e.active;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));var i=n.orgData.activeSignalIds,o=i.indexOf(t);r&&o===-1&&i.push(t),r||o===-1||i.splice(o,1)},updateFramesPerSecond:function(n,e){var t=e.framesPerSecond;if(t<=0)throw new Error("Frames per second must be greater than 0");n.timelineData.framesPerSecond=t},updatePlayheadPosition:function(n,e){var t=e.playheadPosition;if(t<0||t>n.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(n.timelineData.numberOfFrames));n.timelineData.playheadPosition=t},updateNumberOfFrames:function(n,e){var t=e.numberOfFrames;if(t<=0)throw new Error("Number of frames must be greater than 0");for(var r in n.timelineData.numberOfFrames=t,n.signalData)for(var i=n.signalData[r],o=0,s=i.pinIds;o<s.length;o++){var u=s[o];i.pinTimes[u]>t&&ON(n,{type:"deletePin",pinId:u})}},updateProjectName:function(n,e){var t=e.projectName;n.metaData.name=t},updateFocusRange:function(n,e){var t=e.focusRange,r=t[0],i=t[1];if(r<0||i>n.timelineData.numberOfFrames||r>=i)throw new Error("Invalid focus range");n.timelineData.focusRange=t},updateCurveTemplate:function(n,e){var t=e.curveId,r=e.functionString;if(!n.templateData[t])throw new Error("Curve template with id ".concat(t," not found"));n.templateData[t]=r},addCurveTemplate:function(n,e){var t=e.curveId,r=e.functionString;if(n.templateData[t])throw new Error("Curve template with id ".concat(t," already exists"));n.templateData[t]=r},deleteCurveTemplate:function(n,e){var t=e.curveId;if(!n.templateData[t])throw new Error("Curve template with id ".concat(t," not found"));delete n.templateData[t]}};function GY(n,e){return qY(n,function(t){for(var r=0;r<e.length;r++){var i=e[r];(0,KY[i.type])(t,i)}})}function NN(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var YY={type:"saveAsNamedState",namedState:"commit"},JY={type:"goToNamedState",namedState:"commit"};function Vy(n,e,t,r,i){return{type:"addPin",signalId:n,pinId:e,pinTime:t,pinValue:r,functionString:i}}function BN(n,e){var t=n(),r=Object.keys(t.signalData).find(function(c){var p;return(p=t.signalData[c])===null||p===void 0?void 0:p.pinIds.includes(e)});if(!r)throw new Error("Pin not found");var i=t.signalData[r].type,o=t.signalData[r].pinTimes[e],s=t.signalData[r].pinValues[e],u=i==="continuous"?t.signalData[r].curves[e]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:e}],backward:[Vy(r,e,o,s,u)]}}var RN=$Y,XY=zY,mA=GY,QY=function(){function n(e,t,r,i){if(t){if(!r&&!i)throw new Error("Project or worm must be provided to host project controller");var o=void 0;if(r&&(o=RN.fromProject({dispatch:e,projectTransformer:mA},r)).worm.saveAsNamedState("commit"),i&&(o=RN.fromSerializedWorm({dispatch:e,projectTransformer:mA},i)),!o)throw new Error("Project node not created");this.projectNode=o,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new XY({dispatch:e,projectTransformer:mA});var s=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=s}}return n.Host=function(e,t){return new n(e,!0,t)},n.HostFromProject=function(e,t){return new n(e,!0,t)},n.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},n.HostFromSerializedWorm=function(e,t){return new n(e,!0,void 0,t)},n.Client=function(e){return new n(e,!1,void 0)},n.prototype.receive=function(e){this.projectNode.receive(e)},Object.defineProperty(n.prototype,"projectTools",{get:function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var e=this.projectNode.pushUpdate.bind(this.projectNode),t=this.projectNode.getProject.bind(this.projectNode),r=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(i,o,s,u){function c(){o(function(){return JY})}function p(){o(function(){return YY})}return{returnToLastCommit:function(){c()},pushUpdate:i,addPinContinuous:function(f,g,y,b,_,M){M&&c(),o(function(){var F=u().signalData[f],O=F.pinTimes,j=F.pinIds.findIndex(function(G){return O[G]===y}),z=[];j!==-1&&z.push({type:"deletePin",pinId:F.pinIds[j]}),z.push(Vy(f,g,y,b,_));var W=[];if(W.push({type:"deletePin",pinId:g}),j!==-1){var J=F.pinIds[j];W.push(Vy(f,J,F.pinTimes[J],F.pinValues[J],F.curves[J]))}return{type:"addNextState",forward:z,backward:W}}),M&&(p(),i())},addPinDiscrete:function(f,g,y,b,_){_&&c(),o(function(){var M=u().signalData[f],F=M.pinTimes,O=M.pinIds.findIndex(function(J){return F[J]===y}),j=[];O!==-1&&j.push({type:"deletePin",pinId:M.pinIds[O]}),j.push(Vy(f,g,y,b));var z=[];if(z.push({type:"deletePin",pinId:g}),O!==-1){var W=M.pinIds[O];z.push(Vy(f,W,M.pinTimes[W],M.pinValues[W]))}return{type:"addNextState",forward:j,backward:z}}),_&&(p(),i())},deletePin:function(f){c(),o(function(){return BN(u,f)}),p(),i()},deletePins:function(f){c(),f.forEach(function(g){o(function(){return BN(u,g)})}),p(),i()},updatePins:function(f,g){g&&c();var y=u(),b={type:"updatePins",pins:[]},_={type:"updatePins",pins:[]};f.forEach(function(M){var F=M.pinId,O=y.orgData.signalIdByPinId[F],j=M.pinTime,z=M.pinValue,W=M.pinType==="continuous"?M.functionString:void 0,J=y.signalData[O].pinTimes[F],G=y.signalData[O].pinValues[F],Q=M.pinType==="continuous"?y.signalData[O].curves[F]:void 0,te={pinId:F,pinTime:j??J,pinValue:z??G,functionString:W??Q},ae={pinId:F,pinTime:J,pinValue:G,functionString:Q};b.pins.push(te),_.pins.push(ae)}),o(function(){return{type:"addNextState",forward:[b],backward:[_]}}),g&&p(),i()},updateCurve:function(f,g){c(),o(function(){var y=u(),b=Object.keys(y.signalData).find(function(_){var M;return(M=y.signalData[_])===null||M===void 0?void 0:M.pinIds.includes(f)});if(!b)throw new Error("Pin not found");if(y.signalData[b].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:f,functionString:g}],backward:[{type:"updateCurve",pinId:f,functionString:y.signalData[b].curves[f]}]}}),p(),i()},createSignal:function(f,g,y,b){c(),o(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:f,signalType:g,signalName:y,range:b}],backward:[{type:"deleteSignal",signalId:f}]}}),p(),i()},duplicateSignal:function(f){c();var g=NN();o(function(){var y=u(),b=y.signalData[f];if(!b)throw new Error("Signal not found");var _=y.orgData.signalNames[f]+"_copy",M=b.type==="continuous"?b.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:g,signalType:b.type,signalName:_,range:M}],backward:[{type:"deleteSignal",signalId:g}]}}),o(function(){var y=u(),b=y.signalData[f].pinIds,_=y.signalData[f].type,M=b.map(function(F){var O,j=y.signalData[f].pinTimes[F],z=y.signalData[f].pinValues[F];return _==="continuous"&&(O=y.signalData[f].curves[F]),{pinTime:j,pinValue:z,functionString:O,pinId:NN()}});return{type:"addNextState",forward:M.map(function(F){return Vy(g,F.pinId,F.pinTime,F.pinValue,F.functionString)}),backward:M.map(function(F){return{type:"deletePin",pinId:F.pinId}})}}),p(),i()},deleteSignal:function(f){c(),o(function(){var g=u(),y=g.signalData[f];if(!y)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:f}],backward:[{type:"createSignal",signalId:f,signalType:y.type,signalName:g.orgData.signalNames[f],range:y.type==="continuous"?y.range:void 0}]}}),p(),i()},updateSignalName:function(f,g){c(),o(function(){var y=u();if(!y.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:f,signalName:g}],backward:[{type:"updateSignalName",signalId:f,signalName:y.orgData.signalNames[f]}]}}),p(),i()},updateSignalRange:function(f,g){c(),o(function(){var y=u().signalData[f];if(!y)throw new Error("Signal not found");if(y.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:f,range:g}],backward:[{type:"updateSignalRange",signalId:f,range:y.range}]}}),p(),i()},updateSignalIndex:function(f,g,y){y&&c(),o(function(){var b=u();if(!b.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:f,index:g}],backward:[{type:"updateSignalIndex",signalId:f,index:b.orgData.activeSignalIds.indexOf(f)}]}}),y&&p(),i()},updateSignalActiveStatus:function(f,g){c(),o(function(){var y=u();if(!y.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:f,active:g}],backward:[{type:"updateSignalActiveStatus",signalId:f,active:y.orgData.activeSignalIds.includes(f)}]}}),p(),i()},updateFramesPerSecond:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:f}],backward:[{type:"updateFramesPerSecond",framesPerSecond:g.timelineData.framesPerSecond}]}}),p(),i()},updatePlayheadPosition:function(f,g){g&&c(),o(function(){var y=u();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:f}],backward:[{type:"updatePlayheadPosition",playheadPosition:y.timelineData.playheadPosition}]}}),g&&p(),i()},updateFocusRange:function(f){var g=f[0],y=f[1];c(),o(function(){var b=u();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[g,y]}],backward:[{type:"updateFocusRange",focusRange:b.timelineData.focusRange}]}}),p(),i()},updateNumberOfFrames:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:f}],backward:[{type:"updateNumberOfFrames",numberOfFrames:g.timelineData.numberOfFrames}]}}),p(),i()},updateProjectName:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:f}],backward:[{type:"updateProjectName",projectName:g.metaData.name}]}}),p(),i()},undo:function(){c(),o(function(){return{type:"previous"}}),p(),i()},redo:function(){c(),o(function(){return{type:"next"}}),p(),i()},addCurveTemplate:function(f,g){o(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:f,functionString:g}],backward:[{type:"deleteCurveTemplate",curveId:f}]}}),i()},deleteCurveTemplate:function(f){o(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:f}],backward:[{type:"addCurveTemplate",curveId:f,functionString:u().templateData[f]}]}}),i()},updateCurveTemplate:function(f,g){o(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:f,functionString:g}],backward:[{type:"updateCurveTemplate",curveId:f,functionString:u().templateData[f]}]}}),i()}}}(e,r,0,t)},enumerable:!1,configurable:!0}),n.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},n.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},n.prototype.subscribeToProjectUpdates=function(e){return this.projectNode.subscribeToProjectUpdates(e)},n.prototype.interpolateSignalValueAtTime=function(e,t){if(!this.projectNode.initialized)throw new Error("Project not initialized");var r=this.projectNode.getProject();return Sz(r,e,t)},n}();function ZY(n,e,t){return t===void 0&&(t="default"),function(r){var i={type:"projectNodeEvent",event:r,channel:t};n.postMessage(i,e)}}function eJ(n,e){return e===void 0&&(e="default"),function(t){function r(i){if(i.origin===n&&i.data.type==="projectNodeEvent"&&i.data.channel===e){var o=i.data.event;t(o)}}return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}}var tJ=Object.freeze({__proto__:null,dispatchProjectEvent:ZY,subscribeToProjectEvents:eJ}),nJ=Object.freeze({__proto__:null,dispatchProjectEvent:function(n){return n===void 0&&(n="default"),function(e){var t=new CustomEvent("projectNodeEvent",{detail:{event:e,channel:n}});window.dispatchEvent(t)}},subscribeToProjectEvents:function(n){return n===void 0&&(n="default"),function(e){function t(r){if(r.type==="projectNodeEvent"&&r.detail.channel===n){var i=r.detail.event;e(i)}}return window.addEventListener("projectNodeEvent",t),function(){return window.removeEventListener("projectNodeEvent",t)}}}}),km=Object.freeze({__proto__:null,CustomEventAPI:nJ,PinsAndCurvesProjectController:QY,PostMessageAPI:tJ});function rJ(n,e,t){return n+(e-n)*t}function jN(n){return n*n*n}function LN(n){return 1-Math.pow(1-n,3)}function $N(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function zN(n){var e=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*e)+1}var $x={},UN={},WN=1e-6,iJ=function(n,e,t,r){var i=n.signalData[e],o=i.range,s=o[0],u=o[1],c=Object.entries(i.pinTimes).sort(function(Ce,Me){return Ce[1]-Me[1]}),p=c.find(function(Ce){return Ce[0],Ce[1]>=t});if(p===void 0)return[s,[]];var f,g=p,y=g[0],b=g[1],_=i.pinValues[y],M=i.curves[y],F=s,O=0,j=c.findIndex(function(Ce){var Me=Ce[0];return Ce[1],Me===y});if(j>0){var z=c[j-1],W=z[0],J=z[1];F=i.pinValues[W],O=J}var G=UN[e+y];if(G===void 0||G.functionString!==M){var Q=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;


            `.concat(M);f=new Function("context","templates",Q),UN[e+y]={functionString:M,cachedFunction:f}}else f=G.cachedFunction;var te=(t-O)/(b!==O?b-O:1),ae=s,se=[];try{var ge=function(Ce){var Me=Ce.nextPinTime,Oe=Ce.project,et=Ce.range,$e=Ce.pinId,Fe=Ce.frame,Ne=Ce.numberOfFrames,Ee=Ce.framesPerSecond,Ze=Ce.nextPinValue,xt=Ce.previousPinTime,wt=Ce.previousPinValue,Dt=Ce.relativeTime,rn=Ce.interpolateSignalValueAtTime,an=et[0],un=et[1];return{nextPinTime:Me,nextPinValue:Ze,project:Oe,previousPinTime:xt,previousPinValue:wt,relativeTime:Dt,frame:Fe,pinId:$e,numberOfFrames:Ne,framesPerSecond:Ee,maxValue:un,minValue:an,linearInterpolation:rJ,easeInCubic:jN,easeOutCubic:LN,easeInOutCubic:$N,easeOutElastic:zN,easyLinear:function(){return Dt*(Ze-wt)+wt},easyStep:function(){return Ze},easyEaseIn:function(){return wt+jN(Dt)*(Ze-wt)},easyEaseOut:function(){return wt+LN(Dt)*(Ze-wt)},easyEase:function(){return wt+$N(Dt)*(Ze-wt)},easyEaseOutElastic:function(){return wt+zN(Dt)*(Ze-wt)},interpolateSignalValueAtTime:rn}}({nextPinTime:b,nextPinValue:_,previousPinTime:O,project:n,previousPinValue:F,relativeTime:te,pinId:y,frame:t,range:[s,u],numberOfFrames:n.timelineData.numberOfFrames,framesPerSecond:n.timelineData.framesPerSecond,interpolateSignalValueAtTime:function(Ce,Me){var Oe=n.orgData.signalIds.find(function(Ne){return n.orgData.signalNames[Ne]===Ce});if(Oe===void 0)throw new Error("Signal not found");var et=Sz(n,Oe,Me,r),$e=et[0],Fe=et[1];if(typeof $e=="string")throw new Error("Interpolation function returned string");return se.push.apply(se,Fe),$e}}),xe=function(Ce){var Me={};return Object.entries(Ce.templateData).forEach(function(Oe){var et=Oe[0],$e=Oe[1];if($x[et]!==void 0){if($x[et].functionString===$e){var Fe=$x[et].cachedFunction;return void(Me[et]=Fe)}}else Fe=new Function("return ".concat($e,";"))(),Me[et]=Fe,$x[et]={functionString:$e,cachedFunction:Fe}}),Me}(n);ae=f(ge,xe)}catch(Ce){se.push({signalId:e,frame:t,error:Ce.message})}if(isNaN(ae)&&(ae=s,se.push({signalId:e,frame:t,error:"Interpolated value is NaN"})),ae<s&&(ae=s,Math.abs(ae-s)>WN&&se.push({signalId:e,frame:t,error:"Interpolated value below minimum"})),ae>u){var Pe=ae;ae=u,Math.abs(Pe-u)>WN&&se.push({signalId:e,frame:t,error:"Interpolated value above maximum: "+Pe})}return[ae,se]},oJ=function(n,e,t,r){var i=n.signalData[e],o=Object.entries(i.pinTimes).sort(function(u,c){return u[1]-c[1]}).find(function(u){return u[0],u[1]>=t});if(o===void 0)return"END VALUE";var s=o[0];return o[1],i.pinValues[s]},Sz=function(n,e,t,r){if(r===void 0&&(r=0),++r>1e3)throw new Error("Exceeded maximum iteration count");var i=n.timelineData.numberOfFrames;if(t<0||t>i)throw new Error("Time out of range");var o=n.signalData[e].type;if(o==="discrete")return[oJ(n,e,t),[]];if(o==="continuous")return iJ(n,e,t,r);throw new Error("Invalid signal type")};function zv(n,e){return[n[0]+e[0],n[1]+e[1]]}function Yd(n,e){return[n[0]-e[0],n[1]-e[1]]}function dA(n,e){return[n[0]*e[0],n[1]*e[1]]}function Pb(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function aJ(n,e){return n[0]*e[0]+n[1]*e[1]}function Jd(n,e){return[n[0]*e,n[1]*e]}function rw(n,e){var t=[n[0][0],n[0][1],n[2][0],n[2][1]],r=t[0],i=t[1],o=t[2],s=t[3],u=[e[0][0],e[0][1],e[2][0],e[2][1]];return!(r>u[2]||o<u[0])&&!(i>u[3]||s<u[1])}var Xf=function(){function n(e,t,r){e===void 0&&(e=[0,0]),t===void 0&&(t=0),r===void 0&&(r=0),this._o=e,this._w=t,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(e){this._o=e},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(e){var t={x:e[0],y:e[1]},r=t.x,i=t.y,o={oX:this.o[0],oY:this.o[1]},s=o.oX,u=o.oY;return!(r<s||r>s+this.w)&&!(i<u||i>u+this.h)},n.prototype.clone=function(){return new n(n0([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,zv(this.o,[this.w,0]),zv(this.o,[this.w,this.h]),zv(this.o,[0,this.h])]},n.prototype.getCenter=function(){return zv(this.o,[this.w/2,this.h/2])},n}(),vd=function(n){function e(){var t=n.call(this)||this;return t.layer=0,t.children=[],t._isPrimaryCamera=!1,t._needsUpdate=!1,t._needsUpdate_root=!1,t.updateWhenCameraChanges=!1,t.state=void 0,t.context={},t.windowDidMountPrimitiveIsRunning=!1,t.childIndex=0,t.isCanvasRoot=!1,t.props={},t.globalPositioning=!1,t}return Dh(e,n),Object.defineProperty(e.prototype,"_cameraSnapshot",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_canvas",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.canvas},enumerable:!1,configurable:!0}),e.prototype.setAsPrimaryCamera=function(){var t;(t=this._root)===null||t===void 0||t.installCamera(this)},e.prototype.setState=function(t){var r,i;if(this.state===t)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(o){o.updateWhenCameraChanges&&(o._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,t))},e.prototype.setContext=function(t,r){var i,o;this.windowDidMountPrimitiveIsRunning?this.context[t]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[t]=r,(o=this._root)===null||o===void 0||o.scheduleContextUpdate(this,t,r))},e.prototype.windowDidMountPrimitive=function(t){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t),this.windowDidMountPrimitiveIsRunning=!1},e.prototype.windowDidMount=function(t){},e.prototype.windowDidUpdate=function(t){},e.prototype.cameraDidUpdate=function(){},e.prototype.windowWillUnmount=function(){},e.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t=this.getBox();return this._boxSnapshot=t,t},e.prototype.getBox=function(){return new Xf([0,0],0,0)},Object.defineProperty(e.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),e.prototype.cameraPassUpdateSelf=function(){var t,r,i=this;this._isPrimaryCamera?(t=this._root)===null||t===void 0||t.windows.forEach(function(o){var s;(s=i._root)===null||s===void 0||s.taintLayer(o.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(Iu({},this.props)))},e.prototype.cameraPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(u){return u(t)}),i=this.children.filter(function(u){return!r.includes(u)}),o=r.filter(function(u){return!t.children.includes(u)});this.children=r,i.forEach(function(u){return u.windowWillUnmount()}),o.forEach(function(u){return u.windowDidMountPrimitive(u.props)});var s=this.children.find(function(u){return u._needsUpdate});this.children.forEach(function(u){u._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},e.prototype.regularPassUpdateSelf=function(){var t;this._boxSnapshot=void 0,(t=this._root)===null||t===void 0||t.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(Iu({},this.props))},e.prototype.regularPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(t)}),i=this.children.filter(function(s){return!r.includes(s)}),o=r.filter(function(s){return!t.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),o.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},e.prototype.getChildren=function(t){return[]},e.prototype.incChildIndex=function(){this.childIndex++},e.Node=function(t){var r=this,i=this.name;return function(o){if(o.isCanvasRoot){var s=void 0;return(s=new r)._root=o,s.setKey("root"),s.props=t||{},s.context=Iu({},s.context),s}var u=o.childIndex;t||(t={});var c=t.key?t.key:"".concat(i,"[").concat(u,"]");return s=void 0,o.children.findIndex(function(p){return p.key===c})!==-1?s=o.children.find(function(p){return p.key===c}):((s=new r)._parent=o,s._root=o._root,s.setKey(c)),s.props=Iu({},t),s.context=Iu(Iu({},s.context),o.context),o.incChildIndex(),s}},Object.defineProperty(e.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),e.prototype.getChildByKey=function(t){return this.children.find(function(r){return r.key===t})},e.prototype.getBoundingBox=function(){var t=this.globalO,r=t[0],i=t[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},e.prototype.pointInside=function(t){return n.prototype.pointInside.call(this,Yd(t,this.parentO))},Object.defineProperty(e.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var t=this._parent.globalO,r=t[0],i=t[1],o=this.o;return[r+o[0],i+o[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),e.prototype.getLayer=function(){return this.layer},e.prototype.setLayer=function(t){this.layer=t},e.prototype.setKey=function(t){this.key=t},Object.defineProperty(e.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),e.prototype.absoluteToCanvasMeasure=function(t){return dA(t,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},e.prototype.canvasToAbsoluteMeasure=function(t){return dA(t,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(e.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),e.prototype.prepareHandlerProps=function(){var t=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),o=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,u=this.absoluteUnit,c=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:o,camera:t,canvasUnit:s,canvasO:c,absoluteUnit:u}},e.prototype.preparePostBoxHandlerProps=function(){var t=this,r=this._cameraSnapshot,i=this._canvas,o=function(u){var c=t.globalO,p=u[0],f=u[1],g=[c[0]+p,c[1]+f],y=g[0],b=g[1],_=r.o,M=[y-_[0],b-_[1]],F=M[1];return[M[0]*(i.width/r.w),F*(i.height/r.h)]},s=o([0,0]);return Iu(Iu({},this.prepareHandlerProps()),{localToCanvas:o,canvasToLocal:function(u){var c=t.globalO;return Yd(zv(dA(u,[r.w/i.width,r.h/i.height]),r.o),c)},absoluteO:s})},e.prototype.prepareMouseHandlerProps=function(t,r){var i=this.preparePostBoxHandlerProps(),o=this.canvasUnit,s=o[0],u=o[1],c=this.canvasO,p=c[0],f=c[1],g=[p+t[0]*s,f+t[1]*u],y=Yd(g,this.globalO),b=this.pointInside(g);return Iu(Iu({},i),{relativePos:y,canvasPos:t,absolutePos:g,pointInside:b,terminateEvent:r})},e.prototype.prepareWheelHandlerProps=function(t){var r=this.preparePostBoxHandlerProps();return Iu(Iu({},r),{terminateEvent:t})},e.prototype.renderPrimitive=function(t){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(Iu(Iu({},r),{ctx:t}))}},e.prototype.render=function(t){},e.prototype.onMouseDownPrimitive=function(t,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseDown=function(t,r){},e.prototype.onMouseMovePrimitive=function(t,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseMove=function(t,r){},e.prototype.onMouseUpPrimitive=function(t,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseUp=function(t,r){},e.prototype.onClickPrimitive=function(t,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onClick=function(t,r){},e.prototype.onWheelPrimitive=function(t,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t),r)},e.prototype.onWheel=function(t,r){},e.prototype.strokeOutline=function(t,r){t.ctx.strokeStyle=r;var i=t.absoluteO,o=t.absoluteUnit,s=i[0],u=i[1],c=o[0],p=o[1];t.ctx.strokeRect(s,u,this.w*c,this.h*p)},e}(Xf),vw={};function sJ(n,e,t,r,i){var o=(n=new Xf(n0([],n.o),n.w,n.h)).getBoundingBox(),s=e.filter(function(f){return rw(f.getBoundingBox(),o)}),u=Array.from(new Set(s.map(function(f){return f.getLayer()}))).sort(function(f,g){return f-g});r.clearRect(0,0,t.width,t.height);for(var c=function(f){var g=u[f],y=s.filter(function(W){return W.getLayer()===u[f]});if(i.includes(g)){var b=g+"";if(vw[b]===void 0){var _=document.createElement("canvas");_.width=t.width,_.height=t.height,vw[b]=_}var M=vw[b],F=M.getContext("2d");F.clearRect(0,0,M.width,M.height);for(var O=0,j=y;O<j.length;O++)j[O].renderPrimitive(F)}var z=g+"";vw[z]&&r.drawImage(vw[z],0,0)},p=0;p<u.length;p++)c(p)}function uJ(n,e,t,r,i){for(var o=(n=new Xf(n0([],n.o),n.w,n.h)).getBoundingBox(),s=e.filter(function(g){return rw(g.getBoundingBox(),o)}).reverse(),u=!0,c=function(){u=!1},p=0,f=s;p<f.length&&(f[p].onClickPrimitive(r,c,i),!!u);p++);}function lJ(n,e,t,r,i){for(var o=(n=new Xf(n0([],n.o),n.w,n.h)).getBoundingBox(),s=e.filter(function(g){return rw(g.getBoundingBox(),o)}).reverse(),u=!0,c=function(){u=!1},p=0,f=s;p<f.length&&(f[p].onMouseDownPrimitive(r,c,i),!!u);p++);}function cJ(n,e,t,r,i){for(var o=(n=new Xf(n0([],n.o),n.w,n.h)).getBoundingBox(),s=e.filter(function(g){return rw(g.getBoundingBox(),o)}).reverse(),u=!0,c=function(){u=!1},p=0,f=s;p<f.length&&(f[p].onMouseMovePrimitive(r,c,i),!!u);p++);}function fJ(n,e,t,r,i){for(var o=(n=new Xf(n0([],n.o),n.w,n.h)).getBoundingBox(),s=e.filter(function(g){return rw(g.getBoundingBox(),o)}).reverse(),u=!0,c=function(){u=!1},p=0,f=s;p<f.length&&(f[p].onMouseUpPrimitive(r,c,i),!!u);p++);}function hJ(n,e,t,r){for(var i=(n=new Xf(n0([],n.o),n.w,n.h)).getBoundingBox(),o=e.filter(function(f){return rw(f.getBoundingBox(),i)}).reverse(),s=!0,u=function(){s=!1},c=0,p=o;c<p.length&&(p[c].onWheelPrimitive(u,r),!!s);c++);}var HN,zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ux={exports:{}},Wx,Hx,pJ=(HN||(HN=1,Wx=Ux,Hx=Ux.exports,(function(){var n,e="Expected a function",t="__lodash_hash_undefined__",r="__lodash_placeholder__",i=16,o=32,s=64,u=128,c=256,p=1/0,f=9007199254740991,g=NaN,y=4294967295,b=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",i],["flip",512],["partial",o],["partialRight",s],["rearg",c]],_="[object Arguments]",M="[object Array]",F="[object Boolean]",O="[object Date]",j="[object Error]",z="[object Function]",W="[object GeneratorFunction]",J="[object Map]",G="[object Number]",Q="[object Object]",te="[object Promise]",ae="[object RegExp]",se="[object Set]",ge="[object String]",xe="[object Symbol]",Pe="[object WeakMap]",Ce="[object ArrayBuffer]",Me="[object DataView]",Oe="[object Float32Array]",et="[object Float64Array]",$e="[object Int8Array]",Fe="[object Int16Array]",Ne="[object Int32Array]",Ee="[object Uint8Array]",Ze="[object Uint8ClampedArray]",xt="[object Uint16Array]",wt="[object Uint32Array]",Dt=/\b__p \+= '';/g,rn=/\b(__p \+=) '' \+/g,an=/(__e\(.*?\)|\b__t\)) \+\n'';/g,un=/&(?:amp|lt|gt|quot|#39);/g,ur=/[&<>"']/g,Fn=RegExp(un.source),wi=RegExp(ur.source),js=/<%-([\s\S]+?)%>/g,$a=/<%([\s\S]+?)%>/g,fe=/<%=([\s\S]+?)%>/g,ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,Se=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Re=/[\\^$.*+?()[\]{}|]/g,Be=RegExp(Re.source),He=/^\s+/,We=/\s/,ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,gt=/\{\n\/\* \[wrapped with (.+)\] \*/,bt=/,? & /,fn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,kn=/[()=,{}\[\]\/\s]/,yn=/\\(\\)?/g,At=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ui=/\w*$/,io=/^[-+]0x[0-9a-f]+$/i,bo=/^0b[01]+$/i,ta=/^\[object .+?Constructor\]$/,Oo=/^0o[0-7]+$/i,Ru=/^(?:0|[1-9]\d*)$/,fa=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ju=/($^)/,eu=/['\n\r\u2028\u2029\\]/g,hs="\\ud800-\\udfff",uu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",zl="\\u2700-\\u27bf",Ss="a-z\\xdf-\\xf6\\xf8-\\xff",Dl="A-Z\\xc0-\\xd6\\xd8-\\xde",Cl="\\ufe0e\\ufe0f",Qa="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ul="['’]",rl="["+hs+"]",Gu="["+Qa+"]",Ls="["+uu+"]",Sl="\\d+",_s="["+zl+"]",xa="["+Ss+"]",za="[^"+hs+Qa+Sl+zl+Ss+Dl+"]",Jo="\\ud83c[\\udffb-\\udfff]",il="[^"+hs+"]",ol="(?:\\ud83c[\\udde6-\\uddff]){2}",Ua="[\\ud800-\\udbff][\\udc00-\\udfff]",lu="["+Dl+"]",al="\\u200d",sl="(?:"+xa+"|"+za+")",tu="(?:"+lu+"|"+za+")",cu="(?:['’](?:d|ll|m|re|s|t|ve))?",_l="(?:['’](?:D|LL|M|RE|S|T|VE))?",Pi="(?:"+Ls+"|"+Jo+")?",Lu="["+Cl+"]?",Br=Lu+Pi+"(?:"+al+"(?:"+[il,ol,Ua].join("|")+")"+Lu+Pi+")*",ha="(?:"+[_s,ol,Ua].join("|")+")"+Br,gn="(?:"+[il+Ls+"?",Ls,ol,Ua,rl].join("|")+")",na=RegExp(Ul,"g"),Sc=RegExp(Ls,"g"),El=RegExp(Jo+"(?="+Jo+")|"+gn+Br,"g"),No=RegExp([lu+"?"+xa+"+"+cu+"(?="+[Gu,lu,"$"].join("|")+")",tu+"+"+_l+"(?="+[Gu,lu+sl,"$"].join("|")+")",lu+"?"+sl+"+"+cu,lu+"+"+_l,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Sl,ha].join("|"),"g"),Qt=RegExp("["+al+hs+uu+Cl+"]"),jt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,fu=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ph=-1,Es={};Es[Oe]=Es[et]=Es[$e]=Es[Fe]=Es[Ne]=Es[Ee]=Es[Ze]=Es[xt]=Es[wt]=!0,Es[_]=Es[M]=Es[Ce]=Es[F]=Es[Me]=Es[O]=Es[j]=Es[z]=Es[J]=Es[G]=Es[Q]=Es[ae]=Es[se]=Es[ge]=Es[Pe]=!1;var Bo={};Bo[_]=Bo[M]=Bo[Ce]=Bo[Me]=Bo[F]=Bo[O]=Bo[Oe]=Bo[et]=Bo[$e]=Bo[Fe]=Bo[Ne]=Bo[J]=Bo[G]=Bo[Q]=Bo[ae]=Bo[se]=Bo[ge]=Bo[xe]=Bo[Ee]=Bo[Ze]=Bo[xt]=Bo[wt]=!0,Bo[j]=Bo[z]=Bo[Pe]=!1;var Nf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bt=parseFloat,rr=parseInt,Mo=typeof zx=="object"&&zx&&zx.Object===Object&&zx,df=typeof self=="object"&&self&&self.Object===Object&&self,Za=Mo||df||Function("return this")(),Rr=Hx&&!Hx.nodeType&&Hx,hu=Rr&&Wx&&!Wx.nodeType&&Wx,Ei=hu&&hu.exports===Rr,Hn=Ei&&Mo.process,Xo=function(){try{var Ue=hu&&hu.require&&hu.require("util").types;return Ue||Hn&&Hn.binding&&Hn.binding("util")}catch{}}(),af=Xo&&Xo.isArrayBuffer,cc=Xo&&Xo.isDate,Rn=Xo&&Xo.isMap,Qf=Xo&&Xo.isRegExp,jr=Xo&&Xo.isSet,Nc=Xo&&Xo.isTypedArray;function As(Ue,pt,Et){switch(Et.length){case 0:return Ue.call(pt);case 1:return Ue.call(pt,Et[0]);case 2:return Ue.call(pt,Et[0],Et[1]);case 3:return Ue.call(pt,Et[0],Et[1],Et[2])}return Ue.apply(pt,Et)}function mi(Ue,pt,Et,he){for(var Ke=-1,Qe=Ue==null?0:Ue.length;++Ke<Qe;){var ut=Ue[Ke];pt(he,ut,Et(ut),Ue)}return he}function Jn(Ue,pt){for(var Et=-1,he=Ue==null?0:Ue.length;++Et<he&&pt(Ue[Et],Et,Ue)!==!1;);return Ue}function ri(Ue,pt){for(var Et=Ue==null?0:Ue.length;Et--&&pt(Ue[Et],Et,Ue)!==!1;);return Ue}function nn(Ue,pt){for(var Et=-1,he=Ue==null?0:Ue.length;++Et<he;)if(!pt(Ue[Et],Et,Ue))return!1;return!0}function Xn(Ue,pt){for(var Et=-1,he=Ue==null?0:Ue.length,Ke=0,Qe=[];++Et<he;){var ut=Ue[Et];pt(ut,Et,Ue)&&(Qe[Ke++]=ut)}return Qe}function es(Ue,pt){return!(Ue==null||!Ue.length)&&pa(Ue,pt,0)>-1}function ch(Ue,pt,Et){for(var he=-1,Ke=Ue==null?0:Ue.length;++he<Ke;)if(Et(pt,Ue[he]))return!0;return!1}function Jr(Ue,pt){for(var Et=-1,he=Ue==null?0:Ue.length,Ke=Array(he);++Et<he;)Ke[Et]=pt(Ue[Et],Et,Ue);return Ke}function $s(Ue,pt){for(var Et=-1,he=pt.length,Ke=Ue.length;++Et<he;)Ue[Ke+Et]=pt[Et];return Ue}function Wl(Ue,pt,Et,he){var Ke=-1,Qe=Ue==null?0:Ue.length;for(he&&Qe&&(Et=Ue[++Ke]);++Ke<Qe;)Et=pt(Et,Ue[Ke],Ke,Ue);return Et}function Wn(Ue,pt,Et,he){var Ke=Ue==null?0:Ue.length;for(he&&Ke&&(Et=Ue[--Ke]);Ke--;)Et=pt(Et,Ue[Ke],Ke,Ue);return Et}function bi(Ue,pt){for(var Et=-1,he=Ue==null?0:Ue.length;++Et<he;)if(pt(Ue[Et],Et,Ue))return!0;return!1}var Bc=tc("length");function ul(Ue,pt,Et){var he;return Et(Ue,function(Ke,Qe,ut){if(pt(Ke,Qe,ut))return he=Qe,!1}),he}function zs(Ue,pt,Et,he){for(var Ke=Ue.length,Qe=Et+(he?1:-1);he?Qe--:++Qe<Ke;)if(pt(Ue[Qe],Qe,Ue))return Qe;return-1}function pa(Ue,pt,Et){return pt==pt?function(he,Ke,Qe){for(var ut=Qe-1,Vt=he.length;++ut<Vt;)if(he[ut]===Ke)return ut;return-1}(Ue,pt,Et):zs(Ue,_c,Et)}function Al(Ue,pt,Et,he){for(var Ke=Et-1,Qe=Ue.length;++Ke<Qe;)if(he(Ue[Ke],pt))return Ke;return-1}function _c(Ue){return Ue!=Ue}function Us(Ue,pt){var Et=Ue==null?0:Ue.length;return Et?ll(Ue,pt)/Et:g}function tc(Ue){return function(pt){return pt==null?n:pt[Ue]}}function Hl(Ue){return function(pt){return Ue==null?n:Ue[pt]}}function vr(Ue,pt,Et,he,Ke){return Ke(Ue,function(Qe,ut,Vt){Et=he?(he=!1,Qe):pt(Et,Qe,ut,Vt)}),Et}function ll(Ue,pt){for(var Et,he=-1,Ke=Ue.length;++he<Ke;){var Qe=pt(Ue[he]);Qe!==n&&(Et=Et===n?Qe:Et+Qe)}return Et}function Ro(Ue,pt){for(var Et=-1,he=Array(Ue);++Et<Ue;)he[Et]=pt(Et);return he}function Vl(Ue){return Ue&&Ue.slice(0,ye(Ue)+1).replace(He,"")}function ga(Ue){return function(pt){return Ue(pt)}}function fc(Ue,pt){return Jr(pt,function(Et){return Ue[Et]})}function ql(Ue,pt){return Ue.has(pt)}function ra(Ue,pt){for(var Et=-1,he=Ue.length;++Et<he&&pa(pt,Ue[Et],0)>-1;);return Et}function Wa(Ue,pt){for(var Et=Ue.length;Et--&&pa(pt,Ue[Et],0)>-1;);return Et}var ji=Hl({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),hc=Hl({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xo(Ue){return"\\"+Nf[Ue]}function ts(Ue){return Qt.test(Ue)}function Qi(Ue){var pt=-1,Et=Array(Ue.size);return Ue.forEach(function(he,Ke){Et[++pt]=[Ke,he]}),Et}function ii(Ue,pt){return function(Et){return Ue(pt(Et))}}function Qo(Ue,pt){for(var Et=-1,he=Ue.length,Ke=0,Qe=[];++Et<he;){var ut=Ue[Et];ut!==pt&&ut!==r||(Ue[Et]=r,Qe[Ke++]=Et)}return Qe}function vf(Ue){var pt=-1,Et=Array(Ue.size);return Ue.forEach(function(he){Et[++pt]=he}),Et}function ia(Ue){var pt=-1,Et=Array(Ue.size);return Ue.forEach(function(he){Et[++pt]=[he,he]}),Et}function ie(Ue){return ts(Ue)?function(pt){for(var Et=El.lastIndex=0;El.test(pt);)++Et;return Et}(Ue):Bc(Ue)}function de(Ue){return ts(Ue)?function(pt){return pt.match(El)||[]}(Ue):function(pt){return pt.split("")}(Ue)}function ye(Ue){for(var pt=Ue.length;pt--&&We.test(Ue.charAt(pt)););return pt}var ze=Hl({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ct=function Ue(pt){var Et,he=(pt=pt==null?Za:ct.defaults(Za.Object(),pt,ct.pick(Za,fu))).Array,Ke=pt.Date,Qe=pt.Error,ut=pt.Function,Vt=pt.Math,hn=pt.Object,Cr=pt.RegExp,Do=pt.String,jn=pt.TypeError,$t=he.prototype,Zh=ut.prototype,oa=hn.prototype,ps=pt["__core-js_shared__"],Ec=Zh.toString,oo=oa.hasOwnProperty,yf=0,pu=(Et=/[^.]+$/.exec(ps&&ps.keys&&ps.keys.IE_PROTO||""))?"Symbol(src)_1."+Et:"",pn=oa.toString,kl=Ec.call(hn),wf=Za._,Ma=Cr("^"+Ec.call(oo).replace(Re,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bf=Ei?pt.Buffer:n,nc=pt.Symbol,cl=pt.Uint8Array,fl=Bf?Bf.allocUnsafe:n,Wi=ii(hn.getPrototypeOf,hn),aa=hn.create,gu=oa.propertyIsEnumerable,sf=$t.splice,fh=nc?nc.isConcatSpreadable:n,Ac=nc?nc.iterator:n,Zo=nc?nc.toStringTag:n,$u=function(){try{var D=Ut(hn,"defineProperty");return D({},"",{}),D}catch{}}(),zu=pt.clearTimeout!==Za.clearTimeout&&pt.clearTimeout,Kl=Ke&&Ke.now!==Za.Date.now&&Ke.now,Rc=pt.setTimeout!==Za.setTimeout&&pt.setTimeout,Ch=Vt.ceil,Sh=Vt.floor,Tn=hn.getOwnPropertySymbols,wn=Bf?Bf.isBuffer:n,Gl=pt.isFinite,Zf=$t.join,Rf=ii(hn.keys,hn),Ws=Vt.max,Da=Vt.min,ks=Ke.now,Ai=pt.parseInt,Tr=Vt.random,ns=$t.reverse,Hs=Ut(pt,"DataView"),Fa=Ut(pt,"Map"),Pa=Ut(pt,"Promise"),kc=Ut(pt,"Set"),Uu=Ut(pt,"WeakMap"),Wu=Ut(hn,"create"),hl=Uu&&new Uu,Yl={},rs=vi(Hs),Ms=vi(Fa),Ml=vi(Pa),R=vi(kc),is=vi(Uu),Yu=nc?nc.prototype:n,Lr=Yu?Yu.valueOf:n,_t=Yu?Yu.toString:n;function Ae(D){if(Ao(D)&&!Nr(D)&&!(D instanceof ln)){if(D instanceof Z)return D;if(oo.call(D,"__wrapped__"))return Ka(D)}return new Z(D)}var $r=function(){function D(){}return function(E){if(!Ii(E))return{};if(aa)return aa(E);D.prototype=E;var N=new D;return D.prototype=n,N}}();function xi(){}function Z(D,E){this.__wrapped__=D,this.__actions__=[],this.__chain__=!!E,this.__index__=0,this.__values__=n}function ln(D){this.__wrapped__=D,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Eu(D){var E=-1,N=D==null?0:D.length;for(this.clear();++E<N;){var v=D[E];this.set(v[0],v[1])}}function bn(D){var E=-1,N=D==null?0:D.length;for(this.clear();++E<N;){var v=D[E];this.set(v[0],v[1])}}function _n(D){var E=-1,N=D==null?0:D.length;for(this.clear();++E<N;){var v=D[E];this.set(v[0],v[1])}}function gs(D){var E=-1,N=D==null?0:D.length;for(this.__data__=new _n;++E<N;)this.add(D[E])}function Di(D){var E=this.__data__=new bn(D);this.size=E.size}function Yi(D,E){var N=Nr(D),v=!N&&wa(D),m=!N&&!v&&on(D),x=!N&&!v&&!m&&Du(D),P=N||v||m||x,L=P?Ro(D.length,Do):[],H=L.length;for(var V in D)!E&&!oo.call(D,V)||P&&(V=="length"||m&&(V=="offset"||V=="parent")||x&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||Gs(V,H))||L.push(V);return L}function sa(D){var E=D.length;return E?D[Tl(0,E-1)]:n}function Ca(D,E){return Tc(ca(D),Li(E,0,D.length))}function Jl(D){return Tc(ca(D))}function oi(D,E,N){(N!==n&&!$n(D[E],N)||N===n&&!(E in D))&&ms(D,E,N)}function Xl(D,E,N){var v=D[E];oo.call(D,E)&&$n(v,N)&&(N!==n||E in D)||ms(D,E,N)}function Ta(D,E){for(var N=D.length;N--;)if($n(D[N][0],E))return N;return-1}function Hr(D,E,N,v){return Ln(D,function(m,x,P){E(v,m,N(m),P)}),v}function Fl(D,E){return D&&uo(E,Cn(E),D)}function ms(D,E,N){E=="__proto__"&&$u?$u(D,E,{configurable:!0,enumerable:!0,value:N,writable:!0}):D[E]=N}function ua(D,E){for(var N=-1,v=E.length,m=he(v),x=D==null;++N<v;)m[N]=x?n:Er(D,E[N]);return m}function Li(D,E,N){return D==D&&(N!==n&&(D=D<=N?D:N),E!==n&&(D=D>=E?D:E)),D}function fo(D,E,N,v,m,x){var P,L=1&E,H=2&E,V=4&E;if(N&&(P=m?N(D,v,m,x):N(D)),P!==n)return P;if(!Ii(D))return D;var Y=Nr(D);if(Y){if(P=function(be){var we=be.length,Te=new be.constructor(we);return we&&typeof be[0]=="string"&&oo.call(be,"index")&&(Te.index=be.index,Te.input=be.input),Te}(D),!L)return ca(D,P)}else{var re=Vn(D),ne=re==z||re==W;if(on(D))return or(D,L);if(re==Q||re==_||ne&&!m){if(P=H||ne?{}:Nl(D),!L)return H?function(be,we){return uo(be,Gt(be),we)}(D,function(be,we){return be&&uo(we,ja(we),be)}(P,D)):function(be,we){return uo(be,gr(be),we)}(D,Fl(P,D))}else{if(!Bo[re])return m?D:{};P=function(be,we,Te){var Ge,Ie=be.constructor;switch(we){case Ce:return Kn(be);case F:case O:return new Ie(+be);case Me:return function(Xe,Ye){var rt=Ye?Kn(Xe.buffer):Xe.buffer;return new Xe.constructor(rt,Xe.byteOffset,Xe.byteLength)}(be,Te);case Oe:case et:case $e:case Fe:case Ne:case Ee:case Ze:case xt:case wt:return Oa(be,Te);case J:return new Ie;case G:case ge:return new Ie(be);case ae:return function(Xe){var Ye=new Xe.constructor(Xe.source,Ui.exec(Xe));return Ye.lastIndex=Xe.lastIndex,Ye}(be);case se:return new Ie;case xe:return Ge=be,Lr?hn(Lr.call(Ge)):{}}}(D,re,L)}}x||(x=new Di);var ce=x.get(D);if(ce)return ce;x.set(D,P),Qu(D)?D.forEach(function(be){P.add(fo(be,E,N,be,D,x))}):sr(D)&&D.forEach(function(be,we){P.set(we,fo(be,E,N,we,D,x))});var me=Y?n:(V?H?Ol:ss:H?ja:Cn)(D);return Jn(me||D,function(be,we){me&&(be=D[we=be]),Xl(P,we,fo(be,E,N,we,D,x))}),P}function uf(D,E,N){var v=N.length;if(D==null)return!v;for(D=hn(D);v--;){var m=N[v],x=E[m],P=D[m];if(P===n&&!(m in D)||!x(P))return!1}return!0}function Sa(D,E,N){if(typeof D!="function")throw new jn(e);return Zn(function(){D.apply(n,N)},E)}function jo(D,E,N,v){var m=-1,x=es,P=!0,L=D.length,H=[],V=E.length;if(!L)return H;N&&(E=Jr(E,ga(N))),v?(x=ch,P=!1):E.length>=200&&(x=ql,P=!1,E=new gs(E));e:for(;++m<L;){var Y=D[m],re=N==null?Y:N(Y);if(Y=v||Y!==0?Y:0,P&&re==re){for(var ne=V;ne--;)if(E[ne]===re)continue e;H.push(Y)}else x(E,re,v)||H.push(Y)}return H}Ae.templateSettings={escape:js,evaluate:$a,interpolate:fe,variable:"",imports:{_:Ae}},Ae.prototype=xi.prototype,Ae.prototype.constructor=Ae,Z.prototype=$r(xi.prototype),Z.prototype.constructor=Z,ln.prototype=$r(xi.prototype),ln.prototype.constructor=ln,Eu.prototype.clear=function(){this.__data__=Wu?Wu(null):{},this.size=0},Eu.prototype.delete=function(D){var E=this.has(D)&&delete this.__data__[D];return this.size-=E?1:0,E},Eu.prototype.get=function(D){var E=this.__data__;if(Wu){var N=E[D];return N===t?n:N}return oo.call(E,D)?E[D]:n},Eu.prototype.has=function(D){var E=this.__data__;return Wu?E[D]!==n:oo.call(E,D)},Eu.prototype.set=function(D,E){var N=this.__data__;return this.size+=this.has(D)?0:1,N[D]=Wu&&E===n?t:E,this},bn.prototype.clear=function(){this.__data__=[],this.size=0},bn.prototype.delete=function(D){var E=this.__data__,N=Ta(E,D);return!(N<0||(N==E.length-1?E.pop():sf.call(E,N,1),--this.size,0))},bn.prototype.get=function(D){var E=this.__data__,N=Ta(E,D);return N<0?n:E[N][1]},bn.prototype.has=function(D){return Ta(this.__data__,D)>-1},bn.prototype.set=function(D,E){var N=this.__data__,v=Ta(N,D);return v<0?(++this.size,N.push([D,E])):N[v][1]=E,this},_n.prototype.clear=function(){this.size=0,this.__data__={hash:new Eu,map:new(Fa||bn),string:new Eu}},_n.prototype.delete=function(D){var E=Hu(this,D).delete(D);return this.size-=E?1:0,E},_n.prototype.get=function(D){return Hu(this,D).get(D)},_n.prototype.has=function(D){return Hu(this,D).has(D)},_n.prototype.set=function(D,E){var N=Hu(this,D),v=N.size;return N.set(D,E),this.size+=N.size==v?0:1,this},gs.prototype.add=gs.prototype.push=function(D){return this.__data__.set(D,t),this},gs.prototype.has=function(D){return this.__data__.has(D)},Di.prototype.clear=function(){this.__data__=new bn,this.size=0},Di.prototype.delete=function(D){var E=this.__data__,N=E.delete(D);return this.size=E.size,N},Di.prototype.get=function(D){return this.__data__.get(D)},Di.prototype.has=function(D){return this.__data__.has(D)},Di.prototype.set=function(D,E){var N=this.__data__;if(N instanceof bn){var v=N.__data__;if(!Fa||v.length<199)return v.push([D,E]),this.size=++N.size,this;N=this.__data__=new _n(v)}return N.set(D,E),this.size=N.size,this};var Ln=eo(Kt),Mc=eo(Lo,!0);function pc(D,E){var N=!0;return Ln(D,function(v,m,x){return N=!!E(v,m,x)}),N}function Pn(D,E,N){for(var v=-1,m=D.length;++v<m;){var x=D[v],P=E(x);if(P!=null&&(L===n?P==P&&!mt(P):N(P,L)))var L=P,H=x}return H}function Ha(D,E){var N=[];return Ln(D,function(v,m,x){E(v,m,x)&&N.push(v)}),N}function Ho(D,E,N,v,m){var x=-1,P=D.length;for(N||(N=br),m||(m=[]);++x<P;){var L=D[x];E>0&&N(L)?E>1?Ho(L,E-1,N,v,m):$s(m,L):v||(m[m.length]=L)}return m}var di=Fo(),os=Fo(!0);function Kt(D,E){return D&&di(D,E,Cn)}function Lo(D,E){return D&&os(D,E,Cn)}function Fc(D,E){return Xn(E,function(N){return _r(D[N])})}function _a(D,E){for(var N=0,v=(E=ru(E,D)).length;D!=null&&N<v;)D=D[Xs(E[N++])];return N&&N==v?D:n}function rc(D,E,N){var v=E(D);return Nr(D)?v:$s(v,N(D))}function Xr(D){return D==null?D===n?"[object Undefined]":"[object Null]":Zo&&Zo in hn(D)?function(E){var N=oo.call(E,Zo),v=E[Zo];try{E[Zo]=n;var m=!0}catch{}var x=pn.call(E);return m&&(N?E[Zo]=v:delete E[Zo]),x}(D):function(E){return pn.call(E)}(D)}function as(D,E){return D>E}function Ea(D,E){return D!=null&&oo.call(D,E)}function Ci(D,E){return D!=null&&E in hn(D)}function pl(D,E,N){for(var v=N?ch:es,m=D[0].length,x=D.length,P=x,L=he(x),H=1/0,V=[];P--;){var Y=D[P];P&&E&&(Y=Jr(Y,ga(E))),H=Da(Y.length,H),L[P]=!N&&(E||m>=120&&Y.length>=120)?new gs(P&&Y):n}Y=D[0];var re=-1,ne=L[0];e:for(;++re<m&&V.length<H;){var ce=Y[re],me=E?E(ce):ce;if(ce=N||ce!==0?ce:0,!(ne?ql(ne,me):v(V,me,N))){for(P=x;--P;){var be=L[P];if(!(be?ql(be,me):v(D[P],me,N)))continue e}ne&&ne.push(me),V.push(ce)}}return V}function Au(D,E,N){var v=(D=Bl(D,E=ru(E,D)))==null?D:D[Xs(Os(E))];return v==null?n:As(v,D,N)}function ds(D){return Ao(D)&&Xr(D)==_}function ir(D,E,N,v,m){return D===E||(D==null||E==null||!Ao(D)&&!Ao(E)?D!=D&&E!=E:function(x,P,L,H,V,Y){var re=Nr(x),ne=Nr(P),ce=re?M:Vn(x),me=ne?M:Vn(P),be=(ce=ce==_?Q:ce)==Q,we=(me=me==_?Q:me)==Q,Te=ce==me;if(Te&&on(x)){if(!on(P))return!1;re=!0,be=!1}if(Te&&!be)return Y||(Y=new Di),re||Du(x)?Xi(x,P,L,H,V,Y):function(rt,St,Mt,en,qt,It,Zt){switch(Mt){case Me:if(rt.byteLength!=St.byteLength||rt.byteOffset!=St.byteOffset)return!1;rt=rt.buffer,St=St.buffer;case Ce:return!(rt.byteLength!=St.byteLength||!It(new cl(rt),new cl(St)));case F:case O:case G:return $n(+rt,+St);case j:return rt.name==St.name&&rt.message==St.message;case ae:case ge:return rt==St+"";case J:var yr=Qi;case se:var cr=1&en;if(yr||(yr=vf),rt.size!=St.size&&!cr)return!1;var fi=Zt.get(rt);if(fi)return fi==St;en|=2,Zt.set(rt,St);var Gn=Xi(yr(rt),yr(St),en,qt,It,Zt);return Zt.delete(rt),Gn;case xe:if(Lr)return Lr.call(rt)==Lr.call(St)}return!1}(x,P,ce,L,H,V,Y);if(!(1&L)){var Ge=be&&oo.call(x,"__wrapped__"),Ie=we&&oo.call(P,"__wrapped__");if(Ge||Ie){var Xe=Ge?x.value():x,Ye=Ie?P.value():P;return Y||(Y=new Di),V(Xe,Ye,L,H,Y)}}return!!Te&&(Y||(Y=new Di),function(rt,St,Mt,en,qt,It){var Zt=1&Mt,yr=ss(rt),cr=yr.length,fi=ss(St),Gn=fi.length;if(cr!=Gn&&!Zt)return!1;for(var Uo=cr;Uo--;){var fr=yr[Uo];if(!(Zt?fr in St:oo.call(St,fr)))return!1}var Ga=It.get(rt),ep=It.get(St);if(Ga&&ep)return Ga==St&&ep==rt;var Wf=!0;It.set(rt,St),It.set(St,rt);for(var tp=Zt;++Uo<cr;){var sc=rt[fr=yr[Uo]],h=St[fr];if(en)var d=Zt?en(h,sc,fr,St,rt,It):en(sc,h,fr,rt,St,It);if(!(d===n?sc===h||qt(sc,h,Mt,en,It):d)){Wf=!1;break}tp||(tp=fr=="constructor")}if(Wf&&!tp){var S=rt.constructor,T=St.constructor;S==T||!("constructor"in rt)||!("constructor"in St)||typeof S=="function"&&S instanceof S&&typeof T=="function"&&T instanceof T||(Wf=!1)}return It.delete(rt),It.delete(St),Wf}(x,P,L,H,V,Y))}(D,E,N,v,ir,m))}function Qn(D,E,N,v){var m=N.length,x=m,P=!v;if(D==null)return!x;for(D=hn(D);m--;){var L=N[m];if(P&&L[2]?L[1]!==D[L[0]]:!(L[0]in D))return!1}for(;++m<x;){var H=(L=N[m])[0],V=D[H],Y=L[1];if(P&&L[2]){if(V===n&&!(H in D))return!1}else{var re=new Di;if(v)var ne=v(V,Y,H,D,E,re);if(!(ne===n?ir(Y,V,3,v,re):ne))return!1}}return!0}function mu(D){return!(!Ii(D)||(E=D,pu&&pu in E))&&(_r(D)?Ma:ta).test(vi(D));var E}function ki(D){return typeof D=="function"?D:D==null?Cs:typeof D=="object"?Nr(D)?Pl(D[0],D[1]):ic(D):of(D)}function Mi(D){if(!Fu(D))return Rf(D);var E=[];for(var N in hn(D))oo.call(D,N)&&N!="constructor"&&E.push(N);return E}function Ju(D){if(!Ii(D))return function(m){var x=[];if(m!=null)for(var P in hn(m))x.push(P);return x}(D);var E=Fu(D),N=[];for(var v in D)(v!="constructor"||!E&&oo.call(D,v))&&N.push(v);return N}function ku(D,E){return D<E}function Ji(D,E){var N=-1,v=Eo(D)?he(D.length):[];return Ln(D,function(m,x,P){v[++N]=E(m,x,P)}),v}function ic(D){var E=Ks(D);return E.length==1&&E[0][2]?go(E[0][0],E[0][1]):function(N){return N===D||Qn(N,D,E)}}function Pl(D,E){return po(D)&&Ti(E)?go(Xs(D),E):function(N){var v=Er(N,D);return v===n&&v===E?Eh(N,D):ir(E,v,3)}}function Fs(D,E,N,v,m){D!==E&&di(E,function(x,P){if(m||(m=new Di),Ii(x))(function(H,V,Y,re,ne,ce,me){var be=wu(H,Y),we=wu(V,Y),Te=me.get(we);if(Te)oi(H,Y,Te);else{var Ge=ce?ce(be,we,Y+"",H,V,me):n,Ie=Ge===n;if(Ie){var Xe=Nr(we),Ye=!Xe&&on(we),rt=!Xe&&!Ye&&Du(we);Ge=we,Xe||Ye||rt?Nr(be)?Ge=be:zt(be)?Ge=ca(be):Ye?(Ie=!1,Ge=or(we,!0)):rt?(Ie=!1,Ge=Oa(we,!0)):Ge=[]:si(we)||wa(we)?(Ge=be,wa(be)?Ge=Ht(be):Ii(be)&&!_r(be)||(Ge=Nl(we))):Ie=!1}Ie&&(me.set(we,Ge),ne(Ge,we,re,ce,me),me.delete(we)),oi(H,Y,Ge)}})(D,E,P,N,Fs,v,m);else{var L=v?v(wu(D,P),x,P+"",D,E,m):n;L===n&&(L=x),oi(D,P,L)}},ja)}function du(D,E){var N=D.length;if(N)return Gs(E+=E<0?N:0,N)?D[E]:n}function Ct(D,E,N){E=E.length?Jr(E,function(x){return Nr(x)?function(P){return _a(P,x.length===1?x[0]:x)}:x}):[Cs];var v=-1;E=Jr(E,ga(Lt()));var m=Ji(D,function(x,P,L){var H=Jr(E,function(V){return V(x)});return{criteria:H,index:++v,value:x}});return function(x,P){var L=x.length;for(x.sort(P);L--;)x[L]=x[L].value;return x}(m,function(x,P){return function(L,H,V){for(var Y=-1,re=L.criteria,ne=H.criteria,ce=re.length,me=V.length;++Y<ce;){var be=la(re[Y],ne[Y]);if(be)return Y>=me?be:be*(V[Y]=="desc"?-1:1)}return L.index-H.index}(x,P,N)})}function vs(D,E,N){for(var v=-1,m=E.length,x={};++v<m;){var P=E[v],L=_a(D,P);N(L,P)&&tn(x,ru(P,D),L)}return x}function Zc(D,E,N,v){var m=v?Al:pa,x=-1,P=E.length,L=D;for(D===E&&(E=ca(E)),N&&(L=Jr(D,ga(N)));++x<P;)for(var H=0,V=E[x],Y=N?N(V):V;(H=m(L,Y,H,v))>-1;)L!==D&&sf.call(L,H,1),sf.call(D,H,1);return D}function Vs(D,E){for(var N=D?E.length:0,v=N-1;N--;){var m=E[N];if(N==v||m!==x){var x=m;Gs(m)?sf.call(D,m,1):pr(D,m)}}return D}function Tl(D,E){return D+Sh(Tr()*(E-D+1))}function Ps(D,E){var N="";if(!D||E<1||E>f)return N;do E%2&&(N+=D),(E=Sh(E/2))&&(D+=D);while(E);return N}function Ar(D,E){return Po(Js(D,E,Cs),D+"")}function lr(D){return sa(Zu(D))}function Pc(D,E){var N=Zu(D);return Tc(N,Li(E,0,N.length))}function tn(D,E,N,v){if(!Ii(D))return D;for(var m=-1,x=(E=ru(E,D)).length,P=x-1,L=D;L!=null&&++m<x;){var H=Xs(E[m]),V=N;if(H==="__proto__"||H==="constructor"||H==="prototype")return D;if(m!=P){var Y=L[H];(V=v?v(Y,H,L):n)===n&&(V=Ii(Y)?Y:Gs(E[m+1])?[]:{})}Xl(L,H,V),L=L[H]}return D}var ao=hl?function(D,E){return hl.set(D,E),D}:Cs,Wr=$u?function(D,E){return $u(D,"toString",{configurable:!0,enumerable:!1,value:Hc(E),writable:!0})}:Cs;function Vr(D){return Tc(Zu(D))}function xn(D,E,N){var v=-1,m=D.length;E<0&&(E=-E>m?0:m+E),(N=N>m?m:N)<0&&(N+=m),m=E>N?0:N-E>>>0,E>>>=0;for(var x=he(m);++v<m;)x[v]=D[v+E];return x}function hr(D,E){var N;return Ln(D,function(v,m,x){return!(N=E(v,m,x))}),!!N}function Co(D,E,N){var v=0,m=D==null?v:D.length;if(typeof E=="number"&&E==E&&m<=2147483647){for(;v<m;){var x=v+m>>>1,P=D[x];P!==null&&!mt(P)&&(N?P<=E:P<E)?v=x+1:m=x}return m}return So(D,E,Cs,N)}function So(D,E,N,v){var m=0,x=D==null?0:D.length;if(x===0)return 0;for(var P=(E=N(E))!=E,L=E===null,H=mt(E),V=E===n;m<x;){var Y=Sh((m+x)/2),re=N(D[Y]),ne=re!==n,ce=re===null,me=re==re,be=mt(re);if(P)var we=v||me;else we=V?me&&(v||ne):L?me&&ne&&(v||!ce):H?me&&ne&&!ce&&(v||!be):!ce&&!be&&(v?re<=E:re<E);we?m=Y+1:x=Y}return Da(x,4294967294)}function nu(D,E){for(var N=-1,v=D.length,m=0,x=[];++N<v;){var P=D[N],L=E?E(P):P;if(!N||!$n(L,H)){var H=L;x[m++]=P===0?0:P}}return x}function Ia(D){return typeof D=="number"?D:mt(D)?g:+D}function zr(D){if(typeof D=="string")return D;if(Nr(D))return Jr(D,zr)+"";if(mt(D))return _t?_t.call(D):"";var E=D+"";return E=="0"&&1/D==-1/0?"-0":E}function so(D,E,N){var v=-1,m=es,x=D.length,P=!0,L=[],H=L;if(N)P=!1,m=ch;else if(x>=200){var V=E?null:dl(D);if(V)return vf(V);P=!1,m=ql,H=new gs}else H=E?[]:L;e:for(;++v<x;){var Y=D[v],re=E?E(Y):Y;if(Y=N||Y!==0?Y:0,P&&re==re){for(var ne=H.length;ne--;)if(H[ne]===re)continue e;E&&H.push(re),L.push(Y)}else m(H,re,N)||(H!==L&&H.push(re),L.push(Y))}return L}function pr(D,E){return(D=Bl(D,E=ru(E,D)))==null||delete D[Xs(Os(E))]}function Sr(D,E,N,v){return tn(D,E,N(_a(D,E)),v)}function Qr(D,E,N,v){for(var m=D.length,x=v?m:-1;(v?x--:++x<m)&&E(D[x],x,D););return N?xn(D,v?0:x,v?x+1:m):xn(D,v?x+1:0,v?m:x)}function Ql(D,E){var N=D;return N instanceof ln&&(N=N.value()),Wl(E,function(v,m){return m.func.apply(m.thisArg,$s([v],m.args))},N)}function Zi(D,E,N){var v=D.length;if(v<2)return v?so(D[0]):[];for(var m=-1,x=he(v);++m<v;)for(var P=D[m],L=-1;++L<v;)L!=m&&(x[m]=jo(x[m]||P,D[L],E,N));return so(Ho(x,1),E,N)}function gl(D,E,N){for(var v=-1,m=D.length,x=E.length,P={};++v<m;){var L=v<x?E[v]:n;N(P,D[v],L)}return P}function jc(D){return zt(D)?D:[]}function Mu(D){return typeof D=="function"?D:Cs}function ru(D,E){return Nr(D)?D:po(D,E)?[D]:jf(Dr(D))}var qs=Ar;function Ts(D,E,N){var v=D.length;return N=N===n?v:N,!E&&N>=v?D:xn(D,E,N)}var iu=zu||function(D){return Za.clearTimeout(D)};function or(D,E){if(E)return D.slice();var N=D.length,v=fl?fl(N):new D.constructor(N);return D.copy(v),v}function Kn(D){var E=new D.constructor(D.byteLength);return new cl(E).set(new cl(D)),E}function Oa(D,E){var N=E?Kn(D.buffer):D.buffer;return new D.constructor(N,D.byteOffset,D.length)}function la(D,E){if(D!==E){var N=D!==n,v=D===null,m=D==D,x=mt(D),P=E!==n,L=E===null,H=E==E,V=mt(E);if(!L&&!V&&!x&&D>E||x&&P&&H&&!L&&!V||v&&P&&H||!N&&H||!m)return 1;if(!v&&!x&&!V&&D<E||V&&N&&m&&!v&&!x||L&&N&&m||!P&&m||!H)return-1}return 0}function Va(D,E,N,v){for(var m=-1,x=D.length,P=N.length,L=-1,H=E.length,V=Ws(x-P,0),Y=he(H+V),re=!v;++L<H;)Y[L]=E[L];for(;++m<P;)(re||m<x)&&(Y[N[m]]=D[m]);for(;V--;)Y[L++]=D[m++];return Y}function ml(D,E,N,v){for(var m=-1,x=D.length,P=-1,L=N.length,H=-1,V=E.length,Y=Ws(x-L,0),re=he(Y+V),ne=!v;++m<Y;)re[m]=D[m];for(var ce=m;++H<V;)re[ce+H]=E[H];for(;++P<L;)(ne||m<x)&&(re[ce+N[P]]=D[m++]);return re}function ca(D,E){var N=-1,v=D.length;for(E||(E=he(v));++N<v;)E[N]=D[N];return E}function uo(D,E,N,v){var m=!N;N||(N={});for(var x=-1,P=E.length;++x<P;){var L=E[x],H=v?v(N[L],D[L],L,N,D):n;H===n&&(H=D[L]),m?ms(N,L,H):Xl(N,L,H)}return N}function Vo(D,E){return function(N,v){var m=Nr(N)?mi:Hr,x=E?E():{};return m(N,D,Lt(v,2),x)}}function Hi(D){return Ar(function(E,N){var v=-1,m=N.length,x=m>1?N[m-1]:n,P=m>2?N[2]:n;for(x=D.length>3&&typeof x=="function"?(m--,x):n,P&&Ys(N[0],N[1],P)&&(x=m<3?n:x,m=1),E=hn(E);++v<m;){var L=N[v];L&&D(E,L,v,x)}return E})}function eo(D,E){return function(N,v){if(N==null)return N;if(!Eo(N))return D(N,v);for(var m=N.length,x=E?m:-1,P=hn(N);(E?x--:++x<m)&&v(P[x],x,P)!==!1;);return N}}function Fo(D){return function(E,N,v){for(var m=-1,x=hn(E),P=v(E),L=P.length;L--;){var H=P[D?L:++m];if(N(x[H],H,x)===!1)break}return E}}function $i(D){return function(E){var N=ts(E=Dr(E))?de(E):n,v=N?N[0]:E.charAt(0),m=N?Ts(N,1).join(""):E.slice(1);return v[D]()+m}}function to(D){return function(E){return Wl(Yn(bs(E).replace(na,"")),D,"")}}function ho(D){return function(){var E=arguments;switch(E.length){case 0:return new D;case 1:return new D(E[0]);case 2:return new D(E[0],E[1]);case 3:return new D(E[0],E[1],E[2]);case 4:return new D(E[0],E[1],E[2],E[3]);case 5:return new D(E[0],E[1],E[2],E[3],E[4]);case 6:return new D(E[0],E[1],E[2],E[3],E[4],E[5]);case 7:return new D(E[0],E[1],E[2],E[3],E[4],E[5],E[6])}var N=$r(D.prototype),v=D.apply(N,E);return Ii(v)?v:N}}function Na(D){return function(E,N,v){var m=hn(E);if(!Eo(E)){var x=Lt(N,3);E=Cn(E),N=function(L){return x(m[L],L,m)}}var P=D(E,N,v);return P>-1?m[x?E[P]:P]:n}}function vu(D){return st(function(E){var N=E.length,v=N,m=Z.prototype.thru;for(D&&E.reverse();v--;){var x=E[v];if(typeof x!="function")throw new jn(e);if(m&&!P&&ar(x)=="wrapper")var P=new Z([],!0)}for(v=P?v:N;++v<N;){var L=ar(x=E[v]),H=L=="wrapper"?Zr(x):n;P=H&&va(H[0])&&H[1]==424&&!H[4].length&&H[9]==1?P[ar(H[0])].apply(P,H[3]):x.length==1&&va(x)?P[L]():P.thru(x)}return function(){var V=arguments,Y=V[0];if(P&&V.length==1&&Nr(Y))return P.plant(Y).value();for(var re=0,ne=N?E[re].apply(this,V):Y;++re<N;)ne=E[re].call(this,ne);return ne}})}function qa(D,E,N,v,m,x,P,L,H,V){var Y=E&u,re=1&E,ne=2&E,ce=24&E,me=512&E,be=ne?n:ho(D);return function we(){for(var Te=arguments.length,Ge=he(Te),Ie=Te;Ie--;)Ge[Ie]=arguments[Ie];if(ce)var Xe=da(we),Ye=function(en,qt){for(var It=en.length,Zt=0;It--;)en[It]===qt&&++Zt;return Zt}(Ge,Xe);if(v&&(Ge=Va(Ge,v,m,ce)),x&&(Ge=ml(Ge,x,P,ce)),Te-=Ye,ce&&Te<V){var rt=Qo(Ge,Xe);return yu(D,E,qa,we.placeholder,N,Ge,rt,L,H,V-Te)}var St=re?N:this,Mt=ne?St[D]:D;return Te=Ge.length,L?Ge=function(en,qt){for(var It=en.length,Zt=Da(qt.length,It),yr=ca(en);Zt--;){var cr=qt[Zt];en[Zt]=Gs(cr,It)?yr[cr]:n}return en}(Ge,L):me&&Te>1&&Ge.reverse(),Y&&H<Te&&(Ge.length=H),this&&this!==Za&&this instanceof we&&(Mt=be||ho(Mt)),Mt.apply(St,Ge)}}function Is(D,E){return function(N,v){return function(m,x,P,L){return Kt(m,function(H,V,Y){x(L,P(H),V,Y)}),L}(N,D,E(v),{})}}function ma(D,E){return function(N,v){var m;if(N===n&&v===n)return E;if(N!==n&&(m=N),v!==n){if(m===n)return v;typeof N=="string"||typeof v=="string"?(N=zr(N),v=zr(v)):(N=Ia(N),v=Ia(v)),m=D(N,v)}return m}}function gc(D){return st(function(E){return E=Jr(E,ga(Lt())),Ar(function(N){var v=this;return D(E,function(m){return As(m,v,N)})})})}function Il(D,E){var N=(E=E===n?" ":zr(E)).length;if(N<2)return N?Ps(E,D):E;var v=Ps(E,Ch(D/ie(E)));return ts(E)?Ts(de(v),0,D).join(""):v.slice(0,D)}function wr(D){return function(E,N,v){return v&&typeof v!="number"&&Ys(E,N,v)&&(N=v=n),E=nf(E),N===n?(N=E,E=0):N=nf(N),function(m,x,P,L){for(var H=-1,V=Ws(Ch((x-m)/(P||1)),0),Y=he(V);V--;)Y[L?V:++H]=m,m+=P;return Y}(E,N,v=v===n?E<N?1:-1:nf(v),D)}}function ys(D){return function(E,N){return typeof E=="string"&&typeof N=="string"||(E=ea(E),N=ea(N)),D(E,N)}}function yu(D,E,N,v,m,x,P,L,H,V){var Y=8&E;E|=Y?o:s,4&(E&=~(Y?s:o))||(E&=-4);var re=[D,E,m,Y?x:n,Y?P:n,Y?n:x,Y?n:P,L,H,V],ne=N.apply(n,re);return va(D)&&Lc(ne,re),ne.placeholder=v,$c(ne,D,E)}function lf(D){var E=Vt[D];return function(N,v){if(N=ea(N),(v=v==null?0:Da(ui(v),292))&&Gl(N)){var m=(Dr(N)+"e").split("e");return+((m=(Dr(E(m[0]+"e"+(+m[1]+v)))+"e").split("e"))[0]+"e"+(+m[1]-v))}return E(N)}}var dl=kc&&1/vf(new kc([,-0]))[1]==p?function(D){return new kc(D)}:Ko;function lo(D){return function(E){var N=Vn(E);return N==J?Qi(E):N==se?ia(E):function(v,m){return Jr(m,function(x){return[x,v[x]]})}(E,D(E))}}function qo(D,E,N,v,m,x,P,L){var H=2&E;if(!H&&typeof D!="function")throw new jn(e);var V=v?v.length:0;if(V||(E&=-97,v=m=n),P=P===n?P:Ws(ui(P),0),L=L===n?L:ui(L),V-=m?m.length:0,E&s){var Y=v,re=m;v=m=n}var ne=H?n:Zr(D),ce=[D,E,N,v,m,Y,re,x,P,L];if(ne&&function(be,we){var Te=be[1],Ge=we[1],Ie=Te|Ge,Xe=Ie<131,Ye=Ge==u&&Te==8||Ge==u&&Te==c&&be[7].length<=we[8]||Ge==384&&we[7].length<=we[8]&&Te==8;if(!Xe&&!Ye)return be;1&Ge&&(be[2]=we[2],Ie|=1&Te?0:4);var rt=we[3];if(rt){var St=be[3];be[3]=St?Va(St,rt,we[4]):rt,be[4]=St?Qo(be[3],r):we[4]}(rt=we[5])&&(St=be[5],be[5]=St?ml(St,rt,we[6]):rt,be[6]=St?Qo(be[5],r):we[6]),(rt=we[7])&&(be[7]=rt),Ge&u&&(be[8]=be[8]==null?we[8]:Da(be[8],we[8])),be[9]==null&&(be[9]=we[9]),be[0]=we[0],be[1]=Ie}(ce,ne),D=ce[0],E=ce[1],N=ce[2],v=ce[3],m=ce[4],!(L=ce[9]=ce[9]===n?H?0:D.length:Ws(ce[9]-V,0))&&24&E&&(E&=-25),E&&E!=1)me=E==8||E==i?function(be,we,Te){var Ge=ho(be);return function Ie(){for(var Xe=arguments.length,Ye=he(Xe),rt=Xe,St=da(Ie);rt--;)Ye[rt]=arguments[rt];var Mt=Xe<3&&Ye[0]!==St&&Ye[Xe-1]!==St?[]:Qo(Ye,St);return(Xe-=Mt.length)<Te?yu(be,we,qa,Ie.placeholder,n,Ye,Mt,n,n,Te-Xe):As(this&&this!==Za&&this instanceof Ie?Ge:be,this,Ye)}}(D,E,L):E!=o&&E!=33||m.length?qa.apply(n,ce):function(be,we,Te,Ge){var Ie=1&we,Xe=ho(be);return function Ye(){for(var rt=-1,St=arguments.length,Mt=-1,en=Ge.length,qt=he(en+St),It=this&&this!==Za&&this instanceof Ye?Xe:be;++Mt<en;)qt[Mt]=Ge[Mt];for(;St--;)qt[Mt++]=arguments[++rt];return As(It,Ie?Te:this,qt)}}(D,E,N,v);else var me=function(be,we,Te){var Ge=1&we,Ie=ho(be);return function Xe(){return(this&&this!==Za&&this instanceof Xe?Ie:be).apply(Ge?Te:this,arguments)}}(D,E,N);return $c((ne?ao:Lc)(me,ce),D,E)}function Ba(D,E,N,v){return D===n||$n(D,oa[N])&&!oo.call(v,N)?E:D}function ou(D,E,N,v,m,x){return Ii(D)&&Ii(E)&&(x.set(E,D),Fs(D,E,n,ou,x),x.delete(E)),D}function no(D){return si(D)?n:D}function Xi(D,E,N,v,m,x){var P=1&N,L=D.length,H=E.length;if(L!=H&&!(P&&H>L))return!1;var V=x.get(D),Y=x.get(E);if(V&&Y)return V==E&&Y==D;var re=-1,ne=!0,ce=2&N?new gs:n;for(x.set(D,E),x.set(E,D);++re<L;){var me=D[re],be=E[re];if(v)var we=P?v(be,me,re,E,D,x):v(me,be,re,D,E,x);if(we!==n){if(we)continue;ne=!1;break}if(ce){if(!bi(E,function(Te,Ge){if(!ql(ce,Ge)&&(me===Te||m(me,Te,N,v,x)))return ce.push(Ge)})){ne=!1;break}}else if(me!==be&&!m(me,be,N,v,x)){ne=!1;break}}return x.delete(D),x.delete(E),ne}function st(D){return Po(Js(D,n,Xu),D+"")}function ss(D){return rc(D,Cn,gr)}function Ol(D){return rc(D,ja,Gt)}var Zr=hl?function(D){return hl.get(D)}:Ko;function ar(D){for(var E=D.name+"",N=Yl[E],v=oo.call(Yl,E)?N.length:0;v--;){var m=N[v],x=m.func;if(x==null||x==D)return m.name}return E}function da(D){return(oo.call(Ae,"placeholder")?Ae:D).placeholder}function Lt(){var D=Ae.iteratee||gf;return D=D===gf?ki:D,arguments.length?D(arguments[0],arguments[1]):D}function Hu(D,E){var N,v,m=D.__data__;return((v=typeof(N=E))=="string"||v=="number"||v=="symbol"||v=="boolean"?N!=="__proto__":N===null)?m[typeof E=="string"?"string":"hash"]:m.map}function Ks(D){for(var E=Cn(D),N=E.length;N--;){var v=E[N],m=D[v];E[N]=[v,m,Ti(m)]}return E}function Ut(D,E){var N=function(v,m){return v==null?n:v[m]}(D,E);return mu(N)?N:n}var gr=Tn?function(D){return D==null?[]:(D=hn(D),Xn(Tn(D),function(E){return gu.call(D,E)}))}:Ic,Gt=Tn?function(D){for(var E=[];D;)$s(E,gr(D)),D=Wi(D);return E}:Ic,Vn=Xr;function kr(D,E,N){for(var v=-1,m=(E=ru(E,D)).length,x=!1;++v<m;){var P=Xs(E[v]);if(!(x=D!=null&&N(D,P)))break;D=D[P]}return x||++v!=m?x:!!(m=D==null?0:D.length)&&Fi(m)&&Gs(P,m)&&(Nr(D)||wa(D))}function Nl(D){return typeof D.constructor!="function"||Fu(D)?{}:$r(Wi(D))}function br(D){return Nr(D)||wa(D)||!!(fh&&D&&D[fh])}function Gs(D,E){var N=typeof D;return!!(E=E??f)&&(N=="number"||N!="symbol"&&Ru.test(D))&&D>-1&&D%1==0&&D<E}function Ys(D,E,N){if(!Ii(N))return!1;var v=typeof E;return!!(v=="number"?Eo(N)&&Gs(E,N.length):v=="string"&&E in N)&&$n(N[E],D)}function po(D,E){if(Nr(D))return!1;var N=typeof D;return!(N!="number"&&N!="symbol"&&N!="boolean"&&D!=null&&!mt(D))||ve.test(D)||!ue.test(D)||E!=null&&D in hn(E)}function va(D){var E=ar(D),N=Ae[E];if(typeof N!="function"||!(E in ln.prototype))return!1;if(D===N)return!0;var v=Zr(N);return!!v&&D===v[0]}(Hs&&Vn(new Hs(new ArrayBuffer(1)))!=Me||Fa&&Vn(new Fa)!=J||Pa&&Vn(Pa.resolve())!=te||kc&&Vn(new kc)!=se||Uu&&Vn(new Uu)!=Pe)&&(Vn=function(D){var E=Xr(D),N=E==Q?D.constructor:n,v=N?vi(N):"";if(v)switch(v){case rs:return Me;case Ms:return J;case Ml:return te;case R:return se;case is:return Pe}return E});var qr=ps?_r:mf;function Fu(D){var E=D&&D.constructor;return D===(typeof E=="function"&&E.prototype||oa)}function Ti(D){return D==D&&!Ii(D)}function go(D,E){return function(N){return N!=null&&N[D]===E&&(E!==n||D in hn(N))}}function Js(D,E,N){return E=Ws(E===n?D.length-1:E,0),function(){for(var v=arguments,m=-1,x=Ws(v.length-E,0),P=he(x);++m<x;)P[m]=v[E+m];m=-1;for(var L=he(E+1);++m<E;)L[m]=v[m];return L[E]=N(P),As(D,this,L)}}function Bl(D,E){return E.length<2?D:_a(D,xn(E,0,-1))}function wu(D,E){if((E!=="constructor"||typeof D[E]!="function")&&E!="__proto__")return D[E]}var Lc=mc(ao),Zn=Rc||function(D,E){return Za.setTimeout(D,E)},Po=mc(Wr);function $c(D,E,N){var v=E+"";return Po(D,function(m,x){var P=x.length;if(!P)return m;var L=P-1;return x[L]=(P>1?"& ":"")+x[L],x=x.join(P>2?", ":" "),m.replace(ot,`{
/* [wrapped with `+x+`] */
`)}(v,function(m,x){return Jn(b,function(P){var L="_."+P[0];x&P[1]&&!es(m,L)&&m.push(L)}),m.sort()}(function(m){var x=m.match(gt);return x?x[1].split(bt):[]}(v),N)))}function mc(D){var E=0,N=0;return function(){var v=ks(),m=16-(v-N);if(N=v,m>0){if(++E>=800)return arguments[0]}else E=0;return D.apply(n,arguments)}}function Tc(D,E){var N=-1,v=D.length,m=v-1;for(E=E===n?v:E;++N<E;){var x=Tl(N,m),P=D[x];D[x]=D[N],D[N]=P}return D.length=E,D}var jf=function(D){var E=Kr(D,function(v){return N.size===500&&N.clear(),v}),N=E.cache;return E}(function(D){var E=[];return D.charCodeAt(0)===46&&E.push(""),D.replace(Se,function(N,v,m,x){E.push(m?x.replace(yn,"$1"):v||N)}),E});function Xs(D){if(typeof D=="string"||mt(D))return D;var E=D+"";return E=="0"&&1/D==-1/0?"-0":E}function vi(D){if(D!=null){try{return Ec.call(D)}catch{}try{return D+""}catch{}}return""}function Ka(D){if(D instanceof ln)return D.clone();var E=new Z(D.__wrapped__,D.__chain__);return E.__actions__=ca(D.__actions__),E.__index__=D.__index__,E.__values__=D.__values__,E}var Si=Ar(function(D,E){return zt(D)?jo(D,Ho(E,1,zt,!0)):[]}),bu=Ar(function(D,E){var N=Os(E);return zt(N)&&(N=n),zt(D)?jo(D,Ho(E,1,zt,!0),Lt(N,2)):[]}),bf=Ar(function(D,E){var N=Os(E);return zt(N)&&(N=n),zt(D)?jo(D,Ho(E,1,zt,!0),n,N):[]});function cf(D,E,N){var v=D==null?0:D.length;if(!v)return-1;var m=N==null?0:ui(N);return m<0&&(m=Ws(v+m,0)),zs(D,Lt(E,3),m)}function ai(D,E,N){var v=D==null?0:D.length;if(!v)return-1;var m=v-1;return N!==n&&(m=ui(N),m=N<0?Ws(v+m,0):Da(m,v-1)),zs(D,Lt(E,3),m,!0)}function Xu(D){return D!=null&&D.length?Ho(D,1):[]}function zc(D){return D&&D.length?D[0]:n}var eh=Ar(function(D){var E=Jr(D,jc);return E.length&&E[0]===D[0]?pl(E):[]}),Rl=Ar(function(D){var E=Os(D),N=Jr(D,jc);return E===Os(N)?E=n:N.pop(),N.length&&N[0]===D[0]?pl(N,Lt(E,2)):[]}),dc=Ar(function(D){var E=Os(D),N=Jr(D,jc);return(E=typeof E=="function"?E:n)&&N.pop(),N.length&&N[0]===D[0]?pl(N,n,E):[]});function Os(D){var E=D==null?0:D.length;return E?D[E-1]:n}var th=Ar(Uc);function Uc(D,E){return D&&D.length&&E&&E.length?Zc(D,E):D}var ya=st(function(D,E){var N=D==null?0:D.length,v=ua(D,E);return Vs(D,Jr(E,function(m){return Gs(m,N)?+m:m}).sort(la)),v});function Th(D){return D==null?D:ns.call(D)}var Ih=Ar(function(D){return so(Ho(D,1,zt,!0))}),Oh=Ar(function(D){var E=Os(D);return zt(E)&&(E=n),so(Ho(D,1,zt,!0),Lt(E,2))}),Lf=Ar(function(D){var E=Os(D);return E=typeof E=="function"?E:n,so(Ho(D,1,zt,!0),n,E)});function hh(D){if(!D||!D.length)return[];var E=0;return D=Xn(D,function(N){if(zt(N))return E=Ws(N.length,E),!0}),Ro(E,function(N){return Jr(D,tc(N))})}function xf(D,E){if(!D||!D.length)return[];var N=hh(D);return E==null?N:Jr(N,function(v){return As(E,n,v)})}var ph=Ar(function(D,E){return zt(D)?jo(D,E):[]}),vl=Ar(function(D){return Zi(Xn(D,zt))}),nh=Ar(function(D){var E=Os(D);return zt(E)&&(E=n),Zi(Xn(D,zt),Lt(E,2))}),xu=Ar(function(D){var E=Os(D);return E=typeof E=="function"?E:n,Zi(Xn(D,zt),n,E)}),$f=Ar(hh),ff=Ar(function(D){var E=D.length,N=E>1?D[E-1]:n;return N=typeof N=="function"?(D.pop(),N):n,xf(D,N)});function Df(D){var E=Ae(D);return E.__chain__=!0,E}function Wc(D,E){return E(D)}var Nh=st(function(D){var E=D.length,N=E?D[0]:0,v=this.__wrapped__,m=function(x){return ua(x,D)};return!(E>1||this.__actions__.length)&&v instanceof ln&&Gs(N)?((v=v.slice(N,+N+(E?1:0))).__actions__.push({func:Wc,args:[m],thisArg:n}),new Z(v,this.__chain__).thru(function(x){return E&&!x.length&&x.push(n),x})):this.thru(m)}),zf=Vo(function(D,E,N){oo.call(D,N)?++D[N]:ms(D,N,1)}),yl=Na(cf),wl=Na(ai);function Uf(D,E){return(Nr(D)?Jn:Ln)(D,Lt(E,3))}function zh(D,E){return(Nr(D)?ri:Mc)(D,Lt(E,3))}var Zl=Vo(function(D,E,N){oo.call(D,N)?D[N].push(E):ms(D,N,[E])}),hf=Ar(function(D,E,N){var v=-1,m=typeof E=="function",x=Eo(D)?he(D.length):[];return Ln(D,function(P){x[++v]=m?As(E,P,N):Au(P,E,N)}),x}),Cf=Vo(function(D,E,N){ms(D,N,E)});function oc(D,E){return(Nr(D)?Jr:Ji)(D,Lt(E,3))}var rh=Vo(function(D,E,N){D[N?0:1].push(E)},function(){return[[],[]]}),_h=Ar(function(D,E){if(D==null)return[];var N=E.length;return N>1&&Ys(D,E[0],E[1])?E=[]:N>2&&Ys(E[0],E[1],E[2])&&(E=[E[0]]),Ct(D,Ho(E,1),[])}),_o=Kl||function(){return Za.Date.now()};function Ra(D,E,N){return E=N?n:E,E=D&&E==null?D.length:E,qo(D,u,n,n,n,n,E)}function jl(D,E){var N;if(typeof E!="function")throw new jn(e);return D=ui(D),function(){return--D>0&&(N=E.apply(this,arguments)),D<=1&&(E=n),N}}var ws=Ar(function(D,E,N){var v=1;if(N.length){var m=Qo(N,da(ws));v|=o}return qo(D,v,E,N,m)}),gh=Ar(function(D,E,N){var v=3;if(N.length){var m=Qo(N,da(gh));v|=o}return qo(E,v,D,N,m)});function vc(D,E,N){var v,m,x,P,L,H,V=0,Y=!1,re=!1,ne=!0;if(typeof D!="function")throw new jn(e);function ce(Ge){var Ie=v,Xe=m;return v=m=n,V=Ge,P=D.apply(Xe,Ie)}function me(Ge){var Ie=Ge-H;return H===n||Ie>=E||Ie<0||re&&Ge-V>=x}function be(){var Ge=_o();if(me(Ge))return we(Ge);L=Zn(be,function(Ie){var Xe=E-(Ie-H);return re?Da(Xe,x-(Ie-V)):Xe}(Ge))}function we(Ge){return L=n,ne&&v?ce(Ge):(v=m=n,P)}function Te(){var Ge=_o(),Ie=me(Ge);if(v=arguments,m=this,H=Ge,Ie){if(L===n)return function(Xe){return V=Xe,L=Zn(be,E),Y?ce(Xe):P}(H);if(re)return iu(L),L=Zn(be,E),ce(H)}return L===n&&(L=Zn(be,E)),P}return E=ea(E)||0,Ii(N)&&(Y=!!N.leading,x=(re="maxWait"in N)?Ws(ea(N.maxWait)||0,E):x,ne="trailing"in N?!!N.trailing:ne),Te.cancel=function(){L!==n&&iu(L),V=0,v=H=m=L=n},Te.flush=function(){return L===n?P:we(_o())},Te}var ef=Ar(function(D,E){return Sa(D,1,E)}),Ll=Ar(function(D,E,N){return Sa(D,ea(E)||0,N)});function Kr(D,E){if(typeof D!="function"||E!=null&&typeof E!="function")throw new jn(e);var N=function(){var v=arguments,m=E?E.apply(this,v):v[0],x=N.cache;if(x.has(m))return x.get(m);var P=D.apply(this,v);return N.cache=x.set(m,P)||x,P};return N.cache=new(Kr.Cache||_n),N}function tf(D){if(typeof D!="function")throw new jn(e);return function(){var E=arguments;switch(E.length){case 0:return!D.call(this);case 1:return!D.call(this,E[0]);case 2:return!D.call(this,E[0],E[1]);case 3:return!D.call(this,E[0],E[1],E[2])}return!D.apply(this,E)}}Kr.Cache=_n;var Bh=qs(function(D,E){var N=(E=E.length==1&&Nr(E[0])?Jr(E[0],ga(Lt())):Jr(Ho(E,1),ga(Lt()))).length;return Ar(function(v){for(var m=-1,x=Da(v.length,N);++m<x;)v[m]=E[m].call(this,v[m]);return As(D,this,v)})}),To=Ar(function(D,E){var N=Qo(E,da(To));return qo(D,o,n,E,N)}),dt=Ar(function(D,E){var N=Qo(E,da(dt));return qo(D,s,n,E,N)}),ih=st(function(D,E){return qo(D,c,n,n,n,E)});function $n(D,E){return D===E||D!=D&&E!=E}var Dn=ys(as),$o=ys(function(D,E){return D>=E}),wa=ds(function(){return arguments}())?ds:function(D){return Ao(D)&&oo.call(D,"callee")&&!gu.call(D,"callee")},Nr=he.isArray,mo=af?ga(af):function(D){return Ao(D)&&Xr(D)==Ce};function Eo(D){return D!=null&&Fi(D.length)&&!_r(D)}function zt(D){return Ao(D)&&Eo(D)}var on=wn||mf,Wt=cc?ga(cc):function(D){return Ao(D)&&Xr(D)==O};function tr(D){if(!Ao(D))return!1;var E=Xr(D);return E==j||E=="[object DOMException]"||typeof D.message=="string"&&typeof D.name=="string"&&!si(D)}function _r(D){if(!Ii(D))return!1;var E=Xr(D);return E==z||E==W||E=="[object AsyncFunction]"||E=="[object Proxy]"}function us(D){return typeof D=="number"&&D==ui(D)}function Fi(D){return typeof D=="number"&&D>-1&&D%1==0&&D<=f}function Ii(D){var E=typeof D;return D!=null&&(E=="object"||E=="function")}function Ao(D){return D!=null&&typeof D=="object"}var sr=Rn?ga(Rn):function(D){return Ao(D)&&Vn(D)==J};function sn(D){return typeof D=="number"||Ao(D)&&Xr(D)==G}function si(D){if(!Ao(D)||Xr(D)!=Q)return!1;var E=Wi(D);if(E===null)return!0;var N=oo.call(E,"constructor")&&E.constructor;return typeof N=="function"&&N instanceof N&&Ec.call(N)==kl}var Tt=Qf?ga(Qf):function(D){return Ao(D)&&Xr(D)==ae},Qu=jr?ga(jr):function(D){return Ao(D)&&Vn(D)==se};function yi(D){return typeof D=="string"||!Nr(D)&&Ao(D)&&Xr(D)==ge}function mt(D){return typeof D=="symbol"||Ao(D)&&Xr(D)==xe}var Du=Nc?ga(Nc):function(D){return Ao(D)&&Fi(D.length)&&!!Es[Xr(D)]},xr=ys(ku),zo=ys(function(D,E){return D<=E});function Ot(D){if(!D)return[];if(Eo(D))return yi(D)?de(D):ca(D);if(Ac&&D[Ac])return function(N){for(var v,m=[];!(v=N.next()).done;)m.push(v.value);return m}(D[Ac]());var E=Vn(D);return(E==J?Qi:E==se?vf:Zu)(D)}function nf(D){return D?(D=ea(D))===p||D===-1/0?17976931348623157e292*(D<0?-1:1):D==D?D:0:D===0?D:0}function ui(D){var E=nf(D),N=E%1;return E==E?N?E-N:E:0}function Cu(D){return D?Li(ui(D),0,y):0}function ea(D){if(typeof D=="number")return D;if(mt(D))return g;if(Ii(D)){var E=typeof D.valueOf=="function"?D.valueOf():D;D=Ii(E)?E+"":E}if(typeof D!="string")return D===0?D:+D;D=Vl(D);var N=bo.test(D);return N||Oo.test(D)?rr(D.slice(2),N?2:8):io.test(D)?g:+D}function Ht(D){return uo(D,ja(D))}function Dr(D){return D==null?"":zr(D)}var ko=Hi(function(D,E){if(Fu(E)||Eo(E))uo(E,Cn(E),D);else for(var N in E)oo.call(E,N)&&Xl(D,N,E[N])}),ac=Hi(function(D,E){uo(E,ja(E),D)}),zn=Hi(function(D,E,N,v){uo(E,ja(E),D,v)}),Vu=Hi(function(D,E,N,v){uo(E,Cn(E),D,v)}),mh=st(ua),ls=Ar(function(D,E){D=hn(D);var N=-1,v=E.length,m=v>2?E[2]:n;for(m&&Ys(E[0],E[1],m)&&(v=1);++N<v;)for(var x=E[N],P=ja(x),L=-1,H=P.length;++L<H;){var V=P[L],Y=D[V];(Y===n||$n(Y,oa[V])&&!oo.call(D,V))&&(D[V]=x[V])}return D}),An=Ar(function(D){return D.push(n,ou),As(On,n,D)});function Er(D,E,N){var v=D==null?n:_a(D,E);return v===n?N:v}function Eh(D,E){return D!=null&&kr(D,E,Ci)}var pf=Is(function(D,E,N){E!=null&&typeof E.toString!="function"&&(E=pn.call(E)),D[E]=N},Hc(Cs)),Su=Is(function(D,E,N){E!=null&&typeof E.toString!="function"&&(E=pn.call(E)),oo.call(D,E)?D[E].push(N):D[E]=[N]},Lt),oh=Ar(Au);function Cn(D){return Eo(D)?Yi(D):Mi(D)}function ja(D){return Eo(D)?Yi(D,!0):Ju(D)}var rf=Hi(function(D,E,N){Fs(D,E,N)}),On=Hi(function(D,E,N,v){Fs(D,E,N,v)}),Sn=st(function(D,E){var N={};if(D==null)return N;var v=!1;E=Jr(E,function(x){return x=ru(x,D),v||(v=x.length>1),x}),uo(D,Ol(D),N),v&&(N=fo(N,7,no));for(var m=E.length;m--;)pr(N,E[m]);return N}),zi=st(function(D,E){return D==null?{}:function(N,v){return vs(N,v,function(m,x){return Eh(N,x)})}(D,E)});function ei(D,E){if(D==null)return{};var N=Jr(Ol(D),function(v){return[v]});return E=Lt(E),vs(D,N,function(v,m){return E(v,m[0])})}var Io=lo(Cn),cs=lo(ja);function Zu(D){return D==null?[]:fc(D,Cn(D))}var ro=to(function(D,E,N){return E=E.toLowerCase(),D+(N?yc(E):E)});function yc(D){return bl(Dr(D).toLowerCase())}function bs(D){return(D=Dr(D))&&D.replace(fa,ji).replace(Sc,"")}var ba=to(function(D,E,N){return D+(N?"-":"")+E.toLowerCase()}),Pu=to(function(D,E,N){return D+(N?" ":"")+E.toLowerCase()}),_u=$i("toLowerCase"),xs=to(function(D,E,N){return D+(N?"_":"")+E.toLowerCase()}),wc=to(function(D,E,N){return D+(N?" ":"")+bl(E)}),Tu=to(function(D,E,N){return D+(N?" ":"")+E.toUpperCase()}),bl=$i("toUpperCase");function Yn(D,E,N){return D=Dr(D),(E=N?n:E)===n?function(v){return jt.test(v)}(D)?function(v){return v.match(No)||[]}(D):function(v){return v.match(fn)||[]}(D):D.match(E)||[]}var bc=Ar(function(D,E){try{return As(D,n,E)}catch(N){return tr(N)?N:new Qe(N)}}),qu=st(function(D,E){return Jn(E,function(N){N=Xs(N),ms(D,N,ws(D[N],D))}),D});function Hc(D){return function(){return D}}var Ds=vu(),ec=vu(!0);function Cs(D){return D}function gf(D){return ki(typeof D=="function"?D:fo(D,1))}var Sf=Ar(function(D,E){return function(N){return Au(N,D,E)}}),li=Ar(function(D,E){return function(N){return Au(D,N,E)}});function er(D,E,N){var v=Cn(E),m=Fc(E,v);N!=null||Ii(E)&&(m.length||!v.length)||(N=E,E=D,D=this,m=Fc(E,Cn(E)));var x=!(Ii(N)&&"chain"in N&&!N.chain),P=_r(D);return Jn(m,function(L){var H=E[L];D[L]=H,P&&(D.prototype[L]=function(){var V=this.__chain__;if(x||V){var Y=D(this.__wrapped__);return(Y.__actions__=ca(this.__actions__)).push({func:H,args:arguments,thisArg:D}),Y.__chain__=V,Y}return H.apply(D,$s([this.value()],arguments))})}),D}function Ko(){}var ci=gc(Jr),Ir=gc(nn),fs=gc(bi);function of(D){return po(D)?tc(Xs(D)):function(E){return function(N){return _a(N,E)}}(D)}var au=wr(),el=wr(!0);function Ic(){return[]}function mf(){return!1}var $l,Oc=ma(function(D,E){return D+E},0),a=lf("ceil"),l=ma(function(D,E){return D/E},1),w=lf("floor"),A=ma(function(D,E){return D*E},1),I=lf("round"),U=ma(function(D,E){return D-E},0);return Ae.after=function(D,E){if(typeof E!="function")throw new jn(e);return D=ui(D),function(){if(--D<1)return E.apply(this,arguments)}},Ae.ary=Ra,Ae.assign=ko,Ae.assignIn=ac,Ae.assignInWith=zn,Ae.assignWith=Vu,Ae.at=mh,Ae.before=jl,Ae.bind=ws,Ae.bindAll=qu,Ae.bindKey=gh,Ae.castArray=function(){if(!arguments.length)return[];var D=arguments[0];return Nr(D)?D:[D]},Ae.chain=Df,Ae.chunk=function(D,E,N){E=(N?Ys(D,E,N):E===n)?1:Ws(ui(E),0);var v=D==null?0:D.length;if(!v||E<1)return[];for(var m=0,x=0,P=he(Ch(v/E));m<v;)P[x++]=xn(D,m,m+=E);return P},Ae.compact=function(D){for(var E=-1,N=D==null?0:D.length,v=0,m=[];++E<N;){var x=D[E];x&&(m[v++]=x)}return m},Ae.concat=function(){var D=arguments.length;if(!D)return[];for(var E=he(D-1),N=arguments[0],v=D;v--;)E[v-1]=arguments[v];return $s(Nr(N)?ca(N):[N],Ho(E,1))},Ae.cond=function(D){var E=D==null?0:D.length,N=Lt();return D=E?Jr(D,function(v){if(typeof v[1]!="function")throw new jn(e);return[N(v[0]),v[1]]}):[],Ar(function(v){for(var m=-1;++m<E;){var x=D[m];if(As(x[0],this,v))return As(x[1],this,v)}})},Ae.conforms=function(D){return function(E){var N=Cn(E);return function(v){return uf(v,E,N)}}(fo(D,1))},Ae.constant=Hc,Ae.countBy=zf,Ae.create=function(D,E){var N=$r(D);return E==null?N:Fl(N,E)},Ae.curry=function D(E,N,v){var m=qo(E,8,n,n,n,n,n,N=v?n:N);return m.placeholder=D.placeholder,m},Ae.curryRight=function D(E,N,v){var m=qo(E,i,n,n,n,n,n,N=v?n:N);return m.placeholder=D.placeholder,m},Ae.debounce=vc,Ae.defaults=ls,Ae.defaultsDeep=An,Ae.defer=ef,Ae.delay=Ll,Ae.difference=Si,Ae.differenceBy=bu,Ae.differenceWith=bf,Ae.drop=function(D,E,N){var v=D==null?0:D.length;return v?xn(D,(E=N||E===n?1:ui(E))<0?0:E,v):[]},Ae.dropRight=function(D,E,N){var v=D==null?0:D.length;return v?xn(D,0,(E=v-(E=N||E===n?1:ui(E)))<0?0:E):[]},Ae.dropRightWhile=function(D,E){return D&&D.length?Qr(D,Lt(E,3),!0,!0):[]},Ae.dropWhile=function(D,E){return D&&D.length?Qr(D,Lt(E,3),!0):[]},Ae.fill=function(D,E,N,v){var m=D==null?0:D.length;return m?(N&&typeof N!="number"&&Ys(D,E,N)&&(N=0,v=m),function(x,P,L,H){var V=x.length;for((L=ui(L))<0&&(L=-L>V?0:V+L),(H=H===n||H>V?V:ui(H))<0&&(H+=V),H=L>H?0:Cu(H);L<H;)x[L++]=P;return x}(D,E,N,v)):[]},Ae.filter=function(D,E){return(Nr(D)?Xn:Ha)(D,Lt(E,3))},Ae.flatMap=function(D,E){return Ho(oc(D,E),1)},Ae.flatMapDeep=function(D,E){return Ho(oc(D,E),p)},Ae.flatMapDepth=function(D,E,N){return N=N===n?1:ui(N),Ho(oc(D,E),N)},Ae.flatten=Xu,Ae.flattenDeep=function(D){return D!=null&&D.length?Ho(D,p):[]},Ae.flattenDepth=function(D,E){return D!=null&&D.length?Ho(D,E=E===n?1:ui(E)):[]},Ae.flip=function(D){return qo(D,512)},Ae.flow=Ds,Ae.flowRight=ec,Ae.fromPairs=function(D){for(var E=-1,N=D==null?0:D.length,v={};++E<N;){var m=D[E];v[m[0]]=m[1]}return v},Ae.functions=function(D){return D==null?[]:Fc(D,Cn(D))},Ae.functionsIn=function(D){return D==null?[]:Fc(D,ja(D))},Ae.groupBy=Zl,Ae.initial=function(D){return D!=null&&D.length?xn(D,0,-1):[]},Ae.intersection=eh,Ae.intersectionBy=Rl,Ae.intersectionWith=dc,Ae.invert=pf,Ae.invertBy=Su,Ae.invokeMap=hf,Ae.iteratee=gf,Ae.keyBy=Cf,Ae.keys=Cn,Ae.keysIn=ja,Ae.map=oc,Ae.mapKeys=function(D,E){var N={};return E=Lt(E,3),Kt(D,function(v,m,x){ms(N,E(v,m,x),v)}),N},Ae.mapValues=function(D,E){var N={};return E=Lt(E,3),Kt(D,function(v,m,x){ms(N,m,E(v,m,x))}),N},Ae.matches=function(D){return ic(fo(D,1))},Ae.matchesProperty=function(D,E){return Pl(D,fo(E,1))},Ae.memoize=Kr,Ae.merge=rf,Ae.mergeWith=On,Ae.method=Sf,Ae.methodOf=li,Ae.mixin=er,Ae.negate=tf,Ae.nthArg=function(D){return D=ui(D),Ar(function(E){return du(E,D)})},Ae.omit=Sn,Ae.omitBy=function(D,E){return ei(D,tf(Lt(E)))},Ae.once=function(D){return jl(2,D)},Ae.orderBy=function(D,E,N,v){return D==null?[]:(Nr(E)||(E=E==null?[]:[E]),Nr(N=v?n:N)||(N=N==null?[]:[N]),Ct(D,E,N))},Ae.over=ci,Ae.overArgs=Bh,Ae.overEvery=Ir,Ae.overSome=fs,Ae.partial=To,Ae.partialRight=dt,Ae.partition=rh,Ae.pick=zi,Ae.pickBy=ei,Ae.property=of,Ae.propertyOf=function(D){return function(E){return D==null?n:_a(D,E)}},Ae.pull=th,Ae.pullAll=Uc,Ae.pullAllBy=function(D,E,N){return D&&D.length&&E&&E.length?Zc(D,E,Lt(N,2)):D},Ae.pullAllWith=function(D,E,N){return D&&D.length&&E&&E.length?Zc(D,E,n,N):D},Ae.pullAt=ya,Ae.range=au,Ae.rangeRight=el,Ae.rearg=ih,Ae.reject=function(D,E){return(Nr(D)?Xn:Ha)(D,tf(Lt(E,3)))},Ae.remove=function(D,E){var N=[];if(!D||!D.length)return N;var v=-1,m=[],x=D.length;for(E=Lt(E,3);++v<x;){var P=D[v];E(P,v,D)&&(N.push(P),m.push(v))}return Vs(D,m),N},Ae.rest=function(D,E){if(typeof D!="function")throw new jn(e);return Ar(D,E=E===n?E:ui(E))},Ae.reverse=Th,Ae.sampleSize=function(D,E,N){return E=(N?Ys(D,E,N):E===n)?1:ui(E),(Nr(D)?Ca:Pc)(D,E)},Ae.set=function(D,E,N){return D==null?D:tn(D,E,N)},Ae.setWith=function(D,E,N,v){return v=typeof v=="function"?v:n,D==null?D:tn(D,E,N,v)},Ae.shuffle=function(D){return(Nr(D)?Jl:Vr)(D)},Ae.slice=function(D,E,N){var v=D==null?0:D.length;return v?(N&&typeof N!="number"&&Ys(D,E,N)?(E=0,N=v):(E=E==null?0:ui(E),N=N===n?v:ui(N)),xn(D,E,N)):[]},Ae.sortBy=_h,Ae.sortedUniq=function(D){return D&&D.length?nu(D):[]},Ae.sortedUniqBy=function(D,E){return D&&D.length?nu(D,Lt(E,2)):[]},Ae.split=function(D,E,N){return N&&typeof N!="number"&&Ys(D,E,N)&&(E=N=n),(N=N===n?y:N>>>0)?(D=Dr(D))&&(typeof E=="string"||E!=null&&!Tt(E))&&!(E=zr(E))&&ts(D)?Ts(de(D),0,N):D.split(E,N):[]},Ae.spread=function(D,E){if(typeof D!="function")throw new jn(e);return E=E==null?0:Ws(ui(E),0),Ar(function(N){var v=N[E],m=Ts(N,0,E);return v&&$s(m,v),As(D,this,m)})},Ae.tail=function(D){var E=D==null?0:D.length;return E?xn(D,1,E):[]},Ae.take=function(D,E,N){return D&&D.length?xn(D,0,(E=N||E===n?1:ui(E))<0?0:E):[]},Ae.takeRight=function(D,E,N){var v=D==null?0:D.length;return v?xn(D,(E=v-(E=N||E===n?1:ui(E)))<0?0:E,v):[]},Ae.takeRightWhile=function(D,E){return D&&D.length?Qr(D,Lt(E,3),!1,!0):[]},Ae.takeWhile=function(D,E){return D&&D.length?Qr(D,Lt(E,3)):[]},Ae.tap=function(D,E){return E(D),D},Ae.throttle=function(D,E,N){var v=!0,m=!0;if(typeof D!="function")throw new jn(e);return Ii(N)&&(v="leading"in N?!!N.leading:v,m="trailing"in N?!!N.trailing:m),vc(D,E,{leading:v,maxWait:E,trailing:m})},Ae.thru=Wc,Ae.toArray=Ot,Ae.toPairs=Io,Ae.toPairsIn=cs,Ae.toPath=function(D){return Nr(D)?Jr(D,Xs):mt(D)?[D]:ca(jf(Dr(D)))},Ae.toPlainObject=Ht,Ae.transform=function(D,E,N){var v=Nr(D),m=v||on(D)||Du(D);if(E=Lt(E,4),N==null){var x=D&&D.constructor;N=m?v?new x:[]:Ii(D)&&_r(x)?$r(Wi(D)):{}}return(m?Jn:Kt)(D,function(P,L,H){return E(N,P,L,H)}),N},Ae.unary=function(D){return Ra(D,1)},Ae.union=Ih,Ae.unionBy=Oh,Ae.unionWith=Lf,Ae.uniq=function(D){return D&&D.length?so(D):[]},Ae.uniqBy=function(D,E){return D&&D.length?so(D,Lt(E,2)):[]},Ae.uniqWith=function(D,E){return E=typeof E=="function"?E:n,D&&D.length?so(D,n,E):[]},Ae.unset=function(D,E){return D==null||pr(D,E)},Ae.unzip=hh,Ae.unzipWith=xf,Ae.update=function(D,E,N){return D==null?D:Sr(D,E,Mu(N))},Ae.updateWith=function(D,E,N,v){return v=typeof v=="function"?v:n,D==null?D:Sr(D,E,Mu(N),v)},Ae.values=Zu,Ae.valuesIn=function(D){return D==null?[]:fc(D,ja(D))},Ae.without=ph,Ae.words=Yn,Ae.wrap=function(D,E){return To(Mu(E),D)},Ae.xor=vl,Ae.xorBy=nh,Ae.xorWith=xu,Ae.zip=$f,Ae.zipObject=function(D,E){return gl(D||[],E||[],Xl)},Ae.zipObjectDeep=function(D,E){return gl(D||[],E||[],tn)},Ae.zipWith=ff,Ae.entries=Io,Ae.entriesIn=cs,Ae.extend=ac,Ae.extendWith=zn,er(Ae,Ae),Ae.add=Oc,Ae.attempt=bc,Ae.camelCase=ro,Ae.capitalize=yc,Ae.ceil=a,Ae.clamp=function(D,E,N){return N===n&&(N=E,E=n),N!==n&&(N=(N=ea(N))==N?N:0),E!==n&&(E=(E=ea(E))==E?E:0),Li(ea(D),E,N)},Ae.clone=function(D){return fo(D,4)},Ae.cloneDeep=function(D){return fo(D,5)},Ae.cloneDeepWith=function(D,E){return fo(D,5,E=typeof E=="function"?E:n)},Ae.cloneWith=function(D,E){return fo(D,4,E=typeof E=="function"?E:n)},Ae.conformsTo=function(D,E){return E==null||uf(D,E,Cn(E))},Ae.deburr=bs,Ae.defaultTo=function(D,E){return D==null||D!=D?E:D},Ae.divide=l,Ae.endsWith=function(D,E,N){D=Dr(D),E=zr(E);var v=D.length,m=N=N===n?v:Li(ui(N),0,v);return(N-=E.length)>=0&&D.slice(N,m)==E},Ae.eq=$n,Ae.escape=function(D){return(D=Dr(D))&&wi.test(D)?D.replace(ur,hc):D},Ae.escapeRegExp=function(D){return(D=Dr(D))&&Be.test(D)?D.replace(Re,"\\$&"):D},Ae.every=function(D,E,N){var v=Nr(D)?nn:pc;return N&&Ys(D,E,N)&&(E=n),v(D,Lt(E,3))},Ae.find=yl,Ae.findIndex=cf,Ae.findKey=function(D,E){return ul(D,Lt(E,3),Kt)},Ae.findLast=wl,Ae.findLastIndex=ai,Ae.findLastKey=function(D,E){return ul(D,Lt(E,3),Lo)},Ae.floor=w,Ae.forEach=Uf,Ae.forEachRight=zh,Ae.forIn=function(D,E){return D==null?D:di(D,Lt(E,3),ja)},Ae.forInRight=function(D,E){return D==null?D:os(D,Lt(E,3),ja)},Ae.forOwn=function(D,E){return D&&Kt(D,Lt(E,3))},Ae.forOwnRight=function(D,E){return D&&Lo(D,Lt(E,3))},Ae.get=Er,Ae.gt=Dn,Ae.gte=$o,Ae.has=function(D,E){return D!=null&&kr(D,E,Ea)},Ae.hasIn=Eh,Ae.head=zc,Ae.identity=Cs,Ae.includes=function(D,E,N,v){D=Eo(D)?D:Zu(D),N=N&&!v?ui(N):0;var m=D.length;return N<0&&(N=Ws(m+N,0)),yi(D)?N<=m&&D.indexOf(E,N)>-1:!!m&&pa(D,E,N)>-1},Ae.indexOf=function(D,E,N){var v=D==null?0:D.length;if(!v)return-1;var m=N==null?0:ui(N);return m<0&&(m=Ws(v+m,0)),pa(D,E,m)},Ae.inRange=function(D,E,N){return E=nf(E),N===n?(N=E,E=0):N=nf(N),function(v,m,x){return v>=Da(m,x)&&v<Ws(m,x)}(D=ea(D),E,N)},Ae.invoke=oh,Ae.isArguments=wa,Ae.isArray=Nr,Ae.isArrayBuffer=mo,Ae.isArrayLike=Eo,Ae.isArrayLikeObject=zt,Ae.isBoolean=function(D){return D===!0||D===!1||Ao(D)&&Xr(D)==F},Ae.isBuffer=on,Ae.isDate=Wt,Ae.isElement=function(D){return Ao(D)&&D.nodeType===1&&!si(D)},Ae.isEmpty=function(D){if(D==null)return!0;if(Eo(D)&&(Nr(D)||typeof D=="string"||typeof D.splice=="function"||on(D)||Du(D)||wa(D)))return!D.length;var E=Vn(D);if(E==J||E==se)return!D.size;if(Fu(D))return!Mi(D).length;for(var N in D)if(oo.call(D,N))return!1;return!0},Ae.isEqual=function(D,E){return ir(D,E)},Ae.isEqualWith=function(D,E,N){var v=(N=typeof N=="function"?N:n)?N(D,E):n;return v===n?ir(D,E,n,N):!!v},Ae.isError=tr,Ae.isFinite=function(D){return typeof D=="number"&&Gl(D)},Ae.isFunction=_r,Ae.isInteger=us,Ae.isLength=Fi,Ae.isMap=sr,Ae.isMatch=function(D,E){return D===E||Qn(D,E,Ks(E))},Ae.isMatchWith=function(D,E,N){return N=typeof N=="function"?N:n,Qn(D,E,Ks(E),N)},Ae.isNaN=function(D){return sn(D)&&D!=+D},Ae.isNative=function(D){if(qr(D))throw new Qe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return mu(D)},Ae.isNil=function(D){return D==null},Ae.isNull=function(D){return D===null},Ae.isNumber=sn,Ae.isObject=Ii,Ae.isObjectLike=Ao,Ae.isPlainObject=si,Ae.isRegExp=Tt,Ae.isSafeInteger=function(D){return us(D)&&D>=-9007199254740991&&D<=f},Ae.isSet=Qu,Ae.isString=yi,Ae.isSymbol=mt,Ae.isTypedArray=Du,Ae.isUndefined=function(D){return D===n},Ae.isWeakMap=function(D){return Ao(D)&&Vn(D)==Pe},Ae.isWeakSet=function(D){return Ao(D)&&Xr(D)=="[object WeakSet]"},Ae.join=function(D,E){return D==null?"":Zf.call(D,E)},Ae.kebabCase=ba,Ae.last=Os,Ae.lastIndexOf=function(D,E,N){var v=D==null?0:D.length;if(!v)return-1;var m=v;return N!==n&&(m=(m=ui(N))<0?Ws(v+m,0):Da(m,v-1)),E==E?function(x,P,L){for(var H=L+1;H--;)if(x[H]===P)return H;return H}(D,E,m):zs(D,_c,m,!0)},Ae.lowerCase=Pu,Ae.lowerFirst=_u,Ae.lt=xr,Ae.lte=zo,Ae.max=function(D){return D&&D.length?Pn(D,Cs,as):n},Ae.maxBy=function(D,E){return D&&D.length?Pn(D,Lt(E,2),as):n},Ae.mean=function(D){return Us(D,Cs)},Ae.meanBy=function(D,E){return Us(D,Lt(E,2))},Ae.min=function(D){return D&&D.length?Pn(D,Cs,ku):n},Ae.minBy=function(D,E){return D&&D.length?Pn(D,Lt(E,2),ku):n},Ae.stubArray=Ic,Ae.stubFalse=mf,Ae.stubObject=function(){return{}},Ae.stubString=function(){return""},Ae.stubTrue=function(){return!0},Ae.multiply=A,Ae.nth=function(D,E){return D&&D.length?du(D,ui(E)):n},Ae.noConflict=function(){return Za._===this&&(Za._=wf),this},Ae.noop=Ko,Ae.now=_o,Ae.pad=function(D,E,N){D=Dr(D);var v=(E=ui(E))?ie(D):0;if(!E||v>=E)return D;var m=(E-v)/2;return Il(Sh(m),N)+D+Il(Ch(m),N)},Ae.padEnd=function(D,E,N){D=Dr(D);var v=(E=ui(E))?ie(D):0;return E&&v<E?D+Il(E-v,N):D},Ae.padStart=function(D,E,N){D=Dr(D);var v=(E=ui(E))?ie(D):0;return E&&v<E?Il(E-v,N)+D:D},Ae.parseInt=function(D,E,N){return N||E==null?E=0:E&&(E=+E),Ai(Dr(D).replace(He,""),E||0)},Ae.random=function(D,E,N){if(N&&typeof N!="boolean"&&Ys(D,E,N)&&(E=N=n),N===n&&(typeof E=="boolean"?(N=E,E=n):typeof D=="boolean"&&(N=D,D=n)),D===n&&E===n?(D=0,E=1):(D=nf(D),E===n?(E=D,D=0):E=nf(E)),D>E){var v=D;D=E,E=v}if(N||D%1||E%1){var m=Tr();return Da(D+m*(E-D+Bt("1e-"+((m+"").length-1))),E)}return Tl(D,E)},Ae.reduce=function(D,E,N){var v=Nr(D)?Wl:vr,m=arguments.length<3;return v(D,Lt(E,4),N,m,Ln)},Ae.reduceRight=function(D,E,N){var v=Nr(D)?Wn:vr,m=arguments.length<3;return v(D,Lt(E,4),N,m,Mc)},Ae.repeat=function(D,E,N){return E=(N?Ys(D,E,N):E===n)?1:ui(E),Ps(Dr(D),E)},Ae.replace=function(){var D=arguments,E=Dr(D[0]);return D.length<3?E:E.replace(D[1],D[2])},Ae.result=function(D,E,N){var v=-1,m=(E=ru(E,D)).length;for(m||(m=1,D=n);++v<m;){var x=D==null?n:D[Xs(E[v])];x===n&&(v=m,x=N),D=_r(x)?x.call(D):x}return D},Ae.round=I,Ae.runInContext=Ue,Ae.sample=function(D){return(Nr(D)?sa:lr)(D)},Ae.size=function(D){if(D==null)return 0;if(Eo(D))return yi(D)?ie(D):D.length;var E=Vn(D);return E==J||E==se?D.size:Mi(D).length},Ae.snakeCase=xs,Ae.some=function(D,E,N){var v=Nr(D)?bi:hr;return N&&Ys(D,E,N)&&(E=n),v(D,Lt(E,3))},Ae.sortedIndex=function(D,E){return Co(D,E)},Ae.sortedIndexBy=function(D,E,N){return So(D,E,Lt(N,2))},Ae.sortedIndexOf=function(D,E){var N=D==null?0:D.length;if(N){var v=Co(D,E);if(v<N&&$n(D[v],E))return v}return-1},Ae.sortedLastIndex=function(D,E){return Co(D,E,!0)},Ae.sortedLastIndexBy=function(D,E,N){return So(D,E,Lt(N,2),!0)},Ae.sortedLastIndexOf=function(D,E){if(D!=null&&D.length){var N=Co(D,E,!0)-1;if($n(D[N],E))return N}return-1},Ae.startCase=wc,Ae.startsWith=function(D,E,N){return D=Dr(D),N=N==null?0:Li(ui(N),0,D.length),E=zr(E),D.slice(N,N+E.length)==E},Ae.subtract=U,Ae.sum=function(D){return D&&D.length?ll(D,Cs):0},Ae.sumBy=function(D,E){return D&&D.length?ll(D,Lt(E,2)):0},Ae.template=function(D,E,N){var v=Ae.templateSettings;N&&Ys(D,E,N)&&(E=n),D=Dr(D),E=zn({},E,v,Ba);var m,x,P=zn({},E.imports,v.imports,Ba),L=Cn(P),H=fc(P,L),V=0,Y=E.interpolate||ju,re="__p += '",ne=Cr((E.escape||ju).source+"|"+Y.source+"|"+(Y===fe?At:ju).source+"|"+(E.evaluate||ju).source+"|$","g"),ce="//# sourceURL="+(oo.call(E,"sourceURL")?(E.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ph+"]")+`
`;D.replace(ne,function(we,Te,Ge,Ie,Xe,Ye){return Ge||(Ge=Ie),re+=D.slice(V,Ye).replace(eu,xo),Te&&(m=!0,re+=`' +
__e(`+Te+`) +
'`),Xe&&(x=!0,re+=`';
`+Xe+`;
__p += '`),Ge&&(re+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),V=Ye+we.length,we}),re+=`';
`;var me=oo.call(E,"variable")&&E.variable;if(me){if(kn.test(me))throw new Qe("Invalid `variable` option passed into `_.template`")}else re=`with (obj) {
`+re+`
}
`;re=(x?re.replace(Dt,""):re).replace(rn,"$1").replace(an,"$1;"),re="function("+(me||"obj")+`) {
`+(me?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+re+`return __p
}`;var be=bc(function(){return ut(L,ce+"return "+re).apply(n,H)});if(be.source=re,tr(be))throw be;return be},Ae.times=function(D,E){if((D=ui(D))<1||D>f)return[];var N=y,v=Da(D,y);E=Lt(E),D-=y;for(var m=Ro(v,E);++N<D;)E(N);return m},Ae.toFinite=nf,Ae.toInteger=ui,Ae.toLength=Cu,Ae.toLower=function(D){return Dr(D).toLowerCase()},Ae.toNumber=ea,Ae.toSafeInteger=function(D){return D?Li(ui(D),-9007199254740991,f):D===0?D:0},Ae.toString=Dr,Ae.toUpper=function(D){return Dr(D).toUpperCase()},Ae.trim=function(D,E,N){if((D=Dr(D))&&(N||E===n))return Vl(D);if(!D||!(E=zr(E)))return D;var v=de(D),m=de(E);return Ts(v,ra(v,m),Wa(v,m)+1).join("")},Ae.trimEnd=function(D,E,N){if((D=Dr(D))&&(N||E===n))return D.slice(0,ye(D)+1);if(!D||!(E=zr(E)))return D;var v=de(D);return Ts(v,0,Wa(v,de(E))+1).join("")},Ae.trimStart=function(D,E,N){if((D=Dr(D))&&(N||E===n))return D.replace(He,"");if(!D||!(E=zr(E)))return D;var v=de(D);return Ts(v,ra(v,de(E))).join("")},Ae.truncate=function(D,E){var N=30,v="...";if(Ii(E)){var m="separator"in E?E.separator:m;N="length"in E?ui(E.length):N,v="omission"in E?zr(E.omission):v}var x=(D=Dr(D)).length;if(ts(D)){var P=de(D);x=P.length}if(N>=x)return D;var L=N-ie(v);if(L<1)return v;var H=P?Ts(P,0,L).join(""):D.slice(0,L);if(m===n)return H+v;if(P&&(L+=H.length-L),Tt(m)){if(D.slice(L).search(m)){var V,Y=H;for(m.global||(m=Cr(m.source,Dr(Ui.exec(m))+"g")),m.lastIndex=0;V=m.exec(Y);)var re=V.index;H=H.slice(0,re===n?L:re)}}else if(D.indexOf(zr(m),L)!=L){var ne=H.lastIndexOf(m);ne>-1&&(H=H.slice(0,ne))}return H+v},Ae.unescape=function(D){return(D=Dr(D))&&Fn.test(D)?D.replace(un,ze):D},Ae.uniqueId=function(D){var E=++yf;return Dr(D)+E},Ae.upperCase=Tu,Ae.upperFirst=bl,Ae.each=Uf,Ae.eachRight=zh,Ae.first=zc,er(Ae,($l={},Kt(Ae,function(D,E){oo.call(Ae.prototype,E)||($l[E]=D)}),$l),{chain:!1}),Ae.VERSION="4.17.21",Jn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(D){Ae[D].placeholder=Ae}),Jn(["drop","take"],function(D,E){ln.prototype[D]=function(N){N=N===n?1:Ws(ui(N),0);var v=this.__filtered__&&!E?new ln(this):this.clone();return v.__filtered__?v.__takeCount__=Da(N,v.__takeCount__):v.__views__.push({size:Da(N,y),type:D+(v.__dir__<0?"Right":"")}),v},ln.prototype[D+"Right"]=function(N){return this.reverse()[D](N).reverse()}}),Jn(["filter","map","takeWhile"],function(D,E){var N=E+1,v=N==1||N==3;ln.prototype[D]=function(m){var x=this.clone();return x.__iteratees__.push({iteratee:Lt(m,3),type:N}),x.__filtered__=x.__filtered__||v,x}}),Jn(["head","last"],function(D,E){var N="take"+(E?"Right":"");ln.prototype[D]=function(){return this[N](1).value()[0]}}),Jn(["initial","tail"],function(D,E){var N="drop"+(E?"":"Right");ln.prototype[D]=function(){return this.__filtered__?new ln(this):this[N](1)}}),ln.prototype.compact=function(){return this.filter(Cs)},ln.prototype.find=function(D){return this.filter(D).head()},ln.prototype.findLast=function(D){return this.reverse().find(D)},ln.prototype.invokeMap=Ar(function(D,E){return typeof D=="function"?new ln(this):this.map(function(N){return Au(N,D,E)})}),ln.prototype.reject=function(D){return this.filter(tf(Lt(D)))},ln.prototype.slice=function(D,E){D=ui(D);var N=this;return N.__filtered__&&(D>0||E<0)?new ln(N):(D<0?N=N.takeRight(-D):D&&(N=N.drop(D)),E!==n&&(N=(E=ui(E))<0?N.dropRight(-E):N.take(E-D)),N)},ln.prototype.takeRightWhile=function(D){return this.reverse().takeWhile(D).reverse()},ln.prototype.toArray=function(){return this.take(y)},Kt(ln.prototype,function(D,E){var N=/^(?:filter|find|map|reject)|While$/.test(E),v=/^(?:head|last)$/.test(E),m=Ae[v?"take"+(E=="last"?"Right":""):E],x=v||/^find/.test(E);m&&(Ae.prototype[E]=function(){var P=this.__wrapped__,L=v?[1]:arguments,H=P instanceof ln,V=L[0],Y=H||Nr(P),re=function(Te){var Ge=m.apply(Ae,$s([Te],L));return v&&ne?Ge[0]:Ge};Y&&N&&typeof V=="function"&&V.length!=1&&(H=Y=!1);var ne=this.__chain__,ce=!!this.__actions__.length,me=x&&!ne,be=H&&!ce;if(!x&&Y){P=be?P:new ln(this);var we=D.apply(P,L);return we.__actions__.push({func:Wc,args:[re],thisArg:n}),new Z(we,ne)}return me&&be?D.apply(this,L):(we=this.thru(re),me?v?we.value()[0]:we.value():we)})}),Jn(["pop","push","shift","sort","splice","unshift"],function(D){var E=$t[D],N=/^(?:push|sort|unshift)$/.test(D)?"tap":"thru",v=/^(?:pop|shift)$/.test(D);Ae.prototype[D]=function(){var m=arguments;if(v&&!this.__chain__){var x=this.value();return E.apply(Nr(x)?x:[],m)}return this[N](function(P){return E.apply(Nr(P)?P:[],m)})}}),Kt(ln.prototype,function(D,E){var N=Ae[E];if(N){var v=N.name+"";oo.call(Yl,v)||(Yl[v]=[]),Yl[v].push({name:E,func:N})}}),Yl[qa(n,2).name]=[{name:"wrapper",func:n}],ln.prototype.clone=function(){var D=new ln(this.__wrapped__);return D.__actions__=ca(this.__actions__),D.__dir__=this.__dir__,D.__filtered__=this.__filtered__,D.__iteratees__=ca(this.__iteratees__),D.__takeCount__=this.__takeCount__,D.__views__=ca(this.__views__),D},ln.prototype.reverse=function(){if(this.__filtered__){var D=new ln(this);D.__dir__=-1,D.__filtered__=!0}else(D=this.clone()).__dir__*=-1;return D},ln.prototype.value=function(){var D=this.__wrapped__.value(),E=this.__dir__,N=Nr(D),v=E<0,m=N?D.length:0,x=function(Ye,rt,St){for(var Mt=-1,en=St.length;++Mt<en;){var qt=St[Mt],It=qt.size;switch(qt.type){case"drop":Ye+=It;break;case"dropRight":rt-=It;break;case"take":rt=Da(rt,Ye+It);break;case"takeRight":Ye=Ws(Ye,rt-It)}}return{start:Ye,end:rt}}(0,m,this.__views__),P=x.start,L=x.end,H=L-P,V=v?L:P-1,Y=this.__iteratees__,re=Y.length,ne=0,ce=Da(H,this.__takeCount__);if(!N||!v&&m==H&&ce==H)return Ql(D,this.__actions__);var me=[];e:for(;H--&&ne<ce;){for(var be=-1,we=D[V+=E];++be<re;){var Te=Y[be],Ge=Te.iteratee,Ie=Te.type,Xe=Ge(we);if(Ie==2)we=Xe;else if(!Xe){if(Ie==1)continue e;break e}}me[ne++]=we}return me},Ae.prototype.at=Nh,Ae.prototype.chain=function(){return Df(this)},Ae.prototype.commit=function(){return new Z(this.value(),this.__chain__)},Ae.prototype.next=function(){this.__values__===n&&(this.__values__=Ot(this.value()));var D=this.__index__>=this.__values__.length;return{done:D,value:D?n:this.__values__[this.__index__++]}},Ae.prototype.plant=function(D){for(var E,N=this;N instanceof xi;){var v=Ka(N);v.__index__=0,v.__values__=n,E?m.__wrapped__=v:E=v;var m=v;N=N.__wrapped__}return m.__wrapped__=D,E},Ae.prototype.reverse=function(){var D=this.__wrapped__;if(D instanceof ln){var E=D;return this.__actions__.length&&(E=new ln(this)),(E=E.reverse()).__actions__.push({func:Wc,args:[Th],thisArg:n}),new Z(E,this.__chain__)}return this.thru(Th)},Ae.prototype.toJSON=Ae.prototype.valueOf=Ae.prototype.value=function(){return Ql(this.__wrapped__,this.__actions__)},Ae.prototype.first=Ae.prototype.head,Ac&&(Ae.prototype[Ac]=function(){return this}),Ae}();hu?((hu.exports=ct)._=ct,Rr._=ct):Za._=ct}).call(Ux.exports)),Ux.exports);function VN(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}(function(){function n(e,t){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=t,this.rootNode=e(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return Object.defineProperty(n.prototype,"windows",{get:function(){var e=function(t){return n0([t],t.children.flatMap(e))};return pJ.orderBy(e(this.rootNode),function(t){return t.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var e=function(t){var r=t._boxSnapshot,i=[];if(i.push("KEY: ".concat(t.key)),t._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(t.getLayer())),i.push("BOX: [".concat(t.o[0],", ").concat(t.o[1],", ").concat(t.w,", ").concat(t.h,"]")),i.push("GLOBAL O: [".concat(t.globalO[0],", ").concat(t.globalO[1],"]")),i.push("CHILDREN:"),t.children.length>0){for(var o=t.children,s=[],u=0;u<o.length;u++){var c=o[u];s.push(e(c))}for(i.push(" |"),u=0;u<s.length;u++){for(var p=s[u],f=u===s.length-1?" └─":" ├─",g=0;g<p.length;g++){var y=g===0?f:u===s.length-1?"   ":" | ",b=p[g];i.push("".concat(y,"  ").concat(b))}u<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("  └─ (no children)");return t._boxSnapshot=r,i};console.log(e(this.rootNode).join(`
`))},n.prototype.onUpdate=function(e){this.onUpdateFunction=e},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Xf(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Xf([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(e,t){var r=this.scheduleUpdate(e);this.scheduledStateUpdates.push([r,function(){e.state=t}])},n.prototype.scheduleContextUpdate=function(e,t,r){var i=this.scheduleUpdate(e);this.scheduledStateUpdates.push([i,function(){e.context[t]=r}])},n.prototype.setSingleUpdateFlag=function(e,t){this.scheduledUpdateNodeMap[t]||(this.scheduledUpdateNodeMap[t]={}),this.scheduledUpdateNodeMap[t][e.globalKey]=!0},n.prototype.scheduleUpdate=function(e){var t=this,r=function(){t.DEBUG&&console.log("Scheduling update for ".concat(e.globalKey,". Received id ").concat(t.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=VN();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(t.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(t.scheduledUpdateIds,null,2),`.
                    `)),t.updateRunning=!0;t.scheduledUpdateIds.length>0;)t.updateScheduled=!1,t.updateCurrentId();t.updateRunning=!1}),this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=VN(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(e){console.error(e)}},n.prototype.propogateUpdateFlags=function(e){var t=this,r=function(i,o,s){t.scheduledUpdateNodeMap[o]||(t.scheduledUpdateNodeMap[o]={}),t.scheduledUpdateNodeMap[o][i.globalKey]&&(s=!0),t.scheduledUpdateNodeMap[o][i.globalKey]=s,i.children.forEach(function(u){return r(u,o,s)})};r(this.rootNode,e,!1)},n.prototype.updateCurrentId=function(){var e=this,t=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[t]).forEach(function(i){e.propogateUpdateFlags(t)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==t}),this.scheduledStateUpdates.filter(function(i){return i[0]===t}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==t});var r=this.scheduledUpdateNodeMap[t];this.update(r),delete this.scheduledUpdateNodeMap[t]},n.prototype.taintLayer=function(e){this.taintedLayers.includes(e)||this.taintedLayers.push(e)},n.prototype.findCameraPathRecursive=function(e,t){var r,i;if(e._isPrimaryCamera){var o=e.globalKey;return p=Iu(Iu({},t),((r={})[o]=!0,r))}for(var s=e.children,u=0;u<s.length;u++){var c=s[u],p=(o=c.globalKey,Iu(Iu({},t),((i={})[o]=!0,i))),f=this.findCameraPathRecursive(c,p);if(f)return f}},n.prototype.AND_updateMaps=function(e,t){var r={};for(var i in e)t[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(e,t){var r={};for(var i in e)t[i]||(r[i]=!0);for(var i in t)e[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(e,t){var r=this.AND_updateMaps(e,t);return[r,this.XOR_updateMaps(e,r)]},n.prototype.setNeedsUpdateToMap=function(e){var t=function(r){var i=r.globalKey;e[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(e){var t=function(r){var i=r.globalKey;e[i]&&(r._needsUpdate=!0),r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.installCamera=function(e){this.cameraNode!==e&&(this.scheduledCameraNode=e,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(e){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var t=this.findCameraPathRecursive(this.rootNode,{});if(!t)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(e,t),i=r[0],o=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(e),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(o),null,2),`
            `));var s=function(u,c){u._needsUpdate?c?u.cameraPassUpdateSelf():u.regularPassUpdateSelf():u.children.forEach(function(p){return s(p,c)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(o),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var e=this.canvas.getContext("2d");if(!e)throw new Error("Could not get 2d context from canvas");e.clearRect(0,0,this.canvas.width,this.canvas.height),sJ(this.cameraSnapshot,this.windows,this.canvas,e,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(e,t){lJ(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseMoveHandler=function(e,t){cJ(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseUpHandler=function(e,t){fJ(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseWheelHandler=function(e){hJ(this.cameraSnapshot,this.windows,this.canvas,e)},n.prototype.clickHandler=function(e,t){uJ(this.cameraSnapshot,this.windows,this.canvas,e,t)},n})();function OS(){return OS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},OS.apply(null,arguments)}var _z={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function gJ(n,e){if(FC(n,e))return n[e];throw typeof n[e]=="function"&&function(t,r){return t==null||typeof t[r]!="function"||Tb(t,r)&&Object.getPrototypeOf&&r in Object.getPrototypeOf(t)?!1:Tb(dJ,r)?!0:!(r in Object.prototype||r in Function.prototype)}(n,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function FC(n,e){return!(!function(t){return typeof t=="object"&&t&&t.constructor===Object}(n)&&!Array.isArray(n))&&(!!Tb(mJ,e)||!(e in Object.prototype)&&!(e in Function.prototype))}var mJ={length:!0,name:!0},dJ={toString:!0,valueOf:!0,toLocaleString:!0};let vJ=class{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return gJ(this.wrappedObject,e)}set(e,t){return function(r,i,o){if(FC(r,i))return r[i]=o,o;throw new Error('No access to property "'+i+'"')}(this.wrappedObject,e,t),this}has(e){return FC(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return e=this.keys(),t=r=>[r,this.get(r)],{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}};var e,t}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){FC(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}};function Gf(n){return typeof n=="number"}function Rp(n){return!(!n||typeof n!="object"||typeof n.constructor!="function")&&(n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0)}function yJ(n){return typeof n=="bigint"}function Ez(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function Az(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function kz(n){return n&&n.constructor.prototype.isUnit===!0||!1}function C0(n){return typeof n=="string"}var Yh=Array.isArray;function k0(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function NS(n){return Array.isArray(n)||k0(n)}function wJ(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function bJ(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function xJ(n){return n&&n.constructor.prototype.isRange===!0||!1}function sI(n){return n&&n.constructor.prototype.isIndex===!0||!1}function DJ(n){return typeof n=="boolean"}function CJ(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function SJ(n){return n&&n.constructor.prototype.isHelp===!0||!1}function _J(n){return typeof n=="function"}function EJ(n){return n instanceof Date}function AJ(n){return n instanceof RegExp}function uI(n){return!(!n||typeof n!="object"||n.constructor!==Object||Ez(n)||Az(n))}function kJ(n){return!!n&&(n instanceof Map||n instanceof vJ||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function")}function MJ(n){return n===null}function FJ(n){return n===void 0}function PJ(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function TJ(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function IJ(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function OJ(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function NJ(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function BJ(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function RJ(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function jJ(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function LJ(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function $J(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function zJ(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function UJ(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function WJ(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function HJ(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function VJ(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function qJ(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function KJ(n){return n&&n.constructor.prototype.isChain===!0||!1}function Zv(n){var e=typeof n;return e==="object"?n===null?"null":Rp(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function mp(n){var e=typeof n;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||n==null)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return mp(t)});if(n instanceof Date)return new Date(n.valueOf());if(Rp(n))return n;if(uI(n))return function(t,r){var i={};for(var o in t)Tb(t,o)&&(i[o]=r(t[o]));return i}(n,mp);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function cv(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!cv(n[r],e[r]))return!1;return!0}if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!cv(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function Tb(n,e){return n&&Object.hasOwnProperty.call(n,e)}var lI=function(n){if(n)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(_z)};function qN(){return!0}function am(){return!1}function Ay(){}OS(lI,_z,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const KN="Argument is not a typed-function.";var BS=function n(){function e(ue){return typeof ue=="object"&&ue!==null&&ue.constructor===Object}const t=[{name:"number",test:function(ue){return typeof ue=="number"}},{name:"string",test:function(ue){return typeof ue=="string"}},{name:"boolean",test:function(ue){return typeof ue=="boolean"}},{name:"Function",test:function(ue){return typeof ue=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(ue){return ue instanceof Date}},{name:"RegExp",test:function(ue){return ue instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(ue){return ue===null}},{name:"undefined",test:function(ue){return ue===void 0}}],r={name:"any",test:qN,isAny:!0};let i,o,s=0,u={createCount:0};function c(ue){const ve=i.get(ue);if(ve)return ve;let Se='Unknown type "'+ue+'"';const Re=ue.toLowerCase();let Be;for(Be of o)if(Be.toLowerCase()===Re){Se+='. Did you mean "'+Be+'" ?';break}throw new TypeError(Se)}function p(ue){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const Se=ve?c(ve).index:o.length,Re=[];for(let He=0;He<ue.length;++He){if(!ue[He]||typeof ue[He].name!="string"||typeof ue[He].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const We=ue[He].name;if(i.has(We))throw new TypeError('Duplicate type name "'+We+'"');Re.push(We),i.set(We,{name:We,test:ue[He].test,isAny:ue[He].isAny,index:Se+He,conversionsTo:[]})}const Be=o.slice(Se);o=o.slice(0,Se).concat(Re).concat(Be);for(let He=Se+Re.length;He<o.length;++He)i.get(o[He]).index=He}function f(){i=new Map,o=[],s=0,p([r],!1)}function g(ue){const ve=o.filter(Se=>{const Re=i.get(Se);return!Re.isAny&&Re.test(ue)});return ve.length?ve:["any"]}function y(ue){return ue&&typeof ue=="function"&&"_typedFunctionData"in ue}function b(ue,ve,Se){if(!y(ue))throw new TypeError(KN);const Re=Se&&Se.exact,Be=j(Array.isArray(ve)?ve.join(","):ve),He=_(Be);if(!Re||He in ue.signatures){const bt=ue._typedFunctionData.signatureMap.get(He);if(bt)return bt}const We=Be.length;let ot,gt;if(Re){let bt;for(bt in ot=[],ue.signatures)ot.push(ue._typedFunctionData.signatureMap.get(bt))}else ot=ue._typedFunctionData.signatures;for(let bt=0;bt<We;++bt){const fn=Be[bt],kn=[];let yn;for(yn of ot){const At=G(yn.params,bt);if(At&&(!fn.restParam||At.restParam)){if(!At.hasAny){const Ui=O(At);if(fn.types.some(io=>!Ui.has(io.name)))continue}kn.push(yn)}}if(ot=kn,ot.length===0)break}for(gt of ot)if(gt.params.length<=We)return gt;throw new TypeError("Signature not found (signature: "+(ue.name||"unnamed")+"("+_(Be,", ")+"))")}function _(ue){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return ue.map(Se=>Se.name).join(ve)}function M(ue){const ve=ue.indexOf("...")===0,Se=(ve?ue.length>3?ue.slice(3):"any":ue).split("|").map(He=>c(He.trim()));let Re=!1,Be=ve?"...":"";return{types:Se.map(function(He){return Re=He.isAny||Re,Be+=He.name+"|",{name:He.name,typeIndex:He.index,test:He.test,isAny:He.isAny,conversion:null,conversionIndex:-1}}),name:Be.slice(0,-1),hasAny:Re,hasConversion:!1,restParam:ve}}function F(ue){const ve=function(He){if(He.length===0)return[];const We=He.map(c);He.length>1&&We.sort((bt,fn)=>bt.index-fn.index);let ot=We[0].conversionsTo;if(He.length===1)return ot;ot=ot.concat([]);const gt=new Set(He);for(let bt=1;bt<We.length;++bt){let fn;for(fn of We[bt].conversionsTo)gt.has(fn.from)||(ot.push(fn),gt.add(fn.from))}return ot}(ue.types.map(He=>He.name));let Se=ue.hasAny,Re=ue.name;const Be=ve.map(function(He){const We=c(He.from);return Se=We.isAny||Se,Re+="|"+He.from,{name:He.from,typeIndex:We.index,test:We.test,isAny:We.isAny,conversion:He,conversionIndex:He.index}});return{types:ue.types.concat(Be),name:Re,hasAny:Se,hasConversion:Be.length>0,restParam:ue.restParam}}function O(ue){return ue.typeSet||(ue.typeSet=new Set,ue.types.forEach(ve=>ue.typeSet.add(ve.name))),ue.typeSet}function j(ue){const ve=[];if(typeof ue!="string")throw new TypeError("Signatures must be strings");const Se=ue.trim();if(Se==="")return ve;const Re=Se.split(",");for(let Be=0;Be<Re.length;++Be){const He=M(Re[Be].trim());if(He.restParam&&Be!==Re.length-1)throw new SyntaxError('Unexpected rest parameter "'+Re[Be]+'": only allowed for the last parameter');if(He.types.length===0)return null;ve.push(He)}return ve}function z(ue){const ve=wt(ue);return!!ve&&ve.restParam}function W(ue){if(ue&&ue.types.length!==0){if(ue.types.length===1)return c(ue.types[0].name).test;if(ue.types.length===2){const ve=c(ue.types[0].name).test,Se=c(ue.types[1].name).test;return function(Re){return ve(Re)||Se(Re)}}{const ve=ue.types.map(function(Se){return c(Se.name).test});return function(Se){for(let Re=0;Re<ve.length;Re++)if(ve[Re](Se))return!0;return!1}}}return qN}function J(ue){let ve,Se,Re;if(z(ue)){ve=xt(ue).map(W);const Be=ve.length,He=W(wt(ue)),We=function(ot){for(let gt=Be;gt<ot.length;gt++)if(!He(ot[gt]))return!1;return!0};return function(ot){for(let gt=0;gt<ve.length;gt++)if(!ve[gt](ot[gt]))return!1;return We(ot)&&ot.length>=Be+1}}return ue.length===0?function(Be){return Be.length===0}:ue.length===1?(Se=W(ue[0]),function(Be){return Se(Be[0])&&Be.length===1}):ue.length===2?(Se=W(ue[0]),Re=W(ue[1]),function(Be){return Se(Be[0])&&Re(Be[1])&&Be.length===2}):(ve=ue.map(W),function(Be){for(let He=0;He<ve.length;He++)if(!ve[He](Be[He]))return!1;return Be.length===ve.length})}function G(ue,ve){return ve<ue.length?ue[ve]:z(ue)?wt(ue):null}function Q(ue,ve){const Se=G(ue,ve);return Se?O(Se):new Set}function te(ue){return ue.conversion===null||ue.conversion===void 0}function ae(ue,ve){const Se=new Set;return ue.forEach(Re=>{const Be=Q(Re.params,ve);let He;for(He of Be)Se.add(He)}),Se.has("any")?["any"]:Array.from(Se)}function se(ue,ve,Se){let Re,Be;const He=ue||"unnamed";let We,ot=Se;for(We=0;We<ve.length;We++){const kn=[];if(ot.forEach(yn=>{const At=W(G(yn.params,We));(We<yn.params.length||z(yn.params))&&At(ve[We])&&kn.push(yn)}),kn.length===0){if(Be=ae(ot,We),Be.length>0){const yn=g(ve[We]);return Re=new TypeError("Unexpected type of argument in function "+He+" (expected: "+Be.join(" or ")+", actual: "+yn.join(" | ")+", index: "+We+")"),Re.data={category:"wrongType",fn:He,index:We,actual:yn,expected:Be},Re}}else ot=kn}const gt=ot.map(function(kn){return z(kn.params)?1/0:kn.params.length});if(ve.length<Math.min.apply(null,gt))return Be=ae(ot,We),Re=new TypeError("Too few arguments in function "+He+" (expected: "+Be.join(" or ")+", index: "+ve.length+")"),Re.data={category:"tooFewArgs",fn:He,index:ve.length,expected:Be},Re;const bt=Math.max.apply(null,gt);if(ve.length>bt)return Re=new TypeError("Too many arguments in function "+He+" (expected: "+bt+", actual: "+ve.length+")"),Re.data={category:"tooManyArgs",fn:He,index:ve.length,expectedLength:bt},Re;const fn=[];for(let kn=0;kn<ve.length;++kn)fn.push(g(ve[kn]).join("|"));return Re=new TypeError('Arguments of type "'+fn.join(", ")+'" do not match any of the defined signatures of function '+He+"."),Re.data={category:"mismatch",actual:fn},Re}function ge(ue){let ve=o.length+1;for(let Se=0;Se<ue.types.length;Se++)te(ue.types[Se])&&(ve=Math.min(ve,ue.types[Se].typeIndex));return ve}function xe(ue){let ve=s+1;for(let Se=0;Se<ue.types.length;Se++)te(ue.types[Se])||(ve=Math.min(ve,ue.types[Se].conversionIndex));return ve}function Pe(ue,ve){if(ue.hasAny){if(!ve.hasAny)return 1}else if(ve.hasAny)return-1;if(ue.restParam){if(!ve.restParam)return 1}else if(ve.restParam)return-1;if(ue.hasConversion){if(!ve.hasConversion)return 1}else if(ve.hasConversion)return-1;const Se=ge(ue)-ge(ve);if(Se<0)return-1;if(Se>0)return 1;const Re=xe(ue)-xe(ve);return Re<0?-1:Re>0?1:0}function Ce(ue,ve){const Se=ue.params,Re=ve.params,Be=wt(Se),He=wt(Re),We=z(Se),ot=z(Re);if(We&&Be.hasAny){if(!ot||!He.hasAny)return 1}else if(ot&&He.hasAny)return-1;let gt,bt=0,fn=0;for(gt of Se)gt.hasAny&&++bt,gt.hasConversion&&++fn;let kn=0,yn=0;for(gt of Re)gt.hasAny&&++kn,gt.hasConversion&&++yn;if(bt!==kn)return bt-kn;if(We&&Be.hasConversion){if(!ot||!He.hasConversion)return 1}else if(ot&&He.hasConversion)return-1;if(fn!==yn)return fn-yn;if(We){if(!ot)return 1}else if(ot)return-1;const At=(Se.length-Re.length)*(We?-1:1);if(At!==0)return At;const Ui=[];let io,bo=0;for(let ta=0;ta<Se.length;++ta){const Oo=Pe(Se[ta],Re[ta]);Ui.push(Oo),bo+=Oo}if(bo!==0)return bo;for(io of Ui)if(io!==0)return io;return 0}function Me(ue,ve){let Se=ve;if(ue.some(Be=>Be.hasConversion)){const Be=z(ue),He=ue.map(Oe);Se=function(){const We=[],ot=Be?arguments.length-1:arguments.length;for(let gt=0;gt<ot;gt++)We[gt]=He[gt](arguments[gt]);return Be&&(We[ot]=arguments[ot].map(He[ot])),ve.apply(this,We)}}let Re=Se;if(z(ue)){const Be=ue.length-1;Re=function(){return Se.apply(this,Dt(arguments,0,Be).concat([Dt(arguments,Be)]))}}return Re}function Oe(ue){let ve,Se,Re,Be;const He=[],We=[];switch(ue.types.forEach(function(ot){ot.conversion&&(He.push(c(ot.conversion.from).test),We.push(ot.conversion.convert))}),We.length){case 0:return function(ot){return ot};case 1:return ve=He[0],Re=We[0],function(ot){return ve(ot)?Re(ot):ot};case 2:return ve=He[0],Se=He[1],Re=We[0],Be=We[1],function(ot){return ve(ot)?Re(ot):Se(ot)?Be(ot):ot};default:return function(ot){for(let gt=0;gt<We.length;gt++)if(He[gt](ot))return We[gt](ot);return ot}}}function et(ue){return function ve(Se,Re,Be){if(Re<Se.length){const ot=Se[Re];let gt=[];if(ot.restParam){const bt=ot.types.filter(te);bt.length<ot.types.length&&gt.push({types:bt,name:"..."+bt.map(fn=>fn.name).join("|"),hasAny:bt.some(fn=>fn.isAny),hasConversion:!1,restParam:!0}),gt.push(ot)}else gt=ot.types.map(function(bt){return{types:[bt],name:bt.name,hasAny:bt.isAny,hasConversion:bt.conversion,restParam:!1}});return He=gt,We=function(bt){return ve(Se,Re+1,Be.concat([bt]))},Array.prototype.concat.apply([],He.map(We))}return[Be];var He,We}(ue,0,[])}function $e(ue,ve){const Se=Math.max(ue.length,ve.length);for(let ot=0;ot<Se;ot++){const gt=Q(ue,ot),bt=Q(ve,ot);let fn,kn=!1;for(fn of bt)if(gt.has(fn)){kn=!0;break}if(!kn)return!1}const Re=ue.length,Be=ve.length,He=z(ue),We=z(ve);return He?We?Re===Be:Be>=Re:We?Re>=Be:Re===Be}function Fe(ue,ve,Se){const Re=[];let Be;for(Be of ue){let He=Se[Be];if(typeof He!="number")throw new TypeError('No definition for referenced signature "'+Be+'"');if(He=ve[He],typeof He!="function")return!1;Re.push(He)}return Re}function Ne(ue,ve,Se){const Re=function(We){return We.map(ot=>ur(ot)?an(ot.referToSelf.callback):un(ot)?rn(ot.referTo.references,ot.referTo.callback):ot)}(ue),Be=new Array(Re.length).fill(!1);let He=!0;for(;He;){He=!1;let We=!0;for(let ot=0;ot<Re.length;++ot){if(Be[ot])continue;const gt=Re[ot];if(ur(gt))Re[ot]=gt.referToSelf.callback(Se),Re[ot].referToSelf=gt.referToSelf,Be[ot]=!0,We=!1;else if(un(gt)){const bt=Fe(gt.referTo.references,Re,ve);bt?(Re[ot]=gt.referTo.callback.apply(this,bt),Re[ot].referTo=gt.referTo,Be[ot]=!0,We=!1):He=!0}}if(We&&He)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Re}function Ee(ue,ve){if(u.createCount++,Object.keys(ve).length===0)throw new SyntaxError("No signatures provided");u.warnAgainstDeprecatedThis&&function(Pi){const Lu=/\bthis(\(|\.signatures\b)/;Object.keys(Pi).forEach(Br=>{const ha=Pi[Br];if(Lu.test(ha.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(ve);const Se=[],Re=[],Be={},He=[];let We;for(We in ve){if(!Object.prototype.hasOwnProperty.call(ve,We))continue;const Pi=j(We);if(!Pi)continue;Se.forEach(function(gn){if($e(gn,Pi))throw new TypeError('Conflicting signatures "'+_(gn)+'" and "'+_(Pi)+'".')}),Se.push(Pi);const Lu=Re.length;Re.push(ve[We]);const Br=Pi.map(F);let ha;for(ha of et(Br)){const gn=_(ha);He.push({params:ha,name:gn,fn:Lu}),ha.every(na=>!na.hasConversion)&&(Be[gn]=Lu)}}He.sort(Ce);const ot=Ne(Re,Be,_l);let gt;for(gt in Be)Object.prototype.hasOwnProperty.call(Be,gt)&&(Be[gt]=ot[Be[gt]]);const bt=[],fn=new Map;for(gt of He)fn.has(gt.name)||(gt.fn=ot[gt.fn],bt.push(gt),fn.set(gt.name,gt));const kn=bt[0]&&bt[0].params.length<=2&&!z(bt[0].params),yn=bt[1]&&bt[1].params.length<=2&&!z(bt[1].params),At=bt[2]&&bt[2].params.length<=2&&!z(bt[2].params),Ui=bt[3]&&bt[3].params.length<=2&&!z(bt[3].params),io=bt[4]&&bt[4].params.length<=2&&!z(bt[4].params),bo=bt[5]&&bt[5].params.length<=2&&!z(bt[5].params),ta=kn&&yn&&At&&Ui&&io&&bo;for(let Pi=0;Pi<bt.length;++Pi)bt[Pi].test=J(bt[Pi].params);const Oo=kn?W(bt[0].params[0]):am,Ru=yn?W(bt[1].params[0]):am,fa=At?W(bt[2].params[0]):am,ju=Ui?W(bt[3].params[0]):am,eu=io?W(bt[4].params[0]):am,hs=bo?W(bt[5].params[0]):am,uu=kn?W(bt[0].params[1]):am,zl=yn?W(bt[1].params[1]):am,Ss=At?W(bt[2].params[1]):am,Dl=Ui?W(bt[3].params[1]):am,Cl=io?W(bt[4].params[1]):am,Qa=bo?W(bt[5].params[1]):am;for(let Pi=0;Pi<bt.length;++Pi)bt[Pi].implementation=Me(bt[Pi].params,bt[Pi].fn);const Ul=kn?bt[0].implementation:Ay,rl=yn?bt[1].implementation:Ay,Gu=At?bt[2].implementation:Ay,Ls=Ui?bt[3].implementation:Ay,Sl=io?bt[4].implementation:Ay,_s=bo?bt[5].implementation:Ay,xa=kn?bt[0].params.length:-1,za=yn?bt[1].params.length:-1,Jo=At?bt[2].params.length:-1,il=Ui?bt[3].params.length:-1,ol=io?bt[4].params.length:-1,Ua=bo?bt[5].params.length:-1,lu=ta?6:0,al=bt.length,sl=bt.map(Pi=>Pi.test),tu=bt.map(Pi=>Pi.implementation),cu=function(){for(let Pi=lu;Pi<al;Pi++)if(sl[Pi](arguments))return tu[Pi].apply(this,arguments);return u.onMismatch(ue,arguments,bt)};function _l(Pi,Lu){return arguments.length===xa&&Oo(Pi)&&uu(Lu)?Ul.apply(this,arguments):arguments.length===za&&Ru(Pi)&&zl(Lu)?rl.apply(this,arguments):arguments.length===Jo&&fa(Pi)&&Ss(Lu)?Gu.apply(this,arguments):arguments.length===il&&ju(Pi)&&Dl(Lu)?Ls.apply(this,arguments):arguments.length===ol&&eu(Pi)&&Cl(Lu)?Sl.apply(this,arguments):arguments.length===Ua&&hs(Pi)&&Qa(Lu)?_s.apply(this,arguments):cu.apply(this,arguments)}try{Object.defineProperty(_l,"name",{value:ue})}catch{}return _l.signatures=Be,_l._typedFunctionData={signatures:bt,signatureMap:fn},_l}function Ze(ue,ve,Se){throw se(ue,ve,Se)}function xt(ue){return Dt(ue,0,ue.length-1)}function wt(ue){return ue[ue.length-1]}function Dt(ue,ve,Se){return Array.prototype.slice.call(ue,ve,Se)}function rn(ue,ve){return{referTo:{references:ue,callback:ve}}}function an(ue){if(typeof ue!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:ue}}}function un(ue){return ue&&typeof ue.referTo=="object"&&Array.isArray(ue.referTo.references)&&typeof ue.referTo.callback=="function"}function ur(ue){return ue&&typeof ue.referToSelf=="object"&&typeof ue.referToSelf.callback=="function"}function Fn(ue,ve){if(!ue)return ve;if(ve&&ve!==ue){const Se=new Error("Function names do not match (expected: "+ue+", actual: "+ve+")");throw Se.data={actual:ve,expected:ue},Se}return ue}function wi(ue){let ve;for(const Se in ue)Object.prototype.hasOwnProperty.call(ue,Se)&&(y(ue[Se])||typeof ue[Se].signature=="string")&&(ve=Fn(ve,ue[Se].name));return ve}function js(ue,ve){let Se;for(Se in ve)if(Object.prototype.hasOwnProperty.call(ve,Se)){if(Se in ue&&ve[Se]!==ue[Se]){const Re=new Error('Signature "'+Se+'" is defined twice');throw Re.data={signature:Se,sourceFunction:ve[Se],destFunction:ue[Se]},Re}ue[Se]=ve[Se]}}f(),p(t);const $a=u;function fe(ue){if(!ue||typeof ue.from!="string"||typeof ue.to!="string"||typeof ue.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(ue.to===ue.from)throw new SyntaxError('Illegal to define conversion from "'+ue.from+'" to itself.')}return u=function(ue){const ve=typeof ue=="string";let Se=ve?ue:"";const Re={};for(let Be=ve?1:0;Be<arguments.length;++Be){const He=arguments[Be];let We,ot={};if(typeof He=="function"?(We=He.name,typeof He.signature=="string"?ot[He.signature]=He:y(He)&&(ot=He.signatures)):e(He)&&(ot=He,ve||(We=wi(He))),Object.keys(ot).length===0){const gt=new TypeError("Argument to 'typed' at index "+Be+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw gt.data={index:Be,argument:He},gt}ve||(Se=Fn(Se,We)),js(Re,ot)}return Ee(Se||"",Re)},u.create=n,u.createCount=$a.createCount,u.onMismatch=Ze,u.throwMismatchError=Ze,u.createError=se,u.clear=f,u.clearConversions=function(){let ue;for(ue of o)i.get(ue).conversionsTo=[];s=0},u.addTypes=p,u._findType=c,u.referTo=function(){const ue=xt(arguments).map(Se=>_(j(Se))),ve=wt(arguments);if(typeof ve!="function")throw new TypeError("Callback function expected as last argument");return rn(ue,ve)},u.referToSelf=an,u.convert=function(ue,ve){const Se=c(ve);if(Se.test(ue))return ue;const Re=Se.conversionsTo;if(Re.length===0)throw new Error("There are no conversions to "+ve+" defined.");for(let Be=0;Be<Re.length;Be++)if(c(Re[Be].from).test(ue))return Re[Be].convert(ue);throw new Error("Cannot convert "+ue+" to "+ve)},u.findSignature=b,u.find=function(ue,ve,Se){return b(ue,ve,Se).implementation},u.isTypedFunction=y,u.warnAgainstDeprecatedThis=!0,u.addType=function(ue,ve){let Se="any";ve!==!1&&i.has("Object")&&(Se="Object"),u.addTypes([ue],Se)},u.addConversion=function(ue){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};fe(ue);const Se=c(ue.to),Re=Se.conversionsTo.find(Be=>Be.from===ue.from);if(Re){if(!ve||!ve.override)throw new Error('There is already a conversion from "'+ue.from+'" to "'+Se.name+'"');u.removeConversion({from:Re.from,to:ue.to,convert:Re.convert})}Se.conversionsTo.push({from:ue.from,convert:ue.convert,index:s++})},u.addConversions=function(ue,ve){ue.forEach(Se=>u.addConversion(Se,ve))},u.removeConversion=function(ue){fe(ue);const ve=c(ue.to),Se=function(Be,He){for(let We=0;We<Be.length;We++)if(He(Be[We]))return Be[We]}(ve.conversionsTo,Be=>Be.from===ue.from);if(!Se)throw new Error("Attempt to remove nonexistent conversion from "+ue.from+" to "+ue.to);if(Se.convert!==ue.convert)throw new Error("Conversion to remove does not match existing conversion");const Re=ve.conversionsTo.indexOf(Se);ve.conversionsTo.splice(Re,1)},u.resolve=function(ue,ve){if(!y(ue))throw new TypeError(KN);const Se=ue._typedFunctionData.signatures;for(let Re=0;Re<Se.length;++Re)if(Se[Re].test(ve))return Se[Re];return null},u}();function Tf(n,e,t,r){function i(o){var s=function(u,c){for(var p={},f=0;f<c.length;f++){var g=c[f],y=u[g];y!==void 0&&(p[g]=y)}return p}(o,e.map(GJ));return function(u,c,p){var f=c.filter(y=>!function(b){return b&&b[0]==="?"}(y)).every(y=>p[y]!==void 0);if(!f){var g=c.filter(y=>p[y]===void 0);throw new Error('Cannot create function "'.concat(u,'", ')+"some dependencies are missing: ".concat(g.map(y=>'"'.concat(y,'"')).join(", "),"."))}}(n,e,o),t(s)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function GJ(n){return n&&n[0]==="?"?n.slice(1):n}function yp(n){return typeof n=="boolean"||!!isFinite(n)&&n===Math.round(n)}function vA(n,e,t){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!yp(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!yp(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),i="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(r).concat(n.toString(e)).concat(i)}function FM(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=Mz(e);switch(t){case"fixed":return function(o,s){if(isNaN(o)||!isFinite(o))return String(o);var u=PC(o),c=typeof s=="number"?TC(u,u.exponent+1+s):u,p=c.coefficients,f=c.exponent+1,g=f+(s||0);return p.length<g&&(p=p.concat(qy(g-p.length))),f<0&&(p=qy(1-f).concat(p),f=1),f<p.length&&p.splice(f,0,f===0?"0.":"."),c.sign+p.join("")}(n,r);case"exponential":return GN(n,r);case"engineering":return function(o,s){if(isNaN(o)||!isFinite(o))return String(o);var u=PC(o),c=TC(u,s),p=c.exponent,f=c.coefficients,g=p%3==0?p:p<0?p-3-p%3:p-p%3;if(Gf(s))for(;s>f.length||p-g+1>f.length;)f.push(0);else for(var y=Math.abs(p-g)-(f.length-1),b=0;b<y;b++)f.push(0);for(var _=Math.abs(p-g),M=1;_>0;)M++,_--;var F=f.slice(M).join(""),O=Gf(s)&&F.length||F.match(/[1-9]/)?"."+F:"",j=f.slice(0,M).join("")+O+"e"+(p>=0?"+":"")+g.toString();return c.sign+j}(n,r);case"bin":return vA(n,2,i);case"oct":return vA(n,8,i);case"hex":return vA(n,16,i);case"auto":return function(o,s,u){if(isNaN(o)||!isFinite(o))return String(o);var c=JN(u==null?void 0:u.lowerExp,-3),p=JN(u==null?void 0:u.upperExp,5),f=PC(o),g=s?TC(f,s):f;if(g.exponent<c||g.exponent>=p)return GN(o,s);var y=g.coefficients,b=g.exponent;y.length<s&&(y=y.concat(qy(s-y.length))),y=y.concat(qy(b-y.length+1+(y.length<s?s-y.length:0)));var _=b>0?b:0;return _<(y=qy(-b).concat(y)).length-1&&y.splice(_+1,0,"."),g.sign+y.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Mz(n){var e,t,r="auto";if(n!==void 0)if(Gf(n))e=n;else if(Rp(n))e=n.toNumber();else{if(!uI(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");n.precision!==void 0&&(e=YN(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(t=YN(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation)}return{notation:r,precision:e,wordSize:t}}function PC(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return s.length===0&&(s.push(0),i++),{sign:t,coefficients:s,exponent:i}}function GN(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=PC(n),r=e?TC(t,e):t,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(qy(e-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function TC(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;r[i]===10;)r.pop(),i===0&&(r.unshift(0),t.exponent++,i++),r[--i]++}return t}function qy(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function IC(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}function YN(n,e){return Gf(n)?n:Rp(n)?n.toNumber():void e()}function JN(n,e){return Gf(n)?n:Rp(n)?n.toNumber():e}var Fz=function(){return Fz=BS.create,BS},YJ=Tf("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:e,Complex:t,DenseMatrix:r,Fraction:i}=n,o=Fz();return o.clear(),o.addTypes([{name:"number",test:Gf},{name:"Complex",test:Ez},{name:"BigNumber",test:Rp},{name:"bigint",test:yJ},{name:"Fraction",test:Az},{name:"Unit",test:kz},{name:"identifier",test:s=>C0&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:C0},{name:"Chain",test:KJ},{name:"Array",test:Yh},{name:"Matrix",test:k0},{name:"DenseMatrix",test:wJ},{name:"SparseMatrix",test:bJ},{name:"Range",test:xJ},{name:"Index",test:sI},{name:"boolean",test:DJ},{name:"ResultSet",test:CJ},{name:"Help",test:SJ},{name:"function",test:_J},{name:"Date",test:EJ},{name:"RegExp",test:AJ},{name:"null",test:MJ},{name:"undefined",test:FJ},{name:"AccessorNode",test:PJ},{name:"ArrayNode",test:TJ},{name:"AssignmentNode",test:IJ},{name:"BlockNode",test:OJ},{name:"ConditionalNode",test:NJ},{name:"ConstantNode",test:BJ},{name:"FunctionNode",test:jJ},{name:"FunctionAssignmentNode",test:RJ},{name:"IndexNode",test:LJ},{name:"Node",test:$J},{name:"ObjectNode",test:zJ},{name:"OperatorNode",test:UJ},{name:"ParenthesisNode",test:WJ},{name:"RangeNode",test:HJ},{name:"RelationalNode",test:VJ},{name:"SymbolNode",test:qJ},{name:"Map",test:kJ},{name:"Object",test:uI}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(e||Vx(s),s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new e(s)}},{from:"number",to:"Complex",convert:function(s){return t||qx(s),new t(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return t||qx(s),new t(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return e||Vx(s),new e(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return i||Kx(s),new i(s.toString())}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return t||qx(s),new t(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||Kx(s);var u=new i(s);if(u.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(s){var u=Number(s);if(isNaN(u))throw new Error('Cannot convert "'+s+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(s){e||Vx(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){i||Kx(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){t||qx(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return e||Vx(s),new e(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||Kx(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),o.onMismatch=(s,u,c)=>{var p=o.createError(s,u,c);if(["wrongType","mismatch"].includes(p.data.category)&&u.length===1&&NS(u[0])&&c.some(g=>!g.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=p.data,f}throw p},o.onMismatch=(s,u,c)=>{var p=o.createError(s,u,c);if(["wrongType","mismatch"].includes(p.data.category)&&u.length===1&&NS(u[0])&&c.some(g=>!g.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=p.data,f}throw p},o});function Vx(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function qx(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function Kx(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Pz,id,r1=9e15,Od=1e9,PM="0123456789abcdef",RS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",jS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",TM={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-r1,maxE:r1,crypto:!1},Ya=!0,SE="[DecimalError] ",Xd=SE+"Invalid argument: ",Tz=SE+"Precision limit exceeded",Iz=SE+"crypto unavailable",Oz="[object Decimal]",Gp=Math.floor,ip=Math.pow,JJ=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,XJ=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,QJ=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Nz=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tm=1e7,ZJ=RS.length-1,IM=jS.length-1,mn={toStringTag:Oz};function Ep(n){var e,t,r,i=n.length-1,o="",s=n[0];if(i>0){for(o+=s,e=1;e<i;e++)(t=7-(r=n[e]+"").length)&&(o+=Ad(t)),o+=r;(t=7-(r=(s=n[e])+"").length)&&(o+=Ad(t))}else if(s===0)return"0";for(;s%10==0;)s/=10;return o+s}function Sg(n,e,t){if(n!==~~n||n<e||n>t)throw Error(Xd+n)}function lb(n,e,t,r){var i,o,s,u;for(o=n[0];o>=10;o/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),o=ip(10,7-e),u=n[i]%o|0,r==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),s=t<4&&u==99999||t>3&&u==49999||u==5e4||u==0):s=(t<4&&u+1==o||t>3&&u+1==o/2)&&(n[i+1]/o/100|0)==ip(10,e-2)-1||(u==o/2||u==0)&&!(n[i+1]/o/100|0):e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),s=(r||t<4)&&u==9999||!r&&t>3&&u==4999):s=((r||t<4)&&u+1==o||!r&&t>3&&u+1==o/2)&&(n[i+1]/o/1e3|0)==ip(10,e-3)-1,s}function OC(n,e,t){for(var r,i,o=[0],s=0,u=n.length;s<u;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=PM.indexOf(n.charAt(s++)),r=0;r<o.length;r++)o[r]>t-1&&(o[r+1]===void 0&&(o[r+1]=0),o[r+1]+=o[r]/t|0,o[r]%=t)}return o.reverse()}mn.absoluteValue=mn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),vo(n)},mn.ceil=function(){return vo(new this.constructor(this),this.e+1,2)},mn.clampedTo=mn.clamp=function(n,e){var t=this,r=t.constructor;if(n=new r(n),e=new r(e),!n.s||!e.s)return new r(NaN);if(n.gt(e))throw Error(Xd+e);return t.cmp(n)<0?n:t.cmp(e)>0?e:new r(t)},mn.comparedTo=mn.cmp=function(n){var e,t,r,i,o=this,s=o.d,u=(n=new o.constructor(n)).d,c=o.s,p=n.s;if(!s||!u)return c&&p?c!==p?c:s===u?0:!s^c<0?1:-1:NaN;if(!s[0]||!u[0])return s[0]?c:u[0]?-p:0;if(c!==p)return c;if(o.e!==n.e)return o.e>n.e^c<0?1:-1;for(e=0,t=(r=s.length)<(i=u.length)?r:i;e<t;++e)if(s[e]!==u[e])return s[e]>u[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1},mn.cosine=mn.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+7,r.rounding=1,t=function(i,o){var s,u,c;if(o.isZero())return o;u=o.d.length,u<32?c=(1/Gx(4,s=Math.ceil(u/3))).toString():(s=16,c="2.3283064365386962890625e-10"),i.precision+=s,o=ky(i,1,o.times(c),new i(1));for(var p=s;p--;){var f=o.times(o);o=f.times(f).minus(f).times(8).plus(1)}return i.precision-=s,o}(r,ZN(r,t)),r.precision=n,r.rounding=e,vo(id==2||id==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)},mn.cubeRoot=mn.cbrt=function(){var n,e,t,r,i,o,s,u,c,p,f=this,g=f.constructor;if(!f.isFinite()||f.isZero())return new g(f);for(Ya=!1,(o=f.s*ip(f.s*f,1/3))&&Math.abs(o)!=1/0?r=new g(o.toString()):(t=Ep(f.d),(o=((n=f.e)-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=ip(t,1/3),n=Gp((n+1)/3)-(n%3==(n<0?-1:2)),(r=new g(t=o==1/0?"5e"+n:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=f.s),s=(n=g.precision)+3;;)if(p=(c=(u=r).times(u).times(u)).plus(f),r=Ef(p.plus(f).times(u),p.plus(c),s+2,1),Ep(u.d).slice(0,s)===(t=Ep(r.d)).slice(0,s)){if((t=t.slice(s-3,s+1))!="9999"&&(i||t!="4999")){+t&&(+t.slice(1)||t.charAt(0)!="5")||(vo(r,n+1,1),e=!r.times(r).times(r).eq(f));break}if(!i&&(vo(u,n+1,0),u.times(u).times(u).eq(f))){r=u;break}s+=4,i=1}return Ya=!0,vo(r,n,g.rounding,e)},mn.decimalPlaces=mn.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=7*((n=e.length-1)-Gp(this.e/7)),n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},mn.dividedBy=mn.div=function(n){return Ef(this,new this.constructor(n))},mn.dividedToIntegerBy=mn.divToInt=function(n){var e=this.constructor;return vo(Ef(this,new e(n),0,1,1),e.precision,e.rounding)},mn.equals=mn.eq=function(n){return this.cmp(n)===0},mn.floor=function(){return vo(new this.constructor(this),this.e+1,3)},mn.greaterThan=mn.gt=function(n){return this.cmp(n)>0},mn.greaterThanOrEqualTo=mn.gte=function(n){var e=this.cmp(n);return e==1||e===0},mn.hyperbolicCosine=mn.cosh=function(){var n,e,t,r,i,o=this,s=o.constructor,u=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return u;t=s.precision,r=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?e=(1/Gx(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),o=ky(s,1,o.times(e),new s(1),!0);for(var c,p=n,f=new s(8);p--;)c=o.times(o),o=u.minus(c.times(f.minus(c.times(f))));return vo(o,s.precision=t,s.rounding=r,!0)},mn.hyperbolicSine=mn.sinh=function(){var n,e,t,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=ky(o,2,i,i,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,i=ky(o,2,i=i.times(1/Gx(5,n)),i,!0);for(var s,u=new o(5),c=new o(16),p=new o(20);n--;)s=i.times(i),i=i.times(u.plus(s.times(c.times(s).plus(p))))}return o.precision=e,o.rounding=t,vo(i,e,t,!0)},mn.hyperbolicTangent=mn.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,Ef(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},mn.inverseCosine=mn.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,o=t.rounding;return r!==-1?r===0?e.isNeg()?jm(t,i,o):new t(0):new t(NaN):e.isZero()?jm(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=jm(t,i+4,o).times(.5),t.precision=i,t.rounding=o,n.minus(e))},mn.inverseHyperbolicCosine=mn.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Ya=!1,t=t.times(t).minus(1).sqrt().plus(t),Ya=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},mn.inverseHyperbolicSine=mn.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Ya=!1,t=t.times(t).plus(1).sqrt().plus(t),Ya=!0,r.precision=n,r.rounding=e,t.ln())},mn.inverseHyperbolicTangent=mn.atanh=function(){var n,e,t,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=o.precision,e=o.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?vo(new o(i),n,e,!0):(o.precision=t=r-i.e,i=Ef(i.plus(1),new o(1).minus(i),t+n,1),o.precision=n+4,o.rounding=1,i=i.ln(),o.precision=n,o.rounding=e,i.times(.5))):new o(NaN)},mn.inverseSine=mn.asin=function(){var n,e,t,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,r=o.rounding,e!==-1?e===0?((n=jm(o,t+4,r).times(.5)).s=i.s,n):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=r,i.times(2)))},mn.inverseTangent=mn.atan=function(){var n,e,t,r,i,o,s,u,c,p=this,f=p.constructor,g=f.precision,y=f.rounding;if(p.isFinite()){if(p.isZero())return new f(p);if(p.abs().eq(1)&&g+4<=IM)return(s=jm(f,g+4,y).times(.25)).s=p.s,s}else{if(!p.s)return new f(NaN);if(g+4<=IM)return(s=jm(f,g+4,y).times(.5)).s=p.s,s}for(f.precision=u=g+10,f.rounding=1,n=t=Math.min(28,u/7+2|0);n;--n)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(Ya=!1,e=Math.ceil(u/7),r=1,c=p.times(p),s=new f(p),i=p;n!==-1;)if(i=i.times(c),o=s.minus(i.div(r+=2)),i=i.times(c),(s=o.plus(i.div(r+=2))).d[e]!==void 0)for(n=e;s.d[n]===o.d[n]&&n--;);return t&&(s=s.times(2<<t-1)),Ya=!0,vo(s,f.precision=g,f.rounding=y,!0)},mn.isFinite=function(){return!!this.d},mn.isInteger=mn.isInt=function(){return!!this.d&&Gp(this.e/7)>this.d.length-2},mn.isNaN=function(){return!this.s},mn.isNegative=mn.isNeg=function(){return this.s<0},mn.isPositive=mn.isPos=function(){return this.s>0},mn.isZero=function(){return!!this.d&&this.d[0]===0},mn.lessThan=mn.lt=function(n){return this.cmp(n)<0},mn.lessThanOrEqualTo=mn.lte=function(n){return this.cmp(n)<1},mn.logarithm=mn.log=function(n){var e,t,r,i,o,s,u,c,p=this,f=p.constructor,g=f.precision,y=f.rounding;if(n==null)n=new f(10),e=!0;else{if(t=(n=new f(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new f(NaN);e=n.eq(10)}if(t=p.d,p.s<0||!t||!t[0]||p.eq(1))return new f(t&&!t[0]?-1/0:p.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10==0;)i/=10;o=i!==1}if(Ya=!1,s=xd(p,u=g+5),r=e?LS(f,u+10):xd(n,u),lb((c=Ef(s,r,u,1)).d,i=g,y))do if(s=xd(p,u+=10),r=e?LS(f,u+10):xd(n,u),c=Ef(s,r,u,1),!o){+Ep(c.d).slice(i+1,i+15)+1==1e14&&(c=vo(c,g+1,0));break}while(lb(c.d,i+=10,y));return Ya=!0,vo(c,g,y)},mn.minus=mn.sub=function(n){var e,t,r,i,o,s,u,c,p,f,g,y,b=this,_=b.constructor;if(n=new _(n),!b.d||!n.d)return b.s&&n.s?b.d?n.s=-n.s:n=new _(n.d||b.s!==n.s?b:NaN):n=new _(NaN),n;if(b.s!=n.s)return n.s=-n.s,b.plus(n);if(p=b.d,y=n.d,u=_.precision,c=_.rounding,!p[0]||!y[0]){if(y[0])n.s=-n.s;else{if(!p[0])return new _(c===3?-0:0);n=new _(b)}return Ya?vo(n,u,c):n}if(t=Gp(n.e/7),f=Gp(b.e/7),p=p.slice(),o=f-t){for((g=o<0)?(e=p,o=-o,s=y.length):(e=y,t=f,s=p.length),o>(r=Math.max(Math.ceil(u/7),s)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((g=(r=p.length)<(s=y.length))&&(s=r),r=0;r<s;r++)if(p[r]!=y[r]){g=p[r]<y[r];break}o=0}for(g&&(e=p,p=y,y=e,n.s=-n.s),s=p.length,r=y.length-s;r>0;--r)p[s++]=0;for(r=y.length;r>o;){if(p[--r]<y[r]){for(i=r;i&&p[--i]===0;)p[i]=Tm-1;--p[i],p[r]+=Tm}p[r]-=y[r]}for(;p[--s]===0;)p.pop();for(;p[0]===0;p.shift())--t;return p[0]?(n.d=p,n.e=NC(p,t),Ya?vo(n,u,c):n):new _(c===3?-0:0)},mn.modulo=mn.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?vo(new r(t),r.precision,r.rounding):(Ya=!1,r.modulo==9?(e=Ef(t,n.abs(),0,3,1)).s*=n.s:e=Ef(t,n,0,r.modulo,1),e=e.times(n),Ya=!0,t.minus(e))},mn.naturalExponential=mn.exp=function(){return yA(this)},mn.naturalLogarithm=mn.ln=function(){return xd(this)},mn.negated=mn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,vo(n)},mn.plus=mn.add=function(n){var e,t,r,i,o,s,u,c,p,f,g=this,y=g.constructor;if(n=new y(n),!g.d||!n.d)return g.s&&n.s?g.d||(n=new y(n.d||g.s===n.s?g:NaN)):n=new y(NaN),n;if(g.s!=n.s)return n.s=-n.s,g.minus(n);if(p=g.d,f=n.d,u=y.precision,c=y.rounding,!p[0]||!f[0])return f[0]||(n=new y(g)),Ya?vo(n,u,c):n;if(o=Gp(g.e/7),r=Gp(n.e/7),p=p.slice(),i=o-r){for(i<0?(t=p,i=-i,s=f.length):(t=f,r=o,s=p.length),i>(s=(o=Math.ceil(u/7))>s?o+1:s+1)&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((s=p.length)-(i=f.length)<0&&(i=s,t=f,f=p,p=t),e=0;i;)e=(p[--i]=p[i]+f[i]+e)/Tm|0,p[i]%=Tm;for(e&&(p.unshift(e),++r),s=p.length;p[--s]==0;)p.pop();return n.d=p,n.e=NC(p,r),Ya?vo(n,u,c):n},mn.precision=mn.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(Xd+n);return t.d?(e=XN(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},mn.round=function(){var n=this,e=n.constructor;return vo(new e(n),n.e+1,e.rounding)},mn.sine=mn.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+7,r.rounding=1,t=function(i,o){var s,u=o.d.length;if(u<3)return o.isZero()?o:ky(i,2,o,o);s=(s=1.4*Math.sqrt(u))>16?16:0|s,o=o.times(1/Gx(5,s)),o=ky(i,2,o,o);for(var c,p=new i(5),f=new i(16),g=new i(20);s--;)c=o.times(o),o=o.times(p.plus(c.times(f.times(c).minus(g))));return o}(r,ZN(r,t)),r.precision=n,r.rounding=e,vo(id>2?t.neg():t,n,e,!0)):new r(NaN)},mn.squareRoot=mn.sqrt=function(){var n,e,t,r,i,o,s=this,u=s.d,c=s.e,p=s.s,f=s.constructor;if(p!==1||!u||!u[0])return new f(!p||p<0&&(!u||u[0])?NaN:u?s:1/0);for(Ya=!1,(p=Math.sqrt(+s))==0||p==1/0?(((e=Ep(u)).length+c)%2==0&&(e+="0"),p=Math.sqrt(e),c=Gp((c+1)/2)-(c<0||c%2),r=new f(e=p==1/0?"5e"+c:(e=p.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new f(p.toString()),t=(c=f.precision)+3;;)if(r=(o=r).plus(Ef(s,o,t+2,1)).times(.5),Ep(o.d).slice(0,t)===(e=Ep(r.d)).slice(0,t)){if((e=e.slice(t-3,t+1))!="9999"&&(i||e!="4999")){+e&&(+e.slice(1)||e.charAt(0)!="5")||(vo(r,c+1,1),n=!r.times(r).eq(s));break}if(!i&&(vo(o,c+1,0),o.times(o).eq(s))){r=o;break}t+=4,i=1}return Ya=!0,vo(r,c,f.rounding,n)},mn.tangent=mn.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,(t=t.sin()).s=1,t=Ef(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,vo(id==2||id==4?t.neg():t,n,e,!0)):new r(NaN)},mn.times=mn.mul=function(n){var e,t,r,i,o,s,u,c,p,f=this,g=f.constructor,y=f.d,b=(n=new g(n)).d;if(n.s*=f.s,!(y&&y[0]&&b&&b[0]))return new g(!n.s||y&&!y[0]&&!b||b&&!b[0]&&!y?NaN:y&&b?0*n.s:n.s/0);for(t=Gp(f.e/7)+Gp(n.e/7),(c=y.length)<(p=b.length)&&(o=y,y=b,b=o,s=c,c=p,p=s),o=[],r=s=c+p;r--;)o.push(0);for(r=p;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+b[r]*y[i-r-1]+e,o[i--]=u%Tm|0,e=u/Tm|0;o[i]=(o[i]+e)%Tm|0}for(;!o[--s];)o.pop();return e?++t:o.shift(),n.d=o,n.e=NC(o,t),Ya?vo(n,g.precision,g.rounding):n},mn.toBinary=function(n,e){return wA(this,2,n,e)},mn.toDecimalPlaces=mn.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Sg(n,0,Od),e===void 0?e=r.rounding:Sg(e,0,8),vo(t,n+t.e+1,e))},mn.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=w0(r,!0):(Sg(n,0,Od),e===void 0?e=i.rounding:Sg(e,0,8),t=w0(r=vo(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},mn.toFixed=function(n,e){var t,r,i=this,o=i.constructor;return n===void 0?t=w0(i):(Sg(n,0,Od),e===void 0?e=o.rounding:Sg(e,0,8),t=w0(r=vo(new o(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},mn.toFraction=function(n){var e,t,r,i,o,s,u,c,p,f,g,y,b=this,_=b.d,M=b.constructor;if(!_)return new M(b);if(p=t=new M(1),r=c=new M(0),s=(o=(e=new M(r)).e=XN(_)-b.e-1)%7,e.d[0]=ip(10,s<0?7+s:s),n==null)n=o>0?e:p;else{if(!(u=new M(n)).isInt()||u.lt(p))throw Error(Xd+u);n=u.gt(e)?o>0?e:p:u}for(Ya=!1,u=new M(Ep(_)),f=M.precision,M.precision=o=7*_.length*2;g=Ef(u,e,0,1,1),(i=t.plus(g.times(r))).cmp(n)!=1;)t=r,r=i,i=p,p=c.plus(g.times(i)),c=i,i=e,e=u.minus(g.times(i)),u=i;return i=Ef(n.minus(t),r,0,1,1),c=c.plus(i.times(p)),t=t.plus(i.times(r)),c.s=p.s=b.s,y=Ef(p,r,o,1).minus(b).abs().cmp(Ef(c,t,o,1).minus(b).abs())<1?[p,r]:[c,t],M.precision=f,Ya=!0,y},mn.toHexadecimal=mn.toHex=function(n,e){return wA(this,16,n,e)},mn.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:Sg(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Ya=!1,t=Ef(t,n,0,e,1).times(n),Ya=!0,vo(t)):(n.s=t.s,t=n),t},mn.toNumber=function(){return+this},mn.toOctal=function(n,e){return wA(this,8,n,e)},mn.toPower=mn.pow=function(n){var e,t,r,i,o,s,u=this,c=u.constructor,p=+(n=new c(n));if(!(u.d&&n.d&&u.d[0]&&n.d[0]))return new c(ip(+u,p));if((u=new c(u)).eq(1))return u;if(r=c.precision,o=c.rounding,n.eq(1))return vo(u,r,o);if((e=Gp(n.e/7))>=n.d.length-1&&(t=p<0?-p:p)<=9007199254740991)return i=Bz(c,u,t,r),n.s<0?new c(1).div(i):vo(i,r,o);if((s=u.s)<0){if(e<n.d.length-1)return new c(NaN);if(1&n.d[e]||(s=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=s,u}return(e=(t=ip(+u,p))!=0&&isFinite(t)?new c(t+"").e:Gp(p*(Math.log("0."+Ep(u.d))/Math.LN10+u.e+1)))>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(Ya=!1,c.rounding=u.s=1,t=Math.min(12,(e+"").length),(i=yA(n.times(xd(u,r+t)),r)).d&&lb((i=vo(i,r+5,1)).d,r,o)&&(e=r+10,+Ep((i=vo(yA(n.times(xd(u,e+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=vo(i,r+1,0))),i.s=s,Ya=!0,c.rounding=o,vo(i,r,o))},mn.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=w0(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Sg(n,1,Od),e===void 0?e=i.rounding:Sg(e,0,8),t=w0(r=vo(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},mn.toSignificantDigits=mn.toSD=function(n,e){var t=this.constructor;return n===void 0?(n=t.precision,e=t.rounding):(Sg(n,1,Od),e===void 0?e=t.rounding:Sg(e,0,8)),vo(new t(this),n,e)},mn.toString=function(){var n=this,e=n.constructor,t=w0(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},mn.truncated=mn.trunc=function(){return vo(new this.constructor(this),this.e+1,1)},mn.valueOf=mn.toJSON=function(){var n=this,e=n.constructor,t=w0(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var Ef=function(){function n(r,i,o){var s,u=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+u,r[c]=s%o|0,u=s/o|0;return u&&r.unshift(u),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function t(r,i,o,s){for(var u=0;o--;)r[o]-=u,u=r[o]<i[o]?1:0,r[o]=u*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,u,c){var p,f,g,y,b,_,M,F,O,j,z,W,J,G,Q,te,ae,se,ge,xe,Pe=r.constructor,Ce=r.s==i.s?1:-1,Me=r.d,Oe=i.d;if(!(Me&&Me[0]&&Oe&&Oe[0]))return new Pe(r.s&&i.s&&(Me?!Oe||Me[0]!=Oe[0]:Oe)?Me&&Me[0]==0||!Oe?0*Ce:Ce/0:NaN);for(c?(b=1,f=r.e-i.e):(c=Tm,b=7,f=Gp(r.e/b)-Gp(i.e/b)),ge=Oe.length,ae=Me.length,j=(O=new Pe(Ce)).d=[],g=0;Oe[g]==(Me[g]||0);g++);if(Oe[g]>(Me[g]||0)&&f--,o==null?(G=o=Pe.precision,s=Pe.rounding):G=u?o+(r.e-i.e)+1:o,G<0)j.push(1),_=!0;else{if(G=G/b+2|0,g=0,ge==1){for(y=0,Oe=Oe[0],G++;(g<ae||y)&&G--;g++)Q=y*c+(Me[g]||0),j[g]=Q/Oe|0,y=Q%Oe|0;_=y||g<ae}else{for((y=c/(Oe[0]+1)|0)>1&&(Oe=n(Oe,y,c),Me=n(Me,y,c),ge=Oe.length,ae=Me.length),te=ge,W=(z=Me.slice(0,ge)).length;W<ge;)z[W++]=0;(xe=Oe.slice()).unshift(0),se=Oe[0],Oe[1]>=c/2&&++se;do y=0,(p=e(Oe,z,ge,W))<0?(J=z[0],ge!=W&&(J=J*c+(z[1]||0)),(y=J/se|0)>1?(y>=c&&(y=c-1),(p=e(M=n(Oe,y,c),z,F=M.length,W=z.length))==1&&(y--,t(M,ge<F?xe:Oe,F,c))):(y==0&&(p=y=1),M=Oe.slice()),(F=M.length)<W&&M.unshift(0),t(z,M,W,c),p==-1&&(p=e(Oe,z,ge,W=z.length))<1&&(y++,t(z,ge<W?xe:Oe,W,c)),W=z.length):p===0&&(y++,z=[0]),j[g++]=y,p&&z[0]?z[W++]=Me[te]||0:(z=[Me[te]],W=1);while((te++<ae||z[0]!==void 0)&&G--);_=z[0]!==void 0}j[0]||j.shift()}if(b==1)O.e=f,Pz=_;else{for(g=1,y=j[0];y>=10;y/=10)g++;O.e=g+f*b-1,vo(O,u?o+O.e+1:o,s,_)}return O}}();function vo(n,e,t,r){var i,o,s,u,c,p,f,g,y,b=n.constructor;e:if(e!=null){if(!(g=n.d))return n;for(i=1,u=g[0];u>=10;u/=10)i++;if((o=e-i)<0)o+=7,s=e,c=(f=g[y=0])/ip(10,i-s-1)%10|0;else if((y=Math.ceil((o+1)/7))>=(u=g.length)){if(!r)break e;for(;u++<=y;)g.push(0);f=c=0,i=1,s=(o%=7)-7+1}else{for(f=u=g[y],i=1;u>=10;u/=10)i++;c=(s=(o%=7)-7+i)<0?0:f/ip(10,i-s-1)%10|0}if(r=r||e<0||g[y+1]!==void 0||(s<0?f:f%ip(10,i-s-1)),p=t<4?(c||r)&&(t==0||t==(n.s<0?3:2)):c>5||c==5&&(t==4||r||t==6&&(o>0?s>0?f/ip(10,i-s):0:g[y-1])%10&1||t==(n.s<0?8:7)),e<1||!g[0])return g.length=0,p?(e-=n.e+1,g[0]=ip(10,(7-e%7)%7),n.e=-e||0):g[0]=n.e=0,n;if(o==0?(g.length=y,u=1,y--):(g.length=y+1,u=ip(10,7-o),g[y]=s>0?(f/ip(10,i-s)%ip(10,s)|0)*u:0),p)for(;;){if(y==0){for(o=1,s=g[0];s>=10;s/=10)o++;for(s=g[0]+=u,u=1;s>=10;s/=10)u++;o!=u&&(n.e++,g[0]==Tm&&(g[0]=1));break}if(g[y]+=u,g[y]!=Tm)break;g[y--]=0,u=1}for(o=g.length;g[--o]===0;)g.pop()}return Ya&&(n.e>b.maxE?(n.d=null,n.e=NaN):n.e<b.minE&&(n.e=0,n.d=[0])),n}function w0(n,e,t){if(!n.isFinite())return jz(n);var r,i=n.e,o=Ep(n.d),s=o.length;return e?(t&&(r=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ad(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):i<0?(o="0."+Ad(-i-1)+o,t&&(r=t-s)>0&&(o+=Ad(r))):i>=s?(o+=Ad(i+1-s),t&&(r=t-i-1)>0&&(o=o+"."+Ad(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(o+="."),o+=Ad(r))),o}function NC(n,e){var t=n[0];for(e*=7;t>=10;t/=10)e++;return e}function LS(n,e,t){if(e>ZJ)throw Ya=!0,t&&(n.precision=t),Error(Tz);return vo(new n(RS),e,1,!0)}function jm(n,e,t){if(e>IM)throw Error(Tz);return vo(new n(jS),e,t,!0)}function XN(n){var e=n.length-1,t=7*e+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Ad(n){for(var e="";n--;)e+="0";return e}function Bz(n,e,t,r){var i,o=new n(1),s=Math.ceil(r/7+4);for(Ya=!1;;){if(t%2&&eB((o=o.times(e)).d,s)&&(i=!0),(t=Gp(t/2))===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}eB((e=e.times(e)).d,s)}return Ya=!0,o}function QN(n){return 1&n.d[n.d.length-1]}function Rz(n,e,t){for(var r,i=new n(e[0]),o=0;++o<e.length;){if(!(r=new n(e[o])).s){i=r;break}i[t](r)&&(i=r)}return i}function yA(n,e){var t,r,i,o,s,u,c,p=0,f=0,g=0,y=n.constructor,b=y.rounding,_=y.precision;if(!n.d||!n.d[0]||n.e>17)return new y(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(Ya=!1,c=_):c=e,u=new y(.03125);n.e>-2;)n=n.times(u),g+=5;for(c+=r=Math.log(ip(2,g))/Math.LN10*2+5|0,t=o=s=new y(1),y.precision=c;;){if(o=vo(o.times(n),c,1),t=t.times(++f),Ep((u=s.plus(Ef(o,t,c,1))).d).slice(0,c)===Ep(s.d).slice(0,c)){for(i=g;i--;)s=vo(s.times(s),c,1);if(e!=null)return y.precision=_,s;if(!(p<3&&lb(s.d,c-r,b,p)))return vo(s,y.precision=_,b,Ya=!0);y.precision=c+=10,t=o=u=new y(1),f=0,p++}s=u}}function xd(n,e){var t,r,i,o,s,u,c,p,f,g,y,b=1,_=n,M=_.d,F=_.constructor,O=F.rounding,j=F.precision;if(_.s<0||!M||!M[0]||!_.e&&M[0]==1&&M.length==1)return new F(M&&!M[0]?-1/0:_.s!=1?NaN:M?0:_);if(e==null?(Ya=!1,f=j):f=e,F.precision=f+=10,r=(t=Ep(M)).charAt(0),!(Math.abs(o=_.e)<15e14))return p=LS(F,f+2,j).times(o+""),_=xd(new F(r+"."+t.slice(1)),f-10).plus(p),F.precision=j,e==null?vo(_,j,O,Ya=!0):_;for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)r=(t=Ep((_=_.times(n)).d)).charAt(0),b++;for(o=_.e,r>1?(_=new F("0."+t),o++):_=new F(r+"."+t.slice(1)),g=_,c=s=_=Ef(_.minus(1),_.plus(1),f,1),y=vo(_.times(_),f,1),i=3;;){if(s=vo(s.times(y),f,1),Ep((p=c.plus(Ef(s,new F(i),f,1))).d).slice(0,f)===Ep(c.d).slice(0,f)){if(c=c.times(2),o!==0&&(c=c.plus(LS(F,f+2,j).times(o+""))),c=Ef(c,new F(b),f,1),e!=null)return F.precision=j,c;if(!lb(c.d,f-10,O,u))return vo(c,F.precision=j,O,Ya=!0);F.precision=f+=10,p=s=_=Ef(g.minus(1),g.plus(1),f,1),y=vo(_.times(_),f,1),i=u=1}c=p,i+=2}}function jz(n){return String(n.s*n.s/0)}function OM(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%7,t<0&&(r+=7),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=7;r<i;)n.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Ya&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function eX(n,e){var t,r,i,o,s,u,c,p,f;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Nz.test(e))return OM(n,e)}else if(e==="Infinity"||e==="NaN")return+e||(n.s=NaN),n.e=NaN,n.d=null,n;if(XJ.test(e))t=16,e=e.toLowerCase();else if(JJ.test(e))t=2;else{if(!QJ.test(e))throw Error(Xd+e);t=8}for((o=e.search(/p/i))>0?(c=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),s=(o=e.indexOf("."))>=0,r=n.constructor,s&&(o=(u=(e=e.replace(".","")).length)-o,i=Bz(r,new r(t),o,2*o)),o=f=(p=OC(e,t,Tm)).length-1;p[o]===0;--o)p.pop();return o<0?new r(0*n.s):(n.e=NC(p,f),n.d=p,Ya=!1,s&&(n=Ef(n,i,4*u)),c&&(n=n.times(Math.abs(c)<54?ip(2,c):N1.pow(2,c))),Ya=!0,n)}function ky(n,e,t,r,i){var o,s,u,c,p=n.precision,f=Math.ceil(p/7);for(Ya=!1,c=t.times(t),u=new n(r);;){if(s=Ef(u.times(c),new n(e++*e++),p,1),u=i?r.plus(s):r.minus(s),r=Ef(s.times(c),new n(e++*e++),p,1),(s=u.plus(r)).d[f]!==void 0){for(o=f;s.d[o]===u.d[o]&&o--;);if(o==-1)break}o=u,u=r,r=s,s=o}return Ya=!0,s.d.length=f+1,s}function Gx(n,e){for(var t=n;--e;)t*=n;return t}function ZN(n,e){var t,r=e.s<0,i=jm(n,n.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return id=r?4:1,e;if((t=e.divToInt(i)).isZero())id=r?3:2;else{if((e=e.minus(t.times(i))).lte(o))return id=QN(t)?r?2:3:r?4:1,e;id=QN(t)?r?1:4:r?3:2}return e.minus(i).abs()}function wA(n,e,t,r){var i,o,s,u,c,p,f,g,y,b=n.constructor,_=t!==void 0;if(_?(Sg(t,1,Od),r===void 0?r=b.rounding:Sg(r,0,8)):(t=b.precision,r=b.rounding),n.isFinite()){for(_?(i=2,e==16?t=4*t-3:e==8&&(t=3*t-2)):i=e,(s=(f=w0(n)).indexOf("."))>=0&&(f=f.replace(".",""),(y=new b(1)).e=f.length-s,y.d=OC(w0(y),10,i),y.e=y.d.length),o=c=(g=OC(f,10,i)).length;g[--c]==0;)g.pop();if(g[0]){if(s<0?o--:((n=new b(n)).d=g,n.e=o,g=(n=Ef(n,y,t,r,0,i)).d,o=n.e,p=Pz),s=g[t],u=i/2,p=p||g[t+1]!==void 0,p=r<4?(s!==void 0||p)&&(r===0||r===(n.s<0?3:2)):s>u||s===u&&(r===4||p||r===6&&1&g[t-1]||r===(n.s<0?8:7)),g.length=t,p)for(;++g[--t]>i-1;)g[t]=0,t||(++o,g.unshift(1));for(c=g.length;!g[c-1];--c);for(s=0,f="";s<c;s++)f+=PM.charAt(g[s]);if(_){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)f+="0";for(c=(g=OC(f,i,e)).length;!g[c-1];--c);for(s=1,f="1.";s<c;s++)f+=PM.charAt(g[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>c)for(o-=c;o--;)f+="0";else o<c&&(f=f.slice(0,o)+"."+f.slice(o))}else f=_?"0p+0":"0";f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}else f=jz(n);return n.s<0?"-"+f:f}function eB(n,e){if(n.length>e)return n.length=e,!0}function tX(n){return new this(n).abs()}function nX(n){return new this(n).acos()}function rX(n){return new this(n).acosh()}function iX(n,e){return new this(n).plus(e)}function oX(n){return new this(n).asin()}function aX(n){return new this(n).asinh()}function sX(n){return new this(n).atan()}function uX(n){return new this(n).atanh()}function lX(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,o=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?jm(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=jm(this,o,1).times(.5)).s=n.s:e.s<0?(this.precision=o,this.rounding=1,t=this.atan(Ef(n,e,o,1)),e=jm(this,o,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(Ef(n,e,o,1)):(t=jm(this,o,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function cX(n){return new this(n).cbrt()}function fX(n){return vo(n=new this(n),n.e+1,2)}function hX(n,e,t){return new this(n).clamp(e,t)}function pX(n){if(!n||typeof n!="object")throw Error(SE+"Object expected");var e,t,r,i=n.defaults===!0,o=["precision",1,Od,"rounding",0,8,"toExpNeg",-r1,0,"toExpPos",0,r1,"maxE",0,r1,"minE",-r1,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=TM[t]),(r=n[t])!==void 0){if(!(Gp(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(Xd+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=TM[t]),(r=n[t])!==void 0){if(r!==!0&&r!==!1&&r!==0&&r!==1)throw Error(Xd+t+": "+r);if(r){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Iz);this[t]=!0}else this[t]=!1}return this}function gX(n){return new this(n).cos()}function mX(n){return new this(n).cosh()}function dX(n,e){return new this(n).div(e)}function vX(n){return new this(n).exp()}function yX(n){return vo(n=new this(n),n.e+1,3)}function wX(){var n,e,t=new this(0);for(Ya=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Ya=!0,new this(1/0);t=e}return Ya=!0,t.sqrt()}function tB(n){return n instanceof N1||n&&n.toStringTag===Oz||!1}function bX(n){return new this(n).ln()}function xX(n,e){return new this(n).log(e)}function DX(n){return new this(n).log(2)}function CX(n){return new this(n).log(10)}function SX(){return Rz(this,arguments,"lt")}function _X(){return Rz(this,arguments,"gt")}function EX(n,e){return new this(n).mod(e)}function AX(n,e){return new this(n).mul(e)}function kX(n,e){return new this(n).pow(e)}function MX(n){var e,t,r,i,o=0,s=new this(1),u=[];if(n===void 0?n=this.precision:Sg(n,1,Od),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Iz);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(n%=7,(r=u[--o])&&n&&(i=ip(10,7-n),u[o]=(r/i|0)*i);u[o]===0;o--)u.pop();if(o<0)t=0,u=[0];else{for(t=-1;u[0]===0;t-=7)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<7&&(t-=7-r)}return s.e=t,s.d=u,s}function FX(n){return vo(n=new this(n),n.e+1,this.rounding)}function PX(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function TX(n){return new this(n).sin()}function IX(n){return new this(n).sinh()}function OX(n){return new this(n).sqrt()}function NX(n,e){return new this(n).sub(e)}function BX(){var n=0,e=arguments,t=new this(e[n]);for(Ya=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Ya=!0,vo(t,this.precision,this.rounding)}function RX(n){return new this(n).tan()}function jX(n){return new this(n).tanh()}function LX(n){return vo(n=new this(n),n.e+1,1)}mn[Symbol.for("nodejs.util.inspect.custom")]=mn.toString,mn[Symbol.toStringTag]="Decimal";var N1=mn.constructor=function n(e){var t,r,i;function o(s){var u,c,p,f=this;if(!(f instanceof o))return new o(s);if(f.constructor=o,tB(s))return f.s=s.s,void(Ya?!s.d||s.e>o.maxE?(f.e=NaN,f.d=null):s.e<o.minE?(f.e=0,f.d=[0]):(f.e=s.e,f.d=s.d.slice()):(f.e=s.e,f.d=s.d?s.d.slice():s.d));if((p=typeof s)=="number"){if(s===0)return f.s=1/s<0?-1:1,f.e=0,void(f.d=[0]);if(s<0?(s=-s,f.s=-1):f.s=1,s===~~s&&s<1e7){for(u=0,c=s;c>=10;c/=10)u++;return void(Ya?u>o.maxE?(f.e=NaN,f.d=null):u<o.minE?(f.e=0,f.d=[0]):(f.e=u,f.d=[s]):(f.e=u,f.d=[s]))}return 0*s!=0?(s||(f.s=NaN),f.e=NaN,void(f.d=null)):OM(f,s.toString())}if(p!=="string")throw Error(Xd+s);return(c=s.charCodeAt(0))===45?(s=s.slice(1),f.s=-1):(c===43&&(s=s.slice(1)),f.s=1),Nz.test(s)?OM(f,s):eX(f,s)}if(o.prototype=mn,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=pX,o.clone=n,o.isDecimal=tB,o.abs=tX,o.acos=nX,o.acosh=rX,o.add=iX,o.asin=oX,o.asinh=aX,o.atan=sX,o.atanh=uX,o.atan2=lX,o.cbrt=cX,o.ceil=fX,o.clamp=hX,o.cos=gX,o.cosh=mX,o.div=dX,o.exp=vX,o.floor=yX,o.hypot=wX,o.ln=bX,o.log=xX,o.log10=CX,o.log2=DX,o.max=SX,o.min=_X,o.mod=EX,o.mul=AX,o.pow=kX,o.random=MX,o.round=FX,o.sign=PX,o.sin=TX,o.sinh=IX,o.sqrt=OX,o.sub=NX,o.sum=BX,o.tan=RX,o.tanh=jX,o.trunc=LX,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return o.config(e),o}(TM);RS=new N1(RS),jS=new N1(jS);var $X=Tf("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=N1.clone({precision:t.precision,modulo:N1.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Vp=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},sm=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},bA=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},My=function(){throw SyntaxError("Invalid Param")};function xA(n,e){const t=Math.abs(n),r=Math.abs(e);return n===0?Math.log(r):e===0?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const zX={re:0,im:0},Ov=function(n,e){const t=zX;if(n==null)t.re=t.im=0;else if(e!==void 0)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Yt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Yt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else n.length===2?(t.re=n[0],t.im=n[1]):My();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,o=0;r===null&&My();for(let s=0;s<r.length;s++){const u=r[s];u===" "||u==="	"||u===`
`||(u==="+"?i++:u==="-"?o++:u==="i"||u==="I"?(i+o===0&&My(),r[s+1]===" "||isNaN(r[s+1])?t.im+=parseFloat((o%2?"-":"")+"1"):(t.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(u))&&My(),r[s+1]==="i"||r[s+1]==="I"?(t.im+=parseFloat((o%2?"-":"")+u),s++):t.re+=parseFloat((o%2?"-":"")+u),i=o=0))}i+o>0&&My();break;case"number":t.im=0,t.re=n;break;default:My()}return isNaN(t.re)||isNaN(t.im),t};function Yt(n,e){if(!(this instanceof Yt))return new Yt(n,e);const t=Ov(n,e);this.re=t.re,this.im=t.im}Yt.prototype={re:0,im:0,sign:function(){const n=bA(this.re,this.im);return new Yt(this.re/n,this.im/n)},add:function(n,e){const t=Ov(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Yt.NAN:Yt.INFINITY:new Yt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=Ov(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Yt.NAN:Yt.INFINITY:new Yt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=Ov(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;return r&&s||i&&o?Yt.NAN:r||i?Yt.INFINITY:t.im===0&&this.im===0?new Yt(this.re*t.re,0):new Yt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=Ov(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;if(o&&s||r&&i)return Yt.NAN;if(s||r)return Yt.INFINITY;if(o||i)return Yt.ZERO;if(t.im===0)return new Yt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const u=t.re/t.im,c=t.re*u+t.im;return new Yt((this.re*u+this.im)/c,(this.im*u-this.re)/c)}{const u=t.im/t.re,c=t.im*u+t.re;return new Yt((this.re+this.im*u)/c,(this.im-this.re*u)/c)}},pow:function(n,e){const t=Ov(n,e),r=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return Yt.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new Yt(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new Yt(Math.pow(this.im,t.re),0);case 1:return new Yt(0,Math.pow(this.im,t.re));case 2:return new Yt(-Math.pow(this.im,t.re),0);case 3:return new Yt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Yt.ZERO;const i=Math.atan2(this.im,this.re),o=xA(this.re,this.im);let s=Math.exp(t.re*o-t.im*i),u=t.im*o+t.re*i;return new Yt(s*Math.cos(u),s*Math.sin(u))},sqrt:function(){const n=this.re,e=this.im;if(e===0)return n>=0?new Yt(Math.sqrt(n),0):new Yt(0,Math.sqrt(-n));const t=bA(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Yt(r,e<0?-i:i):new Yt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Yt(n,0):new Yt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Yt(Math.expm1(n)*Math.cos(e)+function(t){const r=Math.PI/4;if(-r>t||t>r)return Math.cos(t)-1;const i=t*t;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return e===0&&n>0?new Yt(Math.log(n),0):new Yt(xA(n,e),Math.atan2(e,n))},abs:function(){return bA(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Yt(Math.sin(n)*Vp(e),Math.cos(n)*sm(e))},cos:function(){const n=this.re,e=this.im;return new Yt(Math.cos(n)*Vp(e),-Math.sin(n)*sm(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+Vp(e);return new Yt(Math.sin(n)/t,sm(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-Vp(e);return new Yt(-Math.sin(n)/t,sm(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*Vp(2*e)+.5*Math.cos(2*n);return new Yt(Math.cos(n)*Vp(e)/t,Math.sin(n)*sm(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*Vp(2*e)-.5*Math.cos(2*n);return new Yt(Math.sin(n)*Vp(e)/t,-Math.cos(n)*sm(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Yt(e*e-n*n+1,-2*n*e).sqrt(),r=new Yt(t.re-e,t.im+n).log();return new Yt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Yt(e*e-n*n+1,-2*n*e).sqrt(),r=new Yt(t.re-e,t.im+n).log();return new Yt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(n===0){if(e===1)return new Yt(0,1/0);if(e===-1)return new Yt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Yt((1-e*e-n*n)/t,-2*n/t).log();return new Yt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(e===0)return new Yt(Math.atan2(1,n),0);const t=n*n+e*e;return t!==0?new Yt(n/t,-e/t).atan():new Yt(n!==0?n/0:0,e!==0?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Yt(0,1/0);const t=n*n+e*e;return t!==0?new Yt(n/t,-e/t).acos():new Yt(n!==0?n/0:0,e!==0?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Yt(Math.PI/2,1/0);const t=n*n+e*e;return t!==0?new Yt(n/t,-e/t).asin():new Yt(n!==0?n/0:0,e!==0?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Yt(sm(n)*Math.cos(e),Vp(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Yt(Vp(n)*Math.cos(e),sm(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=Vp(n)+Math.cos(e);return new Yt(sm(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=Vp(n)-Math.cos(e);return new Yt(sm(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-Vp(2*n);return new Yt(-2*sm(n)*Math.cos(e)/t,2*Vp(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+Vp(2*n);return new Yt(2*Vp(n)*Math.cos(e)/t,-2*sm(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&e===0,r=1-n,i=1+n,o=r*r+e*e,s=o!==0?new Yt((i*r-e*e)/o,(e*r+i*e)/o):new Yt(n!==-1?n/0:0,e!==0?e/0:0),u=s.re;return s.re=xA(s.re,s.im)/2,s.im=Math.atan2(s.im,u)/2,t&&(s.im=-s.im),s},acoth:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Yt(0,Math.PI/2);const t=n*n+e*e;return t!==0?new Yt(n/t,-e/t).atanh():new Yt(n!==0?n/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(e===0)return new Yt(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return t!==0?new Yt(n/t,-e/t).asinh():new Yt(n!==0?n/0:0,e!==0?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Yt.INFINITY;const t=n*n+e*e;return t!==0?new Yt(n/t,-e/t).acosh():new Yt(n!==0?n/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Yt.INFINITY;if(this.isInfinite())return Yt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Yt(n/t,-e/t)},conjugate:function(){return new Yt(this.re,-this.im)},neg:function(){return new Yt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Yt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Yt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Yt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=Ov(n,e);return Math.abs(t.re-this.re)<=Yt.EPSILON&&Math.abs(t.im-this.im)<=Yt.EPSILON},clone:function(){return new Yt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Yt.EPSILON&&(n=0),Math.abs(e)<Yt.EPSILON&&(e=0),e===0?t+n:(n!==0?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Yt.ZERO=new Yt(0,0),Yt.ONE=new Yt(1,0),Yt.I=new Yt(0,1),Yt.PI=new Yt(Math.PI,0),Yt.E=new Yt(Math.E,0),Yt.INFINITY=new Yt(1/0,1/0),Yt.NAN=new Yt(NaN,NaN),Yt.EPSILON=1e-15;var UX=Tf("Complex",[],()=>(Object.defineProperty(Yt,"name",{value:"Complex"}),Yt.prototype.constructor=Yt,Yt.prototype.type="Complex",Yt.prototype.isComplex=!0,Yt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Yt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Yt.prototype.format=function(n){var e=this.im,t=this.re,r=FM(this.re,n),i=FM(this.im,n),o=Gf(n)?n:n?n.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(t/e)<s&&(t=0),Math.abs(e/t)<s&&(e=0)}return e===0?r:t===0?e===1?"i":e===-1?"-i":i+"i":e<0?e===-1?r+" - i":r+" - "+i.substring(1)+"i":e===1?r+" + i":r+" + "+i+"i"},Yt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if(typeof e=="object")return Yt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if(Gf(t)){if(kz(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Gf(r))return new Yt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Yt.prototype.valueOf=Yt.prototype.toString,Yt.fromJSON=function(n){return new Yt(n)},Yt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Yt),{isClass:!0}),Ni={s:1,n:0,d:1};function X0(n,e){if(isNaN(n=parseInt(n,10)))throw BC();return n*e}function Ah(n,e){if(e===0)throw cI();var t=Object.create(Xp.prototype);t.s=n<0?-1:1;var r=i1(n=n<0?-n:n,e);return t.n=n/r,t.d=e/r,t}function nB(n){for(var e={},t=n,r=2,i=4;i<=t;){for(;t%r==0;)t/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return t!==n?t>1&&(e[t]=(e[t]||0)+1):e[n]=(e[n]||0)+1,e}var Wg=function(n,e){var t,r=0,i=1,o=1,s=0,u=0,c=0,p=1,f=1,g=0,y=1,b=1,_=1,M=1e7;if(n!=null)if(e!==void 0){if(o=(r=n)*(i=e),r%1!=0||i%1!=0)throw WX()}else switch(typeof n){case"object":if("d"in n&&"n"in n)r=n.n,i=n.d,"s"in n&&(r*=n.s);else{if(!(0 in n))throw BC();r=n[0],1 in n&&(i=n[1])}o=r*i;break;case"number":if(n<0&&(o=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=f=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));y<=M&&_<=M;){if(n===(t=(g+b)/(y+_))){y+_<=M?(r=g+b,i=y+_):_>y?(r=b,i=_):(r=g,i=y);break}n>t?(g+=b,y+=_):(b+=g,_+=y),y>M?(r=b,i=_):(r=g,i=y)}r*=f}else(isNaN(n)||isNaN(e))&&(i=r=NaN);break;case"string":if((y=n.match(/\d+|./g))===null)throw BC();if(y[g]==="-"?(o=-1,g++):y[g]==="+"&&g++,y.length===g+1?u=X0(y[g++],o):y[g+1]==="."||y[g]==="."?(y[g]!=="."&&(s=X0(y[g++],o)),(++g+1===y.length||y[g+1]==="("&&y[g+3]===")"||y[g+1]==="'"&&y[g+3]==="'")&&(u=X0(y[g],o),p=Math.pow(10,y[g].length),g++),(y[g]==="("&&y[g+2]===")"||y[g]==="'"&&y[g+2]==="'")&&(c=X0(y[g+1],o),f=Math.pow(10,y[g+1].length)-1,g+=3)):y[g+1]==="/"||y[g+1]===":"?(u=X0(y[g],o),p=X0(y[g+2],1),g+=3):y[g+3]==="/"&&y[g+1]===" "&&(s=X0(y[g],o),u=X0(y[g+2],o),p=X0(y[g+4],1),g+=5),y.length<=g){o=r=c+(i=p*f)*s+f*u;break}default:throw BC()}if(i===0)throw cI();Ni.s=o<0?-1:1,Ni.n=Math.abs(r),Ni.d=Math.abs(i)};function i1(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Xp(n,e){if(Wg(n,e),!(this instanceof Xp))return Ah(Ni.s*Ni.n,Ni.d);n=i1(Ni.d,Ni.n),this.s=Ni.s,this.n=Ni.n/n,this.d=Ni.d/n}var cI=function(){return new Error("Division by Zero")},BC=function(){return new Error("Invalid argument")},WX=function(){return new Error("Parameters must be integer")};Xp.prototype={s:1,n:0,d:1,abs:function(){return Ah(this.n,this.d)},neg:function(){return Ah(-this.s*this.n,this.d)},add:function(n,e){return Wg(n,e),Ah(this.s*this.n*Ni.d+Ni.s*this.d*Ni.n,this.d*Ni.d)},sub:function(n,e){return Wg(n,e),Ah(this.s*this.n*Ni.d-Ni.s*this.d*Ni.n,this.d*Ni.d)},mul:function(n,e){return Wg(n,e),Ah(this.s*Ni.s*this.n*Ni.n,this.d*Ni.d)},div:function(n,e){return Wg(n,e),Ah(this.s*Ni.s*this.n*Ni.d,this.d*Ni.n)},clone:function(){return Ah(this.s*this.n,this.d)},mod:function(n,e){if(isNaN(this.n)||isNaN(this.d))return new Xp(NaN);if(n===void 0)return Ah(this.s*this.n%this.d,1);if(Wg(n,e),Ni.n===0&&this.d===0)throw cI();return Ah(this.s*(Ni.d*this.n)%(Ni.n*this.d),Ni.d*this.d)},gcd:function(n,e){return Wg(n,e),Ah(i1(Ni.n,this.n)*i1(Ni.d,this.d),Ni.d*this.d)},lcm:function(n,e){return Wg(n,e),Ni.n===0&&this.n===0?Ah(0,1):Ah(Ni.n*this.n,i1(Ni.n,this.n)*i1(Ni.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Xp(NaN):Ah(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Xp(NaN):Ah(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Xp(NaN):Ah(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,e){return Wg(n,e),Ah(this.s*Math.round(this.n*Ni.d/(this.d*Ni.n))*Ni.n,Ni.d)},inverse:function(){return Ah(this.s*this.d,this.n)},pow:function(n,e){if(Wg(n,e),Ni.d===1)return Ni.s<0?Ah(Math.pow(this.s*this.d,Ni.n),Math.pow(this.n,Ni.n)):Ah(Math.pow(this.s*this.n,Ni.n),Math.pow(this.d,Ni.n));if(this.s<0)return null;var t=nB(this.n),r=nB(this.d),i=1,o=1;for(var s in t)if(s!=="1"){if(s==="0"){i=0;break}if(t[s]*=Ni.n,t[s]%Ni.d!=0)return null;t[s]/=Ni.d,i*=Math.pow(s,t[s])}for(var s in r)if(s!=="1"){if(r[s]*=Ni.n,r[s]%Ni.d!=0)return null;r[s]/=Ni.d,o*=Math.pow(s,r[s])}return Ni.s<0?Ah(o,i):Ah(i,o)},equals:function(n,e){return Wg(n,e),this.s*this.n*Ni.d==Ni.s*Ni.n*this.d},compare:function(n,e){Wg(n,e);var t=this.s*this.n*Ni.d-Ni.s*Ni.n*this.d;return(0<t)-(t<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var e=this.abs(),t=e.toContinued(),r=1;r<t.length;r++){for(var i=Ah(t[r-1],1),o=r-2;o>=0;o--)i=i.inverse().add(t[o]);if(Math.abs(i.sub(e).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,e){return Wg(n,e),!(!(Ni.n*this.d)||this.n*Ni.d%(Ni.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var e,t="",r=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=r:(n&&(e=Math.floor(r/i))>0&&(t+=e,t+=" ",r%=i),t+=r,t+="/",t+=i),t},toLatex:function(n){var e,t="",r=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=r:(n&&(e=Math.floor(r/i))>0&&(t+=e,r%=i),t+="\\frac{",t+=r,t+="}{",t+=i,t+="}"),t},toContinued:function(){var n,e=this.n,t=this.d,r=[];if(isNaN(e)||isNaN(t))return r;do r.push(Math.floor(e/t)),n=e%t,e=t,t=n;while(e!==1);return r},toString:function(n){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";n=n||15;var r=function(u,c){for(;c%2==0;c/=2);for(;c%5==0;c/=5);if(c===1)return 0;for(var p=10%c,f=1;p!==1;f++)if(p=10*p%c,f>2e3)return 0;return f}(0,t),i=function(u,c,p){for(var f=1,g=function(b,_,M){for(var F=1;_>0;b=b*b%M,_>>=1)1&_&&(F=F*b%M);return F}(10,p,c),y=0;y<300;y++){if(f===g)return y;f=10*f%c,g=10*g%c}return 0}(0,t,r),o=this.s<0?"-":"";if(o+=e/t|0,e%=t,(e*=10)&&(o+="."),r){for(var s=i;s--;)o+=e/t|0,e%=t,e*=10;for(o+="(",s=r;s--;)o+=e/t|0,e%=t,e*=10;o+=")"}else for(s=n;e&&s--;)o+=e/t|0,e%=t,e*=10;return o}};var HX=Tf("Fraction",[],()=>(Object.defineProperty(Xp,"name",{value:"Fraction"}),Xp.prototype.constructor=Xp,Xp.prototype.type="Fraction",Xp.prototype.isFraction=!0,Xp.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Xp.fromJSON=function(n){return new Xp(n)},Xp),{isClass:!0}),VX=Tf("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function DA(n,e,t){var r=new n.constructor(2),i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!yp(t))throw new Error("size must be an integer");if(n.greaterThan(r.pow(t-1).sub(1))||n.lessThan(r.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(t))),i="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(i);case 8:return"".concat(n.toOctal()).concat(i);case 16:return"".concat(n.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function qX(n,e){if(typeof e=="function")return e(n);if(!n.isFinite())return n.isNaN()?"NaN":n.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:r,wordSize:i}=Mz(e);switch(t){case"fixed":return function(p,f){return p.toFixed(f)}(n,r);case"exponential":return rB(n,r);case"engineering":return function(p,f){var g=p.e,y=g%3==0?g:g<0?g-3-g%3:g-g%3,b=p.mul(Math.pow(10,-y)),_=b.toPrecision(f);return _.includes("e")&&(_=new p.constructor(_).toFixed()),_+"e"+(g>=0?"+":"")+y.toString()}(n,r);case"bin":return DA(n,2,i);case"oct":return DA(n,8,i);case"hex":return DA(n,16,i);case"auto":var o=iB(e==null?void 0:e.lowerExp,-3),s=iB(e==null?void 0:e.upperExp,5);if(n.isZero())return"0";var u=n.toSignificantDigits(r),c=u.e;return(c>=o&&c<s?u.toFixed():rB(n,r)).replace(/((\.\d*?)(0+))($|e)/,function(){var p=arguments[2],f=arguments[4];return p!=="."?p+f:f});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function rB(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function iB(n,e){return Gf(n)?n:Rp(n)?n.toNumber():e}function Ag(n,e){var t=function(r,i){return typeof r=="number"?FM(r,i):Rp(r)?qX(r,i):function(o){return o&&typeof o=="object"&&typeof o.s=="number"&&typeof o.n=="number"&&typeof o.d=="number"||!1}(r)?i&&i.fraction==="decimal"?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?Lz(r,i):C0(r)?oB(r):typeof r=="function"?r.syntax?String(r.syntax):"function":r&&typeof r=="object"?typeof r.format=="function"?r.format(i):r&&r.toString(i)!=={}.toString()?r.toString(i):"{"+Object.keys(r).map(o=>oB(o)+": "+Ag(r[o],i)).join(", ")+"}":String(r)}(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function oB(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in aB?aB[i]:i,r++}return'"'+t+'"'}var aB={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Lz(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=Lz(n[i],e);return t+="]"}return Ag(n,e)}function Jc(n,e,t){if(!(this instanceof Jc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}function Uv(n,e,t){if(!(this instanceof Uv))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function Xm(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function $z(n,e,t){var r,i=n.length;if(i!==e[t])throw new Jc(i,e[t]);if(t<e.length-1){var o=t+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Jc(e.length-1,e.length,"<");$z(n[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Jc(e.length+1,e.length,">")}function sB(n,e){if(e.length===0){if(Array.isArray(n))throw new Jc(n.length,0)}else $z(n,e,0)}function Rh(n,e){if(n!==void 0){if(!Gf(n)||!yp(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new Uv(n,e)}}function uB(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");return e.forEach(function(r){if(!Gf(r)||!yp(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ag(e)+")")}),(Gf(n)||Rp(n))&&(n=[n]),NM(n,e,0,t!==void 0?t:0),n}function NM(n,e,t,r){var i,o,s=n.length,u=e[t],c=Math.min(s,u);if(n.length=u,t<e.length-1){var p=t+1;for(i=0;i<c;i++)o=n[i],Array.isArray(o)||(o=[o],n[i]=o),NM(o,e,p,r);for(i=c;i<u;i++)o=[],n[i]=o,NM(o,e,p,r)}else{for(i=0;i<c;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=c;i<u;i++)n[i]=r}}function zz(n,e){var t=function(o){if(!Array.isArray(o))return o;var s=[];return o.forEach(function u(c){Array.isArray(c)?c.forEach(u):s.push(c)}),s}(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Jc(0,r,"!=");var i=Uz(e=fI(e,r));if(r!==i)throw new Jc(i,r,"!=");try{return function(o,s){for(var u,c=o,p=s.length-1;p>0;p--){var f=s[p];u=[];for(var g=c.length/f,y=0;y<g;y++)u.push(c.slice(y*f,(y+1)*f));c=u}return c}(t,e)}catch(o){throw o instanceof Jc?new Jc(i,r,"!="):o}}function fI(n,e){var t=Uz(n),r=n.slice(),i=n.indexOf(-1);if(n.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[i]=-e/t}return r}function Uz(n){return n.reduce((e,t)=>e*t,1)}function Wz(n,e,t,r){var i=r||Xm(n);if(t)for(var o=0;o<t;o++)n=[n],i.unshift(1);for(n=Hz(n,e,0);i.length<e;)i.push(1);return n}function Hz(n,e,t){var r,i;if(Array.isArray(n)){var o=t+1;for(r=0,i=n.length;r<i;r++)n[r]=Hz(n[r],e,o)}else for(var s=t;s<e;s++)n=[n];return n}function hI(n,e){for(var t,r=0,i=0;i<n.length;i++){var o=n[i],s=Array.isArray(o);if(i===0&&s&&(r=o.length),s&&o.length!==r)return;var u=s?hI(o,e):e(o);if(t===void 0)t=u;else if(t!==u)return"mixed"}return t}function Vz(n,e,t,r){if(r<t){if(n.length!==e.length)throw new Jc(n.length,e.length);for(var i=[],o=0;o<n.length;o++)i[o]=Vz(n[o],e[o],t,r+1);return i}return n.concat(e)}function qz(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return Vz(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function Kz(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(y=>y.length),i=Math.max(...r),o=new Array(i).fill(null),s=0;s<e.length;s++)for(var u=e[s],c=r[s],p=0;p<c;p++){var f=i-c+p;u[p]>o[f]&&(o[f]=u[p])}for(var g=0;g<e.length;g++)Gz(e[g],o);return o}function Gz(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var o=t-r+i;if(n[i]<e[o]&&n[i]>1||n[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[o]))}}function BM(n,e){var t=Xm(n);if(cv(t,e))return n;Gz(t,e);var r,i,o,s=Kz(t,e),u=s.length,c=[...Array(u-t.length).fill(1),...t],p=function(g){return OS([],g)}(n);t.length<u&&(t=Xm(p=zz(p,c)));for(var f=0;f<u;f++)t[f]<s[f]&&(r=p,i=s[f],o=f,t=Xm(p=qz(...Array(i).fill(r),o)));return p}function Yz(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=Xm(n);if(e.length!==t.length)throw new Jc(e.length,t.length);for(var r=0;r<e.length;r++)Rh(e[r],t[r]);return e.reduce((i,o)=>i[o],n)}function $S(n,e,t){if(BS.isTypedFunction(n)){var r=(e.isMatrix?e.size():Xm(e)).map(()=>0),i=e.isMatrix?e.get(r):Yz(e,r),o=Object.keys(n.signatures).length===1,s=function(c,p,f,g){for(var y=[p,f,g],b=3;b>0;b--){var _=y.slice(0,b);if(BS.resolve(c,_)!==null)return b}}(n,i,r,e),u=o?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return lB(u,p.slice(0,s),t,n.name)}:function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return lB(u,p,t,n.name)}}return n}function lB(n,e,t,r){try{return n(...e)}catch(i){(function(o,s,u,c){var p;if(o instanceof TypeError&&((p=o.data)===null||p===void 0?void 0:p.category)==="wrongType"){var f=[];throw f.push("value: ".concat(Zv(s[0]))),s.length>=2&&f.push("index: ".concat(Zv(s[1]))),s.length>=3&&f.push("array: ".concat(Zv(s[2]))),new TypeError("Function ".concat(u," cannot apply callback arguments ")+"".concat(c,"(").concat(f.join(", "),") at index ").concat(JSON.stringify(s[1])))}throw new TypeError("Function ".concat(u," cannot apply callback arguments ")+"to function ".concat(c,": ").concat(o.message))})(i,e,t,r)}}Jc.prototype=new RangeError,Jc.prototype.constructor=RangeError,Jc.prototype.name="DimensionError",Jc.prototype.isDimensionError=!0,Uv.prototype=new RangeError,Uv.prototype.constructor=RangeError,Uv.prototype.name="IndexError",Uv.prototype.isIndexError=!0;var KX=Tf("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(c,p){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!C0(p))throw new Error("Invalid datatype: "+p);if(k0(c))c.type==="DenseMatrix"?(this._data=mp(c._data),this._size=mp(c._size),this._datatype=p||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=p||c._datatype);else if(c&&Yh(c.data)&&Yh(c.size))this._data=c.data,this._size=c.size,sB(this._data,this._size),this._datatype=p||c.datatype;else if(Yh(c))this._data=u(c),this._size=Xm(this._data),sB(this._data,this._size),this._datatype=p;else{if(c)throw new TypeError("Unsupported type of data ("+Zv(c)+")");this._data=[],this._size=[0],this._datatype=p}}function r(c,p,f,g){var y=g===f-1,b=p.dimension(g);return y?b.map(function(_){return Rh(_,c.length),c[_]}).valueOf():b.map(function(_){return Rh(_,c.length),r(c[_],p,f,g+1)}).valueOf()}function i(c,p,f,g,y){var b=y===g-1,_=p.dimension(y);b?_.forEach(function(M,F){Rh(M),c[M]=f[F[0]]}):_.forEach(function(M,F){Rh(M),i(c[M],p,f[F[0]],g,y+1)})}function o(c,p,f){if(p.length===0){for(var g=c._data;Yh(g);)g=g[0];return g}return c._size=p.slice(0),c._data=uB(c._data,c._size,f),c}function s(c,p,f){for(var g=c._size.slice(0),y=!1;g.length<p.length;)g.push(0),y=!0;for(var b=0,_=p.length;b<_;b++)p[b]>g[b]&&(g[b]=p[b],y=!0);y&&o(c,g,f)}function u(c){return k0(c)?u(c.valueOf()):Yh(c)?c.map(u):c}return t.prototype=new e,t.prototype.createDenseMatrix=function(c,p){return new t(c,p)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return hI(this._data,Zv)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,p){return new t(c,p)},t.prototype.subset=function(c,p,f){switch(arguments.length){case 1:return function(g,y){if(!sI(y))throw new TypeError("Invalid index");var b=y.isScalar();if(b)return g.get(y.min());var _=y.size();if(_.length!==g._size.length)throw new Jc(_.length,g._size.length);for(var M=y.min(),F=y.max(),O=0,j=g._size.length;O<j;O++)Rh(M[O],g._size[O]),Rh(F[O],g._size[O]);return new t(r(g._data,y,_.length,0),g._datatype)}(this,c);case 2:case 3:return function(g,y,b,_){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var M,F=y.size(),O=y.isScalar();if(k0(b)?(M=b.size(),b=b.valueOf()):M=Xm(b),O){if(M.length!==0)throw new TypeError("Scalar expected");g.set(y.min(),b,_)}else{if(!cv(M,F))try{M=Xm(b=M.length===0?BM([b],F):BM(b,F))}catch{}if(F.length<g._size.length)throw new Jc(F.length,g._size.length,"<");if(M.length<F.length){for(var j=0,z=0;F[j]===1&&M[j]===1;)j++;for(;F[j]===1;)z++,j++;b=Wz(b,F.length,z,M)}if(!cv(F,M))throw new Jc(F,M,">");var W=y.max().map(function(Q){return Q+1});s(g,W,_);var J=F.length,G=0;i(g._data,y,b,J,G)}return g}(this,c,p,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){return Yz(this._data,c)},t.prototype.set=function(c,p,f){if(!Yh(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Jc(c.length,this._size.length,"<");var g,y,b,_=c.map(function(F){return F+1});s(this,_,f);var M=this._data;for(g=0,y=c.length-1;g<y;g++)Rh(b=c[g],M.length),M=M[b];return Rh(b=c[c.length-1],M.length),M[b]=p,this},t.prototype.resize=function(c,p,f){if(!NS(c))throw new TypeError("Array or Matrix expected");var g=c.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);return o(f?this.clone():this,g,p)},t.prototype.reshape=function(c,p){var f=p?this.clone():this;f._data=zz(f._data,c);var g=f._size.reduce((y,b)=>y*b);return f._size=fI(c,g),f},t.prototype.clone=function(){return new t({data:mp(this._data),size:mp(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(c){var p=this,f=p.size();if(f.length!==1){var g=Array(f.length).fill(0),y=Array(f.length-1),b=y.length-1;y[0]=p._data[0];for(var _=0;_<b;_++)y[_+1]=y[_][0];for(g[b]=-1;;){var M=void 0;for(M=b;M>=0;M--){if(g[M]++,g[M]!==f[M]){y[M]=M===0?p._data[g[M]]:y[M-1][g[M]];for(var F=M;F<b;F++)y[F+1]=y[F][0];for(var O=0;O<f[y.length];O++)g[y.length]=O,c(y[b],O,g.slice(0));break}g[M]=0}if(M===-1)break}}else for(var j=0;j<f[0];j++)c(p._data,j,[j])},t.prototype.map=function(c){var p=this,f=new t(p),g=$S(c,p._data,"map");return f._forEach(function(y,b,_){y[b]=g(y[b],_,p)}),f},t.prototype.forEach=function(c){var p=this,f=$S(c,p._data,"map");p._forEach(function(g,y,b){f(g[y],b,p)})},t.prototype[Symbol.iterator]=function*(){var c=function*(p,f){if(Yh(p))for(var g=0;g<p.length;g++)yield*c(p[g],f.concat(g));else yield{value:p,index:f}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var f of p)c.push(new t([f],this._datatype));return c},t.prototype.columns=function(){var c=this,p=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,y=function(_){var M=g.map(F=>[F[_]]);p.push(new t(M,c._datatype))},b=0;b<f[1];b++)y(b);return p},t.prototype.toArray=function(){return mp(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return Ag(this._data,c)},t.prototype.toString=function(){return Ag(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(Rp(c)&&(c=c.toNumber()),!Gf(c)||!yp(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var p=c>0?c:0,f=c<0?-c:0,g=this._size[0],y=this._size[1],b=Math.min(g-f,y-p),_=[],M=0;M<b;M++)_[M]=this._data[M+f][M+p];return new t({data:_,size:[b],datatype:this._datatype})},t.diagonal=function(c,p,f,g){if(!Yh(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(J){if(Rp(J)&&(J=J.toNumber()),!Gf(J)||!yp(J)||J<1)throw new Error("Size values must be positive integers");return J}),f){if(Rp(f)&&(f=f.toNumber()),!Gf(f)||!yp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var y,b=f>0?f:0,_=f<0?-f:0,M=c[0],F=c[1],O=Math.min(M-_,F-b);if(Yh(p)){if(p.length!==O)throw new Error("Invalid value array length");y=function(J){return p[J]}}else if(k0(p)){var j=p.size();if(j.length!==1||j[0]!==O)throw new Error("Invalid matrix length");y=function(J){return p.get([J])}}else y=function(){return p};g||(g=Rp(y(0))?y(0).mul(0):0);var z=[];if(c.length>0){z=uB(z,c,g);for(var W=0;W<O;W++)z[W+_][W+b]=y(W)}return new t({data:z,size:[M,F]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,p){if(!(Gf(c)&&yp(c)&&Gf(p)&&yp(p)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rh(c,this._size[0]),Rh(p,this._size[0]),t._swapRows(c,p,this._data),this},t._swapRows=function(c,p,f){var g=f[c];f[c]=f[p],f[p]=g},t},{isClass:!0});function pI(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return pI(r,e)}):e(n)}var cB="isInteger",GX=Tf(cB,["typed"],n=>{var{typed:e}=n;return e(cB,{number:yp,BigNumber:function(t){return t.isInt()},bigint:function(t){return!0},Fraction:function(t){return t.d===1&&isFinite(t.n)},"Array | Matrix":e.referToSelf(t=>r=>pI(r,t))})}),fB="number, number";function Jz(n,e){return n+e}function Xz(n,e){return n-e}function Qz(n){return-n}Jz.signature=fB,Xz.signature=fB,Qz.signature="number";var YX=Tf("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),zS="equalScalar",JX=Tf(zS,["typed","config"],n=>{var{typed:e,config:t}=n,r=YX({typed:e});return e(zS,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return IC(i,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||function(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(c<=0)throw new Error("Relative tolerance must be greater than 0");if(p<0)throw new Error("Absolute tolerance must be at least 0");return!s.isNaN()&&!u.isNaN()&&(s.isFinite()&&u.isFinite()?!!s.eq(u)||s.minus(u).abs().lte(s.constructor.max(s.constructor.max(s.abs(),u.abs()).mul(c),p)):s.eq(u))}(i,o,t.relTol,t.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return function(s,u,c,p){return IC(s.re,u.re,c,p)&&IC(s.im,u.im,c,p)}(i,o,t.relTol,t.absTol)}},r)});Tf(zS,["typed","config"],n=>{var{typed:e,config:t}=n;return e(zS,{"number, number":function(r,i){return IC(r,i,t.relTol,t.absTol)}})});var XX=Tf("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(f,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!C0(g))throw new Error("Invalid datatype: "+g);if(k0(f))(function(y,b,_){b.type==="SparseMatrix"?(y._values=b._values?mp(b._values):void 0,y._index=mp(b._index),y._ptr=mp(b._ptr),y._size=mp(b._size),y._datatype=_||b._datatype):o(y,b.valueOf(),_||b._datatype)})(this,f,g);else if(f&&Yh(f.index)&&Yh(f.ptr)&&Yh(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=g||f.datatype;else if(Yh(f))o(this,f,g);else{if(f)throw new TypeError("Unsupported type of data ("+Zv(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function o(f,g,y){f._values=[],f._index=[],f._ptr=[],f._datatype=y;var b=g.length,_=0,M=t,F=0;if(C0(y)&&(M=e.find(t,[y,y])||t,F=e.convert(0,y)),b>0){var O=0;do{f._ptr.push(f._index.length);for(var j=0;j<b;j++){var z=g[j];if(Yh(z)){if(O===0&&_<z.length&&(_=z.length),O<z.length){var W=z[O];M(W,F)||(f._values.push(W),f._index.push(j))}}else O===0&&_<1&&(_=1),M(z,F)||(f._values.push(z),f._index.push(j))}O++}while(O<_)}f._ptr.push(f._index.length),f._size=[b,_]}function s(f,g,y,b){if(y-g==0)return y;for(var _=g;_<y;_++)if(b[_]===f)return _;return g}function u(f,g,y,b,_,M,F){_.splice(f,0,b),M.splice(f,0,g);for(var O=y+1;O<F.length;O++)F[O]++}function c(f,g,y,b){var _=b||0,M=t,F=0;C0(f._datatype)&&(M=e.find(t,[f._datatype,f._datatype])||t,F=e.convert(0,f._datatype),_=e.convert(_,f._datatype));var O,j,z,W=!M(_,F),J=f._size[0],G=f._size[1];if(y>G){for(j=G;j<y;j++)if(f._ptr[j]=f._values.length,W)for(O=0;O<J;O++)f._values.push(_),f._index.push(O);f._ptr[y]=f._values.length}else y<G&&(f._ptr.splice(y+1,G-y),f._values.splice(f._ptr[y],f._values.length),f._index.splice(f._ptr[y],f._index.length));if(G=y,g>J){if(W){var Q=0;for(j=0;j<G;j++){f._ptr[j]=f._ptr[j]+Q,z=f._ptr[j+1]+Q;var te=0;for(O=J;O<g;O++,te++)f._values.splice(z+te,0,_),f._index.splice(z+te,0,O),Q++}f._ptr[G]=f._values.length}}else if(g<J){var ae=0;for(j=0;j<G;j++){f._ptr[j]=f._ptr[j]-ae;var se=f._ptr[j],ge=f._ptr[j+1]-ae;for(z=se;z<ge;z++)(O=f._index[z])>g-1&&(f._values.splice(z,1),f._index.splice(z,1),ae++)}f._ptr[j]=f._values.length}return f._size[0]=g,f._size[1]=y,f}function p(f,g,y,b,_){var M,F,O=b[0],j=b[1],z=[];for(M=0;M<O;M++)for(z[M]=[],F=0;F<j;F++)z[M][F]=0;for(F=0;F<j;F++)for(var W=y[F],J=y[F+1],G=W;G<J;G++)z[M=g[G]][F]=f?_?mp(f[G]):f[G]:1;return z}return i.prototype=new r,i.prototype.createSparseMatrix=function(f,g){return new i(f,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return hI(this._values,Zv)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,g){return new i(f,g)},i.prototype.density=function(){var f=this._size[0],g=this._size[1];return f!==0&&g!==0?this._index.length/(f*g):0},i.prototype.subset=function(f,g,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(b,_){if(!sI(_))throw new TypeError("Invalid index");if(_.isScalar())return b.get(_.min());var M,F,O,j,z=_.size();if(z.length!==b._size.length)throw new Jc(z.length,b._size.length);var W=_.min(),J=_.max();for(M=0,F=b._size.length;M<F;M++)Rh(W[M],b._size[M]),Rh(J[M],b._size[M]);var G=b._values,Q=b._index,te=b._ptr,ae=_.dimension(0),se=_.dimension(1),ge=[],xe=[];ae.forEach(function(Oe,et){xe[Oe]=et[0],ge[Oe]=!0});var Pe=G?[]:void 0,Ce=[],Me=[];return se.forEach(function(Oe){for(Me.push(Ce.length),O=te[Oe],j=te[Oe+1];O<j;O++)M=Q[O],ge[M]===!0&&(Ce.push(xe[M]),Pe&&Pe.push(G[O]))}),Me.push(Ce.length),new i({values:Pe,index:Ce,ptr:Me,size:z,datatype:b._datatype})}(this,f);case 2:case 3:return function(b,_,M,F){if(!_||_.isIndex!==!0)throw new TypeError("Invalid index");var O,j=_.size(),z=_.isScalar();if(k0(M)?(O=M.size(),M=M.toArray()):O=Xm(M),z){if(O.length!==0)throw new TypeError("Scalar expected");b.set(_.min(),M,F)}else{if(j.length!==1&&j.length!==2)throw new Jc(j.length,b._size.length,"<");if(O.length<j.length){for(var W=0,J=0;j[W]===1&&O[W]===1;)W++;for(;j[W]===1;)J++,W++;M=Wz(M,j.length,J,O)}if(!cv(j,O))throw new Jc(j,O,">");if(j.length===1)_.dimension(0).forEach(function(te,ae){Rh(te),b.set([te,0],M[ae[0]],F)});else{var G=_.dimension(0),Q=_.dimension(1);G.forEach(function(te,ae){Rh(te),Q.forEach(function(se,ge){Rh(se),b.set([te,se],M[ae[0]][ge[0]],F)})})}}return b}(this,f,g,y);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(f){if(!Yh(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Jc(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=f[0],y=f[1];Rh(g,this._size[0]),Rh(y,this._size[1]);var b=s(g,this._ptr[y],this._ptr[y+1],this._index);return b<this._ptr[y+1]&&this._index[b]===g?this._values[b]:0},i.prototype.set=function(f,g,y){if(!Yh(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Jc(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=f[0],_=f[1],M=this._size[0],F=this._size[1],O=t,j=0;C0(this._datatype)&&(O=e.find(t,[this._datatype,this._datatype])||t,j=e.convert(0,this._datatype)),(b>M-1||_>F-1)&&(c(this,Math.max(b+1,M),Math.max(_+1,F),y),M=this._size[0],F=this._size[1]),Rh(b,M),Rh(_,F);var z=s(b,this._ptr[_],this._ptr[_+1],this._index);return z<this._ptr[_+1]&&this._index[z]===b?O(g,j)?function(W,J,G,Q,te){G.splice(W,1),Q.splice(W,1);for(var ae=J+1;ae<te.length;ae++)te[ae]--}(z,_,this._values,this._index,this._ptr):this._values[z]=g:O(g,j)||u(z,b,_,g,this._values,this._index,this._ptr),this},i.prototype.resize=function(f,g,y){if(!NS(f))throw new TypeError("Array or Matrix expected");var b=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");return b.forEach(function(_){if(!Gf(_)||!yp(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Ag(b)+")")}),c(y?this.clone():this,b[0],b[1],g)},i.prototype.reshape=function(f,g){if(!Yh(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(xe){if(!Gf(xe)||!yp(xe)||xe<=-2||xe===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Ag(f)+")")});var y=this._size[0]*this._size[1];if(y!==(f=fI(f,y))[0]*f[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=g?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var _=[],M=0;M<b._ptr.length;M++)for(var F=0;F<b._ptr[M+1]-b._ptr[M];F++)_.push(M);for(var O=b._values.slice(),j=b._index.slice(),z=0;z<b._index.length;z++){var W=j[z],J=_[z],G=W*b._size[1]+J;_[z]=G%f[1],j[z]=Math.floor(G/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var Q=0;Q<b._ptr.length;Q++)b._ptr[Q]=0;for(var te=0;te<O.length;te++){var ae=j[te],se=_[te],ge=O[te];u(s(ae,b._ptr[se],b._ptr[se+1],b._index),ae,se,ge,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){return new i({values:this._values?mp(this._values):void 0,index:mp(this._index),ptr:mp(this._ptr),size:mp(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,b=this._size[0],_=this._size[1],M=$S(f,y,"map");return function(F,O,j,z,W,J,G){var Q=[],te=[],ae=[],se=t,ge=0;C0(F._datatype)&&(se=e.find(t,[F._datatype,F._datatype])||t,ge=e.convert(0,F._datatype));for(var xe=function(Ee,Ze,xt){var wt=J(Ee,Ze,xt);se(wt,ge)||(Q.push(wt),te.push(Ze))},Pe=z;Pe<=W;Pe++){ae.push(Q.length);var Ce=F._ptr[Pe],Me=F._ptr[Pe+1];if(G)for(var Oe=Ce;Oe<Me;Oe++){var et=F._index[Oe];et>=O&&et<=j&&xe(F._values[Oe],et-O,Pe-z)}else{for(var $e={},Fe=Ce;Fe<Me;Fe++)$e[F._index[Fe]]=F._values[Fe];for(var Ne=O;Ne<=j;Ne++)xe(Ne in $e?$e[Ne]:0,Ne-O,Pe-z)}}return ae.push(Q.length),new i({values:Q,index:te,ptr:ae,size:[j-O+1,W-z+1]})}(this,0,b-1,0,_-1,function(F,O,j){return M(F,[O,j],y)},g)},i.prototype.forEach=function(f,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,b=this._size[0],_=this._size[1],M=$S(f,y,"forEach"),F=0;F<_;F++){var O=this._ptr[F],j=this._ptr[F+1];if(g)for(var z=O;z<j;z++){var W=this._index[z];M(this._values[z],[W,F],y)}else{for(var J={},G=O;G<j;G++)J[this._index[G]]=this._values[G];for(var Q=0;Q<b;Q++)M(Q in J?J[Q]:0,[Q,F],y)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],g=0;g<f;g++)for(var y=this._ptr[g],b=this._ptr[g+1],_=y;_<b;_++){var M=this._index[_];yield{value:this._values[_],index:[M,g]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(f){for(var g=this._size[0],y=this._size[1],b=this.density(),_="Sparse Matrix ["+Ag(g,f)+" x "+Ag(y,f)+"] density: "+Ag(b,f)+`
`,M=0;M<y;M++)for(var F=this._ptr[M],O=this._ptr[M+1],j=F;j<O;j++)_+=`
    (`+Ag(this._index[j],f)+", "+Ag(M,f)+") ==> "+(this._values?Ag(this._values[j],f):"X");return _},i.prototype.toString=function(){return Ag(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(Rp(f)&&(f=f.toNumber()),!Gf(f)||!yp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var g=f>0?f:0,y=f<0?-f:0,b=this._size[0],_=this._size[1],M=Math.min(b-y,_-g),F=[],O=[],j=[];j[0]=0;for(var z=g;z<_&&F.length<M;z++)for(var W=this._ptr[z],J=this._ptr[z+1],G=W;G<J;G++){var Q=this._index[G];if(Q===z-g+y){F.push(this._values[G]),O[F.length-1]=Q-y;break}}return j.push(F.length),new i({values:F,index:O,ptr:j,size:[M,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,g,y,b,_){if(!Yh(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(Ce){if(Rp(Ce)&&(Ce=Ce.toNumber()),!Gf(Ce)||!yp(Ce)||Ce<1)throw new Error("Size values must be positive integers");return Ce}),y){if(Rp(y)&&(y=y.toNumber()),!Gf(y)||!yp(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var M=t,F=0;C0(_)&&(M=e.find(t,[_,_])||t,F=e.convert(0,_));var O,j=y>0?y:0,z=y<0?-y:0,W=f[0],J=f[1],G=Math.min(W-z,J-j);if(Yh(g)){if(g.length!==G)throw new Error("Invalid value array length");O=function(Ce){return g[Ce]}}else if(k0(g)){var Q=g.size();if(Q.length!==1||Q[0]!==G)throw new Error("Invalid matrix length");O=function(Ce){return g.get([Ce])}}else O=function(){return g};for(var te=[],ae=[],se=[],ge=0;ge<J;ge++){se.push(te.length);var xe=ge-j;if(xe>=0&&xe<G){var Pe=O(xe);M(Pe,F)||(ae.push(xe+z),te.push(Pe))}}return se.push(te.length),new i({values:te,index:ae,ptr:se,size:[W,J]})},i.prototype.swapRows=function(f,g){if(!(Gf(f)&&yp(f)&&Gf(g)&&yp(g)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rh(f,this._size[0]),Rh(g,this._size[0]),i._swapRows(f,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,g,y,b,_){for(var M=b[f],F=b[f+1],O=M;O<F;O++)_(y[O],g[O])},i._swapRows=function(f,g,y,b,_,M){for(var F=0;F<y;F++){var O=M[F],j=M[F+1],z=s(f,O,j,_),W=s(g,O,j,_);if(z<j&&W<j&&_[z]===f&&_[W]===g){if(b){var J=b[z];b[z]=b[W],b[W]=J}}else if(z<j&&_[z]===f&&(W>=j||_[W]!==g)){var G=b?b[z]:void 0;_.splice(W,0,g),b&&b.splice(W,0,G),_.splice(W<=z?z+1:z,1),b&&b.splice(W<=z?z+1:z,1)}else if(W<j&&_[W]===g&&(z>=j||_[z]!==f)){var Q=b?b[W]:void 0;_.splice(z,0,f),b&&b.splice(z,0,Q),_.splice(z<=W?W+1:W,1),b&&b.splice(z<=W?W+1:W,1)}}},i},{isClass:!0}),hB="matrix",QX=Tf(hB,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(hB,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,u){return o([],s,u)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,u,c){if(u==="dense"||u==="default"||u===void 0)return new r(s,c);if(u==="sparse")return new i(s,c);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),pB="unaryMinus",ZX=Tf(pB,["typed"],n=>{var{typed:e}=n;return e(pB,{number:Qz,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>pI(r,t))})}),gB="addScalar",eQ=Tf(gB,["typed"],n=>{var{typed:e}=n;return e(gB,{"number, number":Jz,"Complex, Complex":function(t,r){return t.add(r)},"BigNumber, BigNumber":function(t,r){return t.plus(r)},"bigint, bigint":function(t,r){return t+r},"Fraction, Fraction":function(t,r){return t.add(r)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),mB="subtractScalar",tQ=Tf(mB,["typed"],n=>{var{typed:e}=n;return e(mB,{"number, number":Xz,"Complex, Complex":function(t,r){return t.sub(r)},"BigNumber, BigNumber":function(t,r){return t.minus(r)},"bigint, bigint":function(t,r){return t-r},"Fraction, Fraction":function(t,r){return t.sub(r)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),nQ=Tf("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,i,o,s){var u=r._values,c=r._index,p=r._ptr,f=r._size,g=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,b=f[0],_=f[1],M=o;typeof g=="string"&&(y=g,i=e.convert(i,y),M=e.find(o,[y,y]));for(var F=[],O=[],j=[],z=0;z<_;z++){for(var W=z+1,J=p[z],G=p[z+1],Q=J;Q<G;Q++){var te=c[Q];O[te]=u[Q],j[te]=W}for(var ae=0;ae<b;ae++)z===0&&(F[ae]=[]),j[ae]===W?F[ae][z]=s?M(i,O[ae]):M(O[ae],i):F[ae][z]=s?M(i,0):M(0,i)}return new t({data:F,size:[b,_],datatype:y})}}),rQ=Tf("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(r,i,o,s){var u,c=r._data,p=r._size,f=r._datatype,g=o;typeof f=="string"&&(u=f,i=e.convert(i,u),g=e.find(o,[u,u]));var y=p.length>0?t(g,0,p,p[0],c,i,s):[];return r.createDenseMatrix({data:y,size:mp(p),datatype:u})};function t(r,i,o,s,u,c,p){var f=[];if(i===o.length-1)for(var g=0;g<s;g++)f[g]=p?r(c,u[g]):r(u[g],c);else for(var y=0;y<s;y++)f[y]=t(r,i+1,o,o[i+1],u[y],c,p);return f}}),iQ=Tf("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(t,r,i,o){var s=t._data,u=t._size,c=t._datatype||t.getDataType(),p=r._values,f=r._index,g=r._ptr,y=r._size,b=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(u.length!==y.length)throw new Jc(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,M=u[0],F=u[1],O=0,j=i;typeof c=="string"&&c===b&&c!=="mixed"&&(_=c,O=e.convert(0,_),j=e.find(i,[_,_]));for(var z=[],W=0;W<M;W++)z[W]=[];for(var J=[],G=[],Q=0;Q<F;Q++){for(var te=Q+1,ae=g[Q],se=g[Q+1],ge=ae;ge<se;ge++){var xe=f[ge];J[xe]=o?j(p[ge],s[xe][Q]):j(s[xe][Q],p[ge]),G[xe]=te}for(var Pe=0;Pe<M;Pe++)G[Pe]===te?z[Pe][Q]=J[Pe]:z[Pe][Q]=o?j(O,s[Pe][Q]):j(s[Pe][Q],O)}return t.createDenseMatrix({data:z,size:[M,F],datatype:c===t._datatype&&b===r._datatype?_:void 0})}}),oQ=Tf("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,i,o){var s=r._values,u=r._index,c=r._ptr,p=r._size,f=r._datatype||r._data===void 0?r._datatype:r.getDataType(),g=i._values,y=i._index,b=i._ptr,_=i._size,M=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==_.length)throw new Jc(p.length,_.length);if(p[0]!==_[0]||p[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+_+")");var F,O=p[0],j=p[1],z=t,W=0,J=o;typeof f=="string"&&f===M&&f!=="mixed"&&(F=f,z=e.find(t,[F,F]),W=e.convert(0,F),J=e.find(o,[F,F]));var G,Q,te,ae,se=s&&g?[]:void 0,ge=[],xe=[],Pe=se?[]:void 0,Ce=se?[]:void 0,Me=[],Oe=[];for(Q=0;Q<j;Q++){xe[Q]=ge.length;var et=Q+1;for(te=c[Q],ae=c[Q+1];te<ae;te++)G=u[te],ge.push(G),Me[G]=et,Pe&&(Pe[G]=s[te]);for(te=b[Q],ae=b[Q+1];te<ae;te++)Me[G=y[te]]!==et&&ge.push(G),Oe[G]=et,Ce&&(Ce[G]=g[te]);if(se)for(te=xe[Q];te<ge.length;){var $e=Me[G=ge[te]],Fe=Oe[G];if($e===et||Fe===et){var Ne=J($e===et?Pe[G]:W,Fe===et?Ce[G]:W);z(Ne,W)?ge.splice(te,1):(se.push(Ne),te++)}}}return xe[j]=ge.length,r.createSparseMatrix({values:se,index:ge,ptr:xe,size:[O,j],datatype:f===r._datatype&&M===i._datatype?F:void 0})}}),aQ=Tf("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(r,i,o){var s,u=r._data,c=r._size,p=r._datatype,f=i._data,g=i._size,y=i._datatype,b=[];if(c.length!==g.length)throw new Jc(c.length,g.length);for(var _=0;_<c.length;_++){if(c[_]!==g[_])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");b[_]=c[_]}var M=o;typeof p=="string"&&p===y&&(s=p,M=e.find(o,[s,s]));var F=b.length>0?t(M,0,b,b[0],u,f):[];return r.createDenseMatrix({data:F,size:b,datatype:s})};function t(r,i,o,s,u,c){var p=[];if(i===o.length-1)for(var f=0;f<s;f++)p[f]=r(u[f],c[f]);else for(var g=0;g<s;g++)p[g]=t(r,i+1,o,o[i+1],u[g],c[g]);return p}});function hp(n,e){if(cv(n.size(),e.size()))return[n,e];var t=Kz(n.size(),e.size());return[n,e].map(r=>function(i,o){return cv(i.size(),o)?i:i.create(BM(i.valueOf(),o),i.datatype())}(r,t))}var Zz=Tf("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=aQ({typed:e}),i=rQ({typed:e});return function(o){var s,u=o.elop,c=o.SD||o.DS;u?(s={"DenseMatrix, DenseMatrix":(g,y)=>r(...hp(g,y),u),"Array, Array":(g,y)=>r(...hp(t(g),t(y)),u).valueOf(),"Array, DenseMatrix":(g,y)=>r(...hp(t(g),y),u),"DenseMatrix, Array":(g,y)=>r(...hp(g,t(y)),u)},o.SS&&(s["SparseMatrix, SparseMatrix"]=(g,y)=>o.SS(...hp(g,y),u,!1)),o.DS&&(s["DenseMatrix, SparseMatrix"]=(g,y)=>o.DS(...hp(g,y),u,!1),s["Array, SparseMatrix"]=(g,y)=>o.DS(...hp(t(g),y),u,!1)),c&&(s["SparseMatrix, DenseMatrix"]=(g,y)=>c(...hp(y,g),u,!0),s["SparseMatrix, Array"]=(g,y)=>c(...hp(t(y),g),u,!0))):(s={"DenseMatrix, DenseMatrix":e.referToSelf(g=>(y,b)=>r(...hp(y,b),g)),"Array, Array":e.referToSelf(g=>(y,b)=>r(...hp(t(y),t(b)),g).valueOf()),"Array, DenseMatrix":e.referToSelf(g=>(y,b)=>r(...hp(t(y),b),g)),"DenseMatrix, Array":e.referToSelf(g=>(y,b)=>r(...hp(y,t(b)),g))},o.SS&&(s["SparseMatrix, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.SS(...hp(y,b),g,!1))),o.DS&&(s["DenseMatrix, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.DS(...hp(y,b),g,!1)),s["Array, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.DS(...hp(t(y),b),g,!1))),c&&(s["SparseMatrix, DenseMatrix"]=e.referToSelf(g=>(y,b)=>c(...hp(b,y),g,!0)),s["SparseMatrix, Array"]=e.referToSelf(g=>(y,b)=>c(...hp(t(b),y),g,!0))));var p=o.scalar||"any";(o.Ds||o.Ss)&&(u?(s["DenseMatrix,"+p]=(g,y)=>i(g,y,u,!1),s[p+", DenseMatrix"]=(g,y)=>i(y,g,u,!0),s["Array,"+p]=(g,y)=>i(t(g),y,u,!1).valueOf(),s[p+", Array"]=(g,y)=>i(t(y),g,u,!0).valueOf()):(s["DenseMatrix,"+p]=e.referToSelf(g=>(y,b)=>i(y,b,g,!1)),s[p+", DenseMatrix"]=e.referToSelf(g=>(y,b)=>i(b,y,g,!0)),s["Array,"+p]=e.referToSelf(g=>(y,b)=>i(t(y),b,g,!1).valueOf()),s[p+", Array"]=e.referToSelf(g=>(y,b)=>i(t(b),y,g,!0).valueOf())));var f=o.sS!==void 0?o.sS:o.Ss;return u?(o.Ss&&(s["SparseMatrix,"+p]=(g,y)=>o.Ss(g,y,u,!1)),f&&(s[p+", SparseMatrix"]=(g,y)=>f(y,g,u,!0))):(o.Ss&&(s["SparseMatrix,"+p]=e.referToSelf(g=>(y,b)=>o.Ss(y,b,g,!1))),f&&(s[p+", SparseMatrix"]=e.referToSelf(g=>(y,b)=>f(b,y,g,!0)))),u&&u.signatures&&function(g,y){for(var b in y)Tb(y,b)&&(g[b]=y[b])}(s,u.signatures),s}}),e2=Tf("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(t,r,i,o){var s=t._data,u=t._size,c=t._datatype||t.getDataType(),p=r._values,f=r._index,g=r._ptr,y=r._size,b=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(u.length!==y.length)throw new Jc(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,M,F=u[0],O=u[1],j=typeof c=="string"&&c!=="mixed"&&c===b?c:void 0,z=j?e.find(i,[j,j]):i,W=[];for(_=0;_<F;_++)W[_]=[];var J=[],G=[];for(M=0;M<O;M++){for(var Q=M+1,te=g[M],ae=g[M+1],se=te;se<ae;se++)J[_=f[se]]=o?z(p[se],s[_][M]):z(s[_][M],p[se]),G[_]=Q;for(_=0;_<F;_++)G[_]===Q?W[_][M]=J[_]:W[_][M]=s[_][M]}return t.createDenseMatrix({data:W,size:[F,O],datatype:c===t._datatype&&b===r._datatype?j:void 0})}}),sQ=Tf("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,i,o){var s=r._values,u=r._index,c=r._ptr,p=r._size,f=r._datatype||r._data===void 0?r._datatype:r.getDataType(),g=i._values,y=i._index,b=i._ptr,_=i._size,M=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==_.length)throw new Jc(p.length,_.length);if(p[0]!==_[0]||p[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+_+")");var F,O=p[0],j=p[1],z=t,W=0,J=o;typeof f=="string"&&f===M&&f!=="mixed"&&(F=f,z=e.find(t,[F,F]),W=e.convert(0,F),J=e.find(o,[F,F]));var G,Q,te,ae,se,ge=s&&g?[]:void 0,xe=[],Pe=[],Ce=s&&g?[]:void 0,Me=s&&g?[]:void 0,Oe=[],et=[];for(Q=0;Q<j;Q++){Pe[Q]=xe.length;var $e=Q+1;for(ae=c[Q],se=c[Q+1],te=ae;te<se;te++)G=u[te],xe.push(G),Oe[G]=$e,Ce&&(Ce[G]=s[te]);for(ae=b[Q],se=b[Q+1],te=ae;te<se;te++)if(Oe[G=y[te]]===$e){if(Ce){var Fe=J(Ce[G],g[te]);z(Fe,W)?Oe[G]=null:Ce[G]=Fe}}else xe.push(G),et[G]=$e,Me&&(Me[G]=g[te]);if(Ce&&Me)for(te=Pe[Q];te<xe.length;)Oe[G=xe[te]]===$e?(ge[te]=Ce[G],te++):et[G]===$e?(ge[te]=Me[G],te++):xe.splice(te,1)}return Pe[j]=xe.length,r.createSparseMatrix({values:ge,index:xe,ptr:Pe,size:[O,j],datatype:f===r._datatype&&M===i._datatype?F:void 0})}}),t2=Tf("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,i,o,s){var u=r._values,c=r._index,p=r._ptr,f=r._size,g=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,b=f[0],_=f[1],M=o;typeof g=="string"&&(y=g,i=e.convert(i,y),M=e.find(o,[y,y]));for(var F=[],O=[],j=[],z=0;z<_;z++){for(var W=z+1,J=p[z],G=p[z+1],Q=J;Q<G;Q++){var te=c[Q];O[te]=u[Q],j[te]=W}for(var ae=0;ae<b;ae++)z===0&&(F[ae]=[]),j[ae]===W?F[ae][z]=s?M(i,O[ae]):M(O[ae],i):F[ae][z]=i}return new t({data:F,size:[b,_],datatype:y})}}),dB="subtract",uQ=Tf(dB,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:o,DenseMatrix:s,concat:u}=n,c=e2({typed:e}),p=iQ({typed:e}),f=oQ({typed:e,equalScalar:r}),g=t2({typed:e,DenseMatrix:s}),y=nQ({typed:e,DenseMatrix:s}),b=Zz({typed:e,matrix:t,concat:u});return e(dB,{"any, any":i},b({elop:i,SS:f,DS:c,SD:p,Ss:y,sS:g}))}),vB="concat",lQ=Tf(vB,["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e(vB,{"...Array | Matrix | number | BigNumber":function(i){var o,s,u=i.length,c=-1,p=!1,f=[];for(o=0;o<u;o++){var g=i[o];if(k0(g)&&(p=!0),Gf(g)||Rp(g)){if(o!==u-1)throw new Error("Dimension must be specified as last argument");if(s=c,c=g.valueOf(),!r(c))throw new TypeError("Integer number expected for dimension");if(c<0||o>0&&c>s)throw new Uv(c,s+1)}else{var y=mp(g).valueOf(),b=Xm(y);if(f[o]=y,s=c,c=b.length-1,o>0&&c!==s)throw new Jc(s+1,c+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var _=f.shift();f.length;)_=qz(_,f.shift(),c);return p?t(_):_},"...string":function(i){return i.join("")}})}),cQ=Tf("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:s,concat:u}=n,c=e2({typed:e}),p=sQ({typed:e,equalScalar:i}),f=t2({typed:e,DenseMatrix:o}),g=Zz({typed:e,matrix:t,concat:u});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(y=>(b,_,M)=>{for(var F=y(b,_),O=0;O<M.length;O++)F=y(F,M[O]);return F})},g({elop:r,DS:c,SS:p,Ss:f}))}),fQ=$X({config:lI}),hQ=UX({}),pQ=HX({}),gI=VX({}),_E=KX({Matrix:gI}),q0=YJ({BigNumber:fQ,Complex:hQ,DenseMatrix:_E,Fraction:pQ}),gQ=eQ({typed:q0}),mI=JX({config:lI,typed:q0}),mQ=GX({typed:q0}),n2=XX({Matrix:gI,equalScalar:mI,typed:q0}),dQ=tQ({typed:q0}),vQ=ZX({typed:q0}),dI=QX({DenseMatrix:_E,Matrix:gI,SparseMatrix:n2,typed:q0}),r2=lQ({isInteger:mQ,matrix:dI,typed:q0}),i2=uQ({DenseMatrix:_E,concat:r2,equalScalar:mI,matrix:dI,subtractScalar:dQ,typed:q0,unaryMinus:vQ}),Fy=cQ({DenseMatrix:_E,SparseMatrix:n2,addScalar:gQ,concat:r2,equalScalar:mI,matrix:dI,typed:q0}),yQ=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),Object.defineProperty(e.prototype,"displayDimensions",{get:function(){var t,r;return[((t=this._root)===null||t===void 0?void 0:t.canvas.width)||0,((r=this._root)===null||r===void 0?void 0:r.canvas.height)||0]},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(e.prototype,"canvasDimensions",{get:function(){return this.context.workingCanvasDimensions},enumerable:!1,configurable:!0}),e.prototype.translate=function(t,r){var i=this.canvasDimensions,o=i[0],s=i[1],u=n0([],t.o),c=t.w,p=t.h,f=[u=Fy(u,r),Fy(u,[c,0]),Fy(u,[0,p]),Fy(u,[c,p])],g=Math.min.apply(Math,f.map(function(F){return F[0]})),y=Math.max.apply(Math,f.map(function(F){return F[0]})),b=Math.min.apply(Math,f.map(function(F){return F[1]})),_=Math.max.apply(Math,f.map(function(F){return F[1]})),M=[0,0];return g<0?M[0]=-g:y>o&&(M[0]=o-y),b<0?M[1]=-b:_>s&&(M[1]=s-_),n0([],u),u=Fy(u,M),new Xf(u,c,p)},e.prototype.withinBounds=function(t,r,i,o){return o===void 0&&(o=1e-10),t>=r-o&&t<=i+o},e.prototype.updateDimensions=function(t,r,i){this.setState(Iu(Iu({},this.state),{cameraBox:new Xf(t,r,i)})),this.checkBounds()},e.prototype.checkBounds=function(){var t,r,i,o=this.canvasDimensions,s=o[0],u=o[1];t=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,t[0]=Math.max(Math.min(t[0],s),0),t[1]=Math.max(Math.min(t[1],u),0),r=Math.max(Math.min(r,s-t[0]),0),i=Math.max(Math.min(i,u-t[1]),0),this.setState(Iu(Iu({},this.state),{cameraBox:new Xf(t,r,i)}))},e.prototype.onGlobalWindowChange=function(){},e.prototype.scale=function(t,r,i){var o,s,u,c=this.canvasDimensions,p=c[0],f=c[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");o=t.o;var g=p/(s=t.w),y=f/(u=t.h),b=Math.min(g,y),_=s*(r=[Math.min(r[0],b),Math.min(r[1],b)])[0],M=u*r[1],F=[i[0]-o[0],i[1]-o[1]],O=F[0],j=F[1],z=this.canvasUnit,W=z[0],J=z[1],G=[O*W,j*J],Q=G[0],te=G[1],ae=[O*r[0],j*r[1]],se=[ae[0]*W,ae[1]*J],ge=[Q-se[0],te-se[1]],xe=ge[0],Pe=ge[1],Ce=this.absoluteUnit,Me=[xe*Ce[0],Pe*Ce[1]],Oe=[o[0]+O*r[0],o[1]+j*r[1]];return i2(i,Oe),console.log(O,j),s=_,u=M,this.translate(new Xf(o,s,u),Me)},e.prototype.getCenter=function(){return Fy(this.o,[this.w/2,this.h/2])},e.prototype.getBox=function(){return this.state.cameraBox},e}(vd),wQ=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isInteractiveCamera=!0,t.layer=-100,t.scaleAnchor=[0,0],t}return Dh(e,n),e.prototype.windowDidMount=function(){var t=this;n.prototype.windowDidMount.call(this);var r=this.displayDimensions,i=r[0],o=r[1],s=this.canvasDimensions,u=s[0],c=s[1],p=new Xf([u/2-i/2,c/2-o/2],i,o);console.log(p);var f=this.translate(p,[0,0]);this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:f}),this.props.subscribeToCanvasResize(function(){var g=t.state.cameraBox.clone().o,y=t.state.cameraBox.w,b=t.state.cameraBox.h,_=t.displayDimensions,M=b*(_[0]/_[1]),F=M-y,O=t.translate(new Xf(g,M,b),[-F/2,0]);t.setState({cameraBox:O})})},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t,r){if(r.button===1){var i=t.terminateEvent,o=t.canvasPos;this.setState(Iu(Iu({},this.state),{lastMousePosition:o,isPanning:!0})),i()}},e.prototype.onMouseMove=function(t,r){var i=t.terminateEvent,o=t.canvasPos,s=t.absolutePos,u=t.canvasUnit,c=u[0],p=u[1],f=Iu({},this.state);if(this.scaleAnchor=s,this.state.isPanning){i();var g=i2(o,this.state.lastMousePosition),y=g[0],b=g[1],_=this.translate(this.state.cameraBox.clone(),[-y*c,-b*p]);f=Iu(Iu({},f),{lastMousePosition:o,cameraBox:_}),this.setState(f)}},e.prototype.onMouseUp=function(t,r){this.setState(Iu(Iu({},this.state),{isPanning:!1}))},e.prototype.onWheel=function(t,r){var i=t.terminateEvent,o=t.canvasToAbsoluteMeasure,s=r.deltaX,u=r.deltaY,c=r.ctrlKey,p=r.altKey;if(c){var f=1;if(f=s!==0?1+.01*s:1-.01*u,!p){if(this.w*f<50)return;var g=this.scale(this.state.cameraBox.clone(),[Math.max(.1,f),Math.max(.1,f)],this.scaleAnchor);this.setState(Iu(Iu({},this.state),{cameraBox:g}))}}else{var y=o([s,u]),b=y[0],_=y[1];g=this.translate(this.state.cameraBox.clone(),[b,_]),this.setState(Iu(Iu({},this.state),{cameraBox:g}))}i()},e.prototype.render=function(t){},e}(yQ),bQ=[1e4,1e4],xQ=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}return Dh(e,n),e.prototype.getBox=function(){var t=this.context.workingCanvasDimensions,r=t[0],i=t[1];return new Xf([r/2,i/2],0,0)},e.prototype.getChildren=function(){return this.props.objects},e.prototype.render=function(t){if(this.context.mode!=="view"){var r=t.ctx,i=t.absoluteO,o=i[0],s=i[1],u=[[o,s+13],[o,s-13],[o+13,s],[o-13,s]];r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(u[0][0],u[0][1]),r.lineTo(u[1][0],u[1][1]),r.moveTo(u[2][0],u[2][1]),r.lineTo(u[3][0],u[3][1]),r.stroke()}},e}(vd);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.windowDidMount=function(t){var r=this,i=this.props.controller;this.setContext("controller",i),this.setContext("project",i.getProject()),this.setContext("projectTools",i.projectTools),i.subscribeToProjectUpdates(function(){var o=i.getProject();r.setContext("project",o)}),this.setContext("workingCanvasDimensions",bQ),this.props.modeManager.subscribeToModeUpdates(function(o){r.setContext("mode",o)}),this.setContext("setMode",function(o){r.props.modeManager.setMode(o)})},e.prototype.getChildren=function(t){var r=[];r.push(wQ.Node({subscribeToCanvasResize:this.props.subscribeToCanvasResize}));var i={mode:this.props.mode};return r.push(xQ.Node({objects:this.props.getObjects(i)})),r},e})(vd);var Yx=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},DQ=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return Dh(e,n),e.prototype.getBox=function(){return new Xf([0,0],this.parentW,this.parentH)},e.prototype.render=function(t){this.strokeOutline(t,"green")},e}(vd),a0=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.evaluateSignal=function(t,r){var i=this.context.controller.interpolateSignalValueAtTime(t,r),o=i[0],s=i[1];return s.length>0&&console.error(s),o},Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=this.context.project.timelineData.playheadPosition;return t||0},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){return this.context.mode==="edit"||this.context.mode==="record"?[DQ.Node()]:[]},e.prototype.useSignal=function(t,r,i,o){return this.context.project.orgData.signalIds.findIndex(function(s){return s===t})===-1&&(r==="continuous"&&(this.context.projectTools.createSignal(t,r,t,i),this.context.projectTools.addPinContinuous(t,Yx(),this.context.project.timelineData.numberOfFrames,i[1],"return easyLinear();",!0)),r==="discrete"&&(this.context.projectTools.createSignal(t,r,t),this.context.projectTools.addPinDiscrete(t,Yx(),this.context.project.timelineData.numberOfFrames,"default",!0))),this.evaluateSignal(t,o||this.currentFrame)},e.prototype.setSignalValue=function(t,r,i,o,s){r==="continuous"&&this.context.projectTools.addPinContinuous(t,Yx(),o,i,"return easyLinear();",s),r==="discrete"&&this.context.projectTools.addPinDiscrete(t,Yx(),o,i,s)},e.prototype.setDiscreteSignalValue=function(t,r,i,o){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(s){return s===t})===-1&&this.context.projectTools.createSignal(t,"discrete",t),o=o||this.currentFrame,this.setSignalValue(t,"discrete",r,o,i)},e.prototype.setContinuousSignalValue=function(t,r,i,o,s){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(u){return u===t})===-1&&this.context.projectTools.createSignal(t,"continuous",t,o),s=s||this.currentFrame,this.setSignalValue(t,"continuous",r,s,i)},e.prototype.useContinuousSignal=function(t,r,i){return this.useSignal(t,"continuous",r,i)},e.prototype.useDiscreteSignal=function(t,r){return this.useSignal(t,"discrete",void 0,r)},e.prototype.render=function(t){this.context.mode==="edit"||this.context.mode;var r=Iu(Iu({},t),{useContinuousSignal:this.useContinuousSignal.bind(this),useDiscreteSignal:this.useDiscreteSignal.bind(this)});this.draw(r)},e.prototype.draw=function(t){},e}(vd),US=25;function Ev(n,e,t){return Math.min(Math.max(n,e),t)}var RM=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return Dh(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1];return new Xf(this.props.o,US*r,US*i)},e.prototype.render=function(t){var r=this.context.mode,i=this.absoluteUnit,o=i[0],s=i[1],u=t.absoluteO,c=u[0],p=u[1],f=[c+this.w/2*o,p+this.h/2*s],g=f[0],y=f[1];t.ctx.globalAlpha=this.props.alpha?this.props.alpha:1,t.ctx.beginPath(),t.ctx.ellipse(g,y,this.w/2*o,this.h/2*s,0,0,2*Math.PI),this.props.color?t.ctx.strokeStyle=this.props.color:t.ctx.strokeStyle=r==="edit"?"green":this.props.dragging?"red":"pink",t.ctx.lineWidth=2,t.ctx.stroke(),t.ctx.beginPath(),t.ctx.moveTo(g-this.w/2*o,y),t.ctx.lineTo(g+this.w/2*o,y),t.ctx.moveTo(g,y-this.h/2*s),t.ctx.lineTo(g,y+this.h/2*s),t.ctx.stroke(),t.ctx.globalAlpha=1},e}(a0),CQ=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.windowDidMount=function(t){this.setState({dragging:!1})},e.prototype.getChildren=function(t){return[RM.Node({o:[0,0],dragging:this.state.dragging,anchor:this.props.anchor})]},e.prototype.getBox=function(t){var r=this.canvasUnit,i=r[0],o=r[1];return new Xf([-12.5*i,-12.5*o],US*i,US*o)},e.prototype.onMouseDown=function(t,r){t.pointInside&&this.context.mode==="record"&&this.setState({dragging:!0})},e.prototype.chooseSetSignalValueFunction=function(t,r,i){var o=this.props.topProps.type,s=r.angle,u=r.magnitude,c=r.vector,p=r.range,f=r.rangeX,g=r.rangeY;switch(s=s&&Number(s.toFixed(2)),u=u&&Number(u.toFixed(2)),c=c&&c.map(function(j){return Number(j.toFixed(2))}),this.props.topProps.degreesOfFreedom){case"1-angular":if(o==="discrete")this.setDiscreteSignalValue(t,JSON.stringify({angle:s}),i);else{var y=p[0],b=p[1];this.setContinuousSignalValue(t,Ev(s,y,b),i,p)}break;case"1-normal":o==="discrete"?this.setDiscreteSignalValue(t,JSON.stringify({magnitude:u}),i):(y=p[0],b=p[1],this.setContinuousSignalValue(t,Ev(u,y,b),i,p));break;case"2-cartesian":if(o==="discrete")this.setDiscreteSignalValue(t,JSON.stringify({vector:c}),i);else{var _=f[0],M=f[1],F=g[0],O=g[1];this.setContinuousSignalValue(t+"_x",Ev(c[0],_,M),i,f),this.setContinuousSignalValue(t+"_y",Ev(c[1],F,O),i,g)}}},e.prototype.moveHandle=function(t,r){var i;this.context.projectTools.returnToLastCommit();var o={};switch(this.props.topProps.degreesOfFreedom){case"1-angular":var s=this.props.anchor,u=s[0],c=s[1],p=t.absolutePos,f=p[0]-u,g=p[1]-c;o={angle:Math.atan2(g,f),range:[-Math.PI,Math.PI]};break;case"1-normal":var y=Yd(t.absolutePos,this.props.anchor);if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var b=this.props.topProps.initialDirection,_=aJ(y,Jd(b,1/Pb(b))),M=Jd(b,_);if(!(z=this.props.topProps.range))throw new Error("Range not defined for 1-normal handle");o={magnitude:Ev(Math.sign(_)*Pb(M),z[0],z[1]),range:z};break;case"2-cartesian":var F=Yd(t.absolutePos,this.props.anchor),O=(f=F[0],g=F[1],this.props.topProps.rangeX),j=this.props.topProps.rangeY;if(!O||!j){var z;if(!(z=this.props.topProps.range))throw new Error("Range not defined for 2-cartesian handle");O=z,j=z}o={vector:[f=(i=[Ev(f,O[0],O[1]),Ev(g,j[0],j[1])])[0],g=i[1]],rangeX:O,rangeY:j}}this.chooseSetSignalValueFunction(this.props.topProps.id,o,r),this.context.projectTools.pushUpdate()},e.prototype.onMouseMove=function(t,r){this.state.dragging&&this.moveHandle(t,!1)},e.prototype.onMouseUp=function(t,r){this.state.dragging&&(this.moveHandle(t,!0),this.setState({dragging:!1}))},e.prototype.render=function(t){},e}(a0),SQ=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(t){var r=this.getOnionSkinCrosshairPositions(),i=r[0],o=r[1],s=this.canvasUnit,u=[12.5*s[0],12.5*s[1]];return[RM.Node({o:Yd(i,u),alpha:.5,color:"#d0e681",anchor:this.props.anchor}),RM.Node({o:Yd(o,u),alpha:.5,color:"#77d4cd",anchor:this.props.anchor})]},e.prototype.getPreviousNextPinValues=function(){var t,r,i=this,o=this.props.topProps.id,s=Object.entries(this.context.project.signalData[o].pinTimes).sort(function(b,_){return b[1]-_[1]}),u=(t=s.find(function(b){return b[0],b[1]>=i.context.project.timelineData.playheadPosition}))===null||t===void 0?void 0:t[0],c=s.findIndex(function(b){var _=b[0];return b[1],_===u});try{r=JSON.parse(this.useDiscreteSignal(o,this.context.project.timelineData.playheadPosition))}catch{r={angle:0,magnitude:0,vector:[0,0]}}var p=c>0,f=c<s.length-1,g=r,y=r;if(p)try{g=JSON.parse(this.context.project.signalData[o].pinValues[s[c-1][0]])}catch{}if(f)try{y=JSON.parse(this.context.project.signalData[o].pinValues[s[c+1][0]])}catch{}return[g,y]},e.prototype.getOnionSkinCrosshairPositions=function(){var t,r,i=this.getPreviousNextPinValues(),o=i[0],s=i[1],u=o.magnitude,c=o.angle,p=o.vector,f=s.magnitude,g=s.angle,y=s.vector;switch(this.props.topProps.degreesOfFreedom){case"1-angular":if(!this.props.topProps.initialLength)throw new Error("Initial length not defined for 1-angular handle");var b=this.props.initialLength;t=[b*Math.cos(c),b*Math.sin(c)],r=[b*Math.cos(g),b*Math.sin(g)];break;case"1-normal":if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var _=Jd(this.props.topProps.initialDirection,1/Pb(this.props.topProps.initialDirection)),M=_[0],F=_[1];t=Jd([M,F],u),r=Jd([M,F],f);break;case"2-cartesian":t=p,r=y;break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}var O=Yd(this.parentO,this.props.anchor);return[t=zv(t,O),r=zv(r,O)]},e}(a0),_Q=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(t){var r=this.props.children?n0([],this.props.children):[],i={id:this.props.id,topProps:this.props,anchor:this.parentO},o=CQ.Node(i);return r.push(o),r},e.prototype.retrieveSignalValue=function(t){if(this.props.type==="discrete"){var r=this.useDiscreteSignal(t,this.context.project.timelineData.playheadPosition),i={angle:0,magnitude:0,vector:[0,0]};try{i=JSON.parse(r)}catch{}switch(this.props.degreesOfFreedom){case"1-angular":return i.angle;case"1-normal":return i.magnitude;case"2-cartesian":return i.vector;default:throw new Error("Degrees of freedom not defined for VectorHandle")}}else switch(this.props.degreesOfFreedom){case"1-angular":return this.useContinuousSignal(t,[-Math.PI,Math.PI]);case"1-normal":return this.useContinuousSignal(t,this.props.range);case"2-cartesian":var o=this.props.rangeX,s=this.props.rangeY;if(!o||!s){var u=this.props.range;if(!u)throw new Error("Range not defined for 2-cartesian handle");o=u,s=u}return[this.useContinuousSignal(t+"_x",o),this.useContinuousSignal(t+"_y",s)];default:throw new Error("Degrees of freedom not defined for VectorHandle")}},e.prototype.getBox=function(){var t,r,i,o,s;switch(this.props.degreesOfFreedom){case"1-angular":var u=this.retrieveSignalValue(this.props.id);if(!this.props.initialLength)throw new Error("Initial length not defined for 1-angular handle");var c=this.props.initialLength;o=(t=[c*Math.cos(u),c*Math.sin(u)])[0],s=t[1];break;case"1-normal":var p=this.retrieveSignalValue(this.props.id);if(!this.props.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var f=Jd(this.props.initialDirection,1/Pb(this.props.initialDirection));o=(r=[f[0]*p,f[1]*p])[0],s=r[1];break;case"2-cartesian":o=(i=this.retrieveSignalValue(this.props.id))[0],s=i[1];break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}return new Xf([o,s],0,0)},e.prototype.render=function(t){var r=this.context.mode;if(r==="edit"||r==="record"){var i=t.absoluteO,o=i[0],s=i[1],u=this.absoluteUnit,c=u[0],p=u[1],f=[o+this.w/2*c,s+this.h/2*p],g=f[0],y=f[1];if(this.props.displayLine){t.ctx.beginPath(),t.ctx.strokeStyle="green",t.ctx.lineWidth=2,t.ctx.setLineDash([3,1]);var b=t.localToCanvas(Jd(this.o,-1)),_=b[0],M=b[1];t.ctx.moveTo(_,M),t.ctx.lineTo(g,y),t.ctx.stroke()}if(this.props.displayCircle){t.ctx.beginPath(),t.ctx.strokeStyle="green",t.ctx.lineWidth=2,t.ctx.setLineDash([3,1]);var F=Pb(this.o),O=t.localToCanvas(Jd(this.o,-1));_=O[0],M=O[1],t.ctx.ellipse(_,M,F*c,F*p,0,0,2*Math.PI),t.ctx.stroke()}t.ctx.setLineDash([]),t.ctx.font="20px Arial",t.ctx.fillStyle=r==="edit"?"green":"pink",t.ctx.fillText(this.props.id,g,y-17)}},e}(a0),vI=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(_Q.Node(this.props)),this.props.onionSkin&&r.push(SQ.Node({id:this.props.id,topProps:this.props,anchor:this.parentO})),r},e}(a0);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(vI.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"2-cartesian",rangeX:t.rangeX,rangeY:t.rangeY,range:t.range,children:t.children,displayLine:t.displayLine,onionSkin:t.onionSkin})),r},e})(vd);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(vI.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"1-angular",children:t.children,initialLength:t.initialLength,displayCircle:t.displayCircle,onionSkin:t.onionSkin})),r},e})(vd);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(vI.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"1-normal",initialDirection:t.initialDirection,range:t.range,children:t.children,displayLine:t.displayLine,onionSkin:t.onionSkin})),r},e})(vd);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getChildren=function(){var t=this,r={continuous:this.useContinuousSignal.bind(this),discrete:this.useDiscreteSignal.bind(this),frame:function(){return t.currentFrame},project:function(){return t.context.project},setDiscreteSignal:function(i,o,s){return t.setDiscreteSignalValue(i,o,!0,s)},setContinuousSignal:function(i,o,s,u){return t.setContinuousSignalValue(i,o,!0,u,s)}};return this.props.getChildren(r)},e})(a0);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){return new Xf([this.props.x,this.props.y],this.props.w,this.props.h)},e.prototype.draw=function(t){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){t.ctx.save();var i=t.absoluteO,o=i[0],s=i[1];t.ctx.translate(o,s);var u=t.ctx;this.absoluteToCanvasMeasure;var c=this.absoluteUnit,p=c[0],f=c[1],g={moveTo:function(b,_){u.moveTo(b*p,_*f)},lineTo:function(b,_){u.lineTo(b*p,_*f)},arc:function(b,_,M,F,O,j){u.arc(b*p,_*f,M*p,F,O,j)},fillRect:function(b,_,M,F){u.fillRect(b*p,_*f,M*p,F*f)},strokeRect:function(b,_,M,F){u.strokeRect(b*p,_*f,M*p,F*f)},fillText:function(b,_,M){u.fillText(b,_*p,M*f)},strokeText:function(b,_,M){u.strokeText(b,_*p,M*f)},arcTo:function(b,_,M,F,O){u.arcTo(b*p,_*f,M*p,F*f,O*p)},bezierCurveTo:function(b,_,M,F,O,j){u.bezierCurveTo(b*p,_*f,M*p,F*f,O*p,j*f)},quadraticCurveTo:function(b,_,M,F){u.quadraticCurveTo(b*p,_*f,M*p,F*f)},rect:function(b,_,M,F){u.rect(b*p,_*f,M*p,F*f)},clearRect:function(b,_,M,F){u.clearRect(b*p,_*f,M*p,F*f)},translate:function(b,_){u.translate(b*p,_*f)},transform:function(b,_,M,F,O,j){u.transform(b,_,M,F,O*p,j*f)},setTransform:function(b,_,M,F,O,j){u.setTransform(b,_,M,F,O*p,j*f)},createRadialGradient:function(b,_,M,F,O,j){return u.createRadialGradient(b*p,_*f,M*p,F*p,O*f,j*p)}},y=new Proxy(t.ctx,{get:function(b,_){if(_ in g)return g[_];var M=Reflect.get(b,_);return typeof M=="function"?M.bind(b):M},set:function(b,_,M){return Reflect.set(b,_,M)}});y.beginPath(),y.rect(0,0,this.props.w,this.props.h),y.clip(),this.props.draw(y),t.ctx.restore()}},e})(a0);(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.globalPositioning=!0,t}return Dh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){var t=this.context.workingCanvasDimensions[0],r=this.context.workingCanvasDimensions[1];return new Xf([0,0],t,r)},e.prototype.draw=function(t){var r=this.context.mode;this.props.modes&&!this.props.modes.includes(r)||this.props.draw(t.ctx)},e})(a0);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.getBox=function(){return new Xf([this.props.x,this.props.y],this.props.w,this.props.h)},e.prototype.getChildren=function(){return this.props.children},e})(a0);(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._img=null,t}return Dh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){return new Xf([this.props.x,this.props.y],this.props.w,this.props.h)},Object.defineProperty(e.prototype,"img",{get:function(){var t=this;if(!this._img){var r=new Image;return r.src=this.props.src,r.onload=function(){t._img=r},r}return this._img},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){t.ctx.save();var i=t.absoluteO,o=i[0],s=i[1],u=this.absoluteUnit,c=u[0],p=u[1];t.ctx.translate(o,s),t.ctx.drawImage(this.img,0,0,this.props.w*c,this.props.h*p),t.ctx.restore()}},e})(a0);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Dh(e,n),e.prototype.windowDidMount=function(t){this.props.onMount()},e})(vd);(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSceneCamera=!0,t}return Dh(e,n),e.prototype.getChildren=function(){return this.props.children},e.prototype.getBox=function(){return new Xf([this.props.x||0,this.props.y||0],this.props.w||500,this.props.h||500)},e.prototype.render=function(t){this.strokeOutline(t,"white")},e})(a0);var jM=function(n,e){return jM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},jM(n,e)};function Ki(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}jM(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qs=function(){return Qs=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qs.apply(this,arguments)};function jg(n,e,t){if(t||arguments.length===2)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var Jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EQ(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var yB,wB={exports:{}},Dg={},bB={exports:{}},xB={},DB,CB;function AQ(){return DB||(DB=1,bB.exports=function(){return yB||(yB=1,function(e){function t(Fe,Ne){var Ee=Fe.length;Fe.push(Ne);e:for(;0<Ee;){var Ze=Ee-1>>>1,xt=Fe[Ze];if(!(0<o(xt,Ne)))break e;Fe[Ze]=Ne,Fe[Ee]=xt,Ee=Ze}}function r(Fe){return Fe.length===0?null:Fe[0]}function i(Fe){if(Fe.length===0)return null;var Ne=Fe[0],Ee=Fe.pop();if(Ee!==Ne){Fe[0]=Ee;e:for(var Ze=0,xt=Fe.length,wt=xt>>>1;Ze<wt;){var Dt=2*(Ze+1)-1,rn=Fe[Dt],an=Dt+1,un=Fe[an];if(0>o(rn,Ee))an<xt&&0>o(un,rn)?(Fe[Ze]=un,Fe[an]=Ee,Ze=an):(Fe[Ze]=rn,Fe[Dt]=Ee,Ze=Dt);else{if(!(an<xt&&0>o(un,Ee)))break e;Fe[Ze]=un,Fe[an]=Ee,Ze=an}}}return Ne}function o(Fe,Ne){var Ee=Fe.sortIndex-Ne.sortIndex;return Ee!==0?Ee:Fe.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var p=[],f=[],g=1,y=null,b=3,_=!1,M=!1,F=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function W(Fe){for(var Ne=r(f);Ne!==null;){if(Ne.callback===null)i(f);else{if(!(Ne.startTime<=Fe))break;i(f),Ne.sortIndex=Ne.expirationTime,t(p,Ne)}Ne=r(f)}}function J(Fe){if(F=!1,W(Fe),!M)if(r(p)!==null)M=!0,et(G);else{var Ne=r(f);Ne!==null&&$e(J,Ne.startTime-Fe)}}function G(Fe,Ne){M=!1,F&&(F=!1,j(se),se=-1),_=!0;var Ee=b;try{for(W(Ne),y=r(p);y!==null&&(!(y.expirationTime>Ne)||Fe&&!Pe());){var Ze=y.callback;if(typeof Ze=="function"){y.callback=null,b=y.priorityLevel;var xt=Ze(y.expirationTime<=Ne);Ne=e.unstable_now(),typeof xt=="function"?y.callback=xt:y===r(p)&&i(p),W(Ne)}else i(p);y=r(p)}if(y!==null)var wt=!0;else{var Dt=r(f);Dt!==null&&$e(J,Dt.startTime-Ne),wt=!1}return wt}finally{y=null,b=Ee,_=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Q,te=!1,ae=null,se=-1,ge=5,xe=-1;function Pe(){return!(e.unstable_now()-xe<ge)}function Ce(){if(ae!==null){var Fe=e.unstable_now();xe=Fe;var Ne=!0;try{Ne=ae(!0,Fe)}finally{Ne?Q():(te=!1,ae=null)}}else te=!1}if(typeof z=="function")Q=function(){z(Ce)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Oe=Me.port2;Me.port1.onmessage=Ce,Q=function(){Oe.postMessage(null)}}else Q=function(){O(Ce,0)};function et(Fe){ae=Fe,te||(te=!0,Q())}function $e(Fe,Ne){se=O(function(){Fe(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Fe){Fe.callback=null},e.unstable_continueExecution=function(){M||_||(M=!0,et(G))},e.unstable_forceFrameRate=function(Fe){0>Fe||125<Fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<Fe?Math.floor(1e3/Fe):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(Fe){switch(b){case 1:case 2:case 3:var Ne=3;break;default:Ne=b}var Ee=b;b=Ne;try{return Fe()}finally{b=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Fe,Ne){switch(Fe){case 1:case 2:case 3:case 4:case 5:break;default:Fe=3}var Ee=b;b=Fe;try{return Ne()}finally{b=Ee}},e.unstable_scheduleCallback=function(Fe,Ne,Ee){var Ze=e.unstable_now();switch(Ee=typeof Ee=="object"&&Ee!==null&&typeof(Ee=Ee.delay)=="number"&&0<Ee?Ze+Ee:Ze,Fe){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return Fe={id:g++,callback:Ne,priorityLevel:Fe,startTime:Ee,expirationTime:xt=Ee+xt,sortIndex:-1},Ee>Ze?(Fe.sortIndex=Ee,t(f,Fe),r(p)===null&&Fe===r(f)&&(F?(j(se),se=-1):F=!0,$e(J,Ee-Ze))):(Fe.sortIndex=xt,t(p,Fe),M||_||(M=!0,et(G))),Fe},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(Fe){var Ne=b;return function(){var Ee=b;b=Ne;try{return Fe.apply(this,arguments)}finally{b=Ee}}}}(xB)),xB}()),bB.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function kQ(){if(CB)return Dg;CB=1;var n=qi,e=AQ();function t(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)d+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(h,d){s(h,d),s(h+"Capture",d)}function s(h,d){for(i[h]=d,h=0;h<d.length;h++)r.add(d[h])}var u=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),c=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function y(h,d,S,T,$,q,X){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=$,this.mustUseProperty=S,this.propertyName=h,this.type=d,this.sanitizeURL=q,this.removeEmptyString=X}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var d=h[0];b[d]=new y(d,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function M(h){return h[1].toUpperCase()}function F(h,d,S,T){var $=b.hasOwnProperty(d)?b[d]:null;($!==null?$.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(function(X,le,pe,_e){if(le==null||function(qe,Je,it,yt){if(it!==null&&it.type===0)return!1;switch(typeof Je){case"function":case"symbol":return!0;case"boolean":return!yt&&(it!==null?!it.acceptsBooleans:(qe=qe.toLowerCase().slice(0,5))!=="data-"&&qe!=="aria-");default:return!1}}(X,le,pe,_e))return!0;if(_e)return!1;if(pe!==null)switch(pe.type){case 3:return!le;case 4:return le===!1;case 5:return isNaN(le);case 6:return isNaN(le)||1>le}return!1}(d,S,$,T)&&(S=null),T||$===null?function(X){return!!c.call(g,X)||!c.call(f,X)&&(p.test(X)?g[X]=!0:(f[X]=!0,!1))}(d)&&(S===null?h.removeAttribute(d):h.setAttribute(d,""+S)):$.mustUseProperty?h[$.propertyName]=S===null?$.type!==3&&"":S:(d=$.attributeName,T=$.attributeNamespace,S===null?h.removeAttribute(d):(S=($=$.type)===3||$===4&&S===!0?"":""+S,T?h.setAttributeNS(T,d,S):h.setAttribute(d,S))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var d=h.replace(_,M);b[d]=new y(d,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var d=h.replace(_,M);b[d]=new y(d,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var d=h.replace(_,M);b[d]=new y(d,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),te=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Me=Symbol.iterator;function Oe(h){return h===null||typeof h!="object"?null:typeof(h=Me&&h[Me]||h["@@iterator"])=="function"?h:null}var et,$e=Object.assign;function Fe(h){if(et===void 0)try{throw Error()}catch(S){var d=S.stack.trim().match(/\n( *(at )?)/);et=d&&d[1]||""}return`
`+et+h}var Ne=!1;function Ee(h,d){if(!h||Ne)return"";Ne=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(_e){var T=_e}Reflect.construct(h,[],d)}else{try{d.call()}catch(_e){T=_e}h.call(d.prototype)}else{try{throw Error()}catch(_e){T=_e}h()}}catch(_e){if(_e&&T&&typeof _e.stack=="string"){for(var $=_e.stack.split(`
`),q=T.stack.split(`
`),X=$.length-1,le=q.length-1;1<=X&&0<=le&&$[X]!==q[le];)le--;for(;1<=X&&0<=le;X--,le--)if($[X]!==q[le]){if(X!==1||le!==1)do if(X--,0>--le||$[X]!==q[le]){var pe=`
`+$[X].replace(" at new "," at ");return h.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",h.displayName)),pe}while(1<=X&&0<=le);break}}}finally{Ne=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Fe(h):""}function Ze(h){switch(h.tag){case 5:return Fe(h.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return h=Ee(h.type,!1);case 11:return h=Ee(h.type.render,!1);case 1:return h=Ee(h.type,!0);default:return""}}function xt(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case W:return"Fragment";case z:return"Portal";case G:return"Profiler";case J:return"StrictMode";case se:return"Suspense";case ge:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case te:return(h.displayName||"Context")+".Consumer";case Q:return(h._context.displayName||"Context")+".Provider";case ae:var d=h.render;return(h=h.displayName)||(h=(h=d.displayName||d.name||"")!==""?"ForwardRef("+h+")":"ForwardRef"),h;case xe:return(d=h.displayName||null)!==null?d:xt(h.type)||"Memo";case Pe:d=h._payload,h=h._init;try{return xt(h(d))}catch{}}return null}function wt(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=(h=d.render).displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xt(d);case 8:return d===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Dt(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":case"object":return h;default:return""}}function rn(h){var d=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function an(h){h._valueTracker||(h._valueTracker=function(S){var T=rn(S)?"checked":"value",$=Object.getOwnPropertyDescriptor(S.constructor.prototype,T),q=""+S[T];if(!S.hasOwnProperty(T)&&$!==void 0&&typeof $.get=="function"&&typeof $.set=="function"){var X=$.get,le=$.set;return Object.defineProperty(S,T,{configurable:!0,get:function(){return X.call(this)},set:function(pe){q=""+pe,le.call(this,pe)}}),Object.defineProperty(S,T,{enumerable:$.enumerable}),{getValue:function(){return q},setValue:function(pe){q=""+pe},stopTracking:function(){S._valueTracker=null,delete S[T]}}}}(h))}function un(h){if(!h)return!1;var d=h._valueTracker;if(!d)return!0;var S=d.getValue(),T="";return h&&(T=rn(h)?h.checked?"true":"false":h.value),(h=T)!==S&&(d.setValue(h),!0)}function ur(h){if((h=h||(typeof document<"u"?document:void 0))===void 0)return null;try{return h.activeElement||h.body}catch{return h.body}}function Fn(h,d){var S=d.checked;return $e({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??h._wrapperState.initialChecked})}function wi(h,d){var S=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;S=Dt(d.value!=null?d.value:S),h._wrapperState={initialChecked:T,initialValue:S,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function js(h,d){(d=d.checked)!=null&&F(h,"checked",d,!1)}function $a(h,d){js(h,d);var S=Dt(d.value),T=d.type;if(S!=null)T==="number"?(S===0&&h.value===""||h.value!=S)&&(h.value=""+S):h.value!==""+S&&(h.value=""+S);else if(T==="submit"||T==="reset")return void h.removeAttribute("value");d.hasOwnProperty("value")?ue(h,d.type,S):d.hasOwnProperty("defaultValue")&&ue(h,d.type,Dt(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(h.defaultChecked=!!d.defaultChecked)}function fe(h,d,S){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+h._wrapperState.initialValue,S||d===h.value||(h.value=d),h.defaultValue=d}(S=h.name)!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,S!==""&&(h.name=S)}function ue(h,d,S){d==="number"&&ur(h.ownerDocument)===h||(S==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+S&&(h.defaultValue=""+S))}var ve=Array.isArray;function Se(h,d,S,T){if(h=h.options,d){d={};for(var $=0;$<S.length;$++)d["$"+S[$]]=!0;for(S=0;S<h.length;S++)$=d.hasOwnProperty("$"+h[S].value),h[S].selected!==$&&(h[S].selected=$),$&&T&&(h[S].defaultSelected=!0)}else{for(S=""+Dt(S),d=null,$=0;$<h.length;$++){if(h[$].value===S)return h[$].selected=!0,void(T&&(h[$].defaultSelected=!0));d!==null||h[$].disabled||(d=h[$])}d!==null&&(d.selected=!0)}}function Re(h,d){if(d.dangerouslySetInnerHTML!=null)throw Error(t(91));return $e({},d,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Be(h,d){var S=d.value;if(S==null){if(S=d.children,d=d.defaultValue,S!=null){if(d!=null)throw Error(t(92));if(ve(S)){if(1<S.length)throw Error(t(93));S=S[0]}d=S}d==null&&(d=""),S=d}h._wrapperState={initialValue:Dt(S)}}function He(h,d){var S=Dt(d.value),T=Dt(d.defaultValue);S!=null&&((S=""+S)!==h.value&&(h.value=S),d.defaultValue==null&&h.defaultValue!==S&&(h.defaultValue=S)),T!=null&&(h.defaultValue=""+T)}function We(h){var d=h.textContent;d===h._wrapperState.initialValue&&d!==""&&d!==null&&(h.value=d)}function ot(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(h,d){return h==null||h==="http://www.w3.org/1999/xhtml"?ot(d):h==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var bt,fn=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,S,T,$){MSApp.execUnsafeLocalFunction(function(){return h(d,S)})}:h}(function(h,d){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=d;else{for((bt=bt||document.createElement("div")).innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=bt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;d.firstChild;)h.appendChild(d.firstChild)}});function kn(h,d){if(d){var S=h.firstChild;if(S&&S===h.lastChild&&S.nodeType===3)return void(S.nodeValue=d)}h.textContent=d}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];function Ui(h,d,S){return d==null||typeof d=="boolean"||d===""?"":S||typeof d!="number"||d===0||yn.hasOwnProperty(h)&&yn[h]?(""+d).trim():d+"px"}function io(h,d){for(var S in h=h.style,d)if(d.hasOwnProperty(S)){var T=S.indexOf("--")===0,$=Ui(S,d[S],T);S==="float"&&(S="cssFloat"),T?h.setProperty(S,$):h[S]=$}}Object.keys(yn).forEach(function(h){At.forEach(function(d){d=d+h.charAt(0).toUpperCase()+h.substring(1),yn[d]=yn[h]})});var bo=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(h,d){if(d){if(bo[h]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(t(137,h));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(t(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61))}if(d.style!=null&&typeof d.style!="object")throw Error(t(62))}}function Oo(h,d){if(h.indexOf("-")===-1)return typeof d.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function fa(h){return(h=h.target||h.srcElement||window).correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ju=null,eu=null,hs=null;function uu(h){if(h=as(h)){if(typeof ju!="function")throw Error(t(280));var d=h.stateNode;d&&(d=Ci(d),ju(h.stateNode,h.type,d))}}function zl(h){eu?hs?hs.push(h):hs=[h]:eu=h}function Ss(){if(eu){var h=eu,d=hs;if(hs=eu=null,uu(h),d)for(h=0;h<d.length;h++)uu(d[h])}}function Dl(h,d){return h(d)}function Cl(){}var Qa=!1;function Ul(h,d,S){if(Qa)return h(d,S);Qa=!0;try{return Dl(h,d,S)}finally{Qa=!1,(eu!==null||hs!==null)&&(Cl(),Ss())}}function rl(h,d){var S=h.stateNode;if(S===null)return null;var T=Ci(S);if(T===null)return null;S=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(T=!((h=h.type)==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(S&&typeof S!="function")throw Error(t(231,d,typeof S));return S}var Gu=!1;if(u)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Gu=!1}function Sl(h,d,S,T,$,q,X,le,pe){var _e=Array.prototype.slice.call(arguments,3);try{d.apply(S,_e)}catch(Ve){this.onError(Ve)}}var _s=!1,xa=null,za=!1,Jo=null,il={onError:function(h){_s=!0,xa=h}};function ol(h,d,S,T,$,q,X,le,pe){_s=!1,xa=null,Sl.apply(il,arguments)}function Ua(h){var d=h,S=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do 4098&(d=h).flags&&(S=d.return),h=d.return;while(h)}return d.tag===3?S:null}function lu(h){if(h.tag===13){var d=h.memoizedState;if(d===null&&(h=h.alternate)!==null&&(d=h.memoizedState),d!==null)return d.dehydrated}return null}function al(h){if(Ua(h)!==h)throw Error(t(188))}function sl(h){return h=function(S){var T=S.alternate;if(!T){if((T=Ua(S))===null)throw Error(t(188));return T!==S?null:S}for(var $=S,q=T;;){var X=$.return;if(X===null)break;var le=X.alternate;if(le===null){if((q=X.return)!==null){$=q;continue}break}if(X.child===le.child){for(le=X.child;le;){if(le===$)return al(X),S;if(le===q)return al(X),T;le=le.sibling}throw Error(t(188))}if($.return!==q.return)$=X,q=le;else{for(var pe=!1,_e=X.child;_e;){if(_e===$){pe=!0,$=X,q=le;break}if(_e===q){pe=!0,q=X,$=le;break}_e=_e.sibling}if(!pe){for(_e=le.child;_e;){if(_e===$){pe=!0,$=le,q=X;break}if(_e===q){pe=!0,q=le,$=X;break}_e=_e.sibling}if(!pe)throw Error(t(189))}}if($.alternate!==q)throw Error(t(190))}if($.tag!==3)throw Error(t(188));return $.stateNode.current===$?S:T}(h),h!==null?tu(h):null}function tu(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=tu(h);if(d!==null)return d;h=h.sibling}return null}var cu=e.unstable_scheduleCallback,_l=e.unstable_cancelCallback,Pi=e.unstable_shouldYield,Lu=e.unstable_requestPaint,Br=e.unstable_now,ha=e.unstable_getCurrentPriorityLevel,gn=e.unstable_ImmediatePriority,na=e.unstable_UserBlockingPriority,Sc=e.unstable_NormalPriority,El=e.unstable_LowPriority,No=e.unstable_IdlePriority,Qt=null,jt=null,fu=Math.clz32?Math.clz32:function(d){return d>>>=0,d===0?32:31-(Ph(d)/Es|0)|0},Ph=Math.log,Es=Math.LN2,Bo=64,Nf=4194304;function Bt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&h;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&h;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rr(h,d){var S=h.pendingLanes;if(S===0)return 0;var T=0,$=h.suspendedLanes,q=h.pingedLanes,X=268435455&S;if(X!==0){var le=X&~$;le!==0?T=Bt(le):(q&=X)!==0&&(T=Bt(q))}else(X=S&~$)!==0?T=Bt(X):q!==0&&(T=Bt(q));if(T===0)return 0;if(d!==0&&d!==T&&!(d&$)&&(($=T&-T)>=(q=d&-d)||$===16&&4194240&q))return d;if(4&T&&(T|=16&S),(d=h.entangledLanes)!==0)for(h=h.entanglements,d&=T;0<d;)$=1<<(S=31-fu(d)),T|=h[S],d&=~$;return T}function Mo(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;default:return-1}}function df(h){return(h=-1073741825&h.pendingLanes)!==0?h:1073741824&h?1073741824:0}function Za(){var h=Bo;return!(4194240&(Bo<<=1))&&(Bo=64),h}function Rr(h){for(var d=[],S=0;31>S;S++)d.push(h);return d}function hu(h,d,S){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),(h=h.eventTimes)[d=31-fu(d)]=S}function Ei(h,d){var S=h.entangledLanes|=d;for(h=h.entanglements;S;){var T=31-fu(S),$=1<<T;$&d|h[T]&d&&(h[T]|=d),S&=~$}}var Hn=0;function Xo(h){return 1<(h&=-h)?4<h?268435455&h?16:536870912:4:1}var af,cc,Rn,Qf,jr,Nc=!1,As=[],mi=null,Jn=null,ri=null,nn=new Map,Xn=new Map,es=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jr(h,d){switch(h){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":nn.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(d.pointerId)}}function $s(h,d,S,T,$,q){return h===null||h.nativeEvent!==q?(h={blockedOn:d,domEventName:S,eventSystemFlags:T,nativeEvent:q,targetContainers:[$]},d!==null&&(d=as(d))!==null&&cc(d),h):(h.eventSystemFlags|=T,d=h.targetContainers,$!==null&&d.indexOf($)===-1&&d.push($),h)}function Wl(h){var d=Xr(h.target);if(d!==null){var S=Ua(d);if(S!==null){if((d=S.tag)===13){if((d=lu(S))!==null)return h.blockedOn=d,void jr(h.priority,function(){Rn(S)})}else if(d===3&&S.stateNode.current.memoizedState.isDehydrated)return void(h.blockedOn=S.tag===3?S.stateNode.containerInfo:null)}}h.blockedOn=null}function Wn(h){if(h.blockedOn!==null)return!1;for(var d=h.targetContainers;0<d.length;){var S=vr(h.domEventName,h.eventSystemFlags,d[0],h.nativeEvent);if(S!==null)return(d=as(S))!==null&&cc(d),h.blockedOn=S,!1;var T=new(S=h.nativeEvent).constructor(S.type,S);Ru=T,S.target.dispatchEvent(T),Ru=null,d.shift()}return!0}function bi(h,d,S){Wn(h)&&S.delete(d)}function Bc(){Nc=!1,mi!==null&&Wn(mi)&&(mi=null),Jn!==null&&Wn(Jn)&&(Jn=null),ri!==null&&Wn(ri)&&(ri=null),nn.forEach(bi),Xn.forEach(bi)}function ul(h,d){h.blockedOn===d&&(h.blockedOn=null,Nc||(Nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bc)))}function zs(h){function d($){return ul($,h)}if(0<As.length){ul(As[0],h);for(var S=1;S<As.length;S++){var T=As[S];T.blockedOn===h&&(T.blockedOn=null)}}for(mi!==null&&ul(mi,h),Jn!==null&&ul(Jn,h),ri!==null&&ul(ri,h),nn.forEach(d),Xn.forEach(d),S=0;S<es.length;S++)(T=es[S]).blockedOn===h&&(T.blockedOn=null);for(;0<es.length&&(S=es[0]).blockedOn===null;)Wl(S),S.blockedOn===null&&es.shift()}var pa=O.ReactCurrentBatchConfig,Al=!0;function _c(h,d,S,T){var $=Hn,q=pa.transition;pa.transition=null;try{Hn=1,tc(h,d,S,T)}finally{Hn=$,pa.transition=q}}function Us(h,d,S,T){var $=Hn,q=pa.transition;pa.transition=null;try{Hn=4,tc(h,d,S,T)}finally{Hn=$,pa.transition=q}}function tc(h,d,S,T){if(Al){var $=vr(h,d,S,T);if($===null)sa(h,d,T,Hl,S),Jr(h,T);else if(function(le,pe,_e,Ve,qe){switch(pe){case"focusin":return mi=$s(mi,le,pe,_e,Ve,qe),!0;case"dragenter":return Jn=$s(Jn,le,pe,_e,Ve,qe),!0;case"mouseover":return ri=$s(ri,le,pe,_e,Ve,qe),!0;case"pointerover":var Je=qe.pointerId;return nn.set(Je,$s(nn.get(Je)||null,le,pe,_e,Ve,qe)),!0;case"gotpointercapture":return Je=qe.pointerId,Xn.set(Je,$s(Xn.get(Je)||null,le,pe,_e,Ve,qe)),!0}return!1}($,h,d,S,T))T.stopPropagation();else if(Jr(h,T),4&d&&-1<ch.indexOf(h)){for(;$!==null;){var q=as($);if(q!==null&&af(q),(q=vr(h,d,S,T))===null&&sa(h,d,T,Hl,S),q===$)break;$=q}$!==null&&T.stopPropagation()}else sa(h,d,T,null,S)}}var Hl=null;function vr(h,d,S,T){if(Hl=null,(h=Xr(h=fa(T)))!==null)if((d=Ua(h))===null)h=null;else if((S=d.tag)===13){if((h=lu(d))!==null)return h;h=null}else if(S===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;h=null}else d!==h&&(h=null);return Hl=h,null}function ll(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ha()){case gn:return 1;case na:return 4;case Sc:case El:return 16;case No:return 536870912;default:return 16}default:return 16}}var Ro=null,Vl=null,ga=null;function fc(){if(ga)return ga;var h,d,S=Vl,T=S.length,$="value"in Ro?Ro.value:Ro.textContent,q=$.length;for(h=0;h<T&&S[h]===$[h];h++);var X=T-h;for(d=1;d<=X&&S[T-d]===$[q-d];d++);return ga=$.slice(h,1<d?1-d:void 0)}function ql(h){var d=h.keyCode;return"charCode"in h?(h=h.charCode)===0&&d===13&&(h=13):h=d,h===10&&(h=13),32<=h||h===13?h:0}function ra(){return!0}function Wa(){return!1}function ji(h){function d(S,T,$,q,X){for(var le in this._reactName=S,this._targetInst=$,this.type=T,this.nativeEvent=q,this.target=X,this.currentTarget=null,h)h.hasOwnProperty(le)&&(S=h[le],this[le]=S?S(q):q[le]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?ra:Wa,this.isPropagationStopped=Wa,this}return $e(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),d}var hc,xo,ts,Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=ji(Qi),Qo=$e({},Qi,{view:0,detail:0}),vf=ji(Qo),ia=$e({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ut,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==ts&&(ts&&h.type==="mousemove"?(hc=h.screenX-ts.screenX,xo=h.screenY-ts.screenY):xo=hc=0,ts=h),hc)},movementY:function(h){return"movementY"in h?h.movementY:xo}}),ie=ji(ia),de=ji($e({},ia,{dataTransfer:0})),ye=ji($e({},Qo,{relatedTarget:0})),ze=ji($e({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0})),ct=$e({},Qi,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Ue=ji(ct),pt=ji($e({},Qi,{data:0})),Et={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},he={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ke={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qe(h){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(h):!!(h=Ke[h])&&!!d[h]}function ut(){return Qe}var Vt=$e({},Qo,{key:function(h){if(h.key){var d=Et[h.key]||h.key;if(d!=="Unidentified")return d}return h.type==="keypress"?(h=ql(h))===13?"Enter":String.fromCharCode(h):h.type==="keydown"||h.type==="keyup"?he[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ut,charCode:function(h){return h.type==="keypress"?ql(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ql(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),hn=ji(Vt),Cr=ji($e({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Do=ji($e({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ut})),jn=ji($e({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0})),$t=$e({},ia,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=ji($t),oa=[9,13,27,32],ps=u&&"CompositionEvent"in window,Ec=null;u&&"documentMode"in document&&(Ec=document.documentMode);var oo=u&&"TextEvent"in window&&!Ec,yf=u&&(!ps||Ec&&8<Ec&&11>=Ec),pu=" ",pn=!1;function kl(h,d){switch(h){case"keyup":return oa.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(h){return typeof(h=h.detail)=="object"&&"data"in h?h.data:null}var Ma=!1,Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d==="input"?!!Bf[h.type]:d==="textarea"}function cl(h,d,S,T){zl(T),0<(d=Jl(d,"onChange")).length&&(S=new ii("onChange","change",null,S,T),h.push({event:S,listeners:d}))}var fl=null,Wi=null;function aa(h){Eu(h,0)}function gu(h){if(un(Ea(h)))return h}function sf(h,d){if(h==="change")return d}var fh=!1;if(u){var Ac;if(u){var Zo="oninput"in document;if(!Zo){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Zo=typeof $u.oninput=="function"}Ac=Zo}else Ac=!1;fh=Ac&&(!document.documentMode||9<document.documentMode)}function zu(){fl&&(fl.detachEvent("onpropertychange",Kl),Wi=fl=null)}function Kl(h){if(h.propertyName==="value"&&gu(Wi)){var d=[];cl(d,Wi,h,fa(h)),Ul(aa,d)}}function Rc(h,d,S){h==="focusin"?(zu(),Wi=S,(fl=d).attachEvent("onpropertychange",Kl)):h==="focusout"&&zu()}function Ch(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return gu(Wi)}function Sh(h,d){if(h==="click")return gu(d)}function Tn(h,d){if(h==="input"||h==="change")return gu(d)}var wn=typeof Object.is=="function"?Object.is:function(d,S){return d===S&&(d!==0||1/d==1/S)||d!=d&&S!=S};function Gl(h,d){if(wn(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var S=Object.keys(h),T=Object.keys(d);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var $=S[T];if(!c.call(d,$)||!wn(h[$],d[$]))return!1}return!0}function Zf(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Rf(h,d){var S,T=Zf(h);for(h=0;T;){if(T.nodeType===3){if(S=h+T.textContent.length,h<=d&&S>=d)return{node:T,offset:d-h};h=S}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=Zf(T)}}function Ws(h,d){return!(!h||!d)&&(h===d||(!h||h.nodeType!==3)&&(d&&d.nodeType===3?Ws(h,d.parentNode):"contains"in h?h.contains(d):!!h.compareDocumentPosition&&!!(16&h.compareDocumentPosition(d))))}function Da(){for(var h=window,d=ur();d instanceof h.HTMLIFrameElement;){try{var S=typeof d.contentWindow.location.href=="string"}catch{S=!1}if(!S)break;d=ur((h=d.contentWindow).document)}return d}function ks(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d&&(d==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||d==="textarea"||h.contentEditable==="true")}function Ai(h){var d=Da(),S=h.focusedElem,T=h.selectionRange;if(d!==S&&S&&S.ownerDocument&&Ws(S.ownerDocument.documentElement,S)){if(T!==null&&ks(S)){if(d=T.start,(h=T.end)===void 0&&(h=d),"selectionStart"in S)S.selectionStart=d,S.selectionEnd=Math.min(h,S.value.length);else if((h=(d=S.ownerDocument||document)&&d.defaultView||window).getSelection){h=h.getSelection();var $=S.textContent.length,q=Math.min(T.start,$);T=T.end===void 0?q:Math.min(T.end,$),!h.extend&&q>T&&($=T,T=q,q=$),$=Rf(S,q);var X=Rf(S,T);$&&X&&(h.rangeCount!==1||h.anchorNode!==$.node||h.anchorOffset!==$.offset||h.focusNode!==X.node||h.focusOffset!==X.offset)&&((d=d.createRange()).setStart($.node,$.offset),h.removeAllRanges(),q>T?(h.addRange(d),h.extend(X.node,X.offset)):(d.setEnd(X.node,X.offset),h.addRange(d)))}}for(d=[],h=S;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<d.length;S++)(h=d[S]).element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Tr=u&&"documentMode"in document&&11>=document.documentMode,ns=null,Hs=null,Fa=null,Pa=!1;function kc(h,d,S){var T=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Pa||ns==null||ns!==ur(T)||("selectionStart"in(T=ns)&&ks(T)?T={start:T.selectionStart,end:T.selectionEnd}:T={anchorNode:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset},Fa&&Gl(Fa,T)||(Fa=T,0<(T=Jl(Hs,"onSelect")).length&&(d=new ii("onSelect","select",null,d,S),h.push({event:d,listeners:T}),d.target=ns)))}function Uu(h,d){var S={};return S[h.toLowerCase()]=d.toLowerCase(),S["Webkit"+h]="webkit"+d,S["Moz"+h]="moz"+d,S}var Wu={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},hl={},Yl={};function rs(h){if(hl[h])return hl[h];if(!Wu[h])return h;var d,S=Wu[h];for(d in S)if(S.hasOwnProperty(d)&&d in Yl)return hl[h]=S[d];return h}u&&(Yl=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);var Ms=rs("animationend"),Ml=rs("animationiteration"),R=rs("animationstart"),is=rs("transitionend"),Yu=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _t(h,d){Yu.set(h,d),o(d,[h])}for(var Ae=0;Ae<Lr.length;Ae++){var $r=Lr[Ae];_t($r.toLowerCase(),"on"+($r[0].toUpperCase()+$r.slice(1)))}_t(Ms,"onAnimationEnd"),_t(Ml,"onAnimationIteration"),_t(R,"onAnimationStart"),_t("dblclick","onDoubleClick"),_t("focusin","onFocus"),_t("focusout","onBlur"),_t(is,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function ln(h,d,S){var T=h.type||"unknown-event";h.currentTarget=S,function(q,X,le,pe,_e,Ve,qe,Je,it){if(ol.apply(this,arguments),_s){if(!_s)throw Error(t(198));var yt=xa;_s=!1,xa=null,za||(za=!0,Jo=yt)}}(T,d,void 0,h),h.currentTarget=null}function Eu(h,d){d=!!(4&d);for(var S=0;S<h.length;S++){var T=h[S],$=T.event;T=T.listeners;e:{var q=void 0;if(d)for(var X=T.length-1;0<=X;X--){var le=T[X],pe=le.instance,_e=le.currentTarget;if(le=le.listener,pe!==q&&$.isPropagationStopped())break e;ln($,le,_e),q=pe}else for(X=0;X<T.length;X++){if(pe=(le=T[X]).instance,_e=le.currentTarget,le=le.listener,pe!==q&&$.isPropagationStopped())break e;ln($,le,_e),q=pe}}}if(za)throw h=Jo,za=!1,Jo=null,h}function bn(h,d){var S=d[Fc];S===void 0&&(S=d[Fc]=new Set);var T=h+"__bubble";S.has(T)||(Yi(d,h,2,!1),S.add(T))}function _n(h,d,S){var T=0;d&&(T|=4),Yi(S,h,T,d)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Di(h){if(!h[gs]){h[gs]=!0,r.forEach(function(S){S!=="selectionchange"&&(Z.has(S)||_n(S,!1,h),_n(S,!0,h))});var d=h.nodeType===9?h:h.ownerDocument;d===null||d[gs]||(d[gs]=!0,_n("selectionchange",!1,d))}}function Yi(h,d,S,T){switch(ll(d)){case 1:var $=_c;break;case 4:$=Us;break;default:$=tc}S=$.bind(null,d,S,h),$=void 0,!Gu||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||($=!0),T?$!==void 0?h.addEventListener(d,S,{capture:!0,passive:$}):h.addEventListener(d,S,!0):$!==void 0?h.addEventListener(d,S,{passive:$}):h.addEventListener(d,S,!1)}function sa(h,d,S,T,$){var q=T;if(!(1&d||2&d||T===null))e:for(;;){if(T===null)return;var X=T.tag;if(X===3||X===4){var le=T.stateNode.containerInfo;if(le===$||le.nodeType===8&&le.parentNode===$)break;if(X===4)for(X=T.return;X!==null;){var pe=X.tag;if((pe===3||pe===4)&&((pe=X.stateNode.containerInfo)===$||pe.nodeType===8&&pe.parentNode===$))return;X=X.return}for(;le!==null;){if((X=Xr(le))===null)return;if((pe=X.tag)===5||pe===6){T=q=X;continue e}le=le.parentNode}}T=T.return}Ul(function(){var _e=q,Ve=fa(S),qe=[];e:{var Je=Yu.get(h);if(Je!==void 0){var it=ii,yt=h;switch(h){case"keypress":if(ql(S)===0)break e;case"keydown":case"keyup":it=hn;break;case"focusin":yt="focus",it=ye;break;case"focusout":yt="blur",it=ye;break;case"beforeblur":case"afterblur":it=ye;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=de;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Do;break;case Ms:case Ml:case R:it=ze;break;case is:it=jn;break;case"scroll":it=vf;break;case"wheel":it=Zh;break;case"copy":case"cut":case"paste":it=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Cr}var lt=!!(4&d),je=!lt&&h==="scroll",De=lt?Je!==null?Je+"Capture":null:Je;lt=[];for(var Le,nt=_e;nt!==null;){var Nt=(Le=nt).stateNode;if(Le.tag===5&&Nt!==null&&(Le=Nt,De!==null&&(Nt=rl(nt,De))!=null&&lt.push(Ca(nt,Nt,Le))),je)break;nt=nt.return}0<lt.length&&(Je=new it(Je,yt,null,S,Ve),qe.push({event:Je,listeners:lt}))}}if(!(7&d)){if(it=h==="mouseout"||h==="pointerout",(!(Je=h==="mouseover"||h==="pointerover")||S===Ru||!(yt=S.relatedTarget||S.fromElement)||!Xr(yt)&&!yt[Lo])&&(it||Je)&&(Je=Ve.window===Ve?Ve:(Je=Ve.ownerDocument)?Je.defaultView||Je.parentWindow:window,it?(it=_e,(yt=(yt=S.relatedTarget||S.toElement)?Xr(yt):null)!==null&&(yt!==(je=Ua(yt))||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(it=null,yt=_e),it!==yt)){if(lt=ie,Nt="onMouseLeave",De="onMouseEnter",nt="mouse",h!=="pointerout"&&h!=="pointerover"||(lt=Cr,Nt="onPointerLeave",De="onPointerEnter",nt="pointer"),je=it==null?Je:Ea(it),Le=yt==null?Je:Ea(yt),(Je=new lt(Nt,nt+"leave",it,S,Ve)).target=je,Je.relatedTarget=Le,Nt=null,Xr(Ve)===_e&&((lt=new lt(De,nt+"enter",yt,S,Ve)).target=Le,lt.relatedTarget=je,Nt=lt),je=Nt,it&&yt)e:{for(De=yt,nt=0,Le=lt=it;Le;Le=oi(Le))nt++;for(Le=0,Nt=De;Nt;Nt=oi(Nt))Le++;for(;0<nt-Le;)lt=oi(lt),nt--;for(;0<Le-nt;)De=oi(De),Le--;for(;nt--;){if(lt===De||De!==null&&lt===De.alternate)break e;lt=oi(lt),De=oi(De)}lt=null}else lt=null;it!==null&&Xl(qe,Je,it,lt,!1),yt!==null&&je!==null&&Xl(qe,je,yt,lt,!0)}if((it=(Je=_e?Ea(_e):window).nodeName&&Je.nodeName.toLowerCase())==="select"||it==="input"&&Je.type==="file")var Un=sf;else if(nc(Je))if(fh)Un=Tn;else{Un=Ch;var Ft=Rc}else(it=Je.nodeName)&&it.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Un=Sh);switch(Un&&(Un=Un(h,_e))?cl(qe,Un,S,Ve):(Ft&&Ft(h,Je,_e),h==="focusout"&&(Ft=Je._wrapperState)&&Ft.controlled&&Je.type==="number"&&ue(Je,"number",Je.value)),Ft=_e?Ea(_e):window,h){case"focusin":(nc(Ft)||Ft.contentEditable==="true")&&(ns=Ft,Hs=_e,Fa=null);break;case"focusout":Fa=Hs=ns=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,kc(qe,S,Ve);break;case"selectionchange":if(Tr)break;case"keydown":case"keyup":kc(qe,S,Ve)}var Nn;if(ps)e:{switch(h){case"compositionstart":var Or="onCompositionStart";break e;case"compositionend":Or="onCompositionEnd";break e;case"compositionupdate":Or="onCompositionUpdate";break e}Or=void 0}else Ma?kl(h,S)&&(Or="onCompositionEnd"):h==="keydown"&&S.keyCode===229&&(Or="onCompositionStart");Or&&(yf&&S.locale!=="ko"&&(Ma||Or!=="onCompositionStart"?Or==="onCompositionEnd"&&Ma&&(Nn=fc()):(Vl="value"in(Ro=Ve)?Ro.value:Ro.textContent,Ma=!0)),0<(Ft=Jl(_e,Or)).length&&(Or=new pt(Or,h,null,S,Ve),qe.push({event:Or,listeners:Ft}),(Nn||(Nn=wf(S))!==null)&&(Or.data=Nn))),(Nn=oo?function(Gr,Wo){switch(Gr){case"compositionend":return wf(Wo);case"keypress":return Wo.which!==32?null:(pn=!0,pu);case"textInput":return(Gr=Wo.data)===pu&&pn?null:Gr;default:return null}}(h,S):function(Gr,Wo){if(Ma)return Gr==="compositionend"||!ps&&kl(Gr,Wo)?(Gr=fc(),ga=Vl=Ro=null,Ma=!1,Gr):null;switch(Gr){case"paste":default:return null;case"keypress":if(!(Wo.ctrlKey||Wo.altKey||Wo.metaKey)||Wo.ctrlKey&&Wo.altKey){if(Wo.char&&1<Wo.char.length)return Wo.char;if(Wo.which)return String.fromCharCode(Wo.which)}return null;case"compositionend":return yf&&Wo.locale!=="ko"?null:Wo.data}}(h,S))&&0<(_e=Jl(_e,"onBeforeInput")).length&&(Ve=new pt("onBeforeInput","beforeinput",null,S,Ve),qe.push({event:Ve,listeners:_e}),Ve.data=Nn)}Eu(qe,d)})}function Ca(h,d,S){return{instance:h,listener:d,currentTarget:S}}function Jl(h,d){for(var S=d+"Capture",T=[];h!==null;){var $=h,q=$.stateNode;$.tag===5&&q!==null&&($=q,(q=rl(h,S))!=null&&T.unshift(Ca(h,q,$)),(q=rl(h,d))!=null&&T.push(Ca(h,q,$))),h=h.return}return T}function oi(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Xl(h,d,S,T,$){for(var q=d._reactName,X=[];S!==null&&S!==T;){var le=S,pe=le.alternate,_e=le.stateNode;if(pe!==null&&pe===T)break;le.tag===5&&_e!==null&&(le=_e,$?(pe=rl(S,q))!=null&&X.unshift(Ca(S,pe,le)):$||(pe=rl(S,q))!=null&&X.push(Ca(S,pe,le))),S=S.return}X.length!==0&&h.push({event:d,listeners:X})}var Ta=/\r\n?/g,Hr=/\u0000|\uFFFD/g;function Fl(h){return(typeof h=="string"?h:""+h).replace(Ta,`
`).replace(Hr,"")}function ms(h,d,S){if(d=Fl(d),Fl(h)!==d&&S)throw Error(t(425))}function ua(){}var Li=null,fo=null;function uf(h,d){return h==="textarea"||h==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sa=typeof setTimeout=="function"?setTimeout:void 0,jo=typeof clearTimeout=="function"?clearTimeout:void 0,Ln=typeof Promise=="function"?Promise:void 0,Mc=typeof queueMicrotask=="function"?queueMicrotask:Ln!==void 0?function(h){return Ln.resolve(null).then(h).catch(pc)}:Sa;function pc(h){setTimeout(function(){throw h})}function Pn(h,d){var S=d,T=0;do{var $=S.nextSibling;if(h.removeChild(S),$&&$.nodeType===8)if((S=$.data)==="/$"){if(T===0)return h.removeChild($),void zs(d);T--}else S!=="$"&&S!=="$?"&&S!=="$!"||T++;S=$}while(S);zs(d)}function Ha(h){for(;h!=null;h=h.nextSibling){var d=h.nodeType;if(d===1||d===3)break;if(d===8){if((d=h.data)==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return h}function Ho(h){h=h.previousSibling;for(var d=0;h;){if(h.nodeType===8){var S=h.data;if(S==="$"||S==="$!"||S==="$?"){if(d===0)return h;d--}else S==="/$"&&d++}h=h.previousSibling}return null}var di=Math.random().toString(36).slice(2),os="__reactFiber$"+di,Kt="__reactProps$"+di,Lo="__reactContainer$"+di,Fc="__reactEvents$"+di,_a="__reactListeners$"+di,rc="__reactHandles$"+di;function Xr(h){var d=h[os];if(d)return d;for(var S=h.parentNode;S;){if(d=S[Lo]||S[os]){if(S=d.alternate,d.child!==null||S!==null&&S.child!==null)for(h=Ho(h);h!==null;){if(S=h[os])return S;h=Ho(h)}return d}S=(h=S).parentNode}return null}function as(h){return!(h=h[os]||h[Lo])||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Ea(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(t(33))}function Ci(h){return h[Kt]||null}var pl=[],Au=-1;function ds(h){return{current:h}}function ir(h){0>Au||(h.current=pl[Au],pl[Au]=null,Au--)}function Qn(h,d){Au++,pl[Au]=h.current,h.current=d}var mu={},ki=ds(mu),Mi=ds(!1),Ju=mu;function ku(h,d){var S=h.type.contextTypes;if(!S)return mu;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var $,q={};for($ in S)q[$]=d[$];return T&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=q),q}function Ji(h){return(h=h.childContextTypes)!=null}function ic(){ir(Mi),ir(ki)}function Pl(h,d,S){if(ki.current!==mu)throw Error(t(168));Qn(ki,d),Qn(Mi,S)}function Fs(h,d,S){var T=h.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return S;for(var $ in T=T.getChildContext())if(!($ in d))throw Error(t(108,wt(h)||"Unknown",$));return $e({},S,T)}function du(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||mu,Ju=ki.current,Qn(ki,h),Qn(Mi,Mi.current),!0}function Ct(h,d,S){var T=h.stateNode;if(!T)throw Error(t(169));S?(h=Fs(h,d,Ju),T.__reactInternalMemoizedMergedChildContext=h,ir(Mi),ir(ki),Qn(ki,h)):ir(Mi),Qn(Mi,S)}var vs=null,Zc=!1,Vs=!1;function Tl(h){vs===null?vs=[h]:vs.push(h)}function Ps(){if(!Vs&&vs!==null){Vs=!0;var h=0,d=Hn;try{var S=vs;for(Hn=1;h<S.length;h++){var T=S[h];do T=T(!0);while(T!==null)}vs=null,Zc=!1}catch($){throw vs!==null&&(vs=vs.slice(h+1)),cu(gn,Ps),$}finally{Hn=d,Vs=!1}}return null}var Ar=[],lr=0,Pc=null,tn=0,ao=[],Wr=0,Vr=null,xn=1,hr="";function Co(h,d){Ar[lr++]=tn,Ar[lr++]=Pc,Pc=h,tn=d}function So(h,d,S){ao[Wr++]=xn,ao[Wr++]=hr,ao[Wr++]=Vr,Vr=h;var T=xn;h=hr;var $=32-fu(T)-1;T&=~(1<<$),S+=1;var q=32-fu(d)+$;if(30<q){var X=$-$%5;q=(T&(1<<X)-1).toString(32),T>>=X,$-=X,xn=1<<32-fu(d)+$|S<<$|T,hr=q+h}else xn=1<<q|S<<$|T,hr=h}function nu(h){h.return!==null&&(Co(h,1),So(h,1,0))}function Ia(h){for(;h===Pc;)Pc=Ar[--lr],Ar[lr]=null,tn=Ar[--lr],Ar[lr]=null;for(;h===Vr;)Vr=ao[--Wr],ao[Wr]=null,hr=ao[--Wr],ao[Wr]=null,xn=ao[--Wr],ao[Wr]=null}var zr=null,so=null,pr=!1,Sr=null;function Qr(h,d){var S=ce(5,null,null,0);S.elementType="DELETED",S.stateNode=d,S.return=h,(d=h.deletions)===null?(h.deletions=[S],h.flags|=16):d.push(S)}function Ql(h,d){switch(h.tag){case 5:var S=h.type;return(d=d.nodeType!==1||S.toLowerCase()!==d.nodeName.toLowerCase()?null:d)!==null&&(h.stateNode=d,zr=h,so=Ha(d.firstChild),!0);case 6:return(d=h.pendingProps===""||d.nodeType!==3?null:d)!==null&&(h.stateNode=d,zr=h,so=null,!0);case 13:return(d=d.nodeType!==8?null:d)!==null&&(S=Vr!==null?{id:xn,overflow:hr}:null,h.memoizedState={dehydrated:d,treeContext:S,retryLane:1073741824},(S=ce(18,null,null,0)).stateNode=d,S.return=h,h.child=S,zr=h,so=null,!0);default:return!1}}function Zi(h){return!(!(1&h.mode)||128&h.flags)}function gl(h){if(pr){var d=so;if(d){var S=d;if(!Ql(h,d)){if(Zi(h))throw Error(t(418));d=Ha(S.nextSibling);var T=zr;d&&Ql(h,d)?Qr(T,S):(h.flags=-4097&h.flags|2,pr=!1,zr=h)}}else{if(Zi(h))throw Error(t(418));h.flags=-4097&h.flags|2,pr=!1,zr=h}}}function jc(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;zr=h}function Mu(h){if(h!==zr)return!1;if(!pr)return jc(h),pr=!0,!1;var d;if((d=h.tag!==3)&&!(d=h.tag!==5)&&(d=(d=h.type)!=="head"&&d!=="body"&&!uf(h.type,h.memoizedProps)),d&&(d=so)){if(Zi(h))throw ru(),Error(t(418));for(;d;)Qr(h,d),d=Ha(d.nextSibling)}if(jc(h),h.tag===13){if(!(h=(h=h.memoizedState)!==null?h.dehydrated:null))throw Error(t(317));e:{for(h=h.nextSibling,d=0;h;){if(h.nodeType===8){var S=h.data;if(S==="/$"){if(d===0){so=Ha(h.nextSibling);break e}d--}else S!=="$"&&S!=="$!"&&S!=="$?"||d++}h=h.nextSibling}so=null}}else so=zr?Ha(h.stateNode.nextSibling):null;return!0}function ru(){for(var h=so;h;)h=Ha(h.nextSibling)}function qs(){so=zr=null,pr=!1}function Ts(h){Sr===null?Sr=[h]:Sr.push(h)}var iu=O.ReactCurrentBatchConfig;function or(h,d,S){if((h=S.ref)!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner){if(S.tag!==1)throw Error(t(309));var T=S.stateNode}if(!T)throw Error(t(147,h));var $=T,q=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===q?d.ref:(d=function(X){var le=$.refs;X===null?delete le[q]:le[q]=X},d._stringRef=q,d)}if(typeof h!="string")throw Error(t(284));if(!S._owner)throw Error(t(290,h))}return h}function Kn(h,d){throw h=Object.prototype.toString.call(d),Error(t(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function Oa(h){return(0,h._init)(h._payload)}function la(h){function d(je,De){if(h){var Le=je.deletions;Le===null?(je.deletions=[De],je.flags|=16):Le.push(De)}}function S(je,De){if(!h)return null;for(;De!==null;)d(je,De),De=De.sibling;return null}function T(je,De){for(je=new Map;De!==null;)De.key!==null?je.set(De.key,De):je.set(De.index,De),De=De.sibling;return je}function $(je,De){return(je=be(je,De)).index=0,je.sibling=null,je}function q(je,De,Le){return je.index=Le,h?(Le=je.alternate)!==null?(Le=Le.index)<De?(je.flags|=2,De):Le:(je.flags|=2,De):(je.flags|=1048576,De)}function X(je){return h&&je.alternate===null&&(je.flags|=2),je}function le(je,De,Le,nt){return De===null||De.tag!==6?((De=Ie(Le,je.mode,nt)).return=je,De):((De=$(De,Le)).return=je,De)}function pe(je,De,Le,nt){var Nt=Le.type;return Nt===W?Ve(je,De,Le.props.children,nt,Le.key):De!==null&&(De.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Pe&&Oa(Nt)===De.type)?((nt=$(De,Le.props)).ref=or(je,De,Le),nt.return=je,nt):((nt=we(Le.type,Le.key,Le.props,null,je.mode,nt)).ref=or(je,De,Le),nt.return=je,nt)}function _e(je,De,Le,nt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Le.containerInfo||De.stateNode.implementation!==Le.implementation?((De=Xe(Le,je.mode,nt)).return=je,De):((De=$(De,Le.children||[])).return=je,De)}function Ve(je,De,Le,nt,Nt){return De===null||De.tag!==7?((De=Te(Le,je.mode,nt,Nt)).return=je,De):((De=$(De,Le)).return=je,De)}function qe(je,De,Le){if(typeof De=="string"&&De!==""||typeof De=="number")return(De=Ie(""+De,je.mode,Le)).return=je,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case j:return(Le=we(De.type,De.key,De.props,null,je.mode,Le)).ref=or(je,null,De),Le.return=je,Le;case z:return(De=Xe(De,je.mode,Le)).return=je,De;case Pe:return qe(je,(0,De._init)(De._payload),Le)}if(ve(De)||Oe(De))return(De=Te(De,je.mode,Le,null)).return=je,De;Kn(je,De)}return null}function Je(je,De,Le,nt){var Nt=De!==null?De.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Nt!==null?null:le(je,De,""+Le,nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case j:return Le.key===Nt?pe(je,De,Le,nt):null;case z:return Le.key===Nt?_e(je,De,Le,nt):null;case Pe:return Je(je,De,(Nt=Le._init)(Le._payload),nt)}if(ve(Le)||Oe(Le))return Nt!==null?null:Ve(je,De,Le,nt,null);Kn(je,Le)}return null}function it(je,De,Le,nt,Nt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return le(De,je=je.get(Le)||null,""+nt,Nt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case j:return pe(De,je=je.get(nt.key===null?Le:nt.key)||null,nt,Nt);case z:return _e(De,je=je.get(nt.key===null?Le:nt.key)||null,nt,Nt);case Pe:return it(je,De,Le,(0,nt._init)(nt._payload),Nt)}if(ve(nt)||Oe(nt))return Ve(De,je=je.get(Le)||null,nt,Nt,null);Kn(De,nt)}return null}function yt(je,De,Le,nt){for(var Nt=null,Un=null,Ft=De,Nn=De=0,Or=null;Ft!==null&&Nn<Le.length;Nn++){Ft.index>Nn?(Or=Ft,Ft=null):Or=Ft.sibling;var Mr=Je(je,Ft,Le[Nn],nt);if(Mr===null){Ft===null&&(Ft=Or);break}h&&Ft&&Mr.alternate===null&&d(je,Ft),De=q(Mr,De,Nn),Un===null?Nt=Mr:Un.sibling=Mr,Un=Mr,Ft=Or}if(Nn===Le.length)return S(je,Ft),pr&&Co(je,Nn),Nt;if(Ft===null){for(;Nn<Le.length;Nn++)(Ft=qe(je,Le[Nn],nt))!==null&&(De=q(Ft,De,Nn),Un===null?Nt=Ft:Un.sibling=Ft,Un=Ft);return pr&&Co(je,Nn),Nt}for(Ft=T(je,Ft);Nn<Le.length;Nn++)(Or=it(Ft,je,Nn,Le[Nn],nt))!==null&&(h&&Or.alternate!==null&&Ft.delete(Or.key===null?Nn:Or.key),De=q(Or,De,Nn),Un===null?Nt=Or:Un.sibling=Or,Un=Or);return h&&Ft.forEach(function(Gr){return d(je,Gr)}),pr&&Co(je,Nn),Nt}function lt(je,De,Le,nt){var Nt=Oe(Le);if(typeof Nt!="function")throw Error(t(150));if((Le=Nt.call(Le))==null)throw Error(t(151));for(var Un=Nt=null,Ft=De,Nn=De=0,Or=null,Mr=Le.next();Ft!==null&&!Mr.done;Nn++,Mr=Le.next()){Ft.index>Nn?(Or=Ft,Ft=null):Or=Ft.sibling;var Gr=Je(je,Ft,Mr.value,nt);if(Gr===null){Ft===null&&(Ft=Or);break}h&&Ft&&Gr.alternate===null&&d(je,Ft),De=q(Gr,De,Nn),Un===null?Nt=Gr:Un.sibling=Gr,Un=Gr,Ft=Or}if(Mr.done)return S(je,Ft),pr&&Co(je,Nn),Nt;if(Ft===null){for(;!Mr.done;Nn++,Mr=Le.next())(Mr=qe(je,Mr.value,nt))!==null&&(De=q(Mr,De,Nn),Un===null?Nt=Mr:Un.sibling=Mr,Un=Mr);return pr&&Co(je,Nn),Nt}for(Ft=T(je,Ft);!Mr.done;Nn++,Mr=Le.next())(Mr=it(Ft,je,Nn,Mr.value,nt))!==null&&(h&&Mr.alternate!==null&&Ft.delete(Mr.key===null?Nn:Mr.key),De=q(Mr,De,Nn),Un===null?Nt=Mr:Un.sibling=Mr,Un=Mr);return h&&Ft.forEach(function(Wo){return d(je,Wo)}),pr&&Co(je,Nn),Nt}return function je(De,Le,nt,Nt){if(typeof nt=="object"&&nt!==null&&nt.type===W&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case j:e:{for(var Un=nt.key,Ft=Le;Ft!==null;){if(Ft.key===Un){if((Un=nt.type)===W){if(Ft.tag===7){S(De,Ft.sibling),(Le=$(Ft,nt.props.children)).return=De,De=Le;break e}}else if(Ft.elementType===Un||typeof Un=="object"&&Un!==null&&Un.$$typeof===Pe&&Oa(Un)===Ft.type){S(De,Ft.sibling),(Le=$(Ft,nt.props)).ref=or(De,Ft,nt),Le.return=De,De=Le;break e}S(De,Ft);break}d(De,Ft),Ft=Ft.sibling}nt.type===W?((Le=Te(nt.props.children,De.mode,Nt,nt.key)).return=De,De=Le):((Nt=we(nt.type,nt.key,nt.props,null,De.mode,Nt)).ref=or(De,Le,nt),Nt.return=De,De=Nt)}return X(De);case z:e:{for(Ft=nt.key;Le!==null;){if(Le.key===Ft){if(Le.tag===4&&Le.stateNode.containerInfo===nt.containerInfo&&Le.stateNode.implementation===nt.implementation){S(De,Le.sibling),(Le=$(Le,nt.children||[])).return=De,De=Le;break e}S(De,Le);break}d(De,Le),Le=Le.sibling}(Le=Xe(nt,De.mode,Nt)).return=De,De=Le}return X(De);case Pe:return je(De,Le,(Ft=nt._init)(nt._payload),Nt)}if(ve(nt))return yt(De,Le,nt,Nt);if(Oe(nt))return lt(De,Le,nt,Nt);Kn(De,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,Le!==null&&Le.tag===6?(S(De,Le.sibling),(Le=$(Le,nt)).return=De,De=Le):(S(De,Le),(Le=Ie(nt,De.mode,Nt)).return=De,De=Le),X(De)):S(De,Le)}}var Va=la(!0),ml=la(!1),ca=ds(null),uo=null,Vo=null,Hi=null;function eo(){Hi=Vo=uo=null}function Fo(h){var d=ca.current;ir(ca),h._currentValue=d}function $i(h,d,S){for(;h!==null;){var T=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),h===S)break;h=h.return}}function to(h,d){uo=h,Hi=Vo=null,(h=h.dependencies)!==null&&h.firstContext!==null&&(h.lanes&d&&(_o=!0),h.firstContext=null)}function ho(h){var d=h._currentValue;if(Hi!==h)if(h={context:h,memoizedValue:d,next:null},Vo===null){if(uo===null)throw Error(t(308));Vo=h,uo.dependencies={lanes:0,firstContext:h}}else Vo=Vo.next=h;return d}var Na=null;function vu(h){Na===null?Na=[h]:Na.push(h)}function qa(h,d,S,T){var $=d.interleaved;return $===null?(S.next=S,vu(d)):(S.next=$.next,$.next=S),d.interleaved=S,Is(h,T)}function Is(h,d){h.lanes|=d;var S=h.alternate;for(S!==null&&(S.lanes|=d),S=h,h=h.return;h!==null;)h.childLanes|=d,(S=h.alternate)!==null&&(S.childLanes|=d),S=h,h=h.return;return S.tag===3?S.stateNode:null}var ma=!1;function gc(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Il(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function wr(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function ys(h,d,S){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,2&Sn){var $=T.pending;return $===null?d.next=d:(d.next=$.next,$.next=d),T.pending=d,Is(h,S)}return($=T.interleaved)===null?(d.next=d,vu(T)):(d.next=$.next,$.next=d),T.interleaved=d,Is(h,S)}function yu(h,d,S){if((d=d.updateQueue)!==null&&(d=d.shared,4194240&S)){var T=d.lanes;S|=T&=h.pendingLanes,d.lanes=S,Ei(h,S)}}function lf(h,d){var S=h.updateQueue,T=h.alternate;if(T!==null&&S===(T=T.updateQueue)){var $=null,q=null;if((S=S.firstBaseUpdate)!==null){do{var X={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};q===null?$=q=X:q=q.next=X,S=S.next}while(S!==null);q===null?$=q=d:q=q.next=d}else $=q=d;return S={baseState:T.baseState,firstBaseUpdate:$,lastBaseUpdate:q,shared:T.shared,effects:T.effects},void(h.updateQueue=S)}(h=S.lastBaseUpdate)===null?S.firstBaseUpdate=d:h.next=d,S.lastBaseUpdate=d}function dl(h,d,S,T){var $=h.updateQueue;ma=!1;var q=$.firstBaseUpdate,X=$.lastBaseUpdate,le=$.shared.pending;if(le!==null){$.shared.pending=null;var pe=le,_e=pe.next;pe.next=null,X===null?q=_e:X.next=_e,X=pe;var Ve=h.alternate;Ve!==null&&(le=(Ve=Ve.updateQueue).lastBaseUpdate)!==X&&(le===null?Ve.firstBaseUpdate=_e:le.next=_e,Ve.lastBaseUpdate=pe)}if(q!==null){var qe=$.baseState;for(X=0,Ve=_e=pe=null,le=q;;){var Je=le.lane,it=le.eventTime;if((T&Je)===Je){Ve!==null&&(Ve=Ve.next={eventTime:it,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var yt=h,lt=le;switch(Je=d,it=S,lt.tag){case 1:if(typeof(yt=lt.payload)=="function"){qe=yt.call(it,qe,Je);break e}qe=yt;break e;case 3:yt.flags=-65537&yt.flags|128;case 0:if((Je=typeof(yt=lt.payload)=="function"?yt.call(it,qe,Je):yt)==null)break e;qe=$e({},qe,Je);break e;case 2:ma=!0}}le.callback!==null&&le.lane!==0&&(h.flags|=64,(Je=$.effects)===null?$.effects=[le]:Je.push(le))}else it={eventTime:it,lane:Je,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ve===null?(_e=Ve=it,pe=qe):Ve=Ve.next=it,X|=Je;if((le=le.next)===null){if((le=$.shared.pending)===null)break;le=(Je=le).next,Je.next=null,$.lastBaseUpdate=Je,$.shared.pending=null}}if(Ve===null&&(pe=qe),$.baseState=pe,$.firstBaseUpdate=_e,$.lastBaseUpdate=Ve,(d=$.shared.interleaved)!==null){$=d;do X|=$.lane,$=$.next;while($!==d)}else q===null&&($.shared.lanes=0);bs|=X,h.lanes=X,h.memoizedState=qe}}function lo(h,d,S){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var T=h[d],$=T.callback;if($!==null){if(T.callback=null,T=S,typeof $!="function")throw Error(t(191,$));$.call(T)}}}var qo={},Ba=ds(qo),ou=ds(qo),no=ds(qo);function Xi(h){if(h===qo)throw Error(t(174));return h}function st(h,d){switch(Qn(no,d),Qn(ou,h),Qn(Ba,qo),h=d.nodeType){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:gt(null,"");break;default:d=gt(d=(h=h===8?d.parentNode:d).namespaceURI||null,h=h.tagName)}ir(Ba),Qn(Ba,d)}function ss(){ir(Ba),ir(ou),ir(no)}function Ol(h){Xi(no.current);var d=Xi(Ba.current),S=gt(d,h.type);d!==S&&(Qn(ou,h),Qn(Ba,S))}function Zr(h){ou.current===h&&(ir(Ba),ir(ou))}var ar=ds(0);function da(h){for(var d=h;d!==null;){if(d.tag===13){var S=d.memoizedState;if(S!==null&&((S=S.dehydrated)===null||S.data==="$?"||S.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(128&d.flags)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Lt=[];function Hu(){for(var h=0;h<Lt.length;h++)Lt[h]._workInProgressVersionPrimary=null;Lt.length=0}var Ks=O.ReactCurrentDispatcher,Ut=O.ReactCurrentBatchConfig,gr=0,Gt=null,Vn=null,kr=null,Nl=!1,br=!1,Gs=0,Ys=0;function po(){throw Error(t(321))}function va(h,d){if(d===null)return!1;for(var S=0;S<d.length&&S<h.length;S++)if(!wn(h[S],d[S]))return!1;return!0}function qr(h,d,S,T,$,q){if(gr=q,Gt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ks.current=h===null||h.memoizedState===null?ph:vl,h=S(T,$),br){q=0;do{if(br=!1,Gs=0,25<=q)throw Error(t(301));q+=1,kr=Vn=null,d.updateQueue=null,Ks.current=nh,h=S(T,$)}while(br)}if(Ks.current=xf,d=Vn!==null&&Vn.next!==null,gr=0,kr=Vn=Gt=null,Nl=!1,d)throw Error(t(300));return h}function Fu(){var h=Gs!==0;return Gs=0,h}function Ti(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Gt.memoizedState=kr=h:kr=kr.next=h,kr}function go(){if(Vn===null){var h=Gt.alternate;h=h!==null?h.memoizedState:null}else h=Vn.next;var d=kr===null?Gt.memoizedState:kr.next;if(d!==null)kr=d,Vn=h;else{if(h===null)throw Error(t(310));h={memoizedState:(Vn=h).memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},kr===null?Gt.memoizedState=kr=h:kr=kr.next=h}return kr}function Js(h,d){return typeof d=="function"?d(h):d}function Bl(h){var d=go(),S=d.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var T=Vn,$=T.baseQueue,q=S.pending;if(q!==null){if($!==null){var X=$.next;$.next=q.next,q.next=X}T.baseQueue=$=q,S.pending=null}if($!==null){q=$.next,T=T.baseState;var le=X=null,pe=null,_e=q;do{var Ve=_e.lane;if((gr&Ve)===Ve)pe!==null&&(pe=pe.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),T=_e.hasEagerState?_e.eagerState:h(T,_e.action);else{var qe={lane:Ve,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};pe===null?(le=pe=qe,X=T):pe=pe.next=qe,Gt.lanes|=Ve,bs|=Ve}_e=_e.next}while(_e!==null&&_e!==q);pe===null?X=T:pe.next=le,wn(T,d.memoizedState)||(_o=!0),d.memoizedState=T,d.baseState=X,d.baseQueue=pe,S.lastRenderedState=T}if((h=S.interleaved)!==null){$=h;do q=$.lane,Gt.lanes|=q,bs|=q,$=$.next;while($!==h)}else $===null&&(S.lanes=0);return[d.memoizedState,S.dispatch]}function wu(h){var d=go(),S=d.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var T=S.dispatch,$=S.pending,q=d.memoizedState;if($!==null){S.pending=null;var X=$=$.next;do q=h(q,X.action),X=X.next;while(X!==$);wn(q,d.memoizedState)||(_o=!0),d.memoizedState=q,d.baseQueue===null&&(d.baseState=q),S.lastRenderedState=q}return[q,T]}function Lc(){}function Zn(h,d){var S=Gt,T=go(),$=d(),q=!wn(T.memoizedState,$);if(q&&(T.memoizedState=$,_o=!0),T=T.queue,cf(mc.bind(null,S,T,h),[h]),T.getSnapshot!==d||q||kr!==null&&1&kr.memoizedState.tag){if(S.flags|=2048,vi(9,$c.bind(null,S,T,$,d),void 0,null),zi===null)throw Error(t(349));30&gr||Po(S,d,$)}return $}function Po(h,d,S){h.flags|=16384,h={getSnapshot:d,value:S},(d=Gt.updateQueue)===null?(d={lastEffect:null,stores:null},Gt.updateQueue=d,d.stores=[h]):(S=d.stores)===null?d.stores=[h]:S.push(h)}function $c(h,d,S,T){d.value=S,d.getSnapshot=T,Tc(d)&&jf(h)}function mc(h,d,S){return S(function(){Tc(d)&&jf(h)})}function Tc(h){var d=h.getSnapshot;h=h.value;try{var S=d();return!wn(h,S)}catch{return!0}}function jf(h){var d=Is(h,1);d!==null&&ci(d,h,1,-1)}function Xs(h){var d=Ti();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:h},d.queue=h,h=h.dispatch=Ih.bind(null,Gt,h),[d.memoizedState,h]}function vi(h,d,S,T){return h={tag:h,create:d,destroy:S,deps:T,next:null},(d=Gt.updateQueue)===null?(d={lastEffect:null,stores:null},Gt.updateQueue=d,d.lastEffect=h.next=h):(S=d.lastEffect)===null?d.lastEffect=h.next=h:(T=S.next,S.next=h,h.next=T,d.lastEffect=h),h}function Ka(){return go().memoizedState}function Si(h,d,S,T){var $=Ti();Gt.flags|=h,$.memoizedState=vi(1|d,S,void 0,T===void 0?null:T)}function bu(h,d,S,T){var $=go();T=T===void 0?null:T;var q=void 0;if(Vn!==null){var X=Vn.memoizedState;if(q=X.destroy,T!==null&&va(T,X.deps))return void($.memoizedState=vi(d,S,q,T))}Gt.flags|=h,$.memoizedState=vi(1|d,S,q,T)}function bf(h,d){return Si(8390656,8,h,d)}function cf(h,d){return bu(2048,8,h,d)}function ai(h,d){return bu(4,2,h,d)}function Xu(h,d){return bu(4,4,h,d)}function zc(h,d){return typeof d=="function"?(h=h(),d(h),function(){d(null)}):d!=null?(h=h(),d.current=h,function(){d.current=null}):void 0}function eh(h,d,S){return S=S!=null?S.concat([h]):null,bu(4,4,zc.bind(null,d,h),S)}function Rl(){}function dc(h,d){var S=go();d=d===void 0?null:d;var T=S.memoizedState;return T!==null&&d!==null&&va(d,T[1])?T[0]:(S.memoizedState=[h,d],h)}function Os(h,d){var S=go();d=d===void 0?null:d;var T=S.memoizedState;return T!==null&&d!==null&&va(d,T[1])?T[0]:(h=h(),S.memoizedState=[h,d],h)}function th(h,d,S){return 21&gr?(wn(S,d)||(S=Za(),Gt.lanes|=S,bs|=S,h.baseState=!0),d):(h.baseState&&(h.baseState=!1,_o=!0),h.memoizedState=S)}function Uc(h,d){var S=Hn;Hn=S!==0&&4>S?S:4,h(!0);var T=Ut.transition;Ut.transition={};try{h(!1),d()}finally{Hn=S,Ut.transition=T}}function ya(){return go().memoizedState}function Th(h,d,S){var T=Ko(h);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},Oh(h)?Lf(d,S):(S=qa(h,d,S,T))!==null&&(ci(S,h,T,er()),hh(S,d,T))}function Ih(h,d,S){var T=Ko(h),$={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(Oh(h))Lf(d,$);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=d.lastRenderedReducer)!==null)try{var X=d.lastRenderedState,le=q(X,S);if($.hasEagerState=!0,$.eagerState=le,wn(le,X)){var pe=d.interleaved;return pe===null?($.next=$,vu(d)):($.next=pe.next,pe.next=$),void(d.interleaved=$)}}catch{}(S=qa(h,d,$,T))!==null&&(ci(S,h,T,$=er()),hh(S,d,T))}}function Oh(h){var d=h.alternate;return h===Gt||d!==null&&d===Gt}function Lf(h,d){br=Nl=!0;var S=h.pending;S===null?d.next=d:(d.next=S.next,S.next=d),h.pending=d}function hh(h,d,S){if(4194240&S){var T=d.lanes;S|=T&=h.pendingLanes,d.lanes=S,Ei(h,S)}}var xf={readContext:ho,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},ph={readContext:ho,useCallback:function(h,d){return Ti().memoizedState=[h,d===void 0?null:d],h},useContext:ho,useEffect:bf,useImperativeHandle:function(h,d,S){return S=S!=null?S.concat([h]):null,Si(4194308,4,zc.bind(null,d,h),S)},useLayoutEffect:function(h,d){return Si(4194308,4,h,d)},useInsertionEffect:function(h,d){return Si(4,2,h,d)},useMemo:function(h,d){var S=Ti();return d=d===void 0?null:d,h=h(),S.memoizedState=[h,d],h},useReducer:function(h,d,S){var T=Ti();return d=S!==void 0?S(d):d,T.memoizedState=T.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},T.queue=h,h=h.dispatch=Th.bind(null,Gt,h),[T.memoizedState,h]},useRef:function(h){return h={current:h},Ti().memoizedState=h},useState:Xs,useDebugValue:Rl,useDeferredValue:function(h){return Ti().memoizedState=h},useTransition:function(){var h=Xs(!1),d=h[0];return h=Uc.bind(null,h[1]),Ti().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,S){var T=Gt,$=Ti();if(pr){if(S===void 0)throw Error(t(407));S=S()}else{if(S=d(),zi===null)throw Error(t(349));30&gr||Po(T,d,S)}$.memoizedState=S;var q={value:S,getSnapshot:d};return $.queue=q,bf(mc.bind(null,T,q,h),[h]),T.flags|=2048,vi(9,$c.bind(null,T,q,S,d),void 0,null),S},useId:function(){var h=Ti(),d=zi.identifierPrefix;if(pr){var S=hr;d=":"+d+"R"+(S=(xn&~(1<<32-fu(xn)-1)).toString(32)+S),0<(S=Gs++)&&(d+="H"+S.toString(32)),d+=":"}else d=":"+d+"r"+(S=Ys++).toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},vl={readContext:ho,useCallback:dc,useContext:ho,useEffect:cf,useImperativeHandle:eh,useInsertionEffect:ai,useLayoutEffect:Xu,useMemo:Os,useReducer:Bl,useRef:Ka,useState:function(){return Bl(Js)},useDebugValue:Rl,useDeferredValue:function(h){return th(go(),Vn.memoizedState,h)},useTransition:function(){return[Bl(Js)[0],go().memoizedState]},useMutableSource:Lc,useSyncExternalStore:Zn,useId:ya,unstable_isNewReconciler:!1},nh={readContext:ho,useCallback:dc,useContext:ho,useEffect:cf,useImperativeHandle:eh,useInsertionEffect:ai,useLayoutEffect:Xu,useMemo:Os,useReducer:wu,useRef:Ka,useState:function(){return wu(Js)},useDebugValue:Rl,useDeferredValue:function(h){var d=go();return Vn===null?d.memoizedState=h:th(d,Vn.memoizedState,h)},useTransition:function(){return[wu(Js)[0],go().memoizedState]},useMutableSource:Lc,useSyncExternalStore:Zn,useId:ya,unstable_isNewReconciler:!1};function xu(h,d){if(h&&h.defaultProps){for(var S in d=$e({},d),h=h.defaultProps)d[S]===void 0&&(d[S]=h[S]);return d}return d}function $f(h,d,S,T){S=(S=S(T,d=h.memoizedState))==null?d:$e({},d,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var ff={isMounted:function(h){return!!(h=h._reactInternals)&&Ua(h)===h},enqueueSetState:function(h,d,S){h=h._reactInternals;var T=er(),$=Ko(h),q=wr(T,$);q.payload=d,S!=null&&(q.callback=S),(d=ys(h,q,$))!==null&&(ci(d,h,$,T),yu(d,h,$))},enqueueReplaceState:function(h,d,S){h=h._reactInternals;var T=er(),$=Ko(h),q=wr(T,$);q.tag=1,q.payload=d,S!=null&&(q.callback=S),(d=ys(h,q,$))!==null&&(ci(d,h,$,T),yu(d,h,$))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var S=er(),T=Ko(h),$=wr(S,T);$.tag=2,d!=null&&($.callback=d),(d=ys(h,$,T))!==null&&(ci(d,h,T,S),yu(d,h,T))}};function Df(h,d,S,T,$,q,X){return typeof(h=h.stateNode).shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,q,X):!d.prototype||!d.prototype.isPureReactComponent||!Gl(S,T)||!Gl($,q)}function Wc(h,d,S){var T=!1,$=mu,q=d.contextType;return typeof q=="object"&&q!==null?q=ho(q):($=Ji(d)?Ju:ki.current,q=(T=(T=d.contextTypes)!=null)?ku(h,$):mu),d=new d(S,q),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ff,h.stateNode=d,d._reactInternals=h,T&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=$,h.__reactInternalMemoizedMaskedChildContext=q),d}function Nh(h,d,S,T){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(S,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(S,T),d.state!==h&&ff.enqueueReplaceState(d,d.state,null)}function zf(h,d,S,T){var $=h.stateNode;$.props=S,$.state=h.memoizedState,$.refs={},gc(h);var q=d.contextType;typeof q=="object"&&q!==null?$.context=ho(q):(q=Ji(d)?Ju:ki.current,$.context=ku(h,q)),$.state=h.memoizedState,typeof(q=d.getDerivedStateFromProps)=="function"&&($f(h,d,q,S),$.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(d=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),d!==$.state&&ff.enqueueReplaceState($,$.state,null),dl(h,S,$,T),$.state=h.memoizedState),typeof $.componentDidMount=="function"&&(h.flags|=4194308)}function yl(h,d){try{var S="",T=d;do S+=Ze(T),T=T.return;while(T);var $=S}catch(q){$=`
Error generating stack: `+q.message+`
`+q.stack}return{value:h,source:d,stack:$,digest:null}}function wl(h,d,S){return{value:h,source:null,stack:S??null,digest:d??null}}function Uf(h,d){try{console.error(d.value)}catch(S){setTimeout(function(){throw S})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function Zl(h,d,S){(S=wr(-1,S)).tag=3,S.payload={element:null};var T=d.value;return S.callback=function(){Yn||(Yn=!0,bc=T),Uf(0,d)},S}function hf(h,d,S){(S=wr(-1,S)).tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var $=d.value;S.payload=function(){return T($)},S.callback=function(){Uf(0,d)}}var q=h.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(S.callback=function(){Uf(0,d),typeof T!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})}),S}function Cf(h,d,S){var T=h.pingCache;if(T===null){T=h.pingCache=new zh;var $=new Set;T.set(d,$)}else($=T.get(d))===void 0&&($=new Set,T.set(d,$));$.has(S)||($.add(S),h=L.bind(null,h,d,S),d.then(h,h))}function oc(h){do{var d;if((d=h.tag===13)&&(d=(d=h.memoizedState)===null||d.dehydrated!==null),d)return h;h=h.return}while(h!==null);return null}function rh(h,d,S,T,$){return 1&h.mode?(h.flags|=65536,h.lanes=$,h):(h===d?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:((d=wr(-1,1)).tag=2,ys(S,d,1))),S.lanes|=1),h)}var _h=O.ReactCurrentOwner,_o=!1;function Ra(h,d,S,T){d.child=h===null?ml(d,null,S,T):Va(d,h.child,S,T)}function jl(h,d,S,T,$){S=S.render;var q=d.ref;return to(d,$),T=qr(h,d,S,T,q,$),S=Fu(),h===null||_o?(pr&&S&&nu(d),d.flags|=1,Ra(h,d,T,$),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~$,_r(h,d,$))}function ws(h,d,S,T,$){if(h===null){var q=S.type;return typeof q!="function"||me(q)||q.defaultProps!==void 0||S.compare!==null||S.defaultProps!==void 0?((h=we(S.type,null,T,d,d.mode,$)).ref=d.ref,h.return=d,d.child=h):(d.tag=15,d.type=q,gh(h,d,q,T,$))}if(q=h.child,!(h.lanes&$)){var X=q.memoizedProps;if((S=(S=S.compare)!==null?S:Gl)(X,T)&&h.ref===d.ref)return _r(h,d,$)}return d.flags|=1,(h=be(q,T)).ref=d.ref,h.return=d,d.child=h}function gh(h,d,S,T,$){if(h!==null){var q=h.memoizedProps;if(Gl(q,T)&&h.ref===d.ref){if(_o=!1,d.pendingProps=T=q,!(h.lanes&$))return d.lanes=h.lanes,_r(h,d,$);131072&h.flags&&(_o=!0)}}return Ll(h,d,S,T,$)}function vc(h,d,S){var T=d.pendingProps,$=T.children,q=h!==null?h.memoizedState:null;if(T.mode==="hidden")if(1&d.mode){if(!(1073741824&S))return h=q!==null?q.baseLanes|S:S,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,Qn(Zu,cs),cs|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=q!==null?q.baseLanes:S,Qn(Zu,cs),cs|=T}else d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(Zu,cs),cs|=S;else q!==null?(T=q.baseLanes|S,d.memoizedState=null):T=S,Qn(Zu,cs),cs|=T;return Ra(h,d,$,S),d.child}function ef(h,d){var S=d.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(d.flags|=512,d.flags|=2097152)}function Ll(h,d,S,T,$){var q=Ji(S)?Ju:ki.current;return q=ku(d,q),to(d,$),S=qr(h,d,S,T,q,$),T=Fu(),h===null||_o?(pr&&T&&nu(d),d.flags|=1,Ra(h,d,S,$),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~$,_r(h,d,$))}function Kr(h,d,S,T,$){if(Ji(S)){var q=!0;du(d)}else q=!1;if(to(d,$),d.stateNode===null)tr(h,d),Wc(d,S,T),zf(d,S,T,$),T=!0;else if(h===null){var X=d.stateNode,le=d.memoizedProps;X.props=le;var pe=X.context,_e=S.contextType;typeof _e=="object"&&_e!==null?_e=ho(_e):_e=ku(d,_e=Ji(S)?Ju:ki.current);var Ve=S.getDerivedStateFromProps,qe=typeof Ve=="function"||typeof X.getSnapshotBeforeUpdate=="function";qe||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(le!==T||pe!==_e)&&Nh(d,X,T,_e),ma=!1;var Je=d.memoizedState;X.state=Je,dl(d,T,X,$),pe=d.memoizedState,le!==T||Je!==pe||Mi.current||ma?(typeof Ve=="function"&&($f(d,S,Ve,T),pe=d.memoizedState),(le=ma||Df(d,S,le,T,Je,pe,_e))?(qe||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(d.flags|=4194308)):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=pe),X.props=T,X.state=pe,X.context=_e,T=le):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{X=d.stateNode,Il(h,d),le=d.memoizedProps,_e=d.type===d.elementType?le:xu(d.type,le),X.props=_e,qe=d.pendingProps,Je=X.context,typeof(pe=S.contextType)=="object"&&pe!==null?pe=ho(pe):pe=ku(d,pe=Ji(S)?Ju:ki.current);var it=S.getDerivedStateFromProps;(Ve=typeof it=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(le!==qe||Je!==pe)&&Nh(d,X,T,pe),ma=!1,Je=d.memoizedState,X.state=Je,dl(d,T,X,$);var yt=d.memoizedState;le!==qe||Je!==yt||Mi.current||ma?(typeof it=="function"&&($f(d,S,it,T),yt=d.memoizedState),(_e=ma||Df(d,S,_e,T,Je,yt,pe)||!1)?(Ve||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(T,yt,pe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(T,yt,pe)),typeof X.componentDidUpdate=="function"&&(d.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof X.componentDidUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=yt),X.props=T,X.state=yt,X.context=pe,T=_e):(typeof X.componentDidUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=1024),T=!1)}return tf(h,d,S,T,q,$)}function tf(h,d,S,T,$,q){ef(h,d);var X=!!(128&d.flags);if(!T&&!X)return $&&Ct(d,S,!1),_r(h,d,q);T=d.stateNode,_h.current=d;var le=X&&typeof S.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,h!==null&&X?(d.child=Va(d,h.child,null,q),d.child=Va(d,null,le,q)):Ra(h,d,le,q),d.memoizedState=T.state,$&&Ct(d,S,!0),d.child}function Bh(h){var d=h.stateNode;d.pendingContext?Pl(0,d.pendingContext,d.pendingContext!==d.context):d.context&&Pl(0,d.context,!1),st(h,d.containerInfo)}function To(h,d,S,T,$){return qs(),Ts($),d.flags|=256,Ra(h,d,S,T),d.child}var dt,ih,$n,Dn,$o={dehydrated:null,treeContext:null,retryLane:0};function wa(h){return{baseLanes:h,cachePool:null,transitions:null}}function Nr(h,d,S){var T,$=d.pendingProps,q=ar.current,X=!1,le=!!(128&d.flags);if((T=le)||(T=(h===null||h.memoizedState!==null)&&!!(2&q)),T?(X=!0,d.flags&=-129):h!==null&&h.memoizedState===null||(q|=1),Qn(ar,1&q),h===null)return gl(d),(h=d.memoizedState)!==null&&(h=h.dehydrated)!==null?(1&d.mode?h.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(le=$.children,h=$.fallback,X?($=d.mode,X=d.child,le={mode:"hidden",children:le},1&$||X===null?X=Ge(le,$,0,null):(X.childLanes=0,X.pendingProps=le),h=Te(h,$,S,null),X.return=d,h.return=d,X.sibling=h,d.child=X,d.child.memoizedState=wa(S),d.memoizedState=$o,h):mo(d,le));if((q=h.memoizedState)!==null&&(T=q.dehydrated)!==null)return function(Ve,qe,Je,it,yt,lt,je){if(Je)return 256&qe.flags?(qe.flags&=-257,Eo(Ve,qe,je,it=wl(Error(t(422))))):qe.memoizedState!==null?(qe.child=Ve.child,qe.flags|=128,null):(lt=it.fallback,yt=qe.mode,it=Ge({mode:"visible",children:it.children},yt,0,null),(lt=Te(lt,yt,je,null)).flags|=2,it.return=qe,lt.return=qe,it.sibling=lt,qe.child=it,1&qe.mode&&Va(qe,Ve.child,null,je),qe.child.memoizedState=wa(je),qe.memoizedState=$o,lt);if(!(1&qe.mode))return Eo(Ve,qe,je,null);if(yt.data==="$!"){if(it=yt.nextSibling&&yt.nextSibling.dataset)var De=it.dgst;return it=De,Eo(Ve,qe,je,it=wl(lt=Error(t(419)),it,void 0))}if(De=!!(je&Ve.childLanes),_o||De){if((it=zi)!==null){switch(je&-je){case 4:yt=2;break;case 16:yt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:yt=32;break;case 536870912:yt=268435456;break;default:yt=0}(yt=yt&(it.suspendedLanes|je)?0:yt)!==0&&yt!==lt.retryLane&&(lt.retryLane=yt,Is(Ve,yt),ci(it,Ve,yt,-1))}return A(),Eo(Ve,qe,je,it=wl(Error(t(421))))}return yt.data==="$?"?(qe.flags|=128,qe.child=Ve.child,qe=V.bind(null,Ve),yt._reactRetry=qe,null):(Ve=lt.treeContext,so=Ha(yt.nextSibling),zr=qe,pr=!0,Sr=null,Ve!==null&&(ao[Wr++]=xn,ao[Wr++]=hr,ao[Wr++]=Vr,xn=Ve.id,hr=Ve.overflow,Vr=qe),qe=mo(qe,it.children),qe.flags|=4096,qe)}(h,d,le,$,T,q,S);if(X){X=$.fallback,le=d.mode,T=(q=h.child).sibling;var pe={mode:"hidden",children:$.children};return 1&le||d.child===q?($=be(q,pe)).subtreeFlags=14680064&q.subtreeFlags:(($=d.child).childLanes=0,$.pendingProps=pe,d.deletions=null),T!==null?X=be(T,X):(X=Te(X,le,S,null)).flags|=2,X.return=d,$.return=d,$.sibling=X,d.child=$,$=X,X=d.child,le=(le=h.child.memoizedState)===null?wa(S):{baseLanes:le.baseLanes|S,cachePool:null,transitions:le.transitions},X.memoizedState=le,X.childLanes=h.childLanes&~S,d.memoizedState=$o,$}return h=(X=h.child).sibling,$=be(X,{mode:"visible",children:$.children}),!(1&d.mode)&&($.lanes=S),$.return=d,$.sibling=null,h!==null&&((S=d.deletions)===null?(d.deletions=[h],d.flags|=16):S.push(h)),d.child=$,d.memoizedState=null,$}function mo(h,d){return(d=Ge({mode:"visible",children:d},h.mode,0,null)).return=h,h.child=d}function Eo(h,d,S,T){return T!==null&&Ts(T),Va(d,h.child,null,S),(h=mo(d,d.pendingProps.children)).flags|=2,d.memoizedState=null,h}function zt(h,d,S){h.lanes|=d;var T=h.alternate;T!==null&&(T.lanes|=d),$i(h.return,d,S)}function on(h,d,S,T,$){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:$}:(q.isBackwards=d,q.rendering=null,q.renderingStartTime=0,q.last=T,q.tail=S,q.tailMode=$)}function Wt(h,d,S){var T=d.pendingProps,$=T.revealOrder,q=T.tail;if(Ra(h,d,T.children,S),2&(T=ar.current))T=1&T|2,d.flags|=128;else{if(h!==null&&128&h.flags)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&zt(h,S,d);else if(h.tag===19)zt(h,S,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(Qn(ar,T),1&d.mode)switch($){case"forwards":for(S=d.child,$=null;S!==null;)(h=S.alternate)!==null&&da(h)===null&&($=S),S=S.sibling;(S=$)===null?($=d.child,d.child=null):($=S.sibling,S.sibling=null),on(d,!1,$,S,q);break;case"backwards":for(S=null,$=d.child,d.child=null;$!==null;){if((h=$.alternate)!==null&&da(h)===null){d.child=$;break}h=$.sibling,$.sibling=S,S=$,$=h}on(d,!0,S,null,q);break;case"together":on(d,!1,null,null,void 0);break;default:d.memoizedState=null}else d.memoizedState=null;return d.child}function tr(h,d){!(1&d.mode)&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function _r(h,d,S){if(h!==null&&(d.dependencies=h.dependencies),bs|=d.lanes,!(S&d.childLanes))return null;if(h!==null&&d.child!==h.child)throw Error(t(153));if(d.child!==null){for(S=be(h=d.child,h.pendingProps),d.child=S,S.return=d;h.sibling!==null;)h=h.sibling,(S=S.sibling=be(h,h.pendingProps)).return=d;S.sibling=null}return d.child}function us(h,d){if(!pr)switch(h.tailMode){case"hidden":d=h.tail;for(var S=null;d!==null;)d.alternate!==null&&(S=d),d=d.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Fi(h){var d=h.alternate!==null&&h.alternate.child===h.child,S=0,T=0;if(d)for(var $=h.child;$!==null;)S|=$.lanes|$.childLanes,T|=14680064&$.subtreeFlags,T|=14680064&$.flags,$.return=h,$=$.sibling;else for($=h.child;$!==null;)S|=$.lanes|$.childLanes,T|=$.subtreeFlags,T|=$.flags,$.return=h,$=$.sibling;return h.subtreeFlags|=T,h.childLanes=S,d}function Ii(h,d,S){var T=d.pendingProps;switch(Ia(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(d),null;case 1:case 17:return Ji(d.type)&&ic(),Fi(d),null;case 3:return T=d.stateNode,ss(),ir(Mi),ir(ki),Hu(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),h!==null&&h.child!==null||(Mu(d)?d.flags|=4:h===null||h.memoizedState.isDehydrated&&!(256&d.flags)||(d.flags|=1024,Sr!==null&&(au(Sr),Sr=null))),ih(h,d),Fi(d),null;case 5:Zr(d);var $=Xi(no.current);if(S=d.type,h!==null&&d.stateNode!=null)$n(h,d,S,T,$),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(t(166));return Fi(d),null}if(h=Xi(Ba.current),Mu(d)){T=d.stateNode,S=d.type;var q=d.memoizedProps;switch(T[os]=d,T[Kt]=q,h=!!(1&d.mode),S){case"dialog":bn("cancel",T),bn("close",T);break;case"iframe":case"object":case"embed":bn("load",T);break;case"video":case"audio":for($=0;$<xi.length;$++)bn(xi[$],T);break;case"source":bn("error",T);break;case"img":case"image":case"link":bn("error",T),bn("load",T);break;case"details":bn("toggle",T);break;case"input":wi(T,q),bn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!q.multiple},bn("invalid",T);break;case"textarea":Be(T,q),bn("invalid",T)}for(var X in ta(S,q),$=null,q)if(q.hasOwnProperty(X)){var le=q[X];X==="children"?typeof le=="string"?T.textContent!==le&&(q.suppressHydrationWarning!==!0&&ms(T.textContent,le,h),$=["children",le]):typeof le=="number"&&T.textContent!==""+le&&(q.suppressHydrationWarning!==!0&&ms(T.textContent,le,h),$=["children",""+le]):i.hasOwnProperty(X)&&le!=null&&X==="onScroll"&&bn("scroll",T)}switch(S){case"input":an(T),fe(T,q,!0);break;case"textarea":an(T),We(T);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(T.onclick=ua)}T=$,d.updateQueue=T,T!==null&&(d.flags|=4)}else{X=$.nodeType===9?$:$.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ot(S)),h==="http://www.w3.org/1999/xhtml"?S==="script"?((h=X.createElement("div")).innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=X.createElement(S,{is:T.is}):(h=X.createElement(S),S==="select"&&(X=h,T.multiple?X.multiple=!0:T.size&&(X.size=T.size))):h=X.createElementNS(h,S),h[os]=d,h[Kt]=T,dt(h,d,!1,!1),d.stateNode=h;e:{switch(X=Oo(S,T),S){case"dialog":bn("cancel",h),bn("close",h),$=T;break;case"iframe":case"object":case"embed":bn("load",h),$=T;break;case"video":case"audio":for($=0;$<xi.length;$++)bn(xi[$],h);$=T;break;case"source":bn("error",h),$=T;break;case"img":case"image":case"link":bn("error",h),bn("load",h),$=T;break;case"details":bn("toggle",h),$=T;break;case"input":wi(h,T),$=Fn(h,T),bn("invalid",h);break;case"option":default:$=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},$=$e({},T,{value:void 0}),bn("invalid",h);break;case"textarea":Be(h,T),$=Re(h,T),bn("invalid",h)}for(q in ta(S,$),le=$)if(le.hasOwnProperty(q)){var pe=le[q];q==="style"?io(h,pe):q==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0)!=null&&fn(h,pe):q==="children"?typeof pe=="string"?(S!=="textarea"||pe!=="")&&kn(h,pe):typeof pe=="number"&&kn(h,""+pe):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?pe!=null&&q==="onScroll"&&bn("scroll",h):pe!=null&&F(h,q,pe,X))}switch(S){case"input":an(h),fe(h,T,!1);break;case"textarea":an(h),We(h);break;case"option":T.value!=null&&h.setAttribute("value",""+Dt(T.value));break;case"select":h.multiple=!!T.multiple,(q=T.value)!=null?Se(h,!!T.multiple,q,!1):T.defaultValue!=null&&Se(h,!!T.multiple,T.defaultValue,!0);break;default:typeof $.onClick=="function"&&(h.onclick=ua)}switch(S){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Fi(d),null;case 6:if(h&&d.stateNode!=null)Dn(h,d,h.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(t(166));if(S=Xi(no.current),Xi(Ba.current),Mu(d)){if(T=d.stateNode,S=d.memoizedProps,T[os]=d,(q=T.nodeValue!==S)&&(h=zr)!==null)switch(h.tag){case 3:ms(T.nodeValue,S,!!(1&h.mode));break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&ms(T.nodeValue,S,!!(1&h.mode))}q&&(d.flags|=4)}else(T=(S.nodeType===9?S:S.ownerDocument).createTextNode(T))[os]=d,d.stateNode=T}return Fi(d),null;case 13:if(ir(ar),T=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(pr&&so!==null&&1&d.mode&&!(128&d.flags))ru(),qs(),d.flags|=98560,q=!1;else if(q=Mu(d),T!==null&&T.dehydrated!==null){if(h===null){if(!q)throw Error(t(318));if(!(q=(q=d.memoizedState)!==null?q.dehydrated:null))throw Error(t(317));q[os]=d}else qs(),!(128&d.flags)&&(d.memoizedState=null),d.flags|=4;Fi(d),q=!1}else Sr!==null&&(au(Sr),Sr=null),q=!0;if(!q)return 65536&d.flags?d:null}return 128&d.flags?(d.lanes=S,d):((T=T!==null)!=(h!==null&&h.memoizedState!==null)&&T&&(d.child.flags|=8192,1&d.mode&&(h===null||1&ar.current?ro===0&&(ro=3):A())),d.updateQueue!==null&&(d.flags|=4),Fi(d),null);case 4:return ss(),ih(h,d),h===null&&Di(d.stateNode.containerInfo),Fi(d),null;case 10:return Fo(d.type._context),Fi(d),null;case 19:if(ir(ar),(q=d.memoizedState)===null)return Fi(d),null;if(T=!!(128&d.flags),(X=q.rendering)===null)if(T)us(q,!1);else{if(ro!==0||h!==null&&128&h.flags)for(h=d.child;h!==null;){if((X=da(h))!==null){for(d.flags|=128,us(q,!1),(T=X.updateQueue)!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=S,S=d.child;S!==null;)h=T,(q=S).flags&=14680066,(X=q.alternate)===null?(q.childLanes=0,q.lanes=h,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=X.childLanes,q.lanes=X.lanes,q.child=X.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=X.memoizedProps,q.memoizedState=X.memoizedState,q.updateQueue=X.updateQueue,q.type=X.type,h=X.dependencies,q.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),S=S.sibling;return Qn(ar,1&ar.current|2),d.child}h=h.sibling}q.tail!==null&&Br()>Tu&&(d.flags|=128,T=!0,us(q,!1),d.lanes=4194304)}else{if(!T)if((h=da(X))!==null){if(d.flags|=128,T=!0,(S=h.updateQueue)!==null&&(d.updateQueue=S,d.flags|=4),us(q,!0),q.tail===null&&q.tailMode==="hidden"&&!X.alternate&&!pr)return Fi(d),null}else 2*Br()-q.renderingStartTime>Tu&&S!==1073741824&&(d.flags|=128,T=!0,us(q,!1),d.lanes=4194304);q.isBackwards?(X.sibling=d.child,d.child=X):((S=q.last)!==null?S.sibling=X:d.child=X,q.last=X)}return q.tail!==null?(d=q.tail,q.rendering=d,q.tail=d.sibling,q.renderingStartTime=Br(),d.sibling=null,S=ar.current,Qn(ar,T?1&S|2:1&S),d):(Fi(d),null);case 22:case 23:return Oc(),T=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(d.flags|=8192),T&&1&d.mode?1073741824&cs&&(Fi(d),6&d.subtreeFlags&&(d.flags|=8192)):Fi(d),null;case 24:case 25:return null}throw Error(t(156,d.tag))}function Ao(h,d){switch(Ia(d),d.tag){case 1:return Ji(d.type)&&ic(),65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 3:return ss(),ir(Mi),ir(ki),Hu(),65536&(h=d.flags)&&!(128&h)?(d.flags=-65537&h|128,d):null;case 5:return Zr(d),null;case 13:if(ir(ar),(h=d.memoizedState)!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(t(340));qs()}return 65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 19:return ir(ar),null;case 4:return ss(),null;case 10:return Fo(d.type._context),null;case 22:case 23:return Oc(),null;default:return null}}dt=function(h,d){for(var S=d.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},ih=function(){},$n=function(h,d,S,T){var $=h.memoizedProps;if($!==T){h=d.stateNode,Xi(Ba.current);var q,X=null;switch(S){case"input":$=Fn(h,$),T=Fn(h,T),X=[];break;case"select":$=$e({},$,{value:void 0}),T=$e({},T,{value:void 0}),X=[];break;case"textarea":$=Re(h,$),T=Re(h,T),X=[];break;default:typeof $.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=ua)}for(_e in ta(S,T),S=null,$)if(!T.hasOwnProperty(_e)&&$.hasOwnProperty(_e)&&$[_e]!=null)if(_e==="style"){var le=$[_e];for(q in le)le.hasOwnProperty(q)&&(S||(S={}),S[q]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?X||(X=[]):(X=X||[]).push(_e,null));for(_e in T){var pe=T[_e];if(le=$!=null?$[_e]:void 0,T.hasOwnProperty(_e)&&pe!==le&&(pe!=null||le!=null))if(_e==="style")if(le){for(q in le)!le.hasOwnProperty(q)||pe&&pe.hasOwnProperty(q)||(S||(S={}),S[q]="");for(q in pe)pe.hasOwnProperty(q)&&le[q]!==pe[q]&&(S||(S={}),S[q]=pe[q])}else S||(X||(X=[]),X.push(_e,S)),S=pe;else _e==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,le=le?le.__html:void 0,pe!=null&&le!==pe&&(X=X||[]).push(_e,pe)):_e==="children"?typeof pe!="string"&&typeof pe!="number"||(X=X||[]).push(_e,""+pe):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(pe!=null&&_e==="onScroll"&&bn("scroll",h),X||le===pe||(X=[])):(X=X||[]).push(_e,pe))}S&&(X=X||[]).push("style",S);var _e=X;(d.updateQueue=_e)&&(d.flags|=4)}},Dn=function(h,d,S,T){S!==T&&(d.flags|=4)};var sr=!1,sn=!1,si=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Qu(h,d){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){P(h,d,T)}else S.current=null}function yi(h,d,S){try{S()}catch(T){P(h,d,T)}}var mt=!1;function Du(h,d,S){var T=d.updateQueue;if((T=T!==null?T.lastEffect:null)!==null){var $=T=T.next;do{if(($.tag&h)===h){var q=$.destroy;$.destroy=void 0,q!==void 0&&yi(d,S,q)}$=$.next}while($!==T)}}function xr(h,d){if((d=(d=d.updateQueue)!==null?d.lastEffect:null)!==null){var S=d=d.next;do{if((S.tag&h)===h){var T=S.create;S.destroy=T()}S=S.next}while(S!==d)}}function zo(h){var d=h.ref;if(d!==null){var S=h.stateNode;h.tag,h=S,typeof d=="function"?d(h):d.current=h}}function Ot(h){var d=h.alternate;d!==null&&(h.alternate=null,Ot(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode)!==null&&(delete d[os],delete d[Kt],delete d[Fc],delete d[_a],delete d[rc]),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function nf(h){return h.tag===5||h.tag===3||h.tag===4}function ui(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||nf(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(2&h.flags))return h.stateNode}}function Cu(h,d,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?S.nodeType===8?S.parentNode.insertBefore(h,d):S.insertBefore(h,d):(S.nodeType===8?(d=S.parentNode).insertBefore(h,S):(d=S).appendChild(h),(S=S._reactRootContainer)!=null||d.onclick!==null||(d.onclick=ua));else if(T!==4&&(h=h.child)!==null)for(Cu(h,d,S),h=h.sibling;h!==null;)Cu(h,d,S),h=h.sibling}function ea(h,d,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?S.insertBefore(h,d):S.appendChild(h);else if(T!==4&&(h=h.child)!==null)for(ea(h,d,S),h=h.sibling;h!==null;)ea(h,d,S),h=h.sibling}var Ht=null,Dr=!1;function ko(h,d,S){for(S=S.child;S!==null;)ac(h,d,S),S=S.sibling}function ac(h,d,S){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Qt,S)}catch{}switch(S.tag){case 5:sn||Qu(S,d);case 6:var T=Ht,$=Dr;Ht=null,ko(h,d,S),Dr=$,(Ht=T)!==null&&(Dr?(h=Ht,S=S.stateNode,h.nodeType===8?h.parentNode.removeChild(S):h.removeChild(S)):Ht.removeChild(S.stateNode));break;case 18:Ht!==null&&(Dr?(h=Ht,S=S.stateNode,h.nodeType===8?Pn(h.parentNode,S):h.nodeType===1&&Pn(h,S),zs(h)):Pn(Ht,S.stateNode));break;case 4:T=Ht,$=Dr,Ht=S.stateNode.containerInfo,Dr=!0,ko(h,d,S),Ht=T,Dr=$;break;case 0:case 11:case 14:case 15:if(!sn&&(T=S.updateQueue)!==null&&(T=T.lastEffect)!==null){$=T=T.next;do{var q=$,X=q.destroy;q=q.tag,X!==void 0&&(2&q||4&q)&&yi(S,d,X),$=$.next}while($!==T)}ko(h,d,S);break;case 1:if(!sn&&(Qu(S,d),typeof(T=S.stateNode).componentWillUnmount=="function"))try{T.props=S.memoizedProps,T.state=S.memoizedState,T.componentWillUnmount()}catch(le){P(S,d,le)}ko(h,d,S);break;case 21:ko(h,d,S);break;case 22:1&S.mode?(sn=(T=sn)||S.memoizedState!==null,ko(h,d,S),sn=T):ko(h,d,S);break;default:ko(h,d,S)}}function zn(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new si),d.forEach(function(T){var $=Y.bind(null,h,T);S.has(T)||(S.add(T),T.then($,$))})}}function Vu(h,d){var S=d.deletions;if(S!==null)for(var T=0;T<S.length;T++){var $=S[T];try{var q=h,X=d,le=X;e:for(;le!==null;){switch(le.tag){case 5:Ht=le.stateNode,Dr=!1;break e;case 3:case 4:Ht=le.stateNode.containerInfo,Dr=!0;break e}le=le.return}if(Ht===null)throw Error(t(160));ac(q,X,$),Ht=null,Dr=!1;var pe=$.alternate;pe!==null&&(pe.return=null),$.return=null}catch(_e){P($,d,_e)}}if(12854&d.subtreeFlags)for(d=d.child;d!==null;)mh(d,h),d=d.sibling}function mh(h,d){var S=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Vu(d,h),ls(h),4&T){try{Du(3,h,h.return),xr(3,h)}catch(lt){P(h,h.return,lt)}try{Du(5,h,h.return)}catch(lt){P(h,h.return,lt)}}break;case 1:Vu(d,h),ls(h),512&T&&S!==null&&Qu(S,S.return);break;case 5:if(Vu(d,h),ls(h),512&T&&S!==null&&Qu(S,S.return),32&h.flags){var $=h.stateNode;try{kn($,"")}catch(lt){P(h,h.return,lt)}}if(4&T&&($=h.stateNode)!=null){var q=h.memoizedProps,X=S!==null?S.memoizedProps:q,le=h.type,pe=h.updateQueue;if(h.updateQueue=null,pe!==null)try{le==="input"&&q.type==="radio"&&q.name!=null&&js($,q),Oo(le,X);var _e=Oo(le,q);for(X=0;X<pe.length;X+=2){var Ve=pe[X],qe=pe[X+1];Ve==="style"?io($,qe):Ve==="dangerouslySetInnerHTML"?fn($,qe):Ve==="children"?kn($,qe):F($,Ve,qe,_e)}switch(le){case"input":$a($,q);break;case"textarea":He($,q);break;case"select":var Je=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!q.multiple;var it=q.value;it!=null?Se($,!!q.multiple,it,!1):Je!==!!q.multiple&&(q.defaultValue!=null?Se($,!!q.multiple,q.defaultValue,!0):Se($,!!q.multiple,q.multiple?[]:"",!1))}$[Kt]=q}catch(lt){P(h,h.return,lt)}}break;case 6:if(Vu(d,h),ls(h),4&T){if(h.stateNode===null)throw Error(t(162));$=h.stateNode,q=h.memoizedProps;try{$.nodeValue=q}catch(lt){P(h,h.return,lt)}}break;case 3:if(Vu(d,h),ls(h),4&T&&S!==null&&S.memoizedState.isDehydrated)try{zs(d.containerInfo)}catch(lt){P(h,h.return,lt)}break;case 4:default:Vu(d,h),ls(h);break;case 13:Vu(d,h),ls(h),8192&($=h.child).flags&&(q=$.memoizedState!==null,$.stateNode.isHidden=q,!q||$.alternate!==null&&$.alternate.memoizedState!==null||(wc=Br())),4&T&&zn(h);break;case 22:if(Ve=S!==null&&S.memoizedState!==null,1&h.mode?(sn=(_e=sn)||Ve,Vu(d,h),sn=_e):Vu(d,h),ls(h),8192&T){if(_e=h.memoizedState!==null,(h.stateNode.isHidden=_e)&&!Ve&&1&h.mode)for(Tt=h,Ve=h.child;Ve!==null;){for(qe=Tt=Ve;Tt!==null;){switch(it=(Je=Tt).child,Je.tag){case 0:case 11:case 14:case 15:Du(4,Je,Je.return);break;case 1:Qu(Je,Je.return);var yt=Je.stateNode;if(typeof yt.componentWillUnmount=="function"){T=Je,S=Je.return;try{d=T,yt.props=d.memoizedProps,yt.state=d.memoizedState,yt.componentWillUnmount()}catch(lt){P(T,S,lt)}}break;case 5:Qu(Je,Je.return);break;case 22:if(Je.memoizedState!==null){pf(qe);continue}}it!==null?(it.return=Je,Tt=it):pf(qe)}Ve=Ve.sibling}e:for(Ve=null,qe=h;;){if(qe.tag===5){if(Ve===null){Ve=qe;try{$=qe.stateNode,_e?typeof(q=$.style).setProperty=="function"?q.setProperty("display","none","important"):q.display="none":(le=qe.stateNode,X=(pe=qe.memoizedProps.style)!=null&&pe.hasOwnProperty("display")?pe.display:null,le.style.display=Ui("display",X))}catch(lt){P(h,h.return,lt)}}}else if(qe.tag===6){if(Ve===null)try{qe.stateNode.nodeValue=_e?"":qe.memoizedProps}catch(lt){P(h,h.return,lt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===h)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===h)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===h)break e;Ve===qe&&(Ve=null),qe=qe.return}Ve===qe&&(Ve=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Vu(d,h),ls(h),4&T&&zn(h);case 21:}}function ls(h){var d=h.flags;if(2&d){try{e:{for(var S=h.return;S!==null;){if(nf(S)){var T=S;break e}S=S.return}throw Error(t(160))}switch(T.tag){case 5:var $=T.stateNode;32&T.flags&&(kn($,""),T.flags&=-33),ea(h,ui(h),$);break;case 3:case 4:var q=T.stateNode.containerInfo;Cu(h,ui(h),q);break;default:throw Error(t(161))}}catch(X){P(h,h.return,X)}h.flags&=-3}4096&d&&(h.flags&=-4097)}function An(h,d,S){Tt=h,Er(h)}function Er(h,d,S){for(var T=!!(1&h.mode);Tt!==null;){var $=Tt,q=$.child;if($.tag===22&&T){var X=$.memoizedState!==null||sr;if(!X){var le=$.alternate,pe=le!==null&&le.memoizedState!==null||sn;le=sr;var _e=sn;if(sr=X,(sn=pe)&&!_e)for(Tt=$;Tt!==null;)pe=(X=Tt).child,X.tag===22&&X.memoizedState!==null?Su($):pe!==null?(pe.return=X,Tt=pe):Su($);for(;q!==null;)Tt=q,Er(q),q=q.sibling;Tt=$,sr=le,sn=_e}Eh(h)}else 8772&$.subtreeFlags&&q!==null?(q.return=$,Tt=q):Eh(h)}}function Eh(h){for(;Tt!==null;){var d=Tt;if(8772&d.flags){var S=d.alternate;try{if(8772&d.flags)switch(d.tag){case 0:case 11:case 15:sn||xr(5,d);break;case 1:var T=d.stateNode;if(4&d.flags&&!sn)if(S===null)T.componentDidMount();else{var $=d.elementType===d.type?S.memoizedProps:xu(d.type,S.memoizedProps);T.componentDidUpdate($,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var q=d.updateQueue;q!==null&&lo(d,q,T);break;case 3:var X=d.updateQueue;if(X!==null){if(S=null,d.child!==null)switch(d.child.tag){case 5:case 1:S=d.child.stateNode}lo(d,X,S)}break;case 5:var le=d.stateNode;if(S===null&&4&d.flags){S=le;var pe=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&S.focus();break;case"img":pe.src&&(S.src=pe.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(d.memoizedState===null){var _e=d.alternate;if(_e!==null){var Ve=_e.memoizedState;if(Ve!==null){var qe=Ve.dehydrated;qe!==null&&zs(qe)}}}break;default:throw Error(t(163))}sn||512&d.flags&&zo(d)}catch(Je){P(d,d.return,Je)}}if(d===h){Tt=null;break}if((S=d.sibling)!==null){S.return=d.return,Tt=S;break}Tt=d.return}}function pf(h){for(;Tt!==null;){var d=Tt;if(d===h){Tt=null;break}var S=d.sibling;if(S!==null){S.return=d.return,Tt=S;break}Tt=d.return}}function Su(h){for(;Tt!==null;){var d=Tt;try{switch(d.tag){case 0:case 11:case 15:var S=d.return;try{xr(4,d)}catch(pe){P(d,S,pe)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var $=d.return;try{T.componentDidMount()}catch(pe){P(d,$,pe)}}var q=d.return;try{zo(d)}catch(pe){P(d,q,pe)}break;case 5:var X=d.return;try{zo(d)}catch(pe){P(d,X,pe)}}}catch(pe){P(d,d.return,pe)}if(d===h){Tt=null;break}var le=d.sibling;if(le!==null){le.return=d.return,Tt=le;break}Tt=d.return}}var oh,Cn=Math.ceil,ja=O.ReactCurrentDispatcher,rf=O.ReactCurrentOwner,On=O.ReactCurrentBatchConfig,Sn=0,zi=null,ei=null,Io=0,cs=0,Zu=ds(0),ro=0,yc=null,bs=0,ba=0,Pu=0,_u=null,xs=null,wc=0,Tu=1/0,bl=null,Yn=!1,bc=null,qu=null,Hc=!1,Ds=null,ec=0,Cs=0,gf=null,Sf=-1,li=0;function er(){return 6&Sn?Br():Sf!==-1?Sf:Sf=Br()}function Ko(h){return 1&h.mode?2&Sn&&Io!==0?Io&-Io:iu.transition!==null?(li===0&&(li=Za()),li):(h=Hn)!==0?h:h=(h=window.event)===void 0?16:ll(h.type):1}function ci(h,d,S,T){if(50<Cs)throw Cs=0,gf=null,Error(t(185));hu(h,S,T),2&Sn&&h===zi||(h===zi&&(!(2&Sn)&&(ba|=S),ro===4&&el(h,Io)),Ir(h,T),S===1&&Sn===0&&!(1&d.mode)&&(Tu=Br()+500,Zc&&Ps()))}function Ir(h,d){var S=h.callbackNode;(function(q,X){for(var le=q.suspendedLanes,pe=q.pingedLanes,_e=q.expirationTimes,Ve=q.pendingLanes;0<Ve;){var qe=31-fu(Ve),Je=1<<qe,it=_e[qe];it===-1?Je&le&&!(Je&pe)||(_e[qe]=Mo(Je,X)):it<=X&&(q.expiredLanes|=Je),Ve&=~Je}})(h,d);var T=rr(h,h===zi?Io:0);if(T===0)S!==null&&_l(S),h.callbackNode=null,h.callbackPriority=0;else if(d=T&-T,h.callbackPriority!==d){if(S!=null&&_l(S),d===1)h.tag===0?function(q){Zc=!0,Tl(q)}(Ic.bind(null,h)):Tl(Ic.bind(null,h)),Mc(function(){!(6&Sn)&&Ps()}),S=null;else{switch(Xo(T)){case 1:S=gn;break;case 4:S=na;break;case 16:default:S=Sc;break;case 536870912:S=No}S=re(S,fs.bind(null,h))}h.callbackPriority=d,h.callbackNode=S}}function fs(h,d){if(Sf=-1,li=0,6&Sn)throw Error(t(327));var S=h.callbackNode;if(m()&&h.callbackNode!==S)return null;var T=rr(h,h===zi?Io:0);if(T===0)return null;if(30&T||T&h.expiredLanes||d)d=I(h,T);else{d=T;var $=Sn;Sn|=2;var q=w();for(zi===h&&Io===d||(bl=null,Tu=Br()+500,a(h,d));;)try{D();break}catch(le){l(h,le)}eo(),ja.current=q,Sn=$,ei!==null?d=0:(zi=null,Io=0,d=ro)}if(d!==0){if(d===2&&($=df(h))!==0&&(T=$,d=of(h,$)),d===1)throw S=yc,a(h,0),el(h,T),Ir(h,Br()),S;if(d===6)el(h,T);else{if($=h.current.alternate,!(30&T||function(pe){for(var _e=pe;;){if(16384&_e.flags){var Ve=_e.updateQueue;if(Ve!==null&&(Ve=Ve.stores)!==null)for(var qe=0;qe<Ve.length;qe++){var Je=Ve[qe],it=Je.getSnapshot;Je=Je.value;try{if(!wn(it(),Je))return!1}catch{return!1}}}if(Ve=_e.child,16384&_e.subtreeFlags&&Ve!==null)Ve.return=_e,_e=Ve;else{if(_e===pe)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===pe)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}($)||(d=I(h,T),d===2&&(q=df(h),q!==0&&(T=q,d=of(h,q))),d!==1)))throw S=yc,a(h,0),el(h,T),Ir(h,Br()),S;switch(h.finishedWork=$,h.finishedLanes=T,d){case 0:case 1:throw Error(t(345));case 2:case 5:v(h,xs,bl);break;case 3:if(el(h,T),(130023424&T)===T&&10<(d=wc+500-Br())){if(rr(h,0)!==0)break;if((($=h.suspendedLanes)&T)!==T){er(),h.pingedLanes|=h.suspendedLanes&$;break}h.timeoutHandle=Sa(v.bind(null,h,xs,bl),d);break}v(h,xs,bl);break;case 4:if(el(h,T),(4194240&T)===T)break;for(d=h.eventTimes,$=-1;0<T;){var X=31-fu(T);q=1<<X,(X=d[X])>$&&($=X),T&=~q}if(T=$,10<(T=(120>(T=Br()-T)?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Cn(T/1960))-T)){h.timeoutHandle=Sa(v.bind(null,h,xs,bl),T);break}v(h,xs,bl);break;default:throw Error(t(329))}}}return Ir(h,Br()),h.callbackNode===S?fs.bind(null,h):null}function of(h,d){var S=_u;return h.current.memoizedState.isDehydrated&&(a(h,d).flags|=256),(h=I(h,d))!==2&&(d=xs,xs=S,d!==null&&au(d)),h}function au(h){xs===null?xs=h:xs.push.apply(xs,h)}function el(h,d){for(d&=~Pu,d&=~ba,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var S=31-fu(d),T=1<<S;h[S]=-1,d&=~T}}function Ic(h){if(6&Sn)throw Error(t(327));m();var d=rr(h,0);if(!(1&d))return Ir(h,Br()),null;var S=I(h,d);if(h.tag!==0&&S===2){var T=df(h);T!==0&&(d=T,S=of(h,T))}if(S===1)throw S=yc,a(h,0),el(h,d),Ir(h,Br()),S;if(S===6)throw Error(t(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,v(h,xs,bl),Ir(h,Br()),null}function mf(h,d){var S=Sn;Sn|=1;try{return h(d)}finally{(Sn=S)===0&&(Tu=Br()+500,Zc&&Ps())}}function $l(h){Ds!==null&&Ds.tag===0&&!(6&Sn)&&m();var d=Sn;Sn|=1;var S=On.transition,T=Hn;try{if(On.transition=null,Hn=1,h)return h()}finally{Hn=T,On.transition=S,!(6&(Sn=d))&&Ps()}}function Oc(){cs=Zu.current,ir(Zu)}function a(h,d){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==-1&&(h.timeoutHandle=-1,jo(S)),ei!==null)for(S=ei.return;S!==null;){var T=S;switch(Ia(T),T.tag){case 1:(T=T.type.childContextTypes)!=null&&ic();break;case 3:ss(),ir(Mi),ir(ki),Hu();break;case 5:Zr(T);break;case 4:ss();break;case 13:case 19:ir(ar);break;case 10:Fo(T.type._context);break;case 22:case 23:Oc()}S=S.return}if(zi=h,ei=h=be(h.current,null),Io=cs=d,ro=0,yc=null,Pu=ba=bs=0,xs=_u=null,Na!==null){for(d=0;d<Na.length;d++)if((T=(S=Na[d]).interleaved)!==null){S.interleaved=null;var $=T.next,q=S.pending;if(q!==null){var X=q.next;q.next=$,T.next=X}S.pending=T}Na=null}return h}function l(h,d){for(;;){var S=ei;try{if(eo(),Ks.current=xf,Nl){for(var T=Gt.memoizedState;T!==null;){var $=T.queue;$!==null&&($.pending=null),T=T.next}Nl=!1}if(gr=0,kr=Vn=Gt=null,br=!1,Gs=0,rf.current=null,S===null||S.return===null){ro=1,yc=d,ei=null;break}e:{var q=h,X=S.return,le=S,pe=d;if(d=Io,le.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var _e=pe,Ve=le,qe=Ve.tag;if(!(1&Ve.mode||qe!==0&&qe!==11&&qe!==15)){var Je=Ve.alternate;Je?(Ve.updateQueue=Je.updateQueue,Ve.memoizedState=Je.memoizedState,Ve.lanes=Je.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var it=oc(X);if(it!==null){it.flags&=-257,rh(it,X,le,0,d),1&it.mode&&Cf(q,_e,d),pe=_e;var yt=(d=it).updateQueue;if(yt===null){var lt=new Set;lt.add(pe),d.updateQueue=lt}else yt.add(pe);break e}if(!(1&d)){Cf(q,_e,d),A();break e}pe=Error(t(426))}else if(pr&&1&le.mode){var je=oc(X);if(je!==null){!(65536&je.flags)&&(je.flags|=256),rh(je,X,le,0,d),Ts(yl(pe,le));break e}}q=pe=yl(pe,le),ro!==4&&(ro=2),_u===null?_u=[q]:_u.push(q),q=X;do{switch(q.tag){case 3:q.flags|=65536,d&=-d,q.lanes|=d,lf(q,Zl(0,pe,d));break e;case 1:le=pe;var De=q.type,Le=q.stateNode;if(!(128&q.flags||typeof De.getDerivedStateFromError!="function"&&(Le===null||typeof Le.componentDidCatch!="function"||qu!==null&&qu.has(Le)))){q.flags|=65536,d&=-d,q.lanes|=d,lf(q,hf(q,le,d));break e}}q=q.return}while(q!==null)}N(S)}catch(nt){d=nt,ei===S&&S!==null&&(ei=S=S.return);continue}break}}function w(){var h=ja.current;return ja.current=xf,h===null?xf:h}function A(){ro!==0&&ro!==3&&ro!==2||(ro=4),zi===null||!(268435455&bs)&&!(268435455&ba)||el(zi,Io)}function I(h,d){var S=Sn;Sn|=2;var T=w();for(zi===h&&Io===d||(bl=null,a(h,d));;)try{U();break}catch($){l(h,$)}if(eo(),Sn=S,ja.current=T,ei!==null)throw Error(t(261));return zi=null,Io=0,ro}function U(){for(;ei!==null;)E(ei)}function D(){for(;ei!==null&&!Pi();)E(ei)}function E(h){var d=oh(h.alternate,h,cs);h.memoizedProps=h.pendingProps,d===null?N(h):ei=d,rf.current=null}function N(h){var d=h;do{var S=d.alternate;if(h=d.return,32768&d.flags){if((S=Ao(S,d))!==null)return S.flags&=32767,void(ei=S);if(h===null)return ro=6,void(ei=null);h.flags|=32768,h.subtreeFlags=0,h.deletions=null}else if((S=Ii(S,d,cs))!==null)return void(ei=S);if((d=d.sibling)!==null)return void(ei=d);ei=d=h}while(d!==null);ro===0&&(ro=5)}function v(h,d,S){var T=Hn,$=On.transition;try{On.transition=null,Hn=1,function(X,le,pe,_e){do m();while(Ds!==null);if(6&Sn)throw Error(t(327));pe=X.finishedWork;var Ve=X.finishedLanes;if(pe===null)return null;if(X.finishedWork=null,X.finishedLanes=0,pe===X.current)throw Error(t(177));X.callbackNode=null,X.callbackPriority=0;var qe=pe.lanes|pe.childLanes;if(function(lt,je){var De=lt.pendingLanes&~je;lt.pendingLanes=je,lt.suspendedLanes=0,lt.pingedLanes=0,lt.expiredLanes&=je,lt.mutableReadLanes&=je,lt.entangledLanes&=je,je=lt.entanglements;var Le=lt.eventTimes;for(lt=lt.expirationTimes;0<De;){var nt=31-fu(De),Nt=1<<nt;je[nt]=0,Le[nt]=-1,lt[nt]=-1,De&=~Nt}}(X,qe),X===zi&&(ei=zi=null,Io=0),!(2064&pe.subtreeFlags)&&!(2064&pe.flags)||Hc||(Hc=!0,re(Sc,function(){return m(),null})),qe=!!(15990&pe.flags),!!(15990&pe.subtreeFlags)||qe){qe=On.transition,On.transition=null;var Je=Hn;Hn=1;var it=Sn;Sn|=4,rf.current=null,function(lt,je){if(Li=Al,ks(lt=Da())){if("selectionStart"in lt)var De={start:lt.selectionStart,end:lt.selectionEnd};else e:{var Le=(De=(De=lt.ownerDocument)&&De.defaultView||window).getSelection&&De.getSelection();if(Le&&Le.rangeCount!==0){De=Le.anchorNode;var nt=Le.anchorOffset,Nt=Le.focusNode;Le=Le.focusOffset;try{De.nodeType,Nt.nodeType}catch{De=null;break e}var Un=0,Ft=-1,Nn=-1,Or=0,Mr=0,Gr=lt,Wo=null;t:for(;;){for(var bg;Gr!==De||nt!==0&&Gr.nodeType!==3||(Ft=Un+nt),Gr!==Nt||Le!==0&&Gr.nodeType!==3||(Nn=Un+Le),Gr.nodeType===3&&(Un+=Gr.nodeValue.length),(bg=Gr.firstChild)!==null;)Wo=Gr,Gr=bg;for(;;){if(Gr===lt)break t;if(Wo===De&&++Or===nt&&(Ft=Un),Wo===Nt&&++Mr===Le&&(Nn=Un),(bg=Gr.nextSibling)!==null)break;Wo=(Gr=Wo).parentNode}Gr=bg}De=Ft===-1||Nn===-1?null:{start:Ft,end:Nn}}else De=null}De=De||{start:0,end:0}}else De=null;for(fo={focusedElem:lt,selectionRange:De},Al=!1,Tt=je;Tt!==null;)if(lt=(je=Tt).child,1028&je.subtreeFlags&&lt!==null)lt.return=je,Tt=lt;else for(;Tt!==null;){je=Tt;try{var Lg=je.alternate;if(1024&je.flags)switch(je.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Lg!==null){var Mm=Lg.memoizedProps,pw=Lg.memoizedState,s0=je.stateNode,C=s0.getSnapshotBeforeUpdate(je.elementType===je.type?Mm:xu(je.type,Mm),pw);s0.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=je.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(t(163))}}catch(B){P(je,je.return,B)}if((lt=je.sibling)!==null){lt.return=je.return,Tt=lt;break}Tt=je.return}return Lg=mt,mt=!1,Lg}(X,pe),mh(pe,X),Ai(fo),Al=!!Li,fo=Li=null,X.current=pe,An(pe),Lu(),Sn=it,Hn=Je,On.transition=qe}else X.current=pe;if(Hc&&(Hc=!1,Ds=X,ec=Ve),qe=X.pendingLanes,qe===0&&(qu=null),function(lt){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Qt,lt,void 0,!(128&~lt.current.flags))}catch{}}(pe.stateNode),Ir(X,Br()),le!==null)for(_e=X.onRecoverableError,pe=0;pe<le.length;pe++)Ve=le[pe],_e(Ve.value,{componentStack:Ve.stack,digest:Ve.digest});if(Yn)throw Yn=!1,X=bc,bc=null,X;return 1&ec&&X.tag!==0&&m(),qe=X.pendingLanes,1&qe?X===gf?Cs++:(Cs=0,gf=X):Cs=0,Ps(),null}(h,d,S,T)}finally{On.transition=$,Hn=T}return null}function m(){if(Ds!==null){var h=Xo(ec),d=On.transition,S=Hn;try{if(On.transition=null,Hn=16>h?16:h,Ds===null)var T=!1;else{if(h=Ds,Ds=null,ec=0,6&Sn)throw Error(t(331));var $=Sn;for(Sn|=4,Tt=h.current;Tt!==null;){var q=Tt,X=q.child;if(16&Tt.flags){var le=q.deletions;if(le!==null){for(var pe=0;pe<le.length;pe++){var _e=le[pe];for(Tt=_e;Tt!==null;){var Ve=Tt;switch(Ve.tag){case 0:case 11:case 15:Du(8,Ve,q)}var qe=Ve.child;if(qe!==null)qe.return=Ve,Tt=qe;else for(;Tt!==null;){var Je=(Ve=Tt).sibling,it=Ve.return;if(Ot(Ve),Ve===_e){Tt=null;break}if(Je!==null){Je.return=it,Tt=Je;break}Tt=it}}}var yt=q.alternate;if(yt!==null){var lt=yt.child;if(lt!==null){yt.child=null;do{var je=lt.sibling;lt.sibling=null,lt=je}while(lt!==null)}}Tt=q}}if(2064&q.subtreeFlags&&X!==null)X.return=q,Tt=X;else e:for(;Tt!==null;){if(2048&(q=Tt).flags)switch(q.tag){case 0:case 11:case 15:Du(9,q,q.return)}var De=q.sibling;if(De!==null){De.return=q.return,Tt=De;break e}Tt=q.return}}var Le=h.current;for(Tt=Le;Tt!==null;){var nt=(X=Tt).child;if(2064&X.subtreeFlags&&nt!==null)nt.return=X,Tt=nt;else e:for(X=Le;Tt!==null;){if(2048&(le=Tt).flags)try{switch(le.tag){case 0:case 11:case 15:xr(9,le)}}catch(Un){P(le,le.return,Un)}if(le===X){Tt=null;break e}var Nt=le.sibling;if(Nt!==null){Nt.return=le.return,Tt=Nt;break e}Tt=le.return}}if(Sn=$,Ps(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Qt,h)}catch{}T=!0}return T}finally{Hn=S,On.transition=d}}return!1}function x(h,d,S){h=ys(h,d=Zl(0,d=yl(S,d),1),1),d=er(),h!==null&&(hu(h,1,d),Ir(h,d))}function P(h,d,S){if(h.tag===3)x(h,h,S);else for(;d!==null;){if(d.tag===3){x(d,h,S);break}if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(qu===null||!qu.has(T))){d=ys(d,h=hf(d,h=yl(S,h),1),1),h=er(),d!==null&&(hu(d,1,h),Ir(d,h));break}}d=d.return}}function L(h,d,S){var T=h.pingCache;T!==null&&T.delete(d),d=er(),h.pingedLanes|=h.suspendedLanes&S,zi===h&&(Io&S)===S&&(ro===4||ro===3&&(130023424&Io)===Io&&500>Br()-wc?a(h,0):Pu|=S),Ir(h,d)}function H(h,d){d===0&&(1&h.mode?(d=Nf,!(130023424&(Nf<<=1))&&(Nf=4194304)):d=1);var S=er();(h=Is(h,d))!==null&&(hu(h,d,S),Ir(h,S))}function V(h){var d=h.memoizedState,S=0;d!==null&&(S=d.retryLane),H(h,S)}function Y(h,d){var S=0;switch(h.tag){case 13:var T=h.stateNode,$=h.memoizedState;$!==null&&(S=$.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(t(314))}T!==null&&T.delete(d),H(h,S)}function re(h,d){return cu(h,d)}function ne(h,d,S,T){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ce(h,d,S,T){return new ne(h,d,S,T)}function me(h){return!(!(h=h.prototype)||!h.isReactComponent)}function be(h,d){var S=h.alternate;return S===null?((S=ce(h.tag,d,h.key,h.mode)).elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=d,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=14680064&h.flags,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,d=h.dependencies,S.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function we(h,d,S,T,$,q){var X=2;if(T=h,typeof h=="function")me(h)&&(X=1);else if(typeof h=="string")X=5;else e:switch(h){case W:return Te(S.children,$,q,d);case J:X=8,$|=8;break;case G:return(h=ce(12,S,d,2|$)).elementType=G,h.lanes=q,h;case se:return(h=ce(13,S,d,$)).elementType=se,h.lanes=q,h;case ge:return(h=ce(19,S,d,$)).elementType=ge,h.lanes=q,h;case Ce:return Ge(S,$,q,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Q:X=10;break e;case te:X=9;break e;case ae:X=11;break e;case xe:X=14;break e;case Pe:X=16,T=null;break e}throw Error(t(130,h==null?h:typeof h,""))}return(d=ce(X,S,d,$)).elementType=h,d.type=T,d.lanes=q,d}function Te(h,d,S,T){return(h=ce(7,h,T,d)).lanes=S,h}function Ge(h,d,S,T){return(h=ce(22,h,T,d)).elementType=Ce,h.lanes=S,h.stateNode={isHidden:!1},h}function Ie(h,d,S){return(h=ce(6,h,null,d)).lanes=S,h}function Xe(h,d,S){return(d=ce(4,h.children!==null?h.children:[],h.key,d)).lanes=S,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function Ye(h,d,S,T,$){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=T,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function rt(h,d,S,T,$,q,X,le,pe){return h=new Ye(h,d,S,le,pe),d===1?(d=1,q===!0&&(d|=8)):d=0,q=ce(3,null,null,d),h.current=q,q.stateNode=h,q.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(q),h}function St(h){if(!h)return mu;e:{if(Ua(h=h._reactInternals)!==h||h.tag!==1)throw Error(t(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ji(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(t(171))}if(h.tag===1){var S=h.type;if(Ji(S))return Fs(h,S,d)}return d}function Mt(h,d,S,T,$,q,X,le,pe){return(h=rt(S,T,!0,h,0,q,0,le,pe)).context=St(null),S=h.current,(q=wr(T=er(),$=Ko(S))).callback=d??null,ys(S,q,$),h.current.lanes=$,hu(h,$,T),Ir(h,T),h}function en(h,d,S,T){var $=d.current,q=er(),X=Ko($);return S=St(S),d.context===null?d.context=S:d.pendingContext=S,(d=wr(q,X)).payload={element:h},(T=T===void 0?null:T)!==null&&(d.callback=T),(h=ys($,d,X))!==null&&(ci(h,$,X,q),yu(h,$,X)),X}function qt(h){return(h=h.current).child?(h.child.tag,h.child.stateNode):null}function It(h,d){if((h=h.memoizedState)!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<d?S:d}}function Zt(h,d){It(h,d),(h=h.alternate)&&It(h,d)}oh=function(h,d,S){if(h!==null)if(h.memoizedProps!==d.pendingProps||Mi.current)_o=!0;else{if(!(h.lanes&S||128&d.flags))return _o=!1,function(Je,it,yt){switch(it.tag){case 3:Bh(it),qs();break;case 5:Ol(it);break;case 1:Ji(it.type)&&du(it);break;case 4:st(it,it.stateNode.containerInfo);break;case 10:var lt=it.type._context,je=it.memoizedProps.value;Qn(ca,lt._currentValue),lt._currentValue=je;break;case 13:if((lt=it.memoizedState)!==null)return lt.dehydrated!==null?(Qn(ar,1&ar.current),it.flags|=128,null):yt&it.child.childLanes?Nr(Je,it,yt):(Qn(ar,1&ar.current),(Je=_r(Je,it,yt))!==null?Je.sibling:null);Qn(ar,1&ar.current);break;case 19:if(lt=!!(yt&it.childLanes),128&Je.flags){if(lt)return Wt(Je,it,yt);it.flags|=128}if((je=it.memoizedState)!==null&&(je.rendering=null,je.tail=null,je.lastEffect=null),Qn(ar,ar.current),lt)break;return null;case 22:case 23:return it.lanes=0,vc(Je,it,yt)}return _r(Je,it,yt)}(h,d,S);_o=!!(131072&h.flags)}else _o=!1,pr&&1048576&d.flags&&So(d,tn,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;tr(h,d),h=d.pendingProps;var $=ku(d,ki.current);to(d,S),$=qr(null,d,T,h,$,S);var q=Fu();return d.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ji(T)?(q=!0,du(d)):q=!1,d.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,gc(d),$.updater=ff,d.stateNode=$,$._reactInternals=d,zf(d,T,h,S),d=tf(null,d,T,!0,q,S)):(d.tag=0,pr&&q&&nu(d),Ra(null,d,$,S),d=d.child),d;case 16:T=d.elementType;e:{switch(tr(h,d),h=d.pendingProps,T=($=T._init)(T._payload),d.type=T,$=d.tag=function(Je){if(typeof Je=="function")return me(Je)?1:0;if(Je!=null){if((Je=Je.$$typeof)===ae)return 11;if(Je===xe)return 14}return 2}(T),h=xu(T,h),$){case 0:d=Ll(null,d,T,h,S);break e;case 1:d=Kr(null,d,T,h,S);break e;case 11:d=jl(null,d,T,h,S);break e;case 14:d=ws(null,d,T,xu(T.type,h),S);break e}throw Error(t(306,T,""))}return d;case 0:return T=d.type,$=d.pendingProps,Ll(h,d,T,$=d.elementType===T?$:xu(T,$),S);case 1:return T=d.type,$=d.pendingProps,Kr(h,d,T,$=d.elementType===T?$:xu(T,$),S);case 3:e:{if(Bh(d),h===null)throw Error(t(387));T=d.pendingProps,$=(q=d.memoizedState).element,Il(h,d),dl(d,T,null,S);var X=d.memoizedState;if(T=X.element,q.isDehydrated){if(q={element:T,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},d.updateQueue.baseState=q,d.memoizedState=q,256&d.flags){d=To(h,d,T,S,$=yl(Error(t(423)),d));break e}if(T!==$){d=To(h,d,T,S,$=yl(Error(t(424)),d));break e}for(so=Ha(d.stateNode.containerInfo.firstChild),zr=d,pr=!0,Sr=null,S=ml(d,null,T,S),d.child=S;S;)S.flags=-3&S.flags|4096,S=S.sibling}else{if(qs(),T===$){d=_r(h,d,S);break e}Ra(h,d,T,S)}d=d.child}return d;case 5:return Ol(d),h===null&&gl(d),T=d.type,$=d.pendingProps,q=h!==null?h.memoizedProps:null,X=$.children,uf(T,$)?X=null:q!==null&&uf(T,q)&&(d.flags|=32),ef(h,d),Ra(h,d,X,S),d.child;case 6:return h===null&&gl(d),null;case 13:return Nr(h,d,S);case 4:return st(d,d.stateNode.containerInfo),T=d.pendingProps,h===null?d.child=Va(d,null,T,S):Ra(h,d,T,S),d.child;case 11:return T=d.type,$=d.pendingProps,jl(h,d,T,$=d.elementType===T?$:xu(T,$),S);case 7:return Ra(h,d,d.pendingProps,S),d.child;case 8:case 12:return Ra(h,d,d.pendingProps.children,S),d.child;case 10:e:{if(T=d.type._context,$=d.pendingProps,q=d.memoizedProps,X=$.value,Qn(ca,T._currentValue),T._currentValue=X,q!==null)if(wn(q.value,X)){if(q.children===$.children&&!Mi.current){d=_r(h,d,S);break e}}else for((q=d.child)!==null&&(q.return=d);q!==null;){var le=q.dependencies;if(le!==null){X=q.child;for(var pe=le.firstContext;pe!==null;){if(pe.context===T){if(q.tag===1){(pe=wr(-1,S&-S)).tag=2;var _e=q.updateQueue;if(_e!==null){var Ve=(_e=_e.shared).pending;Ve===null?pe.next=pe:(pe.next=Ve.next,Ve.next=pe),_e.pending=pe}}q.lanes|=S,(pe=q.alternate)!==null&&(pe.lanes|=S),$i(q.return,S,d),le.lanes|=S;break}pe=pe.next}}else if(q.tag===10)X=q.type===d.type?null:q.child;else if(q.tag===18){if((X=q.return)===null)throw Error(t(341));X.lanes|=S,(le=X.alternate)!==null&&(le.lanes|=S),$i(X,S,d),X=q.sibling}else X=q.child;if(X!==null)X.return=q;else for(X=q;X!==null;){if(X===d){X=null;break}if((q=X.sibling)!==null){q.return=X.return,X=q;break}X=X.return}q=X}Ra(h,d,$.children,S),d=d.child}return d;case 9:return $=d.type,T=d.pendingProps.children,to(d,S),T=T($=ho($)),d.flags|=1,Ra(h,d,T,S),d.child;case 14:return $=xu(T=d.type,d.pendingProps),ws(h,d,T,$=xu(T.type,$),S);case 15:return gh(h,d,d.type,d.pendingProps,S);case 17:return T=d.type,$=d.pendingProps,$=d.elementType===T?$:xu(T,$),tr(h,d),d.tag=1,Ji(T)?(h=!0,du(d)):h=!1,to(d,S),Wc(d,T,$),zf(d,T,$,S),tf(null,d,T,!0,h,S);case 19:return Wt(h,d,S);case 22:return vc(h,d,S)}throw Error(t(156,d.tag))};var yr=typeof reportError=="function"?reportError:function(h){console.error(h)};function cr(h){this._internalRoot=h}function fi(h){this._internalRoot=h}function Gn(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Uo(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function fr(){}function Ga(h,d,S,T,$){var q=S._reactRootContainer;if(q){var X=q;if(typeof $=="function"){var le=$;$=function(){var pe=qt(X);le.call(pe)}}en(d,X,h,$)}else X=function(_e,Ve,qe,Je,it){if(it){if(typeof Je=="function"){var yt=Je;Je=function(){var Le=qt(lt);yt.call(Le)}}var lt=Mt(Ve,Je,_e,0,null,!1,0,"",fr);return _e._reactRootContainer=lt,_e[Lo]=lt.current,Di(_e.nodeType===8?_e.parentNode:_e),$l(),lt}for(;it=_e.lastChild;)_e.removeChild(it);if(typeof Je=="function"){var je=Je;Je=function(){var Le=qt(De);je.call(Le)}}var De=rt(_e,0,!1,null,0,!1,0,"",fr);return _e._reactRootContainer=De,_e[Lo]=De.current,Di(_e.nodeType===8?_e.parentNode:_e),$l(function(){en(Ve,De,qe,Je)}),De}(S,d,h,$,T);return qt(X)}fi.prototype.render=cr.prototype.render=function(h){var d=this._internalRoot;if(d===null)throw Error(t(409));en(h,d,null,null)},fi.prototype.unmount=cr.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var d=h.containerInfo;$l(function(){en(null,h,null,null)}),d[Lo]=null}},fi.prototype.unstable_scheduleHydration=function(h){if(h){var d=Qf();h={blockedOn:null,target:h,priority:d};for(var S=0;S<es.length&&d!==0&&d<es[S].priority;S++);es.splice(S,0,h),S===0&&Wl(h)}},af=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var S=Bt(d.pendingLanes);S!==0&&(Ei(d,1|S),Ir(d,Br()),!(6&Sn)&&(Tu=Br()+500,Ps()))}break;case 13:$l(function(){var T=Is(h,1);if(T!==null){var $=er();ci(T,h,1,$)}}),Zt(h,1)}},cc=function(h){if(h.tag===13){var d=Is(h,134217728);d!==null&&ci(d,h,134217728,er()),Zt(h,134217728)}},Rn=function(h){if(h.tag===13){var d=Ko(h),S=Is(h,d);S!==null&&ci(S,h,d,er()),Zt(h,d)}},Qf=function(){return Hn},jr=function(h,d){var S=Hn;try{return Hn=h,d()}finally{Hn=S}},ju=function(h,d,S){switch(d){case"input":if($a(h,S),d=S.name,S.type==="radio"&&d!=null){for(S=h;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<S.length;d++){var T=S[d];if(T!==h&&T.form===h.form){var $=Ci(T);if(!$)throw Error(t(90));un(T),$a(T,$)}}}break;case"textarea":He(h,S);break;case"select":(d=S.value)!=null&&Se(h,!!S.multiple,d,!1)}},Dl=mf,Cl=$l;var ep={usingClientEntryPoint:!1,Events:[as,Ea,Ci,zl,Ss,mf]},Wf={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tp={bundleType:Wf.bundleType,version:Wf.version,rendererPackageName:Wf.rendererPackageName,rendererConfig:Wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return(h=sl(h))===null?null:h.stateNode},findFiberByHostInstance:Wf.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Qt=sc.inject(tp),jt=sc}catch{}}return Dg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep,Dg.createPortal=function(h,d){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gn(d))throw Error(t(200));return function($,q,X){var le=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:le==null?null:""+le,children:$,containerInfo:q,implementation:X}}(h,d,null,S)},Dg.createRoot=function(h,d){if(!Gn(h))throw Error(t(299));var S=!1,T="",$=yr;return d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),d=rt(h,1,!1,null,0,S,0,T,$),h[Lo]=d.current,Di(h.nodeType===8?h.parentNode:h),new cr(d)},Dg.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(t(188)):(h=Object.keys(h).join(","),Error(t(268,h)));return h=(h=sl(d))===null?null:h.stateNode},Dg.flushSync=function(h){return $l(h)},Dg.hydrate=function(h,d,S){if(!Uo(d))throw Error(t(200));return Ga(null,h,d,!0,S)},Dg.hydrateRoot=function(h,d,S){if(!Gn(h))throw Error(t(405));var T=S!=null&&S.hydratedSources||null,$=!1,q="",X=yr;if(S!=null&&(S.unstable_strictMode===!0&&($=!0),S.identifierPrefix!==void 0&&(q=S.identifierPrefix),S.onRecoverableError!==void 0&&(X=S.onRecoverableError)),d=Mt(d,null,h,1,S??null,$,0,q,X),h[Lo]=d.current,Di(h),T)for(h=0;h<T.length;h++)$=($=(S=T[h])._getVersion)(S._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[S,$]:d.mutableSourceEagerHydrationData.push(S,$);return new fi(d)},Dg.render=function(h,d,S){if(!Uo(d))throw Error(t(200));return Ga(null,h,d,!1,S)},Dg.unmountComponentAtNode=function(h){if(!Uo(h))throw Error(t(40));return!!h._reactRootContainer&&($l(function(){Ga(null,null,h,!1,function(){h._reactRootContainer=null,h[Lo]=null})}),!0)},Dg.unstable_batchedUpdates=mf,Dg.unstable_renderSubtreeIntoContainer=function(h,d,S,T){if(!Uo(S))throw Error(t(200));if(h==null||h._reactInternals===void 0)throw Error(t(38));return Ga(h,d,S,!1,T)},Dg.version="18.3.1-next-f1338f8080-20240426",Dg}var SB,yI=function(){return SB||(SB=1,function e(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),wB.exports=kQ()),wB.exports}(),MQ=EQ(yI);function cg(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var _B=typeof Symbol=="function"&&Symbol.observable||"@@observable",CA=()=>Math.random().toString(36).substring(7).split("").join("."),EB={INIT:`@@redux/INIT${CA()}`,REPLACE:`@@redux/REPLACE${CA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${CA()}`};function o2(n,e,t){if(typeof n!="function")throw new Error(cg(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(cg(0));if(typeof e=="function"&&t===void 0&&(t=e,e=void 0),t!==void 0){if(typeof t!="function")throw new Error(cg(1));return t(o2)(n,e)}let r=n,i=e,o=new Map,s=o,u=0,c=!1;function p(){s===o&&(s=new Map,o.forEach((b,_)=>{s.set(_,b)}))}function f(){if(c)throw new Error(cg(3));return i}function g(b){if(typeof b!="function")throw new Error(cg(4));if(c)throw new Error(cg(5));let _=!0;p();const M=u++;return s.set(M,b),function(){if(_){if(c)throw new Error(cg(6));_=!1,p(),s.delete(M),o=null}}}function y(b){if(!function(M){if(typeof M!="object"||M===null)return!1;let F=M;for(;Object.getPrototypeOf(F)!==null;)F=Object.getPrototypeOf(F);return Object.getPrototypeOf(M)===F||Object.getPrototypeOf(M)===null}(b))throw new Error(cg(7));if(b.type===void 0)throw new Error(cg(8));if(typeof b.type!="string")throw new Error(cg(17));if(c)throw new Error(cg(9));try{c=!0,i=r(i,b)}finally{c=!1}return(o=s).forEach(_=>{_()}),b}return y({type:EB.INIT}),{dispatch:y,subscribe:g,getState:f,replaceReducer:function(_){if(typeof _!="function")throw new Error(cg(10));r=_,y({type:EB.REPLACE})},[_B]:function(){const _=g;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(cg(11));function F(){const O=M;O.next&&O.next(f())}return F(),{unsubscribe:_(F)}},[_B](){return this}}}}}function AB(n,e){return function(...t){return e(n.apply(this,t))}}function kB(n,e){if(typeof n=="function")return AB(n,e);if(typeof n!="object"||n===null)throw new Error(cg(16));const t={};for(const r in n){const i=n[r];typeof i=="function"&&(t[r]=AB(i,e))}return t}function a2(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}var MB,FB={exports:{}},SA={},PB;/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){return PB||(PB=1,FB.exports=function(){if(MB)return SA;MB=1;var t=qi,r=typeof Object.is=="function"?Object.is:function(f,g){return f===g&&(f!==0||1/f==1/g)||f!=f&&g!=g},i=t.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return SA.useSyncExternalStoreWithSelector=function(p,f,g,y,b){var _=o(null);if(_.current===null){var M={hasValue:!1,value:null};_.current=M}else M=_.current;_=u(function(){function O(G){if(!W){if(W=!0,j=G,G=y(G),b!==void 0&&M.hasValue){var Q=M.value;if(b(Q,G))return z=Q}return z=G}if(Q=z,r(j,G))return Q;var te=y(G);return b!==void 0&&b(Q,te)?Q:(j=G,z=te)}var j,z,W=!1,J=g===void 0?null:g;return[function(){return O(f())},J===null?void 0:function(){return O(J())}]},[f,g,y,b]);var F=i(p,_[0],_[1]);return s(function(){M.hasValue=!0,M.value=F},[F]),c(F),F},SA}()),FB.exports})();var Vc="default"in kS?qi:kS,TB=Symbol.for("react-redux-context"),IB=typeof globalThis<"u"?globalThis:{};function FQ(){if(!Vc.createContext)return{};const n=IB[TB]??(IB[TB]=new Map);let e=n.get(Vc.createContext);return e||(e=Vc.createContext(null),n.set(Vc.createContext,e)),e}var s2=FQ(),PQ=Symbol.for("react.element"),TQ=Symbol.for("react.portal"),IQ=Symbol.for("react.fragment"),OQ=Symbol.for("react.strict_mode"),NQ=Symbol.for("react.profiler"),BQ=Symbol.for("react.provider"),RQ=Symbol.for("react.context"),jQ=Symbol.for("react.server_context"),u2=Symbol.for("react.forward_ref"),LQ=Symbol.for("react.suspense"),$Q=Symbol.for("react.suspense_list"),wI=Symbol.for("react.memo"),zQ=Symbol.for("react.lazy"),UQ=u2,WQ=wI;function HQ(n){if(typeof n=="object"&&n!==null){const e=n.$$typeof;switch(e){case PQ:{const t=n.type;switch(t){case IQ:case NQ:case OQ:case LQ:case $Q:return t;default:{const r=t&&t.$$typeof;switch(r){case jQ:case RQ:case u2:case zQ:case wI:case BQ:return r;default:return e}}}}case TQ:return e}}}function VQ(n,e,t,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let u,c,p,f,g,y=!1;function b(_,M){const F=!o(M,c),O=!i(_,u,M,c);return u=_,c=M,F&&O?function(){return p=n(u,c),e.dependsOnOwnProps&&(f=e(r,c)),g=t(p,f,c),g}():F?function(){return n.dependsOnOwnProps&&(p=n(u,c)),e.dependsOnOwnProps&&(f=e(r,c)),g=t(p,f,c),g}():O?function(){const z=n(u,c),W=!s(z,p);return p=z,W&&(g=t(p,f,c)),g}():g}return function(M,F){return y?b(M,F):function(j,z){return u=j,c=z,p=n(u,c),f=e(r,c),g=t(p,f,c),y=!0,g}(M,F)}}function qQ(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:r,...i}){const o=e(n,i),s=t(n,i),u=r(n,i);return VQ(o,s,u,n,i)}function _A(n){return function(t){const r=n(t);function i(){return r}return i.dependsOnOwnProps=!1,i}}function OB(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function NB(n,e){return function(r,{displayName:i}){const o=function(u,c){return o.dependsOnOwnProps?o.mapToProps(u,c):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,c){o.mapToProps=n,o.dependsOnOwnProps=OB(n);let p=o(u,c);return typeof p=="function"&&(o.mapToProps=p,o.dependsOnOwnProps=OB(p),p=o(u,c)),p},o}}function LM(n,e){return(t,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function KQ(n,e,t){return{...t,...n,...e}}function GQ(n){return n?typeof n=="function"?function(t){return function(i,{displayName:o,areMergedPropsEqual:s}){let u,c=!1;return function(f,g,y){const b=t(f,g,y);return c?s(b,u)||(u=b):(c=!0,u=b),u}}}(n):LM(n,"mergeProps"):()=>KQ}var BB={notify(){},get:()=>[]};function l2(n,e){let t,r=BB,i=0,o=!1;function s(){p.onStateChange&&p.onStateChange()}function u(){i++,t||(t=e?e.addNestedSub(s):n.subscribe(s),r=function(){let g=null,y=null;return{clear(){g=null,y=null},notify(){(function(_){_()})(()=>{let b=g;for(;b;)b.callback(),b=b.next})},get(){const b=[];let _=g;for(;_;)b.push(_),_=_.next;return b},subscribe(b){let _=!0;const M=y={callback:b,next:null,prev:y};return M.prev?M.prev.next=M:g=M,function(){_&&g!==null&&(_=!1,M.next?M.next.prev=M.prev:y=M.prev,M.prev?M.prev.next=M.next:g=M.next)}}}}())}function c(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=BB)}const p={addNestedSub:function(g){u();const y=r.subscribe(g);let b=!1;return()=>{b||(b=!0,y(),c())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,u())},tryUnsubscribe:function(){o&&(o=!1,c())},getListeners:()=>r};return p}var YQ=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),JQ=typeof navigator<"u"&&navigator.product==="ReactNative",RC=YQ||JQ?Vc.useLayoutEffect:Vc.useEffect;function RB(n,e){return n===e?n!==0||e!==0||1/n==1/e:n!=n&&e!=e}function EA(n,e){if(RB(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!RB(n[t[i]],e[t[i]]))return!1;return!0}var XQ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},QQ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},c2={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ZQ={[UQ]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[WQ]:c2};function jB(n){return function(t){return HQ(t)===wI}(n)?c2:ZQ[n.$$typeof]||XQ}var eZ=Object.defineProperty,tZ=Object.getOwnPropertyNames,LB=Object.getOwnPropertySymbols,nZ=Object.getOwnPropertyDescriptor,rZ=Object.getPrototypeOf,$B=Object.prototype;function $M(n,e){if(typeof e!="string"){if($B){const o=rZ(e);o&&o!==$B&&$M(n,o)}let t=tZ(e);LB&&(t=t.concat(LB(e)));const r=jB(n),i=jB(e);for(let o=0;o<t.length;++o){const s=t[o];if(!(QQ[s]||i&&i[s]||r&&r[s])){const u=nZ(e,s);try{eZ(n,s,u)}catch{}}}}return n}var f2=()=>{throw new Error("uSES not initialized!")},iZ=[null,null];function oZ(n,e,t,r,i,o){n.current=r,t.current=!1,i.current&&(i.current=null,o())}function aZ(n,e){return n===e}var h2=function(e,t,r,{pure:i,areStatesEqual:o=aZ,areOwnPropsEqual:s=EA,areStatePropsEqual:u=EA,areMergedPropsEqual:c=EA,forwardRef:p=!1,context:f=s2}={}){const g=f,y=function(O){return O?typeof O=="function"?NB(O):LM(O,"mapStateToProps"):_A(()=>({}))}(e),b=function(O){return O&&typeof O=="object"?_A(j=>function(W,J){const G={};for(const Q in W){const te=W[Q];typeof te=="function"&&(G[Q]=(...ae)=>J(te(...ae)))}return G}(O,j)):O?typeof O=="function"?NB(O):LM(O,"mapDispatchToProps"):_A(j=>({dispatch:j}))}(t),_=GQ(r),M=!!e;return F=>{const O=F.displayName||F.name||"Component",j=`Connect(${O})`,z={shouldHandleStateChanges:M,displayName:j,wrappedComponentName:O,WrappedComponent:F,initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:_,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:s,areMergedPropsEqual:c};function W(G){const[Q,te,ae]=Vc.useMemo(()=>{const{reactReduxForwardedRef:Fn,...wi}=G;return[G.context,Fn,wi]},[G]),se=Vc.useMemo(()=>{let Fn=g;return Q!=null&&Q.Consumer,Fn},[Q,g]),ge=Vc.useContext(se),xe=!!G.store&&!!G.store.getState&&!!G.store.dispatch,Pe=!!ge&&!!ge.store,Ce=xe?G.store:ge.store,Me=Pe?ge.getServerState:Ce.getState,Oe=Vc.useMemo(()=>qQ(Ce.dispatch,z),[Ce]),[et,$e]=Vc.useMemo(()=>{if(!M)return iZ;const Fn=l2(Ce,xe?void 0:ge.subscription),wi=Fn.notifyNestedSubs.bind(Fn);return[Fn,wi]},[Ce,xe,ge]),Fe=Vc.useMemo(()=>xe?ge:{...ge,subscription:et},[xe,ge,et]),Ne=Vc.useRef(void 0),Ee=Vc.useRef(ae),Ze=Vc.useRef(void 0),xt=Vc.useRef(!1),wt=Vc.useRef(!1),Dt=Vc.useRef(void 0);RC(()=>(wt.current=!0,()=>{wt.current=!1}),[]);const rn=Vc.useMemo(()=>()=>Ze.current&&ae===Ee.current?Ze.current:Oe(Ce.getState(),ae),[Ce,ae]),an=Vc.useMemo(()=>Fn=>et?function(js,$a,fe,ue,ve,Se,Re,Be,He,We,ot){if(!js)return()=>{};let gt=!1,bt=null;const fn=()=>{if(gt||!Be.current)return;const kn=$a.getState();let yn,At;try{yn=ue(kn,ve.current)}catch(Ui){At=Ui,bt=Ui}At||(bt=null),yn===Se.current?Re.current||We():(Se.current=yn,He.current=yn,Re.current=!0,ot())};return fe.onStateChange=fn,fe.trySubscribe(),fn(),()=>{if(gt=!0,fe.tryUnsubscribe(),fe.onStateChange=null,bt)throw bt}}(M,Ce,et,Oe,Ee,Ne,xt,wt,Ze,$e,Fn):()=>{},[et]);let un;(function(wi,js,$a){RC(()=>wi(...js),$a)})(oZ,[Ee,Ne,xt,ae,Ze,$e]);try{un=f2(an,rn,Me?()=>Oe(Me(),ae):rn)}catch(Fn){throw Dt.current&&(Fn.message+=`
The error may be correlated with this previous error:
${Dt.current.stack}

`),Fn}RC(()=>{Dt.current=void 0,Ze.current=void 0,Ne.current=un});const ur=Vc.useMemo(()=>Vc.createElement(F,{...un,ref:te}),[te,F,un]);return Vc.useMemo(()=>M?Vc.createElement(se.Provider,{value:Fe},ur):ur,[se,ur,Fe])}const J=Vc.memo(W);if(J.WrappedComponent=F,J.displayName=W.displayName=j,p){const G=Vc.forwardRef(function(te,ae){return Vc.createElement(J,{...te,reactReduxForwardedRef:ae})});return G.displayName=j,G.WrappedComponent=F,$M(G,F)}return $M(J,F)}},sZ=function({store:e,context:t,children:r,serverState:i,stabilityCheck:o="once",identityFunctionCheck:s="once"}){const u=Vc.useMemo(()=>{const f=l2(e);return{store:e,subscription:f,getServerState:i?()=>i:void 0,stabilityCheck:o,identityFunctionCheck:s}},[e,i,o,s]),c=Vc.useMemo(()=>e.getState(),[e]);RC(()=>{const{subscription:f}=u;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==e.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[u,c]);const p=t||s2;return Vc.createElement(p.Provider,{value:u},r)};function p2(n,e){var t=at.useState(function(){return{inputs:e,result:n()}})[0],r=at.useRef(!0),i=at.useRef(t),o=r.current||!!(e&&i.current.inputs&&function(c,p){if(c.length!==p.length)return!1;for(var f=0;f<c.length;f++)if(c[f]!==p[f])return!1;return!0}(e,i.current.inputs)),s=o?i.current:{inputs:e,result:n()};return at.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}(n=>{f2=n})(at.useSyncExternalStore);var uc=p2,co=function(e,t){return p2(function(){return e},t)},uZ="Invariant failed";function lZ(n,e){throw new Error(uZ)}var Vm=function(e){var t=e.top,r=e.right,i=e.bottom,o=e.left;return{top:t,right:r,bottom:i,left:o,width:r-o,height:i-t,x:o,y:t,center:{x:(r+o)/2,y:(i+t)/2}}},bI=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},zB=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},AA={top:0,right:0,bottom:0,left:0},xI=function(e){var t=e.borderBox,r=e.margin,i=r===void 0?AA:r,o=e.border,s=o===void 0?AA:o,u=e.padding,c=u===void 0?AA:u,p=Vm(bI(t,i)),f=Vm(zB(t,s)),g=Vm(zB(f,c));return{marginBox:p,borderBox:Vm(t),paddingBox:f,contentBox:g,margin:i,border:s,padding:c}},um=function(e){var t=e.slice(0,-2);if(e.slice(-2)!=="px")return 0;var r=Number(t);return isNaN(r)&&lZ(),r},WS=function(e,t){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,u=function(p,f){return{top:p.top+f.y,left:p.left+f.x,bottom:p.bottom+f.y,right:p.right+f.x}}(r,t);return xI({borderBox:u,border:i,margin:o,padding:s})},HS=function(e,t){return t===void 0&&(t=function(){return{x:window.pageXOffset,y:window.pageYOffset}}()),WS(e,t)},g2=function(e,t){var r={top:um(t.marginTop),right:um(t.marginRight),bottom:um(t.marginBottom),left:um(t.marginLeft)},i={top:um(t.paddingTop),right:um(t.paddingRight),bottom:um(t.paddingBottom),left:um(t.paddingLeft)},o={top:um(t.borderTopWidth),right:um(t.borderRightWidth),bottom:um(t.borderBottomWidth),left:um(t.borderLeftWidth)};return xI({borderBox:e,margin:r,padding:i,border:o})},UB=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return g2(t,r)},WB=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function cZ(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(r=n[t],i=e[t],!(r===i||WB(r)&&WB(i)))return!1;var r,i;return!0}function Dp(n,e){e===void 0&&(e=cZ);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}var Ib=function(e){var t=[],r=null,i=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];t=u,r||(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function VS(){return VS=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VS.apply(null,arguments)}function m2(n,e){}m2.bind(null,"warn");m2.bind(null,"error");function Qd(){}function gm(n,e,t){const r=e.map(i=>{const o=function(u,c){return{...u,...c}}(t,i.options);return n.addEventListener(i.eventName,i.fn,o),function(){n.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const fZ="Invariant failed";let qS=class extends Error{};function nr(n,e){throw new qS(fZ)}qS.prototype.toString=function(){return this.message};class hZ extends qi.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Qd,this.onWindowError=t=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),t.error instanceof qS&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=gm(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof qS)return void this.setState({});throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const KS=n=>n+1,HB=(n,e)=>{const t=n.droppableId===e.droppableId,r=KS(n.index),i=KS(e.index);return t?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${n.droppableId}
    to list ${e.droppableId}
    in position ${i}
  `},VB=(n,e,t)=>e.droppableId===t.droppableId?`
      The item ${n}
      has been combined with ${t.draggableId}`:`
      The item ${n}
      in list ${e.droppableId}
      has been combined with ${t.draggableId}
      in list ${t.droppableId}
    `,qB=n=>`
  The item has returned to its starting position
  of ${KS(n.index)}
`,jC={dragHandleUsageInstructions:`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,onDragStart:n=>`
  You have lifted an item in position ${KS(n.source.index)}
`,onDragUpdate:n=>{const e=n.destination;if(e)return HB(n.source,e);const t=n.combine;return t?VB(n.draggableId,n.source,t):"You are over an area that cannot be dropped on"},onDragEnd:n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${qB(n.source)}
    `;const e=n.destination,t=n.combine;return e?`
      You have dropped the item.
      ${HB(n.source,e)}
    `:t?`
      You have dropped the item.
      ${VB(n.draggableId,n.source,t)}
    `:`
    The item has been dropped while not over a drop area.
    ${qB(n.source)}
  `}},_p={x:0,y:0},jp=(n,e)=>({x:n.x+e.x,y:n.y+e.y}),Qg=(n,e)=>({x:n.x-e.x,y:n.y-e.y}),Zd=(n,e)=>n.x===e.x&&n.y===e.y,iw=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),sy=(n,e,t=0)=>n==="x"?{x:e,y:t}:{x:t,y:e},Ob=(n,e)=>Math.sqrt((e.x-n.x)**2+(e.y-n.y)**2),KB=(n,e)=>Math.min(...e.map(t=>Ob(n,t))),d2=n=>e=>({x:n(e.x),y:n(e.y)}),Fx=(n,e)=>({top:n.top+e.y,left:n.left+e.x,bottom:n.bottom+e.y,right:n.right+e.x}),GB=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],pZ=(n,e)=>e&&e.shouldClipSubject?((t,r)=>{const i=Vm({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return i.width<=0||i.height<=0?null:i})(e.pageMarginBox,n):Vm(n);var B1=({page:n,withPlaceholder:e,axis:t,frame:r})=>{const i=((s,u)=>u?Fx(s,u.scroll.diff.displacement):s)(n.marginBox,r),o=((s,u,c)=>c&&c.increasedBy?{...s,[u.end]:s[u.end]+c.increasedBy[u.line]}:s)(i,t,e);return{page:n,withPlaceholder:e,active:pZ(o,r)}},zM=(n,e)=>{n.frame||nr();const t=n.frame,r=Qg(e,t.scroll.initial),i=iw(r),o={...t,scroll:{initial:t.scroll.initial,current:e,diff:{value:r,displacement:i},max:t.scroll.max}},s=B1({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:o});return{...n,frame:o,subject:s}};const v2=Dp(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),y2=Dp(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{})),EE=Dp(n=>Object.values(n)),gZ=Dp(n=>Object.values(n));var ow=Dp((n,e)=>gZ(e).filter(r=>n===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function DI(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function AE(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var GS=Dp((n,e)=>e.filter(t=>t.descriptor.id!==n.descriptor.id)),aw=(n,e)=>n.descriptor.droppableId===e.descriptor.id;const w2={point:_p,value:0},Nb={invisible:{},visible:{},all:[]},mZ={displaced:Nb,displacedBy:w2,at:null};var Em=(n,e)=>t=>n<=t&&t<=e,b2=n=>{const e=Em(n.top,n.bottom),t=Em(n.left,n.right);return r=>{if(e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right))return!0;const i=e(r.top)||e(r.bottom),o=t(r.left)||t(r.right);if(i&&o)return!0;const s=r.top<n.top&&r.bottom>n.bottom,u=r.left<n.left&&r.right>n.right;return s&&u?!0:s&&o||u&&i}},dZ=n=>{const e=Em(n.top,n.bottom),t=Em(n.left,n.right);return r=>e(r.top)&&e(r.bottom)&&t(r.left)&&t(r.right)};const CI={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},x2={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},SI=({target:n,destination:e,viewport:t,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const o=r?((s,u)=>{const c=u.frame?u.frame.scroll.diff.displacement:_p;return Fx(s,c)})(n,e):n;return((s,u,c)=>!!u.subject.active&&c(u.subject.active)(s))(o,e,i)&&((s,u,c)=>c(u)(s))(o,t,i)},D2=n=>SI({...n,isVisibleThroughFrameFn:dZ});function Bb({afterDragging:n,destination:e,displacedBy:t,viewport:r,forceShouldAnimate:i,last:o}){return n.reduce(function(u,c){const p=function(M,F){const O=M.page.marginBox,j={top:F.point.y,right:0,bottom:0,left:F.point.x};return Vm(bI(O,j))}(c,t),f=c.descriptor.id;u.all.push(f);var g;if(g={target:p,destination:e,viewport:r,withDroppableDisplacement:!0},!SI({...g,isVisibleThroughFrameFn:b2}))return u.invisible[c.descriptor.id]=!0,u;const y=((_,M,F)=>{if(typeof F=="boolean")return F;if(!M)return!0;const{invisible:O,visible:j}=M;if(O[_])return!1;const z=j[_];return!z||z.shouldAnimate})(f,o,i),b={draggableId:f,shouldAnimate:y};return u.visible[f]=b,u},{all:[],visible:{},invisible:{}})}function YB({insideDestination:n,inHomeList:e,displacedBy:t,destination:r}){const i=function(s,u){if(!s.length)return 0;const c=s[s.length-1].descriptor.index;return u.inHomeList?c:c+1}(n,{inHomeList:e});return{displaced:Nb,displacedBy:t,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function YS({draggable:n,insideDestination:e,destination:t,viewport:r,displacedBy:i,last:o,index:s,forceShouldAnimate:u}){const c=aw(n,t);if(s==null)return YB({insideDestination:e,inHomeList:c,displacedBy:i,destination:t});const p=e.find(y=>y.descriptor.index===s);if(!p)return YB({insideDestination:e,inHomeList:c,displacedBy:i,destination:t});const f=GS(n,e),g=e.indexOf(p);return{displaced:Bb({afterDragging:f.slice(g),destination:t,displacedBy:i,last:o,viewport:r.frame,forceShouldAnimate:u}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:t.descriptor.id,index:s}}}}function fv(n,e){return!!e.effected[n]}var vZ=({isMovingForward:n,isInHomeList:e,draggable:t,draggables:r,destination:i,insideDestination:o,previousImpact:s,viewport:u,afterCritical:c})=>{const p=s.at;if(p||nr(),p.type==="REORDER"){const g=(({isMovingForward:y,isInHomeList:b,insideDestination:_,location:M})=>{if(!_.length)return null;const F=M.index,O=y?F+1:F-1,j=_[0].descriptor.index,z=_[_.length-1].descriptor.index;return O<j||O>(b?z:z+1)?null:O})({isMovingForward:n,isInHomeList:e,location:p.destination,insideDestination:o});return g==null?null:YS({draggable:t,insideDestination:o,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:g})}const f=(({isMovingForward:g,destination:y,draggables:b,combine:_,afterCritical:M})=>{if(!y.isCombineEnabled)return null;const F=_.draggableId,O=b[F].descriptor.index;return fv(F,M)?g?O:O-1:g?O+1:O})({isMovingForward:n,destination:i,displaced:s.displaced,draggables:r,combine:p.combine,afterCritical:c});return f==null?null:YS({draggable:t,insideDestination:o,destination:i,viewport:u,last:s.displaced,displacedBy:s.displacedBy,index:f})},yZ=({afterCritical:n,impact:e,draggables:t})=>{const r=AE(e);r||nr();const i=r.draggableId,o=t[i].page.borderBox.center,s=(({displaced:u,afterCritical:c,combineWith:p,displacedBy:f})=>{const g=!!(u.visible[p]||u.invisible[p]);return fv(p,c)?g?_p:iw(f.point):g?f.point:_p})({displaced:e.displaced,afterCritical:n,combineWith:i,displacedBy:e.displacedBy});return jp(o,s)};const C2=(n,e)=>e.margin[n.start]+e.borderBox[n.size]/2,_I=(n,e,t)=>e[n.crossAxisStart]+t.margin[n.crossAxisStart]+t.borderBox[n.crossAxisSize]/2,JB=({axis:n,moveRelativeTo:e,isMoving:t})=>sy(n.line,e.marginBox[n.end]+C2(n,t),_I(n,e.marginBox,t)),XB=({axis:n,moveRelativeTo:e,isMoving:t})=>sy(n.line,e.marginBox[n.start]-((r,i)=>i.margin[r.end]+i.borderBox[r.size]/2)(n,t),_I(n,e.marginBox,t));var wZ=({impact:n,draggable:e,draggables:t,droppable:r,afterCritical:i})=>{const o=ow(r.descriptor.id,t),s=e.page,u=r.axis;if(!o.length)return(({axis:y,moveInto:b,isMoving:_})=>sy(y.line,b.contentBox[y.start]+C2(y,_),_I(y,b.contentBox,_)))({axis:u,moveInto:r.page,isMoving:s});const{displaced:c,displacedBy:p}=n,f=c.all[0];if(f){const y=t[f];if(fv(f,i))return XB({axis:u,moveRelativeTo:y.page,isMoving:s});const b=WS(y.page,p.point);return XB({axis:u,moveRelativeTo:b,isMoving:s})}const g=o[o.length-1];if(g.descriptor.id===e.descriptor.id)return s.borderBox.center;if(fv(g.descriptor.id,i)){const y=WS(g.page,iw(i.displacedBy.point));return JB({axis:u,moveRelativeTo:y,isMoving:s})}return JB({axis:u,moveRelativeTo:g.page,isMoving:s})},UM=(n,e)=>{const t=n.frame;return t?jp(e,t.scroll.diff.displacement):e},JS=n=>{const e=(({impact:r,draggable:i,droppable:o,draggables:s,afterCritical:u})=>{const c=i.page.borderBox.center,p=r.at;return o&&p?p.type==="REORDER"?wZ({impact:r,draggable:i,draggables:s,droppable:o,afterCritical:u}):yZ({impact:r,draggables:s,afterCritical:u}):c})(n),t=n.droppable;return t?UM(t,e):e},S2=(n,e)=>{const t=Qg(e,n.scroll.initial),r=iw(t);return{frame:Vm({top:e.y,bottom:e.y+n.frame.height,left:e.x,right:e.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:e,diff:{value:t,displacement:r}}}};function QB(n,e){return n.map(t=>e[t])}var EI=({pageBorderBoxCenter:n,draggable:e,viewport:t})=>{const r=((o,s)=>jp(o.scroll.diff.displacement,s))(t,n),i=Qg(r,e.page.borderBox.center);return jp(e.client.borderBox.center,i)},_2=({draggable:n,destination:e,newPageBorderBoxCenter:t,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:o=!1})=>{const s=Qg(t,n.page.borderBox.center),u={target:Fx(n.page.borderBox,s),destination:e,withDroppableDisplacement:i,viewport:r};return o?(c=>{return SI({...c,isVisibleThroughFrameFn:(p=c.destination.axis,f=>{const g=Em(f.top,f.bottom),y=Em(f.left,f.right);return b=>p===CI?g(b.top)&&g(b.bottom):y(b.left)&&y(b.right)})});var p})(u):D2(u)},bZ=({isMovingForward:n,draggable:e,destination:t,draggables:r,previousImpact:i,viewport:o,previousPageBorderBoxCenter:s,previousClientSelection:u,afterCritical:c})=>{if(!t.isEnabled)return null;const p=ow(t.descriptor.id,r),f=aw(e,t),g=(({isMovingForward:M,draggable:F,destination:O,insideDestination:j,previousImpact:z})=>{if(!O.isCombineEnabled||!DI(z))return null;function W(se){const ge={type:"COMBINE",combine:{draggableId:se,droppableId:O.descriptor.id}};return{...z,at:ge}}const J=z.displaced.all,G=J.length?J[0]:null;if(M)return G?W(G):null;const Q=GS(F,j);if(!G)return Q.length?W(Q[Q.length-1].descriptor.id):null;const te=Q.findIndex(se=>se.descriptor.id===G);te===-1&&nr();const ae=te-1;return ae<0?null:W(Q[ae].descriptor.id)})({isMovingForward:n,draggable:e,destination:t,insideDestination:p,previousImpact:i})||vZ({isMovingForward:n,isInHomeList:f,draggable:e,draggables:r,destination:t,insideDestination:p,previousImpact:i,viewport:o,afterCritical:c});if(!g)return null;const y=JS({impact:g,draggable:e,droppable:t,draggables:r,afterCritical:c});if(_2({draggable:e,destination:t,newPageBorderBoxCenter:y,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:EI({pageBorderBoxCenter:y,draggable:e,viewport:o}),impact:g,scrollJumpRequest:null};const b=Qg(y,s),_=(({impact:M,viewport:F,destination:O,draggables:j,maxScrollChange:z})=>{const W=S2(F,jp(F.scroll.current,z)),J=O.frame?zM(O,jp(O.frame.scroll.current,z)):O,G=M.displaced,Q=Bb({afterDragging:QB(G.all,j),destination:O,displacedBy:M.displacedBy,viewport:W.frame,last:G,forceShouldAnimate:!1}),te=Bb({afterDragging:QB(G.all,j),destination:J,displacedBy:M.displacedBy,viewport:F.frame,last:G,forceShouldAnimate:!1}),ae={},se={},ge=[G,Q,te];return G.all.forEach(xe=>{const Pe=function(Me,Oe){for(let et=0;et<Oe.length;et++){const $e=Oe[et].visible[Me];if($e)return $e}return null}(xe,ge);Pe?se[xe]=Pe:ae[xe]=!0}),{...M,displaced:{all:G.all,invisible:ae,visible:se}}})({impact:g,viewport:o,destination:t,draggables:r,maxScrollChange:b});return{clientSelection:u,impact:_,scrollJumpRequest:b}};const lg=n=>{const e=n.subject.active;return e||nr(),e},ZB=(n,e)=>{const t=n.page.borderBox.center;return fv(n.descriptor.id,e)?Qg(t,e.displacedBy.point):t},xZ=(n,e)=>{const t=n.page.borderBox;return fv(n.descriptor.id,e)?Fx(t,iw(e.displacedBy.point)):t};var Rb=Dp(function(e,t){const r=t[e.line];return{value:r,point:sy(e.line,r)}});const E2=(n,e)=>({...n,scroll:{...n.scroll,max:e}}),A2=(n,e,t)=>{const r=n.frame;aw(e,n)&&nr(),n.subject.withPlaceholder&&nr();const i=Rb(n.axis,e.displaceBy).point,o=((f,g,y)=>{const b=f.axis;if(f.descriptor.mode==="virtual")return sy(b.line,g[b.line]);const _=f.subject.page.contentBox[b.size],M=ow(f.descriptor.id,y).reduce((F,O)=>F+O.client.marginBox[b.size],0)+g[b.line]-_;return M<=0?null:sy(b.line,M)})(n,i,t),s={placeholderSize:i,increasedBy:o,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!r){const f=B1({page:n.subject.page,withPlaceholder:s,axis:n.axis,frame:n.frame});return{...n,subject:f}}const u=o?jp(r.scroll.max,o):r.scroll.max,c=E2(r,u),p=B1({page:n.subject.page,withPlaceholder:s,axis:n.axis,frame:c});return{...n,subject:p,frame:c}};var DZ=({isMovingForward:n,previousPageBorderBoxCenter:e,draggable:t,isOver:r,draggables:i,droppables:o,viewport:s,afterCritical:u})=>{const c=(({isMovingForward:b,pageBorderBoxCenter:_,source:M,droppables:F,viewport:O})=>{const j=M.subject.active;if(!j)return null;const z=M.axis,W=Em(j[z.start],j[z.end]),J=EE(F).filter(Q=>Q!==M).filter(Q=>Q.isEnabled).filter(Q=>!!Q.subject.active).filter(Q=>b2(O.frame)(lg(Q))).filter(Q=>{const te=lg(Q);return b?j[z.crossAxisEnd]<te[z.crossAxisEnd]:te[z.crossAxisStart]<j[z.crossAxisStart]}).filter(Q=>{const te=lg(Q),ae=Em(te[z.start],te[z.end]);return W(te[z.start])||W(te[z.end])||ae(j[z.start])||ae(j[z.end])}).sort((Q,te)=>{const ae=lg(Q)[z.crossAxisStart],se=lg(te)[z.crossAxisStart];return b?ae-se:se-ae}).filter((Q,te,ae)=>lg(Q)[z.crossAxisStart]===lg(ae[0])[z.crossAxisStart]);if(!J.length)return null;if(J.length===1)return J[0];const G=J.filter(Q=>Em(lg(Q)[z.start],lg(Q)[z.end])(_[z.line]));return G.length===1?G[0]:G.length>1?G.sort((Q,te)=>lg(Q)[z.start]-lg(te)[z.start])[0]:J.sort((Q,te)=>{const ae=KB(_,GB(lg(Q))),se=KB(_,GB(lg(te)));return ae!==se?ae-se:lg(Q)[z.start]-lg(te)[z.start]})[0]})({isMovingForward:n,pageBorderBoxCenter:e,source:r,droppables:o,viewport:s});if(!c)return null;const p=ow(c.descriptor.id,i),f=(({pageBorderBoxCenter:b,viewport:_,destination:M,insideDestination:F,afterCritical:O})=>F.filter(z=>D2({target:xZ(z,O),destination:M,viewport:_.frame,withDroppableDisplacement:!0})).sort((z,W)=>{const J=Ob(b,UM(M,ZB(z,O))),G=Ob(b,UM(M,ZB(W,O)));return J<G?-1:G<J?1:z.descriptor.index-W.descriptor.index})[0]||null)({pageBorderBoxCenter:e,viewport:s,destination:c,insideDestination:p,afterCritical:u}),g=(({previousPageBorderBoxCenter:b,moveRelativeTo:_,insideDestination:M,draggable:F,draggables:O,destination:j,viewport:z,afterCritical:W})=>{if(!_){if(M.length)return null;const te={displaced:Nb,displacedBy:w2,at:{type:"REORDER",destination:{droppableId:j.descriptor.id,index:0}}},ae=JS({impact:te,draggable:F,droppable:j,draggables:O,afterCritical:W}),se=aw(F,j)?j:A2(j,F,O);return _2({draggable:F,destination:se,newPageBorderBoxCenter:ae,viewport:z.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?te:null}const J=b[j.axis.line]<=_.page.borderBox.center[j.axis.line],G=(()=>{const te=_.descriptor.index;return _.descriptor.id===F.descriptor.id||J?te:te+1})(),Q=Rb(j.axis,F.displaceBy);return YS({draggable:F,insideDestination:M,destination:j,viewport:z,displacedBy:Q,last:Nb,index:G})})({previousPageBorderBoxCenter:e,destination:c,draggable:t,draggables:i,moveRelativeTo:f,insideDestination:p,viewport:s,afterCritical:u});if(!g)return null;const y=JS({impact:g,draggable:t,droppable:c,draggables:i,afterCritical:u});return{clientSelection:EI({pageBorderBoxCenter:y,draggable:t,viewport:s}),impact:g,scrollJumpRequest:null}},nm=n=>{const e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null},CZ=({state:n,type:e})=>{const t=((b,_)=>{const M=nm(b);return M?_[M]:null})(n.impact,n.dimensions.droppables),r=!!t,i=n.dimensions.droppables[n.critical.droppable.id],o=t||i,s=o.axis.direction,u=s==="vertical"&&(e==="MOVE_UP"||e==="MOVE_DOWN")||s==="horizontal"&&(e==="MOVE_LEFT"||e==="MOVE_RIGHT");if(u&&!r)return null;const c=e==="MOVE_DOWN"||e==="MOVE_RIGHT",p=n.dimensions.draggables[n.critical.draggable.id],f=n.current.page.borderBoxCenter,{draggables:g,droppables:y}=n.dimensions;return u?bZ({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:p,destination:o,draggables:g,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):DZ({isMovingForward:c,previousPageBorderBoxCenter:f,draggable:p,isOver:o,draggables:g,droppables:y,viewport:n.viewport,afterCritical:n.afterCritical})};function Nv(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function k2(n){const e=Em(n.top,n.bottom),t=Em(n.left,n.right);return function(i){return e(i.y)&&t(i.x)}}function SZ({pageBorderBox:n,draggable:e,droppables:t}){const r=EE(t).filter(i=>{if(!i.isEnabled)return!1;const o=i.subject.active;if(!o||!function(_,M){return _.left<M.right&&_.right>M.left&&_.top<M.bottom&&_.bottom>M.top}(n,o))return!1;if(k2(o)(n.center))return!0;const s=i.axis,u=o.center[s.crossAxisLine],c=n[s.crossAxisStart],p=n[s.crossAxisEnd],f=Em(o[s.crossAxisStart],o[s.crossAxisEnd]),g=f(c),y=f(p);return!g&&!y||(g?c<u:p>u)});return r.length?r.length===1?r[0].descriptor.id:function({pageBorderBox:o,draggable:s,candidates:u}){const c=s.page.borderBox.center,p=u.map(f=>{const g=f.axis,y=sy(f.axis.line,o.center[g.line],f.page.borderBox.center[g.crossAxisLine]);return{id:f.descriptor.id,distance:Ob(c,y)}}).sort((f,g)=>g.distance-f.distance);return p[0]?p[0].id:null}({pageBorderBox:n,draggable:e,candidates:r}):null}const e8=(n,e)=>Vm(Fx(n,e));function t8({displaced:n,id:e}){return!!(n.visible[e]||n.invisible[e])}var M2=({pageOffset:n,draggable:e,draggables:t,droppables:r,previousImpact:i,viewport:o,afterCritical:s})=>{const u=e8(e.page.borderBox,n),c=SZ({pageBorderBox:u,draggable:e,droppables:r});if(!c)return mZ;const p=r[c],f=ow(p.descriptor.id,t),g=((y,b)=>{const _=y.frame;return _?e8(b,_.scroll.diff.value):b})(p,u);return(({draggable:y,pageBorderBoxWithDroppableScroll:b,previousImpact:_,destination:M,insideDestination:F,afterCritical:O})=>{if(!M.isCombineEnabled)return null;const j=M.axis,z=Rb(M.axis,y.displaceBy),W=z.value,J=b[j.start],G=b[j.end],Q=GS(y,F).find(te=>{const ae=te.descriptor.id,se=te.page.borderBox,ge=se[j.size]/4,xe=fv(ae,O),Pe=t8({displaced:_.displaced,id:ae});return xe?Pe?G>se[j.start]+ge&&G<se[j.end]-ge:J>se[j.start]-W+ge&&J<se[j.end]-W-ge:Pe?G>se[j.start]+W+ge&&G<se[j.end]+W-ge:J>se[j.start]+ge&&J<se[j.end]-ge});return Q?{displacedBy:z,displaced:_.displaced,at:{type:"COMBINE",combine:{draggableId:Q.descriptor.id,droppableId:M.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:g,draggable:e,previousImpact:i,destination:p,insideDestination:f,afterCritical:s})||(({pageBorderBoxWithDroppableScroll:y,draggable:b,destination:_,insideDestination:M,last:F,viewport:O,afterCritical:j})=>{const z=_.axis,W=Rb(_.axis,b.displaceBy),J=W.value,G=y[z.start],Q=y[z.end],te=function({draggable:se,closest:ge,inHomeList:xe}){return ge?xe&&ge.descriptor.index>se.descriptor.index?ge.descriptor.index-1:ge.descriptor.index:null}({draggable:b,closest:GS(b,M).find(ae=>{const se=ae.descriptor.id,ge=ae.page.borderBox.center[z.line],xe=fv(se,j),Pe=t8({displaced:F,id:se});return xe?Pe?Q<=ge:G<ge-J:Pe?Q<=ge+J:G<ge})||null,inHomeList:aw(b,_)});return YS({draggable:b,insideDestination:M,destination:_,viewport:O,last:F,displacedBy:W,index:te})})({pageBorderBoxWithDroppableScroll:g,draggable:e,destination:p,insideDestination:f,last:i.displaced,viewport:o,afterCritical:s})},AI=(n,e)=>({...n,[e.descriptor.id]:e});const _Z=({previousImpact:n,impact:e,droppables:t})=>{const r=nm(n),i=nm(e);if(!r||r===i)return t;const o=t[r];if(!o.subject.withPlaceholder)return t;const s=(u=>{const c=u.subject.withPlaceholder;c||nr();const p=u.frame;if(!p){const b=B1({page:u.subject.page,axis:u.axis,frame:null,withPlaceholder:null});return{...u,subject:b}}const f=c.oldFrameMaxScroll;f||nr();const g=E2(p,f),y=B1({page:u.subject.page,axis:u.axis,frame:g,withPlaceholder:null});return{...u,subject:y,frame:g}})(o);return AI(t,s)};var cb=({state:n,clientSelection:e,dimensions:t,viewport:r,impact:i,scrollJumpRequest:o})=>{const s=r||n.viewport,u=t||n.dimensions,c=e||n.current.client.selection,p=Qg(c,n.initial.client.selection),f={offset:p,selection:c,borderBoxCenter:jp(n.initial.client.borderBoxCenter,p)},g={selection:jp(f.selection,s.scroll.current),borderBoxCenter:jp(f.borderBoxCenter,s.scroll.current),offset:jp(f.offset,s.scroll.diff.value)},y={client:f,page:g};if(n.phase==="COLLECTING")return{...n,dimensions:u,viewport:s,current:y};const b=u.draggables[n.critical.draggable.id],_=i||M2({pageOffset:g.offset,draggable:b,draggables:u.draggables,droppables:u.droppables,previousImpact:n.impact,viewport:s,afterCritical:n.afterCritical}),M=(({draggable:F,draggables:O,droppables:j,previousImpact:z,impact:W})=>{const J=_Z({previousImpact:z,impact:W,droppables:j}),G=nm(W);if(!G)return J;const Q=j[G];if(aw(F,Q)||Q.subject.withPlaceholder)return J;const te=A2(Q,F,O);return AI(J,te)})({draggable:b,impact:_,previousImpact:n.impact,draggables:u.draggables,droppables:u.droppables});return{...n,current:y,dimensions:{draggables:u.draggables,droppables:M},impact:_,viewport:s,scrollJumpRequest:o||null,forceShouldAnimate:!o&&null}},F2=({impact:n,viewport:e,draggables:t,destination:r,forceShouldAnimate:i})=>{const o=n.displaced,s=function(p,f){return p.map(g=>f[g])}(o.all,t),u=Bb({afterDragging:s,destination:r,displacedBy:n.displacedBy,viewport:e.frame,forceShouldAnimate:i,last:o});return{...n,displaced:u}},P2=({impact:n,draggable:e,droppable:t,draggables:r,viewport:i,afterCritical:o})=>{const s=JS({impact:n,draggable:e,draggables:r,droppable:t,afterCritical:o});return EI({pageBorderBoxCenter:s,draggable:e,viewport:i})},T2=({state:n,dimensions:e,viewport:t})=>{n.movementMode!=="SNAP"&&nr();const r=n.impact,i=t||n.viewport,o=e||n.dimensions,{draggables:s,droppables:u}=o,c=s[n.critical.draggable.id],p=nm(r);p||nr();const f=u[p],g=F2({impact:r,viewport:i,destination:f,draggables:s}),y=P2({impact:g,draggable:c,droppable:f,draggables:s,viewport:i,afterCritical:n.afterCritical});return cb({impact:g,clientSelection:y,state:n,dimensions:o,viewport:i})},n8=({draggable:n,home:e,draggables:t,viewport:r})=>{const i=Rb(e.axis,n.displaceBy),o=ow(e.descriptor.id,t),s=o.indexOf(n);s===-1&&nr();const u=o.slice(s+1),c=u.reduce((g,y)=>(g[y.descriptor.id]=!0,g),{}),p={inVirtualList:e.descriptor.mode==="virtual",displacedBy:i,effected:c};var f;return{impact:{displaced:Bb({afterDragging:u,destination:e,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(f=n.descriptor,{index:f.index,droppableId:f.droppableId})}},afterCritical:p}},EZ=({additions:n,updatedDroppables:e,viewport:t})=>{const r=t.scroll.diff.value;return n.map(i=>{const o=i.descriptor.droppableId,s=(p=>{const f=p.frame;return f||nr(),f})(e[o]),u=s.scroll.diff.value;return(({draggable:p,offset:f,initialWindowScroll:g})=>{const y=WS(p.client,f),b=HS(y,g);return{...p,placeholder:{...p.placeholder,client:y},client:y,page:b}})({draggable:i,offset:jp(r,u),initialWindowScroll:t.scroll.initial})})};const WM=n=>n.movementMode==="SNAP",kA=(n,e,t)=>{const r=((i,o)=>({draggables:i.draggables,droppables:AI(i.droppables,o)}))(n.dimensions,e);return!WM(n)||t?cb({state:n,dimensions:r}):T2({state:n,dimensions:r})};function MA(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const r8={phase:"IDLE",completed:null,shouldFlush:!1};var AZ=(n=r8,e)=>{if(e.type==="FLUSH")return{...r8,shouldFlush:!0};if(e.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&nr();const{critical:t,clientSelection:r,viewport:i,dimensions:o,movementMode:s}=e.payload,u=o.draggables[t.draggable.id],c=o.droppables[t.droppable.id],p={selection:r,borderBoxCenter:u.client.borderBox.center,offset:_p},f={client:p,page:{selection:jp(p.selection,i.scroll.initial),borderBoxCenter:jp(p.selection,i.scroll.initial),offset:jp(p.selection,i.scroll.diff.value)}},g=EE(o.droppables).every(_=>!_.isFixedOnPage),{impact:y,afterCritical:b}=n8({draggable:u,home:c,draggables:o.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:t,movementMode:s,dimensions:o,initial:f,current:f,isWindowScrollAllowed:g,impact:y,afterCritical:b,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(e.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&nr(),{...n,phase:"COLLECTING"});if(e.type==="PUBLISH_WHILE_DRAGGING")return n.phase!=="COLLECTING"&&n.phase!=="DROP_PENDING"&&nr(),(({state:t,published:r})=>{const i=r.modified.map(j=>{const z=t.dimensions.droppables[j.droppableId];return zM(z,j.scroll)}),o={...t.dimensions.droppables,...v2(i)},s=y2(EZ({additions:r.additions,updatedDroppables:o,viewport:t.viewport})),u={...t.dimensions.draggables,...s};r.removals.forEach(j=>{delete u[j]});const c={droppables:o,draggables:u},p=nm(t.impact),f=p?c.droppables[p]:null,g=c.draggables[t.critical.draggable.id],y=c.droppables[t.critical.droppable.id],{impact:b,afterCritical:_}=n8({draggable:g,home:y,draggables:u,viewport:t.viewport}),M=f&&f.isCombineEnabled?t.impact:b,F=M2({pageOffset:t.current.page.offset,draggable:c.draggables[t.critical.draggable.id],draggables:c.draggables,droppables:c.droppables,previousImpact:M,viewport:t.viewport,afterCritical:_}),O={...t,phase:"DRAGGING",impact:F,onLiftImpact:b,dimensions:c,afterCritical:_,forceShouldAnimate:!1};return t.phase==="COLLECTING"?O:{...O,phase:"DROP_PENDING",reason:t.reason,isWaiting:!1}})({state:n,published:e.payload});if(e.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;Nv(n)||nr();const{client:t}=e.payload;return Zd(t,n.current.client.selection)?n:cb({state:n,clientSelection:t,impact:WM(n)?n.impact:null})}if(e.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return MA(n);Nv(n)||nr();const{id:t,newScroll:r}=e.payload,i=n.dimensions.droppables[t];if(!i)return n;const o=zM(i,r);return kA(n,o,!1)}if(e.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;Nv(n)||nr();const{id:t,isEnabled:r}=e.payload,i=n.dimensions.droppables[t];i||nr(),i.isEnabled===r&&nr();const o={...i,isEnabled:r};return kA(n,o,!0)}if(e.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;Nv(n)||nr();const{id:t,isCombineEnabled:r}=e.payload,i=n.dimensions.droppables[t];i||nr(),i.isCombineEnabled===r&&nr();const o={...i,isCombineEnabled:r};return kA(n,o,!0)}if(e.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;Nv(n)||nr(),n.isWindowScrollAllowed||nr();const t=e.payload.newScroll;if(Zd(n.viewport.scroll.current,t))return MA(n);const r=S2(n.viewport,t);return WM(n)?T2({state:n,viewport:r}):cb({state:n,viewport:r})}if(e.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Nv(n))return n;const t=e.payload.maxScroll;if(Zd(t,n.viewport.scroll.max))return n;const r={...n.viewport,scroll:{...n.viewport.scroll,max:t}};return{...n,viewport:r}}if(e.type==="MOVE_UP"||e.type==="MOVE_DOWN"||e.type==="MOVE_LEFT"||e.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&nr();const t=CZ({state:n,type:e.type});return t?cb({state:n,impact:t.impact,clientSelection:t.clientSelection,scrollJumpRequest:t.scrollJumpRequest}):n}if(e.type==="DROP_PENDING"){const t=e.payload.reason;return n.phase!=="COLLECTING"&&nr(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:t}}if(e.type==="DROP_ANIMATE"){const{completed:t,dropDuration:r,newHomeClientOffset:i}=e.payload;return n.phase!=="DRAGGING"&&n.phase!=="DROP_PENDING"&&nr(),{phase:"DROP_ANIMATING",completed:t,dropDuration:r,newHomeClientOffset:i,dimensions:n.dimensions}}if(e.type==="DROP_COMPLETE"){const{completed:t}=e.payload;return{phase:"IDLE",completed:t,shouldFlush:!1}}return n};function Gc(n,e){return n instanceof Object&&"type"in n&&n.type===e}const kZ=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),MZ=()=>({type:"COLLECTION_STARTING",payload:null}),FZ=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),PZ=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),TZ=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),I2=n=>({type:"MOVE",payload:n}),IZ=()=>({type:"MOVE_UP",payload:null}),OZ=()=>({type:"MOVE_DOWN",payload:null}),NZ=()=>({type:"MOVE_RIGHT",payload:null}),BZ=()=>({type:"MOVE_LEFT",payload:null}),kI=n=>({type:"DROP_COMPLETE",payload:n}),O2=n=>({type:"DROP",payload:n}),RZ=()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),N2="cubic-bezier(.2,1,.1,1)",HM={drop:0,combining:.7},B2={drop:.75},R2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Av=`${R2.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,fb={fluid:`opacity ${Av}`,snap:`transform ${Av}, opacity ${Av}`,drop:n=>{const e=`${n}s ${N2}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Av}`,placeholder:`height ${Av}, width ${Av}, margin ${Av}`},j2=n=>Zd(n,_p)?void 0:`translate(${n.x}px, ${n.y}px)`,i8=j2,jZ=(n,e)=>{const t=j2(n);if(t)return e?`${t} scale(${B2.drop})`:t},{minDropTime:VM,maxDropTime:L2}=R2,LZ=L2-VM,$Z=({getState:n,dispatch:e})=>t=>r=>{if(!Gc(r,"DROP"))return void t(r);const i=n(),o=r.payload.reason;if(i.phase==="COLLECTING")return void e((j=>({type:"DROP_PENDING",payload:j}))({reason:o}));if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&nr(),i.phase!=="DRAGGING"&&i.phase!=="DROP_PENDING"&&nr();const s=i.critical,u=i.dimensions,c=u.draggables[i.critical.draggable.id],{impact:p,didDropInsideDroppable:f}=(({draggables:j,reason:z,lastImpact:W,home:J,viewport:G,onLiftImpact:Q})=>!W.at||z!=="DROP"?{impact:F2({draggables:j,impact:Q,destination:J,viewport:G,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:W.at.type==="REORDER"?{impact:W,didDropInsideDroppable:!0}:{impact:{...W,displaced:Nb},didDropInsideDroppable:!0})({reason:o,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),g=f?DI(p):null,y=f?AE(p):null,b={index:s.draggable.index,droppableId:s.droppable.id},_={draggableId:c.descriptor.id,type:c.descriptor.type,source:b,reason:o,mode:i.movementMode,destination:g,combine:y},M=(({impact:j,draggable:z,dimensions:W,viewport:J,afterCritical:G})=>{const{draggables:Q,droppables:te}=W,ae=nm(j),se=ae?te[ae]:null,ge=te[z.descriptor.droppableId],xe=P2({impact:j,draggable:z,draggables:Q,afterCritical:G,droppable:se||ge,viewport:J});return Qg(xe,z.client.borderBox.center)})({impact:p,draggable:c,dimensions:u,viewport:i.viewport,afterCritical:i.afterCritical}),F={critical:i.critical,afterCritical:i.afterCritical,result:_,impact:p};if(!(!Zd(i.current.client.offset,M)||_.combine))return void e(kI({completed:F}));const O=(({current:j,destination:z,reason:W})=>{const J=Ob(j,z);if(J<=0)return VM;if(J>=1500)return L2;const G=VM+LZ*(J/1500);return Number((W==="CANCEL"?.6*G:G).toFixed(2))})({current:i.current.client.offset,destination:M,reason:o});e((j=>({type:"DROP_ANIMATE",payload:j}))({newHomeClientOffset:M,dropDuration:O,completed:F}))};var $2=()=>({x:window.pageXOffset,y:window.pageYOffset});function zZ({onWindowScroll:n}){const e=Ib(function(){n($2())}),t=function(s){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:u=>{u.target!==window&&u.target!==window.document||s()}}}(e);let r=Qd;function i(){return r!==Qd}return{start:function(){i()&&nr(),r=gm(window,[t])},stop:function(){i()||nr(),e.cancel(),r(),r=Qd},isActive:i}}const UZ=n=>{const e=zZ({onWindowScroll:t=>{n.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:t}})}});return t=>r=>{!e.isActive()&&Gc(r,"INITIAL_PUBLISH")&&e.start(),e.isActive()&&(i=>Gc(i,"DROP_COMPLETE")||Gc(i,"DROP_ANIMATE")||Gc(i,"FLUSH"))(r)&&e.stop(),t(r)}};var WZ=()=>{const n=[];return{add:e=>{const t=setTimeout(()=>(i=>{const o=n.findIndex(u=>u.timerId===i);o===-1&&nr();const[s]=n.splice(o,1);s.callback()})(t)),r={timerId:t,callback:e};n.push(r)},flush:()=>{if(!n.length)return;const e=[...n];n.length=0,e.forEach(t=>{clearTimeout(t.timerId),t.callback()})}}};const yw=(n,e)=>{e()},Xx=(n,e)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:e});function FA(n,e,t,r){if(!n)return void t(r(e));const i=(o=>{let s=!1,u=!1;const c=setTimeout(()=>{u=!0}),p=f=>{s||u||(s=!0,o(f),clearTimeout(c))};return p.wasCalled=()=>s,p})(t);n(e,{announce:i}),i.wasCalled()||t(r(e))}var HZ=(n,e)=>{const t=((r,i)=>{const o=WZ();let s=null;const u=c=>{s||nr(),s=null,yw(0,()=>FA(r().onDragEnd,c,i,jC.onDragEnd))};return{beforeCapture:(c,p)=>{s&&nr(),yw(0,()=>{const f=r().onBeforeCapture;f&&f({draggableId:c,mode:p})})},beforeStart:(c,p)=>{s&&nr(),yw(0,()=>{const f=r().onBeforeDragStart;f&&f(Xx(c,p))})},start:(c,p)=>{s&&nr();const f=Xx(c,p);s={mode:p,lastCritical:c,lastLocation:f.source,lastCombine:null},o.add(()=>{yw(0,()=>FA(r().onDragStart,f,i,jC.onDragStart))})},update:(c,p)=>{const f=DI(p),g=AE(p);s||nr();const y=!((j,z)=>{if(j===z)return!0;const W=j.draggable.id===z.draggable.id&&j.draggable.droppableId===z.draggable.droppableId&&j.draggable.type===z.draggable.type&&j.draggable.index===z.draggable.index,J=j.droppable.id===z.droppable.id&&j.droppable.type===z.droppable.type;return W&&J})(c,s.lastCritical);y&&(s.lastCritical=c);const b=(M=f,!((_=s.lastLocation)==null&&M==null||_!=null&&M!=null&&_.droppableId===M.droppableId&&_.index===M.index));var _,M;b&&(s.lastLocation=f);const F=!((j,z)=>j==null&&z==null||j!=null&&z!=null&&j.draggableId===z.draggableId&&j.droppableId===z.droppableId)(s.lastCombine,g);if(F&&(s.lastCombine=g),!y&&!b&&!F)return;const O={...Xx(c,s.mode),combine:g,destination:f};o.add(()=>{yw(0,()=>FA(r().onDragUpdate,O,i,jC.onDragUpdate))})},flush:()=>{s||nr(),o.flush()},drop:u,abort:()=>{if(!s)return;const c={...Xx(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};u(c)}}})(n,e);return r=>i=>o=>{if(Gc(o,"BEFORE_INITIAL_CAPTURE"))return void t.beforeCapture(o.payload.draggableId,o.payload.movementMode);if(Gc(o,"INITIAL_PUBLISH")){const u=o.payload.critical;return t.beforeStart(u,o.payload.movementMode),i(o),void t.start(u,o.payload.movementMode)}if(Gc(o,"DROP_COMPLETE")){const u=o.payload.completed.result;return t.flush(),i(o),void t.drop(u)}if(i(o),Gc(o,"FLUSH"))return void t.abort();const s=r.getState();s.phase==="DRAGGING"&&t.update(s.critical,s.impact)}};const VZ=n=>e=>t=>{if(!Gc(t,"DROP_ANIMATION_FINISHED"))return void e(t);const r=n.getState();r.phase!=="DROP_ANIMATING"&&nr(),n.dispatch(kI({completed:r.completed}))},qZ=n=>{let e=null,t=null;return r=>i=>{if((Gc(i,"FLUSH")||Gc(i,"DROP_COMPLETE")||Gc(i,"DROP_ANIMATION_FINISHED"))&&function(){t&&(cancelAnimationFrame(t),t=null),e&&(e(),e=null)}(),r(i),!Gc(i,"DROP_ANIMATE"))return;const o={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};t=requestAnimationFrame(()=>{t=null,e=gm(window,[o])})}};var KZ=n=>e=>t=>r=>{if((i=>Gc(i,"DROP_COMPLETE")||Gc(i,"DROP_ANIMATE")||Gc(i,"FLUSH"))(r))return n.stop(),void t(r);if(Gc(r,"INITIAL_PUBLISH")){t(r);const i=e.getState();return i.phase!=="DRAGGING"&&nr(),void n.start(i)}t(r),n.scroll(e.getState())};const GZ=n=>e=>t=>{if(e(t),!Gc(t,"PUBLISH_WHILE_DRAGGING"))return;const r=n.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||n.dispatch(O2({reason:r.reason})))},YZ=a2;var JZ=({dimensionMarshal:n,focusMarshal:e,styleMarshal:t,getResponders:r,announce:i,autoScroller:o})=>{return o2(AZ,YZ(function(...c){return p=>(f,g)=>{const y=p(f,g);let b=()=>{throw new Error(cg(15))};const _={getState:y.getState,dispatch:(F,...O)=>b(F,...O)},M=c.map(F=>F(_));return b=a2(...M)(y.dispatch),{...y,dispatch:b}}}((s=t,()=>u=>c=>{Gc(c,"INITIAL_PUBLISH")&&s.dragging(),Gc(c,"DROP_ANIMATE")&&s.dropping(c.payload.completed.result.reason),(Gc(c,"FLUSH")||Gc(c,"DROP_COMPLETE"))&&s.resting(),u(c)}),(u=>()=>c=>p=>{(Gc(p,"DROP_COMPLETE")||Gc(p,"FLUSH")||Gc(p,"DROP_ANIMATE"))&&u.stopPublishing(),c(p)})(n),(u=>({getState:c,dispatch:p})=>f=>g=>{if(!Gc(g,"LIFT"))return void f(g);const{id:y,clientSelection:b,movementMode:_}=g.payload,M=c();M.phase==="DROP_ANIMATING"&&p(kI({completed:M.completed})),c().phase!=="IDLE"&&nr(),p({type:"FLUSH",payload:null}),p({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:y,movementMode:_}});const F={draggableId:y,scrollOptions:{shouldPublishImmediately:_==="SNAP"}},{critical:O,dimensions:j,viewport:z}=u.startPublishing(F);p({type:"INITIAL_PUBLISH",payload:{critical:O,dimensions:j,clientSelection:b,movementMode:_,viewport:z}})})(n),$Z,VZ,qZ,GZ,KZ(o),UZ,(u=>{let c=!1;return()=>p=>f=>{if(Gc(f,"INITIAL_PUBLISH"))return c=!0,u.tryRecordFocus(f.payload.critical.draggable.id),p(f),void u.tryRestoreFocusRecorded();if(p(f),c){if(Gc(f,"FLUSH"))return c=!1,void u.tryRestoreFocusRecorded();if(Gc(f,"DROP_COMPLETE")){c=!1;const g=f.payload.completed.result;g.combine&&u.tryShiftRecord(g.draggableId,g.combine.draggableId),u.tryRestoreFocusRecorded()}}}})(e),HZ(r,i))));var s},z2=({scrollHeight:n,scrollWidth:e,height:t,width:r})=>{const i=Qg({x:e,y:n},{x:r,y:t});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},U2=()=>{const n=document.documentElement;return n||nr(),n},W2=()=>{const n=U2();return z2({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},XZ=({critical:n,scrollOptions:e,registry:t})=>{const r=(()=>{const p=$2(),f=W2(),g=p.y,y=p.x,b=U2(),_=b.clientWidth,M=b.clientHeight;return{frame:Vm({top:g,left:y,right:y+_,bottom:g+M}),scroll:{initial:p,current:p,max:f,diff:{value:_p,displacement:_p}}}})(),i=r.scroll.current,o=n.droppable,s=t.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(i,e)),u=t.draggable.getAllByType(n.draggable.type).map(p=>p.getDimension(i));return{dimensions:{draggables:y2(u),droppables:v2(s)},critical:n,viewport:r}};function o8(n,e,t){return t.descriptor.id===e.id||t.descriptor.type!==e.type?!1:n.droppable.getById(t.descriptor.droppableId).descriptor.mode==="virtual"||!1}var QZ=(n,e)=>{let t=null;const r=function({registry:u,callbacks:c}){let p={additions:{},removals:{},modified:{}},f=null;const g=()=>{f||(c.collectionStarting(),f=requestAnimationFrame(()=>{f=null;const{additions:y,removals:b,modified:_}=p,M=Object.keys(y).map(j=>u.draggable.getById(j).getDimension(_p)).sort((j,z)=>j.descriptor.index-z.descriptor.index),F=Object.keys(_).map(j=>({droppableId:j,scroll:u.droppable.getById(j).callbacks.getScrollWhileDragging()})),O={additions:M,removals:Object.keys(b),modified:F};p={additions:{},removals:{},modified:{}},c.publish(O)}))};return{add:y=>{const b=y.descriptor.id;p.additions[b]=y,p.modified[y.descriptor.droppableId]=!0,p.removals[b]&&delete p.removals[b],g()},remove:y=>{const b=y.descriptor;p.removals[b.id]=!0,p.modified[b.droppableId]=!0,p.additions[b.id]&&delete p.additions[b.id],g()},stop:()=>{f&&(cancelAnimationFrame(f),f=null,p={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:e.publishWhileDragging,collectionStarting:e.collectionStarting},registry:n}),i=s=>{t||nr();const u=t.critical.draggable;s.type==="ADDITION"&&o8(n,u,s.value)&&r.add(s.value),s.type==="REMOVAL"&&o8(n,u,s.value)&&r.remove(s.value)};return{updateDroppableIsEnabled:(s,u)=>{n.droppable.exists(s)||nr(),t&&e.updateDroppableIsEnabled({id:s,isEnabled:u})},updateDroppableIsCombineEnabled:(s,u)=>{t&&(n.droppable.exists(s)||nr(),e.updateDroppableIsCombineEnabled({id:s,isCombineEnabled:u}))},scrollDroppable:(s,u)=>{t&&n.droppable.getById(s).callbacks.scroll(u)},updateDroppableScroll:(s,u)=>{t&&(n.droppable.exists(s)||nr(),e.updateDroppableScroll({id:s,newScroll:u}))},startPublishing:s=>{t&&nr();const u=n.draggable.getById(s.draggableId),c=n.droppable.getById(u.descriptor.droppableId),p={draggable:u.descriptor,droppable:c.descriptor},f=n.subscribe(i);return t={critical:p,unsubscribe:f},XZ({critical:p,registry:n,scrollOptions:s.scrollOptions})},stopPublishing:()=>{if(!t)return;r.stop();const s=t.critical.droppable;n.droppable.getAllByType(s.type).forEach(u=>u.callbacks.dragStopped()),t.unsubscribe(),t=null}}},H2=(n,e)=>n.phase==="IDLE"||n.phase==="DROP_ANIMATING"&&n.completed.result.draggableId!==e&&n.completed.result.reason==="DROP",ZZ=n=>{window.scrollBy(n.x,n.y)};const e4=Dp(n=>EE(n).filter(e=>!!e.isEnabled&&!!e.frame));var t4=({center:n,destination:e,droppables:t})=>{if(e){const i=t[e];return i.frame?i:null}return((i,o)=>e4(o).find(u=>(u.frame||nr(),k2(u.frame.pageMarginBox)(i)))||null)(n,t)};const hb={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var a8=({startOfRange:n,endOfRange:e,current:t})=>{const r=e-n;return r===0?0:(t-n)/r},s8=({distanceToEdge:n,thresholds:e,dragStartTime:t,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const o=((s,u,c=()=>hb)=>{const p=c();if(s>u.startScrollingFrom)return 0;if(s<=u.maxScrollValueAt)return p.maxPixelScroll;if(s===u.startScrollingFrom)return 1;const f=1-a8({startOfRange:u.maxScrollValueAt,endOfRange:u.startScrollingFrom,current:s}),g=p.maxPixelScroll*p.ease(f);return Math.ceil(g)})(n,e,i);return o===0?0:r?Math.max(((s,u,c)=>{const p=c(),f=p.durationDampening.accelerateAt,g=p.durationDampening.stopDampeningAt,y=u,b=g,_=Date.now()-y;if(_>=g)return s;if(_<f)return 1;const M=a8({startOfRange:f,endOfRange:b,current:_}),F=s*p.ease(M);return Math.ceil(F)})(o,t,i),1):o},u8=({container:n,distanceToEdges:e,dragStartTime:t,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s=((u,c,p=()=>hb)=>{const f=p();return{startScrollingFrom:u[c.size]*f.startFromPercentage,maxScrollValueAt:u[c.size]*f.maxScrollAtPercentage}})(n,r,o);return e[r.end]<e[r.start]?s8({distanceToEdge:e[r.end],thresholds:s,dragStartTime:t,shouldUseTimeDampening:i,getAutoScrollerOptions:o}):-1*s8({distanceToEdge:e[r.start],thresholds:s,dragStartTime:t,shouldUseTimeDampening:i,getAutoScrollerOptions:o})};const n4=d2(n=>n===0?0:n);var l8=({dragStartTime:n,container:e,subject:t,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:o})=>{const s={top:r.y-e.top,right:e.right-r.x,bottom:e.bottom-r.y,left:r.x-e.left},u=u8({container:e,distanceToEdges:s,dragStartTime:n,axis:CI,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),c=u8({container:e,distanceToEdges:s,dragStartTime:n,axis:x2,shouldUseTimeDampening:i,getAutoScrollerOptions:o}),p=n4({x:c,y:u});if(Zd(p,_p))return null;const f=(({container:g,subject:y,proposedScroll:b})=>{const _=y.height>g.height,M=y.width>g.width;return M||_?M&&_?null:{x:M?0:b.x,y:_?0:b.y}:b})({container:e,subject:t,proposedScroll:p});return f?Zd(f,_p)?null:f:null};const r4=d2(n=>n===0?0:n>0?1:-1),qM=(()=>{const n=(e,t)=>e<0?e:e>t?e-t:0;return({current:e,max:t,change:r})=>{const i=jp(e,r),o={x:n(i.x,t.x),y:n(i.y,t.y)};return Zd(o,_p)?null:o}})(),V2=({max:n,current:e,change:t})=>{const r={x:Math.max(e.x,n.x),y:Math.max(e.y,n.y)},i=r4(t),o=qM({max:r,current:e,change:i});return!o||i.x!==0&&o.x===0||i.y!==0&&o.y===0},KM=(n,e)=>V2({current:n.scroll.current,max:n.scroll.max,change:e}),GM=(n,e)=>{const t=n.frame;return!!t&&V2({current:t.scroll.current,max:t.scroll.max,change:e})};var c8=({state:n,dragStartTime:e,shouldUseTimeDampening:t,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:o})=>{const s=n.current.page.borderBoxCenter,u=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const f=(({viewport:g,subject:y,center:b,dragStartTime:_,shouldUseTimeDampening:M,getAutoScrollerOptions:F})=>{const O=l8({dragStartTime:_,container:g.frame,subject:y,center:b,shouldUseTimeDampening:M,getAutoScrollerOptions:F});return O&&KM(g,O)?O:null})({dragStartTime:e,viewport:n.viewport,subject:u,center:s,shouldUseTimeDampening:t,getAutoScrollerOptions:o});if(f)return void r(f)}const c=t4({center:s,destination:nm(n.impact),droppables:n.dimensions.droppables});if(!c)return;const p=(({droppable:f,subject:g,center:y,dragStartTime:b,shouldUseTimeDampening:_,getAutoScrollerOptions:M})=>{const F=f.frame;if(!F)return null;const O=l8({dragStartTime:b,container:F.pageMarginBox,subject:g,center:y,shouldUseTimeDampening:_,getAutoScrollerOptions:M});return O&&GM(f,O)?O:null})({dragStartTime:e,droppable:c,subject:u,center:s,shouldUseTimeDampening:t,getAutoScrollerOptions:o});p&&i(c.descriptor.id,p)},i4=({move:n,scrollDroppable:e,scrollWindow:t})=>{const r=(o,s)=>{if(!GM(o,s))return s;const u=((p,f)=>{const g=p.frame;return g&&GM(p,f)?qM({current:g.scroll.current,max:g.scroll.max,change:f}):null})(o,s);if(!u)return e(o.descriptor.id,s),null;const c=Qg(s,u);return e(o.descriptor.id,c),Qg(s,c)},i=(o,s,u)=>{if(!o||!KM(s,u))return u;const c=((f,g)=>{if(!KM(f,g))return null;const y=f.scroll.max,b=f.scroll.current;return qM({current:b,max:y,change:g})})(s,u);if(!c)return t(u),null;const p=Qg(u,c);return t(p),Qg(u,p)};return o=>{const s=o.scrollJumpRequest;if(!s)return;const u=nm(o.impact);u||nr();const c=r(o.dimensions.droppables[u],s);if(!c)return;const p=o.viewport,f=i(o.isWindowScrollAllowed,p,c);f&&((g,y)=>{const b=jp(g.current.client.selection,y);n({client:b})})(o,f)}};const R1="data-rfd",j1=(()=>{const n=`${R1}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),YM=(()=>{const n=`${R1}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),o4=(()=>{const n=`${R1}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),f8={contextId:`${R1}-scroll-container-context-id`},ww=(n,e)=>n.map(t=>{const r=t.styles[e];return r?`${t.selector} { ${r} }`:""}).join(" "),Zg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?at.useLayoutEffect:at.useEffect,PA=()=>{const n=document.querySelector("head");return n||nr(),n},h8=n=>{const e=document.createElement("style");return n&&e.setAttribute("nonce",n),e.type="text/css",e};function a4(n,e){const t=uc(()=>(f=>{const g=(y=f,M=>`[${M}="${y}"]`);var y;const b=(()=>{const M=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:g(j1.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:M,dragging:"pointer-events: none;",dropAnimating:M}}})(),_=[(()=>{const M=`
      transition: ${fb.outOfTheWay};
    `;return{selector:g(YM.contextId),styles:{dragging:M,dropAnimating:M,userCancel:M}}})(),b,{selector:g(o4.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:ww(_,"always"),resting:ww(_,"resting"),dragging:ww(_,"dragging"),dropAnimating:ww(_,"dropAnimating"),userCancel:ww(_,"userCancel")}})(n),[n]),r=at.useRef(null),i=at.useRef(null),o=co(Dp(f=>{const g=i.current;g||nr(),g.textContent=f}),[]),s=co(f=>{const g=r.current;g||nr(),g.textContent=f},[]);Zg(()=>{(r.current||i.current)&&nr();const f=h8(e),g=h8(e);return r.current=f,i.current=g,f.setAttribute(`${R1}-always`,n),g.setAttribute(`${R1}-dynamic`,n),PA().appendChild(f),PA().appendChild(g),s(t.always),o(t.resting),()=>{const y=b=>{const _=b.current;_||nr(),PA().removeChild(_),b.current=null};y(r),y(i)}},[e,s,o,t.always,t.resting,n]);const u=co(()=>o(t.dragging),[o,t.dragging]),c=co(f=>{o(f!=="DROP"?t.userCancel:t.dropAnimating)},[o,t.dropAnimating,t.userCancel]),p=co(()=>{i.current&&o(t.resting)},[o,t.resting]);return uc(()=>({dragging:u,dropping:c,resting:p}),[u,c,p])}function q2(n,e){return Array.from(n.querySelectorAll(e))}var K2=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function kE(n){return n instanceof K2(n).HTMLElement}function s4(n,e){const t=`[${j1.contextId}="${n}"]`,r=q2(document,t);if(!r.length)return null;const i=r.find(o=>o.getAttribute(j1.draggableId)===e);return i&&kE(i)?i:null}function u4(){const n={draggables:{},droppables:{}},e=[];function t(o){e.length&&e.forEach(s=>s(o))}function r(o){return n.draggables[o]||null}function i(o){return n.droppables[o]||null}return{draggable:{register:o=>{n.draggables[o.descriptor.id]=o,t({type:"ADDITION",value:o})},update:(o,s)=>{const u=n.draggables[s.descriptor.id];u&&u.uniqueId===o.uniqueId&&(delete n.draggables[s.descriptor.id],n.draggables[o.descriptor.id]=o)},unregister:o=>{const s=o.descriptor.id,u=r(s);u&&o.uniqueId===u.uniqueId&&(delete n.draggables[s],n.droppables[o.descriptor.droppableId]&&t({type:"REMOVAL",value:o}))},getById:function(s){const u=r(s);return u||nr(),u},findById:r,exists:o=>!!r(o),getAllByType:o=>Object.values(n.draggables).filter(s=>s.descriptor.type===o)},droppable:{register:o=>{n.droppables[o.descriptor.id]=o},unregister:o=>{const s=i(o.descriptor.id);s&&o.uniqueId===s.uniqueId&&delete n.droppables[o.descriptor.id]},getById:function(s){const u=i(s);return u||nr(),u},findById:i,exists:o=>!!i(o),getAllByType:o=>Object.values(n.droppables).filter(s=>s.descriptor.type===o)},subscribe:function(s){return e.push(s),function(){const c=e.indexOf(s);c!==-1&&e.splice(c,1)}},clean:function(){n.draggables={},n.droppables={},e.length=0}}}var MI=qi.createContext(null),Qx=()=>{const n=document.body;return n||nr(),n};const l4={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},c4={separator:"::"};function FI(n,e=c4){const t=qi.useId();return uc(()=>`${n}${e.separator}${t}`,[e.separator,n,t])}var ME=qi.createContext(null);function G2(n){const e=at.useRef(n);return at.useEffect(()=>{e.current=n}),e}function jb(n){return n.phase!=="IDLE"&&n.phase!=="DROP_ANIMATING"&&n.isDragging}const f4=9,h4=13,p4=33,g4=34,m4=35,d4=36,v4={[h4]:!0,[f4]:!0};var Y2=n=>{v4[n.keyCode]&&n.preventDefault()};const XS=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(e=>`on${e}`in document)||n})(),p8={type:"IDLE"};function y4({cancel:n,completed:e,getPhase:t,setPhase:r}){return[{eventName:"mousemove",fn:i=>{const{button:o,clientX:s,clientY:u}=i;if(o!==0)return;const c={x:s,y:u},p=t();if(p.type==="DRAGGING")return i.preventDefault(),void p.actions.move(c);if(p.type!=="PENDING"&&nr(),!function(y,b){return Math.abs(b.x-y.x)>=5||Math.abs(b.y-y.y)>=5}(p.point,c))return;i.preventDefault();const f=p.actions.fluidLift(c);r({type:"DRAGGING",actions:f})}},{eventName:"mouseup",fn:i=>{const o=t();o.type==="DRAGGING"?(i.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),e()):n()}},{eventName:"mousedown",fn:i=>{t().type==="DRAGGING"&&i.preventDefault(),n()}},{eventName:"keydown",fn:i=>{if(t().type!=="PENDING")return i.keyCode===27?(i.preventDefault(),void n()):void Y2(i);n()}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{t().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:i=>{const o=t();o.type==="IDLE"&&nr(),o.actions.shouldRespectForcePress()?n():i.preventDefault()}},{eventName:XS,fn:n}]}function w4(){}const b4={[g4]:!0,[p4]:!0,[d4]:!0,[m4]:!0};function x4(n,e){function t(){e(),n.cancel()}return[{eventName:"keydown",fn:r=>r.keyCode===27?(r.preventDefault(),void t()):r.keyCode===32?(r.preventDefault(),void function(){e(),n.drop()}()):r.keyCode===40?(r.preventDefault(),void n.moveDown()):r.keyCode===38?(r.preventDefault(),void n.moveUp()):r.keyCode===39?(r.preventDefault(),void n.moveRight()):r.keyCode===37?(r.preventDefault(),void n.moveLeft()):void(b4[r.keyCode]?r.preventDefault():Y2(r))},{eventName:"mousedown",fn:t},{eventName:"mouseup",fn:t},{eventName:"click",fn:t},{eventName:"touchstart",fn:t},{eventName:"resize",fn:t},{eventName:"wheel",fn:t,options:{passive:!0}},{eventName:XS,fn:t}]}const TA={type:"IDLE"},D4=["input","button","textarea","select","option","optgroup","video","audio"];function J2(n,e){if(e==null)return!1;if(D4.includes(e.tagName.toLowerCase()))return!0;const t=e.getAttribute("contenteditable");return t==="true"||t===""||e!==n&&J2(n,e.parentElement)}function C4(n,e){const t=e.target;return!!kE(t)&&J2(n,t)}var S4=n=>Vm(n.getBoundingClientRect()).center;const _4=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(t=>t in Element.prototype)||n})();function X2(n,e){return n==null?null:n[_4](e)?n:X2(n.parentElement,e)}function E4(n,e){return n.closest?n.closest(e):X2(n,e)}function A4(n,e){const t=e.target;if(!function(s){return s instanceof K2(s).Element}(t))return null;const r=function(s){return`[${j1.contextId}="${s}"]`}(n),i=E4(t,r);return i&&kE(i)?i:null}function k4(n){n.preventDefault()}function Zx({expected:n,phase:e,isLockActive:t,shouldWarn:r}){return t()&&n===e||!1}function Q2({lockAPI:n,store:e,registry:t,draggableId:r}){if(n.isClaimed())return!1;const i=t.draggable.findById(r);return i?!!i.options.isEnabled&&!!H2(e.getState(),r):!1}function M4({lockAPI:n,contextId:e,store:t,registry:r,draggableId:i,forceSensorStop:o,sourceEvent:s}){if(!Q2({lockAPI:n,store:t,registry:r,draggableId:i}))return null;const u=r.draggable.getById(i),c=function(F,O){const j=`[${YM.contextId}="${F}"]`,z=q2(document,j).find(W=>W.getAttribute(YM.id)===O);return z&&kE(z)?z:null}(e,u.descriptor.id);if(!c||s&&!u.options.canDragInteractiveElements&&C4(c,s))return null;const p=n.claim(o||Qd);let f="PRE_DRAG";function g(){return u.options.shouldRespectForcePress}function y(){return n.isActive(p)}const b=(function(F,O){Zx({expected:F,phase:f,isLockActive:y,shouldWarn:!0})&&t.dispatch(O())}).bind(null,"DRAGGING");function _(M){function F(){n.release(),f="COMPLETED"}function O(j,z={shouldBlockNextClick:!1}){if(M.cleanup(),z.shouldBlockNextClick){const W=gm(window,[{eventName:"click",fn:k4,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(W)}F(),t.dispatch(O2({reason:j}))}return f!=="PRE_DRAG"&&(F(),nr()),t.dispatch((j=>({type:"LIFT",payload:j}))(M.liftActionArgs)),f="DRAGGING",{isActive:()=>Zx({expected:"DRAGGING",phase:f,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,drop:j=>O("DROP",j),cancel:j=>O("CANCEL",j),...M.actions}}return{isActive:()=>Zx({expected:"PRE_DRAG",phase:f,isLockActive:y,shouldWarn:!1}),shouldRespectForcePress:g,fluidLift:function(F){const O=Ib(j=>{b(()=>I2({client:j}))});return{..._({liftActionArgs:{id:i,clientSelection:F,movementMode:"FLUID"},cleanup:()=>O.cancel(),actions:{move:O}}),move:O}},snapLift:function(){const F={moveUp:()=>b(IZ),moveRight:()=>b(NZ),moveDown:()=>b(OZ),moveLeft:()=>b(BZ)};return _({liftActionArgs:{id:i,clientSelection:S4(c),movementMode:"SNAP"},cleanup:Qd,actions:F})},abort:function(){Zx({expected:"PRE_DRAG",phase:f,isLockActive:y,shouldWarn:!0})&&n.release()}}}const F4=[function(e){const t=at.useRef(p8),r=at.useRef(Qd),i=uc(()=>({eventName:"mousedown",fn:function(y){if(y.defaultPrevented||y.button!==0||y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)return;const b=e.findClosestDraggableId(y);if(!b)return;const _=e.tryGetLock(b,u,{sourceEvent:y});if(!_)return;y.preventDefault();const M={x:y.clientX,y:y.clientY};r.current(),f(_,M)}}),[e]),o=uc(()=>({eventName:"webkitmouseforcewillbegin",fn:g=>{if(g.defaultPrevented)return;const y=e.findClosestDraggableId(g);if(!y)return;const b=e.findOptionsForDraggable(y);b&&(b.shouldRespectForcePress||e.canGetLock(y)&&g.preventDefault())}}),[e]),s=co(function(){r.current=gm(window,[o,i],{passive:!1,capture:!0})},[o,i]),u=co(()=>{t.current.type!=="IDLE"&&(t.current=p8,r.current(),s())},[s]),c=co(()=>{const g=t.current;u(),g.type==="DRAGGING"&&g.actions.cancel({shouldBlockNextClick:!0}),g.type==="PENDING"&&g.actions.abort()},[u]),p=co(function(){const y=y4({cancel:c,completed:u,getPhase:()=>t.current,setPhase:b=>{t.current=b}});r.current=gm(window,y,{capture:!0,passive:!1})},[c,u]),f=co(function(y,b){t.current.type!=="IDLE"&&nr(),t.current={type:"PENDING",point:b,actions:y},p()},[p]);Zg(function(){return s(),function(){r.current()}},[s])},function(e){const t=at.useRef(w4),r=uc(()=>({eventName:"keydown",fn:function(s){if(s.defaultPrevented||s.keyCode!==32)return;const u=e.findClosestDraggableId(s);if(!u)return;const c=e.tryGetLock(u,g,{sourceEvent:s});if(!c)return;s.preventDefault();let p=!0;const f=c.snapLift();function g(){p||nr(),p=!1,t.current(),i()}t.current(),t.current=gm(window,x4(f,g),{capture:!0,passive:!1})}}),[e]),i=co(function(){t.current=gm(window,[r],{passive:!1,capture:!0})},[r]);Zg(function(){return i(),function(){t.current()}},[i])},function(e){const t=at.useRef(TA),r=at.useRef(Qd),i=co(function(){return t.current},[]),o=co(function(_){t.current=_},[]),s=uc(()=>({eventName:"touchstart",fn:function(_){if(_.defaultPrevented)return;const M=e.findClosestDraggableId(_);if(!M)return;const F=e.tryGetLock(M,c,{sourceEvent:_});if(!F)return;const O=_.touches[0],{clientX:j,clientY:z}=O,W={x:j,y:z};r.current(),y(F,W)}}),[e]),u=co(function(){r.current=gm(window,[s],{capture:!0,passive:!1})},[s]),c=co(()=>{const b=t.current;b.type!=="IDLE"&&(b.type==="PENDING"&&clearTimeout(b.longPressTimerId),o(TA),r.current(),u())},[u,o]),p=co(()=>{const b=t.current;c(),b.type==="DRAGGING"&&b.actions.cancel({shouldBlockNextClick:!0}),b.type==="PENDING"&&b.actions.abort()},[c]),f=co(function(){const _={capture:!0,passive:!1},M={cancel:p,completed:c,getPhase:i},F=gm(window,function({cancel:z,completed:W,getPhase:J}){return[{eventName:"touchmove",options:{capture:!1},fn:G=>{const Q=J();if(Q.type!=="DRAGGING")return void z();Q.hasMoved=!0;const{clientX:te,clientY:ae}=G.touches[0],se={x:te,y:ae};G.preventDefault(),Q.actions.move(se)}},{eventName:"touchend",fn:G=>{const Q=J();Q.type==="DRAGGING"?(G.preventDefault(),Q.actions.drop({shouldBlockNextClick:!0}),W()):z()}},{eventName:"touchcancel",fn:G=>{J().type==="DRAGGING"&&G.preventDefault(),z()}},{eventName:"touchforcechange",fn:G=>{const Q=J();Q.type==="IDLE"&&nr();const te=G.touches[0];if(!te||!(te.force>=.15))return;const ae=Q.actions.shouldRespectForcePress();if(Q.type!=="PENDING")return ae?Q.hasMoved?void G.preventDefault():void z():void G.preventDefault();ae&&z()}},{eventName:XS,fn:z}]}(M),_),O=gm(window,function({cancel:z,getPhase:W}){return[{eventName:"orientationchange",fn:z},{eventName:"resize",fn:z},{eventName:"contextmenu",fn:J=>{J.preventDefault()}},{eventName:"keydown",fn:J=>{W().type==="DRAGGING"&&J.keyCode===27&&J.preventDefault(),z()}},{eventName:XS,fn:z}]}(M),_);r.current=function(){F(),O()}},[p,i,c]),g=co(function(){const _=i();_.type!=="PENDING"&&nr();const M=_.actions.fluidLift(_.point);o({type:"DRAGGING",actions:M,hasMoved:!1})},[i,o]),y=co(function(_,M){i().type!=="IDLE"&&nr();const F=setTimeout(g,120);o({type:"PENDING",point:M,actions:_,longPressTimerId:F}),f()},[f,i,o,g]);Zg(function(){return u(),function(){r.current();const M=i();M.type==="PENDING"&&(clearTimeout(M.longPressTimerId),o(TA))}},[i,u,o]),Zg(function(){return gm(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function P4({contextId:n,store:e,registry:t,customSensors:r,enableDefaultSensors:i}){const o=[...i?F4:[],...r||[]],s=at.useState(()=>function(){let F=null;function O(){F||nr(),F=null}return{isClaimed:function(){return!!F},isActive:function(z){return z===F},claim:function(z){F&&nr();const W={abandon:z};return F=W,W},release:O,tryAbandon:function(){F&&(F.abandon(),O())}}}())[0],u=co(function(F,O){jb(F)&&!jb(O)&&s.tryAbandon()},[s]);Zg(function(){let F=e.getState();return e.subscribe(()=>{const O=e.getState();u(F,O),F=O})},[s,e,u]),Zg(()=>s.tryAbandon,[s.tryAbandon]);const c=co(M=>Q2({lockAPI:s,registry:t,store:e,draggableId:M}),[s,t,e]),p=co((M,F,O)=>M4({lockAPI:s,registry:t,contextId:n,store:e,draggableId:M,forceSensorStop:F||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[n,s,t,e]),f=co(M=>function(O,j){const z=A4(O,j);return z?z.getAttribute(j1.draggableId):null}(n,M),[n]),g=co(M=>{const F=t.draggable.findById(M);return F?F.options:null},[t.draggable]),y=co(function(){s.isClaimed()&&(s.tryAbandon(),e.getState().phase!=="IDLE"&&e.dispatch({type:"FLUSH",payload:null}))},[s,e]),b=co(()=>s.isClaimed(),[s]),_=uc(()=>({canGetLock:c,tryGetLock:p,findClosestDraggableId:f,findOptionsForDraggable:g,tryReleaseLock:y,isLockClaimed:b}),[c,p,f,g,y,b]);for(let M=0;M<o.length;M++)o[M](_)}function bw(n){return n.current||nr(),n.current}function T4(n){const{contextId:e,setCallbacks:t,sensors:r,nonce:i,dragHandleUsageInstructions:o}=n,s=at.useRef(null),u=G2(n),c=co(()=>(ae=>({onBeforeCapture:se=>{yI.flushSync(()=>{ae.onBeforeCapture&&ae.onBeforeCapture(se)})},onBeforeDragStart:ae.onBeforeDragStart,onDragStart:ae.onDragStart,onDragEnd:ae.onDragEnd,onDragUpdate:ae.onDragUpdate}))(u.current),[u]),p=co(()=>(ae=>({...hb,...ae.autoScrollerOptions,durationDampening:{...hb.durationDampening,...ae.autoScrollerOptions}}))(u.current),[u]),f=function(se){const ge=uc(()=>(Pe=>`rfd-announcement-${Pe}`)(se),[se]),xe=at.useRef(null);return at.useEffect(function(){const Ce=document.createElement("div");return xe.current=Ce,Ce.id=ge,Ce.setAttribute("aria-live","assertive"),Ce.setAttribute("aria-atomic","true"),VS(Ce.style,l4),Qx().appendChild(Ce),function(){setTimeout(function(){const et=Qx();et.contains(Ce)&&et.removeChild(Ce),Ce===xe.current&&(xe.current=null)})}},[ge]),co(Pe=>{const Ce=xe.current;Ce&&(Ce.textContent=Pe)},[])}(e),g=function({contextId:se,text:ge}){const xe=FI("hidden-text",{separator:"-"}),Pe=uc(()=>function({contextId:Me,uniqueId:Oe}){return`rfd-hidden-text-${Me}-${Oe}`}({contextId:se,uniqueId:xe}),[xe,se]);return at.useEffect(function(){const Me=document.createElement("div");return Me.id=Pe,Me.textContent=ge,Me.style.display="none",Qx().appendChild(Me),function(){const et=Qx();et.contains(Me)&&et.removeChild(Me)}},[Pe,ge]),Pe}({contextId:e,text:o}),y=a4(e,i),b=co(ae=>{bw(s).dispatch(ae)},[]),_=uc(()=>kB({publishWhileDragging:kZ,updateDroppableScroll:FZ,updateDroppableIsEnabled:PZ,updateDroppableIsCombineEnabled:TZ,collectionStarting:MZ},b),[b]),M=function(){const se=uc(u4,[]);return at.useEffect(()=>function(){se.clean()},[se]),se}(),F=uc(()=>QZ(M,_),[M,_]),O=uc(()=>(({scrollDroppable:ae,scrollWindow:se,move:ge,getAutoScrollerOptions:xe})=>{const Pe=(({scrollWindow:Me,scrollDroppable:Oe,getAutoScrollerOptions:et=()=>hb})=>{const $e=Ib(Me),Fe=Ib(Oe);let Ne=null;const Ee=Ze=>{Ne||nr();const{shouldUseTimeDampening:xt,dragStartTime:wt}=Ne;c8({state:Ze,scrollWindow:$e,scrollDroppable:Fe,dragStartTime:wt,shouldUseTimeDampening:xt,getAutoScrollerOptions:et})};return{start:Ze=>{Ne&&nr();const xt=Date.now();let wt=!1;const Dt=()=>{wt=!0};c8({state:Ze,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:Dt,scrollDroppable:Dt,getAutoScrollerOptions:et}),Ne={dragStartTime:xt,shouldUseTimeDampening:wt},wt&&Ee(Ze)},stop:()=>{Ne&&($e.cancel(),Fe.cancel(),Ne=null)},scroll:Ee}})({scrollWindow:se,scrollDroppable:ae,getAutoScrollerOptions:xe}),Ce=i4({move:ge,scrollWindow:se,scrollDroppable:ae});return{scroll:Me=>{xe().disabled||Me.phase!=="DRAGGING"||(Me.movementMode!=="FLUID"?Me.scrollJumpRequest&&Ce(Me):Pe.scroll(Me))},start:Pe.start,stop:Pe.stop}})({scrollWindow:ZZ,scrollDroppable:F.scrollDroppable,getAutoScrollerOptions:p,...kB({move:I2},b)}),[F.scrollDroppable,b,p]),j=function(se){const ge=at.useRef({}),xe=at.useRef(null),Pe=at.useRef(null),Ce=at.useRef(!1),Me=co(function(Ee,Ze){const xt={id:Ee,focus:Ze};return ge.current[Ee]=xt,function(){const Dt=ge.current;Dt[Ee]!==xt&&delete Dt[Ee]}},[]),Oe=co(function(Ee){const Ze=s4(se,Ee);Ze&&Ze!==document.activeElement&&Ze.focus()},[se]),et=co(function(Ee,Ze){xe.current===Ee&&(xe.current=Ze)},[]),$e=co(function(){Pe.current||Ce.current&&(Pe.current=requestAnimationFrame(()=>{Pe.current=null;const Ee=xe.current;Ee&&Oe(Ee)}))},[Oe]),Fe=co(function(Ee){xe.current=null;const Ze=document.activeElement;Ze&&Ze.getAttribute(j1.draggableId)===Ee&&(xe.current=Ee)},[]);return Zg(()=>(Ce.current=!0,function(){Ce.current=!1;const Ee=Pe.current;Ee&&cancelAnimationFrame(Ee)}),[]),uc(()=>({register:Me,tryRecordFocus:Fe,tryRestoreFocusRecorded:$e,tryShiftRecord:et}),[Me,Fe,$e,et])}(e),z=uc(()=>JZ({announce:f,autoScroller:O,dimensionMarshal:F,focusMarshal:j,getResponders:c,styleMarshal:y}),[f,O,F,j,c,y]);s.current=z;const W=co(()=>{const ae=bw(s);ae.getState().phase!=="IDLE"&&ae.dispatch({type:"FLUSH",payload:null})},[]),J=co(()=>{const ae=bw(s).getState();return ae.phase==="DROP_ANIMATING"||ae.phase!=="IDLE"&&ae.isDragging},[]);t(uc(()=>({isDragging:J,tryAbort:W}),[J,W]));const G=co(ae=>H2(bw(s).getState(),ae),[]),Q=co(()=>Nv(bw(s).getState()),[]),te=uc(()=>({marshal:F,focus:j,contextId:e,canLift:G,isMovementAllowed:Q,dragHandleUsageInstructionsId:g,registry:M}),[e,F,g,j,G,Q,M]);return P4({contextId:e,store:z,registry:M,customSensors:r||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),at.useEffect(()=>W,[W]),qi.createElement(ME.Provider,{value:te},qi.createElement(sZ,{context:MI,store:z},n.children))}function I4(n){const e=function(){return qi.useId()}(),t=n.dragHandleUsageInstructions||jC.dragHandleUsageInstructions;return qi.createElement(hZ,null,r=>qi.createElement(T4,{nonce:n.nonce,contextId:e,setCallbacks:r,dragHandleUsageInstructions:t,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const O4=5e3,N4=4500,B4=(n,e)=>e?fb.drop(e.duration):n?fb.snap:fb.fluid,R4=(n,e)=>{if(n)return e?HM.drop:HM.combining};function j4(n){return n.type==="DRAGGING"?function(t){const r=t.dimension.client,{offset:i,combineWith:o,dropping:s}=t,u=!!o,c=(g=>g.forceShouldAnimate!=null?g.forceShouldAnimate:g.mode==="SNAP")(t),p=!!s,f=p?jZ(i,u):i8(i);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:B4(c,s),transform:f,opacity:R4(u,p),zIndex:p?N4:O4,pointerEvents:"none"}}(n):function(t){return{transform:i8(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}(n)}function L4(n){const e=FI("draggable"),{descriptor:t,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}=n,c=uc(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}),[o,u,s]),p=co(b=>{const _=i();return _||nr(),function(F,O,j=_p){const z=window.getComputedStyle(O),W=O.getBoundingClientRect(),J=g2(W,z),G=HS(J,j);return{descriptor:F,placeholder:{client:J,tagName:O.tagName.toLowerCase(),display:z.display},displaceBy:{x:J.marginBox.width,y:J.marginBox.height},client:J,page:G}}(t,_,b)},[t,i]),f=uc(()=>({uniqueId:e,descriptor:t,options:c,getDimension:p}),[t,p,c,e]),g=at.useRef(f),y=at.useRef(!0);Zg(()=>(r.draggable.register(g.current),()=>r.draggable.unregister(g.current)),[r.draggable]),Zg(()=>{if(y.current)return void(y.current=!1);const b=g.current;g.current=f,r.draggable.update(f,b)},[f,r.draggable])}var PI=qi.createContext(null);function QS(n){const e=at.useContext(n);return e||nr(),e}function $4(n){n.preventDefault()}var Z2=(n,e)=>n===e,e6=n=>{const{combine:e,destination:t}=n;return t?t.droppableId:e?e.droppableId:null};function t6(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const z4={mapped:{type:"SECONDARY",offset:_p,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:t6(null)}},U4=h2(()=>{const n=function(){const r=Dp((s,u)=>({x:s,y:u})),i=Dp((s,u,c=null,p=null,f=null)=>({isDragging:!0,isClone:u,isDropAnimating:!!f,dropAnimation:f,mode:s,draggingOver:c,combineWith:p,combineTargetFor:null})),o=Dp((s,u,c,p,f=null,g=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:g,mode:u,offset:s,dimension:c,forceShouldAnimate:y,snapshot:i(u,p,f,g,null)}}));return(s,u)=>{if(jb(s)){if(s.critical.draggable.id!==u.draggableId)return null;const p=s.current.client.offset,f=s.dimensions.draggables[u.draggableId],g=nm(s.impact),y=(c=s.impact).at&&c.at.type==="COMBINE"?c.at.combine.draggableId:null,b=s.forceShouldAnimate;return o(r(p.x,p.y),s.movementMode,f,u.isClone,g,y,b)}var c;if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(p.result.draggableId!==u.draggableId)return null;const f=u.isClone,g=s.dimensions.draggables[u.draggableId],y=p.result,b=y.mode,_=e6(y),M=(O=>O.combine?O.combine.draggableId:null)(y),F={duration:s.dropDuration,curve:N2,moveTo:s.newHomeClientOffset,opacity:M?HM.drop:null,scale:M?B2.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:g,dropping:F,draggingOver:_,combineWith:M,mode:b,forceShouldAnimate:null,snapshot:i(b,f,_,M,F)}}}return null}}(),e=function(){const r=Dp((c,p)=>({x:c,y:p})),i=Dp(t6),o=Dp((c,p=null,f)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:p,shouldAnimateDisplacement:f,snapshot:i(p)}})),s=c=>c?o(_p,c,!0):null,u=(c,p,f,g)=>{const y=f.displaced.visible[c],b=!!(g.inVirtualList&&g.effected[c]),_=AE(f),M=_&&_.draggableId===c?p:null;if(!y){if(!b)return s(M);if(f.displaced.invisible[c])return null;const j=iw(g.displacedBy.point),z=r(j.x,j.y);return o(z,M,!0)}if(b)return s(M);const F=f.displacedBy.point,O=r(F.x,F.y);return o(O,M,y.shouldAnimate)};return(c,p)=>{if(jb(c))return c.critical.draggable.id===p.draggableId?null:u(p.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const f=c.completed;return f.result.draggableId===p.draggableId?null:u(p.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null}}();return(t,r)=>n(t,r)||e(t,r)||z4},{dropAnimationFinished:RZ},null,{context:MI,areStatePropsEqual:Z2})(n=>{const e=at.useRef(null),t=co((G=null)=>{e.current=G},[]),r=co(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=QS(ME),{type:u,droppableId:c}=QS(PI),p=uc(()=>({id:n.draggableId,index:n.index,type:u,droppableId:c}),[n.draggableId,n.index,u,c]),{children:f,draggableId:g,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:_,isClone:M,mapped:F,dropAnimationFinished:O}=n;M||L4(uc(()=>({descriptor:p,registry:s,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:b,isEnabled:y}),[p,s,r,_,b,y]));const j=uc(()=>y?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:$4}:null,[i,o,g,y]),z=co(G=>{F.type==="DRAGGING"&&F.dropping&&G.propertyName==="transform"&&yI.flushSync(O)},[O,F]),W=uc(()=>{const G=j4(F),Q=F.type==="DRAGGING"&&F.dropping?z:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":g,style:G,onTransitionEnd:Q},dragHandleProps:j}},[i,j,g,F,z,t]),J=uc(()=>({draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}),[p.droppableId,p.id,p.index,p.type]);return qi.createElement(qi.Fragment,null,f(W,F.snapshot,J))});function n6(n){return QS(PI).isUsingCloneFor!==n.draggableId||n.isClone?qi.createElement(U4,n):null}function W4(n){const e=typeof n.isDragDisabled!="boolean"||!n.isDragDisabled,t=!!n.disableInteractiveElementBlocking,r=!!n.shouldRespectForcePress;return qi.createElement(n6,VS({},n,{isClone:!1,isEnabled:e,canDragInteractiveElements:t,shouldRespectForcePress:r}))}const r6=n=>e=>n===e,H4=r6("scroll"),V4=r6("auto"),g8=(n,e)=>e(n.overflowX)||e(n.overflowY),q4=n=>{const e=window.getComputedStyle(n),t={overflowX:e.overflowX,overflowY:e.overflowY};return g8(t,H4)||g8(t,V4)},i6=n=>n==null?null:n===document.body?!1?n:null:n===document.documentElement?null:q4(n)?n:i6(n.parentElement);var JM=n=>({x:n.scrollLeft,y:n.scrollTop});const o6=n=>n?window.getComputedStyle(n).position==="fixed"||o6(n.parentElement):!1;var K4=({ref:n,descriptor:e,env:t,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:u})=>{const c=t.closestScrollable,p=((b,_)=>{const M=UB(b);if(!_||b!==_)return M;const F=M.paddingBox.top-_.scrollTop,O=M.paddingBox.left-_.scrollLeft,j=F+_.scrollHeight,z=O+_.scrollWidth,W=bI({top:F,right:z,bottom:j,left:O},M.border);return xI({borderBox:W,margin:M.margin,border:M.border,padding:M.padding})})(n,c),f=HS(p,r),g=(()=>{if(!c)return null;const b=UB(c),_={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:b,page:HS(b,r),scroll:JM(c),scrollSize:_,shouldClipSubject:u}})();return(({descriptor:b,isEnabled:_,isCombineEnabled:M,isFixedOnPage:F,direction:O,client:j,page:z,closest:W})=>{const J=(()=>{if(!W)return null;const{scrollSize:Q,client:te}=W,ae=z2({scrollHeight:Q.scrollHeight,scrollWidth:Q.scrollWidth,height:te.paddingBox.height,width:te.paddingBox.width});return{pageMarginBox:W.page.marginBox,frameClient:te,scrollSize:Q,shouldClipSubject:W.shouldClipSubject,scroll:{initial:W.scroll,current:W.scroll,max:ae,diff:{value:_p,displacement:_p}}}})(),G=O==="vertical"?CI:x2;return{descriptor:b,isCombineEnabled:M,isFixedOnPage:F,axis:G,isEnabled:_,client:j,page:z,frame:J,subject:B1({page:z,withPlaceholder:null,axis:G,frame:J})}})({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:t.isFixedOnPage,direction:i,client:p,page:f,closest:g})};const G4={passive:!1},Y4={passive:!0};var m8=n=>n.shouldPublishImmediately?G4:Y4;const eD=n=>n&&n.env.closestScrollable||null;function J4(n){const e=at.useRef(null),t=QS(ME),r=FI("droppable"),{registry:i,marshal:o}=t,s=G2(n),u=uc(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),c=at.useRef(u),p=uc(()=>Dp((W,J)=>{e.current||nr();const G={x:W,y:J};o.updateDroppableScroll(u.id,G)}),[u.id,o]),f=co(()=>{const W=e.current;return W&&W.env.closestScrollable?JM(W.env.closestScrollable):_p},[]),g=co(()=>{const W=f();p(W.x,W.y)},[f,p]),y=uc(()=>Ib(g),[g]),b=co(()=>{const W=e.current,J=eD(W);W&&J||nr(),W.scrollOptions.shouldPublishImmediately?g():y()},[y,g]),_=co((W,J)=>{e.current&&nr();const G=s.current,Q=G.getDroppableRef();Q||nr();const te=(xe=>({closestScrollable:i6(xe),isFixedOnPage:o6(xe)}))(Q),ae={ref:Q,descriptor:u,env:te,scrollOptions:J};e.current=ae;const se=K4({ref:Q,descriptor:u,env:te,windowScroll:W,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),ge=te.closestScrollable;return ge&&(ge.setAttribute(f8.contextId,t.contextId),ge.addEventListener("scroll",b,m8(ae.scrollOptions))),se},[t.contextId,u,b,s]),M=co(()=>{const W=e.current,J=eD(W);return W&&J||nr(),JM(J)},[]),F=co(()=>{const W=e.current;W||nr();const J=eD(W);e.current=null,J&&(y.cancel(),J.removeAttribute(f8.contextId),J.removeEventListener("scroll",b,m8(W.scrollOptions)))},[b,y]),O=co(W=>{const J=e.current;J||nr();const G=eD(J);G||nr(),G.scrollTop+=W.y,G.scrollLeft+=W.x},[]),j=uc(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:M,dragStopped:F,scroll:O}),[F,_,M,O]),z=uc(()=>({uniqueId:r,descriptor:u,callbacks:j}),[j,u,r]);Zg(()=>(c.current=z.descriptor,i.droppable.register(z),()=>{e.current&&F(),i.droppable.unregister(z)}),[j,u,F,z,o,i.droppable]),Zg(()=>{e.current&&o.updateDroppableIsEnabled(c.current.id,!n.isDropDisabled)},[n.isDropDisabled,o]),Zg(()=>{e.current&&o.updateDroppableIsCombineEnabled(c.current.id,n.isCombineEnabled)},[n.isCombineEnabled,o])}function IA(){}const X4={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Q4=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>{const r=(({isAnimatingOpenOnMount:i,placeholder:o,animate:s})=>i||s==="close"?X4:{height:o.client.borderBox.height,width:o.client.borderBox.width,margin:o.client.margin})({isAnimatingOpenOnMount:n,placeholder:e,animate:t});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?fb.placeholder:null}};var Z4=qi.memo(n=>{const e=at.useRef(null),t=co(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=n,[u,c]=at.useState(n.animate==="open");at.useEffect(()=>u?r!=="open"?(t(),c(!1),IA):e.current?IA:(e.current=setTimeout(()=>{e.current=null,c(!1)}),t):IA,[r,u,t]);const p=co(g=>{g.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=Q4({isAnimatingOpenOnMount:u,animate:n.animate,placeholder:n.placeholder});return qi.createElement(n.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:p,ref:n.innerRef})});let e3=class extends qi.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}};const d8={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||nr(),document.body}},v8=n=>{let e,t={...n};for(e in d8)n[e]===void 0&&(t={...t,[e]:d8[e]});return t},OA=(n,e)=>n===e.droppable.type,y8=(n,e)=>e.draggables[n.draggable.id],t3=h2(()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...n,shouldAnimatePlaceholder:!1},t=Dp(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=Dp((i,o,s,u,c,p)=>{const f=c.descriptor.id;if(c.descriptor.droppableId===i){const y=p?{render:p,dragging:t(c.descriptor)}:null,b={isDraggingOver:s,draggingOverWith:s?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:y}}if(!o)return e;if(!u)return n;const g={isDraggingOver:s,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(i,o)=>{const s=v8(o),u=s.droppableId,c=s.type,p=!s.isDropDisabled,f=s.renderClone;if(jb(i)){const g=i.critical;if(!OA(c,g))return e;const y=y8(g,i.dimensions),b=nm(i.impact)===u;return r(u,p,b,b,y,f)}if(i.phase==="DROP_ANIMATING"){const g=i.completed;if(!OA(c,g.critical))return e;const y=y8(g.critical,i.dimensions);return r(u,p,e6(g.result)===u,nm(g.impact)===u,y,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const g=i.completed;if(!OA(c,g.critical))return e;const y=nm(g.impact)===u,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),_=g.critical.droppable.id===u;return y?b?n:e:_?n:e}return e}},{updateViewportMaxScroll:n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n})},(n,e,t)=>({...v8(t),...n,...e}),{context:MI,areStatePropsEqual:Z2})(n=>{const e=at.useContext(ME);e||nr();const{contextId:t,isMovementAllowed:r}=e,i=at.useRef(null),o=at.useRef(null),{children:s,droppableId:u,type:c,mode:p,direction:f,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:b,snapshot:_,useClone:M,updateViewportMaxScroll:F,getContainerForClone:O}=n,j=co(()=>i.current,[]),z=co((se=null)=>{i.current=se},[]);co(()=>o.current,[]);const W=co((se=null)=>{o.current=se},[]),J=co(()=>{r()&&F({maxScroll:W2()})},[r,F]);J4({droppableId:u,type:c,mode:p,direction:f,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:g,getDroppableRef:j});const G=uc(()=>qi.createElement(e3,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:se,data:ge,animate:xe})=>qi.createElement(Z4,{placeholder:ge,onClose:se,innerRef:W,animate:xe,contextId:t,onTransitionEnd:J})),[t,J,n.placeholder,n.shouldAnimatePlaceholder,W]),Q=uc(()=>({innerRef:z,placeholder:G,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":t}}),[t,u,G,z]),te=M?M.dragging.draggableId:null,ae=uc(()=>({droppableId:u,type:c,isUsingCloneFor:te}),[u,te,c]);return qi.createElement(PI.Provider,{value:ae},s(Q,_),function(){if(!M)return null;const{dragging:ge,render:xe}=M,Pe=qi.createElement(n6,{draggableId:ge.draggableId,index:ge.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ce,Me)=>xe(Ce,Me,ge));return MQ.createPortal(Pe,O())}())});var n3=t3;function r3(n){var e=n.children,t=n.droppableProps,r=n.innerRef;return ft.jsx("div",Qs({style:{backgroundColor:"#1D2126",padding:"10px",borderRight:"1px solid #3A424B",width:"100%",boxSizing:"border-box",height:"100%",overflowY:"auto",userSelect:"none"}},t,{ref:r,children:e}))}function pd(n){var e=n.onCommit,t=e===void 0?function(Fe){}:e,r=n.isValid,i=r===void 0?function(Fe){return!0}:r,o=n.initialValue,s=o===void 0?"":o,u=n.color,c=u===void 0?"var(--gray7)":u,p=n.bgColor,f=p===void 0?"var(--gray3)":p,g=n.bgActive,y=g===void 0?"var(--gray4)":g,b=n.bgInvalidInput,_=b===void 0?"var(--danger)":b,M=n.invalidInputColor,F=M===void 0?"var(--gray2)":M,O=n.charSize,j=O===void 0?void 0:O,z=n.maxCharSize,W=z===void 0?30:z,J=qi.useState(!1),G=J[0],Q=J[1],te=qi.useState(!0),ae=te[0],se=te[1],ge=function(){return Math.random().toString(36).substring(7)},xe=qi.useState(ge()),Pe=xe[0],Ce=xe[1],Me=qi.useState(j||s.length),Oe=Me[0],et=Me[1],$e=function(){Q(!1),se(!0),Ce(ge())};return ft.jsx("input",{type:"text",defaultValue:s,size:Oe,style:{backgroundColor:G?ae?y:_:f,color:ae?c:F,border:"none",padding:"5px",paddingLeft:"10px",borderRadius:"var(--borderRadiusSmall)",minWidth:"100px",fontSize:"16px"},readOnly:!G,onFocus:function(){return Q(!0)},onChange:function(Fe){se(i(Fe.target.value)),j||(Fe.target.value.length<=W?et(Fe.target.value.length):et(W))},onBlur:function(Fe){ae?($e(),t(Fe.target.value)):(Fe.target.value=s,$e())},onKeyDown:function(Fe){Fe.key==="Enter"&&(ae?($e(),t(Fe.target.value)):$e())}},Pe)}function o1(n){var e=n.iconName,t=e===void 0?"home":e,r=n.bgColor,i=r===void 0?"transparent":r,o=n.hoverBgColor,s=o===void 0?"var(--gray3)":o,u=n.color,c=u===void 0?"var(--gray6)":u,p=n.hoverColor,f=p===void 0?"var(--gray7)":p,g=n.cursor,y=g===void 0?"pointer":g,b=n.onClick,_=b===void 0?function(){}:b,M=qi.useState(!1),F=M[0],O=M[1];return ft.jsx("div",{style:{userSelect:"none",width:"35px",height:"35px",margin:"5px",cursor:y,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:F?s:i,transition:"background-color 0.2s",fontSize:"20px",color:F?f:c},className:"materialSymbols",onMouseOver:function(){return O(!0)},onMouseOut:function(){return O(!1)},onClick:_,children:ft.jsxs("div",{children:[" ",t]})})}function md(n){var e=n.text,t=e===void 0?void 0:e,r=n.iconName,i=r===void 0?void 0:r,o=n.bgColor,s=o===void 0?"var(--gray3)":o,u=n.hoverBgColor,c=u===void 0?"var(--gray4)":u,p=n.color,f=p===void 0?"var(--gray7)":p,g=n.hoverColor,y=g===void 0?"var(--gray8)":g,b=n.cursor,_=b===void 0?"pointer":b,M=n.onClick,F=M===void 0?function(){}:M,O=qi.useState(!1),j=O[0],z=O[1];return ft.jsxs("button",{onMouseOver:function(){return z(!0)},onMouseOut:function(){return z(!1)},onClick:F,style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",padding:"0px",cursor:_,height:"35px",margin:"5px",userSelect:"none",backgroundColor:j?c:s,transition:"background-color 0.2s",fontSize:"var(--defaultFontSize)",color:j?y:f,border:"none",borderRadius:"5px"},children:[t?ft.jsx("div",{style:{marginTop:"2px",marginRight:i?"2px":"15px",marginLeft:"15px"},children:t}):null,i?ft.jsx("div",{style:{marginRight:t?"0px":"10px",marginLeft:t?"0px":"10px"},children:ft.jsx(o1,{iconName:i,color:j?y:f,hoverColor:j?y:f,bgColor:"transparent",hoverBgColor:"transparent"})}):null]})}function i3(n){var e=n.signalId,t=n.project,r=n.projectTools,i=n.index,o=qi.useState(!1),s=o[0],u=o[1],c=qi.useState(!1),p=c[0],f=c[1],g=t.orgData.signalNames[e],y=t.orgData.activeSignalIds.includes(e);return ft.jsx(W4,{draggableId:e,index:i,children:function(b){return ft.jsxs("div",Qs({onMouseOver:function(){return u(!0)},onMouseOut:function(){return u(!1)},ref:b.innerRef},b.draggableProps,{style:Qs({width:"100%",borderRadius:"5px",backgroundColor:"#282E34",color:"#C1BFAB",marginBottom:"10px",display:"grid",gridTemplateColumns:"auto auto 1fr auto auto auto",gridTemplateAreas:"'drag-handle signal-name . duplicate delete toggle-active'"},b.draggableProps.style),children:[ft.jsx("div",Qs({style:{gridArea:"drag-handle"}},b.dragHandleProps,{children:ft.jsx(o1,{iconName:"drag_indicator",cursor:"grab"})})),ft.jsx("div",{onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)},style:{display:"flex",alignItems:"center",gridArea:"signal-name"},children:ft.jsx(pd,{initialValue:g,isValid:function(_){return _.length>0},onCommit:function(_){return r.updateSignalName(e,_)},bgColor:p?void 0:"transparent"})}),ft.jsx("div",{style:{gridArea:"duplicate",display:s?"block":"none"},children:ft.jsx(o1,{iconName:"content_copy",onClick:function(){return r.duplicateSignal(e)}})}),ft.jsx("div",{style:{gridArea:"toggle-active"},children:ft.jsx(o1,{iconName:y?"visibility":"visibility_off",hoverBgColor:y?"#50aaeb50":void 0,color:y?"#50aaeb":void 0,hoverColor:y?"white":void 0,onClick:function(){return r.updateSignalActiveStatus(e,!y)}})}),ft.jsx("div",{style:{gridArea:"delete",display:s?"block":"none"},onClick:function(){return r.deleteSignal(e)},children:ft.jsx(o1,{iconName:"delete",onClick:function(){return r.deleteSignal(e)}})})]}))}})}function o3(n){var e=n,t=e.project.orgData.signalIds,r=e.projectTools.updateSignalIndex,i=at.useState(!1),o=i[0],s=i[1],u=at.useState(null),c=u[0],p=u[1],f=at.useState([]),g=f[0],y=f[1];t.join(",")===g.join(",")||o||y(t);var b=function(_,M,F){var O=function(z,W,J){var G=Array.from(z),Q=G.splice(W,1)[0];return G.splice(J,0,Q),jg([],G,!0)}(g,_,M);r(c,O.indexOf(c),F),F&&y(O)};return ft.jsx(I4,{onDragStart:function(M){p(M.draggableId),s(!0)},onDragEnd:function(M){s(!1),M.destination&&b(M.source.index,M.destination.index,!0)},onDragUpdate:function(M){M.destination&&b(M.source.index,M.destination.index,!1)},children:ft.jsx(n3,{droppableId:"list",children:function(_){return ft.jsxs(r3,{innerRef:_.innerRef,droppableProps:_.droppableProps,children:[g.map(function(M,F){return ft.jsx(i3,{signalId:M,index:F,projectTools:e.projectTools,project:e.project},M)}),_.placeholder]})}})})}(function(e,t){t===void 0&&(t={});var r=t.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}})(`
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

/* Remove default margin in favour of better control in authored CSS */
body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd {
  margin-block-end: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
  line-height: 1.5;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2,
h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
  display: block;
}

/* Inherit fonts for inputs and buttons */
input, button,
textarea, select {
  font-family: inherit;
  font-size: inherit;
}

input:focus {
    outline: none;
  }
  

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}




@font-face {
    font-family: 'Material Symbols';
    src: url('https://storage.googleapis.com/pinsandcurvesfontservice/MaterialSymbolsSharp%5BFILL%2CGRAD%2Copsz%2Cwght%5D.woff2') format('woff');
    font-weight: normal;
    font-style: normal;
}

.materialSymbols {
    font-family: 'Material Symbols';
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
}

:root {
    --gray1: #1D2126;
    --gray2: #2C333A;
    --gray3: #3B434B;
    --gray4: #49525B;
    --gray5: #59646E;
    --gray6: #708090;
    --gray7 : #C6D6E6;
    --gray8 : white;
    --danger: pink;

    --green2: #6EBD6F;
    --green1: #84D585;
    --green3: #429A44;
    --green4: #1D471E;

    --yellow1: #FFF8D3;
    --yellow2: #FFF1A8;
    --yellow3: #E6C622;
    --yellow4: #A48E20;

    --borderRadiusSmall: 5px;

    --defaultFontSize: 16px;


    font-family: 'Roboto', sans-serif;
}

hr {
    border: none;
    border-top: 2px solid var(--gray3);
    margin: 1em 0;
  
}`);var XM=function(n,e){return XM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},XM(n,e)},Hh=function(){return Hh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Hh.apply(this,arguments)};function Dd(n,e,t){for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}function hg(n,e){return[n[0]+e[0],n[1]+e[1]]}function up(n,e){return[n[0]-e[0],n[1]-e[1]]}function LC(n,e){return[n[0]*e[0],n[1]*e[1]]}function uy(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function w8(n,e){return n[0]*e[0]+n[1]*e[1]}function tD(n,e){return[n[0]*e,n[1]*e]}function Py(n,e){var t=[n[0][0],n[0][1],n[2][0],n[2][1]],r=t[0],i=t[1],o=t[2],s=t[3],u=[e[0][0],e[0][1],e[2][0],e[2][1]];return!(r>u[2]||o<u[0]||i>u[3]||s<u[1])}var Ns=function(){function n(e,t,r){e===void 0&&(e=[0,0]),t===void 0&&(t=0),r===void 0&&(r=0),this._o=e,this._w=t,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(e){this._o=e},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(e){var t={x:e[0],y:e[1]},r=t.x,i=t.y,o={oX:this.o[0],oY:this.o[1]},s=o.oX,u=o.oY;return!(r<s||r>s+this.w||i<u||i>u+this.h)},n.prototype.clone=function(){return new n(Dd([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,hg(this.o,[this.w,0]),hg(this.o,[this.w,this.h]),hg(this.o,[0,this.h])]},n.prototype.getCenter=function(){return hg(this.o,[this.w/2,this.h/2])},n}(),tl=function(n){function e(){var t=n.call(this)||this;return t.layer=0,t.children=[],t._isPrimaryCamera=!1,t._needsUpdate=!1,t._needsUpdate_root=!1,t.updateWhenCameraChanges=!1,t.state=void 0,t.context={},t.windowDidMountPrimitiveIsRunning=!1,t.childIndex=0,t.isCanvasRoot=!1,t.props={},t.globalPositioning=!1,t}return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}XM(t,r),t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(e,n),Object.defineProperty(e.prototype,"_cameraSnapshot",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_canvas",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.canvas},enumerable:!1,configurable:!0}),e.prototype.setAsPrimaryCamera=function(){var t;(t=this._root)===null||t===void 0||t.installCamera(this)},e.prototype.setState=function(t){var r,i;if(this.state===t)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(o){o.updateWhenCameraChanges&&(o._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,t))},e.prototype.setContext=function(t,r){var i,o;this.windowDidMountPrimitiveIsRunning?this.context[t]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[t]=r,(o=this._root)===null||o===void 0||o.scheduleContextUpdate(this,t,r))},e.prototype.windowDidMountPrimitive=function(t){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t),this.windowDidMountPrimitiveIsRunning=!1},e.prototype.windowDidMount=function(t){},e.prototype.windowDidUpdate=function(t){},e.prototype.cameraDidUpdate=function(){},e.prototype.windowWillUnmount=function(){},e.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t=this.getBox();return this._boxSnapshot=t,t},e.prototype.getBox=function(){return new Ns([0,0],0,0)},Object.defineProperty(e.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),e.prototype.cameraPassUpdateSelf=function(){var t,r,i=this;this._isPrimaryCamera?(t=this._root)===null||t===void 0||t.windows.forEach(function(o){var s;(s=i._root)===null||s===void 0||s.taintLayer(o.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(Hh({},this.props)))},e.prototype.cameraPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(u){return u(t)}),i=this.children.filter(function(u){return!r.includes(u)}),o=r.filter(function(u){return!t.children.includes(u)});this.children=r,i.forEach(function(u){return u.windowWillUnmount()}),o.forEach(function(u){return u.windowDidMountPrimitive(u.props)});var s=this.children.find(function(u){return u._needsUpdate});this.children.forEach(function(u){u._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},e.prototype.regularPassUpdateSelf=function(){var t;this._boxSnapshot=void 0,(t=this._root)===null||t===void 0||t.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(Hh({},this.props))},e.prototype.regularPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(t)}),i=this.children.filter(function(s){return!r.includes(s)}),o=r.filter(function(s){return!t.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),o.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},e.prototype.getChildren=function(t){return[]},e.prototype.incChildIndex=function(){this.childIndex++},e.Node=function(t){var r=this,i=this.name;return function(o){if(o.isCanvasRoot){var s=void 0;return(s=new r)._root=o,s.setKey("root"),s.props=t||{},s.context=Hh({},s.context),s}var u=o.childIndex;t||(t={});var c=t.key?t.key:"".concat(i,"[").concat(u,"]");return s=void 0,o.children.findIndex(function(p){return p.key===c})!==-1?s=o.children.find(function(p){return p.key===c}):((s=new r)._parent=o,s._root=o._root,s.setKey(c)),s.props=Hh({},t),s.context=Hh(Hh({},s.context),o.context),o.incChildIndex(),s}},Object.defineProperty(e.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),e.prototype.getChildByKey=function(t){return this.children.find(function(r){return r.key===t})},e.prototype.getBoundingBox=function(){var t=this.globalO,r=t[0],i=t[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},e.prototype.pointInside=function(t){return n.prototype.pointInside.call(this,up(t,this.parentO))},Object.defineProperty(e.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var t=this._parent.globalO,r=t[0],i=t[1],o=this.o;return[r+o[0],i+o[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),e.prototype.getLayer=function(){return this.layer},e.prototype.setLayer=function(t){this.layer=t},e.prototype.setKey=function(t){this.key=t},Object.defineProperty(e.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),e.prototype.absoluteToCanvasMeasure=function(t){return LC(t,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},e.prototype.canvasToAbsoluteMeasure=function(t){return LC(t,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(e.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),e.prototype.prepareHandlerProps=function(){var t=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),o=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,u=this.absoluteUnit,c=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:o,camera:t,canvasUnit:s,canvasO:c,absoluteUnit:u}},e.prototype.preparePostBoxHandlerProps=function(){var t=this,r=this._cameraSnapshot,i=this._canvas,o=function(u){var c=t.globalO,p=u[0],f=u[1],g=[c[0]+p,c[1]+f],y=g[0],b=g[1],_=r.o,M=[y-_[0],b-_[1]],F=M[1];return[M[0]*(i.width/r.w),F*(i.height/r.h)]},s=o([0,0]);return Hh(Hh({},this.prepareHandlerProps()),{localToCanvas:o,canvasToLocal:function(u){var c=t.globalO;return up(hg(LC(u,[r.w/i.width,r.h/i.height]),r.o),c)},absoluteO:s})},e.prototype.prepareMouseHandlerProps=function(t,r){var i=this.preparePostBoxHandlerProps(),o=this.canvasUnit,s=o[0],u=o[1],c=this.canvasO,p=c[0],f=c[1],g=[p+t[0]*s,f+t[1]*u],y=up(g,this.globalO),b=this.pointInside(g);return Hh(Hh({},i),{relativePos:y,canvasPos:t,absolutePos:g,pointInside:b,terminateEvent:r})},e.prototype.prepareWheelHandlerProps=function(t){var r=this.preparePostBoxHandlerProps();return Hh(Hh({},r),{terminateEvent:t})},e.prototype.renderPrimitive=function(t){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(Hh(Hh({},r),{ctx:t}))}},e.prototype.render=function(t){},e.prototype.onMouseDownPrimitive=function(t,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseDown=function(t,r){},e.prototype.onMouseMovePrimitive=function(t,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseMove=function(t,r){},e.prototype.onMouseUpPrimitive=function(t,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseUp=function(t,r){},e.prototype.onClickPrimitive=function(t,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onClick=function(t,r){},e.prototype.onWheelPrimitive=function(t,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t),r)},e.prototype.onWheel=function(t,r){},e.prototype.strokeOutline=function(t,r){t.ctx.strokeStyle=r;var i=t.absoluteO,o=t.absoluteUnit,s=i[0],u=i[1],c=o[0],p=o[1];t.ctx.strokeRect(s,u,this.w*c,this.h*p)},e}(Ns),xw={},b8,nD,rD,iD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oD={exports:{}},a3=(b8||(b8=1,nD=oD,rD=oD.exports,(function(){var n,e="Expected a function",t="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,o=128,s=1/0,u=9007199254740991,c=NaN,p=4294967295,f=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",_="[object Date]",M="[object Error]",F="[object Function]",O="[object GeneratorFunction]",j="[object Map]",z="[object Number]",W="[object Object]",J="[object Promise]",G="[object RegExp]",Q="[object Set]",te="[object String]",ae="[object Symbol]",se="[object WeakMap]",ge="[object ArrayBuffer]",xe="[object DataView]",Pe="[object Float32Array]",Ce="[object Float64Array]",Me="[object Int8Array]",Oe="[object Int16Array]",et="[object Int32Array]",$e="[object Uint8Array]",Fe="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Ee="[object Uint32Array]",Ze=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dt=/&(?:amp|lt|gt|quot|#39);/g,rn=/[&<>"']/g,an=RegExp(Dt.source),un=RegExp(rn.source),ur=/<%-([\s\S]+?)%>/g,Fn=/<%([\s\S]+?)%>/g,wi=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$a=/^\w*$/,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(ue.source),Se=/^\s+/,Re=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gt=/[()=,{}\[\]\/\s]/,bt=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ui=/^\[object .+?Constructor\]$/,io=/^0o[0-7]+$/i,bo=/^(?:0|[1-9]\d*)$/,ta=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,Ru=/['\n\r\u2028\u2029\\]/g,fa="\\ud800-\\udfff",ju="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eu="\\u2700-\\u27bf",hs="a-z\\xdf-\\xf6\\xf8-\\xff",uu="A-Z\\xc0-\\xd6\\xd8-\\xde",zl="\\ufe0e\\ufe0f",Ss="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dl="["+fa+"]",Cl="["+Ss+"]",Qa="["+ju+"]",Ul="\\d+",rl="["+eu+"]",Gu="["+hs+"]",Ls="[^"+fa+Ss+Ul+eu+hs+uu+"]",Sl="\\ud83c[\\udffb-\\udfff]",_s="[^"+fa+"]",xa="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="["+uu+"]",il="\\u200d",ol="(?:"+Gu+"|"+Ls+")",Ua="(?:"+Jo+"|"+Ls+")",lu="(?:['’](?:d|ll|m|re|s|t|ve))?",al="(?:['’](?:D|LL|M|RE|S|T|VE))?",sl="(?:"+Qa+"|"+Sl+")?",tu="["+zl+"]?",cu=tu+sl+"(?:"+il+"(?:"+[_s,xa,za].join("|")+")"+tu+sl+")*",_l="(?:"+[rl,xa,za].join("|")+")"+cu,Pi="(?:"+[_s+Qa+"?",Qa,xa,za,Dl].join("|")+")",Lu=RegExp("['’]","g"),Br=RegExp(Qa,"g"),ha=RegExp(Sl+"(?="+Sl+")|"+Pi+cu,"g"),gn=RegExp([Jo+"?"+Gu+"+"+lu+"(?="+[Cl,Jo,"$"].join("|")+")",Ua+"+"+al+"(?="+[Cl,Jo+ol,"$"].join("|")+")",Jo+"?"+ol+"+"+lu,Jo+"+"+al,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ul,_l].join("|"),"g"),na=RegExp("["+il+fa+ju+zl+"]"),Sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,El=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],No=-1,Qt={};Qt[Pe]=Qt[Ce]=Qt[Me]=Qt[Oe]=Qt[et]=Qt[$e]=Qt[Fe]=Qt[Ne]=Qt[Ee]=!0,Qt[g]=Qt[y]=Qt[ge]=Qt[b]=Qt[xe]=Qt[_]=Qt[M]=Qt[F]=Qt[j]=Qt[z]=Qt[W]=Qt[G]=Qt[Q]=Qt[te]=Qt[se]=!1;var jt={};jt[g]=jt[y]=jt[ge]=jt[xe]=jt[b]=jt[_]=jt[Pe]=jt[Ce]=jt[Me]=jt[Oe]=jt[et]=jt[j]=jt[z]=jt[W]=jt[G]=jt[Q]=jt[te]=jt[ae]=jt[$e]=jt[Fe]=jt[Ne]=jt[Ee]=!0,jt[M]=jt[F]=jt[se]=!1;var fu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ph=parseFloat,Es=parseInt,Bo=typeof iD=="object"&&iD&&iD.Object===Object&&iD,Nf=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Bo||Nf||Function("return this")(),rr=rD&&!rD.nodeType&&rD,Mo=rr&&nD&&!nD.nodeType&&nD,df=Mo&&Mo.exports===rr,Za=df&&Bo.process,Rr=function(){try{return Mo&&Mo.require&&Mo.require("util").types||Za&&Za.binding&&Za.binding("util")}catch{}}(),hu=Rr&&Rr.isArrayBuffer,Ei=Rr&&Rr.isDate,Hn=Rr&&Rr.isMap,Xo=Rr&&Rr.isRegExp,af=Rr&&Rr.isSet,cc=Rr&&Rr.isTypedArray;function Rn(ie,de,ye){switch(ye.length){case 0:return ie.call(de);case 1:return ie.call(de,ye[0]);case 2:return ie.call(de,ye[0],ye[1]);case 3:return ie.call(de,ye[0],ye[1],ye[2])}return ie.apply(de,ye)}function Qf(ie,de,ye,ze){for(var ct=-1,Ue=ie==null?0:ie.length;++ct<Ue;){var pt=ie[ct];de(ze,pt,ye(pt),ie)}return ze}function jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze&&de(ie[ye],ye,ie)!==!1;);return ie}function Nc(ie,de){for(var ye=ie==null?0:ie.length;ye--&&de(ie[ye],ye,ie)!==!1;);return ie}function As(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(!de(ie[ye],ye,ie))return!1;return!0}function mi(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];de(pt,ye,ie)&&(Ue[ct++]=pt)}return Ue}function Jn(ie,de){return!(ie==null||!ie.length)&&bi(ie,de,0)>-1}function ri(ie,de,ye){for(var ze=-1,ct=ie==null?0:ie.length;++ze<ct;)if(ye(de,ie[ze]))return!0;return!1}function nn(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=Array(ze);++ye<ze;)ct[ye]=de(ie[ye],ye,ie);return ct}function Xn(ie,de){for(var ye=-1,ze=de.length,ct=ie.length;++ye<ze;)ie[ct+ye]=de[ye];return ie}function es(ie,de,ye,ze){var ct=-1,Ue=ie==null?0:ie.length;for(ze&&Ue&&(ye=ie[++ct]);++ct<Ue;)ye=de(ye,ie[ct],ct,ie);return ye}function ch(ie,de,ye,ze){var ct=ie==null?0:ie.length;for(ze&&ct&&(ye=ie[--ct]);ct--;)ye=de(ye,ie[ct],ct,ie);return ye}function Jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(de(ie[ye],ye,ie))return!0;return!1}var $s=pa("length");function Wl(ie,de,ye){var ze;return ye(ie,function(ct,Ue,pt){if(de(ct,Ue,pt))return ze=Ue,!1}),ze}function Wn(ie,de,ye,ze){for(var ct=ie.length,Ue=ye+(ze?1:-1);ze?Ue--:++Ue<ct;)if(de(ie[Ue],Ue,ie))return Ue;return-1}function bi(ie,de,ye){return de==de?function(ze,ct,Ue){for(var pt=Ue-1,Et=ze.length;++pt<Et;)if(ze[pt]===ct)return pt;return-1}(ie,de,ye):Wn(ie,ul,ye)}function Bc(ie,de,ye,ze){for(var ct=ye-1,Ue=ie.length;++ct<Ue;)if(ze(ie[ct],de))return ct;return-1}function ul(ie){return ie!=ie}function zs(ie,de){var ye=ie==null?0:ie.length;return ye?Us(ie,de)/ye:c}function pa(ie){return function(de){return de==null?n:de[ie]}}function Al(ie){return function(de){return ie==null?n:ie[de]}}function _c(ie,de,ye,ze,ct){return ct(ie,function(Ue,pt,Et){ye=ze?(ze=!1,Ue):de(ye,Ue,pt,Et)}),ye}function Us(ie,de){for(var ye,ze=-1,ct=ie.length;++ze<ct;){var Ue=de(ie[ze]);Ue!==n&&(ye=ye===n?Ue:ye+Ue)}return ye}function tc(ie,de){for(var ye=-1,ze=Array(ie);++ye<ie;)ze[ye]=de(ye);return ze}function Hl(ie){return ie&&ie.slice(0,Qo(ie)+1).replace(Se,"")}function vr(ie){return function(de){return ie(de)}}function ll(ie,de){return nn(de,function(ye){return ie[ye]})}function Ro(ie,de){return ie.has(de)}function Vl(ie,de){for(var ye=-1,ze=ie.length;++ye<ze&&bi(de,ie[ye],0)>-1;);return ye}function ga(ie,de){for(var ye=ie.length;ye--&&bi(de,ie[ye],0)>-1;);return ye}var fc=Al({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ql=Al({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ra(ie){return"\\"+fu[ie]}function Wa(ie){return na.test(ie)}function ji(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze,ct){ye[++de]=[ct,ze]}),ye}function hc(ie,de){return function(ye){return ie(de(ye))}}function xo(ie,de){for(var ye=-1,ze=ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];pt!==de&&pt!==r||(ie[ye]=r,Ue[ct++]=ye)}return Ue}function ts(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze){ye[++de]=ze}),ye}function Qi(ie){return Wa(ie)?function(de){for(var ye=ha.lastIndex=0;ha.test(de);)++ye;return ye}(ie):$s(ie)}function ii(ie){return Wa(ie)?function(de){return de.match(ha)||[]}(ie):function(de){return de.split("")}(ie)}function Qo(ie){for(var de=ie.length;de--&&Re.test(ie.charAt(de)););return de}var vf=Al({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ia=function ie(de){var ye,ze=(de=de==null?Bt:ia.defaults(Bt.Object(),de,ia.pick(Bt,El))).Array,ct=de.Date,Ue=de.Error,pt=de.Function,Et=de.Math,he=de.Object,Ke=de.RegExp,Qe=de.String,ut=de.TypeError,Vt=ze.prototype,hn=pt.prototype,Cr=he.prototype,Do=de["__core-js_shared__"],jn=hn.toString,$t=Cr.hasOwnProperty,Zh=0,oa=(ye=/[^.]+$/.exec(Do&&Do.keys&&Do.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"",ps=Cr.toString,Ec=jn.call(he),oo=Bt._,yf=Ke("^"+jn.call($t).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pu=df?de.Buffer:n,pn=de.Symbol,kl=de.Uint8Array,wf=pu?pu.allocUnsafe:n,Ma=hc(he.getPrototypeOf,he),Bf=he.create,nc=Cr.propertyIsEnumerable,cl=Vt.splice,fl=pn?pn.isConcatSpreadable:n,Wi=pn?pn.iterator:n,aa=pn?pn.toStringTag:n,gu=function(){try{var a=Zr(he,"defineProperty");return a({},"",{}),a}catch{}}(),sf=de.clearTimeout!==Bt.clearTimeout&&de.clearTimeout,fh=ct&&ct.now!==Bt.Date.now&&ct.now,Ac=de.setTimeout!==Bt.setTimeout&&de.setTimeout,Zo=Et.ceil,$u=Et.floor,zu=he.getOwnPropertySymbols,Kl=pu?pu.isBuffer:n,Rc=de.isFinite,Ch=Vt.join,Sh=hc(he.keys,he),Tn=Et.max,wn=Et.min,Gl=ct.now,Zf=de.parseInt,Rf=Et.random,Ws=Vt.reverse,Da=Zr(de,"DataView"),ks=Zr(de,"Map"),Ai=Zr(de,"Promise"),Tr=Zr(de,"Set"),ns=Zr(de,"WeakMap"),Hs=Zr(he,"create"),Fa=ns&&new ns,Pa={},kc=Po(Da),Uu=Po(ks),Wu=Po(Ai),hl=Po(Tr),Yl=Po(ns),rs=pn?pn.prototype:n,Ms=rs?rs.valueOf:n,Ml=rs?rs.toString:n;function R(a){if(Wt(a)&&!dt(a)&&!(a instanceof _t)){if(a instanceof Lr)return a;if($t.call(a,"__wrapped__"))return $c(a)}return new Lr(a)}var is=function(){function a(){}return function(l){if(!on(l))return{};if(Bf)return Bf(l);a.prototype=l;var w=new a;return a.prototype=n,w}}();function Yu(){}function Lr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}function _t(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Ae(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function $r(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function xi(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function Z(a){var l=-1,w=a==null?0:a.length;for(this.__data__=new xi;++l<w;)this.add(a[l])}function ln(a){var l=this.__data__=new $r(a);this.size=l.size}function Eu(a,l){var w=dt(a),A=!w&&To(a),I=!w&&!A&&$o(a),U=!w&&!A&&!I&&sn(a),D=w||A||I||U,E=D?tc(a.length,Qe):[],N=E.length;for(var v in a)!l&&!$t.call(a,v)||D&&(v=="length"||I&&(v=="offset"||v=="parent")||U&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||gr(v,N))||E.push(v);return E}function bn(a){var l=a.length;return l?a[Fs(0,l-1)]:n}function _n(a,l){return wu(or(a),Ta(l,0,a.length))}function gs(a){return wu(or(a))}function Di(a,l,w){(w!==n&&!Kr(a[l],w)||w===n&&!(l in a))&&oi(a,l,w)}function Yi(a,l,w){var A=a[l];$t.call(a,l)&&Kr(A,w)&&(w!==n||l in a)||oi(a,l,w)}function sa(a,l){for(var w=a.length;w--;)if(Kr(a[w][0],l))return w;return-1}function Ca(a,l,w,A){return Li(a,function(I,U,D){l(A,I,w(I),D)}),A}function Jl(a,l){return a&&Kn(l,An(l),a)}function oi(a,l,w){l=="__proto__"&&gu?gu(a,l,{configurable:!0,enumerable:!0,value:w,writable:!0}):a[l]=w}function Xl(a,l){for(var w=-1,A=l.length,I=ze(A),U=a==null;++w<A;)I[w]=U?n:ac(a,l[w]);return I}function Ta(a,l,w){return a==a&&(w!==n&&(a=a<=w?a:w),l!==n&&(a=a>=l?a:l)),a}function Hr(a,l,w,A,I,U){var D,E=1&l,N=2&l,v=4&l;if(w&&(D=I?w(a,A,I,U):w(a)),D!==n)return D;if(!on(a))return a;var m=dt(a);if(m){if(D=function(V){var Y=V.length,re=new V.constructor(Y);return Y&&typeof V[0]=="string"&&$t.call(V,"index")&&(re.index=V.index,re.input=V.input),re}(a),!E)return or(a,D)}else{var x=Lt(a),P=x==F||x==O;if($o(a))return jc(a,E);if(x==W||x==g||P&&!I){if(D=N||P?{}:Ks(a),!E)return N?function(V,Y){return Kn(V,da(V),Y)}(a,function(V,Y){return V&&Kn(Y,Er(Y),V)}(D,a)):function(V,Y){return Kn(V,ar(V),Y)}(a,Jl(D,a))}else{if(!jt[x])return I?a:{};D=function(V,Y,re){var ne,ce=V.constructor;switch(Y){case ge:return Mu(V);case b:case _:return new ce(+V);case xe:return function(me,be){var we=be?Mu(me.buffer):me.buffer;return new me.constructor(we,me.byteOffset,me.byteLength)}(V,re);case Pe:case Ce:case Me:case Oe:case et:case $e:case Fe:case Ne:case Ee:return ru(V,re);case j:return new ce;case z:case te:return new ce(V);case G:return function(me){var be=new me.constructor(me.source,kn.exec(me));return be.lastIndex=me.lastIndex,be}(V);case Q:return new ce;case ae:return ne=V,Ms?he(Ms.call(ne)):{}}}(a,x,E)}}U||(U=new ln);var L=U.get(a);if(L)return L;U.set(a,D),Ii(a)?a.forEach(function(V){D.add(Hr(V,l,w,V,a,U))}):tr(a)&&a.forEach(function(V,Y){D.set(Y,Hr(V,l,w,Y,a,U))});var H=m?n:(v?N?Ba:qo:N?Er:An)(a);return jr(H||a,function(V,Y){H&&(V=a[Y=V]),Yi(D,Y,Hr(V,l,w,Y,a,U))}),D}function Fl(a,l,w){var A=w.length;if(a==null)return!A;for(a=he(a);A--;){var I=w[A],U=l[I],D=a[I];if(D===n&&!(I in a)||!U(D))return!1}return!0}function ms(a,l,w){if(typeof a!="function")throw new ut(e);return Ti(function(){a.apply(n,w)},l)}function ua(a,l,w,A){var I=-1,U=Jn,D=!0,E=a.length,N=[],v=l.length;if(!E)return N;w&&(l=nn(l,vr(w))),A?(U=ri,D=!1):l.length>=200&&(U=Ro,D=!1,l=new Z(l));e:for(;++I<E;){var m=a[I],x=w==null?m:w(m);if(m=A||m!==0?m:0,D&&x==x){for(var P=v;P--;)if(l[P]===x)continue e;N.push(m)}else U(l,x,A)||N.push(m)}return N}R.templateSettings={escape:ur,evaluate:Fn,interpolate:wi,variable:"",imports:{_:R}},R.prototype=Yu.prototype,R.prototype.constructor=R,Lr.prototype=is(Yu.prototype),Lr.prototype.constructor=Lr,_t.prototype=is(Yu.prototype),_t.prototype.constructor=_t,Ae.prototype.clear=function(){this.__data__=Hs?Hs(null):{},this.size=0},Ae.prototype.delete=function(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l},Ae.prototype.get=function(a){var l=this.__data__;if(Hs){var w=l[a];return w===t?n:w}return $t.call(l,a)?l[a]:n},Ae.prototype.has=function(a){var l=this.__data__;return Hs?l[a]!==n:$t.call(l,a)},Ae.prototype.set=function(a,l){var w=this.__data__;return this.size+=this.has(a)?0:1,w[a]=Hs&&l===n?t:l,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(a){var l=this.__data__,w=sa(l,a);return!(w<0||(w==l.length-1?l.pop():cl.call(l,w,1),--this.size,0))},$r.prototype.get=function(a){var l=this.__data__,w=sa(l,a);return w<0?n:l[w][1]},$r.prototype.has=function(a){return sa(this.__data__,a)>-1},$r.prototype.set=function(a,l){var w=this.__data__,A=sa(w,a);return A<0?(++this.size,w.push([a,l])):w[A][1]=l,this},xi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(ks||$r),string:new Ae}},xi.prototype.delete=function(a){var l=ss(this,a).delete(a);return this.size-=l?1:0,l},xi.prototype.get=function(a){return ss(this,a).get(a)},xi.prototype.has=function(a){return ss(this,a).has(a)},xi.prototype.set=function(a,l){var w=ss(this,a),A=w.size;return w.set(a,l),this.size+=w.size==A?0:1,this},Z.prototype.add=Z.prototype.push=function(a){return this.__data__.set(a,t),this},Z.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.clear=function(){this.__data__=new $r,this.size=0},ln.prototype.delete=function(a){var l=this.__data__,w=l.delete(a);return this.size=l.size,w},ln.prototype.get=function(a){return this.__data__.get(a)},ln.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.set=function(a,l){var w=this.__data__;if(w instanceof $r){var A=w.__data__;if(!ks||A.length<199)return A.push([a,l]),this.size=++w.size,this;w=this.__data__=new xi(A)}return w.set(a,l),this.size=w.size,this};var Li=Va(Pn),fo=Va(Ha,!0);function uf(a,l){var w=!0;return Li(a,function(A,I,U){return w=!!l(A,I,U)}),w}function Sa(a,l,w){for(var A=-1,I=a.length;++A<I;){var U=a[A],D=l(U);if(D!=null&&(E===n?D==D&&!sr(D):w(D,E)))var E=D,N=U}return N}function jo(a,l){var w=[];return Li(a,function(A,I,U){l(A,I,U)&&w.push(A)}),w}function Ln(a,l,w,A,I){var U=-1,D=a.length;for(w||(w=Ut),I||(I=[]);++U<D;){var E=a[U];l>0&&w(E)?l>1?Ln(E,l-1,w,A,I):Xn(I,E):A||(I[I.length]=E)}return I}var Mc=ml(),pc=ml(!0);function Pn(a,l){return a&&Mc(a,l,An)}function Ha(a,l){return a&&pc(a,l,An)}function Ho(a,l){return mi(l,function(w){return mo(a[w])})}function di(a,l){for(var w=0,A=(l=Qr(l,a)).length;a!=null&&w<A;)a=a[Zn(l[w++])];return w&&w==A?a:n}function os(a,l,w){var A=l(a);return dt(a)?A:Xn(A,w(a))}function Kt(a){return a==null?a===n?"[object Undefined]":"[object Null]":aa&&aa in he(a)?function(l){var w=$t.call(l,aa),A=l[aa];try{l[aa]=n;var I=!0}catch{}var U=ps.call(l);return I&&(w?l[aa]=A:delete l[aa]),U}(a):function(l){return ps.call(l)}(a)}function Lo(a,l){return a>l}function Fc(a,l){return a!=null&&$t.call(a,l)}function _a(a,l){return a!=null&&l in he(a)}function rc(a,l,w){for(var A=w?ri:Jn,I=a[0].length,U=a.length,D=U,E=ze(U),N=1/0,v=[];D--;){var m=a[D];D&&l&&(m=nn(m,vr(l))),N=wn(m.length,N),E[D]=!w&&(l||I>=120&&m.length>=120)?new Z(D&&m):n}m=a[0];var x=-1,P=E[0];e:for(;++x<I&&v.length<N;){var L=m[x],H=l?l(L):L;if(L=w||L!==0?L:0,!(P?Ro(P,H):A(v,H,w))){for(D=U;--D;){var V=E[D];if(!(V?Ro(V,H):A(a[D],H,w)))continue e}P&&P.push(H),v.push(L)}}return v}function Xr(a,l,w){var A=(a=va(a,l=Qr(l,a)))==null?a:a[Zn(ai(l))];return A==null?n:Rn(A,a,w)}function as(a){return Wt(a)&&Kt(a)==g}function Ea(a,l,w,A,I){return a===l||(a==null||l==null||!Wt(a)&&!Wt(l)?a!=a&&l!=l:function(U,D,E,N,v,m){var x=dt(U),P=dt(D),L=x?y:Lt(U),H=P?y:Lt(D),V=(L=L==g?W:L)==W,Y=(H=H==g?W:H)==W,re=L==H;if(re&&$o(U)){if(!$o(D))return!1;x=!0,V=!1}if(re&&!V)return m||(m=new ln),x||sn(U)?dl(U,D,E,N,v,m):function(we,Te,Ge,Ie,Xe,Ye,rt){switch(Ge){case xe:if(we.byteLength!=Te.byteLength||we.byteOffset!=Te.byteOffset)return!1;we=we.buffer,Te=Te.buffer;case ge:return!(we.byteLength!=Te.byteLength||!Ye(new kl(we),new kl(Te)));case b:case _:case z:return Kr(+we,+Te);case M:return we.name==Te.name&&we.message==Te.message;case G:case te:return we==Te+"";case j:var St=ji;case Q:var Mt=1&Ie;if(St||(St=ts),we.size!=Te.size&&!Mt)return!1;var en=rt.get(we);if(en)return en==Te;Ie|=2,rt.set(we,Te);var qt=dl(St(we),St(Te),Ie,Xe,Ye,rt);return rt.delete(we),qt;case ae:if(Ms)return Ms.call(we)==Ms.call(Te)}return!1}(U,D,L,E,N,v,m);if(!(1&E)){var ne=V&&$t.call(U,"__wrapped__"),ce=Y&&$t.call(D,"__wrapped__");if(ne||ce){var me=ne?U.value():U,be=ce?D.value():D;return m||(m=new ln),v(me,be,E,N,m)}}return!!re&&(m||(m=new ln),function(we,Te,Ge,Ie,Xe,Ye){var rt=1&Ge,St=qo(we),Mt=St.length;if(Mt!=qo(Te).length&&!rt)return!1;for(var en=Mt;en--;){var qt=St[en];if(!(rt?qt in Te:$t.call(Te,qt)))return!1}var It=Ye.get(we),Zt=Ye.get(Te);if(It&&Zt)return It==Te&&Zt==we;var yr=!0;Ye.set(we,Te),Ye.set(Te,we);for(var cr=rt;++en<Mt;){var fi=we[qt=St[en]],Gn=Te[qt];if(Ie)var Uo=rt?Ie(Gn,fi,qt,Te,we,Ye):Ie(fi,Gn,qt,we,Te,Ye);if(!(Uo===n?fi===Gn||Xe(fi,Gn,Ge,Ie,Ye):Uo)){yr=!1;break}cr||(cr=qt=="constructor")}if(yr&&!cr){var fr=we.constructor,Ga=Te.constructor;fr==Ga||!("constructor"in we)||!("constructor"in Te)||typeof fr=="function"&&fr instanceof fr&&typeof Ga=="function"&&Ga instanceof Ga||(yr=!1)}return Ye.delete(we),Ye.delete(Te),yr}(U,D,E,N,v,m))}(a,l,w,A,Ea,I))}function Ci(a,l,w,A){var I=w.length,U=I,D=!A;if(a==null)return!U;for(a=he(a);I--;){var E=w[I];if(D&&E[2]?E[1]!==a[E[0]]:!(E[0]in a))return!1}for(;++I<U;){var N=(E=w[I])[0],v=a[N],m=E[1];if(D&&E[2]){if(v===n&&!(N in a))return!1}else{var x=new ln;if(A)var P=A(v,m,N,a,l,x);if(!(P===n?Ea(m,v,3,A,x):P))return!1}}return!0}function pl(a){return!(!on(a)||(l=a,oa&&oa in l))&&(mo(a)?yf:Ui).test(Po(a));var l}function Au(a){return typeof a=="function"?a:a==null?Yn:typeof a=="object"?dt(a)?ki(a[0],a[1]):mu(a):li(a)}function ds(a){if(!br(a))return Sh(a);var l=[];for(var w in he(a))$t.call(a,w)&&w!="constructor"&&l.push(w);return l}function ir(a,l){return a<l}function Qn(a,l){var w=-1,A=$n(a)?ze(a.length):[];return Li(a,function(I,U,D){A[++w]=l(I,U,D)}),A}function mu(a){var l=Ol(a);return l.length==1&&l[0][2]?Ys(l[0][0],l[0][1]):function(w){return w===a||Ci(w,a,l)}}function ki(a,l){return Vn(a)&&Gs(l)?Ys(Zn(a),l):function(w){var A=ac(w,a);return A===n&&A===l?zn(w,a):Ea(l,A,3)}}function Mi(a,l,w,A,I){a!==l&&Mc(l,function(U,D){if(I||(I=new ln),on(U))(function(N,v,m,x,P,L,H){var V=qr(N,m),Y=qr(v,m),re=H.get(Y);if(re)Di(N,m,re);else{var ne=L?L(V,Y,m+"",N,v,H):n,ce=ne===n;if(ce){var me=dt(Y),be=!me&&$o(Y),we=!me&&!be&&sn(Y);ne=Y,me||be||we?dt(V)?ne=V:Dn(V)?ne=or(V):be?(ce=!1,ne=jc(Y,!0)):we?(ce=!1,ne=ru(Y,!0)):ne=[]:us(Y)||To(Y)?(ne=V,To(V)?ne=zo(V):on(V)&&!mo(V)||(ne=Ks(Y))):ce=!1}ce&&(H.set(Y,ne),P(ne,Y,x,L,H),H.delete(Y)),Di(N,m,ne)}})(a,l,D,w,Mi,A,I);else{var E=A?A(qr(a,D),U,D+"",a,l,I):n;E===n&&(E=U),Di(a,D,E)}},Er)}function Ju(a,l){var w=a.length;if(w)return gr(l+=l<0?w:0,w)?a[l]:n}function ku(a,l,w){l=l.length?nn(l,function(U){return dt(U)?function(D){return di(D,U.length===1?U[0]:U)}:U}):[Yn];var A=-1;l=nn(l,vr(st()));var I=Qn(a,function(U,D,E){var N=nn(l,function(v){return v(U)});return{criteria:N,index:++A,value:U}});return function(U,D){var E=U.length;for(U.sort(D);E--;)U[E]=U[E].value;return U}(I,function(U,D){return function(E,N,v){for(var m=-1,x=E.criteria,P=N.criteria,L=x.length,H=v.length;++m<L;){var V=qs(x[m],P[m]);if(V)return m>=H?V:V*(v[m]=="desc"?-1:1)}return E.index-N.index}(U,D,w)})}function Ji(a,l,w){for(var A=-1,I=l.length,U={};++A<I;){var D=l[A],E=di(a,D);w(E,D)&&Vs(U,Qr(D,a),E)}return U}function ic(a,l,w,A){var I=A?Bc:bi,U=-1,D=l.length,E=a;for(a===l&&(l=or(l)),w&&(E=nn(a,vr(w)));++U<D;)for(var N=0,v=l[U],m=w?w(v):v;(N=I(E,m,N,A))>-1;)E!==a&&cl.call(E,N,1),cl.call(a,N,1);return a}function Pl(a,l){for(var w=a?l.length:0,A=w-1;w--;){var I=l[w];if(w==A||I!==U){var U=I;gr(I)?cl.call(a,I,1):Co(a,I)}}return a}function Fs(a,l){return a+$u(Rf()*(l-a+1))}function du(a,l){var w="";if(!a||l<1||l>u)return w;do l%2&&(w+=a),(l=$u(l/2))&&(a+=a);while(l);return w}function Ct(a,l){return go(po(a,l,Yn),a+"")}function vs(a){return bn(On(a))}function Zc(a,l){var w=On(a);return wu(w,Ta(l,0,w.length))}function Vs(a,l,w,A){if(!on(a))return a;for(var I=-1,U=(l=Qr(l,a)).length,D=U-1,E=a;E!=null&&++I<U;){var N=Zn(l[I]),v=w;if(N==="__proto__"||N==="constructor"||N==="prototype")return a;if(I!=D){var m=E[N];(v=A?A(m,N,E):n)===n&&(v=on(m)?m:gr(l[I+1])?[]:{})}Yi(E,N,v),E=E[N]}return a}var Tl=Fa?function(a,l){return Fa.set(a,l),a}:Yn,Ps=gu?function(a,l){return gu(a,"toString",{configurable:!0,enumerable:!1,value:wc(l),writable:!0})}:Yn;function Ar(a){return wu(On(a))}function lr(a,l,w){var A=-1,I=a.length;l<0&&(l=-l>I?0:I+l),(w=w>I?I:w)<0&&(w+=I),I=l>w?0:w-l>>>0,l>>>=0;for(var U=ze(I);++A<I;)U[A]=a[A+l];return U}function Pc(a,l){var w;return Li(a,function(A,I,U){return!(w=l(A,I,U))}),!!w}function tn(a,l,w){var A=0,I=a==null?A:a.length;if(typeof l=="number"&&l==l&&I<=2147483647){for(;A<I;){var U=A+I>>>1,D=a[U];D!==null&&!sr(D)&&(w?D<=l:D<l)?A=U+1:I=U}return I}return ao(a,l,Yn,w)}function ao(a,l,w,A){var I=0,U=a==null?0:a.length;if(U===0)return 0;for(var D=(l=w(l))!=l,E=l===null,N=sr(l),v=l===n;I<U;){var m=$u((I+U)/2),x=w(a[m]),P=x!==n,L=x===null,H=x==x,V=sr(x);if(D)var Y=A||H;else Y=v?H&&(A||P):E?H&&P&&(A||!L):N?H&&P&&!L&&(A||!V):!L&&!V&&(A?x<=l:x<l);Y?I=m+1:U=m}return wn(U,4294967294)}function Wr(a,l){for(var w=-1,A=a.length,I=0,U=[];++w<A;){var D=a[w],E=l?l(D):D;if(!w||!Kr(E,N)){var N=E;U[I++]=D===0?0:D}}return U}function Vr(a){return typeof a=="number"?a:sr(a)?c:+a}function xn(a){if(typeof a=="string")return a;if(dt(a))return nn(a,xn)+"";if(sr(a))return Ml?Ml.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function hr(a,l,w){var A=-1,I=Jn,U=a.length,D=!0,E=[],N=E;if(w)D=!1,I=ri;else if(U>=200){var v=l?null:gc(a);if(v)return ts(v);D=!1,I=Ro,N=new Z}else N=l?[]:E;e:for(;++A<U;){var m=a[A],x=l?l(m):m;if(m=w||m!==0?m:0,D&&x==x){for(var P=N.length;P--;)if(N[P]===x)continue e;l&&N.push(x),E.push(m)}else I(N,x,w)||(N!==E&&N.push(x),E.push(m))}return E}function Co(a,l){return(a=va(a,l=Qr(l,a)))==null||delete a[Zn(ai(l))]}function So(a,l,w,A){return Vs(a,l,w(di(a,l)),A)}function nu(a,l,w,A){for(var I=a.length,U=A?I:-1;(A?U--:++U<I)&&l(a[U],U,a););return w?lr(a,A?0:U,A?U+1:I):lr(a,A?U+1:0,A?I:U)}function Ia(a,l){var w=a;return w instanceof _t&&(w=w.value()),es(l,function(A,I){return I.func.apply(I.thisArg,Xn([A],I.args))},w)}function zr(a,l,w){var A=a.length;if(A<2)return A?hr(a[0]):[];for(var I=-1,U=ze(A);++I<A;)for(var D=a[I],E=-1;++E<A;)E!=I&&(U[I]=ua(U[I]||D,a[E],l,w));return hr(Ln(U,1),l,w)}function so(a,l,w){for(var A=-1,I=a.length,U=l.length,D={};++A<I;){var E=A<U?l[A]:n;w(D,a[A],E)}return D}function pr(a){return Dn(a)?a:[]}function Sr(a){return typeof a=="function"?a:Yn}function Qr(a,l){return dt(a)?a:Vn(a,l)?[a]:Lc(Ot(a))}var Ql=Ct;function Zi(a,l,w){var A=a.length;return w=w===n?A:w,!l&&w>=A?a:lr(a,l,w)}var gl=sf||function(a){return Bt.clearTimeout(a)};function jc(a,l){if(l)return a.slice();var w=a.length,A=wf?wf(w):new a.constructor(w);return a.copy(A),A}function Mu(a){var l=new a.constructor(a.byteLength);return new kl(l).set(new kl(a)),l}function ru(a,l){var w=l?Mu(a.buffer):a.buffer;return new a.constructor(w,a.byteOffset,a.length)}function qs(a,l){if(a!==l){var w=a!==n,A=a===null,I=a==a,U=sr(a),D=l!==n,E=l===null,N=l==l,v=sr(l);if(!E&&!v&&!U&&a>l||U&&D&&N&&!E&&!v||A&&D&&N||!w&&N||!I)return 1;if(!A&&!U&&!v&&a<l||v&&w&&I&&!A&&!U||E&&w&&I||!D&&I||!N)return-1}return 0}function Ts(a,l,w,A){for(var I=-1,U=a.length,D=w.length,E=-1,N=l.length,v=Tn(U-D,0),m=ze(N+v),x=!A;++E<N;)m[E]=l[E];for(;++I<D;)(x||I<U)&&(m[w[I]]=a[I]);for(;v--;)m[E++]=a[I++];return m}function iu(a,l,w,A){for(var I=-1,U=a.length,D=-1,E=w.length,N=-1,v=l.length,m=Tn(U-E,0),x=ze(m+v),P=!A;++I<m;)x[I]=a[I];for(var L=I;++N<v;)x[L+N]=l[N];for(;++D<E;)(P||I<U)&&(x[L+w[D]]=a[I++]);return x}function or(a,l){var w=-1,A=a.length;for(l||(l=ze(A));++w<A;)l[w]=a[w];return l}function Kn(a,l,w,A){var I=!w;w||(w={});for(var U=-1,D=l.length;++U<D;){var E=l[U],N=A?A(w[E],a[E],E,w,a):n;N===n&&(N=a[E]),I?oi(w,E,N):Yi(w,E,N)}return w}function Oa(a,l){return function(w,A){var I=dt(w)?Qf:Ca,U=l?l():{};return I(w,a,st(A,2),U)}}function la(a){return Ct(function(l,w){var A=-1,I=w.length,U=I>1?w[I-1]:n,D=I>2?w[2]:n;for(U=a.length>3&&typeof U=="function"?(I--,U):n,D&&Gt(w[0],w[1],D)&&(U=I<3?n:U,I=1),l=he(l);++A<I;){var E=w[A];E&&a(l,E,A,U)}return l})}function Va(a,l){return function(w,A){if(w==null)return w;if(!$n(w))return a(w,A);for(var I=w.length,U=l?I:-1,D=he(w);(l?U--:++U<I)&&A(D[U],U,D)!==!1;);return w}}function ml(a){return function(l,w,A){for(var I=-1,U=he(l),D=A(l),E=D.length;E--;){var N=D[a?E:++I];if(w(U[N],N,U)===!1)break}return l}}function ca(a){return function(l){var w=Wa(l=Ot(l))?ii(l):n,A=w?w[0]:l.charAt(0),I=w?Zi(w,1).join(""):l.slice(1);return A[a]()+I}}function uo(a){return function(l){return es(Pu(ei(l).replace(Lu,"")),a,"")}}function Vo(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var w=is(a.prototype),A=a.apply(w,l);return on(A)?A:w}}function Hi(a){return function(l,w,A){var I=he(l);if(!$n(l)){var U=st(w,3);l=An(l),w=function(E){return U(I[E],E,I)}}var D=a(l,w,A);return D>-1?I[U?l[D]:D]:n}}function eo(a){return lo(function(l){var w=l.length,A=w,I=Lr.prototype.thru;for(a&&l.reverse();A--;){var U=l[A];if(typeof U!="function")throw new ut(e);if(I&&!D&&no(U)=="wrapper")var D=new Lr([],!0)}for(A=D?A:w;++A<w;){var E=no(U=l[A]),N=E=="wrapper"?ou(U):n;D=N&&kr(N[0])&&N[1]==424&&!N[4].length&&N[9]==1?D[no(N[0])].apply(D,N[3]):U.length==1&&kr(U)?D[E]():D.thru(U)}return function(){var v=arguments,m=v[0];if(D&&v.length==1&&dt(m))return D.plant(m).value();for(var x=0,P=w?l[x].apply(this,v):m;++x<w;)P=l[x].call(this,P);return P}})}function Fo(a,l,w,A,I,U,D,E,N,v){var m=l&o,x=1&l,P=2&l,L=24&l,H=512&l,V=P?n:Vo(a);return function Y(){for(var re=arguments.length,ne=ze(re),ce=re;ce--;)ne[ce]=arguments[ce];if(L)var me=Xi(Y),be=function(Ie,Xe){for(var Ye=Ie.length,rt=0;Ye--;)Ie[Ye]===Xe&&++rt;return rt}(ne,me);if(A&&(ne=Ts(ne,A,I,L)),U&&(ne=iu(ne,U,D,L)),re-=be,L&&re<v){var we=xo(ne,me);return Is(a,l,Fo,Y.placeholder,w,ne,we,E,N,v-re)}var Te=x?w:this,Ge=P?Te[a]:a;return re=ne.length,E?ne=function(Ie,Xe){for(var Ye=Ie.length,rt=wn(Xe.length,Ye),St=or(Ie);rt--;){var Mt=Xe[rt];Ie[rt]=gr(Mt,Ye)?St[Mt]:n}return Ie}(ne,E):H&&re>1&&ne.reverse(),m&&N<re&&(ne.length=N),this&&this!==Bt&&this instanceof Y&&(Ge=V||Vo(Ge)),Ge.apply(Te,ne)}}function $i(a,l){return function(w,A){return function(I,U,D,E){return Pn(I,function(N,v,m){U(E,D(N),v,m)}),E}(w,a,l(A),{})}}function to(a,l){return function(w,A){var I;if(w===n&&A===n)return l;if(w!==n&&(I=w),A!==n){if(I===n)return A;typeof w=="string"||typeof A=="string"?(w=xn(w),A=xn(A)):(w=Vr(w),A=Vr(A)),I=a(w,A)}return I}}function ho(a){return lo(function(l){return l=nn(l,vr(st())),Ct(function(w){var A=this;return a(l,function(I){return Rn(I,A,w)})})})}function Na(a,l){var w=(l=l===n?" ":xn(l)).length;if(w<2)return w?du(l,a):l;var A=du(l,Zo(a/Qi(l)));return Wa(l)?Zi(ii(A),0,a).join(""):A.slice(0,a)}function vu(a){return function(l,w,A){return A&&typeof A!="number"&&Gt(l,w,A)&&(w=A=n),l=yi(l),w===n?(w=l,l=0):w=yi(w),function(I,U,D,E){for(var N=-1,v=Tn(Zo((U-I)/(D||1)),0),m=ze(v);v--;)m[E?v:++N]=I,I+=D;return m}(l,w,A=A===n?l<w?1:-1:yi(A),a)}}function qa(a){return function(l,w){return typeof l=="string"&&typeof w=="string"||(l=xr(l),w=xr(w)),a(l,w)}}function Is(a,l,w,A,I,U,D,E,N,v){var m=8&l;l|=m?i:64,4&(l&=~(m?64:i))||(l&=-4);var x=[a,l,I,m?U:n,m?D:n,m?n:U,m?n:D,E,N,v],P=w.apply(n,x);return kr(a)&&Fu(P,x),P.placeholder=A,Js(P,a,l)}function ma(a){var l=Et[a];return function(w,A){if(w=xr(w),(A=A==null?0:wn(mt(A),292))&&Rc(w)){var I=(Ot(w)+"e").split("e");return+((I=(Ot(l(I[0]+"e"+(+I[1]+A)))+"e").split("e"))[0]+"e"+(+I[1]-A))}return l(w)}}var gc=Tr&&1/ts(new Tr([,-0]))[1]==s?function(a){return new Tr(a)}:ec;function Il(a){return function(l){var w=Lt(l);return w==j?ji(l):w==Q?function(I){var U=-1,D=Array(I.size);return I.forEach(function(E){D[++U]=[E,E]}),D}(l):function(A,I){return nn(I,function(U){return[U,A[U]]})}(l,a(l))}}function wr(a,l,w,A,I,U,D,E){var N=2&l;if(!N&&typeof a!="function")throw new ut(e);var v=A?A.length:0;if(v||(l&=-97,A=I=n),D=D===n?D:Tn(mt(D),0),E=E===n?E:mt(E),v-=I?I.length:0,64&l){var m=A,x=I;A=I=n}var P=N?n:ou(a),L=[a,l,w,A,I,m,x,U,D,E];if(P&&function(V,Y){var re=V[1],ne=Y[1],ce=re|ne,me=ce<131,be=ne==o&&re==8||ne==o&&re==256&&V[7].length<=Y[8]||ne==384&&Y[7].length<=Y[8]&&re==8;if(!me&&!be)return V;1&ne&&(V[2]=Y[2],ce|=1&re?0:4);var we=Y[3];if(we){var Te=V[3];V[3]=Te?Ts(Te,we,Y[4]):we,V[4]=Te?xo(V[3],r):Y[4]}(we=Y[5])&&(Te=V[5],V[5]=Te?iu(Te,we,Y[6]):we,V[6]=Te?xo(V[5],r):Y[6]),(we=Y[7])&&(V[7]=we),ne&o&&(V[8]=V[8]==null?Y[8]:wn(V[8],Y[8])),V[9]==null&&(V[9]=Y[9]),V[0]=Y[0],V[1]=ce}(L,P),a=L[0],l=L[1],w=L[2],A=L[3],I=L[4],!(E=L[9]=L[9]===n?N?0:a.length:Tn(L[9]-v,0))&&24&l&&(l&=-25),l&&l!=1)H=l==8||l==16?function(V,Y,re){var ne=Vo(V);return function ce(){for(var me=arguments.length,be=ze(me),we=me,Te=Xi(ce);we--;)be[we]=arguments[we];var Ge=me<3&&be[0]!==Te&&be[me-1]!==Te?[]:xo(be,Te);return(me-=Ge.length)<re?Is(V,Y,Fo,ce.placeholder,n,be,Ge,n,n,re-me):Rn(this&&this!==Bt&&this instanceof ce?ne:V,this,be)}}(a,l,E):l!=i&&l!=33||I.length?Fo.apply(n,L):function(V,Y,re,ne){var ce=1&Y,me=Vo(V);return function be(){for(var we=-1,Te=arguments.length,Ge=-1,Ie=ne.length,Xe=ze(Ie+Te),Ye=this&&this!==Bt&&this instanceof be?me:V;++Ge<Ie;)Xe[Ge]=ne[Ge];for(;Te--;)Xe[Ge++]=arguments[++we];return Rn(Ye,ce?re:this,Xe)}}(a,l,w,A);else var H=function(V,Y,re){var ne=1&Y,ce=Vo(V);return function me(){return(this&&this!==Bt&&this instanceof me?ce:V).apply(ne?re:this,arguments)}}(a,l,w);return Js((P?Tl:Fu)(H,L),a,l)}function ys(a,l,w,A){return a===n||Kr(a,Cr[w])&&!$t.call(A,w)?l:a}function yu(a,l,w,A,I,U){return on(a)&&on(l)&&(U.set(l,a),Mi(a,l,n,yu,U),U.delete(l)),a}function lf(a){return us(a)?n:a}function dl(a,l,w,A,I,U){var D=1&w,E=a.length,N=l.length;if(E!=N&&!(D&&N>E))return!1;var v=U.get(a),m=U.get(l);if(v&&m)return v==l&&m==a;var x=-1,P=!0,L=2&w?new Z:n;for(U.set(a,l),U.set(l,a);++x<E;){var H=a[x],V=l[x];if(A)var Y=D?A(V,H,x,l,a,U):A(H,V,x,a,l,U);if(Y!==n){if(Y)continue;P=!1;break}if(L){if(!Jr(l,function(re,ne){if(!Ro(L,ne)&&(H===re||I(H,re,w,A,U)))return L.push(ne)})){P=!1;break}}else if(H!==V&&!I(H,V,w,A,U)){P=!1;break}}return U.delete(a),U.delete(l),P}function lo(a){return go(po(a,n,Ka),a+"")}function qo(a){return os(a,An,ar)}function Ba(a){return os(a,Er,da)}var ou=Fa?function(a){return Fa.get(a)}:ec;function no(a){for(var l=a.name+"",w=Pa[l],A=$t.call(Pa,l)?w.length:0;A--;){var I=w[A],U=I.func;if(U==null||U==a)return I.name}return l}function Xi(a){return($t.call(R,"placeholder")?R:a).placeholder}function st(){var a=R.iteratee||bc;return a=a===bc?Au:a,arguments.length?a(arguments[0],arguments[1]):a}function ss(a,l){var w,A,I=a.__data__;return((A=typeof(w=l))=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null)?I[typeof l=="string"?"string":"hash"]:I.map}function Ol(a){for(var l=An(a),w=l.length;w--;){var A=l[w],I=a[A];l[w]=[A,I,Gs(I)]}return l}function Zr(a,l){var w=function(A,I){return A==null?n:A[I]}(a,l);return pl(w)?w:n}var ar=zu?function(a){return a==null?[]:(a=he(a),mi(zu(a),function(l){return nc.call(a,l)}))}:ci,da=zu?function(a){for(var l=[];a;)Xn(l,ar(a)),a=Ma(a);return l}:ci,Lt=Kt;function Hu(a,l,w){for(var A=-1,I=(l=Qr(l,a)).length,U=!1;++A<I;){var D=Zn(l[A]);if(!(U=a!=null&&w(a,D)))break;a=a[D]}return U||++A!=I?U:!!(I=a==null?0:a.length)&&zt(I)&&gr(D,I)&&(dt(a)||To(a))}function Ks(a){return typeof a.constructor!="function"||br(a)?{}:is(Ma(a))}function Ut(a){return dt(a)||To(a)||!!(fl&&a&&a[fl])}function gr(a,l){var w=typeof a;return!!(l=l??u)&&(w=="number"||w!="symbol"&&bo.test(a))&&a>-1&&a%1==0&&a<l}function Gt(a,l,w){if(!on(w))return!1;var A=typeof l;return!!(A=="number"?$n(w)&&gr(l,w.length):A=="string"&&l in w)&&Kr(w[l],a)}function Vn(a,l){if(dt(a))return!1;var w=typeof a;return!(w!="number"&&w!="symbol"&&w!="boolean"&&a!=null&&!sr(a))||$a.test(a)||!js.test(a)||l!=null&&a in he(l)}function kr(a){var l=no(a),w=R[l];if(typeof w!="function"||!(l in _t.prototype))return!1;if(a===w)return!0;var A=ou(w);return!!A&&a===A[0]}(Da&&Lt(new Da(new ArrayBuffer(1)))!=xe||ks&&Lt(new ks)!=j||Ai&&Lt(Ai.resolve())!=J||Tr&&Lt(new Tr)!=Q||ns&&Lt(new ns)!=se)&&(Lt=function(a){var l=Kt(a),w=l==W?a.constructor:n,A=w?Po(w):"";if(A)switch(A){case kc:return xe;case Uu:return j;case Wu:return J;case hl:return Q;case Yl:return se}return l});var Nl=Do?mo:Ir;function br(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||Cr)}function Gs(a){return a==a&&!on(a)}function Ys(a,l){return function(w){return w!=null&&w[a]===l&&(l!==n||a in he(w))}}function po(a,l,w){return l=Tn(l===n?a.length-1:l,0),function(){for(var A=arguments,I=-1,U=Tn(A.length-l,0),D=ze(U);++I<U;)D[I]=A[l+I];I=-1;for(var E=ze(l+1);++I<l;)E[I]=A[I];return E[l]=w(D),Rn(a,this,E)}}function va(a,l){return l.length<2?a:di(a,lr(l,0,-1))}function qr(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}var Fu=Bl(Tl),Ti=Ac||function(a,l){return Bt.setTimeout(a,l)},go=Bl(Ps);function Js(a,l,w){var A=l+"";return go(a,function(I,U){var D=U.length;if(!D)return I;var E=D-1;return U[E]=(D>1?"& ":"")+U[E],U=U.join(D>2?", ":" "),I.replace(Be,`{
/* [wrapped with `+U+`] */
`)}(A,function(I,U){return jr(f,function(D){var E="_."+D[0];U&D[1]&&!Jn(I,E)&&I.push(E)}),I.sort()}(function(I){var U=I.match(He);return U?U[1].split(We):[]}(A),w)))}function Bl(a){var l=0,w=0;return function(){var A=Gl(),I=16-(A-w);if(w=A,I>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(n,arguments)}}function wu(a,l){var w=-1,A=a.length,I=A-1;for(l=l===n?A:l;++w<l;){var U=Fs(w,I),D=a[U];a[U]=a[w],a[w]=D}return a.length=l,a}var Lc=function(){var a=jl(function(w){var A=[];return w.charCodeAt(0)===46&&A.push(""),w.replace(fe,function(I,U,D,E){A.push(D?E.replace(bt,"$1"):U||I)}),A},function(w){return l.size===500&&l.clear(),w}),l=a.cache;return a}();function Zn(a){if(typeof a=="string"||sr(a))return a;var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function Po(a){if(a!=null){try{return jn.call(a)}catch{}try{return a+""}catch{}}return""}function $c(a){if(a instanceof _t)return a.clone();var l=new Lr(a.__wrapped__,a.__chain__);return l.__actions__=or(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}var mc=Ct(function(a,l){return Dn(a)?ua(a,Ln(l,1,Dn,!0)):[]}),Tc=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),st(w,2)):[]}),jf=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),n,w):[]});function Xs(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),Wn(a,st(l,3),I)}function vi(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A-1;return w!==n&&(I=mt(w),I=w<0?Tn(A+I,0):wn(I,A-1)),Wn(a,st(l,3),I,!0)}function Ka(a){return a!=null&&a.length?Ln(a,1):[]}function Si(a){return a&&a.length?a[0]:n}var bu=Ct(function(a){var l=nn(a,pr);return l.length&&l[0]===a[0]?rc(l):[]}),bf=Ct(function(a){var l=ai(a),w=nn(a,pr);return l===ai(w)?l=n:w.pop(),w.length&&w[0]===a[0]?rc(w,st(l,2)):[]}),cf=Ct(function(a){var l=ai(a),w=nn(a,pr);return(l=typeof l=="function"?l:n)&&w.pop(),w.length&&w[0]===a[0]?rc(w,n,l):[]});function ai(a){var l=a==null?0:a.length;return l?a[l-1]:n}var Xu=Ct(zc);function zc(a,l){return a&&a.length&&l&&l.length?ic(a,l):a}var eh=lo(function(a,l){var w=a==null?0:a.length,A=Xl(a,l);return Pl(a,nn(l,function(I){return gr(I,w)?+I:I}).sort(qs)),A});function Rl(a){return a==null?a:Ws.call(a)}var dc=Ct(function(a){return hr(Ln(a,1,Dn,!0))}),Os=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),hr(Ln(a,1,Dn,!0),st(l,2))}),th=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,hr(Ln(a,1,Dn,!0),n,l)});function Uc(a){if(!a||!a.length)return[];var l=0;return a=mi(a,function(w){if(Dn(w))return l=Tn(w.length,l),!0}),tc(l,function(w){return nn(a,pa(w))})}function ya(a,l){if(!a||!a.length)return[];var w=Uc(a);return l==null?w:nn(w,function(A){return Rn(l,n,A)})}var Th=Ct(function(a,l){return Dn(a)?ua(a,l):[]}),Ih=Ct(function(a){return zr(mi(a,Dn))}),Oh=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),zr(mi(a,Dn),st(l,2))}),Lf=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,zr(mi(a,Dn),n,l)}),hh=Ct(Uc),xf=Ct(function(a){var l=a.length,w=l>1?a[l-1]:n;return w=typeof w=="function"?(a.pop(),w):n,ya(a,w)});function ph(a){var l=R(a);return l.__chain__=!0,l}function vl(a,l){return l(a)}var nh=lo(function(a){var l=a.length,w=l?a[0]:0,A=this.__wrapped__,I=function(U){return Xl(U,a)};return!(l>1||this.__actions__.length)&&A instanceof _t&&gr(w)?((A=A.slice(w,+w+(l?1:0))).__actions__.push({func:vl,args:[I],thisArg:n}),new Lr(A,this.__chain__).thru(function(U){return l&&!U.length&&U.push(n),U})):this.thru(I)}),xu=Oa(function(a,l,w){$t.call(a,w)?++a[w]:oi(a,w,1)}),$f=Hi(Xs),ff=Hi(vi);function Df(a,l){return(dt(a)?jr:Li)(a,st(l,3))}function Wc(a,l){return(dt(a)?Nc:fo)(a,st(l,3))}var Nh=Oa(function(a,l,w){$t.call(a,w)?a[w].push(l):oi(a,w,[l])}),zf=Ct(function(a,l,w){var A=-1,I=typeof l=="function",U=$n(a)?ze(a.length):[];return Li(a,function(D){U[++A]=I?Rn(l,D,w):Xr(D,l,w)}),U}),yl=Oa(function(a,l,w){oi(a,w,l)});function wl(a,l){return(dt(a)?nn:Qn)(a,st(l,3))}var Uf=Oa(function(a,l,w){a[w?0:1].push(l)},function(){return[[],[]]}),zh=Ct(function(a,l){if(a==null)return[];var w=l.length;return w>1&&Gt(a,l[0],l[1])?l=[]:w>2&&Gt(l[0],l[1],l[2])&&(l=[l[0]]),ku(a,Ln(l,1),[])}),Zl=fh||function(){return Bt.Date.now()};function hf(a,l,w){return l=w?n:l,l=a&&l==null?a.length:l,wr(a,o,n,n,n,n,l)}function Cf(a,l){var w;if(typeof l!="function")throw new ut(e);return a=mt(a),function(){return--a>0&&(w=l.apply(this,arguments)),a<=1&&(l=n),w}}var oc=Ct(function(a,l,w){var A=1;if(w.length){var I=xo(w,Xi(oc));A|=i}return wr(a,A,l,w,I)}),rh=Ct(function(a,l,w){var A=3;if(w.length){var I=xo(w,Xi(rh));A|=i}return wr(l,A,a,w,I)});function _h(a,l,w){var A,I,U,D,E,N,v=0,m=!1,x=!1,P=!0;if(typeof a!="function")throw new ut(e);function L(ne){var ce=A,me=I;return A=I=n,v=ne,D=a.apply(me,ce)}function H(ne){var ce=ne-N;return N===n||ce>=l||ce<0||x&&ne-v>=U}function V(){var ne=Zl();if(H(ne))return Y(ne);E=Ti(V,function(ce){var me=l-(ce-N);return x?wn(me,U-(ce-v)):me}(ne))}function Y(ne){return E=n,P&&A?L(ne):(A=I=n,D)}function re(){var ne=Zl(),ce=H(ne);if(A=arguments,I=this,N=ne,ce){if(E===n)return function(me){return v=me,E=Ti(V,l),m?L(me):D}(N);if(x)return gl(E),E=Ti(V,l),L(N)}return E===n&&(E=Ti(V,l)),D}return l=xr(l)||0,on(w)&&(m=!!w.leading,U=(x="maxWait"in w)?Tn(xr(w.maxWait)||0,l):U,P="trailing"in w?!!w.trailing:P),re.cancel=function(){E!==n&&gl(E),v=0,A=N=I=E=n},re.flush=function(){return E===n?D:Y(Zl())},re}var _o=Ct(function(a,l){return ms(a,1,l)}),Ra=Ct(function(a,l,w){return ms(a,xr(l)||0,w)});function jl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new ut(e);var w=function(){var A=arguments,I=l?l.apply(this,A):A[0],U=w.cache;if(U.has(I))return U.get(I);var D=a.apply(this,A);return w.cache=U.set(I,D)||U,D};return w.cache=new(jl.Cache||xi),w}function ws(a){if(typeof a!="function")throw new ut(e);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}jl.Cache=xi;var gh=Ql(function(a,l){var w=(l=l.length==1&&dt(l[0])?nn(l[0],vr(st())):nn(Ln(l,1),vr(st()))).length;return Ct(function(A){for(var I=-1,U=wn(A.length,w);++I<U;)A[I]=l[I].call(this,A[I]);return Rn(a,this,A)})}),vc=Ct(function(a,l){var w=xo(l,Xi(vc));return wr(a,i,n,l,w)}),ef=Ct(function(a,l){var w=xo(l,Xi(ef));return wr(a,64,n,l,w)}),Ll=lo(function(a,l){return wr(a,256,n,n,n,l)});function Kr(a,l){return a===l||a!=a&&l!=l}var tf=qa(Lo),Bh=qa(function(a,l){return a>=l}),To=as(function(){return arguments}())?as:function(a){return Wt(a)&&$t.call(a,"callee")&&!nc.call(a,"callee")},dt=ze.isArray,ih=hu?vr(hu):function(a){return Wt(a)&&Kt(a)==ge};function $n(a){return a!=null&&zt(a.length)&&!mo(a)}function Dn(a){return Wt(a)&&$n(a)}var $o=Kl||Ir,wa=Ei?vr(Ei):function(a){return Wt(a)&&Kt(a)==_};function Nr(a){if(!Wt(a))return!1;var l=Kt(a);return l==M||l=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!us(a)}function mo(a){if(!on(a))return!1;var l=Kt(a);return l==F||l==O||l=="[object AsyncFunction]"||l=="[object Proxy]"}function Eo(a){return typeof a=="number"&&a==mt(a)}function zt(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=u}function on(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Wt(a){return a!=null&&typeof a=="object"}var tr=Hn?vr(Hn):function(a){return Wt(a)&&Lt(a)==j};function _r(a){return typeof a=="number"||Wt(a)&&Kt(a)==z}function us(a){if(!Wt(a)||Kt(a)!=W)return!1;var l=Ma(a);if(l===null)return!0;var w=$t.call(l,"constructor")&&l.constructor;return typeof w=="function"&&w instanceof w&&jn.call(w)==Ec}var Fi=Xo?vr(Xo):function(a){return Wt(a)&&Kt(a)==G},Ii=af?vr(af):function(a){return Wt(a)&&Lt(a)==Q};function Ao(a){return typeof a=="string"||!dt(a)&&Wt(a)&&Kt(a)==te}function sr(a){return typeof a=="symbol"||Wt(a)&&Kt(a)==ae}var sn=cc?vr(cc):function(a){return Wt(a)&&zt(a.length)&&!!Qt[Kt(a)]},si=qa(ir),Tt=qa(function(a,l){return a<=l});function Qu(a){if(!a)return[];if($n(a))return Ao(a)?ii(a):or(a);if(Wi&&a[Wi])return function(w){for(var A,I=[];!(A=w.next()).done;)I.push(A.value);return I}(a[Wi]());var l=Lt(a);return(l==j?ji:l==Q?ts:On)(a)}function yi(a){return a?(a=xr(a))===s||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:a===0?a:0}function mt(a){var l=yi(a),w=l%1;return l==l?w?l-w:l:0}function Du(a){return a?Ta(mt(a),0,p):0}function xr(a){if(typeof a=="number")return a;if(sr(a))return c;if(on(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=on(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Hl(a);var w=At.test(a);return w||io.test(a)?Es(a.slice(2),w?2:8):yn.test(a)?c:+a}function zo(a){return Kn(a,Er(a))}function Ot(a){return a==null?"":xn(a)}var nf=la(function(a,l){if(br(l)||$n(l))Kn(l,An(l),a);else for(var w in l)$t.call(l,w)&&Yi(a,w,l[w])}),ui=la(function(a,l){Kn(l,Er(l),a)}),Cu=la(function(a,l,w,A){Kn(l,Er(l),a,A)}),ea=la(function(a,l,w,A){Kn(l,An(l),a,A)}),Ht=lo(Xl),Dr=Ct(function(a,l){a=he(a);var w=-1,A=l.length,I=A>2?l[2]:n;for(I&&Gt(l[0],l[1],I)&&(A=1);++w<A;)for(var U=l[w],D=Er(U),E=-1,N=D.length;++E<N;){var v=D[E],m=a[v];(m===n||Kr(m,Cr[v])&&!$t.call(a,v))&&(a[v]=U[v])}return a}),ko=Ct(function(a){return a.push(n,yu),Rn(pf,n,a)});function ac(a,l,w){var A=a==null?n:di(a,l);return A===n?w:A}function zn(a,l){return a!=null&&Hu(a,l,_a)}var Vu=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),a[l]=w},wc(Yn)),mh=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),$t.call(a,l)?a[l].push(w):a[l]=[w]},st),ls=Ct(Xr);function An(a){return $n(a)?Eu(a):ds(a)}function Er(a){return $n(a)?Eu(a,!0):function(w){if(!on(w))return function(D){var E=[];if(D!=null)for(var N in he(D))E.push(N);return E}(w);var A=br(w),I=[];for(var U in w)(U!="constructor"||!A&&$t.call(w,U))&&I.push(U);return I}(a)}var Eh=la(function(a,l,w){Mi(a,l,w)}),pf=la(function(a,l,w,A){Mi(a,l,w,A)}),Su=lo(function(a,l){var w={};if(a==null)return w;var A=!1;l=nn(l,function(U){return U=Qr(U,a),A||(A=U.length>1),U}),Kn(a,Ba(a),w),A&&(w=Hr(w,7,lf));for(var I=l.length;I--;)Co(w,l[I]);return w}),oh=lo(function(a,l){return a==null?{}:function(w,A){return Ji(w,A,function(I,U){return zn(w,U)})}(a,l)});function Cn(a,l){if(a==null)return{};var w=nn(Ba(a),function(A){return[A]});return l=st(l),Ji(a,w,function(A,I){return l(A,I[0])})}var ja=Il(An),rf=Il(Er);function On(a){return a==null?[]:ll(a,An(a))}var Sn=uo(function(a,l,w){return l=l.toLowerCase(),a+(w?zi(l):l)});function zi(a){return ba(Ot(a).toLowerCase())}function ei(a){return(a=Ot(a))&&a.replace(ta,fc).replace(Br,"")}var Io=uo(function(a,l,w){return a+(w?"-":"")+l.toLowerCase()}),cs=uo(function(a,l,w){return a+(w?" ":"")+l.toLowerCase()}),Zu=ca("toLowerCase"),ro=uo(function(a,l,w){return a+(w?"_":"")+l.toLowerCase()}),yc=uo(function(a,l,w){return a+(w?" ":"")+ba(l)}),bs=uo(function(a,l,w){return a+(w?" ":"")+l.toUpperCase()}),ba=ca("toUpperCase");function Pu(a,l,w){return a=Ot(a),(l=w?n:l)===n?function(A){return Sc.test(A)}(a)?function(A){return A.match(gn)||[]}(a):function(A){return A.match(ot)||[]}(a):a.match(l)||[]}var _u=Ct(function(a,l){try{return Rn(a,n,l)}catch(w){return Nr(w)?w:new Ue(w)}}),xs=lo(function(a,l){return jr(l,function(w){w=Zn(w),oi(a,w,oc(a[w],a))}),a});function wc(a){return function(){return a}}var Tu=eo(),bl=eo(!0);function Yn(a){return a}function bc(a){return Au(typeof a=="function"?a:Hr(a,1))}var qu=Ct(function(a,l){return function(w){return Xr(w,a,l)}}),Hc=Ct(function(a,l){return function(w){return Xr(a,w,l)}});function Ds(a,l,w){var A=An(l),I=Ho(l,A);w!=null||on(l)&&(I.length||!A.length)||(w=l,l=a,a=this,I=Ho(l,An(l)));var U=!(on(w)&&"chain"in w&&!w.chain),D=mo(a);return jr(I,function(E){var N=l[E];a[E]=N,D&&(a.prototype[E]=function(){var v=this.__chain__;if(U||v){var m=a(this.__wrapped__);return(m.__actions__=or(this.__actions__)).push({func:N,args:arguments,thisArg:a}),m.__chain__=v,m}return N.apply(a,Xn([this.value()],arguments))})}),a}function ec(){}var Cs=ho(nn),gf=ho(As),Sf=ho(Jr);function li(a){return Vn(a)?pa(Zn(a)):function(l){return function(w){return di(w,l)}}(a)}var er=vu(),Ko=vu(!0);function ci(){return[]}function Ir(){return!1}var fs,of=to(function(a,l){return a+l},0),au=ma("ceil"),el=to(function(a,l){return a/l},1),Ic=ma("floor"),mf=to(function(a,l){return a*l},1),$l=ma("round"),Oc=to(function(a,l){return a-l},0);return R.after=function(a,l){if(typeof l!="function")throw new ut(e);return a=mt(a),function(){if(--a<1)return l.apply(this,arguments)}},R.ary=hf,R.assign=nf,R.assignIn=ui,R.assignInWith=Cu,R.assignWith=ea,R.at=Ht,R.before=Cf,R.bind=oc,R.bindAll=xs,R.bindKey=rh,R.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return dt(a)?a:[a]},R.chain=ph,R.chunk=function(a,l,w){l=(w?Gt(a,l,w):l===n)?1:Tn(mt(l),0);var A=a==null?0:a.length;if(!A||l<1)return[];for(var I=0,U=0,D=ze(Zo(A/l));I<A;)D[U++]=lr(a,I,I+=l);return D},R.compact=function(a){for(var l=-1,w=a==null?0:a.length,A=0,I=[];++l<w;){var U=a[l];U&&(I[A++]=U)}return I},R.concat=function(){var a=arguments.length;if(!a)return[];for(var l=ze(a-1),w=arguments[0],A=a;A--;)l[A-1]=arguments[A];return Xn(dt(w)?or(w):[w],Ln(l,1))},R.cond=function(a){var l=a==null?0:a.length,w=st();return a=l?nn(a,function(A){if(typeof A[1]!="function")throw new ut(e);return[w(A[0]),A[1]]}):[],Ct(function(A){for(var I=-1;++I<l;){var U=a[I];if(Rn(U[0],this,A))return Rn(U[1],this,A)}})},R.conforms=function(a){return function(l){var w=An(l);return function(A){return Fl(A,l,w)}}(Hr(a,1))},R.constant=wc,R.countBy=xu,R.create=function(a,l){var w=is(a);return l==null?w:Jl(w,l)},R.curry=function a(l,w,A){var I=wr(l,8,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.curryRight=function a(l,w,A){var I=wr(l,16,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.debounce=_h,R.defaults=Dr,R.defaultsDeep=ko,R.defer=_o,R.delay=Ra,R.difference=mc,R.differenceBy=Tc,R.differenceWith=jf,R.drop=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=w||l===n?1:mt(l))<0?0:l,A):[]},R.dropRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,0,(l=A-(l=w||l===n?1:mt(l)))<0?0:l):[]},R.dropRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0,!0):[]},R.dropWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0):[]},R.fill=function(a,l,w,A){var I=a==null?0:a.length;return I?(w&&typeof w!="number"&&Gt(a,l,w)&&(w=0,A=I),function(U,D,E,N){var v=U.length;for((E=mt(E))<0&&(E=-E>v?0:v+E),(N=N===n||N>v?v:mt(N))<0&&(N+=v),N=E>N?0:Du(N);E<N;)U[E++]=D;return U}(a,l,w,A)):[]},R.filter=function(a,l){return(dt(a)?mi:jo)(a,st(l,3))},R.flatMap=function(a,l){return Ln(wl(a,l),1)},R.flatMapDeep=function(a,l){return Ln(wl(a,l),s)},R.flatMapDepth=function(a,l,w){return w=w===n?1:mt(w),Ln(wl(a,l),w)},R.flatten=Ka,R.flattenDeep=function(a){return a!=null&&a.length?Ln(a,s):[]},R.flattenDepth=function(a,l){return a!=null&&a.length?Ln(a,l=l===n?1:mt(l)):[]},R.flip=function(a){return wr(a,512)},R.flow=Tu,R.flowRight=bl,R.fromPairs=function(a){for(var l=-1,w=a==null?0:a.length,A={};++l<w;){var I=a[l];A[I[0]]=I[1]}return A},R.functions=function(a){return a==null?[]:Ho(a,An(a))},R.functionsIn=function(a){return a==null?[]:Ho(a,Er(a))},R.groupBy=Nh,R.initial=function(a){return a!=null&&a.length?lr(a,0,-1):[]},R.intersection=bu,R.intersectionBy=bf,R.intersectionWith=cf,R.invert=Vu,R.invertBy=mh,R.invokeMap=zf,R.iteratee=bc,R.keyBy=yl,R.keys=An,R.keysIn=Er,R.map=wl,R.mapKeys=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,l(A,I,U),A)}),w},R.mapValues=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,I,l(A,I,U))}),w},R.matches=function(a){return mu(Hr(a,1))},R.matchesProperty=function(a,l){return ki(a,Hr(l,1))},R.memoize=jl,R.merge=Eh,R.mergeWith=pf,R.method=qu,R.methodOf=Hc,R.mixin=Ds,R.negate=ws,R.nthArg=function(a){return a=mt(a),Ct(function(l){return Ju(l,a)})},R.omit=Su,R.omitBy=function(a,l){return Cn(a,ws(st(l)))},R.once=function(a){return Cf(2,a)},R.orderBy=function(a,l,w,A){return a==null?[]:(dt(l)||(l=l==null?[]:[l]),dt(w=A?n:w)||(w=w==null?[]:[w]),ku(a,l,w))},R.over=Cs,R.overArgs=gh,R.overEvery=gf,R.overSome=Sf,R.partial=vc,R.partialRight=ef,R.partition=Uf,R.pick=oh,R.pickBy=Cn,R.property=li,R.propertyOf=function(a){return function(l){return a==null?n:di(a,l)}},R.pull=Xu,R.pullAll=zc,R.pullAllBy=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,st(w,2)):a},R.pullAllWith=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,n,w):a},R.pullAt=eh,R.range=er,R.rangeRight=Ko,R.rearg=Ll,R.reject=function(a,l){return(dt(a)?mi:jo)(a,ws(st(l,3)))},R.remove=function(a,l){var w=[];if(!a||!a.length)return w;var A=-1,I=[],U=a.length;for(l=st(l,3);++A<U;){var D=a[A];l(D,A,a)&&(w.push(D),I.push(A))}return Pl(a,I),w},R.rest=function(a,l){if(typeof a!="function")throw new ut(e);return Ct(a,l=l===n?l:mt(l))},R.reverse=Rl,R.sampleSize=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),(dt(a)?_n:Zc)(a,l)},R.set=function(a,l,w){return a==null?a:Vs(a,l,w)},R.setWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:Vs(a,l,w,A)},R.shuffle=function(a){return(dt(a)?gs:Ar)(a)},R.slice=function(a,l,w){var A=a==null?0:a.length;return A?(w&&typeof w!="number"&&Gt(a,l,w)?(l=0,w=A):(l=l==null?0:mt(l),w=w===n?A:mt(w)),lr(a,l,w)):[]},R.sortBy=zh,R.sortedUniq=function(a){return a&&a.length?Wr(a):[]},R.sortedUniqBy=function(a,l){return a&&a.length?Wr(a,st(l,2)):[]},R.split=function(a,l,w){return w&&typeof w!="number"&&Gt(a,l,w)&&(l=w=n),(w=w===n?p:w>>>0)?(a=Ot(a))&&(typeof l=="string"||l!=null&&!Fi(l))&&!(l=xn(l))&&Wa(a)?Zi(ii(a),0,w):a.split(l,w):[]},R.spread=function(a,l){if(typeof a!="function")throw new ut(e);return l=l==null?0:Tn(mt(l),0),Ct(function(w){var A=w[l],I=Zi(w,0,l);return A&&Xn(I,A),Rn(a,this,I)})},R.tail=function(a){var l=a==null?0:a.length;return l?lr(a,1,l):[]},R.take=function(a,l,w){return a&&a.length?lr(a,0,(l=w||l===n?1:mt(l))<0?0:l):[]},R.takeRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=A-(l=w||l===n?1:mt(l)))<0?0:l,A):[]},R.takeRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!1,!0):[]},R.takeWhile=function(a,l){return a&&a.length?nu(a,st(l,3)):[]},R.tap=function(a,l){return l(a),a},R.throttle=function(a,l,w){var A=!0,I=!0;if(typeof a!="function")throw new ut(e);return on(w)&&(A="leading"in w?!!w.leading:A,I="trailing"in w?!!w.trailing:I),_h(a,l,{leading:A,maxWait:l,trailing:I})},R.thru=vl,R.toArray=Qu,R.toPairs=ja,R.toPairsIn=rf,R.toPath=function(a){return dt(a)?nn(a,Zn):sr(a)?[a]:or(Lc(Ot(a)))},R.toPlainObject=zo,R.transform=function(a,l,w){var A=dt(a),I=A||$o(a)||sn(a);if(l=st(l,4),w==null){var U=a&&a.constructor;w=I?A?new U:[]:on(a)&&mo(U)?is(Ma(a)):{}}return(I?jr:Pn)(a,function(D,E,N){return l(w,D,E,N)}),w},R.unary=function(a){return hf(a,1)},R.union=dc,R.unionBy=Os,R.unionWith=th,R.uniq=function(a){return a&&a.length?hr(a):[]},R.uniqBy=function(a,l){return a&&a.length?hr(a,st(l,2)):[]},R.uniqWith=function(a,l){return l=typeof l=="function"?l:n,a&&a.length?hr(a,n,l):[]},R.unset=function(a,l){return a==null||Co(a,l)},R.unzip=Uc,R.unzipWith=ya,R.update=function(a,l,w){return a==null?a:So(a,l,Sr(w))},R.updateWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:So(a,l,Sr(w),A)},R.values=On,R.valuesIn=function(a){return a==null?[]:ll(a,Er(a))},R.without=Th,R.words=Pu,R.wrap=function(a,l){return vc(Sr(l),a)},R.xor=Ih,R.xorBy=Oh,R.xorWith=Lf,R.zip=hh,R.zipObject=function(a,l){return so(a||[],l||[],Yi)},R.zipObjectDeep=function(a,l){return so(a||[],l||[],Vs)},R.zipWith=xf,R.entries=ja,R.entriesIn=rf,R.extend=ui,R.extendWith=Cu,Ds(R,R),R.add=of,R.attempt=_u,R.camelCase=Sn,R.capitalize=zi,R.ceil=au,R.clamp=function(a,l,w){return w===n&&(w=l,l=n),w!==n&&(w=(w=xr(w))==w?w:0),l!==n&&(l=(l=xr(l))==l?l:0),Ta(xr(a),l,w)},R.clone=function(a){return Hr(a,4)},R.cloneDeep=function(a){return Hr(a,5)},R.cloneDeepWith=function(a,l){return Hr(a,5,l=typeof l=="function"?l:n)},R.cloneWith=function(a,l){return Hr(a,4,l=typeof l=="function"?l:n)},R.conformsTo=function(a,l){return l==null||Fl(a,l,An(l))},R.deburr=ei,R.defaultTo=function(a,l){return a==null||a!=a?l:a},R.divide=el,R.endsWith=function(a,l,w){a=Ot(a),l=xn(l);var A=a.length,I=w=w===n?A:Ta(mt(w),0,A);return(w-=l.length)>=0&&a.slice(w,I)==l},R.eq=Kr,R.escape=function(a){return(a=Ot(a))&&un.test(a)?a.replace(rn,ql):a},R.escapeRegExp=function(a){return(a=Ot(a))&&ve.test(a)?a.replace(ue,"\\$&"):a},R.every=function(a,l,w){var A=dt(a)?As:uf;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.find=$f,R.findIndex=Xs,R.findKey=function(a,l){return Wl(a,st(l,3),Pn)},R.findLast=ff,R.findLastIndex=vi,R.findLastKey=function(a,l){return Wl(a,st(l,3),Ha)},R.floor=Ic,R.forEach=Df,R.forEachRight=Wc,R.forIn=function(a,l){return a==null?a:Mc(a,st(l,3),Er)},R.forInRight=function(a,l){return a==null?a:pc(a,st(l,3),Er)},R.forOwn=function(a,l){return a&&Pn(a,st(l,3))},R.forOwnRight=function(a,l){return a&&Ha(a,st(l,3))},R.get=ac,R.gt=tf,R.gte=Bh,R.has=function(a,l){return a!=null&&Hu(a,l,Fc)},R.hasIn=zn,R.head=Si,R.identity=Yn,R.includes=function(a,l,w,A){a=$n(a)?a:On(a),w=w&&!A?mt(w):0;var I=a.length;return w<0&&(w=Tn(I+w,0)),Ao(a)?w<=I&&a.indexOf(l,w)>-1:!!I&&bi(a,l,w)>-1},R.indexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),bi(a,l,I)},R.inRange=function(a,l,w){return l=yi(l),w===n?(w=l,l=0):w=yi(w),function(A,I,U){return A>=wn(I,U)&&A<Tn(I,U)}(a=xr(a),l,w)},R.invoke=ls,R.isArguments=To,R.isArray=dt,R.isArrayBuffer=ih,R.isArrayLike=$n,R.isArrayLikeObject=Dn,R.isBoolean=function(a){return a===!0||a===!1||Wt(a)&&Kt(a)==b},R.isBuffer=$o,R.isDate=wa,R.isElement=function(a){return Wt(a)&&a.nodeType===1&&!us(a)},R.isEmpty=function(a){if(a==null)return!0;if($n(a)&&(dt(a)||typeof a=="string"||typeof a.splice=="function"||$o(a)||sn(a)||To(a)))return!a.length;var l=Lt(a);if(l==j||l==Q)return!a.size;if(br(a))return!ds(a).length;for(var w in a)if($t.call(a,w))return!1;return!0},R.isEqual=function(a,l){return Ea(a,l)},R.isEqualWith=function(a,l,w){var A=(w=typeof w=="function"?w:n)?w(a,l):n;return A===n?Ea(a,l,n,w):!!A},R.isError=Nr,R.isFinite=function(a){return typeof a=="number"&&Rc(a)},R.isFunction=mo,R.isInteger=Eo,R.isLength=zt,R.isMap=tr,R.isMatch=function(a,l){return a===l||Ci(a,l,Ol(l))},R.isMatchWith=function(a,l,w){return w=typeof w=="function"?w:n,Ci(a,l,Ol(l),w)},R.isNaN=function(a){return _r(a)&&a!=+a},R.isNative=function(a){if(Nl(a))throw new Ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pl(a)},R.isNil=function(a){return a==null},R.isNull=function(a){return a===null},R.isNumber=_r,R.isObject=on,R.isObjectLike=Wt,R.isPlainObject=us,R.isRegExp=Fi,R.isSafeInteger=function(a){return Eo(a)&&a>=-9007199254740991&&a<=u},R.isSet=Ii,R.isString=Ao,R.isSymbol=sr,R.isTypedArray=sn,R.isUndefined=function(a){return a===n},R.isWeakMap=function(a){return Wt(a)&&Lt(a)==se},R.isWeakSet=function(a){return Wt(a)&&Kt(a)=="[object WeakSet]"},R.join=function(a,l){return a==null?"":Ch.call(a,l)},R.kebabCase=Io,R.last=ai,R.lastIndexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A;return w!==n&&(I=(I=mt(w))<0?Tn(A+I,0):wn(I,A-1)),l==l?function(U,D,E){for(var N=E+1;N--;)if(U[N]===D)return N;return N}(a,l,I):Wn(a,ul,I,!0)},R.lowerCase=cs,R.lowerFirst=Zu,R.lt=si,R.lte=Tt,R.max=function(a){return a&&a.length?Sa(a,Yn,Lo):n},R.maxBy=function(a,l){return a&&a.length?Sa(a,st(l,2),Lo):n},R.mean=function(a){return zs(a,Yn)},R.meanBy=function(a,l){return zs(a,st(l,2))},R.min=function(a){return a&&a.length?Sa(a,Yn,ir):n},R.minBy=function(a,l){return a&&a.length?Sa(a,st(l,2),ir):n},R.stubArray=ci,R.stubFalse=Ir,R.stubObject=function(){return{}},R.stubString=function(){return""},R.stubTrue=function(){return!0},R.multiply=mf,R.nth=function(a,l){return a&&a.length?Ju(a,mt(l)):n},R.noConflict=function(){return Bt._===this&&(Bt._=oo),this},R.noop=ec,R.now=Zl,R.pad=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;if(!l||A>=l)return a;var I=(l-A)/2;return Na($u(I),w)+a+Na(Zo(I),w)},R.padEnd=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?a+Na(l-A,w):a},R.padStart=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?Na(l-A,w)+a:a},R.parseInt=function(a,l,w){return w||l==null?l=0:l&&(l=+l),Zf(Ot(a).replace(Se,""),l||0)},R.random=function(a,l,w){if(w&&typeof w!="boolean"&&Gt(a,l,w)&&(l=w=n),w===n&&(typeof l=="boolean"?(w=l,l=n):typeof a=="boolean"&&(w=a,a=n)),a===n&&l===n?(a=0,l=1):(a=yi(a),l===n?(l=a,a=0):l=yi(l)),a>l){var A=a;a=l,l=A}if(w||a%1||l%1){var I=Rf();return wn(a+I*(l-a+Ph("1e-"+((I+"").length-1))),l)}return Fs(a,l)},R.reduce=function(a,l,w){var A=dt(a)?es:_c,I=arguments.length<3;return A(a,st(l,4),w,I,Li)},R.reduceRight=function(a,l,w){var A=dt(a)?ch:_c,I=arguments.length<3;return A(a,st(l,4),w,I,fo)},R.repeat=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),du(Ot(a),l)},R.replace=function(){var a=arguments,l=Ot(a[0]);return a.length<3?l:l.replace(a[1],a[2])},R.result=function(a,l,w){var A=-1,I=(l=Qr(l,a)).length;for(I||(I=1,a=n);++A<I;){var U=a==null?n:a[Zn(l[A])];U===n&&(A=I,U=w),a=mo(U)?U.call(a):U}return a},R.round=$l,R.runInContext=ie,R.sample=function(a){return(dt(a)?bn:vs)(a)},R.size=function(a){if(a==null)return 0;if($n(a))return Ao(a)?Qi(a):a.length;var l=Lt(a);return l==j||l==Q?a.size:ds(a).length},R.snakeCase=ro,R.some=function(a,l,w){var A=dt(a)?Jr:Pc;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.sortedIndex=function(a,l){return tn(a,l)},R.sortedIndexBy=function(a,l,w){return ao(a,l,st(w,2))},R.sortedIndexOf=function(a,l){var w=a==null?0:a.length;if(w){var A=tn(a,l);if(A<w&&Kr(a[A],l))return A}return-1},R.sortedLastIndex=function(a,l){return tn(a,l,!0)},R.sortedLastIndexBy=function(a,l,w){return ao(a,l,st(w,2),!0)},R.sortedLastIndexOf=function(a,l){if(a!=null&&a.length){var w=tn(a,l,!0)-1;if(Kr(a[w],l))return w}return-1},R.startCase=yc,R.startsWith=function(a,l,w){return a=Ot(a),w=w==null?0:Ta(mt(w),0,a.length),l=xn(l),a.slice(w,w+l.length)==l},R.subtract=Oc,R.sum=function(a){return a&&a.length?Us(a,Yn):0},R.sumBy=function(a,l){return a&&a.length?Us(a,st(l,2)):0},R.template=function(a,l,w){var A=R.templateSettings;w&&Gt(a,l,w)&&(l=n),a=Ot(a),l=Cu({},l,A,ys);var I,U,D=Cu({},l.imports,A.imports,ys),E=An(D),N=ll(D,E),v=0,m=l.interpolate||Oo,x="__p += '",P=Ke((l.escape||Oo).source+"|"+m.source+"|"+(m===wi?fn:Oo).source+"|"+(l.evaluate||Oo).source+"|$","g"),L="//# sourceURL="+($t.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++No+"]")+`
`;a.replace(P,function(Y,re,ne,ce,me,be){return ne||(ne=ce),x+=a.slice(v,be).replace(Ru,ra),re&&(I=!0,x+=`' +
__e(`+re+`) +
'`),me&&(U=!0,x+=`';
`+me+`;
__p += '`),ne&&(x+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),v=be+Y.length,Y}),x+=`';
`;var H=$t.call(l,"variable")&&l.variable;if(H){if(gt.test(H))throw new Ue("Invalid `variable` option passed into `_.template`")}else x=`with (obj) {
`+x+`
}
`;x=(U?x.replace(Ze,""):x).replace(xt,"$1").replace(wt,"$1;"),x="function("+(H||"obj")+`) {
`+(H?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var V=_u(function(){return pt(E,L+"return "+x).apply(n,N)});if(V.source=x,Nr(V))throw V;return V},R.times=function(a,l){if((a=mt(a))<1||a>u)return[];var w=p,A=wn(a,p);l=st(l),a-=p;for(var I=tc(A,l);++w<a;)l(w);return I},R.toFinite=yi,R.toInteger=mt,R.toLength=Du,R.toLower=function(a){return Ot(a).toLowerCase()},R.toNumber=xr,R.toSafeInteger=function(a){return a?Ta(mt(a),-9007199254740991,u):a===0?a:0},R.toString=Ot,R.toUpper=function(a){return Ot(a).toUpperCase()},R.trim=function(a,l,w){if((a=Ot(a))&&(w||l===n))return Hl(a);if(!a||!(l=xn(l)))return a;var A=ii(a),I=ii(l);return Zi(A,Vl(A,I),ga(A,I)+1).join("")},R.trimEnd=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.slice(0,Qo(a)+1);if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,0,ga(A,ii(l))+1).join("")},R.trimStart=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.replace(Se,"");if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,Vl(A,ii(l))).join("")},R.truncate=function(a,l){var w=30,A="...";if(on(l)){var I="separator"in l?l.separator:I;w="length"in l?mt(l.length):w,A="omission"in l?xn(l.omission):A}var U=(a=Ot(a)).length;if(Wa(a)){var D=ii(a);U=D.length}if(w>=U)return a;var E=w-Qi(A);if(E<1)return A;var N=D?Zi(D,0,E).join(""):a.slice(0,E);if(I===n)return N+A;if(D&&(E+=N.length-E),Fi(I)){if(a.slice(E).search(I)){var v,m=N;for(I.global||(I=Ke(I.source,Ot(kn.exec(I))+"g")),I.lastIndex=0;v=I.exec(m);)var x=v.index;N=N.slice(0,x===n?E:x)}}else if(a.indexOf(xn(I),E)!=E){var P=N.lastIndexOf(I);P>-1&&(N=N.slice(0,P))}return N+A},R.unescape=function(a){return(a=Ot(a))&&an.test(a)?a.replace(Dt,vf):a},R.uniqueId=function(a){var l=++Zh;return Ot(a)+l},R.upperCase=bs,R.upperFirst=ba,R.each=Df,R.eachRight=Wc,R.first=Si,Ds(R,(fs={},Pn(R,function(a,l){$t.call(R.prototype,l)||(fs[l]=a)}),fs),{chain:!1}),R.VERSION="4.17.21",jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),jr(["drop","take"],function(a,l){_t.prototype[a]=function(w){w=w===n?1:Tn(mt(w),0);var A=this.__filtered__&&!l?new _t(this):this.clone();return A.__filtered__?A.__takeCount__=wn(w,A.__takeCount__):A.__views__.push({size:wn(w,p),type:a+(A.__dir__<0?"Right":"")}),A},_t.prototype[a+"Right"]=function(w){return this.reverse()[a](w).reverse()}}),jr(["filter","map","takeWhile"],function(a,l){var w=l+1,A=w==1||w==3;_t.prototype[a]=function(I){var U=this.clone();return U.__iteratees__.push({iteratee:st(I,3),type:w}),U.__filtered__=U.__filtered__||A,U}}),jr(["head","last"],function(a,l){var w="take"+(l?"Right":"");_t.prototype[a]=function(){return this[w](1).value()[0]}}),jr(["initial","tail"],function(a,l){var w="drop"+(l?"":"Right");_t.prototype[a]=function(){return this.__filtered__?new _t(this):this[w](1)}}),_t.prototype.compact=function(){return this.filter(Yn)},_t.prototype.find=function(a){return this.filter(a).head()},_t.prototype.findLast=function(a){return this.reverse().find(a)},_t.prototype.invokeMap=Ct(function(a,l){return typeof a=="function"?new _t(this):this.map(function(w){return Xr(w,a,l)})}),_t.prototype.reject=function(a){return this.filter(ws(st(a)))},_t.prototype.slice=function(a,l){a=mt(a);var w=this;return w.__filtered__&&(a>0||l<0)?new _t(w):(a<0?w=w.takeRight(-a):a&&(w=w.drop(a)),l!==n&&(w=(l=mt(l))<0?w.dropRight(-l):w.take(l-a)),w)},_t.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},_t.prototype.toArray=function(){return this.take(p)},Pn(_t.prototype,function(a,l){var w=/^(?:filter|find|map|reject)|While$/.test(l),A=/^(?:head|last)$/.test(l),I=R[A?"take"+(l=="last"?"Right":""):l],U=A||/^find/.test(l);I&&(R.prototype[l]=function(){var D=this.__wrapped__,E=A?[1]:arguments,N=D instanceof _t,v=E[0],m=N||dt(D),x=function(re){var ne=I.apply(R,Xn([re],E));return A&&P?ne[0]:ne};m&&w&&typeof v=="function"&&v.length!=1&&(N=m=!1);var P=this.__chain__,L=!!this.__actions__.length,H=U&&!P,V=N&&!L;if(!U&&m){D=V?D:new _t(this);var Y=a.apply(D,E);return Y.__actions__.push({func:vl,args:[x],thisArg:n}),new Lr(Y,P)}return H&&V?a.apply(this,E):(Y=this.thru(x),H?A?Y.value()[0]:Y.value():Y)})}),jr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Vt[a],w=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",A=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var I=arguments;if(A&&!this.__chain__){var U=this.value();return l.apply(dt(U)?U:[],I)}return this[w](function(D){return l.apply(dt(D)?D:[],I)})}}),Pn(_t.prototype,function(a,l){var w=R[l];if(w){var A=w.name+"";$t.call(Pa,A)||(Pa[A]=[]),Pa[A].push({name:l,func:w})}}),Pa[Fo(n,2).name]=[{name:"wrapper",func:n}],_t.prototype.clone=function(){var a=new _t(this.__wrapped__);return a.__actions__=or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=or(this.__views__),a},_t.prototype.reverse=function(){if(this.__filtered__){var a=new _t(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},_t.prototype.value=function(){var a=this.__wrapped__.value(),l=this.__dir__,w=dt(a),A=l<0,I=w?a.length:0,U=function(be,we,Te){for(var Ge=-1,Ie=Te.length;++Ge<Ie;){var Xe=Te[Ge],Ye=Xe.size;switch(Xe.type){case"drop":be+=Ye;break;case"dropRight":we-=Ye;break;case"take":we=wn(we,be+Ye);break;case"takeRight":be=Tn(be,we-Ye)}}return{start:be,end:we}}(0,I,this.__views__),D=U.start,E=U.end,N=E-D,v=A?E:D-1,m=this.__iteratees__,x=m.length,P=0,L=wn(N,this.__takeCount__);if(!w||!A&&I==N&&L==N)return Ia(a,this.__actions__);var H=[];e:for(;N--&&P<L;){for(var V=-1,Y=a[v+=l];++V<x;){var re=m[V],ne=re.iteratee,ce=re.type,me=ne(Y);if(ce==2)Y=me;else if(!me){if(ce==1)continue e;break e}}H[P++]=Y}return H},R.prototype.at=nh,R.prototype.chain=function(){return ph(this)},R.prototype.commit=function(){return new Lr(this.value(),this.__chain__)},R.prototype.next=function(){this.__values__===n&&(this.__values__=Qu(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?n:this.__values__[this.__index__++]}},R.prototype.plant=function(a){for(var l,w=this;w instanceof Yu;){var A=$c(w);A.__index__=0,A.__values__=n,l?I.__wrapped__=A:l=A;var I=A;w=w.__wrapped__}return I.__wrapped__=a,l},R.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof _t){var l=a;return this.__actions__.length&&(l=new _t(this)),(l=l.reverse()).__actions__.push({func:vl,args:[Rl],thisArg:n}),new Lr(l,this.__chain__)}return this.thru(Rl)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function(){return Ia(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Wi&&(R.prototype[Wi]=function(){return this}),R}();Mo?((Mo.exports=ia)._=ia,rr._=ia):Bt._=ia}).call(oD.exports)),oD.exports);function x8(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var s3=function(){function n(e,t){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=t,this.rootNode=e(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return Object.defineProperty(n.prototype,"windows",{get:function(){var e=function(t){return Dd([t],t.children.flatMap(e))};return a3.orderBy(e(this.rootNode),function(t){return t.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var e=function(t){var r=t._boxSnapshot,i=[];if(i.push("KEY: ".concat(t.key)),t._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(t.getLayer())),i.push("BOX: [".concat(t.o[0],", ").concat(t.o[1],", ").concat(t.w,", ").concat(t.h,"]")),i.push("GLOBAL O: [".concat(t.globalO[0],", ").concat(t.globalO[1],"]")),i.push("CHILDREN:"),t.children.length>0){for(var o=t.children,s=[],u=0;u<o.length;u++){var c=o[u];s.push(e(c))}for(i.push(" |"),u=0;u<s.length;u++){for(var p=s[u],f=u===s.length-1?" └─":" ├─",g=0;g<p.length;g++){var y=g===0?f:u===s.length-1?"   ":" | ",b=p[g];i.push("".concat(y,"  ").concat(b))}u<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("  └─ (no children)");return t._boxSnapshot=r,i};console.log(e(this.rootNode).join(`
`))},n.prototype.onUpdate=function(e){this.onUpdateFunction=e},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Ns(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Ns([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(e,t){var r=this.scheduleUpdate(e);this.scheduledStateUpdates.push([r,function(){e.state=t}])},n.prototype.scheduleContextUpdate=function(e,t,r){var i=this.scheduleUpdate(e);this.scheduledStateUpdates.push([i,function(){e.context[t]=r}])},n.prototype.setSingleUpdateFlag=function(e,t){this.scheduledUpdateNodeMap[t]||(this.scheduledUpdateNodeMap[t]={}),this.scheduledUpdateNodeMap[t][e.globalKey]=!0},n.prototype.scheduleUpdate=function(e){var t=this,r=function(){t.DEBUG&&console.log("Scheduling update for ".concat(e.globalKey,". Received id ").concat(t.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=x8();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(t.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(t.scheduledUpdateIds,null,2),`.
                    `)),t.updateRunning=!0;t.scheduledUpdateIds.length>0;)t.updateScheduled=!1,t.updateCurrentId();t.updateRunning=!1}),this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=x8(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(e){console.error(e)}},n.prototype.propogateUpdateFlags=function(e){var t=this,r=function(i,o,s){t.scheduledUpdateNodeMap[o]||(t.scheduledUpdateNodeMap[o]={}),t.scheduledUpdateNodeMap[o][i.globalKey]&&(s=!0),t.scheduledUpdateNodeMap[o][i.globalKey]=s,i.children.forEach(function(u){return r(u,o,s)})};r(this.rootNode,e,!1)},n.prototype.updateCurrentId=function(){var e=this,t=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[t]).forEach(function(i){e.propogateUpdateFlags(t)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==t}),this.scheduledStateUpdates.filter(function(i){return i[0]===t}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==t});var r=this.scheduledUpdateNodeMap[t];this.update(r),delete this.scheduledUpdateNodeMap[t]},n.prototype.taintLayer=function(e){this.taintedLayers.includes(e)||this.taintedLayers.push(e)},n.prototype.findCameraPathRecursive=function(e,t){var r,i;if(e._isPrimaryCamera){var o=e.globalKey;return Hh(Hh({},t),((r={})[o]=!0,r))}for(var s=e.children,u=0;u<s.length;u++){var c=s[u],p=(o=c.globalKey,Hh(Hh({},t),((i={})[o]=!0,i))),f=this.findCameraPathRecursive(c,p);if(f)return f}},n.prototype.AND_updateMaps=function(e,t){var r={};for(var i in e)t[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(e,t){var r={};for(var i in e)t[i]||(r[i]=!0);for(var i in t)e[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(e,t){var r=this.AND_updateMaps(e,t);return[r,this.XOR_updateMaps(e,r)]},n.prototype.setNeedsUpdateToMap=function(e){var t=function(r){var i=r.globalKey;e[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(e){var t=function(r){var i=r.globalKey;e[i]&&(r._needsUpdate=!0),r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.installCamera=function(e){this.cameraNode!==e&&(this.scheduledCameraNode=e,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(e){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var t=this.findCameraPathRecursive(this.rootNode,{});if(!t)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(e,t),i=r[0],o=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(e),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(o),null,2),`
            `));var s=function(u,c){u._needsUpdate?c?u.cameraPassUpdateSelf():u.regularPassUpdateSelf():u.children.forEach(function(p){return s(p,c)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(o),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var e=this.canvas.getContext("2d");if(!e)throw new Error("Could not get 2d context from canvas");e.clearRect(0,0,this.canvas.width,this.canvas.height),function(r,i,o,s,u){var c=(r=new Ns(Dd([],r.o),r.w,r.h)).getBoundingBox(),p=i.filter(function(b){return Py(b.getBoundingBox(),c)}),f=Array.from(new Set(p.map(function(b){return b.getLayer()}))).sort(function(b,_){return b-_});s.clearRect(0,0,o.width,o.height);for(var g=function(b){var _=f[b],M=p.filter(function(Q){return Q.getLayer()===f[b]});if(u.includes(_)){var F=_+"";if(xw[F]===void 0){var O=document.createElement("canvas");O.width=o.width,O.height=o.height,xw[F]=O}var j=xw[F],z=j.getContext("2d");z.clearRect(0,0,j.width,j.height);for(var W=0,J=M;W<J.length;W++)J[W].renderPrimitive(z)}var G=_+"";xw[G]&&s.drawImage(xw[G],0,0)},y=0;y<f.length;y++)g(y)}(this.cameraSnapshot,this.windows,this.canvas,e,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Ns(Dd([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Py(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseDownPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseMoveHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Ns(Dd([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Py(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseMovePrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseUpHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Ns(Dd([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Py(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseUpPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseWheelHandler=function(e){(function(r,i,o,s){for(var u=(r=new Ns(Dd([],r.o),r.w,r.h)).getBoundingBox(),c=i.filter(function(b){return Py(b.getBoundingBox(),u)}).reverse(),p=!0,f=function(){p=!1},g=0,y=c;g<y.length&&(y[g].onWheelPrimitive(f,s),p);g++);})(this.cameraSnapshot,this.windows,this.canvas,e)},n.prototype.clickHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Ns(Dd([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Py(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onClickPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n}(),Rs={TrackPadding:15,OffsetX:15,OffsetY:45,PinDiameter:15,TrackMinHeight:50,TrackMaxHeight:500,PixelsPerFrame:10,TimelineHeight:50,PinTransformerPadding:15},u3=10,a6=19,l3=20,c3=21,sw=29,f3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),Object.defineProperty(e.prototype,"displayDimensions",{get:function(){var t=this.context.p.displayDimensions;return[t.width,t.height]},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(e.prototype,"canvasDimensions",{get:function(){var t=this.context.p.signalHeights,r=Object.entries(t).reduce(function(c,p){return p[0],c+p[1]},0)+2*Rs.OffsetY,i=this.context.p.project.timelineData.numberOfFrames*Rs.PixelsPerFrame+2*Rs.OffsetX,o=this.displayDimensions,s=o[0],u=o[1];return[Math.max(i,s),Math.max(r,u)]},enumerable:!1,configurable:!0}),e.prototype.translate=function(t,r){var i=this.canvasDimensions,o=i[0],s=i[1],u=jg([],t.o,!0),c=t.w,p=t.h,f=[u=hg(u,r),hg(u,[c,0]),hg(u,[0,p]),hg(u,[c,p])],g=Math.min.apply(Math,f.map(function(F){return F[0]})),y=Math.max.apply(Math,f.map(function(F){return F[0]})),b=Math.min.apply(Math,f.map(function(F){return F[1]})),_=Math.max.apply(Math,f.map(function(F){return F[1]})),M=[0,0];return g<0?M[0]=-g:y>o&&(M[0]=o-y),b<0?M[1]=-b:_>s&&(M[1]=s-_),jg([],u,!0),u=hg(u,M),new Ns(u,c,p)},e.prototype.withinBounds=function(t,r,i,o){return o===void 0&&(o=1e-10),t>=r-o&&t<=i+o},e.prototype.updateDimensions=function(t,r,i){this.setState(Qs(Qs({},this.state),{cameraBox:new Ns(t,r,i)})),this.checkBounds()},e.prototype.checkBounds=function(){var t,r,i,o=this.canvasDimensions,s=o[0],u=o[1];t=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,t[0]=Math.max(Math.min(t[0],s),0),t[1]=Math.max(Math.min(t[1],u),0),r=Math.max(Math.min(r,s-t[0]),0),i=Math.max(Math.min(i,u-t[1]),0),this.setState(Qs(Qs({},this.state),{cameraBox:new Ns(t,r,i)}))},e.prototype.onGlobalWindowChange=function(){},e.prototype.scale=function(t,r,i){var o,s,u,c=this.canvasDimensions,p=c[0],f=c[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");o=t.o;var g=p/(s=t.w),y=f/(u=t.h),b=s*(r=[Math.min(r[0],g),Math.min(r[1],y)])[0],_=u*r[1],M=[i[0]-o[0],i[1]-o[1]],F=M[0],O=M[1],j=up(i,[o[0]+F*r[0],o[1]+O*r[1]]);return s=b,u=_,this.translate(new Ns(o,s,u),j)},e.prototype.getCenter=function(){return hg(this.o,[this.w/2,this.h/2])},e.prototype.getBox=function(){return this.state.cameraBox},e}(tl),h3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=l3,t.scaleAnchor=[0,0],t}return Ki(e,n),e.prototype.windowDidMount=function(){n.prototype.windowDidMount.call(this),this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:new Ns([0,0],this.displayDimensions[0],this.displayDimensions[1])})},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t,r){if(r.button===1){var i=t.terminateEvent,o=t.canvasPos;this.setState(Qs(Qs({},this.state),{lastMousePosition:o,isPanning:!0})),i()}},e.prototype.onMouseMove=function(t,r){var i=t.terminateEvent,o=t.canvasPos;t.absolutePos;var s=t.canvasUnit,u=s[0],c=s[1],p=Qs({},this.state);if(this.scaleAnchor=o,this.state.isPanning){i();var f=up(o,this.state.lastMousePosition),g=f[0],y=f[1],b=this.translate(this.state.cameraBox.clone(),[-g*u,-y*c]);p=Qs(Qs({},p),{lastMousePosition:o,cameraBox:b}),this.setState(p)}},e.prototype.onMouseUp=function(t,r){this.setState(Qs(Qs({},this.state),{isPanning:!1}))},e.prototype.onWheel=function(t,r){var i=t.terminateEvent,o=t.canvasToAbsoluteMeasure,s=r.deltaX,u=r.deltaY,c=r.ctrlKey,p=r.altKey;if(c){var f=1;if(f=s!==0?1+.01*s:1-.01*u,!p){if(this.w*f<5*Rs.PixelsPerFrame)return;var g=this.scale(this.state.cameraBox.clone(),[Math.max(.1,f),1],this.scaleAnchor);this.setState(Qs(Qs({},this.state),{cameraBox:g}))}}else{var y=o([s,u]),b=y[0],_=y[1];g=this.translate(this.state.cameraBox.clone(),[b,_]),this.setState(Qs(Qs({},this.state),{cameraBox:g}))}i()},e.prototype.render=function(t){},e}(f3),Px=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=Rs.PinDiameter/2*r,s=Rs.PinDiameter/2*i,u=this.parentW-Rs.PinDiameter*r,c=this.parentH-Rs.PinDiameter*i;return new Ns([o,s],u,c)},e}(tl),Tx=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){this.setContext("signalId",t.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[t.signalId])},e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=this.context.p.signalStartHeights,s=this.context.p.signalHeights,u=o[this.props.signalId],c=Rs.OffsetX*r,p=Rs.OffsetY*i+u,f=this.context.p.project.timelineData.numberOfFrames*Rs.PixelsPerFrame,g=s[this.props.signalId]-Rs.TrackPadding*i;return new Ns([c,p],f,g)},e}(tl),TI=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){this.setContext("pinId",t.pinId);var r=this.pinCoords;r.frame;var i=r.value,o=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5,this.context.p.project.timelineData.numberOfFrames,o[0],o[1],o[0],this.parentW,this.parentH},Object.defineProperty(e.prototype,"pinCoords",{get:function(){return{frame:this.context.p.project.signalData[this.context.signalId].pinTimes[this.props.pinId],value:this.context.p.project.orgData.signalTypes[this.context.signalId]==="continuous"?this.context.p.project.signalData[this.context.signalId].pinValues[this.props.pinId]:void 0}},enumerable:!1,configurable:!0}),e.prototype.getBox=function(){var t=this.pinCoords,r=t.frame,i=t.value,o=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5;var s=r/this.context.p.project.timelineData.numberOfFrames,u=(i-o[0])/(o[1]-o[0]),c=s*this.parentW,p=(1-u)*this.parentH;return new Ns([c,p],0,0)},e}(tl),s6=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=-Rs.PinDiameter/2*r,s=-Rs.PinDiameter/2*i,u=Rs.PinDiameter*r,c=Rs.PinDiameter*i;return new Ns([o,s],u,c)},e}(tl),p3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.render=function(t){var r,i,o=this.w,s=this.h,u=[[o/2,0],[o,s/2],[o/2,s],[0,s/2]];t.ctx.beginPath(),(r=t.ctx).moveTo.apply(r,t.localToCanvas(u[0]));for(var c=1;c<u.length;c++)(i=t.ctx).lineTo.apply(i,t.localToCanvas(u[c]));t.ctx.closePath(),t.ctx.fillStyle="yellow",t.ctx.fill()},e}(s6),g3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){return[p3.Node()]},e}(TI),u6=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){this.setContext("pinId",t.pinId)},e.prototype.calculateSegmentAttributes=function(){var t=Qs({},this.context.p.project.signalData[this.context.signalId].pinTimes);t.__start__=-1;var r=Object.keys(t).sort(function(s,u){return t[s]-t[u]}),i=r.indexOf(this.props.pinId),o=r[i-1];return t[o]=Math.max(0,t[o]),t[this.props.pinId],t[o],{startFrame:t[o],endFrame:t[this.props.pinId]}},e.prototype.getBox=function(){var t=this.calculateSegmentAttributes(),r=t.startFrame,i=t.endFrame,o=this.context.p.project.timelineData.numberOfFrames,s=r/o,u=i/o,c=s*this.parentW,p=(u-s)*this.parentW,f=this.parentH;return new Ns([c,0],p,f)},e}(tl),m3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0];t[1];var i=[0,this.parentH/2+5*r],o=this.parentW;return new Ns(i,o,5*r)},e.prototype.render=function(t){var r=t.ctx;t.localToCanvas,t.canvasToLocal;var i=t.absoluteToCanvasMeasure,o=t.canvasToAbsoluteMeasure,s=this.context.p.project.signalData[this.context.signalId].pinValues[this.context.pinId],u=i([this.w,0]),c=u[0];u[1],r.fillStyle="white",r.font="20px Sans-serif";for(var p=s;r.measureText(p).width+15>c&&p!=="";){var f=p.split("");f.pop(),p=f.join("")}var g=o([r.measureText(p).width+15,0]),y=g[0];g[1];var b=t.absoluteO,_=b[0],M=b[1],F=this.absoluteUnit,O=F[0];F[1];var j=[_+(this.w-y)*O,M],z=j[0],W=j[1];r.fillText(p,z,W)},e}(tl),d3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return t.push(m3.Node()),t},e.prototype.getBox=function(){return new Ns([0,0],this.parentW,this.parentH)},e}(tl),v3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pinCoordinatePoints=[],t}return Ki(e,n),e.prototype.getBox=function(){return new Ns([0,0],this.parentW,this.parentH)},e.prototype.windowDidUpdate=function(t){this.pinCoordinatePoints=this.calculatePinCoordinatePoints()},e.prototype.calculatePinCoordinatePoints=function(){var t=this.context.pinId,r=this.context.signalId,i=this.context.p,o=i.project,s=i.interpolateSignalValue,u=o.signalData[r].pinTimes,c=Object.entries(u).sort(function(z,W){return z[1]-W[1]}),p=c.findIndex(function(z){var W=z[0];return z[1],W===t}),f=p-1>=0?p-1:void 0,g=f!==void 0?c[f][1]:0,y=o.signalData[r].pinTimes[t];y=y<g?g:y;for(var b=[],_=g;_<=y;_++){var M=s(r,_),F=M[0],O=M[1],j=O.length>0;j&&console.error(O),b.push([_,F,j])}return b},e.prototype.render=function(t){var r=this,i=t.ctx,o=t.localToCanvas;t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure;var s=o,u=this.pinCoordinatePoints;this.context.p;for(var c=this.context.signalId,p=u.map(function(b){var _=b[0],M=b[1],F=b[2],O=up(r.context.PinPositionMeasurementHelper.getImaginaryPinPosition(c,_,M),r.globalO);return jg(jg([],s(O),!0),[F],!1)}),f=0;f<p.length-1;f++){var g=p[f],y=p[f+1];i.beginPath(),i.arc(g[0],g[1],2,0,2*Math.PI),i.fillStyle=g[2]?"red":"yellow",i.fill(),i.beginPath(),i.moveTo(g[0],g[1]),i.lineTo(y[0],y[1]),i.strokeStyle=y[2]?"red":"yellow",i.stroke()}},e}(tl),y3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return this.context.signalType==="continuous"?t.push(v3.Node()):t.push(d3.Node()),t},e.prototype.render=function(t){var r,i=t.localToCanvas,o=this.absoluteUnit,s=o[0],u=o[1],c=this.context.signalType==="continuous"?"4A5F9D":"915050";t.ctx.beginPath(),(r=t.ctx).roundRect.apply(r,jg(jg([],i([0,0]),!1),[this.w*s,this.h*u,[15,0,0,15]],!1)),t.ctx.strokeStyle="#".concat(c),t.ctx.lineWidth=1,t.ctx.stroke(),t.ctx.closePath()},e}(u6),w3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){for(var t,r=[],i=(t=this.context.p.project.signalData[this.context.signalId])===null||t===void 0?void 0:t.pinIds,o=0,s=i;o<s.length;o++){var u=s[o],c=y3.Node({pinId:u,key:"s"+u});r.push(c)}for(var p=0,f=i;p<f.length;p++){u=f[p];var g=g3.Node({pinId:u,key:"p"+u});r.push(g)}return r},e.prototype.render=function(t){var r=t.ctx,i=this.context.p.project.timelineData.focusRange,o=i[0],s=i[1],u=this.context.p.project.timelineData.numberOfFrames,c=[o/u,s/u],p=c[0],f=c[1]-p;r.fillStyle="rgba(255,255,255,0.05)";var g=t.absoluteO,y=g[0],b=g[1],_=t.absoluteUnit,M=_[0],F=_[1];r.fillRect(y+p*this.w*M,b,f*this.w*M,this.h*F)},e}(Px),b3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this.parentW,r=this.parentH;return new Ns([0,0],t,r)},e.prototype.render=function(t){var r=t.ctx;t.localToCanvas,t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure,r.fillStyle="#ffffff80",r.font="".concat(14,"px Sans-serif");var i=this.context.signalId,o=t.absoluteO;o[0];var s=[5,o[1]+14+5],u=s[0],c=s[1];r.fillText(i,u,c)},e}(tl),x3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),Object.defineProperty(e.prototype,"p",{get:function(){return this.context.externalProjectAPI},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){var t=[];return t.push(w3.Node()),t.push(b3.Node()),t},e.prototype.render=function(t){var r,i,o=this.context.signalType==="continuous"?"243157":"562F2F",s=this.absoluteUnit;s[0];var u=s[1],c=t.absoluteO;c[0];var p=c[1],f=t.canvasDimensions[0],g=[[0,p],[f,p],[f,p+this.h*u],[0,p+this.h*u]];t.ctx.fillStyle="#".concat(o),t.ctx.beginPath(),(r=t.ctx).moveTo.apply(r,g[0]);for(var y=1;y<g.length;y++)(i=t.ctx).lineTo.apply(i,g[y]);t.ctx.fill()},e}(Tx),D3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=sw,t.side=30,t.dragging=!1,t}return Ki(e,n),e.prototype.getBox=function(){var t=this.context.p.project.timelineData,r=t.numberOfFrames,i=t.playheadPosition/r*this.parentW,o=this.canvasO;o[0],o[1];var s=this.canvasUnit,u=s[0],c=s[1],p=this.side*u,f=this.side*c;return new Ns([i-p/2,0],p,f)},e.prototype.onMouseDown=function(t){t.pointInside&&(this.dragging=!0,t.terminateEvent())},e.prototype.onMouseMove=function(t){if(this.dragging){t.terminateEvent();var r=t.absolutePos,i=r[0];r[1];var o=(0,t.canvasToAbsoluteMeasure)([Rs.OffsetX,0]),s=o[0];o[1];var u=i-s,c=Math.floor(u/Rs.PixelsPerFrame);c=Math.min(Math.max(c,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(c)}},e.prototype.onMouseUp=function(t){if(this.dragging){t.terminateEvent();var r=t.absolutePos,i=r[0];r[1];var o=(0,t.canvasToAbsoluteMeasure)([Rs.OffsetX,0]),s=o[0];o[1];var u=i-s,c=Math.floor(u/Rs.PixelsPerFrame);c=Math.min(Math.max(c,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(c,!0)}this.dragging=!1},e.prototype.render=function(t){t.canvasToLocal,t.canvasToAbsoluteMeasure,t.absoluteToCanvasMeasure;var r=t.localToCanvas,i=t.ctx,o=r,s=[[0,0],[this.w,0],[this.w/2,this.h]].map(function(u){return o(u)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineTo.apply(i,s[2]),i.lineTo.apply(i,s[0]),i.fillStyle="aquamarine",i.lineWidth=2,i.fill(),i.closePath()},e}(tl),C3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this.context.p.project.timelineData,r=t.numberOfFrames,i=t.playheadPosition/r*this.parentW,o=this.canvasO;o[0],o[1];var s=this.canvasUnit;s[0],s[1];var u=this._cameraSnapshot.h;return new Ns([i-0,0],0,u)},e.prototype.render=function(t){var r=t.localToCanvas,i=t.ctx,o=r,s=[[0,0],[0,this.h]].map(function(u){return o(u)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineWidth=2,i.strokeStyle="aquamarine",i.stroke()},e}(tl),S3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){return new Ns([0,0],this.parentW,20)},e.prototype.itemsOnScreen=function(t){var r=this.parentW/t;return Math.floor(this._cameraSnapshot.w/r)},e.prototype.render=function(t){for(var r=this,i=t.ctx,o=this.context.p.project.timelineData.numberOfFrames,s=this.context.p.project.timelineData.framesPerSecond,u=function(F){var O=[];return O.push(1),F%2==0&&(O.push(2),O.push(F/2)),F%3==0&&(O.push(3),O.push(F/3)),F%5==0&&(O.push(5),O.push(F/5)),F%10==0&&(O.push(10),O.push(F/10)),O.push(F),O.push(2*F),O.push(5*F),O.push(10*F),O}(s),c=u.map(function(F){var O=Math.floor(o/F);return[F,r.itemsOnScreen(O)]}),p=c.map(function(F){var O=F[0],j=F[1];return[O,Math.abs(j-10)]}).sort(function(F,O){return F[1]-O[1]})[0][0],f=c.map(function(F){var O=F[0],j=F[1];return[O,Math.abs(j-100)]}).sort(function(F,O){return F[1]-O[1]})[0][0],g=t.absoluteO[0],y=0;y<=o;y+=p){var b=g+y/o*this.w*this.absoluteUnit[0];i.beginPath(),i.strokeStyle="white",i.moveTo(b,0),i.lineTo(b,7),i.stroke(),i.fillStyle="white";var _="".concat(y),M=i.measureText(_).width;i.fillText(_,b-M/2,18)}for(y=0;y<=o;y+=f)b=g+y/o*this.w*this.absoluteUnit[0],i.beginPath(),i.strokeStyle="white",i.moveTo(b,0),i.lineTo(b,3),i.stroke()},e}(tl),_3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){return new Ns([0,0],this.parentW,20)},e.prototype.itemsOnScreen=function(t){var r=this.parentW/t;return Math.floor(this._cameraSnapshot.w/r)},e.prototype.render=function(t){var r=t.ctx,i=this.context.p.project.timelineData.focusRange,o=i[0],s=i[1],u=this.context.p.project.timelineData.numberOfFrames,c=[o/u,s/u],p=c[0],f=c[1]-p;r.fillStyle="#3B434B";var g=t.absoluteO[0],y=t.absoluteUnit,b=y[0],_=y[1];r.fillRect(g+p*this.w*b,0,f*this.w*b,this.h*_)},e}(tl),E3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return t.push(_3.Node()),t.push(S3.Node()),t.push(D3.Node()),t.push(C3.Node()),t},e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0];t[1];var i=(Rs.OffsetX+Rs.PinDiameter/2)*r,o=this.canvasO;o[0];var s=o[1],u=this.context.p.project.timelineData.numberOfFrames*Rs.PixelsPerFrame-Rs.PinDiameter*r;return new Ns([i,s],u,20)},e.prototype.render=function(t){t.ctx.fillStyle="#282E34";var r=this.absoluteUnit,i=r[0];r[1],t.ctx.fillRect(0,0,this._cameraSnapshot.w*i,22)},e}(tl),A3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.key="permanentWindows",t}return Ki(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r],s=x3.Node({signalId:o,key:o});t.push(s)}return t.push(E3.Node()),t},e}(tl),II=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),Object.defineProperty(e.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),e}(tl),k3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=a6,t}return Ki(e,n),e.prototype.onMouseDown=function(t){var r=this.context,i=r.dispatchPointerModeMachineEvent;r.pointerModeMachineState;var o=i;t.relativePos;var s=t.terminateEvent,u=t.pointInside;u&&o({type:"mousedown_resizebar",selectedPinIds:[]}),u&&s()},e.prototype.onMouseMove=function(t){t.relativePos;var r=t.terminateEvent;t.pointInside&&r()},e}(II),M3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=c3,t}return Ki(e,n),Object.defineProperty(e.prototype,"mouseover",{get:function(){return this.state.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mousedown",{get:function(){return this.state.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragging",{get:function(){return this.context.pointerModeMachineState.type==="change_signal_height"&&this.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hover",{get:function(){return this.context.pointerModeMachineState.type==="start"&&this.mouseover},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.setState({mouseover:!1,mousedown:!1})},e.prototype.onMouseDown=function(t){t.relativePos,t.pointInside&&this.setState(Qs(Qs({},this.state),{mousedown:!0}))},e.prototype.onMouseMove=function(t){t.relativePos;var r=t.absolutePos;t.pointInside?this.setState(Qs(Qs({},this.state),{mouseover:!0})):this.setState(Qs(Qs({},this.state),{mouseover:!1}));var i=this.context.p;i.project;var o=i.signalStartHeights;i.projectTools,i.signalHeights;var s=i.setSignalHeight;if(this.dragging){var u=o[this.context.signalId],c=(0,t.canvasToAbsoluteMeasure)([Rs.OffsetX,Rs.OffsetY]);c[0];var p=c[1],f=r[1]-(u+p),g=(0,t.absoluteToCanvasMeasure)([0,f]);g[0];var y=g[1];if(y<Rs.TrackMinHeight||y>Rs.TrackMaxHeight)return;s(this.context.signalId,f)}},e.prototype.onMouseUp=function(t){this.setState(Qs(Qs({},this.state),{mousedown:!1}))},e.prototype.render=function(t){(this.hover||this.dragging)&&(this.dragging?this.strokeOutline(t,"red"):this.strokeOutline(t,"cyan"))},e}(II),F3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){this.setContext("signalId",t.signalId)},Object.defineProperty(e.prototype,"o",{get:function(){var t=this.context.p;t.project;var r=t.signalStartHeights;t.projectTools;var i=t.signalHeights,o=this.prepareHandlerProps(),s=o.canvasToAbsoluteMeasure,u=(0,o.canvasToAbsoluteMeasure)([Rs.OffsetX,Rs.OffsetY]);u[0];var c=u[1];return up([0,r[this.context.signalId]+i[this.context.signalId]+c],s([0,Rs.TrackPadding]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){var t=this.prepareHandlerProps(),r=Rs.TrackPadding;return(0,t.canvasToAbsoluteMeasure)([0,r])[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){var t=this.context.p,r=t.project;return t.signalStartHeights,t.projectTools,t.signalHeights,r.timelineData.numberOfFrames*Rs.PixelsPerFrame+2*Rs.OffsetX},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){var t=[];return t.push(M3.Node()),t.push(k3.Node()),t},e}(II),P3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.selectedPinIds=[],t.layer=u3,t}return Ki(e,n),Object.defineProperty(e.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.setState({startPoint:void 0,endPoint:void 0})},e.prototype.getSelectedPins=function(t){var r=this,i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(s){var u,c=r.context.PinPositionMeasurementHelper.getExistingPinPosition(s),p=r.context.p.project.orgData.activeSignalIds.flatMap(function(f){return r.context.p.project.signalData[f].pinIds.map(function(g){return[f,g]})});return{signalId:(u=p.find(function(f){f[0];var g=f[1];return s===g}))===null||u===void 0?void 0:u[0],pinId:s,pos:c}}),o=i.filter(function(s){s.signalId,s.pinId;var u=s.pos;return t.pointInside(u)}).map(function(s){var u=s.signalId,c=s.pinId;return s.pos,[u,c]});return o},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent][1];t.relativePos;var o=t.terminateEvent,s=t.pointInside,u=t.absolutePos;i({type:"mousedown_selectionoverlay",selectedPinIds:[]}),this.selectedPinIds=[],this.setState(Qs(Qs({},this.state),{startPoint:u})),s&&o()},e.prototype.onMouseMove=function(t){var r=this;if(this.startPoint){var i=this.context,o=[i.pointerModeMachineState,i.dispatchPointerModeMachineEvent][1];t.relativePos;var s=t.absolutePos,u=t.pointInside,c=t.terminateEvent;this.setState(Qs(Qs({},this.state),{endPoint:s}));var p=this.startPoint,f=p[0],g=p[1],y=s[0],b=s[1],_=Math.min(f,y),M=Math.min(g,b),F=Math.abs(f-y),O=Math.abs(g-b),j=new Ns([_,M],F,O),z=this.getSelectedPins(j).map(function(W){return W[0],W[1]});(z.some(function(W){return!r.selectedPinIds.includes(W)})||this.selectedPinIds.some(function(W){return!z.includes(W)}))&&(this.selectedPinIds=z,o({type:"mousemove_selectionoverlayCONDselection_changed",selectedPinIds:z})),u&&c()}},e.prototype.onMouseUp=function(t){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent][1];t.relativePos;var o=t.terminateEvent,s=t.pointInside;this.setState({startPoint:void 0,endPoint:void 0}),i({type:"mouseup_selectionoverlay"}),s&&o()},e.prototype.getBox=function(){var t=this._cameraSnapshot;return new Ns(t.o,t.w,t.h)},e}(tl),T3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=sw,t}return Ki(e,n),Object.defineProperty(e.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.setState({startPoint:void 0,endPoint:void 0})},e.prototype.getBox=function(){var t,r=this.startPoint,i=this.endPoint;if(r&&i){var o=r[0],s=r[1],u=i[0],c=i[1],p=Math.min(o,u),f=Math.min(s,c),g=Math.abs(o-u),y=Math.abs(s-c);t=new Ns([p,f],g,y)}else{var b=this._cameraSnapshot;t=new Ns(b.o,b.w,b.h)}return t},e.prototype.onMouseDown=function(t){t.relativePos;var r=t.absolutePos;t.canvasPos,this.setState(Qs(Qs({},this.state),{startPoint:r}))},e.prototype.onMouseMove=function(t){var r=t.absolutePos;this.startPoint&&this.setState(Qs(Qs({},this.state),{endPoint:r}))},e.prototype.onMouseUp=function(t){this.setState({startPoint:void 0,endPoint:void 0})},Object.defineProperty(e.prototype,"active",{get:function(){return this.context.pointerModeMachineState.type==="make_selection"},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r=t.ctx,i=t.localToCanvas;t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure;var o=t.absoluteUnit,s=i,u=o[0],c=o[1];r.save(),r.setLineDash([3,3]),r.strokeStyle="white",r.lineWidth=2,this.startPoint&&this.endPoint&&this.active&&r.strokeRect.apply(r,jg(jg([],s([0,0]),!1),[this.w*u,this.h*c],!1)),r.setLineDash([]),r.closePath(),r.restore()},e}(tl),I3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return t.push(T3.Node()),t.push(P3.Node()),t},e}(tl),l6=function(){function n(){this.pinMeasureHooks={},this.signalMeasureHooks={},this.signalContentBoxMeasureHooks={},this.absoluteCoordsToSignalCoordsMeasureHooks={}}return n.prototype.getSignalCoordsFromAbsoluteCoords=function(e,t){return this.absoluteCoordsToSignalCoordsMeasureHooks[e](t)},n.prototype.getSignalContentBox=function(e){return this.signalContentBoxMeasureHooks[e]()},n.prototype.getExistingPinPosition=function(e){return this.pinMeasureHooks[e]()},n.prototype.getImaginaryPinPosition=function(e,t,r){return this.signalMeasureHooks[e](t,r)},n.prototype.attachAbsoluteCoordsToSignalCoordsMeasureHook=function(e,t){var r=this;return this.absoluteCoordsToSignalCoordsMeasureHooks[e]=t,function(){delete r.absoluteCoordsToSignalCoordsMeasureHooks[e]}},n.prototype.attachSignalContentBoxMeasureHook=function(e,t){var r=this;return this.signalContentBoxMeasureHooks[e]=t,function(){delete r.signalContentBoxMeasureHooks[e]}},n.prototype.attachPinMeasureHook=function(e,t){var r=this;return this.pinMeasureHooks[e]=t,function(){delete r.pinMeasureHooks[e]}},n.prototype.attachSignalMeasureHook=function(e,t){var r=this;return this.signalMeasureHooks[e]=t,function(){delete r.signalMeasureHooks[e]}},n}(),c6=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r],s=O3.Node({signalId:o,key:o});t.push(s)}return t},e}(tl),O3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){this.setContext("signalId",t.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[t.signalId])},e.prototype.getChildren=function(){return[B3.Node()]},e}(Tx),N3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.unsubscribe=function(){},t}return Ki(e,n),e.prototype.windowDidMount=function(t){var r=this;this.setContext("pinId",t.pinId),this.unsubscribe=this.context.PinPositionMeasurementHelper.attachPinMeasureHook(t.pinId,function(){return r.globalO})},e.prototype.windowWillUnmount=function(){this.unsubscribe()},e.prototype.render=function(t){},e}(TI),B3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.unsubscribe1=function(){},t.unsubscribe2=function(){},t.unsubscribe3=function(){},t}return Ki(e,n),e.prototype.windowDidMount=function(t){var r=this;this.setContext("pinId",t.pinId),this.unsubscribe1=this.context.PinPositionMeasurementHelper.attachSignalMeasureHook(this.context.signalId,function(i,o){var s=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];o=r.context.signalType==="continuous"?o:.5;var u=i/r.context.p.project.timelineData.numberOfFrames,c=(o-s[0])/(s[1]-s[0]),p=u*r.w,f=(1-c)*r.h;return hg(r.globalO,[p,f])}),this.unsubscribe2=this.context.PinPositionMeasurementHelper.attachSignalContentBoxMeasureHook(this.context.signalId,function(){return new Ns(r.globalO,r.w,r.h)}),this.unsubscribe3=this.context.PinPositionMeasurementHelper.attachAbsoluteCoordsToSignalCoordsMeasureHook(this.context.signalId,function(i){var o=up(i,r.globalO),s=o[0],u=o[1],c=r.context.p.project.timelineData.numberOfFrames;s=Math.max(0,Math.min(r.w,s)),s=Math.round(s/r.w*c);var p=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];return u=Math.max(0,Math.min(r.h,u)),[s,u=(u=r.h-u)/r.h*(p[1]-p[0])+p[0]]})},e.prototype.windowWillUnmount=function(){this.unsubscribe1(),this.unsubscribe2(),this.unsubscribe3()},e.prototype.getChildren=function(){for(var t,r=[],i=0,o=(t=this.context.p.project.signalData[this.context.signalId])===null||t===void 0?void 0:t.pinIds;i<o.length;i++){var s=o[i],u=N3.Node({pinId:s,key:s});r.push(u)}return r},e}(Px),R3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=a6,t}return Ki(e,n),Object.defineProperty(e.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),e.prototype.onMouseDown=function(t){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent],o=i[0],s=i[1];t.absolutePos;var u=t.terminateEvent,c=t.pointInside;o.selectedPinIds.length>0&&c&&(s({type:"mousedown_transformer_overlayCONDpin_in_selection"}),c&&u())},e}(tl),f6=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this,r=this.context.pointerModeMachineState.selectedPinIds;if(r.length===0)return new Ns([0,0],0,0);var i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(F){var O,j=t.context.PinPositionMeasurementHelper.getExistingPinPosition(F),z=t.context.p.project.orgData.activeSignalIds.flatMap(function(W){return t.context.p.project.signalData[W].pinIds.map(function(J){return[W,J]})});return{signalId:(O=z.find(function(W){W[0];var J=W[1];return F===J}))===null||O===void 0?void 0:O[0],pinId:F,pos:j}}),o=i.filter(function(F){return r.includes(F.pinId)}).map(function(F){return F.pos}),s=[Math.min.apply(Math,o.map(function(F){return F[0]})),Math.min.apply(Math,o.map(function(F){return F[1]}))],u=s[0],c=s[1],p=[Math.max.apply(Math,o.map(function(F){return F[0]})),Math.max.apply(Math,o.map(function(F){return F[1]}))],f=[u,c],g=f[0],y=f[1],b=p[0]-u,_=p[1]-c,M=this.canvasUnit;return M[0],M[1],new Ns([g,y],b,_)},e}(tl),j3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=sw,t.unsubscribe=function(){},t}return Ki(e,n),Object.defineProperty(e.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.unsubscribe=this.context.PinTransformerCorners.attachCornerHook(this.props.anchor,this.getCornerPosition.bind(this))},e.prototype.getCornerPosition=function(){return hg(this.parentO,[Rs.PinDiameter/2,Rs.PinDiameter/2])},e.prototype.windowWillUnmount=function(){this.unsubscribe()},e.prototype.onMouseDown=function(t,r){t.pointInside&&this.context.SetTransformationType({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})},e}(tl),L3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e4,t}return Ki(e,n),e.prototype.getChildren=function(){return[R3.Node(),j3.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=[-Rs.PinDiameter/2*r,-Rs.PinDiameter/2*i],s=this.parentW+Rs.PinDiameter*r,u=this.parentH+Rs.PinDiameter*i;return new Ns(o,s,u)},e.prototype.render=function(t){if(this.props.category!=="translate"){var r=this.w,i=this.h,o=[[r/4,i/4],[3*r/4,i/4],[3*r/4,3*i/4],[r/4,3*i/4]],s=t.ctx,u=t.localToCanvas;s.save(),s.beginPath(),s.moveTo.apply(s,u(o[0]));for(var c=1;c<o.length;c++)s.lineTo.apply(s,u(o[c]));s.closePath(),s.fillStyle="white",s.fill(),s.restore()}},e}(tl),u0=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){return[L3.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},e.prototype.getBox=function(){var t,r,i,o,s,u,c,p,f,g=this.props.anchor,y={w:this.parentW,h:this.parentH},b=y.w,_=y.h;switch(g){case"top-left":f=[0,0],b=(t=[0,0])[0],_=t[1];break;case"top-right":f=[b,0],b=(r=[0,0])[0],_=r[1];break;case"bottom-left":f=[0,_],b=(i=[0,0])[0],_=i[1];break;case"bottom-right":f=[b,_],b=(o=[0,0])[0],_=o[1];break;case"left":f=[0,_/2],b=(s=[0,0])[0],_=s[1];break;case"right":f=[b,_/2],b=(u=[0,0])[0],_=u[1];break;case"bottom":f=[b/2,_],b=(c=[0,0])[0],_=c[1];break;case"top":f=[b/2,0],b=(p=[0,0])[0],_=p[1];break;case"start-point":f=[0,0];break;default:throw new Error("Invalid type")}return new Ns(f,b,_)},e}(tl),$3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=sw,t}return Ki(e,n),e.prototype.windowDidMount=function(t){},Object.defineProperty(e.prototype,"spansMoreThanOneSignal",{get:function(){var t=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return t.context.p.project.orgData.activeSignalIds.find(function(o){return t.context.p.project.signalData[o].pinIds.includes(i)})});return Array.from(new Set(r)).length>1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"includesDiscreteSignal",{get:function(){var t=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return t.context.p.project.orgData.activeSignalIds.find(function(o){return t.context.p.project.signalData[o].pinIds.includes(i)})});return Array.from(new Set(r)).some(function(i){return t.context.p.project.orgData.signalTypes[i]==="discrete"})},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){var t=[];return this.active&&this.context.pointerModeMachineState.selectedPinIds.length>1&&(this.spansMoreThanOneSignal||(t.push(u0.Node({category:"scale",axes:"x-y",anchor:"bottom-left"})),t.push(u0.Node({category:"scale",axes:"x-y",anchor:"bottom-right"})),t.push(u0.Node({category:"scale",axes:"x-y",anchor:"top-left"})),t.push(u0.Node({category:"scale",axes:"x-y",anchor:"top-right"})),t.push(u0.Node({category:"scale",axes:"y",anchor:"bottom"})),t.push(u0.Node({category:"scale",axes:"y",anchor:"top"}))),t.push(u0.Node({category:"scale",axes:"x",anchor:"left"})),t.push(u0.Node({category:"scale",axes:"x",anchor:"right"}))),this.active&&(this.spansMoreThanOneSignal||this.includesDiscreteSignal?t.push(u0.Node({category:"translate",axes:"x",anchor:"start-point"})):t.push(u0.Node({category:"translate",axes:"x-y",anchor:"start-point"}))),t},Object.defineProperty(e.prototype,"active",{get:function(){var t=this.context.pointerModeMachineState;return t.type==="transform_pins"||t.type==="start"&&t.selectedPinIds.length>0},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r=t.ctx,i=t.localToCanvas;t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure;var o=i;if(r.save(),r.beginPath(),r.strokeStyle="rgba(255,255,255,0.5)",r.lineWidth=2,this.active){var s=[[0,0],[this.w,0],[this.w,this.h],[0,this.h],[0,0]].map(function(u){return o(u)});r.moveTo.apply(r,s[0]),r.lineTo.apply(r,s[1]),r.lineTo.apply(r,s[2]),r.lineTo.apply(r,s[3]),r.lineTo.apply(r,s[4]),r.stroke()}r.restore()},e}(f6);function Lw(n,e,t,r){var i=up(r,t);if(e[0]===0&&e[1]===0){var o=Lw(n,[-i[1],i[0]],t,r);if(o===void 0)throw new Error("Unexpected undefined intersection");return Number(uy(up(o,n)))<1e-7?o:void 0}var s=e[0]*i[1]-e[1]*i[0];if(s!==0){var u=((t[0]-n[0])*i[1]-(t[1]-n[1])*i[0])/s,c=((t[0]-n[0])*e[1]-(t[1]-n[1])*e[0])/s;return c>=0&&c<=1?[n[0]+u*e[0],n[1]+u*e[1]]:void 0}}var D8={"scale-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){return[-e*s+e+s*i,-t*s+t+s*o]}}},"scale-x":function(n){var e=n[0];return n[1],function(t){var r=t[0],i=t[1];return function(o){return[-e*o+e+o*r,i]}}},"scale-y":function(n){n[0];var e=n[1];return function(t){var r=t[0],i=t[1];return function(o){return[r,-e*o+e+o*i]}}},"translate-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){return[e*s+i,t*s+o]}}},"translate-x":function(n){var e=n[0];return n[1],function(t){var r=t[0],i=t[1];return function(o){return[e*o+r,i]}}},"translate-y":function(n){n[0];var e=n[1];return function(t){var r=t[0],i=t[1];return function(o){return[r,e*o+i]}}}},NA=function(n,e,t,r){var i=up(t,n),o=up(e,n);if(Number(uy(o))<1e-7){var s=up(t,e);if(Number(uy(s))<1e-7)return 0;throw new Error("No parameter exists")}var u=i[0],c=i[1],p=o[0],f=o[1],g=r[0],y=r[1];if(p*g!==0)return u/(p*g);if(f*y!==0)return c/(f*y);throw new Error("No parameter exists")},BA=function(n,e,t){var r=up(t,e);if(Number(uy(n))<1e-7){if(Number(uy(r))<1e-7)return 0;throw console.log("direction",n,"point",e,"targetPoint",t),new Error("No parameter exists")}var i=r[0],o=r[1],s=n[0],u=n[1];if(s!==0)return i/s;if(u!==0)return o/u;throw new Error("No parameter exists")},C8={"scale-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return NA([e,t],[i,o],[u,c],[1,1])}}},"scale-x":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return NA([e,t],[i,o],[u,c],[1,0])}}},"scale-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return NA([e,t],[i,o],[u,c],[0,1])}}},"translate-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return BA([e,t],[i,o],[u,c])}}},"translate-x":function(n){var e=n[0];return n[1],function(t){var r=t[0],i=t[1];return function(o){var s=o[0],u=o[1];return BA([e,0],[r,i],[s,u])}}},"translate-y":function(n){n[0];var e=n[1];return function(t){var r=t[0],i=t[1];return function(o){var s=o[0],u=o[1];return BA([0,e],[r,i],[s,u])}}}},z3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=sw,t.state={initialised:!1},t.appropriateRounding=function(r){var i=r[0],o=r[1];return[Math.round(i/Rs.PixelsPerFrame)*Rs.PixelsPerFrame,o]},t.shiftKeyPressed=!1,t.altKeyPressed=!1,t}return Ki(e,n),e.prototype.getPinIdsGroupedBySignal=function(){var t=this;return this.context.pointerModeMachineState.selectedPinIds.reduce(function(r,i){var o=t.context.p.project.orgData.activeSignalIds.find(function(s){return t.context.p.project.signalData[s].pinIds.includes(i)});return r[o]||(r[o]=[]),r[o].push(i),r},{})},e.prototype.getPinPositions=function(){var t=this;return this.context.pointerModeMachineState.selectedPinIds.map(function(r){return[r,t.context.PinPositionMeasurementHelper.getExistingPinPosition(r)]})},e.prototype.getSignalBoundingBoxes=function(){for(var t=[],r=this.getPinIdsGroupedBySignal(),i=function(c){var p=o.getPinPositions().filter(function(F){var O=F[0];return F[1],r[c].includes(O)}).map(function(F){return F[0],F[1]}),f=Math.min.apply(Math,p.map(function(F){return F[0]})),g=Math.min.apply(Math,p.map(function(F){return F[1]})),y=Math.max.apply(Math,p.map(function(F){return F[0]})),b=Math.max.apply(Math,p.map(function(F){return F[1]})),_=new Ns([f,g],Math.abs(y-f),Math.abs(b-g)),M=o.context.PinPositionMeasurementHelper.getSignalContentBox(c);t.push([c,_,M])},o=this,s=0,u=Object.keys(r);s<u.length;s++)i(u[s]);return t},e.prototype.computeTransformation=function(){if(!this.state.initialised)throw new Error("State not initialised");var t,r,i,o,s,u,c=this.context.TransformationType.category,p=this.context.TransformationType.axes,f=this.context.TransformationType.anchor;if(this.shiftKeyPressed&&p==="x-y"&&c==="translate"&&(p="x"),this.altKeyPressed&&p==="x-y"&&c==="translate"&&(p="y"),f==="start-point"){t=this.state.startPos;var g=uy(b=LC(b=up(this.state.currentPos,t),[p==="y"?0:1,p==="x"?0:1]));r=g!==0?tD(b,1/g):b,i=hg(t,tD(r,w8(r,up(this.state.currentPos,t)))),o=t}else{var y={"top-left":"bottom-right","top-right":"bottom-left","bottom-left":"top-right","bottom-right":"top-left",left:"right",right:"left",top:"bottom",bottom:"top"}[f];t=this.state.cornerPositions[y];var b,_=uy(b=up(this.state.cornerPositions[f],t));r=_!==0?tD(b,1/_):b,i=hg(t,tD(r,w8(r,up(this.state.currentPos,t)))),o=this.state.cornerPositions[f]}c==="translate"?(s=D8["translate-".concat(p)](r),u=C8["translate-".concat(p)](r)):(s=D8["scale-".concat(p)](t),u=C8["scale-".concat(p)](t));var M=u(o)(i);return{transformation:s,inverseTransformation:u,initialParameter:M}},e.prototype.parameterIsLegal=function(t){if(this.context.TransformationType.category==="translate"){if(t===0)return!1}else if(t===1)return!1;return!0},e.prototype.getTransformationQueue=function(t){var r;if(!this.state.initialised)throw new Error("State not initialised");var i=this.computeTransformation(),o=i.transformation,s=i.inverseTransformation,u=i.initialParameter;if(!this.parameterIsLegal(u))return[];for(var c=this.getPinIdsGroupedBySignal(),p=this.state.pinPositions,f=this.state.signalBoundingBoxes.map(function(G){return G[0],function(te,ae,se,ge){for(var xe=[jg([],te.o,!0),[te.o[0]+te.w,te.o[1]],[te.o[0]+te.w,te.o[1]+te.h],[te.o[0],te.o[1]+te.h]],Pe=xe.map(function(Fe){return se(Fe)(2)}),Ce=xe.map(function(Fe,Ne){return[Fe,up(Fe,Pe[Ne])]}),Me=[jg([],ae.o,!0),[ae.o[0]+ae.w,ae.o[1]],[ae.o[0]+ae.w,ae.o[1]+ae.h],[ae.o[0],ae.o[1]+ae.h]],Oe=[],et=function(Fe){var Ne=Ce[Fe],Ee=Ne[0],Ze=Ne[1],xt=[Lw(Ee,Ze,Me[0],Me[1]),Lw(Ee,Ze,Me[1],Me[2]),Lw(Ee,Ze,Me[2],Me[3]),Lw(Ee,Ze,Me[3],Me[0])].filter(function(an){return an!==void 0}),wt=xt.map(function(an){return ge(Ee)(an)});if(wt.length===0||wt.length===1)return Oe.push([-1/0,1/0]),"continue";if(wt.length===2){var Dt=wt.sort(function(an,un){return an-un}),rn=[Dt[0],Dt[1]];return Oe.push(rn),"continue"}throw new Error("Unexpected number of intersections")},$e=0;$e<4;$e++)et($e);if(Oe.length===0)throw new Error("None of the vertices could possibly intersect the parent box under transformation. This means a pathological transformation was supplied.");return Oe.reduce(function(Fe,Ne){return[Math.max(Fe[0],Ne[0]),Math.min(Fe[1],Ne[1])]},Oe[0])}(G[1],G[2],o,s)}),g=f.reduce(function(G,Q){return[Math.max(G[0],Q[0]),Math.min(G[1],Q[1])]},f[0]),y=Math.max(g[0],Math.min(g[1],u)),b=[],_=0,M=Object.keys(c);_<M.length;_++)for(var F=M[_],O=this.context.p.project.orgData.signalTypes[F],j=function(G){var Q=(r=p.find(function(xe){var Pe=xe[0];return xe[1],Pe===G}))===null||r===void 0?void 0:r[1];if(!Q)throw new Error("Pin position not found");var te=o(Q)(y),ae=z.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords(F,te),se=ae[0],ge=ae[1];O==="continuous"?b.push({pinId:G,pinType:"continuous",pinTime:se,pinValue:ge,functionString:void 0}):b.push({pinId:G,pinType:"discrete",pinTime:se,pinValue:void 0})},z=this,W=0,J=c[F];W<J.length;W++)j(J[W]);return b},e.prototype.getCornerPositions=function(){return{"top-left":this.context.PinTransformerCorners.getCornerPosition("top-left"),"top-right":this.context.PinTransformerCorners.getCornerPosition("top-right"),"bottom-left":this.context.PinTransformerCorners.getCornerPosition("bottom-left"),"bottom-right":this.context.PinTransformerCorners.getCornerPosition("bottom-right"),left:this.context.PinTransformerCorners.getCornerPosition("left"),right:this.context.PinTransformerCorners.getCornerPosition("right"),top:this.context.PinTransformerCorners.getCornerPosition("top"),bottom:this.context.PinTransformerCorners.getCornerPosition("bottom")}},e.prototype.initialiseState=function(t){this.setState({startPos:this.appropriateRounding(t.absolutePos),currentPos:this.appropriateRounding(t.absolutePos),pinPositions:this.getPinPositions(),signalBoundingBoxes:this.getSignalBoundingBoxes(),cornerPositions:this.getCornerPositions(),initialised:!0})},e.prototype.updatePins=function(t,r){var i=this.appropriateRounding;if(this.state.initialised){r||this.setState(Qs(Qs({},this.state),{currentPos:i(t.absolutePos)}));var o=this.getTransformationQueue(t);(o.findIndex(function(s){return s.pinTime!==void 0||s.pinValue!==void 0})!==-1||r)&&(this.context.p.projectTools.returnToLastCommit(),this.context.p.projectTools.updatePins(o,r))}else this.initialiseState(t)},e.prototype.onMouseMove=function(t,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,o=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=o,this.updatePins(t,!1)}},e.prototype.onMouseUp=function(t,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,o=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=o,this.updatePins(t,!0),this.setState({anchor:void 0,pinPositions:void 0,signalBoundingBoxes:void 0,currentPos:void 0,initialised:!1})}},e}(f6),U3=function(){function n(){this.cornerHooks={}}return n.prototype.getCornerPosition=function(e){if(this.cornerHooks[e])return this.cornerHooks[e]()},n.prototype.attachCornerHook=function(e,t){var r=this;return this.cornerHooks[e]=t,function(){delete r.cornerHooks[e]}},n}(),W3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.setTransformationType=function(t){var r=t.category,i=t.axes,o=t.anchor;this.setContext("TransformationType",{category:r,axes:i,anchor:o})},e.prototype.windowDidMount=function(t){this.setContext("PinPositionMeasurementHelper",new l6),this.setContext("SetTransformationType",this.setTransformationType.bind(this)),this.setContext("PinTransformerCorners",new U3)},e.prototype.getChildren=function(){var t=[];return t.push(c6.Node()),t.push($3.Node()),t.push(z3.Node()),t},e}(tl),H3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=sw,t}return Ki(e,n),Object.defineProperty(e.prototype,"selected",{get:function(){return this.context.pointerModeMachineState.selectedPinIds.includes(this.context.pinId)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r,i;if(this.selected){var o=this.w,s=this.h,u=[[o/2,0],[o,s/2],[o/2,s],[0,s/2]];t.ctx.beginPath(),(r=t.ctx).moveTo.apply(r,t.localToCanvas(u[0]));for(var c=1;c<u.length;c++)(i=t.ctx).lineTo.apply(i,t.localToCanvas(u[c]));t.ctx.closePath(),t.ctx.fillStyle="cyan",t.ctx.fill()}},e}(s6),V3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){return[H3.Node()]},e}(TI),q3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var o=i[r];t.push(V3.Node({pinId:o,key:o}))}return t},e}(Px),K3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return t.push(q3.Node()),t},e}(Tx),G3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r];t.push(K3.Node({signalId:o,key:o}))}return t},e}(tl),Y3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){var r=this;this.setContext("pointerModeMachineState",{type:"start",selectedPinIds:[]}),this.setContext("dispatchPointerModeMachineEvent",function(i){i.selectedPinIds&&r.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:i.selectedPinIds,dispatchPointerModeMachineEvent:function(s){r.context.dispatchPointerModeMachineEvent(s)}}});var o=function(s,u){var c={start:{mousedown_resizebar:"change_signal_height",mousedown_selectionoverlay:"make_selection",mousedown_transformer_overlayCONDpin_in_selection:"transform_pins",mousedown_pinCONDpin_not_in_selection:"transform_pins",delete_selected_pins:"start"},make_selection:{mousemove_selectionoverlayCONDselection_changed:"make_selection",mouseup_selectionoverlay:"start"},change_signal_height:{mouseup_selectionoverlay:"start"},transform_pins:{mouseup_selectionoverlay:"start"}}[s.type][u.type];return c?{type:c,selectedPinIds:u.selectedPinIds||jg([],s.selectedPinIds,!0)}:s}(r.context.pointerModeMachineState,i);r.setContext("pointerModeMachineState",o)}),this.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:[],dispatchPointerModeMachineEvent:function(i){r.context.dispatchPointerModeMachineEvent(i)}}})},e.prototype.windowWillUnmount=function(){this.context.contextBridge.setContext({type:"default"})},e.prototype.getChildren=function(){var t=this.context.p,r=[],i=I3.Node();r.push(i);var o=W3.Node();r.push(o);var s=G3.Node();return r.push(s),function(c,p){for(var f=0,g=c.project.orgData.activeSignalIds;f<g.length;f++)p(g[f])}(t,function(u){var c=F3.Node({signalId:u});r.push(c)}),r},e}(tl),J3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){return this._cameraSnapshot.clone()},e.prototype.onMouseMove=function(){this.context.p.projectTools.returnToLastCommit()},e}(tl),X3=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=10,t.lastPinId="",t}return Ki(e,n),e.prototype.updatePinValue=function(t,r,i){var o=Object.entries(this.context.p.project.signalData[this.context.signalId].pinTimes).find(function(u){return u[0],u[1]===t});if(!o)throw new Error("Pin not found");var s=[{pinId:o[0],pinType:"continuous",pinTime:void 0,pinValue:r,functionString:void 0}];this.context.p.projectTools.updatePins(s,i)},e.prototype.addPin=function(t,r){if(t.pointInside){t.terminateEvent();var i=function(){return Math.random().toString(36).substring(7)}(),o=this.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords.bind(this.context.PinPositionMeasurementHelper),s=this.context.signalId,u=o(s,t.absolutePos),c=u[0],p=u[1],f="return easyLinear();",g=this.context.signalType,y=Object.entries(this.context.p.project.signalData[s].pinTimes).findIndex(function(F){return F[0],F[1]===c})!==-1;if(y){var b=Object.entries(this.context.p.project.signalData[s].pinTimes).find(function(F){return F[0],F[1]===c});if(!b)throw new Error("Pin not found");var _=b[0];if(_!==this.lastPinId)return;var M=this.context.p.project.signalData[s].pinValues[_];g==="discrete"&&(p=M),g==="continuous"&&(f=this.context.p.project.signalData[s].curves[_])}this.context.p.projectTools.returnToLastCommit(),r||(this.lastPinId=i),g==="discrete"?(this.context.p.projectTools.updatePlayheadPosition(c,r),this.context.p.projectTools.addPinDiscrete(s,i,c,"NEW PIN",r),this.context.p.projectTools.pushUpdate()):(this.context.p.projectTools.updatePlayheadPosition(c,r),this.context.p.projectTools.addPinContinuous(s,i,c,p,f,r),this.context.p.projectTools.pushUpdate())}},e.prototype.onMouseMove=function(t){this.addPin(t,!1)},e.prototype.onClick=function(t){this.addPin(t,!0)},e}(Px),Q3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return t.push(X3.Node()),t},e}(Tx),Z3=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r];t.push(Q3.Node({signalId:o,key:o}))}return t.push(J3.Node()),t},e}(tl),S8=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}return Ki(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=this.props.o;return new Ns(o,20*r,20*i)},e.prototype.windowDidMount=function(t){this.setState({hover:!1})},Object.defineProperty(e.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),e.prototype.onMouseMove=function(t,r){this.setState({hover:t.pointInside})},e.prototype.onClick=function(t){t.pointInside&&(this.props.onClick(),t.terminateEvent())},e.prototype.render=function(t){var r=t.absoluteO,i=r[0],o=r[1],s=this.absoluteUnit,u=s[0],c=s[1];t.ctx.beginPath(),t.ctx.fillStyle="#3D5498",t.ctx.roundRect(i,o,this.w*u,this.h*c,[5,5,5,5]),t.ctx.strokeStyle="#243157",t.ctx.lineWidth=4,t.ctx.stroke(),t.ctx.fill(),t.ctx.font="".concat(Math.floor(.8*this.h*c),"px Material Symbols"),t.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),t.ctx.fillText(this.props.iconName,i+.1*this.w*u,o+this.h*c-this.h*c*.1)},e}(tl);(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}Ki(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=[this.parentW-25*r,5*i];return new Ns(o,20*r,20*i)},e.prototype.windowDidMount=function(t){this.setState({hover:!1})},Object.defineProperty(e.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),e.prototype.onMouseMove=function(t,r){this.setState({hover:t.pointInside})},e.prototype.onClick=function(t){t.pointInside&&(navigator.clipboard.writeText(this.context.functionString),t.terminateEvent())},e.prototype.render=function(t){var r=t.absoluteO,i=r[0],o=r[1],s=this.absoluteUnit,u=s[0],c=s[1];t.ctx.beginPath(),t.ctx.fillStyle="#3D5498",t.ctx.roundRect(i,o,this.w*u,this.h*c,[5,5,5,5]),t.ctx.strokeStyle="#243157",t.ctx.lineWidth=4,t.ctx.stroke(),t.ctx.fill(),t.ctx.font="".concat(Math.floor(.8*this.h*c),"px Material Symbols"),t.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),t.ctx.fillText("content_copy",i+.1*this.w*u,o+this.h*c-this.h*c*.1)}})(tl);var eee=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=[15*r,15*i],s=this.parentW-50*r,u=this.parentH-30*i;return new Ns(o,s,u)},e.prototype.windowDidMount=function(t){this.setState({hover:!1})},Object.defineProperty(e.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),e.prototype.onMouseMove=function(t){this.setState({hover:t.pointInside})},e.prototype.onClick=function(t,r){if(t.pointInside){var i=this.context.clipboard.functionString;i&&(this.context.p.projectTools.updateCurve(this.context.pinId,i),this.context.clipboard.functionString=void 0,this.context.clipboard.pinId=void 0)}},e.prototype.render=function(t){var r=t.absoluteO,i=r[0],o=r[1];t.ctx.fillStyle="white",t.ctx.font="12px monospace";for(var s=this.absoluteUnit,u=s[0],c=s[1],p=function(g,y,b,_,M){for(var F=g.split(`
`).map(function(Pe){return Pe.split(" ")}),O=[],j=function(Pe){for(var Ce=[],Me="",Oe=0,et=Pe;Oe<et.length;Oe++){var $e=et[Oe],Fe=Me+$e;y.measureText(Fe).width>b&&Me.length?(Ce.push(Me),Me=$e):Me=Fe}return Me&&Ce.push(Me),Ce},z=function(Pe){for(var Ce="",Me=0,Oe=Pe;Me<Oe.length;Me++)for(var et=Oe[Me],$e=0,Fe=y.measureText(et).width>b?j(et):[et];$e<Fe.length;$e++){var Ne=Fe[$e],Ee=Ce.length?Ce+" "+Ne:Ne;y.measureText(Ee).width>b&&Ce.length?(O.push(Ce),Ce=Ne):Ce=Ee}Ce&&O.push(Ce)},W=0,J=F;W<J.length;W++)z(J[W]);var G=Math.floor(M/_);if(O.length>G){O.splice(G,O.length-G);for(var Q=O[G-1],te=b-y.measureText("...").width,ae="",se=0,ge=Q;se<ge.length;se++){var xe=ae+ge[se];if(y.measureText(xe).width>te)break;ae=xe}O[G-1]=ae+"..."}return O}(this.context.functionString,t.ctx,this.w*u,12,this.h*c),f=0;f<p.length;f++)t.ctx.fillText(p[f],i,o+12*c+15*f*c);t.ctx.fillStyle="rgba(0,0,0,0.3)",t.ctx.fillRect(i,o,this.w*u,this.h*c),this.hover&&(t.ctx.beginPath(),t.ctx.strokeStyle="rgba(255,255,255,0.5)",t.ctx.lineWidth=1,t.ctx.strokeRect(i,o,this.w*u,this.h*c))},e}(tl),tee=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.updateWhenCameraChanges=!0,t.layer=100,t}return Ki(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.setContext("functionString",this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId])},e.prototype.windowDidUpdate=function(t){this.context.functionString=this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId]},e.prototype.getChildren=function(){var t=this,r=[],i=this.absoluteUnit,o=i[0];return i[1],this.w*o>100&&r.push(eee.Node()),this.w*o>50&&(r.push(S8.Node({iconName:"code",onClick:function(){t.context.p.setActiveEditor({type:"pin",id:t.context.pinId})},o:[this.w-25,5]})),r.push(S8.Node({iconName:"content_copy",onClick:function(){t.context.clipboard.functionString=t.context.functionString,t.context.clipboard.pinId=t.context.pinId},o:[this.w-25,30]}))),r},e}(u6),nee=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var o=i[r];t.push(tee.Node({pinId:o,key:o}))}return t},e}(Px),ree=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.getChildren=function(){var t=[];return t.push(nee.Node()),t},e}(Tx),iee=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Ki(e,n),e.prototype.windowDidMount=function(t){this.setContext("clipboard",{functionString:void 0,pinId:void 0})},e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r];this.context.p.project.orgData.signalTypes[o]==="continuous"&&t.push(ree.Node({signalId:o,key:o}))}return t},e}(tl),oee=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return Ki(e,n),e.prototype.getBox=function(){return new Ns([0,0],100,100)},e.prototype.windowDidMount=function(t){console.log("mounted",t)},e}(tl),aee=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.unsubscribe=function(){},t}return Ki(e,n),e.prototype.windowDidMount=function(t){var r=this,i=t.extendedProjectAPIBridge,o=t.contextBridge;this.setContext("externalState",i.data),this.setContext("p",i.data),this.unsubscribe=i.subscribe(function(s){r.setContext("externalState",s),r.setContext("p",s)}),this.setContext("PinPositionMeasurementHelper",new l6),this.setContext("contextBridge",o)},e.prototype.getChildren=function(){var t=this.context.p.activeTool,r=[];switch(r.push(h3.Node()),r.push(c6.Node()),r.push(A3.Node()),t){case"pointer":r.push(Y3.Node());break;case"code_editor":r.push(iee.Node());break;case"add_pin":r.push(Z3.Node());break;default:r.push(oee.Node())}return r},e}(tl),see=at.forwardRef(function(n,e){var t=n.animationFrameFunc,r=at.useRef(null),i=at.useRef(null),o=at.useState(null),s=o[0],u=o[1];return at.useImperativeHandle(e,function(){return{getCanvas:function(){return r.current}}}),at.useLayoutEffect(function(){if(!s&&i.current){var c=i.current.getBoundingClientRect(),p=c.width,f=c.height;u({width:p,height:f})}var g=new ResizeObserver(function(y){if(y[0]){var b=y[0].contentRect,_=b.width,M=b.height;u({width:_,height:M})}});return i.current&&g.observe(i.current),function(){return g.disconnect()}},[]),at.useLayoutEffect(function(){var c;if(s){var p={W:s.width,H:s.height},f=function(){if(r){var g=r.current;if(!g)throw new Error("Canvas not found");var y=g.getContext("2d");if(!y)throw new Error("2d context not found");g.width=p.W,g.height=p.H,t(g,y),c=requestAnimationFrame(f)}};return c=requestAnimationFrame(f),function(){return cancelAnimationFrame(c)}}},[s,t]),ft.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:ft.jsx("canvas",{style:{width:"100%",height:"100%",display:"block"},width:300,height:100,ref:r})})}),_8,$C={exports:{}},uee=$C.exports;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var lee=function(){return _8||(_8=1,e=$C,t=$C.exports,(function(){var r,i="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,p=64,f=128,g=256,y=1/0,b=9007199254740991,_=NaN,M=4294967295,F=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",p],["rearg",g]],O="[object Arguments]",j="[object Array]",z="[object Boolean]",W="[object Date]",J="[object Error]",G="[object Function]",Q="[object GeneratorFunction]",te="[object Map]",ae="[object Number]",se="[object Object]",ge="[object Promise]",xe="[object RegExp]",Pe="[object Set]",Ce="[object String]",Me="[object Symbol]",Oe="[object WeakMap]",et="[object ArrayBuffer]",$e="[object DataView]",Fe="[object Float32Array]",Ne="[object Float64Array]",Ee="[object Int8Array]",Ze="[object Int16Array]",xt="[object Int32Array]",wt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",rn="[object Uint16Array]",an="[object Uint32Array]",un=/\b__p \+= '';/g,ur=/\b(__p \+=) '' \+/g,Fn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wi=/&(?:amp|lt|gt|quot|#39);/g,js=/[&<>"']/g,$a=RegExp(wi.source),fe=RegExp(js.source),ue=/<%-([\s\S]+?)%>/g,ve=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Be=/^\w*$/,He=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(We.source),gt=/^\s+/,bt=/\s/,fn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kn=/\{\n\/\* \[wrapped with (.+)\] \*/,yn=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ui=/[()=,{}\[\]\/\s]/,io=/\\(\\)?/g,bo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ta=/\w*$/,Oo=/^[-+]0x[0-9a-f]+$/i,Ru=/^0b[01]+$/i,fa=/^\[object .+?Constructor\]$/,ju=/^0o[0-7]+$/i,eu=/^(?:0|[1-9]\d*)$/,hs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uu=/($^)/,zl=/['\n\r\u2028\u2029\\]/g,Ss="\\ud800-\\udfff",Dl="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Cl="\\u2700-\\u27bf",Qa="a-z\\xdf-\\xf6\\xf8-\\xff",Ul="A-Z\\xc0-\\xd6\\xd8-\\xde",rl="\\ufe0e\\ufe0f",Gu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ls="['’]",Sl="["+Ss+"]",_s="["+Gu+"]",xa="["+Dl+"]",za="\\d+",Jo="["+Cl+"]",il="["+Qa+"]",ol="[^"+Ss+Gu+za+Cl+Qa+Ul+"]",Ua="\\ud83c[\\udffb-\\udfff]",lu="[^"+Ss+"]",al="(?:\\ud83c[\\udde6-\\uddff]){2}",sl="[\\ud800-\\udbff][\\udc00-\\udfff]",tu="["+Ul+"]",cu="\\u200d",_l="(?:"+il+"|"+ol+")",Pi="(?:"+tu+"|"+ol+")",Lu="(?:['’](?:d|ll|m|re|s|t|ve))?",Br="(?:['’](?:D|LL|M|RE|S|T|VE))?",ha="(?:"+xa+"|"+Ua+")?",gn="["+rl+"]?",na=gn+ha+"(?:"+cu+"(?:"+[lu,al,sl].join("|")+")"+gn+ha+")*",Sc="(?:"+[Jo,al,sl].join("|")+")"+na,El="(?:"+[lu+xa+"?",xa,al,sl,Sl].join("|")+")",No=RegExp(Ls,"g"),Qt=RegExp(xa,"g"),jt=RegExp(Ua+"(?="+Ua+")|"+El+na,"g"),fu=RegExp([tu+"?"+il+"+"+Lu+"(?="+[_s,tu,"$"].join("|")+")",Pi+"+"+Br+"(?="+[_s,tu+_l,"$"].join("|")+")",tu+"?"+_l+"+"+Lu,tu+"+"+Br,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",za,Sc].join("|"),"g"),Ph=RegExp("["+cu+Ss+Dl+rl+"]"),Es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nf=-1,Bt={};Bt[Fe]=Bt[Ne]=Bt[Ee]=Bt[Ze]=Bt[xt]=Bt[wt]=Bt[Dt]=Bt[rn]=Bt[an]=!0,Bt[O]=Bt[j]=Bt[et]=Bt[z]=Bt[$e]=Bt[W]=Bt[J]=Bt[G]=Bt[te]=Bt[ae]=Bt[se]=Bt[xe]=Bt[Pe]=Bt[Ce]=Bt[Oe]=!1;var rr={};rr[O]=rr[j]=rr[et]=rr[$e]=rr[z]=rr[W]=rr[Fe]=rr[Ne]=rr[Ee]=rr[Ze]=rr[xt]=rr[te]=rr[ae]=rr[se]=rr[xe]=rr[Pe]=rr[Ce]=rr[Me]=rr[wt]=rr[Dt]=rr[rn]=rr[an]=!0,rr[J]=rr[G]=rr[Oe]=!1;var Mo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},df=parseFloat,Za=parseInt,Rr=typeof Jx=="object"&&Jx&&Jx.Object===Object&&Jx,hu=typeof self=="object"&&self&&self.Object===Object&&self,Ei=Rr||hu||Function("return this")(),Hn=t&&!t.nodeType&&t,Xo=Hn&&e&&!e.nodeType&&e,af=Xo&&Xo.exports===Hn,cc=af&&Rr.process,Rn=function(){try{var he=Xo&&Xo.require&&Xo.require("util").types;return he||cc&&cc.binding&&cc.binding("util")}catch{}}(),Qf=Rn&&Rn.isArrayBuffer,jr=Rn&&Rn.isDate,Nc=Rn&&Rn.isMap,As=Rn&&Rn.isRegExp,mi=Rn&&Rn.isSet,Jn=Rn&&Rn.isTypedArray;function ri(he,Ke,Qe){switch(Qe.length){case 0:return he.call(Ke);case 1:return he.call(Ke,Qe[0]);case 2:return he.call(Ke,Qe[0],Qe[1]);case 3:return he.call(Ke,Qe[0],Qe[1],Qe[2])}return he.apply(Ke,Qe)}function nn(he,Ke,Qe,ut){for(var Vt=-1,hn=he==null?0:he.length;++Vt<hn;){var Cr=he[Vt];Ke(ut,Cr,Qe(Cr),he)}return ut}function Xn(he,Ke){for(var Qe=-1,ut=he==null?0:he.length;++Qe<ut&&Ke(he[Qe],Qe,he)!==!1;);return he}function es(he,Ke){for(var Qe=he==null?0:he.length;Qe--&&Ke(he[Qe],Qe,he)!==!1;);return he}function ch(he,Ke){for(var Qe=-1,ut=he==null?0:he.length;++Qe<ut;)if(!Ke(he[Qe],Qe,he))return!1;return!0}function Jr(he,Ke){for(var Qe=-1,ut=he==null?0:he.length,Vt=0,hn=[];++Qe<ut;){var Cr=he[Qe];Ke(Cr,Qe,he)&&(hn[Vt++]=Cr)}return hn}function $s(he,Ke){return!(he==null||!he.length)&&Us(he,Ke,0)>-1}function Wl(he,Ke,Qe){for(var ut=-1,Vt=he==null?0:he.length;++ut<Vt;)if(Qe(Ke,he[ut]))return!0;return!1}function Wn(he,Ke){for(var Qe=-1,ut=he==null?0:he.length,Vt=Array(ut);++Qe<ut;)Vt[Qe]=Ke(he[Qe],Qe,he);return Vt}function bi(he,Ke){for(var Qe=-1,ut=Ke.length,Vt=he.length;++Qe<ut;)he[Vt+Qe]=Ke[Qe];return he}function Bc(he,Ke,Qe,ut){var Vt=-1,hn=he==null?0:he.length;for(ut&&hn&&(Qe=he[++Vt]);++Vt<hn;)Qe=Ke(Qe,he[Vt],Vt,he);return Qe}function ul(he,Ke,Qe,ut){var Vt=he==null?0:he.length;for(ut&&Vt&&(Qe=he[--Vt]);Vt--;)Qe=Ke(Qe,he[Vt],Vt,he);return Qe}function zs(he,Ke){for(var Qe=-1,ut=he==null?0:he.length;++Qe<ut;)if(Ke(he[Qe],Qe,he))return!0;return!1}var pa=ll("length");function Al(he,Ke,Qe){var ut;return Qe(he,function(Vt,hn,Cr){if(Ke(Vt,hn,Cr))return ut=hn,!1}),ut}function _c(he,Ke,Qe,ut){for(var Vt=he.length,hn=Qe+(ut?1:-1);ut?hn--:++hn<Vt;)if(Ke(he[hn],hn,he))return hn;return-1}function Us(he,Ke,Qe){return Ke==Ke?function(Vt,hn,Cr){for(var Do=Cr-1,jn=Vt.length;++Do<jn;)if(Vt[Do]===hn)return Do;return-1}(he,Ke,Qe):_c(he,Hl,Qe)}function tc(he,Ke,Qe,ut){for(var Vt=Qe-1,hn=he.length;++Vt<hn;)if(ut(he[Vt],Ke))return Vt;return-1}function Hl(he){return he!=he}function vr(he,Ke){var Qe=he==null?0:he.length;return Qe?ga(he,Ke)/Qe:_}function ll(he){return function(Ke){return Ke==null?r:Ke[he]}}function Ro(he){return function(Ke){return he==null?r:he[Ke]}}function Vl(he,Ke,Qe,ut,Vt){return Vt(he,function(hn,Cr,Do){Qe=ut?(ut=!1,hn):Ke(Qe,hn,Cr,Do)}),Qe}function ga(he,Ke){for(var Qe,ut=-1,Vt=he.length;++ut<Vt;){var hn=Ke(he[ut]);hn!==r&&(Qe=Qe===r?hn:Qe+hn)}return Qe}function fc(he,Ke){for(var Qe=-1,ut=Array(he);++Qe<he;)ut[Qe]=Ke(Qe);return ut}function ql(he){return he&&he.slice(0,Ue(he)+1).replace(gt,"")}function ra(he){return function(Ke){return he(Ke)}}function Wa(he,Ke){return Wn(Ke,function(Qe){return he[Qe]})}function ji(he,Ke){return he.has(Ke)}function hc(he,Ke){for(var Qe=-1,ut=he.length;++Qe<ut&&Us(Ke,he[Qe],0)>-1;);return Qe}function xo(he,Ke){for(var Qe=he.length;Qe--&&Us(Ke,he[Qe],0)>-1;);return Qe}var ts=Ro({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Qi=Ro({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(he){return"\\"+Mo[he]}function Qo(he){return Ph.test(he)}function vf(he){var Ke=-1,Qe=Array(he.size);return he.forEach(function(ut,Vt){Qe[++Ke]=[Vt,ut]}),Qe}function ia(he,Ke){return function(Qe){return he(Ke(Qe))}}function ie(he,Ke){for(var Qe=-1,ut=he.length,Vt=0,hn=[];++Qe<ut;){var Cr=he[Qe];Cr!==Ke&&Cr!==s||(he[Qe]=s,hn[Vt++]=Qe)}return hn}function de(he){var Ke=-1,Qe=Array(he.size);return he.forEach(function(ut){Qe[++Ke]=ut}),Qe}function ye(he){var Ke=-1,Qe=Array(he.size);return he.forEach(function(ut){Qe[++Ke]=[ut,ut]}),Qe}function ze(he){return Qo(he)?function(Qe){for(var ut=jt.lastIndex=0;jt.test(Qe);)++ut;return ut}(he):pa(he)}function ct(he){return Qo(he)?function(Qe){return Qe.match(jt)||[]}(he):function(Qe){return Qe.split("")}(he)}function Ue(he){for(var Ke=he.length;Ke--&&bt.test(he.charAt(Ke)););return Ke}var pt=Ro({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Et=function he(Ke){var Qe,ut=(Ke=Ke==null?Ei:Et.defaults(Ei.Object(),Ke,Et.pick(Ei,Bo))).Array,Vt=Ke.Date,hn=Ke.Error,Cr=Ke.Function,Do=Ke.Math,jn=Ke.Object,$t=Ke.RegExp,Zh=Ke.String,oa=Ke.TypeError,ps=ut.prototype,Ec=Cr.prototype,oo=jn.prototype,yf=Ke["__core-js_shared__"],pu=Ec.toString,pn=oo.hasOwnProperty,kl=0,wf=(Qe=/[^.]+$/.exec(yf&&yf.keys&&yf.keys.IE_PROTO||""))?"Symbol(src)_1."+Qe:"",Ma=oo.toString,Bf=pu.call(jn),nc=Ei._,cl=$t("^"+pu.call(pn).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fl=af?Ke.Buffer:r,Wi=Ke.Symbol,aa=Ke.Uint8Array,gu=fl?fl.allocUnsafe:r,sf=ia(jn.getPrototypeOf,jn),fh=jn.create,Ac=oo.propertyIsEnumerable,Zo=ps.splice,$u=Wi?Wi.isConcatSpreadable:r,zu=Wi?Wi.iterator:r,Kl=Wi?Wi.toStringTag:r,Rc=function(){try{var v=Vn(jn,"defineProperty");return v({},"",{}),v}catch{}}(),Ch=Ke.clearTimeout!==Ei.clearTimeout&&Ke.clearTimeout,Sh=Vt&&Vt.now!==Ei.Date.now&&Vt.now,Tn=Ke.setTimeout!==Ei.setTimeout&&Ke.setTimeout,wn=Do.ceil,Gl=Do.floor,Zf=jn.getOwnPropertySymbols,Rf=fl?fl.isBuffer:r,Ws=Ke.isFinite,Da=ps.join,ks=ia(jn.keys,jn),Ai=Do.max,Tr=Do.min,ns=Vt.now,Hs=Ke.parseInt,Fa=Do.random,Pa=ps.reverse,kc=Vn(Ke,"DataView"),Uu=Vn(Ke,"Map"),Wu=Vn(Ke,"Promise"),hl=Vn(Ke,"Set"),Yl=Vn(Ke,"WeakMap"),rs=Vn(jn,"create"),Ms=Yl&&new Yl,Ml={},R=bu(kc),is=bu(Uu),Yu=bu(Wu),Lr=bu(hl),_t=bu(Yl),Ae=Wi?Wi.prototype:r,$r=Ae?Ae.valueOf:r,xi=Ae?Ae.toString:r;function Z(v){if(si(v)&&!zt(v)&&!(v instanceof _n)){if(v instanceof bn)return v;if(pn.call(v,"__wrapped__"))return bf(v)}return new bn(v)}var ln=function(){function v(){}return function(m){if(!sn(m))return{};if(fh)return fh(m);v.prototype=m;var x=new v;return v.prototype=r,x}}();function Eu(){}function bn(v,m){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=r}function _n(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function gs(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var P=v[m];this.set(P[0],P[1])}}function Di(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var P=v[m];this.set(P[0],P[1])}}function Yi(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var P=v[m];this.set(P[0],P[1])}}function sa(v){var m=-1,x=v==null?0:v.length;for(this.__data__=new Yi;++m<x;)this.add(v[m])}function Ca(v){var m=this.__data__=new Di(v);this.size=m.size}function Jl(v,m){var x=zt(v),P=!x&&Eo(v),L=!x&&!P&&_r(v),H=!x&&!P&&!L&&Ot(v),V=x||P||L||H,Y=V?fc(v.length,Zh):[],re=Y.length;for(var ne in v)!m&&!pn.call(v,ne)||V&&(ne=="length"||L&&(ne=="offset"||ne=="parent")||H&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||va(ne,re))||Y.push(ne);return Y}function oi(v){var m=v.length;return m?v[lr(0,m-1)]:r}function Xl(v,m){return vi(Hi(v),Sa(m,0,v.length))}function Ta(v){return vi(Hi(v))}function Hr(v,m,x){(x!==r&&!wa(v[m],x)||x===r&&!(m in v))&&fo(v,m,x)}function Fl(v,m,x){var P=v[m];pn.call(v,m)&&wa(P,x)&&(x!==r||m in v)||fo(v,m,x)}function ms(v,m){for(var x=v.length;x--;)if(wa(v[x][0],m))return x;return-1}function ua(v,m,x,P){return Pn(v,function(L,H,V){m(P,L,x(L),V)}),P}function Li(v,m){return v&&eo(m,On(m),v)}function fo(v,m,x){m=="__proto__"&&Rc?Rc(v,m,{configurable:!0,enumerable:!0,value:x,writable:!0}):v[m]=x}function uf(v,m){for(var x=-1,P=m.length,L=ut(P),H=v==null;++x<P;)L[x]=H?r:Su(v,m[x]);return L}function Sa(v,m,x){return v==v&&(x!==r&&(v=v<=x?v:x),m!==r&&(v=v>=m?v:m)),v}function jo(v,m,x,P,L,H){var V,Y=1&m,re=2&m,ne=4&m;if(x&&(V=L?x(v,P,L,H):x(v)),V!==r)return V;if(!sn(v))return v;var ce=zt(v);if(ce){if(V=function(Ie){var Xe=Ie.length,Ye=new Ie.constructor(Xe);return Xe&&typeof Ie[0]=="string"&&pn.call(Ie,"index")&&(Ye.index=Ie.index,Ye.input=Ie.input),Ye}(v),!Y)return Hi(v,V)}else{var me=br(v),be=me==G||me==Q;if(_r(v))return la(v,Y);if(me==se||me==O||be&&!L){if(V=re||be?{}:Ys(v),!Y)return re?function(Ie,Xe){return eo(Ie,Nl(Ie),Xe)}(v,function(Ie,Xe){return Ie&&eo(Xe,Sn(Xe),Ie)}(V,v)):function(Ie,Xe){return eo(Ie,kr(Ie),Xe)}(v,Li(V,v))}else{if(!rr[me])return L?v:{};V=function(Ie,Xe,Ye){var rt=Ie.constructor;switch(Xe){case et:return Va(Ie);case z:case W:return new rt(+Ie);case $e:return function(Mt,en){var qt=en?Va(Mt.buffer):Mt.buffer;return new Mt.constructor(qt,Mt.byteOffset,Mt.byteLength)}(Ie,Ye);case Fe:case Ne:case Ee:case Ze:case xt:case wt:case Dt:case rn:case an:return ml(Ie,Ye);case te:return new rt;case ae:case Ce:return new rt(Ie);case xe:return function(Mt){var en=new Mt.constructor(Mt.source,ta.exec(Mt));return en.lastIndex=Mt.lastIndex,en}(Ie);case Pe:return new rt;case Me:return function(Mt){return $r?jn($r.call(Mt)):{}}(Ie)}}(v,me,Y)}}H||(H=new Ca);var we=H.get(v);if(we)return we;H.set(v,V),Du(v)?v.forEach(function(Ge){V.add(jo(Ge,m,x,Ge,v,H))}):Tt(v)&&v.forEach(function(Ge,Ie){V.set(Ie,jo(Ge,m,x,Ie,v,H))});var Te=ce?r:(ne?re?da:ar:re?Sn:On)(v);return Xn(Te||v,function(Ge,Ie){Te&&(Ge=v[Ie=Ge]),Fl(V,Ie,jo(Ge,m,x,Ie,v,H))}),V}function Ln(v,m,x){var P=x.length;if(v==null)return!P;for(v=jn(v);P--;){var L=x[P],H=m[L],V=v[L];if(V===r&&!(L in v)||!H(V))return!1}return!0}function Mc(v,m,x){if(typeof v!="function")throw new oa(i);return mc(function(){v.apply(r,x)},m)}function pc(v,m,x,P){var L=-1,H=$s,V=!0,Y=v.length,re=[],ne=m.length;if(!Y)return re;x&&(m=Wn(m,ra(x))),P?(H=Wl,V=!1):m.length>=200&&(H=ji,V=!1,m=new sa(m));e:for(;++L<Y;){var ce=v[L],me=x==null?ce:x(ce);if(ce=P||ce!==0?ce:0,V&&me==me){for(var be=ne;be--;)if(m[be]===me)continue e;re.push(ce)}else H(m,me,P)||re.push(ce)}return re}Z.templateSettings={escape:ue,evaluate:ve,interpolate:Se,variable:"",imports:{_:Z}},Z.prototype=Eu.prototype,Z.prototype.constructor=Z,bn.prototype=ln(Eu.prototype),bn.prototype.constructor=bn,_n.prototype=ln(Eu.prototype),_n.prototype.constructor=_n,gs.prototype.clear=function(){this.__data__=rs?rs(null):{},this.size=0},gs.prototype.delete=function(m){var x=this.has(m)&&delete this.__data__[m];return this.size-=x?1:0,x},gs.prototype.get=function(m){var x=this.__data__;if(rs){var P=x[m];return P===o?r:P}return pn.call(x,m)?x[m]:r},gs.prototype.has=function(m){var x=this.__data__;return rs?x[m]!==r:pn.call(x,m)},gs.prototype.set=function(m,x){var P=this.__data__;return this.size+=this.has(m)?0:1,P[m]=rs&&x===r?o:x,this},Di.prototype.clear=function(){this.__data__=[],this.size=0},Di.prototype.delete=function(m){var x=this.__data__,P=ms(x,m);return!(P<0||(P==x.length-1?x.pop():Zo.call(x,P,1),--this.size,0))},Di.prototype.get=function(m){var x=this.__data__,P=ms(x,m);return P<0?r:x[P][1]},Di.prototype.has=function(m){return ms(this.__data__,m)>-1},Di.prototype.set=function(m,x){var P=this.__data__,L=ms(P,m);return L<0?(++this.size,P.push([m,x])):P[L][1]=x,this},Yi.prototype.clear=function(){this.size=0,this.__data__={hash:new gs,map:new(Uu||Di),string:new gs}},Yi.prototype.delete=function(m){var x=gr(this,m).delete(m);return this.size-=x?1:0,x},Yi.prototype.get=function(m){return gr(this,m).get(m)},Yi.prototype.has=function(m){return gr(this,m).has(m)},Yi.prototype.set=function(m,x){var P=gr(this,m),L=P.size;return P.set(m,x),this.size+=P.size==L?0:1,this},sa.prototype.add=sa.prototype.push=function(m){return this.__data__.set(m,o),this},sa.prototype.has=function(m){return this.__data__.has(m)},Ca.prototype.clear=function(){this.__data__=new Di,this.size=0},Ca.prototype.delete=function(m){var x=this.__data__,P=x.delete(m);return this.size=x.size,P},Ca.prototype.get=function(m){return this.__data__.get(m)},Ca.prototype.has=function(m){return this.__data__.has(m)},Ca.prototype.set=function(m,x){var P=this.__data__;if(P instanceof Di){var L=P.__data__;if(!Uu||L.length<199)return L.push([m,x]),this.size=++P.size,this;P=this.__data__=new Yi(L)}return P.set(m,x),this.size=P.size,this};var Pn=to(_a),Ha=to(rc,!0);function Ho(v,m){var x=!0;return Pn(v,function(P,L,H){return x=!!m(P,L,H)}),x}function di(v,m,x){for(var P=-1,L=v.length;++P<L;){var H=v[P],V=m(H);if(V!=null&&(Y===r?V==V&&!zo(V):x(V,Y)))var Y=V,re=H}return re}function os(v,m){var x=[];return Pn(v,function(P,L,H){m(P,L,H)&&x.push(P)}),x}function Kt(v,m,x,P,L){var H=-1,V=v.length;for(x||(x=po),L||(L=[]);++H<V;){var Y=v[H];m>0&&x(Y)?m>1?Kt(Y,m-1,x,P,L):bi(L,Y):P||(L[L.length]=Y)}return L}var Lo=ho(),Fc=ho(!0);function _a(v,m){return v&&Lo(v,m,On)}function rc(v,m){return v&&Fc(v,m,On)}function Xr(v,m){return Jr(m,function(x){return Ii(v[x])})}function as(v,m){for(var x=0,P=(m=iu(m,v)).length;v!=null&&x<P;)v=v[Si(m[x++])];return x&&x==P?v:r}function Ea(v,m,x){var P=m(v);return zt(v)?P:bi(P,x(v))}function Ci(v){return v==null?v===r?"[object Undefined]":"[object Null]":Kl&&Kl in jn(v)?function(x){var P=pn.call(x,Kl),L=x[Kl];try{x[Kl]=r;var H=!0}catch{}var V=Ma.call(x);return H&&(P?x[Kl]=L:delete x[Kl]),V}(v):function(x){return Ma.call(x)}(v)}function pl(v,m){return v>m}function Au(v,m){return v!=null&&pn.call(v,m)}function ds(v,m){return v!=null&&m in jn(v)}function ir(v,m,x){for(var P=x?Wl:$s,L=v[0].length,H=v.length,V=H,Y=ut(H),re=1/0,ne=[];V--;){var ce=v[V];V&&m&&(ce=Wn(ce,ra(m))),re=Tr(ce.length,re),Y[V]=!x&&(m||L>=120&&ce.length>=120)?new sa(V&&ce):r}ce=v[0];var me=-1,be=Y[0];e:for(;++me<L&&ne.length<re;){var we=ce[me],Te=m?m(we):we;if(we=x||we!==0?we:0,!(be?ji(be,Te):P(ne,Te,x))){for(V=H;--V;){var Ge=Y[V];if(!(Ge?ji(Ge,Te):P(v[V],Te,x)))continue e}be&&be.push(Te),ne.push(we)}}return ne}function Qn(v,m,x){var P=(v=Zn(v,m=iu(m,v)))==null?v:v[Si(ya(m))];return P==null?r:ri(P,v,x)}function mu(v){return si(v)&&Ci(v)==O}function ki(v,m,x,P,L){return v===m||(v==null||m==null||!si(v)&&!si(m)?v!=v&&m!=m:function(V,Y,re,ne,ce,me){var be=zt(V),we=zt(Y),Te=be?j:br(V),Ge=we?j:br(Y),Ie=(Te=Te==O?se:Te)==se,Xe=(Ge=Ge==O?se:Ge)==se,Ye=Te==Ge;if(Ye&&_r(V)){if(!_r(Y))return!1;be=!0,Ie=!1}if(Ye&&!Ie)return me||(me=new Ca),be||Ot(V)?Ol(V,Y,re,ne,ce,me):function(It,Zt,yr,cr,fi,Gn,Uo){switch(yr){case $e:if(It.byteLength!=Zt.byteLength||It.byteOffset!=Zt.byteOffset)return!1;It=It.buffer,Zt=Zt.buffer;case et:return!(It.byteLength!=Zt.byteLength||!Gn(new aa(It),new aa(Zt)));case z:case W:case ae:return wa(+It,+Zt);case J:return It.name==Zt.name&&It.message==Zt.message;case xe:case Ce:return It==Zt+"";case te:var fr=vf;case Pe:var Ga=1&cr;if(fr||(fr=de),It.size!=Zt.size&&!Ga)return!1;var ep=Uo.get(It);if(ep)return ep==Zt;cr|=2,Uo.set(It,Zt);var Wf=Ol(fr(It),fr(Zt),cr,fi,Gn,Uo);return Uo.delete(It),Wf;case Me:if($r)return $r.call(It)==$r.call(Zt)}return!1}(V,Y,Te,re,ne,ce,me);if(!(1&re)){var rt=Ie&&pn.call(V,"__wrapped__"),St=Xe&&pn.call(Y,"__wrapped__");if(rt||St){var Mt=rt?V.value():V,en=St?Y.value():Y;return me||(me=new Ca),ce(Mt,en,re,ne,me)}}return!!Ye&&(me||(me=new Ca),function(It,Zt,yr,cr,fi,Gn){var Uo=1&yr,fr=ar(It),Ga=fr.length,ep=ar(Zt),Wf=ep.length;if(Ga!=Wf&&!Uo)return!1;for(var tp=Ga;tp--;){var sc=fr[tp];if(!(Uo?sc in Zt:pn.call(Zt,sc)))return!1}var h=Gn.get(It),d=Gn.get(Zt);if(h&&d)return h==Zt&&d==It;var S=!0;Gn.set(It,Zt),Gn.set(Zt,It);for(var T=Uo;++tp<Ga;){var $=It[sc=fr[tp]],q=Zt[sc];if(cr)var X=Uo?cr(q,$,sc,Zt,It,Gn):cr($,q,sc,It,Zt,Gn);if(!(X===r?$===q||fi($,q,yr,cr,Gn):X)){S=!1;break}T||(T=sc=="constructor")}if(S&&!T){var le=It.constructor,pe=Zt.constructor;le==pe||!("constructor"in It)||!("constructor"in Zt)||typeof le=="function"&&le instanceof le&&typeof pe=="function"&&pe instanceof pe||(S=!1)}return Gn.delete(It),Gn.delete(Zt),S}(V,Y,re,ne,ce,me))}(v,m,x,P,ki,L))}function Mi(v,m,x,P){var L=x.length,H=L,V=!P;if(v==null)return!H;for(v=jn(v);L--;){var Y=x[L];if(V&&Y[2]?Y[1]!==v[Y[0]]:!(Y[0]in v))return!1}for(;++L<H;){var re=(Y=x[L])[0],ne=v[re],ce=Y[1];if(V&&Y[2]){if(ne===r&&!(re in v))return!1}else{var me=new Ca;if(P)var be=P(ne,ce,re,v,m,me);if(!(be===r?ki(ce,ne,3,P,me):be))return!1}}return!0}function Ju(v){return!(!sn(v)||function(x){return!!wf&&wf in x}(v))&&(Ii(v)?cl:fa).test(bu(v))}function ku(v){return typeof v=="function"?v:v==null?li:typeof v=="object"?zt(v)?Ct(v[0],v[1]):du(v):Ic(v)}function Ji(v){if(!Js(v))return ks(v);var m=[];for(var x in jn(v))pn.call(v,x)&&x!="constructor"&&m.push(x);return m}function ic(v){if(!sn(v))return function(H){var V=[];if(H!=null)for(var Y in jn(H))V.push(Y);return V}(v);var m=Js(v),x=[];for(var P in v)(P!="constructor"||!m&&pn.call(v,P))&&x.push(P);return x}function Pl(v,m){return v<m}function Fs(v,m){var x=-1,P=Wt(v)?ut(v.length):[];return Pn(v,function(L,H,V){P[++x]=m(L,H,V)}),P}function du(v){var m=Gt(v);return m.length==1&&m[0][2]?wu(m[0][0],m[0][1]):function(x){return x===v||Mi(x,v,m)}}function Ct(v,m){return Fu(v)&&Bl(m)?wu(Si(v),m):function(x){var P=Su(x,v);return P===r&&P===m?oh(x,v):ki(m,P,3)}}function vs(v,m,x,P,L){v!==m&&Lo(m,function(H,V){if(L||(L=new Ca),sn(H))(function(ne,ce,me,be,we,Te,Ge){var Ie=Po(ne,me),Xe=Po(ce,me),Ye=Ge.get(Xe);if(Ye)Hr(ne,me,Ye);else{var rt=Te?Te(Ie,Xe,me+"",ne,ce,Ge):r,St=rt===r;if(St){var Mt=zt(Xe),en=!Mt&&_r(Xe),qt=!Mt&&!en&&Ot(Xe);rt=Xe,Mt||en||qt?zt(Ie)?rt=Ie:tr(Ie)?rt=Hi(Ie):en?(St=!1,rt=la(Xe,!0)):qt?(St=!1,rt=ml(Xe,!0)):rt=[]:yi(Xe)||Eo(Xe)?(rt=Ie,Eo(Ie)?rt=ac(Ie):sn(Ie)&&!Ii(Ie)||(rt=Ys(Xe))):St=!1}St&&(Ge.set(Xe,rt),we(rt,Xe,be,Te,Ge),Ge.delete(Xe)),Hr(ne,me,rt)}})(v,m,V,x,vs,P,L);else{var Y=P?P(Po(v,V),H,V+"",v,m,L):r;Y===r&&(Y=H),Hr(v,V,Y)}},Sn)}function Zc(v,m){var x=v.length;if(x)return va(m+=m<0?x:0,x)?v[m]:r}function Vs(v,m,x){m=m.length?Wn(m,function(H){return zt(H)?function(V){return as(V,H.length===1?H[0]:H)}:H}):[li];var P=-1;m=Wn(m,ra(Ut()));var L=Fs(v,function(H,V,Y){var re=Wn(m,function(ne){return ne(H)});return{criteria:re,index:++P,value:H}});return function(V,Y){var re=V.length;for(V.sort(Y);re--;)V[re]=V[re].value;return V}(L,function(H,V){return function(re,ne,ce){for(var me=-1,be=re.criteria,we=ne.criteria,Te=be.length,Ge=ce.length;++me<Te;){var Ie=ca(be[me],we[me]);if(Ie)return me>=Ge?Ie:Ie*(ce[me]=="desc"?-1:1)}return re.index-ne.index}(H,V,x)})}function Tl(v,m,x){for(var P=-1,L=m.length,H={};++P<L;){var V=m[P],Y=as(v,V);x(Y,V)&&Vr(H,iu(V,v),Y)}return H}function Ps(v,m,x,P){var L=P?tc:Us,H=-1,V=m.length,Y=v;for(v===m&&(m=Hi(m)),x&&(Y=Wn(v,ra(x)));++H<V;)for(var re=0,ne=m[H],ce=x?x(ne):ne;(re=L(Y,ce,re,P))>-1;)Y!==v&&Zo.call(Y,re,1),Zo.call(v,re,1);return v}function Ar(v,m){for(var x=v?m.length:0,P=x-1;x--;){var L=m[x];if(x==P||L!==H){var H=L;va(L)?Zo.call(v,L,1):Ql(v,L)}}return v}function lr(v,m){return v+Gl(Fa()*(m-v+1))}function Pc(v,m){var x="";if(!v||m<1||m>b)return x;do m%2&&(x+=v),(m=Gl(m/2))&&(v+=v);while(m);return x}function tn(v,m){return Tc(Lc(v,m,li),v+"")}function ao(v){return oi(bs(v))}function Wr(v,m){var x=bs(v);return vi(x,Sa(m,0,x.length))}function Vr(v,m,x,P){if(!sn(v))return v;for(var L=-1,H=(m=iu(m,v)).length,V=H-1,Y=v;Y!=null&&++L<H;){var re=Si(m[L]),ne=x;if(re==="__proto__"||re==="constructor"||re==="prototype")return v;if(L!=V){var ce=Y[re];(ne=P?P(ce,re,Y):r)===r&&(ne=sn(ce)?ce:va(m[L+1])?[]:{})}Fl(Y,re,ne),Y=Y[re]}return v}var xn=Ms?function(v,m){return Ms.set(v,m),v}:li,hr=Rc?function(v,m){return Rc(v,"toString",{configurable:!0,enumerable:!1,value:Cs(m),writable:!0})}:li;function Co(v){return vi(bs(v))}function So(v,m,x){var P=-1,L=v.length;m<0&&(m=-m>L?0:L+m),(x=x>L?L:x)<0&&(x+=L),L=m>x?0:x-m>>>0,m>>>=0;for(var H=ut(L);++P<L;)H[P]=v[P+m];return H}function nu(v,m){var x;return Pn(v,function(P,L,H){return!(x=m(P,L,H))}),!!x}function Ia(v,m,x){var P=0,L=v==null?P:v.length;if(typeof m=="number"&&m==m&&L<=2147483647){for(;P<L;){var H=P+L>>>1,V=v[H];V!==null&&!zo(V)&&(x?V<=m:V<m)?P=H+1:L=H}return L}return zr(v,m,li,x)}function zr(v,m,x,P){var L=0,H=v==null?0:v.length;if(H===0)return 0;for(var V=(m=x(m))!=m,Y=m===null,re=zo(m),ne=m===r;L<H;){var ce=Gl((L+H)/2),me=x(v[ce]),be=me!==r,we=me===null,Te=me==me,Ge=zo(me);if(V)var Ie=P||Te;else Ie=ne?Te&&(P||be):Y?Te&&be&&(P||!we):re?Te&&be&&!we&&(P||!Ge):!we&&!Ge&&(P?me<=m:me<m);Ie?L=ce+1:H=ce}return Tr(H,4294967294)}function so(v,m){for(var x=-1,P=v.length,L=0,H=[];++x<P;){var V=v[x],Y=m?m(V):V;if(!x||!wa(Y,re)){var re=Y;H[L++]=V===0?0:V}}return H}function pr(v){return typeof v=="number"?v:zo(v)?_:+v}function Sr(v){if(typeof v=="string")return v;if(zt(v))return Wn(v,Sr)+"";if(zo(v))return xi?xi.call(v):"";var m=v+"";return m=="0"&&1/v==-1/0?"-0":m}function Qr(v,m,x){var P=-1,L=$s,H=v.length,V=!0,Y=[],re=Y;if(x)V=!1,L=Wl;else if(H>=200){var ne=m?null:Ba(v);if(ne)return de(ne);V=!1,L=ji,re=new sa}else re=m?[]:Y;e:for(;++P<H;){var ce=v[P],me=m?m(ce):ce;if(ce=x||ce!==0?ce:0,V&&me==me){for(var be=re.length;be--;)if(re[be]===me)continue e;m&&re.push(me),Y.push(ce)}else L(re,me,x)||(re!==Y&&re.push(me),Y.push(ce))}return Y}function Ql(v,m){return(v=Zn(v,m=iu(m,v)))==null||delete v[Si(ya(m))]}function Zi(v,m,x,P){return Vr(v,m,x(as(v,m)),P)}function gl(v,m,x,P){for(var L=v.length,H=P?L:-1;(P?H--:++H<L)&&m(v[H],H,v););return x?So(v,P?0:H,P?H+1:L):So(v,P?H+1:0,P?L:H)}function jc(v,m){var x=v;return x instanceof _n&&(x=x.value()),Bc(m,function(P,L){return L.func.apply(L.thisArg,bi([P],L.args))},x)}function Mu(v,m,x){var P=v.length;if(P<2)return P?Qr(v[0]):[];for(var L=-1,H=ut(P);++L<P;)for(var V=v[L],Y=-1;++Y<P;)Y!=L&&(H[L]=pc(H[L]||V,v[Y],m,x));return Qr(Kt(H,1),m,x)}function ru(v,m,x){for(var P=-1,L=v.length,H=m.length,V={};++P<L;){var Y=P<H?m[P]:r;x(V,v[P],Y)}return V}function qs(v){return tr(v)?v:[]}function Ts(v){return typeof v=="function"?v:li}function iu(v,m){return zt(v)?v:Fu(v,m)?[v]:Ka(zn(v))}var or=tn;function Kn(v,m,x){var P=v.length;return x=x===r?P:x,!m&&x>=P?v:So(v,m,x)}var Oa=Ch||function(v){return Ei.clearTimeout(v)};function la(v,m){if(m)return v.slice();var x=v.length,P=gu?gu(x):new v.constructor(x);return v.copy(P),P}function Va(v){var m=new v.constructor(v.byteLength);return new aa(m).set(new aa(v)),m}function ml(v,m){var x=m?Va(v.buffer):v.buffer;return new v.constructor(x,v.byteOffset,v.length)}function ca(v,m){if(v!==m){var x=v!==r,P=v===null,L=v==v,H=zo(v),V=m!==r,Y=m===null,re=m==m,ne=zo(m);if(!Y&&!ne&&!H&&v>m||H&&V&&re&&!Y&&!ne||P&&V&&re||!x&&re||!L)return 1;if(!P&&!H&&!ne&&v<m||ne&&x&&L&&!P&&!H||Y&&x&&L||!V&&L||!re)return-1}return 0}function uo(v,m,x,P){for(var L=-1,H=v.length,V=x.length,Y=-1,re=m.length,ne=Ai(H-V,0),ce=ut(re+ne),me=!P;++Y<re;)ce[Y]=m[Y];for(;++L<V;)(me||L<H)&&(ce[x[L]]=v[L]);for(;ne--;)ce[Y++]=v[L++];return ce}function Vo(v,m,x,P){for(var L=-1,H=v.length,V=-1,Y=x.length,re=-1,ne=m.length,ce=Ai(H-Y,0),me=ut(ce+ne),be=!P;++L<ce;)me[L]=v[L];for(var we=L;++re<ne;)me[we+re]=m[re];for(;++V<Y;)(be||L<H)&&(me[we+x[V]]=v[L++]);return me}function Hi(v,m){var x=-1,P=v.length;for(m||(m=ut(P));++x<P;)m[x]=v[x];return m}function eo(v,m,x,P){var L=!x;x||(x={});for(var H=-1,V=m.length;++H<V;){var Y=m[H],re=P?P(x[Y],v[Y],Y,x,v):r;re===r&&(re=v[Y]),L?fo(x,Y,re):Fl(x,Y,re)}return x}function Fo(v,m){return function(x,P){var L=zt(x)?nn:ua,H=m?m():{};return L(x,v,Ut(P,2),H)}}function $i(v){return tn(function(m,x){var P=-1,L=x.length,H=L>1?x[L-1]:r,V=L>2?x[2]:r;for(H=v.length>3&&typeof H=="function"?(L--,H):r,V&&qr(x[0],x[1],V)&&(H=L<3?r:H,L=1),m=jn(m);++P<L;){var Y=x[P];Y&&v(m,Y,P,H)}return m})}function to(v,m){return function(x,P){if(x==null)return x;if(!Wt(x))return v(x,P);for(var L=x.length,H=m?L:-1,V=jn(x);(m?H--:++H<L)&&P(V[H],H,V)!==!1;);return x}}function ho(v){return function(m,x,P){for(var L=-1,H=jn(m),V=P(m),Y=V.length;Y--;){var re=V[v?Y:++L];if(x(H[re],re,H)===!1)break}return m}}function Na(v){return function(m){var x=Qo(m=zn(m))?ct(m):r,P=x?x[0]:m.charAt(0),L=x?Kn(x,1).join(""):m.slice(1);return P[v]()+L}}function vu(v){return function(m){return Bc(Hc(_u(m).replace(No,"")),v,"")}}function qa(v){return function(){var m=arguments;switch(m.length){case 0:return new v;case 1:return new v(m[0]);case 2:return new v(m[0],m[1]);case 3:return new v(m[0],m[1],m[2]);case 4:return new v(m[0],m[1],m[2],m[3]);case 5:return new v(m[0],m[1],m[2],m[3],m[4]);case 6:return new v(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new v(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var x=ln(v.prototype),P=v.apply(x,m);return sn(P)?P:x}}function Is(v){return function(m,x,P){var L=jn(m);if(!Wt(m)){var H=Ut(x,3);m=On(m),x=function(Y){return H(L[Y],Y,L)}}var V=v(m,x,P);return V>-1?L[H?m[V]:V]:r}}function ma(v){return Zr(function(m){var x=m.length,P=x,L=bn.prototype.thru;for(v&&m.reverse();P--;){var H=m[P];if(typeof H!="function")throw new oa(i);if(L&&!V&&Hu(H)=="wrapper")var V=new bn([],!0)}for(P=V?P:x;++P<x;){var Y=Hu(H=m[P]),re=Y=="wrapper"?Lt(H):r;V=re&&Ti(re[0])&&re[1]==424&&!re[4].length&&re[9]==1?V[Hu(re[0])].apply(V,re[3]):H.length==1&&Ti(H)?V[Y]():V.thru(H)}return function(){var ne=arguments,ce=ne[0];if(V&&ne.length==1&&zt(ce))return V.plant(ce).value();for(var me=0,be=x?m[me].apply(this,ne):ce;++me<x;)be=m[me].call(this,be);return be}})}function gc(v,m,x,P,L,H,V,Y,re,ne){var ce=m&f,me=1&m,be=2&m,we=24&m,Te=512&m,Ge=be?r:qa(v);return function Ie(){for(var Xe=arguments.length,Ye=ut(Xe),rt=Xe;rt--;)Ye[rt]=arguments[rt];if(we)var St=Ks(Ie),Mt=function(yr,cr){for(var fi=yr.length,Gn=0;fi--;)yr[fi]===cr&&++Gn;return Gn}(Ye,St);if(P&&(Ye=uo(Ye,P,L,we)),H&&(Ye=Vo(Ye,H,V,we)),Xe-=Mt,we&&Xe<ne){var en=ie(Ye,St);return lo(v,m,gc,Ie.placeholder,x,Ye,en,Y,re,ne-Xe)}var qt=me?x:this,It=be?qt[v]:v;return Xe=Ye.length,Y?Ye=function(yr,cr){for(var fi=yr.length,Gn=Tr(cr.length,fi),Uo=Hi(yr);Gn--;){var fr=cr[Gn];yr[Gn]=va(fr,fi)?Uo[fr]:r}return yr}(Ye,Y):Te&&Xe>1&&Ye.reverse(),ce&&re<Xe&&(Ye.length=re),this&&this!==Ei&&this instanceof Ie&&(It=Ge||qa(It)),It.apply(qt,Ye)}}function Il(v,m){return function(x,P){return function(H,V,Y,re){return _a(H,function(ne,ce,me){V(re,Y(ne),ce,me)}),re}(x,v,m(P),{})}}function wr(v,m){return function(x,P){var L;if(x===r&&P===r)return m;if(x!==r&&(L=x),P!==r){if(L===r)return P;typeof x=="string"||typeof P=="string"?(x=Sr(x),P=Sr(P)):(x=pr(x),P=pr(P)),L=v(x,P)}return L}}function ys(v){return Zr(function(m){return m=Wn(m,ra(Ut())),tn(function(x){var P=this;return v(m,function(L){return ri(L,P,x)})})})}function yu(v,m){var x=(m=m===r?" ":Sr(m)).length;if(x<2)return x?Pc(m,v):m;var P=Pc(m,wn(v/ze(m)));return Qo(m)?Kn(ct(P),0,v).join(""):P.slice(0,v)}function lf(v){return function(m,x,P){return P&&typeof P!="number"&&qr(m,x,P)&&(x=P=r),m=ea(m),x===r?(x=m,m=0):x=ea(x),function(H,V,Y,re){for(var ne=-1,ce=Ai(wn((V-H)/(Y||1)),0),me=ut(ce);ce--;)me[re?ce:++ne]=H,H+=Y;return me}(m,x,P=P===r?m<x?1:-1:ea(P),v)}}function dl(v){return function(m,x){return typeof m=="string"&&typeof x=="string"||(m=ko(m),x=ko(x)),v(m,x)}}function lo(v,m,x,P,L,H,V,Y,re,ne){var ce=8&m;m|=ce?c:p,4&(m&=~(ce?p:c))||(m&=-4);var me=[v,m,L,ce?H:r,ce?V:r,ce?r:H,ce?r:V,Y,re,ne],be=x.apply(r,me);return Ti(v)&&$c(be,me),be.placeholder=P,jf(be,v,m)}function qo(v){var m=Do[v];return function(x,P){if(x=ko(x),(P=P==null?0:Tr(Ht(P),292))&&Ws(x)){var L=(zn(x)+"e").split("e");return+((L=(zn(m(L[0]+"e"+(+L[1]+P)))+"e").split("e"))[0]+"e"+(+L[1]-P))}return m(x)}}var Ba=hl&&1/de(new hl([,-0]))[1]==y?function(v){return new hl(v)}:fs;function ou(v){return function(m){var x=br(m);return x==te?vf(m):x==Pe?ye(m):function(L,H){return Wn(H,function(V){return[V,L[V]]})}(m,v(m))}}function no(v,m,x,P,L,H,V,Y){var re=2&m;if(!re&&typeof v!="function")throw new oa(i);var ne=P?P.length:0;if(ne||(m&=-97,P=L=r),V=V===r?V:Ai(Ht(V),0),Y=Y===r?Y:Ht(Y),ne-=L?L.length:0,m&p){var ce=P,me=L;P=L=r}var be=re?r:Lt(v),we=[v,m,x,P,L,ce,me,H,V,Y];if(be&&function(Ie,Xe){var Ye=Ie[1],rt=Xe[1],St=Ye|rt,Mt=St<131,en=rt==f&&Ye==8||rt==f&&Ye==g&&Ie[7].length<=Xe[8]||rt==384&&Xe[7].length<=Xe[8]&&Ye==8;if(!Mt&&!en)return Ie;1&rt&&(Ie[2]=Xe[2],St|=1&Ye?0:4);var qt=Xe[3];if(qt){var It=Ie[3];Ie[3]=It?uo(It,qt,Xe[4]):qt,Ie[4]=It?ie(Ie[3],s):Xe[4]}return(qt=Xe[5])&&(It=Ie[5],Ie[5]=It?Vo(It,qt,Xe[6]):qt,Ie[6]=It?ie(Ie[5],s):Xe[6]),(qt=Xe[7])&&(Ie[7]=qt),rt&f&&(Ie[8]=Ie[8]==null?Xe[8]:Tr(Ie[8],Xe[8])),Ie[9]==null&&(Ie[9]=Xe[9]),Ie[0]=Xe[0],Ie[1]=St,Ie}(we,be),v=we[0],m=we[1],x=we[2],P=we[3],L=we[4],!(Y=we[9]=we[9]===r?re?0:v.length:Ai(we[9]-ne,0))&&24&m&&(m&=-25),m&&m!=1)Te=m==8||m==u?function(Ie,Xe,Ye){var rt=qa(Ie);return function St(){for(var Mt=arguments.length,en=ut(Mt),qt=Mt,It=Ks(St);qt--;)en[qt]=arguments[qt];var Zt=Mt<3&&en[0]!==It&&en[Mt-1]!==It?[]:ie(en,It);return(Mt-=Zt.length)<Ye?lo(Ie,Xe,gc,St.placeholder,r,en,Zt,r,r,Ye-Mt):ri(this&&this!==Ei&&this instanceof St?rt:Ie,this,en)}}(v,m,Y):m!=c&&m!=33||L.length?gc.apply(r,we):function(Ie,Xe,Ye,rt){var St=1&Xe,Mt=qa(Ie);return function en(){for(var qt=-1,It=arguments.length,Zt=-1,yr=rt.length,cr=ut(yr+It),fi=this&&this!==Ei&&this instanceof en?Mt:Ie;++Zt<yr;)cr[Zt]=rt[Zt];for(;It--;)cr[Zt++]=arguments[++qt];return ri(fi,St?Ye:this,cr)}}(v,m,x,P);else var Te=function(Ie,Xe,Ye){var rt=1&Xe,St=qa(Ie);return function Mt(){return(this&&this!==Ei&&this instanceof Mt?St:Ie).apply(rt?Ye:this,arguments)}}(v,m,x);return jf((be?xn:$c)(Te,we),v,m)}function Xi(v,m,x,P){return v===r||wa(v,oo[x])&&!pn.call(P,x)?m:v}function st(v,m,x,P,L,H){return sn(v)&&sn(m)&&(H.set(m,v),vs(v,m,r,st,H),H.delete(m)),v}function ss(v){return yi(v)?r:v}function Ol(v,m,x,P,L,H){var V=1&x,Y=v.length,re=m.length;if(Y!=re&&!(V&&re>Y))return!1;var ne=H.get(v),ce=H.get(m);if(ne&&ce)return ne==m&&ce==v;var me=-1,be=!0,we=2&x?new sa:r;for(H.set(v,m),H.set(m,v);++me<Y;){var Te=v[me],Ge=m[me];if(P)var Ie=V?P(Ge,Te,me,m,v,H):P(Te,Ge,me,v,m,H);if(Ie!==r){if(Ie)continue;be=!1;break}if(we){if(!zs(m,function(Xe,Ye){if(!ji(we,Ye)&&(Te===Xe||L(Te,Xe,x,P,H)))return we.push(Ye)})){be=!1;break}}else if(Te!==Ge&&!L(Te,Ge,x,P,H)){be=!1;break}}return H.delete(v),H.delete(m),be}function Zr(v){return Tc(Lc(v,r,Rl),v+"")}function ar(v){return Ea(v,On,kr)}function da(v){return Ea(v,Sn,Nl)}var Lt=Ms?function(v){return Ms.get(v)}:fs;function Hu(v){for(var m=v.name+"",x=Ml[m],P=pn.call(Ml,m)?x.length:0;P--;){var L=x[P],H=L.func;if(H==null||H==v)return L.name}return m}function Ks(v){return(pn.call(Z,"placeholder")?Z:v).placeholder}function Ut(){var v=Z.iteratee||er;return v=v===er?ku:v,arguments.length?v(arguments[0],arguments[1]):v}function gr(v,m){var x=v.__data__;return function(L){var H=typeof L;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?L!=="__proto__":L===null}(m)?x[typeof m=="string"?"string":"hash"]:x.map}function Gt(v){for(var m=On(v),x=m.length;x--;){var P=m[x],L=v[P];m[x]=[P,L,Bl(L)]}return m}function Vn(v,m){var x=function(L,H){return L==null?r:L[H]}(v,m);return Ju(x)?x:r}var kr=Zf?function(v){return v==null?[]:(v=jn(v),Jr(Zf(v),function(m){return Ac.call(v,m)}))}:Oc,Nl=Zf?function(v){for(var m=[];v;)bi(m,kr(v)),v=sf(v);return m}:Oc,br=Ci;function Gs(v,m,x){for(var P=-1,L=(m=iu(m,v)).length,H=!1;++P<L;){var V=Si(m[P]);if(!(H=v!=null&&x(v,V)))break;v=v[V]}return H||++P!=L?H:!!(L=v==null?0:v.length)&&sr(L)&&va(V,L)&&(zt(v)||Eo(v))}function Ys(v){return typeof v.constructor!="function"||Js(v)?{}:ln(sf(v))}function po(v){return zt(v)||Eo(v)||!!($u&&v&&v[$u])}function va(v,m){var x=typeof v;return!!(m=m??b)&&(x=="number"||x!="symbol"&&eu.test(v))&&v>-1&&v%1==0&&v<m}function qr(v,m,x){if(!sn(x))return!1;var P=typeof m;return!!(P=="number"?Wt(x)&&va(m,x.length):P=="string"&&m in x)&&wa(x[m],v)}function Fu(v,m){if(zt(v))return!1;var x=typeof v;return!(x!="number"&&x!="symbol"&&x!="boolean"&&v!=null&&!zo(v))||Be.test(v)||!Re.test(v)||m!=null&&v in jn(m)}function Ti(v){var m=Hu(v),x=Z[m];if(typeof x!="function"||!(m in _n.prototype))return!1;if(v===x)return!0;var P=Lt(x);return!!P&&v===P[0]}(kc&&br(new kc(new ArrayBuffer(1)))!=$e||Uu&&br(new Uu)!=te||Wu&&br(Wu.resolve())!=ge||hl&&br(new hl)!=Pe||Yl&&br(new Yl)!=Oe)&&(br=function(v){var m=Ci(v),x=m==se?v.constructor:r,P=x?bu(x):"";if(P)switch(P){case R:return $e;case is:return te;case Yu:return ge;case Lr:return Pe;case _t:return Oe}return m});var go=yf?Ii:a;function Js(v){var m=v&&v.constructor;return v===(typeof m=="function"&&m.prototype||oo)}function Bl(v){return v==v&&!sn(v)}function wu(v,m){return function(x){return x!=null&&x[v]===m&&(m!==r||v in jn(x))}}function Lc(v,m,x){return m=Ai(m===r?v.length-1:m,0),function(){for(var P=arguments,L=-1,H=Ai(P.length-m,0),V=ut(H);++L<H;)V[L]=P[m+L];L=-1;for(var Y=ut(m+1);++L<m;)Y[L]=P[L];return Y[m]=x(V),ri(v,this,Y)}}function Zn(v,m){return m.length<2?v:as(v,So(m,0,-1))}function Po(v,m){if((m!=="constructor"||typeof v[m]!="function")&&m!="__proto__")return v[m]}var $c=Xs(xn),mc=Tn||function(v,m){return Ei.setTimeout(v,m)},Tc=Xs(hr);function jf(v,m,x){var P=m+"";return Tc(v,function(H,V){var Y=V.length;if(!Y)return H;var re=Y-1;return V[re]=(Y>1?"& ":"")+V[re],V=V.join(Y>2?", ":" "),H.replace(fn,`{
/* [wrapped with `+V+`] */
`)}(P,function(H,V){return Xn(F,function(Y){var re="_."+Y[0];V&Y[1]&&!$s(H,re)&&H.push(re)}),H.sort()}(function(H){var V=H.match(kn);return V?V[1].split(yn):[]}(P),x)))}function Xs(v){var m=0,x=0;return function(){var P=ns(),L=16-(P-x);if(x=P,L>0){if(++m>=800)return arguments[0]}else m=0;return v.apply(r,arguments)}}function vi(v,m){var x=-1,P=v.length,L=P-1;for(m=m===r?P:m;++x<m;){var H=lr(x,L),V=v[H];v[H]=v[x],v[x]=V}return v.length=m,v}var Ka=function(m){var x=To(m,function(L){return P.size===500&&P.clear(),L}),P=x.cache;return x}(function(v){var m=[];return v.charCodeAt(0)===46&&m.push(""),v.replace(He,function(x,P,L,H){m.push(L?H.replace(io,"$1"):P||x)}),m});function Si(v){if(typeof v=="string"||zo(v))return v;var m=v+"";return m=="0"&&1/v==-1/0?"-0":m}function bu(v){if(v!=null){try{return pu.call(v)}catch{}try{return v+""}catch{}}return""}function bf(v){if(v instanceof _n)return v.clone();var m=new bn(v.__wrapped__,v.__chain__);return m.__actions__=Hi(v.__actions__),m.__index__=v.__index__,m.__values__=v.__values__,m}var cf=tn(function(v,m){return tr(v)?pc(v,Kt(m,1,tr,!0)):[]}),ai=tn(function(v,m){var x=ya(m);return tr(x)&&(x=r),tr(v)?pc(v,Kt(m,1,tr,!0),Ut(x,2)):[]}),Xu=tn(function(v,m){var x=ya(m);return tr(x)&&(x=r),tr(v)?pc(v,Kt(m,1,tr,!0),r,x):[]});function zc(v,m,x){var P=v==null?0:v.length;if(!P)return-1;var L=x==null?0:Ht(x);return L<0&&(L=Ai(P+L,0)),_c(v,Ut(m,3),L)}function eh(v,m,x){var P=v==null?0:v.length;if(!P)return-1;var L=P-1;return x!==r&&(L=Ht(x),L=x<0?Ai(P+L,0):Tr(L,P-1)),_c(v,Ut(m,3),L,!0)}function Rl(v){return v!=null&&v.length?Kt(v,1):[]}function dc(v){return v&&v.length?v[0]:r}var Os=tn(function(v){var m=Wn(v,qs);return m.length&&m[0]===v[0]?ir(m):[]}),th=tn(function(v){var m=ya(v),x=Wn(v,qs);return m===ya(x)?m=r:x.pop(),x.length&&x[0]===v[0]?ir(x,Ut(m,2)):[]}),Uc=tn(function(v){var m=ya(v),x=Wn(v,qs);return(m=typeof m=="function"?m:r)&&x.pop(),x.length&&x[0]===v[0]?ir(x,r,m):[]});function ya(v){var m=v==null?0:v.length;return m?v[m-1]:r}var Th=tn(Ih);function Ih(v,m){return v&&v.length&&m&&m.length?Ps(v,m):v}var Oh=Zr(function(v,m){var x=v==null?0:v.length,P=uf(v,m);return Ar(v,Wn(m,function(L){return va(L,x)?+L:L}).sort(ca)),P});function Lf(v){return v==null?v:Pa.call(v)}var hh=tn(function(v){return Qr(Kt(v,1,tr,!0))}),xf=tn(function(v){var m=ya(v);return tr(m)&&(m=r),Qr(Kt(v,1,tr,!0),Ut(m,2))}),ph=tn(function(v){var m=ya(v);return m=typeof m=="function"?m:r,Qr(Kt(v,1,tr,!0),r,m)});function vl(v){if(!v||!v.length)return[];var m=0;return v=Jr(v,function(x){if(tr(x))return m=Ai(x.length,m),!0}),fc(m,function(x){return Wn(v,ll(x))})}function nh(v,m){if(!v||!v.length)return[];var x=vl(v);return m==null?x:Wn(x,function(P){return ri(m,r,P)})}var xu=tn(function(v,m){return tr(v)?pc(v,m):[]}),$f=tn(function(v){return Mu(Jr(v,tr))}),ff=tn(function(v){var m=ya(v);return tr(m)&&(m=r),Mu(Jr(v,tr),Ut(m,2))}),Df=tn(function(v){var m=ya(v);return m=typeof m=="function"?m:r,Mu(Jr(v,tr),r,m)}),Wc=tn(vl),Nh=tn(function(v){var m=v.length,x=m>1?v[m-1]:r;return x=typeof x=="function"?(v.pop(),x):r,nh(v,x)});function zf(v){var m=Z(v);return m.__chain__=!0,m}function yl(v,m){return m(v)}var wl=Zr(function(v){var m=v.length,x=m?v[0]:0,P=this.__wrapped__,L=function(H){return uf(H,v)};return!(m>1||this.__actions__.length)&&P instanceof _n&&va(x)?((P=P.slice(x,+x+(m?1:0))).__actions__.push({func:yl,args:[L],thisArg:r}),new bn(P,this.__chain__).thru(function(H){return m&&!H.length&&H.push(r),H})):this.thru(L)}),Uf=Fo(function(v,m,x){pn.call(v,x)?++v[x]:fo(v,x,1)}),zh=Is(zc),Zl=Is(eh);function hf(v,m){return(zt(v)?Xn:Pn)(v,Ut(m,3))}function Cf(v,m){return(zt(v)?es:Ha)(v,Ut(m,3))}var oc=Fo(function(v,m,x){pn.call(v,x)?v[x].push(m):fo(v,x,[m])}),rh=tn(function(v,m,x){var P=-1,L=typeof m=="function",H=Wt(v)?ut(v.length):[];return Pn(v,function(V){H[++P]=L?ri(m,V,x):Qn(V,m,x)}),H}),_h=Fo(function(v,m,x){fo(v,x,m)});function _o(v,m){return(zt(v)?Wn:Fs)(v,Ut(m,3))}var Ra=Fo(function(v,m,x){v[x?0:1].push(m)},function(){return[[],[]]}),jl=tn(function(v,m){if(v==null)return[];var x=m.length;return x>1&&qr(v,m[0],m[1])?m=[]:x>2&&qr(m[0],m[1],m[2])&&(m=[m[0]]),Vs(v,Kt(m,1),[])}),ws=Sh||function(){return Ei.Date.now()};function gh(v,m,x){return m=x?r:m,m=v&&m==null?v.length:m,no(v,f,r,r,r,r,m)}function vc(v,m){var x;if(typeof m!="function")throw new oa(i);return v=Ht(v),function(){return--v>0&&(x=m.apply(this,arguments)),v<=1&&(m=r),x}}var ef=tn(function(v,m,x){var P=1;if(x.length){var L=ie(x,Ks(ef));P|=c}return no(v,P,m,x,L)}),Ll=tn(function(v,m,x){var P=3;if(x.length){var L=ie(x,Ks(Ll));P|=c}return no(m,P,v,x,L)});function Kr(v,m,x){var P,L,H,V,Y,re,ne=0,ce=!1,me=!1,be=!0;if(typeof v!="function")throw new oa(i);function we(Ye){var rt=P,St=L;return P=L=r,ne=Ye,V=v.apply(St,rt)}function Te(Ye){var rt=Ye-re;return re===r||rt>=m||rt<0||me&&Ye-ne>=H}function Ge(){var Ye=ws();if(Te(Ye))return Ie(Ye);Y=mc(Ge,function(St){var Mt=m-(St-re);return me?Tr(Mt,H-(St-ne)):Mt}(Ye))}function Ie(Ye){return Y=r,be&&P?we(Ye):(P=L=r,V)}function Xe(){var Ye=ws(),rt=Te(Ye);if(P=arguments,L=this,re=Ye,rt){if(Y===r)return function(Mt){return ne=Mt,Y=mc(Ge,m),ce?we(Mt):V}(re);if(me)return Oa(Y),Y=mc(Ge,m),we(re)}return Y===r&&(Y=mc(Ge,m)),V}return m=ko(m)||0,sn(x)&&(ce=!!x.leading,H=(me="maxWait"in x)?Ai(ko(x.maxWait)||0,m):H,be="trailing"in x?!!x.trailing:be),Xe.cancel=function(){Y!==r&&Oa(Y),ne=0,P=re=L=Y=r},Xe.flush=function(){return Y===r?V:Ie(ws())},Xe}var tf=tn(function(v,m){return Mc(v,1,m)}),Bh=tn(function(v,m,x){return Mc(v,ko(m)||0,x)});function To(v,m){if(typeof v!="function"||m!=null&&typeof m!="function")throw new oa(i);var x=function(){var P=arguments,L=m?m.apply(this,P):P[0],H=x.cache;if(H.has(L))return H.get(L);var V=v.apply(this,P);return x.cache=H.set(L,V)||H,V};return x.cache=new(To.Cache||Yi),x}function dt(v){if(typeof v!="function")throw new oa(i);return function(){var m=arguments;switch(m.length){case 0:return!v.call(this);case 1:return!v.call(this,m[0]);case 2:return!v.call(this,m[0],m[1]);case 3:return!v.call(this,m[0],m[1],m[2])}return!v.apply(this,m)}}To.Cache=Yi;var ih=or(function(v,m){var x=(m=m.length==1&&zt(m[0])?Wn(m[0],ra(Ut())):Wn(Kt(m,1),ra(Ut()))).length;return tn(function(P){for(var L=-1,H=Tr(P.length,x);++L<H;)P[L]=m[L].call(this,P[L]);return ri(v,this,P)})}),$n=tn(function(v,m){var x=ie(m,Ks($n));return no(v,c,r,m,x)}),Dn=tn(function(v,m){var x=ie(m,Ks(Dn));return no(v,p,r,m,x)}),$o=Zr(function(v,m){return no(v,g,r,r,r,m)});function wa(v,m){return v===m||v!=v&&m!=m}var Nr=dl(pl),mo=dl(function(v,m){return v>=m}),Eo=mu(function(){return arguments}())?mu:function(v){return si(v)&&pn.call(v,"callee")&&!Ac.call(v,"callee")},zt=ut.isArray,on=Qf?ra(Qf):function(m){return si(m)&&Ci(m)==et};function Wt(v){return v!=null&&sr(v.length)&&!Ii(v)}function tr(v){return si(v)&&Wt(v)}var _r=Rf||a,us=jr?ra(jr):function(m){return si(m)&&Ci(m)==W};function Fi(v){if(!si(v))return!1;var m=Ci(v);return m==J||m=="[object DOMException]"||typeof v.message=="string"&&typeof v.name=="string"&&!yi(v)}function Ii(v){if(!sn(v))return!1;var m=Ci(v);return m==G||m==Q||m=="[object AsyncFunction]"||m=="[object Proxy]"}function Ao(v){return typeof v=="number"&&v==Ht(v)}function sr(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=b}function sn(v){var m=typeof v;return v!=null&&(m=="object"||m=="function")}function si(v){return v!=null&&typeof v=="object"}var Tt=Nc?ra(Nc):function(m){return si(m)&&br(m)==te};function Qu(v){return typeof v=="number"||si(v)&&Ci(v)==ae}function yi(v){if(!si(v)||Ci(v)!=se)return!1;var m=sf(v);if(m===null)return!0;var x=pn.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&pu.call(x)==Bf}var mt=As?ra(As):function(m){return si(m)&&Ci(m)==xe},Du=mi?ra(mi):function(m){return si(m)&&br(m)==Pe};function xr(v){return typeof v=="string"||!zt(v)&&si(v)&&Ci(v)==Ce}function zo(v){return typeof v=="symbol"||si(v)&&Ci(v)==Me}var Ot=Jn?ra(Jn):function(m){return si(m)&&sr(m.length)&&!!Bt[Ci(m)]},nf=dl(Pl),ui=dl(function(v,m){return v<=m});function Cu(v){if(!v)return[];if(Wt(v))return xr(v)?ct(v):Hi(v);if(zu&&v[zu])return function(P){for(var L,H=[];!(L=P.next()).done;)H.push(L.value);return H}(v[zu]());var m=br(v);return(m==te?vf:m==Pe?de:bs)(v)}function ea(v){return v?(v=ko(v))===y||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:v===0?v:0}function Ht(v){var m=ea(v),x=m%1;return m==m?x?m-x:m:0}function Dr(v){return v?Sa(Ht(v),0,M):0}function ko(v){if(typeof v=="number")return v;if(zo(v))return _;if(sn(v)){var m=typeof v.valueOf=="function"?v.valueOf():v;v=sn(m)?m+"":m}if(typeof v!="string")return v===0?v:+v;v=ql(v);var x=Ru.test(v);return x||ju.test(v)?Za(v.slice(2),x?2:8):Oo.test(v)?_:+v}function ac(v){return eo(v,Sn(v))}function zn(v){return v==null?"":Sr(v)}var Vu=$i(function(v,m){if(Js(m)||Wt(m))eo(m,On(m),v);else for(var x in m)pn.call(m,x)&&Fl(v,x,m[x])}),mh=$i(function(v,m){eo(m,Sn(m),v)}),ls=$i(function(v,m,x,P){eo(m,Sn(m),v,P)}),An=$i(function(v,m,x,P){eo(m,On(m),v,P)}),Er=Zr(uf),Eh=tn(function(v,m){v=jn(v);var x=-1,P=m.length,L=P>2?m[2]:r;for(L&&qr(m[0],m[1],L)&&(P=1);++x<P;)for(var H=m[x],V=Sn(H),Y=-1,re=V.length;++Y<re;){var ne=V[Y],ce=v[ne];(ce===r||wa(ce,oo[ne])&&!pn.call(v,ne))&&(v[ne]=H[ne])}return v}),pf=tn(function(v){return v.push(r,st),ri(ei,r,v)});function Su(v,m,x){var P=v==null?r:as(v,m);return P===r?x:P}function oh(v,m){return v!=null&&Gs(v,m,ds)}var Cn=Il(function(v,m,x){m!=null&&typeof m.toString!="function"&&(m=Ma.call(m)),v[m]=x},Cs(li)),ja=Il(function(v,m,x){m!=null&&typeof m.toString!="function"&&(m=Ma.call(m)),pn.call(v,m)?v[m].push(x):v[m]=[x]},Ut),rf=tn(Qn);function On(v){return Wt(v)?Jl(v):Ji(v)}function Sn(v){return Wt(v)?Jl(v,!0):ic(v)}var zi=$i(function(v,m,x){vs(v,m,x)}),ei=$i(function(v,m,x,P){vs(v,m,x,P)}),Io=Zr(function(v,m){var x={};if(v==null)return x;var P=!1;m=Wn(m,function(H){return H=iu(H,v),P||(P=H.length>1),H}),eo(v,da(v),x),P&&(x=jo(x,7,ss));for(var L=m.length;L--;)Ql(x,m[L]);return x}),cs=Zr(function(v,m){return v==null?{}:function(P,L){return Tl(P,L,function(H,V){return oh(P,V)})}(v,m)});function Zu(v,m){if(v==null)return{};var x=Wn(da(v),function(P){return[P]});return m=Ut(m),Tl(v,x,function(P,L){return m(P,L[0])})}var ro=ou(On),yc=ou(Sn);function bs(v){return v==null?[]:Wa(v,On(v))}var ba=vu(function(v,m,x){return m=m.toLowerCase(),v+(x?Pu(m):m)});function Pu(v){return qu(zn(v).toLowerCase())}function _u(v){return(v=zn(v))&&v.replace(hs,ts).replace(Qt,"")}var xs=vu(function(v,m,x){return v+(x?"-":"")+m.toLowerCase()}),wc=vu(function(v,m,x){return v+(x?" ":"")+m.toLowerCase()}),Tu=Na("toLowerCase"),bl=vu(function(v,m,x){return v+(x?"_":"")+m.toLowerCase()}),Yn=vu(function(v,m,x){return v+(x?" ":"")+qu(m)}),bc=vu(function(v,m,x){return v+(x?" ":"")+m.toUpperCase()}),qu=Na("toUpperCase");function Hc(v,m,x){return v=zn(v),(m=x?r:m)===r?function(L){return Es.test(L)}(v)?function(L){return L.match(fu)||[]}(v):function(L){return L.match(At)||[]}(v):v.match(m)||[]}var Ds=tn(function(v,m){try{return ri(v,r,m)}catch(x){return Fi(x)?x:new hn(x)}}),ec=Zr(function(v,m){return Xn(m,function(x){x=Si(x),fo(v,x,ef(v[x],v))}),v});function Cs(v){return function(){return v}}var gf=ma(),Sf=ma(!0);function li(v){return v}function er(v){return ku(typeof v=="function"?v:jo(v,1))}var Ko=tn(function(v,m){return function(x){return Qn(x,v,m)}}),ci=tn(function(v,m){return function(x){return Qn(v,x,m)}});function Ir(v,m,x){var P=On(m),L=Xr(m,P);x!=null||sn(m)&&(L.length||!P.length)||(x=m,m=v,v=this,L=Xr(m,On(m)));var H=!(sn(x)&&"chain"in x&&!x.chain),V=Ii(v);return Xn(L,function(Y){var re=m[Y];v[Y]=re,V&&(v.prototype[Y]=function(){var ne=this.__chain__;if(H||ne){var ce=v(this.__wrapped__);return(ce.__actions__=Hi(this.__actions__)).push({func:re,args:arguments,thisArg:v}),ce.__chain__=ne,ce}return re.apply(v,bi([this.value()],arguments))})}),v}function fs(){}var of=ys(Wn),au=ys(ch),el=ys(zs);function Ic(v){return Fu(v)?ll(Si(v)):function(x){return function(P){return as(P,x)}}(v)}var mf=lf(),$l=lf(!0);function Oc(){return[]}function a(){return!1}var l,w=wr(function(v,m){return v+m},0),A=qo("ceil"),I=wr(function(v,m){return v/m},1),U=qo("floor"),D=wr(function(v,m){return v*m},1),E=qo("round"),N=wr(function(v,m){return v-m},0);return Z.after=function(m,x){if(typeof x!="function")throw new oa(i);return m=Ht(m),function(){if(--m<1)return x.apply(this,arguments)}},Z.ary=gh,Z.assign=Vu,Z.assignIn=mh,Z.assignInWith=ls,Z.assignWith=An,Z.at=Er,Z.before=vc,Z.bind=ef,Z.bindAll=ec,Z.bindKey=Ll,Z.castArray=function(){if(!arguments.length)return[];var m=arguments[0];return zt(m)?m:[m]},Z.chain=zf,Z.chunk=function(m,x,P){x=(P?qr(m,x,P):x===r)?1:Ai(Ht(x),0);var L=m==null?0:m.length;if(!L||x<1)return[];for(var H=0,V=0,Y=ut(wn(L/x));H<L;)Y[V++]=So(m,H,H+=x);return Y},Z.compact=function(m){for(var x=-1,P=m==null?0:m.length,L=0,H=[];++x<P;){var V=m[x];V&&(H[L++]=V)}return H},Z.concat=function(){var m=arguments.length;if(!m)return[];for(var x=ut(m-1),P=arguments[0],L=m;L--;)x[L-1]=arguments[L];return bi(zt(P)?Hi(P):[P],Kt(x,1))},Z.cond=function(m){var x=m==null?0:m.length,P=Ut();return m=x?Wn(m,function(L){if(typeof L[1]!="function")throw new oa(i);return[P(L[0]),L[1]]}):[],tn(function(L){for(var H=-1;++H<x;){var V=m[H];if(ri(V[0],this,L))return ri(V[1],this,L)}})},Z.conforms=function(m){return function(P){var L=On(P);return function(H){return Ln(H,P,L)}}(jo(m,1))},Z.constant=Cs,Z.countBy=Uf,Z.create=function(m,x){var P=ln(m);return x==null?P:Li(P,x)},Z.curry=function v(m,x,P){var L=no(m,8,r,r,r,r,r,x=P?r:x);return L.placeholder=v.placeholder,L},Z.curryRight=function v(m,x,P){var L=no(m,u,r,r,r,r,r,x=P?r:x);return L.placeholder=v.placeholder,L},Z.debounce=Kr,Z.defaults=Eh,Z.defaultsDeep=pf,Z.defer=tf,Z.delay=Bh,Z.difference=cf,Z.differenceBy=ai,Z.differenceWith=Xu,Z.drop=function(m,x,P){var L=m==null?0:m.length;return L?So(m,(x=P||x===r?1:Ht(x))<0?0:x,L):[]},Z.dropRight=function(m,x,P){var L=m==null?0:m.length;return L?So(m,0,(x=L-(x=P||x===r?1:Ht(x)))<0?0:x):[]},Z.dropRightWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3),!0,!0):[]},Z.dropWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3),!0):[]},Z.fill=function(m,x,P,L){var H=m==null?0:m.length;return H?(P&&typeof P!="number"&&qr(m,x,P)&&(P=0,L=H),function(Y,re,ne,ce){var me=Y.length;for((ne=Ht(ne))<0&&(ne=-ne>me?0:me+ne),(ce=ce===r||ce>me?me:Ht(ce))<0&&(ce+=me),ce=ne>ce?0:Dr(ce);ne<ce;)Y[ne++]=re;return Y}(m,x,P,L)):[]},Z.filter=function(m,x){return(zt(m)?Jr:os)(m,Ut(x,3))},Z.flatMap=function(m,x){return Kt(_o(m,x),1)},Z.flatMapDeep=function(m,x){return Kt(_o(m,x),y)},Z.flatMapDepth=function(m,x,P){return P=P===r?1:Ht(P),Kt(_o(m,x),P)},Z.flatten=Rl,Z.flattenDeep=function(m){return m!=null&&m.length?Kt(m,y):[]},Z.flattenDepth=function(m,x){return m!=null&&m.length?Kt(m,x=x===r?1:Ht(x)):[]},Z.flip=function(m){return no(m,512)},Z.flow=gf,Z.flowRight=Sf,Z.fromPairs=function(m){for(var x=-1,P=m==null?0:m.length,L={};++x<P;){var H=m[x];L[H[0]]=H[1]}return L},Z.functions=function(m){return m==null?[]:Xr(m,On(m))},Z.functionsIn=function(m){return m==null?[]:Xr(m,Sn(m))},Z.groupBy=oc,Z.initial=function(m){return m!=null&&m.length?So(m,0,-1):[]},Z.intersection=Os,Z.intersectionBy=th,Z.intersectionWith=Uc,Z.invert=Cn,Z.invertBy=ja,Z.invokeMap=rh,Z.iteratee=er,Z.keyBy=_h,Z.keys=On,Z.keysIn=Sn,Z.map=_o,Z.mapKeys=function(m,x){var P={};return x=Ut(x,3),_a(m,function(L,H,V){fo(P,x(L,H,V),L)}),P},Z.mapValues=function(m,x){var P={};return x=Ut(x,3),_a(m,function(L,H,V){fo(P,H,x(L,H,V))}),P},Z.matches=function(m){return du(jo(m,1))},Z.matchesProperty=function(m,x){return Ct(m,jo(x,1))},Z.memoize=To,Z.merge=zi,Z.mergeWith=ei,Z.method=Ko,Z.methodOf=ci,Z.mixin=Ir,Z.negate=dt,Z.nthArg=function(m){return m=Ht(m),tn(function(x){return Zc(x,m)})},Z.omit=Io,Z.omitBy=function(m,x){return Zu(m,dt(Ut(x)))},Z.once=function(m){return vc(2,m)},Z.orderBy=function(m,x,P,L){return m==null?[]:(zt(x)||(x=x==null?[]:[x]),zt(P=L?r:P)||(P=P==null?[]:[P]),Vs(m,x,P))},Z.over=of,Z.overArgs=ih,Z.overEvery=au,Z.overSome=el,Z.partial=$n,Z.partialRight=Dn,Z.partition=Ra,Z.pick=cs,Z.pickBy=Zu,Z.property=Ic,Z.propertyOf=function(m){return function(x){return m==null?r:as(m,x)}},Z.pull=Th,Z.pullAll=Ih,Z.pullAllBy=function(m,x,P){return m&&m.length&&x&&x.length?Ps(m,x,Ut(P,2)):m},Z.pullAllWith=function(m,x,P){return m&&m.length&&x&&x.length?Ps(m,x,r,P):m},Z.pullAt=Oh,Z.range=mf,Z.rangeRight=$l,Z.rearg=$o,Z.reject=function(m,x){return(zt(m)?Jr:os)(m,dt(Ut(x,3)))},Z.remove=function(m,x){var P=[];if(!m||!m.length)return P;var L=-1,H=[],V=m.length;for(x=Ut(x,3);++L<V;){var Y=m[L];x(Y,L,m)&&(P.push(Y),H.push(L))}return Ar(m,H),P},Z.rest=function(m,x){if(typeof m!="function")throw new oa(i);return tn(m,x=x===r?x:Ht(x))},Z.reverse=Lf,Z.sampleSize=function(m,x,P){return x=(P?qr(m,x,P):x===r)?1:Ht(x),(zt(m)?Xl:Wr)(m,x)},Z.set=function(m,x,P){return m==null?m:Vr(m,x,P)},Z.setWith=function(m,x,P,L){return L=typeof L=="function"?L:r,m==null?m:Vr(m,x,P,L)},Z.shuffle=function(m){return(zt(m)?Ta:Co)(m)},Z.slice=function(m,x,P){var L=m==null?0:m.length;return L?(P&&typeof P!="number"&&qr(m,x,P)?(x=0,P=L):(x=x==null?0:Ht(x),P=P===r?L:Ht(P)),So(m,x,P)):[]},Z.sortBy=jl,Z.sortedUniq=function(m){return m&&m.length?so(m):[]},Z.sortedUniqBy=function(m,x){return m&&m.length?so(m,Ut(x,2)):[]},Z.split=function(m,x,P){return P&&typeof P!="number"&&qr(m,x,P)&&(x=P=r),(P=P===r?M:P>>>0)?(m=zn(m))&&(typeof x=="string"||x!=null&&!mt(x))&&!(x=Sr(x))&&Qo(m)?Kn(ct(m),0,P):m.split(x,P):[]},Z.spread=function(m,x){if(typeof m!="function")throw new oa(i);return x=x==null?0:Ai(Ht(x),0),tn(function(P){var L=P[x],H=Kn(P,0,x);return L&&bi(H,L),ri(m,this,H)})},Z.tail=function(m){var x=m==null?0:m.length;return x?So(m,1,x):[]},Z.take=function(m,x,P){return m&&m.length?So(m,0,(x=P||x===r?1:Ht(x))<0?0:x):[]},Z.takeRight=function(m,x,P){var L=m==null?0:m.length;return L?So(m,(x=L-(x=P||x===r?1:Ht(x)))<0?0:x,L):[]},Z.takeRightWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3),!1,!0):[]},Z.takeWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3)):[]},Z.tap=function(m,x){return x(m),m},Z.throttle=function(m,x,P){var L=!0,H=!0;if(typeof m!="function")throw new oa(i);return sn(P)&&(L="leading"in P?!!P.leading:L,H="trailing"in P?!!P.trailing:H),Kr(m,x,{leading:L,maxWait:x,trailing:H})},Z.thru=yl,Z.toArray=Cu,Z.toPairs=ro,Z.toPairsIn=yc,Z.toPath=function(m){return zt(m)?Wn(m,Si):zo(m)?[m]:Hi(Ka(zn(m)))},Z.toPlainObject=ac,Z.transform=function(m,x,P){var L=zt(m),H=L||_r(m)||Ot(m);if(x=Ut(x,4),P==null){var V=m&&m.constructor;P=H?L?new V:[]:sn(m)&&Ii(V)?ln(sf(m)):{}}return(H?Xn:_a)(m,function(Y,re,ne){return x(P,Y,re,ne)}),P},Z.unary=function(m){return gh(m,1)},Z.union=hh,Z.unionBy=xf,Z.unionWith=ph,Z.uniq=function(m){return m&&m.length?Qr(m):[]},Z.uniqBy=function(m,x){return m&&m.length?Qr(m,Ut(x,2)):[]},Z.uniqWith=function(m,x){return x=typeof x=="function"?x:r,m&&m.length?Qr(m,r,x):[]},Z.unset=function(m,x){return m==null||Ql(m,x)},Z.unzip=vl,Z.unzipWith=nh,Z.update=function(m,x,P){return m==null?m:Zi(m,x,Ts(P))},Z.updateWith=function(m,x,P,L){return L=typeof L=="function"?L:r,m==null?m:Zi(m,x,Ts(P),L)},Z.values=bs,Z.valuesIn=function(m){return m==null?[]:Wa(m,Sn(m))},Z.without=xu,Z.words=Hc,Z.wrap=function(m,x){return $n(Ts(x),m)},Z.xor=$f,Z.xorBy=ff,Z.xorWith=Df,Z.zip=Wc,Z.zipObject=function(m,x){return ru(m||[],x||[],Fl)},Z.zipObjectDeep=function(m,x){return ru(m||[],x||[],Vr)},Z.zipWith=Nh,Z.entries=ro,Z.entriesIn=yc,Z.extend=mh,Z.extendWith=ls,Ir(Z,Z),Z.add=w,Z.attempt=Ds,Z.camelCase=ba,Z.capitalize=Pu,Z.ceil=A,Z.clamp=function(m,x,P){return P===r&&(P=x,x=r),P!==r&&(P=(P=ko(P))==P?P:0),x!==r&&(x=(x=ko(x))==x?x:0),Sa(ko(m),x,P)},Z.clone=function(m){return jo(m,4)},Z.cloneDeep=function(m){return jo(m,5)},Z.cloneDeepWith=function(m,x){return jo(m,5,x=typeof x=="function"?x:r)},Z.cloneWith=function(m,x){return jo(m,4,x=typeof x=="function"?x:r)},Z.conformsTo=function(m,x){return x==null||Ln(m,x,On(x))},Z.deburr=_u,Z.defaultTo=function(m,x){return m==null||m!=m?x:m},Z.divide=I,Z.endsWith=function(m,x,P){m=zn(m),x=Sr(x);var L=m.length,H=P=P===r?L:Sa(Ht(P),0,L);return(P-=x.length)>=0&&m.slice(P,H)==x},Z.eq=wa,Z.escape=function(m){return(m=zn(m))&&fe.test(m)?m.replace(js,Qi):m},Z.escapeRegExp=function(m){return(m=zn(m))&&ot.test(m)?m.replace(We,"\\$&"):m},Z.every=function(m,x,P){var L=zt(m)?ch:Ho;return P&&qr(m,x,P)&&(x=r),L(m,Ut(x,3))},Z.find=zh,Z.findIndex=zc,Z.findKey=function(m,x){return Al(m,Ut(x,3),_a)},Z.findLast=Zl,Z.findLastIndex=eh,Z.findLastKey=function(m,x){return Al(m,Ut(x,3),rc)},Z.floor=U,Z.forEach=hf,Z.forEachRight=Cf,Z.forIn=function(m,x){return m==null?m:Lo(m,Ut(x,3),Sn)},Z.forInRight=function(m,x){return m==null?m:Fc(m,Ut(x,3),Sn)},Z.forOwn=function(m,x){return m&&_a(m,Ut(x,3))},Z.forOwnRight=function(m,x){return m&&rc(m,Ut(x,3))},Z.get=Su,Z.gt=Nr,Z.gte=mo,Z.has=function(m,x){return m!=null&&Gs(m,x,Au)},Z.hasIn=oh,Z.head=dc,Z.identity=li,Z.includes=function(m,x,P,L){m=Wt(m)?m:bs(m),P=P&&!L?Ht(P):0;var H=m.length;return P<0&&(P=Ai(H+P,0)),xr(m)?P<=H&&m.indexOf(x,P)>-1:!!H&&Us(m,x,P)>-1},Z.indexOf=function(m,x,P){var L=m==null?0:m.length;if(!L)return-1;var H=P==null?0:Ht(P);return H<0&&(H=Ai(L+H,0)),Us(m,x,H)},Z.inRange=function(m,x,P){return x=ea(x),P===r?(P=x,x=0):P=ea(P),function(H,V,Y){return H>=Tr(V,Y)&&H<Ai(V,Y)}(m=ko(m),x,P)},Z.invoke=rf,Z.isArguments=Eo,Z.isArray=zt,Z.isArrayBuffer=on,Z.isArrayLike=Wt,Z.isArrayLikeObject=tr,Z.isBoolean=function(m){return m===!0||m===!1||si(m)&&Ci(m)==z},Z.isBuffer=_r,Z.isDate=us,Z.isElement=function(m){return si(m)&&m.nodeType===1&&!yi(m)},Z.isEmpty=function(m){if(m==null)return!0;if(Wt(m)&&(zt(m)||typeof m=="string"||typeof m.splice=="function"||_r(m)||Ot(m)||Eo(m)))return!m.length;var x=br(m);if(x==te||x==Pe)return!m.size;if(Js(m))return!Ji(m).length;for(var P in m)if(pn.call(m,P))return!1;return!0},Z.isEqual=function(m,x){return ki(m,x)},Z.isEqualWith=function(m,x,P){var L=(P=typeof P=="function"?P:r)?P(m,x):r;return L===r?ki(m,x,r,P):!!L},Z.isError=Fi,Z.isFinite=function(m){return typeof m=="number"&&Ws(m)},Z.isFunction=Ii,Z.isInteger=Ao,Z.isLength=sr,Z.isMap=Tt,Z.isMatch=function(m,x){return m===x||Mi(m,x,Gt(x))},Z.isMatchWith=function(m,x,P){return P=typeof P=="function"?P:r,Mi(m,x,Gt(x),P)},Z.isNaN=function(m){return Qu(m)&&m!=+m},Z.isNative=function(m){if(go(m))throw new hn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ju(m)},Z.isNil=function(m){return m==null},Z.isNull=function(m){return m===null},Z.isNumber=Qu,Z.isObject=sn,Z.isObjectLike=si,Z.isPlainObject=yi,Z.isRegExp=mt,Z.isSafeInteger=function(m){return Ao(m)&&m>=-9007199254740991&&m<=b},Z.isSet=Du,Z.isString=xr,Z.isSymbol=zo,Z.isTypedArray=Ot,Z.isUndefined=function(m){return m===r},Z.isWeakMap=function(m){return si(m)&&br(m)==Oe},Z.isWeakSet=function(m){return si(m)&&Ci(m)=="[object WeakSet]"},Z.join=function(m,x){return m==null?"":Da.call(m,x)},Z.kebabCase=xs,Z.last=ya,Z.lastIndexOf=function(m,x,P){var L=m==null?0:m.length;if(!L)return-1;var H=L;return P!==r&&(H=(H=Ht(P))<0?Ai(L+H,0):Tr(H,L-1)),x==x?function(Y,re,ne){for(var ce=ne+1;ce--;)if(Y[ce]===re)return ce;return ce}(m,x,H):_c(m,Hl,H,!0)},Z.lowerCase=wc,Z.lowerFirst=Tu,Z.lt=nf,Z.lte=ui,Z.max=function(m){return m&&m.length?di(m,li,pl):r},Z.maxBy=function(m,x){return m&&m.length?di(m,Ut(x,2),pl):r},Z.mean=function(m){return vr(m,li)},Z.meanBy=function(m,x){return vr(m,Ut(x,2))},Z.min=function(m){return m&&m.length?di(m,li,Pl):r},Z.minBy=function(m,x){return m&&m.length?di(m,Ut(x,2),Pl):r},Z.stubArray=Oc,Z.stubFalse=a,Z.stubObject=function(){return{}},Z.stubString=function(){return""},Z.stubTrue=function(){return!0},Z.multiply=D,Z.nth=function(m,x){return m&&m.length?Zc(m,Ht(x)):r},Z.noConflict=function(){return Ei._===this&&(Ei._=nc),this},Z.noop=fs,Z.now=ws,Z.pad=function(m,x,P){m=zn(m);var L=(x=Ht(x))?ze(m):0;if(!x||L>=x)return m;var H=(x-L)/2;return yu(Gl(H),P)+m+yu(wn(H),P)},Z.padEnd=function(m,x,P){m=zn(m);var L=(x=Ht(x))?ze(m):0;return x&&L<x?m+yu(x-L,P):m},Z.padStart=function(m,x,P){m=zn(m);var L=(x=Ht(x))?ze(m):0;return x&&L<x?yu(x-L,P)+m:m},Z.parseInt=function(m,x,P){return P||x==null?x=0:x&&(x=+x),Hs(zn(m).replace(gt,""),x||0)},Z.random=function(m,x,P){if(P&&typeof P!="boolean"&&qr(m,x,P)&&(x=P=r),P===r&&(typeof x=="boolean"?(P=x,x=r):typeof m=="boolean"&&(P=m,m=r)),m===r&&x===r?(m=0,x=1):(m=ea(m),x===r?(x=m,m=0):x=ea(x)),m>x){var L=m;m=x,x=L}if(P||m%1||x%1){var H=Fa();return Tr(m+H*(x-m+df("1e-"+((H+"").length-1))),x)}return lr(m,x)},Z.reduce=function(m,x,P){var L=zt(m)?Bc:Vl,H=arguments.length<3;return L(m,Ut(x,4),P,H,Pn)},Z.reduceRight=function(m,x,P){var L=zt(m)?ul:Vl,H=arguments.length<3;return L(m,Ut(x,4),P,H,Ha)},Z.repeat=function(m,x,P){return x=(P?qr(m,x,P):x===r)?1:Ht(x),Pc(zn(m),x)},Z.replace=function(){var m=arguments,x=zn(m[0]);return m.length<3?x:x.replace(m[1],m[2])},Z.result=function(m,x,P){var L=-1,H=(x=iu(x,m)).length;for(H||(H=1,m=r);++L<H;){var V=m==null?r:m[Si(x[L])];V===r&&(L=H,V=P),m=Ii(V)?V.call(m):V}return m},Z.round=E,Z.runInContext=he,Z.sample=function(m){return(zt(m)?oi:ao)(m)},Z.size=function(m){if(m==null)return 0;if(Wt(m))return xr(m)?ze(m):m.length;var x=br(m);return x==te||x==Pe?m.size:Ji(m).length},Z.snakeCase=bl,Z.some=function(m,x,P){var L=zt(m)?zs:nu;return P&&qr(m,x,P)&&(x=r),L(m,Ut(x,3))},Z.sortedIndex=function(m,x){return Ia(m,x)},Z.sortedIndexBy=function(m,x,P){return zr(m,x,Ut(P,2))},Z.sortedIndexOf=function(m,x){var P=m==null?0:m.length;if(P){var L=Ia(m,x);if(L<P&&wa(m[L],x))return L}return-1},Z.sortedLastIndex=function(m,x){return Ia(m,x,!0)},Z.sortedLastIndexBy=function(m,x,P){return zr(m,x,Ut(P,2),!0)},Z.sortedLastIndexOf=function(m,x){if(m!=null&&m.length){var P=Ia(m,x,!0)-1;if(wa(m[P],x))return P}return-1},Z.startCase=Yn,Z.startsWith=function(m,x,P){return m=zn(m),P=P==null?0:Sa(Ht(P),0,m.length),x=Sr(x),m.slice(P,P+x.length)==x},Z.subtract=N,Z.sum=function(m){return m&&m.length?ga(m,li):0},Z.sumBy=function(m,x){return m&&m.length?ga(m,Ut(x,2)):0},Z.template=function(m,x,P){var L=Z.templateSettings;P&&qr(m,x,P)&&(x=r),m=zn(m),x=ls({},x,L,Xi);var H,V,Y=ls({},x.imports,L.imports,Xi),re=On(Y),ne=Wa(Y,re),ce=0,me=x.interpolate||uu,be="__p += '",we=$t((x.escape||uu).source+"|"+me.source+"|"+(me===Se?bo:uu).source+"|"+(x.evaluate||uu).source+"|$","g"),Te="//# sourceURL="+(pn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nf+"]")+`
`;m.replace(we,function(Xe,Ye,rt,St,Mt,en){return rt||(rt=St),be+=m.slice(ce,en).replace(zl,ii),Ye&&(H=!0,be+=`' +
__e(`+Ye+`) +
'`),Mt&&(V=!0,be+=`';
`+Mt+`;
__p += '`),rt&&(be+=`' +
((__t = (`+rt+`)) == null ? '' : __t) +
'`),ce=en+Xe.length,Xe}),be+=`';
`;var Ge=pn.call(x,"variable")&&x.variable;if(Ge){if(Ui.test(Ge))throw new hn("Invalid `variable` option passed into `_.template`")}else be=`with (obj) {
`+be+`
}
`;be=(V?be.replace(un,""):be).replace(ur,"$1").replace(Fn,"$1;"),be="function("+(Ge||"obj")+`) {
`+(Ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+be+`return __p
}`;var Ie=Ds(function(){return Cr(re,Te+"return "+be).apply(r,ne)});if(Ie.source=be,Fi(Ie))throw Ie;return Ie},Z.times=function(m,x){if((m=Ht(m))<1||m>b)return[];var P=M,L=Tr(m,M);x=Ut(x),m-=M;for(var H=fc(L,x);++P<m;)x(P);return H},Z.toFinite=ea,Z.toInteger=Ht,Z.toLength=Dr,Z.toLower=function(m){return zn(m).toLowerCase()},Z.toNumber=ko,Z.toSafeInteger=function(m){return m?Sa(Ht(m),-9007199254740991,b):m===0?m:0},Z.toString=zn,Z.toUpper=function(m){return zn(m).toUpperCase()},Z.trim=function(m,x,P){if((m=zn(m))&&(P||x===r))return ql(m);if(!m||!(x=Sr(x)))return m;var L=ct(m),H=ct(x);return Kn(L,hc(L,H),xo(L,H)+1).join("")},Z.trimEnd=function(m,x,P){if((m=zn(m))&&(P||x===r))return m.slice(0,Ue(m)+1);if(!m||!(x=Sr(x)))return m;var L=ct(m);return Kn(L,0,xo(L,ct(x))+1).join("")},Z.trimStart=function(m,x,P){if((m=zn(m))&&(P||x===r))return m.replace(gt,"");if(!m||!(x=Sr(x)))return m;var L=ct(m);return Kn(L,hc(L,ct(x))).join("")},Z.truncate=function(m,x){var P=30,L="...";if(sn(x)){var H="separator"in x?x.separator:H;P="length"in x?Ht(x.length):P,L="omission"in x?Sr(x.omission):L}var V=(m=zn(m)).length;if(Qo(m)){var Y=ct(m);V=Y.length}if(P>=V)return m;var re=P-ze(L);if(re<1)return L;var ne=Y?Kn(Y,0,re).join(""):m.slice(0,re);if(H===r)return ne+L;if(Y&&(re+=ne.length-re),mt(H)){if(m.slice(re).search(H)){var ce,me=ne;for(H.global||(H=$t(H.source,zn(ta.exec(H))+"g")),H.lastIndex=0;ce=H.exec(me);)var be=ce.index;ne=ne.slice(0,be===r?re:be)}}else if(m.indexOf(Sr(H),re)!=re){var we=ne.lastIndexOf(H);we>-1&&(ne=ne.slice(0,we))}return ne+L},Z.unescape=function(m){return(m=zn(m))&&$a.test(m)?m.replace(wi,pt):m},Z.uniqueId=function(m){var x=++kl;return zn(m)+x},Z.upperCase=bc,Z.upperFirst=qu,Z.each=hf,Z.eachRight=Cf,Z.first=dc,Ir(Z,(l={},_a(Z,function(v,m){pn.call(Z.prototype,m)||(l[m]=v)}),l),{chain:!1}),Z.VERSION="4.17.21",Xn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){Z[v].placeholder=Z}),Xn(["drop","take"],function(v,m){_n.prototype[v]=function(x){x=x===r?1:Ai(Ht(x),0);var P=this.__filtered__&&!m?new _n(this):this.clone();return P.__filtered__?P.__takeCount__=Tr(x,P.__takeCount__):P.__views__.push({size:Tr(x,M),type:v+(P.__dir__<0?"Right":"")}),P},_n.prototype[v+"Right"]=function(x){return this.reverse()[v](x).reverse()}}),Xn(["filter","map","takeWhile"],function(v,m){var x=m+1,P=x==1||x==3;_n.prototype[v]=function(L){var H=this.clone();return H.__iteratees__.push({iteratee:Ut(L,3),type:x}),H.__filtered__=H.__filtered__||P,H}}),Xn(["head","last"],function(v,m){var x="take"+(m?"Right":"");_n.prototype[v]=function(){return this[x](1).value()[0]}}),Xn(["initial","tail"],function(v,m){var x="drop"+(m?"":"Right");_n.prototype[v]=function(){return this.__filtered__?new _n(this):this[x](1)}}),_n.prototype.compact=function(){return this.filter(li)},_n.prototype.find=function(v){return this.filter(v).head()},_n.prototype.findLast=function(v){return this.reverse().find(v)},_n.prototype.invokeMap=tn(function(v,m){return typeof v=="function"?new _n(this):this.map(function(x){return Qn(x,v,m)})}),_n.prototype.reject=function(v){return this.filter(dt(Ut(v)))},_n.prototype.slice=function(v,m){v=Ht(v);var x=this;return x.__filtered__&&(v>0||m<0)?new _n(x):(v<0?x=x.takeRight(-v):v&&(x=x.drop(v)),m!==r&&(x=(m=Ht(m))<0?x.dropRight(-m):x.take(m-v)),x)},_n.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},_n.prototype.toArray=function(){return this.take(M)},_a(_n.prototype,function(v,m){var x=/^(?:filter|find|map|reject)|While$/.test(m),P=/^(?:head|last)$/.test(m),L=Z[P?"take"+(m=="last"?"Right":""):m],H=P||/^find/.test(m);L&&(Z.prototype[m]=function(){var V=this.__wrapped__,Y=P?[1]:arguments,re=V instanceof _n,ne=Y[0],ce=re||zt(V),me=function(Xe){var Ye=L.apply(Z,bi([Xe],Y));return P&&be?Ye[0]:Ye};ce&&x&&typeof ne=="function"&&ne.length!=1&&(re=ce=!1);var be=this.__chain__,we=!!this.__actions__.length,Te=H&&!be,Ge=re&&!we;if(!H&&ce){V=Ge?V:new _n(this);var Ie=v.apply(V,Y);return Ie.__actions__.push({func:yl,args:[me],thisArg:r}),new bn(Ie,be)}return Te&&Ge?v.apply(this,Y):(Ie=this.thru(me),Te?P?Ie.value()[0]:Ie.value():Ie)})}),Xn(["pop","push","shift","sort","splice","unshift"],function(v){var m=ps[v],x=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",P=/^(?:pop|shift)$/.test(v);Z.prototype[v]=function(){var L=arguments;if(P&&!this.__chain__){var H=this.value();return m.apply(zt(H)?H:[],L)}return this[x](function(V){return m.apply(zt(V)?V:[],L)})}}),_a(_n.prototype,function(v,m){var x=Z[m];if(x){var P=x.name+"";pn.call(Ml,P)||(Ml[P]=[]),Ml[P].push({name:m,func:x})}}),Ml[gc(r,2).name]=[{name:"wrapper",func:r}],_n.prototype.clone=function(){var m=new _n(this.__wrapped__);return m.__actions__=Hi(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Hi(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Hi(this.__views__),m},_n.prototype.reverse=function(){if(this.__filtered__){var m=new _n(this);m.__dir__=-1,m.__filtered__=!0}else(m=this.clone()).__dir__*=-1;return m},_n.prototype.value=function(){var m=this.__wrapped__.value(),x=this.__dir__,P=zt(m),L=x<0,H=P?m.length:0,V=function(qt,It,Zt){for(var yr=-1,cr=Zt.length;++yr<cr;){var fi=Zt[yr],Gn=fi.size;switch(fi.type){case"drop":qt+=Gn;break;case"dropRight":It-=Gn;break;case"take":It=Tr(It,qt+Gn);break;case"takeRight":qt=Ai(qt,It-Gn)}}return{start:qt,end:It}}(0,H,this.__views__),Y=V.start,re=V.end,ne=re-Y,ce=L?re:Y-1,me=this.__iteratees__,be=me.length,we=0,Te=Tr(ne,this.__takeCount__);if(!P||!L&&H==ne&&Te==ne)return jc(m,this.__actions__);var Ge=[];e:for(;ne--&&we<Te;){for(var Ie=-1,Xe=m[ce+=x];++Ie<be;){var Ye=me[Ie],rt=Ye.iteratee,St=Ye.type,Mt=rt(Xe);if(St==2)Xe=Mt;else if(!Mt){if(St==1)continue e;break e}}Ge[we++]=Xe}return Ge},Z.prototype.at=wl,Z.prototype.chain=function(){return zf(this)},Z.prototype.commit=function(){return new bn(this.value(),this.__chain__)},Z.prototype.next=function(){this.__values__===r&&(this.__values__=Cu(this.value()));var m=this.__index__>=this.__values__.length;return{done:m,value:m?r:this.__values__[this.__index__++]}},Z.prototype.plant=function(m){for(var x,P=this;P instanceof Eu;){var L=bf(P);L.__index__=0,L.__values__=r,x?H.__wrapped__=L:x=L;var H=L;P=P.__wrapped__}return H.__wrapped__=m,x},Z.prototype.reverse=function(){var m=this.__wrapped__;if(m instanceof _n){var x=m;return this.__actions__.length&&(x=new _n(this)),(x=x.reverse()).__actions__.push({func:yl,args:[Lf],thisArg:r}),new bn(x,this.__chain__)}return this.thru(Lf)},Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=function(){return jc(this.__wrapped__,this.__actions__)},Z.prototype.first=Z.prototype.head,zu&&(Z.prototype[zu]=function(){return this}),Z}();Xo?((Xo.exports=Et)._=Et,Hn._=Et):Ei._=Et}).call(uee)),$C.exports;var e,t}();function cee(n,e){var t=at.useRef(null),r=function(i,o){if(t.current&&e){var s=t.current.getBoundingClientRect();o([i.clientX-s.left,i.clientY-s.top],i)}};return at.useEffect(function(){if(n){var i=function(p){try{r(p,n.mouseDownHandler.bind(n))}catch(f){console.log(f)}},o=function(p){try{r(p,n.mouseUpHandler.bind(n))}catch(f){console.log(f)}},s=function(p){try{r(p,n.clickHandler.bind(n))}catch(f){console.log(f)}},u=function(p){try{(function(f,g){t.current&&e&&g(f)})(p,n.mouseWheelHandler.bind(n))}catch(f){console.log(f)}},c=lee.throttle(function(p){try{r(p,n.mouseMoveHandler.bind(n))}catch(f){console.log(f)}},16.666666666666668);return window.addEventListener("mousemove",c),window.addEventListener("mousedown",i),window.addEventListener("mouseup",o),window.addEventListener("click",s),window.addEventListener("wheel",u),function(){window.removeEventListener("mousemove",c),window.removeEventListener("mousedown",i),window.removeEventListener("mouseup",o),window.removeEventListener("click",s),window.removeEventListener("wheel",u)}}},[t.current,n]),t}function fee(n){var e=n.rootWindow,t=function(){var f=at.useRef(null),g=at.useState(null),y=g[0],b=g[1];return at.useLayoutEffect(function(){f&&f.current&&b(f.current.getCanvas())},[f]),[f,y]}(),r=t[0],i=t[1],o=qi.useState(!1);o[0];var s=o[1],u=at.useRef(null);at.useEffect(function(){i!==null&&(u.current=new s3(e,i),window.canvasRoot=u.current,s(!0))},[i]);var c=cee(u.current,i);return ft.jsx("div",{ref:c,style:{width:"100%",height:"100%"},children:ft.jsx(see,{ref:r,animationFrameFunc:function(p,f){f.clearRect(0,0,p.width,p.height);var g=u.current;g==null||g.onAnimationFrame()}})})}var hee=function(){function n(e){this.data=e,this.subscribers=[]}return n.prototype.setContext=function(e){this.data=e,this.dispatch(e)},n.prototype.subscribe=function(e){var t=this;return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter(function(r){return r!==e})}},n.prototype.dispatch=function(e){this.subscribers.forEach(function(t){return t(e)})},n}();function pee(n){var e,t=n.pinId,r=n.project,i=n.projectTools,o=r.orgData.signalIds.find(function(p){return r.signalData[p].pinIds.includes(t)});if(!o)return null;var s=r.orgData.signalTypes[o],u=(e=r.signalData[o].pinValues[t])===null||e===void 0?void 0:e.toString(),c=r.signalData[o].pinTimes[t].toString();return ft.jsxs("div",{style:{padding:"10px",fontSize:"14px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:"100%"},children:[ft.jsx("div",{style:{marginRight:"10px"},children:"Time"}),ft.jsx(pd,{bgColor:"var(--gray5)",bgActive:"var(--gray4)",initialValue:c,isValid:function(p){var f=r.timelineData.numberOfFrames;return!isNaN(Number(p))&&!(Number(p)<0||Number(p)>=f)},onCommit:function(p){var f=parseInt(p);i.updatePins([{pinId:t,pinType:s,pinTime:f}],!0)}}),ft.jsx("div",{style:{marginRight:"10px",marginLeft:"10px"},children:"Value"}),ft.jsx(pd,{bgColor:"var(--gray5)",bgActive:"var(--gray4)",initialValue:u,isValid:function(p){if(s==="continuous"){var f=r.signalData[o].range;return!isNaN(Number(p))&&!(Number(p)<f[0]||Number(p)>f[1])}return!0},onCommit:function(p){s==="continuous"&&i.updatePins([{pinId:t,pinType:"continuous",pinTime:void 0,pinValue:Number(p),functionString:void 0}],!0),s==="discrete"&&i.updatePins([{pinId:t,pinType:"discrete",pinTime:void 0,pinValue:p}],!0)}})]})}function gee(n){var e=n.context,t=n.project,r=n.projectTools;if(e.type!=="pointer")return null;var i=e.payload.selectedPinIds,o=i.length>1;return i.length===0?null:ft.jsxs("div",{onMouseOver:function(s){s.stopPropagation()},onMouseDown:function(s){s.stopPropagation()},onMouseMove:function(s){s.stopPropagation()},style:{backgroundColor:"var(--gray6)",borderRadius:"var(--borderRadiusSmall)",position:"absolute",bottom:"0",left:"0",color:"var(--gray8)",marginBottom:"10px",marginLeft:"10px",fontFamily:"Roboto, sans-serif",userSelect:"none",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[o?ft.jsx("div",{style:{padding:"10px",fontSize:"14px"},children:"".concat(i.length," pins selected")}):ft.jsx(pee,{pinId:i[0],project:t,projectTools:r}),ft.jsx(o1,{iconName:"delete",color:"var(--gray2)",hoverColor:"var(--gray1)",hoverBgColor:"var(--gray7)",onClick:function(){r.deletePins(jg([],i,!0)),e.payload.dispatchPointerModeMachineEvent({type:"delete_selected_pins",selectedPinIds:[]})}})]})}function E8(n,e){var t=n.orgData.activeSignalIds,r=Object.keys(e);if(t.join("@")!==r.join("@")){for(var i={},o=0,s=t;o<s.length;o++){var u=s[o];r.includes(u)?i[u]=e[u]:i[u]=100}return i}return e}function mee(n){var e=n.activeTool,t=n.setActiveEditor,r=n.useProjectState,i=n.projectTools,o=n.interpolateSignalValue,s=at.useRef(null),u=at.useState(null),c=u[0],p=u[1];return at.useLayoutEffect(function(){if(s.current){var f=s.current.getBoundingClientRect(),g=f.width,y=f.height;p({width:g,height:y})}},[s.current]),ft.jsx("div",c?{ref:s,style:{width:"100%",height:"100%"},children:ft.jsx(vee,{activeTool:e,setActiveEditor:t,useProjectState:r,projectTools:i,interpolateSignalValue:o,dimensions:c})}:{ref:s,style:{width:"100%",height:"100%"}})}var dee=function(){function n(e){this.data=e,this.subscribers=[]}return n.prototype.subscribe=function(e){var t=this;return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter(function(r){return r!==e})}},n.prototype.dispatch=function(e){this.subscribers.forEach(function(t){return t(e)})},n}();function vee(n){var e=n.activeTool,t=n.setActiveEditor,r=n.useProjectState,i=n.projectTools,o=n.interpolateSignalValue,s=n.dimensions,u=r(),c=at.useState(E8(u,{})),p=c[0],f=c[1],g=u.timelineData.numberOfFrames,y=s.width;Rs.PixelsPerFrame=y/g;var b=E8(u,p);b!==p&&f(b);var _=function(J,G){var Q=jg([],J.orgData.activeSignalIds,!0).sort(function(ae,se){return J.orgData.signalIds.indexOf(ae)-J.orgData.signalIds.indexOf(se)}),te=Q.reduce(function(ae,se){var ge=ae[0],xe=ae[1];return ge[se]=xe,[ge,xe+G[se]]},[{},0]);return[te[0],te[1]]}(u,b),M={project:u,projectTools:i,activeTool:e,signalStartHeights:_[0],signalHeights:p,setSignalHeight:function(W,J){f(function(G){var Q;return Qs(Qs({},G),((Q={})[W]=J,Q))})},interpolateSignalValue:o,displayDimensions:s,setActiveEditor:t},F=at.useRef(new dee(M)).current;F.dispatch(M);var O=at.useRef(new hee({type:"default"})).current,j=aee.Node({extendedProjectAPIBridge:F,contextBridge:O}),z=at.useSyncExternalStore(O.subscribe.bind(O),function(){return O.data});return ft.jsxs("div",{style:{width:"100%",height:"100%",backgroundColor:"#1D2126",position:"relative"},className:"materialSymbols",children:[ft.jsx(fee,{rootWindow:j}),e==="pointer"?ft.jsx(gee,{projectTools:i,project:u,context:z}):null]})}let Yc=class h6{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=L1(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),zC.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=L1(this,e,t);let r=[];return this.decompose(e,t,r,0),zC.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new pb(this),o=new pb(e);for(let s=t,u=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(u+=i.value.length,i.done||u>=r)return!0}}iter(e=1){return new pb(this,e)}iterRange(e,t=this.length){return new p6(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new g6(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length!=1||e[0]?e.length<=32?new qm(e):zC.from(qm.split(e,[])):h6.empty}},qm=class d0 extends Yc{constructor(e,t=function(i){let o=-1;for(let s of i)o+=s.length+1;return o}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],u=i+s.length;if((t?r:u)>=e)return new yee(i,u,r,s);i=u+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new d0(A8(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let s=r.pop(),u=UC(o.text,s.text.slice(),0,o.length);if(u.length<=32)r.push(new d0(u,s.length+o.length));else{let c=u.length>>1;r.push(new d0(u.slice(0,c)),new d0(u.slice(c)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof d0))return super.replace(e,t,r);[e,t]=L1(this,e,t);let i=UC(this.text,UC(r.text,A8(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new d0(i,o):zC.from(d0.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=L1(this,e,t);let i="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let u=this.text[s],c=o+u.length;o>e&&s&&(i+=r),e<c&&t>o&&(i+=u.slice(Math.max(0,e-o),t-o)),o=c+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new d0(r,i)),r=[],i=-1);return i>-1&&t.push(new d0(r,i)),t}},zC=class Ky extends Yc{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],u=i+s.length,c=r+s.lines-1;if((t?c:u)>=e)return s.lineInner(e,t,r,i);i=u+1,r=c+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let u=this.children[o],c=s+u.length;if(e<=c&&t>=s){let p=i&((s<=e?1:0)|(c>=t?2:0));s>=e&&c<=t&&!p?r.push(u):u.decompose(e-s,t-s,r,p)}s=c+1}}replace(e,t,r){if([e,t]=L1(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],u=o+s.length;if(e>=o&&t<=u){let c=s.replace(e-o,t-o,r),p=this.lines-s.lines+c.lines;if(c.lines<p>>4&&c.lines>p>>6){let f=this.children.slice();return f[i]=c,new Ky(f,this.length-(t-e)+r.length)}return super.replace(o,u,c)}o=u+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=L1(this,e,t);let i="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let u=this.children[o],c=s+u.length;s>e&&o&&(i+=r),e<c&&t>s&&(i+=u.sliceString(e-s,t-s,r)),s=c+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Ky))return 0;let r=0,[i,o,s,u]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==u)return r;let c=this.children[i],p=e.children[o];if(c!=p)return r+c.scanIdentical(p,t);r+=c.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let b of e)r+=b.lines;if(r<32){let b=[];for(let _ of e)_.flatten(b);return new qm(b,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,u=[],c=0,p=-1,f=[];function g(b){let _;if(b.lines>o&&b instanceof Ky)for(let M of b.children)g(M);else b.lines>s&&(c>s||!c)?(y(),u.push(b)):b instanceof qm&&c&&(_=f[f.length-1])instanceof qm&&b.lines+_.lines<=32?(c+=b.lines,p+=b.length+1,f[f.length-1]=new qm(_.text.concat(b.text),_.length+1+b.length)):(c+b.lines>i&&y(),c+=b.lines,p+=b.length+1,f.push(b))}function y(){c!=0&&(u.push(f.length==1?f[0]:Ky.from(f,p)),p=-1,c=f.length=0)}for(let b of e)g(b);return y(),u.length==1?u[0]:new Ky(u,t)}};function UC(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let u=n[o],c=i+u.length;c>=t&&(c>r&&(u=u.slice(0,r-i)),i<t&&(u=u.slice(t-i)),s?(e[e.length-1]+=u,s=!1):e.push(u)),i=c+1}return e}function A8(n,e,t){return UC(n,[""],e,t)}Yc.empty=new qm([""],0);let pb=class{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof qm?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,u=i instanceof qm?i.text.length:i.children.length;if(s==(t>0?u:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof qm){let c=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[s+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof qm?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},p6=class{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new pb(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},g6=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(Yc.prototype[Symbol.iterator]=function(){return this.iter()},pb.prototype[Symbol.iterator]=p6.prototype[Symbol.iterator]=g6.prototype[Symbol.iterator]=function(){return this});let yee=class{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}};function L1(n,e,t){return[e=Math.max(0,Math.min(n.length,e)),Math.max(e,Math.min(n.length,t))]}let v1="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<v1.length;n++)v1[n]+=v1[n-1];function wee(n){for(let e=1;e<v1.length;e+=2)if(v1[e]>n)return v1[e-1]<=n;return!1}function k8(n){return n>=127462&&n<=127487}function Lp(n,e,t=!0,r=!0){return(t?m6:bee)(n,e,r)}function m6(n,e,t){if(e==n.length)return e;e&&d6(n.charCodeAt(e))&&v6(n.charCodeAt(e-1))&&e--;let r=Tp(n,e);for(e+=ym(r);e<n.length;){let i=Tp(n,e);if(r==8205||i==8205||t&&wee(i))e+=ym(i),r=i;else{if(!k8(i))break;{let o=0,s=e-2;for(;s>=0&&k8(Tp(n,s));)o++,s-=2;if(o%2==0)break;e+=2}}}return e}function bee(n,e,t){for(;e>0;){let r=m6(n,e-2,t);if(r<e)return r;e--}return 0}function d6(n){return n>=56320&&n<57344}function v6(n){return n>=55296&&n<56320}function Tp(n,e){let t=n.charCodeAt(e);if(!v6(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return d6(r)?r-56320+(t-55296<<10)+65536:t}function OI(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function ym(n){return n<65536?1:2}const QM=/\r\n?|\n/;var gg=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(gg||(gg={}));let y1=class WC{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){ZM(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new WC(e)}composeDesc(e){return this.empty?e:e.empty?this:y6(this,e)}mapDesc(e,t=!1){return e.empty?this:eF(this,e,t)}mapPos(e,t=-1,r=gg.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let u=this.sections[s++],c=this.sections[s++],p=i+u;if(c<0){if(p>e)return o+(e-i);o+=u}else{if(r!=gg.Simple&&p>=e&&(r==gg.TrackDel&&i<e&&p>e||r==gg.TrackBefore&&i<e||r==gg.TrackAfter&&p>e))return null;if(p>e||p==e&&t<0&&!u)return e==i||t<0?o:o+c;o+=c}i=p}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=i+this.sections[r++];if(this.sections[r++]>=0&&i<=t&&o>=e)return!(i<e&&o>t)||"cover";i=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new WC(e)}static create(e){return new WC(e)}},r0=class Cd extends y1{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return ZM(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return eF(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],u=t[i+1];if(u>=0){t[i]=u,t[i+1]=s;let c=i>>1;for(;r.length<c;)r.push(Yc.empty);r.push(s?e.slice(o,o+s):Yc.empty)}o+=s}return new Cd(t,r)}compose(e){return this.empty?e:e.empty?this:y6(this,e,!0)}map(e,t=!1){return e.empty?this:eF(this,e,t,!0)}iterChanges(e,t=!1){ZM(this,e,t)}get desc(){return y1.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new Lb(this);e:for(let s=0,u=0;;){let c=s==e.length?1e9:e[s++];for(;u<c||u==c&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,c-u);ng(i,f,-1);let g=o.ins==-1?-1:o.off==0?o.ins:0;ng(t,f,g),g>0&&Ud(r,t,o.text),o.forward(f),u+=f}let p=e[s++];for(;u<p;){if(o.done)break e;let f=Math.min(o.len,p-u);ng(t,f,-1),ng(i,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),u+=f}}return{changes:new Cd(t,r),filtered:y1.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,u=null;function c(p=!1){if(!p&&!i.length)return;s<t&&ng(i,t-s,-1);let f=new Cd(i,o);u=u?u.compose(f.map(u)):f,i=[],o=[],s=0}return function p(f){if(Array.isArray(f))for(let g of f)p(g);else if(f instanceof Cd){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);c(),u=u?u.compose(f.map(u)):f}else{let{from:g,to:y=g,insert:b}=f;if(g>y||g<0||y>t)throw new RangeError(`Invalid change range ${g} to ${y} (in doc of length ${t})`);let _=b?typeof b=="string"?Yc.of(b.split(r||QM)):b:Yc.empty,M=_.length;if(g==y&&M==0)return;g<s&&c(),g>s&&ng(i,g-s,-1),ng(i,y-g,M),Ud(o,i,_),s=y}}(e),c(!u),u}static empty(e){return new Cd(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,u)=>u&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(Yc.empty);r[i]=Yc.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new Cd(t,r)}static createSet(e,t){return new Cd(e,t)}};function ng(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Ud(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Yc.empty);n.push(t)}}function ZM(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let u=n.sections[s++],c=n.sections[s++];if(c<0)i+=u,o+=u;else{let p=i,f=o,g=Yc.empty;for(;p+=u,f+=c,c&&r&&(g=g.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)u=n.sections[s++],c=n.sections[s++];e(i,p,o,f,g),i=p,o=f}}}function eF(n,e,t,r=!1){let i=[],o=r?[]:null,s=new Lb(n),u=new Lb(e);for(let c=-1;;)if(s.ins==-1&&u.ins==-1){let p=Math.min(s.len,u.len);ng(i,p,-1),s.forward(p),u.forward(p)}else if(u.ins>=0&&(s.ins<0||c==s.i||s.off==0&&(u.len<s.len||u.len==s.len&&!t))){let p=u.len;for(ng(i,u.ins,-1);p;){let f=Math.min(s.len,p);s.ins>=0&&c<s.i&&s.len<=f&&(ng(i,0,s.ins),o&&Ud(o,i,s.text),c=s.i),s.forward(f),p-=f}u.next()}else{if(!(s.ins>=0)){if(s.done&&u.done)return o?r0.createSet(i,o):y1.create(i);throw new Error("Mismatched change set lengths")}{let p=0,f=s.len;for(;f;)if(u.ins==-1){let g=Math.min(f,u.len);p+=g,f-=g,u.forward(g)}else{if(!(u.ins==0&&u.len<f))break;f-=u.len,u.next()}ng(i,p,c<s.i?s.ins:0),o&&c<s.i&&Ud(o,i,s.text),c=s.i,s.forward(s.len-f)}}}function y6(n,e,t=!1){let r=[],i=t?[]:null,o=new Lb(n),s=new Lb(e);for(let u=!1;;){if(o.done&&s.done)return i?r0.createSet(r,i):y1.create(r);if(o.ins==0)ng(r,o.len,0,u),o.next();else if(s.len!=0||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,s.len),p=r.length;if(o.ins==-1){let f=s.ins==-1?-1:s.off?0:s.ins;ng(r,c,f,u),i&&f&&Ud(i,r,s.text)}else s.ins==-1?(ng(r,o.off?0:o.len,c,u),i&&Ud(i,r,o.textBit(c))):(ng(r,o.off?0:o.len,s.off?0:s.ins,u),i&&!s.off&&Ud(i,r,s.text));u=(o.ins>c||s.ins>=0&&s.len>c)&&(u||r.length>p),o.forward2(c),s.forward(c)}}else ng(r,0,s.ins,u),i&&Ud(i,r,s.text),s.next()}}let Lb=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Yc.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Yc.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},aD=class tF{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new tF(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return In.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return In.range(this.anchor,r)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return In.range(e.anchor,e.head)}static create(e,t,r){return new tF(e,t,r)}},In=class Hg{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:Hg.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Hg([this.main],0)}addRange(e,t=!0){return Hg.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,Hg.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Hg(e.ranges.map(t=>aD.fromJSON(t)),e.main)}static single(e,t=e){return new Hg([Hg.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return Hg.normalized(e.slice(),t);r=o.to}return new Hg(e,t)}static cursor(e,t=0,r,i){return aD.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?aD.create(t,e,48|o):aD.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let u=s.from,c=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?Hg.range(c,u):Hg.range(u,c))}}return new Hg(e,t)}};function w6(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let NI=0,gi=class b6{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=NI++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new b6(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:BI),!!e.static,e.enables)}of(e){return new HC([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new HC(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new HC(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}};function BI(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}let HC=class{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=NI++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,u=this.type==2,c=!1,p=!1,f=[];for(let g of this.dependencies)g=="doc"?c=!0:g=="selection"?p=!0:1&((t=e[g.id])!==null&&t!==void 0?t:1)||f.push(e[g.id]);return{create:g=>(g.values[s]=r(g),1),update(g,y){if(c&&y.docChanged||p&&(y.docChanged||y.selection)||nF(g,f)){let b=r(g);if(u?!M8(b,g.values[s],i):!i(b,g.values[s]))return g.values[s]=b,1}return 0},reconfigure:(g,y)=>{let b,_=y.config.address[o];if(_!=null){let M=ZS(y,_);if(this.dependencies.every(F=>F instanceof gi?y.facet(F)===g.facet(F):!(F instanceof wg)||y.field(F,!1)==g.field(F,!1))||(u?M8(b=r(g),M,i):i(b=r(g),M)))return g.values[s]=M,0}else b=r(g);return g.values[s]=b,1}}}};function M8(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function nF(n,e){let t=!1;for(let r of e)1&gb(n,r)&&(t=!0);return t}function xee(n,e,t){let r=t.map(c=>n[c.id]),i=t.map(c=>c.type),o=r.filter(c=>!(1&c)),s=n[e.id]>>1;function u(c){let p=[];for(let f=0;f<r.length;f++){let g=ZS(c,r[f]);if(i[f]==2)for(let y of g)p.push(y);else p.push(g)}return e.combine(p)}return{create(c){for(let p of r)gb(c,p);return c.values[s]=u(c),1},update(c,p){if(!nF(c,o))return 0;let f=u(c);return e.compare(f,c.values[s])?0:(c.values[s]=f,1)},reconfigure(c,p){let f=nF(c,r),g=p.config.facets[e.id],y=p.facet(e);if(g&&!f&&BI(t,g))return c.values[s]=y,0;let b=u(c);return e.compare(b,y)?(c.values[s]=y,0):(c.values[s]=b,1)}}}const F8=gi.define({static:!0});let wg=class x6{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new x6(NI++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(F8).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,F8.of({field:this,create:e})]}get extension(){return this}};const Dee=4,Cee=3,rF=2,See=1;function Dw(n){return e=>new D6(e,n)}const _y={highest:Dw(0),high:Dw(See),default:Dw(rF),low:Dw(Cee),lowest:Dw(Dee)};let D6=class{constructor(e,t){this.inner=e,this.prec=t}},C6=class S6{of(e){return new iF(this,e)}reconfigure(e){return S6.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},iF=class{constructor(e,t){this.compartment=e,this.inner=t}},P8=class _6{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let y of function(_,M,F){let O=[[],[],[],[],[]],j=new Map;function z(W,J){let G=j.get(W);if(G!=null){if(G<=J)return;let Q=O[G].indexOf(W);Q>-1&&O[G].splice(Q,1),W instanceof iF&&F.delete(W.compartment)}if(j.set(W,J),Array.isArray(W))for(let Q of W)z(Q,J);else if(W instanceof iF){if(F.has(W.compartment))throw new RangeError("Duplicate use of compartment in extensions");let Q=M.get(W.compartment)||W.inner;F.set(W.compartment,Q),z(Q,J)}else if(W instanceof D6)z(W.inner,W.prec);else if(W instanceof wg)O[J].push(W),W.provides&&z(W.provides,J);else if(W instanceof HC)O[J].push(W),W.facet.extensions&&z(W.facet.extensions,rF);else{let Q=W.extension;if(!Q)throw new Error(`Unrecognized extension value in extension set (${W}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);z(Q,J)}}return z(_,rF),O.reduce((W,J)=>W.concat(J))}(e,t,s))y instanceof wg?i.push(y):(o[y.facet.id]||(o[y.facet.id]=[])).push(y);let u=Object.create(null),c=[],p=[];for(let y of i)u[y.id]=p.length<<1,p.push(b=>y.slot(b));let f=r==null?void 0:r.config.facets;for(let y in o){let b=o[y],_=b[0].facet,M=f&&f[y]||[];if(b.every(F=>F.type==0))if(u[_.id]=c.length<<1|1,BI(M,b))c.push(r.facet(_));else{let F=_.combine(b.map(O=>O.value));c.push(r&&_.compare(F,r.facet(_))?r.facet(_):F)}else{for(let F of b)F.type==0?(u[F.id]=c.length<<1|1,c.push(F.value)):(u[F.id]=p.length<<1,p.push(O=>F.dynamicSlot(O)));u[_.id]=p.length<<1,p.push(F=>xee(F,_,b))}}let g=p.map(y=>y(u));return new _6(e,s,g,u,c,o)}};function gb(n,e){if(1&e)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function ZS(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}const E6=gi.define(),oF=gi.define({combine:n=>n.some(e=>e),static:!0}),A6=gi.define({combine:n=>n.length?n[0]:void 0,static:!0}),k6=gi.define(),M6=gi.define(),F6=gi.define(),P6=gi.define({combine:n=>!!n.length&&n[0]});let sd=class{constructor(e,t){this.type=e,this.value=t}static define(){return new _ee}},_ee=class{of(e){return new sd(this,e)}},Eee=class{constructor(e){this.map=e}of(e){return new Bu(this,e)}},Bu=class T6{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new T6(this.type,t)}is(e){return this.type==e}static define(e={}){return new Eee(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}};Bu.reconfigure=Bu.define(),Bu.appendConfig=Bu.define();let Og=class $w{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&w6(r,t.newLength),o.some(u=>u.type==$w.time)||(this.annotations=o.concat($w.time.of(Date.now())))}static create(e,t,r,i,o,s){return new $w(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation($w.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}};function Aee(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else{if(!(i<e.length))return t;o=e[i++],s=e[i++]}!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function T8(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=r0.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Bu.mapEffects(n.effects,i).concat(Bu.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function RA(n,e,t){let r=e.selection,i=w1(e.annotations);return e.userEvent&&(i=i.concat(Og.userEvent.of(e.userEvent))),{changes:e.changes instanceof r0?e.changes:r0.of(e.changes||[],t,n.facet(A6)),selection:r&&(r instanceof In?r:In.single(r.anchor,r.head)),effects:w1(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function I6(n,e,t){let r=RA(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=T8(r,RA(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=Og.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(s){let u=s.startState,c=u.facet(F6),p=s;for(let f=c.length-1;f>=0;f--){let g=c[f](s);g&&Object.keys(g).length&&(p=T8(p,RA(u,g,s.changes.newLength),!0))}return p==s?s:Og.create(u,s.changes,s.selection,p.effects,p.annotations,p.scrollIntoView)}(t?function(s){let u=s.startState,c=!0;for(let f of u.facet(k6)){let g=f(s);if(g===!1){c=!1;break}Array.isArray(g)&&(c=c===!0?g:Aee(c,g))}if(c!==!0){let f,g;if(c===!1)g=s.changes.invertedDesc,f=r0.empty(u.doc.length);else{let y=s.changes.filter(c);f=y.changes,g=y.filtered.mapDesc(y.changes).invertedDesc}s=Og.create(u,f,s.selection&&s.selection.map(g),Bu.mapEffects(s.effects,g),s.annotations,s.scrollIntoView)}let p=u.facet(M6);for(let f=p.length-1;f>=0;f--){let g=p[f](s);s=g instanceof Og?g:Array.isArray(g)&&g.length==1&&g[0]instanceof Og?g[0]:I6(u,w1(g),!1)}return s}(i):i)}Og.time=sd.define(),Og.userEvent=sd.define(),Og.addToHistory=sd.define(),Og.remote=sd.define();const kee=[];function w1(n){return n==null?kee:Array.isArray(n)?n:[n]}var wh=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(wh||(wh={}));const Mee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let aF;try{aF=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Fee(n){return e=>{if(!/\S/.test(e))return wh.Space;if(function(r){if(aF)return aF.test(r);for(let i=0;i<r.length;i++){let o=r[i];if(/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||Mee.test(o)))return!0}return!1}(e))return wh.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return wh.Word;return wh.Other}}let $h=class Fm{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)gb(this,u<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r!=null)return gb(this,r),ZS(this,r);if(t)throw new RangeError("Field is not present in this state")}update(...e){return I6(this,e,!0)}applyTransaction(e){let t,r=this.config,{base:i,compartments:o}=r;for(let u of e.effects)u.is(C6.reconfigure)?(r&&(o=new Map,r.compartments.forEach((c,p)=>o.set(p,c)),r=null),o.set(u.value.compartment,u.value.extension)):u.is(Bu.reconfigure)?(r=null,i=u.value):u.is(Bu.appendConfig)&&(r=null,i=w1(i).concat(u.value));r?t=e.startState.values.slice():(r=P8.resolve(i,o,this),t=new Fm(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(u,c)=>c.reconfigure(u,this),null).values);let s=e.startState.facet(oF)?e.newSelection:e.newSelection.asSingle();new Fm(r,e.newDoc,s,t,(u,c)=>c.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:In.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=w1(r.effects);for(let u=1;u<t.ranges.length;u++){let c=e(t.ranges[u]),p=this.changes(c.changes),f=p.map(i);for(let y=0;y<u;y++)o[y]=o[y].map(f);let g=i.mapDesc(p,!0);o.push(c.range.map(g)),i=i.compose(f),s=Bu.mapEffects(s,f).concat(Bu.mapEffects(w1(c.effects),g))}return{changes:i,selection:In.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof r0?e:r0.of(e,this.doc.length,this.facet(Fm.lineSeparator))}toText(e){return Yc.of(e.split(this.facet(Fm.lineSeparator)||QM))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(gb(this,t),ZS(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof wg&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],u=e[o];i.push(s.init(c=>s.spec.fromJSON(u,c)))}}return Fm.create({doc:e.doc,selection:In.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=P8.resolve(e.extensions||[],new Map),r=e.doc instanceof Yc?e.doc:Yc.of((e.doc||"").split(t.staticFacet(Fm.lineSeparator)||QM)),i=e.selection?e.selection instanceof In?e.selection:In.single(e.selection.anchor,e.selection.head):In.single(0);return w6(i,r.length),t.staticFacet(oF)||(i=i.asSingle()),new Fm(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Fm.tabSize)}get lineBreak(){return this.facet(Fm.lineSeparator)||`
`}get readOnly(){return this.facet(P6)}phrase(e,...t){for(let r of this.facet(Fm.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(E6))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return Fee(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,u=e-r;for(;s>0;){let c=Lp(t,s,!1);if(o(t.slice(c,s))!=wh.Word)break;s=c}for(;u<i;){let c=Lp(t,u);if(o(t.slice(u,c))!=wh.Word)break;u=c}return s==u?null:In.range(s+r,u+r)}};function K0(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],u=r[o];if(u===void 0)r[o]=s;else if(!(u===s||s===void 0)){if(!Object.hasOwnProperty.call(t,o))throw new Error("Config merge conflict for field "+o);r[o]=t[o](u,s)}}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}$h.allowMultipleSelections=oF,$h.tabSize=gi.define({combine:n=>n.length?n[0]:4}),$h.lineSeparator=A6,$h.readOnly=P6,$h.phrases=gi.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}}),$h.languageData=E6,$h.changeFilter=k6,$h.transactionFilter=M6,$h.transactionExtender=F6,C6.reconfigure=Bu.define();let Wv=class{eq(e){return this==e}range(e,t=e){return sF.create(e,t,this)}};Wv.prototype.startSide=Wv.prototype.endSide=0,Wv.prototype.point=!1,Wv.prototype.mapMode=gg.TrackDel;let sF=class O6{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new O6(e,t,r)}};function jA(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}let Pee=class N6{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,u=o.length;;){if(s==u)return s;let c=s+u>>1,p=o[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-t;if(c==s)return p>=0?s:u;p>=0?u=c:s=c+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,u=-1;for(let c=0;c<this.value.length;c++){let p,f,g=this.value[c],y=this.from[c]+e,b=this.to[c]+e;if(y==b){let _=t.mapPos(y,g.startSide,g.mapMode);if(_==null||(p=f=_,g.startSide!=g.endSide&&(f=t.mapPos(y,g.endSide),f<p)))continue}else if(p=t.mapPos(y,g.startSide),f=t.mapPos(b,g.endSide),p>f||p==f&&g.startSide>0&&g.endSide<=0)continue;(f-p||g.endSide-g.startSide)<0||(s<0&&(s=p),g.point&&(u=Math.max(u,f-p)),r.push(g),i.push(p-s),o.push(f-s))}return{mapped:r.length?new N6(i,o,r,u):null,pos:s}}},bh=class ed{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new ed(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(jA)),this.isEmpty)return t.length?ed.of(t):this;let u=new R6(this,null,-1).goto(0),c=0,p=[],f=new $1;for(;u.value||c<t.length;)if(c<t.length&&(u.from-t[c].from||u.startSide-t[c].value.startSide)>=0){let g=t[c++];f.addInner(g.from,g.to,g.value)||p.push(g)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(u.chunkIndex)<t[c].from)&&(!s||i>this.chunkEnd(u.chunkIndex)||o<this.chunkPos[u.chunkIndex])&&f.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!s||i>u.to||o<u.from||s(u.from,u.to,u.value))&&(f.addInner(u.from,u.to,u.value)||p.push(sF.create(u.from,u.to,u.value))),u.next());return f.finishInner(this.nextLayer.isEmpty&&!p.length?ed.empty:this.nextLayer.update({add:p,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let u=this.chunkPos[s],c=this.chunk[s],p=e.touchesRange(u,u+c.length);if(p===!1)i=Math.max(i,c.maxPoint),t.push(c),r.push(e.mapPos(u));else if(p===!0){let{mapped:f,pos:g}=c.map(u,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),r.push(g))}}let o=this.nextLayer.map(e);return t.length==0?o:new ed(r,t,o||ed.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return uF.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return uF.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),u=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),c=I8(s,u,r),p=new Cw(s,c,o),f=new Cw(u,c,o);r.iterGaps((g,y,b)=>O8(p,g,f,y,b,i)),r.empty&&r.length==0&&O8(p,0,f,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),s=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let u=I8(o,s),c=new Cw(o,u,0).goto(r),p=new Cw(s,u,0).goto(r);for(;;){if(c.to!=p.to||!lF(c.active,p.active)||c.point&&(!p.point||!c.point.eq(p.point)))return!1;if(c.to>i)return!0;c.next(),p.next()}}static spans(e,t,r,i,o=-1){let s=new Cw(e,null,o).goto(t),u=t,c=s.openStart;for(;;){let p=Math.min(s.to,r);if(s.point){let f=s.activeForPoint(s.to),g=s.pointFrom<t?f.length+1:s.point.startSide<0?f.length:Math.min(f.length,c);i.point(u,p,s.point,f,g,s.pointRank),c=Math.min(s.openEnd(p),f.length)}else p>u&&(i.span(u,p,s.active,c),c=s.openEnd(p));if(s.to>r)return c+(s.point&&s.to>r?1:0);u=s.to,s.next()}}static of(e,t=!1){let r=new $1;for(let i of e instanceof sF?[e]:t?function(s){if(s.length>1)for(let u=s[0],c=1;c<s.length;c++){let p=s[c];if(jA(u,p)>0)return s.slice().sort(jA);u=p}return s}(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ed.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ed.empty;i=i.nextLayer)t=new ed(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}};bh.empty=new bh([],[],null,-1),bh.empty.nextLayer=bh.empty;let $1=class B6{finishChunk(e){this.chunks.push(new Pee(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new B6)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(bh.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=bh.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}};function I8(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let u=r.get(o.chunk[s]);u==null||(t?t.mapPos(u):u)!=o.chunkPos[s]||t!=null&&t.touchesRange(u,u+o.chunk[s].length)||i.add(o.chunk[s])}return i}let R6=class{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},uF=class j6{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new R6(s,t,r,o));return i.length==1?i[0]:new j6(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)LA(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)LA(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),LA(this.heap,0)}}};function LA(n,e){for(let t=n[e];;){let r=1+(e<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}let Cw=class{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=uF.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){sD(this.active,e),sD(this.activeTo,e),sD(this.activeRank,e),this.minActive=N8(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;uD(this.active,t,r),uD(this.activeTo,t,i),uD(this.activeRank,t,o),e&&uD(e,t,this.cursor.from),this.minActive=N8(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&sD(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}};function O8(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,u=r,c=r-e;for(;;){let p=n.to+c-t.to||n.endSide-t.endSide,f=p<0?n.to+c:t.to,g=Math.min(f,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&lF(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(u,g,n.point,t.point):g>u&&!lF(n.active,t.active)&&o.compareRange(u,g,n.active,t.active),f>s)break;u=f,p<=0&&n.next(),p>=0&&t.next()}}function lF(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function sD(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function uD(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function N8(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function uw(n,e,t=n.length){let r=0;for(let i=0;i<t;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Lp(n,i));return r}function cF(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=Lp(n,i)}return r===!0?-1:n.length}const B8=typeof Symbol>"u"?"__ͼ":Symbol.for("ͼ"),fF=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),R8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};let hv=class{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,u,c,p){let f=[],g=/^@(\w+)\b/.exec(s[0]),y=g&&g[1]=="keyframes";if(g&&u==null)return c.push(s[0]+";");for(let b in u){let _=u[b];if(/&/.test(b))o(b.split(/,\s*/).map(M=>s.map(F=>M.replace(/&/,F))).reduce((M,F)=>M.concat(F)),_,c);else if(_&&typeof _=="object"){if(!g)throw new RangeError("The value of a property ("+b+") should be a primitive value.");o(i(b),_,f,y)}else _!=null&&f.push(b.replace(/_.*/,"").replace(/[A-Z]/g,M=>"-"+M.toLowerCase())+": "+_+";")}(f.length||y)&&c.push((!r||g||p?s:s.map(r)).join(", ")+" {"+f.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=R8[B8]||1;return R8[B8]=e+1,"ͼ"+e.toString(36)}static mount(e,t,r){let i=e[fF],o=r&&r.nonce;i?o&&i.setNonce(o):i=new Tee(e,o),i.mount(Array.isArray(t)?t:[t],e)}},j8=new Map,Tee=class{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=j8.get(r);if(o)return e[fF]=o;this.sheet=new i.CSSStyleSheet,j8.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[fF]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let u=e[s],c=this.modules.indexOf(u);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,u),r)for(let p=0;p<u.rules.length;p++)r.insertRule(u.rules[p],i++)}else{for(;o<c;)i+=this.modules[o++].rules.length;i+=u.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let c=0;c<this.modules.length;c++)s+=this.modules[c].getRules()+`
`;this.styleTag.textContent=s;let u=t.head||t;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}};for(var pv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$b={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Iee=typeof navigator<"u"&&/Mac/.test(navigator.platform),Oee=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Fp=0;Fp<10;Fp++)pv[48+Fp]=pv[96+Fp]=String(Fp);for(Fp=1;Fp<=24;Fp++)pv[Fp+111]="F"+Fp;for(Fp=65;Fp<=90;Fp++)pv[Fp]=String.fromCharCode(Fp+32),$b[Fp]=String.fromCharCode(Fp);for(var $A in pv)$b.hasOwnProperty($A)||($b[$A]=pv[$A]);function zb(n){let e;return e=n.nodeType==11?n.getSelection?n:n.ownerDocument:n,e.getSelection()}function hF(n,e){return!!e&&(n==e||n.contains(e.nodeType!=1?e.parentNode:e))}function VC(n,e){if(!e.anchorNode)return!1;try{return hF(n,e.anchorNode)}catch{return!1}}function Ub(n){return n.nodeType==3?cy(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function mb(n,e,t,r){return!!t&&(L8(n,e,t,r,-1)||L8(n,e,t,r,1))}function ly(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function e_(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function L8(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:$0(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=ly(n)+(i<0?0:1),n=o}else{if(n.nodeType!=1||(n=n.childNodes[e+(i<0?-1:0)]).nodeType==1&&n.contentEditable=="false")return!1;e=i<0?$0(n):0}}}function $0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function FE(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Nee(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function L6(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}let Bee=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?$0(t):0),r,Math.min(e.focusOffset,r?$0(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}},$8,Ty=null;function $6(n){if(n.setActive)return n.setActive();if(Ty)return n.focus(Ty);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ty==null?{get preventScroll(){return Ty={preventScroll:!0},!0}}:void 0),!Ty){Ty=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}function cy(n,e,t=e){let r=$8||($8=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function b1(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function z6(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function U6(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function W6(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=$0(t)}else{if(!t.parentNode||e_(t))return null;r=ly(t),t=t.parentNode}}}function H6(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else{if(!t.parentNode||e_(t))return null;r=ly(t)+1,t=t.parentNode}}}let Xg=class pF{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new pF(e.parentNode,ly(e),t)}static after(e,t){return new pF(e.parentNode,ly(e)+1,t)}};const RI=[];let yh=class gF{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let r,i=this.dom,o=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(r=o?o.nextSibling:i.firstChild)){let u=gF.get(r);(!u||!u.parent&&u.canReuseDOM(s))&&s.reuseDOM(r)}s.sync(e,t),s.flags&=-8}if(r=o?o.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&r!=s.dom&&(t.written=!0),s.dom.parentNode==i)for(;r&&r!=s.dom;)r=z8(r);else i.insertBefore(s.dom,r);o=s.dom}for(r=o?o.nextSibling:i.firstChild,r&&t&&t.node==i&&(t.written=!0);r;)r=z8(r)}else if(1&this.flags)for(let r of this.children)7&r.flags&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=$0(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(i=e==o.firstChild?-1:1),e=o}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!gF.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,u=-1;for(let c=0,p=r,f=r;c<this.children.length;c++){let g=this.children[c],y=p+g.length;if(p<e&&y>t)return g.domBoundsAround(e,t,p);if(y>=e&&i==-1&&(i=c,o=p),p>t&&g.dom.parentNode==this.dom){s=c,u=f;break}f=y,p=y+g.breakAfter}return{from:o,to:u<0?r+this.length:u,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=RI){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new V6(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}};function z8(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}yh.prototype.breakAfter=0;let V6=class{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}};function q6(n,e,t,r,i,o,s,u,c){let{children:p}=n,f=p.length?p[e]:null,g=o.length?o[o.length-1]:null,y=g?g.breakAfter:s;if(!(e==r&&f&&!s&&!y&&o.length<2&&f.merge(t,i,o.length?g:null,t==0,u,c))){if(r<p.length){let b=p[r];b&&(i<b.length||b.breakAfter&&(g!=null&&g.breakAfter))?(e==r&&(b=b.split(i),i=0),!y&&g&&b.merge(0,i,g,!0,0,c)?o[o.length-1]=b:((i||b.children.length&&!b.children[0].length)&&b.merge(0,i,null,!1,0,c),o.push(b))):b!=null&&b.breakAfter&&(g?g.breakAfter=1:s=1),r++}for(f&&(f.breakAfter=s,t>0&&(!s&&o.length&&f.merge(t,f.length,o[0],!1,u,0)?f.breakAfter=o.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,u,0),e++));e<r&&o.length;)if(p[r-1].become(o[o.length-1]))r--,o.pop(),c=o.length?0:u;else{if(!p[e].become(o[0]))break;e++,o.shift(),u=o.length?0:c}!o.length&&e&&r<p.length&&!p[e-1].breakAfter&&p[r].merge(0,0,p[e-1],!1,u,c)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function K6(n,e,t,r,i,o){let s=n.childCursor(),{i:u,off:c}=s.findPos(t,1),{i:p,off:f}=s.findPos(e,-1),g=e-t;for(let y of r)g+=y.length;n.length+=g,q6(n,p,f,u,c,r,0,i,o)}let Fg=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},mF=typeof document<"u"?document:{documentElement:{style:{}}};const dF=/Edge\/(\d+)/.exec(Fg.userAgent),G6=/MSIE \d/.test(Fg.userAgent),vF=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Fg.userAgent),PE=!!(G6||vF||dF),U8=!PE&&/gecko\/(\d+)/i.test(Fg.userAgent),zA=!PE&&/Chrome\/(\d+)/.exec(Fg.userAgent),W8="webkitFontSmoothing"in mF.documentElement.style,Y6=!PE&&/Apple Computer/.test(Fg.vendor),H8=Y6&&(/Mobile\/\w+/.test(Fg.userAgent)||Fg.maxTouchPoints>2);var ti={mac:H8||/Mac/.test(Fg.platform),windows:/Win/.test(Fg.platform),linux:/Linux|X11/.test(Fg.platform),ie:PE,ie_version:G6?mF.documentMode||6:vF?+vF[1]:dF?+dF[1]:0,gecko:U8,gecko_version:U8?+(/Firefox\/(\d+)/.exec(Fg.userAgent)||[0,0])[1]:0,chrome:!!zA,chrome_version:zA?+zA[1]:0,ios:H8,android:/Android\b/.test(Fg.userAgent),webkit:W8,safari:Y6,webkit_version:W8?+(/\bAppleWebKit\/(\d+)/.exec(Fg.userAgent)||[0,0])[1]:0,tabSize:mF.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};let gv=class yF extends yh{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return!(8&this.flags||r&&(!(r instanceof yF)||this.length-(t-e)+r.length>256||8&r.flags))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new yF(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Xg(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(i,o,s){let u=i.nodeValue.length;o>u&&(o=u);let c=o,p=o,f=0;o==0&&s<0||o==u&&s>=0?ti.chrome||ti.gecko||(o?(c--,f=1):p<u&&(p++,f=-1)):s<0?c--:p<u&&p++;let g=cy(i,c,p).getClientRects();if(!g.length)return null;let y=g[(f?f<0:s>=0)?0:g.length-1];return ti.safari&&!f&&y.width==0&&(y=Array.prototype.find.call(g,b=>b.width)||y),f?FE(y,f<0):y||null}(this.dom,e,t)}},z1=class wF extends yh{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(z6(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return(!r||!(!(r instanceof wF&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0))&&(K6(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let u of this.children){let c=r+u.length;c>e&&t.push(r<e?u.split(e-r):u),i<0&&r>=e&&(i=o),r=c,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new wF(this.mark,t,s)}domAtPos(e){return J6(this,e)}coordsAt(e,t){return Q6(this,e,t)}},jI=class zw extends yh{static create(e,t,r){return new zw(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=zw.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,s){return!(r&&(!(r instanceof zw&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof zw&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Yc.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Yc.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Xg.before(this.dom):Xg.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let u=s?i.length-1:0;o=i[u],!(e>0?u==0:u==i.length-1||o.top<o.bottom);u+=s?-1:1);return FE(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},bF=class xF extends yh{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof xF&&e.side==this.side}split(){return new xF(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Xg.before(this.dom):Xg.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Yc.empty}get isHidden(){return!0}};function J6(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],u=o+s.length;if(!(u==o&&s.getSide()<=0)){if(e>o&&e<u&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=u}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new Xg(t,0)}function X6(n,e,t){let r,{children:i}=n;t>0&&e instanceof z1&&i.length&&(r=i[i.length-1])instanceof z1&&r.mark.eq(e.mark)?X6(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function Q6(n,e,t){let r=null,i=-1,o=null,s=-1;(function c(p,f){for(let g=0,y=0;g<p.children.length&&y<=f;g++){let b=p.children[g],_=y+b.length;_>=f&&(b.children.length?c(b,f-y):(!o||o.isHidden&&t>0)&&(_>f||y==_&&b.getSide()>0)?(o=b,s=f-y):(y<f||y==_&&b.getSide()<0&&!b.isHidden)&&(r=b,i=f-y)),y=_}})(n,e);let u=(t<0?r:o)||r||o;return u?u.coordsAt(Math.max(0,u==r?i:s),t):function(p){let f=p.dom.lastChild;if(!f)return p.dom.getBoundingClientRect();let g=Ub(f);return g[g.length-1]||null}(n)}function DF(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}gv.prototype.children=jI.prototype.children=bF.prototype.children=RI;const V8=Object.create(null);function t_(n,e,t){if(n==e)return!0;n||(n=V8),e||(e=V8);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function CF(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function Ree(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}let Sv=class{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}};var dg=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(dg||(dg={}));let Aa=class extends Wv{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new LI(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new U1(e,t,t,r,e.widget||null,!1)}static replace(e){let t,r,i=!!e.block;if(e.isBlockGap)t=-5e8,r=4e8;else{let{start:o,end:s}=nU(e,i);t=(o?i?-3e8:-1:5e8)-1,r=1+(s?i?2e8:1:-6e8)}return new U1(e,t,r,i,e.widget||null,!0)}static line(e){return new SF(e)}static set(e,t=!1){return bh.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}};Aa.none=bh.empty;let LI=class Z6 extends Aa{constructor(e){let{start:t,end:r}=nU(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof Z6&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&t_(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}};LI.prototype.point=!1;let SF=class eU extends Aa{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof eU&&this.spec.class==e.spec.class&&t_(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}};SF.prototype.mapMode=gg.TrackBefore,SF.prototype.point=!0;let U1=class tU extends Aa{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?gg.TrackBefore:gg.TrackAfter:gg.TrackDel}get type(){return this.startSide!=this.endSide?dg.WidgetRange:this.startSide<=0?dg.WidgetBefore:dg.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof tU&&function(r,i){return r==i||!!(r&&i&&r.compare(i))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}};function nU(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function _F(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}U1.prototype.point=!0;let fg=class Uw extends yh{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof Uw))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),K6(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new Uw;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){t_(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){X6(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=DF(t,this.attrs||{})),r&&(this.attrs=DF({class:r},this.attrs||{}))}domAtPos(e){return J6(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?4&this.flags&&(z6(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(CF(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&yh.get(i)instanceof z1;)i=i.lastChild;if(!(i&&this.length&&(i.nodeName=="BR"||((r=yh.get(i))===null||r===void 0?void 0:r.isEditable)!=0||ti.ios&&this.children.some(o=>o instanceof gv)))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e,t=0;for(let r of this.children){if(!(r instanceof gv)||/[^ -~]/.test(r.text))return null;let i=Ub(r.dom);if(i.length!=1)return null;t+=i[0].width,e=i[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let r=Q6(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Uw&&this.children.length==0&&e.children.length==0&&t_(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof Uw)return o;if(s>t)break}i=s+o.breakAfter}return null}},db=class qC extends yh{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return!(r&&(!(r instanceof qC&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Xg.before(this.dom):Xg.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new qC(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return RI}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Yc.empty}domBoundsAround(){return null}become(e){return e instanceof qC&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)||(this.widget instanceof EF?null:FE(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t!=r&&(e<0?t<0:r>0)}},EF=class extends Sv{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},UA=class rU{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof db&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new fg),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(lD(new bF(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof db||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(lD(new gv(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof U1){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=t-e;if(r instanceof U1)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new db(r.widget||a1.block,u,r));else{let c=jI.create(r.widget||a1.inline,u,u?0:r.startSide),p=this.atCursorPos&&!c.isEditable&&o<=i.length&&(e<t||r.startSide>0),f=!c.isEditable&&(e<t||o>i.length||r.startSide<=0),g=this.getLine();this.pendingBuffer!=2||p||c.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),p&&(g.append(lD(new bF(1),i),o),o=i.length+Math.max(0,o-i.length)),g.append(lD(c,i),o),this.atCursorPos=f,this.pendingBuffer=f?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new rU(e,t,r,o);return s.openEnd=bh.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function lD(n,e){for(let t of e)n=new z1(t,[n],n.length);return n}let a1=class extends Sv{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};a1.inline=new a1("span"),a1.block=new a1("div");var uh=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(uh||(uh={}));const fy=uh.LTR,$I=uh.RTL;function iU(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const jee=iU("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Lee=iU("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),AF=Object.create(null),l0=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);AF[e]=t,AF[t]=-e}function oU(n){return n<=247?jee[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Lee[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const $ee=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;let Wd=class{get dir(){return this.level%2?$I:fy}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let u=e[s];if(u.from<=t&&u.to>=t){if(u.level==r)return s;(o<0||(i!=0?i<0?u.from<t:u.to>t:e[o].level>u.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}};function aU(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!aU(r.inner,i.inner))return!1}return!0}const Af=[];function kF(n,e,t,r,i,o,s){let u=r%2?2:1;if(r%2==i%2)for(let c=e,p=0;c<t;){let f=!0,g=!1;if(p==o.length||c<o[p].from){let M=Af[c];M!=u&&(f=!1,g=M==16)}let y=f||u!=1?null:[],b=f?r:r+1,_=c;e:for(;;)if(p<o.length&&_==o[p].from){if(g)break e;let M=o[p];if(!f)for(let F=M.to,O=p+1;;){if(F==t)break e;if(!(O<o.length&&o[O].from==F)){if(Af[F]==u)break e;break}F=o[O++].to}p++,y?y.push(M):(M.from>c&&s.push(new Wd(c,M.from,b)),MF(n,M.direction==fy!=!(b%2)?r+1:r,i,M.inner,M.from,M.to,s),c=M.to),_=M.to}else{if(_==t||(f?Af[_]!=u:Af[_]==u))break;_++}y?kF(n,c,_,r+1,i,y,s):c<_&&s.push(new Wd(c,_,b)),c=_}else for(let c=t,p=o.length;c>e;){let f=!0,g=!1;if(!p||c>o[p-1].to){let M=Af[c-1];M!=u&&(f=!1,g=M==16)}let y=f||u!=1?null:[],b=f?r:r+1,_=c;e:for(;;)if(p&&_==o[p-1].to){if(g)break e;let M=o[--p];if(!f)for(let F=M.from,O=p;;){if(F==e)break e;if(!O||o[O-1].to!=F){if(Af[F-1]==u)break e;break}F=o[--O].from}y?y.push(M):(M.to<c&&s.push(new Wd(M.to,c,b)),MF(n,M.direction==fy!=!(b%2)?r+1:r,i,M.inner,M.from,M.to,s),c=M.from),_=M.from}else{if(_==e||(f?Af[_-1]!=u:Af[_-1]==u))break;_--}y?kF(n,_,c,r+1,i,y,s):_<c&&s.push(new Wd(_,c,b)),c=_}}function MF(n,e,t,r,i,o,s){let u=e%2?2:1;(function(p,f,g,y,b){for(let _=0;_<=y.length;_++){let M=_?y[_-1].to:f,F=_<y.length?y[_].from:g,O=_?256:b;for(let j=M,z=O,W=O;j<F;j++){let J=oU(p.charCodeAt(j));J==512?J=z:J==8&&W==4&&(J=16),Af[j]=J==4?2:J,7&J&&(W=J),z=J}for(let j=M,z=O,W=O;j<F;j++){let J=Af[j];if(J==128)j<F-1&&z==Af[j+1]&&24&z?J=Af[j]=z:Af[j]=256;else if(J==64){let G=j+1;for(;G<F&&Af[G]==64;)G++;let Q=j&&z==8||G<g&&Af[G]==8?W==1?1:8:256;for(let te=j;te<G;te++)Af[te]=Q;j=G-1}else J==8&&W==1&&(Af[j]=1);z=J,7&J&&(W=J)}}})(n,i,o,r,u),function(p,f,g,y,b){let _=b==1?2:1;for(let M=0,F=0,O=0;M<=y.length;M++){let j=M?y[M-1].to:f,z=M<y.length?y[M].from:g;for(let W,J,G,Q=j;Q<z;Q++)if(J=AF[W=p.charCodeAt(Q)])if(J<0){for(let te=F-3;te>=0;te-=3)if(l0[te+1]==-J){let ae=l0[te+2],se=2&ae?b:4&ae?1&ae?_:b:0;se&&(Af[Q]=Af[l0[te]]=se),F=te;break}}else{if(l0.length==189)break;l0[F++]=Q,l0[F++]=W,l0[F++]=O}else if((G=Af[Q])==2||G==1){let te=G==b;O=te?0:1;for(let ae=F-3;ae>=0;ae-=3){let se=l0[ae+2];if(2&se)break;if(te)l0[ae+2]|=2;else{if(4&se)break;l0[ae+2]|=4}}}}}(n,i,o,r,u),function(p,f,g,y){for(let b=0,_=y;b<=g.length;b++){let M=b?g[b-1].to:p,F=b<g.length?g[b].from:f;for(let O=M;O<F;){let j=Af[O];if(j==256){let z=O+1;for(;;)if(z==F){if(b==g.length)break;z=g[b++].to,F=b<g.length?g[b].from:f}else{if(Af[z]!=256)break;z++}let W=_==1,J=W==((z<f?Af[z]:y)==1)?W?1:2:y;for(let G=z,Q=b,te=Q?g[Q-1].to:p;G>O;)G==te&&(G=g[--Q].from,te=Q?g[Q-1].to:p),Af[--G]=J;O=z}else _=j,O++}}}(i,o,r,u),kF(n,i,o,e,t,r,s)}function q8(n){return[new Wd(0,n,0)]}let sU="";function zee(n,e,t,r,i){var o;let s=r.head-n.from,u=Wd.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),c=e[u],p=c.side(i,t);if(s==p){let y=u+=i?1:-1;if(y<0||y>=e.length)return null;c=e[u=y],s=c.side(!i,t),p=c.side(i,t)}let f=Lp(n.text,s,c.forward(i,t));(f<c.from||f>c.to)&&(f=p),sU=n.text.slice(Math.min(s,f),Math.max(s,f));let g=u==(i?e.length-1:0)?null:e[u+(i?1:-1)];return g&&f==p&&g.level+(i?0:1)<c.level?In.cursor(g.side(!i,t)+n.from,g.forward(i,t)?1:-1,g.level):In.cursor(f+n.from,c.forward(i,t)?-1:1,c.level)}function Uee(n,e,t){for(let r=e;r<t;r++){let i=oU(n.charCodeAt(r));if(i==1)return fy;if(i==2||i==4)return $I}return fy}const uU=gi.define(),lU=gi.define(),cU=gi.define(),fU=gi.define(),FF=gi.define(),hU=gi.define(),pU=gi.define(),zI=gi.define(),UI=gi.define(),gU=gi.define({combine:n=>n.some(e=>e)}),mU=gi.define({combine:n=>n.some(e=>e)}),dU=gi.define();let WA=class PF{constructor(e,t="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new PF(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new PF(In.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}};const cD=Bu.define({map:(n,e)=>n.map(e)}),vU=Bu.define();function Ng(n,e,t){let r=n.facet(fU);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Nd=gi.define({combine:n=>!n.length||n[0]});let Wee=0;const Ww=gi.define();let Wp=class TF{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new TF(Wee++,e,r,i,u=>{let c=[Ww.of(u)];return s&&c.push(Wb.of(p=>{let f=p.plugin(u);return f?s(f):Aa.none})),o&&c.push(o(u)),c})}static fromClass(e,t){return TF.define(r=>new e(r),t)}},HA=class{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Ng(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Ng(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Ng(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const yU=gi.define(),WI=gi.define(),Wb=gi.define(),wU=gi.define(),HI=gi.define(),bU=gi.define();function K8(n,e){let t=n.state.facet(bU);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return bh.spans(r,e.from,e.to,{point(){},span(o,s,u,c){let p=o-e.from,f=s-e.from,g=i;for(let y=u.length-1;y>=0;y--,c--){let b,_=u[y].spec.bidiIsolate;if(_==null&&(_=Uee(e.text,p,f)),c>0&&g.length&&(b=g[g.length-1]).to==p&&b.direction==_)b.to=f,g=b.inner;else{let M={from:p,to:f,direction:_,inner:[]};g.push(M),g=M.inner}}}}),i}const xU=gi.define();function DU(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(xU)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const Hw=gi.define();let Hd=class KC{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new KC(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,u=0;;i++){let c=i==e.length?null:e[i],p=s-u,f=c?c.fromB:1e9;for(;o<t.length&&t[o]<f;){let g=t[o],y=t[o+1],b=Math.max(u,g),_=Math.min(f,y);if(b<=_&&new KC(b+p,_+p,b,_).addToSet(r),y>f)break;o+=2}if(!c)return r;new KC(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),s=c.toA,u=c.toB}}},G8=class CU{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=r0.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,u,c)=>i.push(new Hd(o,s,u,c))),this.changedRanges=i}static create(e,t,r){return new CU(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},Y8=class extends yh{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Aa.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new fg],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Hd(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:function(c,p){let f=!1;return p&&c.iterChangedRanges((g,y)=>{g<p.to&&y>p.from&&(f=!0)}),f}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));let o=i>-1?function(c,p,f){let g=SU(c,f);if(!g)return null;let{node:y,from:b,to:_}=g,M=y.nodeValue;if(/[\n\r]/.test(M)||c.state.doc.sliceString(g.from,g.to)!=M)return null;let F=p.invertedDesc,O=new Hd(F.mapPos(b),F.mapPos(_),b,_),j=[];for(let z=y.parentNode;;z=z.parentNode){let W=yh.get(z);if(W instanceof z1)j.push({node:z,deco:W.mark});else{if(W instanceof fg||z.nodeName=="DIV"&&z.parentNode==c.contentDOM)return{range:O,text:y,marks:j,line:z};if(z==c.contentDOM)return null;j.push({node:z,deco:new LI({inclusive:!0,attributes:Ree(z),tagName:z.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new Hd(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(ti.ie||ti.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=function(c,p,f){let g=new Hee;return bh.compare(c,p,f,g),g.changes}(this.decorations,this.updateDeco(),e.changes);return r=Hd.extendWithRanges(r,s),!!(7&this.flags||r.length!=0)&&(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ti.chrome||ti.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof db&&s.widget instanceof EF&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let u=s>=0?i[s]:null;if(!u)break;let c,p,f,g,{fromA:y,toA:b,fromB:_,toB:M}=u;if(r&&r.range.fromB<M&&r.range.toB>_){let W=UA.build(this.view.state.doc,_,r.range.fromB,this.decorations,this.dynamicDecorationMap),J=UA.build(this.view.state.doc,r.range.toB,M,this.decorations,this.dynamicDecorationMap);p=W.breakAtStart,f=W.openStart,g=J.openEnd;let G=this.compositionView(r);J.breakAtStart?G.breakAfter=1:J.content.length&&G.merge(G.length,G.length,J.content[0],!1,J.openStart,0)&&(G.breakAfter=J.content[0].breakAfter,J.content.shift()),W.content.length&&G.merge(0,0,W.content[W.content.length-1],!0,0,W.openEnd)&&W.content.pop(),c=W.content.concat(G).concat(J.content)}else({content:c,breakAtStart:p,openStart:f,openEnd:g}=UA.build(this.view.state.doc,_,M,this.decorations,this.dynamicDecorationMap));let{i:F,off:O}=o.findPos(b,1),{i:j,off:z}=o.findPos(y,-1);q6(this,j,z,F,O,c,p,f,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(vU)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new gv(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new z1(i,[t],t.length);let r=new fg;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(c=>7&c.flags)?1:0),this.markedForComposition.add(s);let u=yh.get(o);u&&u!=s&&(u.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&VC(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(u.anchor)),p=u.empty?c:this.moveToLine(this.domAtPos(u.head));if(ti.gecko&&u.empty&&!this.hasComposition&&function(y){return y.node.nodeType==1&&y.node.firstChild&&(y.offset==0||y.node.childNodes[y.offset-1].contentEditable=="false")&&(y.offset==y.node.childNodes.length||y.node.childNodes[y.offset].contentEditable=="false")}(c)){let g=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(g,c.node.childNodes[c.offset]||null)),c=p=new Xg(g,0),s=!0}let f=this.view.observer.selectionRange;!s&&f.focusNode&&(mb(c.node,c.offset,f.anchorNode,f.anchorOffset)&&mb(p.node,p.offset,f.focusNode,f.focusOffset)||this.suppressWidgetCursorChange(f,u))||(this.view.observer.ignore(()=>{ti.android&&ti.chrome&&this.dom.contains(f.focusNode)&&function(b,_){for(let M=b;M&&M!=_;M=M.assignedSlot||M.parentNode)if(M.nodeType==1&&M.contentEditable=="false")return!0;return!1}(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let g=zb(this.view.root);if(g)if(u.empty){if(ti.gecko){let y=function(_,M){return _.nodeType!=1?0:(M&&_.childNodes[M-1].contentEditable=="false"?1:0)|(M<_.childNodes.length&&_.childNodes[M].contentEditable=="false"?2:0)}(c.node,c.offset);if(y&&y!=3){let b=(y==1?W6:H6)(c.node,c.offset);b&&(c=new Xg(b.node,b.offset))}}g.collapse(c.node,c.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(c.node,c.offset);try{g.extend(p.node,p.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([c,p]=[p,c]),y.setEnd(p.node,p.offset),y.setStart(c.node,c.offset),g.removeAllRanges(),g.addRange(y)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,p)),this.impreciseAnchor=c.precise?null:new Xg(f.anchorNode,f.anchorOffset),this.impreciseHead=p.precise?null:new Xg(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&mb(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=zb(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!(r&&t.empty&&t.assoc&&r.modify))return;let s=fg.find(this,t.head);if(!s)return;let u=s.posAtStart;if(t.head==u||t.head==u+s.length)return;let c=this.coordsAt(t.head,-1),p=this.coordsAt(t.head,1);if(!c||!p||c.bottom>p.top)return;let f=this.domAtPos(t.head+t.assoc);r.collapse(f.node,f.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let g=e.observer.selectionRange;e.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t,r=this.dom;if(e.node!=r)return e;for(let i=e.offset;!t&&i<r.childNodes.length;i++){let o=yh.get(r.childNodes[i]);o instanceof fg&&(t=o.domAtPos(0))}for(let i=e.offset-1;!t&&i>=0;i--){let o=yh.get(r.childNodes[i]);o instanceof fg&&(t=o.domAtPos(o.length))}return t?new Xg(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let r=yh.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof fg)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let u=this.children[s],c=o-u.breakAfter,p=c-u.length;if(c<e)break;if(p<=e&&(p<e||u.covers(-1))&&(c>e||u.covers(1))&&(!r||u instanceof fg&&!(r instanceof fg&&t>=0)))r=u,i=p;else if(r&&p==e&&c==e&&u instanceof db&&Math.abs(t)<2){if(u.deco.startSide<0)break;s&&(r=null)}o=p}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof fg))return null;for(;i.children.length;){let{i:u,off:c}=i.childPos(r,1);for(;;u++){if(u==i.children.length)return null;if((i=i.children[u]).length)break}r=c}if(!(i instanceof gv))return null;let o=Lp(i.text,r);if(o==r)return null;let s=cy(i.dom,r,o).getClientRects();for(let u=0;u<s.length;u++){let c=s[u];if(u==s.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==uh.LTR;for(let p=0,f=0;f<this.children.length;f++){let g=this.children[f],y=p+g.length;if(y>i)break;if(p>=r){let b=g.dom.getBoundingClientRect();if(t.push(b.height),s){let _=g.dom.lastChild,M=_?Ub(_):[];if(M.length){let F=M[M.length-1],O=c?F.right-b.left:b.right-F.left;O>u&&(u=O,this.minWidth=o,this.minWidthFrom=p,this.minWidthTo=y)}}}p=y+g.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?uh.RTL:uh.LTR}measureTextSize(){for(let o of this.children)if(o instanceof fg){let s=o.measureTextSize();if(s)return s}let e,t,r,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let o=Ub(i.firstChild)[0];e=i.getBoundingClientRect().height,t=o?o.width/27:7,r=o?o.height:e,i.remove()}),{lineHeight:e,charWidth:t,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new V6(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let u=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Aa.replace({widget:new EF(u),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return Aa.set(e)}updateDeco(){let e=1,t=this.view.state.facet(Wb).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(wU).map((o,s)=>{let u=typeof o=="function";return u&&(r=!0),u?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(bh.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let p=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=p.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let p of this.view.state.facet(dU))try{if(p(this.view,e.range,e))return!0}catch(f){Ng(this.view.state,f,"scroll handler")}let t,{range:r}=e,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!i)return;!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});let o=DU(this.view),s={left:i.left-o.left,top:i.top-o.top,right:i.right+o.right,bottom:i.bottom+o.bottom},{offsetWidth:u,offsetHeight:c}=this.view.scrollDOM;(function(f,g,y,b,_,M,F,O){let j=f.ownerDocument,z=j.defaultView||window;for(let W=f,J=!1;W&&!J;)if(W.nodeType==1){let G,Q=W==j.body,te=1,ae=1;if(Q)G=Nee(z);else{if(/^(fixed|sticky)$/.test(getComputedStyle(W).position)&&(J=!0),W.scrollHeight<=W.clientHeight&&W.scrollWidth<=W.clientWidth){W=W.assignedSlot||W.parentNode;continue}let xe=W.getBoundingClientRect();({scaleX:te,scaleY:ae}=L6(W,xe)),G={left:xe.left,right:xe.left+W.clientWidth*te,top:xe.top,bottom:xe.top+W.clientHeight*ae}}let se=0,ge=0;if(_=="nearest")g.top<G.top?(ge=-(G.top-g.top+F),y>0&&g.bottom>G.bottom+ge&&(ge=g.bottom-G.bottom+ge+F)):g.bottom>G.bottom&&(ge=g.bottom-G.bottom+F,y<0&&g.top-ge<G.top&&(ge=-(G.top+ge-g.top+F)));else{let xe=g.bottom-g.top,Pe=G.bottom-G.top;ge=(_=="center"&&xe<=Pe?g.top+xe/2-Pe/2:_=="start"||_=="center"&&y<0?g.top-F:g.bottom-Pe+F)-G.top}if(b=="nearest"?g.left<G.left?(se=-(G.left-g.left+M),y>0&&g.right>G.right+se&&(se=g.right-G.right+se+M)):g.right>G.right&&(se=g.right-G.right+M,y<0&&g.left<G.left+se&&(se=-(G.left+se-g.left+M))):se=(b=="center"?g.left+(g.right-g.left)/2-(G.right-G.left)/2:b=="start"==O?g.left-M:g.right-(G.right-G.left)+M)-G.left,se||ge)if(Q)z.scrollBy(se,ge);else{let xe=0,Pe=0;if(ge){let Ce=W.scrollTop;W.scrollTop+=ge/ae,Pe=(W.scrollTop-Ce)*ae}if(se){let Ce=W.scrollLeft;W.scrollLeft+=se/te,xe=(W.scrollLeft-Ce)*te}g={left:g.left-xe,top:g.top-Pe,right:g.right-xe,bottom:g.bottom-Pe},xe&&Math.abs(xe-se)<1&&(b="nearest"),Pe&&Math.abs(Pe-ge)<1&&(_="nearest")}if(Q)break;W=W.assignedSlot||W.parentNode}else{if(W.nodeType!=11)break;W=W.host}})(this.view.scrollDOM,s,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==uh.LTR)}};function SU(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=W6(t.focusNode,t.focusOffset),i=H6(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let u=yh.get(i.node);if(!u||u instanceof gv&&u.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let c=yh.get(r.node);!c||c instanceof gv&&c.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}let Hee=class{constructor(){this.changes=[]}compareRange(e,t){_F(e,t,this.changes)}comparePoint(e,t){_F(e,t,this.changes)}};function Vee(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function qee(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function VA(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function J8(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function X8(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function IF(n,e,t){let r,i,o,s,u,c,p,f,g=!1;for(let b=n.firstChild;b;b=b.nextSibling){let _=Ub(b);for(let M=0;M<_.length;M++){let F=_[M];i&&VA(i,F)&&(F=J8(X8(F,i.bottom),i.top));let O=Vee(e,F),j=qee(t,F);if(O==0&&j==0)return b.nodeType==3?Q8(b,e,t):IF(b,e,t);if(!r||s>j||s==j&&o>O){r=b,i=F,o=O,s=j;let z=j?t<F.top?-1:1:O?e<F.left?-1:1:0;g=!z||(z>0?M<_.length-1:M>0)}O==0?t>F.bottom&&(!p||p.bottom<F.bottom)?(u=b,p=F):t<F.top&&(!f||f.top>F.top)&&(c=b,f=F):p&&VA(p,F)?p=X8(p,F.bottom):f&&VA(f,F)&&(f=J8(f,F.top))}}if(p&&p.bottom>=t?(r=u,i=p):f&&f.top<=t&&(r=c,i=f),!r)return{node:n,offset:0};let y=Math.max(i.left,Math.min(i.right,e));return r.nodeType==3?Q8(r,y,t):g&&r.contentEditable!="false"?IF(r,y,t):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function Q8(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let u=0;u<r;u++){let c=cy(n,u,u+1).getClientRects();for(let p=0;p<c.length;p++){let f=c[p];if(f.top==f.bottom)continue;s||(s=e-f.left);let g=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&g<o){let y=e>=(f.left+f.right)/2,b=y;if((ti.chrome||ti.gecko)&&cy(n,u).getBoundingClientRect().left==f.right&&(b=!y),g<=0)return{node:n,offset:u+(b?1:0)};i=u+(b?1:0),o=g}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function Z8(n,e,t,r=-1){var i,o;let s,u=n.contentDOM.getBoundingClientRect(),c=u.top+n.viewState.paddingTop,{docHeight:p}=n.viewState,{x:f,y:g}=e,y=g-c;if(y<0)return 0;if(y>p)return n.state.doc.length;for(let W=n.viewState.heightOracle.textHeight/2,J=!1;s=n.elementAtHeight(y),s.type!=dg.Text;)for(;y=r>0?s.bottom+W:s.top-W,!(y>=0&&y<=p);){if(J)return t?null:0;J=!0,r=-r}g=c+y;let b=s.from;if(b<n.viewport.from)return n.viewport.from==0?0:t?null:eR(n,u,s,f,g);if(b>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:eR(n,u,s,f,g);let _=n.dom.ownerDocument,M=n.root.elementFromPoint?n.root:_,F=M.elementFromPoint(f,g);F&&!n.contentDOM.contains(F)&&(F=null),F||(f=Math.max(u.left+1,Math.min(u.right-1,f)),F=M.elementFromPoint(f,g),F&&!n.contentDOM.contains(F)&&(F=null));let O,j=-1;if(F&&((i=n.docView.nearest(F))===null||i===void 0?void 0:i.isEditable)!=0){if(_.caretPositionFromPoint){let W=_.caretPositionFromPoint(f,g);W&&({offsetNode:O,offset:j}=W)}else if(_.caretRangeFromPoint){let W=_.caretRangeFromPoint(f,g);W&&({startContainer:O,startOffset:j}=W,(!n.contentDOM.contains(O)||ti.safari&&function(G,Q,te){let ae;if(G.nodeType!=3||Q!=(ae=G.nodeValue.length))return!1;for(let se=G.nextSibling;se;se=se.nextSibling)if(se.nodeType!=1||se.nodeName!="BR")return!1;return cy(G,ae-1,ae).getBoundingClientRect().left>te}(O,j,f)||ti.chrome&&function(G,Q,te){if(Q!=0)return!1;for(let se=G;;){let ge=se.parentNode;if(!ge||ge.nodeType!=1||ge.firstChild!=se)return!1;if(ge.classList.contains("cm-line"))break;se=ge}let ae=G.nodeType==1?G.getBoundingClientRect():cy(G,0,Math.max(G.nodeValue.length,1)).getBoundingClientRect();return te-ae.left>5}(O,j,f))&&(O=void 0))}O&&(j=Math.min($0(O),j))}if(!O||!n.docView.dom.contains(O)){let W=fg.find(n.docView,b);if(!W)return y>s.top+s.height/2?s.to:s.from;({node:O,offset:j}=IF(W.dom,f,g))}let z=n.docView.nearest(O);if(!z)return null;if(z.isWidget&&((o=z.dom)===null||o===void 0?void 0:o.nodeType)==1){let W=z.dom.getBoundingClientRect();return e.y<W.top||e.y<=W.bottom&&e.x<=(W.left+W.right)/2?z.posAtStart:z.posAtEnd}return z.localPosFromDOM(O,j)+z.posAtStart}function eR(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>1.5*n.defaultLineHeight){let u=n.viewState.heightOracle.textHeight;o+=Math.floor((i-t.top-.5*(n.defaultLineHeight-u))/u)*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+cF(s,o,n.state.tabSize)}function OF(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==dg.Text))return r}return t}function tR(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let u=e,c=null;;){let p=zee(i,o,s,u,t),f=sU;if(!p){if(i.number==(t?n.state.doc.lines:1))return u;f=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),p=n.visualLineSide(i,!t)}if(c){if(!c(f))return u}else{if(!r)return p;c=r(f)}u=p}}function GC(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,u)=>{if(e>o&&e<s){let c=r||t||(e-o<s-e?-1:1);e=c<0?o:s,r=c}});if(!r)return e}}function qA(n,e,t){let r=GC(n.state.facet(HI).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:In.cursor(r,r<t.from?1:-1)}const Vw="￿";let Kee=class{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet($h.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Vw}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let u=yh.get(i),c=yh.get(s);(u&&c?u.breakAfter:(u?u.breakAfter:e_(i))||e_(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o,s=-1,u=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),u=this.lineSeparator.length):(o=i.exec(t))&&(s=o.index,u=o[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),u>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=u-1);r=s+u}}readNode(e){if(e.cmIgnore)return;let t=yh.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Gee(e,r.node,r.offset)?t:0))}};function Gee(n,e,t){for(;;){if(!e||t<$0(e))return!1;if(e==n)return!0;t=ly(e)+1,e=e.parentNode}}let nR=class{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}},Yee=class{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let u=o||s?[]:function(f){let g=[];if(f.root.activeElement!=f.contentDOM)return g;let{anchorNode:y,anchorOffset:b,focusNode:_,focusOffset:M}=f.observer.selectionRange;return y&&(g.push(new nR(y,b)),_==y&&M==b||g.push(new nR(_,M))),g}(e),c=new Kee(u,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(f,g){if(f.length==0)return null;let y=f[0].pos,b=f.length==2?f[1].pos:y;return y>-1&&b>-1?In.single(y+g,b+g):null}(u,this.bounds.from)}else{let u=e.observer.selectionRange,c=o&&o.node==u.focusNode&&o.offset==u.focusOffset||!hF(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),p=s&&s.node==u.anchorNode&&s.offset==u.anchorOffset||!hF(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),f=e.viewport;if((ti.ios||ti.chrome)&&e.state.selection.main.empty&&c!=p&&(f.from>0||f.to<e.state.doc.length)){let g=Math.min(c,p),y=Math.max(c,p),b=f.from-g,_=f.to-y;b!=0&&b!=1&&g!=0||_!=0&&_!=-1&&y!=e.state.doc.length||(c=0,p=e.state.doc.length)}this.newSel=In.single(p,c)}}};function _U(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:u}=e.bounds,c=i.from,p=null;(o===8||ti.android&&e.text.length<u-s)&&(c=i.to,p="end");let f=function(y,b,_,M){let F=Math.min(y.length,b.length),O=0;for(;O<F&&y.charCodeAt(O)==b.charCodeAt(O);)O++;if(O==F&&y.length==b.length)return null;let j=y.length,z=b.length;for(;j>0&&z>0&&y.charCodeAt(j-1)==b.charCodeAt(z-1);)j--,z--;return M=="end"&&(_-=j+Math.max(0,O-Math.min(j,z))-O),j<O&&y.length<b.length?(O-=_<=O&&_>=j?O-_:0,z=O+(z-j),j=O):z<O&&(O-=_<=O&&_>=z?O-_:0,j=O+(j-z),z=O),{from:O,toA:j,toB:z}}(n.state.doc.sliceString(s,u,Vw),e.text,c-s,p);f&&(ti.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==Vw+Vw&&f.toB--,t={from:s+f.from,to:s+f.toA,insert:Yc.of(e.text.slice(f.from,f.toB).split(Vw))})}else r&&(!n.hasFocus&&n.state.facet(Nd)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(ti.mac||ti.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=In.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Yc.of([" "])}):ti.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=In.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Yc.of([" "])}),t)return VI(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,u="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),u=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:u}),!0}return!1}function VI(n,e,t,r=-1){if(ti.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(ti.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&b1(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&b1(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&b1(n.contentDOM,"Delete",46)))return!0;let o,s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let u=()=>o||(o=function(p,f,g){let y,b=p.state,_=b.selection.main;if(f.from>=_.from&&f.to<=_.to&&f.to-f.from>=(_.to-_.from)/3&&(!g||g.main.empty&&g.main.from==f.from+f.insert.length)&&p.inputState.composing<0){let F=_.from<f.from?b.sliceDoc(_.from,f.from):"",O=_.to>f.to?b.sliceDoc(f.to,_.to):"";y=b.replaceSelection(p.state.toText(F+f.insert.sliceString(0,void 0,p.state.lineBreak)+O))}else{let F=b.changes(f),O=g&&g.main.to<=F.newLength?g.main:void 0;if(b.selection.ranges.length>1&&p.inputState.composing>=0&&f.to<=_.to&&f.to>=_.to-10){let j,z=p.state.sliceDoc(f.from,f.to),W=g&&SU(p,g.main.head);if(W){let Q=f.insert.length-(f.to-f.from);j={from:W.from,to:W.to-Q}}else j=p.state.doc.lineAt(_.head);let J=_.to-f.to,G=_.to-_.from;y=b.changeByRange(Q=>{if(Q.from==_.from&&Q.to==_.to)return{changes:F,range:O||Q.map(F)};let te=Q.to-J,ae=te-z.length;if(Q.to-Q.from!=G||p.state.sliceDoc(ae,te)!=z||Q.to>=j.from&&Q.from<=j.to)return{range:Q};let se=b.changes({from:ae,to:te,insert:f.insert}),ge=Q.to-_.to;return{changes:se,range:O?In.range(Math.max(0,O.anchor+ge),Math.max(0,O.head+ge)):Q.map(se)}})}else y={changes:F,selection:O&&b.selection.replaceRange(O)}}let M="input.type";return(p.composing||p.inputState.compositionPendingChange&&p.inputState.compositionEndedAt>Date.now()-50)&&(p.inputState.compositionPendingChange=!1,M+=".compose",p.inputState.compositionFirstChange&&(M+=".start",p.inputState.compositionFirstChange=!1)),b.update(y,{userEvent:M,scrollIntoView:!0})}(n,e,t));return n.state.facet(hU).some(c=>c(n,e.from,e.to,s,u))||n.dispatch(u()),!0}let Jee=class{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ti.safari&&e.contentDOM.addEventListener("input",()=>null),ti.gecko&&function(r){pR.has(r)||(pR.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(r,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let o,s=i.target;s!=r.contentDOM;s=s.parentNode)if(!s||s.nodeType==11||(o=yh.get(s))&&o.ignoreEvent(i))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&(e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Xee(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,u=r[o];u&&s!=!u.handlers.length&&(i.removeEventListener(o,this.handleEvent),u=null),u||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o=="scroll"||t[o]||i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&AU.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ti.android&&ti.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!ti.ios||e.synthetic||e.altKey||e.metaKey||!((t=EU.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Qee.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(e.keyCode!=229&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&!(t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,b1(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(ti.safari&&!ti.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function rR(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Ng(t.state,i)}}}function Xee(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&t(o).handlers.push(rR(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&t(o).observers.push(rR(r.value,s))}}for(let r in Km)t(r).handlers.push(Km[r]);for(let r in mm)t(r).observers.push(mm[r]);return e}const EU=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Qee="dthko",AU=[16,17,18,20,91,92,224,225];function fD(n){return .7*Math.max(0,n)+8}let Zee=class{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(u){let c,p,f=u.ownerDocument;for(let g=u.parentNode;g&&!(g==f.body||c&&p);)if(g.nodeType==1)!p&&g.scrollHeight>g.clientHeight&&(p=g),!c&&g.scrollWidth>g.clientWidth&&(c=g),g=g.assignedSlot||g.parentNode;else{if(g.nodeType!=11)break;g=g.host}return{x:c,y:p}}(e.contentDOM),this.atoms=e.state.facet(HI).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet($h.allowMultipleSelections)&&function(u,c){let p=u.state.facet(uU);return p.length?p[0](c):ti.mac?c.metaKey:c.ctrlKey}(e,t),this.dragging=!(!function(u,c){let{main:p}=u.state.selection;if(p.empty)return!1;let f=zb(u.root);if(!f||f.rangeCount==0)return!0;let g=f.getRangeAt(0).getClientRects();for(let y=0;y<g.length;y++){let b=g[y];if(b.left<=c.clientX&&b.right>=c.clientX&&b.top<=c.clientY&&b.bottom>=c.clientY)return!0}return!1}(e,t)||MU(t)!=1)&&null}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&function(f,g){return Math.max(Math.abs(f.clientX-g.clientX),Math.abs(f.clientY-g.clientY))}(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:u}=this.scrollParents.y.getBoundingClientRect());let c=DU(this.view);e.clientX-c.left<=i+6?t=-fD(i-e.clientX):e.clientX+c.right>=s-6&&(t=fD(e.clientX-s)),e.clientY-c.top<=o+6?r=-fD(o-e.clientY):e.clientY+c.bottom>=u-6&&(r=fD(e.clientY-u)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=GC(this.atoms,i.from,0);s!=i.from&&(o=In.cursor(s,-1))}else{let s=GC(this.atoms,i.from,-1),u=GC(this.atoms,i.to,1);s==i.from&&u==i.to||(o=In.range(i.from==i.anchor?s:u,i.from==i.head?s:u))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?In.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&r.eq(t.state.selection,this.dragging===!1)||this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}};const Km=Object.create(null),mm=Object.create(null),kU=ti.ie&&ti.ie_version<15||ti.ios&&ti.webkit_version<604;function TE(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function iR(n,e){e=TE(n.state,zI,e);let t,{state:r}=n,i=1,o=r.toText(e),s=o.lines==r.selection.ranges.length;if(NF!=null&&r.selection.ranges.every(c=>c.empty)&&NF==o.toString()){let c=-1;t=r.changeByRange(p=>{let f=r.doc.lineAt(p.from);if(f.from==c)return{range:p};c=f.from;let g=r.toText((s?o.line(i++).text:e)+r.lineBreak);return{changes:{from:f.from,insert:g},range:In.cursor(p.from+g.length)}})}else t=s?r.changeByRange(c=>{let p=o.line(i++);return{changes:{from:c.from,to:c.to,insert:p.text},range:In.cursor(c.from+p.length)}}):r.replaceSelection(o);n.dispatch(t,{userEvent:"input.paste",scrollIntoView:!0})}function oR(n,e,t,r){if(r==1)return In.cursor(e,t);if(r==2)return function(o,s,u=1){let c=o.charCategorizer(s),p=o.doc.lineAt(s),f=s-p.from;if(p.length==0)return In.cursor(s);f==0?u=1:f==p.length&&(u=-1);let g=f,y=f;u<0?g=Lp(p.text,f,!1):y=Lp(p.text,f);let b=c(p.text.slice(g,y));for(;g>0;){let _=Lp(p.text,g,!1);if(c(p.text.slice(_,g))!=b)break;g=_}for(;y<p.length;){let _=Lp(p.text,y);if(c(p.text.slice(y,_))!=b)break;y=_}return In.range(g+p.from,y+p.from)}(n.state,e,t);{let i=fg.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,u=i?i.posAtEnd:o.to;return u<n.state.doc.length&&u==o.to&&u++,In.range(s,u)}}mm.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft},Km.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1),mm.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},mm.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},Km.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(cU))if(t=r(n,e),t)break;if(t||e.button!=0||(t=function(i,o){let s=sR(i,o),u=MU(o),c=i.state.selection;return{update(p){p.docChanged&&(s.pos=p.changes.mapPos(s.pos),c=c.map(p.changes))},get(p,f,g){let y,b=sR(i,p),_=oR(i,b.pos,b.bias,u);if(s.pos!=b.pos&&!f){let M=oR(i,s.pos,s.bias,u),F=Math.min(M.from,_.from),O=Math.max(M.to,_.to);_=F<_.from?In.range(F,O):In.range(O,F)}return f?c.replaceRange(c.main.extend(_.from,_.to)):g&&u==1&&c.ranges.length>1&&(y=function(F,O){for(let j=0;j<F.ranges.length;j++){let{from:z,to:W}=F.ranges[j];if(z<=O&&W>=O)return In.create(F.ranges.slice(0,j).concat(F.ranges.slice(j+1)),F.mainIndex==j?0:F.mainIndex-(F.mainIndex>j?1:0))}return null}(c,b.pos))?y:g?c.addRange(_):In.create([_])}}}(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Zee(n,e,t,r)),r&&n.observer.ignore(()=>{$6(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};let aR=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function ete(n,e,t,r){let i=fg.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&aR(t,r,s))return-1;let u=i.coordsAt(o,1);return u&&aR(t,r,u)?1:s&&s.bottom>=r?-1:1}function sR(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:ete(n,t,e.clientX,e.clientY)}}const tte=ti.ie&&ti.ie_version<=11;let uR=null,lR=0,cR=0;function MU(n){if(!tte)return n.detail;let e=uR,t=cR;return uR=n,cR=Date.now(),lR=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(lR+1)%3:1}function fR(n,e,t,r){if(!(t=TE(n.state,zI,t)))return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&function(f,g){let y=f.state.facet(lU);return y.length?y[0](g):ti.mac?!g.altKey:!g.ctrlKey}(n,e)?{from:o.from,to:o.to}:null,u={from:i,insert:t},c=n.state.changes(s?[s,u]:u);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Km.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=In.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",TE(n.state,UI,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Km.dragend=n=>(n.inputState.draggedContent=null,!1),Km.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&fR(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let u=new FileReader;u.onerror=o,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(r[s]=u.result),o()},u.readAsText(t[s])}return!0}{let r=e.dataTransfer.getData("Text");if(r)return fR(n,e,r,!0),!0}return!1},Km.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=kU?null:e.clipboardData;return t?(iR(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(function(i){let o=i.dom.parentNode;if(!o)return;let s=o.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{i.focus(),s.remove(),iR(i,s.value)},50)}(n),!1)};let NF=null;Km.copy=Km.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=function(u){let c=[],p=[],f=!1;for(let g of u.selection.ranges)g.empty||(c.push(u.sliceDoc(g.from,g.to)),p.push(g));if(!c.length){let g=-1;for(let{from:y}of u.selection.ranges){let b=u.doc.lineAt(y);b.number>g&&(c.push(b.text),p.push({from:b.from,to:Math.min(u.doc.length,b.to+1)})),g=b.number}f=!0}return{text:TE(u,UI,c.join(u.lineBreak)),ranges:p,linewise:f}}(n.state);if(!t&&!i)return!1;NF=i?t:null,e.type!="cut"||n.state.readOnly||n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=kU?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(function(u,c){let p=u.dom.parentNode;if(!p)return;let f=p.appendChild(document.createElement("textarea"));f.style.cssText="position: fixed; left: -10000px; top: 10px",f.value=c,f.focus(),f.selectionEnd=c.length,f.selectionStart=0,setTimeout(()=>{f.remove(),u.focus()},50)}(n,t),!1)};const FU=sd.define();function PU(n,e){let t=[];for(let r of n.facet(pU)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:FU.of(!0)}):null}function hR(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=PU(n.state,e);t?n.dispatch(t):n.update([])}},10)}mm.focus=n=>{n.inputState.lastFocusTime=Date.now(),n.scrollDOM.scrollTop||!n.inputState.lastScrollTop&&!n.inputState.lastScrollLeft||(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),hR(n)},mm.blur=n=>{n.observer.clearSelectionRange(),hR(n)},mm.compositionstart=mm.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))},mm.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ti.chrome&&ti.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))},mm.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},Km.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let u=s[0],c=n.posAtDOM(u.startContainer,u.startOffset),p=n.posAtDOM(u.endContainer,u.endOffset);return VI(n,{from:c,to:p,insert:n.state.toText(o)},null),!0}}let i;if(ti.chrome&&ti.android&&(i=EU.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ti.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ti.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>mm.compositionend(n,e),20),!1};const pR=new Set,gR=["pre-wrap","normal","pre-line","break-spaces"];let W1=!1;function mR(){W1=!1}let nte=class{constructor(e){this.lineWrapping=e,this.doc=Yc.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return gR.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,r,i,o,s){let u=gR.indexOf(e)>-1,c=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,c){this.heightSamples={};for(let p=0;p<s.length;p++){let f=s[p];f<0?p++:this.heightSamples[Math.floor(10*f)]=!0}}return c}},rte=class{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}},Bd=class TU{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?dg.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof U1?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new TU(this.from,this.length+e.length,this.top,this.height+e.height,t)}};var ah=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(ah||(ah={}));const YC=.001;let Qm=class JC{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>YC&&(W1=!0),this.height=e)}replace(e,t,r){return JC.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let u=i.length-1;u>=0;u--){let{fromA:c,toA:p,fromB:f,toB:g}=i[u],y=o.lineAt(c,ah.ByPosNoHeight,r.setDoc(t),0,0),b=y.to>=p?y:o.lineAt(p,ah.ByPosNoHeight,r,0,0);for(g+=b.to-p,p=b.to;u>0&&y.from<=i[u-1].toA;)c=i[u-1].fromA,f=i[u-1].fromB,u--,c<y.from&&(y=o.lineAt(c,ah.ByPosNoHeight,r,0,0));f+=y.from-c,c=y.from;let _=ote.build(r.setDoc(s),e,f,g);o=n_(o,o.replace(c,p,_))}return o.updateHeight(r,0)}static empty(){return new b0(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>2*o){let u=e[t-1];u.break?e.splice(--t,1,u.left,null,u.right):e.splice(--t,1,u.left,u.right),r+=1+u.break,i-=u.size}else{if(!(o>2*i))break;{let u=e[r];u.break?e.splice(r,1,u.left,null,u.right):e.splice(r,1,u.left,u.right),r+=2+u.break,o-=u.size}}else if(i<o){let u=e[t++];u&&(i+=u.size)}else{let u=e[--r];u&&(o+=u.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new ite(JC.of(e.slice(0,t)),s,JC.of(e.slice(r)))}};function n_(n,e){return n==e?n:(n.constructor!=e.constructor&&(W1=!0),e)}Qm.prototype.size=1;let IU=class extends Qm{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Bd(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}},b0=class BF extends IU{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Bd(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof BF||i instanceof x1&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof x1?i=new BF(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Qm.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}},x1=class Pm extends Qm{constructor(e){super(e,0)}heightMetrics(e,t){let r,i=e.doc.lineAt(t).number,o=e.doc.lineAt(t+this.length).number,s=o-i+1,u=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*s);r=c/s,this.length>s+1&&(u=(this.height-c)/(this.length-s-1))}else r=this.height/s;return{firstLine:i,lastLine:o,perLine:r,perChar:u}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:u,perChar:c}=this.heightMetrics(t,i);if(t.lineWrapping){let p=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=t.doc.lineAt(p),g=u+f.length*c,y=Math.max(r,e-g/2);return new Bd(f.from,f.length,y,g,0)}{let p=Math.max(0,Math.min(s-o,Math.floor((e-r)/u))),{from:f,length:g}=t.doc.line(o+p);return new Bd(f,g,r+u*p,u,0)}}lineAt(e,t,r,i,o){if(t==ah.ByHeight)return this.blockAt(e,r,i,o);if(t==ah.ByPosNoHeight){let{from:b,to:_}=r.doc.lineAt(e);return new Bd(b,_-b,0,0,0)}let{firstLine:s,perLine:u,perChar:c}=this.heightMetrics(r,o),p=r.doc.lineAt(e),f=u+p.length*c,g=p.number-s,y=i+u*g+c*(p.from-o-g);return new Bd(p.from,p.length,Math.max(i,Math.min(y,i+this.height-f)),f,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:u,perLine:c,perChar:p}=this.heightMetrics(r,o);for(let f=e,g=i;f<=t;){let y=r.doc.lineAt(f);if(f==e){let _=y.number-u;g+=c*_+p*(e-o-_)}let b=c+p*y.length;s(new Bd(y.from,y.length,g,b,0)),g+=b,f=y.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof Pm?r[r.length-1]=new Pm(o.length+i):r.push(null,new Pm(i-1))}if(e>0){let o=r[0];o instanceof Pm?r[0]=new Pm(e+o.length):r.unshift(new Pm(e-1),null)}return Qm.of(r)}decomposeLeft(e,t){t.push(new Pm(e-1),null)}decomposeRight(e,t){t.push(null,new Pm(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],u=Math.max(t,i.from),c=-1;for(i.from>t&&s.push(new Pm(i.from-t-1).updateHeight(e,t));u<=o&&i.more;){let f=e.doc.lineAt(u).length;s.length&&s.push(null);let g=i.heights[i.index++];c==-1?c=g:Math.abs(g-c)>=YC&&(c=-2);let y=new b0(f,g);y.outdated=!1,s.push(y),u+=f+1}u<=o&&s.push(null,new Pm(o-u).updateHeight(e,u));let p=Qm.of(s);return(c<0||Math.abs(p.height-this.height)>=YC||Math.abs(c-this.heightMetrics(e,t).perLine)>=YC)&&(W1=!0),n_(this,p)}return(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}},ite=class extends Qm{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,u=o+this.left.length+this.break,c=t==ah.ByHeight?e<s:e<u,p=c?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,u);if(this.break||(c?p.to<u:p.from>u))return p;let f=t==ah.ByPosNoHeight?ah.ByPosNoHeight:ah.ByPos;return c?p.join(this.right.lineAt(u,f,r,s,u)):this.left.lineAt(u,f,r,i,o).join(p)}forEachLine(e,t,r,i,o,s){let u=i+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,r,i,o,s),t>=c&&this.right.forEachLine(e,t,r,u,c,s);else{let p=this.lineAt(c,ah.ByPos,r,i,o);e<p.from&&this.left.forEachLine(e,p.from-1,r,i,o,s),p.to>=e&&p.from<=t&&s(p),t>p.to&&this.right.forEachLine(p.to+1,t,r,u,c,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let u of r)o.push(u);if(e>0&&dR(o,s-1),t<this.length){let u=o.length;this.decomposeRight(t,o),dR(o,u)}return Qm.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Qm.of(this.break?[e,null,t]:[e,t]):(this.left=n_(this.left,e),this.right=n_(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,u=t+o.length+this.break,c=null;return i&&i.from<=t+o.length&&i.more?c=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=u+s.length&&i.more?c=s=s.updateHeight(e,u,r,i):s.updateHeight(e,u,r),c?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function dR(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof x1&&(r=n[e+1])instanceof x1&&n.splice(e-1,3,new x1(t.length+1+r.length))}let ote=class OU{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof b0?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new b0(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new IU(s,i,r)):(s||o||i>=5)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new b0(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new x1(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof b0)return e;let t=new b0(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof b0||this.isCovered?(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new b0(0,-1));let r=e;for(let i of this.nodes)i instanceof b0&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new OU(r,e);return bh.spans(t,r,i,o,0),o.finish(r)}},ate=class{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&_F(e,t,this.changes,5)}};function ste(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),u=Math.max(0,t.top),c=Math.min(i.innerHeight,t.bottom);for(let p=n.parentNode;p&&p!=r.body;)if(p.nodeType==1){let f=p,g=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&g.overflow!="visible"){let y=f.getBoundingClientRect();o=Math.max(o,y.left),s=Math.min(s,y.right),u=Math.max(u,y.top),c=Math.min(p==n.parentNode?i.innerHeight:c,y.bottom)}p=g.position=="absolute"||g.position=="fixed"?f.offsetParent:f.parentNode}else{if(p.nodeType!=11)break;p=p.host}return{left:o-t.left,right:Math.max(o,s)-t.left,top:u-(t.top+e),bottom:Math.max(u,c)-(t.top+e)}}function ute(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}let KA=class{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return Aa.replace({widget:new lte(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}},lte=class extends Sv{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}},vR=class{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=yR,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=uh.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(WI).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new nte(t),this.stateDeco=e.facet(Wb).filter(r=>typeof r!="function"),this.heightMap=Qm.empty().applyChanges(this.stateDeco,Yc.empty,this.heightOracle.setDoc(e.doc),[new Hd(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Aa.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new hD(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?yR:new cte(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(qw(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Wb).filter(f=>typeof f!="function");let i=e.changedRanges,o=Hd.extendWithRanges(i,function(g,y,b){let _=new ate;return bh.compare(g,y,b,_,0),_.changes}(r,this.stateDeco,e?e.changes:r0.empty(this.state.doc.length))),s=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);mR(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||W1)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let p=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(p||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(mU)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?uh.RTL:uh.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),u=t.getBoundingClientRect(),c=s||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let p=0,f=0;if(u.width&&u.height){let{scaleX:W,scaleY:J}=L6(t,u);(W>.005&&Math.abs(this.scaleX-W)>.005||J>.005&&Math.abs(this.scaleY-J)>.005)&&(this.scaleX=W,this.scaleY=J,p|=8,s=c=!0)}let g=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==g&&this.paddingBottom==y||(this.paddingTop=g,this.paddingBottom=y,p|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,p|=8);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=U6(e.scrollDOM);let _=(this.printing?ute:ste)(t,this.paddingTop),M=_.top-this.pixelViewport.top,F=_.bottom-this.pixelViewport.bottom;this.pixelViewport=_;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let j=u.width;if(this.contentDOMWidth==j&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,p|=8),c){let W=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(W)&&(s=!0),s||i.lineWrapping&&Math.abs(j-this.contentDOMWidth)>i.charWidth){let{lineHeight:J,charWidth:G,textHeight:Q}=e.docView.measureTextSize();s=J>0&&i.refresh(o,J,G,Q,j/G,W),s&&(e.docView.minWidth=0,p|=8)}M>0&&F>0?f=Math.max(M,F):M<0&&F<0&&(f=Math.min(M,F)),mR();for(let J of this.viewports){let G=J.from==this.viewport.from?W:e.docView.measureVisibleLineHeights(J);this.heightMap=(s?Qm.empty().applyChanges(this.stateDeco,Yc.empty,this.heightOracle,[new Hd(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new rte(J.from,G))}W1&&(p|=2)}let z=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return z&&(2&p&&(p|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),p|=this.updateForViewport()),(2&p||z)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),p|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),p}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:u}=this,c=new hD(i.lineAt(s-1e3*r,ah.ByHeight,o,0,0).from,i.lineAt(u+1e3*(1-r),ah.ByHeight,o,0,0).to);if(t){let{head:p}=t.range;if(p<c.from||p>c.to){let f,g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(p,ah.ByPos,o,0,0);f=t.y=="center"?(y.top+y.bottom)/2-g/2:t.y=="start"||t.y=="nearest"&&p<c.from?y.top:y.bottom-g,c=new hD(i.lineAt(f-500,ah.ByHeight,o,0,0).from,i.lineAt(f+g+500,ah.ByHeight,o,0,0).to)}}return c}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new hD(this.heightMap.lineAt(r,ah.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ah.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,ah.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,ah.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:u}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=u+Math.max(10,Math.min(r,250)))&&i>s-2e3&&o<u+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new KA(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=uh.LTR&&!r)return[];let u=[],c=(f,g,y,b)=>{if(g-f<o)return;let _=this.state.selection.main,M=[_.from];_.empty||M.push(_.to);for(let O of M)if(O>f&&O<g)return c(f,O-10,y,b),void c(O+10,g,y,b);let F=function(j,z){for(let W of j)if(z(W))return W}(e,O=>O.from>=y.from&&O.to<=y.to&&Math.abs(O.from-f)<o&&Math.abs(O.to-g)<o&&!M.some(j=>O.from<j&&O.to>j));if(!F){if(g<y.to&&t&&r&&t.visibleRanges.some(j=>j.from<=g&&j.to>=g)){let j=t.moveToLineBoundary(In.cursor(g),!1,!0).head;j>f&&(g=j)}let O=this.gapSize(y,f,g,b);F=new KA(f,g,O,r||O<2e6?O:2e6)}u.push(F)},p=f=>{if(f.length<s||f.type!=dg.Text)return;let g=function(F,O,j){let z=[],W=F,J=0;return bh.spans(j,F,O,{span(){},point(G,Q){G>W&&(z.push({from:W,to:G}),J+=G-W),W=Q}},20),W<O&&(z.push({from:W,to:O}),J+=O-W),{total:J,ranges:z}}(f.from,f.to,this.stateDeco);if(g.total<s)return;let y,b,_=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let M,F,O=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(_!=null){let j=gD(g,_),z=((this.visibleBottom-this.visibleTop)/2+O)/f.height;M=j-z,F=j+z}else M=(this.visibleTop-f.top-O)/f.height,F=(this.visibleBottom-f.top+O)/f.height;y=pD(g,M),b=pD(g,F)}else{let M=g.total*this.heightOracle.charWidth,F=i*this.heightOracle.charWidth,O=0;if(M>2e6)for(let G of e)G.from>=f.from&&G.from<f.to&&G.size!=G.displaySize&&G.from*this.heightOracle.charWidth+O<this.pixelViewport.left&&(O=G.size-G.displaySize);let j,z,W=this.pixelViewport.left+O,J=this.pixelViewport.right+O;if(_!=null){let G=gD(g,_),Q=((J-W)/2+F)/M;j=G-Q,z=G+Q}else j=(W-F)/M,z=(J+F)/M;y=pD(g,j),b=pD(g,z)}y>f.from&&c(f.from,y,f,g),b<f.to&&c(b,f.to,f,g)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(p):p(f);return u}gapSize(e,t,r,i){let o=gD(i,r)-gD(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){KA.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Aa.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];bh.spans(e,this.viewport.from,this.viewport.to,{span(i,o){t.push({from:i,to:o})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=t[o].from||i.to!=t[o].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||qw(this.heightMap.lineAt(e,ah.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||qw(this.heightMap.lineAt(this.scaler.fromDOM(e),ah.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return qw(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}},hD=class{constructor(e,t){this.from=e,this.to=t}};function pD({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],u=s-o;if(r<=u)return o+r;r-=u}}function gD(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}const yR={toDOM:n=>n,fromDOM:n=>n,scale:1,eq(n){return n==this}};let cte=class NU{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:u,to:c})=>{let p=t.lineAt(u,ah.ByPos,e,0,0).top,f=t.lineAt(c,ah.ByPos,e,0,0).bottom;return i+=f-p,{from:u,to:c,top:p,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let u of this.viewports)u.domTop=s+(u.top-o)*this.scale,s=u.domBottom=u.domTop+(u.bottom-u.top),o=u.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof NU&&this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to)}};function qw(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Bd(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>qw(i,e)):n._content)}const mD=gi.define({combine:n=>n.join(" ")}),RF=gi.define({combine:n=>n.indexOf(!0)>-1}),jF=hv.newName(),BU=hv.newName(),RU=hv.newName(),jU={"&light":"."+BU,"&dark":"."+RU};function LF(n,e,t){return new hv(e,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r})}const fte=LF("."+jF,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},jU),hte={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},GA=ti.ie&&ti.ie_version<=11;let pte=class{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Bee,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ti.ie&&ti.ie_version<=11||ti.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||e.constructor.EDIT_CONTEXT===!1||ti.chrome&&ti.chrome_version<126||(this.editContext=new gte(e),e.state.facet(Nd)&&(e.contentDOM.editContext=this.editContext.editContext)),GA&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type!="change"&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Nd)?r.root.activeElement!=this.dom:!VC(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(ti.ie&&ti.ie_version<=11||ti.android&&ti.chrome)&&!r.state.selection.main.empty&&i.focusNode&&mb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=zb(e.root);if(!t)return!1;let r=ti.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&function(s,u){if(u.getComposedRanges){let f=u.getComposedRanges(s.root)[0];if(f)return bR(s,f)}let c=null;function p(f){f.preventDefault(),f.stopImmediatePropagation(),c=f.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",p,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",p,!0),c?bR(s,c):null}(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=VC(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(s,u){let c=u.focusNode,p=u.focusOffset;if(!c||u.anchorNode!=c||u.anchorOffset!=p)return!1;for(p=Math.min(p,$0(c));;)if(p){if(c.nodeType!=1)return!1;let f=c.childNodes[p-1];f.contentEditable=="false"?p--:(c=f,p=$0(c))}else{if(c==s)return!0;p=ly(c),c=c.parentNode}}(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,hte),GA&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),GA&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&b1(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}this.delayedAndroidKey&&e!="Enter"||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&VC(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Yee(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=_U(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=wR(t,e.previousSibling||e.target.previousSibling,-1),i=wR(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Nd)!=e.state.facet(Nd)&&(e.view.contentDOM.editContext=e.state.facet(Nd)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}};function wR(n,e,t){for(;e;){let r=yh.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function bR(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return mb(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}let gte=class{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Yc.of(r.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),(o.from!=o.to||o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||VI(e,o,In.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),u=this.toEditorPos(r.rangeEnd);s<u;s++){let c=e.coordsForChar(s);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,u=o.underlineThickness;if(s!="None"&&u!="None"){let c=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${u=="Thin"?1:2}px`;i.push(Aa.mark({attributes:{style:c}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:vU.of(Aa.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=zb(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,u,c,p)=>{if(r)return;let f=p.length-(s-o);if(i&&s>=i.to){if(i.from==o&&i.to==s&&i.insert.eq(p))return i=this.pendingContextChange=null,t+=f,void(this.to+=f);i=null,this.revertPending(e.state)}if(o+=t,(s+=t)<=this.from)this.from+=f,this.to+=f;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+p.length>3e4)return void(r=!0);this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),p.toString()),this.to+=f}t+=f}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);this.editContext.selectionStart==r&&this.editContext.selectionEnd==i||this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}},hi=class $F{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(o){for(;o;){if(o&&(o.nodeType==9||o.nodeType==11&&o.host))return o;o=o.assignedSlot||o.parentNode}return null}(e.parent)||document,this.viewState=new vR(e.state||$h.create(e)),e.scrollTo&&e.scrollTo.is(cD)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Ww).map(i=>new HA(i));for(let i of this.plugins)i.update(this);this.observer=new pte(this),this.inputState=new Jee(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Y8(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Og?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,r=!1,i=!1,o=this.state;for(let y of e){if(y.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=y.state}if(this.destroyed)return void(this.viewState.state=o);let s=this.hasFocus,u=0,c=null;e.some(y=>y.annotation(FU))?(this.inputState.notifiedFocused=s,u=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,c=PU(o,s),c||(u=1));let p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet($h.phrases)!=this.state.facet($h.phrases))return this.setState(o);t=G8.create(this,o,e),t.flags|=u;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(g&&(g=g.map(y.changes)),y.scrollIntoView){let{main:b}=y.state.selection;g=new WA(b.empty?b:In.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of y.effects)b.is(cD)&&(g=b.value.clip(this.state))}this.viewState.update(t,g),this.bidiCache=DR.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(Hw)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(t.startState.facet(mD)!=t.state.facet(mD)&&(this.viewState.mustMeasureContent=!0),(r||i||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!t.empty)for(let y of this.state.facet(FF))try{y(t)}catch(b){Ng(this.state,b,"update listener")}(c||f)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),f&&!_U(this,f)&&p.force&&b1(this.contentDOM,p.key,p.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new vR(e),this.plugins=e.facet(Ww).map(r=>new HA(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Y8(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(Ww),r=e.state.facet(Ww);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new HA(o));else{let u=this.plugins[s];u.mustUpdate=e,i.push(u)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Ng(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(s<0)if(U6(r))o=-1,s=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(i);o=b.from,s=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let p=[];4&c||([this.measureRequests,p]=[p,this.measureRequests]);let f=p.map(b=>{try{return b.read(this)}catch(_){return Ng(this.state,_),xR}}),g=G8.create(this,this.state,[]),y=!1;g.flags|=c,t?t.flags|=c:t=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),y=this.docView.update(g),y&&this.docViewUpdate());for(let b=0;b<p.length;b++)if(f[b]!=xR)try{let _=p[b];_.write&&_.write(f[b],this)}catch(_){Ng(this.state,_)}if(y&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let b=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(b>1||b<-1){i+=b,r.scrollTop=i/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let u of this.state.facet(FF))u(t)}get themeClasses(){return jF+" "+(this.state.facet(RF)?RU:BU)+" "+this.state.facet(mD)}updateAttrs(){let e=CR(this,yU,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Nd)?"true":"false",class:"cm-content",style:`${ti.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),CR(this,WI,t);let r=this.observer.ignore(()=>{let i=CF(this.contentDOM,this.contentAttrs,t),o=CF(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)i.is($F.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=i.value)}mountStyles(){this.styleModules=this.state.facet(Hw);let e=this.state.facet($F.cspNonce);hv.mount(this.root,this.styleModules.concat(fte).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e)}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return qA(this,e,tR(this,e,t,r))}moveByGroup(e,t){return qA(this,e,tR(this,e,t,r=>function(o,s,u){let c=o.state.charCategorizer(s),p=c(u);return f=>{let g=c(f);return p==wh.Space&&(p=g),p==g}}(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return In.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return function(o,s,u,c){let p=OF(o,s.head),f=c&&p.type==dg.Text&&(o.lineWrapping||p.widgetLineBreaks)?o.coordsAtPos(s.assoc<0&&s.head>p.from?s.head-1:s.head):null;if(f){let g=o.dom.getBoundingClientRect(),y=o.textDirectionAt(p.from),b=o.posAtCoords({x:u==(y==uh.LTR)?g.right-1:g.left+1,y:(f.top+f.bottom)/2});if(b!=null)return In.cursor(b,u?-1:1)}return In.cursor(u?p.to:p.from,u?-1:1)}(this,e,t,r)}moveVertically(e,t,r){return qA(this,e,function(o,s,u,c){let p=s.head,f=u?1:-1;if(p==(u?o.state.doc.length:0))return In.cursor(p,s.assoc);let g,y=s.goalColumn,b=o.contentDOM.getBoundingClientRect(),_=o.coordsAtPos(p,s.assoc||-1),M=o.documentTop;if(_)y==null&&(y=_.left-b.left),g=f<0?_.top:_.bottom;else{let j=o.viewState.lineBlockAt(p);y==null&&(y=Math.min(b.right-b.left,o.defaultCharacterWidth*(p-j.from))),g=(f<0?j.top:j.bottom)+M}let F=b.left+y,O=c??o.viewState.heightOracle.textHeight>>1;for(let j=0;;j+=10){let z=g+(O+j)*f,W=Z8(o,{x:F,y:z},!1,f);if(z<b.top||z>b.bottom||(f<0?W<p:W>p)){let J=o.docView.coordsForChar(W),G=!J||z<J.top?-1:1;return In.cursor(W,G,void 0,y)}}}(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Z8(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i);return FE(r,o[Wd.find(o,e-i.from,-1,t)].dir==uh.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(gU)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>mte)return q8(e.length);let t,r=this.textDirectionAt(e.from);for(let o of this.bidiCache)if(o.from==e.from&&o.dir==r&&(o.fresh||aU(o.isolates,t=K8(this,e))))return o.order;t||(t=K8(this,e));let i=function(s,u,c){if(!s)return[new Wd(0,0,u==$I?1:0)];if(u==fy&&!c.length&&!$ee.test(s))return q8(s.length);if(c.length)for(;s.length>Af.length;)Af[Af.length]=256;let p=[],f=u==fy?0:1;return MF(s,f,f,c,0,s.length,p),p}(e.text,r,t);return this.bidiCache.push(new DR(e.from,e.to,r,t,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ti.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{$6(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return cD.of(new WA(typeof e=="number"?In.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return cD.of(new WA(In.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Wp.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Wp.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=hv.newName(),i=[mD.of(r),Hw.of(LF(`.${r}`,e))];return t&&t.dark&&i.push(RF.of(!0)),i}static baseTheme(e){return _y.lowest(Hw.of(LF("."+jF,e,jU)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&yh.get(r)||yh.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}};hi.styleModule=Hw,hi.inputHandler=hU,hi.clipboardInputFilter=zI,hi.clipboardOutputFilter=UI,hi.scrollHandler=dU,hi.focusChangeEffect=pU,hi.perLineTextDirection=gU,hi.exceptionSink=fU,hi.updateListener=FF,hi.editable=Nd,hi.mouseSelectionStyle=cU,hi.dragMovesSelection=lU,hi.clickAddsSelectionRange=uU,hi.decorations=Wb,hi.outerDecorations=wU,hi.atomicRanges=HI,hi.bidiIsolatedRanges=bU,hi.scrollMargins=xU,hi.darkTheme=RF,hi.cspNonce=gi.define({combine:n=>n.length?n[0]:""}),hi.contentAttributes=WI,hi.editorAttributes=yU,hi.lineWrapping=hi.contentAttributes.of({class:"cm-lineWrapping"}),hi.announce=Bu.define();const mte=4096,xR={};let DR=class LU{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:uh.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir!=i||t.touchesRange(s.from,s.to)||r.push(new LU(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}};function CR(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(n):o;s&&DF(s,t)}return t}const dte=ti.mac?"mac":ti.windows?"win":ti.linux?"linux":"key";function dD(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const qI=gi.define({enables:_y.default(hi.domEventHandlers({keydown:(n,e)=>zU($U(e.state),n,e,"editor")}))}),SR=new WeakMap;function $U(n){let e=n.facet(qI),t=SR.get(e);return t||SR.set(e,t=function(i,o=dte){let s=Object.create(null),u=Object.create(null),c=(f,g)=>{let y=u[f];if(y==null)u[f]=g;else if(y!=g)throw new Error("Key binding "+f+" is used both as a regular binding and as a multi-stroke prefix")},p=(f,g,y,b,_)=>{var M,F;let O=s[f]||(s[f]=Object.create(null)),j=g.split(/ (?!$)/).map(J=>function(Q,te){const ae=Q.split(/-(?!$)/);let se,ge,xe,Pe,Ce=ae[ae.length-1];Ce=="Space"&&(Ce=" ");for(let Me=0;Me<ae.length-1;++Me){const Oe=ae[Me];if(/^(cmd|meta|m)$/i.test(Oe))Pe=!0;else if(/^a(lt)?$/i.test(Oe))se=!0;else if(/^(c|ctrl|control)$/i.test(Oe))ge=!0;else if(/^s(hift)?$/i.test(Oe))xe=!0;else{if(!/^mod$/i.test(Oe))throw new Error("Unrecognized modifier name: "+Oe);te=="mac"?Pe=!0:ge=!0}}return se&&(Ce="Alt-"+Ce),ge&&(Ce="Ctrl-"+Ce),Pe&&(Ce="Meta-"+Ce),xe&&(Ce="Shift-"+Ce),Ce}(J,o));for(let J=1;J<j.length;J++){let G=j.slice(0,J).join(" ");c(G,!0),O[G]||(O[G]={preventDefault:!0,stopPropagation:!1,run:[Q=>{let te=Rd={view:Q,prefix:G,scope:f};return setTimeout(()=>{Rd==te&&(Rd=null)},vte),!0}]})}let z=j.join(" ");c(z,!1);let W=O[z]||(O[z]={preventDefault:!1,stopPropagation:!1,run:((F=(M=O._any)===null||M===void 0?void 0:M.run)===null||F===void 0?void 0:F.slice())||[]});y&&W.run.push(y),b&&(W.preventDefault=!0),_&&(W.stopPropagation=!0)};for(let f of i){let g=f.scope?f.scope.split(" "):["editor"];if(f.any)for(let b of g){let _=s[b]||(s[b]=Object.create(null));_._any||(_._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:M}=f;for(let F in _)_[F].run.push(O=>M(O,zF))}let y=f[o]||f.key;if(y)for(let b of g)p(b,y,f.run,f.preventDefault,f.stopPropagation),f.shift&&p(b,"Shift-"+y,f.shift,f.preventDefault,f.stopPropagation)}return s}(e.reduce((r,i)=>r.concat(i),[]))),t}let Rd=null;const vte=4e3;let zF=null;function zU(n,e,t,r){zF=e;let i=function(F){var O=!(Iee&&F.metaKey&&F.shiftKey&&!F.ctrlKey&&!F.altKey||Oee&&F.shiftKey&&F.key&&F.key.length==1||F.key=="Unidentified")&&F.key||(F.shiftKey?$b:pv)[F.keyCode]||F.key||"Unidentified";return O=="Esc"&&(O="Escape"),O=="Del"&&(O="Delete"),O=="Left"&&(O="ArrowLeft"),O=="Up"&&(O="ArrowUp"),O=="Right"&&(O="ArrowRight"),O=="Down"&&(O="ArrowDown"),O}(e),o=ym(Tp(i,0))==i.length&&i!=" ",s="",u=!1,c=!1,p=!1;Rd&&Rd.view==t&&Rd.scope==r&&(s=Rd.prefix+" ",AU.indexOf(e.keyCode)<0&&(c=!0,Rd=null));let f,g,y=new Set,b=M=>{if(M){for(let F of M.run)if(!y.has(F)&&(y.add(F),F(t)))return M.stopPropagation&&(p=!0),!0;M.preventDefault&&(M.stopPropagation&&(p=!0),c=!0)}return!1},_=n[r];return _&&(b(_[s+dD(i,e,!o)])?u=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ti.windows&&e.ctrlKey&&e.altKey)&&(f=pv[e.keyCode])&&f!=i?(b(_[s+dD(f,e,!0)])||e.shiftKey&&(g=$b[e.keyCode])!=i&&g!=f&&b(_[s+dD(g,e,!1)]))&&(u=!0):o&&e.shiftKey&&b(_[s+dD(i,e,!0)])&&(u=!0),!u&&b(_._any)&&(u=!0)),c&&(u=!0),u&&p&&e.stopPropagation(),zF=null,u}let UU=class UF{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=_R(e);return[new UF(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}return function(o,s,u){if(u.to<=o.viewport.from||u.from>=o.viewport.to)return[];let c=Math.max(u.from,o.viewport.from),p=Math.min(u.to,o.viewport.to),f=o.textDirection==uh.LTR,g=o.contentDOM,y=g.getBoundingClientRect(),b=_R(o),_=g.querySelector(".cm-line"),M=_&&window.getComputedStyle(_),F=y.left+(M?parseInt(M.paddingLeft)+Math.min(0,parseInt(M.textIndent)):0),O=y.right-(M?parseInt(M.paddingRight):0),j=OF(o,c),z=OF(o,p),W=j.type==dg.Text?j:null,J=z.type==dg.Text?z:null;if(W&&(o.lineWrapping||j.widgetLineBreaks)&&(W=ER(o,c,1,W)),J&&(o.lineWrapping||z.widgetLineBreaks)&&(J=ER(o,p,-1,J)),W&&J&&W.from==J.from&&W.to==J.to)return Q(te(u.from,u.to,W));{let se=W?te(u.from,null,W):ae(j,!1),ge=J?te(null,u.to,J):ae(z,!0),xe=[];return(W||j).to<(J||z).from-(W&&J?1:0)||j.widgetLineBreaks>1&&se.bottom+o.defaultLineHeight/2<ge.top?xe.push(G(F,se.bottom,O,ge.top)):se.bottom<ge.top&&o.elementAtHeight((se.bottom+ge.top)/2).type==dg.Text&&(se.bottom=ge.top=(se.bottom+ge.top)/2),Q(se).concat(xe).concat(Q(ge))}function G(se,ge,xe,Pe){return new UF(s,se-b.left,ge-b.top-.01,xe-se,Pe-ge+.01)}function Q({top:se,bottom:ge,horizontal:xe}){let Pe=[];for(let Ce=0;Ce<xe.length;Ce+=2)Pe.push(G(xe[Ce],se,xe[Ce+1],ge));return Pe}function te(se,ge,xe){let Pe=1e9,Ce=-1e9,Me=[];function Oe(Fe,Ne,Ee,Ze,xt){let wt=o.coordsAtPos(Fe,Fe==xe.to?-2:2),Dt=o.coordsAtPos(Ee,Ee==xe.from?2:-2);wt&&Dt&&(Pe=Math.min(wt.top,Dt.top,Pe),Ce=Math.max(wt.bottom,Dt.bottom,Ce),xt==uh.LTR?Me.push(f&&Ne?F:wt.left,f&&Ze?O:Dt.right):Me.push(!f&&Ze?F:Dt.left,!f&&Ne?O:wt.right))}let et=se??xe.from,$e=ge??xe.to;for(let Fe of o.visibleRanges)if(Fe.to>et&&Fe.from<$e)for(let Ne=Math.max(Fe.from,et),Ee=Math.min(Fe.to,$e);;){let Ze=o.state.doc.lineAt(Ne);for(let xt of o.bidiSpans(Ze)){let wt=xt.from+Ze.from,Dt=xt.to+Ze.from;if(wt>=Ee)break;Dt>Ne&&Oe(Math.max(wt,Ne),se==null&&wt<=et,Math.min(Dt,Ee),ge==null&&Dt>=$e,xt.dir)}if(Ne=Ze.to+1,Ne>=Ee)break}return Me.length==0&&Oe(et,se==null,$e,ge==null,o.textDirection),{top:Pe,bottom:Ce,horizontal:Me}}function ae(se,ge){let xe=y.top+(ge?se.top:se.bottom);return{top:xe,bottom:xe,horizontal:[]}}}(e,t,r)}};function _R(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==uh.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function ER(n,e,t,r){let i=n.coordsAtPos(e,2*t);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,u=n.posAtCoords({x:o.left+1,y:s}),c=n.posAtCoords({x:o.right-1,y:s});return u==null||c==null?r:{from:Math.max(r.from,Math.min(u,c)),to:Math.min(r.to,Math.max(u,c))}}let yte=class{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(XC)!=e.state.facet(XC)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(XC);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!function(o,s){return o.constructor==s.constructor&&o.eq(s)}(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}};const XC=gi.define();function WU(n){return[Wp.define(e=>new yte(e,n)),XC.of(n)]}const HU=!ti.ios,Hb=gi.define({combine:n=>K0(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function wte(n={}){return[Hb.of(n),bte,xte,Dte,mU.of(!0)]}function VU(n){return n.startState.facet(Hb)!=n.state.facet(Hb)}const bte=WU({above:!0,markers(n){let{state:e}=n,t=e.facet(Hb),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||HU:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=i.empty?i:In.cursor(i.head,i.head>i.anchor?-1:1);for(let c of UU.forRange(n,s,u))r.push(c)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=VU(n);return t&&AR(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){AR(e.state,n)},class:"cm-cursorLayer"});function AR(n,e){e.style.animationDuration=n.facet(Hb).cursorBlinkRate+"ms"}const xte=WU({above:!1,markers:n=>n.state.selection.ranges.map(e=>e.empty?[]:UU.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t)),update:(n,e)=>n.docChanged||n.selectionSet||n.viewportChanged||VU(n),class:"cm-selectionLayer"}),WF={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};HU&&(WF[".cm-line"].caretColor=WF[".cm-content"].caretColor="transparent !important");const Dte=_y.highest(hi.theme(WF)),qU=Bu.define({map:(n,e)=>n==null?null:e.mapPos(n)}),Kw=wg.define({create:()=>null,update:(n,e)=>(n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(qU)?r.value:t,n))}),Cte=Wp.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Kw);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Kw)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Kw),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Kw)!=n&&this.view.dispatch({effects:qU.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){n.target!=this.view.contentDOM&&this.view.contentDOM.contains(n.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function kR(n,e,t,r,i){e.lastIndex=0;for(let o,s=n.iterRange(t,r),u=t;!s.next().done;u+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(u+o.index,o)}let Ste=class{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(u,c,p,f)=>i(f,p,p+u[0].length,u,c);else if(typeof r=="function")this.addMatch=(u,c,p,f)=>{let g=r(u,c,p);g&&f(p,p+u[0].length,g)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(u,c,p,f)=>f(p,p+u[0].length,r)}this.boundary=o,this.maxLength=s}createDeco(e){let t=new $1,r=t.add.bind(t);for(let{from:i,to:o}of function(u,c){let p=u.visibleRanges;if(p.length==1&&p[0].from==u.viewport.from&&p[0].to==u.viewport.to)return p;let f=[];for(let{from:g,to:y}of p)g=Math.max(u.state.doc.lineAt(g).from,g-c),y=Math.min(u.state.doc.lineAt(y).to,y+c),f.length&&f[f.length-1].to>=g?f[f.length-1].to=y:f.push({from:g,to:y});return f}(e,this.maxLength))kR(e.state.doc,this.regexp,i,o,(s,u)=>this.addMatch(u,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,u,c)=>{c>e.view.viewport.from&&u<e.view.viewport.to&&(r=Math.min(u,r),i=Math.max(c,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),u=Math.min(o.to,i);if(u>s){let c=e.state.doc.lineAt(s),p=c.to<u?e.state.doc.lineAt(u):c,f=Math.max(o.from,c.from),g=Math.min(o.to,p.to);if(this.boundary){for(;s>c.from;s--)if(this.boundary.test(c.text[s-1-c.from])){f=s;break}for(;u<p.to;u++)if(this.boundary.test(p.text[u-p.from])){g=u;break}}let y,b=[],_=(M,F,O)=>b.push(O.range(M,F));if(c==p)for(this.regexp.lastIndex=f-c.from;(y=this.regexp.exec(c.text))&&y.index<g-c.from;)this.addMatch(y,e,y.index+c.from,_);else kR(e.state.doc,this.regexp,f,g,(M,F)=>this.addMatch(F,e,M,_));t=t.update({filterFrom:f,filterTo:g,filter:(M,F)=>M<f||F>g,add:b})}}return t}};const HF=/x/.unicode!=null?"gu":"g",_te=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,HF),Ete={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let YA=null;const vD=gi.define({combine(n){let e=K0(n,{render:null,specialChars:_te,addSpecialChars:null});return(e.replaceTabs=!function(){var r;if(YA==null&&typeof document<"u"&&document.body){let i=document.body.style;YA=((r=i.tabSize)!==null&&r!==void 0?r:i.MozTabSize)!=null}return YA||!1}())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,HF)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,HF)),e}});function Ate(n={}){return[vD.of(n),MR||(MR=Wp.fromClass(class{constructor(e){this.view=e,this.decorations=Aa.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(vD)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Ste({regexp:e.specialChars,decoration:(t,r,i)=>{let{doc:o}=r.state,s=Tp(t[0],0);if(s==9){let u=o.lineAt(i),c=r.state.tabSize,p=uw(u.text,c,i-u.from);return Aa.replace({widget:new Mte((c-p%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Aa.replace({widget:new kte(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(vD);e.startState.facet(vD)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let MR=null,kte=class extends Sv{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(u){return u>=32?"•":u==10?"␤":String.fromCharCode(9216+u)}(this.code),r=e.state.phrase("Control character")+" "+(Ete[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}},Mte=class extends Sv{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}};const Fte=Aa.line({class:"cm-activeLine"}),Pte=Wp.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(Fte.range(i.from)),e=i.from)}return Aa.set(t)}},{decorations:n=>n.decorations}),VF=2e3;function FR(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>VF?-1:i==r.length?function(u,c){let p=u.coordsAtPos(u.viewport.from);return p?Math.round(Math.abs((p.left-c)/u.defaultCharacterWidth)):-1}(n,e.clientX):uw(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function Tte(n,e){let t=FR(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let u=FR(n,i);if(!u)return r;let c=function(f,g,y){let b=Math.min(g.line,y.line),_=Math.max(g.line,y.line),M=[];if(g.off>VF||y.off>VF||g.col<0||y.col<0){let F=Math.min(g.off,y.off),O=Math.max(g.off,y.off);for(let j=b;j<=_;j++){let z=f.doc.line(j);z.length<=O&&M.push(In.range(z.from+F,z.to+O))}}else{let F=Math.min(g.col,y.col),O=Math.max(g.col,y.col);for(let j=b;j<=_;j++){let z=f.doc.line(j),W=cF(z.text,F,f.tabSize,!0);if(W<0)M.push(In.cursor(z.to));else{let J=cF(z.text,O,f.tabSize);M.push(In.range(z.from+W,z.from+J))}}}return M}(n.state,t,u);return c.length?s?In.create(c.concat(r.ranges)):In.create(c):r}}:null}const Ite={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Ote={style:"cursor: crosshair"};function Nte(n={}){let[e,t]=Ite[n.key||"Alt"],r=Wp.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){i.keyCode!=e&&t(i)||this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,hi.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?Ote:null})]}const Sw="-10000px";let KU=class{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let s=[],u=t?[]:null;for(let c=0;c<o.length;c++){let p=o[c],f=-1;if(p){for(let g=0;g<this.tooltips.length;g++){let y=this.tooltips[g];y&&y.create==p.create&&(f=g)}if(f<0)s[c]=this.createTooltipView(p,c?s[c-1]:null),u&&(u[c]=!!p.above);else{let g=s[c]=this.tooltipViews[f];u&&(u[c]=t[f]),g.update&&g.update(e)}}}for(let c of this.tooltipViews)s.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return t&&(u.forEach((c,p)=>t[p]=c),t.length=u.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}};function Bte(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const JA=gi.define({combine:n=>{var e,t,r;return{position:ti.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Bte}}}),PR=new WeakMap,KI=Wp.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(JA);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new KU(n,GI,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(JA);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Sw,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(ti.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Sw&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,t=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(JA).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{editor:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let u=0;u<this.manager.tooltips.length;u++){let c=this.manager.tooltips[u],p=this.manager.tooltipViews[u],{dom:f}=p,g=n.pos[u],y=n.size[u];if(!g||g.bottom<=Math.max(t.top,r.top)||g.top>=Math.min(t.bottom,r.bottom)||g.right<Math.max(t.left,r.left)-.1||g.left>Math.min(t.right,r.right)+.1){f.style.top=Sw;continue}let b=c.arrow?p.dom.querySelector(".cm-tooltip-arrow"):null,_=b?7:0,M=y.right-y.left,F=(e=PR.get(p))!==null&&e!==void 0?e:y.bottom-y.top,O=p.offset||Rte,j=this.view.textDirection==uh.LTR,z=y.width>r.right-r.left?j?r.left:r.right-y.width:j?Math.max(r.left,Math.min(g.left-(b?14:0)+O.x,r.right-M)):Math.min(Math.max(r.left,g.left-M+(b?14:0)-O.x),r.right-M),W=this.above[u];!c.strictSide&&(W?g.top-(y.bottom-y.top)-O.y<r.top:g.bottom+(y.bottom-y.top)+O.y>r.bottom)&&W==r.bottom-g.bottom>g.top-r.top&&(W=this.above[u]=!W);let J=(W?g.top-r.top:r.bottom-g.bottom)-_;if(J<F&&p.resize!==!1){if(J<this.view.defaultLineHeight){f.style.top=Sw;continue}PR.set(p,F),f.style.height=(F=J)/o+"px"}else f.style.height&&(f.style.height="");let G=W?g.top-F-_-O.y:g.bottom+_+O.y,Q=z+M;if(p.overlap!==!0)for(let te of s)te.left<Q&&te.right>z&&te.top<G+F&&te.bottom>G&&(G=W?te.top-F-2-_:te.bottom+_+2);if(this.position=="absolute"?(f.style.top=(G-n.parent.top)/o+"px",f.style.left=(z-n.parent.left)/i+"px"):(f.style.top=G/o+"px",f.style.left=z/i+"px"),b){let te=g.left+(j?O.x:-O.x)-(z+14-7);b.style.left=te/i+"px"}p.overlap!==!0&&s.push({left:z,top:G,right:Q,bottom:G+F}),f.classList.toggle("cm-tooltip-above",W),f.classList.toggle("cm-tooltip-below",!W),p.positioned&&p.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Sw}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Rte={x:0,y:0},GI=gi.define({enables:[KI,hi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),r_=gi.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});let GU=class YU{static create(e){return new YU(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new KU(e,r_,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}};const jte=GI.compute([r_],n=>{let e=n.facet(r_);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:GU.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});let Lte=class{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof jI)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let u=e.coordsAtPos(i);if(!u||t.y<u.top||t.y>u.bottom||t.x<u.left-e.defaultCharacterWidth||t.x>u.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),p=c&&c.dir==uh.RTL?-1:1;o=t.x<u.left?-p:p}let s=this.source(e,i,o);if(s!=null&&s.then){let u=this.pending={pos:i};s.then(c=>{this.pending==u&&(this.pending=null,!c||Array.isArray(c)&&!c.length||e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>Ng(e.state,c,"hover tooltip"))}else!s||Array.isArray(s)&&!s.length||e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(KI),t=e?e.manager.tooltips.findIndex(r=>r.create==GU.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!function(u,c){let p,{left:f,right:g,top:y,bottom:b}=u.getBoundingClientRect();if(p=u.querySelector(".cm-tooltip-arrow")){let _=p.getBoundingClientRect();y=Math.min(_.top,y),b=Math.max(_.bottom,b)}return c.clientX>=f-yD&&c.clientX<=g+yD&&c.clientY>=y-yD&&c.clientY<=b+yD}(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,u=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==u?this.view.posAtCoords(this.lastMove)==s:function(p,f,g,y,b,_){let M=p.scrollDOM.getBoundingClientRect(),F=p.documentTop+p.documentPadding.top+p.contentHeight;if(M.left>y||M.right<y||M.top>b||Math.min(M.bottom,F)<b)return!1;let O=p.posAtCoords({x:y,y:b},!1);return O>=f&&O<=g}(this.view,s,u,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}};const yD=4;function $te(n,e={}){let t=Bu.define(),r=wg.define({create:()=>[],update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let u of i){let c=o.changes.mapPos(u.pos,-1,gg.TrackDel);if(c!=null){let p=Object.assign(Object.create(null),u);p.pos=c,p.end!=null&&(p.end=o.changes.mapPos(p.end)),s.push(p)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(zte)&&(i=[]);return i},provide:i=>r_.from(i)});return{active:r,extension:[r,Wp.define(i=>new Lte(i,n,r,t,e.hoverTime||300)),jte]}}function JU(n,e){let t=n.plugin(KI);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const zte=Bu.define(),TR=gi.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function Vb(n,e){let t=n.plugin(XU),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const XU=Wp.fromClass(class{constructor(n){this.input=n.state.facet(qb),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(TR);this.top=new wD(n,!0,e.topContainer),this.bottom=new wD(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(TR);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new wD(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new wD(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(qb);if(t!=this.input){let r=t.filter(c=>c),i=[],o=[],s=[],u=[];for(let c of r){let p,f=this.specs.indexOf(c);f<0?(p=c(n.view),u.push(p)):(p=this.panels[f],p.update&&p.update(n)),i.push(p),(p.top?o:s).push(p)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let c of u)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>hi.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});let wD=class{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=IR(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=IR(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}};function IR(n){let e=n.nextSibling;return n.remove(),e}const qb=gi.define({enables:XU});let td=class extends Wv{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}};td.prototype.elementClass="",td.prototype.toDOM=void 0,td.prototype.mapMode=gg.TrackBefore,td.prototype.startSide=td.prototype.endSide=-1,td.prototype.point=!0;const QC=gi.define(),Ute=gi.define(),Wte={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>bh.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},vb=gi.define();function Hte(n){return[QU(),vb.of(Object.assign(Object.assign({},Wte),n))]}const OR=gi.define({combine:n=>n.some(e=>e)});function QU(n){return[Vte]}const Vte=Wp.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(vb).map(e=>new BR(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(OR),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<.8*(t.to-t.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(OR)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=bh.iter(this.view.state.facet(QC),this.view.viewport.from),r=[],i=this.gutters.map(o=>new qte(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let u of o.type)if(u.type==dg.Text&&s){qF(t,r,u.from);for(let c of i)c.line(this.view,u,r);s=!1}else if(u.widget)for(let c of i)c.widget(this.view,u)}else if(o.type==dg.Text){qF(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(vb),t=n.state.facet(vb),r=n.docChanged||n.heightChanged||n.viewportChanged||!bh.eq(n.startState.facet(QC),n.state.facet(QC),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new BR(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>hi.scrollMargins.of(e=>{let t=e.plugin(n);return t&&t.gutters.length!=0&&t.fixed?e.textDirection==uh.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}:null})});function NR(n){return Array.isArray(n)?n:[n]}function qF(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}let qte=class{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=bh.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let u=new ZU(e,s,o,r);i.elements.push(u),i.dom.appendChild(u.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];qF(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;(i.length!=0||s.config.renderEmptyElements)&&this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet(Ute)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}},BR=class{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();o=(c.top+c.bottom)/2}else o=i.clientY;let u=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,u,i)&&i.preventDefault()});this.markers=NR(t.markers(e)),t.initialSpacer&&(this.spacer=new ZU(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=NR(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!bh.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}},ZU=class{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(s,u){if(s.length!=u.length)return!1;for(let c=0;c<s.length;c++)if(!s[c].compare(u[c]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let u=s,c=o<t.length?t[o++]:null,p=!1;if(c){let f=c.elementClass;f&&(r+=" "+f);for(let g=s;g<this.markers.length;g++)if(this.markers[g].compare(c)){u=g,p=!0;break}}else u=this.markers.length;for(;s<u;){let f=this.markers[s++];if(f.toDOM){f.destroy(i);let g=i.nextSibling;i.remove(),i=g}}if(!c)break;c.toDOM&&(p?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),p&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}};const Kte=gi.define(),Gte=gi.define(),s1=gi.define({combine:n=>K0(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(u,c,p)=>o(u,c,p)||s(u,c,p):s}return r}})});let XA=class extends td{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}};function QA(n,e){return n.state.facet(s1).formatNumber(e,n.state)}const Yte=vb.compute([s1],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Kte),lineMarker:(e,t,r)=>r.some(i=>i.toDOM)?null:new XA(QA(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,r)=>{for(let i of e.state.facet(Gte)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(s1)!=e.state.facet(s1),initialSpacer:e=>new XA(QA(e,RR(e.state.doc.lines))),updateSpacer(e,t){let r=QA(t.view,RR(t.view.state.doc.lines));return r==e.number?e:new XA(r)},domEventHandlers:n.facet(s1).domEventHandlers}));function Jte(n={}){return[s1.of(n),QU(),Yte]}function RR(n){let e=9;for(;e<n;)e=10*e+9;return e}const Xte=new class extends td{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Qte=QC.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(Xte.range(i)))}return bh.of(e)}),Zte=1024;let ene=0,ZA=class{constructor(e,t){this.from=e,this.to=t}},qc=class{constructor(e={}){this.id=ene++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=z0.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};qc.closedBy=new qc({deserialize:n=>n.split(" ")}),qc.openedBy=new qc({deserialize:n=>n.split(" ")}),qc.group=new qc({deserialize:n=>n.split(" ")}),qc.isolate=new qc({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),qc.contextHash=new qc({perNode:!0}),qc.lookAhead=new qc({perNode:!0}),qc.mounted=new qc({perNode:!0});let i_=class{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[qc.mounted.id]}};const tne=Object.create(null);let z0=class e7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):tne,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new e7(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(qc.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(qc.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}};z0.none=new z0("",Object.create(null),0,8);const bD=new WeakMap,jR=new WeakMap;var Ip;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ip||(Ip={}));let M0=class Gy{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,u]of o)this.props[typeof s=="number"?s:s.id]=u}}toString(){let e=i_.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new YF(this.topNode,e)}cursorAt(e,t=0,r=0){let i=bD.get(this)||this.topNode,o=new YF(i);return o.moveTo(e,t),bD.set(this,o._tree),o}get topNode(){return new ev(this,0,0,null)}resolve(e,t=0){let r=yb(bD.get(this)||this.topNode,e,t,!1);return bD.set(this,r),r}resolveInner(e,t=0){let r=yb(jR.get(this)||this.topNode,e,t,!0);return jR.set(this,r),r}resolveStack(e,t=0){return function(i,o,s){let u=i.resolveInner(o,s),c=null;for(let p=u instanceof ev?u:u.context.parent;p;p=p.parent)if(p.index<0){let f=p.parent;(c||(c=[u])).push(f.resolve(o,s)),p=f}else{let f=i_.get(p.tree);if(f&&f.overlay&&f.overlay[0].from<=o&&f.overlay[f.overlay.length-1].to>=o){let g=new ev(f.tree,f.overlay[0].from+p.from,-1,p);(c||(c=[u])).push(yb(g,o,s,!1))}}return c?o7(c):u}(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,u=(s&Ip.IncludeAnonymous)>0;for(let c=this.cursor(s|Ip.IncludeAnonymous);;){let p=!1;if(c.from<=o&&c.to>=i&&(!u&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;p=!0}for(;p&&r&&(u||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;p=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:JF(z0.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new Gy(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new Gy(z0.none,t,r,i)))}static build(e){return function(r){var i;let{buffer:o,nodeSet:s,maxBufferLength:u=Zte,reused:c=[],minRepeatType:p=s.types.length}=r,f=Array.isArray(o)?new nne(o,o.length):o,g=s.types,y=0,b=0;function _(te,ae,se,ge,xe,Pe){let{id:Ce,start:Me,end:Oe,size:et}=f,$e=b,Fe=y;for(;et<0;){if(f.next(),et==-1){let wt=c[Ce];return se.push(wt),void ge.push(Me-te)}if(et==-3)return void(y=Ce);if(et==-4)return void(b=Ce);throw new RangeError(`Unrecognized record size: ${et}`)}let Ne,Ee,Ze=g[Ce],xt=Me-te;if(Oe-Me<=u&&(Ee=z(f.pos-ae,xe))){let wt=new Uint16Array(Ee.size-Ee.skip),Dt=f.pos-Ee.size,rn=wt.length;for(;f.pos>Dt;)rn=W(Ee.start,wt,rn);Ne=new H1(wt,Oe-Ee.start,s),xt=Ee.start-te}else{let wt=f.pos-et;f.next();let Dt=[],rn=[],an=Ce>=p?Ce:-1,un=0,ur=Oe;for(;f.pos>wt;)an>=0&&f.id==an&&f.size>=0?(f.end<=ur-u&&(O(Dt,rn,Me,un,f.end,ur,an,$e,Fe),un=Dt.length,ur=f.end),f.next()):Pe>2500?M(Me,wt,Dt,rn):_(Me,wt,Dt,rn,an,Pe+1);if(an>=0&&un>0&&un<Dt.length&&O(Dt,rn,Me,un,Me,ur,an,$e,Fe),Dt.reverse(),rn.reverse(),an>-1&&un>0){let Fn=F(Ze,Fe);Ne=JF(Ze,Dt,rn,0,Dt.length,0,Oe-Me,Fn,Fn)}else Ne=j(Ze,Dt,rn,Oe-Me,$e-Oe,Fe)}se.push(Ne),ge.push(xt)}function M(te,ae,se,ge){let xe=[],Pe=0,Ce=-1;for(;f.pos>ae;){let{id:Me,start:Oe,end:et,size:$e}=f;if($e>4)f.next();else{if(Ce>-1&&Oe<Ce)break;Ce<0&&(Ce=et-u),xe.push(Me,Oe,et),Pe++,f.next()}}if(Pe){let Me=new Uint16Array(4*Pe),Oe=xe[xe.length-2];for(let et=xe.length-3,$e=0;et>=0;et-=3)Me[$e++]=xe[et],Me[$e++]=xe[et+1]-Oe,Me[$e++]=xe[et+2]-Oe,Me[$e++]=$e;se.push(new H1(Me,xe[2]-Oe,s)),ge.push(Oe-te)}}function F(te,ae){return(se,ge,xe)=>{let Pe,Ce,Me=0,Oe=se.length-1;if(Oe>=0&&(Pe=se[Oe])instanceof Gy){if(!Oe&&Pe.type==te&&Pe.length==xe)return Pe;(Ce=Pe.prop(qc.lookAhead))&&(Me=ge[Oe]+Pe.length+Ce)}return j(te,se,ge,xe,Me,ae)}}function O(te,ae,se,ge,xe,Pe,Ce,Me,Oe){let et=[],$e=[];for(;te.length>ge;)et.push(te.pop()),$e.push(ae.pop()+se-xe);te.push(j(s.types[Ce],et,$e,Pe-xe,Me-Pe,Oe)),ae.push(xe-se)}function j(te,ae,se,ge,xe,Pe,Ce){if(Pe){let Me=[qc.contextHash,Pe];Ce=Ce?[Me].concat(Ce):[Me]}if(xe>25){let Me=[qc.lookAhead,xe];Ce=Ce?[Me].concat(Ce):[Me]}return new Gy(te,ae,se,ge,Ce)}function z(te,ae){let se=f.fork(),ge=0,xe=0,Pe=0,Ce=se.end-u,Me={size:0,start:0,skip:0};e:for(let Oe=se.pos-te;se.pos>Oe;){let et=se.size;if(se.id==ae&&et>=0){Me.size=ge,Me.start=xe,Me.skip=Pe,Pe+=4,ge+=4,se.next();continue}let $e=se.pos-et;if(et<0||$e<Oe||se.start<Ce)break;let Fe=se.id>=p?4:0,Ne=se.start;for(se.next();se.pos>$e;){if(se.size<0){if(se.size!=-3)break e;Fe+=4}else se.id>=p&&(Fe+=4);se.next()}xe=Ne,ge+=et,Pe+=Fe}return(ae<0||ge==te)&&(Me.size=ge,Me.start=xe,Me.skip=Pe),Me.size>4?Me:void 0}function W(te,ae,se){let{id:ge,start:xe,end:Pe,size:Ce}=f;if(f.next(),Ce>=0&&ge<p){let Me=se;if(Ce>4){let Oe=f.pos-(Ce-4);for(;f.pos>Oe;)se=W(te,ae,se)}ae[--se]=Me,ae[--se]=Pe-te,ae[--se]=xe-te,ae[--se]=ge}else Ce==-3?y=ge:Ce==-4&&(b=ge);return se}let J=[],G=[];for(;f.pos>0;)_(r.start||0,r.bufferStart||0,J,G,-1,0);let Q=(i=r.length)!==null&&i!==void 0?i:J.length?G[0]+J[0].length:0;return new Gy(g[r.topID],J.reverse(),G.reverse(),Q)}(e)}};M0.empty=new M0(z0.none,[],[],0);let nne=class t7{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t7(this.buffer,this.index)}},H1=class n7{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return z0.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,r,i,o){let{buffer:s}=this,u=-1;for(let c=e;c!=t&&!(r7(o,i,s[c+1],s[c+2])&&(u=c,r>0));c=s[c+3]);return u}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let u=e,c=0;u<t;){o[c++]=i[u++],o[c++]=i[u++]-r;let p=o[c++]=i[u++]-r;o[c++]=i[u++]-e,s=Math.max(s,p)}return new n7(o,s,this.set)}};function r7(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function yb(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof ev&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:Ip.IgnoreOverlays;if(r)for(let s=n,u=s.parent;u;s=u,u=s.parent)s instanceof ev&&s.index<0&&((i=u.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=u);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}let i7=class{cursor(e=0){return new YF(this,e)}getChild(e,t=null,r=null){let i=LR(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return LR(this,e,t,r)}resolve(e,t=0){return yb(this,e,t,!1)}resolveInner(e,t=0){return yb(this,e,t,!0)}matchContext(e){return KF(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}},ev=class ZC extends i7{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:u,positions:c}=s._tree,p=t>0?u.length:-1;e!=p;e+=t){let f=u[e],g=c[e]+s.from;if(r7(i,r,g,g+f.length)){if(f instanceof H1){if(o&Ip.ExcludeBuffers)continue;let y=f.findChild(0,f.buffer.length,t,r-g,i);if(y>-1)return new GF(new rne(s,f,e,g),null,y)}else if(o&Ip.IncludeAnonymous||!f.type.isAnonymous||YI(f)){let y;if(!(o&Ip.IgnoreMounts)&&(y=i_.get(f))&&!y.overlay)return new ZC(y.tree,g,e,s);let b=new ZC(f,g,e,s);return o&Ip.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(t<0?f.children.length-1:0,t,r,i)}}}if(o&Ip.IncludeAnonymous||!s.type.isAnonymous||(e=s.index>=0?s.index+t:t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Ip.IgnoreOverlays)&&(i=i_.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:u}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?u>=o:u>o))return new ZC(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}};function LR(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function KF(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}let rne=class{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}},GF=class Gw extends i7{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new Gw(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Ip.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Gw(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Gw(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Gw(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new M0(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}};function o7(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof ev&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new ine(i,t)}let ine=class{constructor(e,t){this.heads=e,this.node=t}get next(){return o7(this.heads)}},YF=class{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof ev)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof ev?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&Ip.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ip.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ip.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let u=r._tree.children[o];if(this.mode&Ip.IncludeAnonymous||u instanceof H1||!u.type.isAnonymous||YI(u))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new GF(this.buffer,t,this.stack[i]);return this.bufferNode=new GF(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return KF(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return KF(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}};function YI(n){return n.children.some(e=>e instanceof H1||!e.type.isAnonymous||YI(e))}const $R=new WeakMap;function eS(n,e){if(!n.isAnonymous||e instanceof H1||e.type!=n)return 1;let t=$R.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof M0)){t=1;break}t+=eS(n,r)}$R.set(e,t)}return t}function JF(n,e,t,r,i,o,s,u,c){let p=0;for(let b=r;b<i;b++)p+=eS(n,e[b]);let f=Math.ceil(1.5*p/8),g=[],y=[];return function b(_,M,F,O,j){for(let z=F;z<O;){let W=z,J=M[z],G=eS(n,_[z]);for(z++;z<O;z++){let Q=eS(n,_[z]);if(G+Q>=f)break;G+=Q}if(z==W+1){if(G>f){let Q=_[W];b(Q.children,Q.positions,0,Q.children.length,M[W]+j);continue}g.push(_[W])}else{let Q=M[z-1]+_[z-1].length-J;g.push(JF(n,_,M,W,z,J,Q,null,c))}y.push(J+j-o)}}(e,t,r,i,0),(u||c)(g,y,s)}let tS=class XF{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let i=[new XF(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let u=0,c=0,p=0;;u++){let f=u<t.length?t[u]:null,g=f?f.fromA:1e9;if(g-c>=r)for(;s&&s.from<g;){let y=s;if(c>=y.from||g<=y.to||p){let b=Math.max(y.from,c)-p,_=Math.min(y.to,g)-p;y=b>=_?null:new XF(b,_,y.tree,y.offset+p,u>0,!!f)}if(y&&i.push(y),s.to>g)break;s=o<e.length?e[o++]:null}if(!f)break;c=f.toA,p=f.toA-f.toB}return i}},one=class{startParse(e,t,r){return typeof e=="string"&&(e=new ane(e)),r=r?r.length?r.map(i=>new ZA(i.from,i.to)):[new ZA(0,0)]:[new ZA(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}},ane=class{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}};new qc({perNode:!0});let sne=0,np=class{constructor(e={}){this.id=sne++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=QF.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};np.closedBy=new np({deserialize:n=>n.split(" ")}),np.openedBy=new np({deserialize:n=>n.split(" ")}),np.group=new np({deserialize:n=>n.split(" ")}),np.isolate=new np({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),np.contextHash=new np({perNode:!0}),np.lookAhead=new np({perNode:!0}),np.mounted=new np({perNode:!0});const une=Object.create(null);let QF=class a7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):une,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new a7(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(np.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(np.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}};var zR;QF.none=new QF("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(zR||(zR={})),new np({perNode:!0});let lne=0,nd=class ZF{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=lne++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof ZF&&(t=e),t==null?void 0:t.base)throw new Error("Can not derive from a modified tag");let i=new ZF(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new UR(e);return r=>r.modified.indexOf(t)>-1?r:UR.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}},cne=0,UR=class s7{constructor(e){this.name=e,this.instances=[],this.id=cne++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(u=>u.base==e&&function(p,f){return p.length==f.length&&p.every((g,y)=>g==f[y])}(t,u.modified));if(r)return r;let i=[],o=new nd(e.name,i,e,t);for(let u of t)u.instances.push(o);let s=function(c){let p=[[]];for(let f=0;f<c.length;f++)for(let g=0,y=p.length;g<y;g++)p.push(p[g].concat(c[f]));return p.sort((f,g)=>g.length-f.length)}(t);for(let u of e.set)if(!u.modified.length)for(let c of s)i.push(s7.get(u,c));return o}};function fne(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],s=2,u=i;for(let g=0;;){if(u=="..."&&g>0&&g+3==i.length){s=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!y)throw new RangeError("Invalid path: "+i);if(o.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),g+=y[0].length,g==i.length)break;let b=i[g++];if(g==i.length&&b=="!"){s=0;break}if(b!="/")throw new RangeError("Invalid path: "+i);u=i.slice(g)}let c=o.length-1,p=o[c];if(!p)throw new RangeError("Invalid path: "+i);let f=new o_(r,s,c>0?o.slice(0,c):null);e[p]=f.sort(e[p])}}return u7.add(e)}const u7=new np;let o_=class{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}};function l7(n,e){let t=Object.create(null);for(let o of n)if(Array.isArray(o.tag))for(let s of o.tag)t[s.id]=o.class;else t[o.tag.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let u of o)for(let c of u.set){let p=t[c.id];if(p){s=s?s+" "+p:p;break}}return s},scope:r}}function hne(n,e,t,r=0,i=n.length){let o=new pne(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}o_.empty=new o_([],2,null);let pne=class{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:u,to:c}=e;if(u>=r||c<=t)return;s.isTop&&(o=this.highlighters.filter(b=>!b.scope||b.scope(s)));let p=i,f=function(_){let M=_.type.prop(u7);for(;M&&M.context&&!_.matchContext(M.context);)M=M.next;return M||null}(e)||o_.empty,g=function(_,M){let F=null;for(let O of _){let j=O.style(M);j&&(F=F?F+" "+j:j)}return F}(o,f.tags);if(g&&(p&&(p+=" "),p+=g,f.mode==1&&(i+=(i?" ":"")+g)),this.startSpan(Math.max(t,u),p),f.opaque)return;let y=e.tree&&e.tree.prop(np.mounted);if(y&&y.overlay){let b=e.node.enter(y.overlay[0].from+u,1),_=this.highlighters.filter(F=>!F.scope||F.scope(y.tree.type)),M=e.firstChild();for(let F=0,O=u;;F++){let j=F<y.overlay.length?y.overlay[F]:null,z=j?j.from+u:c,W=Math.max(t,O),J=Math.min(r,z);if(W<J&&M)for(;e.from<J&&(this.highlightRange(e,W,J,i,o),this.startSpan(Math.min(J,e.to),p),!(e.to>=z)&&e.nextSibling()););if(!j||z>r)break;O=j.to+u,O>t&&(this.highlightRange(b.cursor(),Math.max(t,j.from+u),Math.min(r,O),"",_),this.startSpan(Math.min(r,O),p))}M&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),p)}while(e.nextSibling());e.parent()}}};const mr=nd.define,xD=mr(),kd=mr(),WR=mr(kd),HR=mr(kd),Md=mr(),DD=mr(Md),ek=mr(Md),v0=mr(),kv=mr(v0),c0=mr(),f0=mr(),eP=mr(),_w=mr(eP),CD=mr(),Fr={comment:xD,lineComment:mr(xD),blockComment:mr(xD),docComment:mr(xD),name:kd,variableName:mr(kd),typeName:WR,tagName:mr(WR),propertyName:HR,attributeName:mr(HR),className:mr(kd),labelName:mr(kd),namespace:mr(kd),macroName:mr(kd),literal:Md,string:DD,docString:mr(DD),character:mr(DD),attributeValue:mr(DD),number:ek,integer:mr(ek),float:mr(ek),bool:mr(Md),regexp:mr(Md),escape:mr(Md),color:mr(Md),url:mr(Md),keyword:c0,self:mr(c0),null:mr(c0),atom:mr(c0),unit:mr(c0),modifier:mr(c0),operatorKeyword:mr(c0),controlKeyword:mr(c0),definitionKeyword:mr(c0),moduleKeyword:mr(c0),operator:f0,derefOperator:mr(f0),arithmeticOperator:mr(f0),logicOperator:mr(f0),bitwiseOperator:mr(f0),compareOperator:mr(f0),updateOperator:mr(f0),definitionOperator:mr(f0),typeOperator:mr(f0),controlOperator:mr(f0),punctuation:eP,separator:mr(eP),bracket:_w,angleBracket:mr(_w),squareBracket:mr(_w),paren:mr(_w),brace:mr(_w),content:v0,heading:kv,heading1:mr(kv),heading2:mr(kv),heading3:mr(kv),heading4:mr(kv),heading5:mr(kv),heading6:mr(kv),contentSeparator:mr(v0),list:mr(v0),quote:mr(v0),emphasis:mr(v0),strong:mr(v0),link:mr(v0),monospace:mr(v0),strikethrough:mr(v0),inserted:mr(),deleted:mr(),changed:mr(),invalid:mr(),meta:CD,documentMeta:mr(CD),annotation:mr(CD),processingInstruction:mr(CD),definition:nd.defineModifier("definition"),constant:nd.defineModifier("constant"),function:nd.defineModifier("function"),standard:nd.defineModifier("standard"),local:nd.defineModifier("local"),special:nd.defineModifier("special")};for(let n in Fr){let e=Fr[n];e instanceof nd&&(e.name=n)}var tk;l7([{tag:Fr.link,class:"tok-link"},{tag:Fr.heading,class:"tok-heading"},{tag:Fr.emphasis,class:"tok-emphasis"},{tag:Fr.strong,class:"tok-strong"},{tag:Fr.keyword,class:"tok-keyword"},{tag:Fr.atom,class:"tok-atom"},{tag:Fr.bool,class:"tok-bool"},{tag:Fr.url,class:"tok-url"},{tag:Fr.labelName,class:"tok-labelName"},{tag:Fr.inserted,class:"tok-inserted"},{tag:Fr.deleted,class:"tok-deleted"},{tag:Fr.literal,class:"tok-literal"},{tag:Fr.string,class:"tok-string"},{tag:Fr.number,class:"tok-number"},{tag:[Fr.regexp,Fr.escape,Fr.special(Fr.string)],class:"tok-string2"},{tag:Fr.variableName,class:"tok-variableName"},{tag:Fr.local(Fr.variableName),class:"tok-variableName tok-local"},{tag:Fr.definition(Fr.variableName),class:"tok-variableName tok-definition"},{tag:Fr.special(Fr.variableName),class:"tok-variableName2"},{tag:Fr.definition(Fr.propertyName),class:"tok-propertyName tok-definition"},{tag:Fr.typeName,class:"tok-typeName"},{tag:Fr.namespace,class:"tok-namespace"},{tag:Fr.className,class:"tok-className"},{tag:Fr.macroName,class:"tok-macroName"},{tag:Fr.propertyName,class:"tok-propertyName"},{tag:Fr.operator,class:"tok-operator"},{tag:Fr.comment,class:"tok-comment"},{tag:Fr.meta,class:"tok-meta"},{tag:Fr.invalid,class:"tok-invalid"},{tag:Fr.punctuation,class:"tok-punctuation"}]);const Yw=new qc,gne=new qc;let F0=class{constructor(e,t,r=[],i=""){this.data=e,this.name=i,$h.prototype.hasOwnProperty("tree")||Object.defineProperty($h.prototype,"tree",{get(){return sg(this)}}),this.parser=t,this.extension=[mv.of(this),$h.languageData.of((o,s,u)=>{let c=VR(o,s,u),p=c.type.prop(Yw);if(!p)return[];let f=o.facet(p),g=c.type.prop(gne);if(g){let y=c.resolve(s-c.from,u);for(let b of g)if(b.test(y,o)){let _=o.facet(b.facet);return b.type=="replace"?_:_.concat(f)}}return f})].concat(r)}isActiveAt(e,t,r=-1){return VR(e,t,r).type.prop(Yw)==this.data}findRegions(e){let t=e.facet(mv);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Yw)==this.data)return void r.push({from:s,to:s+o.length});let u=o.prop(qc.mounted);if(u){if(u.tree.prop(Yw)==this.data){if(u.overlay)for(let c of u.overlay)r.push({from:c.from+s,to:c.to+s});else r.push({from:s,to:s+o.length});return}if(u.overlay){let c=r.length;if(i(u.tree,u.overlay[0].from+s),r.length>c)return}}for(let c=0;c<o.children.length;c++){let p=o.children[c];p instanceof M0&&i(p,o.positions[c]+s)}};return i(sg(e),0),r}get allowsNesting(){return!0}};function VR(n,e,t){let r=n.facet(mv),i=sg(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,Ip.ExcludeBuffers))o.type.isTop&&(i=o);return i}function sg(n){let e=n.field(F0.state,!1);return e?e.tree:M0.empty}F0.setState=Bu.define();let mne=class{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}},Ew=null,dne=class tP{constructor(e,t,r=[],i,o,s,u,c){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=u,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new tP(e,t,[],M0.empty,0,r,[],null)}startParse(){return this.parser.startParse(new mne(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=M0.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(tS.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(t??this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(tS.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Ew;Ew=this;try{return e()}finally{Ew=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=qR(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:u}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((p,f,g,y)=>c.push({fromA:p,toA:f,fromB:g,toB:y})),r=tS.applyChanges(r,c),i=M0.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){u=[];for(let p of this.skipped){let f=e.mapPos(p.from,1),g=e.mapPos(p.to,-1);f<g&&u.push({from:f,to:g})}}}return new tP(this.parser,t,r,i,o,s,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=qR(this.fragments,i,o),this.skipped.splice(r--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends one{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let c=Ew;if(c){for(let p of i)c.tempSkipped.push(p);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=s,new M0(z0.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Ew}};function qR(n,e,t){return tS.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}let nP=class rP{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new rP(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=dne.create(e.facet(mv).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new rP(r)}};F0.state=wg.define({create:nP.init,update(n,e){for(let t of e.effects)if(t.is(F0.setState))return t.value;return e.startState.facet(mv)!=e.state.facet(mv)?nP.init(e.state):n.apply(e)}});let c7=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(c7=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const nk=typeof navigator<"u"&&(!((tk=navigator.scheduling)===null||tk===void 0)&&tk.isInputPending)?()=>navigator.scheduling.isInputPending():null,vne=Wp.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(F0.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(F0.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=c7(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(F0.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!nk?Math.max(25,e.timeRemaining()-5):1e9),u=o.context.treeLen<i&&r.doc.length>i+1e3,c=o.context.work(()=>nk&&nk()||Date.now()>s,i+(u?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:F0.setState.of(new nP(o.context))})),this.chunkBudget>0&&(!c||u)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Ng(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),mv=gi.define({combine:n=>n.length?n[0]:null,enables:n=>[F0.state,vne,hi.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),yne=gi.define(),JI=gi.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function a_(n){let e=n.facet(JI);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function Kb(n,e){let t="",r=n.tabSize,i=n.facet(JI)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function XI(n,e){n instanceof $h&&(n=new IE(n));for(let r of n.state.facet(yne)){let i=r(n,e);if(i!==void 0)return i}let t=sg(n.state);return t.length>=e?function(i,o,s){let u=o.resolveStack(s),c=u.node.enterUnfinishedNodesBefore(s);if(c!=u.node){let p=[];for(let f=c;f!=u.node;f=f.parent)p.push(f);for(let f=p.length-1;f>=0;f--)u={node:p[f],next:u}}return f7(u,i,s)}(n,t,e):null}let IE=class{constructor(e,t={}){this.state=e,this.options=t,this.unit=a_(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return uw(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}};const wne=new qc;function f7(n,e,t){for(let r=n;r;r=r.next){let i=bne(r.node);if(i)return i(Dne.create(e,t,r))}return 0}function bne(n){let e=n.type.prop(wne);if(e)return e;let t,r=n.firstChild;if(r&&(t=r.type.prop(qc.closedBy))){let i=n.lastChild,o=i&&t.indexOf(i.name)>-1;return s=>function(c,p,f,g,y){let b=c.textAfter.match(/^\s*/)[0].length,_=y==c.pos+b,M=function(O){let j=O.node,z=j.childAfter(j.from),W=j.lastChild;if(!z)return null;let J=O.options.simulateBreak,G=O.state.doc.lineAt(z.from),Q=J==null||J<=G.from?G.to:Math.min(G.to,J);for(let te=z.to;;){let ae=j.childAfter(te);if(!ae||ae==W)return null;if(!ae.type.isSkipped){if(ae.from>=Q)return null;let se=/^ */.exec(G.text.slice(z.to-G.from))[0].length;return{from:z.from,to:z.to+se}}te=ae.to}}(c);return M?_?c.column(M.from):c.column(M.to):c.baseIndent+(_?0:c.unit*f)}(s,0,1,0,o&&!function(c){return c.pos==c.options.simulateBreak&&c.options.simulateDoubleBreak}(s)?i.from:void 0)}return n.parent==null?xne:null}function xne(){return 0}let Dne=class h7 extends IE{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new h7(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Cne(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return f7(this.context.next,this.base,this.pos)}};function Cne(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}const Sne=gi.define(),_ne=new qc;function Ene(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function s_(n,e,t){for(let r of n.facet(Sne)){let i=r(n,e,t);if(i)return i}return function(i,o,s){let u=sg(i);if(u.length<s)return null;let c=null;for(let p=u.resolveStack(s,1);p;p=p.next){let f=p.node;if(f.to<=s||f.from>s)continue;if(c&&f.from<o)break;let g=f.type.prop(_ne);if(g&&(f.to<u.length-50||u.length==i.doc.length||!Ene(f))){let y=g(f,i);y&&y.from<=s&&y.from>=o&&y.to>s&&(c=y)}}return c}(n,e,t)}function p7(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const u_=Bu.define({map:p7}),Gb=Bu.define({map:p7});function KR(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const hy=wg.define({create:()=>Aa.none,update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(u_)&&!Ane(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(g7),i=r?Aa.replace({widget:new Fne(r(e.state,t.value))}):JR;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(Gb)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>hi.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(JR.range(r,i))}return Aa.set(e,!0)}});function l_(n,e,t){var r;let i=null;return(r=n.field(hy,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function Ane(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function GR(n,e){return n.field(hy,!1)?e:e.concat(Bu.appendConfig.of(m7()))}function YR(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return hi.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const kne=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let e of KR(n)){let t=s_(n.state,e.from,e.to);if(t)return n.dispatch({effects:GR(n.state,[u_.of(t),YR(n,t)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(hy,!1))return!1;let e=[];for(let t of KR(n)){let r=l_(n.state,t.from,t.to);r&&e.push(Gb.of(r),YR(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=s_(e,i.from,i.to);o&&t.push(u_.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:GR(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:n=>{let e=n.state.field(hy,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(Gb.of({from:r,to:i}))}),n.dispatch({effects:t}),!0}}],Mne={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},g7=gi.define({combine:n=>K0(n,Mne)});function m7(n){return[hy,Ine]}function d7(n,e){let{state:t}=n,r=t.facet(g7),i=s=>{let u=n.lineBlockAt(n.posAtDOM(s.target)),c=l_(n.state,u.from,u.to);c&&n.dispatch({effects:Gb.of(c)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const JR=Aa.replace({widget:new class extends Sv{toDOM(n){return d7(n,null)}}});let Fne=class extends Sv{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return d7(e,this.value)}};const Pne={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};let rk=class extends td{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}};function Tne(n={}){let e=Object.assign(Object.assign({},Pne),n),t=new rk(e,!0),r=new rk(e,!1),i=Wp.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(mv)!=s.state.facet(mv)||s.startState.field(hy,!1)!=s.state.field(hy,!1)||sg(s.startState)!=sg(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let u=new $1;for(let c of s.viewportLineBlocks){let p=l_(s.state,c.from,c.to)?r:s_(s.state,c.from,c.to)?t:null;p&&u.add(c.from,c.from,p)}return u.finish()}}),{domEventHandlers:o}=e;return[i,Hte({class:"cm-foldGutter",markers(s){var u;return((u=s.plugin(i))===null||u===void 0?void 0:u.markers)||bh.empty},initialSpacer:()=>new rk(e,!1),domEventHandlers:Object.assign(Object.assign({},o),{click:(s,u,c)=>{if(o.click&&o.click(s,u,c))return!0;let p=l_(s.state,u.from,u.to);if(p)return s.dispatch({effects:Gb.of(p)}),!0;let f=s_(s.state,u.from,u.to);return!!f&&(s.dispatch({effects:u_.of(f)}),!0)}})}),m7()]}const Ine=hi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});let v7=class y7{constructor(e,t){let r;function i(u){let c=hv.newName();return(r||(r=Object.create(null)))["."+c]=u,c}this.specs=e;const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof F0?u=>u.prop(Yw)==s.data:s?u=>u==s:void 0,this.style=l7(e.map(u=>({tag:u.tag,class:u.class||i(Object.assign({},u,{tag:null}))})),{all:o}).style,this.module=r?new hv(r):null,this.themeType=t.themeType}static define(e,t){return new y7(e,t||{})}};const iP=gi.define(),w7=gi.define({combine:n=>n.length?[n[0]]:null});function ik(n){let e=n.facet(iP);return e.length?e:n.facet(w7)}function One(n,e){let t,r=[Bne];return n instanceof v7&&(n.module&&r.push(hi.styleModule.of(n.module)),t=n.themeType),e!=null&&e.fallback?r.push(w7.of(n)):t?r.push(iP.computeN([hi.darkTheme],i=>i.facet(hi.darkTheme)==(t=="dark")?[n]:[])):r.push(iP.of(n)),r}let Nne=class{constructor(e){this.markCache=Object.create(null),this.tree=sg(e.state),this.decorations=this.buildDeco(e,ik(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=sg(e.state),r=ik(e.state),i=r!=ik(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return Aa.none;let r=new $1;for(let{from:i,to:o}of e.visibleRanges)hne(this.tree,t,(s,u,c)=>{r.add(s,u,this.markCache[c]||(this.markCache[c]=Aa.mark({class:c})))},i,o);return r.finish()}};const Bne=_y.high(Wp.fromClass(Nne,{decorations:n=>n.decorations})),Rne=v7.define([{tag:Fr.meta,color:"#404740"},{tag:Fr.link,textDecoration:"underline"},{tag:Fr.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Fr.emphasis,fontStyle:"italic"},{tag:Fr.strong,fontWeight:"bold"},{tag:Fr.strikethrough,textDecoration:"line-through"},{tag:Fr.keyword,color:"#708"},{tag:[Fr.atom,Fr.bool,Fr.url,Fr.contentSeparator,Fr.labelName],color:"#219"},{tag:[Fr.literal,Fr.inserted],color:"#164"},{tag:[Fr.string,Fr.deleted],color:"#a11"},{tag:[Fr.regexp,Fr.escape,Fr.special(Fr.string)],color:"#e40"},{tag:Fr.definition(Fr.variableName),color:"#00f"},{tag:Fr.local(Fr.variableName),color:"#30a"},{tag:[Fr.typeName,Fr.namespace],color:"#085"},{tag:Fr.className,color:"#167"},{tag:[Fr.special(Fr.variableName),Fr.macroName],color:"#256"},{tag:Fr.definition(Fr.propertyName),color:"#00c"},{tag:Fr.comment,color:"#940"},{tag:Fr.invalid,color:"#f00"}]),jne=hi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),b7="()[]{}",x7=gi.define({combine:n=>K0(n,{afterCursor:!0,brackets:b7,maxScanDistance:1e4,renderMatch:zne})}),Lne=Aa.mark({class:"cm-matchingBracket"}),$ne=Aa.mark({class:"cm-nonmatchingBracket"});function zne(n){let e=[],t=n.matched?Lne:$ne;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Une=wg.define({create:()=>Aa.none,update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(x7);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=P0(e.state,i.head,-1,r)||i.head>0&&P0(e.state,i.head-1,1,r)||r.afterCursor&&(P0(e.state,i.head,1,r)||i.head<e.state.doc.length&&P0(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return Aa.set(t,!0)},provide:n=>hi.decorations.from(n)}),Wne=[Une,jne];function Hne(n={}){return[x7.of(n),Wne]}const Vne=new qc;function oP(n,e,t){let r=n.prop(e<0?qc.openedBy:qc.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function aP(n){let e=n.type.prop(Vne);return e?e(n.node):n}function P0(n,e,t,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||b7,s=sg(n),u=s.resolveInner(e,t);for(let c=u;c;c=c.parent){let p=oP(c.type,t,o);if(p&&c.from<c.to){let f=aP(c);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return qne(n,e,t,c,f,p,o)}}return function(p,f,g,y,b,_,M){let F=g<0?p.sliceDoc(f-1,f):p.sliceDoc(f,f+1),O=M.indexOf(F);if(O<0||O%2==0!=g>0)return null;let j={from:g<0?f-1:f,to:g>0?f+1:f},z=p.doc.iterRange(f,g>0?p.doc.length:0),W=0;for(let J=0;!z.next().done&&J<=_;){let G=z.value;g<0&&(J+=G.length);let Q=f+J*g;for(let te=g>0?0:G.length-1,ae=g>0?G.length:-1;te!=ae;te+=g){let se=M.indexOf(G[te]);if(!(se<0||y.resolveInner(Q+te,1).type!=b))if(se%2==0==g>0)W++;else{if(W==1)return{start:j,end:{from:Q+te,to:Q+te+1},matched:se>>1==O>>1};W--}}g>0&&(J+=G.length)}return z.done?{start:j,matched:!1}:null}(n,e,t,s,u.type,i,o)}function qne(n,e,t,r,i,o,s){let u=r.parent,c={from:i.from,to:i.to},p=0,f=u==null?void 0:u.cursor();if(f&&(t<0?f.childBefore(r.from):f.childAfter(r.to)))do if(t<0?f.to<=r.from:f.from>=r.to){if(p==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let g=aP(f);return{start:c,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}if(oP(f.type,t,s))p++;else if(oP(f.type,-t,s)){if(p==0){let g=aP(f);return{start:c,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}p--}}while(t<0?f.prevSibling():f.nextSibling());return{start:c,matched:!1}}const Kne=Object.create(null),XR=[z0.none],QR=[],ZR=Object.create(null),Gne=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Gne[n]=Yne(Kne,e);function ok(n,e){QR.indexOf(n)>-1||(QR.push(n),console.warn(e))}function Yne(n,e){let t=[];for(let u of e.split(" ")){let c=[];for(let p of u.split(".")){let f=n[p]||Fr[p];f?typeof f=="function"?c.length?c=c.map(f):ok(p,`Modifier ${p} used at start of tag`):c.length?ok(p,`Tag ${p} used as modifier`):c=Array.isArray(f)?f:[f]:ok(p,`Unknown highlighting tag ${p}`)}for(let p of c)t.push(p)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(u=>u.id),o=ZR[i];if(o)return o.id;let s=ZR[i]=z0.define({id:XR.length,name:r,props:[fne({[r]:t})]});return XR.push(s),s.id}uh.RTL,uh.LTR;let Jne=0,Vh=class{constructor(e={}){this.id=Jne++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=sP.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Vh.closedBy=new Vh({deserialize:n=>n.split(" ")}),Vh.openedBy=new Vh({deserialize:n=>n.split(" ")}),Vh.group=new Vh({deserialize:n=>n.split(" ")}),Vh.isolate=new Vh({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),Vh.contextHash=new Vh({perNode:!0}),Vh.lookAhead=new Vh({perNode:!0}),Vh.mounted=new Vh({perNode:!0});const Xne=Object.create(null);let sP=class D7{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Xne,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new D7(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Vh.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Vh.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}};var ej;sP.none=new sP("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(ej||(ej={})),new Vh({perNode:!0});function QI(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return!!i&&(r(t.update(i)),!0)}}const Qne=QI(tre,0),Zne=QI(C7,0),ere=QI((n,e)=>C7(n,e,function(r){let i=[];for(let o of r.selection.ranges){let s=r.doc.lineAt(o.from),u=o.to<=s.to?s:r.doc.lineAt(o.to);u.from>s.from&&u.from==o.to&&(u=o.to==s.to+1?s:r.doc.lineAt(o.to-1));let c=i.length-1;c>=0&&i[c].to>s.from?i[c].to=u.to:i.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:u.to})}return i}(e)),0);function ZI(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Aw=50;function C7(n,e,t=e.selection.ranges){let r=t.map(o=>ZI(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>function(c,{open:p,close:f},g,y){let b,_,M=c.sliceDoc(g-Aw,g),F=c.sliceDoc(y,y+Aw),O=/\s*$/.exec(M)[0].length,j=/^\s*/.exec(F)[0].length,z=M.length-O;if(M.slice(z-p.length,z)==p&&F.slice(j,j+f.length)==f)return{open:{pos:g-O,margin:O&&1},close:{pos:y+j,margin:j&&1}};y-g<=2*Aw?b=_=c.sliceDoc(g,y):(b=c.sliceDoc(g,g+Aw),_=c.sliceDoc(y-Aw,y));let W=/^\s*/.exec(b)[0].length,J=/\s*$/.exec(_)[0].length,G=_.length-J-f.length;return b.slice(W,W+p.length)==p&&_.slice(G,G+f.length)==f?{open:{pos:g+W+p.length,margin:/\s/.test(b.charAt(W+p.length))?1:0},close:{pos:y-J-f.length,margin:/\s/.test(_.charAt(G-1))?1:0}}:null}(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s,u=0;u<i.length;u++)if(s=i[u]){let c=r[u],{open:p,close:f}=s;o.push({from:p.pos-c.open.length,to:p.pos+p.margin},{from:f.pos-f.margin,to:f.pos+c.close.length})}return{changes:o}}return null}function tre(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let u=r.length,c=1e9,p=ZI(e,o).line;if(p){for(let f=o;f<=s;){let g=e.doc.lineAt(f);if(g.from>i&&(o==s||s>g.from)){i=g.from;let y=/^\s*/.exec(g.text)[0].length,b=y==g.length,_=g.text.slice(y,y+p.length)==p?y:-1;y<g.text.length&&y<c&&(c=y),r.push({line:g,comment:_,token:p,indent:y,empty:b,single:!1})}f=g.to+1}if(c<1e9)for(let f=u;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=c);r.length==u+1&&(r[u].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:u,token:c,indent:p,empty:f,single:g}of r)!g&&f||o.push({from:u.from+p,insert:c+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:u,token:c}of r)if(u>=0){let p=s.from+u,f=p+c.length;s.text[f-s.from]==" "&&f++,o.push({from:p,to:f})}return{changes:o}}return null}const uP=sd.define(),nre=sd.define(),rre=gi.define(),S7=gi.define({combine:n=>K0(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}),_7=wg.define({create:()=>wb.empty,update(n,e){let t=e.state.facet(S7),r=e.annotation(uP);if(r){let c=ud.fromTransaction(e,r.selection),p=r.side,f=p==0?n.undone:n.done;return f=c?c_(f,f.length,t.minDepth,c):k7(f,e.startState.selection),new wb(p==0?r.rest:f,p==0?f:r.rest)}let i=e.annotation(nre);if(i!="full"&&i!="before"||(n=n.isolate()),e.annotation(Og.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=ud.fromTransaction(e),s=e.annotation(Og.time),u=e.annotation(Og.userEvent);return o?n=n.addChanges(o,s,u,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,u,t.newGroupDelay)),i!="full"&&i!="after"||(n=n.isolate()),n},toJSON:n=>({done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}),fromJSON:n=>new wb(n.done.map(ud.fromJSON),n.undone.map(ud.fromJSON))});function ire(n={}){return[_7,S7.of(n),hi.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?E7:e.inputType=="historyRedo"?lP:null;return!!r&&(e.preventDefault(),r(t))}})]}function OE(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(_7,!1);if(!i)return!1;let o=i.pop(n,t,e);return!!o&&(r(o),!0)}}const E7=OE(0,!1),lP=OE(1,!1),ore=OE(0,!0),are=OE(1,!0);let ud=class Jw{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new Jw(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Jw(e.changes&&r0.fromJSON(e.changes),[],e.mapped&&y1.fromJSON(e.mapped),e.startSelection&&In.fromJSON(e.startSelection),e.selectionsAfter.map(In.fromJSON))}static fromTransaction(e,t){let r=bm;for(let i of e.startState.facet(rre)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new Jw(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,bm)}static selection(e){return new Jw(void 0,bm,void 0,void 0,e)}};function c_(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function A7(n,e){return n.length?e.length?n.concat(e):n:e}const bm=[],sre=200;function k7(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-sre));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),c_(n,n.length-1,1e9,t.setSelAfter(r)))}return[ud.selection([e])]}function ure(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function ak(n,e){if(!n.length)return n;let t=n.length,r=bm;for(;t;){let i=lre(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}e=i.mapped,t--,r=i.selectionsAfter}return r.length?[ud.selection(r)]:bm}function lre(n,e,t){let r=A7(n.selectionsAfter.length?n.selectionsAfter.map(u=>u.map(e)):bm,t);if(!n.changes)return ud.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new ud(i,Bu.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}const cre=/^(input\.type|delete)($|\.)/;let wb=class Xw{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Xw(this.done,this.undone):this}addChanges(e,t,r,i,o){let s=this.done,u=s[s.length-1];return s=u&&u.changes&&!u.changes.empty&&e.changes&&(!r||cre.test(r))&&(!u.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,function(p,f){let g=[],y=!1;return p.iterChangedRanges((b,_)=>g.push(b,_)),f.iterChangedRanges((b,_,M,F)=>{for(let O=0;O<g.length;){let j=g[O++],z=g[O++];F>=j&&M<=z&&(y=!0)}}),y}(u.changes,e.changes))||r=="input.type.compose")?c_(s,s.length-1,i.minDepth,new ud(e.changes.compose(u.changes),A7(Bu.mapEffects(e.effects,u.changes),u.effects),u.mapped,u.startSelection,bm)):c_(s,s.length,i.minDepth,e),new Xw(s,bm,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:bm;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(u,c){return u.ranges.length==c.ranges.length&&u.ranges.filter((p,f)=>p.empty!=c.ranges[f].empty).length===0}(o[o.length-1],e)?this:new Xw(k7(this.done,e),this.undone,t,r)}addMapping(e){return new Xw(ak(this.done,e),ak(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||t.selection;if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:uP.of({side:e,rest:ure(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let u=i.length==1?bm:i.slice(0,i.length-1);return o.mapped&&(u=ak(u,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:uP.of({side:e,rest:u,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}return null}};wb.empty=new wb(bm,bm);const fre=[{key:"Mod-z",run:E7,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:lP,preventDefault:!0},{linux:"Ctrl-Shift-z",run:lP,preventDefault:!0},{key:"Mod-u",run:ore,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:are,preventDefault:!0}];function D1(n,e){return In.create(n.ranges.map(e),n.mainIndex)}function R0(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Gm({state:n,dispatch:e},t){let r=D1(n.selection,t);return!r.eq(n.selection,!0)&&(e(R0(n,r)),!0)}function NE(n,e){return In.cursor(e?n.to:n.from)}function M7(n,e){return Gm(n,t=>t.empty?n.moveByChar(t,e):NE(t,e))}function eg(n){return n.textDirectionAt(n.state.selection.main.head)==uh.LTR}const F7=n=>M7(n,!eg(n)),P7=n=>M7(n,eg(n));function tj(n,e){return Gm(n,t=>t.empty?n.moveByGroup(t,e):NE(t,e))}function hre(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function SD(n,e,t){let r,i,o=sg(n).resolveInner(e.head),s=t?Vh.closedBy:Vh.openedBy;for(let u=e.head;;){let c=t?o.childAfter(u):o.childBefore(u);if(!c)break;hre(n,c,s)?o=c:u=t?c.to:c.from}return i=o.type.prop(s)&&(r=t?P0(n,o.from,1):P0(n,o.to,-1))&&r.matched?t?r.end.to:r.end.from:t?o.to:o.from,In.cursor(i,t?-1:1)}function T7(n,e){return Gm(n,t=>{if(!t.empty)return NE(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const I7=n=>T7(n,!1),O7=n=>T7(n,!0);function N7(n){let e,t=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,i=0;if(t){for(let o of n.state.facet(hi.scrollMargins)){let s=o(n);s!=null&&s.top&&(r=Math.max(s==null?void 0:s.top,r)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}e=n.scrollDOM.clientHeight-r-i}else e=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:t,height:Math.max(n.defaultLineHeight,e-5)}}function B7(n,e){let t,r=N7(n),{state:i}=n,o=D1(i.selection,s=>s.empty?n.moveVertically(s,e,r.height):NE(s,e));if(o.eq(i.selection))return!1;if(r.selfScroll){let s=n.coordsAtPos(i.selection.main.head),u=n.scrollDOM.getBoundingClientRect(),c=u.top+r.marginTop,p=u.bottom-r.marginBottom;s&&s.top>c&&s.bottom<p&&(t=hi.scrollIntoView(o.main.head,{y:"start",yMargin:s.top-c}))}return n.dispatch(R0(i,o),{effects:t}),!0}const nj=n=>B7(n,!1),cP=n=>B7(n,!0);function wd(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=In.cursor(r.from+o))}return i}function xm(n,e){let t=D1(n.state.selection,r=>{let i=e(r);return In.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!t.eq(n.state.selection)&&(n.dispatch(R0(n.state,t)),!0)}function R7(n,e){return xm(n,t=>n.moveByChar(t,e))}const j7=n=>R7(n,!eg(n)),L7=n=>R7(n,eg(n));function rj(n,e){return xm(n,t=>n.moveByGroup(t,e))}function $7(n,e){return xm(n,t=>n.moveVertically(t,e))}const z7=n=>$7(n,!1),U7=n=>$7(n,!0);function W7(n,e){return xm(n,t=>n.moveVertically(t,e,N7(n).height))}const ij=n=>W7(n,!1),oj=n=>W7(n,!0),aj=({state:n,dispatch:e})=>(e(R0(n,{anchor:0})),!0),sj=({state:n,dispatch:e})=>(e(R0(n,{anchor:n.doc.length})),!0),uj=({state:n,dispatch:e})=>(e(R0(n,{anchor:n.selection.main.anchor,head:0})),!0),lj=({state:n,dispatch:e})=>(e(R0(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function Yb(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:u}=o;if(s==u){let c=e(o);c<s?(t="delete.backward",c=_D(n,c,!1)):c>s&&(t="delete.forward",c=_D(n,c,!0)),s=Math.min(s,c),u=Math.max(u,c)}else s=_D(n,s,!1),u=_D(n,u,!0);return s==u?{range:o}:{changes:{from:s,to:u},range:In.cursor(s,s<o.head?-1:1)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?hi.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _D(n,e,t){if(n instanceof hi)for(let r of n.state.facet(hi.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const H7=(n,e,t)=>Yb(n,r=>{let i,o,s=r.from,{state:u}=n,c=u.doc.lineAt(s);if(t&&!e&&s>c.from&&s<c.from+200&&!/[^ \t]/.test(i=c.text.slice(0,s-c.from))){if(i[i.length-1]=="	")return s-1;let p=uw(i,u.tabSize)%a_(u)||a_(u);for(let f=0;f<p&&i[i.length-1-f]==" ";f++)s--;o=s}else o=Lp(c.text,s-c.from,e,e)+c.from,o==s&&c.number!=(e?u.doc.lines:1)?o+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(c.text.slice(o-c.from,s-c.from))&&(o=Lp(c.text,o-c.from,!1,!1)+c.from);return o}),fP=n=>H7(n,!1,!0),V7=n=>H7(n,!0,!1),q7=(n,e)=>Yb(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let u=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let c=Lp(o.text,r-o.from,e)+o.from,p=o.text.slice(Math.min(r,c)-o.from,Math.max(r,c)-o.from),f=s(p);if(u!=null&&f!=u)break;p==" "&&r==t.head||(u=f),r=c}return r}),K7=n=>q7(n,!1);function f_(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function cj(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of f_(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),u=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let c of o.ranges)i.push(In.range(Math.min(n.doc.length,c.anchor+u),Math.min(n.doc.length,c.head+u)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let c of o.ranges)i.push(In.range(c.anchor-u,c.head-u))}}return!!r.length&&(e(n.update({changes:r,scrollIntoView:!0,selection:In.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function fj(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of f_(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const hj=G7(!1),pre=G7(!0);function G7(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,u=e.doc.lineAt(o),c=!n&&o==s&&function(b,_){if(/\(\)|\[\]|\{\}/.test(b.sliceDoc(_-1,_+1)))return{from:_,to:_};let M,F=sg(b).resolveInner(_),O=F.childBefore(_),j=F.childAfter(_);return O&&j&&O.to<=_&&j.from>=_&&(M=O.type.prop(Vh.closedBy))&&M.indexOf(j.name)>-1&&b.doc.lineAt(O.to).from==b.doc.lineAt(j.from).from&&!/\S/.test(b.sliceDoc(O.to,j.from))?{from:O.to,to:j.from}:null}(e,o);n&&(o=s=(s<=u.to?u:e.doc.lineAt(s)).to);let p=new IE(e,{simulateBreak:o,simulateDoubleBreak:!!c}),f=XI(p,o);for(f==null&&(f=uw(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<u.to&&/\s/.test(u.text[s-u.from]);)s++;c?{from:o,to:s}=c:o>u.from&&o<u.from+100&&!/\S/.test(u.text.slice(0,o))&&(o=u.from);let g=["",Kb(e,f)];return c&&g.push(Kb(e,p.lineIndent(u.from,-1))),{changes:{from:o,to:s,insert:Yc.of(g)},range:In.cursor(o+1+g[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function sk(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let u=n.doc.lineAt(s);u.number>t&&(r.empty||r.to>u.from)&&(e(u,i,r),t=u.number),s=u.to+1}let o=n.changes(i);return{changes:i,range:In.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const gre=[{key:"Ctrl-b",run:F7,shift:j7,preventDefault:!0},{key:"Ctrl-f",run:P7,shift:L7},{key:"Ctrl-p",run:I7,shift:z7},{key:"Ctrl-n",run:O7,shift:U7},{key:"Ctrl-a",run:n=>Gm(n,e=>In.cursor(n.lineBlockAt(e.head).from,1)),shift:n=>xm(n,e=>In.cursor(n.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:n=>Gm(n,e=>In.cursor(n.lineBlockAt(e.head).to,-1)),shift:n=>xm(n,e=>In.cursor(n.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:V7},{key:"Ctrl-h",run:fP},{key:"Ctrl-k",run:n=>Yb(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)})},{key:"Ctrl-Alt-h",run:K7},{key:"Ctrl-o",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Yc.of(["",""])},range:In.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:Lp(o.text,i-o.from,!1)+o.from,u=i==o.to?i+1:Lp(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:u,insert:n.doc.slice(i,u).append(n.doc.slice(s,i))},range:In.cursor(u)}});return!t.changes.empty&&(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:cP}],mre=[{key:"ArrowLeft",run:F7,shift:j7,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>tj(n,!eg(n)),shift:n=>rj(n,!eg(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>Gm(n,e=>wd(n,e,!eg(n))),shift:n=>xm(n,e=>wd(n,e,!eg(n))),preventDefault:!0},{key:"ArrowRight",run:P7,shift:L7,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>tj(n,eg(n)),shift:n=>rj(n,eg(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>Gm(n,e=>wd(n,e,eg(n))),shift:n=>xm(n,e=>wd(n,e,eg(n))),preventDefault:!0},{key:"ArrowUp",run:I7,shift:z7,preventDefault:!0},{mac:"Cmd-ArrowUp",run:aj,shift:uj},{mac:"Ctrl-ArrowUp",run:nj,shift:ij},{key:"ArrowDown",run:O7,shift:U7,preventDefault:!0},{mac:"Cmd-ArrowDown",run:sj,shift:lj},{mac:"Ctrl-ArrowDown",run:cP,shift:oj},{key:"PageUp",run:nj,shift:ij},{key:"PageDown",run:cP,shift:oj},{key:"Home",run:n=>Gm(n,e=>wd(n,e,!1)),shift:n=>xm(n,e=>wd(n,e,!1)),preventDefault:!0},{key:"Mod-Home",run:aj,shift:uj},{key:"End",run:n=>Gm(n,e=>wd(n,e,!0)),shift:n=>xm(n,e=>wd(n,e,!0)),preventDefault:!0},{key:"Mod-End",run:sj,shift:lj},{key:"Enter",run:hj,shift:hj},{key:"Mod-a",run:({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:fP,shift:fP},{key:"Delete",run:V7},{key:"Mod-Backspace",mac:"Alt-Backspace",run:K7},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>q7(n,!0)},{mac:"Mod-Backspace",run:n=>Yb(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)})},{mac:"Mod-Delete",run:n=>Yb(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)})}].concat(gre.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),dre=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>Gm(n,e=>SD(n.state,e,!eg(n))),shift:n=>xm(n,e=>SD(n.state,e,!eg(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>Gm(n,e=>SD(n.state,e,eg(n))),shift:n=>xm(n,e=>SD(n.state,e,eg(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:e})=>cj(n,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:e})=>fj(n,e,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:e})=>cj(n,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:e})=>fj(n,e,!0)},{key:"Escape",run:({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=In.create([t.main]):t.main.empty||(r=In.create([In.cursor(t.main.head)])),!!r&&(e(R0(n,r)),!0)}},{key:"Mod-Enter",run:pre},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:e})=>{let t=f_(n).map(({from:r,to:i})=>In.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:In.create(t),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:e})=>{let t=D1(n.selection,r=>{let i=sg(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:u}=s;if((u.from<r.from&&u.to>=r.to||u.to>r.to&&u.from<=r.from)&&s.next)return In.range(u.to,u.from)}return r});return!t.eq(n.selection)&&(e(R0(n,t)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(sk(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=uw(i,n.tabSize),s=0,u=Kb(n,Math.max(0,o-a_(n)));for(;s<i.length&&s<u.length&&i.charCodeAt(s)==u.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:u.slice(s)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(sk(n,(t,r)=>{r.push({from:t.from,insert:n.facet(JI)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new IE(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=sk(n,(o,s,u)=>{let c=XI(r,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let p=/^\s*/.exec(o.text)[0],f=Kb(n,c);(p!=f||u.from<o.from+p.length)&&(t[o.from]=c,s.push({from:o.from,to:o.from+p.length,insert:f}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(f_(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=D1(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),u=n.coordsAtPos(i.head,i.assoc||1);u&&(o=s.bottom+n.documentTop-u.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:e})=>function(r,i,o){let s=!1,u=D1(r.selection,c=>{let p=P0(r,c.head,-1)||P0(r,c.head,1)||c.head>0&&P0(r,c.head-1,1)||c.head<r.doc.length&&P0(r,c.head+1,-1);if(!p||!p.end)return c;s=!0;let f=p.start.from==c.head?p.end.to:p.end.from;return In.cursor(f)});return!!s&&(i(R0(r,u)),!0)}(n,e)},{key:"Mod-/",run:n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=ZI(n.state,t.from);return r.line?Qne(n):!!r.block&&ere(n)}},{key:"Alt-A",run:Zne},{key:"Ctrl-m",mac:"Shift-Alt-m",run:n=>(n.setTabFocusMode(),!0)}].concat(mre);function Hf(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)Y7(n,arguments[e]);return n}function Y7(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)Y7(n,e[t])}}const pj=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;let C1=class{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?u=>o(pj(u)):pj,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Tp(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=OI(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ym(e);let i=this.normalize(t);if(i.length)for(let o=0,s=r;;o++){let u=i.charCodeAt(o),c=this.match(u,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}s==r&&o<t.length&&t.charCodeAt(o)==u&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],u=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,u=!0)),u||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}};typeof Symbol<"u"&&(C1.prototype[Symbol.iterator]=function(){return this});const J7={from:-1,to:-1,match:/.*/.exec("")},eO="gm"+(/x/.unicode==null?"":"u");let X7=class{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=J7,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Q7(e,t,r,i,o);this.re=new RegExp(t,eO+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=h_(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=h_(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}};const uk=new WeakMap;let gj=class nS{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=uk.get(e);if(!i||i.from>=r||i.to<=t){let u=new nS(t,e.sliceString(t,r));return uk.set(e,u),u}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),uk.set(e,new nS(s,o)),new nS(t,o.slice(t-s,r-s))}},Q7=class{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=J7,this.matchPos=h_(e,i),this.re=new RegExp(t,eO+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=gj.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=h_(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=gj.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}};function h_(n,e){if(e>=n.length)return e;let t,r=n.lineAt(e);for(;e<r.to&&(t=r.text.charCodeAt(e-r.from))>=56320&&t<57344;)e++;return e}function hP(n){let e=Hf("input",{class:"cm-textfield",name:"line",value:String(n.state.doc.lineAt(n.state.selection.main.head).number)});function t(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:i}=n,o=i.doc.lineAt(i.selection.main.head),[,s,u,c,p]=r,f=c?+c.slice(1):0,g=u?+u:o.number;if(u&&p){let _=g/100;s&&(_=_*(s=="-"?-1:1)+o.number/i.doc.lines),g=Math.round(i.doc.lines*_)}else u&&s&&(g=g*(s=="-"?-1:1)+o.number);let y=i.doc.line(Math.max(1,Math.min(i.doc.lines,g))),b=In.cursor(y.from+Math.max(0,Math.min(f,y.length)));n.dispatch({effects:[p_.of(!1),hi.scrollIntoView(b.from,{y:"center"})],selection:b}),n.focus()}return{dom:Hf("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:p_.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),t())},onsubmit:r=>{r.preventDefault(),t()}},Hf("label",n.state.phrase("Go to line"),": ",e)," ",Hf("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(X7.prototype[Symbol.iterator]=Q7.prototype[Symbol.iterator]=function(){return this});const p_=Bu.define(),mj=wg.define({create:()=>!0,update(n,e){for(let t of e.effects)t.is(p_)&&(n=t.value);return n},provide:n=>qb.from(n,e=>e?hP:null)}),vre=hi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),yre={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},wre=gi.define({combine:n=>K0(n,yre,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}),bre=Aa.mark({class:"cm-selectionMatch"}),xre=Aa.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function dj(n,e,t,r){return!(t!=0&&n(e.sliceDoc(t-1,t))==wh.Word||r!=e.doc.length&&n(e.sliceDoc(r,r+1))==wh.Word)}const Dre=Wp.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(wre),{state:t}=n,r=t.selection;if(r.ranges.length>1)return Aa.none;let i,o=r.main,s=null;if(o.empty){if(!e.highlightWordAroundCursor)return Aa.none;let c=t.wordAt(o.head);if(!c)return Aa.none;s=t.charCategorizer(o.head),i=t.sliceDoc(c.from,c.to)}else{let c=o.to-o.from;if(c<e.minSelectionLength||c>200)return Aa.none;if(e.wholeWords){if(i=t.sliceDoc(o.from,o.to),s=t.charCategorizer(o.head),!dj(s,t,o.from,o.to)||!function(f,g,y,b){return f(g.sliceDoc(y,y+1))==wh.Word&&f(g.sliceDoc(b-1,b))==wh.Word}(s,t,o.from,o.to))return Aa.none}else if(i=t.sliceDoc(o.from,o.to),!i)return Aa.none}let u=[];for(let c of n.visibleRanges){let p=new C1(t.doc,i,c.from,c.to);for(;!p.next().done;){let{from:f,to:g}=p.value;if((!s||dj(s,t,f,g))&&(o.empty&&f<=o.from&&g>=o.to?u.push(xre.range(f,g)):(f>=o.to||g<=o.from)&&u.push(bre.range(f,g)),u.length>e.maxMatches))return Aa.none}}return Aa.set(u)}},{decorations:n=>n.decorations}),Cre=hi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),lw=gi.define({combine:n=>K0(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Tre(e),scrollToMatch:e=>hi.scrollIntoView(e)})});let Z7=class{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(r){try{return new RegExp(r,eO),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new _re(this):new Sre(this)}getCursor(e,t=0,r){let i=e.doc?e:$h.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Jy(this,i,t,r):Yy(this,i,t,r)}},eW=class{constructor(e){this.spec=e}};function Yy(n,e,t,r){return new C1(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function(o,s){return(u,c,p,f)=>((f>u||f+p.length<c)&&(f=Math.max(0,u-2),p=o.sliceString(f,Math.min(o.length,c+2))),!(s(g_(p,u-f))==wh.Word&&s(m_(p,u-f))==wh.Word||s(m_(p,c-f))==wh.Word&&s(g_(p,c-f))==wh.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}let Sre=class extends eW{constructor(e){super(e)}nextMatch(e,t,r){let i=Yy(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Yy(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=Yy(this.spec,e,o,i),u=null;for(;!s.nextOverlapping().done;)u=s.value;if(u)return u;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),!i||i.from==t&&i.to==r?null:i}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Yy(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Yy(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}};function Jy(n,e,t,r){return new X7(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?(i=e.charCategorizer(e.selection.main.head),(o,s,u)=>!u[0].length||(i(g_(u.input,u.index))!=wh.Word||i(m_(u.input,u.index))!=wh.Word)&&(i(m_(u.input,u.index+u[0].length))!=wh.Word||i(g_(u.input,u.index+u[0].length))!=wh.Word)):void 0},t,r);var i}function g_(n,e){return n.slice(Lp(n,e,!1),e)}function m_(n,e){return n.slice(e,Lp(n,e))}let _re=class extends eW{nextMatch(e,t,r){let i=Jy(this.spec,e,r,e.doc.length).next();return i.done&&(i=Jy(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-1e4*i),s=Jy(this.spec,e,o,r),u=null;for(;!s.next().done;)u=s.value;if(u&&(o==t||u.from>o+10))return u;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:t)}matchAll(e,t){let r=Jy(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Jy(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}};const Jb=Bu.define(),tO=Bu.define(),tv=wg.define({create:n=>new lk(pP(n).create(),null),update(n,e){for(let t of e.effects)t.is(Jb)?n=new lk(t.value.create(),n.panel):t.is(tO)&&(n=new lk(n.query,t.value?nO:null));return n},provide:n=>qb.from(n,e=>e.panel)});let lk=class{constructor(e,t){this.query=e,this.panel=t}};const Ere=Aa.mark({class:"cm-searchMatch"}),Are=Aa.mark({class:"cm-searchMatch cm-searchMatch-selected"}),kre=Wp.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(tv))}update(n){let e=n.state.field(tv);(e!=n.startState.field(tv)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Aa.none;let{view:t}=this,r=new $1;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:u,to:c}=o[i];for(;i<s-1&&c>o[i+1].from-500;)c=o[++i].to;n.highlight(t.state,u,c,(p,f)=>{let g=t.state.selection.ranges.some(y=>y.from==p&&y.to==f);r.add(p,f,g?Are:Ere)})}return r.finish()}},{decorations:n=>n.decorations});function Ix(n){return e=>{let t=e.state.field(tv,!1);return t&&t.query.spec.valid?n(e,t):rW(e)}}const d_=Ix((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=In.single(r.from,r.to),o=n.state.facet(lw);return n.dispatch({selection:i,effects:[rO(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),nW(n),!0}),v_=Ix((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=In.single(i.from,i.to),s=n.state.facet(lw);return n.dispatch({selection:o,effects:[rO(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),nW(n),!0}),Mre=Ix((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!(!t||!t.length)&&(n.dispatch({selection:In.create(t.map(r=>In.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),vj=Ix((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s,u,c=[],p=[];if(o.from==r&&o.to==i&&(u=t.toText(e.getReplacement(o)),c.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),p.push(hi.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let f=c.length==0||c[0].from>=o.to?0:o.to-o.from-u.length;s=In.single(o.from-f,o.to-f),p.push(rO(n,o)),p.push(t.facet(lw).scrollToMatch(s.main,n))}return n.dispatch({changes:c,selection:s,effects:p,userEvent:"input.replace"}),!0}),Fre=Ix((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:hi.announce.of(r),userEvent:"input.replace.all"}),!0});function nO(n){return n.state.facet(lw).createPanel(n)}function pP(n,e){var t,r,i,o,s;let u=n.selection.main,c=u.empty||u.to>u.from+100?"":n.sliceDoc(u.from,u.to);if(e&&!c)return e;let p=n.facet(lw);return new Z7({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:p.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:p.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:p.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:p.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:p.wholeWord})}function tW(n){let e=Vb(n,nO);return e&&e.dom.querySelector("[main-field]")}function nW(n){let e=tW(n);e&&e==n.root.activeElement&&e.select()}const rW=n=>{let e=n.state.field(tv,!1);if(e&&e.panel){let t=tW(n);if(t&&t!=n.root.activeElement){let r=pP(n.state,e.query.spec);r.valid&&n.dispatch({effects:Jb.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[tO.of(!0),e?Jb.of(pP(n.state,e.query.spec)):Bu.appendConfig.of(Ore)]});return!0},iW=n=>{let e=n.state.field(tv,!1);if(!e||!e.panel)return!1;let t=Vb(n,nO);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:tO.of(!1)}),!0},Pre=[{key:"Mod-f",run:rW,scope:"editor search-panel"},{key:"F3",run:d_,shift:v_,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:d_,shift:v_,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:iW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let u=new C1(n.doc,n.sliceDoc(r,i));!u.next().done;){if(o.length>1e3)return!1;u.value.from==r&&(s=o.length),o.push(In.range(u.value.from,u.value.to))}return e(n.update({selection:In.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:n=>{let e=Vb(n,hP);if(!e){let t=[p_.of(!0)];n.state.field(mj,!1)==null&&t.push(Bu.appendConfig.of([mj,vre])),n.dispatch({effects:t}),e=Vb(n,hP)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return(({state:o,dispatch:s})=>{let{selection:u}=o,c=In.create(u.ranges.map(p=>o.wordAt(p.head)||In.cursor(p.head)),u.mainIndex);return!c.eq(u)&&(s(o.update({selection:c})),!0)})({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=function(s,u){let{main:c,ranges:p}=s.selection,f=s.wordAt(c.head),g=f&&f.from==c.from&&f.to==c.to;for(let y=!1,b=new C1(s.doc,u,p[p.length-1].to);;){if(b.next(),!b.done){if(y&&p.some(_=>_.from==b.value.from))continue;if(g){let _=s.wordAt(b.value.from);if(!_||_.from!=b.value.from||_.to!=b.value.to)continue}return b.value}if(y)return null;b=new C1(s.doc,u,0,Math.max(0,p[p.length-1].from-1)),y=!0}}(n,r);return!!i&&(e(n.update({selection:n.selection.addRange(In.range(i.from,i.to),!1),effects:hi.scrollIntoView(i.to)})),!0)},preventDefault:!0}];let Tre=class{constructor(e){this.view=e;let t=this.query=e.state.field(tv).query.spec;function r(i,o,s){return Hf("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=Hf("input",{value:t.search,placeholder:$g(e,"Find"),"aria-label":$g(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Hf("input",{value:t.replace,placeholder:$g(e,"Replace"),"aria-label":$g(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Hf("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Hf("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Hf("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=Hf("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>d_(e),[$g(e,"next")]),r("prev",()=>v_(e),[$g(e,"previous")]),r("select",()=>Mre(e),[$g(e,"all")]),Hf("label",null,[this.caseField,$g(e,"match case")]),Hf("label",null,[this.reField,$g(e,"regexp")]),Hf("label",null,[this.wordField,$g(e,"by word")]),...e.state.readOnly?[]:[Hf("br"),this.replaceField,r("replace",()=>vj(e),[$g(e,"replace")]),r("replaceAll",()=>Fre(e),[$g(e,"replace all")])],Hf("button",{name:"close",onclick:()=>iW(e),"aria-label":$g(e,"close"),type:"button"},["×"])])}commit(){let e=new Z7({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Jb.of(e)}))}keydown(e){(function(r,i,o){return zU($U(r.state),i,r,o)})(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?v_:d_)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),vj(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Jb)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(lw).top}};function $g(n,e){return n.state.phrase(e)}const ED=30,AD=/[\s\.,:;?!]/;function rO(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-ED),s=Math.min(i,t+ED),u=n.state.sliceDoc(o,s);if(o!=r.from){for(let c=0;c<ED;c++)if(!AD.test(u[c+1])&&AD.test(u[c])){u=u.slice(c);break}}if(s!=i){for(let c=u.length-1;c>u.length-ED;c--)if(!AD.test(u[c-1])&&AD.test(u[c])){u=u.slice(0,c);break}}return hi.announce.of(`${n.state.phrase("current match")}. ${u} ${n.state.phrase("on line")} ${r.number}.`)}const Ire=hi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Ore=[tv,_y.low(kre),Ire];let oW=class{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=sg(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(aW(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}};function yj(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Nre(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:function(o){let s=Object.create(null),u=Object.create(null);for(let{label:p}of o){s[p[0]]=!0;for(let f=1;f<p.length;f++)u[p[f]]=!0}let c=yj(s)+yj(u)+"*$";return[new RegExp("^"+c),new RegExp(c)]}(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}let wj=class{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}};function ey(n){return n.selection.main.from}function aW(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":""):n}const sW=sd.define(),bj=new WeakMap;function Bre(n){if(!Array.isArray(n))return n;let e=bj.get(n);return e||bj.set(n,e=Nre(n)),e}const y_=Bu.define(),Xb=Bu.define();let Rre=class{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Tp(e,t),i=ym(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(Tp(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let j=Tp(e,0),z=ym(j),W=z==e.length?0:-100;if(j!=t[0]){if(j!=r[0])return null;W+=-200}return this.ret(W,[0,z])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,p=0;if(u<0){for(let j=0,z=Math.min(e.length,200);j<z&&p<c;){let W=Tp(e,j);W!=t[p]&&W!=r[p]||(i[p++]=j),j+=ym(W)}if(p<c)return null}let f=0,g=0,y=!1,b=0,_=-1,M=-1,F=/[a-z]/.test(e),O=!0;for(let j=0,z=Math.min(e.length,200),W=0;j<z&&g<c;){let J=Tp(e,j);u<0&&(f<c&&J==t[f]&&(o[f++]=j),b<c&&(J==t[b]||J==r[b]?(b==0&&(_=j),M=j+1,b++):b=0));let G,Q=J<255?J>=48&&J<=57||J>=97&&J<=122?2:J>=65&&J<=90?1:0:(G=OI(J))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!j||Q==1&&F||W==0&&Q!=0)&&(t[g]==J||r[g]==J&&(y=!0)?s[g++]=j:s.length&&(O=!1)),W=Q,j+=ym(J)}return g==c&&s[0]==0&&O?this.result((y?-200:0)-100,s,e):b==c&&_==0?this.ret(-200-e.length+(M==e.length?0:-100),[0,M]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):b==c?this.ret(-900-e.length,[_,M]):g==c?this.result((y?-200:0)-100-700+(O?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let u=s+(this.astral?ym(Tp(r,s)):1);o&&i[o-1]==s?i[o-1]=u:(i[o++]=s,i[o++]=u)}return this.ret(e-r.length,i)}},jre=class{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}};const Cp=gi.define({combine:n=>K0(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Lre,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>xj(e(r),t(r)),optionClass:(e,t)=>r=>xj(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})});function xj(n,e){return n?e?n+" "+e:n:e}function Lre(n,e,t,r,i,o){let s,u,c=n.textDirection==uh.RTL,p=c,f=!1,g="top",y=e.left-i.left,b=i.right-e.right,_=r.right-r.left,M=r.bottom-r.top;if(p&&y<Math.min(_,b)?p=!1:!p&&b<Math.min(_,y)&&(p=!0),_<=(p?y:b))s=Math.max(i.top,Math.min(t.top,i.bottom-M))-e.top,u=Math.min(400,p?y:b);else{f=!0,u=Math.min(400,(c?e.right:i.right-e.left)-30);let F=i.bottom-e.bottom;F>=M||F>e.top?s=t.bottom-e.top:(g="bottom",s=e.bottom-t.top)}return{style:`${g}: ${s/((e.bottom-e.top)/o.offsetHeight)}px; max-width: ${u/((e.right-e.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(f?c?"left-narrow":"right-narrow":p?"left":"right")}}function ck(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}let $re=class{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,u=e.state.facet(Cp);this.optionContent=function(p){let f=p.addToOptions.slice();return p.icons&&f.push({render(g){let y=document.createElement("div");return y.classList.add("cm-completionIcon"),g.type&&y.classList.add(...g.type.split(/\s+/g).map(b=>"cm-completionIcon-"+b)),y.setAttribute("aria-hidden","true"),y},position:20}),f.push({render(g,y,b,_){let M=document.createElement("span");M.className="cm-completionLabel";let F=g.displayLabel||g.label,O=0;for(let j=0;j<_.length;){let z=_[j++],W=_[j++];z>O&&M.appendChild(document.createTextNode(F.slice(O,z)));let J=M.appendChild(document.createElement("span"));J.appendChild(document.createTextNode(F.slice(z,W))),J.className="cm-completionMatchedText",O=W}return O<F.length&&M.appendChild(document.createTextNode(F.slice(O))),M},position:50},{render(g){if(!g.detail)return null;let y=document.createElement("span");return y.className="cm-completionDetail",y.textContent=g.detail,y},position:80}),f.sort((g,y)=>g.position-y.position).map(g=>g.render)}(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=ck(o.length,s,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:p}=e.state.field(t).open;for(let f,g=c.target;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(f=/-(\d+)$/.exec(g.id))&&+f[1]<p.length)return this.applyCompletion(e,p[+f[1]]),void c.preventDefault()}),this.dom.addEventListener("focusout",c=>{let p=e.state.field(this.stateField,!1);p&&p.tooltip&&e.state.facet(Cp).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:Xb.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:u}=r.open;i.open&&i.open.options==o||(this.range=ck(o.length,s,e.state.facet(Cp).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),u!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=ck(t.options.length,t.selected,this.view.state.facet(Cp).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>Ng(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName=="LI"&&r.id?i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected"):i--;return t&&function(i,o){let s=i.getBoundingClientRect(),u=o.getBoundingClientRect(),c=s.height/i.offsetHeight;u.top<s.top?i.scrollTop-=(s.top-u.top)/c:u.bottom>s.bottom&&(i.scrollTop+=(u.bottom-s.bottom)/c)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(Cp).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:u,match:c}=e[s],{section:p}=u;if(p){let y=typeof p=="string"?p:p.name;y!=o&&(s>r.from||r.from==0)&&(o=y,typeof p!="string"&&p.header?i.appendChild(p.header(p)):i.appendChild(document.createElement("completion-section")).textContent=y)}const f=i.appendChild(document.createElement("li"));f.id=t+"-"+s,f.setAttribute("role","option");let g=this.optionClass(u);g&&(f.className=g);for(let y of this.optionContent){let b=y(u,this.view.state,this.view,c);b&&f.appendChild(b)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}};function zre(n,e){return t=>new $re(t,n,e)}function Dj(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}let Ure=class Qw{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Qw(this.options,Cj(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,s){if(i&&!s&&e.some(p=>p.isPending))return i.setDisabled();let u=function(f,g){let y=[],b=null,_=z=>{y.push(z);let{section:W}=z.completion;if(W){b||(b=[]);let J=typeof W=="string"?W:W.name;b.some(G=>G.name==J)||b.push(typeof W=="string"?{name:J}:W)}},M=g.facet(Cp);for(let z of f)if(z.hasResult()){let W=z.result.getMatch;if(z.result.filter===!1)for(let J of z.result.options)_(new wj(J,z.source,W?W(J):[],1e9-y.length));else{let J,G=g.sliceDoc(z.from,z.to),Q=M.filterStrict?new jre(G):new Rre(G);for(let te of z.result.options)if(J=Q.match(te.label)){let ae=te.displayLabel?W?W(te,J.matched):[]:J.matched;_(new wj(te,z.source,ae,J.score+(te.boost||0)))}}}if(b){let z=Object.create(null),W=0,J=(G,Q)=>{var te,ae;return((te=G.rank)!==null&&te!==void 0?te:1e9)-((ae=Q.rank)!==null&&ae!==void 0?ae:1e9)||(G.name<Q.name?-1:1)};for(let G of b.sort(J))W-=1e5,z[G.name]=W;for(let G of y){let{section:Q}=G.completion;Q&&(G.score+=z[typeof Q=="string"?Q:Q.name])}}let F=[],O=null,j=M.compareCompletions;for(let z of y.sort((W,J)=>J.score-W.score||j(W.completion,J.completion))){let W=z.completion;!O||O.label!=W.label||O.detail!=W.detail||O.type!=null&&W.type!=null&&O.type!=W.type||O.apply!=W.apply||O.boost!=W.boost?F.push(z):Dj(z.completion)>Dj(O)&&(F[F.length-1]=z),O=z.completion}return F}(e,t);if(!u.length)return i&&e.some(p=>p.isPending)?i.setDisabled():null;let c=t.facet(Cp).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let p=i.options[i.selected].completion;for(let f=0;f<u.length;f++)if(u[f].completion==p){c=f;break}}return new Qw(u,Cj(r,c),{pos:e.reduce((p,f)=>f.hasResult()?Math.min(p,f.from):p,1e8),create:Kre,above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new Qw(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new Qw(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}},Wre=class gP{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new gP(qre,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Cp),i=(r.override||t.languageDataAt("autocomplete",ey(t)).map(Bre)).map(u=>(this.active.find(p=>p.source==u)||new Hv(u,this.active.some(p=>p.state!=0)?1:0)).update(e,r));i.length==this.active.length&&i.every((u,c)=>u==this.active[c])&&(i=this.active);let o=this.open,s=e.effects.some(u=>u.is(iO));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||i.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!function(c,p){if(c==p)return!0;for(let f=0,g=0;;){for(;f<c.length&&!c[f].hasResult();)f++;for(;g<p.length&&!p[g].hasResult();)g++;let y=f==c.length,b=g==p.length;if(y||b)return y==b;if(c[f++].result!=p[g++].result)return!1}}(i,this.active)||s?o=Ure.build(i,t,this.id,o,r,s):o&&o.disabled&&!i.some(u=>u.isPending)&&(o=null),!o&&i.every(u=>!u.isPending)&&i.some(u=>u.hasResult())&&(i=i.map(u=>u.hasResult()?new Hv(u.source,0):u));for(let u of e.effects)u.is(cW)&&(o=o&&o.setSelected(u.value,this.id));return i==this.active&&o==this.open?this:new gP(i,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Hre:Vre}};const Hre={"aria-autocomplete":"list"},Vre={};function Cj(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const qre=[];function uW(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(sW);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}let Hv=class Zw{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=uW(e,t),i=this;(8&r||16&r&&this.touches(e))&&(i=new Zw(i.source,0)),4&r&&i.state==0&&(i=new Zw(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(y_))i=new Zw(i.source,1,o.value);else if(o.is(Xb))i=new Zw(i.source,0);else if(o.is(iO))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ey(e.state))}},lW=class rS extends Hv{constructor(e,t,r,i,o,s){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(3&t))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),u=ey(e.state);if(u>s||!i||2&t&&(ey(e.startState)==this.from||u<this.limit))return new Hv(this.source,4&t?1:0);let c=e.changes.mapPos(this.limit);return function(f,g,y,b){if(!f)return!1;let _=g.sliceDoc(y,b);return typeof f=="function"?f(_,y,b,g):aW(f,!0).test(_)}(i.validFor,e.state,o,s)?new rS(this.source,this.explicit,c,i,o,s):i.update&&(i=i.update(i,o,s,new oW(e.state,u,!1)))?new rS(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:ey(e.state)):new Hv(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new rS(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Hv(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}};const iO=Bu.define({map:(n,e)=>n.map(t=>t.map(e))}),cW=Bu.define(),Pg=wg.define({create:()=>Wre.start(),update:(n,e)=>n.update(e),provide:n=>[GI.from(n,e=>e.tooltip),hi.contentAttributes.from(n,e=>e.attrs)]});function oO(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Pg).active.find(i=>i.source==e.source);return r instanceof lW&&(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},function(o,s,u,c){let{main:p}=o.selection,f=u-p.from,g=c-p.from;return Object.assign(Object.assign({},o.changeByRange(y=>{if(y!=p&&u!=c&&o.sliceDoc(y.from+f,y.from+g)!=o.sliceDoc(u,c))return{range:y};let b=o.toText(s);return{changes:{from:y.from+f,to:c==p.from?y.to:y.from+g,insert:b},range:In.cursor(y.from+f+b.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(n.state,t,r.from,r.to)),{annotations:sW.of(e.completion)})):t(n,e.completion,r.from,r.to),!0)}const Kre=zre(Pg,oO);function kD(n,e="option"){return t=>{let r=t.state.field(Pg,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Cp).interactionDelay)return!1;let i,o=1;e=="page"&&(i=JU(t,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,u=r.open.selected>-1?r.open.selected+o*(n?1:-1):n?0:s-1;return u<0?u=e=="page"?0:s-1:u>=s&&(u=e=="page"?s-1:0),t.dispatch({effects:cW.of(u)}),!0}}const Sj=n=>!!n.state.field(Pg,!1)&&(n.dispatch({effects:y_.of(!0)}),!0);let Gre=class{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}};const Yre=Wp.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Pg).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Pg),t=n.state.facet(Cp);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Pg)==e)return;let r=n.transactions.some(o=>{let s=uW(o,t);return 8&s||(o.selection||o.docChanged)&&!(3&s)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>50&&Date.now()-s.time>1e3){for(let u of s.context.abortListeners)try{u()}catch(c){Ng(this.view.state,c)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(y_)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Pg);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cp).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=ey(e),r=new oW(e,t,n.explicit,this.view),i=new Gre(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Xb.of(null)}),Ng(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cp).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Cp),r=this.view.state.field(Pg);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let u=ey(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(u,o.done.from+(o.active.explicit?0:1)),p=new lW(o.active.source,o.active.explicit,c,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:u);for(let f of o.updates)p=p.update(f,t);if(p.hasResult()){e.push(p);continue}}let s=r.active.find(u=>u.source==o.active.source);if(s&&s.isPending)if(o.done==null){let u=new Hv(o.active.source,0);for(let c of o.updates)u=u.update(c,t);u.isPending||e.push(u)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:iO.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Pg,!1);if(e&&e.tooltip&&this.view.state.facet(Cp).closeOnBlur){let t=e.open&&JU(this.view,e.open.tooltip);t&&t.dom.contains(n.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:Xb.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:y_.of(!1)}),20),this.composing=0}}}),Jre=typeof navigator=="object"&&/Win/.test(navigator.platform),Xre=_y.highest(hi.domEventHandlers({keydown(n,e){let t=e.state.field(Pg,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&(!Jre||!n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&oO(e,r),!1}})),Qre=hi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Qb={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Vv=Bu.define({map(n,e){let t=e.mapPos(n,-1,gg.TrackAfter);return t??void 0}}),mP=new class extends Wv{};mP.startSide=1,mP.endSide=-1;const fW=wg.define({create:()=>bh.empty,update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Vv)&&(n=n.update({add:[mP.range(t.value,t.value+1)]}));return n}}),_j="()[]{}<>";function hW(n){for(let e=0;e<8;e+=2)if(_j.charCodeAt(e)==n)return _j.charAt(e+1);return OI(n<128?n:n+1)}function pW(n,e){return n.languageDataAt("closeBrackets",e)[0]||Qb}const Zre=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),eie=hi.inputHandler.of((n,e,t,r)=>{if((Zre?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&ym(Tp(r,0))==1||e!=i.from||t!=i.to)return!1;let o=function(u,c){let p=pW(u,u.selection.main.head),f=p.brackets||Qb.brackets;for(let g of f){let y=hW(Tp(g,0));if(c==g)return y==g?iie(u,g,f.indexOf(g+g+g)>-1,p):nie(u,g,y,p.before||Qb.before);if(c==y&&gW(u,u.selection.main.from))return rie(u,g,y)}return null}(n.state,r);return!!o&&(n.dispatch(o),!0)}),tie=[{key:"Backspace",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=pW(n,n.selection.main.head).brackets||Qb.brackets,r=null,i=n.changeByRange(o=>{if(o.empty){let s=function(c,p){let f=c.sliceString(p-2,p);return ym(Tp(f,0))==f.length?f:f.slice(1)}(n.doc,o.head);for(let u of t)if(u==s&&BE(n.doc,o.head)==hW(Tp(u,0)))return{changes:{from:o.head-u.length,to:o.head+u.length},range:In.cursor(o.head-u.length)}}return{range:r=o}});return r||e(n.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function gW(n,e){let t=!1;return n.field(fW).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function BE(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ym(Tp(t,0)))}function nie(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:Vv.of(s.to+e.length),range:In.range(s.anchor+e.length,s.head+e.length)};let u=BE(n.doc,s.head);return!u||/\s/.test(u)||r.indexOf(u)>-1?{changes:{insert:e+t,from:s.head},effects:Vv.of(s.head+e.length),range:In.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function rie(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&BE(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:In.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function iie(n,e,t,r){let i=r.stringPrefixes||Qb.stringPrefixes,o=null,s=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:Vv.of(u.to+e.length),range:In.range(u.anchor+e.length,u.head+e.length)};let c,p=u.head,f=BE(n.doc,p);if(f==e){if(Ej(n,p))return{changes:{insert:e+e,from:p},effects:Vv.of(p+e.length),range:In.cursor(p+e.length)};if(gW(n,p)){let g=t&&n.sliceDoc(p,p+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:p,to:p+g.length,insert:g},range:In.cursor(p+g.length)}}}else{if(t&&n.sliceDoc(p-2*e.length,p)==e+e&&(c=Aj(n,p-2*e.length,i))>-1&&Ej(n,c))return{changes:{insert:e+e+e+e,from:p},effects:Vv.of(p+e.length),range:In.cursor(p+e.length)};if(n.charCategorizer(p)(f)!=wh.Word&&Aj(n,p,i)>-1&&!function(y,b,_,M){let F=sg(y).resolveInner(b,-1),O=M.reduce((j,z)=>Math.max(j,z.length),0);for(let j=0;j<5;j++){let z=y.sliceDoc(F.from,Math.min(F.to,F.from+_.length+O)),W=z.indexOf(_);if(!W||W>-1&&M.indexOf(z.slice(0,W))>-1){let G=F.firstChild;for(;G&&G.from==F.from&&G.to-G.from>_.length+W;){if(y.sliceDoc(G.to-_.length,G.to)==_)return!1;G=G.firstChild}return!0}let J=F.to==b&&F.parent;if(!J)break;F=J}return!1}(n,p,e,i))return{changes:{insert:e+e,from:p},effects:Vv.of(p+e.length),range:In.cursor(p+e.length)}}return{range:o=u}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Ej(n,e){let t=sg(n).resolveInner(e+1);return t.parent&&t.from==e}function Aj(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=wh.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=wh.Word)return o}return-1}function oie(n={}){return[Xre,Pg,Cp.of(n),Yre,aie,Qre]}const mW=[{key:"Ctrl-Space",run:Sj},{mac:"Alt-`",run:Sj},{key:"Escape",run:n=>{let e=n.state.field(Pg,!1);return!(!e||!e.active.some(t=>t.state!=0))&&(n.dispatch({effects:Xb.of(null)}),!0)}},{key:"ArrowDown",run:kD(!0)},{key:"ArrowUp",run:kD(!1)},{key:"PageDown",run:kD(!0,"page")},{key:"PageUp",run:kD(!1,"page")},{key:"Enter",run:n=>{let e=n.state.field(Pg,!1);return!(n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Cp).interactionDelay)&&oO(n,e.open.options[e.open.selected])}}],aie=_y.highest(qI.computeN([Cp],n=>n.facet(Cp).defaultKeymap?[mW]:[]));let sie=class{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}},kw=class dW{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(Zb).markerFilter;o&&(i=o(i,r));let s=Aa.set(i.map(u=>u.from==u.to||u.from==u.to-1&&r.doc.lineAt(u.from).to==u.from?Aa.widget({widget:new hie(u),diagnostic:u}).range(u.from):Aa.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity+(u.markClass?" "+u.markClass:"")},diagnostic:u}).range(u.from,u.to)),!0);return new dW(s,t,V1(s))}};function V1(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!e||s.diagnostic==e)return r=new sie(i,o,s.diagnostic),!1}),r}const vW=Bu.define(),aO=Bu.define(),yW=Bu.define(),em=wg.define({create:()=>new kw(Aa.none,null,null),update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=V1(t,n.selected.diagnostic,o)||V1(t,null,o)}!t.size&&i&&e.state.facet(Zb).autoPanel&&(i=null),n=new kw(t,i,r)}for(let t of e.effects)if(t.is(vW)){let r=e.state.facet(Zb).autoPanel?t.value.length?dP.open:null:n.panel;n=kw.init(t.value,r,e.state)}else t.is(aO)?n=new kw(n.diagnostics,t.value?dP.open:null,n.selected):t.is(yW)&&(n=new kw(n.diagnostics,n.panel,t.value));return n},provide:n=>[qb.from(n,e=>e.panel),hi.decorations.from(n,e=>e.diagnostics)]}),uie=Aa.mark({class:"cm-lintRange cm-lintRange-active"});function lie(n,e,t){let{diagnostics:r}=n.state.field(em),i=[],o=2e8,s=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(c,p,{spec:f})=>{e>=c&&e<=p&&(c==p||(e>c||t>0)&&(e<p||t<0))&&(i.push(f.diagnostic),o=Math.min(c,o),s=Math.max(p,s))});let u=n.state.facet(Zb).tooltipFilter;return u&&(i=u(i,n.state)),i.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create:()=>({dom:cie(n,i)})}:null}function cie(n,e){return Hf("ul",{class:"cm-tooltip-lint"},e.map(t=>bW(n,t,!1)))}const kj=n=>{let e=n.state.field(em,!1);return!(!e||!e.panel)&&(n.dispatch({effects:aO.of(!1)}),!0)},fie=[{key:"Mod-Shift-m",run:n=>{let e=n.state.field(em,!1);var t,r;e&&e.panel||n.dispatch({effects:(t=n.state,r=[aO.of(!0)],t.field(em,!1)?r:r.concat(Bu.appendConfig.of(gie)))});let i=Vb(n,dP.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let e=n.state.field(em,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to))&&(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],Zb=gi.define({combine:n=>Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},K0(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))});function wW(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function bW(n,e,t){var r;let i=t?wW(e.actions):[];return Hf("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Hf("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let u=!1,c=y=>{if(y.preventDefault(),u)return;u=!0;let b=V1(n.state.field(em).diagnostics,e);b&&o.apply(n,b.from,b.to)},{name:p}=o,f=i[s]?p.indexOf(i[s]):-1,g=f<0?p:[p.slice(0,f),Hf("u",p.slice(f,f+1)),p.slice(f+1)];return Hf("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${p}${f<0?"":` (access key "${i[s]})"`}.`},g)}),e.source&&Hf("div",{class:"cm-diagnosticSource"},e.source))}let hie=class extends Sv{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Hf("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}},Mj=class{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=bW(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}},dP=class xW{constructor(e){this.view=e,this.items=[],this.list=Hf("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(t.keyCode==27)kj(this.view),this.view.focus();else if(t.keyCode==38||t.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(t.keyCode==40||t.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(t.keyCode==36)this.moveSelection(0);else if(t.keyCode==35)this.moveSelection(this.items.length-1);else if(t.keyCode==13)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],i=wW(r.actions);for(let o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==t.keyCode){let s=V1(this.view.state.field(em).diagnostics,r);s&&r.actions[o].apply(e,s.from,s.to)}}}t.preventDefault()},onclick:t=>{for(let r=0;r<this.items.length;r++)this.items[r].dom.contains(t.target)&&this.moveSelection(r)}}),this.dom=Hf("div",{class:"cm-panel-lint"},this.list,Hf("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>kj(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(em).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(em),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,u,{spec:c})=>{let p,f=-1;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==c.diagnostic){f=g;break}f<0?(p=new Mj(this.view,c.diagnostic),this.items.splice(r,0,p),i=!0):(p=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),t&&p.diagnostic==t.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),o=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new Mj(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:u})=>{let c=u.height/this.list.offsetHeight;s.top<u.top?this.list.scrollTop-=(u.top-s.top)/c:s.bottom>u.bottom&&(this.list.scrollTop+=(s.bottom-u.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=V1(this.view.state.field(em).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:yW.of(t)})}static open(e){return new xW(e)}};function MD(n){return function(t,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const pie=hi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:MD("#d11")},".cm-lintRange-warning":{backgroundImage:MD("orange")},".cm-lintRange-info":{backgroundImage:MD("#999")},".cm-lintRange-hint":{backgroundImage:MD("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),gie=[em,hi.decorations.compute([em],n=>{let{selected:e,panel:t}=n.field(em);return e&&t&&e.from!=e.to?Aa.set([uie.range(e.from,e.to)]):Aa.none}),$te(lie,{hideOn:function(e,t){let r=t.pos,i=t.end||r,o=e.state.facet(Zb).hideOn(e,r,i);if(o!=null)return o;let s=e.startState.doc.lineAt(t.pos);return!(!e.effects.some(u=>u.is(vW))&&!e.changes.touchesRange(s.from,Math.max(s.to,i)))}}),pie],mie=[Jte(),Qte,Ate(),ire(),Tne(),wte(),[Kw,Cte],$h.allowMultipleSelections.of(!0),$h.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+200)return n;let o=t.sliceString(i.from,r);if(!e.some(p=>p.test(o)))return n;let{state:s}=n,u=-1,c=[];for(let{head:p}of s.selection.ranges){let f=s.doc.lineAt(p);if(f.from==u)continue;u=f.from;let g=XI(s,f.from);if(g==null)continue;let y=/^\s*/.exec(f.text)[0],b=Kb(s,g);y!=b&&c.push({from:f.from,to:f.from+y.length,insert:b})}return c.length?[n,{changes:c,sequential:!0}]:n}),One(Rne,{fallback:!0}),Hne(),[eie,fW],oie(),hi.mouseSelectionStyle.of((n,e)=>(t=>t.altKey&&t.button==0)(e)?Tte(n,e):null),Nte(),Pte,[Cre,Dre],qI.of([...tie,...dre,...Pre,...fre,...kne,...mW,...fie])];var die=function(n){var e=n.project,t=n.activeEditor,r=n.interpolateSignalValue,i=n.functionString,o=at.useMemo(function(){var _=e.orgData.signalIds.find(function(ge){return e.signalData[ge].pinIds.includes(t.id)});if(!_)throw new Error("pin was not found");var M=e.signalData[_].pinTimes[t.id],F=Object.entries(e.signalData[_].pinTimes).sort(function(ge,xe){return ge[1]-xe[1]}),O=F.findIndex(function(ge){var xe=ge[0];return ge[1],xe===t.id}),j=O===0?null:F[O-1][0],z=0;j&&(z=e.signalData[_].pinTimes[j]);for(var W=z,J=M,G=[],Q=!1,te=W;te<J;te++){var ae=r(_,te);ae[0];var se=ae[1];se.length>0&&(Q=!0),G.push(se)}return{startFrame:W,endFrame:J,errorsExist:Q,errorFrames:G}},[i]),s=o.startFrame,u=o.endFrame,c=o.errorsExist,p=o.errorFrames,f=at.useState(u-1),g=f[0],y=f[1],b=at.useRef(null);return c?ft.jsxs("div",{style:{backgroundColor:"red",color:"white",padding:"10px"},children:[ft.jsx("div",{children:ft.jsx("input",{ref:b,onChange:function(){if(b.current===null)throw new Error("sliderRef.current is null");y(parseInt(b.current.value))},type:"range",min:s,max:u-1,defaultValue:g,step:1})}),ft.jsxs("div",{children:["ERROR",p[g].map(function(_){return ft.jsxs("div",{children:[ft.jsxs("div",{children:["Signal id: ",_.signalId]}),ft.jsxs("div",{children:["Frame: ",_.frame]}),ft.jsxs("div",{children:["Error: ",_.error]})]})})]})]}):ft.jsx("div",{})},vie=function(n){var e=n.useProjectState,t=n.setFunctionString,r=n.activeEditor,i=n.interpolateSignalValue,o=at.useRef(null),s=at.useRef(null),u=e(),c=at.useState(!1),p=c[0],f=c[1],g=function(b){if(!b)return"";var _=u.orgData.signalIds.find(function(M){return u.signalData[M].pinIds.includes(b)});if(!_)throw new Error("pin was not found");return u.signalData[_].curves[b]}(r?r.id:void 0),y=hi.theme({".cm-scroller":{overflow:"auto"},"&":{color:"var(--yellow1)",backgroundColor:"var(--gray1)",height:"100%",fontSize:"16px"},".cm-content":{caretColor:"var(--green1)"},"&.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"#074"},".cm-gutters":{backgroundColor:"var(--gray2)",color:"var(--gray6)",border:"none"}});return at.useEffect(function(){var b=$h.create({doc:g,extensions:[mie,y,hi.updateListener.of(function(M){if(M.docChanged){var F=M.state.doc.toString();r&&F!==g&&f(!0)}})]});if(o.current===null)throw new Error("editor.current is null");var _=new hi({state:b,parent:o.current});return s.current=_,function(){_.destroy()}},[g]),ft.jsxs("div",{style:{display:"grid",gridTemplateRows:"1fr auto auto",height:"100%",width:"100%"},children:[ft.jsx("div",{style:{height:"100%",width:"100%"},ref:o}),r?ft.jsx(die,{project:u,interpolateSignalValue:i,activeEditor:r,functionString:g}):ft.jsx("div",{}),ft.jsx("div",{style:{display:"flex",justifyContent:"flex-end",padding:"10px",backgroundColor:"var(--gray2)"},children:p?ft.jsx(md,{bgColor:"var(--green1)",color:"var(--green4)",hoverBgColor:"var(--green2)",hoverColor:"white",iconName:"check",onClick:function(){if(s.current===null)throw new Error("editorView.current is null");var b=s.current.state.doc.toString();r&&t(r.id,b)}}):null})]})};function yie(n){var e=n.project,t=n.projectTools,r=qi.useState(!1),i=r[0],o=r[1],s=e.timelineData.playheadPosition,u=function(b,_){t.returnToLastCommit(),t.updatePlayheadPosition(b,_)},c=e.timelineData.numberOfFrames,p=e.timelineData.framesPerSecond,f=e.timelineData.focusRange,g=f[0],y=f[1];return at.useLayoutEffect(function(){var b,_=Date.now(),M=_,F=y-g,O=function(W,J,G){return Math.min(Math.max(W,J),G)}(s,g,y)-g,j=function(){if(i){var z=Date.now();if(z-M>1e3/p){var W=z-_,J=Math.floor(W/(1e3/p));M=z,u(g+(O+J)%F,!1)}b=requestAnimationFrame(j)}};return b=requestAnimationFrame(j),function(){return cancelAnimationFrame(b)}},[i]),ft.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[ft.jsx(md,{onClick:function(){i&&u(s,!0),o(!i)},iconName:i?"pause":"play_arrow",bgColor:i?"var(--green2)":"var(--gray4)",hoverBgColor:i?"var(--green1)":"var(--gray5)",color:i?"white":"var(--gray7)",hoverColor:i?"white":"var(--gray7)"}),ft.jsx("div",{style:{color:"var(--gray6)"},children:"Frame:"}),ft.jsx(pd,{initialValue:s.toString(),onCommit:function(b){return u(parseInt(b),!0)},isValid:function(b){if(b==="")return!1;var _=b.split(""),M=!1;if(_.forEach(function(O){"0123456789".split("").includes(O)||(M=!0)}),M)return!1;var F=parseInt(b,10);return!isNaN(F)&&F>=0&&F<c}},s),ft.jsx("div",{style:{height:"40px",width:"0px",marginLeft:"15px",marginRight:"15px"}}),ft.jsx("div",{style:{color:"var(--gray6)"},children:"Range:"}),ft.jsx(pd,{initialValue:e.timelineData.focusRange[0].toString(),onCommit:function(b){return t.updateFocusRange([parseInt(b),e.timelineData.focusRange[1]])},isValid:function(b){if(b==="")return!1;var _=b.split(""),M=!1;if(_.forEach(function(O){"0123456789".split("").includes(O)||(M=!0)}),M)return!1;var F=parseInt(b,10);return!isNaN(F)&&F>=0&&F<c&&F<e.timelineData.focusRange[1]}}),ft.jsx(pd,{initialValue:e.timelineData.focusRange[1].toString(),onCommit:function(b){return t.updateFocusRange([e.timelineData.focusRange[0],parseInt(b)])},isValid:function(b){if(b==="")return!1;var _=b.split(""),M=!1;if(_.forEach(function(O){"0123456789".split("").includes(O)||(M=!0)}),M)return!1;var F=parseInt(b,10);return!isNaN(F)&&F>=0&&F<c&&F>e.timelineData.focusRange[0]}})]})}var Fj=function(n){switch(n){case"pointer":return"arrow_selector_tool";case"add_pin":return"add";case"code_editor":return"code";default:return"home"}},fk=function(n){var e=n.toolName,t=n.currentTool,r=n.setActiveTool;return ft.jsx(md,t===e?{iconName:Fj(e),bgColor:"var(--yellow3)",color:"var(--gray1)",hoverBgColor:"var(--yellow2)",hoverColor:"var(--gray1)"}:{iconName:Fj(e),bgColor:"var(--gray3)",color:"var(--gray7)",hoverBgColor:"var(--yellow1)",hoverColor:"var(--gray2)",onClick:function(){return r(e)}})};function wie(n){var e=n.setActiveTool,t=n.activeTool;return ft.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[ft.jsx(fk,{toolName:"pointer",currentTool:t,setActiveTool:e}),ft.jsx(fk,{toolName:"add_pin",currentTool:t,setActiveTool:e}),ft.jsx(fk,{toolName:"code_editor",currentTool:t,setActiveTool:e})]})}var vP=function(n,e){return vP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},vP(n,e)};function dh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}vP(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Ou=function(){return Ou=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Ou.apply(this,arguments)};function Im(n,e,t){for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var Pj=function(){function n(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100]},signalData:{},templateData:{}}}return n.prototype.addDiscreteSignal=function(e,t){this._project.orgData.signalIds.push(e),this._project.orgData.signalNames[e]=t,this._project.orgData.signalTypes[e]="discrete",this._project.signalData[e]={id:e,type:"discrete",pinIds:[],pinTimes:{},pinValues:{}}},n.prototype.addContinuousSignal=function(e,t,r){this._project.orgData.signalIds.push(e),this._project.orgData.signalNames[e]=t,this._project.orgData.signalTypes[e]="continuous",this._project.signalData[e]={id:e,type:"continuous",range:r,pinIds:[],pinTimes:{},pinValues:{},curves:{}}},n.prototype.addPin=function(e,t,r,i){var o=this._project.signalData[e],s=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(s),this._project.orgData.signalIdByPinId[s]=e,o.type==="continuous"){if(o.pinIds.push(s),o.pinTimes[s]=t,typeof r!="number")throw new Error("Continuous signal pin value must be a number");if(o.pinValues[s]=r,!i)throw new Error("Continuous signal pin must have a curve");i&&(o.curves[s]=i)}if(o.type==="discrete"){if(o.pinIds.push(s),o.pinTimes[s]=t,typeof r!="string")throw new Error("Discrete signal pin value must be a string");o.pinValues[s]=r}},n.prototype.setTimelineData=function(e,t,r){this._project.timelineData=Ou(Ou({},this._project.timelineData),{numberOfFrames:e,framesPerSecond:t,playheadPosition:r})},n.prototype.setSignalActiveStatus=function(e,t){t?this._project.orgData.activeSignalIds.push(e):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(r){return r!==e})},n.prototype.getProject=function(){return this._project},n.prototype.addCurveTemplate=function(e,t){this._project.templateData[e]=t},n}(),bie=Object.freeze({__proto__:null,ProjectBuilder:Pj,defaultProject:function(){var n=new Pj;return n.addDiscreteSignal("signal1","Signal 1"),n.addContinuousSignal("signal2","Signal 2",[0,1]),n.addPin("signal1",100,"VALUE"),n.addPin("signal2",100,0,"return easyLinear();"),n.setSignalActiveStatus("signal1",!0),n.setSignalActiveStatus("signal2",!0),n.getProject()}}),yP=function(){function n(e,t,r){if(r===void 0&&(r=1e4),this.content=e,this.__transformer=t,typeof r=="number"){if(r<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:r}}else this.__internal=r;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return n.deserialize=function(e,t){var r=JSON.parse(e);return new n(r.content,t,r.__internal)},n.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},n.prototype.next=function(){var e=this.__internal.states[this.__internal.cursor].nextState;if(!e)return{success:!1,message:"No next state"};var t=this.__internal.cursor,r=this.__internal.states[t].forward;return this.__internal.cursor=e,this.content=this.__transformer(this.content,r),{success:!0,message:"Next state reached"}},n.prototype.previous=function(){var e=this.__internal.states[this.__internal.cursor].previousState;if(!e)return{success:!1,message:"No previous state"};var t=this.__internal.cursor,r=this.__internal.states[t].backward;return this.__internal.cursor=e,this.content=this.__transformer(this.content,r),{success:!0,message:"Previous state reached"}},n.prototype.goToNamedState=function(e){var t=this.__internal.namedStates[e];if(!t)return{success:!1,message:"Named state not found"};if(!this.__internal.states[t])throw new Error("Named state has no corresponding state");var r=this.__internal.cursor;if(t===r)return{success:!0,message:"Already at named state"};for(var i="forward",o=r,s=0;o&&s<this.__MAX_ITERATIONS;)s++,o===t&&(i="backward"),o=this.__internal.states[o].previousState;if(i==="forward"){for(s=0;this.__internal.cursor!==t&&s<this.__MAX_ITERATIONS;)if(s++,!(u=this.next()).success)throw new Error(u.message)}else for(s=0;this.__internal.cursor!==t&&s<this.__MAX_ITERATIONS;){var u;if(s++,!(u=this.previous()).success)throw new Error(u.message)}return{success:!0,message:"Moved to named state"}},n.prototype.saveAsNamedState=function(e){this.__internal.namedStates[e]=this.__internal.cursor},n.prototype.appendToCurrentState=function(e,t){this.content=this.__transformer(this.content,e);var r=this.__internal.cursor,i=this.__internal.states[r].forward,o=this.__internal.states[r].backward;this.__internal.states[r].forward=i.concat(e),this.__internal.states[r].backward=t.concat(o)},n.prototype.addNextState=function(e,t){for(var r=this,i=[],o=u=this.__internal.cursor,s=0;o&&s<this.__MAX_ITERATIONS;)s++,(o=this.__internal.states[o].nextState)&&i.push(o);i.forEach(function(y){delete r.__internal.states[y]});var u=this.__internal.cursor,c="state".concat(function(){for(var y="",b=0;b<10;b++)y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return y}());this.__internal.states[c]={forward:e,backward:t,nextState:void 0,previousState:u},this.__internal.states[u].nextState=c,this.__internal.cursor=c,this.content=this.__transformer(this.content,e);var p=1,f=(o=u=this.__internal.cursor,[u]);for(s=0;o&&p<this.__internal.maxSize&&s<this.__MAX_ITERATIONS;)s++,(o=this.__internal.states[o].previousState)&&f.push(o),p++;var g=Object.keys(this.__internal.states).filter(function(y){return!f.includes(y)});g.forEach(function(y){delete r.__internal.states[y]}),f.forEach(function(y,b){var _=r.__internal.states[y].previousState,M=r.__internal.states[y].nextState;_&&!r.__internal.states[_]&&(r.__internal.states[y].previousState=void 0),M&&!r.__internal.states[M]&&(r.__internal.states[y].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(y){var b=r.__internal.namedStates[y];if(!b)throw new Error("Named state has no corresponding state");r.__internal.states[b]||delete r.__internal.namedStates[y]})},n.prototype.executeCommand=function(e){switch(e.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(e.namedState);break;case"saveAsNamedState":this.saveAsNamedState(e.namedState);break;case"addNextState":this.addNextState(e.forward,e.backward);break;case"appendToCurrentState":this.appendToCurrentState(e.forward,e.backward);break;default:throw new Error("Invalid command")}},n.prototype.executeCommands=function(e){var t=this;e.forEach(function(r){return t.executeCommand(r)})},n}(),DW=function(){function n(e){this.subscribers=[],this.update=[],this.dispatch=e,this.authorId="a".concat(w_())}return n.prototype.subscribeToProjectUpdates=function(e){var t=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter(function(r){return r!==e})}},n.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},n.prototype.pushCommand=function(e){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var t=e();this.worm.executeCommand(t),this.update.push(t)}catch(r){console.error(r)}},n.prototype.pushCommands=function(e){var t;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var r=e();this.worm.executeCommands(r),(t=this.update).push.apply(t,r)}catch(i){console.error(i)}},n.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var e=this.update;this.update=[];var t=this.projectStateId;this.projectStateId="ps".concat(w_()),this.subscribers.forEach(function(r){return r()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:e,lastAgreedProjectStateId:t,newProjectStateId:this.projectStateId})},n.prototype.processUpdate=function(e){if(this.worm&&this.projectStateId){var t=e.lastAgreedProjectStateId,r=e.newProjectStateId;(this.host?t===this.projectStateId&&e.authorIsHost===!1&&this.update.length===0:t===this.projectStateId)?(this.update=[],this.worm.executeCommands(e.instructions),this.projectStateId=r,this.subscribers.forEach(function(i){return i()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},n}(),xie=function(n){function e(t,r){var i=n.call(this,t.dispatch)||this;return i.host=!0,i.worm=r,i.projectStateId="ps".concat(w_()),i.dispatch({authorId:i.authorId,authorIsHost:!0,type:"hostIsConnected"}),i}return dh(e,n),Object.defineProperty(e.prototype,"initialized",{get:function(){return!0},enumerable:!1,configurable:!0}),e.fromProject=function(t,r){return new e(t,new yP(r,t.projectTransformer))},e.fromSerializedWorm=function(t,r){return new e(t,yP.deserialize(r,t.projectTransformer))},e.prototype.receive=function(t){if(t.authorId!==this.authorId)switch(t.type){case"requestProject":this.pushProject(t.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(t);break;default:throw new Error("Invalid event type")}},e.prototype.pushProject=function(t){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:t})},e}(DW),Die=function(n){function e(t){var r=n.call(this,t.dispatch)||this;return r.host=!1,r.projectRequestCallbacks={},r.__projectTransformer=t.projectTransformer,r}return dh(e,n),Object.defineProperty(e.prototype,"initialized",{get:function(){return this.worm!==void 0&&this.projectStateId!==void 0},enumerable:!1,configurable:!0}),e.prototype.receive=function(t){if(t.authorId!==this.authorId)switch(t.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=yP.deserialize(t.serializedWorm,this.__projectTransformer),this.projectStateId=t.initialProjectStateId,t.requestId&&this.projectRequestCallbacks[t.requestId]&&(this.projectRequestCallbacks[t.requestId](),delete this.projectRequestCallbacks[t.requestId]);break;case"pushUpdate":this.processUpdate(t);break;default:throw new Error("Invalid event type")}},e.prototype.requestProject=function(t){var r;t&&(r="r".concat(w_()),this.projectRequestCallbacks[r]=t),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:r})},e}(DW),w_=function(){for(var n="",e=0;e<10;e++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return n},CW=Symbol.for("immer-nothing"),Tj=Symbol.for("immer-draftable"),im=Symbol.for("immer-state");function Lm(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var q1=Object.getPrototypeOf;function S1(n){return!!n&&!!n[im]}function py(n){var e;return!!n&&(SW(n)||Array.isArray(n)||!!n[Tj]||!!((e=n.constructor)!=null&&e[Tj])||jE(n)||LE(n))}var Cie=Object.prototype.constructor.toString();function SW(n){if(!n||typeof n!="object")return!1;const e=q1(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object||typeof t=="function"&&Function.toString.call(t)===Cie}function b_(n,e){RE(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function RE(n){const e=n[im];return e?e.type_:Array.isArray(n)?1:jE(n)?2:LE(n)?3:0}function wP(n,e){return RE(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function _W(n,e,t){const r=RE(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function jE(n){return n instanceof Map}function LE(n){return n instanceof Set}function Bv(n){return n.copy_||n.base_}function bP(n,e){if(jE(n))return new Map(n);if(LE(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=SW(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[im];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[s]})}return Object.create(q1(n),r)}{const r=q1(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function sO(n,e=!1){return $E(n)||S1(n)||!py(n)||(RE(n)>1&&(n.set=n.add=n.clear=n.delete=Sie),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>sO(r,!0))),n}function Sie(){Lm(2)}function $E(n){return Object.isFrozen(n)}var ex,_ie={};function gy(n){const e=_ie[n];return e||Lm(0,n),e}function Ij(){return ex}function Oj(n,e){e&&(gy("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function xP(n){DP(n),n.drafts_.forEach(Eie),n.drafts_=null}function DP(n){n===ex&&(ex=n.parent_)}function Nj(n){return ex={drafts_:[],parent_:ex,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Eie(n){const e=n[im];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Bj(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[im].modified_&&(xP(e),Lm(4)),py(n)&&(n=x_(e,n),e.parent_||D_(e,n)),e.patches_&&gy("Patches").generateReplacementPatches_(t[im].base_,n,e.patches_,e.inversePatches_)):n=x_(e,t,[]),xP(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==CW?n:void 0}function x_(n,e,t){if($E(e))return e;const r=e[im];if(!r)return b_(e,(i,o)=>Rj(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return D_(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),b_(o,(u,c)=>Rj(n,r,i,u,c,t,s)),D_(n,i,!1),t&&n.patches_&&gy("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function Rj(n,e,t,r,i,o,s){if(S1(i)){const u=x_(n,i,o&&e&&e.type_!==3&&!wP(e.assigned_,r)?o.concat(r):void 0);if(_W(t,r,u),!S1(u))return;n.canAutoFreeze_=!1}else s&&t.add(i);if(py(i)&&!$E(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;x_(n,i),e&&e.scope_.parent_||typeof r=="symbol"||!Object.prototype.propertyIsEnumerable.call(t,r)||D_(n,i)}}function D_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&sO(e,t)}var CP={get(n,e){if(e===im)return n;const t=Bv(n);if(!wP(t,e))return function(i,o,s){var c;const u=jj(o,s);return u?"value"in u?u.value:(c=u.get)==null?void 0:c.call(i.draft_):void 0}(n,t,e);const r=t[e];return n.finalized_||!py(r)?r:r===hk(n.base_,e)?(pk(n),n.copy_[e]=_P(r,n)):r},has:(n,e)=>e in Bv(n),ownKeys:n=>Reflect.ownKeys(Bv(n)),set(n,e,t){const r=jj(Bv(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=hk(Bv(n),e),u=s==null?void 0:s[im];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(((i=t)===(o=s)?i!==0||1/i==1/o:i!=i&&o!=o)&&(t!==void 0||wP(n.base_,e)))return!0;pk(n),SP(n)}var i,o;return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty:(n,e)=>(hk(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,pk(n),SP(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0),getOwnPropertyDescriptor(n,e){const t=Bv(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Lm(11)},getPrototypeOf:n=>q1(n.base_),setPrototypeOf(){Lm(12)}},eb={};function hk(n,e){const t=n[im];return(t?Bv(t):n)[e]}function jj(n,e){if(!(e in n))return;let t=q1(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=q1(t)}}function SP(n){n.modified_||(n.modified_=!0,n.parent_&&SP(n.parent_))}function pk(n){n.copy_||(n.copy_=bP(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function _P(n,e){const t=jE(n)?gy("MapSet").proxyMap_(n,e):LE(n)?gy("MapSet").proxySet_(n,e):function(r,i){const o=Array.isArray(r),s={type_:o?1:0,scope_:i?i.scope_:Ij(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=s,c=CP;o&&(u=[s],c=eb);const{revoke:p,proxy:f}=Proxy.revocable(u,c);return s.draft_=f,s.revoke_=p,f}(n,e);return(e?e.scope_:Ij()).drafts_.push(t),t}function EW(n){if(!py(n)||$E(n))return n;const e=n[im];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=bP(n,e.scope_.immer_.useStrictShallowCopy_)}else t=bP(n,!0);return b_(t,(r,i)=>{_W(t,r,EW(i))}),e&&(e.finalized_=!1),t}b_(CP,(n,e)=>{eb[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),eb.deleteProperty=function(n,e){return eb.set.call(this,n,e,void 0)},eb.set=function(n,e,t){return CP.set.call(this,n[0],e,t,n[0])};var Vg=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const s=this;return function(u=o,...c){return s.produce(u,p=>t.call(this,p,...c))}}let i;if(typeof t!="function"&&Lm(6),r!==void 0&&typeof r!="function"&&Lm(7),py(e)){const o=Nj(this),s=_P(e,void 0);let u=!0;try{i=t(s),u=!1}finally{u?xP(o):DP(o)}return Oj(o,r),Bj(i,o)}if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===CW&&(i=void 0),this.autoFreeze_&&sO(i,!0),r){const o=[],s=[];gy("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}Lm(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,u=>e(u,...s));let r,i;return[this.produce(e,t,(o,s)=>{r=o,i=s}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){py(n)||Lm(8),S1(n)&&(n=function(r){return S1(r)||Lm(10,r),EW(r)}(n));const e=Nj(this),t=_P(n,void 0);return t[im].isManual_=!0,DP(e),t}finishDraft(n,e){const t=n&&n[im];t&&t.isManual_||Lm(9);const{scope_:r}=t;return Oj(r,e),Bj(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=gy("Patches").applyPatches_;return S1(n)?r(n,e):this.produce(n,i=>r(i,e))}},Aie=Vg.produce;function Lj(n,e){var t=e.pinId,r=!1;for(var i in n.signalData){var o=n.signalData[i],s=o.pinIds.indexOf(t);if(s!==-1){o.pinIds.splice(s,1),delete o.pinTimes[t],delete o.pinValues[t],o.type==="continuous"&&delete o.curves[t],r=!0;break}}if(!r)throw new Error("Pin with id ".concat(t," not found"));n.orgData.pinIds=n.orgData.pinIds.filter(function(u){return u!==t}),delete n.orgData.signalIdByPinId[t]}Vg.produceWithPatches.bind(Vg),Vg.setAutoFreeze.bind(Vg),Vg.setUseStrictShallowCopy.bind(Vg),Vg.applyPatches.bind(Vg),Vg.createDraft.bind(Vg),Vg.finishDraft.bind(Vg);var kie={addPin:function(n,e){var t=e.signalId,r=e.pinId,i=e.pinTime,o=e.pinValue,s=e.functionString,u=n.signalData[t];if(!u)throw new Error("Signal with id ".concat(t," not found"));var c=u.type;if(c==="continuous"&&typeof o!="number")throw new Error("Pin value must be a number for continuous signals");if(c==="discrete"&&typeof o!="string")throw new Error("Pin value must be a string for discrete signals");for(var p in n.signalData)if(n.signalData[p].pinIds.includes(r))throw new Error("Pin with id ".concat(r," already exists"));if(Object.values(u.pinTimes).includes(i))throw new Error("Pin time must be unique within the signal");var f=n.timelineData.numberOfFrames;if(i<0||i>f)throw new Error("Pin time must be between 0 and ".concat(f));if(c==="continuous"){var g=u.range,y=g[0],b=g[1];if(o<y||o>b)throw new Error("Pin value must be between ".concat(y," and ").concat(b));if(!s)throw new Error("Curve is required for continuous signals")}var _=u.pinIds;if(_.length===0)u.pinIds.push(r);else{var M=_.findIndex(function(F){return u.pinTimes[F]>=i});M===-1&&(M=_.length),u.pinIds.splice(M,0,r)}u.pinTimes[r]=i,u.pinValues[r]=o,c==="continuous"&&(u.curves[r]=s),n.orgData.pinIds.push(r),n.orgData.signalIdByPinId[r]=t},deletePin:Lj,updatePinTime:function(n,e){var t=e.pinId,r=e.pinTime,i=n.timelineData.numberOfFrames;if(r<0||r>i)throw new Error("Pin time must be between 0 and ".concat(i));var o=!1,s=function(c){var p=n.signalData[c];if(p.pinIds.includes(t)){p.pinTimes[t]=r;var f=p.pinIds,g=f.indexOf(t);f.splice(g,1);var y=f.findIndex(function(b){return p.pinTimes[b]>=r});return y===-1&&(y=f.length),f.splice(y,0,t),o=!0,"break"}};for(var u in n.signalData)if(s(u)==="break")break;if(!o)throw new Error("Pin with id ".concat(t," not found"))},updatePinValue:function(n,e){var t=e.pinId,r=e.pinValue,i=!1;for(var o in n.signalData){var s=n.signalData[o];if(s.pinIds.includes(t)){if(s.type==="continuous"&&typeof r!="number")throw new Error("Pin value must be a number for continuous signals");if(s.type==="discrete"&&typeof r!="string")throw new Error("Pin value must be a string for discrete signals");if(s.type==="continuous"){var u=s.range,c=u[0],p=u[1];if(r<c||r>p)throw new Error("Pin value must be between ".concat(c," and ").concat(p))}s.pinValues[t]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(t," not found"))},updatePins:function(n,e){for(var t=function(o){var s=o.pinId,u=o.pinTime,c=o.pinValue,p=o.functionString,f=n.orgData.signalIdByPinId[s];if(!f)throw new Error("Pin with id ".concat(s," not found"));var g=n.signalData[f];if(g.type==="continuous"&&typeof c!="number")throw new Error("Pin value must be a number for continuous signals");if(g.type==="discrete"&&typeof c!="string")throw new Error("Pin value must be a string for discrete signals");if(g.type==="continuous"){var y=g.range,b=y[0],_=y[1];if(c<b||c>_)throw new Error("Pin value must be between ".concat(b," and ").concat(_));if(!p)throw new Error("Curve is required for continuous signals")}g.pinTimes[s]=u,g.pinValues[s]=c;var M=g.pinIds,F=M.indexOf(s);M.splice(F,1);var O=M.findIndex(function(j){return g.pinTimes[j]>=u});O===-1&&(O=M.length),M.splice(O,0,s),g.type==="continuous"&&(g.curves[s]=p)},r=0,i=e.pins;r<i.length;r++)t(i[r])},updateCurve:function(n,e){var t=e.pinId,r=e.functionString,i=!1;for(var o in n.signalData){var s=n.signalData[o];if(s.type!=="discrete"&&s.pinIds.includes(t)){s.curves[t]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(t," not found"))},createSignal:function(n,e){var t,r=e.signalId,i=e.signalType,o=e.signalName,s=e.range;if(n.signalData[r])throw new Error("Signal with id ".concat(r," already exists"));if(i!=="continuous"&&i!=="discrete")throw new Error("Signal type must be continuous or discrete");if(i==="continuous"){if(!s)throw new Error("Range is required for continuous signals");if(s[0]>=s[1])throw new Error("Min value must be less than max value");t={id:r,type:i,range:s,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}i==="discrete"&&(t={id:r,type:i,pinIds:[],pinTimes:{},pinValues:{}}),n.signalData[r]=t,n.orgData.signalIds.push(r),n.orgData.signalNames[r]=o,n.orgData.signalTypes[r]=i,n.orgData.activeSignalIds.push(r)},deleteSignal:function(n,e){var t=e.signalId;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));delete n.signalData[t],n.orgData.signalIds=n.orgData.signalIds.filter(function(r){return r!==t}),delete n.orgData.signalNames[t],n.orgData.activeSignalIds=n.orgData.activeSignalIds.filter(function(r){return r!==t})},updateSignalName:function(n,e){var t=e.signalId,r=e.signalName;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));n.orgData.signalNames[t]=r},updateSignalRange:function(n,e){var t=e.signalId,r=e.range;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));if(n.signalData[t].type!=="continuous")throw new Error("Range can only be updated for continuous signals");if(r[0]>=r[1])throw new Error("Min value must be less than max value");n.signalData[t].range=r},updateSignalIndex:function(n,e){var t=e.signalId,r=e.index,i=n.orgData.signalIds,o=i.indexOf(t);if(o===-1)throw new Error("Signal with id ".concat(t," not found"));i.splice(o,1),i.splice(r,0,t)},updateSignalActiveStatus:function(n,e){var t=e.signalId,r=e.active;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));var i=n.orgData.activeSignalIds,o=i.indexOf(t);r&&o===-1&&i.push(t),r||o===-1||i.splice(o,1)},updateFramesPerSecond:function(n,e){var t=e.framesPerSecond;if(t<=0)throw new Error("Frames per second must be greater than 0");n.timelineData.framesPerSecond=t},updatePlayheadPosition:function(n,e){var t=e.playheadPosition;if(t<0||t>n.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(n.timelineData.numberOfFrames));n.timelineData.playheadPosition=t},updateNumberOfFrames:function(n,e){var t=e.numberOfFrames;if(t<=0)throw new Error("Number of frames must be greater than 0");for(var r in n.timelineData.numberOfFrames=t,n.signalData)for(var i=n.signalData[r],o=0,s=i.pinIds;o<s.length;o++){var u=s[o];i.pinTimes[u]>t&&Lj(n,{type:"deletePin",pinId:u})}},updateProjectName:function(n,e){var t=e.projectName;n.metaData.name=t},updateFocusRange:function(n,e){var t=e.focusRange,r=t[0],i=t[1];if(r<0||i>n.timelineData.numberOfFrames||r>=i)throw new Error("Invalid focus range");n.timelineData.focusRange=t},updateCurveTemplate:function(n,e){var t=e.curveId,r=e.functionString;if(!n.templateData[t])throw new Error("Curve template with id ".concat(t," not found"));n.templateData[t]=r},addCurveTemplate:function(n,e){var t=e.curveId,r=e.functionString;if(n.templateData[t])throw new Error("Curve template with id ".concat(t," already exists"));n.templateData[t]=r},deleteCurveTemplate:function(n,e){var t=e.curveId;if(!n.templateData[t])throw new Error("Curve template with id ".concat(t," not found"));delete n.templateData[t]}};function $j(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var Mie={type:"saveAsNamedState",namedState:"commit"},Fie={type:"goToNamedState",namedState:"commit"};function Xy(n,e,t,r,i){return{type:"addPin",signalId:n,pinId:e,pinTime:t,pinValue:r,functionString:i}}function zj(n,e){var t=n(),r=Object.keys(t.signalData).find(function(c){var p;return(p=t.signalData[c])===null||p===void 0?void 0:p.pinIds.includes(e)});if(!r)throw new Error("Pin not found");var i=t.signalData[r].type,o=t.signalData[r].pinTimes[e],s=t.signalData[r].pinValues[e],u=i==="continuous"?t.signalData[r].curves[e]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:e}],backward:[Xy(r,e,o,s,u)]}}var Uj=xie,Pie=Die,gk=function(e,t){return Aie(e,function(r){for(var i=0;i<t.length;i++){var o=t[i];(0,kie[o.type])(r,o)}})},Tie=function(){function n(e,t,r,i){if(t){if(!r&&!i)throw new Error("Project or worm must be provided to host project controller");var o=void 0;if(r&&(o=Uj.fromProject({dispatch:e,projectTransformer:gk},r)).worm.saveAsNamedState("commit"),i&&(o=Uj.fromSerializedWorm({dispatch:e,projectTransformer:gk},i)),!o)throw new Error("Project node not created");this.projectNode=o,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new Pie({dispatch:e,projectTransformer:gk});var s=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=s}}return n.Host=function(e,t){return new n(e,!0,t)},n.HostFromProject=function(e,t){return new n(e,!0,t)},n.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},n.HostFromSerializedWorm=function(e,t){return new n(e,!0,void 0,t)},n.Client=function(e){return new n(e,!1,void 0)},n.prototype.receive=function(e){this.projectNode.receive(e)},Object.defineProperty(n.prototype,"projectTools",{get:function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var e=this.projectNode.pushUpdate.bind(this.projectNode),t=this.projectNode.getProject.bind(this.projectNode),r=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(i,o,s,u){function c(){o(function(){return Fie})}function p(){o(function(){return Mie})}return{returnToLastCommit:function(){c()},pushUpdate:i,addPinContinuous:function(f,g,y,b,_,M){M&&c(),o(function(){var F=u().signalData[f],O=F.pinTimes,j=F.pinIds.findIndex(function(G){return O[G]===y}),z=[];j!==-1&&z.push({type:"deletePin",pinId:F.pinIds[j]}),z.push(Xy(f,g,y,b,_));var W=[];if(W.push({type:"deletePin",pinId:g}),j!==-1){var J=F.pinIds[j];W.push(Xy(f,J,F.pinTimes[J],F.pinValues[J],F.curves[J]))}return{type:"addNextState",forward:z,backward:W}}),M&&(p(),i())},addPinDiscrete:function(f,g,y,b,_){_&&c(),o(function(){var M=u().signalData[f],F=M.pinTimes,O=M.pinIds.findIndex(function(J){return F[J]===y}),j=[];O!==-1&&j.push({type:"deletePin",pinId:M.pinIds[O]}),j.push(Xy(f,g,y,b));var z=[];if(z.push({type:"deletePin",pinId:g}),O!==-1){var W=M.pinIds[O];z.push(Xy(f,W,M.pinTimes[W],M.pinValues[W]))}return{type:"addNextState",forward:j,backward:z}}),_&&(p(),i())},deletePin:function(f){c(),o(function(){return zj(u,f)}),p(),i()},deletePins:function(f){c(),f.forEach(function(g){o(function(){return zj(u,g)})}),p(),i()},updatePins:function(f,g){g&&c();var y=u(),b={type:"updatePins",pins:[]},_={type:"updatePins",pins:[]};f.forEach(function(M){var F=M.pinId,O=y.orgData.signalIdByPinId[F],j=M.pinTime,z=M.pinValue,W=M.pinType==="continuous"?M.functionString:void 0,J=y.signalData[O].pinTimes[F],G=y.signalData[O].pinValues[F],Q=M.pinType==="continuous"?y.signalData[O].curves[F]:void 0,te={pinId:F,pinTime:j??J,pinValue:z??G,functionString:W??Q},ae={pinId:F,pinTime:J,pinValue:G,functionString:Q};b.pins.push(te),_.pins.push(ae)}),o(function(){return{type:"addNextState",forward:[b],backward:[_]}}),g&&p(),i()},updateCurve:function(f,g){c(),o(function(){var y=u(),b=Object.keys(y.signalData).find(function(_){var M;return(M=y.signalData[_])===null||M===void 0?void 0:M.pinIds.includes(f)});if(!b)throw new Error("Pin not found");if(y.signalData[b].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:f,functionString:g}],backward:[{type:"updateCurve",pinId:f,functionString:y.signalData[b].curves[f]}]}}),p(),i()},createSignal:function(f,g,y,b){c(),o(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:f,signalType:g,signalName:y,range:b}],backward:[{type:"deleteSignal",signalId:f}]}}),p(),i()},duplicateSignal:function(f){c();var g=$j();o(function(){var y=u(),b=y.signalData[f];if(!b)throw new Error("Signal not found");var _=y.orgData.signalNames[f]+"_copy",M=b.type==="continuous"?b.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:g,signalType:b.type,signalName:_,range:M}],backward:[{type:"deleteSignal",signalId:g}]}}),o(function(){var y=u(),b=y.signalData[f].pinIds,_=y.signalData[f].type,M=b.map(function(F){var O,j=y.signalData[f].pinTimes[F],z=y.signalData[f].pinValues[F];return _==="continuous"&&(O=y.signalData[f].curves[F]),{pinTime:j,pinValue:z,functionString:O,pinId:$j()}});return{type:"addNextState",forward:M.map(function(F){return Xy(g,F.pinId,F.pinTime,F.pinValue,F.functionString)}),backward:M.map(function(F){return{type:"deletePin",pinId:F.pinId}})}}),p(),i()},deleteSignal:function(f){c(),o(function(){var g=u(),y=g.signalData[f];if(!y)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:f}],backward:[{type:"createSignal",signalId:f,signalType:y.type,signalName:g.orgData.signalNames[f],range:y.type==="continuous"?y.range:void 0}]}}),p(),i()},updateSignalName:function(f,g){c(),o(function(){var y=u();if(!y.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:f,signalName:g}],backward:[{type:"updateSignalName",signalId:f,signalName:y.orgData.signalNames[f]}]}}),p(),i()},updateSignalRange:function(f,g){c(),o(function(){var y=u().signalData[f];if(!y)throw new Error("Signal not found");if(y.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:f,range:g}],backward:[{type:"updateSignalRange",signalId:f,range:y.range}]}}),p(),i()},updateSignalIndex:function(f,g,y){y&&c(),o(function(){var b=u();if(!b.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:f,index:g}],backward:[{type:"updateSignalIndex",signalId:f,index:b.orgData.activeSignalIds.indexOf(f)}]}}),y&&p(),i()},updateSignalActiveStatus:function(f,g){c(),o(function(){var y=u();if(!y.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:f,active:g}],backward:[{type:"updateSignalActiveStatus",signalId:f,active:y.orgData.activeSignalIds.includes(f)}]}}),p(),i()},updateFramesPerSecond:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:f}],backward:[{type:"updateFramesPerSecond",framesPerSecond:g.timelineData.framesPerSecond}]}}),p(),i()},updatePlayheadPosition:function(f,g){g&&c(),o(function(){var y=u();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:f}],backward:[{type:"updatePlayheadPosition",playheadPosition:y.timelineData.playheadPosition}]}}),g&&p(),i()},updateFocusRange:function(f){var g=f[0],y=f[1];c(),o(function(){var b=u();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[g,y]}],backward:[{type:"updateFocusRange",focusRange:b.timelineData.focusRange}]}}),p(),i()},updateNumberOfFrames:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:f}],backward:[{type:"updateNumberOfFrames",numberOfFrames:g.timelineData.numberOfFrames}]}}),p(),i()},updateProjectName:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:f}],backward:[{type:"updateProjectName",projectName:g.metaData.name}]}}),p(),i()},undo:function(){c(),o(function(){return{type:"previous"}}),p(),i()},redo:function(){c(),o(function(){return{type:"next"}}),p(),i()},addCurveTemplate:function(f,g){o(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:f,functionString:g}],backward:[{type:"deleteCurveTemplate",curveId:f}]}}),i()},deleteCurveTemplate:function(f){o(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:f}],backward:[{type:"addCurveTemplate",curveId:f,functionString:u().templateData[f]}]}}),i()},updateCurveTemplate:function(f,g){o(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:f,functionString:g}],backward:[{type:"updateCurveTemplate",curveId:f,functionString:u().templateData[f]}]}}),i()}}}(e,r,0,t)},enumerable:!1,configurable:!0}),n.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},n.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},n.prototype.subscribeToProjectUpdates=function(e){return this.projectNode.subscribeToProjectUpdates(e)},n.prototype.interpolateSignalValueAtTime=function(e,t){if(!this.projectNode.initialized)throw new Error("Project not initialized");var r=this.projectNode.getProject();return AW(r,e,t)},n}(),Iie=Object.freeze({__proto__:null,dispatchProjectEvent:function(e,t,r){return r===void 0&&(r="default"),function(i){var o={type:"projectNodeEvent",event:i,channel:r};e.postMessage(o,t)}},subscribeToProjectEvents:function(e,t){return t===void 0&&(t="default"),function(r){function i(o){if(o.origin===e&&o.data.type==="projectNodeEvent"&&o.data.channel===t){var s=o.data.event;r(s)}}return window.addEventListener("message",i),function(){return window.removeEventListener("message",i)}}}}),Oie=Object.freeze({__proto__:null,dispatchProjectEvent:function(n){return n===void 0&&(n="default"),function(e){var t=new CustomEvent("projectNodeEvent",{detail:{event:e,channel:n}});window.dispatchEvent(t)}},subscribeToProjectEvents:function(n){return n===void 0&&(n="default"),function(e){function t(r){if(r.type==="projectNodeEvent"&&r.detail.channel===n){var i=r.detail.event;e(i)}}return window.addEventListener("projectNodeEvent",t),function(){return window.removeEventListener("projectNodeEvent",t)}}}}),Nie=Object.freeze({__proto__:null,CustomEventAPI:Oie,PinsAndCurvesProjectController:Tie,PostMessageAPI:Iie});function Bie(n,e,t){return n+(e-n)*t}function Wj(n){return n*n*n}function Hj(n){return 1-Math.pow(1-n,3)}function Vj(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function qj(n){var e=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*e)+1}var FD={},Kj={},Gj=1e-6,Rie=function(n,e,t,r){var i=n.signalData[e],o=Object.entries(i.pinTimes).sort(function(u,c){return u[1]-c[1]}).find(function(u){return u[0],u[1]>=t});if(o===void 0)return"END VALUE";var s=o[0];return o[1],i.pinValues[s]},AW=function(n,e,t,r){if(r===void 0&&(r=0),++r>1e3)throw new Error("Exceeded maximum iteration count");var i=n.timelineData.numberOfFrames;if(t<0||t>i)throw new Error("Time out of range");var o=n.signalData[e].type;if(o==="discrete")return[Rie(n,e,t),[]];if(o==="continuous")return function(s,u,c,p){var f=s.signalData[u],g=f.range,y=g[0],b=g[1],_=Object.entries(f.pinTimes).sort(function(Ne,Ee){return Ne[1]-Ee[1]}),M=_.find(function(Ne){return Ne[0],Ne[1]>=c});if(M===void 0)return[y,[]];var F,O=M,j=O[0],z=O[1],W=f.pinValues[j],J=f.curves[j],G=y,Q=0,te=_.findIndex(function(Ne){var Ee=Ne[0];return Ne[1],Ee===j});if(te>0){var ae=_[te-1],se=ae[0],ge=ae[1];G=f.pinValues[se],Q=ge}var xe=Kj[u+j];if(xe===void 0||xe.functionString!==J){var Pe=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;


            `.concat(J);F=new Function("context","templates",Pe),Kj[u+j]={functionString:J,cachedFunction:F}}else F=xe.cachedFunction;var Ce=(c-Q)/(z!==Q?z-Q:1),Me=y,Oe=[];try{var et=function(Ne){var Ee=Ne.nextPinTime,Ze=Ne.project,xt=Ne.range,wt=Ne.pinId,Dt=Ne.frame,rn=Ne.numberOfFrames,an=Ne.framesPerSecond,un=Ne.nextPinValue,ur=Ne.previousPinTime,Fn=Ne.previousPinValue,wi=Ne.relativeTime,js=Ne.interpolateSignalValueAtTime,$a=xt[0],fe=xt[1];return{nextPinTime:Ee,nextPinValue:un,project:Ze,previousPinTime:ur,previousPinValue:Fn,relativeTime:wi,frame:Dt,pinId:wt,numberOfFrames:rn,framesPerSecond:an,maxValue:fe,minValue:$a,linearInterpolation:Bie,easeInCubic:Wj,easeOutCubic:Hj,easeInOutCubic:Vj,easeOutElastic:qj,easyLinear:function(){return wi*(un-Fn)+Fn},easyStep:function(){return un},easyEaseIn:function(){return Fn+Wj(wi)*(un-Fn)},easyEaseOut:function(){return Fn+Hj(wi)*(un-Fn)},easyEase:function(){return Fn+Vj(wi)*(un-Fn)},easyEaseOutElastic:function(){return Fn+qj(wi)*(un-Fn)},interpolateSignalValueAtTime:js}}({nextPinTime:z,nextPinValue:W,previousPinTime:Q,project:s,previousPinValue:G,relativeTime:Ce,pinId:j,frame:c,range:[y,b],numberOfFrames:s.timelineData.numberOfFrames,framesPerSecond:s.timelineData.framesPerSecond,interpolateSignalValueAtTime:function(Ne,Ee){var Ze=s.orgData.signalIds.find(function(rn){return s.orgData.signalNames[rn]===Ne});if(Ze===void 0)throw new Error("Signal not found");var xt=AW(s,Ze,Ee,p),wt=xt[0],Dt=xt[1];if(typeof wt=="string")throw new Error("Interpolation function returned string");return Oe.push.apply(Oe,Dt),wt}}),$e=function(Ne){var Ee={};return Object.entries(Ne.templateData).forEach(function(Ze){var xt=Ze[0],wt=Ze[1];if(FD[xt]!==void 0){if(FD[xt].functionString===wt){var Dt=FD[xt].cachedFunction;return void(Ee[xt]=Dt)}}else Dt=new Function("return ".concat(wt,";"))(),Ee[xt]=Dt,FD[xt]={functionString:wt,cachedFunction:Dt}}),Ee}(s);Me=F(et,$e)}catch(Ne){Oe.push({signalId:u,frame:c,error:Ne.message})}if(isNaN(Me)&&(Me=y,Oe.push({signalId:u,frame:c,error:"Interpolated value is NaN"})),Me<y&&(Me=y,Math.abs(Me-y)>Gj&&Oe.push({signalId:u,frame:c,error:"Interpolated value below minimum"})),Me>b){var Fe=Me;Me=b,Math.abs(Fe-b)>Gj&&Oe.push({signalId:u,frame:c,error:"Interpolated value above maximum: "+Fe})}return[Me,Oe]}(n,e,t,r);throw new Error("Invalid signal type")};function qv(n,e){return[n[0]+e[0],n[1]+e[1]]}function nv(n,e){return[n[0]-e[0],n[1]-e[1]]}function mk(n,e){return[n[0]*e[0],n[1]*e[1]]}function tx(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function rv(n,e){return[n[0]*e,n[1]*e]}function Iy(n,e){var t=[n[0][0],n[0][1],n[2][0],n[2][1]],r=t[0],i=t[1],o=t[2],s=t[3],u=[e[0][0],e[0][1],e[2][0],e[2][1]];return!(r>u[2]||o<u[0]||i>u[3]||s<u[1])}var qf=function(){function n(e,t,r){e===void 0&&(e=[0,0]),t===void 0&&(t=0),r===void 0&&(r=0),this._o=e,this._w=t,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(e){this._o=e},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(e){var t={x:e[0],y:e[1]},r=t.x,i=t.y,o={oX:this.o[0],oY:this.o[1]},s=o.oX,u=o.oY;return!(r<s||r>s+this.w||i<u||i>u+this.h)},n.prototype.clone=function(){return new n(Im([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,qv(this.o,[this.w,0]),qv(this.o,[this.w,this.h]),qv(this.o,[0,this.h])]},n.prototype.getCenter=function(){return qv(this.o,[this.w/2,this.h/2])},n}(),ld=function(n){function e(){var t=n.call(this)||this;return t.layer=0,t.children=[],t._isPrimaryCamera=!1,t._needsUpdate=!1,t._needsUpdate_root=!1,t.updateWhenCameraChanges=!1,t.state=void 0,t.context={},t.windowDidMountPrimitiveIsRunning=!1,t.childIndex=0,t.isCanvasRoot=!1,t.props={},t.globalPositioning=!1,t}return dh(e,n),Object.defineProperty(e.prototype,"_cameraSnapshot",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_canvas",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.canvas},enumerable:!1,configurable:!0}),e.prototype.setAsPrimaryCamera=function(){var t;(t=this._root)===null||t===void 0||t.installCamera(this)},e.prototype.setState=function(t){var r,i;if(this.state===t)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(o){o.updateWhenCameraChanges&&(o._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,t))},e.prototype.setContext=function(t,r){var i,o;this.windowDidMountPrimitiveIsRunning?this.context[t]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[t]=r,(o=this._root)===null||o===void 0||o.scheduleContextUpdate(this,t,r))},e.prototype.windowDidMountPrimitive=function(t){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t),this.windowDidMountPrimitiveIsRunning=!1},e.prototype.windowDidMount=function(t){},e.prototype.windowDidUpdate=function(t){},e.prototype.cameraDidUpdate=function(){},e.prototype.windowWillUnmount=function(){},e.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t=this.getBox();return this._boxSnapshot=t,t},e.prototype.getBox=function(){return new qf([0,0],0,0)},Object.defineProperty(e.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),e.prototype.cameraPassUpdateSelf=function(){var t,r,i=this;this._isPrimaryCamera?(t=this._root)===null||t===void 0||t.windows.forEach(function(o){var s;(s=i._root)===null||s===void 0||s.taintLayer(o.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(Ou({},this.props)))},e.prototype.cameraPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(u){return u(t)}),i=this.children.filter(function(u){return!r.includes(u)}),o=r.filter(function(u){return!t.children.includes(u)});this.children=r,i.forEach(function(u){return u.windowWillUnmount()}),o.forEach(function(u){return u.windowDidMountPrimitive(u.props)});var s=this.children.find(function(u){return u._needsUpdate});this.children.forEach(function(u){u._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},e.prototype.regularPassUpdateSelf=function(){var t;this._boxSnapshot=void 0,(t=this._root)===null||t===void 0||t.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(Ou({},this.props))},e.prototype.regularPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(t)}),i=this.children.filter(function(s){return!r.includes(s)}),o=r.filter(function(s){return!t.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),o.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},e.prototype.getChildren=function(t){return[]},e.prototype.incChildIndex=function(){this.childIndex++},e.Node=function(t){var r=this,i=this.name;return function(o){if(o.isCanvasRoot){var s=void 0;return(s=new r)._root=o,s.setKey("root"),s.props=t||{},s.context=Ou({},s.context),s}var u=o.childIndex;t||(t={});var c=t.key?t.key:"".concat(i,"[").concat(u,"]");return s=void 0,o.children.findIndex(function(p){return p.key===c})!==-1?s=o.children.find(function(p){return p.key===c}):((s=new r)._parent=o,s._root=o._root,s.setKey(c)),s.props=Ou({},t),s.context=Ou(Ou({},s.context),o.context),o.incChildIndex(),s}},Object.defineProperty(e.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),e.prototype.getChildByKey=function(t){return this.children.find(function(r){return r.key===t})},e.prototype.getBoundingBox=function(){var t=this.globalO,r=t[0],i=t[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},e.prototype.pointInside=function(t){return n.prototype.pointInside.call(this,nv(t,this.parentO))},Object.defineProperty(e.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var t=this._parent.globalO,r=t[0],i=t[1],o=this.o;return[r+o[0],i+o[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),e.prototype.getLayer=function(){return this.layer},e.prototype.setLayer=function(t){this.layer=t},e.prototype.setKey=function(t){this.key=t},Object.defineProperty(e.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),e.prototype.absoluteToCanvasMeasure=function(t){return mk(t,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},e.prototype.canvasToAbsoluteMeasure=function(t){return mk(t,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(e.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),e.prototype.prepareHandlerProps=function(){var t=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),o=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,u=this.absoluteUnit,c=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:o,camera:t,canvasUnit:s,canvasO:c,absoluteUnit:u}},e.prototype.preparePostBoxHandlerProps=function(){var t=this,r=this._cameraSnapshot,i=this._canvas,o=function(u){var c=t.globalO,p=u[0],f=u[1],g=[c[0]+p,c[1]+f],y=g[0],b=g[1],_=r.o,M=[y-_[0],b-_[1]],F=M[1];return[M[0]*(i.width/r.w),F*(i.height/r.h)]},s=o([0,0]);return Ou(Ou({},this.prepareHandlerProps()),{localToCanvas:o,canvasToLocal:function(u){var c=t.globalO;return nv(qv(mk(u,[r.w/i.width,r.h/i.height]),r.o),c)},absoluteO:s})},e.prototype.prepareMouseHandlerProps=function(t,r){var i=this.preparePostBoxHandlerProps(),o=this.canvasUnit,s=o[0],u=o[1],c=this.canvasO,p=c[0],f=c[1],g=[p+t[0]*s,f+t[1]*u],y=nv(g,this.globalO),b=this.pointInside(g);return Ou(Ou({},i),{relativePos:y,canvasPos:t,absolutePos:g,pointInside:b,terminateEvent:r})},e.prototype.prepareWheelHandlerProps=function(t){var r=this.preparePostBoxHandlerProps();return Ou(Ou({},r),{terminateEvent:t})},e.prototype.renderPrimitive=function(t){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(Ou(Ou({},r),{ctx:t}))}},e.prototype.render=function(t){},e.prototype.onMouseDownPrimitive=function(t,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseDown=function(t,r){},e.prototype.onMouseMovePrimitive=function(t,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseMove=function(t,r){},e.prototype.onMouseUpPrimitive=function(t,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseUp=function(t,r){},e.prototype.onClickPrimitive=function(t,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onClick=function(t,r){},e.prototype.onWheelPrimitive=function(t,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t),r)},e.prototype.onWheel=function(t,r){},e.prototype.strokeOutline=function(t,r){t.ctx.strokeStyle=r;var i=t.absoluteO,o=t.absoluteUnit,s=i[0],u=i[1],c=o[0],p=o[1];t.ctx.strokeRect(s,u,this.w*c,this.h*p)},e}(qf),Mw={},Yj,PD,TD,ID=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},OD={exports:{}},jie=(Yj||(Yj=1,PD=OD,TD=OD.exports,(function(){var n,e="Expected a function",t="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,o=128,s=1/0,u=9007199254740991,c=NaN,p=4294967295,f=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",_="[object Date]",M="[object Error]",F="[object Function]",O="[object GeneratorFunction]",j="[object Map]",z="[object Number]",W="[object Object]",J="[object Promise]",G="[object RegExp]",Q="[object Set]",te="[object String]",ae="[object Symbol]",se="[object WeakMap]",ge="[object ArrayBuffer]",xe="[object DataView]",Pe="[object Float32Array]",Ce="[object Float64Array]",Me="[object Int8Array]",Oe="[object Int16Array]",et="[object Int32Array]",$e="[object Uint8Array]",Fe="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Ee="[object Uint32Array]",Ze=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dt=/&(?:amp|lt|gt|quot|#39);/g,rn=/[&<>"']/g,an=RegExp(Dt.source),un=RegExp(rn.source),ur=/<%-([\s\S]+?)%>/g,Fn=/<%([\s\S]+?)%>/g,wi=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$a=/^\w*$/,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(ue.source),Se=/^\s+/,Re=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gt=/[()=,{}\[\]\/\s]/,bt=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ui=/^\[object .+?Constructor\]$/,io=/^0o[0-7]+$/i,bo=/^(?:0|[1-9]\d*)$/,ta=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,Ru=/['\n\r\u2028\u2029\\]/g,fa="\\ud800-\\udfff",ju="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eu="\\u2700-\\u27bf",hs="a-z\\xdf-\\xf6\\xf8-\\xff",uu="A-Z\\xc0-\\xd6\\xd8-\\xde",zl="\\ufe0e\\ufe0f",Ss="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dl="["+fa+"]",Cl="["+Ss+"]",Qa="["+ju+"]",Ul="\\d+",rl="["+eu+"]",Gu="["+hs+"]",Ls="[^"+fa+Ss+Ul+eu+hs+uu+"]",Sl="\\ud83c[\\udffb-\\udfff]",_s="[^"+fa+"]",xa="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="["+uu+"]",il="\\u200d",ol="(?:"+Gu+"|"+Ls+")",Ua="(?:"+Jo+"|"+Ls+")",lu="(?:['’](?:d|ll|m|re|s|t|ve))?",al="(?:['’](?:D|LL|M|RE|S|T|VE))?",sl="(?:"+Qa+"|"+Sl+")?",tu="["+zl+"]?",cu=tu+sl+"(?:"+il+"(?:"+[_s,xa,za].join("|")+")"+tu+sl+")*",_l="(?:"+[rl,xa,za].join("|")+")"+cu,Pi="(?:"+[_s+Qa+"?",Qa,xa,za,Dl].join("|")+")",Lu=RegExp("['’]","g"),Br=RegExp(Qa,"g"),ha=RegExp(Sl+"(?="+Sl+")|"+Pi+cu,"g"),gn=RegExp([Jo+"?"+Gu+"+"+lu+"(?="+[Cl,Jo,"$"].join("|")+")",Ua+"+"+al+"(?="+[Cl,Jo+ol,"$"].join("|")+")",Jo+"?"+ol+"+"+lu,Jo+"+"+al,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ul,_l].join("|"),"g"),na=RegExp("["+il+fa+ju+zl+"]"),Sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,El=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],No=-1,Qt={};Qt[Pe]=Qt[Ce]=Qt[Me]=Qt[Oe]=Qt[et]=Qt[$e]=Qt[Fe]=Qt[Ne]=Qt[Ee]=!0,Qt[g]=Qt[y]=Qt[ge]=Qt[b]=Qt[xe]=Qt[_]=Qt[M]=Qt[F]=Qt[j]=Qt[z]=Qt[W]=Qt[G]=Qt[Q]=Qt[te]=Qt[se]=!1;var jt={};jt[g]=jt[y]=jt[ge]=jt[xe]=jt[b]=jt[_]=jt[Pe]=jt[Ce]=jt[Me]=jt[Oe]=jt[et]=jt[j]=jt[z]=jt[W]=jt[G]=jt[Q]=jt[te]=jt[ae]=jt[$e]=jt[Fe]=jt[Ne]=jt[Ee]=!0,jt[M]=jt[F]=jt[se]=!1;var fu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ph=parseFloat,Es=parseInt,Bo=typeof ID=="object"&&ID&&ID.Object===Object&&ID,Nf=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Bo||Nf||Function("return this")(),rr=TD&&!TD.nodeType&&TD,Mo=rr&&PD&&!PD.nodeType&&PD,df=Mo&&Mo.exports===rr,Za=df&&Bo.process,Rr=function(){try{return Mo&&Mo.require&&Mo.require("util").types||Za&&Za.binding&&Za.binding("util")}catch{}}(),hu=Rr&&Rr.isArrayBuffer,Ei=Rr&&Rr.isDate,Hn=Rr&&Rr.isMap,Xo=Rr&&Rr.isRegExp,af=Rr&&Rr.isSet,cc=Rr&&Rr.isTypedArray;function Rn(ie,de,ye){switch(ye.length){case 0:return ie.call(de);case 1:return ie.call(de,ye[0]);case 2:return ie.call(de,ye[0],ye[1]);case 3:return ie.call(de,ye[0],ye[1],ye[2])}return ie.apply(de,ye)}function Qf(ie,de,ye,ze){for(var ct=-1,Ue=ie==null?0:ie.length;++ct<Ue;){var pt=ie[ct];de(ze,pt,ye(pt),ie)}return ze}function jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze&&de(ie[ye],ye,ie)!==!1;);return ie}function Nc(ie,de){for(var ye=ie==null?0:ie.length;ye--&&de(ie[ye],ye,ie)!==!1;);return ie}function As(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(!de(ie[ye],ye,ie))return!1;return!0}function mi(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];de(pt,ye,ie)&&(Ue[ct++]=pt)}return Ue}function Jn(ie,de){return!(ie==null||!ie.length)&&bi(ie,de,0)>-1}function ri(ie,de,ye){for(var ze=-1,ct=ie==null?0:ie.length;++ze<ct;)if(ye(de,ie[ze]))return!0;return!1}function nn(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=Array(ze);++ye<ze;)ct[ye]=de(ie[ye],ye,ie);return ct}function Xn(ie,de){for(var ye=-1,ze=de.length,ct=ie.length;++ye<ze;)ie[ct+ye]=de[ye];return ie}function es(ie,de,ye,ze){var ct=-1,Ue=ie==null?0:ie.length;for(ze&&Ue&&(ye=ie[++ct]);++ct<Ue;)ye=de(ye,ie[ct],ct,ie);return ye}function ch(ie,de,ye,ze){var ct=ie==null?0:ie.length;for(ze&&ct&&(ye=ie[--ct]);ct--;)ye=de(ye,ie[ct],ct,ie);return ye}function Jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(de(ie[ye],ye,ie))return!0;return!1}var $s=pa("length");function Wl(ie,de,ye){var ze;return ye(ie,function(ct,Ue,pt){if(de(ct,Ue,pt))return ze=Ue,!1}),ze}function Wn(ie,de,ye,ze){for(var ct=ie.length,Ue=ye+(ze?1:-1);ze?Ue--:++Ue<ct;)if(de(ie[Ue],Ue,ie))return Ue;return-1}function bi(ie,de,ye){return de==de?function(ze,ct,Ue){for(var pt=Ue-1,Et=ze.length;++pt<Et;)if(ze[pt]===ct)return pt;return-1}(ie,de,ye):Wn(ie,ul,ye)}function Bc(ie,de,ye,ze){for(var ct=ye-1,Ue=ie.length;++ct<Ue;)if(ze(ie[ct],de))return ct;return-1}function ul(ie){return ie!=ie}function zs(ie,de){var ye=ie==null?0:ie.length;return ye?Us(ie,de)/ye:c}function pa(ie){return function(de){return de==null?n:de[ie]}}function Al(ie){return function(de){return ie==null?n:ie[de]}}function _c(ie,de,ye,ze,ct){return ct(ie,function(Ue,pt,Et){ye=ze?(ze=!1,Ue):de(ye,Ue,pt,Et)}),ye}function Us(ie,de){for(var ye,ze=-1,ct=ie.length;++ze<ct;){var Ue=de(ie[ze]);Ue!==n&&(ye=ye===n?Ue:ye+Ue)}return ye}function tc(ie,de){for(var ye=-1,ze=Array(ie);++ye<ie;)ze[ye]=de(ye);return ze}function Hl(ie){return ie&&ie.slice(0,Qo(ie)+1).replace(Se,"")}function vr(ie){return function(de){return ie(de)}}function ll(ie,de){return nn(de,function(ye){return ie[ye]})}function Ro(ie,de){return ie.has(de)}function Vl(ie,de){for(var ye=-1,ze=ie.length;++ye<ze&&bi(de,ie[ye],0)>-1;);return ye}function ga(ie,de){for(var ye=ie.length;ye--&&bi(de,ie[ye],0)>-1;);return ye}var fc=Al({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ql=Al({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ra(ie){return"\\"+fu[ie]}function Wa(ie){return na.test(ie)}function ji(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze,ct){ye[++de]=[ct,ze]}),ye}function hc(ie,de){return function(ye){return ie(de(ye))}}function xo(ie,de){for(var ye=-1,ze=ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];pt!==de&&pt!==r||(ie[ye]=r,Ue[ct++]=ye)}return Ue}function ts(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze){ye[++de]=ze}),ye}function Qi(ie){return Wa(ie)?function(de){for(var ye=ha.lastIndex=0;ha.test(de);)++ye;return ye}(ie):$s(ie)}function ii(ie){return Wa(ie)?function(de){return de.match(ha)||[]}(ie):function(de){return de.split("")}(ie)}function Qo(ie){for(var de=ie.length;de--&&Re.test(ie.charAt(de)););return de}var vf=Al({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ia=function ie(de){var ye,ze=(de=de==null?Bt:ia.defaults(Bt.Object(),de,ia.pick(Bt,El))).Array,ct=de.Date,Ue=de.Error,pt=de.Function,Et=de.Math,he=de.Object,Ke=de.RegExp,Qe=de.String,ut=de.TypeError,Vt=ze.prototype,hn=pt.prototype,Cr=he.prototype,Do=de["__core-js_shared__"],jn=hn.toString,$t=Cr.hasOwnProperty,Zh=0,oa=(ye=/[^.]+$/.exec(Do&&Do.keys&&Do.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"",ps=Cr.toString,Ec=jn.call(he),oo=Bt._,yf=Ke("^"+jn.call($t).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pu=df?de.Buffer:n,pn=de.Symbol,kl=de.Uint8Array,wf=pu?pu.allocUnsafe:n,Ma=hc(he.getPrototypeOf,he),Bf=he.create,nc=Cr.propertyIsEnumerable,cl=Vt.splice,fl=pn?pn.isConcatSpreadable:n,Wi=pn?pn.iterator:n,aa=pn?pn.toStringTag:n,gu=function(){try{var a=Zr(he,"defineProperty");return a({},"",{}),a}catch{}}(),sf=de.clearTimeout!==Bt.clearTimeout&&de.clearTimeout,fh=ct&&ct.now!==Bt.Date.now&&ct.now,Ac=de.setTimeout!==Bt.setTimeout&&de.setTimeout,Zo=Et.ceil,$u=Et.floor,zu=he.getOwnPropertySymbols,Kl=pu?pu.isBuffer:n,Rc=de.isFinite,Ch=Vt.join,Sh=hc(he.keys,he),Tn=Et.max,wn=Et.min,Gl=ct.now,Zf=de.parseInt,Rf=Et.random,Ws=Vt.reverse,Da=Zr(de,"DataView"),ks=Zr(de,"Map"),Ai=Zr(de,"Promise"),Tr=Zr(de,"Set"),ns=Zr(de,"WeakMap"),Hs=Zr(he,"create"),Fa=ns&&new ns,Pa={},kc=Po(Da),Uu=Po(ks),Wu=Po(Ai),hl=Po(Tr),Yl=Po(ns),rs=pn?pn.prototype:n,Ms=rs?rs.valueOf:n,Ml=rs?rs.toString:n;function R(a){if(Wt(a)&&!dt(a)&&!(a instanceof _t)){if(a instanceof Lr)return a;if($t.call(a,"__wrapped__"))return $c(a)}return new Lr(a)}var is=function(){function a(){}return function(l){if(!on(l))return{};if(Bf)return Bf(l);a.prototype=l;var w=new a;return a.prototype=n,w}}();function Yu(){}function Lr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}function _t(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Ae(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function $r(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function xi(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function Z(a){var l=-1,w=a==null?0:a.length;for(this.__data__=new xi;++l<w;)this.add(a[l])}function ln(a){var l=this.__data__=new $r(a);this.size=l.size}function Eu(a,l){var w=dt(a),A=!w&&To(a),I=!w&&!A&&$o(a),U=!w&&!A&&!I&&sn(a),D=w||A||I||U,E=D?tc(a.length,Qe):[],N=E.length;for(var v in a)!l&&!$t.call(a,v)||D&&(v=="length"||I&&(v=="offset"||v=="parent")||U&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||gr(v,N))||E.push(v);return E}function bn(a){var l=a.length;return l?a[Fs(0,l-1)]:n}function _n(a,l){return wu(or(a),Ta(l,0,a.length))}function gs(a){return wu(or(a))}function Di(a,l,w){(w!==n&&!Kr(a[l],w)||w===n&&!(l in a))&&oi(a,l,w)}function Yi(a,l,w){var A=a[l];$t.call(a,l)&&Kr(A,w)&&(w!==n||l in a)||oi(a,l,w)}function sa(a,l){for(var w=a.length;w--;)if(Kr(a[w][0],l))return w;return-1}function Ca(a,l,w,A){return Li(a,function(I,U,D){l(A,I,w(I),D)}),A}function Jl(a,l){return a&&Kn(l,An(l),a)}function oi(a,l,w){l=="__proto__"&&gu?gu(a,l,{configurable:!0,enumerable:!0,value:w,writable:!0}):a[l]=w}function Xl(a,l){for(var w=-1,A=l.length,I=ze(A),U=a==null;++w<A;)I[w]=U?n:ac(a,l[w]);return I}function Ta(a,l,w){return a==a&&(w!==n&&(a=a<=w?a:w),l!==n&&(a=a>=l?a:l)),a}function Hr(a,l,w,A,I,U){var D,E=1&l,N=2&l,v=4&l;if(w&&(D=I?w(a,A,I,U):w(a)),D!==n)return D;if(!on(a))return a;var m=dt(a);if(m){if(D=function(V){var Y=V.length,re=new V.constructor(Y);return Y&&typeof V[0]=="string"&&$t.call(V,"index")&&(re.index=V.index,re.input=V.input),re}(a),!E)return or(a,D)}else{var x=Lt(a),P=x==F||x==O;if($o(a))return jc(a,E);if(x==W||x==g||P&&!I){if(D=N||P?{}:Ks(a),!E)return N?function(V,Y){return Kn(V,da(V),Y)}(a,function(V,Y){return V&&Kn(Y,Er(Y),V)}(D,a)):function(V,Y){return Kn(V,ar(V),Y)}(a,Jl(D,a))}else{if(!jt[x])return I?a:{};D=function(V,Y,re){var ne,ce=V.constructor;switch(Y){case ge:return Mu(V);case b:case _:return new ce(+V);case xe:return function(me,be){var we=be?Mu(me.buffer):me.buffer;return new me.constructor(we,me.byteOffset,me.byteLength)}(V,re);case Pe:case Ce:case Me:case Oe:case et:case $e:case Fe:case Ne:case Ee:return ru(V,re);case j:return new ce;case z:case te:return new ce(V);case G:return function(me){var be=new me.constructor(me.source,kn.exec(me));return be.lastIndex=me.lastIndex,be}(V);case Q:return new ce;case ae:return ne=V,Ms?he(Ms.call(ne)):{}}}(a,x,E)}}U||(U=new ln);var L=U.get(a);if(L)return L;U.set(a,D),Ii(a)?a.forEach(function(V){D.add(Hr(V,l,w,V,a,U))}):tr(a)&&a.forEach(function(V,Y){D.set(Y,Hr(V,l,w,Y,a,U))});var H=m?n:(v?N?Ba:qo:N?Er:An)(a);return jr(H||a,function(V,Y){H&&(V=a[Y=V]),Yi(D,Y,Hr(V,l,w,Y,a,U))}),D}function Fl(a,l,w){var A=w.length;if(a==null)return!A;for(a=he(a);A--;){var I=w[A],U=l[I],D=a[I];if(D===n&&!(I in a)||!U(D))return!1}return!0}function ms(a,l,w){if(typeof a!="function")throw new ut(e);return Ti(function(){a.apply(n,w)},l)}function ua(a,l,w,A){var I=-1,U=Jn,D=!0,E=a.length,N=[],v=l.length;if(!E)return N;w&&(l=nn(l,vr(w))),A?(U=ri,D=!1):l.length>=200&&(U=Ro,D=!1,l=new Z(l));e:for(;++I<E;){var m=a[I],x=w==null?m:w(m);if(m=A||m!==0?m:0,D&&x==x){for(var P=v;P--;)if(l[P]===x)continue e;N.push(m)}else U(l,x,A)||N.push(m)}return N}R.templateSettings={escape:ur,evaluate:Fn,interpolate:wi,variable:"",imports:{_:R}},R.prototype=Yu.prototype,R.prototype.constructor=R,Lr.prototype=is(Yu.prototype),Lr.prototype.constructor=Lr,_t.prototype=is(Yu.prototype),_t.prototype.constructor=_t,Ae.prototype.clear=function(){this.__data__=Hs?Hs(null):{},this.size=0},Ae.prototype.delete=function(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l},Ae.prototype.get=function(a){var l=this.__data__;if(Hs){var w=l[a];return w===t?n:w}return $t.call(l,a)?l[a]:n},Ae.prototype.has=function(a){var l=this.__data__;return Hs?l[a]!==n:$t.call(l,a)},Ae.prototype.set=function(a,l){var w=this.__data__;return this.size+=this.has(a)?0:1,w[a]=Hs&&l===n?t:l,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(a){var l=this.__data__,w=sa(l,a);return!(w<0||(w==l.length-1?l.pop():cl.call(l,w,1),--this.size,0))},$r.prototype.get=function(a){var l=this.__data__,w=sa(l,a);return w<0?n:l[w][1]},$r.prototype.has=function(a){return sa(this.__data__,a)>-1},$r.prototype.set=function(a,l){var w=this.__data__,A=sa(w,a);return A<0?(++this.size,w.push([a,l])):w[A][1]=l,this},xi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(ks||$r),string:new Ae}},xi.prototype.delete=function(a){var l=ss(this,a).delete(a);return this.size-=l?1:0,l},xi.prototype.get=function(a){return ss(this,a).get(a)},xi.prototype.has=function(a){return ss(this,a).has(a)},xi.prototype.set=function(a,l){var w=ss(this,a),A=w.size;return w.set(a,l),this.size+=w.size==A?0:1,this},Z.prototype.add=Z.prototype.push=function(a){return this.__data__.set(a,t),this},Z.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.clear=function(){this.__data__=new $r,this.size=0},ln.prototype.delete=function(a){var l=this.__data__,w=l.delete(a);return this.size=l.size,w},ln.prototype.get=function(a){return this.__data__.get(a)},ln.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.set=function(a,l){var w=this.__data__;if(w instanceof $r){var A=w.__data__;if(!ks||A.length<199)return A.push([a,l]),this.size=++w.size,this;w=this.__data__=new xi(A)}return w.set(a,l),this.size=w.size,this};var Li=Va(Pn),fo=Va(Ha,!0);function uf(a,l){var w=!0;return Li(a,function(A,I,U){return w=!!l(A,I,U)}),w}function Sa(a,l,w){for(var A=-1,I=a.length;++A<I;){var U=a[A],D=l(U);if(D!=null&&(E===n?D==D&&!sr(D):w(D,E)))var E=D,N=U}return N}function jo(a,l){var w=[];return Li(a,function(A,I,U){l(A,I,U)&&w.push(A)}),w}function Ln(a,l,w,A,I){var U=-1,D=a.length;for(w||(w=Ut),I||(I=[]);++U<D;){var E=a[U];l>0&&w(E)?l>1?Ln(E,l-1,w,A,I):Xn(I,E):A||(I[I.length]=E)}return I}var Mc=ml(),pc=ml(!0);function Pn(a,l){return a&&Mc(a,l,An)}function Ha(a,l){return a&&pc(a,l,An)}function Ho(a,l){return mi(l,function(w){return mo(a[w])})}function di(a,l){for(var w=0,A=(l=Qr(l,a)).length;a!=null&&w<A;)a=a[Zn(l[w++])];return w&&w==A?a:n}function os(a,l,w){var A=l(a);return dt(a)?A:Xn(A,w(a))}function Kt(a){return a==null?a===n?"[object Undefined]":"[object Null]":aa&&aa in he(a)?function(l){var w=$t.call(l,aa),A=l[aa];try{l[aa]=n;var I=!0}catch{}var U=ps.call(l);return I&&(w?l[aa]=A:delete l[aa]),U}(a):function(l){return ps.call(l)}(a)}function Lo(a,l){return a>l}function Fc(a,l){return a!=null&&$t.call(a,l)}function _a(a,l){return a!=null&&l in he(a)}function rc(a,l,w){for(var A=w?ri:Jn,I=a[0].length,U=a.length,D=U,E=ze(U),N=1/0,v=[];D--;){var m=a[D];D&&l&&(m=nn(m,vr(l))),N=wn(m.length,N),E[D]=!w&&(l||I>=120&&m.length>=120)?new Z(D&&m):n}m=a[0];var x=-1,P=E[0];e:for(;++x<I&&v.length<N;){var L=m[x],H=l?l(L):L;if(L=w||L!==0?L:0,!(P?Ro(P,H):A(v,H,w))){for(D=U;--D;){var V=E[D];if(!(V?Ro(V,H):A(a[D],H,w)))continue e}P&&P.push(H),v.push(L)}}return v}function Xr(a,l,w){var A=(a=va(a,l=Qr(l,a)))==null?a:a[Zn(ai(l))];return A==null?n:Rn(A,a,w)}function as(a){return Wt(a)&&Kt(a)==g}function Ea(a,l,w,A,I){return a===l||(a==null||l==null||!Wt(a)&&!Wt(l)?a!=a&&l!=l:function(U,D,E,N,v,m){var x=dt(U),P=dt(D),L=x?y:Lt(U),H=P?y:Lt(D),V=(L=L==g?W:L)==W,Y=(H=H==g?W:H)==W,re=L==H;if(re&&$o(U)){if(!$o(D))return!1;x=!0,V=!1}if(re&&!V)return m||(m=new ln),x||sn(U)?dl(U,D,E,N,v,m):function(we,Te,Ge,Ie,Xe,Ye,rt){switch(Ge){case xe:if(we.byteLength!=Te.byteLength||we.byteOffset!=Te.byteOffset)return!1;we=we.buffer,Te=Te.buffer;case ge:return!(we.byteLength!=Te.byteLength||!Ye(new kl(we),new kl(Te)));case b:case _:case z:return Kr(+we,+Te);case M:return we.name==Te.name&&we.message==Te.message;case G:case te:return we==Te+"";case j:var St=ji;case Q:var Mt=1&Ie;if(St||(St=ts),we.size!=Te.size&&!Mt)return!1;var en=rt.get(we);if(en)return en==Te;Ie|=2,rt.set(we,Te);var qt=dl(St(we),St(Te),Ie,Xe,Ye,rt);return rt.delete(we),qt;case ae:if(Ms)return Ms.call(we)==Ms.call(Te)}return!1}(U,D,L,E,N,v,m);if(!(1&E)){var ne=V&&$t.call(U,"__wrapped__"),ce=Y&&$t.call(D,"__wrapped__");if(ne||ce){var me=ne?U.value():U,be=ce?D.value():D;return m||(m=new ln),v(me,be,E,N,m)}}return!!re&&(m||(m=new ln),function(we,Te,Ge,Ie,Xe,Ye){var rt=1&Ge,St=qo(we),Mt=St.length;if(Mt!=qo(Te).length&&!rt)return!1;for(var en=Mt;en--;){var qt=St[en];if(!(rt?qt in Te:$t.call(Te,qt)))return!1}var It=Ye.get(we),Zt=Ye.get(Te);if(It&&Zt)return It==Te&&Zt==we;var yr=!0;Ye.set(we,Te),Ye.set(Te,we);for(var cr=rt;++en<Mt;){var fi=we[qt=St[en]],Gn=Te[qt];if(Ie)var Uo=rt?Ie(Gn,fi,qt,Te,we,Ye):Ie(fi,Gn,qt,we,Te,Ye);if(!(Uo===n?fi===Gn||Xe(fi,Gn,Ge,Ie,Ye):Uo)){yr=!1;break}cr||(cr=qt=="constructor")}if(yr&&!cr){var fr=we.constructor,Ga=Te.constructor;fr==Ga||!("constructor"in we)||!("constructor"in Te)||typeof fr=="function"&&fr instanceof fr&&typeof Ga=="function"&&Ga instanceof Ga||(yr=!1)}return Ye.delete(we),Ye.delete(Te),yr}(U,D,E,N,v,m))}(a,l,w,A,Ea,I))}function Ci(a,l,w,A){var I=w.length,U=I,D=!A;if(a==null)return!U;for(a=he(a);I--;){var E=w[I];if(D&&E[2]?E[1]!==a[E[0]]:!(E[0]in a))return!1}for(;++I<U;){var N=(E=w[I])[0],v=a[N],m=E[1];if(D&&E[2]){if(v===n&&!(N in a))return!1}else{var x=new ln;if(A)var P=A(v,m,N,a,l,x);if(!(P===n?Ea(m,v,3,A,x):P))return!1}}return!0}function pl(a){return!(!on(a)||(l=a,oa&&oa in l))&&(mo(a)?yf:Ui).test(Po(a));var l}function Au(a){return typeof a=="function"?a:a==null?Yn:typeof a=="object"?dt(a)?ki(a[0],a[1]):mu(a):li(a)}function ds(a){if(!br(a))return Sh(a);var l=[];for(var w in he(a))$t.call(a,w)&&w!="constructor"&&l.push(w);return l}function ir(a,l){return a<l}function Qn(a,l){var w=-1,A=$n(a)?ze(a.length):[];return Li(a,function(I,U,D){A[++w]=l(I,U,D)}),A}function mu(a){var l=Ol(a);return l.length==1&&l[0][2]?Ys(l[0][0],l[0][1]):function(w){return w===a||Ci(w,a,l)}}function ki(a,l){return Vn(a)&&Gs(l)?Ys(Zn(a),l):function(w){var A=ac(w,a);return A===n&&A===l?zn(w,a):Ea(l,A,3)}}function Mi(a,l,w,A,I){a!==l&&Mc(l,function(U,D){if(I||(I=new ln),on(U))(function(N,v,m,x,P,L,H){var V=qr(N,m),Y=qr(v,m),re=H.get(Y);if(re)Di(N,m,re);else{var ne=L?L(V,Y,m+"",N,v,H):n,ce=ne===n;if(ce){var me=dt(Y),be=!me&&$o(Y),we=!me&&!be&&sn(Y);ne=Y,me||be||we?dt(V)?ne=V:Dn(V)?ne=or(V):be?(ce=!1,ne=jc(Y,!0)):we?(ce=!1,ne=ru(Y,!0)):ne=[]:us(Y)||To(Y)?(ne=V,To(V)?ne=zo(V):on(V)&&!mo(V)||(ne=Ks(Y))):ce=!1}ce&&(H.set(Y,ne),P(ne,Y,x,L,H),H.delete(Y)),Di(N,m,ne)}})(a,l,D,w,Mi,A,I);else{var E=A?A(qr(a,D),U,D+"",a,l,I):n;E===n&&(E=U),Di(a,D,E)}},Er)}function Ju(a,l){var w=a.length;if(w)return gr(l+=l<0?w:0,w)?a[l]:n}function ku(a,l,w){l=l.length?nn(l,function(U){return dt(U)?function(D){return di(D,U.length===1?U[0]:U)}:U}):[Yn];var A=-1;l=nn(l,vr(st()));var I=Qn(a,function(U,D,E){var N=nn(l,function(v){return v(U)});return{criteria:N,index:++A,value:U}});return function(U,D){var E=U.length;for(U.sort(D);E--;)U[E]=U[E].value;return U}(I,function(U,D){return function(E,N,v){for(var m=-1,x=E.criteria,P=N.criteria,L=x.length,H=v.length;++m<L;){var V=qs(x[m],P[m]);if(V)return m>=H?V:V*(v[m]=="desc"?-1:1)}return E.index-N.index}(U,D,w)})}function Ji(a,l,w){for(var A=-1,I=l.length,U={};++A<I;){var D=l[A],E=di(a,D);w(E,D)&&Vs(U,Qr(D,a),E)}return U}function ic(a,l,w,A){var I=A?Bc:bi,U=-1,D=l.length,E=a;for(a===l&&(l=or(l)),w&&(E=nn(a,vr(w)));++U<D;)for(var N=0,v=l[U],m=w?w(v):v;(N=I(E,m,N,A))>-1;)E!==a&&cl.call(E,N,1),cl.call(a,N,1);return a}function Pl(a,l){for(var w=a?l.length:0,A=w-1;w--;){var I=l[w];if(w==A||I!==U){var U=I;gr(I)?cl.call(a,I,1):Co(a,I)}}return a}function Fs(a,l){return a+$u(Rf()*(l-a+1))}function du(a,l){var w="";if(!a||l<1||l>u)return w;do l%2&&(w+=a),(l=$u(l/2))&&(a+=a);while(l);return w}function Ct(a,l){return go(po(a,l,Yn),a+"")}function vs(a){return bn(On(a))}function Zc(a,l){var w=On(a);return wu(w,Ta(l,0,w.length))}function Vs(a,l,w,A){if(!on(a))return a;for(var I=-1,U=(l=Qr(l,a)).length,D=U-1,E=a;E!=null&&++I<U;){var N=Zn(l[I]),v=w;if(N==="__proto__"||N==="constructor"||N==="prototype")return a;if(I!=D){var m=E[N];(v=A?A(m,N,E):n)===n&&(v=on(m)?m:gr(l[I+1])?[]:{})}Yi(E,N,v),E=E[N]}return a}var Tl=Fa?function(a,l){return Fa.set(a,l),a}:Yn,Ps=gu?function(a,l){return gu(a,"toString",{configurable:!0,enumerable:!1,value:wc(l),writable:!0})}:Yn;function Ar(a){return wu(On(a))}function lr(a,l,w){var A=-1,I=a.length;l<0&&(l=-l>I?0:I+l),(w=w>I?I:w)<0&&(w+=I),I=l>w?0:w-l>>>0,l>>>=0;for(var U=ze(I);++A<I;)U[A]=a[A+l];return U}function Pc(a,l){var w;return Li(a,function(A,I,U){return!(w=l(A,I,U))}),!!w}function tn(a,l,w){var A=0,I=a==null?A:a.length;if(typeof l=="number"&&l==l&&I<=2147483647){for(;A<I;){var U=A+I>>>1,D=a[U];D!==null&&!sr(D)&&(w?D<=l:D<l)?A=U+1:I=U}return I}return ao(a,l,Yn,w)}function ao(a,l,w,A){var I=0,U=a==null?0:a.length;if(U===0)return 0;for(var D=(l=w(l))!=l,E=l===null,N=sr(l),v=l===n;I<U;){var m=$u((I+U)/2),x=w(a[m]),P=x!==n,L=x===null,H=x==x,V=sr(x);if(D)var Y=A||H;else Y=v?H&&(A||P):E?H&&P&&(A||!L):N?H&&P&&!L&&(A||!V):!L&&!V&&(A?x<=l:x<l);Y?I=m+1:U=m}return wn(U,4294967294)}function Wr(a,l){for(var w=-1,A=a.length,I=0,U=[];++w<A;){var D=a[w],E=l?l(D):D;if(!w||!Kr(E,N)){var N=E;U[I++]=D===0?0:D}}return U}function Vr(a){return typeof a=="number"?a:sr(a)?c:+a}function xn(a){if(typeof a=="string")return a;if(dt(a))return nn(a,xn)+"";if(sr(a))return Ml?Ml.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function hr(a,l,w){var A=-1,I=Jn,U=a.length,D=!0,E=[],N=E;if(w)D=!1,I=ri;else if(U>=200){var v=l?null:gc(a);if(v)return ts(v);D=!1,I=Ro,N=new Z}else N=l?[]:E;e:for(;++A<U;){var m=a[A],x=l?l(m):m;if(m=w||m!==0?m:0,D&&x==x){for(var P=N.length;P--;)if(N[P]===x)continue e;l&&N.push(x),E.push(m)}else I(N,x,w)||(N!==E&&N.push(x),E.push(m))}return E}function Co(a,l){return(a=va(a,l=Qr(l,a)))==null||delete a[Zn(ai(l))]}function So(a,l,w,A){return Vs(a,l,w(di(a,l)),A)}function nu(a,l,w,A){for(var I=a.length,U=A?I:-1;(A?U--:++U<I)&&l(a[U],U,a););return w?lr(a,A?0:U,A?U+1:I):lr(a,A?U+1:0,A?I:U)}function Ia(a,l){var w=a;return w instanceof _t&&(w=w.value()),es(l,function(A,I){return I.func.apply(I.thisArg,Xn([A],I.args))},w)}function zr(a,l,w){var A=a.length;if(A<2)return A?hr(a[0]):[];for(var I=-1,U=ze(A);++I<A;)for(var D=a[I],E=-1;++E<A;)E!=I&&(U[I]=ua(U[I]||D,a[E],l,w));return hr(Ln(U,1),l,w)}function so(a,l,w){for(var A=-1,I=a.length,U=l.length,D={};++A<I;){var E=A<U?l[A]:n;w(D,a[A],E)}return D}function pr(a){return Dn(a)?a:[]}function Sr(a){return typeof a=="function"?a:Yn}function Qr(a,l){return dt(a)?a:Vn(a,l)?[a]:Lc(Ot(a))}var Ql=Ct;function Zi(a,l,w){var A=a.length;return w=w===n?A:w,!l&&w>=A?a:lr(a,l,w)}var gl=sf||function(a){return Bt.clearTimeout(a)};function jc(a,l){if(l)return a.slice();var w=a.length,A=wf?wf(w):new a.constructor(w);return a.copy(A),A}function Mu(a){var l=new a.constructor(a.byteLength);return new kl(l).set(new kl(a)),l}function ru(a,l){var w=l?Mu(a.buffer):a.buffer;return new a.constructor(w,a.byteOffset,a.length)}function qs(a,l){if(a!==l){var w=a!==n,A=a===null,I=a==a,U=sr(a),D=l!==n,E=l===null,N=l==l,v=sr(l);if(!E&&!v&&!U&&a>l||U&&D&&N&&!E&&!v||A&&D&&N||!w&&N||!I)return 1;if(!A&&!U&&!v&&a<l||v&&w&&I&&!A&&!U||E&&w&&I||!D&&I||!N)return-1}return 0}function Ts(a,l,w,A){for(var I=-1,U=a.length,D=w.length,E=-1,N=l.length,v=Tn(U-D,0),m=ze(N+v),x=!A;++E<N;)m[E]=l[E];for(;++I<D;)(x||I<U)&&(m[w[I]]=a[I]);for(;v--;)m[E++]=a[I++];return m}function iu(a,l,w,A){for(var I=-1,U=a.length,D=-1,E=w.length,N=-1,v=l.length,m=Tn(U-E,0),x=ze(m+v),P=!A;++I<m;)x[I]=a[I];for(var L=I;++N<v;)x[L+N]=l[N];for(;++D<E;)(P||I<U)&&(x[L+w[D]]=a[I++]);return x}function or(a,l){var w=-1,A=a.length;for(l||(l=ze(A));++w<A;)l[w]=a[w];return l}function Kn(a,l,w,A){var I=!w;w||(w={});for(var U=-1,D=l.length;++U<D;){var E=l[U],N=A?A(w[E],a[E],E,w,a):n;N===n&&(N=a[E]),I?oi(w,E,N):Yi(w,E,N)}return w}function Oa(a,l){return function(w,A){var I=dt(w)?Qf:Ca,U=l?l():{};return I(w,a,st(A,2),U)}}function la(a){return Ct(function(l,w){var A=-1,I=w.length,U=I>1?w[I-1]:n,D=I>2?w[2]:n;for(U=a.length>3&&typeof U=="function"?(I--,U):n,D&&Gt(w[0],w[1],D)&&(U=I<3?n:U,I=1),l=he(l);++A<I;){var E=w[A];E&&a(l,E,A,U)}return l})}function Va(a,l){return function(w,A){if(w==null)return w;if(!$n(w))return a(w,A);for(var I=w.length,U=l?I:-1,D=he(w);(l?U--:++U<I)&&A(D[U],U,D)!==!1;);return w}}function ml(a){return function(l,w,A){for(var I=-1,U=he(l),D=A(l),E=D.length;E--;){var N=D[a?E:++I];if(w(U[N],N,U)===!1)break}return l}}function ca(a){return function(l){var w=Wa(l=Ot(l))?ii(l):n,A=w?w[0]:l.charAt(0),I=w?Zi(w,1).join(""):l.slice(1);return A[a]()+I}}function uo(a){return function(l){return es(Pu(ei(l).replace(Lu,"")),a,"")}}function Vo(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var w=is(a.prototype),A=a.apply(w,l);return on(A)?A:w}}function Hi(a){return function(l,w,A){var I=he(l);if(!$n(l)){var U=st(w,3);l=An(l),w=function(E){return U(I[E],E,I)}}var D=a(l,w,A);return D>-1?I[U?l[D]:D]:n}}function eo(a){return lo(function(l){var w=l.length,A=w,I=Lr.prototype.thru;for(a&&l.reverse();A--;){var U=l[A];if(typeof U!="function")throw new ut(e);if(I&&!D&&no(U)=="wrapper")var D=new Lr([],!0)}for(A=D?A:w;++A<w;){var E=no(U=l[A]),N=E=="wrapper"?ou(U):n;D=N&&kr(N[0])&&N[1]==424&&!N[4].length&&N[9]==1?D[no(N[0])].apply(D,N[3]):U.length==1&&kr(U)?D[E]():D.thru(U)}return function(){var v=arguments,m=v[0];if(D&&v.length==1&&dt(m))return D.plant(m).value();for(var x=0,P=w?l[x].apply(this,v):m;++x<w;)P=l[x].call(this,P);return P}})}function Fo(a,l,w,A,I,U,D,E,N,v){var m=l&o,x=1&l,P=2&l,L=24&l,H=512&l,V=P?n:Vo(a);return function Y(){for(var re=arguments.length,ne=ze(re),ce=re;ce--;)ne[ce]=arguments[ce];if(L)var me=Xi(Y),be=function(Ie,Xe){for(var Ye=Ie.length,rt=0;Ye--;)Ie[Ye]===Xe&&++rt;return rt}(ne,me);if(A&&(ne=Ts(ne,A,I,L)),U&&(ne=iu(ne,U,D,L)),re-=be,L&&re<v){var we=xo(ne,me);return Is(a,l,Fo,Y.placeholder,w,ne,we,E,N,v-re)}var Te=x?w:this,Ge=P?Te[a]:a;return re=ne.length,E?ne=function(Ie,Xe){for(var Ye=Ie.length,rt=wn(Xe.length,Ye),St=or(Ie);rt--;){var Mt=Xe[rt];Ie[rt]=gr(Mt,Ye)?St[Mt]:n}return Ie}(ne,E):H&&re>1&&ne.reverse(),m&&N<re&&(ne.length=N),this&&this!==Bt&&this instanceof Y&&(Ge=V||Vo(Ge)),Ge.apply(Te,ne)}}function $i(a,l){return function(w,A){return function(I,U,D,E){return Pn(I,function(N,v,m){U(E,D(N),v,m)}),E}(w,a,l(A),{})}}function to(a,l){return function(w,A){var I;if(w===n&&A===n)return l;if(w!==n&&(I=w),A!==n){if(I===n)return A;typeof w=="string"||typeof A=="string"?(w=xn(w),A=xn(A)):(w=Vr(w),A=Vr(A)),I=a(w,A)}return I}}function ho(a){return lo(function(l){return l=nn(l,vr(st())),Ct(function(w){var A=this;return a(l,function(I){return Rn(I,A,w)})})})}function Na(a,l){var w=(l=l===n?" ":xn(l)).length;if(w<2)return w?du(l,a):l;var A=du(l,Zo(a/Qi(l)));return Wa(l)?Zi(ii(A),0,a).join(""):A.slice(0,a)}function vu(a){return function(l,w,A){return A&&typeof A!="number"&&Gt(l,w,A)&&(w=A=n),l=yi(l),w===n?(w=l,l=0):w=yi(w),function(I,U,D,E){for(var N=-1,v=Tn(Zo((U-I)/(D||1)),0),m=ze(v);v--;)m[E?v:++N]=I,I+=D;return m}(l,w,A=A===n?l<w?1:-1:yi(A),a)}}function qa(a){return function(l,w){return typeof l=="string"&&typeof w=="string"||(l=xr(l),w=xr(w)),a(l,w)}}function Is(a,l,w,A,I,U,D,E,N,v){var m=8&l;l|=m?i:64,4&(l&=~(m?64:i))||(l&=-4);var x=[a,l,I,m?U:n,m?D:n,m?n:U,m?n:D,E,N,v],P=w.apply(n,x);return kr(a)&&Fu(P,x),P.placeholder=A,Js(P,a,l)}function ma(a){var l=Et[a];return function(w,A){if(w=xr(w),(A=A==null?0:wn(mt(A),292))&&Rc(w)){var I=(Ot(w)+"e").split("e");return+((I=(Ot(l(I[0]+"e"+(+I[1]+A)))+"e").split("e"))[0]+"e"+(+I[1]-A))}return l(w)}}var gc=Tr&&1/ts(new Tr([,-0]))[1]==s?function(a){return new Tr(a)}:ec;function Il(a){return function(l){var w=Lt(l);return w==j?ji(l):w==Q?function(I){var U=-1,D=Array(I.size);return I.forEach(function(E){D[++U]=[E,E]}),D}(l):function(A,I){return nn(I,function(U){return[U,A[U]]})}(l,a(l))}}function wr(a,l,w,A,I,U,D,E){var N=2&l;if(!N&&typeof a!="function")throw new ut(e);var v=A?A.length:0;if(v||(l&=-97,A=I=n),D=D===n?D:Tn(mt(D),0),E=E===n?E:mt(E),v-=I?I.length:0,64&l){var m=A,x=I;A=I=n}var P=N?n:ou(a),L=[a,l,w,A,I,m,x,U,D,E];if(P&&function(V,Y){var re=V[1],ne=Y[1],ce=re|ne,me=ce<131,be=ne==o&&re==8||ne==o&&re==256&&V[7].length<=Y[8]||ne==384&&Y[7].length<=Y[8]&&re==8;if(!me&&!be)return V;1&ne&&(V[2]=Y[2],ce|=1&re?0:4);var we=Y[3];if(we){var Te=V[3];V[3]=Te?Ts(Te,we,Y[4]):we,V[4]=Te?xo(V[3],r):Y[4]}(we=Y[5])&&(Te=V[5],V[5]=Te?iu(Te,we,Y[6]):we,V[6]=Te?xo(V[5],r):Y[6]),(we=Y[7])&&(V[7]=we),ne&o&&(V[8]=V[8]==null?Y[8]:wn(V[8],Y[8])),V[9]==null&&(V[9]=Y[9]),V[0]=Y[0],V[1]=ce}(L,P),a=L[0],l=L[1],w=L[2],A=L[3],I=L[4],!(E=L[9]=L[9]===n?N?0:a.length:Tn(L[9]-v,0))&&24&l&&(l&=-25),l&&l!=1)H=l==8||l==16?function(V,Y,re){var ne=Vo(V);return function ce(){for(var me=arguments.length,be=ze(me),we=me,Te=Xi(ce);we--;)be[we]=arguments[we];var Ge=me<3&&be[0]!==Te&&be[me-1]!==Te?[]:xo(be,Te);return(me-=Ge.length)<re?Is(V,Y,Fo,ce.placeholder,n,be,Ge,n,n,re-me):Rn(this&&this!==Bt&&this instanceof ce?ne:V,this,be)}}(a,l,E):l!=i&&l!=33||I.length?Fo.apply(n,L):function(V,Y,re,ne){var ce=1&Y,me=Vo(V);return function be(){for(var we=-1,Te=arguments.length,Ge=-1,Ie=ne.length,Xe=ze(Ie+Te),Ye=this&&this!==Bt&&this instanceof be?me:V;++Ge<Ie;)Xe[Ge]=ne[Ge];for(;Te--;)Xe[Ge++]=arguments[++we];return Rn(Ye,ce?re:this,Xe)}}(a,l,w,A);else var H=function(V,Y,re){var ne=1&Y,ce=Vo(V);return function me(){return(this&&this!==Bt&&this instanceof me?ce:V).apply(ne?re:this,arguments)}}(a,l,w);return Js((P?Tl:Fu)(H,L),a,l)}function ys(a,l,w,A){return a===n||Kr(a,Cr[w])&&!$t.call(A,w)?l:a}function yu(a,l,w,A,I,U){return on(a)&&on(l)&&(U.set(l,a),Mi(a,l,n,yu,U),U.delete(l)),a}function lf(a){return us(a)?n:a}function dl(a,l,w,A,I,U){var D=1&w,E=a.length,N=l.length;if(E!=N&&!(D&&N>E))return!1;var v=U.get(a),m=U.get(l);if(v&&m)return v==l&&m==a;var x=-1,P=!0,L=2&w?new Z:n;for(U.set(a,l),U.set(l,a);++x<E;){var H=a[x],V=l[x];if(A)var Y=D?A(V,H,x,l,a,U):A(H,V,x,a,l,U);if(Y!==n){if(Y)continue;P=!1;break}if(L){if(!Jr(l,function(re,ne){if(!Ro(L,ne)&&(H===re||I(H,re,w,A,U)))return L.push(ne)})){P=!1;break}}else if(H!==V&&!I(H,V,w,A,U)){P=!1;break}}return U.delete(a),U.delete(l),P}function lo(a){return go(po(a,n,Ka),a+"")}function qo(a){return os(a,An,ar)}function Ba(a){return os(a,Er,da)}var ou=Fa?function(a){return Fa.get(a)}:ec;function no(a){for(var l=a.name+"",w=Pa[l],A=$t.call(Pa,l)?w.length:0;A--;){var I=w[A],U=I.func;if(U==null||U==a)return I.name}return l}function Xi(a){return($t.call(R,"placeholder")?R:a).placeholder}function st(){var a=R.iteratee||bc;return a=a===bc?Au:a,arguments.length?a(arguments[0],arguments[1]):a}function ss(a,l){var w,A,I=a.__data__;return((A=typeof(w=l))=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null)?I[typeof l=="string"?"string":"hash"]:I.map}function Ol(a){for(var l=An(a),w=l.length;w--;){var A=l[w],I=a[A];l[w]=[A,I,Gs(I)]}return l}function Zr(a,l){var w=function(A,I){return A==null?n:A[I]}(a,l);return pl(w)?w:n}var ar=zu?function(a){return a==null?[]:(a=he(a),mi(zu(a),function(l){return nc.call(a,l)}))}:ci,da=zu?function(a){for(var l=[];a;)Xn(l,ar(a)),a=Ma(a);return l}:ci,Lt=Kt;function Hu(a,l,w){for(var A=-1,I=(l=Qr(l,a)).length,U=!1;++A<I;){var D=Zn(l[A]);if(!(U=a!=null&&w(a,D)))break;a=a[D]}return U||++A!=I?U:!!(I=a==null?0:a.length)&&zt(I)&&gr(D,I)&&(dt(a)||To(a))}function Ks(a){return typeof a.constructor!="function"||br(a)?{}:is(Ma(a))}function Ut(a){return dt(a)||To(a)||!!(fl&&a&&a[fl])}function gr(a,l){var w=typeof a;return!!(l=l??u)&&(w=="number"||w!="symbol"&&bo.test(a))&&a>-1&&a%1==0&&a<l}function Gt(a,l,w){if(!on(w))return!1;var A=typeof l;return!!(A=="number"?$n(w)&&gr(l,w.length):A=="string"&&l in w)&&Kr(w[l],a)}function Vn(a,l){if(dt(a))return!1;var w=typeof a;return!(w!="number"&&w!="symbol"&&w!="boolean"&&a!=null&&!sr(a))||$a.test(a)||!js.test(a)||l!=null&&a in he(l)}function kr(a){var l=no(a),w=R[l];if(typeof w!="function"||!(l in _t.prototype))return!1;if(a===w)return!0;var A=ou(w);return!!A&&a===A[0]}(Da&&Lt(new Da(new ArrayBuffer(1)))!=xe||ks&&Lt(new ks)!=j||Ai&&Lt(Ai.resolve())!=J||Tr&&Lt(new Tr)!=Q||ns&&Lt(new ns)!=se)&&(Lt=function(a){var l=Kt(a),w=l==W?a.constructor:n,A=w?Po(w):"";if(A)switch(A){case kc:return xe;case Uu:return j;case Wu:return J;case hl:return Q;case Yl:return se}return l});var Nl=Do?mo:Ir;function br(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||Cr)}function Gs(a){return a==a&&!on(a)}function Ys(a,l){return function(w){return w!=null&&w[a]===l&&(l!==n||a in he(w))}}function po(a,l,w){return l=Tn(l===n?a.length-1:l,0),function(){for(var A=arguments,I=-1,U=Tn(A.length-l,0),D=ze(U);++I<U;)D[I]=A[l+I];I=-1;for(var E=ze(l+1);++I<l;)E[I]=A[I];return E[l]=w(D),Rn(a,this,E)}}function va(a,l){return l.length<2?a:di(a,lr(l,0,-1))}function qr(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}var Fu=Bl(Tl),Ti=Ac||function(a,l){return Bt.setTimeout(a,l)},go=Bl(Ps);function Js(a,l,w){var A=l+"";return go(a,function(I,U){var D=U.length;if(!D)return I;var E=D-1;return U[E]=(D>1?"& ":"")+U[E],U=U.join(D>2?", ":" "),I.replace(Be,`{
/* [wrapped with `+U+`] */
`)}(A,function(I,U){return jr(f,function(D){var E="_."+D[0];U&D[1]&&!Jn(I,E)&&I.push(E)}),I.sort()}(function(I){var U=I.match(He);return U?U[1].split(We):[]}(A),w)))}function Bl(a){var l=0,w=0;return function(){var A=Gl(),I=16-(A-w);if(w=A,I>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(n,arguments)}}function wu(a,l){var w=-1,A=a.length,I=A-1;for(l=l===n?A:l;++w<l;){var U=Fs(w,I),D=a[U];a[U]=a[w],a[w]=D}return a.length=l,a}var Lc=function(){var a=jl(function(w){var A=[];return w.charCodeAt(0)===46&&A.push(""),w.replace(fe,function(I,U,D,E){A.push(D?E.replace(bt,"$1"):U||I)}),A},function(w){return l.size===500&&l.clear(),w}),l=a.cache;return a}();function Zn(a){if(typeof a=="string"||sr(a))return a;var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function Po(a){if(a!=null){try{return jn.call(a)}catch{}try{return a+""}catch{}}return""}function $c(a){if(a instanceof _t)return a.clone();var l=new Lr(a.__wrapped__,a.__chain__);return l.__actions__=or(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}var mc=Ct(function(a,l){return Dn(a)?ua(a,Ln(l,1,Dn,!0)):[]}),Tc=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),st(w,2)):[]}),jf=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),n,w):[]});function Xs(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),Wn(a,st(l,3),I)}function vi(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A-1;return w!==n&&(I=mt(w),I=w<0?Tn(A+I,0):wn(I,A-1)),Wn(a,st(l,3),I,!0)}function Ka(a){return a!=null&&a.length?Ln(a,1):[]}function Si(a){return a&&a.length?a[0]:n}var bu=Ct(function(a){var l=nn(a,pr);return l.length&&l[0]===a[0]?rc(l):[]}),bf=Ct(function(a){var l=ai(a),w=nn(a,pr);return l===ai(w)?l=n:w.pop(),w.length&&w[0]===a[0]?rc(w,st(l,2)):[]}),cf=Ct(function(a){var l=ai(a),w=nn(a,pr);return(l=typeof l=="function"?l:n)&&w.pop(),w.length&&w[0]===a[0]?rc(w,n,l):[]});function ai(a){var l=a==null?0:a.length;return l?a[l-1]:n}var Xu=Ct(zc);function zc(a,l){return a&&a.length&&l&&l.length?ic(a,l):a}var eh=lo(function(a,l){var w=a==null?0:a.length,A=Xl(a,l);return Pl(a,nn(l,function(I){return gr(I,w)?+I:I}).sort(qs)),A});function Rl(a){return a==null?a:Ws.call(a)}var dc=Ct(function(a){return hr(Ln(a,1,Dn,!0))}),Os=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),hr(Ln(a,1,Dn,!0),st(l,2))}),th=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,hr(Ln(a,1,Dn,!0),n,l)});function Uc(a){if(!a||!a.length)return[];var l=0;return a=mi(a,function(w){if(Dn(w))return l=Tn(w.length,l),!0}),tc(l,function(w){return nn(a,pa(w))})}function ya(a,l){if(!a||!a.length)return[];var w=Uc(a);return l==null?w:nn(w,function(A){return Rn(l,n,A)})}var Th=Ct(function(a,l){return Dn(a)?ua(a,l):[]}),Ih=Ct(function(a){return zr(mi(a,Dn))}),Oh=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),zr(mi(a,Dn),st(l,2))}),Lf=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,zr(mi(a,Dn),n,l)}),hh=Ct(Uc),xf=Ct(function(a){var l=a.length,w=l>1?a[l-1]:n;return w=typeof w=="function"?(a.pop(),w):n,ya(a,w)});function ph(a){var l=R(a);return l.__chain__=!0,l}function vl(a,l){return l(a)}var nh=lo(function(a){var l=a.length,w=l?a[0]:0,A=this.__wrapped__,I=function(U){return Xl(U,a)};return!(l>1||this.__actions__.length)&&A instanceof _t&&gr(w)?((A=A.slice(w,+w+(l?1:0))).__actions__.push({func:vl,args:[I],thisArg:n}),new Lr(A,this.__chain__).thru(function(U){return l&&!U.length&&U.push(n),U})):this.thru(I)}),xu=Oa(function(a,l,w){$t.call(a,w)?++a[w]:oi(a,w,1)}),$f=Hi(Xs),ff=Hi(vi);function Df(a,l){return(dt(a)?jr:Li)(a,st(l,3))}function Wc(a,l){return(dt(a)?Nc:fo)(a,st(l,3))}var Nh=Oa(function(a,l,w){$t.call(a,w)?a[w].push(l):oi(a,w,[l])}),zf=Ct(function(a,l,w){var A=-1,I=typeof l=="function",U=$n(a)?ze(a.length):[];return Li(a,function(D){U[++A]=I?Rn(l,D,w):Xr(D,l,w)}),U}),yl=Oa(function(a,l,w){oi(a,w,l)});function wl(a,l){return(dt(a)?nn:Qn)(a,st(l,3))}var Uf=Oa(function(a,l,w){a[w?0:1].push(l)},function(){return[[],[]]}),zh=Ct(function(a,l){if(a==null)return[];var w=l.length;return w>1&&Gt(a,l[0],l[1])?l=[]:w>2&&Gt(l[0],l[1],l[2])&&(l=[l[0]]),ku(a,Ln(l,1),[])}),Zl=fh||function(){return Bt.Date.now()};function hf(a,l,w){return l=w?n:l,l=a&&l==null?a.length:l,wr(a,o,n,n,n,n,l)}function Cf(a,l){var w;if(typeof l!="function")throw new ut(e);return a=mt(a),function(){return--a>0&&(w=l.apply(this,arguments)),a<=1&&(l=n),w}}var oc=Ct(function(a,l,w){var A=1;if(w.length){var I=xo(w,Xi(oc));A|=i}return wr(a,A,l,w,I)}),rh=Ct(function(a,l,w){var A=3;if(w.length){var I=xo(w,Xi(rh));A|=i}return wr(l,A,a,w,I)});function _h(a,l,w){var A,I,U,D,E,N,v=0,m=!1,x=!1,P=!0;if(typeof a!="function")throw new ut(e);function L(ne){var ce=A,me=I;return A=I=n,v=ne,D=a.apply(me,ce)}function H(ne){var ce=ne-N;return N===n||ce>=l||ce<0||x&&ne-v>=U}function V(){var ne=Zl();if(H(ne))return Y(ne);E=Ti(V,function(ce){var me=l-(ce-N);return x?wn(me,U-(ce-v)):me}(ne))}function Y(ne){return E=n,P&&A?L(ne):(A=I=n,D)}function re(){var ne=Zl(),ce=H(ne);if(A=arguments,I=this,N=ne,ce){if(E===n)return function(me){return v=me,E=Ti(V,l),m?L(me):D}(N);if(x)return gl(E),E=Ti(V,l),L(N)}return E===n&&(E=Ti(V,l)),D}return l=xr(l)||0,on(w)&&(m=!!w.leading,U=(x="maxWait"in w)?Tn(xr(w.maxWait)||0,l):U,P="trailing"in w?!!w.trailing:P),re.cancel=function(){E!==n&&gl(E),v=0,A=N=I=E=n},re.flush=function(){return E===n?D:Y(Zl())},re}var _o=Ct(function(a,l){return ms(a,1,l)}),Ra=Ct(function(a,l,w){return ms(a,xr(l)||0,w)});function jl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new ut(e);var w=function(){var A=arguments,I=l?l.apply(this,A):A[0],U=w.cache;if(U.has(I))return U.get(I);var D=a.apply(this,A);return w.cache=U.set(I,D)||U,D};return w.cache=new(jl.Cache||xi),w}function ws(a){if(typeof a!="function")throw new ut(e);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}jl.Cache=xi;var gh=Ql(function(a,l){var w=(l=l.length==1&&dt(l[0])?nn(l[0],vr(st())):nn(Ln(l,1),vr(st()))).length;return Ct(function(A){for(var I=-1,U=wn(A.length,w);++I<U;)A[I]=l[I].call(this,A[I]);return Rn(a,this,A)})}),vc=Ct(function(a,l){var w=xo(l,Xi(vc));return wr(a,i,n,l,w)}),ef=Ct(function(a,l){var w=xo(l,Xi(ef));return wr(a,64,n,l,w)}),Ll=lo(function(a,l){return wr(a,256,n,n,n,l)});function Kr(a,l){return a===l||a!=a&&l!=l}var tf=qa(Lo),Bh=qa(function(a,l){return a>=l}),To=as(function(){return arguments}())?as:function(a){return Wt(a)&&$t.call(a,"callee")&&!nc.call(a,"callee")},dt=ze.isArray,ih=hu?vr(hu):function(a){return Wt(a)&&Kt(a)==ge};function $n(a){return a!=null&&zt(a.length)&&!mo(a)}function Dn(a){return Wt(a)&&$n(a)}var $o=Kl||Ir,wa=Ei?vr(Ei):function(a){return Wt(a)&&Kt(a)==_};function Nr(a){if(!Wt(a))return!1;var l=Kt(a);return l==M||l=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!us(a)}function mo(a){if(!on(a))return!1;var l=Kt(a);return l==F||l==O||l=="[object AsyncFunction]"||l=="[object Proxy]"}function Eo(a){return typeof a=="number"&&a==mt(a)}function zt(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=u}function on(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Wt(a){return a!=null&&typeof a=="object"}var tr=Hn?vr(Hn):function(a){return Wt(a)&&Lt(a)==j};function _r(a){return typeof a=="number"||Wt(a)&&Kt(a)==z}function us(a){if(!Wt(a)||Kt(a)!=W)return!1;var l=Ma(a);if(l===null)return!0;var w=$t.call(l,"constructor")&&l.constructor;return typeof w=="function"&&w instanceof w&&jn.call(w)==Ec}var Fi=Xo?vr(Xo):function(a){return Wt(a)&&Kt(a)==G},Ii=af?vr(af):function(a){return Wt(a)&&Lt(a)==Q};function Ao(a){return typeof a=="string"||!dt(a)&&Wt(a)&&Kt(a)==te}function sr(a){return typeof a=="symbol"||Wt(a)&&Kt(a)==ae}var sn=cc?vr(cc):function(a){return Wt(a)&&zt(a.length)&&!!Qt[Kt(a)]},si=qa(ir),Tt=qa(function(a,l){return a<=l});function Qu(a){if(!a)return[];if($n(a))return Ao(a)?ii(a):or(a);if(Wi&&a[Wi])return function(w){for(var A,I=[];!(A=w.next()).done;)I.push(A.value);return I}(a[Wi]());var l=Lt(a);return(l==j?ji:l==Q?ts:On)(a)}function yi(a){return a?(a=xr(a))===s||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:a===0?a:0}function mt(a){var l=yi(a),w=l%1;return l==l?w?l-w:l:0}function Du(a){return a?Ta(mt(a),0,p):0}function xr(a){if(typeof a=="number")return a;if(sr(a))return c;if(on(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=on(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Hl(a);var w=At.test(a);return w||io.test(a)?Es(a.slice(2),w?2:8):yn.test(a)?c:+a}function zo(a){return Kn(a,Er(a))}function Ot(a){return a==null?"":xn(a)}var nf=la(function(a,l){if(br(l)||$n(l))Kn(l,An(l),a);else for(var w in l)$t.call(l,w)&&Yi(a,w,l[w])}),ui=la(function(a,l){Kn(l,Er(l),a)}),Cu=la(function(a,l,w,A){Kn(l,Er(l),a,A)}),ea=la(function(a,l,w,A){Kn(l,An(l),a,A)}),Ht=lo(Xl),Dr=Ct(function(a,l){a=he(a);var w=-1,A=l.length,I=A>2?l[2]:n;for(I&&Gt(l[0],l[1],I)&&(A=1);++w<A;)for(var U=l[w],D=Er(U),E=-1,N=D.length;++E<N;){var v=D[E],m=a[v];(m===n||Kr(m,Cr[v])&&!$t.call(a,v))&&(a[v]=U[v])}return a}),ko=Ct(function(a){return a.push(n,yu),Rn(pf,n,a)});function ac(a,l,w){var A=a==null?n:di(a,l);return A===n?w:A}function zn(a,l){return a!=null&&Hu(a,l,_a)}var Vu=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),a[l]=w},wc(Yn)),mh=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),$t.call(a,l)?a[l].push(w):a[l]=[w]},st),ls=Ct(Xr);function An(a){return $n(a)?Eu(a):ds(a)}function Er(a){return $n(a)?Eu(a,!0):function(w){if(!on(w))return function(D){var E=[];if(D!=null)for(var N in he(D))E.push(N);return E}(w);var A=br(w),I=[];for(var U in w)(U!="constructor"||!A&&$t.call(w,U))&&I.push(U);return I}(a)}var Eh=la(function(a,l,w){Mi(a,l,w)}),pf=la(function(a,l,w,A){Mi(a,l,w,A)}),Su=lo(function(a,l){var w={};if(a==null)return w;var A=!1;l=nn(l,function(U){return U=Qr(U,a),A||(A=U.length>1),U}),Kn(a,Ba(a),w),A&&(w=Hr(w,7,lf));for(var I=l.length;I--;)Co(w,l[I]);return w}),oh=lo(function(a,l){return a==null?{}:function(w,A){return Ji(w,A,function(I,U){return zn(w,U)})}(a,l)});function Cn(a,l){if(a==null)return{};var w=nn(Ba(a),function(A){return[A]});return l=st(l),Ji(a,w,function(A,I){return l(A,I[0])})}var ja=Il(An),rf=Il(Er);function On(a){return a==null?[]:ll(a,An(a))}var Sn=uo(function(a,l,w){return l=l.toLowerCase(),a+(w?zi(l):l)});function zi(a){return ba(Ot(a).toLowerCase())}function ei(a){return(a=Ot(a))&&a.replace(ta,fc).replace(Br,"")}var Io=uo(function(a,l,w){return a+(w?"-":"")+l.toLowerCase()}),cs=uo(function(a,l,w){return a+(w?" ":"")+l.toLowerCase()}),Zu=ca("toLowerCase"),ro=uo(function(a,l,w){return a+(w?"_":"")+l.toLowerCase()}),yc=uo(function(a,l,w){return a+(w?" ":"")+ba(l)}),bs=uo(function(a,l,w){return a+(w?" ":"")+l.toUpperCase()}),ba=ca("toUpperCase");function Pu(a,l,w){return a=Ot(a),(l=w?n:l)===n?function(A){return Sc.test(A)}(a)?function(A){return A.match(gn)||[]}(a):function(A){return A.match(ot)||[]}(a):a.match(l)||[]}var _u=Ct(function(a,l){try{return Rn(a,n,l)}catch(w){return Nr(w)?w:new Ue(w)}}),xs=lo(function(a,l){return jr(l,function(w){w=Zn(w),oi(a,w,oc(a[w],a))}),a});function wc(a){return function(){return a}}var Tu=eo(),bl=eo(!0);function Yn(a){return a}function bc(a){return Au(typeof a=="function"?a:Hr(a,1))}var qu=Ct(function(a,l){return function(w){return Xr(w,a,l)}}),Hc=Ct(function(a,l){return function(w){return Xr(a,w,l)}});function Ds(a,l,w){var A=An(l),I=Ho(l,A);w!=null||on(l)&&(I.length||!A.length)||(w=l,l=a,a=this,I=Ho(l,An(l)));var U=!(on(w)&&"chain"in w&&!w.chain),D=mo(a);return jr(I,function(E){var N=l[E];a[E]=N,D&&(a.prototype[E]=function(){var v=this.__chain__;if(U||v){var m=a(this.__wrapped__);return(m.__actions__=or(this.__actions__)).push({func:N,args:arguments,thisArg:a}),m.__chain__=v,m}return N.apply(a,Xn([this.value()],arguments))})}),a}function ec(){}var Cs=ho(nn),gf=ho(As),Sf=ho(Jr);function li(a){return Vn(a)?pa(Zn(a)):function(l){return function(w){return di(w,l)}}(a)}var er=vu(),Ko=vu(!0);function ci(){return[]}function Ir(){return!1}var fs,of=to(function(a,l){return a+l},0),au=ma("ceil"),el=to(function(a,l){return a/l},1),Ic=ma("floor"),mf=to(function(a,l){return a*l},1),$l=ma("round"),Oc=to(function(a,l){return a-l},0);return R.after=function(a,l){if(typeof l!="function")throw new ut(e);return a=mt(a),function(){if(--a<1)return l.apply(this,arguments)}},R.ary=hf,R.assign=nf,R.assignIn=ui,R.assignInWith=Cu,R.assignWith=ea,R.at=Ht,R.before=Cf,R.bind=oc,R.bindAll=xs,R.bindKey=rh,R.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return dt(a)?a:[a]},R.chain=ph,R.chunk=function(a,l,w){l=(w?Gt(a,l,w):l===n)?1:Tn(mt(l),0);var A=a==null?0:a.length;if(!A||l<1)return[];for(var I=0,U=0,D=ze(Zo(A/l));I<A;)D[U++]=lr(a,I,I+=l);return D},R.compact=function(a){for(var l=-1,w=a==null?0:a.length,A=0,I=[];++l<w;){var U=a[l];U&&(I[A++]=U)}return I},R.concat=function(){var a=arguments.length;if(!a)return[];for(var l=ze(a-1),w=arguments[0],A=a;A--;)l[A-1]=arguments[A];return Xn(dt(w)?or(w):[w],Ln(l,1))},R.cond=function(a){var l=a==null?0:a.length,w=st();return a=l?nn(a,function(A){if(typeof A[1]!="function")throw new ut(e);return[w(A[0]),A[1]]}):[],Ct(function(A){for(var I=-1;++I<l;){var U=a[I];if(Rn(U[0],this,A))return Rn(U[1],this,A)}})},R.conforms=function(a){return function(l){var w=An(l);return function(A){return Fl(A,l,w)}}(Hr(a,1))},R.constant=wc,R.countBy=xu,R.create=function(a,l){var w=is(a);return l==null?w:Jl(w,l)},R.curry=function a(l,w,A){var I=wr(l,8,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.curryRight=function a(l,w,A){var I=wr(l,16,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.debounce=_h,R.defaults=Dr,R.defaultsDeep=ko,R.defer=_o,R.delay=Ra,R.difference=mc,R.differenceBy=Tc,R.differenceWith=jf,R.drop=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=w||l===n?1:mt(l))<0?0:l,A):[]},R.dropRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,0,(l=A-(l=w||l===n?1:mt(l)))<0?0:l):[]},R.dropRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0,!0):[]},R.dropWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0):[]},R.fill=function(a,l,w,A){var I=a==null?0:a.length;return I?(w&&typeof w!="number"&&Gt(a,l,w)&&(w=0,A=I),function(U,D,E,N){var v=U.length;for((E=mt(E))<0&&(E=-E>v?0:v+E),(N=N===n||N>v?v:mt(N))<0&&(N+=v),N=E>N?0:Du(N);E<N;)U[E++]=D;return U}(a,l,w,A)):[]},R.filter=function(a,l){return(dt(a)?mi:jo)(a,st(l,3))},R.flatMap=function(a,l){return Ln(wl(a,l),1)},R.flatMapDeep=function(a,l){return Ln(wl(a,l),s)},R.flatMapDepth=function(a,l,w){return w=w===n?1:mt(w),Ln(wl(a,l),w)},R.flatten=Ka,R.flattenDeep=function(a){return a!=null&&a.length?Ln(a,s):[]},R.flattenDepth=function(a,l){return a!=null&&a.length?Ln(a,l=l===n?1:mt(l)):[]},R.flip=function(a){return wr(a,512)},R.flow=Tu,R.flowRight=bl,R.fromPairs=function(a){for(var l=-1,w=a==null?0:a.length,A={};++l<w;){var I=a[l];A[I[0]]=I[1]}return A},R.functions=function(a){return a==null?[]:Ho(a,An(a))},R.functionsIn=function(a){return a==null?[]:Ho(a,Er(a))},R.groupBy=Nh,R.initial=function(a){return a!=null&&a.length?lr(a,0,-1):[]},R.intersection=bu,R.intersectionBy=bf,R.intersectionWith=cf,R.invert=Vu,R.invertBy=mh,R.invokeMap=zf,R.iteratee=bc,R.keyBy=yl,R.keys=An,R.keysIn=Er,R.map=wl,R.mapKeys=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,l(A,I,U),A)}),w},R.mapValues=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,I,l(A,I,U))}),w},R.matches=function(a){return mu(Hr(a,1))},R.matchesProperty=function(a,l){return ki(a,Hr(l,1))},R.memoize=jl,R.merge=Eh,R.mergeWith=pf,R.method=qu,R.methodOf=Hc,R.mixin=Ds,R.negate=ws,R.nthArg=function(a){return a=mt(a),Ct(function(l){return Ju(l,a)})},R.omit=Su,R.omitBy=function(a,l){return Cn(a,ws(st(l)))},R.once=function(a){return Cf(2,a)},R.orderBy=function(a,l,w,A){return a==null?[]:(dt(l)||(l=l==null?[]:[l]),dt(w=A?n:w)||(w=w==null?[]:[w]),ku(a,l,w))},R.over=Cs,R.overArgs=gh,R.overEvery=gf,R.overSome=Sf,R.partial=vc,R.partialRight=ef,R.partition=Uf,R.pick=oh,R.pickBy=Cn,R.property=li,R.propertyOf=function(a){return function(l){return a==null?n:di(a,l)}},R.pull=Xu,R.pullAll=zc,R.pullAllBy=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,st(w,2)):a},R.pullAllWith=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,n,w):a},R.pullAt=eh,R.range=er,R.rangeRight=Ko,R.rearg=Ll,R.reject=function(a,l){return(dt(a)?mi:jo)(a,ws(st(l,3)))},R.remove=function(a,l){var w=[];if(!a||!a.length)return w;var A=-1,I=[],U=a.length;for(l=st(l,3);++A<U;){var D=a[A];l(D,A,a)&&(w.push(D),I.push(A))}return Pl(a,I),w},R.rest=function(a,l){if(typeof a!="function")throw new ut(e);return Ct(a,l=l===n?l:mt(l))},R.reverse=Rl,R.sampleSize=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),(dt(a)?_n:Zc)(a,l)},R.set=function(a,l,w){return a==null?a:Vs(a,l,w)},R.setWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:Vs(a,l,w,A)},R.shuffle=function(a){return(dt(a)?gs:Ar)(a)},R.slice=function(a,l,w){var A=a==null?0:a.length;return A?(w&&typeof w!="number"&&Gt(a,l,w)?(l=0,w=A):(l=l==null?0:mt(l),w=w===n?A:mt(w)),lr(a,l,w)):[]},R.sortBy=zh,R.sortedUniq=function(a){return a&&a.length?Wr(a):[]},R.sortedUniqBy=function(a,l){return a&&a.length?Wr(a,st(l,2)):[]},R.split=function(a,l,w){return w&&typeof w!="number"&&Gt(a,l,w)&&(l=w=n),(w=w===n?p:w>>>0)?(a=Ot(a))&&(typeof l=="string"||l!=null&&!Fi(l))&&!(l=xn(l))&&Wa(a)?Zi(ii(a),0,w):a.split(l,w):[]},R.spread=function(a,l){if(typeof a!="function")throw new ut(e);return l=l==null?0:Tn(mt(l),0),Ct(function(w){var A=w[l],I=Zi(w,0,l);return A&&Xn(I,A),Rn(a,this,I)})},R.tail=function(a){var l=a==null?0:a.length;return l?lr(a,1,l):[]},R.take=function(a,l,w){return a&&a.length?lr(a,0,(l=w||l===n?1:mt(l))<0?0:l):[]},R.takeRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=A-(l=w||l===n?1:mt(l)))<0?0:l,A):[]},R.takeRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!1,!0):[]},R.takeWhile=function(a,l){return a&&a.length?nu(a,st(l,3)):[]},R.tap=function(a,l){return l(a),a},R.throttle=function(a,l,w){var A=!0,I=!0;if(typeof a!="function")throw new ut(e);return on(w)&&(A="leading"in w?!!w.leading:A,I="trailing"in w?!!w.trailing:I),_h(a,l,{leading:A,maxWait:l,trailing:I})},R.thru=vl,R.toArray=Qu,R.toPairs=ja,R.toPairsIn=rf,R.toPath=function(a){return dt(a)?nn(a,Zn):sr(a)?[a]:or(Lc(Ot(a)))},R.toPlainObject=zo,R.transform=function(a,l,w){var A=dt(a),I=A||$o(a)||sn(a);if(l=st(l,4),w==null){var U=a&&a.constructor;w=I?A?new U:[]:on(a)&&mo(U)?is(Ma(a)):{}}return(I?jr:Pn)(a,function(D,E,N){return l(w,D,E,N)}),w},R.unary=function(a){return hf(a,1)},R.union=dc,R.unionBy=Os,R.unionWith=th,R.uniq=function(a){return a&&a.length?hr(a):[]},R.uniqBy=function(a,l){return a&&a.length?hr(a,st(l,2)):[]},R.uniqWith=function(a,l){return l=typeof l=="function"?l:n,a&&a.length?hr(a,n,l):[]},R.unset=function(a,l){return a==null||Co(a,l)},R.unzip=Uc,R.unzipWith=ya,R.update=function(a,l,w){return a==null?a:So(a,l,Sr(w))},R.updateWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:So(a,l,Sr(w),A)},R.values=On,R.valuesIn=function(a){return a==null?[]:ll(a,Er(a))},R.without=Th,R.words=Pu,R.wrap=function(a,l){return vc(Sr(l),a)},R.xor=Ih,R.xorBy=Oh,R.xorWith=Lf,R.zip=hh,R.zipObject=function(a,l){return so(a||[],l||[],Yi)},R.zipObjectDeep=function(a,l){return so(a||[],l||[],Vs)},R.zipWith=xf,R.entries=ja,R.entriesIn=rf,R.extend=ui,R.extendWith=Cu,Ds(R,R),R.add=of,R.attempt=_u,R.camelCase=Sn,R.capitalize=zi,R.ceil=au,R.clamp=function(a,l,w){return w===n&&(w=l,l=n),w!==n&&(w=(w=xr(w))==w?w:0),l!==n&&(l=(l=xr(l))==l?l:0),Ta(xr(a),l,w)},R.clone=function(a){return Hr(a,4)},R.cloneDeep=function(a){return Hr(a,5)},R.cloneDeepWith=function(a,l){return Hr(a,5,l=typeof l=="function"?l:n)},R.cloneWith=function(a,l){return Hr(a,4,l=typeof l=="function"?l:n)},R.conformsTo=function(a,l){return l==null||Fl(a,l,An(l))},R.deburr=ei,R.defaultTo=function(a,l){return a==null||a!=a?l:a},R.divide=el,R.endsWith=function(a,l,w){a=Ot(a),l=xn(l);var A=a.length,I=w=w===n?A:Ta(mt(w),0,A);return(w-=l.length)>=0&&a.slice(w,I)==l},R.eq=Kr,R.escape=function(a){return(a=Ot(a))&&un.test(a)?a.replace(rn,ql):a},R.escapeRegExp=function(a){return(a=Ot(a))&&ve.test(a)?a.replace(ue,"\\$&"):a},R.every=function(a,l,w){var A=dt(a)?As:uf;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.find=$f,R.findIndex=Xs,R.findKey=function(a,l){return Wl(a,st(l,3),Pn)},R.findLast=ff,R.findLastIndex=vi,R.findLastKey=function(a,l){return Wl(a,st(l,3),Ha)},R.floor=Ic,R.forEach=Df,R.forEachRight=Wc,R.forIn=function(a,l){return a==null?a:Mc(a,st(l,3),Er)},R.forInRight=function(a,l){return a==null?a:pc(a,st(l,3),Er)},R.forOwn=function(a,l){return a&&Pn(a,st(l,3))},R.forOwnRight=function(a,l){return a&&Ha(a,st(l,3))},R.get=ac,R.gt=tf,R.gte=Bh,R.has=function(a,l){return a!=null&&Hu(a,l,Fc)},R.hasIn=zn,R.head=Si,R.identity=Yn,R.includes=function(a,l,w,A){a=$n(a)?a:On(a),w=w&&!A?mt(w):0;var I=a.length;return w<0&&(w=Tn(I+w,0)),Ao(a)?w<=I&&a.indexOf(l,w)>-1:!!I&&bi(a,l,w)>-1},R.indexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),bi(a,l,I)},R.inRange=function(a,l,w){return l=yi(l),w===n?(w=l,l=0):w=yi(w),function(A,I,U){return A>=wn(I,U)&&A<Tn(I,U)}(a=xr(a),l,w)},R.invoke=ls,R.isArguments=To,R.isArray=dt,R.isArrayBuffer=ih,R.isArrayLike=$n,R.isArrayLikeObject=Dn,R.isBoolean=function(a){return a===!0||a===!1||Wt(a)&&Kt(a)==b},R.isBuffer=$o,R.isDate=wa,R.isElement=function(a){return Wt(a)&&a.nodeType===1&&!us(a)},R.isEmpty=function(a){if(a==null)return!0;if($n(a)&&(dt(a)||typeof a=="string"||typeof a.splice=="function"||$o(a)||sn(a)||To(a)))return!a.length;var l=Lt(a);if(l==j||l==Q)return!a.size;if(br(a))return!ds(a).length;for(var w in a)if($t.call(a,w))return!1;return!0},R.isEqual=function(a,l){return Ea(a,l)},R.isEqualWith=function(a,l,w){var A=(w=typeof w=="function"?w:n)?w(a,l):n;return A===n?Ea(a,l,n,w):!!A},R.isError=Nr,R.isFinite=function(a){return typeof a=="number"&&Rc(a)},R.isFunction=mo,R.isInteger=Eo,R.isLength=zt,R.isMap=tr,R.isMatch=function(a,l){return a===l||Ci(a,l,Ol(l))},R.isMatchWith=function(a,l,w){return w=typeof w=="function"?w:n,Ci(a,l,Ol(l),w)},R.isNaN=function(a){return _r(a)&&a!=+a},R.isNative=function(a){if(Nl(a))throw new Ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pl(a)},R.isNil=function(a){return a==null},R.isNull=function(a){return a===null},R.isNumber=_r,R.isObject=on,R.isObjectLike=Wt,R.isPlainObject=us,R.isRegExp=Fi,R.isSafeInteger=function(a){return Eo(a)&&a>=-9007199254740991&&a<=u},R.isSet=Ii,R.isString=Ao,R.isSymbol=sr,R.isTypedArray=sn,R.isUndefined=function(a){return a===n},R.isWeakMap=function(a){return Wt(a)&&Lt(a)==se},R.isWeakSet=function(a){return Wt(a)&&Kt(a)=="[object WeakSet]"},R.join=function(a,l){return a==null?"":Ch.call(a,l)},R.kebabCase=Io,R.last=ai,R.lastIndexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A;return w!==n&&(I=(I=mt(w))<0?Tn(A+I,0):wn(I,A-1)),l==l?function(U,D,E){for(var N=E+1;N--;)if(U[N]===D)return N;return N}(a,l,I):Wn(a,ul,I,!0)},R.lowerCase=cs,R.lowerFirst=Zu,R.lt=si,R.lte=Tt,R.max=function(a){return a&&a.length?Sa(a,Yn,Lo):n},R.maxBy=function(a,l){return a&&a.length?Sa(a,st(l,2),Lo):n},R.mean=function(a){return zs(a,Yn)},R.meanBy=function(a,l){return zs(a,st(l,2))},R.min=function(a){return a&&a.length?Sa(a,Yn,ir):n},R.minBy=function(a,l){return a&&a.length?Sa(a,st(l,2),ir):n},R.stubArray=ci,R.stubFalse=Ir,R.stubObject=function(){return{}},R.stubString=function(){return""},R.stubTrue=function(){return!0},R.multiply=mf,R.nth=function(a,l){return a&&a.length?Ju(a,mt(l)):n},R.noConflict=function(){return Bt._===this&&(Bt._=oo),this},R.noop=ec,R.now=Zl,R.pad=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;if(!l||A>=l)return a;var I=(l-A)/2;return Na($u(I),w)+a+Na(Zo(I),w)},R.padEnd=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?a+Na(l-A,w):a},R.padStart=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?Na(l-A,w)+a:a},R.parseInt=function(a,l,w){return w||l==null?l=0:l&&(l=+l),Zf(Ot(a).replace(Se,""),l||0)},R.random=function(a,l,w){if(w&&typeof w!="boolean"&&Gt(a,l,w)&&(l=w=n),w===n&&(typeof l=="boolean"?(w=l,l=n):typeof a=="boolean"&&(w=a,a=n)),a===n&&l===n?(a=0,l=1):(a=yi(a),l===n?(l=a,a=0):l=yi(l)),a>l){var A=a;a=l,l=A}if(w||a%1||l%1){var I=Rf();return wn(a+I*(l-a+Ph("1e-"+((I+"").length-1))),l)}return Fs(a,l)},R.reduce=function(a,l,w){var A=dt(a)?es:_c,I=arguments.length<3;return A(a,st(l,4),w,I,Li)},R.reduceRight=function(a,l,w){var A=dt(a)?ch:_c,I=arguments.length<3;return A(a,st(l,4),w,I,fo)},R.repeat=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),du(Ot(a),l)},R.replace=function(){var a=arguments,l=Ot(a[0]);return a.length<3?l:l.replace(a[1],a[2])},R.result=function(a,l,w){var A=-1,I=(l=Qr(l,a)).length;for(I||(I=1,a=n);++A<I;){var U=a==null?n:a[Zn(l[A])];U===n&&(A=I,U=w),a=mo(U)?U.call(a):U}return a},R.round=$l,R.runInContext=ie,R.sample=function(a){return(dt(a)?bn:vs)(a)},R.size=function(a){if(a==null)return 0;if($n(a))return Ao(a)?Qi(a):a.length;var l=Lt(a);return l==j||l==Q?a.size:ds(a).length},R.snakeCase=ro,R.some=function(a,l,w){var A=dt(a)?Jr:Pc;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.sortedIndex=function(a,l){return tn(a,l)},R.sortedIndexBy=function(a,l,w){return ao(a,l,st(w,2))},R.sortedIndexOf=function(a,l){var w=a==null?0:a.length;if(w){var A=tn(a,l);if(A<w&&Kr(a[A],l))return A}return-1},R.sortedLastIndex=function(a,l){return tn(a,l,!0)},R.sortedLastIndexBy=function(a,l,w){return ao(a,l,st(w,2),!0)},R.sortedLastIndexOf=function(a,l){if(a!=null&&a.length){var w=tn(a,l,!0)-1;if(Kr(a[w],l))return w}return-1},R.startCase=yc,R.startsWith=function(a,l,w){return a=Ot(a),w=w==null?0:Ta(mt(w),0,a.length),l=xn(l),a.slice(w,w+l.length)==l},R.subtract=Oc,R.sum=function(a){return a&&a.length?Us(a,Yn):0},R.sumBy=function(a,l){return a&&a.length?Us(a,st(l,2)):0},R.template=function(a,l,w){var A=R.templateSettings;w&&Gt(a,l,w)&&(l=n),a=Ot(a),l=Cu({},l,A,ys);var I,U,D=Cu({},l.imports,A.imports,ys),E=An(D),N=ll(D,E),v=0,m=l.interpolate||Oo,x="__p += '",P=Ke((l.escape||Oo).source+"|"+m.source+"|"+(m===wi?fn:Oo).source+"|"+(l.evaluate||Oo).source+"|$","g"),L="//# sourceURL="+($t.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++No+"]")+`
`;a.replace(P,function(Y,re,ne,ce,me,be){return ne||(ne=ce),x+=a.slice(v,be).replace(Ru,ra),re&&(I=!0,x+=`' +
__e(`+re+`) +
'`),me&&(U=!0,x+=`';
`+me+`;
__p += '`),ne&&(x+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),v=be+Y.length,Y}),x+=`';
`;var H=$t.call(l,"variable")&&l.variable;if(H){if(gt.test(H))throw new Ue("Invalid `variable` option passed into `_.template`")}else x=`with (obj) {
`+x+`
}
`;x=(U?x.replace(Ze,""):x).replace(xt,"$1").replace(wt,"$1;"),x="function("+(H||"obj")+`) {
`+(H?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var V=_u(function(){return pt(E,L+"return "+x).apply(n,N)});if(V.source=x,Nr(V))throw V;return V},R.times=function(a,l){if((a=mt(a))<1||a>u)return[];var w=p,A=wn(a,p);l=st(l),a-=p;for(var I=tc(A,l);++w<a;)l(w);return I},R.toFinite=yi,R.toInteger=mt,R.toLength=Du,R.toLower=function(a){return Ot(a).toLowerCase()},R.toNumber=xr,R.toSafeInteger=function(a){return a?Ta(mt(a),-9007199254740991,u):a===0?a:0},R.toString=Ot,R.toUpper=function(a){return Ot(a).toUpperCase()},R.trim=function(a,l,w){if((a=Ot(a))&&(w||l===n))return Hl(a);if(!a||!(l=xn(l)))return a;var A=ii(a),I=ii(l);return Zi(A,Vl(A,I),ga(A,I)+1).join("")},R.trimEnd=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.slice(0,Qo(a)+1);if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,0,ga(A,ii(l))+1).join("")},R.trimStart=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.replace(Se,"");if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,Vl(A,ii(l))).join("")},R.truncate=function(a,l){var w=30,A="...";if(on(l)){var I="separator"in l?l.separator:I;w="length"in l?mt(l.length):w,A="omission"in l?xn(l.omission):A}var U=(a=Ot(a)).length;if(Wa(a)){var D=ii(a);U=D.length}if(w>=U)return a;var E=w-Qi(A);if(E<1)return A;var N=D?Zi(D,0,E).join(""):a.slice(0,E);if(I===n)return N+A;if(D&&(E+=N.length-E),Fi(I)){if(a.slice(E).search(I)){var v,m=N;for(I.global||(I=Ke(I.source,Ot(kn.exec(I))+"g")),I.lastIndex=0;v=I.exec(m);)var x=v.index;N=N.slice(0,x===n?E:x)}}else if(a.indexOf(xn(I),E)!=E){var P=N.lastIndexOf(I);P>-1&&(N=N.slice(0,P))}return N+A},R.unescape=function(a){return(a=Ot(a))&&an.test(a)?a.replace(Dt,vf):a},R.uniqueId=function(a){var l=++Zh;return Ot(a)+l},R.upperCase=bs,R.upperFirst=ba,R.each=Df,R.eachRight=Wc,R.first=Si,Ds(R,(fs={},Pn(R,function(a,l){$t.call(R.prototype,l)||(fs[l]=a)}),fs),{chain:!1}),R.VERSION="4.17.21",jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),jr(["drop","take"],function(a,l){_t.prototype[a]=function(w){w=w===n?1:Tn(mt(w),0);var A=this.__filtered__&&!l?new _t(this):this.clone();return A.__filtered__?A.__takeCount__=wn(w,A.__takeCount__):A.__views__.push({size:wn(w,p),type:a+(A.__dir__<0?"Right":"")}),A},_t.prototype[a+"Right"]=function(w){return this.reverse()[a](w).reverse()}}),jr(["filter","map","takeWhile"],function(a,l){var w=l+1,A=w==1||w==3;_t.prototype[a]=function(I){var U=this.clone();return U.__iteratees__.push({iteratee:st(I,3),type:w}),U.__filtered__=U.__filtered__||A,U}}),jr(["head","last"],function(a,l){var w="take"+(l?"Right":"");_t.prototype[a]=function(){return this[w](1).value()[0]}}),jr(["initial","tail"],function(a,l){var w="drop"+(l?"":"Right");_t.prototype[a]=function(){return this.__filtered__?new _t(this):this[w](1)}}),_t.prototype.compact=function(){return this.filter(Yn)},_t.prototype.find=function(a){return this.filter(a).head()},_t.prototype.findLast=function(a){return this.reverse().find(a)},_t.prototype.invokeMap=Ct(function(a,l){return typeof a=="function"?new _t(this):this.map(function(w){return Xr(w,a,l)})}),_t.prototype.reject=function(a){return this.filter(ws(st(a)))},_t.prototype.slice=function(a,l){a=mt(a);var w=this;return w.__filtered__&&(a>0||l<0)?new _t(w):(a<0?w=w.takeRight(-a):a&&(w=w.drop(a)),l!==n&&(w=(l=mt(l))<0?w.dropRight(-l):w.take(l-a)),w)},_t.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},_t.prototype.toArray=function(){return this.take(p)},Pn(_t.prototype,function(a,l){var w=/^(?:filter|find|map|reject)|While$/.test(l),A=/^(?:head|last)$/.test(l),I=R[A?"take"+(l=="last"?"Right":""):l],U=A||/^find/.test(l);I&&(R.prototype[l]=function(){var D=this.__wrapped__,E=A?[1]:arguments,N=D instanceof _t,v=E[0],m=N||dt(D),x=function(re){var ne=I.apply(R,Xn([re],E));return A&&P?ne[0]:ne};m&&w&&typeof v=="function"&&v.length!=1&&(N=m=!1);var P=this.__chain__,L=!!this.__actions__.length,H=U&&!P,V=N&&!L;if(!U&&m){D=V?D:new _t(this);var Y=a.apply(D,E);return Y.__actions__.push({func:vl,args:[x],thisArg:n}),new Lr(Y,P)}return H&&V?a.apply(this,E):(Y=this.thru(x),H?A?Y.value()[0]:Y.value():Y)})}),jr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Vt[a],w=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",A=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var I=arguments;if(A&&!this.__chain__){var U=this.value();return l.apply(dt(U)?U:[],I)}return this[w](function(D){return l.apply(dt(D)?D:[],I)})}}),Pn(_t.prototype,function(a,l){var w=R[l];if(w){var A=w.name+"";$t.call(Pa,A)||(Pa[A]=[]),Pa[A].push({name:l,func:w})}}),Pa[Fo(n,2).name]=[{name:"wrapper",func:n}],_t.prototype.clone=function(){var a=new _t(this.__wrapped__);return a.__actions__=or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=or(this.__views__),a},_t.prototype.reverse=function(){if(this.__filtered__){var a=new _t(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},_t.prototype.value=function(){var a=this.__wrapped__.value(),l=this.__dir__,w=dt(a),A=l<0,I=w?a.length:0,U=function(be,we,Te){for(var Ge=-1,Ie=Te.length;++Ge<Ie;){var Xe=Te[Ge],Ye=Xe.size;switch(Xe.type){case"drop":be+=Ye;break;case"dropRight":we-=Ye;break;case"take":we=wn(we,be+Ye);break;case"takeRight":be=Tn(be,we-Ye)}}return{start:be,end:we}}(0,I,this.__views__),D=U.start,E=U.end,N=E-D,v=A?E:D-1,m=this.__iteratees__,x=m.length,P=0,L=wn(N,this.__takeCount__);if(!w||!A&&I==N&&L==N)return Ia(a,this.__actions__);var H=[];e:for(;N--&&P<L;){for(var V=-1,Y=a[v+=l];++V<x;){var re=m[V],ne=re.iteratee,ce=re.type,me=ne(Y);if(ce==2)Y=me;else if(!me){if(ce==1)continue e;break e}}H[P++]=Y}return H},R.prototype.at=nh,R.prototype.chain=function(){return ph(this)},R.prototype.commit=function(){return new Lr(this.value(),this.__chain__)},R.prototype.next=function(){this.__values__===n&&(this.__values__=Qu(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?n:this.__values__[this.__index__++]}},R.prototype.plant=function(a){for(var l,w=this;w instanceof Yu;){var A=$c(w);A.__index__=0,A.__values__=n,l?I.__wrapped__=A:l=A;var I=A;w=w.__wrapped__}return I.__wrapped__=a,l},R.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof _t){var l=a;return this.__actions__.length&&(l=new _t(this)),(l=l.reverse()).__actions__.push({func:vl,args:[Rl],thisArg:n}),new Lr(l,this.__chain__)}return this.thru(Rl)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function(){return Ia(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Wi&&(R.prototype[Wi]=function(){return this}),R}();Mo?((Mo.exports=ia)._=ia,rr._=ia):Bt._=ia}).call(OD.exports)),OD.exports);function Jj(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function C_(){return C_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},C_.apply(null,arguments)}(function(){function n(e,t){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=t,this.rootNode=e(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}Object.defineProperty(n.prototype,"windows",{get:function(){var e=function(t){return Im([t],t.children.flatMap(e))};return jie.orderBy(e(this.rootNode),function(t){return t.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var e=function(t){var r=t._boxSnapshot,i=[];if(i.push("KEY: ".concat(t.key)),t._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(t.getLayer())),i.push("BOX: [".concat(t.o[0],", ").concat(t.o[1],", ").concat(t.w,", ").concat(t.h,"]")),i.push("GLOBAL O: [".concat(t.globalO[0],", ").concat(t.globalO[1],"]")),i.push("CHILDREN:"),t.children.length>0){for(var o=t.children,s=[],u=0;u<o.length;u++){var c=o[u];s.push(e(c))}for(i.push(" |"),u=0;u<s.length;u++){for(var p=s[u],f=u===s.length-1?" └─":" ├─",g=0;g<p.length;g++){var y=g===0?f:u===s.length-1?"   ":" | ",b=p[g];i.push("".concat(y,"  ").concat(b))}u<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("  └─ (no children)");return t._boxSnapshot=r,i};console.log(e(this.rootNode).join(`
`))},n.prototype.onUpdate=function(e){this.onUpdateFunction=e},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new qf(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new qf([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(e,t){var r=this.scheduleUpdate(e);this.scheduledStateUpdates.push([r,function(){e.state=t}])},n.prototype.scheduleContextUpdate=function(e,t,r){var i=this.scheduleUpdate(e);this.scheduledStateUpdates.push([i,function(){e.context[t]=r}])},n.prototype.setSingleUpdateFlag=function(e,t){this.scheduledUpdateNodeMap[t]||(this.scheduledUpdateNodeMap[t]={}),this.scheduledUpdateNodeMap[t][e.globalKey]=!0},n.prototype.scheduleUpdate=function(e){var t=this,r=function(){t.DEBUG&&console.log("Scheduling update for ".concat(e.globalKey,". Received id ").concat(t.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=Jj();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(t.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(t.scheduledUpdateIds,null,2),`.
                    `)),t.updateRunning=!0;t.scheduledUpdateIds.length>0;)t.updateScheduled=!1,t.updateCurrentId();t.updateRunning=!1}),this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=Jj(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(e){console.error(e)}},n.prototype.propogateUpdateFlags=function(e){var t=this,r=function(i,o,s){t.scheduledUpdateNodeMap[o]||(t.scheduledUpdateNodeMap[o]={}),t.scheduledUpdateNodeMap[o][i.globalKey]&&(s=!0),t.scheduledUpdateNodeMap[o][i.globalKey]=s,i.children.forEach(function(u){return r(u,o,s)})};r(this.rootNode,e,!1)},n.prototype.updateCurrentId=function(){var e=this,t=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[t]).forEach(function(i){e.propogateUpdateFlags(t)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==t}),this.scheduledStateUpdates.filter(function(i){return i[0]===t}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==t});var r=this.scheduledUpdateNodeMap[t];this.update(r),delete this.scheduledUpdateNodeMap[t]},n.prototype.taintLayer=function(e){this.taintedLayers.includes(e)||this.taintedLayers.push(e)},n.prototype.findCameraPathRecursive=function(e,t){var r,i;if(e._isPrimaryCamera){var o=e.globalKey;return Ou(Ou({},t),((r={})[o]=!0,r))}for(var s=e.children,u=0;u<s.length;u++){var c=s[u],p=(o=c.globalKey,Ou(Ou({},t),((i={})[o]=!0,i))),f=this.findCameraPathRecursive(c,p);if(f)return f}},n.prototype.AND_updateMaps=function(e,t){var r={};for(var i in e)t[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(e,t){var r={};for(var i in e)t[i]||(r[i]=!0);for(var i in t)e[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(e,t){var r=this.AND_updateMaps(e,t);return[r,this.XOR_updateMaps(e,r)]},n.prototype.setNeedsUpdateToMap=function(e){var t=function(r){var i=r.globalKey;e[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(e){var t=function(r){var i=r.globalKey;e[i]&&(r._needsUpdate=!0),r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.installCamera=function(e){this.cameraNode!==e&&(this.scheduledCameraNode=e,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(e){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var t=this.findCameraPathRecursive(this.rootNode,{});if(!t)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(e,t),i=r[0],o=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(e),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(o),null,2),`
            `));var s=function(u,c){u._needsUpdate?c?u.cameraPassUpdateSelf():u.regularPassUpdateSelf():u.children.forEach(function(p){return s(p,c)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(o),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var e=this.canvas.getContext("2d");if(!e)throw new Error("Could not get 2d context from canvas");e.clearRect(0,0,this.canvas.width,this.canvas.height),function(r,i,o,s,u){var c=(r=new qf(Im([],r.o),r.w,r.h)).getBoundingBox(),p=i.filter(function(b){return Iy(b.getBoundingBox(),c)}),f=Array.from(new Set(p.map(function(b){return b.getLayer()}))).sort(function(b,_){return b-_});s.clearRect(0,0,o.width,o.height);for(var g=function(b){var _=f[b],M=p.filter(function(Q){return Q.getLayer()===f[b]});if(u.includes(_)){var F=_+"";if(Mw[F]===void 0){var O=document.createElement("canvas");O.width=o.width,O.height=o.height,Mw[F]=O}var j=Mw[F],z=j.getContext("2d");z.clearRect(0,0,j.width,j.height);for(var W=0,J=M;W<J.length;W++)J[W].renderPrimitive(z)}var G=_+"";Mw[G]&&s.drawImage(Mw[G],0,0)},y=0;y<f.length;y++)g(y)}(this.cameraSnapshot,this.windows,this.canvas,e,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new qf(Im([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Iy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseDownPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseMoveHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new qf(Im([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Iy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseMovePrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseUpHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new qf(Im([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Iy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseUpPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseWheelHandler=function(e){(function(r,i,o,s){for(var u=(r=new qf(Im([],r.o),r.w,r.h)).getBoundingBox(),c=i.filter(function(b){return Iy(b.getBoundingBox(),u)}).reverse(),p=!0,f=function(){p=!1},g=0,y=c;g<y.length&&(y[g].onWheelPrimitive(f,s),p);g++);})(this.cameraSnapshot,this.windows,this.canvas,e)},n.prototype.clickHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new qf(Im([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return Iy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onClickPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)}})();var kW={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function ND(n,e){return!(!function(t){return typeof t=="object"&&t&&t.constructor===Object}(n)&&!Array.isArray(n)||!nx(Lie,e)&&(e in Object.prototype||e in Function.prototype))}var Lie={length:!0,name:!0},$ie={toString:!0,valueOf:!0,toLocaleString:!0};class zie{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return function(r,i){if(ND(r,i))return r[i];throw typeof r[i]=="function"&&function(o,s){return!(o==null||typeof o[s]!="function"||nx(o,s)&&Object.getPrototypeOf&&s in Object.getPrototypeOf(o)||!nx($ie,s)&&(s in Object.prototype||s in Function.prototype))}(r,i)?new Error('Cannot access method "'+i+'" as a property'):new Error('No access to property "'+i+'"')}(this.wrappedObject,e)}set(e,t){return function(r,i,o){if(ND(r,i))return r[i]=o,o;throw new Error('No access to property "'+i+'"')}(this.wrappedObject,e,t),this}has(e){return ND(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return e=this.keys(),t=r=>[r,this.get(r)],{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}};var e,t}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){ND(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Yf(n){return typeof n=="number"}function $p(n){return!(!n||typeof n!="object"||typeof n.constructor!="function")&&(n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0)}function Uie(n){return typeof n=="bigint"}function MW(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function FW(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function PW(n){return n&&n.constructor.prototype.isUnit===!0||!1}function S0(n){return typeof n=="string"}var Jh=Array.isArray;function T0(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function S_(n){return Array.isArray(n)||T0(n)}function Wie(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Hie(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Vie(n){return n&&n.constructor.prototype.isRange===!0||!1}function uO(n){return n&&n.constructor.prototype.isIndex===!0||!1}function qie(n){return typeof n=="boolean"}function Kie(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function Gie(n){return n&&n.constructor.prototype.isHelp===!0||!1}function Yie(n){return typeof n=="function"}function Jie(n){return n instanceof Date}function Xie(n){return n instanceof RegExp}function lO(n){return!(!n||typeof n!="object"||n.constructor!==Object||MW(n)||FW(n))}function Qie(n){return!!n&&(n instanceof Map||n instanceof zie||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function")}function Zie(n){return n===null}function eoe(n){return n===void 0}function toe(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function noe(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function roe(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function ioe(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function ooe(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function aoe(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function soe(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function uoe(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function loe(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function coe(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function foe(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function hoe(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function poe(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function goe(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function moe(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function doe(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function voe(n){return n&&n.constructor.prototype.isChain===!0||!1}function ty(n){var e=typeof n;return e==="object"?n===null?"null":$p(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function dp(n){var e=typeof n;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||n==null)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return dp(t)});if(n instanceof Date)return new Date(n.valueOf());if($p(n))return n;if(lO(n))return function(t,r){var i={};for(var o in t)nx(t,o)&&(i[o]=r(t[o]));return i}(n,dp);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function dv(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!dv(n[r],e[r]))return!1;return!0}if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!dv(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function nx(n,e){return n&&Object.hasOwnProperty.call(n,e)}var cO=function(n){if(n)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(kW)};function Xj(){return!0}function lm(){return!1}function Oy(){}C_(cO,kW,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const Qj="Argument is not a typed-function.";var __=function n(){function e(fe){return typeof fe=="object"&&fe!==null&&fe.constructor===Object}const t=[{name:"number",test:function(fe){return typeof fe=="number"}},{name:"string",test:function(fe){return typeof fe=="string"}},{name:"boolean",test:function(fe){return typeof fe=="boolean"}},{name:"Function",test:function(fe){return typeof fe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(fe){return fe instanceof Date}},{name:"RegExp",test:function(fe){return fe instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(fe){return fe===null}},{name:"undefined",test:function(fe){return fe===void 0}}],r={name:"any",test:Xj,isAny:!0};let i,o,s=0,u={createCount:0};function c(fe){const ue=i.get(fe);if(ue)return ue;let ve='Unknown type "'+fe+'"';const Se=fe.toLowerCase();let Re;for(Re of o)if(Re.toLowerCase()===Se){ve+='. Did you mean "'+Re+'" ?';break}throw new TypeError(ve)}function p(fe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ve=ue?c(ue).index:o.length,Se=[];for(let Be=0;Be<fe.length;++Be){if(!fe[Be]||typeof fe[Be].name!="string"||typeof fe[Be].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const He=fe[Be].name;if(i.has(He))throw new TypeError('Duplicate type name "'+He+'"');Se.push(He),i.set(He,{name:He,test:fe[Be].test,isAny:fe[Be].isAny,index:ve+Be,conversionsTo:[]})}const Re=o.slice(ve);o=o.slice(0,ve).concat(Se).concat(Re);for(let Be=ve+Se.length;Be<o.length;++Be)i.get(o[Be]).index=Be}function f(){i=new Map,o=[],s=0,p([r],!1)}function g(fe){const ue=o.filter(ve=>{const Se=i.get(ve);return!Se.isAny&&Se.test(fe)});return ue.length?ue:["any"]}function y(fe){return fe&&typeof fe=="function"&&"_typedFunctionData"in fe}function b(fe,ue,ve){if(!y(fe))throw new TypeError(Qj);const Se=ve&&ve.exact,Re=j(Array.isArray(ue)?ue.join(","):ue),Be=_(Re);if(!Se||Be in fe.signatures){const gt=fe._typedFunctionData.signatureMap.get(Be);if(gt)return gt}const He=Re.length;let We,ot;if(Se){let gt;for(gt in We=[],fe.signatures)We.push(fe._typedFunctionData.signatureMap.get(gt))}else We=fe._typedFunctionData.signatures;for(let gt=0;gt<He;++gt){const bt=Re[gt],fn=[];let kn;for(kn of We){const yn=G(kn.params,gt);if(yn&&(!bt.restParam||yn.restParam)){if(!yn.hasAny){const At=O(yn);if(bt.types.some(Ui=>!At.has(Ui.name)))continue}fn.push(kn)}}if(We=fn,We.length===0)break}for(ot of We)if(ot.params.length<=He)return ot;throw new TypeError("Signature not found (signature: "+(fe.name||"unnamed")+"("+_(Re,", ")+"))")}function _(fe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return fe.map(ve=>ve.name).join(ue)}function M(fe){const ue=fe.indexOf("...")===0,ve=(ue?fe.length>3?fe.slice(3):"any":fe).split("|").map(Be=>c(Be.trim()));let Se=!1,Re=ue?"...":"";return{types:ve.map(function(Be){return Se=Be.isAny||Se,Re+=Be.name+"|",{name:Be.name,typeIndex:Be.index,test:Be.test,isAny:Be.isAny,conversion:null,conversionIndex:-1}}),name:Re.slice(0,-1),hasAny:Se,hasConversion:!1,restParam:ue}}function F(fe){const ue=function(Be){if(Be.length===0)return[];const He=Be.map(c);Be.length>1&&He.sort((gt,bt)=>gt.index-bt.index);let We=He[0].conversionsTo;if(Be.length===1)return We;We=We.concat([]);const ot=new Set(Be);for(let gt=1;gt<He.length;++gt){let bt;for(bt of He[gt].conversionsTo)ot.has(bt.from)||(We.push(bt),ot.add(bt.from))}return We}(fe.types.map(Be=>Be.name));let ve=fe.hasAny,Se=fe.name;const Re=ue.map(function(Be){const He=c(Be.from);return ve=He.isAny||ve,Se+="|"+Be.from,{name:Be.from,typeIndex:He.index,test:He.test,isAny:He.isAny,conversion:Be,conversionIndex:Be.index}});return{types:fe.types.concat(Re),name:Se,hasAny:ve,hasConversion:Re.length>0,restParam:fe.restParam}}function O(fe){return fe.typeSet||(fe.typeSet=new Set,fe.types.forEach(ue=>fe.typeSet.add(ue.name))),fe.typeSet}function j(fe){const ue=[];if(typeof fe!="string")throw new TypeError("Signatures must be strings");const ve=fe.trim();if(ve==="")return ue;const Se=ve.split(",");for(let Re=0;Re<Se.length;++Re){const Be=M(Se[Re].trim());if(Be.restParam&&Re!==Se.length-1)throw new SyntaxError('Unexpected rest parameter "'+Se[Re]+'": only allowed for the last parameter');if(Be.types.length===0)return null;ue.push(Be)}return ue}function z(fe){const ue=xt(fe);return!!ue&&ue.restParam}function W(fe){if(fe&&fe.types.length!==0){if(fe.types.length===1)return c(fe.types[0].name).test;if(fe.types.length===2){const ue=c(fe.types[0].name).test,ve=c(fe.types[1].name).test;return function(Se){return ue(Se)||ve(Se)}}{const ue=fe.types.map(function(ve){return c(ve.name).test});return function(ve){for(let Se=0;Se<ue.length;Se++)if(ue[Se](ve))return!0;return!1}}}return Xj}function J(fe){let ue,ve,Se;if(z(fe)){ue=Ze(fe).map(W);const Re=ue.length,Be=W(xt(fe)),He=function(We){for(let ot=Re;ot<We.length;ot++)if(!Be(We[ot]))return!1;return!0};return function(We){for(let ot=0;ot<ue.length;ot++)if(!ue[ot](We[ot]))return!1;return He(We)&&We.length>=Re+1}}return fe.length===0?function(Re){return Re.length===0}:fe.length===1?(ve=W(fe[0]),function(Re){return ve(Re[0])&&Re.length===1}):fe.length===2?(ve=W(fe[0]),Se=W(fe[1]),function(Re){return ve(Re[0])&&Se(Re[1])&&Re.length===2}):(ue=fe.map(W),function(Re){for(let Be=0;Be<ue.length;Be++)if(!ue[Be](Re[Be]))return!1;return Re.length===ue.length})}function G(fe,ue){return ue<fe.length?fe[ue]:z(fe)?xt(fe):null}function Q(fe,ue){const ve=G(fe,ue);return ve?O(ve):new Set}function te(fe){return fe.conversion===null||fe.conversion===void 0}function ae(fe,ue){const ve=new Set;return fe.forEach(Se=>{const Re=Q(Se.params,ue);let Be;for(Be of Re)ve.add(Be)}),ve.has("any")?["any"]:Array.from(ve)}function se(fe,ue,ve){let Se,Re;const Be=fe||"unnamed";let He,We=ve;for(He=0;He<ue.length;He++){const fn=[];if(We.forEach(kn=>{const yn=W(G(kn.params,He));(He<kn.params.length||z(kn.params))&&yn(ue[He])&&fn.push(kn)}),fn.length===0){if(Re=ae(We,He),Re.length>0){const kn=g(ue[He]);return Se=new TypeError("Unexpected type of argument in function "+Be+" (expected: "+Re.join(" or ")+", actual: "+kn.join(" | ")+", index: "+He+")"),Se.data={category:"wrongType",fn:Be,index:He,actual:kn,expected:Re},Se}}else We=fn}const ot=We.map(function(fn){return z(fn.params)?1/0:fn.params.length});if(ue.length<Math.min.apply(null,ot))return Re=ae(We,He),Se=new TypeError("Too few arguments in function "+Be+" (expected: "+Re.join(" or ")+", index: "+ue.length+")"),Se.data={category:"tooFewArgs",fn:Be,index:ue.length,expected:Re},Se;const gt=Math.max.apply(null,ot);if(ue.length>gt)return Se=new TypeError("Too many arguments in function "+Be+" (expected: "+gt+", actual: "+ue.length+")"),Se.data={category:"tooManyArgs",fn:Be,index:ue.length,expectedLength:gt},Se;const bt=[];for(let fn=0;fn<ue.length;++fn)bt.push(g(ue[fn]).join("|"));return Se=new TypeError('Arguments of type "'+bt.join(", ")+'" do not match any of the defined signatures of function '+Be+"."),Se.data={category:"mismatch",actual:bt},Se}function ge(fe){let ue=o.length+1;for(let ve=0;ve<fe.types.length;ve++)te(fe.types[ve])&&(ue=Math.min(ue,fe.types[ve].typeIndex));return ue}function xe(fe){let ue=s+1;for(let ve=0;ve<fe.types.length;ve++)te(fe.types[ve])||(ue=Math.min(ue,fe.types[ve].conversionIndex));return ue}function Pe(fe,ue){if(fe.hasAny){if(!ue.hasAny)return 1}else if(ue.hasAny)return-1;if(fe.restParam){if(!ue.restParam)return 1}else if(ue.restParam)return-1;if(fe.hasConversion){if(!ue.hasConversion)return 1}else if(ue.hasConversion)return-1;const ve=ge(fe)-ge(ue);if(ve<0)return-1;if(ve>0)return 1;const Se=xe(fe)-xe(ue);return Se<0?-1:Se>0?1:0}function Ce(fe,ue){const ve=fe.params,Se=ue.params,Re=xt(ve),Be=xt(Se),He=z(ve),We=z(Se);if(He&&Re.hasAny){if(!We||!Be.hasAny)return 1}else if(We&&Be.hasAny)return-1;let ot,gt=0,bt=0;for(ot of ve)ot.hasAny&&++gt,ot.hasConversion&&++bt;let fn=0,kn=0;for(ot of Se)ot.hasAny&&++fn,ot.hasConversion&&++kn;if(gt!==fn)return gt-fn;if(He&&Re.hasConversion){if(!We||!Be.hasConversion)return 1}else if(We&&Be.hasConversion)return-1;if(bt!==kn)return bt-kn;if(He){if(!We)return 1}else if(We)return-1;const yn=(ve.length-Se.length)*(He?-1:1);if(yn!==0)return yn;const At=[];let Ui,io=0;for(let bo=0;bo<ve.length;++bo){const ta=Pe(ve[bo],Se[bo]);At.push(ta),io+=ta}if(io!==0)return io;for(Ui of At)if(Ui!==0)return Ui;return 0}function Me(fe,ue){let ve=ue;if(fe.some(Re=>Re.hasConversion)){const Re=z(fe),Be=fe.map(Oe);ve=function(){const He=[],We=Re?arguments.length-1:arguments.length;for(let ot=0;ot<We;ot++)He[ot]=Be[ot](arguments[ot]);return Re&&(He[We]=arguments[We].map(Be[We])),ue.apply(this,He)}}let Se=ve;if(z(fe)){const Re=fe.length-1;Se=function(){return ve.apply(this,wt(arguments,0,Re).concat([wt(arguments,Re)]))}}return Se}function Oe(fe){let ue,ve,Se,Re;const Be=[],He=[];switch(fe.types.forEach(function(We){We.conversion&&(Be.push(c(We.conversion.from).test),He.push(We.conversion.convert))}),He.length){case 0:return function(We){return We};case 1:return ue=Be[0],Se=He[0],function(We){return ue(We)?Se(We):We};case 2:return ue=Be[0],ve=Be[1],Se=He[0],Re=He[1],function(We){return ue(We)?Se(We):ve(We)?Re(We):We};default:return function(We){for(let ot=0;ot<He.length;ot++)if(Be[ot](We))return He[ot](We);return We}}}function et(fe){return function ue(ve,Se,Re){if(Se<ve.length){const We=ve[Se];let ot=[];if(We.restParam){const gt=We.types.filter(te);gt.length<We.types.length&&ot.push({types:gt,name:"..."+gt.map(bt=>bt.name).join("|"),hasAny:gt.some(bt=>bt.isAny),hasConversion:!1,restParam:!0}),ot.push(We)}else ot=We.types.map(function(gt){return{types:[gt],name:gt.name,hasAny:gt.isAny,hasConversion:gt.conversion,restParam:!1}});return Be=ot,He=function(gt){return ue(ve,Se+1,Re.concat([gt]))},Array.prototype.concat.apply([],Be.map(He))}return[Re];var Be,He}(fe,0,[])}function $e(fe,ue){const ve=Math.max(fe.length,ue.length);for(let We=0;We<ve;We++){const ot=Q(fe,We),gt=Q(ue,We);let bt,fn=!1;for(bt of gt)if(ot.has(bt)){fn=!0;break}if(!fn)return!1}const Se=fe.length,Re=ue.length,Be=z(fe),He=z(ue);return Be?He?Se===Re:Re>=Se:He?Se>=Re:Se===Re}function Fe(fe,ue,ve){const Se=[];let Re;for(Re of fe){let Be=ve[Re];if(typeof Be!="number")throw new TypeError('No definition for referenced signature "'+Re+'"');if(Be=ue[Be],typeof Be!="function")return!1;Se.push(Be)}return Se}function Ne(fe,ue,ve){const Se=function(He){return He.map(We=>un(We)?rn(We.referToSelf.callback):an(We)?Dt(We.referTo.references,We.referTo.callback):We)}(fe),Re=new Array(Se.length).fill(!1);let Be=!0;for(;Be;){Be=!1;let He=!0;for(let We=0;We<Se.length;++We){if(Re[We])continue;const ot=Se[We];if(un(ot))Se[We]=ot.referToSelf.callback(ve),Se[We].referToSelf=ot.referToSelf,Re[We]=!0,He=!1;else if(an(ot)){const gt=Fe(ot.referTo.references,Se,ue);gt?(Se[We]=ot.referTo.callback.apply(this,gt),Se[We].referTo=ot.referTo,Re[We]=!0,He=!1):Be=!0}}if(He&&Be)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Se}function Ee(fe,ue,ve){throw se(fe,ue,ve)}function Ze(fe){return wt(fe,0,fe.length-1)}function xt(fe){return fe[fe.length-1]}function wt(fe,ue,ve){return Array.prototype.slice.call(fe,ue,ve)}function Dt(fe,ue){return{referTo:{references:fe,callback:ue}}}function rn(fe){if(typeof fe!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:fe}}}function an(fe){return fe&&typeof fe.referTo=="object"&&Array.isArray(fe.referTo.references)&&typeof fe.referTo.callback=="function"}function un(fe){return fe&&typeof fe.referToSelf=="object"&&typeof fe.referToSelf.callback=="function"}function ur(fe,ue){if(!fe)return ue;if(ue&&ue!==fe){const ve=new Error("Function names do not match (expected: "+fe+", actual: "+ue+")");throw ve.data={actual:ue,expected:fe},ve}return fe}function Fn(fe){let ue;for(const ve in fe)Object.prototype.hasOwnProperty.call(fe,ve)&&(y(fe[ve])||typeof fe[ve].signature=="string")&&(ue=ur(ue,fe[ve].name));return ue}function wi(fe,ue){let ve;for(ve in ue)if(Object.prototype.hasOwnProperty.call(ue,ve)){if(ve in fe&&ue[ve]!==fe[ve]){const Se=new Error('Signature "'+ve+'" is defined twice');throw Se.data={signature:ve,sourceFunction:ue[ve],destFunction:fe[ve]},Se}fe[ve]=ue[ve]}}f(),p(t);const js=u;function $a(fe){if(!fe||typeof fe.from!="string"||typeof fe.to!="string"||typeof fe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(fe.to===fe.from)throw new SyntaxError('Illegal to define conversion from "'+fe.from+'" to itself.')}return u=function(fe){const ue=typeof fe=="string";let ve=ue?fe:"";const Se={};for(let Re=ue?1:0;Re<arguments.length;++Re){const Be=arguments[Re];let He,We={};if(typeof Be=="function"?(He=Be.name,typeof Be.signature=="string"?We[Be.signature]=Be:y(Be)&&(We=Be.signatures)):e(Be)&&(We=Be,ue||(He=Fn(Be))),Object.keys(We).length===0){const ot=new TypeError("Argument to 'typed' at index "+Re+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ot.data={index:Re,argument:Be},ot}ue||(ve=ur(ve,He)),wi(Se,We)}return function(Be,He){if(u.createCount++,Object.keys(He).length===0)throw new SyntaxError("No signatures provided");u.warnAgainstDeprecatedThis&&function(gn){const na=/\bthis(\(|\.signatures\b)/;Object.keys(gn).forEach(Sc=>{const El=gn[Sc];if(na.test(El.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(He);const We=[],ot=[],gt={},bt=[];let fn;for(fn in He){if(!Object.prototype.hasOwnProperty.call(He,fn))continue;const gn=j(fn);if(!gn)continue;We.forEach(function(No){if($e(No,gn))throw new TypeError('Conflicting signatures "'+_(No)+'" and "'+_(gn)+'".')}),We.push(gn);const na=ot.length;ot.push(He[fn]);const Sc=gn.map(F);let El;for(El of et(Sc)){const No=_(El);bt.push({params:El,name:No,fn:na}),El.every(Qt=>!Qt.hasConversion)&&(gt[No]=na)}}bt.sort(Ce);const kn=Ne(ot,gt,ha);let yn;for(yn in gt)Object.prototype.hasOwnProperty.call(gt,yn)&&(gt[yn]=kn[gt[yn]]);const At=[],Ui=new Map;for(yn of bt)Ui.has(yn.name)||(yn.fn=kn[yn.fn],At.push(yn),Ui.set(yn.name,yn));const io=At[0]&&At[0].params.length<=2&&!z(At[0].params),bo=At[1]&&At[1].params.length<=2&&!z(At[1].params),ta=At[2]&&At[2].params.length<=2&&!z(At[2].params),Oo=At[3]&&At[3].params.length<=2&&!z(At[3].params),Ru=At[4]&&At[4].params.length<=2&&!z(At[4].params),fa=At[5]&&At[5].params.length<=2&&!z(At[5].params),ju=io&&bo&&ta&&Oo&&Ru&&fa;for(let gn=0;gn<At.length;++gn)At[gn].test=J(At[gn].params);const eu=io?W(At[0].params[0]):lm,hs=bo?W(At[1].params[0]):lm,uu=ta?W(At[2].params[0]):lm,zl=Oo?W(At[3].params[0]):lm,Ss=Ru?W(At[4].params[0]):lm,Dl=fa?W(At[5].params[0]):lm,Cl=io?W(At[0].params[1]):lm,Qa=bo?W(At[1].params[1]):lm,Ul=ta?W(At[2].params[1]):lm,rl=Oo?W(At[3].params[1]):lm,Gu=Ru?W(At[4].params[1]):lm,Ls=fa?W(At[5].params[1]):lm;for(let gn=0;gn<At.length;++gn)At[gn].implementation=Me(At[gn].params,At[gn].fn);const Sl=io?At[0].implementation:Oy,_s=bo?At[1].implementation:Oy,xa=ta?At[2].implementation:Oy,za=Oo?At[3].implementation:Oy,Jo=Ru?At[4].implementation:Oy,il=fa?At[5].implementation:Oy,ol=io?At[0].params.length:-1,Ua=bo?At[1].params.length:-1,lu=ta?At[2].params.length:-1,al=Oo?At[3].params.length:-1,sl=Ru?At[4].params.length:-1,tu=fa?At[5].params.length:-1,cu=ju?6:0,_l=At.length,Pi=At.map(gn=>gn.test),Lu=At.map(gn=>gn.implementation),Br=function(){for(let gn=cu;gn<_l;gn++)if(Pi[gn](arguments))return Lu[gn].apply(this,arguments);return u.onMismatch(Be,arguments,At)};function ha(gn,na){return arguments.length===ol&&eu(gn)&&Cl(na)?Sl.apply(this,arguments):arguments.length===Ua&&hs(gn)&&Qa(na)?_s.apply(this,arguments):arguments.length===lu&&uu(gn)&&Ul(na)?xa.apply(this,arguments):arguments.length===al&&zl(gn)&&rl(na)?za.apply(this,arguments):arguments.length===sl&&Ss(gn)&&Gu(na)?Jo.apply(this,arguments):arguments.length===tu&&Dl(gn)&&Ls(na)?il.apply(this,arguments):Br.apply(this,arguments)}try{Object.defineProperty(ha,"name",{value:Be})}catch{}return ha.signatures=gt,ha._typedFunctionData={signatures:At,signatureMap:Ui},ha}(ve||"",Se)},u.create=n,u.createCount=js.createCount,u.onMismatch=Ee,u.throwMismatchError=Ee,u.createError=se,u.clear=f,u.clearConversions=function(){let fe;for(fe of o)i.get(fe).conversionsTo=[];s=0},u.addTypes=p,u._findType=c,u.referTo=function(){const fe=Ze(arguments).map(ve=>_(j(ve))),ue=xt(arguments);if(typeof ue!="function")throw new TypeError("Callback function expected as last argument");return Dt(fe,ue)},u.referToSelf=rn,u.convert=function(fe,ue){const ve=c(ue);if(ve.test(fe))return fe;const Se=ve.conversionsTo;if(Se.length===0)throw new Error("There are no conversions to "+ue+" defined.");for(let Re=0;Re<Se.length;Re++)if(c(Se[Re].from).test(fe))return Se[Re].convert(fe);throw new Error("Cannot convert "+fe+" to "+ue)},u.findSignature=b,u.find=function(fe,ue,ve){return b(fe,ue,ve).implementation},u.isTypedFunction=y,u.warnAgainstDeprecatedThis=!0,u.addType=function(fe,ue){let ve="any";ue!==!1&&i.has("Object")&&(ve="Object"),u.addTypes([fe],ve)},u.addConversion=function(fe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};$a(fe);const ve=c(fe.to),Se=ve.conversionsTo.find(Re=>Re.from===fe.from);if(Se){if(!ue||!ue.override)throw new Error('There is already a conversion from "'+fe.from+'" to "'+ve.name+'"');u.removeConversion({from:Se.from,to:fe.to,convert:Se.convert})}ve.conversionsTo.push({from:fe.from,convert:fe.convert,index:s++})},u.addConversions=function(fe,ue){fe.forEach(ve=>u.addConversion(ve,ue))},u.removeConversion=function(fe){$a(fe);const ue=c(fe.to),ve=function(Re,Be){for(let He=0;He<Re.length;He++)if(Be(Re[He]))return Re[He]}(ue.conversionsTo,Re=>Re.from===fe.from);if(!ve)throw new Error("Attempt to remove nonexistent conversion from "+fe.from+" to "+fe.to);if(ve.convert!==fe.convert)throw new Error("Conversion to remove does not match existing conversion");const Se=ue.conversionsTo.indexOf(ve);ue.conversionsTo.splice(Se,1)},u.resolve=function(fe,ue){if(!y(fe))throw new TypeError(Qj);const ve=fe._typedFunctionData.signatures;for(let Se=0;Se<ve.length;++Se)if(ve[Se].test(ue))return ve[Se];return null},u}();function If(n,e,t,r){function i(o){var s=function(u,c){for(var p={},f=0;f<c.length;f++){var g=c[f],y=u[g];y!==void 0&&(p[g]=y)}return p}(o,e.map(yoe));return function(u,c,p){var f=c.filter(y=>!function(b){return b&&b[0]==="?"}(y)).every(y=>p[y]!==void 0);if(!f){var g=c.filter(y=>p[y]===void 0);throw new Error('Cannot create function "'.concat(u,'", ')+"some dependencies are missing: ".concat(g.map(y=>'"'.concat(y,'"')).join(", "),"."))}}(n,e,o),t(s)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function yoe(n){return n&&n[0]==="?"?n.slice(1):n}function wp(n){return typeof n=="boolean"||!!isFinite(n)&&n===Math.round(n)}function dk(n,e,t){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!wp(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!wp(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),i="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(r).concat(n.toString(e)).concat(i)}function EP(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=TW(e);switch(t){case"fixed":return function(o,s){if(isNaN(o)||!isFinite(o))return String(o);var u=iS(o),c=typeof s=="number"?oS(u,u.exponent+1+s):u,p=c.coefficients,f=c.exponent+1,g=f+(s||0);return p.length<g&&(p=p.concat(Qy(g-p.length))),f<0&&(p=Qy(1-f).concat(p),f=1),f<p.length&&p.splice(f,0,f===0?"0.":"."),c.sign+p.join("")}(n,r);case"exponential":return Zj(n,r);case"engineering":return function(o,s){if(isNaN(o)||!isFinite(o))return String(o);var u=oS(iS(o),s),c=u.exponent,p=u.coefficients,f=c%3==0?c:c<0?c-3-c%3:c-c%3;if(Yf(s))for(;s>p.length||c-f+1>p.length;)p.push(0);else for(var g=Math.abs(c-f)-(p.length-1),y=0;y<g;y++)p.push(0);for(var b=Math.abs(c-f),_=1;b>0;)_++,b--;var M=p.slice(_).join(""),F=Yf(s)&&M.length||M.match(/[1-9]/)?"."+M:"",O=p.slice(0,_).join("")+F+"e"+(c>=0?"+":"")+f.toString();return u.sign+O}(n,r);case"bin":return dk(n,2,i);case"oct":return dk(n,8,i);case"hex":return dk(n,16,i);case"auto":return function(o,s,u){if(isNaN(o)||!isFinite(o))return String(o);var c=t9(u==null?void 0:u.lowerExp,-3),p=t9(u==null?void 0:u.upperExp,5),f=iS(o),g=s?oS(f,s):f;if(g.exponent<c||g.exponent>=p)return Zj(o,s);var y=g.coefficients,b=g.exponent;y.length<s&&(y=y.concat(Qy(s-y.length))),y=y.concat(Qy(b-y.length+1+(y.length<s?s-y.length:0)));var _=b>0?b:0;return _<(y=Qy(-b).concat(y)).length-1&&y.splice(_+1,0,"."),g.sign+y.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function TW(n){var e,t,r="auto";if(n!==void 0)if(Yf(n))e=n;else if($p(n))e=n.toNumber();else{if(!lO(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");n.precision!==void 0&&(e=e9(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(t=e9(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation)}return{notation:r,precision:e,wordSize:t}}function iS(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return s.length===0&&(s.push(0),i++),{sign:t,coefficients:s,exponent:i}}function Zj(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=iS(n),r=e?oS(t,e):t,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(Qy(e-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function oS(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;r[i]===10;)r.pop(),i===0&&(r.unshift(0),t.exponent++,i++),r[--i]++}return t}function Qy(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function aS(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}function e9(n,e){return Yf(n)?n:$p(n)?n.toNumber():void e()}function t9(n,e){return Yf(n)?n:$p(n)?n.toNumber():e}var IW=function(){return IW=__.create,__},woe=If("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:e,Complex:t,DenseMatrix:r,Fraction:i}=n,o=IW();return o.clear(),o.addTypes([{name:"number",test:Yf},{name:"Complex",test:MW},{name:"BigNumber",test:$p},{name:"bigint",test:Uie},{name:"Fraction",test:FW},{name:"Unit",test:PW},{name:"identifier",test:s=>S0&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:S0},{name:"Chain",test:voe},{name:"Array",test:Jh},{name:"Matrix",test:T0},{name:"DenseMatrix",test:Wie},{name:"SparseMatrix",test:Hie},{name:"Range",test:Vie},{name:"Index",test:uO},{name:"boolean",test:qie},{name:"ResultSet",test:Kie},{name:"Help",test:Gie},{name:"function",test:Yie},{name:"Date",test:Jie},{name:"RegExp",test:Xie},{name:"null",test:Zie},{name:"undefined",test:eoe},{name:"AccessorNode",test:toe},{name:"ArrayNode",test:noe},{name:"AssignmentNode",test:roe},{name:"BlockNode",test:ioe},{name:"ConditionalNode",test:ooe},{name:"ConstantNode",test:aoe},{name:"FunctionNode",test:uoe},{name:"FunctionAssignmentNode",test:soe},{name:"IndexNode",test:loe},{name:"Node",test:coe},{name:"ObjectNode",test:foe},{name:"OperatorNode",test:hoe},{name:"ParenthesisNode",test:poe},{name:"RangeNode",test:goe},{name:"RelationalNode",test:moe},{name:"SymbolNode",test:doe},{name:"Map",test:Qie},{name:"Object",test:lO}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(e||BD(s),s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new e(s)}},{from:"number",to:"Complex",convert:function(s){return t||RD(s),new t(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return t||RD(s),new t(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return e||BD(s),new e(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return i||jD(s),new i(s.toString())}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return t||RD(s),new t(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||jD(s);var u=new i(s);if(u.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(s){var u=Number(s);if(isNaN(u))throw new Error('Cannot convert "'+s+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(s){e||BD(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){i||jD(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){t||RD(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return e||BD(s),new e(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||jD(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),o.onMismatch=(s,u,c)=>{var p=o.createError(s,u,c);if(["wrongType","mismatch"].includes(p.data.category)&&u.length===1&&S_(u[0])&&c.some(g=>!g.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=p.data,f}throw p},o.onMismatch=(s,u,c)=>{var p=o.createError(s,u,c);if(["wrongType","mismatch"].includes(p.data.category)&&u.length===1&&S_(u[0])&&c.some(g=>!g.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=p.data,f}throw p},o});function BD(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function RD(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function jD(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var OW,od,u1=9e15,jd=1e9,AP="0123456789abcdef",E_="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",A_="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",kP={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-u1,maxE:u1,crypto:!1},Ja=!0,zE="[DecimalError] ",iv=zE+"Invalid argument: ",NW=zE+"Precision limit exceeded",BW=zE+"crypto unavailable",RW="[object Decimal]",Yp=Math.floor,op=Math.pow,boe=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,xoe=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Doe=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,n9=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Om=1e7,Coe=E_.length-1,MP=A_.length-1,dn={toStringTag:RW};function Ap(n){var e,t,r,i=n.length-1,o="",s=n[0];if(i>0){for(o+=s,e=1;e<i;e++)(t=7-(r=n[e]+"").length)&&(o+=Fd(t)),o+=r;(t=7-(r=(s=n[e])+"").length)&&(o+=Fd(t))}else if(s===0)return"0";for(;s%10==0;)s/=10;return o+s}function _g(n,e,t){if(n!==~~n||n<e||n>t)throw Error(iv+n)}function bb(n,e,t,r){var i,o,s,u;for(o=n[0];o>=10;o/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),o=op(10,7-e),u=n[i]%o|0,r==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),s=t<4&&u==99999||t>3&&u==49999||u==5e4||u==0):s=(t<4&&u+1==o||t>3&&u+1==o/2)&&(n[i+1]/o/100|0)==op(10,e-2)-1||(u==o/2||u==0)&&!(n[i+1]/o/100|0):e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),s=(r||t<4)&&u==9999||!r&&t>3&&u==4999):s=((r||t<4)&&u+1==o||!r&&t>3&&u+1==o/2)&&(n[i+1]/o/1e3|0)==op(10,e-3)-1,s}function sS(n,e,t){for(var r,i,o=[0],s=0,u=n.length;s<u;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=AP.indexOf(n.charAt(s++)),r=0;r<o.length;r++)o[r]>t-1&&(o[r+1]===void 0&&(o[r+1]=0),o[r+1]+=o[r]/t|0,o[r]%=t)}return o.reverse()}dn.absoluteValue=dn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),yo(n)},dn.ceil=function(){return yo(new this.constructor(this),this.e+1,2)},dn.clampedTo=dn.clamp=function(n,e){var t=this,r=t.constructor;if(n=new r(n),e=new r(e),!n.s||!e.s)return new r(NaN);if(n.gt(e))throw Error(iv+e);return t.cmp(n)<0?n:t.cmp(e)>0?e:new r(t)},dn.comparedTo=dn.cmp=function(n){var e,t,r,i,o=this,s=o.d,u=(n=new o.constructor(n)).d,c=o.s,p=n.s;if(!s||!u)return c&&p?c!==p?c:s===u?0:!s^c<0?1:-1:NaN;if(!s[0]||!u[0])return s[0]?c:u[0]?-p:0;if(c!==p)return c;if(o.e!==n.e)return o.e>n.e^c<0?1:-1;for(e=0,t=(r=s.length)<(i=u.length)?r:i;e<t;++e)if(s[e]!==u[e])return s[e]>u[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1},dn.cosine=dn.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+7,r.rounding=1,t=function(i,o){var s,u,c;if(o.isZero())return o;(u=o.d.length)<32?c=(1/LD(4,s=Math.ceil(u/3))).toString():(s=16,c="2.3283064365386962890625e-10"),i.precision+=s,o=Ny(i,1,o.times(c),new i(1));for(var p=s;p--;){var f=o.times(o);o=f.times(f).minus(f).times(8).plus(1)}return i.precision-=s,o}(r,o9(r,t)),r.precision=n,r.rounding=e,yo(od==2||od==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)},dn.cubeRoot=dn.cbrt=function(){var n,e,t,r,i,o,s,u,c,p,f=this,g=f.constructor;if(!f.isFinite()||f.isZero())return new g(f);for(Ja=!1,(o=f.s*op(f.s*f,1/3))&&Math.abs(o)!=1/0?r=new g(o.toString()):(t=Ap(f.d),(o=((n=f.e)-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=op(t,1/3),n=Yp((n+1)/3)-(n%3==(n<0?-1:2)),(r=new g(t=o==1/0?"5e"+n:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=f.s),s=(n=g.precision)+3;;)if(p=(c=(u=r).times(u).times(u)).plus(f),r=kf(p.plus(f).times(u),p.plus(c),s+2,1),Ap(u.d).slice(0,s)===(t=Ap(r.d)).slice(0,s)){if((t=t.slice(s-3,s+1))!="9999"&&(i||t!="4999")){+t&&(+t.slice(1)||t.charAt(0)!="5")||(yo(r,n+1,1),e=!r.times(r).times(r).eq(f));break}if(!i&&(yo(u,n+1,0),u.times(u).times(u).eq(f))){r=u;break}s+=4,i=1}return Ja=!0,yo(r,n,g.rounding,e)},dn.decimalPlaces=dn.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=7*((n=e.length-1)-Yp(this.e/7)),n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},dn.dividedBy=dn.div=function(n){return kf(this,new this.constructor(n))},dn.dividedToIntegerBy=dn.divToInt=function(n){var e=this.constructor;return yo(kf(this,new e(n),0,1,1),e.precision,e.rounding)},dn.equals=dn.eq=function(n){return this.cmp(n)===0},dn.floor=function(){return yo(new this.constructor(this),this.e+1,3)},dn.greaterThan=dn.gt=function(n){return this.cmp(n)>0},dn.greaterThanOrEqualTo=dn.gte=function(n){var e=this.cmp(n);return e==1||e===0},dn.hyperbolicCosine=dn.cosh=function(){var n,e,t,r,i,o=this,s=o.constructor,u=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return u;t=s.precision,r=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?e=(1/LD(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),o=Ny(s,1,o.times(e),new s(1),!0);for(var c,p=n,f=new s(8);p--;)c=o.times(o),o=u.minus(c.times(f.minus(c.times(f))));return yo(o,s.precision=t,s.rounding=r,!0)},dn.hyperbolicSine=dn.sinh=function(){var n,e,t,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Ny(o,2,i,i,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,i=Ny(o,2,i=i.times(1/LD(5,n)),i,!0);for(var s,u=new o(5),c=new o(16),p=new o(20);n--;)s=i.times(i),i=i.times(u.plus(s.times(c.times(s).plus(p))))}return o.precision=e,o.rounding=t,yo(i,e,t,!0)},dn.hyperbolicTangent=dn.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,kf(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},dn.inverseCosine=dn.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,o=t.rounding;return r!==-1?r===0?e.isNeg()?$m(t,i,o):new t(0):new t(NaN):e.isZero()?$m(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=$m(t,i+4,o).times(.5),t.precision=i,t.rounding=o,n.minus(e))},dn.inverseHyperbolicCosine=dn.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Ja=!1,t=t.times(t).minus(1).sqrt().plus(t),Ja=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},dn.inverseHyperbolicSine=dn.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Ja=!1,t=t.times(t).plus(1).sqrt().plus(t),Ja=!0,r.precision=n,r.rounding=e,t.ln())},dn.inverseHyperbolicTangent=dn.atanh=function(){var n,e,t,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=o.precision,e=o.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?yo(new o(i),n,e,!0):(o.precision=t=r-i.e,i=kf(i.plus(1),new o(1).minus(i),t+n,1),o.precision=n+4,o.rounding=1,i=i.ln(),o.precision=n,o.rounding=e,i.times(.5))):new o(NaN)},dn.inverseSine=dn.asin=function(){var n,e,t,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,r=o.rounding,e!==-1?e===0?((n=$m(o,t+4,r).times(.5)).s=i.s,n):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=r,i.times(2)))},dn.inverseTangent=dn.atan=function(){var n,e,t,r,i,o,s,u,c,p=this,f=p.constructor,g=f.precision,y=f.rounding;if(p.isFinite()){if(p.isZero())return new f(p);if(p.abs().eq(1)&&g+4<=MP)return(s=$m(f,g+4,y).times(.25)).s=p.s,s}else{if(!p.s)return new f(NaN);if(g+4<=MP)return(s=$m(f,g+4,y).times(.5)).s=p.s,s}for(f.precision=u=g+10,f.rounding=1,n=t=Math.min(28,u/7+2|0);n;--n)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(Ja=!1,e=Math.ceil(u/7),r=1,c=p.times(p),s=new f(p),i=p;n!==-1;)if(i=i.times(c),o=s.minus(i.div(r+=2)),i=i.times(c),(s=o.plus(i.div(r+=2))).d[e]!==void 0)for(n=e;s.d[n]===o.d[n]&&n--;);return t&&(s=s.times(2<<t-1)),Ja=!0,yo(s,f.precision=g,f.rounding=y,!0)},dn.isFinite=function(){return!!this.d},dn.isInteger=dn.isInt=function(){return!!this.d&&Yp(this.e/7)>this.d.length-2},dn.isNaN=function(){return!this.s},dn.isNegative=dn.isNeg=function(){return this.s<0},dn.isPositive=dn.isPos=function(){return this.s>0},dn.isZero=function(){return!!this.d&&this.d[0]===0},dn.lessThan=dn.lt=function(n){return this.cmp(n)<0},dn.lessThanOrEqualTo=dn.lte=function(n){return this.cmp(n)<1},dn.logarithm=dn.log=function(n){var e,t,r,i,o,s,u,c,p=this,f=p.constructor,g=f.precision,y=f.rounding;if(n==null)n=new f(10),e=!0;else{if(t=(n=new f(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new f(NaN);e=n.eq(10)}if(t=p.d,p.s<0||!t||!t[0]||p.eq(1))return new f(t&&!t[0]?-1/0:p.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10==0;)i/=10;o=i!==1}if(Ja=!1,s=Sd(p,u=g+5),r=e?k_(f,u+10):Sd(n,u),bb((c=kf(s,r,u,1)).d,i=g,y))do if(s=Sd(p,u+=10),r=e?k_(f,u+10):Sd(n,u),c=kf(s,r,u,1),!o){+Ap(c.d).slice(i+1,i+15)+1==1e14&&(c=yo(c,g+1,0));break}while(bb(c.d,i+=10,y));return Ja=!0,yo(c,g,y)},dn.minus=dn.sub=function(n){var e,t,r,i,o,s,u,c,p,f,g,y,b=this,_=b.constructor;if(n=new _(n),!b.d||!n.d)return b.s&&n.s?b.d?n.s=-n.s:n=new _(n.d||b.s!==n.s?b:NaN):n=new _(NaN),n;if(b.s!=n.s)return n.s=-n.s,b.plus(n);if(p=b.d,y=n.d,u=_.precision,c=_.rounding,!p[0]||!y[0]){if(y[0])n.s=-n.s;else{if(!p[0])return new _(c===3?-0:0);n=new _(b)}return Ja?yo(n,u,c):n}if(t=Yp(n.e/7),f=Yp(b.e/7),p=p.slice(),o=f-t){for((g=o<0)?(e=p,o=-o,s=y.length):(e=y,t=f,s=p.length),o>(r=Math.max(Math.ceil(u/7),s)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((g=(r=p.length)<(s=y.length))&&(s=r),r=0;r<s;r++)if(p[r]!=y[r]){g=p[r]<y[r];break}o=0}for(g&&(e=p,p=y,y=e,n.s=-n.s),s=p.length,r=y.length-s;r>0;--r)p[s++]=0;for(r=y.length;r>o;){if(p[--r]<y[r]){for(i=r;i&&p[--i]===0;)p[i]=Om-1;--p[i],p[r]+=Om}p[r]-=y[r]}for(;p[--s]===0;)p.pop();for(;p[0]===0;p.shift())--t;return p[0]?(n.d=p,n.e=uS(p,t),Ja?yo(n,u,c):n):new _(c===3?-0:0)},dn.modulo=dn.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?yo(new r(t),r.precision,r.rounding):(Ja=!1,r.modulo==9?(e=kf(t,n.abs(),0,3,1)).s*=n.s:e=kf(t,n,0,r.modulo,1),e=e.times(n),Ja=!0,t.minus(e))},dn.naturalExponential=dn.exp=function(){return vk(this)},dn.naturalLogarithm=dn.ln=function(){return Sd(this)},dn.negated=dn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,yo(n)},dn.plus=dn.add=function(n){var e,t,r,i,o,s,u,c,p,f,g=this,y=g.constructor;if(n=new y(n),!g.d||!n.d)return g.s&&n.s?g.d||(n=new y(n.d||g.s===n.s?g:NaN)):n=new y(NaN),n;if(g.s!=n.s)return n.s=-n.s,g.minus(n);if(p=g.d,f=n.d,u=y.precision,c=y.rounding,!p[0]||!f[0])return f[0]||(n=new y(g)),Ja?yo(n,u,c):n;if(o=Yp(g.e/7),r=Yp(n.e/7),p=p.slice(),i=o-r){for(i<0?(t=p,i=-i,s=f.length):(t=f,r=o,s=p.length),i>(s=(o=Math.ceil(u/7))>s?o+1:s+1)&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((s=p.length)-(i=f.length)<0&&(i=s,t=f,f=p,p=t),e=0;i;)e=(p[--i]=p[i]+f[i]+e)/Om|0,p[i]%=Om;for(e&&(p.unshift(e),++r),s=p.length;p[--s]==0;)p.pop();return n.d=p,n.e=uS(p,r),Ja?yo(n,u,c):n},dn.precision=dn.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(iv+n);return t.d?(e=r9(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},dn.round=function(){var n=this,e=n.constructor;return yo(new e(n),n.e+1,e.rounding)},dn.sine=dn.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+7,r.rounding=1,t=function(i,o){var s,u=o.d.length;if(u<3)return o.isZero()?o:Ny(i,2,o,o);s=(s=1.4*Math.sqrt(u))>16?16:0|s,o=Ny(i,2,o=o.times(1/LD(5,s)),o);for(var c,p=new i(5),f=new i(16),g=new i(20);s--;)c=o.times(o),o=o.times(p.plus(c.times(f.times(c).minus(g))));return o}(r,o9(r,t)),r.precision=n,r.rounding=e,yo(od>2?t.neg():t,n,e,!0)):new r(NaN)},dn.squareRoot=dn.sqrt=function(){var n,e,t,r,i,o,s=this,u=s.d,c=s.e,p=s.s,f=s.constructor;if(p!==1||!u||!u[0])return new f(!p||p<0&&(!u||u[0])?NaN:u?s:1/0);for(Ja=!1,(p=Math.sqrt(+s))==0||p==1/0?(((e=Ap(u)).length+c)%2==0&&(e+="0"),p=Math.sqrt(e),c=Yp((c+1)/2)-(c<0||c%2),r=new f(e=p==1/0?"5e"+c:(e=p.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new f(p.toString()),t=(c=f.precision)+3;;)if(r=(o=r).plus(kf(s,o,t+2,1)).times(.5),Ap(o.d).slice(0,t)===(e=Ap(r.d)).slice(0,t)){if((e=e.slice(t-3,t+1))!="9999"&&(i||e!="4999")){+e&&(+e.slice(1)||e.charAt(0)!="5")||(yo(r,c+1,1),n=!r.times(r).eq(s));break}if(!i&&(yo(o,c+1,0),o.times(o).eq(s))){r=o;break}t+=4,i=1}return Ja=!0,yo(r,c,f.rounding,n)},dn.tangent=dn.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,(t=t.sin()).s=1,t=kf(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,yo(od==2||od==4?t.neg():t,n,e,!0)):new r(NaN)},dn.times=dn.mul=function(n){var e,t,r,i,o,s,u,c,p,f=this,g=f.constructor,y=f.d,b=(n=new g(n)).d;if(n.s*=f.s,!(y&&y[0]&&b&&b[0]))return new g(!n.s||y&&!y[0]&&!b||b&&!b[0]&&!y?NaN:y&&b?0*n.s:n.s/0);for(t=Yp(f.e/7)+Yp(n.e/7),(c=y.length)<(p=b.length)&&(o=y,y=b,b=o,s=c,c=p,p=s),o=[],r=s=c+p;r--;)o.push(0);for(r=p;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+b[r]*y[i-r-1]+e,o[i--]=u%Om|0,e=u/Om|0;o[i]=(o[i]+e)%Om|0}for(;!o[--s];)o.pop();return e?++t:o.shift(),n.d=o,n.e=uS(o,t),Ja?yo(n,g.precision,g.rounding):n},dn.toBinary=function(n,e){return wk(this,2,n,e)},dn.toDecimalPlaces=dn.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(_g(n,0,jd),e===void 0?e=r.rounding:_g(e,0,8),yo(t,n+t.e+1,e))},dn.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=x0(r,!0):(_g(n,0,jd),e===void 0?e=i.rounding:_g(e,0,8),t=x0(r=yo(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},dn.toFixed=function(n,e){var t,r,i=this,o=i.constructor;return n===void 0?t=x0(i):(_g(n,0,jd),e===void 0?e=o.rounding:_g(e,0,8),t=x0(r=yo(new o(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},dn.toFraction=function(n){var e,t,r,i,o,s,u,c,p,f,g,y,b=this,_=b.d,M=b.constructor;if(!_)return new M(b);if(p=t=new M(1),r=c=new M(0),s=(o=(e=new M(r)).e=r9(_)-b.e-1)%7,e.d[0]=op(10,s<0?7+s:s),n==null)n=o>0?e:p;else{if(!(u=new M(n)).isInt()||u.lt(p))throw Error(iv+u);n=u.gt(e)?o>0?e:p:u}for(Ja=!1,u=new M(Ap(_)),f=M.precision,M.precision=o=7*_.length*2;g=kf(u,e,0,1,1),(i=t.plus(g.times(r))).cmp(n)!=1;)t=r,r=i,i=p,p=c.plus(g.times(i)),c=i,i=e,e=u.minus(g.times(i)),u=i;return i=kf(n.minus(t),r,0,1,1),c=c.plus(i.times(p)),t=t.plus(i.times(r)),c.s=p.s=b.s,y=kf(p,r,o,1).minus(b).abs().cmp(kf(c,t,o,1).minus(b).abs())<1?[p,r]:[c,t],M.precision=f,Ja=!0,y},dn.toHexadecimal=dn.toHex=function(n,e){return wk(this,16,n,e)},dn.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:_g(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Ja=!1,t=kf(t,n,0,e,1).times(n),Ja=!0,yo(t)):(n.s=t.s,t=n),t},dn.toNumber=function(){return+this},dn.toOctal=function(n,e){return wk(this,8,n,e)},dn.toPower=dn.pow=function(n){var e,t,r,i,o,s,u=this,c=u.constructor,p=+(n=new c(n));if(!(u.d&&n.d&&u.d[0]&&n.d[0]))return new c(op(+u,p));if((u=new c(u)).eq(1))return u;if(r=c.precision,o=c.rounding,n.eq(1))return yo(u,r,o);if((e=Yp(n.e/7))>=n.d.length-1&&(t=p<0?-p:p)<=9007199254740991)return i=jW(c,u,t,r),n.s<0?new c(1).div(i):yo(i,r,o);if((s=u.s)<0){if(e<n.d.length-1)return new c(NaN);if(1&n.d[e]||(s=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=s,u}return(e=(t=op(+u,p))!=0&&isFinite(t)?new c(t+"").e:Yp(p*(Math.log("0."+Ap(u.d))/Math.LN10+u.e+1)))>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(Ja=!1,c.rounding=u.s=1,t=Math.min(12,(e+"").length),(i=vk(n.times(Sd(u,r+t)),r)).d&&bb((i=yo(i,r+5,1)).d,r,o)&&(e=r+10,+Ap((i=yo(vk(n.times(Sd(u,e+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=yo(i,r+1,0))),i.s=s,Ja=!0,c.rounding=o,yo(i,r,o))},dn.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=x0(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(_g(n,1,jd),e===void 0?e=i.rounding:_g(e,0,8),t=x0(r=yo(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},dn.toSignificantDigits=dn.toSD=function(n,e){var t=this.constructor;return n===void 0?(n=t.precision,e=t.rounding):(_g(n,1,jd),e===void 0?e=t.rounding:_g(e,0,8)),yo(new t(this),n,e)},dn.toString=function(){var n=this,e=n.constructor,t=x0(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},dn.truncated=dn.trunc=function(){return yo(new this.constructor(this),this.e+1,1)},dn.valueOf=dn.toJSON=function(){var n=this,e=n.constructor,t=x0(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var kf=function(){function n(r,i,o){var s,u=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+u,r[c]=s%o|0,u=s/o|0;return u&&r.unshift(u),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function t(r,i,o,s){for(var u=0;o--;)r[o]-=u,u=r[o]<i[o]?1:0,r[o]=u*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,u,c){var p,f,g,y,b,_,M,F,O,j,z,W,J,G,Q,te,ae,se,ge,xe,Pe=r.constructor,Ce=r.s==i.s?1:-1,Me=r.d,Oe=i.d;if(!(Me&&Me[0]&&Oe&&Oe[0]))return new Pe(r.s&&i.s&&(Me?!Oe||Me[0]!=Oe[0]:Oe)?Me&&Me[0]==0||!Oe?0*Ce:Ce/0:NaN);for(c?(b=1,f=r.e-i.e):(c=Om,b=7,f=Yp(r.e/b)-Yp(i.e/b)),ge=Oe.length,ae=Me.length,j=(O=new Pe(Ce)).d=[],g=0;Oe[g]==(Me[g]||0);g++);if(Oe[g]>(Me[g]||0)&&f--,o==null?(G=o=Pe.precision,s=Pe.rounding):G=u?o+(r.e-i.e)+1:o,G<0)j.push(1),_=!0;else{if(G=G/b+2|0,g=0,ge==1){for(y=0,Oe=Oe[0],G++;(g<ae||y)&&G--;g++)Q=y*c+(Me[g]||0),j[g]=Q/Oe|0,y=Q%Oe|0;_=y||g<ae}else{for((y=c/(Oe[0]+1)|0)>1&&(Oe=n(Oe,y,c),Me=n(Me,y,c),ge=Oe.length,ae=Me.length),te=ge,W=(z=Me.slice(0,ge)).length;W<ge;)z[W++]=0;(xe=Oe.slice()).unshift(0),se=Oe[0],Oe[1]>=c/2&&++se;do y=0,(p=e(Oe,z,ge,W))<0?(J=z[0],ge!=W&&(J=J*c+(z[1]||0)),(y=J/se|0)>1?(y>=c&&(y=c-1),(p=e(M=n(Oe,y,c),z,F=M.length,W=z.length))==1&&(y--,t(M,ge<F?xe:Oe,F,c))):(y==0&&(p=y=1),M=Oe.slice()),(F=M.length)<W&&M.unshift(0),t(z,M,W,c),p==-1&&(p=e(Oe,z,ge,W=z.length))<1&&(y++,t(z,ge<W?xe:Oe,W,c)),W=z.length):p===0&&(y++,z=[0]),j[g++]=y,p&&z[0]?z[W++]=Me[te]||0:(z=[Me[te]],W=1);while((te++<ae||z[0]!==void 0)&&G--);_=z[0]!==void 0}j[0]||j.shift()}if(b==1)O.e=f,OW=_;else{for(g=1,y=j[0];y>=10;y/=10)g++;O.e=g+f*b-1,yo(O,u?o+O.e+1:o,s,_)}return O}}();function yo(n,e,t,r){var i,o,s,u,c,p,f,g,y,b=n.constructor;e:if(e!=null){if(!(g=n.d))return n;for(i=1,u=g[0];u>=10;u/=10)i++;if((o=e-i)<0)o+=7,s=e,c=(f=g[y=0])/op(10,i-s-1)%10|0;else if((y=Math.ceil((o+1)/7))>=(u=g.length)){if(!r)break e;for(;u++<=y;)g.push(0);f=c=0,i=1,s=(o%=7)-7+1}else{for(f=u=g[y],i=1;u>=10;u/=10)i++;c=(s=(o%=7)-7+i)<0?0:f/op(10,i-s-1)%10|0}if(r=r||e<0||g[y+1]!==void 0||(s<0?f:f%op(10,i-s-1)),p=t<4?(c||r)&&(t==0||t==(n.s<0?3:2)):c>5||c==5&&(t==4||r||t==6&&(o>0?s>0?f/op(10,i-s):0:g[y-1])%10&1||t==(n.s<0?8:7)),e<1||!g[0])return g.length=0,p?(e-=n.e+1,g[0]=op(10,(7-e%7)%7),n.e=-e||0):g[0]=n.e=0,n;if(o==0?(g.length=y,u=1,y--):(g.length=y+1,u=op(10,7-o),g[y]=s>0?(f/op(10,i-s)%op(10,s)|0)*u:0),p)for(;;){if(y==0){for(o=1,s=g[0];s>=10;s/=10)o++;for(s=g[0]+=u,u=1;s>=10;s/=10)u++;o!=u&&(n.e++,g[0]==Om&&(g[0]=1));break}if(g[y]+=u,g[y]!=Om)break;g[y--]=0,u=1}for(o=g.length;g[--o]===0;)g.pop()}return Ja&&(n.e>b.maxE?(n.d=null,n.e=NaN):n.e<b.minE&&(n.e=0,n.d=[0])),n}function x0(n,e,t){if(!n.isFinite())return $W(n);var r,i=n.e,o=Ap(n.d),s=o.length;return e?(t&&(r=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+Fd(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):i<0?(o="0."+Fd(-i-1)+o,t&&(r=t-s)>0&&(o+=Fd(r))):i>=s?(o+=Fd(i+1-s),t&&(r=t-i-1)>0&&(o=o+"."+Fd(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(o+="."),o+=Fd(r))),o}function uS(n,e){var t=n[0];for(e*=7;t>=10;t/=10)e++;return e}function k_(n,e,t){if(e>Coe)throw Ja=!0,t&&(n.precision=t),Error(NW);return yo(new n(E_),e,1,!0)}function $m(n,e,t){if(e>MP)throw Error(NW);return yo(new n(A_),e,t,!0)}function r9(n){var e=n.length-1,t=7*e+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Fd(n){for(var e="";n--;)e+="0";return e}function jW(n,e,t,r){var i,o=new n(1),s=Math.ceil(r/7+4);for(Ja=!1;;){if(t%2&&a9((o=o.times(e)).d,s)&&(i=!0),(t=Yp(t/2))===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}a9((e=e.times(e)).d,s)}return Ja=!0,o}function i9(n){return 1&n.d[n.d.length-1]}function LW(n,e,t){for(var r,i=new n(e[0]),o=0;++o<e.length;){if(!(r=new n(e[o])).s){i=r;break}i[t](r)&&(i=r)}return i}function vk(n,e){var t,r,i,o,s,u,c,p=0,f=0,g=0,y=n.constructor,b=y.rounding,_=y.precision;if(!n.d||!n.d[0]||n.e>17)return new y(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(Ja=!1,c=_):c=e,u=new y(.03125);n.e>-2;)n=n.times(u),g+=5;for(c+=r=Math.log(op(2,g))/Math.LN10*2+5|0,t=o=s=new y(1),y.precision=c;;){if(o=yo(o.times(n),c,1),t=t.times(++f),Ap((u=s.plus(kf(o,t,c,1))).d).slice(0,c)===Ap(s.d).slice(0,c)){for(i=g;i--;)s=yo(s.times(s),c,1);if(e!=null)return y.precision=_,s;if(!(p<3&&bb(s.d,c-r,b,p)))return yo(s,y.precision=_,b,Ja=!0);y.precision=c+=10,t=o=u=new y(1),f=0,p++}s=u}}function Sd(n,e){var t,r,i,o,s,u,c,p,f,g,y,b=1,_=n,M=_.d,F=_.constructor,O=F.rounding,j=F.precision;if(_.s<0||!M||!M[0]||!_.e&&M[0]==1&&M.length==1)return new F(M&&!M[0]?-1/0:_.s!=1?NaN:M?0:_);if(e==null?(Ja=!1,f=j):f=e,F.precision=f+=10,r=(t=Ap(M)).charAt(0),!(Math.abs(o=_.e)<15e14))return p=k_(F,f+2,j).times(o+""),_=Sd(new F(r+"."+t.slice(1)),f-10).plus(p),F.precision=j,e==null?yo(_,j,O,Ja=!0):_;for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)r=(t=Ap((_=_.times(n)).d)).charAt(0),b++;for(o=_.e,r>1?(_=new F("0."+t),o++):_=new F(r+"."+t.slice(1)),g=_,c=s=_=kf(_.minus(1),_.plus(1),f,1),y=yo(_.times(_),f,1),i=3;;){if(s=yo(s.times(y),f,1),Ap((p=c.plus(kf(s,new F(i),f,1))).d).slice(0,f)===Ap(c.d).slice(0,f)){if(c=c.times(2),o!==0&&(c=c.plus(k_(F,f+2,j).times(o+""))),c=kf(c,new F(b),f,1),e!=null)return F.precision=j,c;if(!bb(c.d,f-10,O,u))return yo(c,F.precision=j,O,Ja=!0);F.precision=f+=10,p=s=_=kf(g.minus(1),g.plus(1),f,1),y=yo(_.times(_),f,1),i=u=1}c=p,i+=2}}function $W(n){return String(n.s*n.s/0)}function yk(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%7,t<0&&(r+=7),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=7;r<i;)n.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Ja&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Ny(n,e,t,r,i){var o,s,u,c,p=n.precision,f=Math.ceil(p/7);for(Ja=!1,c=t.times(t),u=new n(r);;){if(s=kf(u.times(c),new n(e++*e++),p,1),u=i?r.plus(s):r.minus(s),r=kf(s.times(c),new n(e++*e++),p,1),(s=u.plus(r)).d[f]!==void 0){for(o=f;s.d[o]===u.d[o]&&o--;);if(o==-1)break}o=u,u=r,r=s,s=o}return Ja=!0,s.d.length=f+1,s}function LD(n,e){for(var t=n;--e;)t*=n;return t}function o9(n,e){var t,r=e.s<0,i=$m(n,n.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return od=r?4:1,e;if((t=e.divToInt(i)).isZero())od=r?3:2;else{if((e=e.minus(t.times(i))).lte(o))return od=i9(t)?r?2:3:r?4:1,e;od=i9(t)?r?1:4:r?3:2}return e.minus(i).abs()}function wk(n,e,t,r){var i,o,s,u,c,p,f,g,y,b=n.constructor,_=t!==void 0;if(_?(_g(t,1,jd),r===void 0?r=b.rounding:_g(r,0,8)):(t=b.precision,r=b.rounding),n.isFinite()){for(_?(i=2,e==16?t=4*t-3:e==8&&(t=3*t-2)):i=e,(s=(f=x0(n)).indexOf("."))>=0&&(f=f.replace(".",""),(y=new b(1)).e=f.length-s,y.d=sS(x0(y),10,i),y.e=y.d.length),o=c=(g=sS(f,10,i)).length;g[--c]==0;)g.pop();if(g[0]){if(s<0?o--:((n=new b(n)).d=g,n.e=o,g=(n=kf(n,y,t,r,0,i)).d,o=n.e,p=OW),s=g[t],u=i/2,p=p||g[t+1]!==void 0,p=r<4?(s!==void 0||p)&&(r===0||r===(n.s<0?3:2)):s>u||s===u&&(r===4||p||r===6&&1&g[t-1]||r===(n.s<0?8:7)),g.length=t,p)for(;++g[--t]>i-1;)g[t]=0,t||(++o,g.unshift(1));for(c=g.length;!g[c-1];--c);for(s=0,f="";s<c;s++)f+=AP.charAt(g[s]);if(_){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)f+="0";for(c=(g=sS(f,i,e)).length;!g[c-1];--c);for(s=1,f="1.";s<c;s++)f+=AP.charAt(g[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>c)for(o-=c;o--;)f+="0";else o<c&&(f=f.slice(0,o)+"."+f.slice(o))}else f=_?"0p+0":"0";f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}else f=$W(n);return n.s<0?"-"+f:f}function a9(n,e){if(n.length>e)return n.length=e,!0}function Soe(n){return new this(n).abs()}function _oe(n){return new this(n).acos()}function Eoe(n){return new this(n).acosh()}function Aoe(n,e){return new this(n).plus(e)}function koe(n){return new this(n).asin()}function Moe(n){return new this(n).asinh()}function Foe(n){return new this(n).atan()}function Poe(n){return new this(n).atanh()}function Toe(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,o=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?$m(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=$m(this,o,1).times(.5)).s=n.s:e.s<0?(this.precision=o,this.rounding=1,t=this.atan(kf(n,e,o,1)),e=$m(this,o,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(kf(n,e,o,1)):(t=$m(this,o,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function Ioe(n){return new this(n).cbrt()}function Ooe(n){return yo(n=new this(n),n.e+1,2)}function Noe(n,e,t){return new this(n).clamp(e,t)}function Boe(n){if(!n||typeof n!="object")throw Error(zE+"Object expected");var e,t,r,i=n.defaults===!0,o=["precision",1,jd,"rounding",0,8,"toExpNeg",-u1,0,"toExpPos",0,u1,"maxE",0,u1,"minE",-u1,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=kP[t]),(r=n[t])!==void 0){if(!(Yp(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(iv+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=kP[t]),(r=n[t])!==void 0){if(r!==!0&&r!==!1&&r!==0&&r!==1)throw Error(iv+t+": "+r);if(r){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(BW);this[t]=!0}else this[t]=!1}return this}function Roe(n){return new this(n).cos()}function joe(n){return new this(n).cosh()}function Loe(n,e){return new this(n).div(e)}function $oe(n){return new this(n).exp()}function zoe(n){return yo(n=new this(n),n.e+1,3)}function Uoe(){var n,e,t=new this(0);for(Ja=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Ja=!0,new this(1/0);t=e}return Ja=!0,t.sqrt()}function s9(n){return n instanceof K1||n&&n.toStringTag===RW||!1}function Woe(n){return new this(n).ln()}function Hoe(n,e){return new this(n).log(e)}function Voe(n){return new this(n).log(2)}function qoe(n){return new this(n).log(10)}function Koe(){return LW(this,arguments,"lt")}function Goe(){return LW(this,arguments,"gt")}function Yoe(n,e){return new this(n).mod(e)}function Joe(n,e){return new this(n).mul(e)}function Xoe(n,e){return new this(n).pow(e)}function Qoe(n){var e,t,r,i,o=0,s=new this(1),u=[];if(n===void 0?n=this.precision:_g(n,1,jd),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(BW);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(n%=7,(r=u[--o])&&n&&(i=op(10,7-n),u[o]=(r/i|0)*i);u[o]===0;o--)u.pop();if(o<0)t=0,u=[0];else{for(t=-1;u[0]===0;t-=7)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<7&&(t-=7-r)}return s.e=t,s.d=u,s}function Zoe(n){return yo(n=new this(n),n.e+1,this.rounding)}function eae(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function tae(n){return new this(n).sin()}function nae(n){return new this(n).sinh()}function rae(n){return new this(n).sqrt()}function iae(n,e){return new this(n).sub(e)}function oae(){var n=0,e=arguments,t=new this(e[n]);for(Ja=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Ja=!0,yo(t,this.precision,this.rounding)}function aae(n){return new this(n).tan()}function sae(n){return new this(n).tanh()}function uae(n){return yo(n=new this(n),n.e+1,1)}dn[Symbol.for("nodejs.util.inspect.custom")]=dn.toString,dn[Symbol.toStringTag]="Decimal";var K1=dn.constructor=function n(e){var t,r,i;function o(s){var u,c,p,f=this;if(!(f instanceof o))return new o(s);if(f.constructor=o,s9(s))return f.s=s.s,void(Ja?!s.d||s.e>o.maxE?(f.e=NaN,f.d=null):s.e<o.minE?(f.e=0,f.d=[0]):(f.e=s.e,f.d=s.d.slice()):(f.e=s.e,f.d=s.d?s.d.slice():s.d));if((p=typeof s)=="number"){if(s===0)return f.s=1/s<0?-1:1,f.e=0,void(f.d=[0]);if(s<0?(s=-s,f.s=-1):f.s=1,s===~~s&&s<1e7){for(u=0,c=s;c>=10;c/=10)u++;return void(Ja?u>o.maxE?(f.e=NaN,f.d=null):u<o.minE?(f.e=0,f.d=[0]):(f.e=u,f.d=[s]):(f.e=u,f.d=[s]))}return 0*s!=0?(s||(f.s=NaN),f.e=NaN,void(f.d=null)):yk(f,s.toString())}if(p!=="string")throw Error(iv+s);return(c=s.charCodeAt(0))===45?(s=s.slice(1),f.s=-1):(c===43&&(s=s.slice(1)),f.s=1),n9.test(s)?yk(f,s):function(y,b){var _,M,F,O,j,z,W,J,G;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),n9.test(b))return yk(y,b)}else if(b==="Infinity"||b==="NaN")return+b||(y.s=NaN),y.e=NaN,y.d=null,y;if(xoe.test(b))_=16,b=b.toLowerCase();else if(boe.test(b))_=2;else{if(!Doe.test(b))throw Error(iv+b);_=8}for((O=b.search(/p/i))>0?(W=+b.slice(O+1),b=b.substring(2,O)):b=b.slice(2),j=(O=b.indexOf("."))>=0,M=y.constructor,j&&(O=(z=(b=b.replace(".","")).length)-O,F=jW(M,new M(_),O,2*O)),O=G=(J=sS(b,_,Om)).length-1;J[O]===0;--O)J.pop();return O<0?new M(0*y.s):(y.e=uS(J,G),y.d=J,Ja=!1,j&&(y=kf(y,F,4*z)),W&&(y=y.times(Math.abs(W)<54?op(2,W):K1.pow(2,W))),Ja=!0,y)}(f,s)}if(o.prototype=dn,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=Boe,o.clone=n,o.isDecimal=s9,o.abs=Soe,o.acos=_oe,o.acosh=Eoe,o.add=Aoe,o.asin=koe,o.asinh=Moe,o.atan=Foe,o.atanh=Poe,o.atan2=Toe,o.cbrt=Ioe,o.ceil=Ooe,o.clamp=Noe,o.cos=Roe,o.cosh=joe,o.div=Loe,o.exp=$oe,o.floor=zoe,o.hypot=Uoe,o.ln=Woe,o.log=Hoe,o.log10=qoe,o.log2=Voe,o.max=Koe,o.min=Goe,o.mod=Yoe,o.mul=Joe,o.pow=Xoe,o.random=Qoe,o.round=Zoe,o.sign=eae,o.sin=tae,o.sinh=nae,o.sqrt=rae,o.sub=iae,o.sum=oae,o.tan=aae,o.tanh=sae,o.trunc=uae,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return o.config(e),o}(kP);E_=new K1(E_),A_=new K1(A_);var lae=If("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=K1.clone({precision:t.precision,modulo:K1.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const qp=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},cm=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},bk=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},By=function(){throw SyntaxError("Invalid Param")};function xk(n,e){const t=Math.abs(n),r=Math.abs(e);return n===0?Math.log(r):e===0?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const cae={re:0,im:0},Rv=function(n,e){const t=cae;if(n==null)t.re=t.im=0;else if(e!==void 0)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Jt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Jt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else n.length===2?(t.re=n[0],t.im=n[1]):By();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,o=0;r===null&&By();for(let s=0;s<r.length;s++){const u=r[s];u===" "||u==="	"||u===`
`||(u==="+"?i++:u==="-"?o++:u==="i"||u==="I"?(i+o===0&&By(),r[s+1]===" "||isNaN(r[s+1])?t.im+=parseFloat((o%2?"-":"")+"1"):(t.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(u))&&By(),r[s+1]==="i"||r[s+1]==="I"?(t.im+=parseFloat((o%2?"-":"")+u),s++):t.re+=parseFloat((o%2?"-":"")+u),i=o=0))}i+o>0&&By();break;case"number":t.im=0,t.re=n;break;default:By()}return isNaN(t.re)||isNaN(t.im),t};function Jt(n,e){if(!(this instanceof Jt))return new Jt(n,e);const t=Rv(n,e);this.re=t.re,this.im=t.im}Jt.prototype={re:0,im:0,sign:function(){const n=bk(this.re,this.im);return new Jt(this.re/n,this.im/n)},add:function(n,e){const t=Rv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Jt.NAN:Jt.INFINITY:new Jt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=Rv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Jt.NAN:Jt.INFINITY:new Jt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=Rv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;return r&&s||i&&o?Jt.NAN:r||i?Jt.INFINITY:t.im===0&&this.im===0?new Jt(this.re*t.re,0):new Jt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=Rv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;if(o&&s||r&&i)return Jt.NAN;if(s||r)return Jt.INFINITY;if(o||i)return Jt.ZERO;if(t.im===0)return new Jt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const u=t.re/t.im,c=t.re*u+t.im;return new Jt((this.re*u+this.im)/c,(this.im*u-this.re)/c)}{const u=t.im/t.re,c=t.im*u+t.re;return new Jt((this.re+this.im*u)/c,(this.im-this.re*u)/c)}},pow:function(n,e){const t=Rv(n,e),r=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return Jt.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new Jt(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new Jt(Math.pow(this.im,t.re),0);case 1:return new Jt(0,Math.pow(this.im,t.re));case 2:return new Jt(-Math.pow(this.im,t.re),0);case 3:return new Jt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Jt.ZERO;const i=Math.atan2(this.im,this.re),o=xk(this.re,this.im);let s=Math.exp(t.re*o-t.im*i),u=t.im*o+t.re*i;return new Jt(s*Math.cos(u),s*Math.sin(u))},sqrt:function(){const n=this.re,e=this.im;if(e===0)return n>=0?new Jt(Math.sqrt(n),0):new Jt(0,Math.sqrt(-n));const t=bk(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Jt(r,e<0?-i:i):new Jt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Jt(n,0):new Jt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Jt(Math.expm1(n)*Math.cos(e)+function(t){const r=Math.PI/4;if(-r>t||t>r)return Math.cos(t)-1;const i=t*t;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return e===0&&n>0?new Jt(Math.log(n),0):new Jt(xk(n,e),Math.atan2(e,n))},abs:function(){return bk(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Jt(Math.sin(n)*qp(e),Math.cos(n)*cm(e))},cos:function(){const n=this.re,e=this.im;return new Jt(Math.cos(n)*qp(e),-Math.sin(n)*cm(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+qp(e);return new Jt(Math.sin(n)/t,cm(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-qp(e);return new Jt(-Math.sin(n)/t,cm(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*qp(2*e)+.5*Math.cos(2*n);return new Jt(Math.cos(n)*qp(e)/t,Math.sin(n)*cm(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*qp(2*e)-.5*Math.cos(2*n);return new Jt(Math.sin(n)*qp(e)/t,-Math.cos(n)*cm(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Jt(e*e-n*n+1,-2*n*e).sqrt(),r=new Jt(t.re-e,t.im+n).log();return new Jt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Jt(e*e-n*n+1,-2*n*e).sqrt(),r=new Jt(t.re-e,t.im+n).log();return new Jt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(n===0){if(e===1)return new Jt(0,1/0);if(e===-1)return new Jt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Jt((1-e*e-n*n)/t,-2*n/t).log();return new Jt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(e===0)return new Jt(Math.atan2(1,n),0);const t=n*n+e*e;return t!==0?new Jt(n/t,-e/t).atan():new Jt(n!==0?n/0:0,e!==0?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Jt(0,1/0);const t=n*n+e*e;return t!==0?new Jt(n/t,-e/t).acos():new Jt(n!==0?n/0:0,e!==0?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Jt(Math.PI/2,1/0);const t=n*n+e*e;return t!==0?new Jt(n/t,-e/t).asin():new Jt(n!==0?n/0:0,e!==0?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Jt(cm(n)*Math.cos(e),qp(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Jt(qp(n)*Math.cos(e),cm(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=qp(n)+Math.cos(e);return new Jt(cm(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=qp(n)-Math.cos(e);return new Jt(cm(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-qp(2*n);return new Jt(-2*cm(n)*Math.cos(e)/t,2*qp(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+qp(2*n);return new Jt(2*qp(n)*Math.cos(e)/t,-2*cm(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&e===0,r=1-n,i=1+n,o=r*r+e*e,s=o!==0?new Jt((i*r-e*e)/o,(e*r+i*e)/o):new Jt(n!==-1?n/0:0,e!==0?e/0:0),u=s.re;return s.re=xk(s.re,s.im)/2,s.im=Math.atan2(s.im,u)/2,t&&(s.im=-s.im),s},acoth:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Jt(0,Math.PI/2);const t=n*n+e*e;return t!==0?new Jt(n/t,-e/t).atanh():new Jt(n!==0?n/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(e===0)return new Jt(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return t!==0?new Jt(n/t,-e/t).asinh():new Jt(n!==0?n/0:0,e!==0?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Jt.INFINITY;const t=n*n+e*e;return t!==0?new Jt(n/t,-e/t).acosh():new Jt(n!==0?n/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Jt.INFINITY;if(this.isInfinite())return Jt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Jt(n/t,-e/t)},conjugate:function(){return new Jt(this.re,-this.im)},neg:function(){return new Jt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Jt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Jt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Jt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=Rv(n,e);return Math.abs(t.re-this.re)<=Jt.EPSILON&&Math.abs(t.im-this.im)<=Jt.EPSILON},clone:function(){return new Jt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Jt.EPSILON&&(n=0),Math.abs(e)<Jt.EPSILON&&(e=0),e===0?t+n:(n!==0?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Jt.ZERO=new Jt(0,0),Jt.ONE=new Jt(1,0),Jt.I=new Jt(0,1),Jt.PI=new Jt(Math.PI,0),Jt.E=new Jt(Math.E,0),Jt.INFINITY=new Jt(1/0,1/0),Jt.NAN=new Jt(NaN,NaN),Jt.EPSILON=1e-15;var fae=If("Complex",[],()=>(Object.defineProperty(Jt,"name",{value:"Complex"}),Jt.prototype.constructor=Jt,Jt.prototype.type="Complex",Jt.prototype.isComplex=!0,Jt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Jt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Jt.prototype.format=function(n){var e=this.im,t=this.re,r=EP(this.re,n),i=EP(this.im,n),o=Yf(n)?n:n?n.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(t/e)<s&&(t=0),Math.abs(e/t)<s&&(e=0)}return e===0?r:t===0?e===1?"i":e===-1?"-i":i+"i":e<0?e===-1?r+" - i":r+" - "+i.substring(1)+"i":e===1?r+" + i":r+" + "+i+"i"},Jt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if(typeof e=="object")return Jt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if(Yf(t)){if(PW(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Yf(r))return new Jt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Jt.prototype.valueOf=Jt.prototype.toString,Jt.fromJSON=function(n){return new Jt(n)},Jt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Jt),{isClass:!0}),Bi={s:1,n:0,d:1};function Q0(n,e){if(isNaN(n=parseInt(n,10)))throw lS();return n*e}function kh(n,e){if(e===0)throw fO();var t=Object.create(Qp.prototype);t.s=n<0?-1:1;var r=l1(n=n<0?-n:n,e);return t.n=n/r,t.d=e/r,t}function u9(n){for(var e={},t=n,r=2,i=4;i<=t;){for(;t%r==0;)t/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return t!==n?t>1&&(e[t]=(e[t]||0)+1):e[n]=(e[n]||0)+1,e}var qg=function(n,e){var t,r=0,i=1,o=1,s=0,u=0,c=0,p=1,f=1,g=0,y=1,b=1,_=1,M=1e7;if(n!=null)if(e!==void 0){if(o=(r=n)*(i=e),r%1!=0||i%1!=0)throw hae()}else switch(typeof n){case"object":if("d"in n&&"n"in n)r=n.n,i=n.d,"s"in n&&(r*=n.s);else{if(!(0 in n))throw lS();r=n[0],1 in n&&(i=n[1])}o=r*i;break;case"number":if(n<0&&(o=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=f=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));y<=M&&_<=M;){if(n===(t=(g+b)/(y+_))){y+_<=M?(r=g+b,i=y+_):_>y?(r=b,i=_):(r=g,i=y);break}n>t?(g+=b,y+=_):(b+=g,_+=y),y>M?(r=b,i=_):(r=g,i=y)}r*=f}else(isNaN(n)||isNaN(e))&&(i=r=NaN);break;case"string":if((y=n.match(/\d+|./g))===null)throw lS();if(y[g]==="-"?(o=-1,g++):y[g]==="+"&&g++,y.length===g+1?u=Q0(y[g++],o):y[g+1]==="."||y[g]==="."?(y[g]!=="."&&(s=Q0(y[g++],o)),(1+ ++g===y.length||y[g+1]==="("&&y[g+3]===")"||y[g+1]==="'"&&y[g+3]==="'")&&(u=Q0(y[g],o),p=Math.pow(10,y[g].length),g++),(y[g]==="("&&y[g+2]===")"||y[g]==="'"&&y[g+2]==="'")&&(c=Q0(y[g+1],o),f=Math.pow(10,y[g+1].length)-1,g+=3)):y[g+1]==="/"||y[g+1]===":"?(u=Q0(y[g],o),p=Q0(y[g+2],1),g+=3):y[g+3]==="/"&&y[g+1]===" "&&(s=Q0(y[g],o),u=Q0(y[g+2],o),p=Q0(y[g+4],1),g+=5),y.length<=g){o=r=c+(i=p*f)*s+f*u;break}default:throw lS()}if(i===0)throw fO();Bi.s=o<0?-1:1,Bi.n=Math.abs(r),Bi.d=Math.abs(i)};function l1(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Qp(n,e){if(qg(n,e),!(this instanceof Qp))return kh(Bi.s*Bi.n,Bi.d);n=l1(Bi.d,Bi.n),this.s=Bi.s,this.n=Bi.n/n,this.d=Bi.d/n}var fO=function(){return new Error("Division by Zero")},lS=function(){return new Error("Invalid argument")},hae=function(){return new Error("Parameters must be integer")};Qp.prototype={s:1,n:0,d:1,abs:function(){return kh(this.n,this.d)},neg:function(){return kh(-this.s*this.n,this.d)},add:function(n,e){return qg(n,e),kh(this.s*this.n*Bi.d+Bi.s*this.d*Bi.n,this.d*Bi.d)},sub:function(n,e){return qg(n,e),kh(this.s*this.n*Bi.d-Bi.s*this.d*Bi.n,this.d*Bi.d)},mul:function(n,e){return qg(n,e),kh(this.s*Bi.s*this.n*Bi.n,this.d*Bi.d)},div:function(n,e){return qg(n,e),kh(this.s*Bi.s*this.n*Bi.d,this.d*Bi.n)},clone:function(){return kh(this.s*this.n,this.d)},mod:function(n,e){if(isNaN(this.n)||isNaN(this.d))return new Qp(NaN);if(n===void 0)return kh(this.s*this.n%this.d,1);if(qg(n,e),Bi.n===0&&this.d===0)throw fO();return kh(this.s*(Bi.d*this.n)%(Bi.n*this.d),Bi.d*this.d)},gcd:function(n,e){return qg(n,e),kh(l1(Bi.n,this.n)*l1(Bi.d,this.d),Bi.d*this.d)},lcm:function(n,e){return qg(n,e),Bi.n===0&&this.n===0?kh(0,1):kh(Bi.n*this.n,l1(Bi.n,this.n)*l1(Bi.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Qp(NaN):kh(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Qp(NaN):kh(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Qp(NaN):kh(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,e){return qg(n,e),kh(this.s*Math.round(this.n*Bi.d/(this.d*Bi.n))*Bi.n,Bi.d)},inverse:function(){return kh(this.s*this.d,this.n)},pow:function(n,e){if(qg(n,e),Bi.d===1)return Bi.s<0?kh(Math.pow(this.s*this.d,Bi.n),Math.pow(this.n,Bi.n)):kh(Math.pow(this.s*this.n,Bi.n),Math.pow(this.d,Bi.n));if(this.s<0)return null;var t=u9(this.n),r=u9(this.d),i=1,o=1;for(var s in t)if(s!=="1"){if(s==="0"){i=0;break}if(t[s]*=Bi.n,t[s]%Bi.d!=0)return null;t[s]/=Bi.d,i*=Math.pow(s,t[s])}for(var s in r)if(s!=="1"){if(r[s]*=Bi.n,r[s]%Bi.d!=0)return null;r[s]/=Bi.d,o*=Math.pow(s,r[s])}return Bi.s<0?kh(o,i):kh(i,o)},equals:function(n,e){return qg(n,e),this.s*this.n*Bi.d==Bi.s*Bi.n*this.d},compare:function(n,e){qg(n,e);var t=this.s*this.n*Bi.d-Bi.s*Bi.n*this.d;return(0<t)-(t<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var e=this.abs(),t=e.toContinued(),r=1;r<t.length;r++){for(var i=kh(t[r-1],1),o=r-2;o>=0;o--)i=i.inverse().add(t[o]);if(Math.abs(i.sub(e).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,e){return qg(n,e),!(!(Bi.n*this.d)||this.n*Bi.d%(Bi.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var e,t="",r=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=r:(n&&(e=Math.floor(r/i))>0&&(t+=e,t+=" ",r%=i),t+=r,t+="/",t+=i),t},toLatex:function(n){var e,t="",r=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=r:(n&&(e=Math.floor(r/i))>0&&(t+=e,r%=i),t+="\\frac{",t+=r,t+="}{",t+=i,t+="}"),t},toContinued:function(){var n,e=this.n,t=this.d,r=[];if(isNaN(e)||isNaN(t))return r;do r.push(Math.floor(e/t)),n=e%t,e=t,t=n;while(e!==1);return r},toString:function(n){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";n=n||15;var r=function(u,c){for(;c%2==0;c/=2);for(;c%5==0;c/=5);if(c===1)return 0;for(var p=10%c,f=1;p!==1;f++)if(p=10*p%c,f>2e3)return 0;return f}(0,t),i=function(u,c,p){for(var f=1,g=function(b,_,M){for(var F=1;_>0;b=b*b%M,_>>=1)1&_&&(F=F*b%M);return F}(10,p,c),y=0;y<300;y++){if(f===g)return y;f=10*f%c,g=10*g%c}return 0}(0,t,r),o=this.s<0?"-":"";if(o+=e/t|0,e%=t,(e*=10)&&(o+="."),r){for(var s=i;s--;)o+=e/t|0,e%=t,e*=10;for(o+="(",s=r;s--;)o+=e/t|0,e%=t,e*=10;o+=")"}else for(s=n;e&&s--;)o+=e/t|0,e%=t,e*=10;return o}};var pae=If("Fraction",[],()=>(Object.defineProperty(Qp,"name",{value:"Fraction"}),Qp.prototype.constructor=Qp,Qp.prototype.type="Fraction",Qp.prototype.isFraction=!0,Qp.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qp.fromJSON=function(n){return new Qp(n)},Qp),{isClass:!0}),gae=If("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function Dk(n,e,t){var r=new n.constructor(2),i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!wp(t))throw new Error("size must be an integer");if(n.greaterThan(r.pow(t-1).sub(1))||n.lessThan(r.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(t))),i="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(i);case 8:return"".concat(n.toOctal()).concat(i);case 16:return"".concat(n.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function l9(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function c9(n,e){return Yf(n)?n:$p(n)?n.toNumber():e}function kg(n,e){var t=function(r,i){return typeof r=="number"?EP(r,i):$p(r)?function(s,u){if(typeof u=="function")return u(s);if(!s.isFinite())return s.isNaN()?"NaN":s.gt(0)?"Infinity":"-Infinity";var{notation:c,precision:p,wordSize:f}=TW(u);switch(c){case"fixed":return function(M,F){return M.toFixed(F)}(s,p);case"exponential":return l9(s,p);case"engineering":return function(M,F){var O=M.e,j=O%3==0?O:O<0?O-3-O%3:O-O%3,z=M.mul(Math.pow(10,-j)).toPrecision(F);return z.includes("e")&&(z=new M.constructor(z).toFixed()),z+"e"+(O>=0?"+":"")+j.toString()}(s,p);case"bin":return Dk(s,2,f);case"oct":return Dk(s,8,f);case"hex":return Dk(s,16,f);case"auto":var g=c9(u==null?void 0:u.lowerExp,-3),y=c9(u==null?void 0:u.upperExp,5);if(s.isZero())return"0";var b=s.toSignificantDigits(p),_=b.e;return(_>=g&&_<y?b.toFixed():l9(s,p)).replace(/((\.\d*?)(0+))($|e)/,function(){var M=arguments[2],F=arguments[4];return M!=="."?M+F:F});default:throw new Error('Unknown notation "'+c+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(r,i):function(o){return o&&typeof o=="object"&&typeof o.s=="number"&&typeof o.n=="number"&&typeof o.d=="number"||!1}(r)?i&&i.fraction==="decimal"?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?zW(r,i):S0(r)?f9(r):typeof r=="function"?r.syntax?String(r.syntax):"function":r&&typeof r=="object"?typeof r.format=="function"?r.format(i):r&&r.toString(i)!=={}.toString()?r.toString(i):"{"+Object.keys(r).map(o=>f9(o)+": "+kg(r[o],i)).join(", ")+"}":String(r)}(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function f9(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in h9?h9[i]:i,r++}return'"'+t+'"'}var h9={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function zW(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=zW(n[i],e);return t+"]"}return kg(n,e)}function Xc(n,e,t){if(!(this instanceof Xc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}function Kv(n,e,t){if(!(this instanceof Kv))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function Zm(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function UW(n,e,t){var r,i=n.length;if(i!==e[t])throw new Xc(i,e[t]);if(t<e.length-1){var o=t+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Xc(e.length-1,e.length,"<");UW(n[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Xc(e.length+1,e.length,">")}function p9(n,e){if(e.length===0){if(Array.isArray(n))throw new Xc(n.length,0)}else UW(n,e,0)}function jh(n,e){if(n!==void 0){if(!Yf(n)||!wp(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new Kv(n,e)}}function g9(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");return e.forEach(function(r){if(!Yf(r)||!wp(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+kg(e)+")")}),(Yf(n)||$p(n))&&(n=[n]),FP(n,e,0,t!==void 0?t:0),n}function FP(n,e,t,r){var i,o,s=n.length,u=e[t],c=Math.min(s,u);if(n.length=u,t<e.length-1){var p=t+1;for(i=0;i<c;i++)o=n[i],Array.isArray(o)||(o=[o],n[i]=o),FP(o,e,p,r);for(i=c;i<u;i++)o=[],n[i]=o,FP(o,e,p,r)}else{for(i=0;i<c;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=c;i<u;i++)n[i]=r}}function WW(n,e){var t=function(o){if(!Array.isArray(o))return o;var s=[];return o.forEach(function u(c){Array.isArray(c)?c.forEach(u):s.push(c)}),s}(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Xc(0,r,"!=");var i=HW(e=hO(e,r));if(r!==i)throw new Xc(i,r,"!=");try{return function(o,s){for(var u,c=o,p=s.length-1;p>0;p--){var f=s[p];u=[];for(var g=c.length/f,y=0;y<g;y++)u.push(c.slice(y*f,(y+1)*f));c=u}return c}(t,e)}catch(o){throw o instanceof Xc?new Xc(i,r,"!="):o}}function hO(n,e){var t=HW(n),r=n.slice(),i=n.indexOf(-1);if(n.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[i]=-e/t}return r}function HW(n){return n.reduce((e,t)=>e*t,1)}function VW(n,e,t,r){var i=r||Zm(n);if(t)for(var o=0;o<t;o++)n=[n],i.unshift(1);for(n=qW(n,e,0);i.length<e;)i.push(1);return n}function qW(n,e,t){var r,i;if(Array.isArray(n)){var o=t+1;for(r=0,i=n.length;r<i;r++)n[r]=qW(n[r],e,o)}else for(var s=t;s<e;s++)n=[n];return n}function pO(n,e){for(var t,r=0,i=0;i<n.length;i++){var o=n[i],s=Array.isArray(o);if(i===0&&s&&(r=o.length),s&&o.length!==r)return;var u=s?pO(o,e):e(o);if(t===void 0)t=u;else if(t!==u)return"mixed"}return t}function KW(n,e,t,r){if(r<t){if(n.length!==e.length)throw new Xc(n.length,e.length);for(var i=[],o=0;o<n.length;o++)i[o]=KW(n[o],e[o],t,r+1);return i}return n.concat(e)}function GW(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return KW(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function YW(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(y=>y.length),i=Math.max(...r),o=new Array(i).fill(null),s=0;s<e.length;s++)for(var u=e[s],c=r[s],p=0;p<c;p++){var f=i-c+p;u[p]>o[f]&&(o[f]=u[p])}for(var g=0;g<e.length;g++)JW(e[g],o);return o}function JW(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var o=t-r+i;if(n[i]<e[o]&&n[i]>1||n[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[o]))}}function PP(n,e){var t=Zm(n);if(dv(t,e))return n;JW(t,e);var r,i,o,s=YW(t,e),u=s.length,c=[...Array(u-t.length).fill(1),...t],p=function(g){return C_([],g)}(n);t.length<u&&(t=Zm(p=WW(p,c)));for(var f=0;f<u;f++)t[f]<s[f]&&(r=p,i=s[f],o=f,t=Zm(p=GW(...Array(i).fill(r),o)));return p}function XW(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=Zm(n);if(e.length!==t.length)throw new Xc(e.length,t.length);for(var r=0;r<e.length;r++)jh(e[r],t[r]);return e.reduce((i,o)=>i[o],n)}function M_(n,e,t){if(__.isTypedFunction(n)){var r=(e.isMatrix?e.size():Zm(e)).map(()=>0),i=e.isMatrix?e.get(r):XW(e,r),o=Object.keys(n.signatures).length===1,s=function(c,p,f,g){for(var y=[p,f,g],b=3;b>0;b--){var _=y.slice(0,b);if(__.resolve(c,_)!==null)return b}}(n,i,r,e),u=o?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return m9(u,p.slice(0,s),t,n.name)}:function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return m9(u,p,t,n.name)}}return n}function m9(n,e,t,r){try{return n(...e)}catch(i){(function(o,s,u,c){var p;if(o instanceof TypeError&&((p=o.data)===null||p===void 0?void 0:p.category)==="wrongType"){var f=[];throw f.push("value: ".concat(ty(s[0]))),s.length>=2&&f.push("index: ".concat(ty(s[1]))),s.length>=3&&f.push("array: ".concat(ty(s[2]))),new TypeError("Function ".concat(u," cannot apply callback arguments ")+"".concat(c,"(").concat(f.join(", "),") at index ").concat(JSON.stringify(s[1])))}throw new TypeError("Function ".concat(u," cannot apply callback arguments ")+"to function ".concat(c,": ").concat(o.message))})(i,e,t,r)}}Xc.prototype=new RangeError,Xc.prototype.constructor=RangeError,Xc.prototype.name="DimensionError",Xc.prototype.isDimensionError=!0,Kv.prototype=new RangeError,Kv.prototype.constructor=RangeError,Kv.prototype.name="IndexError",Kv.prototype.isIndexError=!0;var mae=If("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(c,p){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!S0(p))throw new Error("Invalid datatype: "+p);if(T0(c))c.type==="DenseMatrix"?(this._data=dp(c._data),this._size=dp(c._size),this._datatype=p||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=p||c._datatype);else if(c&&Jh(c.data)&&Jh(c.size))this._data=c.data,this._size=c.size,p9(this._data,this._size),this._datatype=p||c.datatype;else if(Jh(c))this._data=u(c),this._size=Zm(this._data),p9(this._data,this._size),this._datatype=p;else{if(c)throw new TypeError("Unsupported type of data ("+ty(c)+")");this._data=[],this._size=[0],this._datatype=p}}function r(c,p,f,g){var y=g===f-1,b=p.dimension(g);return y?b.map(function(_){return jh(_,c.length),c[_]}).valueOf():b.map(function(_){return jh(_,c.length),r(c[_],p,f,g+1)}).valueOf()}function i(c,p,f,g,y){var b=y===g-1,_=p.dimension(y);b?_.forEach(function(M,F){jh(M),c[M]=f[F[0]]}):_.forEach(function(M,F){jh(M),i(c[M],p,f[F[0]],g,y+1)})}function o(c,p,f){if(p.length===0){for(var g=c._data;Jh(g);)g=g[0];return g}return c._size=p.slice(0),c._data=g9(c._data,c._size,f),c}function s(c,p,f){for(var g=c._size.slice(0),y=!1;g.length<p.length;)g.push(0),y=!0;for(var b=0,_=p.length;b<_;b++)p[b]>g[b]&&(g[b]=p[b],y=!0);y&&o(c,g,f)}function u(c){return T0(c)?u(c.valueOf()):Jh(c)?c.map(u):c}return t.prototype=new e,t.prototype.createDenseMatrix=function(c,p){return new t(c,p)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return pO(this._data,ty)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,p){return new t(c,p)},t.prototype.subset=function(c,p,f){switch(arguments.length){case 1:return function(g,y){if(!uO(y))throw new TypeError("Invalid index");if(y.isScalar())return g.get(y.min());var b=y.size();if(b.length!==g._size.length)throw new Xc(b.length,g._size.length);for(var _=y.min(),M=y.max(),F=0,O=g._size.length;F<O;F++)jh(_[F],g._size[F]),jh(M[F],g._size[F]);return new t(r(g._data,y,b.length,0),g._datatype)}(this,c);case 2:case 3:return function(g,y,b,_){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var M,F=y.size(),O=y.isScalar();if(T0(b)?(M=b.size(),b=b.valueOf()):M=Zm(b),O){if(M.length!==0)throw new TypeError("Scalar expected");g.set(y.min(),b,_)}else{if(!dv(M,F))try{M=Zm(b=M.length===0?PP([b],F):PP(b,F))}catch{}if(F.length<g._size.length)throw new Xc(F.length,g._size.length,"<");if(M.length<F.length){for(var j=0,z=0;F[j]===1&&M[j]===1;)j++;for(;F[j]===1;)z++,j++;b=VW(b,F.length,z,M)}if(!dv(F,M))throw new Xc(F,M,">");var W=y.max().map(function(G){return G+1});s(g,W,_);var J=F.length;i(g._data,y,b,J,0)}return g}(this,c,p,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){return XW(this._data,c)},t.prototype.set=function(c,p,f){if(!Jh(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Xc(c.length,this._size.length,"<");var g,y,b;s(this,c.map(function(M){return M+1}),f);var _=this._data;for(g=0,y=c.length-1;g<y;g++)jh(b=c[g],_.length),_=_[b];return jh(b=c[c.length-1],_.length),_[b]=p,this},t.prototype.resize=function(c,p,f){if(!S_(c))throw new TypeError("Array or Matrix expected");var g=c.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);return o(f?this.clone():this,g,p)},t.prototype.reshape=function(c,p){var f=p?this.clone():this;f._data=WW(f._data,c);var g=f._size.reduce((y,b)=>y*b);return f._size=hO(c,g),f},t.prototype.clone=function(){return new t({data:dp(this._data),size:dp(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(c){var p=this,f=p.size();if(f.length!==1){var g=Array(f.length).fill(0),y=Array(f.length-1),b=y.length-1;y[0]=p._data[0];for(var _=0;_<b;_++)y[_+1]=y[_][0];for(g[b]=-1;;){var M=void 0;for(M=b;M>=0;M--){if(g[M]++,g[M]!==f[M]){y[M]=M===0?p._data[g[M]]:y[M-1][g[M]];for(var F=M;F<b;F++)y[F+1]=y[F][0];for(var O=0;O<f[y.length];O++)g[y.length]=O,c(y[b],O,g.slice(0));break}g[M]=0}if(M===-1)break}}else for(var j=0;j<f[0];j++)c(p._data,j,[j])},t.prototype.map=function(c){var p=this,f=new t(p),g=M_(c,p._data,"map");return f._forEach(function(y,b,_){y[b]=g(y[b],_,p)}),f},t.prototype.forEach=function(c){var p=this,f=M_(c,p._data,"map");p._forEach(function(g,y,b){f(g[y],b,p)})},t.prototype[Symbol.iterator]=function*(){var c=function*(p,f){if(Jh(p))for(var g=0;g<p.length;g++)yield*c(p[g],f.concat(g));else yield{value:p,index:f}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var f of p)c.push(new t([f],this._datatype));return c},t.prototype.columns=function(){var c=this,p=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,y=function(_){var M=g.map(F=>[F[_]]);p.push(new t(M,c._datatype))},b=0;b<f[1];b++)y(b);return p},t.prototype.toArray=function(){return dp(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return kg(this._data,c)},t.prototype.toString=function(){return kg(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if($p(c)&&(c=c.toNumber()),!Yf(c)||!wp(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var p=c>0?c:0,f=c<0?-c:0,g=this._size[0],y=this._size[1],b=Math.min(g-f,y-p),_=[],M=0;M<b;M++)_[M]=this._data[M+f][M+p];return new t({data:_,size:[b],datatype:this._datatype})},t.diagonal=function(c,p,f,g){if(!Jh(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(J){if($p(J)&&(J=J.toNumber()),!Yf(J)||!wp(J)||J<1)throw new Error("Size values must be positive integers");return J}),f){if($p(f)&&(f=f.toNumber()),!Yf(f)||!wp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var y,b=f>0?f:0,_=f<0?-f:0,M=c[0],F=c[1],O=Math.min(M-_,F-b);if(Jh(p)){if(p.length!==O)throw new Error("Invalid value array length");y=function(J){return p[J]}}else if(T0(p)){var j=p.size();if(j.length!==1||j[0]!==O)throw new Error("Invalid matrix length");y=function(J){return p.get([J])}}else y=function(){return p};g||(g=$p(y(0))?y(0).mul(0):0);var z=[];if(c.length>0){z=g9(z,c,g);for(var W=0;W<O;W++)z[W+_][W+b]=y(W)}return new t({data:z,size:[M,F]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,p){if(!(Yf(c)&&wp(c)&&Yf(p)&&wp(p)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return jh(c,this._size[0]),jh(p,this._size[0]),t._swapRows(c,p,this._data),this},t._swapRows=function(c,p,f){var g=f[c];f[c]=f[p],f[p]=g},t},{isClass:!0});function gO(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return gO(r,e)}):e(n)}var d9="isInteger",dae=If(d9,["typed"],n=>{var{typed:e}=n;return e(d9,{number:wp,BigNumber:function(t){return t.isInt()},bigint:function(t){return!0},Fraction:function(t){return t.d===1&&isFinite(t.n)},"Array | Matrix":e.referToSelf(t=>r=>gO(r,t))})}),v9="number, number";function QW(n,e){return n+e}function ZW(n,e){return n-e}function eH(n){return-n}QW.signature=v9,ZW.signature=v9,eH.signature="number";var vae=If("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),F_="equalScalar",yae=If(F_,["typed","config"],n=>{var{typed:e,config:t}=n,r=vae({typed:e});return e(F_,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return aS(i,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||function(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(c<=0)throw new Error("Relative tolerance must be greater than 0");if(p<0)throw new Error("Absolute tolerance must be at least 0");return!s.isNaN()&&!u.isNaN()&&(s.isFinite()&&u.isFinite()?!!s.eq(u)||s.minus(u).abs().lte(s.constructor.max(s.constructor.max(s.abs(),u.abs()).mul(c),p)):s.eq(u))}(i,o,t.relTol,t.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return function(s,u,c,p){return aS(s.re,u.re,c,p)&&aS(s.im,u.im,c,p)}(i,o,t.relTol,t.absTol)}},r)});If(F_,["typed","config"],n=>{var{typed:e,config:t}=n;return e(F_,{"number, number":function(r,i){return aS(r,i,t.relTol,t.absTol)}})});var wae=If("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(f,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!S0(g))throw new Error("Invalid datatype: "+g);if(T0(f))(function(y,b,_){b.type==="SparseMatrix"?(y._values=b._values?dp(b._values):void 0,y._index=dp(b._index),y._ptr=dp(b._ptr),y._size=dp(b._size),y._datatype=_||b._datatype):o(y,b.valueOf(),_||b._datatype)})(this,f,g);else if(f&&Jh(f.index)&&Jh(f.ptr)&&Jh(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=g||f.datatype;else if(Jh(f))o(this,f,g);else{if(f)throw new TypeError("Unsupported type of data ("+ty(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function o(f,g,y){f._values=[],f._index=[],f._ptr=[],f._datatype=y;var b=g.length,_=0,M=t,F=0;if(S0(y)&&(M=e.find(t,[y,y])||t,F=e.convert(0,y)),b>0){var O=0;do{f._ptr.push(f._index.length);for(var j=0;j<b;j++){var z=g[j];if(Jh(z)){if(O===0&&_<z.length&&(_=z.length),O<z.length){var W=z[O];M(W,F)||(f._values.push(W),f._index.push(j))}}else O===0&&_<1&&(_=1),M(z,F)||(f._values.push(z),f._index.push(j))}O++}while(O<_)}f._ptr.push(f._index.length),f._size=[b,_]}function s(f,g,y,b){if(y-g==0)return y;for(var _=g;_<y;_++)if(b[_]===f)return _;return g}function u(f,g,y,b,_,M,F){_.splice(f,0,b),M.splice(f,0,g);for(var O=y+1;O<F.length;O++)F[O]++}function c(f,g,y,b){var _=b||0,M=t,F=0;S0(f._datatype)&&(M=e.find(t,[f._datatype,f._datatype])||t,F=e.convert(0,f._datatype),_=e.convert(_,f._datatype));var O,j,z,W=!M(_,F),J=f._size[0],G=f._size[1];if(y>G){for(j=G;j<y;j++)if(f._ptr[j]=f._values.length,W)for(O=0;O<J;O++)f._values.push(_),f._index.push(O);f._ptr[y]=f._values.length}else y<G&&(f._ptr.splice(y+1,G-y),f._values.splice(f._ptr[y],f._values.length),f._index.splice(f._ptr[y],f._index.length));if(G=y,g>J){if(W){var Q=0;for(j=0;j<G;j++){f._ptr[j]=f._ptr[j]+Q,z=f._ptr[j+1]+Q;var te=0;for(O=J;O<g;O++,te++)f._values.splice(z+te,0,_),f._index.splice(z+te,0,O),Q++}f._ptr[G]=f._values.length}}else if(g<J){var ae=0;for(j=0;j<G;j++){f._ptr[j]=f._ptr[j]-ae;var se=f._ptr[j],ge=f._ptr[j+1]-ae;for(z=se;z<ge;z++)(O=f._index[z])>g-1&&(f._values.splice(z,1),f._index.splice(z,1),ae++)}f._ptr[j]=f._values.length}return f._size[0]=g,f._size[1]=y,f}function p(f,g,y,b,_){var M,F,O=b[0],j=b[1],z=[];for(M=0;M<O;M++)for(z[M]=[],F=0;F<j;F++)z[M][F]=0;for(F=0;F<j;F++)for(var W=y[F],J=y[F+1],G=W;G<J;G++)z[M=g[G]][F]=f?_?dp(f[G]):f[G]:1;return z}return i.prototype=new r,i.prototype.createSparseMatrix=function(f,g){return new i(f,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return pO(this._values,ty)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,g){return new i(f,g)},i.prototype.density=function(){var f=this._size[0],g=this._size[1];return f!==0&&g!==0?this._index.length/(f*g):0},i.prototype.subset=function(f,g,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(b,_){if(!uO(_))throw new TypeError("Invalid index");if(_.isScalar())return b.get(_.min());var M,F,O,j,z=_.size();if(z.length!==b._size.length)throw new Xc(z.length,b._size.length);var W=_.min(),J=_.max();for(M=0,F=b._size.length;M<F;M++)jh(W[M],b._size[M]),jh(J[M],b._size[M]);var G=b._values,Q=b._index,te=b._ptr,ae=_.dimension(0),se=_.dimension(1),ge=[],xe=[];ae.forEach(function(Oe,et){xe[Oe]=et[0],ge[Oe]=!0});var Pe=G?[]:void 0,Ce=[],Me=[];return se.forEach(function(Oe){for(Me.push(Ce.length),O=te[Oe],j=te[Oe+1];O<j;O++)M=Q[O],ge[M]===!0&&(Ce.push(xe[M]),Pe&&Pe.push(G[O]))}),Me.push(Ce.length),new i({values:Pe,index:Ce,ptr:Me,size:z,datatype:b._datatype})}(this,f);case 2:case 3:return function(b,_,M,F){if(!_||_.isIndex!==!0)throw new TypeError("Invalid index");var O,j=_.size(),z=_.isScalar();if(T0(M)?(O=M.size(),M=M.toArray()):O=Zm(M),z){if(O.length!==0)throw new TypeError("Scalar expected");b.set(_.min(),M,F)}else{if(j.length!==1&&j.length!==2)throw new Xc(j.length,b._size.length,"<");if(O.length<j.length){for(var W=0,J=0;j[W]===1&&O[W]===1;)W++;for(;j[W]===1;)J++,W++;M=VW(M,j.length,J,O)}if(!dv(j,O))throw new Xc(j,O,">");if(j.length===1)_.dimension(0).forEach(function(te,ae){jh(te),b.set([te,0],M[ae[0]],F)});else{var G=_.dimension(0),Q=_.dimension(1);G.forEach(function(te,ae){jh(te),Q.forEach(function(se,ge){jh(se),b.set([te,se],M[ae[0]][ge[0]],F)})})}}return b}(this,f,g,y);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(f){if(!Jh(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Xc(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=f[0],y=f[1];jh(g,this._size[0]),jh(y,this._size[1]);var b=s(g,this._ptr[y],this._ptr[y+1],this._index);return b<this._ptr[y+1]&&this._index[b]===g?this._values[b]:0},i.prototype.set=function(f,g,y){if(!Jh(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Xc(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=f[0],_=f[1],M=this._size[0],F=this._size[1],O=t,j=0;S0(this._datatype)&&(O=e.find(t,[this._datatype,this._datatype])||t,j=e.convert(0,this._datatype)),(b>M-1||_>F-1)&&(c(this,Math.max(b+1,M),Math.max(_+1,F),y),M=this._size[0],F=this._size[1]),jh(b,M),jh(_,F);var z=s(b,this._ptr[_],this._ptr[_+1],this._index);return z<this._ptr[_+1]&&this._index[z]===b?O(g,j)?function(W,J,G,Q,te){G.splice(W,1),Q.splice(W,1);for(var ae=J+1;ae<te.length;ae++)te[ae]--}(z,_,this._values,this._index,this._ptr):this._values[z]=g:O(g,j)||u(z,b,_,g,this._values,this._index,this._ptr),this},i.prototype.resize=function(f,g,y){if(!S_(f))throw new TypeError("Array or Matrix expected");var b=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");return b.forEach(function(_){if(!Yf(_)||!wp(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+kg(b)+")")}),c(y?this.clone():this,b[0],b[1],g)},i.prototype.reshape=function(f,g){if(!Jh(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(xe){if(!Yf(xe)||!wp(xe)||xe<=-2||xe===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+kg(f)+")")});var y=this._size[0]*this._size[1];if(y!==(f=hO(f,y))[0]*f[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=g?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var _=[],M=0;M<b._ptr.length;M++)for(var F=0;F<b._ptr[M+1]-b._ptr[M];F++)_.push(M);for(var O=b._values.slice(),j=b._index.slice(),z=0;z<b._index.length;z++){var W=j[z],J=_[z],G=W*b._size[1]+J;_[z]=G%f[1],j[z]=Math.floor(G/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var Q=0;Q<b._ptr.length;Q++)b._ptr[Q]=0;for(var te=0;te<O.length;te++){var ae=j[te],se=_[te],ge=O[te];u(s(ae,b._ptr[se],b._ptr[se+1],b._index),ae,se,ge,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){return new i({values:this._values?dp(this._values):void 0,index:dp(this._index),ptr:dp(this._ptr),size:dp(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,b=this._size[0],_=this._size[1],M=M_(f,y,"map");return function(F,O,j,z,W,J,G){var Q=[],te=[],ae=[],se=t,ge=0;S0(F._datatype)&&(se=e.find(t,[F._datatype,F._datatype])||t,ge=e.convert(0,F._datatype));for(var xe=function(Ee,Ze,xt){var wt=J(Ee,Ze,xt);se(wt,ge)||(Q.push(wt),te.push(Ze))},Pe=0;Pe<=W;Pe++){ae.push(Q.length);var Ce=F._ptr[Pe],Me=F._ptr[Pe+1];if(G)for(var Oe=Ce;Oe<Me;Oe++){var et=F._index[Oe];et>=0&&et<=j&&xe(F._values[Oe],et-0,Pe-0)}else{for(var $e={},Fe=Ce;Fe<Me;Fe++)$e[F._index[Fe]]=F._values[Fe];for(var Ne=0;Ne<=j;Ne++)xe(Ne in $e?$e[Ne]:0,Ne-0,Pe-0)}}return ae.push(Q.length),new i({values:Q,index:te,ptr:ae,size:[j-0+1,W-0+1]})}(this,0,b-1,0,_-1,function(F,O,j){return M(F,[O,j],y)},g)},i.prototype.forEach=function(f,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,b=this._size[0],_=this._size[1],M=M_(f,y,"forEach"),F=0;F<_;F++){var O=this._ptr[F],j=this._ptr[F+1];if(g)for(var z=O;z<j;z++){var W=this._index[z];M(this._values[z],[W,F],y)}else{for(var J={},G=O;G<j;G++)J[this._index[G]]=this._values[G];for(var Q=0;Q<b;Q++)M(Q in J?J[Q]:0,[Q,F],y)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],g=0;g<f;g++)for(var y=this._ptr[g],b=this._ptr[g+1],_=y;_<b;_++){var M=this._index[_];yield{value:this._values[_],index:[M,g]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(f){for(var g=this._size[0],y=this._size[1],b=this.density(),_="Sparse Matrix ["+kg(g,f)+" x "+kg(y,f)+"] density: "+kg(b,f)+`
`,M=0;M<y;M++)for(var F=this._ptr[M],O=this._ptr[M+1],j=F;j<O;j++)_+=`
    (`+kg(this._index[j],f)+", "+kg(M,f)+") ==> "+(this._values?kg(this._values[j],f):"X");return _},i.prototype.toString=function(){return kg(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if($p(f)&&(f=f.toNumber()),!Yf(f)||!wp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var g=f>0?f:0,y=f<0?-f:0,b=this._size[0],_=this._size[1],M=Math.min(b-y,_-g),F=[],O=[],j=[];j[0]=0;for(var z=g;z<_&&F.length<M;z++)for(var W=this._ptr[z],J=this._ptr[z+1],G=W;G<J;G++){var Q=this._index[G];if(Q===z-g+y){F.push(this._values[G]),O[F.length-1]=Q-y;break}}return j.push(F.length),new i({values:F,index:O,ptr:j,size:[M,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,g,y,b,_){if(!Jh(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(Ce){if($p(Ce)&&(Ce=Ce.toNumber()),!Yf(Ce)||!wp(Ce)||Ce<1)throw new Error("Size values must be positive integers");return Ce}),y){if($p(y)&&(y=y.toNumber()),!Yf(y)||!wp(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var M=t,F=0;S0(_)&&(M=e.find(t,[_,_])||t,F=e.convert(0,_));var O,j=y>0?y:0,z=y<0?-y:0,W=f[0],J=f[1],G=Math.min(W-z,J-j);if(Jh(g)){if(g.length!==G)throw new Error("Invalid value array length");O=function(Ce){return g[Ce]}}else if(T0(g)){var Q=g.size();if(Q.length!==1||Q[0]!==G)throw new Error("Invalid matrix length");O=function(Ce){return g.get([Ce])}}else O=function(){return g};for(var te=[],ae=[],se=[],ge=0;ge<J;ge++){se.push(te.length);var xe=ge-j;if(xe>=0&&xe<G){var Pe=O(xe);M(Pe,F)||(ae.push(xe+z),te.push(Pe))}}return se.push(te.length),new i({values:te,index:ae,ptr:se,size:[W,J]})},i.prototype.swapRows=function(f,g){if(!(Yf(f)&&wp(f)&&Yf(g)&&wp(g)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return jh(f,this._size[0]),jh(g,this._size[0]),i._swapRows(f,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,g,y,b,_){for(var M=b[f],F=b[f+1],O=M;O<F;O++)_(y[O],g[O])},i._swapRows=function(f,g,y,b,_,M){for(var F=0;F<y;F++){var O=M[F],j=M[F+1],z=s(f,O,j,_),W=s(g,O,j,_);if(z<j&&W<j&&_[z]===f&&_[W]===g){if(b){var J=b[z];b[z]=b[W],b[W]=J}}else if(z<j&&_[z]===f&&(W>=j||_[W]!==g)){var G=b?b[z]:void 0;_.splice(W,0,g),b&&b.splice(W,0,G),_.splice(W<=z?z+1:z,1),b&&b.splice(W<=z?z+1:z,1)}else if(W<j&&_[W]===g&&(z>=j||_[z]!==f)){var Q=b?b[W]:void 0;_.splice(z,0,f),b&&b.splice(z,0,Q),_.splice(z<=W?W+1:W,1),b&&b.splice(z<=W?W+1:W,1)}}},i},{isClass:!0}),y9="matrix",bae=If(y9,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(y9,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,u){return o([],s,u)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,u,c){if(u==="dense"||u==="default"||u===void 0)return new r(s,c);if(u==="sparse")return new i(s,c);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),w9="unaryMinus",xae=If(w9,["typed"],n=>{var{typed:e}=n;return e(w9,{number:eH,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>gO(r,t))})}),b9="addScalar",Dae=If(b9,["typed"],n=>{var{typed:e}=n;return e(b9,{"number, number":QW,"Complex, Complex":function(t,r){return t.add(r)},"BigNumber, BigNumber":function(t,r){return t.plus(r)},"bigint, bigint":function(t,r){return t+r},"Fraction, Fraction":function(t,r){return t.add(r)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),x9="subtractScalar",Cae=If(x9,["typed"],n=>{var{typed:e}=n;return e(x9,{"number, number":ZW,"Complex, Complex":function(t,r){return t.sub(r)},"BigNumber, BigNumber":function(t,r){return t.minus(r)},"bigint, bigint":function(t,r){return t-r},"Fraction, Fraction":function(t,r){return t.sub(r)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),Sae=If("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,i,o,s){var u=r._values,c=r._index,p=r._ptr,f=r._size,g=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,b=f[0],_=f[1],M=o;typeof g=="string"&&(y=g,i=e.convert(i,y),M=e.find(o,[y,y]));for(var F=[],O=[],j=[],z=0;z<_;z++){for(var W=z+1,J=p[z],G=p[z+1],Q=J;Q<G;Q++){var te=c[Q];O[te]=u[Q],j[te]=W}for(var ae=0;ae<b;ae++)z===0&&(F[ae]=[]),j[ae]===W?F[ae][z]=s?M(i,O[ae]):M(O[ae],i):F[ae][z]=s?M(i,0):M(0,i)}return new t({data:F,size:[b,_],datatype:y})}}),_ae=If("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(r,i,o,s){var u,c=r._data,p=r._size,f=r._datatype,g=o;typeof f=="string"&&(u=f,i=e.convert(i,u),g=e.find(o,[u,u]));var y=p.length>0?t(g,0,p,p[0],c,i,s):[];return r.createDenseMatrix({data:y,size:dp(p),datatype:u})};function t(r,i,o,s,u,c,p){var f=[];if(i===o.length-1)for(var g=0;g<s;g++)f[g]=p?r(c,u[g]):r(u[g],c);else for(var y=0;y<s;y++)f[y]=t(r,i+1,o,o[i+1],u[y],c,p);return f}}),Eae=If("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(t,r,i,o){var s=t._data,u=t._size,c=t._datatype||t.getDataType(),p=r._values,f=r._index,g=r._ptr,y=r._size,b=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(u.length!==y.length)throw new Xc(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,M=u[0],F=u[1],O=0,j=i;typeof c=="string"&&c===b&&c!=="mixed"&&(_=c,O=e.convert(0,_),j=e.find(i,[_,_]));for(var z=[],W=0;W<M;W++)z[W]=[];for(var J=[],G=[],Q=0;Q<F;Q++){for(var te=Q+1,ae=g[Q],se=g[Q+1],ge=ae;ge<se;ge++){var xe=f[ge];J[xe]=o?j(p[ge],s[xe][Q]):j(s[xe][Q],p[ge]),G[xe]=te}for(var Pe=0;Pe<M;Pe++)G[Pe]===te?z[Pe][Q]=J[Pe]:z[Pe][Q]=o?j(O,s[Pe][Q]):j(s[Pe][Q],O)}return t.createDenseMatrix({data:z,size:[M,F],datatype:c===t._datatype&&b===r._datatype?_:void 0})}}),Aae=If("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,i,o){var s=r._values,u=r._index,c=r._ptr,p=r._size,f=r._datatype||r._data===void 0?r._datatype:r.getDataType(),g=i._values,y=i._index,b=i._ptr,_=i._size,M=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==_.length)throw new Xc(p.length,_.length);if(p[0]!==_[0]||p[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+_+")");var F,O=p[0],j=p[1],z=t,W=0,J=o;typeof f=="string"&&f===M&&f!=="mixed"&&(F=f,z=e.find(t,[F,F]),W=e.convert(0,F),J=e.find(o,[F,F]));var G,Q,te,ae,se=s&&g?[]:void 0,ge=[],xe=[],Pe=se?[]:void 0,Ce=se?[]:void 0,Me=[],Oe=[];for(Q=0;Q<j;Q++){xe[Q]=ge.length;var et=Q+1;for(te=c[Q],ae=c[Q+1];te<ae;te++)G=u[te],ge.push(G),Me[G]=et,Pe&&(Pe[G]=s[te]);for(te=b[Q],ae=b[Q+1];te<ae;te++)Me[G=y[te]]!==et&&ge.push(G),Oe[G]=et,Ce&&(Ce[G]=g[te]);if(se)for(te=xe[Q];te<ge.length;){var $e=Me[G=ge[te]],Fe=Oe[G];if($e===et||Fe===et){var Ne=J($e===et?Pe[G]:W,Fe===et?Ce[G]:W);z(Ne,W)?ge.splice(te,1):(se.push(Ne),te++)}}}return xe[j]=ge.length,r.createSparseMatrix({values:se,index:ge,ptr:xe,size:[O,j],datatype:f===r._datatype&&M===i._datatype?F:void 0})}}),kae=If("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(r,i,o){var s,u=r._data,c=r._size,p=r._datatype,f=i._data,g=i._size,y=i._datatype,b=[];if(c.length!==g.length)throw new Xc(c.length,g.length);for(var _=0;_<c.length;_++){if(c[_]!==g[_])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");b[_]=c[_]}var M=o;typeof p=="string"&&p===y&&(s=p,M=e.find(o,[s,s]));var F=b.length>0?t(M,0,b,b[0],u,f):[];return r.createDenseMatrix({data:F,size:b,datatype:s})};function t(r,i,o,s,u,c){var p=[];if(i===o.length-1)for(var f=0;f<s;f++)p[f]=r(u[f],c[f]);else for(var g=0;g<s;g++)p[g]=t(r,i+1,o,o[i+1],u[g],c[g]);return p}});function pp(n,e){if(dv(n.size(),e.size()))return[n,e];var t=YW(n.size(),e.size());return[n,e].map(r=>function(i,o){return dv(i.size(),o)?i:i.create(PP(i.valueOf(),o),i.datatype())}(r,t))}var tH=If("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=kae({typed:e}),i=_ae({typed:e});return function(o){var s,u=o.elop,c=o.SD||o.DS;u?(s={"DenseMatrix, DenseMatrix":(g,y)=>r(...pp(g,y),u),"Array, Array":(g,y)=>r(...pp(t(g),t(y)),u).valueOf(),"Array, DenseMatrix":(g,y)=>r(...pp(t(g),y),u),"DenseMatrix, Array":(g,y)=>r(...pp(g,t(y)),u)},o.SS&&(s["SparseMatrix, SparseMatrix"]=(g,y)=>o.SS(...pp(g,y),u,!1)),o.DS&&(s["DenseMatrix, SparseMatrix"]=(g,y)=>o.DS(...pp(g,y),u,!1),s["Array, SparseMatrix"]=(g,y)=>o.DS(...pp(t(g),y),u,!1)),c&&(s["SparseMatrix, DenseMatrix"]=(g,y)=>c(...pp(y,g),u,!0),s["SparseMatrix, Array"]=(g,y)=>c(...pp(t(y),g),u,!0))):(s={"DenseMatrix, DenseMatrix":e.referToSelf(g=>(y,b)=>r(...pp(y,b),g)),"Array, Array":e.referToSelf(g=>(y,b)=>r(...pp(t(y),t(b)),g).valueOf()),"Array, DenseMatrix":e.referToSelf(g=>(y,b)=>r(...pp(t(y),b),g)),"DenseMatrix, Array":e.referToSelf(g=>(y,b)=>r(...pp(y,t(b)),g))},o.SS&&(s["SparseMatrix, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.SS(...pp(y,b),g,!1))),o.DS&&(s["DenseMatrix, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.DS(...pp(y,b),g,!1)),s["Array, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.DS(...pp(t(y),b),g,!1))),c&&(s["SparseMatrix, DenseMatrix"]=e.referToSelf(g=>(y,b)=>c(...pp(b,y),g,!0)),s["SparseMatrix, Array"]=e.referToSelf(g=>(y,b)=>c(...pp(t(b),y),g,!0))));var p=o.scalar||"any";(o.Ds||o.Ss)&&(u?(s["DenseMatrix,"+p]=(g,y)=>i(g,y,u,!1),s[p+", DenseMatrix"]=(g,y)=>i(y,g,u,!0),s["Array,"+p]=(g,y)=>i(t(g),y,u,!1).valueOf(),s[p+", Array"]=(g,y)=>i(t(y),g,u,!0).valueOf()):(s["DenseMatrix,"+p]=e.referToSelf(g=>(y,b)=>i(y,b,g,!1)),s[p+", DenseMatrix"]=e.referToSelf(g=>(y,b)=>i(b,y,g,!0)),s["Array,"+p]=e.referToSelf(g=>(y,b)=>i(t(y),b,g,!1).valueOf()),s[p+", Array"]=e.referToSelf(g=>(y,b)=>i(t(b),y,g,!0).valueOf())));var f=o.sS!==void 0?o.sS:o.Ss;return u?(o.Ss&&(s["SparseMatrix,"+p]=(g,y)=>o.Ss(g,y,u,!1)),f&&(s[p+", SparseMatrix"]=(g,y)=>f(y,g,u,!0))):(o.Ss&&(s["SparseMatrix,"+p]=e.referToSelf(g=>(y,b)=>o.Ss(y,b,g,!1))),f&&(s[p+", SparseMatrix"]=e.referToSelf(g=>(y,b)=>f(b,y,g,!0)))),u&&u.signatures&&function(g,y){for(var b in y)nx(y,b)&&(g[b]=y[b])}(s,u.signatures),s}}),nH=If("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(t,r,i,o){var s=t._data,u=t._size,c=t._datatype||t.getDataType(),p=r._values,f=r._index,g=r._ptr,y=r._size,b=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(u.length!==y.length)throw new Xc(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,M,F=u[0],O=u[1],j=typeof c=="string"&&c!=="mixed"&&c===b?c:void 0,z=j?e.find(i,[j,j]):i,W=[];for(_=0;_<F;_++)W[_]=[];var J=[],G=[];for(M=0;M<O;M++){for(var Q=M+1,te=g[M],ae=g[M+1],se=te;se<ae;se++)J[_=f[se]]=o?z(p[se],s[_][M]):z(s[_][M],p[se]),G[_]=Q;for(_=0;_<F;_++)G[_]===Q?W[_][M]=J[_]:W[_][M]=s[_][M]}return t.createDenseMatrix({data:W,size:[F,O],datatype:c===t._datatype&&b===r._datatype?j:void 0})}}),Mae=If("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,i,o){var s=r._values,u=r._index,c=r._ptr,p=r._size,f=r._datatype||r._data===void 0?r._datatype:r.getDataType(),g=i._values,y=i._index,b=i._ptr,_=i._size,M=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==_.length)throw new Xc(p.length,_.length);if(p[0]!==_[0]||p[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+_+")");var F,O=p[0],j=p[1],z=t,W=0,J=o;typeof f=="string"&&f===M&&f!=="mixed"&&(F=f,z=e.find(t,[F,F]),W=e.convert(0,F),J=e.find(o,[F,F]));var G,Q,te,ae,se,ge=s&&g?[]:void 0,xe=[],Pe=[],Ce=s&&g?[]:void 0,Me=s&&g?[]:void 0,Oe=[],et=[];for(Q=0;Q<j;Q++){Pe[Q]=xe.length;var $e=Q+1;for(ae=c[Q],se=c[Q+1],te=ae;te<se;te++)G=u[te],xe.push(G),Oe[G]=$e,Ce&&(Ce[G]=s[te]);for(ae=b[Q],se=b[Q+1],te=ae;te<se;te++)if(Oe[G=y[te]]===$e){if(Ce){var Fe=J(Ce[G],g[te]);z(Fe,W)?Oe[G]=null:Ce[G]=Fe}}else xe.push(G),et[G]=$e,Me&&(Me[G]=g[te]);if(Ce&&Me)for(te=Pe[Q];te<xe.length;)Oe[G=xe[te]]===$e?(ge[te]=Ce[G],te++):et[G]===$e?(ge[te]=Me[G],te++):xe.splice(te,1)}return Pe[j]=xe.length,r.createSparseMatrix({values:ge,index:xe,ptr:Pe,size:[O,j],datatype:f===r._datatype&&M===i._datatype?F:void 0})}}),rH=If("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,i,o,s){var u=r._values,c=r._index,p=r._ptr,f=r._size,g=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,b=f[0],_=f[1],M=o;typeof g=="string"&&(y=g,i=e.convert(i,y),M=e.find(o,[y,y]));for(var F=[],O=[],j=[],z=0;z<_;z++){for(var W=z+1,J=p[z],G=p[z+1],Q=J;Q<G;Q++){var te=c[Q];O[te]=u[Q],j[te]=W}for(var ae=0;ae<b;ae++)z===0&&(F[ae]=[]),j[ae]===W?F[ae][z]=s?M(i,O[ae]):M(O[ae],i):F[ae][z]=i}return new t({data:F,size:[b,_],datatype:y})}}),D9="subtract",Fae=If(D9,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:o,DenseMatrix:s,concat:u}=n,c=nH({typed:e}),p=Eae({typed:e}),f=Aae({typed:e,equalScalar:r}),g=rH({typed:e,DenseMatrix:s}),y=Sae({typed:e,DenseMatrix:s}),b=tH({typed:e,matrix:t,concat:u});return e(D9,{"any, any":i},b({elop:i,SS:f,DS:c,SD:p,Ss:y,sS:g}))}),C9="concat",Pae=If(C9,["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e(C9,{"...Array | Matrix | number | BigNumber":function(i){var o,s,u=i.length,c=-1,p=!1,f=[];for(o=0;o<u;o++){var g=i[o];if(T0(g)&&(p=!0),Yf(g)||$p(g)){if(o!==u-1)throw new Error("Dimension must be specified as last argument");if(s=c,c=g.valueOf(),!r(c))throw new TypeError("Integer number expected for dimension");if(c<0||o>0&&c>s)throw new Kv(c,s+1)}else{var y=dp(g).valueOf(),b=Zm(y);if(f[o]=y,s=c,c=b.length-1,o>0&&c!==s)throw new Xc(s+1,c+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var _=f.shift();f.length;)_=GW(_,f.shift(),c);return p?t(_):_},"...string":function(i){return i.join("")}})}),Tae=If("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:s,concat:u}=n,c=nH({typed:e}),p=Mae({typed:e,equalScalar:i}),f=rH({typed:e,DenseMatrix:o}),g=tH({typed:e,matrix:t,concat:u});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(y=>(b,_,M)=>{for(var F=y(b,_),O=0;O<M.length;O++)F=y(F,M[O]);return F})},g({elop:r,DS:c,SS:p,Ss:f}))}),Iae=lae({config:cO}),Oae=fae({}),Nae=pae({}),mO=gae({}),UE=mae({Matrix:mO}),G0=woe({BigNumber:Iae,Complex:Oae,DenseMatrix:UE,Fraction:Nae}),Bae=Dae({typed:G0}),dO=yae({config:cO,typed:G0}),Rae=dae({typed:G0}),iH=wae({Matrix:mO,equalScalar:dO,typed:G0}),jae=Cae({typed:G0}),Lae=xae({typed:G0}),vO=bae({DenseMatrix:UE,Matrix:mO,SparseMatrix:iH,typed:G0}),oH=Pae({isInteger:Rae,matrix:vO,typed:G0}),aH=Fae({DenseMatrix:UE,concat:oH,equalScalar:dO,matrix:vO,subtractScalar:jae,typed:G0,unaryMinus:Lae}),Ry=Tae({DenseMatrix:UE,SparseMatrix:iH,addScalar:Bae,concat:oH,equalScalar:dO,matrix:vO,typed:G0}),$ae=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return dh(e,n),Object.defineProperty(e.prototype,"displayDimensions",{get:function(){var t,r;return[((t=this._root)===null||t===void 0?void 0:t.canvas.width)||0,((r=this._root)===null||r===void 0?void 0:r.canvas.height)||0]},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(e.prototype,"canvasDimensions",{get:function(){return this.context.workingCanvasDimensions},enumerable:!1,configurable:!0}),e.prototype.translate=function(t,r){var i=this.canvasDimensions,o=i[0],s=i[1],u=Im([],t.o),c=t.w,p=t.h,f=[u=Ry(u,r),Ry(u,[c,0]),Ry(u,[0,p]),Ry(u,[c,p])],g=Math.min.apply(Math,f.map(function(F){return F[0]})),y=Math.max.apply(Math,f.map(function(F){return F[0]})),b=Math.min.apply(Math,f.map(function(F){return F[1]})),_=Math.max.apply(Math,f.map(function(F){return F[1]})),M=[0,0];return g<0?M[0]=-g:y>o&&(M[0]=o-y),b<0?M[1]=-b:_>s&&(M[1]=s-_),Im([],u),u=Ry(u,M),new qf(u,c,p)},e.prototype.withinBounds=function(t,r,i,o){return o===void 0&&(o=1e-10),t>=r-o&&t<=i+o},e.prototype.updateDimensions=function(t,r,i){this.setState(Ou(Ou({},this.state),{cameraBox:new qf(t,r,i)})),this.checkBounds()},e.prototype.checkBounds=function(){var t,r,i,o=this.canvasDimensions,s=o[0],u=o[1];t=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,t[0]=Math.max(Math.min(t[0],s),0),t[1]=Math.max(Math.min(t[1],u),0),r=Math.max(Math.min(r,s-t[0]),0),i=Math.max(Math.min(i,u-t[1]),0),this.setState(Ou(Ou({},this.state),{cameraBox:new qf(t,r,i)}))},e.prototype.onGlobalWindowChange=function(){},e.prototype.scale=function(t,r,i){var o,s,u,c=this.canvasDimensions,p=c[0],f=c[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");o=t.o;var g=p/(s=t.w),y=f/(u=t.h),b=Math.min(g,y),_=s*(r=[Math.min(r[0],b),Math.min(r[1],b)])[0],M=u*r[1],F=[i[0]-o[0],i[1]-o[1]],O=F[0],j=F[1],z=this.canvasUnit,W=z[0],J=z[1],G=[O*W,j*J],Q=G[0],te=G[1],ae=[O*r[0],j*r[1]],se=[ae[0]*W,ae[1]*J],ge=[Q-se[0],te-se[1]],xe=ge[0],Pe=ge[1],Ce=this.absoluteUnit,Me=[xe*Ce[0],Pe*Ce[1]],Oe=[o[0]+O*r[0],o[1]+j*r[1]];return aH(i,Oe),console.log(O,j),s=_,u=M,this.translate(new qf(o,s,u),Me)},e.prototype.getCenter=function(){return Ry(this.o,[this.w/2,this.h/2])},e.prototype.getBox=function(){return this.state.cameraBox},e}(ld),zae=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isInteractiveCamera=!0,t.layer=-100,t.scaleAnchor=[0,0],t}return dh(e,n),e.prototype.windowDidMount=function(){var t=this;n.prototype.windowDidMount.call(this);var r=this.displayDimensions,i=r[0],o=r[1],s=this.canvasDimensions,u=s[0],c=s[1],p=new qf([u/2-i/2,c/2-o/2],i,o);console.log(p);var f=this.translate(p,[0,0]);this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:f}),this.props.subscribeToCanvasResize(function(){var g=t.state.cameraBox.clone().o,y=t.state.cameraBox.w,b=t.state.cameraBox.h,_=t.displayDimensions,M=b*(_[0]/_[1]),F=M-y,O=t.translate(new qf(g,M,b),[-F/2,0]);t.setState({cameraBox:O})})},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t,r){if(r.button===1){var i=t.terminateEvent,o=t.canvasPos;this.setState(Ou(Ou({},this.state),{lastMousePosition:o,isPanning:!0})),i()}},e.prototype.onMouseMove=function(t,r){var i=t.terminateEvent,o=t.canvasPos,s=t.absolutePos,u=t.canvasUnit,c=u[0],p=u[1],f=Ou({},this.state);if(this.scaleAnchor=s,this.state.isPanning){i();var g=aH(o,this.state.lastMousePosition),y=g[0],b=g[1],_=this.translate(this.state.cameraBox.clone(),[-y*c,-b*p]);f=Ou(Ou({},f),{lastMousePosition:o,cameraBox:_}),this.setState(f)}},e.prototype.onMouseUp=function(t,r){this.setState(Ou(Ou({},this.state),{isPanning:!1}))},e.prototype.onWheel=function(t,r){var i=t.terminateEvent,o=t.canvasToAbsoluteMeasure,s=r.deltaX,u=r.deltaY,c=r.ctrlKey,p=r.altKey;if(c){var f;if(f=s!==0?1+.01*s:1-.01*u,!p){if(this.w*f<50)return;var g=this.scale(this.state.cameraBox.clone(),[Math.max(.1,f),Math.max(.1,f)],this.scaleAnchor);this.setState(Ou(Ou({},this.state),{cameraBox:g}))}}else{var y=o([s,u]),b=y[0],_=y[1];g=this.translate(this.state.cameraBox.clone(),[b,_]),this.setState(Ou(Ou({},this.state),{cameraBox:g}))}i()},e.prototype.render=function(t){},e}($ae),Uae=[1e4,1e4],Wae=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}return dh(e,n),e.prototype.getBox=function(){var t=this.context.workingCanvasDimensions,r=t[0],i=t[1];return new qf([r/2,i/2],0,0)},e.prototype.getChildren=function(){return this.props.objects},e.prototype.render=function(t){if(this.context.mode!=="view"){var r=t.ctx,i=t.absoluteO,o=i[0],s=i[1],u=[[o,s+13],[o,s-13],[o+13,s],[o-13,s]];r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(u[0][0],u[0][1]),r.lineTo(u[1][0],u[1][1]),r.moveTo(u[2][0],u[2][1]),r.lineTo(u[3][0],u[3][1]),r.stroke()}},e}(ld);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.windowDidMount=function(t){var r=this,i=this.props.controller;this.setContext("controller",i),this.setContext("project",i.getProject()),this.setContext("projectTools",i.projectTools),i.subscribeToProjectUpdates(function(){var o=i.getProject();r.setContext("project",o)}),this.setContext("workingCanvasDimensions",Uae),this.props.modeManager.subscribeToModeUpdates(function(o){r.setContext("mode",o)}),this.setContext("setMode",function(o){r.props.modeManager.setMode(o)})},e.prototype.getChildren=function(t){var r=[];r.push(zae.Node({subscribeToCanvasResize:this.props.subscribeToCanvasResize}));var i={mode:this.props.mode};return r.push(Wae.Node({objects:this.props.getObjects(i)})),r}})(ld);var $D=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Hae=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return dh(e,n),e.prototype.getBox=function(){return new qf([0,0],this.parentW,this.parentH)},e.prototype.render=function(t){this.strokeOutline(t,"green")},e}(ld),zm=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return dh(e,n),e.prototype.evaluateSignal=function(t,r){var i=this.context.controller.interpolateSignalValueAtTime(t,r),o=i[0],s=i[1];return s.length>0&&console.error(s),o},Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this.context.project.timelineData.playheadPosition||0},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){return this.context.mode==="edit"||this.context.mode==="record"?[Hae.Node()]:[]},e.prototype.useSignal=function(t,r,i,o){return this.context.project.orgData.signalIds.findIndex(function(s){return s===t})===-1&&(r==="continuous"&&(this.context.projectTools.createSignal(t,r,t,i),this.context.projectTools.addPinContinuous(t,$D(),this.context.project.timelineData.numberOfFrames,i[1],"return easyLinear();",!0)),r==="discrete"&&(this.context.projectTools.createSignal(t,r,t),this.context.projectTools.addPinDiscrete(t,$D(),this.context.project.timelineData.numberOfFrames,"default",!0))),this.evaluateSignal(t,o||this.currentFrame)},e.prototype.setSignalValue=function(t,r,i,o,s){r==="continuous"&&this.context.projectTools.addPinContinuous(t,$D(),o,i,"return easyLinear();",s),r==="discrete"&&this.context.projectTools.addPinDiscrete(t,$D(),o,i,s)},e.prototype.setDiscreteSignalValue=function(t,r,i,o){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(s){return s===t})===-1&&this.context.projectTools.createSignal(t,"discrete",t),o=o||this.currentFrame,this.setSignalValue(t,"discrete",r,o,i)},e.prototype.setContinuousSignalValue=function(t,r,i,o,s){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(u){return u===t})===-1&&this.context.projectTools.createSignal(t,"continuous",t,o),s=s||this.currentFrame,this.setSignalValue(t,"continuous",r,s,i)},e.prototype.useContinuousSignal=function(t,r,i){return this.useSignal(t,"continuous",r,i)},e.prototype.useDiscreteSignal=function(t,r){return this.useSignal(t,"discrete",void 0,r)},e.prototype.render=function(t){this.context.mode==="edit"||this.context.mode;var r=Ou(Ou({},t),{useContinuousSignal:this.useContinuousSignal.bind(this),useDiscreteSignal:this.useDiscreteSignal.bind(this)});this.draw(r)},e.prototype.draw=function(t){},e}(ld);function Mv(n,e,t){return Math.min(Math.max(n,e),t)}var TP=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return dh(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1];return new qf(this.props.o,25*r,25*i)},e.prototype.render=function(t){var r=this.context.mode,i=this.absoluteUnit,o=i[0],s=i[1],u=t.absoluteO,c=u[0],p=u[1],f=[c+this.w/2*o,p+this.h/2*s],g=f[0],y=f[1];t.ctx.globalAlpha=this.props.alpha?this.props.alpha:1,t.ctx.beginPath(),t.ctx.ellipse(g,y,this.w/2*o,this.h/2*s,0,0,2*Math.PI),this.props.color?t.ctx.strokeStyle=this.props.color:t.ctx.strokeStyle=r==="edit"?"green":this.props.dragging?"red":"pink",t.ctx.lineWidth=2,t.ctx.stroke(),t.ctx.beginPath(),t.ctx.moveTo(g-this.w/2*o,y),t.ctx.lineTo(g+this.w/2*o,y),t.ctx.moveTo(g,y-this.h/2*s),t.ctx.lineTo(g,y+this.h/2*s),t.ctx.stroke(),t.ctx.globalAlpha=1},e}(zm),Vae=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return dh(e,n),e.prototype.windowDidMount=function(t){this.setState({dragging:!1})},e.prototype.getChildren=function(t){return[TP.Node({o:[0,0],dragging:this.state.dragging,anchor:this.props.anchor})]},e.prototype.getBox=function(t){var r=this.canvasUnit,i=r[0],o=r[1];return new qf([-12.5*i,-12.5*o],25*i,25*o)},e.prototype.onMouseDown=function(t,r){t.pointInside&&this.context.mode==="record"&&this.setState({dragging:!0})},e.prototype.chooseSetSignalValueFunction=function(t,r,i){var o=this.props.topProps.type,s=r.angle,u=r.magnitude,c=r.vector,p=r.range,f=r.rangeX,g=r.rangeY;switch(s=s&&Number(s.toFixed(2)),u=u&&Number(u.toFixed(2)),c=c&&c.map(function(j){return Number(j.toFixed(2))}),this.props.topProps.degreesOfFreedom){case"1-angular":if(o==="discrete")this.setDiscreteSignalValue(t,JSON.stringify({angle:s}),i);else{var y=p[0],b=p[1];this.setContinuousSignalValue(t,Mv(s,y,b),i,p)}break;case"1-normal":o==="discrete"?this.setDiscreteSignalValue(t,JSON.stringify({magnitude:u}),i):(y=p[0],b=p[1],this.setContinuousSignalValue(t,Mv(u,y,b),i,p));break;case"2-cartesian":if(o==="discrete")this.setDiscreteSignalValue(t,JSON.stringify({vector:c}),i);else{var _=f[0],M=f[1],F=g[0],O=g[1];this.setContinuousSignalValue(t+"_x",Mv(c[0],_,M),i,f),this.setContinuousSignalValue(t+"_y",Mv(c[1],F,O),i,g)}}},e.prototype.moveHandle=function(t,r){var i;this.context.projectTools.returnToLastCommit();var o={};switch(this.props.topProps.degreesOfFreedom){case"1-angular":var s=this.props.anchor,u=s[0],c=s[1],p=t.absolutePos,f=p[0]-u,g=p[1]-c;o={angle:Math.atan2(g,f),range:[-Math.PI,Math.PI]};break;case"1-normal":var y=nv(t.absolutePos,this.props.anchor);if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var b=this.props.topProps.initialDirection,_=function(J,G){return J[0]*G[0]+J[1]*G[1]}(y,rv(b,1/tx(b))),M=rv(b,_);if(!(z=this.props.topProps.range))throw new Error("Range not defined for 1-normal handle");o={magnitude:Mv(Math.sign(_)*tx(M),z[0],z[1]),range:z};break;case"2-cartesian":var F=nv(t.absolutePos,this.props.anchor),O=(f=F[0],g=F[1],this.props.topProps.rangeX),j=this.props.topProps.rangeY;if(!O||!j){var z;if(!(z=this.props.topProps.range))throw new Error("Range not defined for 2-cartesian handle");O=z,j=z}o={vector:[f=(i=[Mv(f,O[0],O[1]),Mv(g,j[0],j[1])])[0],g=i[1]],rangeX:O,rangeY:j}}this.chooseSetSignalValueFunction(this.props.topProps.id,o,r),this.context.projectTools.pushUpdate()},e.prototype.onMouseMove=function(t,r){this.state.dragging&&this.moveHandle(t,!1)},e.prototype.onMouseUp=function(t,r){this.state.dragging&&(this.moveHandle(t,!0),this.setState({dragging:!1}))},e.prototype.render=function(t){},e}(zm),qae=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return dh(e,n),e.prototype.getChildren=function(t){var r=this.getOnionSkinCrosshairPositions(),i=r[0],o=r[1],s=this.canvasUnit,u=[12.5*s[0],12.5*s[1]];return[TP.Node({o:nv(i,u),alpha:.5,color:"#d0e681",anchor:this.props.anchor}),TP.Node({o:nv(o,u),alpha:.5,color:"#77d4cd",anchor:this.props.anchor})]},e.prototype.getPreviousNextPinValues=function(){var t,r,i=this,o=this.props.topProps.id,s=Object.entries(this.context.project.signalData[o].pinTimes).sort(function(b,_){return b[1]-_[1]}),u=(t=s.find(function(b){return b[0],b[1]>=i.context.project.timelineData.playheadPosition}))===null||t===void 0?void 0:t[0],c=s.findIndex(function(b){var _=b[0];return b[1],_===u});try{r=JSON.parse(this.useDiscreteSignal(o,this.context.project.timelineData.playheadPosition))}catch{r={angle:0,magnitude:0,vector:[0,0]}}var p=c>0,f=c<s.length-1,g=r,y=r;if(p)try{g=JSON.parse(this.context.project.signalData[o].pinValues[s[c-1][0]])}catch{}if(f)try{y=JSON.parse(this.context.project.signalData[o].pinValues[s[c+1][0]])}catch{}return[g,y]},e.prototype.getOnionSkinCrosshairPositions=function(){var t,r,i=this.getPreviousNextPinValues(),o=i[0],s=i[1],u=o.magnitude,c=o.angle,p=o.vector,f=s.magnitude,g=s.angle,y=s.vector;switch(this.props.topProps.degreesOfFreedom){case"1-angular":if(!this.props.topProps.initialLength)throw new Error("Initial length not defined for 1-angular handle");var b=this.props.initialLength;t=[b*Math.cos(c),b*Math.sin(c)],r=[b*Math.cos(g),b*Math.sin(g)];break;case"1-normal":if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var _=rv(this.props.topProps.initialDirection,1/tx(this.props.topProps.initialDirection)),M=_[0],F=_[1];t=rv([M,F],u),r=rv([M,F],f);break;case"2-cartesian":t=p,r=y;break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}var O=nv(this.parentO,this.props.anchor);return[t=qv(t,O),r=qv(r,O)]},e}(zm),Kae=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return dh(e,n),e.prototype.getChildren=function(t){var r=this.props.children?Im([],this.props.children):[],i={id:this.props.id,topProps:this.props,anchor:this.parentO},o=Vae.Node(i);return r.push(o),r},e.prototype.retrieveSignalValue=function(t){if(this.props.type==="discrete"){var r=this.useDiscreteSignal(t,this.context.project.timelineData.playheadPosition),i={angle:0,magnitude:0,vector:[0,0]};try{i=JSON.parse(r)}catch{}switch(this.props.degreesOfFreedom){case"1-angular":return i.angle;case"1-normal":return i.magnitude;case"2-cartesian":return i.vector;default:throw new Error("Degrees of freedom not defined for VectorHandle")}}else switch(this.props.degreesOfFreedom){case"1-angular":return this.useContinuousSignal(t,[-Math.PI,Math.PI]);case"1-normal":return this.useContinuousSignal(t,this.props.range);case"2-cartesian":var o=this.props.rangeX,s=this.props.rangeY;if(!o||!s){var u=this.props.range;if(!u)throw new Error("Range not defined for 2-cartesian handle");o=u,s=u}return[this.useContinuousSignal(t+"_x",o),this.useContinuousSignal(t+"_y",s)];default:throw new Error("Degrees of freedom not defined for VectorHandle")}},e.prototype.getBox=function(){var t,r,i,o,s;switch(this.props.degreesOfFreedom){case"1-angular":var u=this.retrieveSignalValue(this.props.id);if(!this.props.initialLength)throw new Error("Initial length not defined for 1-angular handle");var c=this.props.initialLength;o=(t=[c*Math.cos(u),c*Math.sin(u)])[0],s=t[1];break;case"1-normal":var p=this.retrieveSignalValue(this.props.id);if(!this.props.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var f=rv(this.props.initialDirection,1/tx(this.props.initialDirection));o=(r=[f[0]*p,f[1]*p])[0],s=r[1];break;case"2-cartesian":o=(i=this.retrieveSignalValue(this.props.id))[0],s=i[1];break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}return new qf([o,s],0,0)},e.prototype.render=function(t){var r=this.context.mode;if(r==="edit"||r==="record"){var i=t.absoluteO,o=i[0],s=i[1],u=this.absoluteUnit,c=u[0],p=u[1],f=[o+this.w/2*c,s+this.h/2*p],g=f[0],y=f[1];if(this.props.displayLine){t.ctx.beginPath(),t.ctx.strokeStyle="green",t.ctx.lineWidth=2,t.ctx.setLineDash([3,1]);var b=t.localToCanvas(rv(this.o,-1)),_=b[0],M=b[1];t.ctx.moveTo(_,M),t.ctx.lineTo(g,y),t.ctx.stroke()}if(this.props.displayCircle){t.ctx.beginPath(),t.ctx.strokeStyle="green",t.ctx.lineWidth=2,t.ctx.setLineDash([3,1]);var F=tx(this.o),O=t.localToCanvas(rv(this.o,-1));_=O[0],M=O[1],t.ctx.ellipse(_,M,F*c,F*p,0,0,2*Math.PI),t.ctx.stroke()}t.ctx.setLineDash([]),t.ctx.font="20px Arial",t.ctx.fillStyle=r==="edit"?"green":"pink",t.ctx.fillText(this.props.id,g,y-17)}},e}(zm),Ck=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(Kae.Node(this.props)),this.props.onionSkin&&r.push(qae.Node({id:this.props.id,topProps:this.props,anchor:this.parentO})),r},e}(zm);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(Ck.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"2-cartesian",rangeX:t.rangeX,rangeY:t.rangeY,range:t.range,children:t.children,displayLine:t.displayLine,onionSkin:t.onionSkin})),r}})(ld),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(Ck.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"1-angular",children:t.children,initialLength:t.initialLength,displayCircle:t.displayCircle,onionSkin:t.onionSkin})),r}}(ld),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(Ck.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"1-normal",initialDirection:t.initialDirection,range:t.range,children:t.children,displayLine:t.displayLine,onionSkin:t.onionSkin})),r}}(ld),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.getChildren=function(){var t=this,r={continuous:this.useContinuousSignal.bind(this),discrete:this.useDiscreteSignal.bind(this),frame:function(){return t.currentFrame},project:function(){return t.context.project},setDiscreteSignal:function(i,o,s){return t.setDiscreteSignalValue(i,o,!0,s)},setContinuousSignal:function(i,o,s,u){return t.setContinuousSignalValue(i,o,!0,u,s)}};return this.props.getChildren(r)}}(zm),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){return new qf([this.props.x,this.props.y],this.props.w,this.props.h)},e.prototype.draw=function(t){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){t.ctx.save();var i=t.absoluteO,o=i[0],s=i[1];t.ctx.translate(o,s);var u=t.ctx;this.absoluteToCanvasMeasure;var c=this.absoluteUnit,p=c[0],f=c[1],g={moveTo:function(b,_){u.moveTo(b*p,_*f)},lineTo:function(b,_){u.lineTo(b*p,_*f)},arc:function(b,_,M,F,O,j){u.arc(b*p,_*f,M*p,F,O,j)},fillRect:function(b,_,M,F){u.fillRect(b*p,_*f,M*p,F*f)},strokeRect:function(b,_,M,F){u.strokeRect(b*p,_*f,M*p,F*f)},fillText:function(b,_,M){u.fillText(b,_*p,M*f)},strokeText:function(b,_,M){u.strokeText(b,_*p,M*f)},arcTo:function(b,_,M,F,O){u.arcTo(b*p,_*f,M*p,F*f,O*p)},bezierCurveTo:function(b,_,M,F,O,j){u.bezierCurveTo(b*p,_*f,M*p,F*f,O*p,j*f)},quadraticCurveTo:function(b,_,M,F){u.quadraticCurveTo(b*p,_*f,M*p,F*f)},rect:function(b,_,M,F){u.rect(b*p,_*f,M*p,F*f)},clearRect:function(b,_,M,F){u.clearRect(b*p,_*f,M*p,F*f)},translate:function(b,_){u.translate(b*p,_*f)},transform:function(b,_,M,F,O,j){u.transform(b,_,M,F,O*p,j*f)},setTransform:function(b,_,M,F,O,j){u.setTransform(b,_,M,F,O*p,j*f)},createRadialGradient:function(b,_,M,F,O,j){return u.createRadialGradient(b*p,_*f,M*p,F*p,O*f,j*p)}},y=new Proxy(t.ctx,{get:function(b,_){if(_ in g)return g[_];var M=Reflect.get(b,_);return typeof M=="function"?M.bind(b):M},set:function(b,_,M){return Reflect.set(b,_,M)}});y.beginPath(),y.rect(0,0,this.props.w,this.props.h),y.clip(),this.props.draw(y),t.ctx.restore()}}}(zm),function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.globalPositioning=!0,t}dh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){var t=this.context.workingCanvasDimensions[0],r=this.context.workingCanvasDimensions[1];return new qf([0,0],t,r)},e.prototype.draw=function(t){var r=this.context.mode;this.props.modes&&!this.props.modes.includes(r)||this.props.draw(t.ctx)}}(zm),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.getBox=function(){return new qf([this.props.x,this.props.y],this.props.w,this.props.h)},e.prototype.getChildren=function(){return this.props.children}}(zm),function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._img=null,t}dh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){return new qf([this.props.x,this.props.y],this.props.w,this.props.h)},Object.defineProperty(e.prototype,"img",{get:function(){var t=this;if(!this._img){var r=new Image;return r.src=this.props.src,r.onload=function(){t._img=r},r}return this._img},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){t.ctx.save();var i=t.absoluteO,o=i[0],s=i[1],u=this.absoluteUnit,c=u[0],p=u[1];t.ctx.translate(o,s),t.ctx.drawImage(this.img,0,0,this.props.w*c,this.props.h*p),t.ctx.restore()}}}(zm),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}dh(e,n),e.prototype.windowDidMount=function(t){this.props.onMount()}}(ld),function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSceneCamera=!0,t}dh(e,n),e.prototype.getChildren=function(){return this.props.children},e.prototype.getBox=function(){return new qf([this.props.x||0,this.props.y||0],this.props.w||500,this.props.h||500)},e.prototype.render=function(t){this.strokeOutline(t,"white")}}(zm),Nie.PinsAndCurvesProjectController,bie.defaultProject;var S9=function(n){var e=n.signalType,t=n.currentSignalType,r=n.setSignalType;return ft.jsx(md,{text:e,onClick:function(){return r(e)},bgColor:e===t?"var(--yellow1)":"var(--gray4)",color:e===t?"var(--gray1)":"var(--gray7)"})},Gae=function(n){n.id;var e=n.closeModal,t=n.useProjectTools,r=at.useState("New Signal"),i=r[0],o=r[1],s=at.useState("discrete"),u=s[0],c=s[1],p=at.useState(0),f=p[0],g=p[1],y=at.useState(1),b=y[0],_=y[1],M=t();return ft.jsx("div",{onClick:e,style:{display:"grid",placeItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",width:"100%",height:"100%",padding:"20px"},children:ft.jsxs("div",{onClick:function(F){return F.stopPropagation()},style:{backgroundColor:"var(--gray2)",color:"var(--gray7)",padding:"20px",borderRadius:"var(--borderRadiusSmall)",maxWidth:"400px",width:"100%",boxSizing:"border-box"},children:[ft.jsx("h2",{children:"Create Signal"}),ft.jsx("br",{}),ft.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px"},children:[ft.jsx("div",{children:"Signal Name:"}),ft.jsx(pd,{initialValue:i,onCommit:function(F){return o(F)},isValid:function(F){return F.length>0},charSize:20})]}),ft.jsx("br",{}),ft.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px",alignContent:"center"},children:[ft.jsx("div",{children:"Signal Type:"}),ft.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[ft.jsx(S9,{currentSignalType:u,signalType:"discrete",setSignalType:c}),ft.jsx(S9,{currentSignalType:u,signalType:"continuous",setSignalType:c})]})]}),u==="continuous"&&ft.jsxs(ft.Fragment,{children:[ft.jsx("hr",{}),ft.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px",alignContent:"center"},children:["Start:",ft.jsx(pd,{initialValue:f.toString(),onCommit:function(F){return g(parseFloat(F))},isValid:function(F){return!isNaN(parseFloat(F))}}),"End:",ft.jsx(pd,{initialValue:b.toString(),onCommit:function(F){return _(parseFloat(F))},isValid:function(F){return!isNaN(parseFloat(F))&&parseFloat(F)>f}})]}),ft.jsx("hr",{})]}),ft.jsx("br",{}),ft.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[ft.jsx(md,{onClick:e,text:"Cancel"}),ft.jsx(md,{onClick:function(){var F=function(){return Math.random().toString(36).substring(7)}();i&&u==="discrete"?(M.createSignal(F,u,i),e()):i&&u==="continuous"&&(M.createSignal(F,u,i,[f,b]),e())},text:"Create",bgColor:"var(--gray5)",hoverBgColor:"var(--gray6)"})]})]})})},Yae=function(n){return ft.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.5",clipRule:"evenodd",viewBox:"0 0 1383 1383",children:ft.jsx("g",{transform:"translate(-11367.9 -51917.4)",children:ft.jsxs("g",{id:"Artboard10",children:[ft.jsx("path",{fill:"none",d:"M11367.913 51917.246h1382.825v1382.824h-1382.825z"}),ft.jsx("path",{fill:"none",stroke:"#E6C61E",strokeWidth:"179.17",d:"M11714.478 52998.225s-129.7-164.1-129.7-390.899 126.3-407.598 126.3-407.598"}),ft.jsx("path",{fill:"none",stroke:"#E6C61E",strokeWidth:"187.5",d:"M12049.47 53046.486v-827.096"}),ft.jsx("path",{fill:"#E6C61E",d:"m12283.778 52369.52 174.425-174.425 174.426 174.425-174.426 174.426z"})]})})})};function Jae(n){n.project;var e=n.projectTools;return ft.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"5px"},children:[ft.jsx("div",{style:{width:"45px",height:"45px"},children:ft.jsx(Yae,{})}),ft.jsx("div",{style:{width:"0px",height:"45px",borderLeft:"1px solid var(--gray3)",marginLeft:"25px",marginRight:"25px"}}),ft.jsx(md,{iconName:"undo",onClick:function(){return e.undo()}}),ft.jsx(md,{iconName:"redo",onClick:function(){return e.redo()}})]})}km.PinsAndCurvesProjectController;Mx.defaultProject;var Xae=function(n){var e=n.id,t=n.closeModal,r=wE(),i=r[0],o=r[1],s=function(){return i.projectTools};return o?ft.jsx(Gae,{id:e,closeModal:t,useProjectTools:s}):null},Qae={create_signal:Xae,update_signal:function(){return ft.jsx("div",{children:"Update Signal"})}};function Zae(n){var e=n.modalType,t=n.modalId,r=n.closeModal;return ft.jsx(LY,{modalTypes:Qae,modalType:e,modalId:t,closeModal:r})}var G1=function(){return G1=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},G1.apply(this,arguments)};function ese(n){var e=n.useProject,t=n.useProjectTools,r=n.openCreateSignalModal,i=n.ComposeSignalListAndToolbar(ft.jsx(n.SignalList,{project:e(),projectTools:t()}),ft.jsx(n.Toolbar,{openCreateSignalModal:r}));return i}function tse(n){var e=n.children,t=n.projectHasLoaded,r=n.LoadingFallback;return t?ft.jsx(ft.Fragment,{children:e}):ft.jsx(r,{})}function nse(n){return ft.jsx(tse,{projectHasLoaded:n.projectHasLoaded,LoadingFallback:n.LoadingFallback,children:ft.jsx(ese,G1({},n))})}Mx.defaultProject;km.PinsAndCurvesProjectController;function rse(n){var e=n.openCreateSignalModal;return ft.jsx("div",{style:{padding:"10px",backgroundColor:"#282E34",display:"flex",justifyContent:"right"},children:ft.jsx(md,{text:"create signal",onClick:e})})}function ise(){var n=wE(),e=n[0],t=n[1],r=function(){return at.useSyncExternalStore(e.subscribeToProjectUpdates.bind(e),function(){return e.getProject.bind(e)()})},i=function(){return e.projectTools},o=RY();function s(){o({type:"modal",modalType:"create_signal"})}return nse({ComposeSignalListAndToolbar:function(u,c){return ft.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"1fr auto",height:"100%",width:"100%"},children:[u,c]})},projectHasLoaded:t,LoadingFallback:function(){return ft.jsx("div",{children:"Loading..."})},SignalList:o3,useProject:r,useProjectTools:i,openCreateSignalModal:s,Toolbar:rse})}function ose(n){var e=n.useProjectState,t=n.useProjectTools,r=n.useInterpolateSignalValue,i=n.EditingAreaCanvasContent,o=n.EditingAreaCanvasTools,s=n.EditingAreaCanvasCodeEditor,u=n.EditingAreaCanvasTimelineTools,c=n.ComposeEditingAreaCanvas,p=n.useSetFunctionString,f=at.useState("pointer"),g=f[0],y=f[1],b=at.useState(),_=b[0],M=b[1],F=t(),O=r(),j=p(),z=c(ft.jsx(i,{activeTool:g,setActiveEditor:M,useProjectState:e,projectTools:F,interpolateSignalValue:O}),ft.jsx(o,{activeTool:g,setActiveTool:y,useProjectState:e}),ft.jsx(u,{useProjectState:e,projectTools:F}),ft.jsx(s,{useProjectState:e,activeEditor:_,setFunctionString:j,interpolateSignalValue:O}),g);return z}function ase(n){var e=n.projectIsLoaded,t=n.LoadingFallback,r=n.children;return e?ft.jsx(ft.Fragment,{children:r}):ft.jsx(t,{})}function sse(n){return ft.jsx(ase,{projectIsLoaded:n.projectIsLoaded,LoadingFallback:n.LoadingFallback,children:ft.jsx(ose,G1({},n))})}var use=function(n){var e=n.useProjectState,t=n.projectTools,r=e();return yie({project:r,projectTools:t})};km.PinsAndCurvesProjectController;Mx.defaultProject;var lse=function(n,e,t,r,i){return ft.jsxs("div",{style:{display:"grid",height:"60vh",width:"100%",backgroundColor:"#282E34",gridTemplateRows:"60px calc(60vh - 60px) ",borderTop:"1px solid #3A424B",boxSizing:"border-box"},children:[ft.jsxs("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"var(--gray2)",borderBottom:"2px solid #3A424B"},children:[t,ft.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:ft.jsx("div",{style:{height:"40px",width:"1px",backgroundColor:"var(--gray5)",marginLeft:"30px",marginRight:"30px"}})}),e]}),ft.jsxs("div",{style:i==="code_editor"?{display:"grid",gridTemplateColumns:"30% 1fr",gridTemplateRows:"calc(60vh - 100px)",position:"relative"}:{display:"grid",gridTemplateColumns:"0% 1fr",gridTemplateRows:"100%",position:"relative"},children:[i==="code_editor"?r:ft.jsx("div",{style:{height:"calc(60vh - 100px)",width:"10px",backgroundColor:"blue"}}),n]})]})},cse=function(n){var e=n.activeTool,t=n.setActiveTool;return ft.jsx(wie,{activeTool:e,setActiveTool:t})};function fse(){return ft.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"white"},children:"Loading..."})}var hse=function(){var n=wE(),e=n[0],t=n[1],r=function(c){return at.useSyncExternalStore(e.subscribeToProjectUpdates.bind(e),function(){return c(e.getProject.bind(e)())})},i=function(){return r(function(c){return c})},o=function(){return e.projectTools},s=function(){return e.interpolateSignalValueAtTime.bind(e)},u=function(){var c=o();return function(p,f){c.updateCurve(p,f)}};return ft.jsx(sse,{LoadingFallback:fse,projectIsLoaded:t,EditingAreaCanvasContent:function(c){return console.log(c.activeTool),ft.jsx(mee,G1({},c))},EditingAreaCanvasTools:cse,EditingAreaCanvasTimelineTools:use,EditingAreaCanvasCodeEditor:vie,ComposeEditingAreaCanvas:lse,useProjectState:i,useProjectTools:o,useInterpolateSignalValue:s,useSetFunctionString:u})};function pse(n){var e=n.useServerURL,t=n.LocalRenderer,r=e();return ft.jsx("div",{style:{width:"100%",height:"100%"},children:r==="DEBUG_SERVER"?ft.jsx(t,{serverURL:r}):ft.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},src:r})})}var gse=km.PinsAndCurvesProjectController,mse=km.CustomEventAPI.dispatchProjectEvent(),dse=km.CustomEventAPI.subscribeToProjectEvents(),vse=Mx.defaultProject;function yse(){var n=at.useRef(gse.Host(mse,vse())),e=n.current;at.useEffect(function(){var i=dse(e.receive.bind(e));return function(){i()}},[]);var t=at.useSyncExternalStore(e.subscribeToProjectUpdates.bind(e),e.getProject.bind(e)),r=JSON.stringify(t,null,2);return ft.jsx("div",{style:{overflow:"scroll",height:"300px"},children:ft.jsx("pre",{children:r})})}function wse(){return ft.jsx(pse,{useServerURL:dz,LocalRenderer:yse})}function bse(n){var e=n.useProjectState,t=n.useProjectTools;n.LoadingFallback;var r=n.NavBarContent,i=n.ComposeNavBar,o=t(),s=e();return i(ft.jsx(r,{project:s,projectTools:o}))}function xse(n){var e=n.projectIsLoaded,t=n.LoadingFallback,r=n.children;return e?ft.jsx(ft.Fragment,{children:r}):ft.jsx(t,{})}function Dse(n){return ft.jsx(xse,{projectIsLoaded:n.projectIsLoaded,LoadingFallback:n.LoadingFallback,children:ft.jsx(bse,G1({},n))})}km.PinsAndCurvesProjectController;Mx.defaultProject;function Cse(){return ft.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"white"},children:"Loading..."})}function Sse(n){return ft.jsx("div",{style:{backgroundColor:"var(--gray2)",borderBottom:"2px solid var(--gray5)",display:"flex",justifyContent:"flex-start"},children:ft.jsx("div",{style:{marginLeft:"15px"},children:n})})}function _se(){var n=wE(),e=n[0],t=n[1],r=function(s){return at.useSyncExternalStore(e.subscribeToProjectUpdates.bind(e),function(){return s(e.getProject.bind(e)())})},i=function(){return r(function(s){return s})},o=function(){return e.projectTools};return ft.jsx(Dse,{NavBarContent:Jae,LoadingFallback:Cse,projectIsLoaded:t,useProjectState:i,useProjectTools:o,ComposeNavBar:Sse})}var Ese=function(n){var e=n.children,t=n.normalOrFullscreen,r={display:"grid",gridTemplateColumns:" 500px 1fr",gridTemplateRows:"45px calc(40vh - 45px) 60vh",gridTemplateAreas:`
            "nav nav"
            "orgArea playback"
            "editingArea editingArea"
        `,width:"100%",height:"100%"},i={display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"45px 1fr",gridTemplateAreas:`
            "nav"
            "playback"
        `,width:"100%",height:"100%",overflow:"hidden"},o=t==="normal"?r:i;return ft.jsx("div",{style:o,children:e})},Ase=function(){return ft.jsx(jY,{ProjectModalOverlay:Zae,NavBar:_se,OrgArea:ise,Playback:wse,EditingArea:hse,ComposeGridLayout:Ese})},kse=km.PostMessageAPI.dispatchProjectEvent,Mse=km.CustomEventAPI.dispatchProjectEvent,Fse=km.CustomEventAPI.subscribeToProjectEvents,Pse=km.PostMessageAPI.subscribeToProjectEvents,Tse=km.PinsAndCurvesProjectController;function Ise(n,e){var t=at.useRef();return at.useEffect(function(){var r=document.querySelector('iframe[src*="'.concat(n,'"]'));function i(){var f=Mse(),g=Fse();if(n!=="DEBUG_SERVER"){if(!r)throw new Error("Target iframe not found");var y=r.contentWindow;if(!y)throw new Error("Target iframe not found");var b=kse(y,n);f=function(_){b(_)},g=Pse(n)}return{dispatch:f,subscribe:g}}var o=i(),s=o.dispatch,u=o.subscribe;function c(){t.current=Tse.Client(s);var f=t.current,g=f.receive.bind(f),y=u(function(b){g(b)});return f.connectToHost(function(){console.log("Connected to host"),e()}),y}if(r)r.addEventListener("load",function(){var f=c();return function(){f()}});else{var p=c();return function(){p()}}},[n]),t.current}var Ose=function(){return ft.jsx("div",{children:"ProjectLoadErrorMock"})},Nse=function(){return ft.jsx(BY,{ProjectLoadError:Ose,ActiveProject:Ase,useServerUrl:dz,useLoadProject:Ise,TIMEOUT:5e3})},Bse=function(n){var e=n.serverUrl;return ft.jsx(NY,{serverUrlIsValid:function(t){return!0},serverUrl:e,ProjectScreen:Nse,ErrorScreen:function(){return ft.jsx("div",{children:"ErrorScreenMock"})}})};const Rse=()=>{const{serverUrl:n}=jG(),e=tI();return n||e("/"),ft.jsx(Bse,{serverUrl:decodeURIComponent(n)})};var IP=function(n,e){return IP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},IP(n,e)};function Gi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}IP(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var xl=function(){return xl=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},xl.apply(this,arguments)};function i0(n,e,t){if(t||arguments.length===2)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var zD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jse(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var _9,E9={exports:{}},Cg={},A9={exports:{}},k9={},M9,F9;function Lse(){return M9||(M9=1,A9.exports=function(){return _9||(_9=1,function(e){function t(Fe,Ne){var Ee=Fe.length;Fe.push(Ne);e:for(;0<Ee;){var Ze=Ee-1>>>1,xt=Fe[Ze];if(!(0<o(xt,Ne)))break e;Fe[Ze]=Ne,Fe[Ee]=xt,Ee=Ze}}function r(Fe){return Fe.length===0?null:Fe[0]}function i(Fe){if(Fe.length===0)return null;var Ne=Fe[0],Ee=Fe.pop();if(Ee!==Ne){Fe[0]=Ee;e:for(var Ze=0,xt=Fe.length,wt=xt>>>1;Ze<wt;){var Dt=2*(Ze+1)-1,rn=Fe[Dt],an=Dt+1,un=Fe[an];if(0>o(rn,Ee))an<xt&&0>o(un,rn)?(Fe[Ze]=un,Fe[an]=Ee,Ze=an):(Fe[Ze]=rn,Fe[Dt]=Ee,Ze=Dt);else{if(!(an<xt&&0>o(un,Ee)))break e;Fe[Ze]=un,Fe[an]=Ee,Ze=an}}}return Ne}function o(Fe,Ne){var Ee=Fe.sortIndex-Ne.sortIndex;return Ee!==0?Ee:Fe.id-Ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();e.unstable_now=function(){return u.now()-c}}var p=[],f=[],g=1,y=null,b=3,_=!1,M=!1,F=!1,O=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function W(Fe){for(var Ne=r(f);Ne!==null;){if(Ne.callback===null)i(f);else{if(!(Ne.startTime<=Fe))break;i(f),Ne.sortIndex=Ne.expirationTime,t(p,Ne)}Ne=r(f)}}function J(Fe){if(F=!1,W(Fe),!M)if(r(p)!==null)M=!0,et(G);else{var Ne=r(f);Ne!==null&&$e(J,Ne.startTime-Fe)}}function G(Fe,Ne){M=!1,F&&(F=!1,j(se),se=-1),_=!0;var Ee=b;try{for(W(Ne),y=r(p);y!==null&&(!(y.expirationTime>Ne)||Fe&&!Pe());){var Ze=y.callback;if(typeof Ze=="function"){y.callback=null,b=y.priorityLevel;var xt=Ze(y.expirationTime<=Ne);Ne=e.unstable_now(),typeof xt=="function"?y.callback=xt:y===r(p)&&i(p),W(Ne)}else i(p);y=r(p)}if(y!==null)var wt=!0;else{var Dt=r(f);Dt!==null&&$e(J,Dt.startTime-Ne),wt=!1}return wt}finally{y=null,b=Ee,_=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var Q,te=!1,ae=null,se=-1,ge=5,xe=-1;function Pe(){return!(e.unstable_now()-xe<ge)}function Ce(){if(ae!==null){var Fe=e.unstable_now();xe=Fe;var Ne=!0;try{Ne=ae(!0,Fe)}finally{Ne?Q():(te=!1,ae=null)}}else te=!1}if(typeof z=="function")Q=function(){z(Ce)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,Oe=Me.port2;Me.port1.onmessage=Ce,Q=function(){Oe.postMessage(null)}}else Q=function(){O(Ce,0)};function et(Fe){ae=Fe,te||(te=!0,Q())}function $e(Fe,Ne){se=O(function(){Fe(e.unstable_now())},Ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Fe){Fe.callback=null},e.unstable_continueExecution=function(){M||_||(M=!0,et(G))},e.unstable_forceFrameRate=function(Fe){0>Fe||125<Fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ge=0<Fe?Math.floor(1e3/Fe):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(p)},e.unstable_next=function(Fe){switch(b){case 1:case 2:case 3:var Ne=3;break;default:Ne=b}var Ee=b;b=Ne;try{return Fe()}finally{b=Ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Fe,Ne){switch(Fe){case 1:case 2:case 3:case 4:case 5:break;default:Fe=3}var Ee=b;b=Fe;try{return Ne()}finally{b=Ee}},e.unstable_scheduleCallback=function(Fe,Ne,Ee){var Ze=e.unstable_now();switch(Ee=typeof Ee=="object"&&Ee!==null&&typeof(Ee=Ee.delay)=="number"&&0<Ee?Ze+Ee:Ze,Fe){case 1:var xt=-1;break;case 2:xt=250;break;case 5:xt=1073741823;break;case 4:xt=1e4;break;default:xt=5e3}return Fe={id:g++,callback:Ne,priorityLevel:Fe,startTime:Ee,expirationTime:xt=Ee+xt,sortIndex:-1},Ee>Ze?(Fe.sortIndex=Ee,t(f,Fe),r(p)===null&&Fe===r(f)&&(F?(j(se),se=-1):F=!0,$e(J,Ee-Ze))):(Fe.sortIndex=xt,t(p,Fe),M||_||(M=!0,et(G))),Fe},e.unstable_shouldYield=Pe,e.unstable_wrapCallback=function(Fe){var Ne=b;return function(){var Ee=b;b=Ne;try{return Fe.apply(this,arguments)}finally{b=Ee}}}}(k9)),k9}()),A9.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function $se(){if(F9)return Cg;F9=1;var n=qi,e=Lse();function t(h){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)d+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(h,d){s(h,d),s(h+"Capture",d)}function s(h,d){for(i[h]=d,h=0;h<d.length;h++)r.add(d[h])}var u=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),c=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},g={};function y(h,d,S,T,$,q,X){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=T,this.attributeNamespace=$,this.mustUseProperty=S,this.propertyName=h,this.type=d,this.sanitizeURL=q,this.removeEmptyString=X}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){b[h]=new y(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var d=h[0];b[d]=new y(d,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){b[h]=new y(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){b[h]=new y(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){b[h]=new y(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){b[h]=new y(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){b[h]=new y(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){b[h]=new y(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){b[h]=new y(h,5,!1,h.toLowerCase(),null,!1,!1)});var _=/[\-:]([a-z])/g;function M(h){return h[1].toUpperCase()}function F(h,d,S,T){var $=b.hasOwnProperty(d)?b[d]:null;($!==null?$.type!==0:T||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(function(X,le,pe,_e){if(le==null||function(qe,Je,it,yt){if(it!==null&&it.type===0)return!1;switch(typeof Je){case"function":case"symbol":return!0;case"boolean":return!yt&&(it!==null?!it.acceptsBooleans:(qe=qe.toLowerCase().slice(0,5))!=="data-"&&qe!=="aria-");default:return!1}}(X,le,pe,_e))return!0;if(_e)return!1;if(pe!==null)switch(pe.type){case 3:return!le;case 4:return le===!1;case 5:return isNaN(le);case 6:return isNaN(le)||1>le}return!1}(d,S,$,T)&&(S=null),T||$===null?function(X){return!!c.call(g,X)||!c.call(f,X)&&(p.test(X)?g[X]=!0:(f[X]=!0,!1))}(d)&&(S===null?h.removeAttribute(d):h.setAttribute(d,""+S)):$.mustUseProperty?h[$.propertyName]=S===null?$.type!==3&&"":S:(d=$.attributeName,T=$.attributeNamespace,S===null?h.removeAttribute(d):(S=($=$.type)===3||$===4&&S===!0?"":""+S,T?h.setAttributeNS(T,d,S):h.setAttribute(d,S))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var d=h.replace(_,M);b[d]=new y(d,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var d=h.replace(_,M);b[d]=new y(d,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var d=h.replace(_,M);b[d]=new y(d,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){b[h]=new y(h,1,!1,h.toLowerCase(),null,!0,!0)});var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),te=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),Me=Symbol.iterator;function Oe(h){return h===null||typeof h!="object"?null:typeof(h=Me&&h[Me]||h["@@iterator"])=="function"?h:null}var et,$e=Object.assign;function Fe(h){if(et===void 0)try{throw Error()}catch(S){var d=S.stack.trim().match(/\n( *(at )?)/);et=d&&d[1]||""}return`
`+et+h}var Ne=!1;function Ee(h,d){if(!h||Ne)return"";Ne=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(_e){var T=_e}Reflect.construct(h,[],d)}else{try{d.call()}catch(_e){T=_e}h.call(d.prototype)}else{try{throw Error()}catch(_e){T=_e}h()}}catch(_e){if(_e&&T&&typeof _e.stack=="string"){for(var $=_e.stack.split(`
`),q=T.stack.split(`
`),X=$.length-1,le=q.length-1;1<=X&&0<=le&&$[X]!==q[le];)le--;for(;1<=X&&0<=le;X--,le--)if($[X]!==q[le]){if(X!==1||le!==1)do if(X--,0>--le||$[X]!==q[le]){var pe=`
`+$[X].replace(" at new "," at ");return h.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",h.displayName)),pe}while(1<=X&&0<=le);break}}}finally{Ne=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?Fe(h):""}function Ze(h){switch(h.tag){case 5:return Fe(h.type);case 16:return Fe("Lazy");case 13:return Fe("Suspense");case 19:return Fe("SuspenseList");case 0:case 2:case 15:return h=Ee(h.type,!1);case 11:return h=Ee(h.type.render,!1);case 1:return h=Ee(h.type,!0);default:return""}}function xt(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case W:return"Fragment";case z:return"Portal";case G:return"Profiler";case J:return"StrictMode";case se:return"Suspense";case ge:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case te:return(h.displayName||"Context")+".Consumer";case Q:return(h._context.displayName||"Context")+".Provider";case ae:var d=h.render;return(h=h.displayName)||(h=(h=d.displayName||d.name||"")!==""?"ForwardRef("+h+")":"ForwardRef"),h;case xe:return(d=h.displayName||null)!==null?d:xt(h.type)||"Memo";case Pe:d=h._payload,h=h._init;try{return xt(h(d))}catch{}}return null}function wt(h){var d=h.type;switch(h.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=(h=d.render).displayName||h.name||"",d.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xt(d);case 8:return d===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Dt(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":case"object":return h;default:return""}}function rn(h){var d=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function an(h){h._valueTracker||(h._valueTracker=function(S){var T=rn(S)?"checked":"value",$=Object.getOwnPropertyDescriptor(S.constructor.prototype,T),q=""+S[T];if(!S.hasOwnProperty(T)&&$!==void 0&&typeof $.get=="function"&&typeof $.set=="function"){var X=$.get,le=$.set;return Object.defineProperty(S,T,{configurable:!0,get:function(){return X.call(this)},set:function(pe){q=""+pe,le.call(this,pe)}}),Object.defineProperty(S,T,{enumerable:$.enumerable}),{getValue:function(){return q},setValue:function(pe){q=""+pe},stopTracking:function(){S._valueTracker=null,delete S[T]}}}}(h))}function un(h){if(!h)return!1;var d=h._valueTracker;if(!d)return!0;var S=d.getValue(),T="";return h&&(T=rn(h)?h.checked?"true":"false":h.value),(h=T)!==S&&(d.setValue(h),!0)}function ur(h){if((h=h||(typeof document<"u"?document:void 0))===void 0)return null;try{return h.activeElement||h.body}catch{return h.body}}function Fn(h,d){var S=d.checked;return $e({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??h._wrapperState.initialChecked})}function wi(h,d){var S=d.defaultValue==null?"":d.defaultValue,T=d.checked!=null?d.checked:d.defaultChecked;S=Dt(d.value!=null?d.value:S),h._wrapperState={initialChecked:T,initialValue:S,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function js(h,d){(d=d.checked)!=null&&F(h,"checked",d,!1)}function $a(h,d){js(h,d);var S=Dt(d.value),T=d.type;if(S!=null)T==="number"?(S===0&&h.value===""||h.value!=S)&&(h.value=""+S):h.value!==""+S&&(h.value=""+S);else if(T==="submit"||T==="reset")return void h.removeAttribute("value");d.hasOwnProperty("value")?ue(h,d.type,S):d.hasOwnProperty("defaultValue")&&ue(h,d.type,Dt(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(h.defaultChecked=!!d.defaultChecked)}function fe(h,d,S){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var T=d.type;if(!(T!=="submit"&&T!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+h._wrapperState.initialValue,S||d===h.value||(h.value=d),h.defaultValue=d}(S=h.name)!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,S!==""&&(h.name=S)}function ue(h,d,S){d==="number"&&ur(h.ownerDocument)===h||(S==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+S&&(h.defaultValue=""+S))}var ve=Array.isArray;function Se(h,d,S,T){if(h=h.options,d){d={};for(var $=0;$<S.length;$++)d["$"+S[$]]=!0;for(S=0;S<h.length;S++)$=d.hasOwnProperty("$"+h[S].value),h[S].selected!==$&&(h[S].selected=$),$&&T&&(h[S].defaultSelected=!0)}else{for(S=""+Dt(S),d=null,$=0;$<h.length;$++){if(h[$].value===S)return h[$].selected=!0,void(T&&(h[$].defaultSelected=!0));d!==null||h[$].disabled||(d=h[$])}d!==null&&(d.selected=!0)}}function Re(h,d){if(d.dangerouslySetInnerHTML!=null)throw Error(t(91));return $e({},d,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function Be(h,d){var S=d.value;if(S==null){if(S=d.children,d=d.defaultValue,S!=null){if(d!=null)throw Error(t(92));if(ve(S)){if(1<S.length)throw Error(t(93));S=S[0]}d=S}d==null&&(d=""),S=d}h._wrapperState={initialValue:Dt(S)}}function He(h,d){var S=Dt(d.value),T=Dt(d.defaultValue);S!=null&&((S=""+S)!==h.value&&(h.value=S),d.defaultValue==null&&h.defaultValue!==S&&(h.defaultValue=S)),T!=null&&(h.defaultValue=""+T)}function We(h){var d=h.textContent;d===h._wrapperState.initialValue&&d!==""&&d!==null&&(h.value=d)}function ot(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(h,d){return h==null||h==="http://www.w3.org/1999/xhtml"?ot(d):h==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var bt,fn=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,S,T,$){MSApp.execUnsafeLocalFunction(function(){return h(d,S)})}:h}(function(h,d){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=d;else{for((bt=bt||document.createElement("div")).innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=bt.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;d.firstChild;)h.appendChild(d.firstChild)}});function kn(h,d){if(d){var S=h.firstChild;if(S&&S===h.lastChild&&S.nodeType===3)return void(S.nodeValue=d)}h.textContent=d}var yn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},At=["Webkit","ms","Moz","O"];function Ui(h,d,S){return d==null||typeof d=="boolean"||d===""?"":S||typeof d!="number"||d===0||yn.hasOwnProperty(h)&&yn[h]?(""+d).trim():d+"px"}function io(h,d){for(var S in h=h.style,d)if(d.hasOwnProperty(S)){var T=S.indexOf("--")===0,$=Ui(S,d[S],T);S==="float"&&(S="cssFloat"),T?h.setProperty(S,$):h[S]=$}}Object.keys(yn).forEach(function(h){At.forEach(function(d){d=d+h.charAt(0).toUpperCase()+h.substring(1),yn[d]=yn[h]})});var bo=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(h,d){if(d){if(bo[h]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(t(137,h));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(t(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(t(61))}if(d.style!=null&&typeof d.style!="object")throw Error(t(62))}}function Oo(h,d){if(h.indexOf("-")===-1)return typeof d.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function fa(h){return(h=h.target||h.srcElement||window).correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ju=null,eu=null,hs=null;function uu(h){if(h=as(h)){if(typeof ju!="function")throw Error(t(280));var d=h.stateNode;d&&(d=Ci(d),ju(h.stateNode,h.type,d))}}function zl(h){eu?hs?hs.push(h):hs=[h]:eu=h}function Ss(){if(eu){var h=eu,d=hs;if(hs=eu=null,uu(h),d)for(h=0;h<d.length;h++)uu(d[h])}}function Dl(h,d){return h(d)}function Cl(){}var Qa=!1;function Ul(h,d,S){if(Qa)return h(d,S);Qa=!0;try{return Dl(h,d,S)}finally{Qa=!1,(eu!==null||hs!==null)&&(Cl(),Ss())}}function rl(h,d){var S=h.stateNode;if(S===null)return null;var T=Ci(S);if(T===null)return null;S=T[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(T=!((h=h.type)==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(S&&typeof S!="function")throw Error(t(231,d,typeof S));return S}var Gu=!1;if(u)try{var Ls={};Object.defineProperty(Ls,"passive",{get:function(){Gu=!0}}),window.addEventListener("test",Ls,Ls),window.removeEventListener("test",Ls,Ls)}catch{Gu=!1}function Sl(h,d,S,T,$,q,X,le,pe){var _e=Array.prototype.slice.call(arguments,3);try{d.apply(S,_e)}catch(Ve){this.onError(Ve)}}var _s=!1,xa=null,za=!1,Jo=null,il={onError:function(h){_s=!0,xa=h}};function ol(h,d,S,T,$,q,X,le,pe){_s=!1,xa=null,Sl.apply(il,arguments)}function Ua(h){var d=h,S=h;if(h.alternate)for(;d.return;)d=d.return;else{h=d;do 4098&(d=h).flags&&(S=d.return),h=d.return;while(h)}return d.tag===3?S:null}function lu(h){if(h.tag===13){var d=h.memoizedState;if(d===null&&(h=h.alternate)!==null&&(d=h.memoizedState),d!==null)return d.dehydrated}return null}function al(h){if(Ua(h)!==h)throw Error(t(188))}function sl(h){return h=function(S){var T=S.alternate;if(!T){if((T=Ua(S))===null)throw Error(t(188));return T!==S?null:S}for(var $=S,q=T;;){var X=$.return;if(X===null)break;var le=X.alternate;if(le===null){if((q=X.return)!==null){$=q;continue}break}if(X.child===le.child){for(le=X.child;le;){if(le===$)return al(X),S;if(le===q)return al(X),T;le=le.sibling}throw Error(t(188))}if($.return!==q.return)$=X,q=le;else{for(var pe=!1,_e=X.child;_e;){if(_e===$){pe=!0,$=X,q=le;break}if(_e===q){pe=!0,q=X,$=le;break}_e=_e.sibling}if(!pe){for(_e=le.child;_e;){if(_e===$){pe=!0,$=le,q=X;break}if(_e===q){pe=!0,q=le,$=X;break}_e=_e.sibling}if(!pe)throw Error(t(189))}}if($.alternate!==q)throw Error(t(190))}if($.tag!==3)throw Error(t(188));return $.stateNode.current===$?S:T}(h),h!==null?tu(h):null}function tu(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var d=tu(h);if(d!==null)return d;h=h.sibling}return null}var cu=e.unstable_scheduleCallback,_l=e.unstable_cancelCallback,Pi=e.unstable_shouldYield,Lu=e.unstable_requestPaint,Br=e.unstable_now,ha=e.unstable_getCurrentPriorityLevel,gn=e.unstable_ImmediatePriority,na=e.unstable_UserBlockingPriority,Sc=e.unstable_NormalPriority,El=e.unstable_LowPriority,No=e.unstable_IdlePriority,Qt=null,jt=null,fu=Math.clz32?Math.clz32:function(d){return d>>>=0,d===0?32:31-(Ph(d)/Es|0)|0},Ph=Math.log,Es=Math.LN2,Bo=64,Nf=4194304;function Bt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&h;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&h;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function rr(h,d){var S=h.pendingLanes;if(S===0)return 0;var T=0,$=h.suspendedLanes,q=h.pingedLanes,X=268435455&S;if(X!==0){var le=X&~$;le!==0?T=Bt(le):(q&=X)!==0&&(T=Bt(q))}else(X=S&~$)!==0?T=Bt(X):q!==0&&(T=Bt(q));if(T===0)return 0;if(d!==0&&d!==T&&!(d&$)&&(($=T&-T)>=(q=d&-d)||$===16&&4194240&q))return d;if(4&T&&(T|=16&S),(d=h.entangledLanes)!==0)for(h=h.entanglements,d&=T;0<d;)$=1<<(S=31-fu(d)),T|=h[S],d&=~$;return T}function Mo(h,d){switch(h){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;default:return-1}}function df(h){return(h=-1073741825&h.pendingLanes)!==0?h:1073741824&h?1073741824:0}function Za(){var h=Bo;return!(4194240&(Bo<<=1))&&(Bo=64),h}function Rr(h){for(var d=[],S=0;31>S;S++)d.push(h);return d}function hu(h,d,S){h.pendingLanes|=d,d!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),(h=h.eventTimes)[d=31-fu(d)]=S}function Ei(h,d){var S=h.entangledLanes|=d;for(h=h.entanglements;S;){var T=31-fu(S),$=1<<T;$&d|h[T]&d&&(h[T]|=d),S&=~$}}var Hn=0;function Xo(h){return 1<(h&=-h)?4<h?268435455&h?16:536870912:4:1}var af,cc,Rn,Qf,jr,Nc=!1,As=[],mi=null,Jn=null,ri=null,nn=new Map,Xn=new Map,es=[],ch="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jr(h,d){switch(h){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":nn.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xn.delete(d.pointerId)}}function $s(h,d,S,T,$,q){return h===null||h.nativeEvent!==q?(h={blockedOn:d,domEventName:S,eventSystemFlags:T,nativeEvent:q,targetContainers:[$]},d!==null&&(d=as(d))!==null&&cc(d),h):(h.eventSystemFlags|=T,d=h.targetContainers,$!==null&&d.indexOf($)===-1&&d.push($),h)}function Wl(h){var d=Xr(h.target);if(d!==null){var S=Ua(d);if(S!==null){if((d=S.tag)===13){if((d=lu(S))!==null)return h.blockedOn=d,void jr(h.priority,function(){Rn(S)})}else if(d===3&&S.stateNode.current.memoizedState.isDehydrated)return void(h.blockedOn=S.tag===3?S.stateNode.containerInfo:null)}}h.blockedOn=null}function Wn(h){if(h.blockedOn!==null)return!1;for(var d=h.targetContainers;0<d.length;){var S=vr(h.domEventName,h.eventSystemFlags,d[0],h.nativeEvent);if(S!==null)return(d=as(S))!==null&&cc(d),h.blockedOn=S,!1;var T=new(S=h.nativeEvent).constructor(S.type,S);Ru=T,S.target.dispatchEvent(T),Ru=null,d.shift()}return!0}function bi(h,d,S){Wn(h)&&S.delete(d)}function Bc(){Nc=!1,mi!==null&&Wn(mi)&&(mi=null),Jn!==null&&Wn(Jn)&&(Jn=null),ri!==null&&Wn(ri)&&(ri=null),nn.forEach(bi),Xn.forEach(bi)}function ul(h,d){h.blockedOn===d&&(h.blockedOn=null,Nc||(Nc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Bc)))}function zs(h){function d($){return ul($,h)}if(0<As.length){ul(As[0],h);for(var S=1;S<As.length;S++){var T=As[S];T.blockedOn===h&&(T.blockedOn=null)}}for(mi!==null&&ul(mi,h),Jn!==null&&ul(Jn,h),ri!==null&&ul(ri,h),nn.forEach(d),Xn.forEach(d),S=0;S<es.length;S++)(T=es[S]).blockedOn===h&&(T.blockedOn=null);for(;0<es.length&&(S=es[0]).blockedOn===null;)Wl(S),S.blockedOn===null&&es.shift()}var pa=O.ReactCurrentBatchConfig,Al=!0;function _c(h,d,S,T){var $=Hn,q=pa.transition;pa.transition=null;try{Hn=1,tc(h,d,S,T)}finally{Hn=$,pa.transition=q}}function Us(h,d,S,T){var $=Hn,q=pa.transition;pa.transition=null;try{Hn=4,tc(h,d,S,T)}finally{Hn=$,pa.transition=q}}function tc(h,d,S,T){if(Al){var $=vr(h,d,S,T);if($===null)sa(h,d,T,Hl,S),Jr(h,T);else if(function(le,pe,_e,Ve,qe){switch(pe){case"focusin":return mi=$s(mi,le,pe,_e,Ve,qe),!0;case"dragenter":return Jn=$s(Jn,le,pe,_e,Ve,qe),!0;case"mouseover":return ri=$s(ri,le,pe,_e,Ve,qe),!0;case"pointerover":var Je=qe.pointerId;return nn.set(Je,$s(nn.get(Je)||null,le,pe,_e,Ve,qe)),!0;case"gotpointercapture":return Je=qe.pointerId,Xn.set(Je,$s(Xn.get(Je)||null,le,pe,_e,Ve,qe)),!0}return!1}($,h,d,S,T))T.stopPropagation();else if(Jr(h,T),4&d&&-1<ch.indexOf(h)){for(;$!==null;){var q=as($);if(q!==null&&af(q),(q=vr(h,d,S,T))===null&&sa(h,d,T,Hl,S),q===$)break;$=q}$!==null&&T.stopPropagation()}else sa(h,d,T,null,S)}}var Hl=null;function vr(h,d,S,T){if(Hl=null,(h=Xr(h=fa(T)))!==null)if((d=Ua(h))===null)h=null;else if((S=d.tag)===13){if((h=lu(d))!==null)return h;h=null}else if(S===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;h=null}else d!==h&&(h=null);return Hl=h,null}function ll(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ha()){case gn:return 1;case na:return 4;case Sc:case El:return 16;case No:return 536870912;default:return 16}default:return 16}}var Ro=null,Vl=null,ga=null;function fc(){if(ga)return ga;var h,d,S=Vl,T=S.length,$="value"in Ro?Ro.value:Ro.textContent,q=$.length;for(h=0;h<T&&S[h]===$[h];h++);var X=T-h;for(d=1;d<=X&&S[T-d]===$[q-d];d++);return ga=$.slice(h,1<d?1-d:void 0)}function ql(h){var d=h.keyCode;return"charCode"in h?(h=h.charCode)===0&&d===13&&(h=13):h=d,h===10&&(h=13),32<=h||h===13?h:0}function ra(){return!0}function Wa(){return!1}function ji(h){function d(S,T,$,q,X){for(var le in this._reactName=S,this._targetInst=$,this.type=T,this.nativeEvent=q,this.target=X,this.currentTarget=null,h)h.hasOwnProperty(le)&&(S=h[le],this[le]=S?S(q):q[le]);return this.isDefaultPrevented=(q.defaultPrevented!=null?q.defaultPrevented:q.returnValue===!1)?ra:Wa,this.isPropagationStopped=Wa,this}return $e(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=ra)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=ra)},persist:function(){},isPersistent:ra}),d}var hc,xo,ts,Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ii=ji(Qi),Qo=$e({},Qi,{view:0,detail:0}),vf=ji(Qo),ia=$e({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ut,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==ts&&(ts&&h.type==="mousemove"?(hc=h.screenX-ts.screenX,xo=h.screenY-ts.screenY):xo=hc=0,ts=h),hc)},movementY:function(h){return"movementY"in h?h.movementY:xo}}),ie=ji(ia),de=ji($e({},ia,{dataTransfer:0})),ye=ji($e({},Qo,{relatedTarget:0})),ze=ji($e({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0})),ct=$e({},Qi,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Ue=ji(ct),pt=ji($e({},Qi,{data:0})),Et={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},he={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ke={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qe(h){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(h):!!(h=Ke[h])&&!!d[h]}function ut(){return Qe}var Vt=$e({},Qo,{key:function(h){if(h.key){var d=Et[h.key]||h.key;if(d!=="Unidentified")return d}return h.type==="keypress"?(h=ql(h))===13?"Enter":String.fromCharCode(h):h.type==="keydown"||h.type==="keyup"?he[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ut,charCode:function(h){return h.type==="keypress"?ql(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ql(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),hn=ji(Vt),Cr=ji($e({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Do=ji($e({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ut})),jn=ji($e({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0})),$t=$e({},ia,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Zh=ji($t),oa=[9,13,27,32],ps=u&&"CompositionEvent"in window,Ec=null;u&&"documentMode"in document&&(Ec=document.documentMode);var oo=u&&"TextEvent"in window&&!Ec,yf=u&&(!ps||Ec&&8<Ec&&11>=Ec),pu=" ",pn=!1;function kl(h,d){switch(h){case"keyup":return oa.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wf(h){return typeof(h=h.detail)=="object"&&"data"in h?h.data:null}var Ma=!1,Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nc(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d==="input"?!!Bf[h.type]:d==="textarea"}function cl(h,d,S,T){zl(T),0<(d=Jl(d,"onChange")).length&&(S=new ii("onChange","change",null,S,T),h.push({event:S,listeners:d}))}var fl=null,Wi=null;function aa(h){Eu(h,0)}function gu(h){if(un(Ea(h)))return h}function sf(h,d){if(h==="change")return d}var fh=!1;if(u){var Ac;if(u){var Zo="oninput"in document;if(!Zo){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Zo=typeof $u.oninput=="function"}Ac=Zo}else Ac=!1;fh=Ac&&(!document.documentMode||9<document.documentMode)}function zu(){fl&&(fl.detachEvent("onpropertychange",Kl),Wi=fl=null)}function Kl(h){if(h.propertyName==="value"&&gu(Wi)){var d=[];cl(d,Wi,h,fa(h)),Ul(aa,d)}}function Rc(h,d,S){h==="focusin"?(zu(),Wi=S,(fl=d).attachEvent("onpropertychange",Kl)):h==="focusout"&&zu()}function Ch(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return gu(Wi)}function Sh(h,d){if(h==="click")return gu(d)}function Tn(h,d){if(h==="input"||h==="change")return gu(d)}var wn=typeof Object.is=="function"?Object.is:function(d,S){return d===S&&(d!==0||1/d==1/S)||d!=d&&S!=S};function Gl(h,d){if(wn(h,d))return!0;if(typeof h!="object"||h===null||typeof d!="object"||d===null)return!1;var S=Object.keys(h),T=Object.keys(d);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var $=S[T];if(!c.call(d,$)||!wn(h[$],d[$]))return!1}return!0}function Zf(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function Rf(h,d){var S,T=Zf(h);for(h=0;T;){if(T.nodeType===3){if(S=h+T.textContent.length,h<=d&&S>=d)return{node:T,offset:d-h};h=S}e:{for(;T;){if(T.nextSibling){T=T.nextSibling;break e}T=T.parentNode}T=void 0}T=Zf(T)}}function Ws(h,d){return!(!h||!d)&&(h===d||(!h||h.nodeType!==3)&&(d&&d.nodeType===3?Ws(h,d.parentNode):"contains"in h?h.contains(d):!!h.compareDocumentPosition&&!!(16&h.compareDocumentPosition(d))))}function Da(){for(var h=window,d=ur();d instanceof h.HTMLIFrameElement;){try{var S=typeof d.contentWindow.location.href=="string"}catch{S=!1}if(!S)break;d=ur((h=d.contentWindow).document)}return d}function ks(h){var d=h&&h.nodeName&&h.nodeName.toLowerCase();return d&&(d==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||d==="textarea"||h.contentEditable==="true")}function Ai(h){var d=Da(),S=h.focusedElem,T=h.selectionRange;if(d!==S&&S&&S.ownerDocument&&Ws(S.ownerDocument.documentElement,S)){if(T!==null&&ks(S)){if(d=T.start,(h=T.end)===void 0&&(h=d),"selectionStart"in S)S.selectionStart=d,S.selectionEnd=Math.min(h,S.value.length);else if((h=(d=S.ownerDocument||document)&&d.defaultView||window).getSelection){h=h.getSelection();var $=S.textContent.length,q=Math.min(T.start,$);T=T.end===void 0?q:Math.min(T.end,$),!h.extend&&q>T&&($=T,T=q,q=$),$=Rf(S,q);var X=Rf(S,T);$&&X&&(h.rangeCount!==1||h.anchorNode!==$.node||h.anchorOffset!==$.offset||h.focusNode!==X.node||h.focusOffset!==X.offset)&&((d=d.createRange()).setStart($.node,$.offset),h.removeAllRanges(),q>T?(h.addRange(d),h.extend(X.node,X.offset)):(d.setEnd(X.node,X.offset),h.addRange(d)))}}for(d=[],h=S;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<d.length;S++)(h=d[S]).element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Tr=u&&"documentMode"in document&&11>=document.documentMode,ns=null,Hs=null,Fa=null,Pa=!1;function kc(h,d,S){var T=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;Pa||ns==null||ns!==ur(T)||("selectionStart"in(T=ns)&&ks(T)?T={start:T.selectionStart,end:T.selectionEnd}:T={anchorNode:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset},Fa&&Gl(Fa,T)||(Fa=T,0<(T=Jl(Hs,"onSelect")).length&&(d=new ii("onSelect","select",null,d,S),h.push({event:d,listeners:T}),d.target=ns)))}function Uu(h,d){var S={};return S[h.toLowerCase()]=d.toLowerCase(),S["Webkit"+h]="webkit"+d,S["Moz"+h]="moz"+d,S}var Wu={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},hl={},Yl={};function rs(h){if(hl[h])return hl[h];if(!Wu[h])return h;var d,S=Wu[h];for(d in S)if(S.hasOwnProperty(d)&&d in Yl)return hl[h]=S[d];return h}u&&(Yl=document.createElement("div").style,"AnimationEvent"in window||(delete Wu.animationend.animation,delete Wu.animationiteration.animation,delete Wu.animationstart.animation),"TransitionEvent"in window||delete Wu.transitionend.transition);var Ms=rs("animationend"),Ml=rs("animationiteration"),R=rs("animationstart"),is=rs("transitionend"),Yu=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _t(h,d){Yu.set(h,d),o(d,[h])}for(var Ae=0;Ae<Lr.length;Ae++){var $r=Lr[Ae];_t($r.toLowerCase(),"on"+($r[0].toUpperCase()+$r.slice(1)))}_t(Ms,"onAnimationEnd"),_t(Ml,"onAnimationIteration"),_t(R,"onAnimationStart"),_t("dblclick","onDoubleClick"),_t("focusin","onFocus"),_t("focusout","onBlur"),_t(is,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z=new Set("cancel close invalid load scroll toggle".split(" ").concat(xi));function ln(h,d,S){var T=h.type||"unknown-event";h.currentTarget=S,function(q,X,le,pe,_e,Ve,qe,Je,it){if(ol.apply(this,arguments),_s){if(!_s)throw Error(t(198));var yt=xa;_s=!1,xa=null,za||(za=!0,Jo=yt)}}(T,d,void 0,h),h.currentTarget=null}function Eu(h,d){d=!!(4&d);for(var S=0;S<h.length;S++){var T=h[S],$=T.event;T=T.listeners;e:{var q=void 0;if(d)for(var X=T.length-1;0<=X;X--){var le=T[X],pe=le.instance,_e=le.currentTarget;if(le=le.listener,pe!==q&&$.isPropagationStopped())break e;ln($,le,_e),q=pe}else for(X=0;X<T.length;X++){if(pe=(le=T[X]).instance,_e=le.currentTarget,le=le.listener,pe!==q&&$.isPropagationStopped())break e;ln($,le,_e),q=pe}}}if(za)throw h=Jo,za=!1,Jo=null,h}function bn(h,d){var S=d[Fc];S===void 0&&(S=d[Fc]=new Set);var T=h+"__bubble";S.has(T)||(Yi(d,h,2,!1),S.add(T))}function _n(h,d,S){var T=0;d&&(T|=4),Yi(S,h,T,d)}var gs="_reactListening"+Math.random().toString(36).slice(2);function Di(h){if(!h[gs]){h[gs]=!0,r.forEach(function(S){S!=="selectionchange"&&(Z.has(S)||_n(S,!1,h),_n(S,!0,h))});var d=h.nodeType===9?h:h.ownerDocument;d===null||d[gs]||(d[gs]=!0,_n("selectionchange",!1,d))}}function Yi(h,d,S,T){switch(ll(d)){case 1:var $=_c;break;case 4:$=Us;break;default:$=tc}S=$.bind(null,d,S,h),$=void 0,!Gu||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||($=!0),T?$!==void 0?h.addEventListener(d,S,{capture:!0,passive:$}):h.addEventListener(d,S,!0):$!==void 0?h.addEventListener(d,S,{passive:$}):h.addEventListener(d,S,!1)}function sa(h,d,S,T,$){var q=T;if(!(1&d||2&d||T===null))e:for(;;){if(T===null)return;var X=T.tag;if(X===3||X===4){var le=T.stateNode.containerInfo;if(le===$||le.nodeType===8&&le.parentNode===$)break;if(X===4)for(X=T.return;X!==null;){var pe=X.tag;if((pe===3||pe===4)&&((pe=X.stateNode.containerInfo)===$||pe.nodeType===8&&pe.parentNode===$))return;X=X.return}for(;le!==null;){if((X=Xr(le))===null)return;if((pe=X.tag)===5||pe===6){T=q=X;continue e}le=le.parentNode}}T=T.return}Ul(function(){var _e=q,Ve=fa(S),qe=[];e:{var Je=Yu.get(h);if(Je!==void 0){var it=ii,yt=h;switch(h){case"keypress":if(ql(S)===0)break e;case"keydown":case"keyup":it=hn;break;case"focusin":yt="focus",it=ye;break;case"focusout":yt="blur",it=ye;break;case"beforeblur":case"afterblur":it=ye;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=ie;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=de;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=Do;break;case Ms:case Ml:case R:it=ze;break;case is:it=jn;break;case"scroll":it=vf;break;case"wheel":it=Zh;break;case"copy":case"cut":case"paste":it=Ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=Cr}var lt=!!(4&d),je=!lt&&h==="scroll",De=lt?Je!==null?Je+"Capture":null:Je;lt=[];for(var Le,nt=_e;nt!==null;){var Nt=(Le=nt).stateNode;if(Le.tag===5&&Nt!==null&&(Le=Nt,De!==null&&(Nt=rl(nt,De))!=null&&lt.push(Ca(nt,Nt,Le))),je)break;nt=nt.return}0<lt.length&&(Je=new it(Je,yt,null,S,Ve),qe.push({event:Je,listeners:lt}))}}if(!(7&d)){if(it=h==="mouseout"||h==="pointerout",(!(Je=h==="mouseover"||h==="pointerover")||S===Ru||!(yt=S.relatedTarget||S.fromElement)||!Xr(yt)&&!yt[Lo])&&(it||Je)&&(Je=Ve.window===Ve?Ve:(Je=Ve.ownerDocument)?Je.defaultView||Je.parentWindow:window,it?(it=_e,(yt=(yt=S.relatedTarget||S.toElement)?Xr(yt):null)!==null&&(yt!==(je=Ua(yt))||yt.tag!==5&&yt.tag!==6)&&(yt=null)):(it=null,yt=_e),it!==yt)){if(lt=ie,Nt="onMouseLeave",De="onMouseEnter",nt="mouse",h!=="pointerout"&&h!=="pointerover"||(lt=Cr,Nt="onPointerLeave",De="onPointerEnter",nt="pointer"),je=it==null?Je:Ea(it),Le=yt==null?Je:Ea(yt),(Je=new lt(Nt,nt+"leave",it,S,Ve)).target=je,Je.relatedTarget=Le,Nt=null,Xr(Ve)===_e&&((lt=new lt(De,nt+"enter",yt,S,Ve)).target=Le,lt.relatedTarget=je,Nt=lt),je=Nt,it&&yt)e:{for(De=yt,nt=0,Le=lt=it;Le;Le=oi(Le))nt++;for(Le=0,Nt=De;Nt;Nt=oi(Nt))Le++;for(;0<nt-Le;)lt=oi(lt),nt--;for(;0<Le-nt;)De=oi(De),Le--;for(;nt--;){if(lt===De||De!==null&&lt===De.alternate)break e;lt=oi(lt),De=oi(De)}lt=null}else lt=null;it!==null&&Xl(qe,Je,it,lt,!1),yt!==null&&je!==null&&Xl(qe,je,yt,lt,!0)}if((it=(Je=_e?Ea(_e):window).nodeName&&Je.nodeName.toLowerCase())==="select"||it==="input"&&Je.type==="file")var Un=sf;else if(nc(Je))if(fh)Un=Tn;else{Un=Ch;var Ft=Rc}else(it=Je.nodeName)&&it.toLowerCase()==="input"&&(Je.type==="checkbox"||Je.type==="radio")&&(Un=Sh);switch(Un&&(Un=Un(h,_e))?cl(qe,Un,S,Ve):(Ft&&Ft(h,Je,_e),h==="focusout"&&(Ft=Je._wrapperState)&&Ft.controlled&&Je.type==="number"&&ue(Je,"number",Je.value)),Ft=_e?Ea(_e):window,h){case"focusin":(nc(Ft)||Ft.contentEditable==="true")&&(ns=Ft,Hs=_e,Fa=null);break;case"focusout":Fa=Hs=ns=null;break;case"mousedown":Pa=!0;break;case"contextmenu":case"mouseup":case"dragend":Pa=!1,kc(qe,S,Ve);break;case"selectionchange":if(Tr)break;case"keydown":case"keyup":kc(qe,S,Ve)}var Nn;if(ps)e:{switch(h){case"compositionstart":var Or="onCompositionStart";break e;case"compositionend":Or="onCompositionEnd";break e;case"compositionupdate":Or="onCompositionUpdate";break e}Or=void 0}else Ma?kl(h,S)&&(Or="onCompositionEnd"):h==="keydown"&&S.keyCode===229&&(Or="onCompositionStart");Or&&(yf&&S.locale!=="ko"&&(Ma||Or!=="onCompositionStart"?Or==="onCompositionEnd"&&Ma&&(Nn=fc()):(Vl="value"in(Ro=Ve)?Ro.value:Ro.textContent,Ma=!0)),0<(Ft=Jl(_e,Or)).length&&(Or=new pt(Or,h,null,S,Ve),qe.push({event:Or,listeners:Ft}),(Nn||(Nn=wf(S))!==null)&&(Or.data=Nn))),(Nn=oo?function(Gr,Wo){switch(Gr){case"compositionend":return wf(Wo);case"keypress":return Wo.which!==32?null:(pn=!0,pu);case"textInput":return(Gr=Wo.data)===pu&&pn?null:Gr;default:return null}}(h,S):function(Gr,Wo){if(Ma)return Gr==="compositionend"||!ps&&kl(Gr,Wo)?(Gr=fc(),ga=Vl=Ro=null,Ma=!1,Gr):null;switch(Gr){case"paste":default:return null;case"keypress":if(!(Wo.ctrlKey||Wo.altKey||Wo.metaKey)||Wo.ctrlKey&&Wo.altKey){if(Wo.char&&1<Wo.char.length)return Wo.char;if(Wo.which)return String.fromCharCode(Wo.which)}return null;case"compositionend":return yf&&Wo.locale!=="ko"?null:Wo.data}}(h,S))&&0<(_e=Jl(_e,"onBeforeInput")).length&&(Ve=new pt("onBeforeInput","beforeinput",null,S,Ve),qe.push({event:Ve,listeners:_e}),Ve.data=Nn)}Eu(qe,d)})}function Ca(h,d,S){return{instance:h,listener:d,currentTarget:S}}function Jl(h,d){for(var S=d+"Capture",T=[];h!==null;){var $=h,q=$.stateNode;$.tag===5&&q!==null&&($=q,(q=rl(h,S))!=null&&T.unshift(Ca(h,q,$)),(q=rl(h,d))!=null&&T.push(Ca(h,q,$))),h=h.return}return T}function oi(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function Xl(h,d,S,T,$){for(var q=d._reactName,X=[];S!==null&&S!==T;){var le=S,pe=le.alternate,_e=le.stateNode;if(pe!==null&&pe===T)break;le.tag===5&&_e!==null&&(le=_e,$?(pe=rl(S,q))!=null&&X.unshift(Ca(S,pe,le)):$||(pe=rl(S,q))!=null&&X.push(Ca(S,pe,le))),S=S.return}X.length!==0&&h.push({event:d,listeners:X})}var Ta=/\r\n?/g,Hr=/\u0000|\uFFFD/g;function Fl(h){return(typeof h=="string"?h:""+h).replace(Ta,`
`).replace(Hr,"")}function ms(h,d,S){if(d=Fl(d),Fl(h)!==d&&S)throw Error(t(425))}function ua(){}var Li=null,fo=null;function uf(h,d){return h==="textarea"||h==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Sa=typeof setTimeout=="function"?setTimeout:void 0,jo=typeof clearTimeout=="function"?clearTimeout:void 0,Ln=typeof Promise=="function"?Promise:void 0,Mc=typeof queueMicrotask=="function"?queueMicrotask:Ln!==void 0?function(h){return Ln.resolve(null).then(h).catch(pc)}:Sa;function pc(h){setTimeout(function(){throw h})}function Pn(h,d){var S=d,T=0;do{var $=S.nextSibling;if(h.removeChild(S),$&&$.nodeType===8)if((S=$.data)==="/$"){if(T===0)return h.removeChild($),void zs(d);T--}else S!=="$"&&S!=="$?"&&S!=="$!"||T++;S=$}while(S);zs(d)}function Ha(h){for(;h!=null;h=h.nextSibling){var d=h.nodeType;if(d===1||d===3)break;if(d===8){if((d=h.data)==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return h}function Ho(h){h=h.previousSibling;for(var d=0;h;){if(h.nodeType===8){var S=h.data;if(S==="$"||S==="$!"||S==="$?"){if(d===0)return h;d--}else S==="/$"&&d++}h=h.previousSibling}return null}var di=Math.random().toString(36).slice(2),os="__reactFiber$"+di,Kt="__reactProps$"+di,Lo="__reactContainer$"+di,Fc="__reactEvents$"+di,_a="__reactListeners$"+di,rc="__reactHandles$"+di;function Xr(h){var d=h[os];if(d)return d;for(var S=h.parentNode;S;){if(d=S[Lo]||S[os]){if(S=d.alternate,d.child!==null||S!==null&&S.child!==null)for(h=Ho(h);h!==null;){if(S=h[os])return S;h=Ho(h)}return d}S=(h=S).parentNode}return null}function as(h){return!(h=h[os]||h[Lo])||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function Ea(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(t(33))}function Ci(h){return h[Kt]||null}var pl=[],Au=-1;function ds(h){return{current:h}}function ir(h){0>Au||(h.current=pl[Au],pl[Au]=null,Au--)}function Qn(h,d){Au++,pl[Au]=h.current,h.current=d}var mu={},ki=ds(mu),Mi=ds(!1),Ju=mu;function ku(h,d){var S=h.type.contextTypes;if(!S)return mu;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===d)return T.__reactInternalMemoizedMaskedChildContext;var $,q={};for($ in S)q[$]=d[$];return T&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=d,h.__reactInternalMemoizedMaskedChildContext=q),q}function Ji(h){return(h=h.childContextTypes)!=null}function ic(){ir(Mi),ir(ki)}function Pl(h,d,S){if(ki.current!==mu)throw Error(t(168));Qn(ki,d),Qn(Mi,S)}function Fs(h,d,S){var T=h.stateNode;if(d=d.childContextTypes,typeof T.getChildContext!="function")return S;for(var $ in T=T.getChildContext())if(!($ in d))throw Error(t(108,wt(h)||"Unknown",$));return $e({},S,T)}function du(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||mu,Ju=ki.current,Qn(ki,h),Qn(Mi,Mi.current),!0}function Ct(h,d,S){var T=h.stateNode;if(!T)throw Error(t(169));S?(h=Fs(h,d,Ju),T.__reactInternalMemoizedMergedChildContext=h,ir(Mi),ir(ki),Qn(ki,h)):ir(Mi),Qn(Mi,S)}var vs=null,Zc=!1,Vs=!1;function Tl(h){vs===null?vs=[h]:vs.push(h)}function Ps(){if(!Vs&&vs!==null){Vs=!0;var h=0,d=Hn;try{var S=vs;for(Hn=1;h<S.length;h++){var T=S[h];do T=T(!0);while(T!==null)}vs=null,Zc=!1}catch($){throw vs!==null&&(vs=vs.slice(h+1)),cu(gn,Ps),$}finally{Hn=d,Vs=!1}}return null}var Ar=[],lr=0,Pc=null,tn=0,ao=[],Wr=0,Vr=null,xn=1,hr="";function Co(h,d){Ar[lr++]=tn,Ar[lr++]=Pc,Pc=h,tn=d}function So(h,d,S){ao[Wr++]=xn,ao[Wr++]=hr,ao[Wr++]=Vr,Vr=h;var T=xn;h=hr;var $=32-fu(T)-1;T&=~(1<<$),S+=1;var q=32-fu(d)+$;if(30<q){var X=$-$%5;q=(T&(1<<X)-1).toString(32),T>>=X,$-=X,xn=1<<32-fu(d)+$|S<<$|T,hr=q+h}else xn=1<<q|S<<$|T,hr=h}function nu(h){h.return!==null&&(Co(h,1),So(h,1,0))}function Ia(h){for(;h===Pc;)Pc=Ar[--lr],Ar[lr]=null,tn=Ar[--lr],Ar[lr]=null;for(;h===Vr;)Vr=ao[--Wr],ao[Wr]=null,hr=ao[--Wr],ao[Wr]=null,xn=ao[--Wr],ao[Wr]=null}var zr=null,so=null,pr=!1,Sr=null;function Qr(h,d){var S=ce(5,null,null,0);S.elementType="DELETED",S.stateNode=d,S.return=h,(d=h.deletions)===null?(h.deletions=[S],h.flags|=16):d.push(S)}function Ql(h,d){switch(h.tag){case 5:var S=h.type;return(d=d.nodeType!==1||S.toLowerCase()!==d.nodeName.toLowerCase()?null:d)!==null&&(h.stateNode=d,zr=h,so=Ha(d.firstChild),!0);case 6:return(d=h.pendingProps===""||d.nodeType!==3?null:d)!==null&&(h.stateNode=d,zr=h,so=null,!0);case 13:return(d=d.nodeType!==8?null:d)!==null&&(S=Vr!==null?{id:xn,overflow:hr}:null,h.memoizedState={dehydrated:d,treeContext:S,retryLane:1073741824},(S=ce(18,null,null,0)).stateNode=d,S.return=h,h.child=S,zr=h,so=null,!0);default:return!1}}function Zi(h){return!(!(1&h.mode)||128&h.flags)}function gl(h){if(pr){var d=so;if(d){var S=d;if(!Ql(h,d)){if(Zi(h))throw Error(t(418));d=Ha(S.nextSibling);var T=zr;d&&Ql(h,d)?Qr(T,S):(h.flags=-4097&h.flags|2,pr=!1,zr=h)}}else{if(Zi(h))throw Error(t(418));h.flags=-4097&h.flags|2,pr=!1,zr=h}}}function jc(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;zr=h}function Mu(h){if(h!==zr)return!1;if(!pr)return jc(h),pr=!0,!1;var d;if((d=h.tag!==3)&&!(d=h.tag!==5)&&(d=(d=h.type)!=="head"&&d!=="body"&&!uf(h.type,h.memoizedProps)),d&&(d=so)){if(Zi(h))throw ru(),Error(t(418));for(;d;)Qr(h,d),d=Ha(d.nextSibling)}if(jc(h),h.tag===13){if(!(h=(h=h.memoizedState)!==null?h.dehydrated:null))throw Error(t(317));e:{for(h=h.nextSibling,d=0;h;){if(h.nodeType===8){var S=h.data;if(S==="/$"){if(d===0){so=Ha(h.nextSibling);break e}d--}else S!=="$"&&S!=="$!"&&S!=="$?"||d++}h=h.nextSibling}so=null}}else so=zr?Ha(h.stateNode.nextSibling):null;return!0}function ru(){for(var h=so;h;)h=Ha(h.nextSibling)}function qs(){so=zr=null,pr=!1}function Ts(h){Sr===null?Sr=[h]:Sr.push(h)}var iu=O.ReactCurrentBatchConfig;function or(h,d,S){if((h=S.ref)!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner){if(S.tag!==1)throw Error(t(309));var T=S.stateNode}if(!T)throw Error(t(147,h));var $=T,q=""+h;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===q?d.ref:(d=function(X){var le=$.refs;X===null?delete le[q]:le[q]=X},d._stringRef=q,d)}if(typeof h!="string")throw Error(t(284));if(!S._owner)throw Error(t(290,h))}return h}function Kn(h,d){throw h=Object.prototype.toString.call(d),Error(t(31,h==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":h))}function Oa(h){return(0,h._init)(h._payload)}function la(h){function d(je,De){if(h){var Le=je.deletions;Le===null?(je.deletions=[De],je.flags|=16):Le.push(De)}}function S(je,De){if(!h)return null;for(;De!==null;)d(je,De),De=De.sibling;return null}function T(je,De){for(je=new Map;De!==null;)De.key!==null?je.set(De.key,De):je.set(De.index,De),De=De.sibling;return je}function $(je,De){return(je=be(je,De)).index=0,je.sibling=null,je}function q(je,De,Le){return je.index=Le,h?(Le=je.alternate)!==null?(Le=Le.index)<De?(je.flags|=2,De):Le:(je.flags|=2,De):(je.flags|=1048576,De)}function X(je){return h&&je.alternate===null&&(je.flags|=2),je}function le(je,De,Le,nt){return De===null||De.tag!==6?((De=Ie(Le,je.mode,nt)).return=je,De):((De=$(De,Le)).return=je,De)}function pe(je,De,Le,nt){var Nt=Le.type;return Nt===W?Ve(je,De,Le.props.children,nt,Le.key):De!==null&&(De.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===Pe&&Oa(Nt)===De.type)?((nt=$(De,Le.props)).ref=or(je,De,Le),nt.return=je,nt):((nt=we(Le.type,Le.key,Le.props,null,je.mode,nt)).ref=or(je,De,Le),nt.return=je,nt)}function _e(je,De,Le,nt){return De===null||De.tag!==4||De.stateNode.containerInfo!==Le.containerInfo||De.stateNode.implementation!==Le.implementation?((De=Xe(Le,je.mode,nt)).return=je,De):((De=$(De,Le.children||[])).return=je,De)}function Ve(je,De,Le,nt,Nt){return De===null||De.tag!==7?((De=Te(Le,je.mode,nt,Nt)).return=je,De):((De=$(De,Le)).return=je,De)}function qe(je,De,Le){if(typeof De=="string"&&De!==""||typeof De=="number")return(De=Ie(""+De,je.mode,Le)).return=je,De;if(typeof De=="object"&&De!==null){switch(De.$$typeof){case j:return(Le=we(De.type,De.key,De.props,null,je.mode,Le)).ref=or(je,null,De),Le.return=je,Le;case z:return(De=Xe(De,je.mode,Le)).return=je,De;case Pe:return qe(je,(0,De._init)(De._payload),Le)}if(ve(De)||Oe(De))return(De=Te(De,je.mode,Le,null)).return=je,De;Kn(je,De)}return null}function Je(je,De,Le,nt){var Nt=De!==null?De.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Nt!==null?null:le(je,De,""+Le,nt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case j:return Le.key===Nt?pe(je,De,Le,nt):null;case z:return Le.key===Nt?_e(je,De,Le,nt):null;case Pe:return Je(je,De,(Nt=Le._init)(Le._payload),nt)}if(ve(Le)||Oe(Le))return Nt!==null?null:Ve(je,De,Le,nt,null);Kn(je,Le)}return null}function it(je,De,Le,nt,Nt){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return le(De,je=je.get(Le)||null,""+nt,Nt);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case j:return pe(De,je=je.get(nt.key===null?Le:nt.key)||null,nt,Nt);case z:return _e(De,je=je.get(nt.key===null?Le:nt.key)||null,nt,Nt);case Pe:return it(je,De,Le,(0,nt._init)(nt._payload),Nt)}if(ve(nt)||Oe(nt))return Ve(De,je=je.get(Le)||null,nt,Nt,null);Kn(De,nt)}return null}function yt(je,De,Le,nt){for(var Nt=null,Un=null,Ft=De,Nn=De=0,Or=null;Ft!==null&&Nn<Le.length;Nn++){Ft.index>Nn?(Or=Ft,Ft=null):Or=Ft.sibling;var Mr=Je(je,Ft,Le[Nn],nt);if(Mr===null){Ft===null&&(Ft=Or);break}h&&Ft&&Mr.alternate===null&&d(je,Ft),De=q(Mr,De,Nn),Un===null?Nt=Mr:Un.sibling=Mr,Un=Mr,Ft=Or}if(Nn===Le.length)return S(je,Ft),pr&&Co(je,Nn),Nt;if(Ft===null){for(;Nn<Le.length;Nn++)(Ft=qe(je,Le[Nn],nt))!==null&&(De=q(Ft,De,Nn),Un===null?Nt=Ft:Un.sibling=Ft,Un=Ft);return pr&&Co(je,Nn),Nt}for(Ft=T(je,Ft);Nn<Le.length;Nn++)(Or=it(Ft,je,Nn,Le[Nn],nt))!==null&&(h&&Or.alternate!==null&&Ft.delete(Or.key===null?Nn:Or.key),De=q(Or,De,Nn),Un===null?Nt=Or:Un.sibling=Or,Un=Or);return h&&Ft.forEach(function(Gr){return d(je,Gr)}),pr&&Co(je,Nn),Nt}function lt(je,De,Le,nt){var Nt=Oe(Le);if(typeof Nt!="function")throw Error(t(150));if((Le=Nt.call(Le))==null)throw Error(t(151));for(var Un=Nt=null,Ft=De,Nn=De=0,Or=null,Mr=Le.next();Ft!==null&&!Mr.done;Nn++,Mr=Le.next()){Ft.index>Nn?(Or=Ft,Ft=null):Or=Ft.sibling;var Gr=Je(je,Ft,Mr.value,nt);if(Gr===null){Ft===null&&(Ft=Or);break}h&&Ft&&Gr.alternate===null&&d(je,Ft),De=q(Gr,De,Nn),Un===null?Nt=Gr:Un.sibling=Gr,Un=Gr,Ft=Or}if(Mr.done)return S(je,Ft),pr&&Co(je,Nn),Nt;if(Ft===null){for(;!Mr.done;Nn++,Mr=Le.next())(Mr=qe(je,Mr.value,nt))!==null&&(De=q(Mr,De,Nn),Un===null?Nt=Mr:Un.sibling=Mr,Un=Mr);return pr&&Co(je,Nn),Nt}for(Ft=T(je,Ft);!Mr.done;Nn++,Mr=Le.next())(Mr=it(Ft,je,Nn,Mr.value,nt))!==null&&(h&&Mr.alternate!==null&&Ft.delete(Mr.key===null?Nn:Mr.key),De=q(Mr,De,Nn),Un===null?Nt=Mr:Un.sibling=Mr,Un=Mr);return h&&Ft.forEach(function(Wo){return d(je,Wo)}),pr&&Co(je,Nn),Nt}return function je(De,Le,nt,Nt){if(typeof nt=="object"&&nt!==null&&nt.type===W&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case j:e:{for(var Un=nt.key,Ft=Le;Ft!==null;){if(Ft.key===Un){if((Un=nt.type)===W){if(Ft.tag===7){S(De,Ft.sibling),(Le=$(Ft,nt.props.children)).return=De,De=Le;break e}}else if(Ft.elementType===Un||typeof Un=="object"&&Un!==null&&Un.$$typeof===Pe&&Oa(Un)===Ft.type){S(De,Ft.sibling),(Le=$(Ft,nt.props)).ref=or(De,Ft,nt),Le.return=De,De=Le;break e}S(De,Ft);break}d(De,Ft),Ft=Ft.sibling}nt.type===W?((Le=Te(nt.props.children,De.mode,Nt,nt.key)).return=De,De=Le):((Nt=we(nt.type,nt.key,nt.props,null,De.mode,Nt)).ref=or(De,Le,nt),Nt.return=De,De=Nt)}return X(De);case z:e:{for(Ft=nt.key;Le!==null;){if(Le.key===Ft){if(Le.tag===4&&Le.stateNode.containerInfo===nt.containerInfo&&Le.stateNode.implementation===nt.implementation){S(De,Le.sibling),(Le=$(Le,nt.children||[])).return=De,De=Le;break e}S(De,Le);break}d(De,Le),Le=Le.sibling}(Le=Xe(nt,De.mode,Nt)).return=De,De=Le}return X(De);case Pe:return je(De,Le,(Ft=nt._init)(nt._payload),Nt)}if(ve(nt))return yt(De,Le,nt,Nt);if(Oe(nt))return lt(De,Le,nt,Nt);Kn(De,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"?(nt=""+nt,Le!==null&&Le.tag===6?(S(De,Le.sibling),(Le=$(Le,nt)).return=De,De=Le):(S(De,Le),(Le=Ie(nt,De.mode,Nt)).return=De,De=Le),X(De)):S(De,Le)}}var Va=la(!0),ml=la(!1),ca=ds(null),uo=null,Vo=null,Hi=null;function eo(){Hi=Vo=uo=null}function Fo(h){var d=ca.current;ir(ca),h._currentValue=d}function $i(h,d,S){for(;h!==null;){var T=h.alternate;if((h.childLanes&d)!==d?(h.childLanes|=d,T!==null&&(T.childLanes|=d)):T!==null&&(T.childLanes&d)!==d&&(T.childLanes|=d),h===S)break;h=h.return}}function to(h,d){uo=h,Hi=Vo=null,(h=h.dependencies)!==null&&h.firstContext!==null&&(h.lanes&d&&(_o=!0),h.firstContext=null)}function ho(h){var d=h._currentValue;if(Hi!==h)if(h={context:h,memoizedValue:d,next:null},Vo===null){if(uo===null)throw Error(t(308));Vo=h,uo.dependencies={lanes:0,firstContext:h}}else Vo=Vo.next=h;return d}var Na=null;function vu(h){Na===null?Na=[h]:Na.push(h)}function qa(h,d,S,T){var $=d.interleaved;return $===null?(S.next=S,vu(d)):(S.next=$.next,$.next=S),d.interleaved=S,Is(h,T)}function Is(h,d){h.lanes|=d;var S=h.alternate;for(S!==null&&(S.lanes|=d),S=h,h=h.return;h!==null;)h.childLanes|=d,(S=h.alternate)!==null&&(S.childLanes|=d),S=h,h=h.return;return S.tag===3?S.stateNode:null}var ma=!1;function gc(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Il(h,d){h=h.updateQueue,d.updateQueue===h&&(d.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function wr(h,d){return{eventTime:h,lane:d,tag:0,payload:null,callback:null,next:null}}function ys(h,d,S){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,2&Sn){var $=T.pending;return $===null?d.next=d:(d.next=$.next,$.next=d),T.pending=d,Is(h,S)}return($=T.interleaved)===null?(d.next=d,vu(T)):(d.next=$.next,$.next=d),T.interleaved=d,Is(h,S)}function yu(h,d,S){if((d=d.updateQueue)!==null&&(d=d.shared,4194240&S)){var T=d.lanes;S|=T&=h.pendingLanes,d.lanes=S,Ei(h,S)}}function lf(h,d){var S=h.updateQueue,T=h.alternate;if(T!==null&&S===(T=T.updateQueue)){var $=null,q=null;if((S=S.firstBaseUpdate)!==null){do{var X={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};q===null?$=q=X:q=q.next=X,S=S.next}while(S!==null);q===null?$=q=d:q=q.next=d}else $=q=d;return S={baseState:T.baseState,firstBaseUpdate:$,lastBaseUpdate:q,shared:T.shared,effects:T.effects},void(h.updateQueue=S)}(h=S.lastBaseUpdate)===null?S.firstBaseUpdate=d:h.next=d,S.lastBaseUpdate=d}function dl(h,d,S,T){var $=h.updateQueue;ma=!1;var q=$.firstBaseUpdate,X=$.lastBaseUpdate,le=$.shared.pending;if(le!==null){$.shared.pending=null;var pe=le,_e=pe.next;pe.next=null,X===null?q=_e:X.next=_e,X=pe;var Ve=h.alternate;Ve!==null&&(le=(Ve=Ve.updateQueue).lastBaseUpdate)!==X&&(le===null?Ve.firstBaseUpdate=_e:le.next=_e,Ve.lastBaseUpdate=pe)}if(q!==null){var qe=$.baseState;for(X=0,Ve=_e=pe=null,le=q;;){var Je=le.lane,it=le.eventTime;if((T&Je)===Je){Ve!==null&&(Ve=Ve.next={eventTime:it,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var yt=h,lt=le;switch(Je=d,it=S,lt.tag){case 1:if(typeof(yt=lt.payload)=="function"){qe=yt.call(it,qe,Je);break e}qe=yt;break e;case 3:yt.flags=-65537&yt.flags|128;case 0:if((Je=typeof(yt=lt.payload)=="function"?yt.call(it,qe,Je):yt)==null)break e;qe=$e({},qe,Je);break e;case 2:ma=!0}}le.callback!==null&&le.lane!==0&&(h.flags|=64,(Je=$.effects)===null?$.effects=[le]:Je.push(le))}else it={eventTime:it,lane:Je,tag:le.tag,payload:le.payload,callback:le.callback,next:null},Ve===null?(_e=Ve=it,pe=qe):Ve=Ve.next=it,X|=Je;if((le=le.next)===null){if((le=$.shared.pending)===null)break;le=(Je=le).next,Je.next=null,$.lastBaseUpdate=Je,$.shared.pending=null}}if(Ve===null&&(pe=qe),$.baseState=pe,$.firstBaseUpdate=_e,$.lastBaseUpdate=Ve,(d=$.shared.interleaved)!==null){$=d;do X|=$.lane,$=$.next;while($!==d)}else q===null&&($.shared.lanes=0);bs|=X,h.lanes=X,h.memoizedState=qe}}function lo(h,d,S){if(h=d.effects,d.effects=null,h!==null)for(d=0;d<h.length;d++){var T=h[d],$=T.callback;if($!==null){if(T.callback=null,T=S,typeof $!="function")throw Error(t(191,$));$.call(T)}}}var qo={},Ba=ds(qo),ou=ds(qo),no=ds(qo);function Xi(h){if(h===qo)throw Error(t(174));return h}function st(h,d){switch(Qn(no,d),Qn(ou,h),Qn(Ba,qo),h=d.nodeType){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:gt(null,"");break;default:d=gt(d=(h=h===8?d.parentNode:d).namespaceURI||null,h=h.tagName)}ir(Ba),Qn(Ba,d)}function ss(){ir(Ba),ir(ou),ir(no)}function Ol(h){Xi(no.current);var d=Xi(Ba.current),S=gt(d,h.type);d!==S&&(Qn(ou,h),Qn(Ba,S))}function Zr(h){ou.current===h&&(ir(Ba),ir(ou))}var ar=ds(0);function da(h){for(var d=h;d!==null;){if(d.tag===13){var S=d.memoizedState;if(S!==null&&((S=S.dehydrated)===null||S.data==="$?"||S.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(128&d.flags)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break;for(;d.sibling===null;){if(d.return===null||d.return===h)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Lt=[];function Hu(){for(var h=0;h<Lt.length;h++)Lt[h]._workInProgressVersionPrimary=null;Lt.length=0}var Ks=O.ReactCurrentDispatcher,Ut=O.ReactCurrentBatchConfig,gr=0,Gt=null,Vn=null,kr=null,Nl=!1,br=!1,Gs=0,Ys=0;function po(){throw Error(t(321))}function va(h,d){if(d===null)return!1;for(var S=0;S<d.length&&S<h.length;S++)if(!wn(h[S],d[S]))return!1;return!0}function qr(h,d,S,T,$,q){if(gr=q,Gt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ks.current=h===null||h.memoizedState===null?ph:vl,h=S(T,$),br){q=0;do{if(br=!1,Gs=0,25<=q)throw Error(t(301));q+=1,kr=Vn=null,d.updateQueue=null,Ks.current=nh,h=S(T,$)}while(br)}if(Ks.current=xf,d=Vn!==null&&Vn.next!==null,gr=0,kr=Vn=Gt=null,Nl=!1,d)throw Error(t(300));return h}function Fu(){var h=Gs!==0;return Gs=0,h}function Ti(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Gt.memoizedState=kr=h:kr=kr.next=h,kr}function go(){if(Vn===null){var h=Gt.alternate;h=h!==null?h.memoizedState:null}else h=Vn.next;var d=kr===null?Gt.memoizedState:kr.next;if(d!==null)kr=d,Vn=h;else{if(h===null)throw Error(t(310));h={memoizedState:(Vn=h).memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},kr===null?Gt.memoizedState=kr=h:kr=kr.next=h}return kr}function Js(h,d){return typeof d=="function"?d(h):d}function Bl(h){var d=go(),S=d.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var T=Vn,$=T.baseQueue,q=S.pending;if(q!==null){if($!==null){var X=$.next;$.next=q.next,q.next=X}T.baseQueue=$=q,S.pending=null}if($!==null){q=$.next,T=T.baseState;var le=X=null,pe=null,_e=q;do{var Ve=_e.lane;if((gr&Ve)===Ve)pe!==null&&(pe=pe.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),T=_e.hasEagerState?_e.eagerState:h(T,_e.action);else{var qe={lane:Ve,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};pe===null?(le=pe=qe,X=T):pe=pe.next=qe,Gt.lanes|=Ve,bs|=Ve}_e=_e.next}while(_e!==null&&_e!==q);pe===null?X=T:pe.next=le,wn(T,d.memoizedState)||(_o=!0),d.memoizedState=T,d.baseState=X,d.baseQueue=pe,S.lastRenderedState=T}if((h=S.interleaved)!==null){$=h;do q=$.lane,Gt.lanes|=q,bs|=q,$=$.next;while($!==h)}else $===null&&(S.lanes=0);return[d.memoizedState,S.dispatch]}function wu(h){var d=go(),S=d.queue;if(S===null)throw Error(t(311));S.lastRenderedReducer=h;var T=S.dispatch,$=S.pending,q=d.memoizedState;if($!==null){S.pending=null;var X=$=$.next;do q=h(q,X.action),X=X.next;while(X!==$);wn(q,d.memoizedState)||(_o=!0),d.memoizedState=q,d.baseQueue===null&&(d.baseState=q),S.lastRenderedState=q}return[q,T]}function Lc(){}function Zn(h,d){var S=Gt,T=go(),$=d(),q=!wn(T.memoizedState,$);if(q&&(T.memoizedState=$,_o=!0),T=T.queue,cf(mc.bind(null,S,T,h),[h]),T.getSnapshot!==d||q||kr!==null&&1&kr.memoizedState.tag){if(S.flags|=2048,vi(9,$c.bind(null,S,T,$,d),void 0,null),zi===null)throw Error(t(349));30&gr||Po(S,d,$)}return $}function Po(h,d,S){h.flags|=16384,h={getSnapshot:d,value:S},(d=Gt.updateQueue)===null?(d={lastEffect:null,stores:null},Gt.updateQueue=d,d.stores=[h]):(S=d.stores)===null?d.stores=[h]:S.push(h)}function $c(h,d,S,T){d.value=S,d.getSnapshot=T,Tc(d)&&jf(h)}function mc(h,d,S){return S(function(){Tc(d)&&jf(h)})}function Tc(h){var d=h.getSnapshot;h=h.value;try{var S=d();return!wn(h,S)}catch{return!0}}function jf(h){var d=Is(h,1);d!==null&&ci(d,h,1,-1)}function Xs(h){var d=Ti();return typeof h=="function"&&(h=h()),d.memoizedState=d.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Js,lastRenderedState:h},d.queue=h,h=h.dispatch=Ih.bind(null,Gt,h),[d.memoizedState,h]}function vi(h,d,S,T){return h={tag:h,create:d,destroy:S,deps:T,next:null},(d=Gt.updateQueue)===null?(d={lastEffect:null,stores:null},Gt.updateQueue=d,d.lastEffect=h.next=h):(S=d.lastEffect)===null?d.lastEffect=h.next=h:(T=S.next,S.next=h,h.next=T,d.lastEffect=h),h}function Ka(){return go().memoizedState}function Si(h,d,S,T){var $=Ti();Gt.flags|=h,$.memoizedState=vi(1|d,S,void 0,T===void 0?null:T)}function bu(h,d,S,T){var $=go();T=T===void 0?null:T;var q=void 0;if(Vn!==null){var X=Vn.memoizedState;if(q=X.destroy,T!==null&&va(T,X.deps))return void($.memoizedState=vi(d,S,q,T))}Gt.flags|=h,$.memoizedState=vi(1|d,S,q,T)}function bf(h,d){return Si(8390656,8,h,d)}function cf(h,d){return bu(2048,8,h,d)}function ai(h,d){return bu(4,2,h,d)}function Xu(h,d){return bu(4,4,h,d)}function zc(h,d){return typeof d=="function"?(h=h(),d(h),function(){d(null)}):d!=null?(h=h(),d.current=h,function(){d.current=null}):void 0}function eh(h,d,S){return S=S!=null?S.concat([h]):null,bu(4,4,zc.bind(null,d,h),S)}function Rl(){}function dc(h,d){var S=go();d=d===void 0?null:d;var T=S.memoizedState;return T!==null&&d!==null&&va(d,T[1])?T[0]:(S.memoizedState=[h,d],h)}function Os(h,d){var S=go();d=d===void 0?null:d;var T=S.memoizedState;return T!==null&&d!==null&&va(d,T[1])?T[0]:(h=h(),S.memoizedState=[h,d],h)}function th(h,d,S){return 21&gr?(wn(S,d)||(S=Za(),Gt.lanes|=S,bs|=S,h.baseState=!0),d):(h.baseState&&(h.baseState=!1,_o=!0),h.memoizedState=S)}function Uc(h,d){var S=Hn;Hn=S!==0&&4>S?S:4,h(!0);var T=Ut.transition;Ut.transition={};try{h(!1),d()}finally{Hn=S,Ut.transition=T}}function ya(){return go().memoizedState}function Th(h,d,S){var T=Ko(h);S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},Oh(h)?Lf(d,S):(S=qa(h,d,S,T))!==null&&(ci(S,h,T,er()),hh(S,d,T))}function Ih(h,d,S){var T=Ko(h),$={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if(Oh(h))Lf(d,$);else{var q=h.alternate;if(h.lanes===0&&(q===null||q.lanes===0)&&(q=d.lastRenderedReducer)!==null)try{var X=d.lastRenderedState,le=q(X,S);if($.hasEagerState=!0,$.eagerState=le,wn(le,X)){var pe=d.interleaved;return pe===null?($.next=$,vu(d)):($.next=pe.next,pe.next=$),void(d.interleaved=$)}}catch{}(S=qa(h,d,$,T))!==null&&(ci(S,h,T,$=er()),hh(S,d,T))}}function Oh(h){var d=h.alternate;return h===Gt||d!==null&&d===Gt}function Lf(h,d){br=Nl=!0;var S=h.pending;S===null?d.next=d:(d.next=S.next,S.next=d),h.pending=d}function hh(h,d,S){if(4194240&S){var T=d.lanes;S|=T&=h.pendingLanes,d.lanes=S,Ei(h,S)}}var xf={readContext:ho,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},ph={readContext:ho,useCallback:function(h,d){return Ti().memoizedState=[h,d===void 0?null:d],h},useContext:ho,useEffect:bf,useImperativeHandle:function(h,d,S){return S=S!=null?S.concat([h]):null,Si(4194308,4,zc.bind(null,d,h),S)},useLayoutEffect:function(h,d){return Si(4194308,4,h,d)},useInsertionEffect:function(h,d){return Si(4,2,h,d)},useMemo:function(h,d){var S=Ti();return d=d===void 0?null:d,h=h(),S.memoizedState=[h,d],h},useReducer:function(h,d,S){var T=Ti();return d=S!==void 0?S(d):d,T.memoizedState=T.baseState=d,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:d},T.queue=h,h=h.dispatch=Th.bind(null,Gt,h),[T.memoizedState,h]},useRef:function(h){return h={current:h},Ti().memoizedState=h},useState:Xs,useDebugValue:Rl,useDeferredValue:function(h){return Ti().memoizedState=h},useTransition:function(){var h=Xs(!1),d=h[0];return h=Uc.bind(null,h[1]),Ti().memoizedState=h,[d,h]},useMutableSource:function(){},useSyncExternalStore:function(h,d,S){var T=Gt,$=Ti();if(pr){if(S===void 0)throw Error(t(407));S=S()}else{if(S=d(),zi===null)throw Error(t(349));30&gr||Po(T,d,S)}$.memoizedState=S;var q={value:S,getSnapshot:d};return $.queue=q,bf(mc.bind(null,T,q,h),[h]),T.flags|=2048,vi(9,$c.bind(null,T,q,S,d),void 0,null),S},useId:function(){var h=Ti(),d=zi.identifierPrefix;if(pr){var S=hr;d=":"+d+"R"+(S=(xn&~(1<<32-fu(xn)-1)).toString(32)+S),0<(S=Gs++)&&(d+="H"+S.toString(32)),d+=":"}else d=":"+d+"r"+(S=Ys++).toString(32)+":";return h.memoizedState=d},unstable_isNewReconciler:!1},vl={readContext:ho,useCallback:dc,useContext:ho,useEffect:cf,useImperativeHandle:eh,useInsertionEffect:ai,useLayoutEffect:Xu,useMemo:Os,useReducer:Bl,useRef:Ka,useState:function(){return Bl(Js)},useDebugValue:Rl,useDeferredValue:function(h){return th(go(),Vn.memoizedState,h)},useTransition:function(){return[Bl(Js)[0],go().memoizedState]},useMutableSource:Lc,useSyncExternalStore:Zn,useId:ya,unstable_isNewReconciler:!1},nh={readContext:ho,useCallback:dc,useContext:ho,useEffect:cf,useImperativeHandle:eh,useInsertionEffect:ai,useLayoutEffect:Xu,useMemo:Os,useReducer:wu,useRef:Ka,useState:function(){return wu(Js)},useDebugValue:Rl,useDeferredValue:function(h){var d=go();return Vn===null?d.memoizedState=h:th(d,Vn.memoizedState,h)},useTransition:function(){return[wu(Js)[0],go().memoizedState]},useMutableSource:Lc,useSyncExternalStore:Zn,useId:ya,unstable_isNewReconciler:!1};function xu(h,d){if(h&&h.defaultProps){for(var S in d=$e({},d),h=h.defaultProps)d[S]===void 0&&(d[S]=h[S]);return d}return d}function $f(h,d,S,T){S=(S=S(T,d=h.memoizedState))==null?d:$e({},d,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var ff={isMounted:function(h){return!!(h=h._reactInternals)&&Ua(h)===h},enqueueSetState:function(h,d,S){h=h._reactInternals;var T=er(),$=Ko(h),q=wr(T,$);q.payload=d,S!=null&&(q.callback=S),(d=ys(h,q,$))!==null&&(ci(d,h,$,T),yu(d,h,$))},enqueueReplaceState:function(h,d,S){h=h._reactInternals;var T=er(),$=Ko(h),q=wr(T,$);q.tag=1,q.payload=d,S!=null&&(q.callback=S),(d=ys(h,q,$))!==null&&(ci(d,h,$,T),yu(d,h,$))},enqueueForceUpdate:function(h,d){h=h._reactInternals;var S=er(),T=Ko(h),$=wr(S,T);$.tag=2,d!=null&&($.callback=d),(d=ys(h,$,T))!==null&&(ci(d,h,T,S),yu(d,h,T))}};function Df(h,d,S,T,$,q,X){return typeof(h=h.stateNode).shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,q,X):!d.prototype||!d.prototype.isPureReactComponent||!Gl(S,T)||!Gl($,q)}function Wc(h,d,S){var T=!1,$=mu,q=d.contextType;return typeof q=="object"&&q!==null?q=ho(q):($=Ji(d)?Ju:ki.current,q=(T=(T=d.contextTypes)!=null)?ku(h,$):mu),d=new d(S,q),h.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ff,h.stateNode=d,d._reactInternals=h,T&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=$,h.__reactInternalMemoizedMaskedChildContext=q),d}function Nh(h,d,S,T){h=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(S,T),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(S,T),d.state!==h&&ff.enqueueReplaceState(d,d.state,null)}function zf(h,d,S,T){var $=h.stateNode;$.props=S,$.state=h.memoizedState,$.refs={},gc(h);var q=d.contextType;typeof q=="object"&&q!==null?$.context=ho(q):(q=Ji(d)?Ju:ki.current,$.context=ku(h,q)),$.state=h.memoizedState,typeof(q=d.getDerivedStateFromProps)=="function"&&($f(h,d,q,S),$.state=h.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(d=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),d!==$.state&&ff.enqueueReplaceState($,$.state,null),dl(h,S,$,T),$.state=h.memoizedState),typeof $.componentDidMount=="function"&&(h.flags|=4194308)}function yl(h,d){try{var S="",T=d;do S+=Ze(T),T=T.return;while(T);var $=S}catch(q){$=`
Error generating stack: `+q.message+`
`+q.stack}return{value:h,source:d,stack:$,digest:null}}function wl(h,d,S){return{value:h,source:null,stack:S??null,digest:d??null}}function Uf(h,d){try{console.error(d.value)}catch(S){setTimeout(function(){throw S})}}var zh=typeof WeakMap=="function"?WeakMap:Map;function Zl(h,d,S){(S=wr(-1,S)).tag=3,S.payload={element:null};var T=d.value;return S.callback=function(){Yn||(Yn=!0,bc=T),Uf(0,d)},S}function hf(h,d,S){(S=wr(-1,S)).tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var $=d.value;S.payload=function(){return T($)},S.callback=function(){Uf(0,d)}}var q=h.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(S.callback=function(){Uf(0,d),typeof T!="function"&&(qu===null?qu=new Set([this]):qu.add(this));var X=d.stack;this.componentDidCatch(d.value,{componentStack:X!==null?X:""})}),S}function Cf(h,d,S){var T=h.pingCache;if(T===null){T=h.pingCache=new zh;var $=new Set;T.set(d,$)}else($=T.get(d))===void 0&&($=new Set,T.set(d,$));$.has(S)||($.add(S),h=L.bind(null,h,d,S),d.then(h,h))}function oc(h){do{var d;if((d=h.tag===13)&&(d=(d=h.memoizedState)===null||d.dehydrated!==null),d)return h;h=h.return}while(h!==null);return null}function rh(h,d,S,T,$){return 1&h.mode?(h.flags|=65536,h.lanes=$,h):(h===d?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:((d=wr(-1,1)).tag=2,ys(S,d,1))),S.lanes|=1),h)}var _h=O.ReactCurrentOwner,_o=!1;function Ra(h,d,S,T){d.child=h===null?ml(d,null,S,T):Va(d,h.child,S,T)}function jl(h,d,S,T,$){S=S.render;var q=d.ref;return to(d,$),T=qr(h,d,S,T,q,$),S=Fu(),h===null||_o?(pr&&S&&nu(d),d.flags|=1,Ra(h,d,T,$),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~$,_r(h,d,$))}function ws(h,d,S,T,$){if(h===null){var q=S.type;return typeof q!="function"||me(q)||q.defaultProps!==void 0||S.compare!==null||S.defaultProps!==void 0?((h=we(S.type,null,T,d,d.mode,$)).ref=d.ref,h.return=d,d.child=h):(d.tag=15,d.type=q,gh(h,d,q,T,$))}if(q=h.child,!(h.lanes&$)){var X=q.memoizedProps;if((S=(S=S.compare)!==null?S:Gl)(X,T)&&h.ref===d.ref)return _r(h,d,$)}return d.flags|=1,(h=be(q,T)).ref=d.ref,h.return=d,d.child=h}function gh(h,d,S,T,$){if(h!==null){var q=h.memoizedProps;if(Gl(q,T)&&h.ref===d.ref){if(_o=!1,d.pendingProps=T=q,!(h.lanes&$))return d.lanes=h.lanes,_r(h,d,$);131072&h.flags&&(_o=!0)}}return Ll(h,d,S,T,$)}function vc(h,d,S){var T=d.pendingProps,$=T.children,q=h!==null?h.memoizedState:null;if(T.mode==="hidden")if(1&d.mode){if(!(1073741824&S))return h=q!==null?q.baseLanes|S:S,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:h,cachePool:null,transitions:null},d.updateQueue=null,Qn(Zu,cs),cs|=h,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=q!==null?q.baseLanes:S,Qn(Zu,cs),cs|=T}else d.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(Zu,cs),cs|=S;else q!==null?(T=q.baseLanes|S,d.memoizedState=null):T=S,Qn(Zu,cs),cs|=T;return Ra(h,d,$,S),d.child}function ef(h,d){var S=d.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(d.flags|=512,d.flags|=2097152)}function Ll(h,d,S,T,$){var q=Ji(S)?Ju:ki.current;return q=ku(d,q),to(d,$),S=qr(h,d,S,T,q,$),T=Fu(),h===null||_o?(pr&&T&&nu(d),d.flags|=1,Ra(h,d,S,$),d.child):(d.updateQueue=h.updateQueue,d.flags&=-2053,h.lanes&=~$,_r(h,d,$))}function Kr(h,d,S,T,$){if(Ji(S)){var q=!0;du(d)}else q=!1;if(to(d,$),d.stateNode===null)tr(h,d),Wc(d,S,T),zf(d,S,T,$),T=!0;else if(h===null){var X=d.stateNode,le=d.memoizedProps;X.props=le;var pe=X.context,_e=S.contextType;typeof _e=="object"&&_e!==null?_e=ho(_e):_e=ku(d,_e=Ji(S)?Ju:ki.current);var Ve=S.getDerivedStateFromProps,qe=typeof Ve=="function"||typeof X.getSnapshotBeforeUpdate=="function";qe||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(le!==T||pe!==_e)&&Nh(d,X,T,_e),ma=!1;var Je=d.memoizedState;X.state=Je,dl(d,T,X,$),pe=d.memoizedState,le!==T||Je!==pe||Mi.current||ma?(typeof Ve=="function"&&($f(d,S,Ve,T),pe=d.memoizedState),(le=ma||Df(d,S,le,T,Je,pe,_e))?(qe||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(d.flags|=4194308)):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=T,d.memoizedState=pe),X.props=T,X.state=pe,X.context=_e,T=le):(typeof X.componentDidMount=="function"&&(d.flags|=4194308),T=!1)}else{X=d.stateNode,Il(h,d),le=d.memoizedProps,_e=d.type===d.elementType?le:xu(d.type,le),X.props=_e,qe=d.pendingProps,Je=X.context,typeof(pe=S.contextType)=="object"&&pe!==null?pe=ho(pe):pe=ku(d,pe=Ji(S)?Ju:ki.current);var it=S.getDerivedStateFromProps;(Ve=typeof it=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(le!==qe||Je!==pe)&&Nh(d,X,T,pe),ma=!1,Je=d.memoizedState,X.state=Je,dl(d,T,X,$);var yt=d.memoizedState;le!==qe||Je!==yt||Mi.current||ma?(typeof it=="function"&&($f(d,S,it,T),yt=d.memoizedState),(_e=ma||Df(d,S,_e,T,Je,yt,pe)||!1)?(Ve||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(T,yt,pe),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(T,yt,pe)),typeof X.componentDidUpdate=="function"&&(d.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof X.componentDidUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=1024),d.memoizedProps=T,d.memoizedState=yt),X.props=T,X.state=yt,X.context=pe,T=_e):(typeof X.componentDidUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||le===h.memoizedProps&&Je===h.memoizedState||(d.flags|=1024),T=!1)}return tf(h,d,S,T,q,$)}function tf(h,d,S,T,$,q){ef(h,d);var X=!!(128&d.flags);if(!T&&!X)return $&&Ct(d,S,!1),_r(h,d,q);T=d.stateNode,_h.current=d;var le=X&&typeof S.getDerivedStateFromError!="function"?null:T.render();return d.flags|=1,h!==null&&X?(d.child=Va(d,h.child,null,q),d.child=Va(d,null,le,q)):Ra(h,d,le,q),d.memoizedState=T.state,$&&Ct(d,S,!0),d.child}function Bh(h){var d=h.stateNode;d.pendingContext?Pl(0,d.pendingContext,d.pendingContext!==d.context):d.context&&Pl(0,d.context,!1),st(h,d.containerInfo)}function To(h,d,S,T,$){return qs(),Ts($),d.flags|=256,Ra(h,d,S,T),d.child}var dt,ih,$n,Dn,$o={dehydrated:null,treeContext:null,retryLane:0};function wa(h){return{baseLanes:h,cachePool:null,transitions:null}}function Nr(h,d,S){var T,$=d.pendingProps,q=ar.current,X=!1,le=!!(128&d.flags);if((T=le)||(T=(h===null||h.memoizedState!==null)&&!!(2&q)),T?(X=!0,d.flags&=-129):h!==null&&h.memoizedState===null||(q|=1),Qn(ar,1&q),h===null)return gl(d),(h=d.memoizedState)!==null&&(h=h.dehydrated)!==null?(1&d.mode?h.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(le=$.children,h=$.fallback,X?($=d.mode,X=d.child,le={mode:"hidden",children:le},1&$||X===null?X=Ge(le,$,0,null):(X.childLanes=0,X.pendingProps=le),h=Te(h,$,S,null),X.return=d,h.return=d,X.sibling=h,d.child=X,d.child.memoizedState=wa(S),d.memoizedState=$o,h):mo(d,le));if((q=h.memoizedState)!==null&&(T=q.dehydrated)!==null)return function(Ve,qe,Je,it,yt,lt,je){if(Je)return 256&qe.flags?(qe.flags&=-257,Eo(Ve,qe,je,it=wl(Error(t(422))))):qe.memoizedState!==null?(qe.child=Ve.child,qe.flags|=128,null):(lt=it.fallback,yt=qe.mode,it=Ge({mode:"visible",children:it.children},yt,0,null),(lt=Te(lt,yt,je,null)).flags|=2,it.return=qe,lt.return=qe,it.sibling=lt,qe.child=it,1&qe.mode&&Va(qe,Ve.child,null,je),qe.child.memoizedState=wa(je),qe.memoizedState=$o,lt);if(!(1&qe.mode))return Eo(Ve,qe,je,null);if(yt.data==="$!"){if(it=yt.nextSibling&&yt.nextSibling.dataset)var De=it.dgst;return it=De,Eo(Ve,qe,je,it=wl(lt=Error(t(419)),it,void 0))}if(De=!!(je&Ve.childLanes),_o||De){if((it=zi)!==null){switch(je&-je){case 4:yt=2;break;case 16:yt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:yt=32;break;case 536870912:yt=268435456;break;default:yt=0}(yt=yt&(it.suspendedLanes|je)?0:yt)!==0&&yt!==lt.retryLane&&(lt.retryLane=yt,Is(Ve,yt),ci(it,Ve,yt,-1))}return A(),Eo(Ve,qe,je,it=wl(Error(t(421))))}return yt.data==="$?"?(qe.flags|=128,qe.child=Ve.child,qe=V.bind(null,Ve),yt._reactRetry=qe,null):(Ve=lt.treeContext,so=Ha(yt.nextSibling),zr=qe,pr=!0,Sr=null,Ve!==null&&(ao[Wr++]=xn,ao[Wr++]=hr,ao[Wr++]=Vr,xn=Ve.id,hr=Ve.overflow,Vr=qe),qe=mo(qe,it.children),qe.flags|=4096,qe)}(h,d,le,$,T,q,S);if(X){X=$.fallback,le=d.mode,T=(q=h.child).sibling;var pe={mode:"hidden",children:$.children};return 1&le||d.child===q?($=be(q,pe)).subtreeFlags=14680064&q.subtreeFlags:(($=d.child).childLanes=0,$.pendingProps=pe,d.deletions=null),T!==null?X=be(T,X):(X=Te(X,le,S,null)).flags|=2,X.return=d,$.return=d,$.sibling=X,d.child=$,$=X,X=d.child,le=(le=h.child.memoizedState)===null?wa(S):{baseLanes:le.baseLanes|S,cachePool:null,transitions:le.transitions},X.memoizedState=le,X.childLanes=h.childLanes&~S,d.memoizedState=$o,$}return h=(X=h.child).sibling,$=be(X,{mode:"visible",children:$.children}),!(1&d.mode)&&($.lanes=S),$.return=d,$.sibling=null,h!==null&&((S=d.deletions)===null?(d.deletions=[h],d.flags|=16):S.push(h)),d.child=$,d.memoizedState=null,$}function mo(h,d){return(d=Ge({mode:"visible",children:d},h.mode,0,null)).return=h,h.child=d}function Eo(h,d,S,T){return T!==null&&Ts(T),Va(d,h.child,null,S),(h=mo(d,d.pendingProps.children)).flags|=2,d.memoizedState=null,h}function zt(h,d,S){h.lanes|=d;var T=h.alternate;T!==null&&(T.lanes|=d),$i(h.return,d,S)}function on(h,d,S,T,$){var q=h.memoizedState;q===null?h.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:$}:(q.isBackwards=d,q.rendering=null,q.renderingStartTime=0,q.last=T,q.tail=S,q.tailMode=$)}function Wt(h,d,S){var T=d.pendingProps,$=T.revealOrder,q=T.tail;if(Ra(h,d,T.children,S),2&(T=ar.current))T=1&T|2,d.flags|=128;else{if(h!==null&&128&h.flags)e:for(h=d.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&zt(h,S,d);else if(h.tag===19)zt(h,S,d);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(Qn(ar,T),1&d.mode)switch($){case"forwards":for(S=d.child,$=null;S!==null;)(h=S.alternate)!==null&&da(h)===null&&($=S),S=S.sibling;(S=$)===null?($=d.child,d.child=null):($=S.sibling,S.sibling=null),on(d,!1,$,S,q);break;case"backwards":for(S=null,$=d.child,d.child=null;$!==null;){if((h=$.alternate)!==null&&da(h)===null){d.child=$;break}h=$.sibling,$.sibling=S,S=$,$=h}on(d,!0,S,null,q);break;case"together":on(d,!1,null,null,void 0);break;default:d.memoizedState=null}else d.memoizedState=null;return d.child}function tr(h,d){!(1&d.mode)&&h!==null&&(h.alternate=null,d.alternate=null,d.flags|=2)}function _r(h,d,S){if(h!==null&&(d.dependencies=h.dependencies),bs|=d.lanes,!(S&d.childLanes))return null;if(h!==null&&d.child!==h.child)throw Error(t(153));if(d.child!==null){for(S=be(h=d.child,h.pendingProps),d.child=S,S.return=d;h.sibling!==null;)h=h.sibling,(S=S.sibling=be(h,h.pendingProps)).return=d;S.sibling=null}return d.child}function us(h,d){if(!pr)switch(h.tailMode){case"hidden":d=h.tail;for(var S=null;d!==null;)d.alternate!==null&&(S=d),d=d.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?d||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Fi(h){var d=h.alternate!==null&&h.alternate.child===h.child,S=0,T=0;if(d)for(var $=h.child;$!==null;)S|=$.lanes|$.childLanes,T|=14680064&$.subtreeFlags,T|=14680064&$.flags,$.return=h,$=$.sibling;else for($=h.child;$!==null;)S|=$.lanes|$.childLanes,T|=$.subtreeFlags,T|=$.flags,$.return=h,$=$.sibling;return h.subtreeFlags|=T,h.childLanes=S,d}function Ii(h,d,S){var T=d.pendingProps;switch(Ia(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(d),null;case 1:case 17:return Ji(d.type)&&ic(),Fi(d),null;case 3:return T=d.stateNode,ss(),ir(Mi),ir(ki),Hu(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),h!==null&&h.child!==null||(Mu(d)?d.flags|=4:h===null||h.memoizedState.isDehydrated&&!(256&d.flags)||(d.flags|=1024,Sr!==null&&(au(Sr),Sr=null))),ih(h,d),Fi(d),null;case 5:Zr(d);var $=Xi(no.current);if(S=d.type,h!==null&&d.stateNode!=null)$n(h,d,S,T,$),h.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!T){if(d.stateNode===null)throw Error(t(166));return Fi(d),null}if(h=Xi(Ba.current),Mu(d)){T=d.stateNode,S=d.type;var q=d.memoizedProps;switch(T[os]=d,T[Kt]=q,h=!!(1&d.mode),S){case"dialog":bn("cancel",T),bn("close",T);break;case"iframe":case"object":case"embed":bn("load",T);break;case"video":case"audio":for($=0;$<xi.length;$++)bn(xi[$],T);break;case"source":bn("error",T);break;case"img":case"image":case"link":bn("error",T),bn("load",T);break;case"details":bn("toggle",T);break;case"input":wi(T,q),bn("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!q.multiple},bn("invalid",T);break;case"textarea":Be(T,q),bn("invalid",T)}for(var X in ta(S,q),$=null,q)if(q.hasOwnProperty(X)){var le=q[X];X==="children"?typeof le=="string"?T.textContent!==le&&(q.suppressHydrationWarning!==!0&&ms(T.textContent,le,h),$=["children",le]):typeof le=="number"&&T.textContent!==""+le&&(q.suppressHydrationWarning!==!0&&ms(T.textContent,le,h),$=["children",""+le]):i.hasOwnProperty(X)&&le!=null&&X==="onScroll"&&bn("scroll",T)}switch(S){case"input":an(T),fe(T,q,!0);break;case"textarea":an(T),We(T);break;case"select":case"option":break;default:typeof q.onClick=="function"&&(T.onclick=ua)}T=$,d.updateQueue=T,T!==null&&(d.flags|=4)}else{X=$.nodeType===9?$:$.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=ot(S)),h==="http://www.w3.org/1999/xhtml"?S==="script"?((h=X.createElement("div")).innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=X.createElement(S,{is:T.is}):(h=X.createElement(S),S==="select"&&(X=h,T.multiple?X.multiple=!0:T.size&&(X.size=T.size))):h=X.createElementNS(h,S),h[os]=d,h[Kt]=T,dt(h,d,!1,!1),d.stateNode=h;e:{switch(X=Oo(S,T),S){case"dialog":bn("cancel",h),bn("close",h),$=T;break;case"iframe":case"object":case"embed":bn("load",h),$=T;break;case"video":case"audio":for($=0;$<xi.length;$++)bn(xi[$],h);$=T;break;case"source":bn("error",h),$=T;break;case"img":case"image":case"link":bn("error",h),bn("load",h),$=T;break;case"details":bn("toggle",h),$=T;break;case"input":wi(h,T),$=Fn(h,T),bn("invalid",h);break;case"option":default:$=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},$=$e({},T,{value:void 0}),bn("invalid",h);break;case"textarea":Be(h,T),$=Re(h,T),bn("invalid",h)}for(q in ta(S,$),le=$)if(le.hasOwnProperty(q)){var pe=le[q];q==="style"?io(h,pe):q==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0)!=null&&fn(h,pe):q==="children"?typeof pe=="string"?(S!=="textarea"||pe!=="")&&kn(h,pe):typeof pe=="number"&&kn(h,""+pe):q!=="suppressContentEditableWarning"&&q!=="suppressHydrationWarning"&&q!=="autoFocus"&&(i.hasOwnProperty(q)?pe!=null&&q==="onScroll"&&bn("scroll",h):pe!=null&&F(h,q,pe,X))}switch(S){case"input":an(h),fe(h,T,!1);break;case"textarea":an(h),We(h);break;case"option":T.value!=null&&h.setAttribute("value",""+Dt(T.value));break;case"select":h.multiple=!!T.multiple,(q=T.value)!=null?Se(h,!!T.multiple,q,!1):T.defaultValue!=null&&Se(h,!!T.multiple,T.defaultValue,!0);break;default:typeof $.onClick=="function"&&(h.onclick=ua)}switch(S){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return Fi(d),null;case 6:if(h&&d.stateNode!=null)Dn(h,d,h.memoizedProps,T);else{if(typeof T!="string"&&d.stateNode===null)throw Error(t(166));if(S=Xi(no.current),Xi(Ba.current),Mu(d)){if(T=d.stateNode,S=d.memoizedProps,T[os]=d,(q=T.nodeValue!==S)&&(h=zr)!==null)switch(h.tag){case 3:ms(T.nodeValue,S,!!(1&h.mode));break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&ms(T.nodeValue,S,!!(1&h.mode))}q&&(d.flags|=4)}else(T=(S.nodeType===9?S:S.ownerDocument).createTextNode(T))[os]=d,d.stateNode=T}return Fi(d),null;case 13:if(ir(ar),T=d.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(pr&&so!==null&&1&d.mode&&!(128&d.flags))ru(),qs(),d.flags|=98560,q=!1;else if(q=Mu(d),T!==null&&T.dehydrated!==null){if(h===null){if(!q)throw Error(t(318));if(!(q=(q=d.memoizedState)!==null?q.dehydrated:null))throw Error(t(317));q[os]=d}else qs(),!(128&d.flags)&&(d.memoizedState=null),d.flags|=4;Fi(d),q=!1}else Sr!==null&&(au(Sr),Sr=null),q=!0;if(!q)return 65536&d.flags?d:null}return 128&d.flags?(d.lanes=S,d):((T=T!==null)!=(h!==null&&h.memoizedState!==null)&&T&&(d.child.flags|=8192,1&d.mode&&(h===null||1&ar.current?ro===0&&(ro=3):A())),d.updateQueue!==null&&(d.flags|=4),Fi(d),null);case 4:return ss(),ih(h,d),h===null&&Di(d.stateNode.containerInfo),Fi(d),null;case 10:return Fo(d.type._context),Fi(d),null;case 19:if(ir(ar),(q=d.memoizedState)===null)return Fi(d),null;if(T=!!(128&d.flags),(X=q.rendering)===null)if(T)us(q,!1);else{if(ro!==0||h!==null&&128&h.flags)for(h=d.child;h!==null;){if((X=da(h))!==null){for(d.flags|=128,us(q,!1),(T=X.updateQueue)!==null&&(d.updateQueue=T,d.flags|=4),d.subtreeFlags=0,T=S,S=d.child;S!==null;)h=T,(q=S).flags&=14680066,(X=q.alternate)===null?(q.childLanes=0,q.lanes=h,q.child=null,q.subtreeFlags=0,q.memoizedProps=null,q.memoizedState=null,q.updateQueue=null,q.dependencies=null,q.stateNode=null):(q.childLanes=X.childLanes,q.lanes=X.lanes,q.child=X.child,q.subtreeFlags=0,q.deletions=null,q.memoizedProps=X.memoizedProps,q.memoizedState=X.memoizedState,q.updateQueue=X.updateQueue,q.type=X.type,h=X.dependencies,q.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),S=S.sibling;return Qn(ar,1&ar.current|2),d.child}h=h.sibling}q.tail!==null&&Br()>Tu&&(d.flags|=128,T=!0,us(q,!1),d.lanes=4194304)}else{if(!T)if((h=da(X))!==null){if(d.flags|=128,T=!0,(S=h.updateQueue)!==null&&(d.updateQueue=S,d.flags|=4),us(q,!0),q.tail===null&&q.tailMode==="hidden"&&!X.alternate&&!pr)return Fi(d),null}else 2*Br()-q.renderingStartTime>Tu&&S!==1073741824&&(d.flags|=128,T=!0,us(q,!1),d.lanes=4194304);q.isBackwards?(X.sibling=d.child,d.child=X):((S=q.last)!==null?S.sibling=X:d.child=X,q.last=X)}return q.tail!==null?(d=q.tail,q.rendering=d,q.tail=d.sibling,q.renderingStartTime=Br(),d.sibling=null,S=ar.current,Qn(ar,T?1&S|2:1&S),d):(Fi(d),null);case 22:case 23:return Oc(),T=d.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(d.flags|=8192),T&&1&d.mode?1073741824&cs&&(Fi(d),6&d.subtreeFlags&&(d.flags|=8192)):Fi(d),null;case 24:case 25:return null}throw Error(t(156,d.tag))}function Ao(h,d){switch(Ia(d),d.tag){case 1:return Ji(d.type)&&ic(),65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 3:return ss(),ir(Mi),ir(ki),Hu(),65536&(h=d.flags)&&!(128&h)?(d.flags=-65537&h|128,d):null;case 5:return Zr(d),null;case 13:if(ir(ar),(h=d.memoizedState)!==null&&h.dehydrated!==null){if(d.alternate===null)throw Error(t(340));qs()}return 65536&(h=d.flags)?(d.flags=-65537&h|128,d):null;case 19:return ir(ar),null;case 4:return ss(),null;case 10:return Fo(d.type._context),null;case 22:case 23:return Oc(),null;default:return null}}dt=function(h,d){for(var S=d.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===d)break;for(;S.sibling===null;){if(S.return===null||S.return===d)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},ih=function(){},$n=function(h,d,S,T){var $=h.memoizedProps;if($!==T){h=d.stateNode,Xi(Ba.current);var q,X=null;switch(S){case"input":$=Fn(h,$),T=Fn(h,T),X=[];break;case"select":$=$e({},$,{value:void 0}),T=$e({},T,{value:void 0}),X=[];break;case"textarea":$=Re(h,$),T=Re(h,T),X=[];break;default:typeof $.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=ua)}for(_e in ta(S,T),S=null,$)if(!T.hasOwnProperty(_e)&&$.hasOwnProperty(_e)&&$[_e]!=null)if(_e==="style"){var le=$[_e];for(q in le)le.hasOwnProperty(q)&&(S||(S={}),S[q]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(i.hasOwnProperty(_e)?X||(X=[]):(X=X||[]).push(_e,null));for(_e in T){var pe=T[_e];if(le=$!=null?$[_e]:void 0,T.hasOwnProperty(_e)&&pe!==le&&(pe!=null||le!=null))if(_e==="style")if(le){for(q in le)!le.hasOwnProperty(q)||pe&&pe.hasOwnProperty(q)||(S||(S={}),S[q]="");for(q in pe)pe.hasOwnProperty(q)&&le[q]!==pe[q]&&(S||(S={}),S[q]=pe[q])}else S||(X||(X=[]),X.push(_e,S)),S=pe;else _e==="dangerouslySetInnerHTML"?(pe=pe?pe.__html:void 0,le=le?le.__html:void 0,pe!=null&&le!==pe&&(X=X||[]).push(_e,pe)):_e==="children"?typeof pe!="string"&&typeof pe!="number"||(X=X||[]).push(_e,""+pe):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(i.hasOwnProperty(_e)?(pe!=null&&_e==="onScroll"&&bn("scroll",h),X||le===pe||(X=[])):(X=X||[]).push(_e,pe))}S&&(X=X||[]).push("style",S);var _e=X;(d.updateQueue=_e)&&(d.flags|=4)}},Dn=function(h,d,S,T){S!==T&&(d.flags|=4)};var sr=!1,sn=!1,si=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Qu(h,d){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){P(h,d,T)}else S.current=null}function yi(h,d,S){try{S()}catch(T){P(h,d,T)}}var mt=!1;function Du(h,d,S){var T=d.updateQueue;if((T=T!==null?T.lastEffect:null)!==null){var $=T=T.next;do{if(($.tag&h)===h){var q=$.destroy;$.destroy=void 0,q!==void 0&&yi(d,S,q)}$=$.next}while($!==T)}}function xr(h,d){if((d=(d=d.updateQueue)!==null?d.lastEffect:null)!==null){var S=d=d.next;do{if((S.tag&h)===h){var T=S.create;S.destroy=T()}S=S.next}while(S!==d)}}function zo(h){var d=h.ref;if(d!==null){var S=h.stateNode;h.tag,h=S,typeof d=="function"?d(h):d.current=h}}function Ot(h){var d=h.alternate;d!==null&&(h.alternate=null,Ot(d)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(d=h.stateNode)!==null&&(delete d[os],delete d[Kt],delete d[Fc],delete d[_a],delete d[rc]),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function nf(h){return h.tag===5||h.tag===3||h.tag===4}function ui(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||nf(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(2&h.flags))return h.stateNode}}function Cu(h,d,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?S.nodeType===8?S.parentNode.insertBefore(h,d):S.insertBefore(h,d):(S.nodeType===8?(d=S.parentNode).insertBefore(h,S):(d=S).appendChild(h),(S=S._reactRootContainer)!=null||d.onclick!==null||(d.onclick=ua));else if(T!==4&&(h=h.child)!==null)for(Cu(h,d,S),h=h.sibling;h!==null;)Cu(h,d,S),h=h.sibling}function ea(h,d,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,d?S.insertBefore(h,d):S.appendChild(h);else if(T!==4&&(h=h.child)!==null)for(ea(h,d,S),h=h.sibling;h!==null;)ea(h,d,S),h=h.sibling}var Ht=null,Dr=!1;function ko(h,d,S){for(S=S.child;S!==null;)ac(h,d,S),S=S.sibling}function ac(h,d,S){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(Qt,S)}catch{}switch(S.tag){case 5:sn||Qu(S,d);case 6:var T=Ht,$=Dr;Ht=null,ko(h,d,S),Dr=$,(Ht=T)!==null&&(Dr?(h=Ht,S=S.stateNode,h.nodeType===8?h.parentNode.removeChild(S):h.removeChild(S)):Ht.removeChild(S.stateNode));break;case 18:Ht!==null&&(Dr?(h=Ht,S=S.stateNode,h.nodeType===8?Pn(h.parentNode,S):h.nodeType===1&&Pn(h,S),zs(h)):Pn(Ht,S.stateNode));break;case 4:T=Ht,$=Dr,Ht=S.stateNode.containerInfo,Dr=!0,ko(h,d,S),Ht=T,Dr=$;break;case 0:case 11:case 14:case 15:if(!sn&&(T=S.updateQueue)!==null&&(T=T.lastEffect)!==null){$=T=T.next;do{var q=$,X=q.destroy;q=q.tag,X!==void 0&&(2&q||4&q)&&yi(S,d,X),$=$.next}while($!==T)}ko(h,d,S);break;case 1:if(!sn&&(Qu(S,d),typeof(T=S.stateNode).componentWillUnmount=="function"))try{T.props=S.memoizedProps,T.state=S.memoizedState,T.componentWillUnmount()}catch(le){P(S,d,le)}ko(h,d,S);break;case 21:ko(h,d,S);break;case 22:1&S.mode?(sn=(T=sn)||S.memoizedState!==null,ko(h,d,S),sn=T):ko(h,d,S);break;default:ko(h,d,S)}}function zn(h){var d=h.updateQueue;if(d!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new si),d.forEach(function(T){var $=Y.bind(null,h,T);S.has(T)||(S.add(T),T.then($,$))})}}function Vu(h,d){var S=d.deletions;if(S!==null)for(var T=0;T<S.length;T++){var $=S[T];try{var q=h,X=d,le=X;e:for(;le!==null;){switch(le.tag){case 5:Ht=le.stateNode,Dr=!1;break e;case 3:case 4:Ht=le.stateNode.containerInfo,Dr=!0;break e}le=le.return}if(Ht===null)throw Error(t(160));ac(q,X,$),Ht=null,Dr=!1;var pe=$.alternate;pe!==null&&(pe.return=null),$.return=null}catch(_e){P($,d,_e)}}if(12854&d.subtreeFlags)for(d=d.child;d!==null;)mh(d,h),d=d.sibling}function mh(h,d){var S=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(Vu(d,h),ls(h),4&T){try{Du(3,h,h.return),xr(3,h)}catch(lt){P(h,h.return,lt)}try{Du(5,h,h.return)}catch(lt){P(h,h.return,lt)}}break;case 1:Vu(d,h),ls(h),512&T&&S!==null&&Qu(S,S.return);break;case 5:if(Vu(d,h),ls(h),512&T&&S!==null&&Qu(S,S.return),32&h.flags){var $=h.stateNode;try{kn($,"")}catch(lt){P(h,h.return,lt)}}if(4&T&&($=h.stateNode)!=null){var q=h.memoizedProps,X=S!==null?S.memoizedProps:q,le=h.type,pe=h.updateQueue;if(h.updateQueue=null,pe!==null)try{le==="input"&&q.type==="radio"&&q.name!=null&&js($,q),Oo(le,X);var _e=Oo(le,q);for(X=0;X<pe.length;X+=2){var Ve=pe[X],qe=pe[X+1];Ve==="style"?io($,qe):Ve==="dangerouslySetInnerHTML"?fn($,qe):Ve==="children"?kn($,qe):F($,Ve,qe,_e)}switch(le){case"input":$a($,q);break;case"textarea":He($,q);break;case"select":var Je=$._wrapperState.wasMultiple;$._wrapperState.wasMultiple=!!q.multiple;var it=q.value;it!=null?Se($,!!q.multiple,it,!1):Je!==!!q.multiple&&(q.defaultValue!=null?Se($,!!q.multiple,q.defaultValue,!0):Se($,!!q.multiple,q.multiple?[]:"",!1))}$[Kt]=q}catch(lt){P(h,h.return,lt)}}break;case 6:if(Vu(d,h),ls(h),4&T){if(h.stateNode===null)throw Error(t(162));$=h.stateNode,q=h.memoizedProps;try{$.nodeValue=q}catch(lt){P(h,h.return,lt)}}break;case 3:if(Vu(d,h),ls(h),4&T&&S!==null&&S.memoizedState.isDehydrated)try{zs(d.containerInfo)}catch(lt){P(h,h.return,lt)}break;case 4:default:Vu(d,h),ls(h);break;case 13:Vu(d,h),ls(h),8192&($=h.child).flags&&(q=$.memoizedState!==null,$.stateNode.isHidden=q,!q||$.alternate!==null&&$.alternate.memoizedState!==null||(wc=Br())),4&T&&zn(h);break;case 22:if(Ve=S!==null&&S.memoizedState!==null,1&h.mode?(sn=(_e=sn)||Ve,Vu(d,h),sn=_e):Vu(d,h),ls(h),8192&T){if(_e=h.memoizedState!==null,(h.stateNode.isHidden=_e)&&!Ve&&1&h.mode)for(Tt=h,Ve=h.child;Ve!==null;){for(qe=Tt=Ve;Tt!==null;){switch(it=(Je=Tt).child,Je.tag){case 0:case 11:case 14:case 15:Du(4,Je,Je.return);break;case 1:Qu(Je,Je.return);var yt=Je.stateNode;if(typeof yt.componentWillUnmount=="function"){T=Je,S=Je.return;try{d=T,yt.props=d.memoizedProps,yt.state=d.memoizedState,yt.componentWillUnmount()}catch(lt){P(T,S,lt)}}break;case 5:Qu(Je,Je.return);break;case 22:if(Je.memoizedState!==null){pf(qe);continue}}it!==null?(it.return=Je,Tt=it):pf(qe)}Ve=Ve.sibling}e:for(Ve=null,qe=h;;){if(qe.tag===5){if(Ve===null){Ve=qe;try{$=qe.stateNode,_e?typeof(q=$.style).setProperty=="function"?q.setProperty("display","none","important"):q.display="none":(le=qe.stateNode,X=(pe=qe.memoizedProps.style)!=null&&pe.hasOwnProperty("display")?pe.display:null,le.style.display=Ui("display",X))}catch(lt){P(h,h.return,lt)}}}else if(qe.tag===6){if(Ve===null)try{qe.stateNode.nodeValue=_e?"":qe.memoizedProps}catch(lt){P(h,h.return,lt)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===h)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===h)break e;for(;qe.sibling===null;){if(qe.return===null||qe.return===h)break e;Ve===qe&&(Ve=null),qe=qe.return}Ve===qe&&(Ve=null),qe.sibling.return=qe.return,qe=qe.sibling}}break;case 19:Vu(d,h),ls(h),4&T&&zn(h);case 21:}}function ls(h){var d=h.flags;if(2&d){try{e:{for(var S=h.return;S!==null;){if(nf(S)){var T=S;break e}S=S.return}throw Error(t(160))}switch(T.tag){case 5:var $=T.stateNode;32&T.flags&&(kn($,""),T.flags&=-33),ea(h,ui(h),$);break;case 3:case 4:var q=T.stateNode.containerInfo;Cu(h,ui(h),q);break;default:throw Error(t(161))}}catch(X){P(h,h.return,X)}h.flags&=-3}4096&d&&(h.flags&=-4097)}function An(h,d,S){Tt=h,Er(h)}function Er(h,d,S){for(var T=!!(1&h.mode);Tt!==null;){var $=Tt,q=$.child;if($.tag===22&&T){var X=$.memoizedState!==null||sr;if(!X){var le=$.alternate,pe=le!==null&&le.memoizedState!==null||sn;le=sr;var _e=sn;if(sr=X,(sn=pe)&&!_e)for(Tt=$;Tt!==null;)pe=(X=Tt).child,X.tag===22&&X.memoizedState!==null?Su($):pe!==null?(pe.return=X,Tt=pe):Su($);for(;q!==null;)Tt=q,Er(q),q=q.sibling;Tt=$,sr=le,sn=_e}Eh(h)}else 8772&$.subtreeFlags&&q!==null?(q.return=$,Tt=q):Eh(h)}}function Eh(h){for(;Tt!==null;){var d=Tt;if(8772&d.flags){var S=d.alternate;try{if(8772&d.flags)switch(d.tag){case 0:case 11:case 15:sn||xr(5,d);break;case 1:var T=d.stateNode;if(4&d.flags&&!sn)if(S===null)T.componentDidMount();else{var $=d.elementType===d.type?S.memoizedProps:xu(d.type,S.memoizedProps);T.componentDidUpdate($,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var q=d.updateQueue;q!==null&&lo(d,q,T);break;case 3:var X=d.updateQueue;if(X!==null){if(S=null,d.child!==null)switch(d.child.tag){case 5:case 1:S=d.child.stateNode}lo(d,X,S)}break;case 5:var le=d.stateNode;if(S===null&&4&d.flags){S=le;var pe=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":pe.autoFocus&&S.focus();break;case"img":pe.src&&(S.src=pe.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(d.memoizedState===null){var _e=d.alternate;if(_e!==null){var Ve=_e.memoizedState;if(Ve!==null){var qe=Ve.dehydrated;qe!==null&&zs(qe)}}}break;default:throw Error(t(163))}sn||512&d.flags&&zo(d)}catch(Je){P(d,d.return,Je)}}if(d===h){Tt=null;break}if((S=d.sibling)!==null){S.return=d.return,Tt=S;break}Tt=d.return}}function pf(h){for(;Tt!==null;){var d=Tt;if(d===h){Tt=null;break}var S=d.sibling;if(S!==null){S.return=d.return,Tt=S;break}Tt=d.return}}function Su(h){for(;Tt!==null;){var d=Tt;try{switch(d.tag){case 0:case 11:case 15:var S=d.return;try{xr(4,d)}catch(pe){P(d,S,pe)}break;case 1:var T=d.stateNode;if(typeof T.componentDidMount=="function"){var $=d.return;try{T.componentDidMount()}catch(pe){P(d,$,pe)}}var q=d.return;try{zo(d)}catch(pe){P(d,q,pe)}break;case 5:var X=d.return;try{zo(d)}catch(pe){P(d,X,pe)}}}catch(pe){P(d,d.return,pe)}if(d===h){Tt=null;break}var le=d.sibling;if(le!==null){le.return=d.return,Tt=le;break}Tt=d.return}}var oh,Cn=Math.ceil,ja=O.ReactCurrentDispatcher,rf=O.ReactCurrentOwner,On=O.ReactCurrentBatchConfig,Sn=0,zi=null,ei=null,Io=0,cs=0,Zu=ds(0),ro=0,yc=null,bs=0,ba=0,Pu=0,_u=null,xs=null,wc=0,Tu=1/0,bl=null,Yn=!1,bc=null,qu=null,Hc=!1,Ds=null,ec=0,Cs=0,gf=null,Sf=-1,li=0;function er(){return 6&Sn?Br():Sf!==-1?Sf:Sf=Br()}function Ko(h){return 1&h.mode?2&Sn&&Io!==0?Io&-Io:iu.transition!==null?(li===0&&(li=Za()),li):(h=Hn)!==0?h:h=(h=window.event)===void 0?16:ll(h.type):1}function ci(h,d,S,T){if(50<Cs)throw Cs=0,gf=null,Error(t(185));hu(h,S,T),2&Sn&&h===zi||(h===zi&&(!(2&Sn)&&(ba|=S),ro===4&&el(h,Io)),Ir(h,T),S===1&&Sn===0&&!(1&d.mode)&&(Tu=Br()+500,Zc&&Ps()))}function Ir(h,d){var S=h.callbackNode;(function(q,X){for(var le=q.suspendedLanes,pe=q.pingedLanes,_e=q.expirationTimes,Ve=q.pendingLanes;0<Ve;){var qe=31-fu(Ve),Je=1<<qe,it=_e[qe];it===-1?Je&le&&!(Je&pe)||(_e[qe]=Mo(Je,X)):it<=X&&(q.expiredLanes|=Je),Ve&=~Je}})(h,d);var T=rr(h,h===zi?Io:0);if(T===0)S!==null&&_l(S),h.callbackNode=null,h.callbackPriority=0;else if(d=T&-T,h.callbackPriority!==d){if(S!=null&&_l(S),d===1)h.tag===0?function(q){Zc=!0,Tl(q)}(Ic.bind(null,h)):Tl(Ic.bind(null,h)),Mc(function(){!(6&Sn)&&Ps()}),S=null;else{switch(Xo(T)){case 1:S=gn;break;case 4:S=na;break;case 16:default:S=Sc;break;case 536870912:S=No}S=re(S,fs.bind(null,h))}h.callbackPriority=d,h.callbackNode=S}}function fs(h,d){if(Sf=-1,li=0,6&Sn)throw Error(t(327));var S=h.callbackNode;if(m()&&h.callbackNode!==S)return null;var T=rr(h,h===zi?Io:0);if(T===0)return null;if(30&T||T&h.expiredLanes||d)d=I(h,T);else{d=T;var $=Sn;Sn|=2;var q=w();for(zi===h&&Io===d||(bl=null,Tu=Br()+500,a(h,d));;)try{D();break}catch(le){l(h,le)}eo(),ja.current=q,Sn=$,ei!==null?d=0:(zi=null,Io=0,d=ro)}if(d!==0){if(d===2&&($=df(h))!==0&&(T=$,d=of(h,$)),d===1)throw S=yc,a(h,0),el(h,T),Ir(h,Br()),S;if(d===6)el(h,T);else{if($=h.current.alternate,!(30&T||function(pe){for(var _e=pe;;){if(16384&_e.flags){var Ve=_e.updateQueue;if(Ve!==null&&(Ve=Ve.stores)!==null)for(var qe=0;qe<Ve.length;qe++){var Je=Ve[qe],it=Je.getSnapshot;Je=Je.value;try{if(!wn(it(),Je))return!1}catch{return!1}}}if(Ve=_e.child,16384&_e.subtreeFlags&&Ve!==null)Ve.return=_e,_e=Ve;else{if(_e===pe)break;for(;_e.sibling===null;){if(_e.return===null||_e.return===pe)return!0;_e=_e.return}_e.sibling.return=_e.return,_e=_e.sibling}}return!0}($)||(d=I(h,T),d===2&&(q=df(h),q!==0&&(T=q,d=of(h,q))),d!==1)))throw S=yc,a(h,0),el(h,T),Ir(h,Br()),S;switch(h.finishedWork=$,h.finishedLanes=T,d){case 0:case 1:throw Error(t(345));case 2:case 5:v(h,xs,bl);break;case 3:if(el(h,T),(130023424&T)===T&&10<(d=wc+500-Br())){if(rr(h,0)!==0)break;if((($=h.suspendedLanes)&T)!==T){er(),h.pingedLanes|=h.suspendedLanes&$;break}h.timeoutHandle=Sa(v.bind(null,h,xs,bl),d);break}v(h,xs,bl);break;case 4:if(el(h,T),(4194240&T)===T)break;for(d=h.eventTimes,$=-1;0<T;){var X=31-fu(T);q=1<<X,(X=d[X])>$&&($=X),T&=~q}if(T=$,10<(T=(120>(T=Br()-T)?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Cn(T/1960))-T)){h.timeoutHandle=Sa(v.bind(null,h,xs,bl),T);break}v(h,xs,bl);break;default:throw Error(t(329))}}}return Ir(h,Br()),h.callbackNode===S?fs.bind(null,h):null}function of(h,d){var S=_u;return h.current.memoizedState.isDehydrated&&(a(h,d).flags|=256),(h=I(h,d))!==2&&(d=xs,xs=S,d!==null&&au(d)),h}function au(h){xs===null?xs=h:xs.push.apply(xs,h)}function el(h,d){for(d&=~Pu,d&=~ba,h.suspendedLanes|=d,h.pingedLanes&=~d,h=h.expirationTimes;0<d;){var S=31-fu(d),T=1<<S;h[S]=-1,d&=~T}}function Ic(h){if(6&Sn)throw Error(t(327));m();var d=rr(h,0);if(!(1&d))return Ir(h,Br()),null;var S=I(h,d);if(h.tag!==0&&S===2){var T=df(h);T!==0&&(d=T,S=of(h,T))}if(S===1)throw S=yc,a(h,0),el(h,d),Ir(h,Br()),S;if(S===6)throw Error(t(345));return h.finishedWork=h.current.alternate,h.finishedLanes=d,v(h,xs,bl),Ir(h,Br()),null}function mf(h,d){var S=Sn;Sn|=1;try{return h(d)}finally{(Sn=S)===0&&(Tu=Br()+500,Zc&&Ps())}}function $l(h){Ds!==null&&Ds.tag===0&&!(6&Sn)&&m();var d=Sn;Sn|=1;var S=On.transition,T=Hn;try{if(On.transition=null,Hn=1,h)return h()}finally{Hn=T,On.transition=S,!(6&(Sn=d))&&Ps()}}function Oc(){cs=Zu.current,ir(Zu)}function a(h,d){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==-1&&(h.timeoutHandle=-1,jo(S)),ei!==null)for(S=ei.return;S!==null;){var T=S;switch(Ia(T),T.tag){case 1:(T=T.type.childContextTypes)!=null&&ic();break;case 3:ss(),ir(Mi),ir(ki),Hu();break;case 5:Zr(T);break;case 4:ss();break;case 13:case 19:ir(ar);break;case 10:Fo(T.type._context);break;case 22:case 23:Oc()}S=S.return}if(zi=h,ei=h=be(h.current,null),Io=cs=d,ro=0,yc=null,Pu=ba=bs=0,xs=_u=null,Na!==null){for(d=0;d<Na.length;d++)if((T=(S=Na[d]).interleaved)!==null){S.interleaved=null;var $=T.next,q=S.pending;if(q!==null){var X=q.next;q.next=$,T.next=X}S.pending=T}Na=null}return h}function l(h,d){for(;;){var S=ei;try{if(eo(),Ks.current=xf,Nl){for(var T=Gt.memoizedState;T!==null;){var $=T.queue;$!==null&&($.pending=null),T=T.next}Nl=!1}if(gr=0,kr=Vn=Gt=null,br=!1,Gs=0,rf.current=null,S===null||S.return===null){ro=1,yc=d,ei=null;break}e:{var q=h,X=S.return,le=S,pe=d;if(d=Io,le.flags|=32768,pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var _e=pe,Ve=le,qe=Ve.tag;if(!(1&Ve.mode||qe!==0&&qe!==11&&qe!==15)){var Je=Ve.alternate;Je?(Ve.updateQueue=Je.updateQueue,Ve.memoizedState=Je.memoizedState,Ve.lanes=Je.lanes):(Ve.updateQueue=null,Ve.memoizedState=null)}var it=oc(X);if(it!==null){it.flags&=-257,rh(it,X,le,0,d),1&it.mode&&Cf(q,_e,d),pe=_e;var yt=(d=it).updateQueue;if(yt===null){var lt=new Set;lt.add(pe),d.updateQueue=lt}else yt.add(pe);break e}if(!(1&d)){Cf(q,_e,d),A();break e}pe=Error(t(426))}else if(pr&&1&le.mode){var je=oc(X);if(je!==null){!(65536&je.flags)&&(je.flags|=256),rh(je,X,le,0,d),Ts(yl(pe,le));break e}}q=pe=yl(pe,le),ro!==4&&(ro=2),_u===null?_u=[q]:_u.push(q),q=X;do{switch(q.tag){case 3:q.flags|=65536,d&=-d,q.lanes|=d,lf(q,Zl(0,pe,d));break e;case 1:le=pe;var De=q.type,Le=q.stateNode;if(!(128&q.flags||typeof De.getDerivedStateFromError!="function"&&(Le===null||typeof Le.componentDidCatch!="function"||qu!==null&&qu.has(Le)))){q.flags|=65536,d&=-d,q.lanes|=d,lf(q,hf(q,le,d));break e}}q=q.return}while(q!==null)}N(S)}catch(nt){d=nt,ei===S&&S!==null&&(ei=S=S.return);continue}break}}function w(){var h=ja.current;return ja.current=xf,h===null?xf:h}function A(){ro!==0&&ro!==3&&ro!==2||(ro=4),zi===null||!(268435455&bs)&&!(268435455&ba)||el(zi,Io)}function I(h,d){var S=Sn;Sn|=2;var T=w();for(zi===h&&Io===d||(bl=null,a(h,d));;)try{U();break}catch($){l(h,$)}if(eo(),Sn=S,ja.current=T,ei!==null)throw Error(t(261));return zi=null,Io=0,ro}function U(){for(;ei!==null;)E(ei)}function D(){for(;ei!==null&&!Pi();)E(ei)}function E(h){var d=oh(h.alternate,h,cs);h.memoizedProps=h.pendingProps,d===null?N(h):ei=d,rf.current=null}function N(h){var d=h;do{var S=d.alternate;if(h=d.return,32768&d.flags){if((S=Ao(S,d))!==null)return S.flags&=32767,void(ei=S);if(h===null)return ro=6,void(ei=null);h.flags|=32768,h.subtreeFlags=0,h.deletions=null}else if((S=Ii(S,d,cs))!==null)return void(ei=S);if((d=d.sibling)!==null)return void(ei=d);ei=d=h}while(d!==null);ro===0&&(ro=5)}function v(h,d,S){var T=Hn,$=On.transition;try{On.transition=null,Hn=1,function(X,le,pe,_e){do m();while(Ds!==null);if(6&Sn)throw Error(t(327));pe=X.finishedWork;var Ve=X.finishedLanes;if(pe===null)return null;if(X.finishedWork=null,X.finishedLanes=0,pe===X.current)throw Error(t(177));X.callbackNode=null,X.callbackPriority=0;var qe=pe.lanes|pe.childLanes;if(function(lt,je){var De=lt.pendingLanes&~je;lt.pendingLanes=je,lt.suspendedLanes=0,lt.pingedLanes=0,lt.expiredLanes&=je,lt.mutableReadLanes&=je,lt.entangledLanes&=je,je=lt.entanglements;var Le=lt.eventTimes;for(lt=lt.expirationTimes;0<De;){var nt=31-fu(De),Nt=1<<nt;je[nt]=0,Le[nt]=-1,lt[nt]=-1,De&=~Nt}}(X,qe),X===zi&&(ei=zi=null,Io=0),!(2064&pe.subtreeFlags)&&!(2064&pe.flags)||Hc||(Hc=!0,re(Sc,function(){return m(),null})),qe=!!(15990&pe.flags),!!(15990&pe.subtreeFlags)||qe){qe=On.transition,On.transition=null;var Je=Hn;Hn=1;var it=Sn;Sn|=4,rf.current=null,function(lt,je){if(Li=Al,ks(lt=Da())){if("selectionStart"in lt)var De={start:lt.selectionStart,end:lt.selectionEnd};else e:{var Le=(De=(De=lt.ownerDocument)&&De.defaultView||window).getSelection&&De.getSelection();if(Le&&Le.rangeCount!==0){De=Le.anchorNode;var nt=Le.anchorOffset,Nt=Le.focusNode;Le=Le.focusOffset;try{De.nodeType,Nt.nodeType}catch{De=null;break e}var Un=0,Ft=-1,Nn=-1,Or=0,Mr=0,Gr=lt,Wo=null;t:for(;;){for(var bg;Gr!==De||nt!==0&&Gr.nodeType!==3||(Ft=Un+nt),Gr!==Nt||Le!==0&&Gr.nodeType!==3||(Nn=Un+Le),Gr.nodeType===3&&(Un+=Gr.nodeValue.length),(bg=Gr.firstChild)!==null;)Wo=Gr,Gr=bg;for(;;){if(Gr===lt)break t;if(Wo===De&&++Or===nt&&(Ft=Un),Wo===Nt&&++Mr===Le&&(Nn=Un),(bg=Gr.nextSibling)!==null)break;Wo=(Gr=Wo).parentNode}Gr=bg}De=Ft===-1||Nn===-1?null:{start:Ft,end:Nn}}else De=null}De=De||{start:0,end:0}}else De=null;for(fo={focusedElem:lt,selectionRange:De},Al=!1,Tt=je;Tt!==null;)if(lt=(je=Tt).child,1028&je.subtreeFlags&&lt!==null)lt.return=je,Tt=lt;else for(;Tt!==null;){je=Tt;try{var Lg=je.alternate;if(1024&je.flags)switch(je.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Lg!==null){var Mm=Lg.memoizedProps,pw=Lg.memoizedState,s0=je.stateNode,C=s0.getSnapshotBeforeUpdate(je.elementType===je.type?Mm:xu(je.type,Mm),pw);s0.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=je.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(t(163))}}catch(B){P(je,je.return,B)}if((lt=je.sibling)!==null){lt.return=je.return,Tt=lt;break}Tt=je.return}return Lg=mt,mt=!1,Lg}(X,pe),mh(pe,X),Ai(fo),Al=!!Li,fo=Li=null,X.current=pe,An(pe),Lu(),Sn=it,Hn=Je,On.transition=qe}else X.current=pe;if(Hc&&(Hc=!1,Ds=X,ec=Ve),qe=X.pendingLanes,qe===0&&(qu=null),function(lt){if(jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(Qt,lt,void 0,!(128&~lt.current.flags))}catch{}}(pe.stateNode),Ir(X,Br()),le!==null)for(_e=X.onRecoverableError,pe=0;pe<le.length;pe++)Ve=le[pe],_e(Ve.value,{componentStack:Ve.stack,digest:Ve.digest});if(Yn)throw Yn=!1,X=bc,bc=null,X;return 1&ec&&X.tag!==0&&m(),qe=X.pendingLanes,1&qe?X===gf?Cs++:(Cs=0,gf=X):Cs=0,Ps(),null}(h,d,S,T)}finally{On.transition=$,Hn=T}return null}function m(){if(Ds!==null){var h=Xo(ec),d=On.transition,S=Hn;try{if(On.transition=null,Hn=16>h?16:h,Ds===null)var T=!1;else{if(h=Ds,Ds=null,ec=0,6&Sn)throw Error(t(331));var $=Sn;for(Sn|=4,Tt=h.current;Tt!==null;){var q=Tt,X=q.child;if(16&Tt.flags){var le=q.deletions;if(le!==null){for(var pe=0;pe<le.length;pe++){var _e=le[pe];for(Tt=_e;Tt!==null;){var Ve=Tt;switch(Ve.tag){case 0:case 11:case 15:Du(8,Ve,q)}var qe=Ve.child;if(qe!==null)qe.return=Ve,Tt=qe;else for(;Tt!==null;){var Je=(Ve=Tt).sibling,it=Ve.return;if(Ot(Ve),Ve===_e){Tt=null;break}if(Je!==null){Je.return=it,Tt=Je;break}Tt=it}}}var yt=q.alternate;if(yt!==null){var lt=yt.child;if(lt!==null){yt.child=null;do{var je=lt.sibling;lt.sibling=null,lt=je}while(lt!==null)}}Tt=q}}if(2064&q.subtreeFlags&&X!==null)X.return=q,Tt=X;else e:for(;Tt!==null;){if(2048&(q=Tt).flags)switch(q.tag){case 0:case 11:case 15:Du(9,q,q.return)}var De=q.sibling;if(De!==null){De.return=q.return,Tt=De;break e}Tt=q.return}}var Le=h.current;for(Tt=Le;Tt!==null;){var nt=(X=Tt).child;if(2064&X.subtreeFlags&&nt!==null)nt.return=X,Tt=nt;else e:for(X=Le;Tt!==null;){if(2048&(le=Tt).flags)try{switch(le.tag){case 0:case 11:case 15:xr(9,le)}}catch(Un){P(le,le.return,Un)}if(le===X){Tt=null;break e}var Nt=le.sibling;if(Nt!==null){Nt.return=le.return,Tt=Nt;break e}Tt=le.return}}if(Sn=$,Ps(),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(Qt,h)}catch{}T=!0}return T}finally{Hn=S,On.transition=d}}return!1}function x(h,d,S){h=ys(h,d=Zl(0,d=yl(S,d),1),1),d=er(),h!==null&&(hu(h,1,d),Ir(h,d))}function P(h,d,S){if(h.tag===3)x(h,h,S);else for(;d!==null;){if(d.tag===3){x(d,h,S);break}if(d.tag===1){var T=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(qu===null||!qu.has(T))){d=ys(d,h=hf(d,h=yl(S,h),1),1),h=er(),d!==null&&(hu(d,1,h),Ir(d,h));break}}d=d.return}}function L(h,d,S){var T=h.pingCache;T!==null&&T.delete(d),d=er(),h.pingedLanes|=h.suspendedLanes&S,zi===h&&(Io&S)===S&&(ro===4||ro===3&&(130023424&Io)===Io&&500>Br()-wc?a(h,0):Pu|=S),Ir(h,d)}function H(h,d){d===0&&(1&h.mode?(d=Nf,!(130023424&(Nf<<=1))&&(Nf=4194304)):d=1);var S=er();(h=Is(h,d))!==null&&(hu(h,d,S),Ir(h,S))}function V(h){var d=h.memoizedState,S=0;d!==null&&(S=d.retryLane),H(h,S)}function Y(h,d){var S=0;switch(h.tag){case 13:var T=h.stateNode,$=h.memoizedState;$!==null&&(S=$.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(t(314))}T!==null&&T.delete(d),H(h,S)}function re(h,d){return cu(h,d)}function ne(h,d,S,T){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ce(h,d,S,T){return new ne(h,d,S,T)}function me(h){return!(!(h=h.prototype)||!h.isReactComponent)}function be(h,d){var S=h.alternate;return S===null?((S=ce(h.tag,d,h.key,h.mode)).elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=d,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=14680064&h.flags,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,d=h.dependencies,S.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function we(h,d,S,T,$,q){var X=2;if(T=h,typeof h=="function")me(h)&&(X=1);else if(typeof h=="string")X=5;else e:switch(h){case W:return Te(S.children,$,q,d);case J:X=8,$|=8;break;case G:return(h=ce(12,S,d,2|$)).elementType=G,h.lanes=q,h;case se:return(h=ce(13,S,d,$)).elementType=se,h.lanes=q,h;case ge:return(h=ce(19,S,d,$)).elementType=ge,h.lanes=q,h;case Ce:return Ge(S,$,q,d);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case Q:X=10;break e;case te:X=9;break e;case ae:X=11;break e;case xe:X=14;break e;case Pe:X=16,T=null;break e}throw Error(t(130,h==null?h:typeof h,""))}return(d=ce(X,S,d,$)).elementType=h,d.type=T,d.lanes=q,d}function Te(h,d,S,T){return(h=ce(7,h,T,d)).lanes=S,h}function Ge(h,d,S,T){return(h=ce(22,h,T,d)).elementType=Ce,h.lanes=S,h.stateNode={isHidden:!1},h}function Ie(h,d,S){return(h=ce(6,h,null,d)).lanes=S,h}function Xe(h,d,S){return(d=ce(4,h.children!==null?h.children:[],h.key,d)).lanes=S,d.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},d}function Ye(h,d,S,T,$){this.tag=d,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rr(0),this.expirationTimes=Rr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rr(0),this.identifierPrefix=T,this.onRecoverableError=$,this.mutableSourceEagerHydrationData=null}function rt(h,d,S,T,$,q,X,le,pe){return h=new Ye(h,d,S,le,pe),d===1?(d=1,q===!0&&(d|=8)):d=0,q=ce(3,null,null,d),h.current=q,q.stateNode=h,q.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},gc(q),h}function St(h){if(!h)return mu;e:{if(Ua(h=h._reactInternals)!==h||h.tag!==1)throw Error(t(170));var d=h;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Ji(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(t(171))}if(h.tag===1){var S=h.type;if(Ji(S))return Fs(h,S,d)}return d}function Mt(h,d,S,T,$,q,X,le,pe){return(h=rt(S,T,!0,h,0,q,0,le,pe)).context=St(null),S=h.current,(q=wr(T=er(),$=Ko(S))).callback=d??null,ys(S,q,$),h.current.lanes=$,hu(h,$,T),Ir(h,T),h}function en(h,d,S,T){var $=d.current,q=er(),X=Ko($);return S=St(S),d.context===null?d.context=S:d.pendingContext=S,(d=wr(q,X)).payload={element:h},(T=T===void 0?null:T)!==null&&(d.callback=T),(h=ys($,d,X))!==null&&(ci(h,$,X,q),yu(h,$,X)),X}function qt(h){return(h=h.current).child?(h.child.tag,h.child.stateNode):null}function It(h,d){if((h=h.memoizedState)!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<d?S:d}}function Zt(h,d){It(h,d),(h=h.alternate)&&It(h,d)}oh=function(h,d,S){if(h!==null)if(h.memoizedProps!==d.pendingProps||Mi.current)_o=!0;else{if(!(h.lanes&S||128&d.flags))return _o=!1,function(Je,it,yt){switch(it.tag){case 3:Bh(it),qs();break;case 5:Ol(it);break;case 1:Ji(it.type)&&du(it);break;case 4:st(it,it.stateNode.containerInfo);break;case 10:var lt=it.type._context,je=it.memoizedProps.value;Qn(ca,lt._currentValue),lt._currentValue=je;break;case 13:if((lt=it.memoizedState)!==null)return lt.dehydrated!==null?(Qn(ar,1&ar.current),it.flags|=128,null):yt&it.child.childLanes?Nr(Je,it,yt):(Qn(ar,1&ar.current),(Je=_r(Je,it,yt))!==null?Je.sibling:null);Qn(ar,1&ar.current);break;case 19:if(lt=!!(yt&it.childLanes),128&Je.flags){if(lt)return Wt(Je,it,yt);it.flags|=128}if((je=it.memoizedState)!==null&&(je.rendering=null,je.tail=null,je.lastEffect=null),Qn(ar,ar.current),lt)break;return null;case 22:case 23:return it.lanes=0,vc(Je,it,yt)}return _r(Je,it,yt)}(h,d,S);_o=!!(131072&h.flags)}else _o=!1,pr&&1048576&d.flags&&So(d,tn,d.index);switch(d.lanes=0,d.tag){case 2:var T=d.type;tr(h,d),h=d.pendingProps;var $=ku(d,ki.current);to(d,S),$=qr(null,d,T,h,$,S);var q=Fu();return d.flags|=1,typeof $=="object"&&$!==null&&typeof $.render=="function"&&$.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Ji(T)?(q=!0,du(d)):q=!1,d.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,gc(d),$.updater=ff,d.stateNode=$,$._reactInternals=d,zf(d,T,h,S),d=tf(null,d,T,!0,q,S)):(d.tag=0,pr&&q&&nu(d),Ra(null,d,$,S),d=d.child),d;case 16:T=d.elementType;e:{switch(tr(h,d),h=d.pendingProps,T=($=T._init)(T._payload),d.type=T,$=d.tag=function(Je){if(typeof Je=="function")return me(Je)?1:0;if(Je!=null){if((Je=Je.$$typeof)===ae)return 11;if(Je===xe)return 14}return 2}(T),h=xu(T,h),$){case 0:d=Ll(null,d,T,h,S);break e;case 1:d=Kr(null,d,T,h,S);break e;case 11:d=jl(null,d,T,h,S);break e;case 14:d=ws(null,d,T,xu(T.type,h),S);break e}throw Error(t(306,T,""))}return d;case 0:return T=d.type,$=d.pendingProps,Ll(h,d,T,$=d.elementType===T?$:xu(T,$),S);case 1:return T=d.type,$=d.pendingProps,Kr(h,d,T,$=d.elementType===T?$:xu(T,$),S);case 3:e:{if(Bh(d),h===null)throw Error(t(387));T=d.pendingProps,$=(q=d.memoizedState).element,Il(h,d),dl(d,T,null,S);var X=d.memoizedState;if(T=X.element,q.isDehydrated){if(q={element:T,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},d.updateQueue.baseState=q,d.memoizedState=q,256&d.flags){d=To(h,d,T,S,$=yl(Error(t(423)),d));break e}if(T!==$){d=To(h,d,T,S,$=yl(Error(t(424)),d));break e}for(so=Ha(d.stateNode.containerInfo.firstChild),zr=d,pr=!0,Sr=null,S=ml(d,null,T,S),d.child=S;S;)S.flags=-3&S.flags|4096,S=S.sibling}else{if(qs(),T===$){d=_r(h,d,S);break e}Ra(h,d,T,S)}d=d.child}return d;case 5:return Ol(d),h===null&&gl(d),T=d.type,$=d.pendingProps,q=h!==null?h.memoizedProps:null,X=$.children,uf(T,$)?X=null:q!==null&&uf(T,q)&&(d.flags|=32),ef(h,d),Ra(h,d,X,S),d.child;case 6:return h===null&&gl(d),null;case 13:return Nr(h,d,S);case 4:return st(d,d.stateNode.containerInfo),T=d.pendingProps,h===null?d.child=Va(d,null,T,S):Ra(h,d,T,S),d.child;case 11:return T=d.type,$=d.pendingProps,jl(h,d,T,$=d.elementType===T?$:xu(T,$),S);case 7:return Ra(h,d,d.pendingProps,S),d.child;case 8:case 12:return Ra(h,d,d.pendingProps.children,S),d.child;case 10:e:{if(T=d.type._context,$=d.pendingProps,q=d.memoizedProps,X=$.value,Qn(ca,T._currentValue),T._currentValue=X,q!==null)if(wn(q.value,X)){if(q.children===$.children&&!Mi.current){d=_r(h,d,S);break e}}else for((q=d.child)!==null&&(q.return=d);q!==null;){var le=q.dependencies;if(le!==null){X=q.child;for(var pe=le.firstContext;pe!==null;){if(pe.context===T){if(q.tag===1){(pe=wr(-1,S&-S)).tag=2;var _e=q.updateQueue;if(_e!==null){var Ve=(_e=_e.shared).pending;Ve===null?pe.next=pe:(pe.next=Ve.next,Ve.next=pe),_e.pending=pe}}q.lanes|=S,(pe=q.alternate)!==null&&(pe.lanes|=S),$i(q.return,S,d),le.lanes|=S;break}pe=pe.next}}else if(q.tag===10)X=q.type===d.type?null:q.child;else if(q.tag===18){if((X=q.return)===null)throw Error(t(341));X.lanes|=S,(le=X.alternate)!==null&&(le.lanes|=S),$i(X,S,d),X=q.sibling}else X=q.child;if(X!==null)X.return=q;else for(X=q;X!==null;){if(X===d){X=null;break}if((q=X.sibling)!==null){q.return=X.return,X=q;break}X=X.return}q=X}Ra(h,d,$.children,S),d=d.child}return d;case 9:return $=d.type,T=d.pendingProps.children,to(d,S),T=T($=ho($)),d.flags|=1,Ra(h,d,T,S),d.child;case 14:return $=xu(T=d.type,d.pendingProps),ws(h,d,T,$=xu(T.type,$),S);case 15:return gh(h,d,d.type,d.pendingProps,S);case 17:return T=d.type,$=d.pendingProps,$=d.elementType===T?$:xu(T,$),tr(h,d),d.tag=1,Ji(T)?(h=!0,du(d)):h=!1,to(d,S),Wc(d,T,$),zf(d,T,$,S),tf(null,d,T,!0,h,S);case 19:return Wt(h,d,S);case 22:return vc(h,d,S)}throw Error(t(156,d.tag))};var yr=typeof reportError=="function"?reportError:function(h){console.error(h)};function cr(h){this._internalRoot=h}function fi(h){this._internalRoot=h}function Gn(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function Uo(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function fr(){}function Ga(h,d,S,T,$){var q=S._reactRootContainer;if(q){var X=q;if(typeof $=="function"){var le=$;$=function(){var pe=qt(X);le.call(pe)}}en(d,X,h,$)}else X=function(_e,Ve,qe,Je,it){if(it){if(typeof Je=="function"){var yt=Je;Je=function(){var Le=qt(lt);yt.call(Le)}}var lt=Mt(Ve,Je,_e,0,null,!1,0,"",fr);return _e._reactRootContainer=lt,_e[Lo]=lt.current,Di(_e.nodeType===8?_e.parentNode:_e),$l(),lt}for(;it=_e.lastChild;)_e.removeChild(it);if(typeof Je=="function"){var je=Je;Je=function(){var Le=qt(De);je.call(Le)}}var De=rt(_e,0,!1,null,0,!1,0,"",fr);return _e._reactRootContainer=De,_e[Lo]=De.current,Di(_e.nodeType===8?_e.parentNode:_e),$l(function(){en(Ve,De,qe,Je)}),De}(S,d,h,$,T);return qt(X)}fi.prototype.render=cr.prototype.render=function(h){var d=this._internalRoot;if(d===null)throw Error(t(409));en(h,d,null,null)},fi.prototype.unmount=cr.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var d=h.containerInfo;$l(function(){en(null,h,null,null)}),d[Lo]=null}},fi.prototype.unstable_scheduleHydration=function(h){if(h){var d=Qf();h={blockedOn:null,target:h,priority:d};for(var S=0;S<es.length&&d!==0&&d<es[S].priority;S++);es.splice(S,0,h),S===0&&Wl(h)}},af=function(h){switch(h.tag){case 3:var d=h.stateNode;if(d.current.memoizedState.isDehydrated){var S=Bt(d.pendingLanes);S!==0&&(Ei(d,1|S),Ir(d,Br()),!(6&Sn)&&(Tu=Br()+500,Ps()))}break;case 13:$l(function(){var T=Is(h,1);if(T!==null){var $=er();ci(T,h,1,$)}}),Zt(h,1)}},cc=function(h){if(h.tag===13){var d=Is(h,134217728);d!==null&&ci(d,h,134217728,er()),Zt(h,134217728)}},Rn=function(h){if(h.tag===13){var d=Ko(h),S=Is(h,d);S!==null&&ci(S,h,d,er()),Zt(h,d)}},Qf=function(){return Hn},jr=function(h,d){var S=Hn;try{return Hn=h,d()}finally{Hn=S}},ju=function(h,d,S){switch(d){case"input":if($a(h,S),d=S.name,S.type==="radio"&&d!=null){for(S=h;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<S.length;d++){var T=S[d];if(T!==h&&T.form===h.form){var $=Ci(T);if(!$)throw Error(t(90));un(T),$a(T,$)}}}break;case"textarea":He(h,S);break;case"select":(d=S.value)!=null&&Se(h,!!S.multiple,d,!1)}},Dl=mf,Cl=$l;var ep={usingClientEntryPoint:!1,Events:[as,Ea,Ci,zl,Ss,mf]},Wf={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tp={bundleType:Wf.bundleType,version:Wf.version,rendererPackageName:Wf.rendererPackageName,rendererConfig:Wf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return(h=sl(h))===null?null:h.stateNode},findFiberByHostInstance:Wf.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Qt=sc.inject(tp),jt=sc}catch{}}return Cg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ep,Cg.createPortal=function(h,d){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gn(d))throw Error(t(200));return function($,q,X){var le=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:z,key:le==null?null:""+le,children:$,containerInfo:q,implementation:X}}(h,d,null,S)},Cg.createRoot=function(h,d){if(!Gn(h))throw Error(t(299));var S=!1,T="",$=yr;return d!=null&&(d.unstable_strictMode===!0&&(S=!0),d.identifierPrefix!==void 0&&(T=d.identifierPrefix),d.onRecoverableError!==void 0&&($=d.onRecoverableError)),d=rt(h,1,!1,null,0,S,0,T,$),h[Lo]=d.current,Di(h.nodeType===8?h.parentNode:h),new cr(d)},Cg.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var d=h._reactInternals;if(d===void 0)throw typeof h.render=="function"?Error(t(188)):(h=Object.keys(h).join(","),Error(t(268,h)));return h=(h=sl(d))===null?null:h.stateNode},Cg.flushSync=function(h){return $l(h)},Cg.hydrate=function(h,d,S){if(!Uo(d))throw Error(t(200));return Ga(null,h,d,!0,S)},Cg.hydrateRoot=function(h,d,S){if(!Gn(h))throw Error(t(405));var T=S!=null&&S.hydratedSources||null,$=!1,q="",X=yr;if(S!=null&&(S.unstable_strictMode===!0&&($=!0),S.identifierPrefix!==void 0&&(q=S.identifierPrefix),S.onRecoverableError!==void 0&&(X=S.onRecoverableError)),d=Mt(d,null,h,1,S??null,$,0,q,X),h[Lo]=d.current,Di(h),T)for(h=0;h<T.length;h++)$=($=(S=T[h])._getVersion)(S._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[S,$]:d.mutableSourceEagerHydrationData.push(S,$);return new fi(d)},Cg.render=function(h,d,S){if(!Uo(d))throw Error(t(200));return Ga(null,h,d,!1,S)},Cg.unmountComponentAtNode=function(h){if(!Uo(h))throw Error(t(40));return!!h._reactRootContainer&&($l(function(){Ga(null,null,h,!1,function(){h._reactRootContainer=null,h[Lo]=null})}),!0)},Cg.unstable_batchedUpdates=mf,Cg.unstable_renderSubtreeIntoContainer=function(h,d,S,T){if(!Uo(S))throw Error(t(200));if(h==null||h._reactInternals===void 0)throw Error(t(38));return Ga(h,d,S,!1,T)},Cg.version="18.3.1-next-f1338f8080-20240426",Cg}var P9,sH=function(){return P9||(P9=1,function e(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),E9.exports=$se()),E9.exports}(),zse=jse(sH),Sk=()=>Math.random().toString(36).substring(7).split("").join(".");`${Sk()}`,`${Sk()}`;var T9,I9={exports:{}},_k={},O9;/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){return O9||(O9=1,I9.exports=function(){if(T9)return _k;T9=1;var t=qi,r=typeof Object.is=="function"?Object.is:function(f,g){return f===g&&(f!==0||1/f==1/g)||f!=f&&g!=g},i=t.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return _k.useSyncExternalStoreWithSelector=function(p,f,g,y,b){var _=o(null);if(_.current===null){var M={hasValue:!1,value:null};_.current=M}else M=_.current;_=u(function(){function O(G){if(!W){if(W=!0,j=G,G=y(G),b!==void 0&&M.hasValue){var Q=M.value;if(b(Q,G))return z=Q}return z=G}if(Q=z,r(j,G))return Q;var te=y(G);return b!==void 0&&b(Q,te)?Q:(j=G,z=te)}var j,z,W=!1,J=g===void 0?null:g;return[function(){return O(f())},J===null?void 0:function(){return O(J())}]},[f,g,y,b]);var F=i(p,_[0],_[1]);return s(function(){M.hasValue=!0,M.value=F},[F]),c(F),F},_k}()),I9.exports})();var _f="default"in kS?qi:kS,N9=Symbol.for("react-redux-context"),B9=typeof globalThis<"u"?globalThis:{};function Use(){if(!_f.createContext)return{};const n=B9[N9]??(B9[N9]=new Map);let e=n.get(_f.createContext);return e||(e=_f.createContext(null),n.set(_f.createContext,e)),e}var Wse=Use(),Hse=Symbol.for("react.element"),Vse=Symbol.for("react.portal"),qse=Symbol.for("react.fragment"),Kse=Symbol.for("react.strict_mode"),Gse=Symbol.for("react.profiler"),Yse=Symbol.for("react.provider"),Jse=Symbol.for("react.context"),Xse=Symbol.for("react.server_context"),uH=Symbol.for("react.forward_ref"),Qse=Symbol.for("react.suspense"),Zse=Symbol.for("react.suspense_list"),yO=Symbol.for("react.memo"),eue=Symbol.for("react.lazy"),tue=uH,nue=yO;function rue(n){if(typeof n=="object"&&n!==null){const e=n.$$typeof;switch(e){case Hse:{const t=n.type;switch(t){case qse:case Gse:case Kse:case Qse:case Zse:return t;default:{const r=t&&t.$$typeof;switch(r){case Xse:case Jse:case uH:case eue:case yO:case Yse:return r;default:return e}}}}case Vse:return e}}}function iue(n,e,t,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let u,c,p,f,g,y=!1;function b(_,M){const F=!o(M,c),O=!i(_,u,M,c);return u=_,c=M,F&&O?function(){return p=n(u,c),e.dependsOnOwnProps&&(f=e(r,c)),g=t(p,f,c),g}():F?function(){return n.dependsOnOwnProps&&(p=n(u,c)),e.dependsOnOwnProps&&(f=e(r,c)),g=t(p,f,c),g}():O?function(){const z=n(u,c),W=!s(z,p);return p=z,W&&(g=t(p,f,c)),g}():g}return function(M,F){return y?b(M,F):function(j,z){return u=j,c=z,p=n(u,c),f=e(r,c),g=t(p,f,c),y=!0,g}(M,F)}}function oue(n,{initMapStateToProps:e,initMapDispatchToProps:t,initMergeProps:r,...i}){const o=e(n,i),s=t(n,i),u=r(n,i);return iue(o,s,u,n,i)}function Ek(n){return function(t){const r=n(t);function i(){return r}return i.dependsOnOwnProps=!1,i}}function R9(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function j9(n,e){return function(r,{displayName:i}){const o=function(u,c){return o.dependsOnOwnProps?o.mapToProps(u,c):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,c){o.mapToProps=n,o.dependsOnOwnProps=R9(n);let p=o(u,c);return typeof p=="function"&&(o.mapToProps=p,o.dependsOnOwnProps=R9(p),p=o(u,c)),p},o}}function OP(n,e){return(t,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function aue(n,e,t){return{...t,...n,...e}}function sue(n){return n?typeof n=="function"?function(t){return function(i,{displayName:o,areMergedPropsEqual:s}){let u,c=!1;return function(f,g,y){const b=t(f,g,y);return c?s(b,u)||(u=b):(c=!0,u=b),u}}}(n):OP(n,"mergeProps"):()=>aue}var L9={notify(){},get:()=>[]};function uue(n,e){let t,r=L9,i=0,o=!1;function s(){p.onStateChange&&p.onStateChange()}function u(){i++,t||(t=e?e.addNestedSub(s):n.subscribe(s),r=function(){let g=null,y=null;return{clear(){g=null,y=null},notify(){(function(_){_()})(()=>{let b=g;for(;b;)b.callback(),b=b.next})},get(){const b=[];let _=g;for(;_;)b.push(_),_=_.next;return b},subscribe(b){let _=!0;const M=y={callback:b,next:null,prev:y};return M.prev?M.prev.next=M:g=M,function(){_&&g!==null&&(_=!1,M.next?M.next.prev=M.prev:y=M.prev,M.prev?M.prev.next=M.next:g=M.next)}}}}())}function c(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=L9)}const p={addNestedSub:function(g){u();const y=r.subscribe(g);let b=!1;return()=>{b||(b=!0,y(),c())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,u())},tryUnsubscribe:function(){o&&(o=!1,c())},getListeners:()=>r};return p}var lue=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),cue=typeof navigator<"u"&&navigator.product==="ReactNative",Ak=lue||cue?_f.useLayoutEffect:_f.useEffect;function $9(n,e){return n===e?n!==0||e!==0||1/n==1/e:n!=n&&e!=e}function kk(n,e){if($9(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!$9(n[t[i]],e[t[i]]))return!1;return!0}var fue={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},hue={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},lH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pue={[tue]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[nue]:lH};function z9(n){return function(t){return rue(t)===yO}(n)?lH:pue[n.$$typeof]||fue}var gue=Object.defineProperty,mue=Object.getOwnPropertyNames,U9=Object.getOwnPropertySymbols,due=Object.getOwnPropertyDescriptor,vue=Object.getPrototypeOf,W9=Object.prototype;function NP(n,e){if(typeof e!="string"){if(W9){const o=vue(e);o&&o!==W9&&NP(n,o)}let t=mue(e);U9&&(t=t.concat(U9(e)));const r=z9(n),i=z9(e);for(let o=0;o<t.length;++o){const s=t[o];if(!(hue[s]||i&&i[s]||r&&r[s])){const u=due(e,s);try{gue(n,s,u)}catch{}}}}return n}var cH=()=>{throw new Error("uSES not initialized!")},yue=[null,null];function wue(n,e,t,r,i,o){n.current=r,t.current=!1,i.current&&(i.current=null,o())}function bue(n,e){return n===e}var fH=function(e,t,r,{pure:i,areStatesEqual:o=bue,areOwnPropsEqual:s=kk,areStatePropsEqual:u=kk,areMergedPropsEqual:c=kk,forwardRef:p=!1,context:f=Wse}={}){const g=f,y=function(O){return O?typeof O=="function"?j9(O):OP(O,"mapStateToProps"):Ek(()=>({}))}(e),b=function(O){return O&&typeof O=="object"?Ek(j=>function(W,J){const G={};for(const Q in W){const te=W[Q];typeof te=="function"&&(G[Q]=(...ae)=>J(te(...ae)))}return G}(O,j)):O?typeof O=="function"?j9(O):OP(O,"mapDispatchToProps"):Ek(j=>({dispatch:j}))}(t),_=sue(r),M=!!e;return F=>{const O=F.displayName||F.name||"Component",j=`Connect(${O})`,z={shouldHandleStateChanges:M,displayName:j,wrappedComponentName:O,WrappedComponent:F,initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:_,areStatesEqual:o,areStatePropsEqual:u,areOwnPropsEqual:s,areMergedPropsEqual:c};function W(G){const[Q,te,ae]=_f.useMemo(()=>{const{reactReduxForwardedRef:Fn,...wi}=G;return[G.context,Fn,wi]},[G]),se=_f.useMemo(()=>{let Fn=g;return Q!=null&&Q.Consumer,Fn},[Q,g]),ge=_f.useContext(se),xe=!!G.store&&!!G.store.getState&&!!G.store.dispatch,Pe=!!ge&&!!ge.store,Ce=xe?G.store:ge.store,Me=Pe?ge.getServerState:Ce.getState,Oe=_f.useMemo(()=>oue(Ce.dispatch,z),[Ce]),[et,$e]=_f.useMemo(()=>{if(!M)return yue;const Fn=uue(Ce,xe?void 0:ge.subscription),wi=Fn.notifyNestedSubs.bind(Fn);return[Fn,wi]},[Ce,xe,ge]),Fe=_f.useMemo(()=>xe?ge:{...ge,subscription:et},[xe,ge,et]),Ne=_f.useRef(void 0),Ee=_f.useRef(ae),Ze=_f.useRef(void 0),xt=_f.useRef(!1),wt=_f.useRef(!1),Dt=_f.useRef(void 0);Ak(()=>(wt.current=!0,()=>{wt.current=!1}),[]);const rn=_f.useMemo(()=>()=>Ze.current&&ae===Ee.current?Ze.current:Oe(Ce.getState(),ae),[Ce,ae]),an=_f.useMemo(()=>Fn=>et?function(js,$a,fe,ue,ve,Se,Re,Be,He,We,ot){if(!js)return()=>{};let gt=!1,bt=null;const fn=()=>{if(gt||!Be.current)return;const kn=$a.getState();let yn,At;try{yn=ue(kn,ve.current)}catch(Ui){At=Ui,bt=Ui}At||(bt=null),yn===Se.current?Re.current||We():(Se.current=yn,He.current=yn,Re.current=!0,ot())};return fe.onStateChange=fn,fe.trySubscribe(),fn(),()=>{if(gt=!0,fe.tryUnsubscribe(),fe.onStateChange=null,bt)throw bt}}(M,Ce,et,Oe,Ee,Ne,xt,wt,Ze,$e,Fn):()=>{},[et]);let un;(function(wi,js,$a){Ak(()=>wi(...js),$a)})(wue,[Ee,Ne,xt,ae,Ze,$e]);try{un=cH(an,rn,Me?()=>Oe(Me(),ae):rn)}catch(Fn){throw Dt.current&&(Fn.message+=`
The error may be correlated with this previous error:
${Dt.current.stack}

`),Fn}Ak(()=>{Dt.current=void 0,Ze.current=void 0,Ne.current=un});const ur=_f.useMemo(()=>_f.createElement(F,{...un,ref:te}),[te,F,un]);return _f.useMemo(()=>M?_f.createElement(se.Provider,{value:Fe},ur):ur,[se,ur,Fe])}const J=_f.memo(W);if(J.WrappedComponent=F,J.displayName=W.displayName=j,p){const G=_f.forwardRef(function(te,ae){return _f.createElement(J,{...te,reactReduxForwardedRef:ae})});return G.displayName=j,G.WrappedComponent=F,NP(G,F)}return NP(J,F)}};function hH(n,e){var t=at.useState(function(){return{inputs:e,result:n()}})[0],r=at.useRef(!0),i=at.useRef(t),o=r.current||!!(e&&i.current.inputs&&function(c,p){if(c.length!==p.length)return!1;for(var f=0;f<c.length;f++)if(c[f]!==p[f])return!1;return!0}(e,i.current.inputs)),s=o?i.current:{inputs:e,result:n()};return at.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}(n=>{cH=n})(at.useSyncExternalStore);var ig=hH,bp=function(e,t){return hH(function(){return e},t)},xue="Invariant failed";function Due(n,e){throw new Error(xue)}var c1=function(e){var t=e.top,r=e.right,i=e.bottom,o=e.left;return{top:t,right:r,bottom:i,left:o,width:r-o,height:i-t,x:o,y:t,center:{x:(r+o)/2,y:(i+t)/2}}},pH=function(e,t){return{top:e.top-t.top,left:e.left-t.left,bottom:e.bottom+t.bottom,right:e.right+t.right}},H9=function(e,t){return{top:e.top+t.top,left:e.left+t.left,bottom:e.bottom-t.bottom,right:e.right-t.right}},Mk={top:0,right:0,bottom:0,left:0},wO=function(e){var t=e.borderBox,r=e.margin,i=r===void 0?Mk:r,o=e.border,s=o===void 0?Mk:o,u=e.padding,c=u===void 0?Mk:u,p=c1(pH(t,i)),f=c1(H9(t,s)),g=c1(H9(f,c));return{marginBox:p,borderBox:c1(t),paddingBox:f,contentBox:g,margin:i,border:s,padding:c}},fm=function(e){var t=e.slice(0,-2);if(e.slice(-2)!=="px")return 0;var r=Number(t);return isNaN(r)&&Due(),r},Cue=function(e,t){var r=e.borderBox,i=e.border,o=e.margin,s=e.padding,u=function(p,f){return{top:p.top+f.y,left:p.left+f.x,bottom:p.bottom+f.y,right:p.right+f.x}}(r,t);return wO({borderBox:u,border:i,margin:o,padding:s})},BP=function(e,t){return t===void 0&&(t=function(){return{x:window.pageXOffset,y:window.pageYOffset}}()),Cue(e,t)},gH=function(e,t){var r={top:fm(t.marginTop),right:fm(t.marginRight),bottom:fm(t.marginBottom),left:fm(t.marginLeft)},i={top:fm(t.paddingTop),right:fm(t.paddingRight),bottom:fm(t.paddingBottom),left:fm(t.paddingLeft)},o={top:fm(t.borderTopWidth),right:fm(t.borderRightWidth),bottom:fm(t.borderBottomWidth),left:fm(t.borderLeftWidth)};return wO({borderBox:e,margin:r,padding:i,border:o})},V9=function(e){var t=e.getBoundingClientRect(),r=window.getComputedStyle(e);return gH(t,r)},q9=Number.isNaN||function(e){return typeof e=="number"&&e!=e};function Sue(n,e){if(n.length!==e.length)return!1;for(var t=0;t<n.length;t++)if(r=n[t],i=e[t],!(r===i||q9(r)&&q9(i)))return!1;var r,i;return!0}function Op(n,e){e===void 0&&(e=Sue);var t=null;function r(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(t&&t.lastThis===this&&e(i,t.lastArgs))return t.lastResult;var s=n.apply(this,i);return t={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){t=null},r}var _ue=function(e){var t=[],r=null,i=function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];t=u,r||(r=requestAnimationFrame(function(){r=null,e.apply(void 0,t)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function mH(n,e){}mH.bind(null,"warn");mH.bind(null,"error");function Eue(){}function Aue(n,e,t){const r=e.map(i=>{const o=function(u,c){return{...u,...c}}(t,i.options);return n.addEventListener(i.eventName,i.fn,o),function(){n.removeEventListener(i.eventName,i.fn,o)}});return function(){r.forEach(o=>{o()})}}const kue="Invariant failed";class P_ extends Error{}function Yg(n,e){throw new P_(kue)}P_.prototype.toString=function(){return this.message};class Eve extends qi.Component{constructor(...e){super(...e),this.callbacks=null,this.unbind=Eue,this.onWindowError=t=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),t.error instanceof P_&&t.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=t=>{this.callbacks=t}}componentDidMount(){this.unbind=Aue(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(e){if(e instanceof P_)return void this.setState({});throw e}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const my={x:0,y:0},Mue=(n,e)=>({x:n.x-e.x,y:n.y-e.y}),Fue=(n,e)=>n.x===e.x&&n.y===e.y,Pue=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),Tue=(n,e,t=0)=>n==="x"?{x:e,y:t}:{x:t,y:e},Iue=(n,e)=>({top:n.top+e.y,left:n.left+e.x,bottom:n.bottom+e.y,right:n.right+e.x}),Oue=(n,e)=>e&&e.shouldClipSubject?((t,r)=>{const i=c1({top:Math.max(r.top,t.top),right:Math.min(r.right,t.right),bottom:Math.min(r.bottom,t.bottom),left:Math.max(r.left,t.left)});return i.width<=0||i.height<=0?null:i})(e.pageMarginBox,n):c1(n);var Nue=({page:n,withPlaceholder:e,axis:t,frame:r})=>{const i=((s,u)=>u?Iue(s,u.scroll.diff.displacement):s)(n.marginBox,r),o=((s,u,c)=>c&&c.increasedBy?{...s,[u.end]:s[u.end]+c.increasedBy[u.line]}:s)(i,t,e);return{page:n,withPlaceholder:e,active:Oue(o,r)}};Op(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{}));Op(n=>n.reduce((e,t)=>(e[t.descriptor.id]=t,e),{}));const Bue=Op(n=>Object.values(n)),Rue=Op(n=>Object.values(n));Op((n,e)=>Rue(e).filter(r=>n===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function jue(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}Op((n,e)=>e.filter(t=>t.descriptor.id!==n.descriptor.id));const Lue={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},$ue={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};Op(function(e,t){const r=t[e.line];return{value:r,point:Tue(e.line,r)}});var cS=n=>{const e=n.at;return e?e.type==="REORDER"?e.destination.droppableId:e.combine.droppableId:null};const zue=()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),dH="cubic-bezier(.2,1,.1,1)",RP={drop:0,combining:.7},vH={drop:.75},Uue={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Fv=`${Uue.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,fS={fluid:`opacity ${Fv}`,snap:`transform ${Fv}, opacity ${Fv}`,drop:n=>{const e=`${n}s ${dH}`;return`transform ${e}, opacity ${e}`},outOfTheWay:`transform ${Fv}`,placeholder:`height ${Fv}, width ${Fv}, margin ${Fv}`},yH=n=>Fue(n,my)?void 0:`translate(${n.x}px, ${n.y}px)`,K9=yH,Wue=(n,e)=>{const t=yH(n);if(t)return e?`${t} scale(${vH.drop})`:t};var wH=({scrollHeight:n,scrollWidth:e,height:t,width:r})=>{const i=Mue({x:e,y:n},{x:r,y:t});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Hue=()=>{const n=document.documentElement;return n||Yg(),n},Vue=()=>{const n=Hue();return wH({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})};Op(n=>Bue(n).filter(e=>!!e.isEnabled&&!!e.frame));const que="data-rfd",G9={contextId:`${que}-scroll-container-context-id`},xb=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?at.useLayoutEffect:at.useEffect;var bH=qi.createContext(null);const Kue={separator:"::"};function xH(n,e=Kue){const t=qi.useId();return ig(()=>`${n}${e.separator}${t}`,[e.separator,n,t])}var bO=qi.createContext(null);function Gue(n){const e=at.useRef(n);return at.useEffect(()=>{e.current=n}),e}function jP(n){return n.phase!=="IDLE"&&n.phase!=="DROP_ANIMATING"&&n.isDragging}const Yue=5e3,Jue=4500,Xue=(n,e)=>e?fS.drop(e.duration):n?fS.snap:fS.fluid,Que=(n,e)=>{if(n)return e?RP.drop:RP.combining};function Zue(n){return n.type==="DRAGGING"?function(t){const r=t.dimension.client,{offset:i,combineWith:o,dropping:s}=t,u=!!o,c=(g=>g.forceShouldAnimate!=null?g.forceShouldAnimate:g.mode==="SNAP")(t),p=!!s,f=p?Wue(i,u):K9(i);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:Xue(c,s),transform:f,opacity:Que(u,p),zIndex:p?Jue:Yue,pointerEvents:"none"}}(n):function(t){return{transform:K9(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}(n)}function ele(n){const e=xH("draggable"),{descriptor:t,registry:r,getDraggableRef:i,canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}=n,c=ig(()=>({canDragInteractiveElements:o,shouldRespectForcePress:s,isEnabled:u}),[o,u,s]),p=bp(b=>{const _=i();return _||Yg(),function(F,O,j=my){const z=window.getComputedStyle(O),W=O.getBoundingClientRect(),J=gH(W,z),G=BP(J,j);return{descriptor:F,placeholder:{client:J,tagName:O.tagName.toLowerCase(),display:z.display},displaceBy:{x:J.marginBox.width,y:J.marginBox.height},client:J,page:G}}(t,_,b)},[t,i]),f=ig(()=>({uniqueId:e,descriptor:t,options:c,getDimension:p}),[t,p,c,e]),g=at.useRef(f),y=at.useRef(!0);xb(()=>(r.draggable.register(g.current),()=>r.draggable.unregister(g.current)),[r.draggable]),xb(()=>{if(y.current)return void(y.current=!1);const b=g.current;g.current=f,r.draggable.update(f,b)},[f,r.draggable])}var xO=qi.createContext(null);function T_(n){const e=at.useContext(n);return e||Yg(),e}function tle(n){n.preventDefault()}var DH=(n,e)=>n===e,CH=n=>{const{combine:e,destination:t}=n;return t?t.droppableId:e?e.droppableId:null};function SH(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const nle={mapped:{type:"SECONDARY",offset:my,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:SH(null)}},rle=fH(()=>{const n=function(){const r=Op((s,u)=>({x:s,y:u})),i=Op((s,u,c=null,p=null,f=null)=>({isDragging:!0,isClone:u,isDropAnimating:!!f,dropAnimation:f,mode:s,draggingOver:c,combineWith:p,combineTargetFor:null})),o=Op((s,u,c,p,f=null,g=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:f,combineWith:g,mode:u,offset:s,dimension:c,forceShouldAnimate:y,snapshot:i(u,p,f,g,null)}}));return(s,u)=>{if(jP(s)){if(s.critical.draggable.id!==u.draggableId)return null;const p=s.current.client.offset,f=s.dimensions.draggables[u.draggableId],g=cS(s.impact),y=(c=s.impact).at&&c.at.type==="COMBINE"?c.at.combine.draggableId:null,b=s.forceShouldAnimate;return o(r(p.x,p.y),s.movementMode,f,u.isClone,g,y,b)}var c;if(s.phase==="DROP_ANIMATING"){const p=s.completed;if(p.result.draggableId!==u.draggableId)return null;const f=u.isClone,g=s.dimensions.draggables[u.draggableId],y=p.result,b=y.mode,_=CH(y),M=(O=>O.combine?O.combine.draggableId:null)(y),F={duration:s.dropDuration,curve:dH,moveTo:s.newHomeClientOffset,opacity:M?RP.drop:null,scale:M?vH.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:g,dropping:F,draggingOver:_,combineWith:M,mode:b,forceShouldAnimate:null,snapshot:i(b,f,_,M,F)}}}return null}}(),e=function(){const r=Op((c,p)=>({x:c,y:p})),i=Op(SH),o=Op((c,p=null,f)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:p,shouldAnimateDisplacement:f,snapshot:i(p)}})),s=c=>c?o(my,c,!0):null,u=(c,p,f,g)=>{const y=f.displaced.visible[c],b=!!(g.inVirtualList&&g.effected[c]),_=jue(f),M=_&&_.draggableId===c?p:null;if(!y){if(!b)return s(M);if(f.displaced.invisible[c])return null;const j=Pue(g.displacedBy.point),z=r(j.x,j.y);return o(z,M,!0)}if(b)return s(M);const F=f.displacedBy.point,O=r(F.x,F.y);return o(O,M,y.shouldAnimate)};return(c,p)=>{if(jP(c))return c.critical.draggable.id===p.draggableId?null:u(p.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const f=c.completed;return f.result.draggableId===p.draggableId?null:u(p.draggableId,f.result.draggableId,f.impact,f.afterCritical)}return null}}();return(t,r)=>n(t,r)||e(t,r)||nle},{dropAnimationFinished:zue},null,{context:bH,areStatePropsEqual:DH})(n=>{const e=at.useRef(null),t=bp((G=null)=>{e.current=G},[]),r=bp(()=>e.current,[]),{contextId:i,dragHandleUsageInstructionsId:o,registry:s}=T_(bO),{type:u,droppableId:c}=T_(xO),p=ig(()=>({id:n.draggableId,index:n.index,type:u,droppableId:c}),[n.draggableId,n.index,u,c]),{children:f,draggableId:g,isEnabled:y,shouldRespectForcePress:b,canDragInteractiveElements:_,isClone:M,mapped:F,dropAnimationFinished:O}=n;M||ele(ig(()=>({descriptor:p,registry:s,getDraggableRef:r,canDragInteractiveElements:_,shouldRespectForcePress:b,isEnabled:y}),[p,s,r,_,b,y]));const j=ig(()=>y?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":g,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:tle}:null,[i,o,g,y]),z=bp(G=>{F.type==="DRAGGING"&&F.dropping&&G.propertyName==="transform"&&sH.flushSync(O)},[O,F]),W=ig(()=>{const G=Zue(F),Q=F.type==="DRAGGING"&&F.dropping?z:void 0;return{innerRef:t,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":g,style:G,onTransitionEnd:Q},dragHandleProps:j}},[i,j,g,F,z,t]),J=ig(()=>({draggableId:p.id,type:p.type,source:{index:p.index,droppableId:p.droppableId}}),[p.droppableId,p.id,p.index,p.type]);return qi.createElement(qi.Fragment,null,f(W,F.snapshot,J))});function ile(n){return T_(xO).isUsingCloneFor!==n.draggableId||n.isClone?qi.createElement(rle,n):null}const _H=n=>e=>n===e,ole=_H("scroll"),ale=_H("auto"),Y9=(n,e)=>e(n.overflowX)||e(n.overflowY),sle=n=>{const e=window.getComputedStyle(n),t={overflowX:e.overflowX,overflowY:e.overflowY};return Y9(t,ole)||Y9(t,ale)},EH=n=>n==null?null:n===document.body?!1?n:null:n===document.documentElement?null:sle(n)?n:EH(n.parentElement);var LP=n=>({x:n.scrollLeft,y:n.scrollTop});const AH=n=>n?window.getComputedStyle(n).position==="fixed"||AH(n.parentElement):!1;var ule=({ref:n,descriptor:e,env:t,windowScroll:r,direction:i,isDropDisabled:o,isCombineEnabled:s,shouldClipSubject:u})=>{const c=t.closestScrollable,p=((b,_)=>{const M=V9(b);if(!_||b!==_)return M;const F=M.paddingBox.top-_.scrollTop,O=M.paddingBox.left-_.scrollLeft,j=F+_.scrollHeight,z=O+_.scrollWidth,W=pH({top:F,right:z,bottom:j,left:O},M.border);return wO({borderBox:W,margin:M.margin,border:M.border,padding:M.padding})})(n,c),f=BP(p,r),g=(()=>{if(!c)return null;const b=V9(c),_={scrollHeight:c.scrollHeight,scrollWidth:c.scrollWidth};return{client:b,page:BP(b,r),scroll:LP(c),scrollSize:_,shouldClipSubject:u}})();return(({descriptor:b,isEnabled:_,isCombineEnabled:M,isFixedOnPage:F,direction:O,client:j,page:z,closest:W})=>{const J=(()=>{if(!W)return null;const{scrollSize:Q,client:te}=W,ae=wH({scrollHeight:Q.scrollHeight,scrollWidth:Q.scrollWidth,height:te.paddingBox.height,width:te.paddingBox.width});return{pageMarginBox:W.page.marginBox,frameClient:te,scrollSize:Q,shouldClipSubject:W.shouldClipSubject,scroll:{initial:W.scroll,current:W.scroll,max:ae,diff:{value:my,displacement:my}}}})(),G=O==="vertical"?Lue:$ue;return{descriptor:b,isCombineEnabled:M,isFixedOnPage:F,axis:G,isEnabled:_,client:j,page:z,frame:J,subject:Nue({page:z,withPlaceholder:null,axis:G,frame:J})}})({descriptor:e,isEnabled:!o,isCombineEnabled:s,isFixedOnPage:t.isFixedOnPage,direction:i,client:p,page:f,closest:g})};const lle={passive:!1},cle={passive:!0};var J9=n=>n.shouldPublishImmediately?lle:cle;const UD=n=>n&&n.env.closestScrollable||null;function fle(n){const e=at.useRef(null),t=T_(bO),r=xH("droppable"),{registry:i,marshal:o}=t,s=Gue(n),u=ig(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),c=at.useRef(u),p=ig(()=>Op((W,J)=>{e.current||Yg();const G={x:W,y:J};o.updateDroppableScroll(u.id,G)}),[u.id,o]),f=bp(()=>{const W=e.current;return W&&W.env.closestScrollable?LP(W.env.closestScrollable):my},[]),g=bp(()=>{const W=f();p(W.x,W.y)},[f,p]),y=ig(()=>_ue(g),[g]),b=bp(()=>{const W=e.current,J=UD(W);W&&J||Yg(),W.scrollOptions.shouldPublishImmediately?g():y()},[y,g]),_=bp((W,J)=>{e.current&&Yg();const G=s.current,Q=G.getDroppableRef();Q||Yg();const te=(xe=>({closestScrollable:EH(xe),isFixedOnPage:AH(xe)}))(Q),ae={ref:Q,descriptor:u,env:te,scrollOptions:J};e.current=ae;const se=ule({ref:Q,descriptor:u,env:te,windowScroll:W,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),ge=te.closestScrollable;return ge&&(ge.setAttribute(G9.contextId,t.contextId),ge.addEventListener("scroll",b,J9(ae.scrollOptions))),se},[t.contextId,u,b,s]),M=bp(()=>{const W=e.current,J=UD(W);return W&&J||Yg(),LP(J)},[]),F=bp(()=>{const W=e.current;W||Yg();const J=UD(W);e.current=null,J&&(y.cancel(),J.removeAttribute(G9.contextId),J.removeEventListener("scroll",b,J9(W.scrollOptions)))},[b,y]),O=bp(W=>{const J=e.current;J||Yg();const G=UD(J);G||Yg(),G.scrollTop+=W.y,G.scrollLeft+=W.x},[]),j=ig(()=>({getDimensionAndWatchScroll:_,getScrollWhileDragging:M,dragStopped:F,scroll:O}),[F,_,M,O]),z=ig(()=>({uniqueId:r,descriptor:u,callbacks:j}),[j,u,r]);xb(()=>(c.current=z.descriptor,i.droppable.register(z),()=>{e.current&&F(),i.droppable.unregister(z)}),[j,u,F,z,o,i.droppable]),xb(()=>{e.current&&o.updateDroppableIsEnabled(c.current.id,!n.isDropDisabled)},[n.isDropDisabled,o]),xb(()=>{e.current&&o.updateDroppableIsCombineEnabled(c.current.id,n.isCombineEnabled)},[n.isCombineEnabled,o])}function Fk(){}const hle={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},ple=({isAnimatingOpenOnMount:n,placeholder:e,animate:t})=>{const r=(({isAnimatingOpenOnMount:i,placeholder:o,animate:s})=>i||s==="close"?hle:{height:o.client.borderBox.height,width:o.client.borderBox.width,margin:o.client.margin})({isAnimatingOpenOnMount:n,placeholder:e,animate:t});return{display:e.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:t!=="none"?fS.placeholder:null}};var gle=qi.memo(n=>{const e=at.useRef(null),t=bp(()=>{e.current&&(clearTimeout(e.current),e.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:o,contextId:s}=n,[u,c]=at.useState(n.animate==="open");at.useEffect(()=>u?r!=="open"?(t(),c(!1),Fk):e.current?Fk:(e.current=setTimeout(()=>{e.current=null,c(!1)}),t):Fk,[r,u,t]);const p=bp(g=>{g.propertyName==="height"&&(i(),r==="close"&&o())},[r,o,i]),f=ple({isAnimatingOpenOnMount:u,animate:n.animate,placeholder:n.placeholder});return qi.createElement(n.placeholder.tagName,{style:f,"data-rfd-placeholder-context-id":s,onTransitionEnd:p,ref:n.innerRef})});class mle extends qi.PureComponent{constructor(...e){super(...e),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(e,t){return e.shouldAnimate?e.on?{isVisible:!0,data:e.on,animate:"open"}:t.isVisible?{isVisible:!0,data:t.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!e.on,data:e.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const e={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(e)}}const X9={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Yg(),document.body}},Q9=n=>{let e,t={...n};for(e in X9)n[e]===void 0&&(t={...t,[e]:X9[e]});return t},Pk=(n,e)=>n===e.droppable.type,Z9=(n,e)=>e.draggables[n.draggable.id];fH(()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},e={...n,shouldAnimatePlaceholder:!1},t=Op(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=Op((i,o,s,u,c,p)=>{const f=c.descriptor.id;if(c.descriptor.droppableId===i){const y=p?{render:p,dragging:t(c.descriptor)}:null,b={isDraggingOver:s,draggingOverWith:s?f:null,draggingFromThisWith:f,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!1,snapshot:b,useClone:y}}if(!o)return e;if(!u)return n;const g={isDraggingOver:s,draggingOverWith:f,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:c.placeholder,shouldAnimatePlaceholder:!0,snapshot:g,useClone:null}});return(i,o)=>{const s=Q9(o),u=s.droppableId,c=s.type,p=!s.isDropDisabled,f=s.renderClone;if(jP(i)){const g=i.critical;if(!Pk(c,g))return e;const y=Z9(g,i.dimensions),b=cS(i.impact)===u;return r(u,p,b,b,y,f)}if(i.phase==="DROP_ANIMATING"){const g=i.completed;if(!Pk(c,g.critical))return e;const y=Z9(g.critical,i.dimensions);return r(u,p,CH(g.result)===u,cS(g.impact)===u,y,f)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const g=i.completed;if(!Pk(c,g.critical))return e;const y=cS(g.impact)===u,b=!!(g.impact.at&&g.impact.at.type==="COMBINE"),_=g.critical.droppable.id===u;return y?b?n:e:_?n:e}return e}},{updateViewportMaxScroll:n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n})},(n,e,t)=>({...Q9(t),...n,...e}),{context:bH,areStatePropsEqual:DH})(n=>{const e=at.useContext(bO);e||Yg();const{contextId:t,isMovementAllowed:r}=e,i=at.useRef(null),o=at.useRef(null),{children:s,droppableId:u,type:c,mode:p,direction:f,ignoreContainerClipping:g,isDropDisabled:y,isCombineEnabled:b,snapshot:_,useClone:M,updateViewportMaxScroll:F,getContainerForClone:O}=n,j=bp(()=>i.current,[]),z=bp((se=null)=>{i.current=se},[]);bp(()=>o.current,[]);const W=bp((se=null)=>{o.current=se},[]),J=bp(()=>{r()&&F({maxScroll:Vue()})},[r,F]);fle({droppableId:u,type:c,mode:p,direction:f,isDropDisabled:y,isCombineEnabled:b,ignoreContainerClipping:g,getDroppableRef:j});const G=ig(()=>qi.createElement(mle,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:se,data:ge,animate:xe})=>qi.createElement(gle,{placeholder:ge,onClose:se,innerRef:W,animate:xe,contextId:t,onTransitionEnd:J})),[t,J,n.placeholder,n.shouldAnimatePlaceholder,W]),Q=ig(()=>({innerRef:z,placeholder:G,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":t}}),[t,u,G,z]),te=M?M.dragging.draggableId:null,ae=ig(()=>({droppableId:u,type:c,isUsingCloneFor:te}),[u,te,c]);return qi.createElement(xO.Provider,{value:ae},s(Q,_),function(){if(!M)return null;const{dragging:ge,render:xe}=M,Pe=qi.createElement(ile,{draggableId:ge.draggableId,index:ge.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ce,Me)=>xe(Ce,Me,ge));return zse.createPortal(Pe,O())}())});function dle(n){var e=n.onCommit,t=e===void 0?function(Fe){}:e,r=n.isValid,i=r===void 0?function(Fe){return!0}:r,o=n.initialValue,s=o===void 0?"":o,u=n.color,c=u===void 0?"var(--gray7)":u,p=n.bgColor,f=p===void 0?"var(--gray3)":p,g=n.bgActive,y=g===void 0?"var(--gray4)":g,b=n.bgInvalidInput,_=b===void 0?"var(--danger)":b,M=n.invalidInputColor,F=M===void 0?"var(--gray2)":M,O=n.charSize,j=O===void 0?void 0:O,z=n.maxCharSize,W=z===void 0?30:z,J=qi.useState(!1),G=J[0],Q=J[1],te=qi.useState(!0),ae=te[0],se=te[1],ge=function(){return Math.random().toString(36).substring(7)},xe=qi.useState(ge()),Pe=xe[0],Ce=xe[1],Me=qi.useState(j||s.length),Oe=Me[0],et=Me[1],$e=function(){Q(!1),se(!0),Ce(ge())};return ft.jsx("input",{type:"text",defaultValue:s,size:Oe,style:{backgroundColor:G?ae?y:_:f,color:ae?c:F,border:"none",padding:"5px",paddingLeft:"10px",borderRadius:"var(--borderRadiusSmall)",minWidth:"100px",fontSize:"16px"},readOnly:!G,onFocus:function(){return Q(!0)},onChange:function(Fe){se(i(Fe.target.value)),j||(Fe.target.value.length<=W?et(Fe.target.value.length):et(W))},onBlur:function(Fe){ae?($e(),t(Fe.target.value)):(Fe.target.value=s,$e())},onKeyDown:function(Fe){Fe.key==="Enter"&&(ae?($e(),t(Fe.target.value)):$e())}},Pe)}function vle(n){var e=n.iconName,t=e===void 0?"home":e,r=n.bgColor,i=r===void 0?"transparent":r,o=n.hoverBgColor,s=o===void 0?"var(--gray3)":o,u=n.color,c=u===void 0?"var(--gray6)":u,p=n.hoverColor,f=p===void 0?"var(--gray7)":p,g=n.cursor,y=g===void 0?"pointer":g,b=n.onClick,_=b===void 0?function(){}:b,M=qi.useState(!1),F=M[0],O=M[1];return ft.jsx("div",{style:{userSelect:"none",width:"35px",height:"35px",margin:"5px",cursor:y,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:F?s:i,transition:"background-color 0.2s",fontSize:"20px",color:F?f:c},className:"materialSymbols",onMouseOver:function(){return O(!0)},onMouseOut:function(){return O(!1)},onClick:_,children:ft.jsxs("div",{children:[" ",t]})})}function yle(n){var e=n.text,t=e===void 0?void 0:e,r=n.iconName,i=r===void 0?void 0:r,o=n.bgColor,s=o===void 0?"var(--gray3)":o,u=n.hoverBgColor,c=u===void 0?"var(--gray4)":u,p=n.color,f=p===void 0?"var(--gray7)":p,g=n.hoverColor,y=g===void 0?"var(--gray8)":g,b=n.cursor,_=b===void 0?"pointer":b,M=n.onClick,F=M===void 0?function(){}:M,O=qi.useState(!1),j=O[0],z=O[1];return ft.jsxs("button",{onMouseOver:function(){return z(!0)},onMouseOut:function(){return z(!1)},onClick:F,style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",padding:"0px",cursor:_,height:"35px",margin:"5px",userSelect:"none",backgroundColor:j?c:s,transition:"background-color 0.2s",fontSize:"var(--defaultFontSize)",color:j?y:f,border:"none",borderRadius:"5px"},children:[t?ft.jsx("div",{style:{marginTop:"2px",marginRight:i?"2px":"15px",marginLeft:"15px"},children:t}):null,i?ft.jsx("div",{style:{marginRight:t?"0px":"10px",marginLeft:t?"0px":"10px"},children:ft.jsx(vle,{iconName:i,color:j?y:f,hoverColor:j?y:f,bgColor:"transparent",hoverBgColor:"transparent"})}):null]})}(function(e,t){t===void 0&&(t={});var r=t.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",r==="top"&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}})(`
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

/* Remove default margin in favour of better control in authored CSS */
body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd {
  margin-block-end: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
  line-height: 1.5;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2,
h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
  display: block;
}

/* Inherit fonts for inputs and buttons */
input, button,
textarea, select {
  font-family: inherit;
  font-size: inherit;
}

input:focus {
    outline: none;
  }
  

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}




@font-face {
    font-family: 'Material Symbols';
    src: url('https://storage.googleapis.com/pinsandcurvesfontservice/MaterialSymbolsSharp%5BFILL%2CGRAD%2Copsz%2Cwght%5D.woff2') format('woff');
    font-weight: normal;
    font-style: normal;
}

.materialSymbols {
    font-family: 'Material Symbols';
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
}

:root {
    --gray1: #1D2126;
    --gray2: #2C333A;
    --gray3: #3B434B;
    --gray4: #49525B;
    --gray5: #59646E;
    --gray6: #708090;
    --gray7 : #C6D6E6;
    --gray8 : white;
    --danger: pink;

    --green2: #6EBD6F;
    --green1: #84D585;
    --green3: #429A44;
    --green4: #1D471E;

    --yellow1: #FFF8D3;
    --yellow2: #FFF1A8;
    --yellow3: #E6C622;
    --yellow4: #A48E20;

    --borderRadiusSmall: 5px;

    --defaultFontSize: 16px;


    font-family: 'Roboto', sans-serif;
}

hr {
    border: none;
    border-top: 2px solid var(--gray3);
    margin: 1em 0;
  
}`);var $P=function(n,e){return $P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},$P(n,e)},qh=function(){return qh=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},qh.apply(this,arguments)};function _d(n,e,t){for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}function pg(n,e){return[n[0]+e[0],n[1]+e[1]]}function lp(n,e){return[n[0]-e[0],n[1]-e[1]]}function hS(n,e){return[n[0]*e[0],n[1]*e[1]]}function dy(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function e5(n,e){return n[0]*e[0]+n[1]*e[1]}function WD(n,e){return[n[0]*e,n[1]*e]}function jy(n,e){var t=[n[0][0],n[0][1],n[2][0],n[2][1]],r=t[0],i=t[1],o=t[2],s=t[3],u=[e[0][0],e[0][1],e[2][0],e[2][1]];return!(r>u[2]||o<u[0]||i>u[3]||s<u[1])}var Bs=function(){function n(e,t,r){e===void 0&&(e=[0,0]),t===void 0&&(t=0),r===void 0&&(r=0),this._o=e,this._w=t,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(e){this._o=e},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(e){var t={x:e[0],y:e[1]},r=t.x,i=t.y,o={oX:this.o[0],oY:this.o[1]},s=o.oX,u=o.oY;return!(r<s||r>s+this.w||i<u||i>u+this.h)},n.prototype.clone=function(){return new n(_d([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,pg(this.o,[this.w,0]),pg(this.o,[this.w,this.h]),pg(this.o,[0,this.h])]},n.prototype.getCenter=function(){return pg(this.o,[this.w/2,this.h/2])},n}(),nl=function(n){function e(){var t=n.call(this)||this;return t.layer=0,t.children=[],t._isPrimaryCamera=!1,t._needsUpdate=!1,t._needsUpdate_root=!1,t.updateWhenCameraChanges=!1,t.state=void 0,t.context={},t.windowDidMountPrimitiveIsRunning=!1,t.childIndex=0,t.isCanvasRoot=!1,t.props={},t.globalPositioning=!1,t}return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=t}$P(t,r),t.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(e,n),Object.defineProperty(e.prototype,"_cameraSnapshot",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_canvas",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.canvas},enumerable:!1,configurable:!0}),e.prototype.setAsPrimaryCamera=function(){var t;(t=this._root)===null||t===void 0||t.installCamera(this)},e.prototype.setState=function(t){var r,i;if(this.state===t)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(o){o.updateWhenCameraChanges&&(o._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,t))},e.prototype.setContext=function(t,r){var i,o;this.windowDidMountPrimitiveIsRunning?this.context[t]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[t]=r,(o=this._root)===null||o===void 0||o.scheduleContextUpdate(this,t,r))},e.prototype.windowDidMountPrimitive=function(t){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t),this.windowDidMountPrimitiveIsRunning=!1},e.prototype.windowDidMount=function(t){},e.prototype.windowDidUpdate=function(t){},e.prototype.cameraDidUpdate=function(){},e.prototype.windowWillUnmount=function(){},e.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t=this.getBox();return this._boxSnapshot=t,t},e.prototype.getBox=function(){return new Bs([0,0],0,0)},Object.defineProperty(e.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),e.prototype.cameraPassUpdateSelf=function(){var t,r,i=this;this._isPrimaryCamera?(t=this._root)===null||t===void 0||t.windows.forEach(function(o){var s;(s=i._root)===null||s===void 0||s.taintLayer(o.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(qh({},this.props)))},e.prototype.cameraPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(u){return u(t)}),i=this.children.filter(function(u){return!r.includes(u)}),o=r.filter(function(u){return!t.children.includes(u)});this.children=r,i.forEach(function(u){return u.windowWillUnmount()}),o.forEach(function(u){return u.windowDidMountPrimitive(u.props)});var s=this.children.find(function(u){return u._needsUpdate});this.children.forEach(function(u){u._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},e.prototype.regularPassUpdateSelf=function(){var t;this._boxSnapshot=void 0,(t=this._root)===null||t===void 0||t.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(qh({},this.props))},e.prototype.regularPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(t)}),i=this.children.filter(function(s){return!r.includes(s)}),o=r.filter(function(s){return!t.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),o.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},e.prototype.getChildren=function(t){return[]},e.prototype.incChildIndex=function(){this.childIndex++},e.Node=function(t){var r=this,i=this.name;return function(o){if(o.isCanvasRoot){var s=void 0;return(s=new r)._root=o,s.setKey("root"),s.props=t||{},s.context=qh({},s.context),s}var u=o.childIndex;t||(t={});var c=t.key?t.key:"".concat(i,"[").concat(u,"]");return s=void 0,o.children.findIndex(function(p){return p.key===c})!==-1?s=o.children.find(function(p){return p.key===c}):((s=new r)._parent=o,s._root=o._root,s.setKey(c)),s.props=qh({},t),s.context=qh(qh({},s.context),o.context),o.incChildIndex(),s}},Object.defineProperty(e.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),e.prototype.getChildByKey=function(t){return this.children.find(function(r){return r.key===t})},e.prototype.getBoundingBox=function(){var t=this.globalO,r=t[0],i=t[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},e.prototype.pointInside=function(t){return n.prototype.pointInside.call(this,lp(t,this.parentO))},Object.defineProperty(e.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var t=this._parent.globalO,r=t[0],i=t[1],o=this.o;return[r+o[0],i+o[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),e.prototype.getLayer=function(){return this.layer},e.prototype.setLayer=function(t){this.layer=t},e.prototype.setKey=function(t){this.key=t},Object.defineProperty(e.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),e.prototype.absoluteToCanvasMeasure=function(t){return hS(t,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},e.prototype.canvasToAbsoluteMeasure=function(t){return hS(t,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(e.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),e.prototype.prepareHandlerProps=function(){var t=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),o=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,u=this.absoluteUnit,c=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:o,camera:t,canvasUnit:s,canvasO:c,absoluteUnit:u}},e.prototype.preparePostBoxHandlerProps=function(){var t=this,r=this._cameraSnapshot,i=this._canvas,o=function(u){var c=t.globalO,p=u[0],f=u[1],g=[c[0]+p,c[1]+f],y=g[0],b=g[1],_=r.o,M=[y-_[0],b-_[1]],F=M[1];return[M[0]*(i.width/r.w),F*(i.height/r.h)]},s=o([0,0]);return qh(qh({},this.prepareHandlerProps()),{localToCanvas:o,canvasToLocal:function(u){var c=t.globalO;return lp(pg(hS(u,[r.w/i.width,r.h/i.height]),r.o),c)},absoluteO:s})},e.prototype.prepareMouseHandlerProps=function(t,r){var i=this.preparePostBoxHandlerProps(),o=this.canvasUnit,s=o[0],u=o[1],c=this.canvasO,p=c[0],f=c[1],g=[p+t[0]*s,f+t[1]*u],y=lp(g,this.globalO),b=this.pointInside(g);return qh(qh({},i),{relativePos:y,canvasPos:t,absolutePos:g,pointInside:b,terminateEvent:r})},e.prototype.prepareWheelHandlerProps=function(t){var r=this.preparePostBoxHandlerProps();return qh(qh({},r),{terminateEvent:t})},e.prototype.renderPrimitive=function(t){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(qh(qh({},r),{ctx:t}))}},e.prototype.render=function(t){},e.prototype.onMouseDownPrimitive=function(t,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseDown=function(t,r){},e.prototype.onMouseMovePrimitive=function(t,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseMove=function(t,r){},e.prototype.onMouseUpPrimitive=function(t,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseUp=function(t,r){},e.prototype.onClickPrimitive=function(t,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onClick=function(t,r){},e.prototype.onWheelPrimitive=function(t,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t),r)},e.prototype.onWheel=function(t,r){},e.prototype.strokeOutline=function(t,r){t.ctx.strokeStyle=r;var i=t.absoluteO,o=t.absoluteUnit,s=i[0],u=i[1],c=o[0],p=o[1];t.ctx.strokeRect(s,u,this.w*c,this.h*p)},e}(Bs),Fw={},t5,HD,VD,qD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KD={exports:{}},wle=(t5||(t5=1,HD=KD,VD=KD.exports,(function(){var n,e="Expected a function",t="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,o=128,s=1/0,u=9007199254740991,c=NaN,p=4294967295,f=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",_="[object Date]",M="[object Error]",F="[object Function]",O="[object GeneratorFunction]",j="[object Map]",z="[object Number]",W="[object Object]",J="[object Promise]",G="[object RegExp]",Q="[object Set]",te="[object String]",ae="[object Symbol]",se="[object WeakMap]",ge="[object ArrayBuffer]",xe="[object DataView]",Pe="[object Float32Array]",Ce="[object Float64Array]",Me="[object Int8Array]",Oe="[object Int16Array]",et="[object Int32Array]",$e="[object Uint8Array]",Fe="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Ee="[object Uint32Array]",Ze=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dt=/&(?:amp|lt|gt|quot|#39);/g,rn=/[&<>"']/g,an=RegExp(Dt.source),un=RegExp(rn.source),ur=/<%-([\s\S]+?)%>/g,Fn=/<%([\s\S]+?)%>/g,wi=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$a=/^\w*$/,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(ue.source),Se=/^\s+/,Re=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gt=/[()=,{}\[\]\/\s]/,bt=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ui=/^\[object .+?Constructor\]$/,io=/^0o[0-7]+$/i,bo=/^(?:0|[1-9]\d*)$/,ta=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,Ru=/['\n\r\u2028\u2029\\]/g,fa="\\ud800-\\udfff",ju="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eu="\\u2700-\\u27bf",hs="a-z\\xdf-\\xf6\\xf8-\\xff",uu="A-Z\\xc0-\\xd6\\xd8-\\xde",zl="\\ufe0e\\ufe0f",Ss="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dl="["+fa+"]",Cl="["+Ss+"]",Qa="["+ju+"]",Ul="\\d+",rl="["+eu+"]",Gu="["+hs+"]",Ls="[^"+fa+Ss+Ul+eu+hs+uu+"]",Sl="\\ud83c[\\udffb-\\udfff]",_s="[^"+fa+"]",xa="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="["+uu+"]",il="\\u200d",ol="(?:"+Gu+"|"+Ls+")",Ua="(?:"+Jo+"|"+Ls+")",lu="(?:['’](?:d|ll|m|re|s|t|ve))?",al="(?:['’](?:D|LL|M|RE|S|T|VE))?",sl="(?:"+Qa+"|"+Sl+")?",tu="["+zl+"]?",cu=tu+sl+"(?:"+il+"(?:"+[_s,xa,za].join("|")+")"+tu+sl+")*",_l="(?:"+[rl,xa,za].join("|")+")"+cu,Pi="(?:"+[_s+Qa+"?",Qa,xa,za,Dl].join("|")+")",Lu=RegExp("['’]","g"),Br=RegExp(Qa,"g"),ha=RegExp(Sl+"(?="+Sl+")|"+Pi+cu,"g"),gn=RegExp([Jo+"?"+Gu+"+"+lu+"(?="+[Cl,Jo,"$"].join("|")+")",Ua+"+"+al+"(?="+[Cl,Jo+ol,"$"].join("|")+")",Jo+"?"+ol+"+"+lu,Jo+"+"+al,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ul,_l].join("|"),"g"),na=RegExp("["+il+fa+ju+zl+"]"),Sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,El=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],No=-1,Qt={};Qt[Pe]=Qt[Ce]=Qt[Me]=Qt[Oe]=Qt[et]=Qt[$e]=Qt[Fe]=Qt[Ne]=Qt[Ee]=!0,Qt[g]=Qt[y]=Qt[ge]=Qt[b]=Qt[xe]=Qt[_]=Qt[M]=Qt[F]=Qt[j]=Qt[z]=Qt[W]=Qt[G]=Qt[Q]=Qt[te]=Qt[se]=!1;var jt={};jt[g]=jt[y]=jt[ge]=jt[xe]=jt[b]=jt[_]=jt[Pe]=jt[Ce]=jt[Me]=jt[Oe]=jt[et]=jt[j]=jt[z]=jt[W]=jt[G]=jt[Q]=jt[te]=jt[ae]=jt[$e]=jt[Fe]=jt[Ne]=jt[Ee]=!0,jt[M]=jt[F]=jt[se]=!1;var fu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ph=parseFloat,Es=parseInt,Bo=typeof qD=="object"&&qD&&qD.Object===Object&&qD,Nf=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Bo||Nf||Function("return this")(),rr=VD&&!VD.nodeType&&VD,Mo=rr&&HD&&!HD.nodeType&&HD,df=Mo&&Mo.exports===rr,Za=df&&Bo.process,Rr=function(){try{return Mo&&Mo.require&&Mo.require("util").types||Za&&Za.binding&&Za.binding("util")}catch{}}(),hu=Rr&&Rr.isArrayBuffer,Ei=Rr&&Rr.isDate,Hn=Rr&&Rr.isMap,Xo=Rr&&Rr.isRegExp,af=Rr&&Rr.isSet,cc=Rr&&Rr.isTypedArray;function Rn(ie,de,ye){switch(ye.length){case 0:return ie.call(de);case 1:return ie.call(de,ye[0]);case 2:return ie.call(de,ye[0],ye[1]);case 3:return ie.call(de,ye[0],ye[1],ye[2])}return ie.apply(de,ye)}function Qf(ie,de,ye,ze){for(var ct=-1,Ue=ie==null?0:ie.length;++ct<Ue;){var pt=ie[ct];de(ze,pt,ye(pt),ie)}return ze}function jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze&&de(ie[ye],ye,ie)!==!1;);return ie}function Nc(ie,de){for(var ye=ie==null?0:ie.length;ye--&&de(ie[ye],ye,ie)!==!1;);return ie}function As(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(!de(ie[ye],ye,ie))return!1;return!0}function mi(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];de(pt,ye,ie)&&(Ue[ct++]=pt)}return Ue}function Jn(ie,de){return!(ie==null||!ie.length)&&bi(ie,de,0)>-1}function ri(ie,de,ye){for(var ze=-1,ct=ie==null?0:ie.length;++ze<ct;)if(ye(de,ie[ze]))return!0;return!1}function nn(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=Array(ze);++ye<ze;)ct[ye]=de(ie[ye],ye,ie);return ct}function Xn(ie,de){for(var ye=-1,ze=de.length,ct=ie.length;++ye<ze;)ie[ct+ye]=de[ye];return ie}function es(ie,de,ye,ze){var ct=-1,Ue=ie==null?0:ie.length;for(ze&&Ue&&(ye=ie[++ct]);++ct<Ue;)ye=de(ye,ie[ct],ct,ie);return ye}function ch(ie,de,ye,ze){var ct=ie==null?0:ie.length;for(ze&&ct&&(ye=ie[--ct]);ct--;)ye=de(ye,ie[ct],ct,ie);return ye}function Jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(de(ie[ye],ye,ie))return!0;return!1}var $s=pa("length");function Wl(ie,de,ye){var ze;return ye(ie,function(ct,Ue,pt){if(de(ct,Ue,pt))return ze=Ue,!1}),ze}function Wn(ie,de,ye,ze){for(var ct=ie.length,Ue=ye+(ze?1:-1);ze?Ue--:++Ue<ct;)if(de(ie[Ue],Ue,ie))return Ue;return-1}function bi(ie,de,ye){return de==de?function(ze,ct,Ue){for(var pt=Ue-1,Et=ze.length;++pt<Et;)if(ze[pt]===ct)return pt;return-1}(ie,de,ye):Wn(ie,ul,ye)}function Bc(ie,de,ye,ze){for(var ct=ye-1,Ue=ie.length;++ct<Ue;)if(ze(ie[ct],de))return ct;return-1}function ul(ie){return ie!=ie}function zs(ie,de){var ye=ie==null?0:ie.length;return ye?Us(ie,de)/ye:c}function pa(ie){return function(de){return de==null?n:de[ie]}}function Al(ie){return function(de){return ie==null?n:ie[de]}}function _c(ie,de,ye,ze,ct){return ct(ie,function(Ue,pt,Et){ye=ze?(ze=!1,Ue):de(ye,Ue,pt,Et)}),ye}function Us(ie,de){for(var ye,ze=-1,ct=ie.length;++ze<ct;){var Ue=de(ie[ze]);Ue!==n&&(ye=ye===n?Ue:ye+Ue)}return ye}function tc(ie,de){for(var ye=-1,ze=Array(ie);++ye<ie;)ze[ye]=de(ye);return ze}function Hl(ie){return ie&&ie.slice(0,Qo(ie)+1).replace(Se,"")}function vr(ie){return function(de){return ie(de)}}function ll(ie,de){return nn(de,function(ye){return ie[ye]})}function Ro(ie,de){return ie.has(de)}function Vl(ie,de){for(var ye=-1,ze=ie.length;++ye<ze&&bi(de,ie[ye],0)>-1;);return ye}function ga(ie,de){for(var ye=ie.length;ye--&&bi(de,ie[ye],0)>-1;);return ye}var fc=Al({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ql=Al({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ra(ie){return"\\"+fu[ie]}function Wa(ie){return na.test(ie)}function ji(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze,ct){ye[++de]=[ct,ze]}),ye}function hc(ie,de){return function(ye){return ie(de(ye))}}function xo(ie,de){for(var ye=-1,ze=ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];pt!==de&&pt!==r||(ie[ye]=r,Ue[ct++]=ye)}return Ue}function ts(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze){ye[++de]=ze}),ye}function Qi(ie){return Wa(ie)?function(de){for(var ye=ha.lastIndex=0;ha.test(de);)++ye;return ye}(ie):$s(ie)}function ii(ie){return Wa(ie)?function(de){return de.match(ha)||[]}(ie):function(de){return de.split("")}(ie)}function Qo(ie){for(var de=ie.length;de--&&Re.test(ie.charAt(de)););return de}var vf=Al({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ia=function ie(de){var ye,ze=(de=de==null?Bt:ia.defaults(Bt.Object(),de,ia.pick(Bt,El))).Array,ct=de.Date,Ue=de.Error,pt=de.Function,Et=de.Math,he=de.Object,Ke=de.RegExp,Qe=de.String,ut=de.TypeError,Vt=ze.prototype,hn=pt.prototype,Cr=he.prototype,Do=de["__core-js_shared__"],jn=hn.toString,$t=Cr.hasOwnProperty,Zh=0,oa=(ye=/[^.]+$/.exec(Do&&Do.keys&&Do.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"",ps=Cr.toString,Ec=jn.call(he),oo=Bt._,yf=Ke("^"+jn.call($t).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pu=df?de.Buffer:n,pn=de.Symbol,kl=de.Uint8Array,wf=pu?pu.allocUnsafe:n,Ma=hc(he.getPrototypeOf,he),Bf=he.create,nc=Cr.propertyIsEnumerable,cl=Vt.splice,fl=pn?pn.isConcatSpreadable:n,Wi=pn?pn.iterator:n,aa=pn?pn.toStringTag:n,gu=function(){try{var a=Zr(he,"defineProperty");return a({},"",{}),a}catch{}}(),sf=de.clearTimeout!==Bt.clearTimeout&&de.clearTimeout,fh=ct&&ct.now!==Bt.Date.now&&ct.now,Ac=de.setTimeout!==Bt.setTimeout&&de.setTimeout,Zo=Et.ceil,$u=Et.floor,zu=he.getOwnPropertySymbols,Kl=pu?pu.isBuffer:n,Rc=de.isFinite,Ch=Vt.join,Sh=hc(he.keys,he),Tn=Et.max,wn=Et.min,Gl=ct.now,Zf=de.parseInt,Rf=Et.random,Ws=Vt.reverse,Da=Zr(de,"DataView"),ks=Zr(de,"Map"),Ai=Zr(de,"Promise"),Tr=Zr(de,"Set"),ns=Zr(de,"WeakMap"),Hs=Zr(he,"create"),Fa=ns&&new ns,Pa={},kc=Po(Da),Uu=Po(ks),Wu=Po(Ai),hl=Po(Tr),Yl=Po(ns),rs=pn?pn.prototype:n,Ms=rs?rs.valueOf:n,Ml=rs?rs.toString:n;function R(a){if(Wt(a)&&!dt(a)&&!(a instanceof _t)){if(a instanceof Lr)return a;if($t.call(a,"__wrapped__"))return $c(a)}return new Lr(a)}var is=function(){function a(){}return function(l){if(!on(l))return{};if(Bf)return Bf(l);a.prototype=l;var w=new a;return a.prototype=n,w}}();function Yu(){}function Lr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}function _t(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Ae(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function $r(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function xi(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function Z(a){var l=-1,w=a==null?0:a.length;for(this.__data__=new xi;++l<w;)this.add(a[l])}function ln(a){var l=this.__data__=new $r(a);this.size=l.size}function Eu(a,l){var w=dt(a),A=!w&&To(a),I=!w&&!A&&$o(a),U=!w&&!A&&!I&&sn(a),D=w||A||I||U,E=D?tc(a.length,Qe):[],N=E.length;for(var v in a)!l&&!$t.call(a,v)||D&&(v=="length"||I&&(v=="offset"||v=="parent")||U&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||gr(v,N))||E.push(v);return E}function bn(a){var l=a.length;return l?a[Fs(0,l-1)]:n}function _n(a,l){return wu(or(a),Ta(l,0,a.length))}function gs(a){return wu(or(a))}function Di(a,l,w){(w!==n&&!Kr(a[l],w)||w===n&&!(l in a))&&oi(a,l,w)}function Yi(a,l,w){var A=a[l];$t.call(a,l)&&Kr(A,w)&&(w!==n||l in a)||oi(a,l,w)}function sa(a,l){for(var w=a.length;w--;)if(Kr(a[w][0],l))return w;return-1}function Ca(a,l,w,A){return Li(a,function(I,U,D){l(A,I,w(I),D)}),A}function Jl(a,l){return a&&Kn(l,An(l),a)}function oi(a,l,w){l=="__proto__"&&gu?gu(a,l,{configurable:!0,enumerable:!0,value:w,writable:!0}):a[l]=w}function Xl(a,l){for(var w=-1,A=l.length,I=ze(A),U=a==null;++w<A;)I[w]=U?n:ac(a,l[w]);return I}function Ta(a,l,w){return a==a&&(w!==n&&(a=a<=w?a:w),l!==n&&(a=a>=l?a:l)),a}function Hr(a,l,w,A,I,U){var D,E=1&l,N=2&l,v=4&l;if(w&&(D=I?w(a,A,I,U):w(a)),D!==n)return D;if(!on(a))return a;var m=dt(a);if(m){if(D=function(V){var Y=V.length,re=new V.constructor(Y);return Y&&typeof V[0]=="string"&&$t.call(V,"index")&&(re.index=V.index,re.input=V.input),re}(a),!E)return or(a,D)}else{var x=Lt(a),P=x==F||x==O;if($o(a))return jc(a,E);if(x==W||x==g||P&&!I){if(D=N||P?{}:Ks(a),!E)return N?function(V,Y){return Kn(V,da(V),Y)}(a,function(V,Y){return V&&Kn(Y,Er(Y),V)}(D,a)):function(V,Y){return Kn(V,ar(V),Y)}(a,Jl(D,a))}else{if(!jt[x])return I?a:{};D=function(V,Y,re){var ne,ce=V.constructor;switch(Y){case ge:return Mu(V);case b:case _:return new ce(+V);case xe:return function(me,be){var we=be?Mu(me.buffer):me.buffer;return new me.constructor(we,me.byteOffset,me.byteLength)}(V,re);case Pe:case Ce:case Me:case Oe:case et:case $e:case Fe:case Ne:case Ee:return ru(V,re);case j:return new ce;case z:case te:return new ce(V);case G:return function(me){var be=new me.constructor(me.source,kn.exec(me));return be.lastIndex=me.lastIndex,be}(V);case Q:return new ce;case ae:return ne=V,Ms?he(Ms.call(ne)):{}}}(a,x,E)}}U||(U=new ln);var L=U.get(a);if(L)return L;U.set(a,D),Ii(a)?a.forEach(function(V){D.add(Hr(V,l,w,V,a,U))}):tr(a)&&a.forEach(function(V,Y){D.set(Y,Hr(V,l,w,Y,a,U))});var H=m?n:(v?N?Ba:qo:N?Er:An)(a);return jr(H||a,function(V,Y){H&&(V=a[Y=V]),Yi(D,Y,Hr(V,l,w,Y,a,U))}),D}function Fl(a,l,w){var A=w.length;if(a==null)return!A;for(a=he(a);A--;){var I=w[A],U=l[I],D=a[I];if(D===n&&!(I in a)||!U(D))return!1}return!0}function ms(a,l,w){if(typeof a!="function")throw new ut(e);return Ti(function(){a.apply(n,w)},l)}function ua(a,l,w,A){var I=-1,U=Jn,D=!0,E=a.length,N=[],v=l.length;if(!E)return N;w&&(l=nn(l,vr(w))),A?(U=ri,D=!1):l.length>=200&&(U=Ro,D=!1,l=new Z(l));e:for(;++I<E;){var m=a[I],x=w==null?m:w(m);if(m=A||m!==0?m:0,D&&x==x){for(var P=v;P--;)if(l[P]===x)continue e;N.push(m)}else U(l,x,A)||N.push(m)}return N}R.templateSettings={escape:ur,evaluate:Fn,interpolate:wi,variable:"",imports:{_:R}},R.prototype=Yu.prototype,R.prototype.constructor=R,Lr.prototype=is(Yu.prototype),Lr.prototype.constructor=Lr,_t.prototype=is(Yu.prototype),_t.prototype.constructor=_t,Ae.prototype.clear=function(){this.__data__=Hs?Hs(null):{},this.size=0},Ae.prototype.delete=function(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l},Ae.prototype.get=function(a){var l=this.__data__;if(Hs){var w=l[a];return w===t?n:w}return $t.call(l,a)?l[a]:n},Ae.prototype.has=function(a){var l=this.__data__;return Hs?l[a]!==n:$t.call(l,a)},Ae.prototype.set=function(a,l){var w=this.__data__;return this.size+=this.has(a)?0:1,w[a]=Hs&&l===n?t:l,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(a){var l=this.__data__,w=sa(l,a);return!(w<0||(w==l.length-1?l.pop():cl.call(l,w,1),--this.size,0))},$r.prototype.get=function(a){var l=this.__data__,w=sa(l,a);return w<0?n:l[w][1]},$r.prototype.has=function(a){return sa(this.__data__,a)>-1},$r.prototype.set=function(a,l){var w=this.__data__,A=sa(w,a);return A<0?(++this.size,w.push([a,l])):w[A][1]=l,this},xi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(ks||$r),string:new Ae}},xi.prototype.delete=function(a){var l=ss(this,a).delete(a);return this.size-=l?1:0,l},xi.prototype.get=function(a){return ss(this,a).get(a)},xi.prototype.has=function(a){return ss(this,a).has(a)},xi.prototype.set=function(a,l){var w=ss(this,a),A=w.size;return w.set(a,l),this.size+=w.size==A?0:1,this},Z.prototype.add=Z.prototype.push=function(a){return this.__data__.set(a,t),this},Z.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.clear=function(){this.__data__=new $r,this.size=0},ln.prototype.delete=function(a){var l=this.__data__,w=l.delete(a);return this.size=l.size,w},ln.prototype.get=function(a){return this.__data__.get(a)},ln.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.set=function(a,l){var w=this.__data__;if(w instanceof $r){var A=w.__data__;if(!ks||A.length<199)return A.push([a,l]),this.size=++w.size,this;w=this.__data__=new xi(A)}return w.set(a,l),this.size=w.size,this};var Li=Va(Pn),fo=Va(Ha,!0);function uf(a,l){var w=!0;return Li(a,function(A,I,U){return w=!!l(A,I,U)}),w}function Sa(a,l,w){for(var A=-1,I=a.length;++A<I;){var U=a[A],D=l(U);if(D!=null&&(E===n?D==D&&!sr(D):w(D,E)))var E=D,N=U}return N}function jo(a,l){var w=[];return Li(a,function(A,I,U){l(A,I,U)&&w.push(A)}),w}function Ln(a,l,w,A,I){var U=-1,D=a.length;for(w||(w=Ut),I||(I=[]);++U<D;){var E=a[U];l>0&&w(E)?l>1?Ln(E,l-1,w,A,I):Xn(I,E):A||(I[I.length]=E)}return I}var Mc=ml(),pc=ml(!0);function Pn(a,l){return a&&Mc(a,l,An)}function Ha(a,l){return a&&pc(a,l,An)}function Ho(a,l){return mi(l,function(w){return mo(a[w])})}function di(a,l){for(var w=0,A=(l=Qr(l,a)).length;a!=null&&w<A;)a=a[Zn(l[w++])];return w&&w==A?a:n}function os(a,l,w){var A=l(a);return dt(a)?A:Xn(A,w(a))}function Kt(a){return a==null?a===n?"[object Undefined]":"[object Null]":aa&&aa in he(a)?function(l){var w=$t.call(l,aa),A=l[aa];try{l[aa]=n;var I=!0}catch{}var U=ps.call(l);return I&&(w?l[aa]=A:delete l[aa]),U}(a):function(l){return ps.call(l)}(a)}function Lo(a,l){return a>l}function Fc(a,l){return a!=null&&$t.call(a,l)}function _a(a,l){return a!=null&&l in he(a)}function rc(a,l,w){for(var A=w?ri:Jn,I=a[0].length,U=a.length,D=U,E=ze(U),N=1/0,v=[];D--;){var m=a[D];D&&l&&(m=nn(m,vr(l))),N=wn(m.length,N),E[D]=!w&&(l||I>=120&&m.length>=120)?new Z(D&&m):n}m=a[0];var x=-1,P=E[0];e:for(;++x<I&&v.length<N;){var L=m[x],H=l?l(L):L;if(L=w||L!==0?L:0,!(P?Ro(P,H):A(v,H,w))){for(D=U;--D;){var V=E[D];if(!(V?Ro(V,H):A(a[D],H,w)))continue e}P&&P.push(H),v.push(L)}}return v}function Xr(a,l,w){var A=(a=va(a,l=Qr(l,a)))==null?a:a[Zn(ai(l))];return A==null?n:Rn(A,a,w)}function as(a){return Wt(a)&&Kt(a)==g}function Ea(a,l,w,A,I){return a===l||(a==null||l==null||!Wt(a)&&!Wt(l)?a!=a&&l!=l:function(U,D,E,N,v,m){var x=dt(U),P=dt(D),L=x?y:Lt(U),H=P?y:Lt(D),V=(L=L==g?W:L)==W,Y=(H=H==g?W:H)==W,re=L==H;if(re&&$o(U)){if(!$o(D))return!1;x=!0,V=!1}if(re&&!V)return m||(m=new ln),x||sn(U)?dl(U,D,E,N,v,m):function(we,Te,Ge,Ie,Xe,Ye,rt){switch(Ge){case xe:if(we.byteLength!=Te.byteLength||we.byteOffset!=Te.byteOffset)return!1;we=we.buffer,Te=Te.buffer;case ge:return!(we.byteLength!=Te.byteLength||!Ye(new kl(we),new kl(Te)));case b:case _:case z:return Kr(+we,+Te);case M:return we.name==Te.name&&we.message==Te.message;case G:case te:return we==Te+"";case j:var St=ji;case Q:var Mt=1&Ie;if(St||(St=ts),we.size!=Te.size&&!Mt)return!1;var en=rt.get(we);if(en)return en==Te;Ie|=2,rt.set(we,Te);var qt=dl(St(we),St(Te),Ie,Xe,Ye,rt);return rt.delete(we),qt;case ae:if(Ms)return Ms.call(we)==Ms.call(Te)}return!1}(U,D,L,E,N,v,m);if(!(1&E)){var ne=V&&$t.call(U,"__wrapped__"),ce=Y&&$t.call(D,"__wrapped__");if(ne||ce){var me=ne?U.value():U,be=ce?D.value():D;return m||(m=new ln),v(me,be,E,N,m)}}return!!re&&(m||(m=new ln),function(we,Te,Ge,Ie,Xe,Ye){var rt=1&Ge,St=qo(we),Mt=St.length;if(Mt!=qo(Te).length&&!rt)return!1;for(var en=Mt;en--;){var qt=St[en];if(!(rt?qt in Te:$t.call(Te,qt)))return!1}var It=Ye.get(we),Zt=Ye.get(Te);if(It&&Zt)return It==Te&&Zt==we;var yr=!0;Ye.set(we,Te),Ye.set(Te,we);for(var cr=rt;++en<Mt;){var fi=we[qt=St[en]],Gn=Te[qt];if(Ie)var Uo=rt?Ie(Gn,fi,qt,Te,we,Ye):Ie(fi,Gn,qt,we,Te,Ye);if(!(Uo===n?fi===Gn||Xe(fi,Gn,Ge,Ie,Ye):Uo)){yr=!1;break}cr||(cr=qt=="constructor")}if(yr&&!cr){var fr=we.constructor,Ga=Te.constructor;fr==Ga||!("constructor"in we)||!("constructor"in Te)||typeof fr=="function"&&fr instanceof fr&&typeof Ga=="function"&&Ga instanceof Ga||(yr=!1)}return Ye.delete(we),Ye.delete(Te),yr}(U,D,E,N,v,m))}(a,l,w,A,Ea,I))}function Ci(a,l,w,A){var I=w.length,U=I,D=!A;if(a==null)return!U;for(a=he(a);I--;){var E=w[I];if(D&&E[2]?E[1]!==a[E[0]]:!(E[0]in a))return!1}for(;++I<U;){var N=(E=w[I])[0],v=a[N],m=E[1];if(D&&E[2]){if(v===n&&!(N in a))return!1}else{var x=new ln;if(A)var P=A(v,m,N,a,l,x);if(!(P===n?Ea(m,v,3,A,x):P))return!1}}return!0}function pl(a){return!(!on(a)||(l=a,oa&&oa in l))&&(mo(a)?yf:Ui).test(Po(a));var l}function Au(a){return typeof a=="function"?a:a==null?Yn:typeof a=="object"?dt(a)?ki(a[0],a[1]):mu(a):li(a)}function ds(a){if(!br(a))return Sh(a);var l=[];for(var w in he(a))$t.call(a,w)&&w!="constructor"&&l.push(w);return l}function ir(a,l){return a<l}function Qn(a,l){var w=-1,A=$n(a)?ze(a.length):[];return Li(a,function(I,U,D){A[++w]=l(I,U,D)}),A}function mu(a){var l=Ol(a);return l.length==1&&l[0][2]?Ys(l[0][0],l[0][1]):function(w){return w===a||Ci(w,a,l)}}function ki(a,l){return Vn(a)&&Gs(l)?Ys(Zn(a),l):function(w){var A=ac(w,a);return A===n&&A===l?zn(w,a):Ea(l,A,3)}}function Mi(a,l,w,A,I){a!==l&&Mc(l,function(U,D){if(I||(I=new ln),on(U))(function(N,v,m,x,P,L,H){var V=qr(N,m),Y=qr(v,m),re=H.get(Y);if(re)Di(N,m,re);else{var ne=L?L(V,Y,m+"",N,v,H):n,ce=ne===n;if(ce){var me=dt(Y),be=!me&&$o(Y),we=!me&&!be&&sn(Y);ne=Y,me||be||we?dt(V)?ne=V:Dn(V)?ne=or(V):be?(ce=!1,ne=jc(Y,!0)):we?(ce=!1,ne=ru(Y,!0)):ne=[]:us(Y)||To(Y)?(ne=V,To(V)?ne=zo(V):on(V)&&!mo(V)||(ne=Ks(Y))):ce=!1}ce&&(H.set(Y,ne),P(ne,Y,x,L,H),H.delete(Y)),Di(N,m,ne)}})(a,l,D,w,Mi,A,I);else{var E=A?A(qr(a,D),U,D+"",a,l,I):n;E===n&&(E=U),Di(a,D,E)}},Er)}function Ju(a,l){var w=a.length;if(w)return gr(l+=l<0?w:0,w)?a[l]:n}function ku(a,l,w){l=l.length?nn(l,function(U){return dt(U)?function(D){return di(D,U.length===1?U[0]:U)}:U}):[Yn];var A=-1;l=nn(l,vr(st()));var I=Qn(a,function(U,D,E){var N=nn(l,function(v){return v(U)});return{criteria:N,index:++A,value:U}});return function(U,D){var E=U.length;for(U.sort(D);E--;)U[E]=U[E].value;return U}(I,function(U,D){return function(E,N,v){for(var m=-1,x=E.criteria,P=N.criteria,L=x.length,H=v.length;++m<L;){var V=qs(x[m],P[m]);if(V)return m>=H?V:V*(v[m]=="desc"?-1:1)}return E.index-N.index}(U,D,w)})}function Ji(a,l,w){for(var A=-1,I=l.length,U={};++A<I;){var D=l[A],E=di(a,D);w(E,D)&&Vs(U,Qr(D,a),E)}return U}function ic(a,l,w,A){var I=A?Bc:bi,U=-1,D=l.length,E=a;for(a===l&&(l=or(l)),w&&(E=nn(a,vr(w)));++U<D;)for(var N=0,v=l[U],m=w?w(v):v;(N=I(E,m,N,A))>-1;)E!==a&&cl.call(E,N,1),cl.call(a,N,1);return a}function Pl(a,l){for(var w=a?l.length:0,A=w-1;w--;){var I=l[w];if(w==A||I!==U){var U=I;gr(I)?cl.call(a,I,1):Co(a,I)}}return a}function Fs(a,l){return a+$u(Rf()*(l-a+1))}function du(a,l){var w="";if(!a||l<1||l>u)return w;do l%2&&(w+=a),(l=$u(l/2))&&(a+=a);while(l);return w}function Ct(a,l){return go(po(a,l,Yn),a+"")}function vs(a){return bn(On(a))}function Zc(a,l){var w=On(a);return wu(w,Ta(l,0,w.length))}function Vs(a,l,w,A){if(!on(a))return a;for(var I=-1,U=(l=Qr(l,a)).length,D=U-1,E=a;E!=null&&++I<U;){var N=Zn(l[I]),v=w;if(N==="__proto__"||N==="constructor"||N==="prototype")return a;if(I!=D){var m=E[N];(v=A?A(m,N,E):n)===n&&(v=on(m)?m:gr(l[I+1])?[]:{})}Yi(E,N,v),E=E[N]}return a}var Tl=Fa?function(a,l){return Fa.set(a,l),a}:Yn,Ps=gu?function(a,l){return gu(a,"toString",{configurable:!0,enumerable:!1,value:wc(l),writable:!0})}:Yn;function Ar(a){return wu(On(a))}function lr(a,l,w){var A=-1,I=a.length;l<0&&(l=-l>I?0:I+l),(w=w>I?I:w)<0&&(w+=I),I=l>w?0:w-l>>>0,l>>>=0;for(var U=ze(I);++A<I;)U[A]=a[A+l];return U}function Pc(a,l){var w;return Li(a,function(A,I,U){return!(w=l(A,I,U))}),!!w}function tn(a,l,w){var A=0,I=a==null?A:a.length;if(typeof l=="number"&&l==l&&I<=2147483647){for(;A<I;){var U=A+I>>>1,D=a[U];D!==null&&!sr(D)&&(w?D<=l:D<l)?A=U+1:I=U}return I}return ao(a,l,Yn,w)}function ao(a,l,w,A){var I=0,U=a==null?0:a.length;if(U===0)return 0;for(var D=(l=w(l))!=l,E=l===null,N=sr(l),v=l===n;I<U;){var m=$u((I+U)/2),x=w(a[m]),P=x!==n,L=x===null,H=x==x,V=sr(x);if(D)var Y=A||H;else Y=v?H&&(A||P):E?H&&P&&(A||!L):N?H&&P&&!L&&(A||!V):!L&&!V&&(A?x<=l:x<l);Y?I=m+1:U=m}return wn(U,4294967294)}function Wr(a,l){for(var w=-1,A=a.length,I=0,U=[];++w<A;){var D=a[w],E=l?l(D):D;if(!w||!Kr(E,N)){var N=E;U[I++]=D===0?0:D}}return U}function Vr(a){return typeof a=="number"?a:sr(a)?c:+a}function xn(a){if(typeof a=="string")return a;if(dt(a))return nn(a,xn)+"";if(sr(a))return Ml?Ml.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function hr(a,l,w){var A=-1,I=Jn,U=a.length,D=!0,E=[],N=E;if(w)D=!1,I=ri;else if(U>=200){var v=l?null:gc(a);if(v)return ts(v);D=!1,I=Ro,N=new Z}else N=l?[]:E;e:for(;++A<U;){var m=a[A],x=l?l(m):m;if(m=w||m!==0?m:0,D&&x==x){for(var P=N.length;P--;)if(N[P]===x)continue e;l&&N.push(x),E.push(m)}else I(N,x,w)||(N!==E&&N.push(x),E.push(m))}return E}function Co(a,l){return(a=va(a,l=Qr(l,a)))==null||delete a[Zn(ai(l))]}function So(a,l,w,A){return Vs(a,l,w(di(a,l)),A)}function nu(a,l,w,A){for(var I=a.length,U=A?I:-1;(A?U--:++U<I)&&l(a[U],U,a););return w?lr(a,A?0:U,A?U+1:I):lr(a,A?U+1:0,A?I:U)}function Ia(a,l){var w=a;return w instanceof _t&&(w=w.value()),es(l,function(A,I){return I.func.apply(I.thisArg,Xn([A],I.args))},w)}function zr(a,l,w){var A=a.length;if(A<2)return A?hr(a[0]):[];for(var I=-1,U=ze(A);++I<A;)for(var D=a[I],E=-1;++E<A;)E!=I&&(U[I]=ua(U[I]||D,a[E],l,w));return hr(Ln(U,1),l,w)}function so(a,l,w){for(var A=-1,I=a.length,U=l.length,D={};++A<I;){var E=A<U?l[A]:n;w(D,a[A],E)}return D}function pr(a){return Dn(a)?a:[]}function Sr(a){return typeof a=="function"?a:Yn}function Qr(a,l){return dt(a)?a:Vn(a,l)?[a]:Lc(Ot(a))}var Ql=Ct;function Zi(a,l,w){var A=a.length;return w=w===n?A:w,!l&&w>=A?a:lr(a,l,w)}var gl=sf||function(a){return Bt.clearTimeout(a)};function jc(a,l){if(l)return a.slice();var w=a.length,A=wf?wf(w):new a.constructor(w);return a.copy(A),A}function Mu(a){var l=new a.constructor(a.byteLength);return new kl(l).set(new kl(a)),l}function ru(a,l){var w=l?Mu(a.buffer):a.buffer;return new a.constructor(w,a.byteOffset,a.length)}function qs(a,l){if(a!==l){var w=a!==n,A=a===null,I=a==a,U=sr(a),D=l!==n,E=l===null,N=l==l,v=sr(l);if(!E&&!v&&!U&&a>l||U&&D&&N&&!E&&!v||A&&D&&N||!w&&N||!I)return 1;if(!A&&!U&&!v&&a<l||v&&w&&I&&!A&&!U||E&&w&&I||!D&&I||!N)return-1}return 0}function Ts(a,l,w,A){for(var I=-1,U=a.length,D=w.length,E=-1,N=l.length,v=Tn(U-D,0),m=ze(N+v),x=!A;++E<N;)m[E]=l[E];for(;++I<D;)(x||I<U)&&(m[w[I]]=a[I]);for(;v--;)m[E++]=a[I++];return m}function iu(a,l,w,A){for(var I=-1,U=a.length,D=-1,E=w.length,N=-1,v=l.length,m=Tn(U-E,0),x=ze(m+v),P=!A;++I<m;)x[I]=a[I];for(var L=I;++N<v;)x[L+N]=l[N];for(;++D<E;)(P||I<U)&&(x[L+w[D]]=a[I++]);return x}function or(a,l){var w=-1,A=a.length;for(l||(l=ze(A));++w<A;)l[w]=a[w];return l}function Kn(a,l,w,A){var I=!w;w||(w={});for(var U=-1,D=l.length;++U<D;){var E=l[U],N=A?A(w[E],a[E],E,w,a):n;N===n&&(N=a[E]),I?oi(w,E,N):Yi(w,E,N)}return w}function Oa(a,l){return function(w,A){var I=dt(w)?Qf:Ca,U=l?l():{};return I(w,a,st(A,2),U)}}function la(a){return Ct(function(l,w){var A=-1,I=w.length,U=I>1?w[I-1]:n,D=I>2?w[2]:n;for(U=a.length>3&&typeof U=="function"?(I--,U):n,D&&Gt(w[0],w[1],D)&&(U=I<3?n:U,I=1),l=he(l);++A<I;){var E=w[A];E&&a(l,E,A,U)}return l})}function Va(a,l){return function(w,A){if(w==null)return w;if(!$n(w))return a(w,A);for(var I=w.length,U=l?I:-1,D=he(w);(l?U--:++U<I)&&A(D[U],U,D)!==!1;);return w}}function ml(a){return function(l,w,A){for(var I=-1,U=he(l),D=A(l),E=D.length;E--;){var N=D[a?E:++I];if(w(U[N],N,U)===!1)break}return l}}function ca(a){return function(l){var w=Wa(l=Ot(l))?ii(l):n,A=w?w[0]:l.charAt(0),I=w?Zi(w,1).join(""):l.slice(1);return A[a]()+I}}function uo(a){return function(l){return es(Pu(ei(l).replace(Lu,"")),a,"")}}function Vo(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var w=is(a.prototype),A=a.apply(w,l);return on(A)?A:w}}function Hi(a){return function(l,w,A){var I=he(l);if(!$n(l)){var U=st(w,3);l=An(l),w=function(E){return U(I[E],E,I)}}var D=a(l,w,A);return D>-1?I[U?l[D]:D]:n}}function eo(a){return lo(function(l){var w=l.length,A=w,I=Lr.prototype.thru;for(a&&l.reverse();A--;){var U=l[A];if(typeof U!="function")throw new ut(e);if(I&&!D&&no(U)=="wrapper")var D=new Lr([],!0)}for(A=D?A:w;++A<w;){var E=no(U=l[A]),N=E=="wrapper"?ou(U):n;D=N&&kr(N[0])&&N[1]==424&&!N[4].length&&N[9]==1?D[no(N[0])].apply(D,N[3]):U.length==1&&kr(U)?D[E]():D.thru(U)}return function(){var v=arguments,m=v[0];if(D&&v.length==1&&dt(m))return D.plant(m).value();for(var x=0,P=w?l[x].apply(this,v):m;++x<w;)P=l[x].call(this,P);return P}})}function Fo(a,l,w,A,I,U,D,E,N,v){var m=l&o,x=1&l,P=2&l,L=24&l,H=512&l,V=P?n:Vo(a);return function Y(){for(var re=arguments.length,ne=ze(re),ce=re;ce--;)ne[ce]=arguments[ce];if(L)var me=Xi(Y),be=function(Ie,Xe){for(var Ye=Ie.length,rt=0;Ye--;)Ie[Ye]===Xe&&++rt;return rt}(ne,me);if(A&&(ne=Ts(ne,A,I,L)),U&&(ne=iu(ne,U,D,L)),re-=be,L&&re<v){var we=xo(ne,me);return Is(a,l,Fo,Y.placeholder,w,ne,we,E,N,v-re)}var Te=x?w:this,Ge=P?Te[a]:a;return re=ne.length,E?ne=function(Ie,Xe){for(var Ye=Ie.length,rt=wn(Xe.length,Ye),St=or(Ie);rt--;){var Mt=Xe[rt];Ie[rt]=gr(Mt,Ye)?St[Mt]:n}return Ie}(ne,E):H&&re>1&&ne.reverse(),m&&N<re&&(ne.length=N),this&&this!==Bt&&this instanceof Y&&(Ge=V||Vo(Ge)),Ge.apply(Te,ne)}}function $i(a,l){return function(w,A){return function(I,U,D,E){return Pn(I,function(N,v,m){U(E,D(N),v,m)}),E}(w,a,l(A),{})}}function to(a,l){return function(w,A){var I;if(w===n&&A===n)return l;if(w!==n&&(I=w),A!==n){if(I===n)return A;typeof w=="string"||typeof A=="string"?(w=xn(w),A=xn(A)):(w=Vr(w),A=Vr(A)),I=a(w,A)}return I}}function ho(a){return lo(function(l){return l=nn(l,vr(st())),Ct(function(w){var A=this;return a(l,function(I){return Rn(I,A,w)})})})}function Na(a,l){var w=(l=l===n?" ":xn(l)).length;if(w<2)return w?du(l,a):l;var A=du(l,Zo(a/Qi(l)));return Wa(l)?Zi(ii(A),0,a).join(""):A.slice(0,a)}function vu(a){return function(l,w,A){return A&&typeof A!="number"&&Gt(l,w,A)&&(w=A=n),l=yi(l),w===n?(w=l,l=0):w=yi(w),function(I,U,D,E){for(var N=-1,v=Tn(Zo((U-I)/(D||1)),0),m=ze(v);v--;)m[E?v:++N]=I,I+=D;return m}(l,w,A=A===n?l<w?1:-1:yi(A),a)}}function qa(a){return function(l,w){return typeof l=="string"&&typeof w=="string"||(l=xr(l),w=xr(w)),a(l,w)}}function Is(a,l,w,A,I,U,D,E,N,v){var m=8&l;l|=m?i:64,4&(l&=~(m?64:i))||(l&=-4);var x=[a,l,I,m?U:n,m?D:n,m?n:U,m?n:D,E,N,v],P=w.apply(n,x);return kr(a)&&Fu(P,x),P.placeholder=A,Js(P,a,l)}function ma(a){var l=Et[a];return function(w,A){if(w=xr(w),(A=A==null?0:wn(mt(A),292))&&Rc(w)){var I=(Ot(w)+"e").split("e");return+((I=(Ot(l(I[0]+"e"+(+I[1]+A)))+"e").split("e"))[0]+"e"+(+I[1]-A))}return l(w)}}var gc=Tr&&1/ts(new Tr([,-0]))[1]==s?function(a){return new Tr(a)}:ec;function Il(a){return function(l){var w=Lt(l);return w==j?ji(l):w==Q?function(I){var U=-1,D=Array(I.size);return I.forEach(function(E){D[++U]=[E,E]}),D}(l):function(A,I){return nn(I,function(U){return[U,A[U]]})}(l,a(l))}}function wr(a,l,w,A,I,U,D,E){var N=2&l;if(!N&&typeof a!="function")throw new ut(e);var v=A?A.length:0;if(v||(l&=-97,A=I=n),D=D===n?D:Tn(mt(D),0),E=E===n?E:mt(E),v-=I?I.length:0,64&l){var m=A,x=I;A=I=n}var P=N?n:ou(a),L=[a,l,w,A,I,m,x,U,D,E];if(P&&function(V,Y){var re=V[1],ne=Y[1],ce=re|ne,me=ce<131,be=ne==o&&re==8||ne==o&&re==256&&V[7].length<=Y[8]||ne==384&&Y[7].length<=Y[8]&&re==8;if(!me&&!be)return V;1&ne&&(V[2]=Y[2],ce|=1&re?0:4);var we=Y[3];if(we){var Te=V[3];V[3]=Te?Ts(Te,we,Y[4]):we,V[4]=Te?xo(V[3],r):Y[4]}(we=Y[5])&&(Te=V[5],V[5]=Te?iu(Te,we,Y[6]):we,V[6]=Te?xo(V[5],r):Y[6]),(we=Y[7])&&(V[7]=we),ne&o&&(V[8]=V[8]==null?Y[8]:wn(V[8],Y[8])),V[9]==null&&(V[9]=Y[9]),V[0]=Y[0],V[1]=ce}(L,P),a=L[0],l=L[1],w=L[2],A=L[3],I=L[4],!(E=L[9]=L[9]===n?N?0:a.length:Tn(L[9]-v,0))&&24&l&&(l&=-25),l&&l!=1)H=l==8||l==16?function(V,Y,re){var ne=Vo(V);return function ce(){for(var me=arguments.length,be=ze(me),we=me,Te=Xi(ce);we--;)be[we]=arguments[we];var Ge=me<3&&be[0]!==Te&&be[me-1]!==Te?[]:xo(be,Te);return(me-=Ge.length)<re?Is(V,Y,Fo,ce.placeholder,n,be,Ge,n,n,re-me):Rn(this&&this!==Bt&&this instanceof ce?ne:V,this,be)}}(a,l,E):l!=i&&l!=33||I.length?Fo.apply(n,L):function(V,Y,re,ne){var ce=1&Y,me=Vo(V);return function be(){for(var we=-1,Te=arguments.length,Ge=-1,Ie=ne.length,Xe=ze(Ie+Te),Ye=this&&this!==Bt&&this instanceof be?me:V;++Ge<Ie;)Xe[Ge]=ne[Ge];for(;Te--;)Xe[Ge++]=arguments[++we];return Rn(Ye,ce?re:this,Xe)}}(a,l,w,A);else var H=function(V,Y,re){var ne=1&Y,ce=Vo(V);return function me(){return(this&&this!==Bt&&this instanceof me?ce:V).apply(ne?re:this,arguments)}}(a,l,w);return Js((P?Tl:Fu)(H,L),a,l)}function ys(a,l,w,A){return a===n||Kr(a,Cr[w])&&!$t.call(A,w)?l:a}function yu(a,l,w,A,I,U){return on(a)&&on(l)&&(U.set(l,a),Mi(a,l,n,yu,U),U.delete(l)),a}function lf(a){return us(a)?n:a}function dl(a,l,w,A,I,U){var D=1&w,E=a.length,N=l.length;if(E!=N&&!(D&&N>E))return!1;var v=U.get(a),m=U.get(l);if(v&&m)return v==l&&m==a;var x=-1,P=!0,L=2&w?new Z:n;for(U.set(a,l),U.set(l,a);++x<E;){var H=a[x],V=l[x];if(A)var Y=D?A(V,H,x,l,a,U):A(H,V,x,a,l,U);if(Y!==n){if(Y)continue;P=!1;break}if(L){if(!Jr(l,function(re,ne){if(!Ro(L,ne)&&(H===re||I(H,re,w,A,U)))return L.push(ne)})){P=!1;break}}else if(H!==V&&!I(H,V,w,A,U)){P=!1;break}}return U.delete(a),U.delete(l),P}function lo(a){return go(po(a,n,Ka),a+"")}function qo(a){return os(a,An,ar)}function Ba(a){return os(a,Er,da)}var ou=Fa?function(a){return Fa.get(a)}:ec;function no(a){for(var l=a.name+"",w=Pa[l],A=$t.call(Pa,l)?w.length:0;A--;){var I=w[A],U=I.func;if(U==null||U==a)return I.name}return l}function Xi(a){return($t.call(R,"placeholder")?R:a).placeholder}function st(){var a=R.iteratee||bc;return a=a===bc?Au:a,arguments.length?a(arguments[0],arguments[1]):a}function ss(a,l){var w,A,I=a.__data__;return((A=typeof(w=l))=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null)?I[typeof l=="string"?"string":"hash"]:I.map}function Ol(a){for(var l=An(a),w=l.length;w--;){var A=l[w],I=a[A];l[w]=[A,I,Gs(I)]}return l}function Zr(a,l){var w=function(A,I){return A==null?n:A[I]}(a,l);return pl(w)?w:n}var ar=zu?function(a){return a==null?[]:(a=he(a),mi(zu(a),function(l){return nc.call(a,l)}))}:ci,da=zu?function(a){for(var l=[];a;)Xn(l,ar(a)),a=Ma(a);return l}:ci,Lt=Kt;function Hu(a,l,w){for(var A=-1,I=(l=Qr(l,a)).length,U=!1;++A<I;){var D=Zn(l[A]);if(!(U=a!=null&&w(a,D)))break;a=a[D]}return U||++A!=I?U:!!(I=a==null?0:a.length)&&zt(I)&&gr(D,I)&&(dt(a)||To(a))}function Ks(a){return typeof a.constructor!="function"||br(a)?{}:is(Ma(a))}function Ut(a){return dt(a)||To(a)||!!(fl&&a&&a[fl])}function gr(a,l){var w=typeof a;return!!(l=l??u)&&(w=="number"||w!="symbol"&&bo.test(a))&&a>-1&&a%1==0&&a<l}function Gt(a,l,w){if(!on(w))return!1;var A=typeof l;return!!(A=="number"?$n(w)&&gr(l,w.length):A=="string"&&l in w)&&Kr(w[l],a)}function Vn(a,l){if(dt(a))return!1;var w=typeof a;return!(w!="number"&&w!="symbol"&&w!="boolean"&&a!=null&&!sr(a))||$a.test(a)||!js.test(a)||l!=null&&a in he(l)}function kr(a){var l=no(a),w=R[l];if(typeof w!="function"||!(l in _t.prototype))return!1;if(a===w)return!0;var A=ou(w);return!!A&&a===A[0]}(Da&&Lt(new Da(new ArrayBuffer(1)))!=xe||ks&&Lt(new ks)!=j||Ai&&Lt(Ai.resolve())!=J||Tr&&Lt(new Tr)!=Q||ns&&Lt(new ns)!=se)&&(Lt=function(a){var l=Kt(a),w=l==W?a.constructor:n,A=w?Po(w):"";if(A)switch(A){case kc:return xe;case Uu:return j;case Wu:return J;case hl:return Q;case Yl:return se}return l});var Nl=Do?mo:Ir;function br(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||Cr)}function Gs(a){return a==a&&!on(a)}function Ys(a,l){return function(w){return w!=null&&w[a]===l&&(l!==n||a in he(w))}}function po(a,l,w){return l=Tn(l===n?a.length-1:l,0),function(){for(var A=arguments,I=-1,U=Tn(A.length-l,0),D=ze(U);++I<U;)D[I]=A[l+I];I=-1;for(var E=ze(l+1);++I<l;)E[I]=A[I];return E[l]=w(D),Rn(a,this,E)}}function va(a,l){return l.length<2?a:di(a,lr(l,0,-1))}function qr(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}var Fu=Bl(Tl),Ti=Ac||function(a,l){return Bt.setTimeout(a,l)},go=Bl(Ps);function Js(a,l,w){var A=l+"";return go(a,function(I,U){var D=U.length;if(!D)return I;var E=D-1;return U[E]=(D>1?"& ":"")+U[E],U=U.join(D>2?", ":" "),I.replace(Be,`{
/* [wrapped with `+U+`] */
`)}(A,function(I,U){return jr(f,function(D){var E="_."+D[0];U&D[1]&&!Jn(I,E)&&I.push(E)}),I.sort()}(function(I){var U=I.match(He);return U?U[1].split(We):[]}(A),w)))}function Bl(a){var l=0,w=0;return function(){var A=Gl(),I=16-(A-w);if(w=A,I>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(n,arguments)}}function wu(a,l){var w=-1,A=a.length,I=A-1;for(l=l===n?A:l;++w<l;){var U=Fs(w,I),D=a[U];a[U]=a[w],a[w]=D}return a.length=l,a}var Lc=function(){var a=jl(function(w){var A=[];return w.charCodeAt(0)===46&&A.push(""),w.replace(fe,function(I,U,D,E){A.push(D?E.replace(bt,"$1"):U||I)}),A},function(w){return l.size===500&&l.clear(),w}),l=a.cache;return a}();function Zn(a){if(typeof a=="string"||sr(a))return a;var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function Po(a){if(a!=null){try{return jn.call(a)}catch{}try{return a+""}catch{}}return""}function $c(a){if(a instanceof _t)return a.clone();var l=new Lr(a.__wrapped__,a.__chain__);return l.__actions__=or(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}var mc=Ct(function(a,l){return Dn(a)?ua(a,Ln(l,1,Dn,!0)):[]}),Tc=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),st(w,2)):[]}),jf=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),n,w):[]});function Xs(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),Wn(a,st(l,3),I)}function vi(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A-1;return w!==n&&(I=mt(w),I=w<0?Tn(A+I,0):wn(I,A-1)),Wn(a,st(l,3),I,!0)}function Ka(a){return a!=null&&a.length?Ln(a,1):[]}function Si(a){return a&&a.length?a[0]:n}var bu=Ct(function(a){var l=nn(a,pr);return l.length&&l[0]===a[0]?rc(l):[]}),bf=Ct(function(a){var l=ai(a),w=nn(a,pr);return l===ai(w)?l=n:w.pop(),w.length&&w[0]===a[0]?rc(w,st(l,2)):[]}),cf=Ct(function(a){var l=ai(a),w=nn(a,pr);return(l=typeof l=="function"?l:n)&&w.pop(),w.length&&w[0]===a[0]?rc(w,n,l):[]});function ai(a){var l=a==null?0:a.length;return l?a[l-1]:n}var Xu=Ct(zc);function zc(a,l){return a&&a.length&&l&&l.length?ic(a,l):a}var eh=lo(function(a,l){var w=a==null?0:a.length,A=Xl(a,l);return Pl(a,nn(l,function(I){return gr(I,w)?+I:I}).sort(qs)),A});function Rl(a){return a==null?a:Ws.call(a)}var dc=Ct(function(a){return hr(Ln(a,1,Dn,!0))}),Os=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),hr(Ln(a,1,Dn,!0),st(l,2))}),th=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,hr(Ln(a,1,Dn,!0),n,l)});function Uc(a){if(!a||!a.length)return[];var l=0;return a=mi(a,function(w){if(Dn(w))return l=Tn(w.length,l),!0}),tc(l,function(w){return nn(a,pa(w))})}function ya(a,l){if(!a||!a.length)return[];var w=Uc(a);return l==null?w:nn(w,function(A){return Rn(l,n,A)})}var Th=Ct(function(a,l){return Dn(a)?ua(a,l):[]}),Ih=Ct(function(a){return zr(mi(a,Dn))}),Oh=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),zr(mi(a,Dn),st(l,2))}),Lf=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,zr(mi(a,Dn),n,l)}),hh=Ct(Uc),xf=Ct(function(a){var l=a.length,w=l>1?a[l-1]:n;return w=typeof w=="function"?(a.pop(),w):n,ya(a,w)});function ph(a){var l=R(a);return l.__chain__=!0,l}function vl(a,l){return l(a)}var nh=lo(function(a){var l=a.length,w=l?a[0]:0,A=this.__wrapped__,I=function(U){return Xl(U,a)};return!(l>1||this.__actions__.length)&&A instanceof _t&&gr(w)?((A=A.slice(w,+w+(l?1:0))).__actions__.push({func:vl,args:[I],thisArg:n}),new Lr(A,this.__chain__).thru(function(U){return l&&!U.length&&U.push(n),U})):this.thru(I)}),xu=Oa(function(a,l,w){$t.call(a,w)?++a[w]:oi(a,w,1)}),$f=Hi(Xs),ff=Hi(vi);function Df(a,l){return(dt(a)?jr:Li)(a,st(l,3))}function Wc(a,l){return(dt(a)?Nc:fo)(a,st(l,3))}var Nh=Oa(function(a,l,w){$t.call(a,w)?a[w].push(l):oi(a,w,[l])}),zf=Ct(function(a,l,w){var A=-1,I=typeof l=="function",U=$n(a)?ze(a.length):[];return Li(a,function(D){U[++A]=I?Rn(l,D,w):Xr(D,l,w)}),U}),yl=Oa(function(a,l,w){oi(a,w,l)});function wl(a,l){return(dt(a)?nn:Qn)(a,st(l,3))}var Uf=Oa(function(a,l,w){a[w?0:1].push(l)},function(){return[[],[]]}),zh=Ct(function(a,l){if(a==null)return[];var w=l.length;return w>1&&Gt(a,l[0],l[1])?l=[]:w>2&&Gt(l[0],l[1],l[2])&&(l=[l[0]]),ku(a,Ln(l,1),[])}),Zl=fh||function(){return Bt.Date.now()};function hf(a,l,w){return l=w?n:l,l=a&&l==null?a.length:l,wr(a,o,n,n,n,n,l)}function Cf(a,l){var w;if(typeof l!="function")throw new ut(e);return a=mt(a),function(){return--a>0&&(w=l.apply(this,arguments)),a<=1&&(l=n),w}}var oc=Ct(function(a,l,w){var A=1;if(w.length){var I=xo(w,Xi(oc));A|=i}return wr(a,A,l,w,I)}),rh=Ct(function(a,l,w){var A=3;if(w.length){var I=xo(w,Xi(rh));A|=i}return wr(l,A,a,w,I)});function _h(a,l,w){var A,I,U,D,E,N,v=0,m=!1,x=!1,P=!0;if(typeof a!="function")throw new ut(e);function L(ne){var ce=A,me=I;return A=I=n,v=ne,D=a.apply(me,ce)}function H(ne){var ce=ne-N;return N===n||ce>=l||ce<0||x&&ne-v>=U}function V(){var ne=Zl();if(H(ne))return Y(ne);E=Ti(V,function(ce){var me=l-(ce-N);return x?wn(me,U-(ce-v)):me}(ne))}function Y(ne){return E=n,P&&A?L(ne):(A=I=n,D)}function re(){var ne=Zl(),ce=H(ne);if(A=arguments,I=this,N=ne,ce){if(E===n)return function(me){return v=me,E=Ti(V,l),m?L(me):D}(N);if(x)return gl(E),E=Ti(V,l),L(N)}return E===n&&(E=Ti(V,l)),D}return l=xr(l)||0,on(w)&&(m=!!w.leading,U=(x="maxWait"in w)?Tn(xr(w.maxWait)||0,l):U,P="trailing"in w?!!w.trailing:P),re.cancel=function(){E!==n&&gl(E),v=0,A=N=I=E=n},re.flush=function(){return E===n?D:Y(Zl())},re}var _o=Ct(function(a,l){return ms(a,1,l)}),Ra=Ct(function(a,l,w){return ms(a,xr(l)||0,w)});function jl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new ut(e);var w=function(){var A=arguments,I=l?l.apply(this,A):A[0],U=w.cache;if(U.has(I))return U.get(I);var D=a.apply(this,A);return w.cache=U.set(I,D)||U,D};return w.cache=new(jl.Cache||xi),w}function ws(a){if(typeof a!="function")throw new ut(e);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}jl.Cache=xi;var gh=Ql(function(a,l){var w=(l=l.length==1&&dt(l[0])?nn(l[0],vr(st())):nn(Ln(l,1),vr(st()))).length;return Ct(function(A){for(var I=-1,U=wn(A.length,w);++I<U;)A[I]=l[I].call(this,A[I]);return Rn(a,this,A)})}),vc=Ct(function(a,l){var w=xo(l,Xi(vc));return wr(a,i,n,l,w)}),ef=Ct(function(a,l){var w=xo(l,Xi(ef));return wr(a,64,n,l,w)}),Ll=lo(function(a,l){return wr(a,256,n,n,n,l)});function Kr(a,l){return a===l||a!=a&&l!=l}var tf=qa(Lo),Bh=qa(function(a,l){return a>=l}),To=as(function(){return arguments}())?as:function(a){return Wt(a)&&$t.call(a,"callee")&&!nc.call(a,"callee")},dt=ze.isArray,ih=hu?vr(hu):function(a){return Wt(a)&&Kt(a)==ge};function $n(a){return a!=null&&zt(a.length)&&!mo(a)}function Dn(a){return Wt(a)&&$n(a)}var $o=Kl||Ir,wa=Ei?vr(Ei):function(a){return Wt(a)&&Kt(a)==_};function Nr(a){if(!Wt(a))return!1;var l=Kt(a);return l==M||l=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!us(a)}function mo(a){if(!on(a))return!1;var l=Kt(a);return l==F||l==O||l=="[object AsyncFunction]"||l=="[object Proxy]"}function Eo(a){return typeof a=="number"&&a==mt(a)}function zt(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=u}function on(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Wt(a){return a!=null&&typeof a=="object"}var tr=Hn?vr(Hn):function(a){return Wt(a)&&Lt(a)==j};function _r(a){return typeof a=="number"||Wt(a)&&Kt(a)==z}function us(a){if(!Wt(a)||Kt(a)!=W)return!1;var l=Ma(a);if(l===null)return!0;var w=$t.call(l,"constructor")&&l.constructor;return typeof w=="function"&&w instanceof w&&jn.call(w)==Ec}var Fi=Xo?vr(Xo):function(a){return Wt(a)&&Kt(a)==G},Ii=af?vr(af):function(a){return Wt(a)&&Lt(a)==Q};function Ao(a){return typeof a=="string"||!dt(a)&&Wt(a)&&Kt(a)==te}function sr(a){return typeof a=="symbol"||Wt(a)&&Kt(a)==ae}var sn=cc?vr(cc):function(a){return Wt(a)&&zt(a.length)&&!!Qt[Kt(a)]},si=qa(ir),Tt=qa(function(a,l){return a<=l});function Qu(a){if(!a)return[];if($n(a))return Ao(a)?ii(a):or(a);if(Wi&&a[Wi])return function(w){for(var A,I=[];!(A=w.next()).done;)I.push(A.value);return I}(a[Wi]());var l=Lt(a);return(l==j?ji:l==Q?ts:On)(a)}function yi(a){return a?(a=xr(a))===s||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:a===0?a:0}function mt(a){var l=yi(a),w=l%1;return l==l?w?l-w:l:0}function Du(a){return a?Ta(mt(a),0,p):0}function xr(a){if(typeof a=="number")return a;if(sr(a))return c;if(on(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=on(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Hl(a);var w=At.test(a);return w||io.test(a)?Es(a.slice(2),w?2:8):yn.test(a)?c:+a}function zo(a){return Kn(a,Er(a))}function Ot(a){return a==null?"":xn(a)}var nf=la(function(a,l){if(br(l)||$n(l))Kn(l,An(l),a);else for(var w in l)$t.call(l,w)&&Yi(a,w,l[w])}),ui=la(function(a,l){Kn(l,Er(l),a)}),Cu=la(function(a,l,w,A){Kn(l,Er(l),a,A)}),ea=la(function(a,l,w,A){Kn(l,An(l),a,A)}),Ht=lo(Xl),Dr=Ct(function(a,l){a=he(a);var w=-1,A=l.length,I=A>2?l[2]:n;for(I&&Gt(l[0],l[1],I)&&(A=1);++w<A;)for(var U=l[w],D=Er(U),E=-1,N=D.length;++E<N;){var v=D[E],m=a[v];(m===n||Kr(m,Cr[v])&&!$t.call(a,v))&&(a[v]=U[v])}return a}),ko=Ct(function(a){return a.push(n,yu),Rn(pf,n,a)});function ac(a,l,w){var A=a==null?n:di(a,l);return A===n?w:A}function zn(a,l){return a!=null&&Hu(a,l,_a)}var Vu=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),a[l]=w},wc(Yn)),mh=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),$t.call(a,l)?a[l].push(w):a[l]=[w]},st),ls=Ct(Xr);function An(a){return $n(a)?Eu(a):ds(a)}function Er(a){return $n(a)?Eu(a,!0):function(w){if(!on(w))return function(D){var E=[];if(D!=null)for(var N in he(D))E.push(N);return E}(w);var A=br(w),I=[];for(var U in w)(U!="constructor"||!A&&$t.call(w,U))&&I.push(U);return I}(a)}var Eh=la(function(a,l,w){Mi(a,l,w)}),pf=la(function(a,l,w,A){Mi(a,l,w,A)}),Su=lo(function(a,l){var w={};if(a==null)return w;var A=!1;l=nn(l,function(U){return U=Qr(U,a),A||(A=U.length>1),U}),Kn(a,Ba(a),w),A&&(w=Hr(w,7,lf));for(var I=l.length;I--;)Co(w,l[I]);return w}),oh=lo(function(a,l){return a==null?{}:function(w,A){return Ji(w,A,function(I,U){return zn(w,U)})}(a,l)});function Cn(a,l){if(a==null)return{};var w=nn(Ba(a),function(A){return[A]});return l=st(l),Ji(a,w,function(A,I){return l(A,I[0])})}var ja=Il(An),rf=Il(Er);function On(a){return a==null?[]:ll(a,An(a))}var Sn=uo(function(a,l,w){return l=l.toLowerCase(),a+(w?zi(l):l)});function zi(a){return ba(Ot(a).toLowerCase())}function ei(a){return(a=Ot(a))&&a.replace(ta,fc).replace(Br,"")}var Io=uo(function(a,l,w){return a+(w?"-":"")+l.toLowerCase()}),cs=uo(function(a,l,w){return a+(w?" ":"")+l.toLowerCase()}),Zu=ca("toLowerCase"),ro=uo(function(a,l,w){return a+(w?"_":"")+l.toLowerCase()}),yc=uo(function(a,l,w){return a+(w?" ":"")+ba(l)}),bs=uo(function(a,l,w){return a+(w?" ":"")+l.toUpperCase()}),ba=ca("toUpperCase");function Pu(a,l,w){return a=Ot(a),(l=w?n:l)===n?function(A){return Sc.test(A)}(a)?function(A){return A.match(gn)||[]}(a):function(A){return A.match(ot)||[]}(a):a.match(l)||[]}var _u=Ct(function(a,l){try{return Rn(a,n,l)}catch(w){return Nr(w)?w:new Ue(w)}}),xs=lo(function(a,l){return jr(l,function(w){w=Zn(w),oi(a,w,oc(a[w],a))}),a});function wc(a){return function(){return a}}var Tu=eo(),bl=eo(!0);function Yn(a){return a}function bc(a){return Au(typeof a=="function"?a:Hr(a,1))}var qu=Ct(function(a,l){return function(w){return Xr(w,a,l)}}),Hc=Ct(function(a,l){return function(w){return Xr(a,w,l)}});function Ds(a,l,w){var A=An(l),I=Ho(l,A);w!=null||on(l)&&(I.length||!A.length)||(w=l,l=a,a=this,I=Ho(l,An(l)));var U=!(on(w)&&"chain"in w&&!w.chain),D=mo(a);return jr(I,function(E){var N=l[E];a[E]=N,D&&(a.prototype[E]=function(){var v=this.__chain__;if(U||v){var m=a(this.__wrapped__);return(m.__actions__=or(this.__actions__)).push({func:N,args:arguments,thisArg:a}),m.__chain__=v,m}return N.apply(a,Xn([this.value()],arguments))})}),a}function ec(){}var Cs=ho(nn),gf=ho(As),Sf=ho(Jr);function li(a){return Vn(a)?pa(Zn(a)):function(l){return function(w){return di(w,l)}}(a)}var er=vu(),Ko=vu(!0);function ci(){return[]}function Ir(){return!1}var fs,of=to(function(a,l){return a+l},0),au=ma("ceil"),el=to(function(a,l){return a/l},1),Ic=ma("floor"),mf=to(function(a,l){return a*l},1),$l=ma("round"),Oc=to(function(a,l){return a-l},0);return R.after=function(a,l){if(typeof l!="function")throw new ut(e);return a=mt(a),function(){if(--a<1)return l.apply(this,arguments)}},R.ary=hf,R.assign=nf,R.assignIn=ui,R.assignInWith=Cu,R.assignWith=ea,R.at=Ht,R.before=Cf,R.bind=oc,R.bindAll=xs,R.bindKey=rh,R.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return dt(a)?a:[a]},R.chain=ph,R.chunk=function(a,l,w){l=(w?Gt(a,l,w):l===n)?1:Tn(mt(l),0);var A=a==null?0:a.length;if(!A||l<1)return[];for(var I=0,U=0,D=ze(Zo(A/l));I<A;)D[U++]=lr(a,I,I+=l);return D},R.compact=function(a){for(var l=-1,w=a==null?0:a.length,A=0,I=[];++l<w;){var U=a[l];U&&(I[A++]=U)}return I},R.concat=function(){var a=arguments.length;if(!a)return[];for(var l=ze(a-1),w=arguments[0],A=a;A--;)l[A-1]=arguments[A];return Xn(dt(w)?or(w):[w],Ln(l,1))},R.cond=function(a){var l=a==null?0:a.length,w=st();return a=l?nn(a,function(A){if(typeof A[1]!="function")throw new ut(e);return[w(A[0]),A[1]]}):[],Ct(function(A){for(var I=-1;++I<l;){var U=a[I];if(Rn(U[0],this,A))return Rn(U[1],this,A)}})},R.conforms=function(a){return function(l){var w=An(l);return function(A){return Fl(A,l,w)}}(Hr(a,1))},R.constant=wc,R.countBy=xu,R.create=function(a,l){var w=is(a);return l==null?w:Jl(w,l)},R.curry=function a(l,w,A){var I=wr(l,8,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.curryRight=function a(l,w,A){var I=wr(l,16,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.debounce=_h,R.defaults=Dr,R.defaultsDeep=ko,R.defer=_o,R.delay=Ra,R.difference=mc,R.differenceBy=Tc,R.differenceWith=jf,R.drop=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=w||l===n?1:mt(l))<0?0:l,A):[]},R.dropRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,0,(l=A-(l=w||l===n?1:mt(l)))<0?0:l):[]},R.dropRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0,!0):[]},R.dropWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0):[]},R.fill=function(a,l,w,A){var I=a==null?0:a.length;return I?(w&&typeof w!="number"&&Gt(a,l,w)&&(w=0,A=I),function(U,D,E,N){var v=U.length;for((E=mt(E))<0&&(E=-E>v?0:v+E),(N=N===n||N>v?v:mt(N))<0&&(N+=v),N=E>N?0:Du(N);E<N;)U[E++]=D;return U}(a,l,w,A)):[]},R.filter=function(a,l){return(dt(a)?mi:jo)(a,st(l,3))},R.flatMap=function(a,l){return Ln(wl(a,l),1)},R.flatMapDeep=function(a,l){return Ln(wl(a,l),s)},R.flatMapDepth=function(a,l,w){return w=w===n?1:mt(w),Ln(wl(a,l),w)},R.flatten=Ka,R.flattenDeep=function(a){return a!=null&&a.length?Ln(a,s):[]},R.flattenDepth=function(a,l){return a!=null&&a.length?Ln(a,l=l===n?1:mt(l)):[]},R.flip=function(a){return wr(a,512)},R.flow=Tu,R.flowRight=bl,R.fromPairs=function(a){for(var l=-1,w=a==null?0:a.length,A={};++l<w;){var I=a[l];A[I[0]]=I[1]}return A},R.functions=function(a){return a==null?[]:Ho(a,An(a))},R.functionsIn=function(a){return a==null?[]:Ho(a,Er(a))},R.groupBy=Nh,R.initial=function(a){return a!=null&&a.length?lr(a,0,-1):[]},R.intersection=bu,R.intersectionBy=bf,R.intersectionWith=cf,R.invert=Vu,R.invertBy=mh,R.invokeMap=zf,R.iteratee=bc,R.keyBy=yl,R.keys=An,R.keysIn=Er,R.map=wl,R.mapKeys=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,l(A,I,U),A)}),w},R.mapValues=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,I,l(A,I,U))}),w},R.matches=function(a){return mu(Hr(a,1))},R.matchesProperty=function(a,l){return ki(a,Hr(l,1))},R.memoize=jl,R.merge=Eh,R.mergeWith=pf,R.method=qu,R.methodOf=Hc,R.mixin=Ds,R.negate=ws,R.nthArg=function(a){return a=mt(a),Ct(function(l){return Ju(l,a)})},R.omit=Su,R.omitBy=function(a,l){return Cn(a,ws(st(l)))},R.once=function(a){return Cf(2,a)},R.orderBy=function(a,l,w,A){return a==null?[]:(dt(l)||(l=l==null?[]:[l]),dt(w=A?n:w)||(w=w==null?[]:[w]),ku(a,l,w))},R.over=Cs,R.overArgs=gh,R.overEvery=gf,R.overSome=Sf,R.partial=vc,R.partialRight=ef,R.partition=Uf,R.pick=oh,R.pickBy=Cn,R.property=li,R.propertyOf=function(a){return function(l){return a==null?n:di(a,l)}},R.pull=Xu,R.pullAll=zc,R.pullAllBy=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,st(w,2)):a},R.pullAllWith=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,n,w):a},R.pullAt=eh,R.range=er,R.rangeRight=Ko,R.rearg=Ll,R.reject=function(a,l){return(dt(a)?mi:jo)(a,ws(st(l,3)))},R.remove=function(a,l){var w=[];if(!a||!a.length)return w;var A=-1,I=[],U=a.length;for(l=st(l,3);++A<U;){var D=a[A];l(D,A,a)&&(w.push(D),I.push(A))}return Pl(a,I),w},R.rest=function(a,l){if(typeof a!="function")throw new ut(e);return Ct(a,l=l===n?l:mt(l))},R.reverse=Rl,R.sampleSize=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),(dt(a)?_n:Zc)(a,l)},R.set=function(a,l,w){return a==null?a:Vs(a,l,w)},R.setWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:Vs(a,l,w,A)},R.shuffle=function(a){return(dt(a)?gs:Ar)(a)},R.slice=function(a,l,w){var A=a==null?0:a.length;return A?(w&&typeof w!="number"&&Gt(a,l,w)?(l=0,w=A):(l=l==null?0:mt(l),w=w===n?A:mt(w)),lr(a,l,w)):[]},R.sortBy=zh,R.sortedUniq=function(a){return a&&a.length?Wr(a):[]},R.sortedUniqBy=function(a,l){return a&&a.length?Wr(a,st(l,2)):[]},R.split=function(a,l,w){return w&&typeof w!="number"&&Gt(a,l,w)&&(l=w=n),(w=w===n?p:w>>>0)?(a=Ot(a))&&(typeof l=="string"||l!=null&&!Fi(l))&&!(l=xn(l))&&Wa(a)?Zi(ii(a),0,w):a.split(l,w):[]},R.spread=function(a,l){if(typeof a!="function")throw new ut(e);return l=l==null?0:Tn(mt(l),0),Ct(function(w){var A=w[l],I=Zi(w,0,l);return A&&Xn(I,A),Rn(a,this,I)})},R.tail=function(a){var l=a==null?0:a.length;return l?lr(a,1,l):[]},R.take=function(a,l,w){return a&&a.length?lr(a,0,(l=w||l===n?1:mt(l))<0?0:l):[]},R.takeRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=A-(l=w||l===n?1:mt(l)))<0?0:l,A):[]},R.takeRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!1,!0):[]},R.takeWhile=function(a,l){return a&&a.length?nu(a,st(l,3)):[]},R.tap=function(a,l){return l(a),a},R.throttle=function(a,l,w){var A=!0,I=!0;if(typeof a!="function")throw new ut(e);return on(w)&&(A="leading"in w?!!w.leading:A,I="trailing"in w?!!w.trailing:I),_h(a,l,{leading:A,maxWait:l,trailing:I})},R.thru=vl,R.toArray=Qu,R.toPairs=ja,R.toPairsIn=rf,R.toPath=function(a){return dt(a)?nn(a,Zn):sr(a)?[a]:or(Lc(Ot(a)))},R.toPlainObject=zo,R.transform=function(a,l,w){var A=dt(a),I=A||$o(a)||sn(a);if(l=st(l,4),w==null){var U=a&&a.constructor;w=I?A?new U:[]:on(a)&&mo(U)?is(Ma(a)):{}}return(I?jr:Pn)(a,function(D,E,N){return l(w,D,E,N)}),w},R.unary=function(a){return hf(a,1)},R.union=dc,R.unionBy=Os,R.unionWith=th,R.uniq=function(a){return a&&a.length?hr(a):[]},R.uniqBy=function(a,l){return a&&a.length?hr(a,st(l,2)):[]},R.uniqWith=function(a,l){return l=typeof l=="function"?l:n,a&&a.length?hr(a,n,l):[]},R.unset=function(a,l){return a==null||Co(a,l)},R.unzip=Uc,R.unzipWith=ya,R.update=function(a,l,w){return a==null?a:So(a,l,Sr(w))},R.updateWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:So(a,l,Sr(w),A)},R.values=On,R.valuesIn=function(a){return a==null?[]:ll(a,Er(a))},R.without=Th,R.words=Pu,R.wrap=function(a,l){return vc(Sr(l),a)},R.xor=Ih,R.xorBy=Oh,R.xorWith=Lf,R.zip=hh,R.zipObject=function(a,l){return so(a||[],l||[],Yi)},R.zipObjectDeep=function(a,l){return so(a||[],l||[],Vs)},R.zipWith=xf,R.entries=ja,R.entriesIn=rf,R.extend=ui,R.extendWith=Cu,Ds(R,R),R.add=of,R.attempt=_u,R.camelCase=Sn,R.capitalize=zi,R.ceil=au,R.clamp=function(a,l,w){return w===n&&(w=l,l=n),w!==n&&(w=(w=xr(w))==w?w:0),l!==n&&(l=(l=xr(l))==l?l:0),Ta(xr(a),l,w)},R.clone=function(a){return Hr(a,4)},R.cloneDeep=function(a){return Hr(a,5)},R.cloneDeepWith=function(a,l){return Hr(a,5,l=typeof l=="function"?l:n)},R.cloneWith=function(a,l){return Hr(a,4,l=typeof l=="function"?l:n)},R.conformsTo=function(a,l){return l==null||Fl(a,l,An(l))},R.deburr=ei,R.defaultTo=function(a,l){return a==null||a!=a?l:a},R.divide=el,R.endsWith=function(a,l,w){a=Ot(a),l=xn(l);var A=a.length,I=w=w===n?A:Ta(mt(w),0,A);return(w-=l.length)>=0&&a.slice(w,I)==l},R.eq=Kr,R.escape=function(a){return(a=Ot(a))&&un.test(a)?a.replace(rn,ql):a},R.escapeRegExp=function(a){return(a=Ot(a))&&ve.test(a)?a.replace(ue,"\\$&"):a},R.every=function(a,l,w){var A=dt(a)?As:uf;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.find=$f,R.findIndex=Xs,R.findKey=function(a,l){return Wl(a,st(l,3),Pn)},R.findLast=ff,R.findLastIndex=vi,R.findLastKey=function(a,l){return Wl(a,st(l,3),Ha)},R.floor=Ic,R.forEach=Df,R.forEachRight=Wc,R.forIn=function(a,l){return a==null?a:Mc(a,st(l,3),Er)},R.forInRight=function(a,l){return a==null?a:pc(a,st(l,3),Er)},R.forOwn=function(a,l){return a&&Pn(a,st(l,3))},R.forOwnRight=function(a,l){return a&&Ha(a,st(l,3))},R.get=ac,R.gt=tf,R.gte=Bh,R.has=function(a,l){return a!=null&&Hu(a,l,Fc)},R.hasIn=zn,R.head=Si,R.identity=Yn,R.includes=function(a,l,w,A){a=$n(a)?a:On(a),w=w&&!A?mt(w):0;var I=a.length;return w<0&&(w=Tn(I+w,0)),Ao(a)?w<=I&&a.indexOf(l,w)>-1:!!I&&bi(a,l,w)>-1},R.indexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),bi(a,l,I)},R.inRange=function(a,l,w){return l=yi(l),w===n?(w=l,l=0):w=yi(w),function(A,I,U){return A>=wn(I,U)&&A<Tn(I,U)}(a=xr(a),l,w)},R.invoke=ls,R.isArguments=To,R.isArray=dt,R.isArrayBuffer=ih,R.isArrayLike=$n,R.isArrayLikeObject=Dn,R.isBoolean=function(a){return a===!0||a===!1||Wt(a)&&Kt(a)==b},R.isBuffer=$o,R.isDate=wa,R.isElement=function(a){return Wt(a)&&a.nodeType===1&&!us(a)},R.isEmpty=function(a){if(a==null)return!0;if($n(a)&&(dt(a)||typeof a=="string"||typeof a.splice=="function"||$o(a)||sn(a)||To(a)))return!a.length;var l=Lt(a);if(l==j||l==Q)return!a.size;if(br(a))return!ds(a).length;for(var w in a)if($t.call(a,w))return!1;return!0},R.isEqual=function(a,l){return Ea(a,l)},R.isEqualWith=function(a,l,w){var A=(w=typeof w=="function"?w:n)?w(a,l):n;return A===n?Ea(a,l,n,w):!!A},R.isError=Nr,R.isFinite=function(a){return typeof a=="number"&&Rc(a)},R.isFunction=mo,R.isInteger=Eo,R.isLength=zt,R.isMap=tr,R.isMatch=function(a,l){return a===l||Ci(a,l,Ol(l))},R.isMatchWith=function(a,l,w){return w=typeof w=="function"?w:n,Ci(a,l,Ol(l),w)},R.isNaN=function(a){return _r(a)&&a!=+a},R.isNative=function(a){if(Nl(a))throw new Ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pl(a)},R.isNil=function(a){return a==null},R.isNull=function(a){return a===null},R.isNumber=_r,R.isObject=on,R.isObjectLike=Wt,R.isPlainObject=us,R.isRegExp=Fi,R.isSafeInteger=function(a){return Eo(a)&&a>=-9007199254740991&&a<=u},R.isSet=Ii,R.isString=Ao,R.isSymbol=sr,R.isTypedArray=sn,R.isUndefined=function(a){return a===n},R.isWeakMap=function(a){return Wt(a)&&Lt(a)==se},R.isWeakSet=function(a){return Wt(a)&&Kt(a)=="[object WeakSet]"},R.join=function(a,l){return a==null?"":Ch.call(a,l)},R.kebabCase=Io,R.last=ai,R.lastIndexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A;return w!==n&&(I=(I=mt(w))<0?Tn(A+I,0):wn(I,A-1)),l==l?function(U,D,E){for(var N=E+1;N--;)if(U[N]===D)return N;return N}(a,l,I):Wn(a,ul,I,!0)},R.lowerCase=cs,R.lowerFirst=Zu,R.lt=si,R.lte=Tt,R.max=function(a){return a&&a.length?Sa(a,Yn,Lo):n},R.maxBy=function(a,l){return a&&a.length?Sa(a,st(l,2),Lo):n},R.mean=function(a){return zs(a,Yn)},R.meanBy=function(a,l){return zs(a,st(l,2))},R.min=function(a){return a&&a.length?Sa(a,Yn,ir):n},R.minBy=function(a,l){return a&&a.length?Sa(a,st(l,2),ir):n},R.stubArray=ci,R.stubFalse=Ir,R.stubObject=function(){return{}},R.stubString=function(){return""},R.stubTrue=function(){return!0},R.multiply=mf,R.nth=function(a,l){return a&&a.length?Ju(a,mt(l)):n},R.noConflict=function(){return Bt._===this&&(Bt._=oo),this},R.noop=ec,R.now=Zl,R.pad=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;if(!l||A>=l)return a;var I=(l-A)/2;return Na($u(I),w)+a+Na(Zo(I),w)},R.padEnd=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?a+Na(l-A,w):a},R.padStart=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?Na(l-A,w)+a:a},R.parseInt=function(a,l,w){return w||l==null?l=0:l&&(l=+l),Zf(Ot(a).replace(Se,""),l||0)},R.random=function(a,l,w){if(w&&typeof w!="boolean"&&Gt(a,l,w)&&(l=w=n),w===n&&(typeof l=="boolean"?(w=l,l=n):typeof a=="boolean"&&(w=a,a=n)),a===n&&l===n?(a=0,l=1):(a=yi(a),l===n?(l=a,a=0):l=yi(l)),a>l){var A=a;a=l,l=A}if(w||a%1||l%1){var I=Rf();return wn(a+I*(l-a+Ph("1e-"+((I+"").length-1))),l)}return Fs(a,l)},R.reduce=function(a,l,w){var A=dt(a)?es:_c,I=arguments.length<3;return A(a,st(l,4),w,I,Li)},R.reduceRight=function(a,l,w){var A=dt(a)?ch:_c,I=arguments.length<3;return A(a,st(l,4),w,I,fo)},R.repeat=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),du(Ot(a),l)},R.replace=function(){var a=arguments,l=Ot(a[0]);return a.length<3?l:l.replace(a[1],a[2])},R.result=function(a,l,w){var A=-1,I=(l=Qr(l,a)).length;for(I||(I=1,a=n);++A<I;){var U=a==null?n:a[Zn(l[A])];U===n&&(A=I,U=w),a=mo(U)?U.call(a):U}return a},R.round=$l,R.runInContext=ie,R.sample=function(a){return(dt(a)?bn:vs)(a)},R.size=function(a){if(a==null)return 0;if($n(a))return Ao(a)?Qi(a):a.length;var l=Lt(a);return l==j||l==Q?a.size:ds(a).length},R.snakeCase=ro,R.some=function(a,l,w){var A=dt(a)?Jr:Pc;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.sortedIndex=function(a,l){return tn(a,l)},R.sortedIndexBy=function(a,l,w){return ao(a,l,st(w,2))},R.sortedIndexOf=function(a,l){var w=a==null?0:a.length;if(w){var A=tn(a,l);if(A<w&&Kr(a[A],l))return A}return-1},R.sortedLastIndex=function(a,l){return tn(a,l,!0)},R.sortedLastIndexBy=function(a,l,w){return ao(a,l,st(w,2),!0)},R.sortedLastIndexOf=function(a,l){if(a!=null&&a.length){var w=tn(a,l,!0)-1;if(Kr(a[w],l))return w}return-1},R.startCase=yc,R.startsWith=function(a,l,w){return a=Ot(a),w=w==null?0:Ta(mt(w),0,a.length),l=xn(l),a.slice(w,w+l.length)==l},R.subtract=Oc,R.sum=function(a){return a&&a.length?Us(a,Yn):0},R.sumBy=function(a,l){return a&&a.length?Us(a,st(l,2)):0},R.template=function(a,l,w){var A=R.templateSettings;w&&Gt(a,l,w)&&(l=n),a=Ot(a),l=Cu({},l,A,ys);var I,U,D=Cu({},l.imports,A.imports,ys),E=An(D),N=ll(D,E),v=0,m=l.interpolate||Oo,x="__p += '",P=Ke((l.escape||Oo).source+"|"+m.source+"|"+(m===wi?fn:Oo).source+"|"+(l.evaluate||Oo).source+"|$","g"),L="//# sourceURL="+($t.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++No+"]")+`
`;a.replace(P,function(Y,re,ne,ce,me,be){return ne||(ne=ce),x+=a.slice(v,be).replace(Ru,ra),re&&(I=!0,x+=`' +
__e(`+re+`) +
'`),me&&(U=!0,x+=`';
`+me+`;
__p += '`),ne&&(x+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),v=be+Y.length,Y}),x+=`';
`;var H=$t.call(l,"variable")&&l.variable;if(H){if(gt.test(H))throw new Ue("Invalid `variable` option passed into `_.template`")}else x=`with (obj) {
`+x+`
}
`;x=(U?x.replace(Ze,""):x).replace(xt,"$1").replace(wt,"$1;"),x="function("+(H||"obj")+`) {
`+(H?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var V=_u(function(){return pt(E,L+"return "+x).apply(n,N)});if(V.source=x,Nr(V))throw V;return V},R.times=function(a,l){if((a=mt(a))<1||a>u)return[];var w=p,A=wn(a,p);l=st(l),a-=p;for(var I=tc(A,l);++w<a;)l(w);return I},R.toFinite=yi,R.toInteger=mt,R.toLength=Du,R.toLower=function(a){return Ot(a).toLowerCase()},R.toNumber=xr,R.toSafeInteger=function(a){return a?Ta(mt(a),-9007199254740991,u):a===0?a:0},R.toString=Ot,R.toUpper=function(a){return Ot(a).toUpperCase()},R.trim=function(a,l,w){if((a=Ot(a))&&(w||l===n))return Hl(a);if(!a||!(l=xn(l)))return a;var A=ii(a),I=ii(l);return Zi(A,Vl(A,I),ga(A,I)+1).join("")},R.trimEnd=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.slice(0,Qo(a)+1);if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,0,ga(A,ii(l))+1).join("")},R.trimStart=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.replace(Se,"");if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,Vl(A,ii(l))).join("")},R.truncate=function(a,l){var w=30,A="...";if(on(l)){var I="separator"in l?l.separator:I;w="length"in l?mt(l.length):w,A="omission"in l?xn(l.omission):A}var U=(a=Ot(a)).length;if(Wa(a)){var D=ii(a);U=D.length}if(w>=U)return a;var E=w-Qi(A);if(E<1)return A;var N=D?Zi(D,0,E).join(""):a.slice(0,E);if(I===n)return N+A;if(D&&(E+=N.length-E),Fi(I)){if(a.slice(E).search(I)){var v,m=N;for(I.global||(I=Ke(I.source,Ot(kn.exec(I))+"g")),I.lastIndex=0;v=I.exec(m);)var x=v.index;N=N.slice(0,x===n?E:x)}}else if(a.indexOf(xn(I),E)!=E){var P=N.lastIndexOf(I);P>-1&&(N=N.slice(0,P))}return N+A},R.unescape=function(a){return(a=Ot(a))&&an.test(a)?a.replace(Dt,vf):a},R.uniqueId=function(a){var l=++Zh;return Ot(a)+l},R.upperCase=bs,R.upperFirst=ba,R.each=Df,R.eachRight=Wc,R.first=Si,Ds(R,(fs={},Pn(R,function(a,l){$t.call(R.prototype,l)||(fs[l]=a)}),fs),{chain:!1}),R.VERSION="4.17.21",jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),jr(["drop","take"],function(a,l){_t.prototype[a]=function(w){w=w===n?1:Tn(mt(w),0);var A=this.__filtered__&&!l?new _t(this):this.clone();return A.__filtered__?A.__takeCount__=wn(w,A.__takeCount__):A.__views__.push({size:wn(w,p),type:a+(A.__dir__<0?"Right":"")}),A},_t.prototype[a+"Right"]=function(w){return this.reverse()[a](w).reverse()}}),jr(["filter","map","takeWhile"],function(a,l){var w=l+1,A=w==1||w==3;_t.prototype[a]=function(I){var U=this.clone();return U.__iteratees__.push({iteratee:st(I,3),type:w}),U.__filtered__=U.__filtered__||A,U}}),jr(["head","last"],function(a,l){var w="take"+(l?"Right":"");_t.prototype[a]=function(){return this[w](1).value()[0]}}),jr(["initial","tail"],function(a,l){var w="drop"+(l?"":"Right");_t.prototype[a]=function(){return this.__filtered__?new _t(this):this[w](1)}}),_t.prototype.compact=function(){return this.filter(Yn)},_t.prototype.find=function(a){return this.filter(a).head()},_t.prototype.findLast=function(a){return this.reverse().find(a)},_t.prototype.invokeMap=Ct(function(a,l){return typeof a=="function"?new _t(this):this.map(function(w){return Xr(w,a,l)})}),_t.prototype.reject=function(a){return this.filter(ws(st(a)))},_t.prototype.slice=function(a,l){a=mt(a);var w=this;return w.__filtered__&&(a>0||l<0)?new _t(w):(a<0?w=w.takeRight(-a):a&&(w=w.drop(a)),l!==n&&(w=(l=mt(l))<0?w.dropRight(-l):w.take(l-a)),w)},_t.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},_t.prototype.toArray=function(){return this.take(p)},Pn(_t.prototype,function(a,l){var w=/^(?:filter|find|map|reject)|While$/.test(l),A=/^(?:head|last)$/.test(l),I=R[A?"take"+(l=="last"?"Right":""):l],U=A||/^find/.test(l);I&&(R.prototype[l]=function(){var D=this.__wrapped__,E=A?[1]:arguments,N=D instanceof _t,v=E[0],m=N||dt(D),x=function(re){var ne=I.apply(R,Xn([re],E));return A&&P?ne[0]:ne};m&&w&&typeof v=="function"&&v.length!=1&&(N=m=!1);var P=this.__chain__,L=!!this.__actions__.length,H=U&&!P,V=N&&!L;if(!U&&m){D=V?D:new _t(this);var Y=a.apply(D,E);return Y.__actions__.push({func:vl,args:[x],thisArg:n}),new Lr(Y,P)}return H&&V?a.apply(this,E):(Y=this.thru(x),H?A?Y.value()[0]:Y.value():Y)})}),jr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Vt[a],w=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",A=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var I=arguments;if(A&&!this.__chain__){var U=this.value();return l.apply(dt(U)?U:[],I)}return this[w](function(D){return l.apply(dt(D)?D:[],I)})}}),Pn(_t.prototype,function(a,l){var w=R[l];if(w){var A=w.name+"";$t.call(Pa,A)||(Pa[A]=[]),Pa[A].push({name:l,func:w})}}),Pa[Fo(n,2).name]=[{name:"wrapper",func:n}],_t.prototype.clone=function(){var a=new _t(this.__wrapped__);return a.__actions__=or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=or(this.__views__),a},_t.prototype.reverse=function(){if(this.__filtered__){var a=new _t(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},_t.prototype.value=function(){var a=this.__wrapped__.value(),l=this.__dir__,w=dt(a),A=l<0,I=w?a.length:0,U=function(be,we,Te){for(var Ge=-1,Ie=Te.length;++Ge<Ie;){var Xe=Te[Ge],Ye=Xe.size;switch(Xe.type){case"drop":be+=Ye;break;case"dropRight":we-=Ye;break;case"take":we=wn(we,be+Ye);break;case"takeRight":be=Tn(be,we-Ye)}}return{start:be,end:we}}(0,I,this.__views__),D=U.start,E=U.end,N=E-D,v=A?E:D-1,m=this.__iteratees__,x=m.length,P=0,L=wn(N,this.__takeCount__);if(!w||!A&&I==N&&L==N)return Ia(a,this.__actions__);var H=[];e:for(;N--&&P<L;){for(var V=-1,Y=a[v+=l];++V<x;){var re=m[V],ne=re.iteratee,ce=re.type,me=ne(Y);if(ce==2)Y=me;else if(!me){if(ce==1)continue e;break e}}H[P++]=Y}return H},R.prototype.at=nh,R.prototype.chain=function(){return ph(this)},R.prototype.commit=function(){return new Lr(this.value(),this.__chain__)},R.prototype.next=function(){this.__values__===n&&(this.__values__=Qu(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?n:this.__values__[this.__index__++]}},R.prototype.plant=function(a){for(var l,w=this;w instanceof Yu;){var A=$c(w);A.__index__=0,A.__values__=n,l?I.__wrapped__=A:l=A;var I=A;w=w.__wrapped__}return I.__wrapped__=a,l},R.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof _t){var l=a;return this.__actions__.length&&(l=new _t(this)),(l=l.reverse()).__actions__.push({func:vl,args:[Rl],thisArg:n}),new Lr(l,this.__chain__)}return this.thru(Rl)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function(){return Ia(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Wi&&(R.prototype[Wi]=function(){return this}),R}();Mo?((Mo.exports=ia)._=ia,rr._=ia):Bt._=ia}).call(KD.exports)),KD.exports);function n5(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}(function(){function n(e,t){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=t,this.rootNode=e(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return Object.defineProperty(n.prototype,"windows",{get:function(){var e=function(t){return _d([t],t.children.flatMap(e))};return wle.orderBy(e(this.rootNode),function(t){return t.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var e=function(t){var r=t._boxSnapshot,i=[];if(i.push("KEY: ".concat(t.key)),t._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(t.getLayer())),i.push("BOX: [".concat(t.o[0],", ").concat(t.o[1],", ").concat(t.w,", ").concat(t.h,"]")),i.push("GLOBAL O: [".concat(t.globalO[0],", ").concat(t.globalO[1],"]")),i.push("CHILDREN:"),t.children.length>0){for(var o=t.children,s=[],u=0;u<o.length;u++){var c=o[u];s.push(e(c))}for(i.push(" |"),u=0;u<s.length;u++){for(var p=s[u],f=u===s.length-1?" └─":" ├─",g=0;g<p.length;g++){var y=g===0?f:u===s.length-1?"   ":" | ",b=p[g];i.push("".concat(y,"  ").concat(b))}u<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("  └─ (no children)");return t._boxSnapshot=r,i};console.log(e(this.rootNode).join(`
`))},n.prototype.onUpdate=function(e){this.onUpdateFunction=e},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Bs(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Bs([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(e,t){var r=this.scheduleUpdate(e);this.scheduledStateUpdates.push([r,function(){e.state=t}])},n.prototype.scheduleContextUpdate=function(e,t,r){var i=this.scheduleUpdate(e);this.scheduledStateUpdates.push([i,function(){e.context[t]=r}])},n.prototype.setSingleUpdateFlag=function(e,t){this.scheduledUpdateNodeMap[t]||(this.scheduledUpdateNodeMap[t]={}),this.scheduledUpdateNodeMap[t][e.globalKey]=!0},n.prototype.scheduleUpdate=function(e){var t=this,r=function(){t.DEBUG&&console.log("Scheduling update for ".concat(e.globalKey,". Received id ").concat(t.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=n5();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(t.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(t.scheduledUpdateIds,null,2),`.
                    `)),t.updateRunning=!0;t.scheduledUpdateIds.length>0;)t.updateScheduled=!1,t.updateCurrentId();t.updateRunning=!1}),this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=n5(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(e){console.error(e)}},n.prototype.propogateUpdateFlags=function(e){var t=this,r=function(i,o,s){t.scheduledUpdateNodeMap[o]||(t.scheduledUpdateNodeMap[o]={}),t.scheduledUpdateNodeMap[o][i.globalKey]&&(s=!0),t.scheduledUpdateNodeMap[o][i.globalKey]=s,i.children.forEach(function(u){return r(u,o,s)})};r(this.rootNode,e,!1)},n.prototype.updateCurrentId=function(){var e=this,t=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[t]).forEach(function(i){e.propogateUpdateFlags(t)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==t}),this.scheduledStateUpdates.filter(function(i){return i[0]===t}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==t});var r=this.scheduledUpdateNodeMap[t];this.update(r),delete this.scheduledUpdateNodeMap[t]},n.prototype.taintLayer=function(e){this.taintedLayers.includes(e)||this.taintedLayers.push(e)},n.prototype.findCameraPathRecursive=function(e,t){var r,i;if(e._isPrimaryCamera){var o=e.globalKey;return qh(qh({},t),((r={})[o]=!0,r))}for(var s=e.children,u=0;u<s.length;u++){var c=s[u],p=(o=c.globalKey,qh(qh({},t),((i={})[o]=!0,i))),f=this.findCameraPathRecursive(c,p);if(f)return f}},n.prototype.AND_updateMaps=function(e,t){var r={};for(var i in e)t[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(e,t){var r={};for(var i in e)t[i]||(r[i]=!0);for(var i in t)e[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(e,t){var r=this.AND_updateMaps(e,t);return[r,this.XOR_updateMaps(e,r)]},n.prototype.setNeedsUpdateToMap=function(e){var t=function(r){var i=r.globalKey;e[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(e){var t=function(r){var i=r.globalKey;e[i]&&(r._needsUpdate=!0),r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.installCamera=function(e){this.cameraNode!==e&&(this.scheduledCameraNode=e,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(e){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var t=this.findCameraPathRecursive(this.rootNode,{});if(!t)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(e,t),i=r[0],o=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(e),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(o),null,2),`
            `));var s=function(u,c){u._needsUpdate?c?u.cameraPassUpdateSelf():u.regularPassUpdateSelf():u.children.forEach(function(p){return s(p,c)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(o),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var e=this.canvas.getContext("2d");if(!e)throw new Error("Could not get 2d context from canvas");e.clearRect(0,0,this.canvas.width,this.canvas.height),function(r,i,o,s,u){var c=(r=new Bs(_d([],r.o),r.w,r.h)).getBoundingBox(),p=i.filter(function(b){return jy(b.getBoundingBox(),c)}),f=Array.from(new Set(p.map(function(b){return b.getLayer()}))).sort(function(b,_){return b-_});s.clearRect(0,0,o.width,o.height);for(var g=function(b){var _=f[b],M=p.filter(function(Q){return Q.getLayer()===f[b]});if(u.includes(_)){var F=_+"";if(Fw[F]===void 0){var O=document.createElement("canvas");O.width=o.width,O.height=o.height,Fw[F]=O}var j=Fw[F],z=j.getContext("2d");z.clearRect(0,0,j.width,j.height);for(var W=0,J=M;W<J.length;W++)J[W].renderPrimitive(z)}var G=_+"";Fw[G]&&s.drawImage(Fw[G],0,0)},y=0;y<f.length;y++)g(y)}(this.cameraSnapshot,this.windows,this.canvas,e,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Bs(_d([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return jy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseDownPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseMoveHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Bs(_d([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return jy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseMovePrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseUpHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Bs(_d([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return jy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseUpPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseWheelHandler=function(e){(function(r,i,o,s){for(var u=(r=new Bs(_d([],r.o),r.w,r.h)).getBoundingBox(),c=i.filter(function(b){return jy(b.getBoundingBox(),u)}).reverse(),p=!0,f=function(){p=!1},g=0,y=c;g<y.length&&(y[g].onWheelPrimitive(f,s),p);g++);})(this.cameraSnapshot,this.windows,this.canvas,e)},n.prototype.clickHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Bs(_d([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return jy(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onClickPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n})();var Zs={TrackPadding:15,OffsetX:15,OffsetY:45,PinDiameter:15,TrackMinHeight:50,TrackMaxHeight:500,PixelsPerFrame:10,TimelineHeight:50,PinTransformerPadding:15},ble=10,kH=19,xle=20,Dle=21,cw=29,Cle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),Object.defineProperty(e.prototype,"displayDimensions",{get:function(){var t=this.context.p.displayDimensions;return[t.width,t.height]},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(e.prototype,"canvasDimensions",{get:function(){var t=this.context.p.signalHeights,r=Object.entries(t).reduce(function(c,p){return p[0],c+p[1]},0)+2*Zs.OffsetY,i=this.context.p.project.timelineData.numberOfFrames*Zs.PixelsPerFrame+2*Zs.OffsetX,o=this.displayDimensions,s=o[0],u=o[1];return[Math.max(i,s),Math.max(r,u)]},enumerable:!1,configurable:!0}),e.prototype.translate=function(t,r){var i=this.canvasDimensions,o=i[0],s=i[1],u=i0([],t.o,!0),c=t.w,p=t.h,f=[u=pg(u,r),pg(u,[c,0]),pg(u,[0,p]),pg(u,[c,p])],g=Math.min.apply(Math,f.map(function(F){return F[0]})),y=Math.max.apply(Math,f.map(function(F){return F[0]})),b=Math.min.apply(Math,f.map(function(F){return F[1]})),_=Math.max.apply(Math,f.map(function(F){return F[1]})),M=[0,0];return g<0?M[0]=-g:y>o&&(M[0]=o-y),b<0?M[1]=-b:_>s&&(M[1]=s-_),i0([],u,!0),u=pg(u,M),new Bs(u,c,p)},e.prototype.withinBounds=function(t,r,i,o){return o===void 0&&(o=1e-10),t>=r-o&&t<=i+o},e.prototype.updateDimensions=function(t,r,i){this.setState(xl(xl({},this.state),{cameraBox:new Bs(t,r,i)})),this.checkBounds()},e.prototype.checkBounds=function(){var t,r,i,o=this.canvasDimensions,s=o[0],u=o[1];t=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,t[0]=Math.max(Math.min(t[0],s),0),t[1]=Math.max(Math.min(t[1],u),0),r=Math.max(Math.min(r,s-t[0]),0),i=Math.max(Math.min(i,u-t[1]),0),this.setState(xl(xl({},this.state),{cameraBox:new Bs(t,r,i)}))},e.prototype.onGlobalWindowChange=function(){},e.prototype.scale=function(t,r,i){var o,s,u,c=this.canvasDimensions,p=c[0],f=c[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");o=t.o;var g=p/(s=t.w),y=f/(u=t.h),b=s*(r=[Math.min(r[0],g),Math.min(r[1],y)])[0],_=u*r[1],M=[i[0]-o[0],i[1]-o[1]],F=M[0],O=M[1],j=lp(i,[o[0]+F*r[0],o[1]+O*r[1]]);return s=b,u=_,this.translate(new Bs(o,s,u),j)},e.prototype.getCenter=function(){return pg(this.o,[this.w/2,this.h/2])},e.prototype.getBox=function(){return this.state.cameraBox},e}(nl),Sle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=xle,t.scaleAnchor=[0,0],t}return Gi(e,n),e.prototype.windowDidMount=function(){n.prototype.windowDidMount.call(this),this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:new Bs([0,0],this.displayDimensions[0],this.displayDimensions[1])})},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t,r){if(r.button===1){var i=t.terminateEvent,o=t.canvasPos;this.setState(xl(xl({},this.state),{lastMousePosition:o,isPanning:!0})),i()}},e.prototype.onMouseMove=function(t,r){var i=t.terminateEvent,o=t.canvasPos;t.absolutePos;var s=t.canvasUnit,u=s[0],c=s[1],p=xl({},this.state);if(this.scaleAnchor=o,this.state.isPanning){i();var f=lp(o,this.state.lastMousePosition),g=f[0],y=f[1],b=this.translate(this.state.cameraBox.clone(),[-g*u,-y*c]);p=xl(xl({},p),{lastMousePosition:o,cameraBox:b}),this.setState(p)}},e.prototype.onMouseUp=function(t,r){this.setState(xl(xl({},this.state),{isPanning:!1}))},e.prototype.onWheel=function(t,r){var i=t.terminateEvent,o=t.canvasToAbsoluteMeasure,s=r.deltaX,u=r.deltaY,c=r.ctrlKey,p=r.altKey;if(c){var f=1;if(f=s!==0?1+.01*s:1-.01*u,!p){if(this.w*f<5*Zs.PixelsPerFrame)return;var g=this.scale(this.state.cameraBox.clone(),[Math.max(.1,f),1],this.scaleAnchor);this.setState(xl(xl({},this.state),{cameraBox:g}))}}else{var y=o([s,u]),b=y[0],_=y[1];g=this.translate(this.state.cameraBox.clone(),[b,_]),this.setState(xl(xl({},this.state),{cameraBox:g}))}i()},e.prototype.render=function(t){},e}(Cle),Ox=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=Zs.PinDiameter/2*r,s=Zs.PinDiameter/2*i,u=this.parentW-Zs.PinDiameter*r,c=this.parentH-Zs.PinDiameter*i;return new Bs([o,s],u,c)},e}(nl),Nx=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){this.setContext("signalId",t.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[t.signalId])},e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=this.context.p.signalStartHeights,s=this.context.p.signalHeights,u=o[this.props.signalId],c=Zs.OffsetX*r,p=Zs.OffsetY*i+u,f=this.context.p.project.timelineData.numberOfFrames*Zs.PixelsPerFrame,g=s[this.props.signalId]-Zs.TrackPadding*i;return new Bs([c,p],f,g)},e}(nl),DO=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){this.setContext("pinId",t.pinId);var r=this.pinCoords;r.frame;var i=r.value,o=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5,this.context.p.project.timelineData.numberOfFrames,o[0],o[1],o[0],this.parentW,this.parentH},Object.defineProperty(e.prototype,"pinCoords",{get:function(){return{frame:this.context.p.project.signalData[this.context.signalId].pinTimes[this.props.pinId],value:this.context.p.project.orgData.signalTypes[this.context.signalId]==="continuous"?this.context.p.project.signalData[this.context.signalId].pinValues[this.props.pinId]:void 0}},enumerable:!1,configurable:!0}),e.prototype.getBox=function(){var t=this.pinCoords,r=t.frame,i=t.value,o=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5;var s=r/this.context.p.project.timelineData.numberOfFrames,u=(i-o[0])/(o[1]-o[0]),c=s*this.parentW,p=(1-u)*this.parentH;return new Bs([c,p],0,0)},e}(nl),MH=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=-Zs.PinDiameter/2*r,s=-Zs.PinDiameter/2*i,u=Zs.PinDiameter*r,c=Zs.PinDiameter*i;return new Bs([o,s],u,c)},e}(nl),_le=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.render=function(t){var r,i,o=this.w,s=this.h,u=[[o/2,0],[o,s/2],[o/2,s],[0,s/2]];t.ctx.beginPath(),(r=t.ctx).moveTo.apply(r,t.localToCanvas(u[0]));for(var c=1;c<u.length;c++)(i=t.ctx).lineTo.apply(i,t.localToCanvas(u[c]));t.ctx.closePath(),t.ctx.fillStyle="yellow",t.ctx.fill()},e}(MH),Ele=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){return[_le.Node()]},e}(DO),FH=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){this.setContext("pinId",t.pinId)},e.prototype.calculateSegmentAttributes=function(){var t=xl({},this.context.p.project.signalData[this.context.signalId].pinTimes);t.__start__=-1;var r=Object.keys(t).sort(function(s,u){return t[s]-t[u]}),i=r.indexOf(this.props.pinId),o=r[i-1];return t[o]=Math.max(0,t[o]),t[this.props.pinId],t[o],{startFrame:t[o],endFrame:t[this.props.pinId]}},e.prototype.getBox=function(){var t=this.calculateSegmentAttributes(),r=t.startFrame,i=t.endFrame,o=this.context.p.project.timelineData.numberOfFrames,s=r/o,u=i/o,c=s*this.parentW,p=(u-s)*this.parentW,f=this.parentH;return new Bs([c,0],p,f)},e}(nl),Ale=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0];t[1];var i=[0,this.parentH/2+5*r],o=this.parentW;return new Bs(i,o,5*r)},e.prototype.render=function(t){var r=t.ctx;t.localToCanvas,t.canvasToLocal;var i=t.absoluteToCanvasMeasure,o=t.canvasToAbsoluteMeasure,s=this.context.p.project.signalData[this.context.signalId].pinValues[this.context.pinId],u=i([this.w,0]),c=u[0];u[1],r.fillStyle="white",r.font="20px Sans-serif";for(var p=s;r.measureText(p).width+15>c&&p!=="";){var f=p.split("");f.pop(),p=f.join("")}var g=o([r.measureText(p).width+15,0]),y=g[0];g[1];var b=t.absoluteO,_=b[0],M=b[1],F=this.absoluteUnit,O=F[0];F[1];var j=[_+(this.w-y)*O,M],z=j[0],W=j[1];r.fillText(p,z,W)},e}(nl),kle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return t.push(Ale.Node()),t},e.prototype.getBox=function(){return new Bs([0,0],this.parentW,this.parentH)},e}(nl),Mle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.pinCoordinatePoints=[],t}return Gi(e,n),e.prototype.getBox=function(){return new Bs([0,0],this.parentW,this.parentH)},e.prototype.windowDidUpdate=function(t){this.pinCoordinatePoints=this.calculatePinCoordinatePoints()},e.prototype.calculatePinCoordinatePoints=function(){var t=this.context.pinId,r=this.context.signalId,i=this.context.p,o=i.project,s=i.interpolateSignalValue,u=o.signalData[r].pinTimes,c=Object.entries(u).sort(function(z,W){return z[1]-W[1]}),p=c.findIndex(function(z){var W=z[0];return z[1],W===t}),f=p-1>=0?p-1:void 0,g=f!==void 0?c[f][1]:0,y=o.signalData[r].pinTimes[t];y=y<g?g:y;for(var b=[],_=g;_<=y;_++){var M=s(r,_),F=M[0],O=M[1],j=O.length>0;j&&console.error(O),b.push([_,F,j])}return b},e.prototype.render=function(t){var r=this,i=t.ctx,o=t.localToCanvas;t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure;var s=o,u=this.pinCoordinatePoints;this.context.p;for(var c=this.context.signalId,p=u.map(function(b){var _=b[0],M=b[1],F=b[2],O=lp(r.context.PinPositionMeasurementHelper.getImaginaryPinPosition(c,_,M),r.globalO);return i0(i0([],s(O),!0),[F],!1)}),f=0;f<p.length-1;f++){var g=p[f],y=p[f+1];i.beginPath(),i.arc(g[0],g[1],2,0,2*Math.PI),i.fillStyle=g[2]?"red":"yellow",i.fill(),i.beginPath(),i.moveTo(g[0],g[1]),i.lineTo(y[0],y[1]),i.strokeStyle=y[2]?"red":"yellow",i.stroke()}},e}(nl),Fle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return this.context.signalType==="continuous"?t.push(Mle.Node()):t.push(kle.Node()),t},e.prototype.render=function(t){var r,i=t.localToCanvas,o=this.absoluteUnit,s=o[0],u=o[1],c=this.context.signalType==="continuous"?"4A5F9D":"915050";t.ctx.beginPath(),(r=t.ctx).roundRect.apply(r,i0(i0([],i([0,0]),!1),[this.w*s,this.h*u,[15,0,0,15]],!1)),t.ctx.strokeStyle="#".concat(c),t.ctx.lineWidth=1,t.ctx.stroke(),t.ctx.closePath()},e}(FH),Ple=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){for(var t,r=[],i=(t=this.context.p.project.signalData[this.context.signalId])===null||t===void 0?void 0:t.pinIds,o=0,s=i;o<s.length;o++){var u=s[o],c=Fle.Node({pinId:u,key:"s"+u});r.push(c)}for(var p=0,f=i;p<f.length;p++){u=f[p];var g=Ele.Node({pinId:u,key:"p"+u});r.push(g)}return r},e.prototype.render=function(t){var r=t.ctx,i=this.context.p.project.timelineData.focusRange,o=i[0],s=i[1],u=this.context.p.project.timelineData.numberOfFrames,c=[o/u,s/u],p=c[0],f=c[1]-p;r.fillStyle="rgba(255,255,255,0.05)";var g=t.absoluteO,y=g[0],b=g[1],_=t.absoluteUnit,M=_[0],F=_[1];r.fillRect(y+p*this.w*M,b,f*this.w*M,this.h*F)},e}(Ox),Tle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this.parentW,r=this.parentH;return new Bs([0,0],t,r)},e.prototype.render=function(t){var r=t.ctx;t.localToCanvas,t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure,r.fillStyle="#ffffff80",r.font="".concat(14,"px Sans-serif");var i=this.context.signalId,o=t.absoluteO;o[0];var s=[5,o[1]+14+5],u=s[0],c=s[1];r.fillText(i,u,c)},e}(nl),Ile=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),Object.defineProperty(e.prototype,"p",{get:function(){return this.context.externalProjectAPI},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){var t=[];return t.push(Ple.Node()),t.push(Tle.Node()),t},e.prototype.render=function(t){var r,i,o=this.context.signalType==="continuous"?"243157":"562F2F",s=this.absoluteUnit;s[0];var u=s[1],c=t.absoluteO;c[0];var p=c[1],f=t.canvasDimensions[0],g=[[0,p],[f,p],[f,p+this.h*u],[0,p+this.h*u]];t.ctx.fillStyle="#".concat(o),t.ctx.beginPath(),(r=t.ctx).moveTo.apply(r,g[0]);for(var y=1;y<g.length;y++)(i=t.ctx).lineTo.apply(i,g[y]);t.ctx.fill()},e}(Nx),Ole=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=cw,t.side=30,t.dragging=!1,t}return Gi(e,n),e.prototype.getBox=function(){var t=this.context.p.project.timelineData,r=t.numberOfFrames,i=t.playheadPosition/r*this.parentW,o=this.canvasO;o[0],o[1];var s=this.canvasUnit,u=s[0],c=s[1],p=this.side*u,f=this.side*c;return new Bs([i-p/2,0],p,f)},e.prototype.onMouseDown=function(t){t.pointInside&&(this.dragging=!0,t.terminateEvent())},e.prototype.onMouseMove=function(t){if(this.dragging){t.terminateEvent();var r=t.absolutePos,i=r[0];r[1];var o=(0,t.canvasToAbsoluteMeasure)([Zs.OffsetX,0]),s=o[0];o[1];var u=i-s,c=Math.floor(u/Zs.PixelsPerFrame);c=Math.min(Math.max(c,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(c)}},e.prototype.onMouseUp=function(t){if(this.dragging){t.terminateEvent();var r=t.absolutePos,i=r[0];r[1];var o=(0,t.canvasToAbsoluteMeasure)([Zs.OffsetX,0]),s=o[0];o[1];var u=i-s,c=Math.floor(u/Zs.PixelsPerFrame);c=Math.min(Math.max(c,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(c,!0)}this.dragging=!1},e.prototype.render=function(t){t.canvasToLocal,t.canvasToAbsoluteMeasure,t.absoluteToCanvasMeasure;var r=t.localToCanvas,i=t.ctx,o=r,s=[[0,0],[this.w,0],[this.w/2,this.h]].map(function(u){return o(u)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineTo.apply(i,s[2]),i.lineTo.apply(i,s[0]),i.fillStyle="aquamarine",i.lineWidth=2,i.fill(),i.closePath()},e}(nl),Nle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this.context.p.project.timelineData,r=t.numberOfFrames,i=t.playheadPosition/r*this.parentW,o=this.canvasO;o[0],o[1];var s=this.canvasUnit;s[0],s[1];var u=this._cameraSnapshot.h;return new Bs([i-0,0],0,u)},e.prototype.render=function(t){var r=t.localToCanvas,i=t.ctx,o=r,s=[[0,0],[0,this.h]].map(function(u){return o(u)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineWidth=2,i.strokeStyle="aquamarine",i.stroke()},e}(nl),Ble=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){return new Bs([0,0],this.parentW,20)},e.prototype.itemsOnScreen=function(t){var r=this.parentW/t;return Math.floor(this._cameraSnapshot.w/r)},e.prototype.render=function(t){for(var r=this,i=t.ctx,o=this.context.p.project.timelineData.numberOfFrames,s=this.context.p.project.timelineData.framesPerSecond,u=function(F){var O=[];return O.push(1),F%2==0&&(O.push(2),O.push(F/2)),F%3==0&&(O.push(3),O.push(F/3)),F%5==0&&(O.push(5),O.push(F/5)),F%10==0&&(O.push(10),O.push(F/10)),O.push(F),O.push(2*F),O.push(5*F),O.push(10*F),O}(s),c=u.map(function(F){var O=Math.floor(o/F);return[F,r.itemsOnScreen(O)]}),p=c.map(function(F){var O=F[0],j=F[1];return[O,Math.abs(j-10)]}).sort(function(F,O){return F[1]-O[1]})[0][0],f=c.map(function(F){var O=F[0],j=F[1];return[O,Math.abs(j-100)]}).sort(function(F,O){return F[1]-O[1]})[0][0],g=t.absoluteO[0],y=0;y<=o;y+=p){var b=g+y/o*this.w*this.absoluteUnit[0];i.beginPath(),i.strokeStyle="white",i.moveTo(b,0),i.lineTo(b,7),i.stroke(),i.fillStyle="white";var _="".concat(y),M=i.measureText(_).width;i.fillText(_,b-M/2,18)}for(y=0;y<=o;y+=f)b=g+y/o*this.w*this.absoluteUnit[0],i.beginPath(),i.strokeStyle="white",i.moveTo(b,0),i.lineTo(b,3),i.stroke()},e}(nl),Rle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){return new Bs([0,0],this.parentW,20)},e.prototype.itemsOnScreen=function(t){var r=this.parentW/t;return Math.floor(this._cameraSnapshot.w/r)},e.prototype.render=function(t){var r=t.ctx,i=this.context.p.project.timelineData.focusRange,o=i[0],s=i[1],u=this.context.p.project.timelineData.numberOfFrames,c=[o/u,s/u],p=c[0],f=c[1]-p;r.fillStyle="#3B434B";var g=t.absoluteO[0],y=t.absoluteUnit,b=y[0],_=y[1];r.fillRect(g+p*this.w*b,0,f*this.w*b,this.h*_)},e}(nl),jle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return t.push(Rle.Node()),t.push(Ble.Node()),t.push(Ole.Node()),t.push(Nle.Node()),t},e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0];t[1];var i=(Zs.OffsetX+Zs.PinDiameter/2)*r,o=this.canvasO;o[0];var s=o[1],u=this.context.p.project.timelineData.numberOfFrames*Zs.PixelsPerFrame-Zs.PinDiameter*r;return new Bs([i,s],u,20)},e.prototype.render=function(t){t.ctx.fillStyle="#282E34";var r=this.absoluteUnit,i=r[0];r[1],t.ctx.fillRect(0,0,this._cameraSnapshot.w*i,22)},e}(nl),Lle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.key="permanentWindows",t}return Gi(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r],s=Ile.Node({signalId:o,key:o});t.push(s)}return t.push(jle.Node()),t},e}(nl),CO=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),Object.defineProperty(e.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),e}(nl),$le=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=kH,t}return Gi(e,n),e.prototype.onMouseDown=function(t){var r=this.context,i=r.dispatchPointerModeMachineEvent;r.pointerModeMachineState;var o=i;t.relativePos;var s=t.terminateEvent,u=t.pointInside;u&&o({type:"mousedown_resizebar",selectedPinIds:[]}),u&&s()},e.prototype.onMouseMove=function(t){t.relativePos;var r=t.terminateEvent;t.pointInside&&r()},e}(CO),zle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=Dle,t}return Gi(e,n),Object.defineProperty(e.prototype,"mouseover",{get:function(){return this.state.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mousedown",{get:function(){return this.state.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragging",{get:function(){return this.context.pointerModeMachineState.type==="change_signal_height"&&this.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hover",{get:function(){return this.context.pointerModeMachineState.type==="start"&&this.mouseover},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.setState({mouseover:!1,mousedown:!1})},e.prototype.onMouseDown=function(t){t.relativePos,t.pointInside&&this.setState(xl(xl({},this.state),{mousedown:!0}))},e.prototype.onMouseMove=function(t){t.relativePos;var r=t.absolutePos;t.pointInside?this.setState(xl(xl({},this.state),{mouseover:!0})):this.setState(xl(xl({},this.state),{mouseover:!1}));var i=this.context.p;i.project;var o=i.signalStartHeights;i.projectTools,i.signalHeights;var s=i.setSignalHeight;if(this.dragging){var u=o[this.context.signalId],c=(0,t.canvasToAbsoluteMeasure)([Zs.OffsetX,Zs.OffsetY]);c[0];var p=c[1],f=r[1]-(u+p),g=(0,t.absoluteToCanvasMeasure)([0,f]);g[0];var y=g[1];if(y<Zs.TrackMinHeight||y>Zs.TrackMaxHeight)return;s(this.context.signalId,f)}},e.prototype.onMouseUp=function(t){this.setState(xl(xl({},this.state),{mousedown:!1}))},e.prototype.render=function(t){(this.hover||this.dragging)&&(this.dragging?this.strokeOutline(t,"red"):this.strokeOutline(t,"cyan"))},e}(CO),Ule=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){this.setContext("signalId",t.signalId)},Object.defineProperty(e.prototype,"o",{get:function(){var t=this.context.p;t.project;var r=t.signalStartHeights;t.projectTools;var i=t.signalHeights,o=this.prepareHandlerProps(),s=o.canvasToAbsoluteMeasure,u=(0,o.canvasToAbsoluteMeasure)([Zs.OffsetX,Zs.OffsetY]);u[0];var c=u[1];return lp([0,r[this.context.signalId]+i[this.context.signalId]+c],s([0,Zs.TrackPadding]))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){var t=this.prepareHandlerProps(),r=Zs.TrackPadding;return(0,t.canvasToAbsoluteMeasure)([0,r])[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){var t=this.context.p,r=t.project;return t.signalStartHeights,t.projectTools,t.signalHeights,r.timelineData.numberOfFrames*Zs.PixelsPerFrame+2*Zs.OffsetX},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){var t=[];return t.push(zle.Node()),t.push($le.Node()),t},e}(CO),Wle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.selectedPinIds=[],t.layer=ble,t}return Gi(e,n),Object.defineProperty(e.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.setState({startPoint:void 0,endPoint:void 0})},e.prototype.getSelectedPins=function(t){var r=this,i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(s){var u,c=r.context.PinPositionMeasurementHelper.getExistingPinPosition(s),p=r.context.p.project.orgData.activeSignalIds.flatMap(function(f){return r.context.p.project.signalData[f].pinIds.map(function(g){return[f,g]})});return{signalId:(u=p.find(function(f){f[0];var g=f[1];return s===g}))===null||u===void 0?void 0:u[0],pinId:s,pos:c}}),o=i.filter(function(s){s.signalId,s.pinId;var u=s.pos;return t.pointInside(u)}).map(function(s){var u=s.signalId,c=s.pinId;return s.pos,[u,c]});return o},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent][1];t.relativePos;var o=t.terminateEvent,s=t.pointInside,u=t.absolutePos;i({type:"mousedown_selectionoverlay",selectedPinIds:[]}),this.selectedPinIds=[],this.setState(xl(xl({},this.state),{startPoint:u})),s&&o()},e.prototype.onMouseMove=function(t){var r=this;if(this.startPoint){var i=this.context,o=[i.pointerModeMachineState,i.dispatchPointerModeMachineEvent][1];t.relativePos;var s=t.absolutePos,u=t.pointInside,c=t.terminateEvent;this.setState(xl(xl({},this.state),{endPoint:s}));var p=this.startPoint,f=p[0],g=p[1],y=s[0],b=s[1],_=Math.min(f,y),M=Math.min(g,b),F=Math.abs(f-y),O=Math.abs(g-b),j=new Bs([_,M],F,O),z=this.getSelectedPins(j).map(function(W){return W[0],W[1]});(z.some(function(W){return!r.selectedPinIds.includes(W)})||this.selectedPinIds.some(function(W){return!z.includes(W)}))&&(this.selectedPinIds=z,o({type:"mousemove_selectionoverlayCONDselection_changed",selectedPinIds:z})),u&&c()}},e.prototype.onMouseUp=function(t){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent][1];t.relativePos;var o=t.terminateEvent,s=t.pointInside;this.setState({startPoint:void 0,endPoint:void 0}),i({type:"mouseup_selectionoverlay"}),s&&o()},e.prototype.getBox=function(){var t=this._cameraSnapshot;return new Bs(t.o,t.w,t.h)},e}(nl),Hle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=cw,t}return Gi(e,n),Object.defineProperty(e.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.setState({startPoint:void 0,endPoint:void 0})},e.prototype.getBox=function(){var t,r=this.startPoint,i=this.endPoint;if(r&&i){var o=r[0],s=r[1],u=i[0],c=i[1],p=Math.min(o,u),f=Math.min(s,c),g=Math.abs(o-u),y=Math.abs(s-c);t=new Bs([p,f],g,y)}else{var b=this._cameraSnapshot;t=new Bs(b.o,b.w,b.h)}return t},e.prototype.onMouseDown=function(t){t.relativePos;var r=t.absolutePos;t.canvasPos,this.setState(xl(xl({},this.state),{startPoint:r}))},e.prototype.onMouseMove=function(t){var r=t.absolutePos;this.startPoint&&this.setState(xl(xl({},this.state),{endPoint:r}))},e.prototype.onMouseUp=function(t){this.setState({startPoint:void 0,endPoint:void 0})},Object.defineProperty(e.prototype,"active",{get:function(){return this.context.pointerModeMachineState.type==="make_selection"},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r=t.ctx,i=t.localToCanvas;t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure;var o=t.absoluteUnit,s=i,u=o[0],c=o[1];r.save(),r.setLineDash([3,3]),r.strokeStyle="white",r.lineWidth=2,this.startPoint&&this.endPoint&&this.active&&r.strokeRect.apply(r,i0(i0([],s([0,0]),!1),[this.w*u,this.h*c],!1)),r.setLineDash([]),r.closePath(),r.restore()},e}(nl),Vle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return t.push(Hle.Node()),t.push(Wle.Node()),t},e}(nl),PH=function(){function n(){this.pinMeasureHooks={},this.signalMeasureHooks={},this.signalContentBoxMeasureHooks={},this.absoluteCoordsToSignalCoordsMeasureHooks={}}return n.prototype.getSignalCoordsFromAbsoluteCoords=function(e,t){return this.absoluteCoordsToSignalCoordsMeasureHooks[e](t)},n.prototype.getSignalContentBox=function(e){return this.signalContentBoxMeasureHooks[e]()},n.prototype.getExistingPinPosition=function(e){return this.pinMeasureHooks[e]()},n.prototype.getImaginaryPinPosition=function(e,t,r){return this.signalMeasureHooks[e](t,r)},n.prototype.attachAbsoluteCoordsToSignalCoordsMeasureHook=function(e,t){var r=this;return this.absoluteCoordsToSignalCoordsMeasureHooks[e]=t,function(){delete r.absoluteCoordsToSignalCoordsMeasureHooks[e]}},n.prototype.attachSignalContentBoxMeasureHook=function(e,t){var r=this;return this.signalContentBoxMeasureHooks[e]=t,function(){delete r.signalContentBoxMeasureHooks[e]}},n.prototype.attachPinMeasureHook=function(e,t){var r=this;return this.pinMeasureHooks[e]=t,function(){delete r.pinMeasureHooks[e]}},n.prototype.attachSignalMeasureHook=function(e,t){var r=this;return this.signalMeasureHooks[e]=t,function(){delete r.signalMeasureHooks[e]}},n}(),TH=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r],s=qle.Node({signalId:o,key:o});t.push(s)}return t},e}(nl),qle=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){this.setContext("signalId",t.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[t.signalId])},e.prototype.getChildren=function(){return[Gle.Node()]},e}(Nx),Kle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.unsubscribe=function(){},t}return Gi(e,n),e.prototype.windowDidMount=function(t){var r=this;this.setContext("pinId",t.pinId),this.unsubscribe=this.context.PinPositionMeasurementHelper.attachPinMeasureHook(t.pinId,function(){return r.globalO})},e.prototype.windowWillUnmount=function(){this.unsubscribe()},e.prototype.render=function(t){},e}(DO),Gle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.unsubscribe1=function(){},t.unsubscribe2=function(){},t.unsubscribe3=function(){},t}return Gi(e,n),e.prototype.windowDidMount=function(t){var r=this;this.setContext("pinId",t.pinId),this.unsubscribe1=this.context.PinPositionMeasurementHelper.attachSignalMeasureHook(this.context.signalId,function(i,o){var s=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];o=r.context.signalType==="continuous"?o:.5;var u=i/r.context.p.project.timelineData.numberOfFrames,c=(o-s[0])/(s[1]-s[0]),p=u*r.w,f=(1-c)*r.h;return pg(r.globalO,[p,f])}),this.unsubscribe2=this.context.PinPositionMeasurementHelper.attachSignalContentBoxMeasureHook(this.context.signalId,function(){return new Bs(r.globalO,r.w,r.h)}),this.unsubscribe3=this.context.PinPositionMeasurementHelper.attachAbsoluteCoordsToSignalCoordsMeasureHook(this.context.signalId,function(i){var o=lp(i,r.globalO),s=o[0],u=o[1],c=r.context.p.project.timelineData.numberOfFrames;s=Math.max(0,Math.min(r.w,s)),s=Math.round(s/r.w*c);var p=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];return u=Math.max(0,Math.min(r.h,u)),[s,u=(u=r.h-u)/r.h*(p[1]-p[0])+p[0]]})},e.prototype.windowWillUnmount=function(){this.unsubscribe1(),this.unsubscribe2(),this.unsubscribe3()},e.prototype.getChildren=function(){for(var t,r=[],i=0,o=(t=this.context.p.project.signalData[this.context.signalId])===null||t===void 0?void 0:t.pinIds;i<o.length;i++){var s=o[i],u=Kle.Node({pinId:s,key:s});r.push(u)}return r},e}(Ox),Yle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=kH,t}return Gi(e,n),Object.defineProperty(e.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),e.prototype.onMouseDown=function(t){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent],o=i[0],s=i[1];t.absolutePos;var u=t.terminateEvent,c=t.pointInside;o.selectedPinIds.length>0&&c&&(s({type:"mousedown_transformer_overlayCONDpin_in_selection"}),c&&u())},e}(nl),IH=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this,r=this.context.pointerModeMachineState.selectedPinIds;if(r.length===0)return new Bs([0,0],0,0);var i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(F){var O,j=t.context.PinPositionMeasurementHelper.getExistingPinPosition(F),z=t.context.p.project.orgData.activeSignalIds.flatMap(function(W){return t.context.p.project.signalData[W].pinIds.map(function(J){return[W,J]})});return{signalId:(O=z.find(function(W){W[0];var J=W[1];return F===J}))===null||O===void 0?void 0:O[0],pinId:F,pos:j}}),o=i.filter(function(F){return r.includes(F.pinId)}).map(function(F){return F.pos}),s=[Math.min.apply(Math,o.map(function(F){return F[0]})),Math.min.apply(Math,o.map(function(F){return F[1]}))],u=s[0],c=s[1],p=[Math.max.apply(Math,o.map(function(F){return F[0]})),Math.max.apply(Math,o.map(function(F){return F[1]}))],f=[u,c],g=f[0],y=f[1],b=p[0]-u,_=p[1]-c,M=this.canvasUnit;return M[0],M[1],new Bs([g,y],b,_)},e}(nl),Jle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=cw,t.unsubscribe=function(){},t}return Gi(e,n),Object.defineProperty(e.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(t){this.unsubscribe=this.context.PinTransformerCorners.attachCornerHook(this.props.anchor,this.getCornerPosition.bind(this))},e.prototype.getCornerPosition=function(){return pg(this.parentO,[Zs.PinDiameter/2,Zs.PinDiameter/2])},e.prototype.windowWillUnmount=function(){this.unsubscribe()},e.prototype.onMouseDown=function(t,r){t.pointInside&&this.context.SetTransformationType({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})},e}(nl),Xle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e4,t}return Gi(e,n),e.prototype.getChildren=function(){return[Yle.Node(),Jle.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=[-Zs.PinDiameter/2*r,-Zs.PinDiameter/2*i],s=this.parentW+Zs.PinDiameter*r,u=this.parentH+Zs.PinDiameter*i;return new Bs(o,s,u)},e.prototype.render=function(t){if(this.props.category!=="translate"){var r=this.w,i=this.h,o=[[r/4,i/4],[3*r/4,i/4],[3*r/4,3*i/4],[r/4,3*i/4]],s=t.ctx,u=t.localToCanvas;s.save(),s.beginPath(),s.moveTo.apply(s,u(o[0]));for(var c=1;c<o.length;c++)s.lineTo.apply(s,u(o[c]));s.closePath(),s.fillStyle="white",s.fill(),s.restore()}},e}(nl),h0=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){return[Xle.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},e.prototype.getBox=function(){var t,r,i,o,s,u,c,p,f,g=this.props.anchor,y={w:this.parentW,h:this.parentH},b=y.w,_=y.h;switch(g){case"top-left":f=[0,0],b=(t=[0,0])[0],_=t[1];break;case"top-right":f=[b,0],b=(r=[0,0])[0],_=r[1];break;case"bottom-left":f=[0,_],b=(i=[0,0])[0],_=i[1];break;case"bottom-right":f=[b,_],b=(o=[0,0])[0],_=o[1];break;case"left":f=[0,_/2],b=(s=[0,0])[0],_=s[1];break;case"right":f=[b,_/2],b=(u=[0,0])[0],_=u[1];break;case"bottom":f=[b/2,_],b=(c=[0,0])[0],_=c[1];break;case"top":f=[b/2,0],b=(p=[0,0])[0],_=p[1];break;case"start-point":f=[0,0];break;default:throw new Error("Invalid type")}return new Bs(f,b,_)},e}(nl),Qle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=cw,t}return Gi(e,n),e.prototype.windowDidMount=function(t){},Object.defineProperty(e.prototype,"spansMoreThanOneSignal",{get:function(){var t=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return t.context.p.project.orgData.activeSignalIds.find(function(o){return t.context.p.project.signalData[o].pinIds.includes(i)})});return Array.from(new Set(r)).length>1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"includesDiscreteSignal",{get:function(){var t=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return t.context.p.project.orgData.activeSignalIds.find(function(o){return t.context.p.project.signalData[o].pinIds.includes(i)})});return Array.from(new Set(r)).some(function(i){return t.context.p.project.orgData.signalTypes[i]==="discrete"})},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){var t=[];return this.active&&this.context.pointerModeMachineState.selectedPinIds.length>1&&(this.spansMoreThanOneSignal||(t.push(h0.Node({category:"scale",axes:"x-y",anchor:"bottom-left"})),t.push(h0.Node({category:"scale",axes:"x-y",anchor:"bottom-right"})),t.push(h0.Node({category:"scale",axes:"x-y",anchor:"top-left"})),t.push(h0.Node({category:"scale",axes:"x-y",anchor:"top-right"})),t.push(h0.Node({category:"scale",axes:"y",anchor:"bottom"})),t.push(h0.Node({category:"scale",axes:"y",anchor:"top"}))),t.push(h0.Node({category:"scale",axes:"x",anchor:"left"})),t.push(h0.Node({category:"scale",axes:"x",anchor:"right"}))),this.active&&(this.spansMoreThanOneSignal||this.includesDiscreteSignal?t.push(h0.Node({category:"translate",axes:"x",anchor:"start-point"})):t.push(h0.Node({category:"translate",axes:"x-y",anchor:"start-point"}))),t},Object.defineProperty(e.prototype,"active",{get:function(){var t=this.context.pointerModeMachineState;return t.type==="transform_pins"||t.type==="start"&&t.selectedPinIds.length>0},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r=t.ctx,i=t.localToCanvas;t.canvasToLocal,t.absoluteToCanvasMeasure,t.canvasToAbsoluteMeasure;var o=i;if(r.save(),r.beginPath(),r.strokeStyle="rgba(255,255,255,0.5)",r.lineWidth=2,this.active){var s=[[0,0],[this.w,0],[this.w,this.h],[0,this.h],[0,0]].map(function(u){return o(u)});r.moveTo.apply(r,s[0]),r.lineTo.apply(r,s[1]),r.lineTo.apply(r,s[2]),r.lineTo.apply(r,s[3]),r.lineTo.apply(r,s[4]),r.stroke()}r.restore()},e}(IH);function tb(n,e,t,r){var i=lp(r,t);if(e[0]===0&&e[1]===0){var o=tb(n,[-i[1],i[0]],t,r);if(o===void 0)throw new Error("Unexpected undefined intersection");return Number(dy(lp(o,n)))<1e-7?o:void 0}var s=e[0]*i[1]-e[1]*i[0];if(s!==0){var u=((t[0]-n[0])*i[1]-(t[1]-n[1])*i[0])/s,c=((t[0]-n[0])*e[1]-(t[1]-n[1])*e[0])/s;return c>=0&&c<=1?[n[0]+u*e[0],n[1]+u*e[1]]:void 0}}var r5={"scale-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){return[-e*s+e+s*i,-t*s+t+s*o]}}},"scale-x":function(n){var e=n[0];return n[1],function(t){var r=t[0],i=t[1];return function(o){return[-e*o+e+o*r,i]}}},"scale-y":function(n){n[0];var e=n[1];return function(t){var r=t[0],i=t[1];return function(o){return[r,-e*o+e+o*i]}}},"translate-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){return[e*s+i,t*s+o]}}},"translate-x":function(n){var e=n[0];return n[1],function(t){var r=t[0],i=t[1];return function(o){return[e*o+r,i]}}},"translate-y":function(n){n[0];var e=n[1];return function(t){var r=t[0],i=t[1];return function(o){return[r,e*o+i]}}}},Tk=function(n,e,t,r){var i=lp(t,n),o=lp(e,n);if(Number(dy(o))<1e-7){var s=lp(t,e);if(Number(dy(s))<1e-7)return 0;throw new Error("No parameter exists")}var u=i[0],c=i[1],p=o[0],f=o[1],g=r[0],y=r[1];if(p*g!==0)return u/(p*g);if(f*y!==0)return c/(f*y);throw new Error("No parameter exists")},Ik=function(n,e,t){var r=lp(t,e);if(Number(dy(n))<1e-7){if(Number(dy(r))<1e-7)return 0;throw console.log("direction",n,"point",e,"targetPoint",t),new Error("No parameter exists")}var i=r[0],o=r[1],s=n[0],u=n[1];if(s!==0)return i/s;if(u!==0)return o/u;throw new Error("No parameter exists")},i5={"scale-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return Tk([e,t],[i,o],[u,c],[1,1])}}},"scale-x":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return Tk([e,t],[i,o],[u,c],[1,0])}}},"scale-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return Tk([e,t],[i,o],[u,c],[0,1])}}},"translate-x-y":function(n){var e=n[0],t=n[1];return function(r){var i=r[0],o=r[1];return function(s){var u=s[0],c=s[1];return Ik([e,t],[i,o],[u,c])}}},"translate-x":function(n){var e=n[0];return n[1],function(t){var r=t[0],i=t[1];return function(o){var s=o[0],u=o[1];return Ik([e,0],[r,i],[s,u])}}},"translate-y":function(n){n[0];var e=n[1];return function(t){var r=t[0],i=t[1];return function(o){var s=o[0],u=o[1];return Ik([0,e],[r,i],[s,u])}}}},Zle=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=cw,t.state={initialised:!1},t.appropriateRounding=function(r){var i=r[0],o=r[1];return[Math.round(i/Zs.PixelsPerFrame)*Zs.PixelsPerFrame,o]},t.shiftKeyPressed=!1,t.altKeyPressed=!1,t}return Gi(e,n),e.prototype.getPinIdsGroupedBySignal=function(){var t=this;return this.context.pointerModeMachineState.selectedPinIds.reduce(function(r,i){var o=t.context.p.project.orgData.activeSignalIds.find(function(s){return t.context.p.project.signalData[s].pinIds.includes(i)});return r[o]||(r[o]=[]),r[o].push(i),r},{})},e.prototype.getPinPositions=function(){var t=this;return this.context.pointerModeMachineState.selectedPinIds.map(function(r){return[r,t.context.PinPositionMeasurementHelper.getExistingPinPosition(r)]})},e.prototype.getSignalBoundingBoxes=function(){for(var t=[],r=this.getPinIdsGroupedBySignal(),i=function(c){var p=o.getPinPositions().filter(function(F){var O=F[0];return F[1],r[c].includes(O)}).map(function(F){return F[0],F[1]}),f=Math.min.apply(Math,p.map(function(F){return F[0]})),g=Math.min.apply(Math,p.map(function(F){return F[1]})),y=Math.max.apply(Math,p.map(function(F){return F[0]})),b=Math.max.apply(Math,p.map(function(F){return F[1]})),_=new Bs([f,g],Math.abs(y-f),Math.abs(b-g)),M=o.context.PinPositionMeasurementHelper.getSignalContentBox(c);t.push([c,_,M])},o=this,s=0,u=Object.keys(r);s<u.length;s++)i(u[s]);return t},e.prototype.computeTransformation=function(){if(!this.state.initialised)throw new Error("State not initialised");var t,r,i,o,s,u,c=this.context.TransformationType.category,p=this.context.TransformationType.axes,f=this.context.TransformationType.anchor;if(this.shiftKeyPressed&&p==="x-y"&&c==="translate"&&(p="x"),this.altKeyPressed&&p==="x-y"&&c==="translate"&&(p="y"),f==="start-point"){t=this.state.startPos;var g=dy(b=hS(b=lp(this.state.currentPos,t),[p==="y"?0:1,p==="x"?0:1]));r=g!==0?WD(b,1/g):b,i=pg(t,WD(r,e5(r,lp(this.state.currentPos,t)))),o=t}else{var y={"top-left":"bottom-right","top-right":"bottom-left","bottom-left":"top-right","bottom-right":"top-left",left:"right",right:"left",top:"bottom",bottom:"top"}[f];t=this.state.cornerPositions[y];var b,_=dy(b=lp(this.state.cornerPositions[f],t));r=_!==0?WD(b,1/_):b,i=pg(t,WD(r,e5(r,lp(this.state.currentPos,t)))),o=this.state.cornerPositions[f]}c==="translate"?(s=r5["translate-".concat(p)](r),u=i5["translate-".concat(p)](r)):(s=r5["scale-".concat(p)](t),u=i5["scale-".concat(p)](t));var M=u(o)(i);return{transformation:s,inverseTransformation:u,initialParameter:M}},e.prototype.parameterIsLegal=function(t){if(this.context.TransformationType.category==="translate"){if(t===0)return!1}else if(t===1)return!1;return!0},e.prototype.getTransformationQueue=function(t){var r;if(!this.state.initialised)throw new Error("State not initialised");var i=this.computeTransformation(),o=i.transformation,s=i.inverseTransformation,u=i.initialParameter;if(!this.parameterIsLegal(u))return[];for(var c=this.getPinIdsGroupedBySignal(),p=this.state.pinPositions,f=this.state.signalBoundingBoxes.map(function(G){return G[0],function(te,ae,se,ge){for(var xe=[i0([],te.o,!0),[te.o[0]+te.w,te.o[1]],[te.o[0]+te.w,te.o[1]+te.h],[te.o[0],te.o[1]+te.h]],Pe=xe.map(function(Fe){return se(Fe)(2)}),Ce=xe.map(function(Fe,Ne){return[Fe,lp(Fe,Pe[Ne])]}),Me=[i0([],ae.o,!0),[ae.o[0]+ae.w,ae.o[1]],[ae.o[0]+ae.w,ae.o[1]+ae.h],[ae.o[0],ae.o[1]+ae.h]],Oe=[],et=function(Fe){var Ne=Ce[Fe],Ee=Ne[0],Ze=Ne[1],xt=[tb(Ee,Ze,Me[0],Me[1]),tb(Ee,Ze,Me[1],Me[2]),tb(Ee,Ze,Me[2],Me[3]),tb(Ee,Ze,Me[3],Me[0])].filter(function(an){return an!==void 0}),wt=xt.map(function(an){return ge(Ee)(an)});if(wt.length===0||wt.length===1)return Oe.push([-1/0,1/0]),"continue";if(wt.length===2){var Dt=wt.sort(function(an,un){return an-un}),rn=[Dt[0],Dt[1]];return Oe.push(rn),"continue"}throw new Error("Unexpected number of intersections")},$e=0;$e<4;$e++)et($e);if(Oe.length===0)throw new Error("None of the vertices could possibly intersect the parent box under transformation. This means a pathological transformation was supplied.");return Oe.reduce(function(Fe,Ne){return[Math.max(Fe[0],Ne[0]),Math.min(Fe[1],Ne[1])]},Oe[0])}(G[1],G[2],o,s)}),g=f.reduce(function(G,Q){return[Math.max(G[0],Q[0]),Math.min(G[1],Q[1])]},f[0]),y=Math.max(g[0],Math.min(g[1],u)),b=[],_=0,M=Object.keys(c);_<M.length;_++)for(var F=M[_],O=this.context.p.project.orgData.signalTypes[F],j=function(G){var Q=(r=p.find(function(xe){var Pe=xe[0];return xe[1],Pe===G}))===null||r===void 0?void 0:r[1];if(!Q)throw new Error("Pin position not found");var te=o(Q)(y),ae=z.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords(F,te),se=ae[0],ge=ae[1];O==="continuous"?b.push({pinId:G,pinType:"continuous",pinTime:se,pinValue:ge,functionString:void 0}):b.push({pinId:G,pinType:"discrete",pinTime:se,pinValue:void 0})},z=this,W=0,J=c[F];W<J.length;W++)j(J[W]);return b},e.prototype.getCornerPositions=function(){return{"top-left":this.context.PinTransformerCorners.getCornerPosition("top-left"),"top-right":this.context.PinTransformerCorners.getCornerPosition("top-right"),"bottom-left":this.context.PinTransformerCorners.getCornerPosition("bottom-left"),"bottom-right":this.context.PinTransformerCorners.getCornerPosition("bottom-right"),left:this.context.PinTransformerCorners.getCornerPosition("left"),right:this.context.PinTransformerCorners.getCornerPosition("right"),top:this.context.PinTransformerCorners.getCornerPosition("top"),bottom:this.context.PinTransformerCorners.getCornerPosition("bottom")}},e.prototype.initialiseState=function(t){this.setState({startPos:this.appropriateRounding(t.absolutePos),currentPos:this.appropriateRounding(t.absolutePos),pinPositions:this.getPinPositions(),signalBoundingBoxes:this.getSignalBoundingBoxes(),cornerPositions:this.getCornerPositions(),initialised:!0})},e.prototype.updatePins=function(t,r){var i=this.appropriateRounding;if(this.state.initialised){r||this.setState(xl(xl({},this.state),{currentPos:i(t.absolutePos)}));var o=this.getTransformationQueue(t);(o.findIndex(function(s){return s.pinTime!==void 0||s.pinValue!==void 0})!==-1||r)&&(this.context.p.projectTools.returnToLastCommit(),this.context.p.projectTools.updatePins(o,r))}else this.initialiseState(t)},e.prototype.onMouseMove=function(t,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,o=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=o,this.updatePins(t,!1)}},e.prototype.onMouseUp=function(t,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,o=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=o,this.updatePins(t,!0),this.setState({anchor:void 0,pinPositions:void 0,signalBoundingBoxes:void 0,currentPos:void 0,initialised:!1})}},e}(IH),ece=function(){function n(){this.cornerHooks={}}return n.prototype.getCornerPosition=function(e){if(this.cornerHooks[e])return this.cornerHooks[e]()},n.prototype.attachCornerHook=function(e,t){var r=this;return this.cornerHooks[e]=t,function(){delete r.cornerHooks[e]}},n}(),tce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.setTransformationType=function(t){var r=t.category,i=t.axes,o=t.anchor;this.setContext("TransformationType",{category:r,axes:i,anchor:o})},e.prototype.windowDidMount=function(t){this.setContext("PinPositionMeasurementHelper",new PH),this.setContext("SetTransformationType",this.setTransformationType.bind(this)),this.setContext("PinTransformerCorners",new ece)},e.prototype.getChildren=function(){var t=[];return t.push(TH.Node()),t.push(Qle.Node()),t.push(Zle.Node()),t},e}(nl),nce=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=cw,t}return Gi(e,n),Object.defineProperty(e.prototype,"selected",{get:function(){return this.context.pointerModeMachineState.selectedPinIds.includes(this.context.pinId)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var r,i;if(this.selected){var o=this.w,s=this.h,u=[[o/2,0],[o,s/2],[o/2,s],[0,s/2]];t.ctx.beginPath(),(r=t.ctx).moveTo.apply(r,t.localToCanvas(u[0]));for(var c=1;c<u.length;c++)(i=t.ctx).lineTo.apply(i,t.localToCanvas(u[c]));t.ctx.closePath(),t.ctx.fillStyle="cyan",t.ctx.fill()}},e}(MH),rce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){return[nce.Node()]},e}(DO),ice=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var o=i[r];t.push(rce.Node({pinId:o,key:o}))}return t},e}(Ox),oce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return t.push(ice.Node()),t},e}(Nx),ace=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r];t.push(oce.Node({signalId:o,key:o}))}return t},e}(nl),sce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){var r=this;this.setContext("pointerModeMachineState",{type:"start",selectedPinIds:[]}),this.setContext("dispatchPointerModeMachineEvent",function(i){i.selectedPinIds&&r.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:i.selectedPinIds,dispatchPointerModeMachineEvent:function(s){r.context.dispatchPointerModeMachineEvent(s)}}});var o=function(s,u){var c={start:{mousedown_resizebar:"change_signal_height",mousedown_selectionoverlay:"make_selection",mousedown_transformer_overlayCONDpin_in_selection:"transform_pins",mousedown_pinCONDpin_not_in_selection:"transform_pins",delete_selected_pins:"start"},make_selection:{mousemove_selectionoverlayCONDselection_changed:"make_selection",mouseup_selectionoverlay:"start"},change_signal_height:{mouseup_selectionoverlay:"start"},transform_pins:{mouseup_selectionoverlay:"start"}}[s.type][u.type];return c?{type:c,selectedPinIds:u.selectedPinIds||i0([],s.selectedPinIds,!0)}:s}(r.context.pointerModeMachineState,i);r.setContext("pointerModeMachineState",o)}),this.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:[],dispatchPointerModeMachineEvent:function(i){r.context.dispatchPointerModeMachineEvent(i)}}})},e.prototype.windowWillUnmount=function(){this.context.contextBridge.setContext({type:"default"})},e.prototype.getChildren=function(){var t=this.context.p,r=[],i=Vle.Node();r.push(i);var o=tce.Node();r.push(o);var s=ace.Node();return r.push(s),function(c,p){for(var f=0,g=c.project.orgData.activeSignalIds;f<g.length;f++)p(g[f])}(t,function(u){var c=Ule.Node({signalId:u});r.push(c)}),r},e}(nl),uce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){return this._cameraSnapshot.clone()},e.prototype.onMouseMove=function(){this.context.p.projectTools.returnToLastCommit()},e}(nl),lce=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=10,t.lastPinId="",t}return Gi(e,n),e.prototype.updatePinValue=function(t,r,i){var o=Object.entries(this.context.p.project.signalData[this.context.signalId].pinTimes).find(function(u){return u[0],u[1]===t});if(!o)throw new Error("Pin not found");var s=[{pinId:o[0],pinType:"continuous",pinTime:void 0,pinValue:r,functionString:void 0}];this.context.p.projectTools.updatePins(s,i)},e.prototype.addPin=function(t,r){if(t.pointInside){t.terminateEvent();var i=function(){return Math.random().toString(36).substring(7)}(),o=this.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords.bind(this.context.PinPositionMeasurementHelper),s=this.context.signalId,u=o(s,t.absolutePos),c=u[0],p=u[1],f="return easyLinear();",g=this.context.signalType,y=Object.entries(this.context.p.project.signalData[s].pinTimes).findIndex(function(F){return F[0],F[1]===c})!==-1;if(y){var b=Object.entries(this.context.p.project.signalData[s].pinTimes).find(function(F){return F[0],F[1]===c});if(!b)throw new Error("Pin not found");var _=b[0];if(_!==this.lastPinId)return;var M=this.context.p.project.signalData[s].pinValues[_];g==="discrete"&&(p=M),g==="continuous"&&(f=this.context.p.project.signalData[s].curves[_])}this.context.p.projectTools.returnToLastCommit(),r||(this.lastPinId=i),g==="discrete"?(this.context.p.projectTools.updatePlayheadPosition(c,r),this.context.p.projectTools.addPinDiscrete(s,i,c,"NEW PIN",r),this.context.p.projectTools.pushUpdate()):(this.context.p.projectTools.updatePlayheadPosition(c,r),this.context.p.projectTools.addPinContinuous(s,i,c,p,f,r),this.context.p.projectTools.pushUpdate())}},e.prototype.onMouseMove=function(t){this.addPin(t,!1)},e.prototype.onClick=function(t){this.addPin(t,!0)},e}(Ox),cce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return t.push(lce.Node()),t},e}(Nx),fce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r];t.push(cce.Node({signalId:o,key:o}))}return t.push(uce.Node()),t},e}(nl),o5=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}return Gi(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=this.props.o;return new Bs(o,20*r,20*i)},e.prototype.windowDidMount=function(t){this.setState({hover:!1})},Object.defineProperty(e.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),e.prototype.onMouseMove=function(t,r){this.setState({hover:t.pointInside})},e.prototype.onClick=function(t){t.pointInside&&(this.props.onClick(),t.terminateEvent())},e.prototype.render=function(t){var r=t.absoluteO,i=r[0],o=r[1],s=this.absoluteUnit,u=s[0],c=s[1];t.ctx.beginPath(),t.ctx.fillStyle="#3D5498",t.ctx.roundRect(i,o,this.w*u,this.h*c,[5,5,5,5]),t.ctx.strokeStyle="#243157",t.ctx.lineWidth=4,t.ctx.stroke(),t.ctx.fill(),t.ctx.font="".concat(Math.floor(.8*this.h*c),"px Material Symbols"),t.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),t.ctx.fillText(this.props.iconName,i+.1*this.w*u,o+this.h*c-this.h*c*.1)},e}(nl);(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}Gi(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=[this.parentW-25*r,5*i];return new Bs(o,20*r,20*i)},e.prototype.windowDidMount=function(t){this.setState({hover:!1})},Object.defineProperty(e.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),e.prototype.onMouseMove=function(t,r){this.setState({hover:t.pointInside})},e.prototype.onClick=function(t){t.pointInside&&(navigator.clipboard.writeText(this.context.functionString),t.terminateEvent())},e.prototype.render=function(t){var r=t.absoluteO,i=r[0],o=r[1],s=this.absoluteUnit,u=s[0],c=s[1];t.ctx.beginPath(),t.ctx.fillStyle="#3D5498",t.ctx.roundRect(i,o,this.w*u,this.h*c,[5,5,5,5]),t.ctx.strokeStyle="#243157",t.ctx.lineWidth=4,t.ctx.stroke(),t.ctx.fill(),t.ctx.font="".concat(Math.floor(.8*this.h*c),"px Material Symbols"),t.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),t.ctx.fillText("content_copy",i+.1*this.w*u,o+this.h*c-this.h*c*.1)}})(nl);var hce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1],o=[15*r,15*i],s=this.parentW-50*r,u=this.parentH-30*i;return new Bs(o,s,u)},e.prototype.windowDidMount=function(t){this.setState({hover:!1})},Object.defineProperty(e.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),e.prototype.onMouseMove=function(t){this.setState({hover:t.pointInside})},e.prototype.onClick=function(t,r){if(t.pointInside){var i=this.context.clipboard.functionString;i&&(this.context.p.projectTools.updateCurve(this.context.pinId,i),this.context.clipboard.functionString=void 0,this.context.clipboard.pinId=void 0)}},e.prototype.render=function(t){var r=t.absoluteO,i=r[0],o=r[1];t.ctx.fillStyle="white",t.ctx.font="12px monospace";for(var s=this.absoluteUnit,u=s[0],c=s[1],p=function(g,y,b,_,M){for(var F=g.split(`
`).map(function(Pe){return Pe.split(" ")}),O=[],j=function(Pe){for(var Ce=[],Me="",Oe=0,et=Pe;Oe<et.length;Oe++){var $e=et[Oe],Fe=Me+$e;y.measureText(Fe).width>b&&Me.length?(Ce.push(Me),Me=$e):Me=Fe}return Me&&Ce.push(Me),Ce},z=function(Pe){for(var Ce="",Me=0,Oe=Pe;Me<Oe.length;Me++)for(var et=Oe[Me],$e=0,Fe=y.measureText(et).width>b?j(et):[et];$e<Fe.length;$e++){var Ne=Fe[$e],Ee=Ce.length?Ce+" "+Ne:Ne;y.measureText(Ee).width>b&&Ce.length?(O.push(Ce),Ce=Ne):Ce=Ee}Ce&&O.push(Ce)},W=0,J=F;W<J.length;W++)z(J[W]);var G=Math.floor(M/_);if(O.length>G){O.splice(G,O.length-G);for(var Q=O[G-1],te=b-y.measureText("...").width,ae="",se=0,ge=Q;se<ge.length;se++){var xe=ae+ge[se];if(y.measureText(xe).width>te)break;ae=xe}O[G-1]=ae+"..."}return O}(this.context.functionString,t.ctx,this.w*u,12,this.h*c),f=0;f<p.length;f++)t.ctx.fillText(p[f],i,o+12*c+15*f*c);t.ctx.fillStyle="rgba(0,0,0,0.3)",t.ctx.fillRect(i,o,this.w*u,this.h*c),this.hover&&(t.ctx.beginPath(),t.ctx.strokeStyle="rgba(255,255,255,0.5)",t.ctx.lineWidth=1,t.ctx.strokeRect(i,o,this.w*u,this.h*c))},e}(nl),pce=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.updateWhenCameraChanges=!0,t.layer=100,t}return Gi(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.setContext("functionString",this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId])},e.prototype.windowDidUpdate=function(t){this.context.functionString=this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId]},e.prototype.getChildren=function(){var t=this,r=[],i=this.absoluteUnit,o=i[0];return i[1],this.w*o>100&&r.push(hce.Node()),this.w*o>50&&(r.push(o5.Node({iconName:"code",onClick:function(){t.context.p.setActiveEditor({type:"pin",id:t.context.pinId})},o:[this.w-25,5]})),r.push(o5.Node({iconName:"content_copy",onClick:function(){t.context.clipboard.functionString=t.context.functionString,t.context.clipboard.pinId=t.context.pinId},o:[this.w-25,30]}))),r},e}(FH),gce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var o=i[r];t.push(pce.Node({pinId:o,key:o}))}return t},e}(Ox),mce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.getChildren=function(){var t=[];return t.push(gce.Node()),t},e}(Nx),dce=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return Gi(e,n),e.prototype.windowDidMount=function(t){this.setContext("clipboard",{functionString:void 0,pinId:void 0})},e.prototype.getChildren=function(){for(var t=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var o=i[r];this.context.p.project.orgData.signalTypes[o]==="continuous"&&t.push(mce.Node({signalId:o,key:o}))}return t},e}(nl),vce=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return Gi(e,n),e.prototype.getBox=function(){return new Bs([0,0],100,100)},e.prototype.windowDidMount=function(t){console.log("mounted",t)},e}(nl);(function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.unsubscribe=function(){},t}return Gi(e,n),e.prototype.windowDidMount=function(t){var r=this,i=t.extendedProjectAPIBridge,o=t.contextBridge;this.setContext("externalState",i.data),this.setContext("p",i.data),this.unsubscribe=i.subscribe(function(s){r.setContext("externalState",s),r.setContext("p",s)}),this.setContext("PinPositionMeasurementHelper",new PH),this.setContext("contextBridge",o)},e.prototype.getChildren=function(){var t=this.context.p.activeTool,r=[];switch(r.push(Sle.Node()),r.push(TH.Node()),r.push(Lle.Node()),t){case"pointer":r.push(sce.Node());break;case"code_editor":r.push(dce.Node());break;case"add_pin":r.push(fce.Node());break;default:r.push(vce.Node())}return r},e})(nl);at.forwardRef(function(n,e){var t=n.animationFrameFunc,r=at.useRef(null),i=at.useRef(null),o=at.useState(null),s=o[0],u=o[1];return at.useImperativeHandle(e,function(){return{getCanvas:function(){return r.current}}}),at.useLayoutEffect(function(){if(!s&&i.current){var c=i.current.getBoundingClientRect(),p=c.width,f=c.height;u({width:p,height:f})}var g=new ResizeObserver(function(y){if(y[0]){var b=y[0].contentRect,_=b.width,M=b.height;u({width:_,height:M})}});return i.current&&g.observe(i.current),function(){return g.disconnect()}},[]),at.useLayoutEffect(function(){var c;if(s){var p={W:s.width,H:s.height},f=function(){if(r){var g=r.current;if(!g)throw new Error("Canvas not found");var y=g.getContext("2d");if(!y)throw new Error("2d context not found");g.width=p.W,g.height=p.H,t(g,y),c=requestAnimationFrame(f)}};return c=requestAnimationFrame(f),function(){return cancelAnimationFrame(c)}}},[s,t]),ft.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:ft.jsx("canvas",{style:{width:"100%",height:"100%",display:"block"},width:300,height:100,ref:r})})});var a5,pS={exports:{}},yce=pS.exports;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){return a5||(a5=1,e=pS,t=pS.exports,(function(){var r,i="Expected a function",o="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,p=64,f=128,g=256,y=1/0,b=9007199254740991,_=NaN,M=4294967295,F=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",p],["rearg",g]],O="[object Arguments]",j="[object Array]",z="[object Boolean]",W="[object Date]",J="[object Error]",G="[object Function]",Q="[object GeneratorFunction]",te="[object Map]",ae="[object Number]",se="[object Object]",ge="[object Promise]",xe="[object RegExp]",Pe="[object Set]",Ce="[object String]",Me="[object Symbol]",Oe="[object WeakMap]",et="[object ArrayBuffer]",$e="[object DataView]",Fe="[object Float32Array]",Ne="[object Float64Array]",Ee="[object Int8Array]",Ze="[object Int16Array]",xt="[object Int32Array]",wt="[object Uint8Array]",Dt="[object Uint8ClampedArray]",rn="[object Uint16Array]",an="[object Uint32Array]",un=/\b__p \+= '';/g,ur=/\b(__p \+=) '' \+/g,Fn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wi=/&(?:amp|lt|gt|quot|#39);/g,js=/[&<>"']/g,$a=RegExp(wi.source),fe=RegExp(js.source),ue=/<%-([\s\S]+?)%>/g,ve=/<%([\s\S]+?)%>/g,Se=/<%=([\s\S]+?)%>/g,Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Be=/^\w*$/,He=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,We=/[\\^$.*+?()[\]{}|]/g,ot=RegExp(We.source),gt=/^\s+/,bt=/\s/,fn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kn=/\{\n\/\* \[wrapped with (.+)\] \*/,yn=/,? & /,At=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ui=/[()=,{}\[\]\/\s]/,io=/\\(\\)?/g,bo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ta=/\w*$/,Oo=/^[-+]0x[0-9a-f]+$/i,Ru=/^0b[01]+$/i,fa=/^\[object .+?Constructor\]$/,ju=/^0o[0-7]+$/i,eu=/^(?:0|[1-9]\d*)$/,hs=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uu=/($^)/,zl=/['\n\r\u2028\u2029\\]/g,Ss="\\ud800-\\udfff",Dl="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Cl="\\u2700-\\u27bf",Qa="a-z\\xdf-\\xf6\\xf8-\\xff",Ul="A-Z\\xc0-\\xd6\\xd8-\\xde",rl="\\ufe0e\\ufe0f",Gu="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ls="['’]",Sl="["+Ss+"]",_s="["+Gu+"]",xa="["+Dl+"]",za="\\d+",Jo="["+Cl+"]",il="["+Qa+"]",ol="[^"+Ss+Gu+za+Cl+Qa+Ul+"]",Ua="\\ud83c[\\udffb-\\udfff]",lu="[^"+Ss+"]",al="(?:\\ud83c[\\udde6-\\uddff]){2}",sl="[\\ud800-\\udbff][\\udc00-\\udfff]",tu="["+Ul+"]",cu="\\u200d",_l="(?:"+il+"|"+ol+")",Pi="(?:"+tu+"|"+ol+")",Lu="(?:['’](?:d|ll|m|re|s|t|ve))?",Br="(?:['’](?:D|LL|M|RE|S|T|VE))?",ha="(?:"+xa+"|"+Ua+")?",gn="["+rl+"]?",na=gn+ha+"(?:"+cu+"(?:"+[lu,al,sl].join("|")+")"+gn+ha+")*",Sc="(?:"+[Jo,al,sl].join("|")+")"+na,El="(?:"+[lu+xa+"?",xa,al,sl,Sl].join("|")+")",No=RegExp(Ls,"g"),Qt=RegExp(xa,"g"),jt=RegExp(Ua+"(?="+Ua+")|"+El+na,"g"),fu=RegExp([tu+"?"+il+"+"+Lu+"(?="+[_s,tu,"$"].join("|")+")",Pi+"+"+Br+"(?="+[_s,tu+_l,"$"].join("|")+")",tu+"?"+_l+"+"+Lu,tu+"+"+Br,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",za,Sc].join("|"),"g"),Ph=RegExp("["+cu+Ss+Dl+rl+"]"),Es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Bo=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Nf=-1,Bt={};Bt[Fe]=Bt[Ne]=Bt[Ee]=Bt[Ze]=Bt[xt]=Bt[wt]=Bt[Dt]=Bt[rn]=Bt[an]=!0,Bt[O]=Bt[j]=Bt[et]=Bt[z]=Bt[$e]=Bt[W]=Bt[J]=Bt[G]=Bt[te]=Bt[ae]=Bt[se]=Bt[xe]=Bt[Pe]=Bt[Ce]=Bt[Oe]=!1;var rr={};rr[O]=rr[j]=rr[et]=rr[$e]=rr[z]=rr[W]=rr[Fe]=rr[Ne]=rr[Ee]=rr[Ze]=rr[xt]=rr[te]=rr[ae]=rr[se]=rr[xe]=rr[Pe]=rr[Ce]=rr[Me]=rr[wt]=rr[Dt]=rr[rn]=rr[an]=!0,rr[J]=rr[G]=rr[Oe]=!1;var Mo={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},df=parseFloat,Za=parseInt,Rr=typeof zD=="object"&&zD&&zD.Object===Object&&zD,hu=typeof self=="object"&&self&&self.Object===Object&&self,Ei=Rr||hu||Function("return this")(),Hn=t&&!t.nodeType&&t,Xo=Hn&&e&&!e.nodeType&&e,af=Xo&&Xo.exports===Hn,cc=af&&Rr.process,Rn=function(){try{var he=Xo&&Xo.require&&Xo.require("util").types;return he||cc&&cc.binding&&cc.binding("util")}catch{}}(),Qf=Rn&&Rn.isArrayBuffer,jr=Rn&&Rn.isDate,Nc=Rn&&Rn.isMap,As=Rn&&Rn.isRegExp,mi=Rn&&Rn.isSet,Jn=Rn&&Rn.isTypedArray;function ri(he,Ke,Qe){switch(Qe.length){case 0:return he.call(Ke);case 1:return he.call(Ke,Qe[0]);case 2:return he.call(Ke,Qe[0],Qe[1]);case 3:return he.call(Ke,Qe[0],Qe[1],Qe[2])}return he.apply(Ke,Qe)}function nn(he,Ke,Qe,ut){for(var Vt=-1,hn=he==null?0:he.length;++Vt<hn;){var Cr=he[Vt];Ke(ut,Cr,Qe(Cr),he)}return ut}function Xn(he,Ke){for(var Qe=-1,ut=he==null?0:he.length;++Qe<ut&&Ke(he[Qe],Qe,he)!==!1;);return he}function es(he,Ke){for(var Qe=he==null?0:he.length;Qe--&&Ke(he[Qe],Qe,he)!==!1;);return he}function ch(he,Ke){for(var Qe=-1,ut=he==null?0:he.length;++Qe<ut;)if(!Ke(he[Qe],Qe,he))return!1;return!0}function Jr(he,Ke){for(var Qe=-1,ut=he==null?0:he.length,Vt=0,hn=[];++Qe<ut;){var Cr=he[Qe];Ke(Cr,Qe,he)&&(hn[Vt++]=Cr)}return hn}function $s(he,Ke){return!(he==null||!he.length)&&Us(he,Ke,0)>-1}function Wl(he,Ke,Qe){for(var ut=-1,Vt=he==null?0:he.length;++ut<Vt;)if(Qe(Ke,he[ut]))return!0;return!1}function Wn(he,Ke){for(var Qe=-1,ut=he==null?0:he.length,Vt=Array(ut);++Qe<ut;)Vt[Qe]=Ke(he[Qe],Qe,he);return Vt}function bi(he,Ke){for(var Qe=-1,ut=Ke.length,Vt=he.length;++Qe<ut;)he[Vt+Qe]=Ke[Qe];return he}function Bc(he,Ke,Qe,ut){var Vt=-1,hn=he==null?0:he.length;for(ut&&hn&&(Qe=he[++Vt]);++Vt<hn;)Qe=Ke(Qe,he[Vt],Vt,he);return Qe}function ul(he,Ke,Qe,ut){var Vt=he==null?0:he.length;for(ut&&Vt&&(Qe=he[--Vt]);Vt--;)Qe=Ke(Qe,he[Vt],Vt,he);return Qe}function zs(he,Ke){for(var Qe=-1,ut=he==null?0:he.length;++Qe<ut;)if(Ke(he[Qe],Qe,he))return!0;return!1}var pa=ll("length");function Al(he,Ke,Qe){var ut;return Qe(he,function(Vt,hn,Cr){if(Ke(Vt,hn,Cr))return ut=hn,!1}),ut}function _c(he,Ke,Qe,ut){for(var Vt=he.length,hn=Qe+(ut?1:-1);ut?hn--:++hn<Vt;)if(Ke(he[hn],hn,he))return hn;return-1}function Us(he,Ke,Qe){return Ke==Ke?function(Vt,hn,Cr){for(var Do=Cr-1,jn=Vt.length;++Do<jn;)if(Vt[Do]===hn)return Do;return-1}(he,Ke,Qe):_c(he,Hl,Qe)}function tc(he,Ke,Qe,ut){for(var Vt=Qe-1,hn=he.length;++Vt<hn;)if(ut(he[Vt],Ke))return Vt;return-1}function Hl(he){return he!=he}function vr(he,Ke){var Qe=he==null?0:he.length;return Qe?ga(he,Ke)/Qe:_}function ll(he){return function(Ke){return Ke==null?r:Ke[he]}}function Ro(he){return function(Ke){return he==null?r:he[Ke]}}function Vl(he,Ke,Qe,ut,Vt){return Vt(he,function(hn,Cr,Do){Qe=ut?(ut=!1,hn):Ke(Qe,hn,Cr,Do)}),Qe}function ga(he,Ke){for(var Qe,ut=-1,Vt=he.length;++ut<Vt;){var hn=Ke(he[ut]);hn!==r&&(Qe=Qe===r?hn:Qe+hn)}return Qe}function fc(he,Ke){for(var Qe=-1,ut=Array(he);++Qe<he;)ut[Qe]=Ke(Qe);return ut}function ql(he){return he&&he.slice(0,Ue(he)+1).replace(gt,"")}function ra(he){return function(Ke){return he(Ke)}}function Wa(he,Ke){return Wn(Ke,function(Qe){return he[Qe]})}function ji(he,Ke){return he.has(Ke)}function hc(he,Ke){for(var Qe=-1,ut=he.length;++Qe<ut&&Us(Ke,he[Qe],0)>-1;);return Qe}function xo(he,Ke){for(var Qe=he.length;Qe--&&Us(Ke,he[Qe],0)>-1;);return Qe}var ts=Ro({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Qi=Ro({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ii(he){return"\\"+Mo[he]}function Qo(he){return Ph.test(he)}function vf(he){var Ke=-1,Qe=Array(he.size);return he.forEach(function(ut,Vt){Qe[++Ke]=[Vt,ut]}),Qe}function ia(he,Ke){return function(Qe){return he(Ke(Qe))}}function ie(he,Ke){for(var Qe=-1,ut=he.length,Vt=0,hn=[];++Qe<ut;){var Cr=he[Qe];Cr!==Ke&&Cr!==s||(he[Qe]=s,hn[Vt++]=Qe)}return hn}function de(he){var Ke=-1,Qe=Array(he.size);return he.forEach(function(ut){Qe[++Ke]=ut}),Qe}function ye(he){var Ke=-1,Qe=Array(he.size);return he.forEach(function(ut){Qe[++Ke]=[ut,ut]}),Qe}function ze(he){return Qo(he)?function(Qe){for(var ut=jt.lastIndex=0;jt.test(Qe);)++ut;return ut}(he):pa(he)}function ct(he){return Qo(he)?function(Qe){return Qe.match(jt)||[]}(he):function(Qe){return Qe.split("")}(he)}function Ue(he){for(var Ke=he.length;Ke--&&bt.test(he.charAt(Ke)););return Ke}var pt=Ro({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Et=function he(Ke){var Qe,ut=(Ke=Ke==null?Ei:Et.defaults(Ei.Object(),Ke,Et.pick(Ei,Bo))).Array,Vt=Ke.Date,hn=Ke.Error,Cr=Ke.Function,Do=Ke.Math,jn=Ke.Object,$t=Ke.RegExp,Zh=Ke.String,oa=Ke.TypeError,ps=ut.prototype,Ec=Cr.prototype,oo=jn.prototype,yf=Ke["__core-js_shared__"],pu=Ec.toString,pn=oo.hasOwnProperty,kl=0,wf=(Qe=/[^.]+$/.exec(yf&&yf.keys&&yf.keys.IE_PROTO||""))?"Symbol(src)_1."+Qe:"",Ma=oo.toString,Bf=pu.call(jn),nc=Ei._,cl=$t("^"+pu.call(pn).replace(We,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fl=af?Ke.Buffer:r,Wi=Ke.Symbol,aa=Ke.Uint8Array,gu=fl?fl.allocUnsafe:r,sf=ia(jn.getPrototypeOf,jn),fh=jn.create,Ac=oo.propertyIsEnumerable,Zo=ps.splice,$u=Wi?Wi.isConcatSpreadable:r,zu=Wi?Wi.iterator:r,Kl=Wi?Wi.toStringTag:r,Rc=function(){try{var v=Vn(jn,"defineProperty");return v({},"",{}),v}catch{}}(),Ch=Ke.clearTimeout!==Ei.clearTimeout&&Ke.clearTimeout,Sh=Vt&&Vt.now!==Ei.Date.now&&Vt.now,Tn=Ke.setTimeout!==Ei.setTimeout&&Ke.setTimeout,wn=Do.ceil,Gl=Do.floor,Zf=jn.getOwnPropertySymbols,Rf=fl?fl.isBuffer:r,Ws=Ke.isFinite,Da=ps.join,ks=ia(jn.keys,jn),Ai=Do.max,Tr=Do.min,ns=Vt.now,Hs=Ke.parseInt,Fa=Do.random,Pa=ps.reverse,kc=Vn(Ke,"DataView"),Uu=Vn(Ke,"Map"),Wu=Vn(Ke,"Promise"),hl=Vn(Ke,"Set"),Yl=Vn(Ke,"WeakMap"),rs=Vn(jn,"create"),Ms=Yl&&new Yl,Ml={},R=bu(kc),is=bu(Uu),Yu=bu(Wu),Lr=bu(hl),_t=bu(Yl),Ae=Wi?Wi.prototype:r,$r=Ae?Ae.valueOf:r,xi=Ae?Ae.toString:r;function Z(v){if(si(v)&&!zt(v)&&!(v instanceof _n)){if(v instanceof bn)return v;if(pn.call(v,"__wrapped__"))return bf(v)}return new bn(v)}var ln=function(){function v(){}return function(m){if(!sn(m))return{};if(fh)return fh(m);v.prototype=m;var x=new v;return v.prototype=r,x}}();function Eu(){}function bn(v,m){this.__wrapped__=v,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=r}function _n(v){this.__wrapped__=v,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=M,this.__views__=[]}function gs(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var P=v[m];this.set(P[0],P[1])}}function Di(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var P=v[m];this.set(P[0],P[1])}}function Yi(v){var m=-1,x=v==null?0:v.length;for(this.clear();++m<x;){var P=v[m];this.set(P[0],P[1])}}function sa(v){var m=-1,x=v==null?0:v.length;for(this.__data__=new Yi;++m<x;)this.add(v[m])}function Ca(v){var m=this.__data__=new Di(v);this.size=m.size}function Jl(v,m){var x=zt(v),P=!x&&Eo(v),L=!x&&!P&&_r(v),H=!x&&!P&&!L&&Ot(v),V=x||P||L||H,Y=V?fc(v.length,Zh):[],re=Y.length;for(var ne in v)!m&&!pn.call(v,ne)||V&&(ne=="length"||L&&(ne=="offset"||ne=="parent")||H&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||va(ne,re))||Y.push(ne);return Y}function oi(v){var m=v.length;return m?v[lr(0,m-1)]:r}function Xl(v,m){return vi(Hi(v),Sa(m,0,v.length))}function Ta(v){return vi(Hi(v))}function Hr(v,m,x){(x!==r&&!wa(v[m],x)||x===r&&!(m in v))&&fo(v,m,x)}function Fl(v,m,x){var P=v[m];pn.call(v,m)&&wa(P,x)&&(x!==r||m in v)||fo(v,m,x)}function ms(v,m){for(var x=v.length;x--;)if(wa(v[x][0],m))return x;return-1}function ua(v,m,x,P){return Pn(v,function(L,H,V){m(P,L,x(L),V)}),P}function Li(v,m){return v&&eo(m,On(m),v)}function fo(v,m,x){m=="__proto__"&&Rc?Rc(v,m,{configurable:!0,enumerable:!0,value:x,writable:!0}):v[m]=x}function uf(v,m){for(var x=-1,P=m.length,L=ut(P),H=v==null;++x<P;)L[x]=H?r:Su(v,m[x]);return L}function Sa(v,m,x){return v==v&&(x!==r&&(v=v<=x?v:x),m!==r&&(v=v>=m?v:m)),v}function jo(v,m,x,P,L,H){var V,Y=1&m,re=2&m,ne=4&m;if(x&&(V=L?x(v,P,L,H):x(v)),V!==r)return V;if(!sn(v))return v;var ce=zt(v);if(ce){if(V=function(Ie){var Xe=Ie.length,Ye=new Ie.constructor(Xe);return Xe&&typeof Ie[0]=="string"&&pn.call(Ie,"index")&&(Ye.index=Ie.index,Ye.input=Ie.input),Ye}(v),!Y)return Hi(v,V)}else{var me=br(v),be=me==G||me==Q;if(_r(v))return la(v,Y);if(me==se||me==O||be&&!L){if(V=re||be?{}:Ys(v),!Y)return re?function(Ie,Xe){return eo(Ie,Nl(Ie),Xe)}(v,function(Ie,Xe){return Ie&&eo(Xe,Sn(Xe),Ie)}(V,v)):function(Ie,Xe){return eo(Ie,kr(Ie),Xe)}(v,Li(V,v))}else{if(!rr[me])return L?v:{};V=function(Ie,Xe,Ye){var rt=Ie.constructor;switch(Xe){case et:return Va(Ie);case z:case W:return new rt(+Ie);case $e:return function(Mt,en){var qt=en?Va(Mt.buffer):Mt.buffer;return new Mt.constructor(qt,Mt.byteOffset,Mt.byteLength)}(Ie,Ye);case Fe:case Ne:case Ee:case Ze:case xt:case wt:case Dt:case rn:case an:return ml(Ie,Ye);case te:return new rt;case ae:case Ce:return new rt(Ie);case xe:return function(Mt){var en=new Mt.constructor(Mt.source,ta.exec(Mt));return en.lastIndex=Mt.lastIndex,en}(Ie);case Pe:return new rt;case Me:return function(Mt){return $r?jn($r.call(Mt)):{}}(Ie)}}(v,me,Y)}}H||(H=new Ca);var we=H.get(v);if(we)return we;H.set(v,V),Du(v)?v.forEach(function(Ge){V.add(jo(Ge,m,x,Ge,v,H))}):Tt(v)&&v.forEach(function(Ge,Ie){V.set(Ie,jo(Ge,m,x,Ie,v,H))});var Te=ce?r:(ne?re?da:ar:re?Sn:On)(v);return Xn(Te||v,function(Ge,Ie){Te&&(Ge=v[Ie=Ge]),Fl(V,Ie,jo(Ge,m,x,Ie,v,H))}),V}function Ln(v,m,x){var P=x.length;if(v==null)return!P;for(v=jn(v);P--;){var L=x[P],H=m[L],V=v[L];if(V===r&&!(L in v)||!H(V))return!1}return!0}function Mc(v,m,x){if(typeof v!="function")throw new oa(i);return mc(function(){v.apply(r,x)},m)}function pc(v,m,x,P){var L=-1,H=$s,V=!0,Y=v.length,re=[],ne=m.length;if(!Y)return re;x&&(m=Wn(m,ra(x))),P?(H=Wl,V=!1):m.length>=200&&(H=ji,V=!1,m=new sa(m));e:for(;++L<Y;){var ce=v[L],me=x==null?ce:x(ce);if(ce=P||ce!==0?ce:0,V&&me==me){for(var be=ne;be--;)if(m[be]===me)continue e;re.push(ce)}else H(m,me,P)||re.push(ce)}return re}Z.templateSettings={escape:ue,evaluate:ve,interpolate:Se,variable:"",imports:{_:Z}},Z.prototype=Eu.prototype,Z.prototype.constructor=Z,bn.prototype=ln(Eu.prototype),bn.prototype.constructor=bn,_n.prototype=ln(Eu.prototype),_n.prototype.constructor=_n,gs.prototype.clear=function(){this.__data__=rs?rs(null):{},this.size=0},gs.prototype.delete=function(m){var x=this.has(m)&&delete this.__data__[m];return this.size-=x?1:0,x},gs.prototype.get=function(m){var x=this.__data__;if(rs){var P=x[m];return P===o?r:P}return pn.call(x,m)?x[m]:r},gs.prototype.has=function(m){var x=this.__data__;return rs?x[m]!==r:pn.call(x,m)},gs.prototype.set=function(m,x){var P=this.__data__;return this.size+=this.has(m)?0:1,P[m]=rs&&x===r?o:x,this},Di.prototype.clear=function(){this.__data__=[],this.size=0},Di.prototype.delete=function(m){var x=this.__data__,P=ms(x,m);return!(P<0||(P==x.length-1?x.pop():Zo.call(x,P,1),--this.size,0))},Di.prototype.get=function(m){var x=this.__data__,P=ms(x,m);return P<0?r:x[P][1]},Di.prototype.has=function(m){return ms(this.__data__,m)>-1},Di.prototype.set=function(m,x){var P=this.__data__,L=ms(P,m);return L<0?(++this.size,P.push([m,x])):P[L][1]=x,this},Yi.prototype.clear=function(){this.size=0,this.__data__={hash:new gs,map:new(Uu||Di),string:new gs}},Yi.prototype.delete=function(m){var x=gr(this,m).delete(m);return this.size-=x?1:0,x},Yi.prototype.get=function(m){return gr(this,m).get(m)},Yi.prototype.has=function(m){return gr(this,m).has(m)},Yi.prototype.set=function(m,x){var P=gr(this,m),L=P.size;return P.set(m,x),this.size+=P.size==L?0:1,this},sa.prototype.add=sa.prototype.push=function(m){return this.__data__.set(m,o),this},sa.prototype.has=function(m){return this.__data__.has(m)},Ca.prototype.clear=function(){this.__data__=new Di,this.size=0},Ca.prototype.delete=function(m){var x=this.__data__,P=x.delete(m);return this.size=x.size,P},Ca.prototype.get=function(m){return this.__data__.get(m)},Ca.prototype.has=function(m){return this.__data__.has(m)},Ca.prototype.set=function(m,x){var P=this.__data__;if(P instanceof Di){var L=P.__data__;if(!Uu||L.length<199)return L.push([m,x]),this.size=++P.size,this;P=this.__data__=new Yi(L)}return P.set(m,x),this.size=P.size,this};var Pn=to(_a),Ha=to(rc,!0);function Ho(v,m){var x=!0;return Pn(v,function(P,L,H){return x=!!m(P,L,H)}),x}function di(v,m,x){for(var P=-1,L=v.length;++P<L;){var H=v[P],V=m(H);if(V!=null&&(Y===r?V==V&&!zo(V):x(V,Y)))var Y=V,re=H}return re}function os(v,m){var x=[];return Pn(v,function(P,L,H){m(P,L,H)&&x.push(P)}),x}function Kt(v,m,x,P,L){var H=-1,V=v.length;for(x||(x=po),L||(L=[]);++H<V;){var Y=v[H];m>0&&x(Y)?m>1?Kt(Y,m-1,x,P,L):bi(L,Y):P||(L[L.length]=Y)}return L}var Lo=ho(),Fc=ho(!0);function _a(v,m){return v&&Lo(v,m,On)}function rc(v,m){return v&&Fc(v,m,On)}function Xr(v,m){return Jr(m,function(x){return Ii(v[x])})}function as(v,m){for(var x=0,P=(m=iu(m,v)).length;v!=null&&x<P;)v=v[Si(m[x++])];return x&&x==P?v:r}function Ea(v,m,x){var P=m(v);return zt(v)?P:bi(P,x(v))}function Ci(v){return v==null?v===r?"[object Undefined]":"[object Null]":Kl&&Kl in jn(v)?function(x){var P=pn.call(x,Kl),L=x[Kl];try{x[Kl]=r;var H=!0}catch{}var V=Ma.call(x);return H&&(P?x[Kl]=L:delete x[Kl]),V}(v):function(x){return Ma.call(x)}(v)}function pl(v,m){return v>m}function Au(v,m){return v!=null&&pn.call(v,m)}function ds(v,m){return v!=null&&m in jn(v)}function ir(v,m,x){for(var P=x?Wl:$s,L=v[0].length,H=v.length,V=H,Y=ut(H),re=1/0,ne=[];V--;){var ce=v[V];V&&m&&(ce=Wn(ce,ra(m))),re=Tr(ce.length,re),Y[V]=!x&&(m||L>=120&&ce.length>=120)?new sa(V&&ce):r}ce=v[0];var me=-1,be=Y[0];e:for(;++me<L&&ne.length<re;){var we=ce[me],Te=m?m(we):we;if(we=x||we!==0?we:0,!(be?ji(be,Te):P(ne,Te,x))){for(V=H;--V;){var Ge=Y[V];if(!(Ge?ji(Ge,Te):P(v[V],Te,x)))continue e}be&&be.push(Te),ne.push(we)}}return ne}function Qn(v,m,x){var P=(v=Zn(v,m=iu(m,v)))==null?v:v[Si(ya(m))];return P==null?r:ri(P,v,x)}function mu(v){return si(v)&&Ci(v)==O}function ki(v,m,x,P,L){return v===m||(v==null||m==null||!si(v)&&!si(m)?v!=v&&m!=m:function(V,Y,re,ne,ce,me){var be=zt(V),we=zt(Y),Te=be?j:br(V),Ge=we?j:br(Y),Ie=(Te=Te==O?se:Te)==se,Xe=(Ge=Ge==O?se:Ge)==se,Ye=Te==Ge;if(Ye&&_r(V)){if(!_r(Y))return!1;be=!0,Ie=!1}if(Ye&&!Ie)return me||(me=new Ca),be||Ot(V)?Ol(V,Y,re,ne,ce,me):function(It,Zt,yr,cr,fi,Gn,Uo){switch(yr){case $e:if(It.byteLength!=Zt.byteLength||It.byteOffset!=Zt.byteOffset)return!1;It=It.buffer,Zt=Zt.buffer;case et:return!(It.byteLength!=Zt.byteLength||!Gn(new aa(It),new aa(Zt)));case z:case W:case ae:return wa(+It,+Zt);case J:return It.name==Zt.name&&It.message==Zt.message;case xe:case Ce:return It==Zt+"";case te:var fr=vf;case Pe:var Ga=1&cr;if(fr||(fr=de),It.size!=Zt.size&&!Ga)return!1;var ep=Uo.get(It);if(ep)return ep==Zt;cr|=2,Uo.set(It,Zt);var Wf=Ol(fr(It),fr(Zt),cr,fi,Gn,Uo);return Uo.delete(It),Wf;case Me:if($r)return $r.call(It)==$r.call(Zt)}return!1}(V,Y,Te,re,ne,ce,me);if(!(1&re)){var rt=Ie&&pn.call(V,"__wrapped__"),St=Xe&&pn.call(Y,"__wrapped__");if(rt||St){var Mt=rt?V.value():V,en=St?Y.value():Y;return me||(me=new Ca),ce(Mt,en,re,ne,me)}}return!!Ye&&(me||(me=new Ca),function(It,Zt,yr,cr,fi,Gn){var Uo=1&yr,fr=ar(It),Ga=fr.length,ep=ar(Zt),Wf=ep.length;if(Ga!=Wf&&!Uo)return!1;for(var tp=Ga;tp--;){var sc=fr[tp];if(!(Uo?sc in Zt:pn.call(Zt,sc)))return!1}var h=Gn.get(It),d=Gn.get(Zt);if(h&&d)return h==Zt&&d==It;var S=!0;Gn.set(It,Zt),Gn.set(Zt,It);for(var T=Uo;++tp<Ga;){var $=It[sc=fr[tp]],q=Zt[sc];if(cr)var X=Uo?cr(q,$,sc,Zt,It,Gn):cr($,q,sc,It,Zt,Gn);if(!(X===r?$===q||fi($,q,yr,cr,Gn):X)){S=!1;break}T||(T=sc=="constructor")}if(S&&!T){var le=It.constructor,pe=Zt.constructor;le==pe||!("constructor"in It)||!("constructor"in Zt)||typeof le=="function"&&le instanceof le&&typeof pe=="function"&&pe instanceof pe||(S=!1)}return Gn.delete(It),Gn.delete(Zt),S}(V,Y,re,ne,ce,me))}(v,m,x,P,ki,L))}function Mi(v,m,x,P){var L=x.length,H=L,V=!P;if(v==null)return!H;for(v=jn(v);L--;){var Y=x[L];if(V&&Y[2]?Y[1]!==v[Y[0]]:!(Y[0]in v))return!1}for(;++L<H;){var re=(Y=x[L])[0],ne=v[re],ce=Y[1];if(V&&Y[2]){if(ne===r&&!(re in v))return!1}else{var me=new Ca;if(P)var be=P(ne,ce,re,v,m,me);if(!(be===r?ki(ce,ne,3,P,me):be))return!1}}return!0}function Ju(v){return!(!sn(v)||function(x){return!!wf&&wf in x}(v))&&(Ii(v)?cl:fa).test(bu(v))}function ku(v){return typeof v=="function"?v:v==null?li:typeof v=="object"?zt(v)?Ct(v[0],v[1]):du(v):Ic(v)}function Ji(v){if(!Js(v))return ks(v);var m=[];for(var x in jn(v))pn.call(v,x)&&x!="constructor"&&m.push(x);return m}function ic(v){if(!sn(v))return function(H){var V=[];if(H!=null)for(var Y in jn(H))V.push(Y);return V}(v);var m=Js(v),x=[];for(var P in v)(P!="constructor"||!m&&pn.call(v,P))&&x.push(P);return x}function Pl(v,m){return v<m}function Fs(v,m){var x=-1,P=Wt(v)?ut(v.length):[];return Pn(v,function(L,H,V){P[++x]=m(L,H,V)}),P}function du(v){var m=Gt(v);return m.length==1&&m[0][2]?wu(m[0][0],m[0][1]):function(x){return x===v||Mi(x,v,m)}}function Ct(v,m){return Fu(v)&&Bl(m)?wu(Si(v),m):function(x){var P=Su(x,v);return P===r&&P===m?oh(x,v):ki(m,P,3)}}function vs(v,m,x,P,L){v!==m&&Lo(m,function(H,V){if(L||(L=new Ca),sn(H))(function(ne,ce,me,be,we,Te,Ge){var Ie=Po(ne,me),Xe=Po(ce,me),Ye=Ge.get(Xe);if(Ye)Hr(ne,me,Ye);else{var rt=Te?Te(Ie,Xe,me+"",ne,ce,Ge):r,St=rt===r;if(St){var Mt=zt(Xe),en=!Mt&&_r(Xe),qt=!Mt&&!en&&Ot(Xe);rt=Xe,Mt||en||qt?zt(Ie)?rt=Ie:tr(Ie)?rt=Hi(Ie):en?(St=!1,rt=la(Xe,!0)):qt?(St=!1,rt=ml(Xe,!0)):rt=[]:yi(Xe)||Eo(Xe)?(rt=Ie,Eo(Ie)?rt=ac(Ie):sn(Ie)&&!Ii(Ie)||(rt=Ys(Xe))):St=!1}St&&(Ge.set(Xe,rt),we(rt,Xe,be,Te,Ge),Ge.delete(Xe)),Hr(ne,me,rt)}})(v,m,V,x,vs,P,L);else{var Y=P?P(Po(v,V),H,V+"",v,m,L):r;Y===r&&(Y=H),Hr(v,V,Y)}},Sn)}function Zc(v,m){var x=v.length;if(x)return va(m+=m<0?x:0,x)?v[m]:r}function Vs(v,m,x){m=m.length?Wn(m,function(H){return zt(H)?function(V){return as(V,H.length===1?H[0]:H)}:H}):[li];var P=-1;m=Wn(m,ra(Ut()));var L=Fs(v,function(H,V,Y){var re=Wn(m,function(ne){return ne(H)});return{criteria:re,index:++P,value:H}});return function(V,Y){var re=V.length;for(V.sort(Y);re--;)V[re]=V[re].value;return V}(L,function(H,V){return function(re,ne,ce){for(var me=-1,be=re.criteria,we=ne.criteria,Te=be.length,Ge=ce.length;++me<Te;){var Ie=ca(be[me],we[me]);if(Ie)return me>=Ge?Ie:Ie*(ce[me]=="desc"?-1:1)}return re.index-ne.index}(H,V,x)})}function Tl(v,m,x){for(var P=-1,L=m.length,H={};++P<L;){var V=m[P],Y=as(v,V);x(Y,V)&&Vr(H,iu(V,v),Y)}return H}function Ps(v,m,x,P){var L=P?tc:Us,H=-1,V=m.length,Y=v;for(v===m&&(m=Hi(m)),x&&(Y=Wn(v,ra(x)));++H<V;)for(var re=0,ne=m[H],ce=x?x(ne):ne;(re=L(Y,ce,re,P))>-1;)Y!==v&&Zo.call(Y,re,1),Zo.call(v,re,1);return v}function Ar(v,m){for(var x=v?m.length:0,P=x-1;x--;){var L=m[x];if(x==P||L!==H){var H=L;va(L)?Zo.call(v,L,1):Ql(v,L)}}return v}function lr(v,m){return v+Gl(Fa()*(m-v+1))}function Pc(v,m){var x="";if(!v||m<1||m>b)return x;do m%2&&(x+=v),(m=Gl(m/2))&&(v+=v);while(m);return x}function tn(v,m){return Tc(Lc(v,m,li),v+"")}function ao(v){return oi(bs(v))}function Wr(v,m){var x=bs(v);return vi(x,Sa(m,0,x.length))}function Vr(v,m,x,P){if(!sn(v))return v;for(var L=-1,H=(m=iu(m,v)).length,V=H-1,Y=v;Y!=null&&++L<H;){var re=Si(m[L]),ne=x;if(re==="__proto__"||re==="constructor"||re==="prototype")return v;if(L!=V){var ce=Y[re];(ne=P?P(ce,re,Y):r)===r&&(ne=sn(ce)?ce:va(m[L+1])?[]:{})}Fl(Y,re,ne),Y=Y[re]}return v}var xn=Ms?function(v,m){return Ms.set(v,m),v}:li,hr=Rc?function(v,m){return Rc(v,"toString",{configurable:!0,enumerable:!1,value:Cs(m),writable:!0})}:li;function Co(v){return vi(bs(v))}function So(v,m,x){var P=-1,L=v.length;m<0&&(m=-m>L?0:L+m),(x=x>L?L:x)<0&&(x+=L),L=m>x?0:x-m>>>0,m>>>=0;for(var H=ut(L);++P<L;)H[P]=v[P+m];return H}function nu(v,m){var x;return Pn(v,function(P,L,H){return!(x=m(P,L,H))}),!!x}function Ia(v,m,x){var P=0,L=v==null?P:v.length;if(typeof m=="number"&&m==m&&L<=2147483647){for(;P<L;){var H=P+L>>>1,V=v[H];V!==null&&!zo(V)&&(x?V<=m:V<m)?P=H+1:L=H}return L}return zr(v,m,li,x)}function zr(v,m,x,P){var L=0,H=v==null?0:v.length;if(H===0)return 0;for(var V=(m=x(m))!=m,Y=m===null,re=zo(m),ne=m===r;L<H;){var ce=Gl((L+H)/2),me=x(v[ce]),be=me!==r,we=me===null,Te=me==me,Ge=zo(me);if(V)var Ie=P||Te;else Ie=ne?Te&&(P||be):Y?Te&&be&&(P||!we):re?Te&&be&&!we&&(P||!Ge):!we&&!Ge&&(P?me<=m:me<m);Ie?L=ce+1:H=ce}return Tr(H,4294967294)}function so(v,m){for(var x=-1,P=v.length,L=0,H=[];++x<P;){var V=v[x],Y=m?m(V):V;if(!x||!wa(Y,re)){var re=Y;H[L++]=V===0?0:V}}return H}function pr(v){return typeof v=="number"?v:zo(v)?_:+v}function Sr(v){if(typeof v=="string")return v;if(zt(v))return Wn(v,Sr)+"";if(zo(v))return xi?xi.call(v):"";var m=v+"";return m=="0"&&1/v==-1/0?"-0":m}function Qr(v,m,x){var P=-1,L=$s,H=v.length,V=!0,Y=[],re=Y;if(x)V=!1,L=Wl;else if(H>=200){var ne=m?null:Ba(v);if(ne)return de(ne);V=!1,L=ji,re=new sa}else re=m?[]:Y;e:for(;++P<H;){var ce=v[P],me=m?m(ce):ce;if(ce=x||ce!==0?ce:0,V&&me==me){for(var be=re.length;be--;)if(re[be]===me)continue e;m&&re.push(me),Y.push(ce)}else L(re,me,x)||(re!==Y&&re.push(me),Y.push(ce))}return Y}function Ql(v,m){return(v=Zn(v,m=iu(m,v)))==null||delete v[Si(ya(m))]}function Zi(v,m,x,P){return Vr(v,m,x(as(v,m)),P)}function gl(v,m,x,P){for(var L=v.length,H=P?L:-1;(P?H--:++H<L)&&m(v[H],H,v););return x?So(v,P?0:H,P?H+1:L):So(v,P?H+1:0,P?L:H)}function jc(v,m){var x=v;return x instanceof _n&&(x=x.value()),Bc(m,function(P,L){return L.func.apply(L.thisArg,bi([P],L.args))},x)}function Mu(v,m,x){var P=v.length;if(P<2)return P?Qr(v[0]):[];for(var L=-1,H=ut(P);++L<P;)for(var V=v[L],Y=-1;++Y<P;)Y!=L&&(H[L]=pc(H[L]||V,v[Y],m,x));return Qr(Kt(H,1),m,x)}function ru(v,m,x){for(var P=-1,L=v.length,H=m.length,V={};++P<L;){var Y=P<H?m[P]:r;x(V,v[P],Y)}return V}function qs(v){return tr(v)?v:[]}function Ts(v){return typeof v=="function"?v:li}function iu(v,m){return zt(v)?v:Fu(v,m)?[v]:Ka(zn(v))}var or=tn;function Kn(v,m,x){var P=v.length;return x=x===r?P:x,!m&&x>=P?v:So(v,m,x)}var Oa=Ch||function(v){return Ei.clearTimeout(v)};function la(v,m){if(m)return v.slice();var x=v.length,P=gu?gu(x):new v.constructor(x);return v.copy(P),P}function Va(v){var m=new v.constructor(v.byteLength);return new aa(m).set(new aa(v)),m}function ml(v,m){var x=m?Va(v.buffer):v.buffer;return new v.constructor(x,v.byteOffset,v.length)}function ca(v,m){if(v!==m){var x=v!==r,P=v===null,L=v==v,H=zo(v),V=m!==r,Y=m===null,re=m==m,ne=zo(m);if(!Y&&!ne&&!H&&v>m||H&&V&&re&&!Y&&!ne||P&&V&&re||!x&&re||!L)return 1;if(!P&&!H&&!ne&&v<m||ne&&x&&L&&!P&&!H||Y&&x&&L||!V&&L||!re)return-1}return 0}function uo(v,m,x,P){for(var L=-1,H=v.length,V=x.length,Y=-1,re=m.length,ne=Ai(H-V,0),ce=ut(re+ne),me=!P;++Y<re;)ce[Y]=m[Y];for(;++L<V;)(me||L<H)&&(ce[x[L]]=v[L]);for(;ne--;)ce[Y++]=v[L++];return ce}function Vo(v,m,x,P){for(var L=-1,H=v.length,V=-1,Y=x.length,re=-1,ne=m.length,ce=Ai(H-Y,0),me=ut(ce+ne),be=!P;++L<ce;)me[L]=v[L];for(var we=L;++re<ne;)me[we+re]=m[re];for(;++V<Y;)(be||L<H)&&(me[we+x[V]]=v[L++]);return me}function Hi(v,m){var x=-1,P=v.length;for(m||(m=ut(P));++x<P;)m[x]=v[x];return m}function eo(v,m,x,P){var L=!x;x||(x={});for(var H=-1,V=m.length;++H<V;){var Y=m[H],re=P?P(x[Y],v[Y],Y,x,v):r;re===r&&(re=v[Y]),L?fo(x,Y,re):Fl(x,Y,re)}return x}function Fo(v,m){return function(x,P){var L=zt(x)?nn:ua,H=m?m():{};return L(x,v,Ut(P,2),H)}}function $i(v){return tn(function(m,x){var P=-1,L=x.length,H=L>1?x[L-1]:r,V=L>2?x[2]:r;for(H=v.length>3&&typeof H=="function"?(L--,H):r,V&&qr(x[0],x[1],V)&&(H=L<3?r:H,L=1),m=jn(m);++P<L;){var Y=x[P];Y&&v(m,Y,P,H)}return m})}function to(v,m){return function(x,P){if(x==null)return x;if(!Wt(x))return v(x,P);for(var L=x.length,H=m?L:-1,V=jn(x);(m?H--:++H<L)&&P(V[H],H,V)!==!1;);return x}}function ho(v){return function(m,x,P){for(var L=-1,H=jn(m),V=P(m),Y=V.length;Y--;){var re=V[v?Y:++L];if(x(H[re],re,H)===!1)break}return m}}function Na(v){return function(m){var x=Qo(m=zn(m))?ct(m):r,P=x?x[0]:m.charAt(0),L=x?Kn(x,1).join(""):m.slice(1);return P[v]()+L}}function vu(v){return function(m){return Bc(Hc(_u(m).replace(No,"")),v,"")}}function qa(v){return function(){var m=arguments;switch(m.length){case 0:return new v;case 1:return new v(m[0]);case 2:return new v(m[0],m[1]);case 3:return new v(m[0],m[1],m[2]);case 4:return new v(m[0],m[1],m[2],m[3]);case 5:return new v(m[0],m[1],m[2],m[3],m[4]);case 6:return new v(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new v(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var x=ln(v.prototype),P=v.apply(x,m);return sn(P)?P:x}}function Is(v){return function(m,x,P){var L=jn(m);if(!Wt(m)){var H=Ut(x,3);m=On(m),x=function(Y){return H(L[Y],Y,L)}}var V=v(m,x,P);return V>-1?L[H?m[V]:V]:r}}function ma(v){return Zr(function(m){var x=m.length,P=x,L=bn.prototype.thru;for(v&&m.reverse();P--;){var H=m[P];if(typeof H!="function")throw new oa(i);if(L&&!V&&Hu(H)=="wrapper")var V=new bn([],!0)}for(P=V?P:x;++P<x;){var Y=Hu(H=m[P]),re=Y=="wrapper"?Lt(H):r;V=re&&Ti(re[0])&&re[1]==424&&!re[4].length&&re[9]==1?V[Hu(re[0])].apply(V,re[3]):H.length==1&&Ti(H)?V[Y]():V.thru(H)}return function(){var ne=arguments,ce=ne[0];if(V&&ne.length==1&&zt(ce))return V.plant(ce).value();for(var me=0,be=x?m[me].apply(this,ne):ce;++me<x;)be=m[me].call(this,be);return be}})}function gc(v,m,x,P,L,H,V,Y,re,ne){var ce=m&f,me=1&m,be=2&m,we=24&m,Te=512&m,Ge=be?r:qa(v);return function Ie(){for(var Xe=arguments.length,Ye=ut(Xe),rt=Xe;rt--;)Ye[rt]=arguments[rt];if(we)var St=Ks(Ie),Mt=function(yr,cr){for(var fi=yr.length,Gn=0;fi--;)yr[fi]===cr&&++Gn;return Gn}(Ye,St);if(P&&(Ye=uo(Ye,P,L,we)),H&&(Ye=Vo(Ye,H,V,we)),Xe-=Mt,we&&Xe<ne){var en=ie(Ye,St);return lo(v,m,gc,Ie.placeholder,x,Ye,en,Y,re,ne-Xe)}var qt=me?x:this,It=be?qt[v]:v;return Xe=Ye.length,Y?Ye=function(yr,cr){for(var fi=yr.length,Gn=Tr(cr.length,fi),Uo=Hi(yr);Gn--;){var fr=cr[Gn];yr[Gn]=va(fr,fi)?Uo[fr]:r}return yr}(Ye,Y):Te&&Xe>1&&Ye.reverse(),ce&&re<Xe&&(Ye.length=re),this&&this!==Ei&&this instanceof Ie&&(It=Ge||qa(It)),It.apply(qt,Ye)}}function Il(v,m){return function(x,P){return function(H,V,Y,re){return _a(H,function(ne,ce,me){V(re,Y(ne),ce,me)}),re}(x,v,m(P),{})}}function wr(v,m){return function(x,P){var L;if(x===r&&P===r)return m;if(x!==r&&(L=x),P!==r){if(L===r)return P;typeof x=="string"||typeof P=="string"?(x=Sr(x),P=Sr(P)):(x=pr(x),P=pr(P)),L=v(x,P)}return L}}function ys(v){return Zr(function(m){return m=Wn(m,ra(Ut())),tn(function(x){var P=this;return v(m,function(L){return ri(L,P,x)})})})}function yu(v,m){var x=(m=m===r?" ":Sr(m)).length;if(x<2)return x?Pc(m,v):m;var P=Pc(m,wn(v/ze(m)));return Qo(m)?Kn(ct(P),0,v).join(""):P.slice(0,v)}function lf(v){return function(m,x,P){return P&&typeof P!="number"&&qr(m,x,P)&&(x=P=r),m=ea(m),x===r?(x=m,m=0):x=ea(x),function(H,V,Y,re){for(var ne=-1,ce=Ai(wn((V-H)/(Y||1)),0),me=ut(ce);ce--;)me[re?ce:++ne]=H,H+=Y;return me}(m,x,P=P===r?m<x?1:-1:ea(P),v)}}function dl(v){return function(m,x){return typeof m=="string"&&typeof x=="string"||(m=ko(m),x=ko(x)),v(m,x)}}function lo(v,m,x,P,L,H,V,Y,re,ne){var ce=8&m;m|=ce?c:p,4&(m&=~(ce?p:c))||(m&=-4);var me=[v,m,L,ce?H:r,ce?V:r,ce?r:H,ce?r:V,Y,re,ne],be=x.apply(r,me);return Ti(v)&&$c(be,me),be.placeholder=P,jf(be,v,m)}function qo(v){var m=Do[v];return function(x,P){if(x=ko(x),(P=P==null?0:Tr(Ht(P),292))&&Ws(x)){var L=(zn(x)+"e").split("e");return+((L=(zn(m(L[0]+"e"+(+L[1]+P)))+"e").split("e"))[0]+"e"+(+L[1]-P))}return m(x)}}var Ba=hl&&1/de(new hl([,-0]))[1]==y?function(v){return new hl(v)}:fs;function ou(v){return function(m){var x=br(m);return x==te?vf(m):x==Pe?ye(m):function(L,H){return Wn(H,function(V){return[V,L[V]]})}(m,v(m))}}function no(v,m,x,P,L,H,V,Y){var re=2&m;if(!re&&typeof v!="function")throw new oa(i);var ne=P?P.length:0;if(ne||(m&=-97,P=L=r),V=V===r?V:Ai(Ht(V),0),Y=Y===r?Y:Ht(Y),ne-=L?L.length:0,m&p){var ce=P,me=L;P=L=r}var be=re?r:Lt(v),we=[v,m,x,P,L,ce,me,H,V,Y];if(be&&function(Ie,Xe){var Ye=Ie[1],rt=Xe[1],St=Ye|rt,Mt=St<131,en=rt==f&&Ye==8||rt==f&&Ye==g&&Ie[7].length<=Xe[8]||rt==384&&Xe[7].length<=Xe[8]&&Ye==8;if(!Mt&&!en)return Ie;1&rt&&(Ie[2]=Xe[2],St|=1&Ye?0:4);var qt=Xe[3];if(qt){var It=Ie[3];Ie[3]=It?uo(It,qt,Xe[4]):qt,Ie[4]=It?ie(Ie[3],s):Xe[4]}return(qt=Xe[5])&&(It=Ie[5],Ie[5]=It?Vo(It,qt,Xe[6]):qt,Ie[6]=It?ie(Ie[5],s):Xe[6]),(qt=Xe[7])&&(Ie[7]=qt),rt&f&&(Ie[8]=Ie[8]==null?Xe[8]:Tr(Ie[8],Xe[8])),Ie[9]==null&&(Ie[9]=Xe[9]),Ie[0]=Xe[0],Ie[1]=St,Ie}(we,be),v=we[0],m=we[1],x=we[2],P=we[3],L=we[4],!(Y=we[9]=we[9]===r?re?0:v.length:Ai(we[9]-ne,0))&&24&m&&(m&=-25),m&&m!=1)Te=m==8||m==u?function(Ie,Xe,Ye){var rt=qa(Ie);return function St(){for(var Mt=arguments.length,en=ut(Mt),qt=Mt,It=Ks(St);qt--;)en[qt]=arguments[qt];var Zt=Mt<3&&en[0]!==It&&en[Mt-1]!==It?[]:ie(en,It);return(Mt-=Zt.length)<Ye?lo(Ie,Xe,gc,St.placeholder,r,en,Zt,r,r,Ye-Mt):ri(this&&this!==Ei&&this instanceof St?rt:Ie,this,en)}}(v,m,Y):m!=c&&m!=33||L.length?gc.apply(r,we):function(Ie,Xe,Ye,rt){var St=1&Xe,Mt=qa(Ie);return function en(){for(var qt=-1,It=arguments.length,Zt=-1,yr=rt.length,cr=ut(yr+It),fi=this&&this!==Ei&&this instanceof en?Mt:Ie;++Zt<yr;)cr[Zt]=rt[Zt];for(;It--;)cr[Zt++]=arguments[++qt];return ri(fi,St?Ye:this,cr)}}(v,m,x,P);else var Te=function(Ie,Xe,Ye){var rt=1&Xe,St=qa(Ie);return function Mt(){return(this&&this!==Ei&&this instanceof Mt?St:Ie).apply(rt?Ye:this,arguments)}}(v,m,x);return jf((be?xn:$c)(Te,we),v,m)}function Xi(v,m,x,P){return v===r||wa(v,oo[x])&&!pn.call(P,x)?m:v}function st(v,m,x,P,L,H){return sn(v)&&sn(m)&&(H.set(m,v),vs(v,m,r,st,H),H.delete(m)),v}function ss(v){return yi(v)?r:v}function Ol(v,m,x,P,L,H){var V=1&x,Y=v.length,re=m.length;if(Y!=re&&!(V&&re>Y))return!1;var ne=H.get(v),ce=H.get(m);if(ne&&ce)return ne==m&&ce==v;var me=-1,be=!0,we=2&x?new sa:r;for(H.set(v,m),H.set(m,v);++me<Y;){var Te=v[me],Ge=m[me];if(P)var Ie=V?P(Ge,Te,me,m,v,H):P(Te,Ge,me,v,m,H);if(Ie!==r){if(Ie)continue;be=!1;break}if(we){if(!zs(m,function(Xe,Ye){if(!ji(we,Ye)&&(Te===Xe||L(Te,Xe,x,P,H)))return we.push(Ye)})){be=!1;break}}else if(Te!==Ge&&!L(Te,Ge,x,P,H)){be=!1;break}}return H.delete(v),H.delete(m),be}function Zr(v){return Tc(Lc(v,r,Rl),v+"")}function ar(v){return Ea(v,On,kr)}function da(v){return Ea(v,Sn,Nl)}var Lt=Ms?function(v){return Ms.get(v)}:fs;function Hu(v){for(var m=v.name+"",x=Ml[m],P=pn.call(Ml,m)?x.length:0;P--;){var L=x[P],H=L.func;if(H==null||H==v)return L.name}return m}function Ks(v){return(pn.call(Z,"placeholder")?Z:v).placeholder}function Ut(){var v=Z.iteratee||er;return v=v===er?ku:v,arguments.length?v(arguments[0],arguments[1]):v}function gr(v,m){var x=v.__data__;return function(L){var H=typeof L;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?L!=="__proto__":L===null}(m)?x[typeof m=="string"?"string":"hash"]:x.map}function Gt(v){for(var m=On(v),x=m.length;x--;){var P=m[x],L=v[P];m[x]=[P,L,Bl(L)]}return m}function Vn(v,m){var x=function(L,H){return L==null?r:L[H]}(v,m);return Ju(x)?x:r}var kr=Zf?function(v){return v==null?[]:(v=jn(v),Jr(Zf(v),function(m){return Ac.call(v,m)}))}:Oc,Nl=Zf?function(v){for(var m=[];v;)bi(m,kr(v)),v=sf(v);return m}:Oc,br=Ci;function Gs(v,m,x){for(var P=-1,L=(m=iu(m,v)).length,H=!1;++P<L;){var V=Si(m[P]);if(!(H=v!=null&&x(v,V)))break;v=v[V]}return H||++P!=L?H:!!(L=v==null?0:v.length)&&sr(L)&&va(V,L)&&(zt(v)||Eo(v))}function Ys(v){return typeof v.constructor!="function"||Js(v)?{}:ln(sf(v))}function po(v){return zt(v)||Eo(v)||!!($u&&v&&v[$u])}function va(v,m){var x=typeof v;return!!(m=m??b)&&(x=="number"||x!="symbol"&&eu.test(v))&&v>-1&&v%1==0&&v<m}function qr(v,m,x){if(!sn(x))return!1;var P=typeof m;return!!(P=="number"?Wt(x)&&va(m,x.length):P=="string"&&m in x)&&wa(x[m],v)}function Fu(v,m){if(zt(v))return!1;var x=typeof v;return!(x!="number"&&x!="symbol"&&x!="boolean"&&v!=null&&!zo(v))||Be.test(v)||!Re.test(v)||m!=null&&v in jn(m)}function Ti(v){var m=Hu(v),x=Z[m];if(typeof x!="function"||!(m in _n.prototype))return!1;if(v===x)return!0;var P=Lt(x);return!!P&&v===P[0]}(kc&&br(new kc(new ArrayBuffer(1)))!=$e||Uu&&br(new Uu)!=te||Wu&&br(Wu.resolve())!=ge||hl&&br(new hl)!=Pe||Yl&&br(new Yl)!=Oe)&&(br=function(v){var m=Ci(v),x=m==se?v.constructor:r,P=x?bu(x):"";if(P)switch(P){case R:return $e;case is:return te;case Yu:return ge;case Lr:return Pe;case _t:return Oe}return m});var go=yf?Ii:a;function Js(v){var m=v&&v.constructor;return v===(typeof m=="function"&&m.prototype||oo)}function Bl(v){return v==v&&!sn(v)}function wu(v,m){return function(x){return x!=null&&x[v]===m&&(m!==r||v in jn(x))}}function Lc(v,m,x){return m=Ai(m===r?v.length-1:m,0),function(){for(var P=arguments,L=-1,H=Ai(P.length-m,0),V=ut(H);++L<H;)V[L]=P[m+L];L=-1;for(var Y=ut(m+1);++L<m;)Y[L]=P[L];return Y[m]=x(V),ri(v,this,Y)}}function Zn(v,m){return m.length<2?v:as(v,So(m,0,-1))}function Po(v,m){if((m!=="constructor"||typeof v[m]!="function")&&m!="__proto__")return v[m]}var $c=Xs(xn),mc=Tn||function(v,m){return Ei.setTimeout(v,m)},Tc=Xs(hr);function jf(v,m,x){var P=m+"";return Tc(v,function(H,V){var Y=V.length;if(!Y)return H;var re=Y-1;return V[re]=(Y>1?"& ":"")+V[re],V=V.join(Y>2?", ":" "),H.replace(fn,`{
/* [wrapped with `+V+`] */
`)}(P,function(H,V){return Xn(F,function(Y){var re="_."+Y[0];V&Y[1]&&!$s(H,re)&&H.push(re)}),H.sort()}(function(H){var V=H.match(kn);return V?V[1].split(yn):[]}(P),x)))}function Xs(v){var m=0,x=0;return function(){var P=ns(),L=16-(P-x);if(x=P,L>0){if(++m>=800)return arguments[0]}else m=0;return v.apply(r,arguments)}}function vi(v,m){var x=-1,P=v.length,L=P-1;for(m=m===r?P:m;++x<m;){var H=lr(x,L),V=v[H];v[H]=v[x],v[x]=V}return v.length=m,v}var Ka=function(m){var x=To(m,function(L){return P.size===500&&P.clear(),L}),P=x.cache;return x}(function(v){var m=[];return v.charCodeAt(0)===46&&m.push(""),v.replace(He,function(x,P,L,H){m.push(L?H.replace(io,"$1"):P||x)}),m});function Si(v){if(typeof v=="string"||zo(v))return v;var m=v+"";return m=="0"&&1/v==-1/0?"-0":m}function bu(v){if(v!=null){try{return pu.call(v)}catch{}try{return v+""}catch{}}return""}function bf(v){if(v instanceof _n)return v.clone();var m=new bn(v.__wrapped__,v.__chain__);return m.__actions__=Hi(v.__actions__),m.__index__=v.__index__,m.__values__=v.__values__,m}var cf=tn(function(v,m){return tr(v)?pc(v,Kt(m,1,tr,!0)):[]}),ai=tn(function(v,m){var x=ya(m);return tr(x)&&(x=r),tr(v)?pc(v,Kt(m,1,tr,!0),Ut(x,2)):[]}),Xu=tn(function(v,m){var x=ya(m);return tr(x)&&(x=r),tr(v)?pc(v,Kt(m,1,tr,!0),r,x):[]});function zc(v,m,x){var P=v==null?0:v.length;if(!P)return-1;var L=x==null?0:Ht(x);return L<0&&(L=Ai(P+L,0)),_c(v,Ut(m,3),L)}function eh(v,m,x){var P=v==null?0:v.length;if(!P)return-1;var L=P-1;return x!==r&&(L=Ht(x),L=x<0?Ai(P+L,0):Tr(L,P-1)),_c(v,Ut(m,3),L,!0)}function Rl(v){return v!=null&&v.length?Kt(v,1):[]}function dc(v){return v&&v.length?v[0]:r}var Os=tn(function(v){var m=Wn(v,qs);return m.length&&m[0]===v[0]?ir(m):[]}),th=tn(function(v){var m=ya(v),x=Wn(v,qs);return m===ya(x)?m=r:x.pop(),x.length&&x[0]===v[0]?ir(x,Ut(m,2)):[]}),Uc=tn(function(v){var m=ya(v),x=Wn(v,qs);return(m=typeof m=="function"?m:r)&&x.pop(),x.length&&x[0]===v[0]?ir(x,r,m):[]});function ya(v){var m=v==null?0:v.length;return m?v[m-1]:r}var Th=tn(Ih);function Ih(v,m){return v&&v.length&&m&&m.length?Ps(v,m):v}var Oh=Zr(function(v,m){var x=v==null?0:v.length,P=uf(v,m);return Ar(v,Wn(m,function(L){return va(L,x)?+L:L}).sort(ca)),P});function Lf(v){return v==null?v:Pa.call(v)}var hh=tn(function(v){return Qr(Kt(v,1,tr,!0))}),xf=tn(function(v){var m=ya(v);return tr(m)&&(m=r),Qr(Kt(v,1,tr,!0),Ut(m,2))}),ph=tn(function(v){var m=ya(v);return m=typeof m=="function"?m:r,Qr(Kt(v,1,tr,!0),r,m)});function vl(v){if(!v||!v.length)return[];var m=0;return v=Jr(v,function(x){if(tr(x))return m=Ai(x.length,m),!0}),fc(m,function(x){return Wn(v,ll(x))})}function nh(v,m){if(!v||!v.length)return[];var x=vl(v);return m==null?x:Wn(x,function(P){return ri(m,r,P)})}var xu=tn(function(v,m){return tr(v)?pc(v,m):[]}),$f=tn(function(v){return Mu(Jr(v,tr))}),ff=tn(function(v){var m=ya(v);return tr(m)&&(m=r),Mu(Jr(v,tr),Ut(m,2))}),Df=tn(function(v){var m=ya(v);return m=typeof m=="function"?m:r,Mu(Jr(v,tr),r,m)}),Wc=tn(vl),Nh=tn(function(v){var m=v.length,x=m>1?v[m-1]:r;return x=typeof x=="function"?(v.pop(),x):r,nh(v,x)});function zf(v){var m=Z(v);return m.__chain__=!0,m}function yl(v,m){return m(v)}var wl=Zr(function(v){var m=v.length,x=m?v[0]:0,P=this.__wrapped__,L=function(H){return uf(H,v)};return!(m>1||this.__actions__.length)&&P instanceof _n&&va(x)?((P=P.slice(x,+x+(m?1:0))).__actions__.push({func:yl,args:[L],thisArg:r}),new bn(P,this.__chain__).thru(function(H){return m&&!H.length&&H.push(r),H})):this.thru(L)}),Uf=Fo(function(v,m,x){pn.call(v,x)?++v[x]:fo(v,x,1)}),zh=Is(zc),Zl=Is(eh);function hf(v,m){return(zt(v)?Xn:Pn)(v,Ut(m,3))}function Cf(v,m){return(zt(v)?es:Ha)(v,Ut(m,3))}var oc=Fo(function(v,m,x){pn.call(v,x)?v[x].push(m):fo(v,x,[m])}),rh=tn(function(v,m,x){var P=-1,L=typeof m=="function",H=Wt(v)?ut(v.length):[];return Pn(v,function(V){H[++P]=L?ri(m,V,x):Qn(V,m,x)}),H}),_h=Fo(function(v,m,x){fo(v,x,m)});function _o(v,m){return(zt(v)?Wn:Fs)(v,Ut(m,3))}var Ra=Fo(function(v,m,x){v[x?0:1].push(m)},function(){return[[],[]]}),jl=tn(function(v,m){if(v==null)return[];var x=m.length;return x>1&&qr(v,m[0],m[1])?m=[]:x>2&&qr(m[0],m[1],m[2])&&(m=[m[0]]),Vs(v,Kt(m,1),[])}),ws=Sh||function(){return Ei.Date.now()};function gh(v,m,x){return m=x?r:m,m=v&&m==null?v.length:m,no(v,f,r,r,r,r,m)}function vc(v,m){var x;if(typeof m!="function")throw new oa(i);return v=Ht(v),function(){return--v>0&&(x=m.apply(this,arguments)),v<=1&&(m=r),x}}var ef=tn(function(v,m,x){var P=1;if(x.length){var L=ie(x,Ks(ef));P|=c}return no(v,P,m,x,L)}),Ll=tn(function(v,m,x){var P=3;if(x.length){var L=ie(x,Ks(Ll));P|=c}return no(m,P,v,x,L)});function Kr(v,m,x){var P,L,H,V,Y,re,ne=0,ce=!1,me=!1,be=!0;if(typeof v!="function")throw new oa(i);function we(Ye){var rt=P,St=L;return P=L=r,ne=Ye,V=v.apply(St,rt)}function Te(Ye){var rt=Ye-re;return re===r||rt>=m||rt<0||me&&Ye-ne>=H}function Ge(){var Ye=ws();if(Te(Ye))return Ie(Ye);Y=mc(Ge,function(St){var Mt=m-(St-re);return me?Tr(Mt,H-(St-ne)):Mt}(Ye))}function Ie(Ye){return Y=r,be&&P?we(Ye):(P=L=r,V)}function Xe(){var Ye=ws(),rt=Te(Ye);if(P=arguments,L=this,re=Ye,rt){if(Y===r)return function(Mt){return ne=Mt,Y=mc(Ge,m),ce?we(Mt):V}(re);if(me)return Oa(Y),Y=mc(Ge,m),we(re)}return Y===r&&(Y=mc(Ge,m)),V}return m=ko(m)||0,sn(x)&&(ce=!!x.leading,H=(me="maxWait"in x)?Ai(ko(x.maxWait)||0,m):H,be="trailing"in x?!!x.trailing:be),Xe.cancel=function(){Y!==r&&Oa(Y),ne=0,P=re=L=Y=r},Xe.flush=function(){return Y===r?V:Ie(ws())},Xe}var tf=tn(function(v,m){return Mc(v,1,m)}),Bh=tn(function(v,m,x){return Mc(v,ko(m)||0,x)});function To(v,m){if(typeof v!="function"||m!=null&&typeof m!="function")throw new oa(i);var x=function(){var P=arguments,L=m?m.apply(this,P):P[0],H=x.cache;if(H.has(L))return H.get(L);var V=v.apply(this,P);return x.cache=H.set(L,V)||H,V};return x.cache=new(To.Cache||Yi),x}function dt(v){if(typeof v!="function")throw new oa(i);return function(){var m=arguments;switch(m.length){case 0:return!v.call(this);case 1:return!v.call(this,m[0]);case 2:return!v.call(this,m[0],m[1]);case 3:return!v.call(this,m[0],m[1],m[2])}return!v.apply(this,m)}}To.Cache=Yi;var ih=or(function(v,m){var x=(m=m.length==1&&zt(m[0])?Wn(m[0],ra(Ut())):Wn(Kt(m,1),ra(Ut()))).length;return tn(function(P){for(var L=-1,H=Tr(P.length,x);++L<H;)P[L]=m[L].call(this,P[L]);return ri(v,this,P)})}),$n=tn(function(v,m){var x=ie(m,Ks($n));return no(v,c,r,m,x)}),Dn=tn(function(v,m){var x=ie(m,Ks(Dn));return no(v,p,r,m,x)}),$o=Zr(function(v,m){return no(v,g,r,r,r,m)});function wa(v,m){return v===m||v!=v&&m!=m}var Nr=dl(pl),mo=dl(function(v,m){return v>=m}),Eo=mu(function(){return arguments}())?mu:function(v){return si(v)&&pn.call(v,"callee")&&!Ac.call(v,"callee")},zt=ut.isArray,on=Qf?ra(Qf):function(m){return si(m)&&Ci(m)==et};function Wt(v){return v!=null&&sr(v.length)&&!Ii(v)}function tr(v){return si(v)&&Wt(v)}var _r=Rf||a,us=jr?ra(jr):function(m){return si(m)&&Ci(m)==W};function Fi(v){if(!si(v))return!1;var m=Ci(v);return m==J||m=="[object DOMException]"||typeof v.message=="string"&&typeof v.name=="string"&&!yi(v)}function Ii(v){if(!sn(v))return!1;var m=Ci(v);return m==G||m==Q||m=="[object AsyncFunction]"||m=="[object Proxy]"}function Ao(v){return typeof v=="number"&&v==Ht(v)}function sr(v){return typeof v=="number"&&v>-1&&v%1==0&&v<=b}function sn(v){var m=typeof v;return v!=null&&(m=="object"||m=="function")}function si(v){return v!=null&&typeof v=="object"}var Tt=Nc?ra(Nc):function(m){return si(m)&&br(m)==te};function Qu(v){return typeof v=="number"||si(v)&&Ci(v)==ae}function yi(v){if(!si(v)||Ci(v)!=se)return!1;var m=sf(v);if(m===null)return!0;var x=pn.call(m,"constructor")&&m.constructor;return typeof x=="function"&&x instanceof x&&pu.call(x)==Bf}var mt=As?ra(As):function(m){return si(m)&&Ci(m)==xe},Du=mi?ra(mi):function(m){return si(m)&&br(m)==Pe};function xr(v){return typeof v=="string"||!zt(v)&&si(v)&&Ci(v)==Ce}function zo(v){return typeof v=="symbol"||si(v)&&Ci(v)==Me}var Ot=Jn?ra(Jn):function(m){return si(m)&&sr(m.length)&&!!Bt[Ci(m)]},nf=dl(Pl),ui=dl(function(v,m){return v<=m});function Cu(v){if(!v)return[];if(Wt(v))return xr(v)?ct(v):Hi(v);if(zu&&v[zu])return function(P){for(var L,H=[];!(L=P.next()).done;)H.push(L.value);return H}(v[zu]());var m=br(v);return(m==te?vf:m==Pe?de:bs)(v)}function ea(v){return v?(v=ko(v))===y||v===-1/0?17976931348623157e292*(v<0?-1:1):v==v?v:0:v===0?v:0}function Ht(v){var m=ea(v),x=m%1;return m==m?x?m-x:m:0}function Dr(v){return v?Sa(Ht(v),0,M):0}function ko(v){if(typeof v=="number")return v;if(zo(v))return _;if(sn(v)){var m=typeof v.valueOf=="function"?v.valueOf():v;v=sn(m)?m+"":m}if(typeof v!="string")return v===0?v:+v;v=ql(v);var x=Ru.test(v);return x||ju.test(v)?Za(v.slice(2),x?2:8):Oo.test(v)?_:+v}function ac(v){return eo(v,Sn(v))}function zn(v){return v==null?"":Sr(v)}var Vu=$i(function(v,m){if(Js(m)||Wt(m))eo(m,On(m),v);else for(var x in m)pn.call(m,x)&&Fl(v,x,m[x])}),mh=$i(function(v,m){eo(m,Sn(m),v)}),ls=$i(function(v,m,x,P){eo(m,Sn(m),v,P)}),An=$i(function(v,m,x,P){eo(m,On(m),v,P)}),Er=Zr(uf),Eh=tn(function(v,m){v=jn(v);var x=-1,P=m.length,L=P>2?m[2]:r;for(L&&qr(m[0],m[1],L)&&(P=1);++x<P;)for(var H=m[x],V=Sn(H),Y=-1,re=V.length;++Y<re;){var ne=V[Y],ce=v[ne];(ce===r||wa(ce,oo[ne])&&!pn.call(v,ne))&&(v[ne]=H[ne])}return v}),pf=tn(function(v){return v.push(r,st),ri(ei,r,v)});function Su(v,m,x){var P=v==null?r:as(v,m);return P===r?x:P}function oh(v,m){return v!=null&&Gs(v,m,ds)}var Cn=Il(function(v,m,x){m!=null&&typeof m.toString!="function"&&(m=Ma.call(m)),v[m]=x},Cs(li)),ja=Il(function(v,m,x){m!=null&&typeof m.toString!="function"&&(m=Ma.call(m)),pn.call(v,m)?v[m].push(x):v[m]=[x]},Ut),rf=tn(Qn);function On(v){return Wt(v)?Jl(v):Ji(v)}function Sn(v){return Wt(v)?Jl(v,!0):ic(v)}var zi=$i(function(v,m,x){vs(v,m,x)}),ei=$i(function(v,m,x,P){vs(v,m,x,P)}),Io=Zr(function(v,m){var x={};if(v==null)return x;var P=!1;m=Wn(m,function(H){return H=iu(H,v),P||(P=H.length>1),H}),eo(v,da(v),x),P&&(x=jo(x,7,ss));for(var L=m.length;L--;)Ql(x,m[L]);return x}),cs=Zr(function(v,m){return v==null?{}:function(P,L){return Tl(P,L,function(H,V){return oh(P,V)})}(v,m)});function Zu(v,m){if(v==null)return{};var x=Wn(da(v),function(P){return[P]});return m=Ut(m),Tl(v,x,function(P,L){return m(P,L[0])})}var ro=ou(On),yc=ou(Sn);function bs(v){return v==null?[]:Wa(v,On(v))}var ba=vu(function(v,m,x){return m=m.toLowerCase(),v+(x?Pu(m):m)});function Pu(v){return qu(zn(v).toLowerCase())}function _u(v){return(v=zn(v))&&v.replace(hs,ts).replace(Qt,"")}var xs=vu(function(v,m,x){return v+(x?"-":"")+m.toLowerCase()}),wc=vu(function(v,m,x){return v+(x?" ":"")+m.toLowerCase()}),Tu=Na("toLowerCase"),bl=vu(function(v,m,x){return v+(x?"_":"")+m.toLowerCase()}),Yn=vu(function(v,m,x){return v+(x?" ":"")+qu(m)}),bc=vu(function(v,m,x){return v+(x?" ":"")+m.toUpperCase()}),qu=Na("toUpperCase");function Hc(v,m,x){return v=zn(v),(m=x?r:m)===r?function(L){return Es.test(L)}(v)?function(L){return L.match(fu)||[]}(v):function(L){return L.match(At)||[]}(v):v.match(m)||[]}var Ds=tn(function(v,m){try{return ri(v,r,m)}catch(x){return Fi(x)?x:new hn(x)}}),ec=Zr(function(v,m){return Xn(m,function(x){x=Si(x),fo(v,x,ef(v[x],v))}),v});function Cs(v){return function(){return v}}var gf=ma(),Sf=ma(!0);function li(v){return v}function er(v){return ku(typeof v=="function"?v:jo(v,1))}var Ko=tn(function(v,m){return function(x){return Qn(x,v,m)}}),ci=tn(function(v,m){return function(x){return Qn(v,x,m)}});function Ir(v,m,x){var P=On(m),L=Xr(m,P);x!=null||sn(m)&&(L.length||!P.length)||(x=m,m=v,v=this,L=Xr(m,On(m)));var H=!(sn(x)&&"chain"in x&&!x.chain),V=Ii(v);return Xn(L,function(Y){var re=m[Y];v[Y]=re,V&&(v.prototype[Y]=function(){var ne=this.__chain__;if(H||ne){var ce=v(this.__wrapped__);return(ce.__actions__=Hi(this.__actions__)).push({func:re,args:arguments,thisArg:v}),ce.__chain__=ne,ce}return re.apply(v,bi([this.value()],arguments))})}),v}function fs(){}var of=ys(Wn),au=ys(ch),el=ys(zs);function Ic(v){return Fu(v)?ll(Si(v)):function(x){return function(P){return as(P,x)}}(v)}var mf=lf(),$l=lf(!0);function Oc(){return[]}function a(){return!1}var l,w=wr(function(v,m){return v+m},0),A=qo("ceil"),I=wr(function(v,m){return v/m},1),U=qo("floor"),D=wr(function(v,m){return v*m},1),E=qo("round"),N=wr(function(v,m){return v-m},0);return Z.after=function(m,x){if(typeof x!="function")throw new oa(i);return m=Ht(m),function(){if(--m<1)return x.apply(this,arguments)}},Z.ary=gh,Z.assign=Vu,Z.assignIn=mh,Z.assignInWith=ls,Z.assignWith=An,Z.at=Er,Z.before=vc,Z.bind=ef,Z.bindAll=ec,Z.bindKey=Ll,Z.castArray=function(){if(!arguments.length)return[];var m=arguments[0];return zt(m)?m:[m]},Z.chain=zf,Z.chunk=function(m,x,P){x=(P?qr(m,x,P):x===r)?1:Ai(Ht(x),0);var L=m==null?0:m.length;if(!L||x<1)return[];for(var H=0,V=0,Y=ut(wn(L/x));H<L;)Y[V++]=So(m,H,H+=x);return Y},Z.compact=function(m){for(var x=-1,P=m==null?0:m.length,L=0,H=[];++x<P;){var V=m[x];V&&(H[L++]=V)}return H},Z.concat=function(){var m=arguments.length;if(!m)return[];for(var x=ut(m-1),P=arguments[0],L=m;L--;)x[L-1]=arguments[L];return bi(zt(P)?Hi(P):[P],Kt(x,1))},Z.cond=function(m){var x=m==null?0:m.length,P=Ut();return m=x?Wn(m,function(L){if(typeof L[1]!="function")throw new oa(i);return[P(L[0]),L[1]]}):[],tn(function(L){for(var H=-1;++H<x;){var V=m[H];if(ri(V[0],this,L))return ri(V[1],this,L)}})},Z.conforms=function(m){return function(P){var L=On(P);return function(H){return Ln(H,P,L)}}(jo(m,1))},Z.constant=Cs,Z.countBy=Uf,Z.create=function(m,x){var P=ln(m);return x==null?P:Li(P,x)},Z.curry=function v(m,x,P){var L=no(m,8,r,r,r,r,r,x=P?r:x);return L.placeholder=v.placeholder,L},Z.curryRight=function v(m,x,P){var L=no(m,u,r,r,r,r,r,x=P?r:x);return L.placeholder=v.placeholder,L},Z.debounce=Kr,Z.defaults=Eh,Z.defaultsDeep=pf,Z.defer=tf,Z.delay=Bh,Z.difference=cf,Z.differenceBy=ai,Z.differenceWith=Xu,Z.drop=function(m,x,P){var L=m==null?0:m.length;return L?So(m,(x=P||x===r?1:Ht(x))<0?0:x,L):[]},Z.dropRight=function(m,x,P){var L=m==null?0:m.length;return L?So(m,0,(x=L-(x=P||x===r?1:Ht(x)))<0?0:x):[]},Z.dropRightWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3),!0,!0):[]},Z.dropWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3),!0):[]},Z.fill=function(m,x,P,L){var H=m==null?0:m.length;return H?(P&&typeof P!="number"&&qr(m,x,P)&&(P=0,L=H),function(Y,re,ne,ce){var me=Y.length;for((ne=Ht(ne))<0&&(ne=-ne>me?0:me+ne),(ce=ce===r||ce>me?me:Ht(ce))<0&&(ce+=me),ce=ne>ce?0:Dr(ce);ne<ce;)Y[ne++]=re;return Y}(m,x,P,L)):[]},Z.filter=function(m,x){return(zt(m)?Jr:os)(m,Ut(x,3))},Z.flatMap=function(m,x){return Kt(_o(m,x),1)},Z.flatMapDeep=function(m,x){return Kt(_o(m,x),y)},Z.flatMapDepth=function(m,x,P){return P=P===r?1:Ht(P),Kt(_o(m,x),P)},Z.flatten=Rl,Z.flattenDeep=function(m){return m!=null&&m.length?Kt(m,y):[]},Z.flattenDepth=function(m,x){return m!=null&&m.length?Kt(m,x=x===r?1:Ht(x)):[]},Z.flip=function(m){return no(m,512)},Z.flow=gf,Z.flowRight=Sf,Z.fromPairs=function(m){for(var x=-1,P=m==null?0:m.length,L={};++x<P;){var H=m[x];L[H[0]]=H[1]}return L},Z.functions=function(m){return m==null?[]:Xr(m,On(m))},Z.functionsIn=function(m){return m==null?[]:Xr(m,Sn(m))},Z.groupBy=oc,Z.initial=function(m){return m!=null&&m.length?So(m,0,-1):[]},Z.intersection=Os,Z.intersectionBy=th,Z.intersectionWith=Uc,Z.invert=Cn,Z.invertBy=ja,Z.invokeMap=rh,Z.iteratee=er,Z.keyBy=_h,Z.keys=On,Z.keysIn=Sn,Z.map=_o,Z.mapKeys=function(m,x){var P={};return x=Ut(x,3),_a(m,function(L,H,V){fo(P,x(L,H,V),L)}),P},Z.mapValues=function(m,x){var P={};return x=Ut(x,3),_a(m,function(L,H,V){fo(P,H,x(L,H,V))}),P},Z.matches=function(m){return du(jo(m,1))},Z.matchesProperty=function(m,x){return Ct(m,jo(x,1))},Z.memoize=To,Z.merge=zi,Z.mergeWith=ei,Z.method=Ko,Z.methodOf=ci,Z.mixin=Ir,Z.negate=dt,Z.nthArg=function(m){return m=Ht(m),tn(function(x){return Zc(x,m)})},Z.omit=Io,Z.omitBy=function(m,x){return Zu(m,dt(Ut(x)))},Z.once=function(m){return vc(2,m)},Z.orderBy=function(m,x,P,L){return m==null?[]:(zt(x)||(x=x==null?[]:[x]),zt(P=L?r:P)||(P=P==null?[]:[P]),Vs(m,x,P))},Z.over=of,Z.overArgs=ih,Z.overEvery=au,Z.overSome=el,Z.partial=$n,Z.partialRight=Dn,Z.partition=Ra,Z.pick=cs,Z.pickBy=Zu,Z.property=Ic,Z.propertyOf=function(m){return function(x){return m==null?r:as(m,x)}},Z.pull=Th,Z.pullAll=Ih,Z.pullAllBy=function(m,x,P){return m&&m.length&&x&&x.length?Ps(m,x,Ut(P,2)):m},Z.pullAllWith=function(m,x,P){return m&&m.length&&x&&x.length?Ps(m,x,r,P):m},Z.pullAt=Oh,Z.range=mf,Z.rangeRight=$l,Z.rearg=$o,Z.reject=function(m,x){return(zt(m)?Jr:os)(m,dt(Ut(x,3)))},Z.remove=function(m,x){var P=[];if(!m||!m.length)return P;var L=-1,H=[],V=m.length;for(x=Ut(x,3);++L<V;){var Y=m[L];x(Y,L,m)&&(P.push(Y),H.push(L))}return Ar(m,H),P},Z.rest=function(m,x){if(typeof m!="function")throw new oa(i);return tn(m,x=x===r?x:Ht(x))},Z.reverse=Lf,Z.sampleSize=function(m,x,P){return x=(P?qr(m,x,P):x===r)?1:Ht(x),(zt(m)?Xl:Wr)(m,x)},Z.set=function(m,x,P){return m==null?m:Vr(m,x,P)},Z.setWith=function(m,x,P,L){return L=typeof L=="function"?L:r,m==null?m:Vr(m,x,P,L)},Z.shuffle=function(m){return(zt(m)?Ta:Co)(m)},Z.slice=function(m,x,P){var L=m==null?0:m.length;return L?(P&&typeof P!="number"&&qr(m,x,P)?(x=0,P=L):(x=x==null?0:Ht(x),P=P===r?L:Ht(P)),So(m,x,P)):[]},Z.sortBy=jl,Z.sortedUniq=function(m){return m&&m.length?so(m):[]},Z.sortedUniqBy=function(m,x){return m&&m.length?so(m,Ut(x,2)):[]},Z.split=function(m,x,P){return P&&typeof P!="number"&&qr(m,x,P)&&(x=P=r),(P=P===r?M:P>>>0)?(m=zn(m))&&(typeof x=="string"||x!=null&&!mt(x))&&!(x=Sr(x))&&Qo(m)?Kn(ct(m),0,P):m.split(x,P):[]},Z.spread=function(m,x){if(typeof m!="function")throw new oa(i);return x=x==null?0:Ai(Ht(x),0),tn(function(P){var L=P[x],H=Kn(P,0,x);return L&&bi(H,L),ri(m,this,H)})},Z.tail=function(m){var x=m==null?0:m.length;return x?So(m,1,x):[]},Z.take=function(m,x,P){return m&&m.length?So(m,0,(x=P||x===r?1:Ht(x))<0?0:x):[]},Z.takeRight=function(m,x,P){var L=m==null?0:m.length;return L?So(m,(x=L-(x=P||x===r?1:Ht(x)))<0?0:x,L):[]},Z.takeRightWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3),!1,!0):[]},Z.takeWhile=function(m,x){return m&&m.length?gl(m,Ut(x,3)):[]},Z.tap=function(m,x){return x(m),m},Z.throttle=function(m,x,P){var L=!0,H=!0;if(typeof m!="function")throw new oa(i);return sn(P)&&(L="leading"in P?!!P.leading:L,H="trailing"in P?!!P.trailing:H),Kr(m,x,{leading:L,maxWait:x,trailing:H})},Z.thru=yl,Z.toArray=Cu,Z.toPairs=ro,Z.toPairsIn=yc,Z.toPath=function(m){return zt(m)?Wn(m,Si):zo(m)?[m]:Hi(Ka(zn(m)))},Z.toPlainObject=ac,Z.transform=function(m,x,P){var L=zt(m),H=L||_r(m)||Ot(m);if(x=Ut(x,4),P==null){var V=m&&m.constructor;P=H?L?new V:[]:sn(m)&&Ii(V)?ln(sf(m)):{}}return(H?Xn:_a)(m,function(Y,re,ne){return x(P,Y,re,ne)}),P},Z.unary=function(m){return gh(m,1)},Z.union=hh,Z.unionBy=xf,Z.unionWith=ph,Z.uniq=function(m){return m&&m.length?Qr(m):[]},Z.uniqBy=function(m,x){return m&&m.length?Qr(m,Ut(x,2)):[]},Z.uniqWith=function(m,x){return x=typeof x=="function"?x:r,m&&m.length?Qr(m,r,x):[]},Z.unset=function(m,x){return m==null||Ql(m,x)},Z.unzip=vl,Z.unzipWith=nh,Z.update=function(m,x,P){return m==null?m:Zi(m,x,Ts(P))},Z.updateWith=function(m,x,P,L){return L=typeof L=="function"?L:r,m==null?m:Zi(m,x,Ts(P),L)},Z.values=bs,Z.valuesIn=function(m){return m==null?[]:Wa(m,Sn(m))},Z.without=xu,Z.words=Hc,Z.wrap=function(m,x){return $n(Ts(x),m)},Z.xor=$f,Z.xorBy=ff,Z.xorWith=Df,Z.zip=Wc,Z.zipObject=function(m,x){return ru(m||[],x||[],Fl)},Z.zipObjectDeep=function(m,x){return ru(m||[],x||[],Vr)},Z.zipWith=Nh,Z.entries=ro,Z.entriesIn=yc,Z.extend=mh,Z.extendWith=ls,Ir(Z,Z),Z.add=w,Z.attempt=Ds,Z.camelCase=ba,Z.capitalize=Pu,Z.ceil=A,Z.clamp=function(m,x,P){return P===r&&(P=x,x=r),P!==r&&(P=(P=ko(P))==P?P:0),x!==r&&(x=(x=ko(x))==x?x:0),Sa(ko(m),x,P)},Z.clone=function(m){return jo(m,4)},Z.cloneDeep=function(m){return jo(m,5)},Z.cloneDeepWith=function(m,x){return jo(m,5,x=typeof x=="function"?x:r)},Z.cloneWith=function(m,x){return jo(m,4,x=typeof x=="function"?x:r)},Z.conformsTo=function(m,x){return x==null||Ln(m,x,On(x))},Z.deburr=_u,Z.defaultTo=function(m,x){return m==null||m!=m?x:m},Z.divide=I,Z.endsWith=function(m,x,P){m=zn(m),x=Sr(x);var L=m.length,H=P=P===r?L:Sa(Ht(P),0,L);return(P-=x.length)>=0&&m.slice(P,H)==x},Z.eq=wa,Z.escape=function(m){return(m=zn(m))&&fe.test(m)?m.replace(js,Qi):m},Z.escapeRegExp=function(m){return(m=zn(m))&&ot.test(m)?m.replace(We,"\\$&"):m},Z.every=function(m,x,P){var L=zt(m)?ch:Ho;return P&&qr(m,x,P)&&(x=r),L(m,Ut(x,3))},Z.find=zh,Z.findIndex=zc,Z.findKey=function(m,x){return Al(m,Ut(x,3),_a)},Z.findLast=Zl,Z.findLastIndex=eh,Z.findLastKey=function(m,x){return Al(m,Ut(x,3),rc)},Z.floor=U,Z.forEach=hf,Z.forEachRight=Cf,Z.forIn=function(m,x){return m==null?m:Lo(m,Ut(x,3),Sn)},Z.forInRight=function(m,x){return m==null?m:Fc(m,Ut(x,3),Sn)},Z.forOwn=function(m,x){return m&&_a(m,Ut(x,3))},Z.forOwnRight=function(m,x){return m&&rc(m,Ut(x,3))},Z.get=Su,Z.gt=Nr,Z.gte=mo,Z.has=function(m,x){return m!=null&&Gs(m,x,Au)},Z.hasIn=oh,Z.head=dc,Z.identity=li,Z.includes=function(m,x,P,L){m=Wt(m)?m:bs(m),P=P&&!L?Ht(P):0;var H=m.length;return P<0&&(P=Ai(H+P,0)),xr(m)?P<=H&&m.indexOf(x,P)>-1:!!H&&Us(m,x,P)>-1},Z.indexOf=function(m,x,P){var L=m==null?0:m.length;if(!L)return-1;var H=P==null?0:Ht(P);return H<0&&(H=Ai(L+H,0)),Us(m,x,H)},Z.inRange=function(m,x,P){return x=ea(x),P===r?(P=x,x=0):P=ea(P),function(H,V,Y){return H>=Tr(V,Y)&&H<Ai(V,Y)}(m=ko(m),x,P)},Z.invoke=rf,Z.isArguments=Eo,Z.isArray=zt,Z.isArrayBuffer=on,Z.isArrayLike=Wt,Z.isArrayLikeObject=tr,Z.isBoolean=function(m){return m===!0||m===!1||si(m)&&Ci(m)==z},Z.isBuffer=_r,Z.isDate=us,Z.isElement=function(m){return si(m)&&m.nodeType===1&&!yi(m)},Z.isEmpty=function(m){if(m==null)return!0;if(Wt(m)&&(zt(m)||typeof m=="string"||typeof m.splice=="function"||_r(m)||Ot(m)||Eo(m)))return!m.length;var x=br(m);if(x==te||x==Pe)return!m.size;if(Js(m))return!Ji(m).length;for(var P in m)if(pn.call(m,P))return!1;return!0},Z.isEqual=function(m,x){return ki(m,x)},Z.isEqualWith=function(m,x,P){var L=(P=typeof P=="function"?P:r)?P(m,x):r;return L===r?ki(m,x,r,P):!!L},Z.isError=Fi,Z.isFinite=function(m){return typeof m=="number"&&Ws(m)},Z.isFunction=Ii,Z.isInteger=Ao,Z.isLength=sr,Z.isMap=Tt,Z.isMatch=function(m,x){return m===x||Mi(m,x,Gt(x))},Z.isMatchWith=function(m,x,P){return P=typeof P=="function"?P:r,Mi(m,x,Gt(x),P)},Z.isNaN=function(m){return Qu(m)&&m!=+m},Z.isNative=function(m){if(go(m))throw new hn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ju(m)},Z.isNil=function(m){return m==null},Z.isNull=function(m){return m===null},Z.isNumber=Qu,Z.isObject=sn,Z.isObjectLike=si,Z.isPlainObject=yi,Z.isRegExp=mt,Z.isSafeInteger=function(m){return Ao(m)&&m>=-9007199254740991&&m<=b},Z.isSet=Du,Z.isString=xr,Z.isSymbol=zo,Z.isTypedArray=Ot,Z.isUndefined=function(m){return m===r},Z.isWeakMap=function(m){return si(m)&&br(m)==Oe},Z.isWeakSet=function(m){return si(m)&&Ci(m)=="[object WeakSet]"},Z.join=function(m,x){return m==null?"":Da.call(m,x)},Z.kebabCase=xs,Z.last=ya,Z.lastIndexOf=function(m,x,P){var L=m==null?0:m.length;if(!L)return-1;var H=L;return P!==r&&(H=(H=Ht(P))<0?Ai(L+H,0):Tr(H,L-1)),x==x?function(Y,re,ne){for(var ce=ne+1;ce--;)if(Y[ce]===re)return ce;return ce}(m,x,H):_c(m,Hl,H,!0)},Z.lowerCase=wc,Z.lowerFirst=Tu,Z.lt=nf,Z.lte=ui,Z.max=function(m){return m&&m.length?di(m,li,pl):r},Z.maxBy=function(m,x){return m&&m.length?di(m,Ut(x,2),pl):r},Z.mean=function(m){return vr(m,li)},Z.meanBy=function(m,x){return vr(m,Ut(x,2))},Z.min=function(m){return m&&m.length?di(m,li,Pl):r},Z.minBy=function(m,x){return m&&m.length?di(m,Ut(x,2),Pl):r},Z.stubArray=Oc,Z.stubFalse=a,Z.stubObject=function(){return{}},Z.stubString=function(){return""},Z.stubTrue=function(){return!0},Z.multiply=D,Z.nth=function(m,x){return m&&m.length?Zc(m,Ht(x)):r},Z.noConflict=function(){return Ei._===this&&(Ei._=nc),this},Z.noop=fs,Z.now=ws,Z.pad=function(m,x,P){m=zn(m);var L=(x=Ht(x))?ze(m):0;if(!x||L>=x)return m;var H=(x-L)/2;return yu(Gl(H),P)+m+yu(wn(H),P)},Z.padEnd=function(m,x,P){m=zn(m);var L=(x=Ht(x))?ze(m):0;return x&&L<x?m+yu(x-L,P):m},Z.padStart=function(m,x,P){m=zn(m);var L=(x=Ht(x))?ze(m):0;return x&&L<x?yu(x-L,P)+m:m},Z.parseInt=function(m,x,P){return P||x==null?x=0:x&&(x=+x),Hs(zn(m).replace(gt,""),x||0)},Z.random=function(m,x,P){if(P&&typeof P!="boolean"&&qr(m,x,P)&&(x=P=r),P===r&&(typeof x=="boolean"?(P=x,x=r):typeof m=="boolean"&&(P=m,m=r)),m===r&&x===r?(m=0,x=1):(m=ea(m),x===r?(x=m,m=0):x=ea(x)),m>x){var L=m;m=x,x=L}if(P||m%1||x%1){var H=Fa();return Tr(m+H*(x-m+df("1e-"+((H+"").length-1))),x)}return lr(m,x)},Z.reduce=function(m,x,P){var L=zt(m)?Bc:Vl,H=arguments.length<3;return L(m,Ut(x,4),P,H,Pn)},Z.reduceRight=function(m,x,P){var L=zt(m)?ul:Vl,H=arguments.length<3;return L(m,Ut(x,4),P,H,Ha)},Z.repeat=function(m,x,P){return x=(P?qr(m,x,P):x===r)?1:Ht(x),Pc(zn(m),x)},Z.replace=function(){var m=arguments,x=zn(m[0]);return m.length<3?x:x.replace(m[1],m[2])},Z.result=function(m,x,P){var L=-1,H=(x=iu(x,m)).length;for(H||(H=1,m=r);++L<H;){var V=m==null?r:m[Si(x[L])];V===r&&(L=H,V=P),m=Ii(V)?V.call(m):V}return m},Z.round=E,Z.runInContext=he,Z.sample=function(m){return(zt(m)?oi:ao)(m)},Z.size=function(m){if(m==null)return 0;if(Wt(m))return xr(m)?ze(m):m.length;var x=br(m);return x==te||x==Pe?m.size:Ji(m).length},Z.snakeCase=bl,Z.some=function(m,x,P){var L=zt(m)?zs:nu;return P&&qr(m,x,P)&&(x=r),L(m,Ut(x,3))},Z.sortedIndex=function(m,x){return Ia(m,x)},Z.sortedIndexBy=function(m,x,P){return zr(m,x,Ut(P,2))},Z.sortedIndexOf=function(m,x){var P=m==null?0:m.length;if(P){var L=Ia(m,x);if(L<P&&wa(m[L],x))return L}return-1},Z.sortedLastIndex=function(m,x){return Ia(m,x,!0)},Z.sortedLastIndexBy=function(m,x,P){return zr(m,x,Ut(P,2),!0)},Z.sortedLastIndexOf=function(m,x){if(m!=null&&m.length){var P=Ia(m,x,!0)-1;if(wa(m[P],x))return P}return-1},Z.startCase=Yn,Z.startsWith=function(m,x,P){return m=zn(m),P=P==null?0:Sa(Ht(P),0,m.length),x=Sr(x),m.slice(P,P+x.length)==x},Z.subtract=N,Z.sum=function(m){return m&&m.length?ga(m,li):0},Z.sumBy=function(m,x){return m&&m.length?ga(m,Ut(x,2)):0},Z.template=function(m,x,P){var L=Z.templateSettings;P&&qr(m,x,P)&&(x=r),m=zn(m),x=ls({},x,L,Xi);var H,V,Y=ls({},x.imports,L.imports,Xi),re=On(Y),ne=Wa(Y,re),ce=0,me=x.interpolate||uu,be="__p += '",we=$t((x.escape||uu).source+"|"+me.source+"|"+(me===Se?bo:uu).source+"|"+(x.evaluate||uu).source+"|$","g"),Te="//# sourceURL="+(pn.call(x,"sourceURL")?(x.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Nf+"]")+`
`;m.replace(we,function(Xe,Ye,rt,St,Mt,en){return rt||(rt=St),be+=m.slice(ce,en).replace(zl,ii),Ye&&(H=!0,be+=`' +
__e(`+Ye+`) +
'`),Mt&&(V=!0,be+=`';
`+Mt+`;
__p += '`),rt&&(be+=`' +
((__t = (`+rt+`)) == null ? '' : __t) +
'`),ce=en+Xe.length,Xe}),be+=`';
`;var Ge=pn.call(x,"variable")&&x.variable;if(Ge){if(Ui.test(Ge))throw new hn("Invalid `variable` option passed into `_.template`")}else be=`with (obj) {
`+be+`
}
`;be=(V?be.replace(un,""):be).replace(ur,"$1").replace(Fn,"$1;"),be="function("+(Ge||"obj")+`) {
`+(Ge?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(H?", __e = _.escape":"")+(V?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+be+`return __p
}`;var Ie=Ds(function(){return Cr(re,Te+"return "+be).apply(r,ne)});if(Ie.source=be,Fi(Ie))throw Ie;return Ie},Z.times=function(m,x){if((m=Ht(m))<1||m>b)return[];var P=M,L=Tr(m,M);x=Ut(x),m-=M;for(var H=fc(L,x);++P<m;)x(P);return H},Z.toFinite=ea,Z.toInteger=Ht,Z.toLength=Dr,Z.toLower=function(m){return zn(m).toLowerCase()},Z.toNumber=ko,Z.toSafeInteger=function(m){return m?Sa(Ht(m),-9007199254740991,b):m===0?m:0},Z.toString=zn,Z.toUpper=function(m){return zn(m).toUpperCase()},Z.trim=function(m,x,P){if((m=zn(m))&&(P||x===r))return ql(m);if(!m||!(x=Sr(x)))return m;var L=ct(m),H=ct(x);return Kn(L,hc(L,H),xo(L,H)+1).join("")},Z.trimEnd=function(m,x,P){if((m=zn(m))&&(P||x===r))return m.slice(0,Ue(m)+1);if(!m||!(x=Sr(x)))return m;var L=ct(m);return Kn(L,0,xo(L,ct(x))+1).join("")},Z.trimStart=function(m,x,P){if((m=zn(m))&&(P||x===r))return m.replace(gt,"");if(!m||!(x=Sr(x)))return m;var L=ct(m);return Kn(L,hc(L,ct(x))).join("")},Z.truncate=function(m,x){var P=30,L="...";if(sn(x)){var H="separator"in x?x.separator:H;P="length"in x?Ht(x.length):P,L="omission"in x?Sr(x.omission):L}var V=(m=zn(m)).length;if(Qo(m)){var Y=ct(m);V=Y.length}if(P>=V)return m;var re=P-ze(L);if(re<1)return L;var ne=Y?Kn(Y,0,re).join(""):m.slice(0,re);if(H===r)return ne+L;if(Y&&(re+=ne.length-re),mt(H)){if(m.slice(re).search(H)){var ce,me=ne;for(H.global||(H=$t(H.source,zn(ta.exec(H))+"g")),H.lastIndex=0;ce=H.exec(me);)var be=ce.index;ne=ne.slice(0,be===r?re:be)}}else if(m.indexOf(Sr(H),re)!=re){var we=ne.lastIndexOf(H);we>-1&&(ne=ne.slice(0,we))}return ne+L},Z.unescape=function(m){return(m=zn(m))&&$a.test(m)?m.replace(wi,pt):m},Z.uniqueId=function(m){var x=++kl;return zn(m)+x},Z.upperCase=bc,Z.upperFirst=qu,Z.each=hf,Z.eachRight=Cf,Z.first=dc,Ir(Z,(l={},_a(Z,function(v,m){pn.call(Z.prototype,m)||(l[m]=v)}),l),{chain:!1}),Z.VERSION="4.17.21",Xn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(v){Z[v].placeholder=Z}),Xn(["drop","take"],function(v,m){_n.prototype[v]=function(x){x=x===r?1:Ai(Ht(x),0);var P=this.__filtered__&&!m?new _n(this):this.clone();return P.__filtered__?P.__takeCount__=Tr(x,P.__takeCount__):P.__views__.push({size:Tr(x,M),type:v+(P.__dir__<0?"Right":"")}),P},_n.prototype[v+"Right"]=function(x){return this.reverse()[v](x).reverse()}}),Xn(["filter","map","takeWhile"],function(v,m){var x=m+1,P=x==1||x==3;_n.prototype[v]=function(L){var H=this.clone();return H.__iteratees__.push({iteratee:Ut(L,3),type:x}),H.__filtered__=H.__filtered__||P,H}}),Xn(["head","last"],function(v,m){var x="take"+(m?"Right":"");_n.prototype[v]=function(){return this[x](1).value()[0]}}),Xn(["initial","tail"],function(v,m){var x="drop"+(m?"":"Right");_n.prototype[v]=function(){return this.__filtered__?new _n(this):this[x](1)}}),_n.prototype.compact=function(){return this.filter(li)},_n.prototype.find=function(v){return this.filter(v).head()},_n.prototype.findLast=function(v){return this.reverse().find(v)},_n.prototype.invokeMap=tn(function(v,m){return typeof v=="function"?new _n(this):this.map(function(x){return Qn(x,v,m)})}),_n.prototype.reject=function(v){return this.filter(dt(Ut(v)))},_n.prototype.slice=function(v,m){v=Ht(v);var x=this;return x.__filtered__&&(v>0||m<0)?new _n(x):(v<0?x=x.takeRight(-v):v&&(x=x.drop(v)),m!==r&&(x=(m=Ht(m))<0?x.dropRight(-m):x.take(m-v)),x)},_n.prototype.takeRightWhile=function(v){return this.reverse().takeWhile(v).reverse()},_n.prototype.toArray=function(){return this.take(M)},_a(_n.prototype,function(v,m){var x=/^(?:filter|find|map|reject)|While$/.test(m),P=/^(?:head|last)$/.test(m),L=Z[P?"take"+(m=="last"?"Right":""):m],H=P||/^find/.test(m);L&&(Z.prototype[m]=function(){var V=this.__wrapped__,Y=P?[1]:arguments,re=V instanceof _n,ne=Y[0],ce=re||zt(V),me=function(Xe){var Ye=L.apply(Z,bi([Xe],Y));return P&&be?Ye[0]:Ye};ce&&x&&typeof ne=="function"&&ne.length!=1&&(re=ce=!1);var be=this.__chain__,we=!!this.__actions__.length,Te=H&&!be,Ge=re&&!we;if(!H&&ce){V=Ge?V:new _n(this);var Ie=v.apply(V,Y);return Ie.__actions__.push({func:yl,args:[me],thisArg:r}),new bn(Ie,be)}return Te&&Ge?v.apply(this,Y):(Ie=this.thru(me),Te?P?Ie.value()[0]:Ie.value():Ie)})}),Xn(["pop","push","shift","sort","splice","unshift"],function(v){var m=ps[v],x=/^(?:push|sort|unshift)$/.test(v)?"tap":"thru",P=/^(?:pop|shift)$/.test(v);Z.prototype[v]=function(){var L=arguments;if(P&&!this.__chain__){var H=this.value();return m.apply(zt(H)?H:[],L)}return this[x](function(V){return m.apply(zt(V)?V:[],L)})}}),_a(_n.prototype,function(v,m){var x=Z[m];if(x){var P=x.name+"";pn.call(Ml,P)||(Ml[P]=[]),Ml[P].push({name:m,func:x})}}),Ml[gc(r,2).name]=[{name:"wrapper",func:r}],_n.prototype.clone=function(){var m=new _n(this.__wrapped__);return m.__actions__=Hi(this.__actions__),m.__dir__=this.__dir__,m.__filtered__=this.__filtered__,m.__iteratees__=Hi(this.__iteratees__),m.__takeCount__=this.__takeCount__,m.__views__=Hi(this.__views__),m},_n.prototype.reverse=function(){if(this.__filtered__){var m=new _n(this);m.__dir__=-1,m.__filtered__=!0}else(m=this.clone()).__dir__*=-1;return m},_n.prototype.value=function(){var m=this.__wrapped__.value(),x=this.__dir__,P=zt(m),L=x<0,H=P?m.length:0,V=function(qt,It,Zt){for(var yr=-1,cr=Zt.length;++yr<cr;){var fi=Zt[yr],Gn=fi.size;switch(fi.type){case"drop":qt+=Gn;break;case"dropRight":It-=Gn;break;case"take":It=Tr(It,qt+Gn);break;case"takeRight":qt=Ai(qt,It-Gn)}}return{start:qt,end:It}}(0,H,this.__views__),Y=V.start,re=V.end,ne=re-Y,ce=L?re:Y-1,me=this.__iteratees__,be=me.length,we=0,Te=Tr(ne,this.__takeCount__);if(!P||!L&&H==ne&&Te==ne)return jc(m,this.__actions__);var Ge=[];e:for(;ne--&&we<Te;){for(var Ie=-1,Xe=m[ce+=x];++Ie<be;){var Ye=me[Ie],rt=Ye.iteratee,St=Ye.type,Mt=rt(Xe);if(St==2)Xe=Mt;else if(!Mt){if(St==1)continue e;break e}}Ge[we++]=Xe}return Ge},Z.prototype.at=wl,Z.prototype.chain=function(){return zf(this)},Z.prototype.commit=function(){return new bn(this.value(),this.__chain__)},Z.prototype.next=function(){this.__values__===r&&(this.__values__=Cu(this.value()));var m=this.__index__>=this.__values__.length;return{done:m,value:m?r:this.__values__[this.__index__++]}},Z.prototype.plant=function(m){for(var x,P=this;P instanceof Eu;){var L=bf(P);L.__index__=0,L.__values__=r,x?H.__wrapped__=L:x=L;var H=L;P=P.__wrapped__}return H.__wrapped__=m,x},Z.prototype.reverse=function(){var m=this.__wrapped__;if(m instanceof _n){var x=m;return this.__actions__.length&&(x=new _n(this)),(x=x.reverse()).__actions__.push({func:yl,args:[Lf],thisArg:r}),new bn(x,this.__chain__)}return this.thru(Lf)},Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=function(){return jc(this.__wrapped__,this.__actions__)},Z.prototype.first=Z.prototype.head,zu&&(Z.prototype[zu]=function(){return this}),Z}();Xo?((Xo.exports=Et)._=Et,Hn._=Et):Ei._=Et}).call(yce)),pS.exports;var e,t})();class Cc{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=Y1(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),E0.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=Y1(this,e,t);let r=[];return this.decompose(e,t,r,0),E0.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Db(this),o=new Db(e);for(let s=t,u=t;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(u+=i.value.length,i.done||u>=r)return!0}}iter(e=1){return new Db(this,e)}iterRange(e,t=this.length){return new OH(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new NH(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length!=1||e[0]?e.length<=32?new Wh(e):E0.from(Wh.split(e,[])):Cc.empty}}class Wh extends Cc{constructor(e,t=function(i){let o=-1;for(let s of i)o+=s.length+1;return o}(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.text[o],u=i+s.length;if((t?r:u)>=e)return new wce(i,u,r,s);i=u+1,r++}}decompose(e,t,r,i){let o=e<=0&&t>=this.length?this:new Wh(s5(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(1&i){let s=r.pop(),u=gS(o.text,s.text.slice(),0,o.length);if(u.length<=32)r.push(new Wh(u,s.length+o.length));else{let c=u.length>>1;r.push(new Wh(u.slice(0,c)),new Wh(u.slice(c)))}}else r.push(o)}replace(e,t,r){if(!(r instanceof Wh))return super.replace(e,t,r);[e,t]=Y1(this,e,t);let i=gS(this.text,gS(r.text,s5(this.text,0,e)),t),o=this.length+r.length-(t-e);return i.length<=32?new Wh(i,o):E0.from(Wh.split(i,[]),o)}sliceString(e,t=this.length,r=`
`){[e,t]=Y1(this,e,t);let i="";for(let o=0,s=0;o<=t&&s<this.text.length;s++){let u=this.text[s],c=o+u.length;o>e&&s&&(i+=r),e<c&&t>o&&(i+=u.slice(Math.max(0,e-o),t-o)),o=c+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(t.push(new Wh(r,i)),r=[],i=-1);return i>-1&&t.push(new Wh(r,i)),t}}class E0 extends Cc{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let o=0;;o++){let s=this.children[o],u=i+s.length,c=r+s.lines-1;if((t?c:u)>=e)return s.lineInner(e,t,r,i);i=u+1,r=c+1}}decompose(e,t,r,i){for(let o=0,s=0;s<=t&&o<this.children.length;o++){let u=this.children[o],c=s+u.length;if(e<=c&&t>=s){let p=i&((s<=e?1:0)|(c>=t?2:0));s>=e&&c<=t&&!p?r.push(u):u.decompose(e-s,t-s,r,p)}s=c+1}}replace(e,t,r){if([e,t]=Y1(this,e,t),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],u=o+s.length;if(e>=o&&t<=u){let c=s.replace(e-o,t-o,r),p=this.lines-s.lines+c.lines;if(c.lines<p>>4&&c.lines>p>>6){let f=this.children.slice();return f[i]=c,new E0(f,this.length-(t-e)+r.length)}return super.replace(o,u,c)}o=u+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=Y1(this,e,t);let i="";for(let o=0,s=0;o<this.children.length&&s<=t;o++){let u=this.children[o],c=s+u.length;s>e&&o&&(i+=r),e<c&&t>s&&(i+=u.sliceString(e-s,t-s,r)),s=c+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof E0))return 0;let r=0,[i,o,s,u]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,o+=t){if(i==s||o==u)return r;let c=this.children[i],p=e.children[o];if(c!=p)return r+c.scanIdentical(p,t);r+=c.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let b of e)r+=b.lines;if(r<32){let b=[];for(let _ of e)_.flatten(b);return new Wh(b,t)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,u=[],c=0,p=-1,f=[];function g(b){let _;if(b.lines>o&&b instanceof E0)for(let M of b.children)g(M);else b.lines>s&&(c>s||!c)?(y(),u.push(b)):b instanceof Wh&&c&&(_=f[f.length-1])instanceof Wh&&b.lines+_.lines<=32?(c+=b.lines,p+=b.length+1,f[f.length-1]=new Wh(_.text.concat(b.text),_.length+1+b.length)):(c+b.lines>i&&y(),c+=b.lines,p+=b.length+1,f.push(b))}function y(){c!=0&&(u.push(f.length==1?f[0]:E0.from(f,p)),p=-1,c=f.length=0)}for(let b of e)g(b);return y(),u.length==1?u[0]:new E0(u,t)}}function gS(n,e,t=0,r=1e9){for(let i=0,o=0,s=!0;o<n.length&&i<=r;o++){let u=n[o],c=i+u.length;c>=t&&(c>r&&(u=u.slice(0,r-i)),i<t&&(u=u.slice(t-i)),s?(e[e.length-1]+=u,s=!1):e.push(u)),i=c+1}return e}function s5(n,e,t){return gS(n,[""],e,t)}Cc.empty=new Wh([""],0);class Db{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Wh?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,u=i instanceof Wh?i.text.length:i.children.length;if(s==(t>0?u:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&o)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Wh){let c=i.text[s+(t<0?-1:0)];if(this.offsets[r]+=t,c.length>Math.max(0,e))return this.value=e==0?c:t>0?c.slice(e):c.slice(0,c.length-e),this;e-=c.length}else{let c=i.children[s+(t<0?-1:0)];e>c.length?(e-=c.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(c),this.offsets.push(t>0?1:(c instanceof Wh?c.text.length:c.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class OH{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Db(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class NH{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Cc.prototype[Symbol.iterator]=function(){return this.iter()},Db.prototype[Symbol.iterator]=OH.prototype[Symbol.iterator]=NH.prototype[Symbol.iterator]=function(){return this});class wce{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function Y1(n,e,t){return[e=Math.max(0,Math.min(n.length,e)),Math.max(e,Math.min(n.length,t))]}let _1="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<_1.length;n++)_1[n]+=_1[n-1];function bce(n){for(let e=1;e<_1.length;e+=2)if(_1[e]>n)return _1[e-1]<=n;return!1}function u5(n){return n>=127462&&n<=127487}function zp(n,e,t=!0,r=!0){return(t?BH:xce)(n,e,r)}function BH(n,e,t){if(e==n.length)return e;e&&RH(n.charCodeAt(e))&&jH(n.charCodeAt(e-1))&&e--;let r=Np(n,e);for(e+=wm(r);e<n.length;){let i=Np(n,e);if(r==8205||i==8205||t&&bce(i))e+=wm(i),r=i;else{if(!u5(i))break;{let o=0,s=e-2;for(;s>=0&&u5(Np(n,s));)o++,s-=2;if(o%2==0)break;e+=2}}}return e}function xce(n,e,t){for(;e>0;){let r=BH(n,e-2,t);if(r<e)return r;e--}return 0}function RH(n){return n>=56320&&n<57344}function jH(n){return n>=55296&&n<56320}function Np(n,e){let t=n.charCodeAt(e);if(!jH(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return RH(r)?r-56320+(t-55296<<10)+65536:t}function SO(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function wm(n){return n<65536?1:2}const zP=/\r\n?|\n/;var mg=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(mg||(mg={}));class j0{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let o=this.sections[t++],s=this.sections[t++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,t=!1){UP(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new j0(e)}composeDesc(e){return this.empty?e:e.empty?this:LH(this,e)}mapDesc(e,t=!1){return e.empty?this:WP(this,e,t)}mapPos(e,t=-1,r=mg.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let u=this.sections[s++],c=this.sections[s++],p=i+u;if(c<0){if(p>e)return o+(e-i);o+=u}else{if(r!=mg.Simple&&p>=e&&(r==mg.TrackDel&&i<e&&p>e||r==mg.TrackBefore&&i<e||r==mg.TrackAfter&&p>e))return null;if(p>e||p==e&&t<0&&!u)return e==i||t<0?o:o+c;o+=c}i=p}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let o=i+this.sections[r++];if(this.sections[r++]>=0&&i<=t&&o>=e)return!(i<e&&o>t)||"cover";i=o}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new j0(e)}static create(e){return new j0(e)}}class sp extends j0{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return UP(this,(t,r,i,o,s)=>e=e.replace(i,i+(r-t),s),!1),e}mapDesc(e,t=!1){return WP(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,o=0;i<t.length;i+=2){let s=t[i],u=t[i+1];if(u>=0){t[i]=u,t[i+1]=s;let c=i>>1;for(;r.length<c;)r.push(Cc.empty);r.push(s?e.slice(o,o+s):Cc.empty)}o+=s}return new sp(t,r)}compose(e){return this.empty?e:e.empty?this:LH(this,e,!0)}map(e,t=!1){return e.empty?this:WP(this,e,t,!0)}iterChanges(e,t=!1){UP(this,e,t)}get desc(){return j0.create(this.sections)}filter(e){let t=[],r=[],i=[],o=new rx(this);e:for(let s=0,u=0;;){let c=s==e.length?1e9:e[s++];for(;u<c||u==c&&o.len==0;){if(o.done)break e;let f=Math.min(o.len,c-u);rg(i,f,-1);let g=o.ins==-1?-1:o.off==0?o.ins:0;rg(t,f,g),g>0&&Vd(r,t,o.text),o.forward(f),u+=f}let p=e[s++];for(;u<p;){if(o.done)break e;let f=Math.min(o.len,p-u);rg(t,f,-1),rg(i,f,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(f),u+=f}}return{changes:new sp(t,r),filtered:j0.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],o=[],s=0,u=null;function c(p=!1){if(!p&&!i.length)return;s<t&&rg(i,t-s,-1);let f=new sp(i,o);u=u?u.compose(f.map(u)):f,i=[],o=[],s=0}return function p(f){if(Array.isArray(f))for(let g of f)p(g);else if(f instanceof sp){if(f.length!=t)throw new RangeError(`Mismatched change set length (got ${f.length}, expected ${t})`);c(),u=u?u.compose(f.map(u)):f}else{let{from:g,to:y=g,insert:b}=f;if(g>y||g<0||y>t)throw new RangeError(`Invalid change range ${g} to ${y} (in doc of length ${t})`);let _=b?typeof b=="string"?Cc.of(b.split(r||zP)):b:Cc.empty,M=_.length;if(g==y&&M==0)return;g<s&&c(),g>s&&rg(i,g-s,-1),rg(i,y-g,M),Vd(o,i,_),s=y}}(e),c(!u),u}static empty(e){return new sp(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")t.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,u)=>u&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)t.push(o[0],0);else{for(;r.length<i;)r.push(Cc.empty);r[i]=Cc.of(o.slice(1)),t.push(o[0],r[i].length)}}}return new sp(t,r)}static createSet(e,t){return new sp(e,t)}}function rg(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Vd(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(Cc.empty);n.push(t)}}function UP(n,e,t){let r=n.inserted;for(let i=0,o=0,s=0;s<n.sections.length;){let u=n.sections[s++],c=n.sections[s++];if(c<0)i+=u,o+=u;else{let p=i,f=o,g=Cc.empty;for(;p+=u,f+=c,c&&r&&(g=g.append(r[s-2>>1])),!(t||s==n.sections.length||n.sections[s+1]<0);)u=n.sections[s++],c=n.sections[s++];e(i,p,o,f,g),i=p,o=f}}}function WP(n,e,t,r=!1){let i=[],o=r?[]:null,s=new rx(n),u=new rx(e);for(let c=-1;;)if(s.ins==-1&&u.ins==-1){let p=Math.min(s.len,u.len);rg(i,p,-1),s.forward(p),u.forward(p)}else if(u.ins>=0&&(s.ins<0||c==s.i||s.off==0&&(u.len<s.len||u.len==s.len&&!t))){let p=u.len;for(rg(i,u.ins,-1);p;){let f=Math.min(s.len,p);s.ins>=0&&c<s.i&&s.len<=f&&(rg(i,0,s.ins),o&&Vd(o,i,s.text),c=s.i),s.forward(f),p-=f}u.next()}else{if(!(s.ins>=0)){if(s.done&&u.done)return o?sp.createSet(i,o):j0.create(i);throw new Error("Mismatched change set lengths")}{let p=0,f=s.len;for(;f;)if(u.ins==-1){let g=Math.min(f,u.len);p+=g,f-=g,u.forward(g)}else{if(!(u.ins==0&&u.len<f))break;f-=u.len,u.next()}rg(i,p,c<s.i?s.ins:0),o&&c<s.i&&Vd(o,i,s.text),c=s.i,s.forward(s.len-f)}}}function LH(n,e,t=!1){let r=[],i=t?[]:null,o=new rx(n),s=new rx(e);for(let u=!1;;){if(o.done&&s.done)return i?sp.createSet(r,i):j0.create(r);if(o.ins==0)rg(r,o.len,0,u),o.next();else if(s.len!=0||s.done){if(o.done||s.done)throw new Error("Mismatched change set lengths");{let c=Math.min(o.len2,s.len),p=r.length;if(o.ins==-1){let f=s.ins==-1?-1:s.off?0:s.ins;rg(r,c,f,u),i&&f&&Vd(i,r,s.text)}else s.ins==-1?(rg(r,o.off?0:o.len,c,u),i&&Vd(i,r,o.textBit(c))):(rg(r,o.off?0:o.len,s.off?0:s.ins,u),i&&!s.off&&Vd(i,r,s.text));u=(o.ins>c||s.ins>=0&&s.len>c)&&(u||r.length>p),o.forward2(c),s.forward(c)}}else rg(r,0,s.ins,u),i&&Vd(i,r,s.text),s.next()}}class rx{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?Cc.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?Cc.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Gv{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let e=7&this.flags;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Gv(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return cn.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return cn.range(this.anchor,r)}eq(e,t=!1){return!(this.anchor!=e.anchor||this.head!=e.head||t&&this.empty&&this.assoc!=e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return cn.range(e.anchor,e.head)}static create(e,t,r){return new Gv(e,t,r)}}class cn{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:cn.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new cn([this.main],0)}addRange(e,t=!0){return cn.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,cn.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new cn(e.ranges.map(t=>Gv.fromJSON(t)),e.main)}static single(e,t=e){return new cn([cn.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return cn.normalized(e.slice(),t);r=o.to}return new cn(e,t)}static cursor(e,t=0,r,i){return Gv.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?Gv.create(t,e,48|o):Gv.create(e,t,(t>e?8:0)|o)}static normalized(e,t=0){let r=e[t];e.sort((i,o)=>i.from-o.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let u=s.from,c=Math.max(o.to,s.to);i<=t&&t--,e.splice(--i,2,o.anchor>o.head?cn.range(c,u):cn.range(u,c))}}return new cn(e,t)}}function $H(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let _O=0;class Yr{constructor(e,t,r,i,o){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=_O++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new Yr(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:EO),!!e.static,e.enables)}of(e){return new mS([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new mS(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new mS(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function EO(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class mS{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=_O++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,u=this.type==2,c=!1,p=!1,f=[];for(let g of this.dependencies)g=="doc"?c=!0:g=="selection"?p=!0:1&((t=e[g.id])!==null&&t!==void 0?t:1)||f.push(e[g.id]);return{create:g=>(g.values[s]=r(g),1),update(g,y){if(c&&y.docChanged||p&&(y.docChanged||y.selection)||HP(g,f)){let b=r(g);if(u?!l5(b,g.values[s],i):!i(b,g.values[s]))return g.values[s]=b,1}return 0},reconfigure:(g,y)=>{let b,_=y.config.address[o];if(_!=null){let M=O_(y,_);if(this.dependencies.every(F=>F instanceof Yr?y.facet(F)===g.facet(F):!(F instanceof Hp)||y.field(F,!1)==g.field(F,!1))||(u?l5(b=r(g),M,i):i(b=r(g),M)))return g.values[s]=M,0}else b=r(g);return g.values[s]=b,1}}}}function l5(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function HP(n,e){let t=!1;for(let r of e)1&Cb(n,r)&&(t=!0);return t}function Dce(n,e,t){let r=t.map(c=>n[c.id]),i=t.map(c=>c.type),o=r.filter(c=>!(1&c)),s=n[e.id]>>1;function u(c){let p=[];for(let f=0;f<r.length;f++){let g=O_(c,r[f]);if(i[f]==2)for(let y of g)p.push(y);else p.push(g)}return e.combine(p)}return{create(c){for(let p of r)Cb(c,p);return c.values[s]=u(c),1},update(c,p){if(!HP(c,o))return 0;let f=u(c);return e.compare(f,c.values[s])?0:(c.values[s]=f,1)},reconfigure(c,p){let f=HP(c,r),g=p.config.facets[e.id],y=p.facet(e);if(g&&!f&&EO(t,g))return c.values[s]=y,0;let b=u(c);return e.compare(b,y)?(c.values[s]=y,0):(c.values[s]=b,1)}}}const c5=Yr.define({static:!0});class Hp{constructor(e,t,r,i,o){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let t=new Hp(_O++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(c5).find(r=>r.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let o=r.values[t],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[t]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}init(e){return[this,c5.of({field:this,create:e})]}get extension(){return this}}const Cce=4,Sce=3,VP=2,_ce=1;function Pw(n){return e=>new zH(e,n)}const Ey={highest:Pw(0),high:Pw(_ce),default:Pw(VP),low:Pw(Sce),lowest:Pw(Cce)};class zH{constructor(e,t){this.inner=e,this.prec=t}}class WE{of(e){return new qP(this,e)}reconfigure(e){return WE.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class qP{constructor(e,t){this.compartment=e,this.inner=t}}class I_{constructor(e,t,r,i,o,s){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],o=Object.create(null),s=new Map;for(let y of function(_,M,F){let O=[[],[],[],[],[]],j=new Map;function z(W,J){let G=j.get(W);if(G!=null){if(G<=J)return;let Q=O[G].indexOf(W);Q>-1&&O[G].splice(Q,1),W instanceof qP&&F.delete(W.compartment)}if(j.set(W,J),Array.isArray(W))for(let Q of W)z(Q,J);else if(W instanceof qP){if(F.has(W.compartment))throw new RangeError("Duplicate use of compartment in extensions");let Q=M.get(W.compartment)||W.inner;F.set(W.compartment,Q),z(Q,J)}else if(W instanceof zH)z(W.inner,W.prec);else if(W instanceof Hp)O[J].push(W),W.provides&&z(W.provides,J);else if(W instanceof mS)O[J].push(W),W.facet.extensions&&z(W.facet.extensions,VP);else{let Q=W.extension;if(!Q)throw new Error(`Unrecognized extension value in extension set (${W}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);z(Q,J)}}return z(_,VP),O.reduce((W,J)=>W.concat(J))}(e,t,s))y instanceof Hp?i.push(y):(o[y.facet.id]||(o[y.facet.id]=[])).push(y);let u=Object.create(null),c=[],p=[];for(let y of i)u[y.id]=p.length<<1,p.push(b=>y.slot(b));let f=r==null?void 0:r.config.facets;for(let y in o){let b=o[y],_=b[0].facet,M=f&&f[y]||[];if(b.every(F=>F.type==0))if(u[_.id]=c.length<<1|1,EO(M,b))c.push(r.facet(_));else{let F=_.combine(b.map(O=>O.value));c.push(r&&_.compare(F,r.facet(_))?r.facet(_):F)}else{for(let F of b)F.type==0?(u[F.id]=c.length<<1|1,c.push(F.value)):(u[F.id]=p.length<<1,p.push(O=>F.dynamicSlot(O)));u[_.id]=p.length<<1,p.push(F=>Dce(F,_,b))}}let g=p.map(y=>y(u));return new I_(e,s,g,u,c,o)}}function Cb(n,e){if(1&e)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function O_(n,e){return 1&e?n.config.staticValues[e>>1]:n.values[e>>1]}const UH=Yr.define(),KP=Yr.define({combine:n=>n.some(e=>e),static:!0}),WH=Yr.define({combine:n=>n.length?n[0]:void 0,static:!0}),HH=Yr.define(),VH=Yr.define(),qH=Yr.define(),KH=Yr.define({combine:n=>!!n.length&&n[0]});class cd{constructor(e,t){this.type=e,this.value=t}static define(){return new Ece}}class Ece{of(e){return new cd(this,e)}}class Ace{constructor(e){this.map=e}of(e){return new su(this,e)}}class su{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new su(this.type,t)}is(e){return this.type==e}static define(e={}){return new Ace(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(t);o&&r.push(o)}return r}}su.reconfigure=su.define(),su.appendConfig=su.define();class cp{constructor(e,t,r,i,o,s){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&$H(r,t.newLength),o.some(u=>u.type==cp.time)||(this.annotations=o.concat(cp.time.of(Date.now())))}static create(e,t,r,i,o,s){return new cp(e,t,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(cp.userEvent);return!(!t||!(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}function kce(n,e){let t=[];for(let r=0,i=0;;){let o,s;if(r<n.length&&(i==e.length||e[i]>=n[r]))o=n[r++],s=n[r++];else{if(!(i<e.length))return t;o=e[i++],s=e[i++]}!t.length||t[t.length-1]<o?t.push(o,s):t[t.length-1]<s&&(t[t.length-1]=s)}}function f5(n,e,t){var r;let i,o,s;return t?(i=e.changes,o=sp.empty(e.changes.length),s=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),o=n.changes.mapDesc(e.changes,!0),s=n.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:su.mapEffects(n.effects,i).concat(su.mapEffects(e.effects,o)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Ok(n,e,t){let r=e.selection,i=E1(e.annotations);return e.userEvent&&(i=i.concat(cp.userEvent.of(e.userEvent))),{changes:e.changes instanceof sp?e.changes:sp.of(e.changes||[],t,n.facet(WH)),selection:r&&(r instanceof cn?r:cn.single(r.anchor,r.head)),effects:E1(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function GH(n,e,t){let r=Ok(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(t=!1);let s=!!e[o].sequential;r=f5(r,Ok(n,e[o],s?r.changes.newLength:n.doc.length),s)}let i=cp.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(s){let u=s.startState,c=u.facet(qH),p=s;for(let f=c.length-1;f>=0;f--){let g=c[f](s);g&&Object.keys(g).length&&(p=f5(p,Ok(u,g,s.changes.newLength),!0))}return p==s?s:cp.create(u,s.changes,s.selection,p.effects,p.annotations,p.scrollIntoView)}(t?function(s){let u=s.startState,c=!0;for(let f of u.facet(HH)){let g=f(s);if(g===!1){c=!1;break}Array.isArray(g)&&(c=c===!0?g:kce(c,g))}if(c!==!0){let f,g;if(c===!1)g=s.changes.invertedDesc,f=sp.empty(u.doc.length);else{let y=s.changes.filter(c);f=y.changes,g=y.filtered.mapDesc(y.changes).invertedDesc}s=cp.create(u,f,s.selection&&s.selection.map(g),su.mapEffects(s.effects,g),s.annotations,s.scrollIntoView)}let p=u.facet(VH);for(let f=p.length-1;f>=0;f--){let g=p[f](s);s=g instanceof cp?g:Array.isArray(g)&&g.length==1&&g[0]instanceof cp?g[0]:GH(u,E1(g),!1)}return s}(i):i)}cp.time=cd.define(),cp.userEvent=cd.define(),cp.addToHistory=cd.define(),cp.remote=cd.define();const Mce=[];function E1(n){return n==null?Mce:Array.isArray(n)?n:[n]}var xh=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(xh||(xh={}));const Fce=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let GP;try{GP=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Pce(n){return e=>{if(!/\S/.test(e))return xh.Space;if(function(r){if(GP)return GP.test(r);for(let i=0;i<r.length;i++){let o=r[i];if(/\w/.test(o)||o>""&&(o.toUpperCase()!=o.toLowerCase()||Fce.test(o)))return!0}return!1}(e))return xh.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return xh.Word;return xh.Other}}class Dc{constructor(e,t,r,i,o,s){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let u=0;u<this.config.dynamicSlots.length;u++)Cb(this,u<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r!=null)return Cb(this,r),O_(this,r);if(t)throw new RangeError("Field is not present in this state")}update(...e){return GH(this,e,!0)}applyTransaction(e){let t,r=this.config,{base:i,compartments:o}=r;for(let u of e.effects)u.is(WE.reconfigure)?(r&&(o=new Map,r.compartments.forEach((c,p)=>o.set(p,c)),r=null),o.set(u.value.compartment,u.value.extension)):u.is(su.reconfigure)?(r=null,i=u.value):u.is(su.appendConfig)&&(r=null,i=E1(i).concat(u.value));r?t=e.startState.values.slice():(r=I_.resolve(i,o,this),t=new Dc(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(u,c)=>c.reconfigure(u,this),null).values);let s=e.startState.facet(KP)?e.newSelection:e.newSelection.asSingle();new Dc(r,e.newDoc,s,t,(u,c)=>c.update(u,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:cn.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),o=[r.range],s=E1(r.effects);for(let u=1;u<t.ranges.length;u++){let c=e(t.ranges[u]),p=this.changes(c.changes),f=p.map(i);for(let y=0;y<u;y++)o[y]=o[y].map(f);let g=i.mapDesc(p,!0);o.push(c.range.map(g)),i=i.compose(f),s=su.mapEffects(s,f).concat(su.mapEffects(E1(c.effects),g))}return{changes:i,selection:cn.create(o,t.mainIndex),effects:s}}changes(e=[]){return e instanceof sp?e:sp.of(e,this.doc.length,this.facet(Dc.lineSeparator))}toText(e){return Cc.of(e.split(this.facet(Dc.lineSeparator)||zP))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Cb(this,t),O_(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Hp&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],u=e[o];i.push(s.init(c=>s.spec.fromJSON(u,c)))}}return Dc.create({doc:e.doc,selection:cn.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=I_.resolve(e.extensions||[],new Map),r=e.doc instanceof Cc?e.doc:Cc.of((e.doc||"").split(t.staticFacet(Dc.lineSeparator)||zP)),i=e.selection?e.selection instanceof cn?e.selection:cn.single(e.selection.anchor,e.selection.head):cn.single(0);return $H(i,r.length),t.staticFacet(KP)||(i=i.asSingle()),new Dc(t,r,i,t.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(Dc.tabSize)}get lineBreak(){return this.facet(Dc.lineSeparator)||`
`}get readOnly(){return this.facet(KH)}phrase(e,...t){for(let r of this.facet(Dc.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>t.length?r:t[o-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let o of this.facet(UH))for(let s of o(this,t,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return Pce(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,u=e-r;for(;s>0;){let c=zp(t,s,!1);if(o(t.slice(c,s))!=xh.Word)break;s=c}for(;u<i;){let c=zp(t,u);if(o(t.slice(u,c))!=xh.Word)break;u=c}return s==u?null:cn.range(s+r,u+r)}}function Y0(n,e,t={}){let r={};for(let i of n)for(let o of Object.keys(i)){let s=i[o],u=r[o];if(u===void 0)r[o]=s;else if(!(u===s||s===void 0)){if(!Object.hasOwnProperty.call(t,o))throw new Error("Config merge conflict for field "+o);r[o]=t[o](u,s)}}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}Dc.allowMultipleSelections=KP,Dc.tabSize=Yr.define({combine:n=>n.length?n[0]:4}),Dc.lineSeparator=WH,Dc.readOnly=KH,Dc.phrases=Yr.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}}),Dc.languageData=UH,Dc.changeFilter=HH,Dc.transactionFilter=VH,Dc.transactionExtender=qH,WE.reconfigure=su.define();class Yv{eq(e){return this==e}range(e,t=e){return YP.create(e,t,this)}}Yv.prototype.startSide=Yv.prototype.endSide=0,Yv.prototype.point=!1,Yv.prototype.mapMode=mg.TrackDel;let YP=class YH{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new YH(e,t,r)}};function Nk(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class AO{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let o=r?this.to:this.from;for(let s=i,u=o.length;;){if(s==u)return s;let c=s+u>>1,p=o[c]-e||(r?this.value[c].endSide:this.value[c].startSide)-t;if(c==s)return p>=0?s:u;p>=0?u=c:s=c+1}}between(e,t,r,i){for(let o=this.findIndex(t,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,t){let r=[],i=[],o=[],s=-1,u=-1;for(let c=0;c<this.value.length;c++){let p,f,g=this.value[c],y=this.from[c]+e,b=this.to[c]+e;if(y==b){let _=t.mapPos(y,g.startSide,g.mapMode);if(_==null||(p=f=_,g.startSide!=g.endSide&&(f=t.mapPos(y,g.endSide),f<p)))continue}else if(p=t.mapPos(y,g.startSide),f=t.mapPos(b,g.endSide),p>f||p==f&&g.startSide>0&&g.endSide<=0)continue;(f-p||g.endSide-g.startSide)<0||(s<0&&(s=p),g.point&&(u=Math.max(u,f-p)),r.push(g),i.push(p-s),o.push(f-s))}return{mapped:r.length?new AO(i,o,r,u):null,pos:s}}}class lc{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new lc(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(t.length==0&&!s)return this;if(r&&(t=t.slice().sort(Nk)),this.isEmpty)return t.length?lc.of(t):this;let u=new JH(this,null,-1).goto(0),c=0,p=[],f=new vv;for(;u.value||c<t.length;)if(c<t.length&&(u.from-t[c].from||u.startSide-t[c].value.startSide)>=0){let g=t[c++];f.addInner(g.from,g.to,g.value)||p.push(g)}else u.rangeIndex==1&&u.chunkIndex<this.chunk.length&&(c==t.length||this.chunkEnd(u.chunkIndex)<t[c].from)&&(!s||i>this.chunkEnd(u.chunkIndex)||o<this.chunkPos[u.chunkIndex])&&f.addChunk(this.chunkPos[u.chunkIndex],this.chunk[u.chunkIndex])?u.nextChunk():((!s||i>u.to||o<u.from||s(u.from,u.to,u.value))&&(f.addInner(u.from,u.to,u.value)||p.push(YP.create(u.from,u.to,u.value))),u.next());return f.finishInner(this.nextLayer.isEmpty&&!p.length?lc.empty:this.nextLayer.update({add:p,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let u=this.chunkPos[s],c=this.chunk[s],p=e.touchesRange(u,u+c.length);if(p===!1)i=Math.max(i,c.maxPoint),t.push(c),r.push(e.mapPos(u));else if(p===!0){let{mapped:f,pos:g}=c.map(u,e);f&&(i=Math.max(i,f.maxPoint),t.push(f),r.push(g))}}let o=this.nextLayer.map(e);return t.length==0?o:new lc(r,t,o||lc.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(t>=o&&e<=o+s.length&&s.between(o,e-o,t-o,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return ix.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return ix.from(e).goto(t)}static compare(e,t,r,i,o=-1){let s=e.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),u=t.filter(g=>g.maxPoint>0||!g.isEmpty&&g.maxPoint>=o),c=h5(s,u,r),p=new Tw(s,c,o),f=new Tw(u,c,o);r.iterGaps((g,y,b)=>p5(p,g,f,y,b,i)),r.empty&&r.length==0&&p5(p,0,f,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let o=e.filter(f=>!f.isEmpty&&t.indexOf(f)<0),s=t.filter(f=>!f.isEmpty&&e.indexOf(f)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let u=h5(o,s),c=new Tw(o,u,0).goto(r),p=new Tw(s,u,0).goto(r);for(;;){if(c.to!=p.to||!JP(c.active,p.active)||c.point&&(!p.point||!c.point.eq(p.point)))return!1;if(c.to>i)return!0;c.next(),p.next()}}static spans(e,t,r,i,o=-1){let s=new Tw(e,null,o).goto(t),u=t,c=s.openStart;for(;;){let p=Math.min(s.to,r);if(s.point){let f=s.activeForPoint(s.to),g=s.pointFrom<t?f.length+1:s.point.startSide<0?f.length:Math.min(f.length,c);i.point(u,p,s.point,f,g,s.pointRank),c=Math.min(s.openEnd(p),f.length)}else p>u&&(i.span(u,p,s.active,c),c=s.openEnd(p));if(s.to>r)return c+(s.point&&s.to>r?1:0);u=s.to,s.next()}}static of(e,t=!1){let r=new vv;for(let i of e instanceof YP?[e]:t?function(s){if(s.length>1)for(let u=s[0],c=1;c<s.length;c++){let p=s[c];if(Nk(u,p)>0)return s.slice().sort(Nk);u=p}return s}(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return lc.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=lc.empty;i=i.nextLayer)t=new lc(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}lc.empty=new lc([],[],null,-1),lc.empty.nextLayer=lc.empty;class vv{finishChunk(e){this.chunks.push(new AO(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new vv)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(lc.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=lc.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function h5(n,e,t){let r=new Map;for(let o of n)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let u=r.get(o.chunk[s]);u==null||(t?t.mapPos(u):u)!=o.chunkPos[s]||t!=null&&t.touchesRange(u,u+o.chunk[s].length)||i.add(o.chunk[s])}return i}class JH{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class ix{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new JH(s,t,r,o));return i.length==1?i[0]:new ix(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)Bk(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)Bk(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Bk(this.heap,0)}}}function Bk(n,e){for(let t=n[e];;){let r=1+(e<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Tw{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=ix.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){GD(this.active,e),GD(this.activeTo,e),GD(this.activeRank,e),this.minActive=g5(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:o}=this.cursor;for(;t<this.activeRank.length&&(o-this.activeRank[t]||i-this.activeTo[t])>0;)t++;YD(this.active,t,r),YD(this.activeTo,t,i),YD(this.activeRank,t,o),e&&YD(e,t,this.cursor.from),this.minActive=g5(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&GD(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let o=this.cursor.value;if(o.point){if(!(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function p5(n,e,t,r,i,o){n.goto(e),t.goto(r);let s=r+i,u=r,c=r-e;for(;;){let p=n.to+c-t.to||n.endSide-t.endSide,f=p<0?n.to+c:t.to,g=Math.min(f,s);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&JP(n.activeForPoint(n.to),t.activeForPoint(t.to))||o.comparePoint(u,g,n.point,t.point):g>u&&!JP(n.active,t.active)&&o.compareRange(u,g,n.active,t.active),f>s)break;u=f,p<=0&&n.next(),p>=0&&t.next()}}function JP(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function GD(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function YD(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function g5(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function fw(n,e,t=n.length){let r=0;for(let i=0;i<t;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=zp(n,i));return r}function XP(n,e,t,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==n.length)break;o+=n.charCodeAt(i)==9?t-o%t:1,i=zp(n,i)}return r===!0?-1:n.length}const m5=typeof Symbol>"u"?"__ͼ":Symbol.for("ͼ"),QP=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),d5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class yv{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,u,c,p){let f=[],g=/^@(\w+)\b/.exec(s[0]),y=g&&g[1]=="keyframes";if(g&&u==null)return c.push(s[0]+";");for(let b in u){let _=u[b];if(/&/.test(b))o(b.split(/,\s*/).map(M=>s.map(F=>M.replace(/&/,F))).reduce((M,F)=>M.concat(F)),_,c);else if(_&&typeof _=="object"){if(!g)throw new RangeError("The value of a property ("+b+") should be a primitive value.");o(i(b),_,f,y)}else _!=null&&f.push(b.replace(/_.*/,"").replace(/[A-Z]/g,M=>"-"+M.toLowerCase())+": "+_+";")}(f.length||y)&&c.push((!r||g||p?s:s.map(r)).join(", ")+" {"+f.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=d5[m5]||1;return d5[m5]=e+1,"ͼ"+e.toString(36)}static mount(e,t,r){let i=e[QP],o=r&&r.nonce;i?o&&i.setNonce(o):i=new Tce(e,o),i.mount(Array.isArray(t)?t:[t],e)}}let v5=new Map;class Tce{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=v5.get(r);if(o)return e[QP]=o;this.sheet=new i.CSSStyleSheet,v5.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[QP]=this}mount(e,t){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let u=e[s],c=this.modules.indexOf(u);if(c<o&&c>-1&&(this.modules.splice(c,1),o--,c=-1),c==-1){if(this.modules.splice(o++,0,u),r)for(let p=0;p<u.rules.length;p++)r.insertRule(u.rules[p],i++)}else{for(;o<c;)i+=this.modules[o++].rules.length;i+=u.rules.length,o++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let s="";for(let c=0;c<this.modules.length;c++)s+=this.modules[c].getRules()+`
`;this.styleTag.textContent=s;let u=t.head||t;this.styleTag.parentNode!=u&&u.insertBefore(this.styleTag,u.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}for(var wv={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},ox={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ice=typeof navigator<"u"&&/Mac/.test(navigator.platform),Oce=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Pp=0;Pp<10;Pp++)wv[48+Pp]=wv[96+Pp]=String(Pp);for(Pp=1;Pp<=24;Pp++)wv[Pp+111]="F"+Pp;for(Pp=65;Pp<=90;Pp++)wv[Pp]=String.fromCharCode(Pp+32),ox[Pp]=String.fromCharCode(Pp);for(var Rk in wv)ox.hasOwnProperty(Rk)||(ox[Rk]=wv[Rk]);function ax(n){let e;return e=n.nodeType==11?n.getSelection?n:n.ownerDocument:n,e.getSelection()}function ZP(n,e){return!!e&&(n==e||n.contains(e.nodeType!=1?e.parentNode:e))}function dS(n,e){if(!e.anchorNode)return!1;try{return ZP(n,e.anchorNode)}catch{return!1}}function sx(n){return n.nodeType==3?yy(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Sb(n,e,t,r){return!!t&&(y5(n,e,t,r,-1)||y5(n,e,t,r,1))}function vy(n){for(var e=0;;e++)if(!(n=n.previousSibling))return e}function N_(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function y5(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:U0(n))){if(n.nodeName=="DIV")return!1;let o=n.parentNode;if(!o||o.nodeType!=1)return!1;e=vy(n)+(i<0?0:1),n=o}else{if(n.nodeType!=1||(n=n.childNodes[e+(i<0?-1:0)]).nodeType==1&&n.contentEditable=="false")return!1;e=i<0?U0(n):0}}}function U0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function HE(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Nce(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function XH(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}class Bce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?U0(t):0),r,Math.min(e.focusOffset,r?U0(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let w5,Ly=null;function QH(n){if(n.setActive)return n.setActive();if(Ly)return n.focus(Ly);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Ly==null?{get preventScroll(){return Ly={preventScroll:!0},!0}}:void 0),!Ly){Ly=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],o=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}function yy(n,e,t=e){let r=w5||(w5=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function A1(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,n.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function ZH(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function eV(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function tV(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=U0(t)}else{if(!t.parentNode||N_(t))return null;r=vy(t),t=t.parentNode}}}function nV(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else{if(!t.parentNode||N_(t))return null;r=vy(t)+1,t=t.parentNode}}}class og{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new og(e.parentNode,vy(e),t)}static after(e,t){return new og(e.parentNode,vy(e)+1,t)}}const kO=[];class Pf{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(2&this.flags){let r,i=this.dom,o=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(r=o?o.nextSibling:i.firstChild)){let u=Pf.get(r);(!u||!u.parent&&u.canReuseDOM(s))&&s.reuseDOM(r)}s.sync(e,t),s.flags&=-8}if(r=o?o.nextSibling:i.firstChild,t&&!t.written&&t.node==i&&r!=s.dom&&(t.written=!0),s.dom.parentNode==i)for(;r&&r!=s.dom;)r=b5(r);else i.insertBefore(s.dom,r);o=s.dom}for(r=o?o.nextSibling:i.firstChild,r&&t&&t.node==i&&(t.written=!0);r;)r=b5(r)}else if(1&this.flags)for(let r of this.children)7&r.flags&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=U0(e)==0?0:t==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(i=e==o.firstChild?-1:1),e=o}r=i<0?e:e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Pf.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,o=-1,s=-1,u=-1;for(let c=0,p=r,f=r;c<this.children.length;c++){let g=this.children[c],y=p+g.length;if(p<e&&y>t)return g.domBoundsAround(e,t,p);if(y>=e&&i==-1&&(i=c,o=p),p>t&&g.dom.parentNode==this.dom){s=c,u=f;break}f=y,p=y+g.breakAfter}return{from:o,to:u<0?r+this.length:u,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),1&t.flags)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,7&this.flags&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=kO){this.markDirty();for(let i=e;i<t;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new rV(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!(8&(this.flags|e.flags))}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}function b5(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}Pf.prototype.breakAfter=0;class rV{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function iV(n,e,t,r,i,o,s,u,c){let{children:p}=n,f=p.length?p[e]:null,g=o.length?o[o.length-1]:null,y=g?g.breakAfter:s;if(!(e==r&&f&&!s&&!y&&o.length<2&&f.merge(t,i,o.length?g:null,t==0,u,c))){if(r<p.length){let b=p[r];b&&(i<b.length||b.breakAfter&&(g!=null&&g.breakAfter))?(e==r&&(b=b.split(i),i=0),!y&&g&&b.merge(0,i,g,!0,0,c)?o[o.length-1]=b:((i||b.children.length&&!b.children[0].length)&&b.merge(0,i,null,!1,0,c),o.push(b))):b!=null&&b.breakAfter&&(g?g.breakAfter=1:s=1),r++}for(f&&(f.breakAfter=s,t>0&&(!s&&o.length&&f.merge(t,f.length,o[0],!1,u,0)?f.breakAfter=o.shift().breakAfter:(t<f.length||f.children.length&&f.children[f.children.length-1].length==0)&&f.merge(t,f.length,null,!1,u,0),e++));e<r&&o.length;)if(p[r-1].become(o[o.length-1]))r--,o.pop(),c=o.length?0:u;else{if(!p[e].become(o[0]))break;e++,o.shift(),u=o.length?0:c}!o.length&&e&&r<p.length&&!p[e-1].breakAfter&&p[r].merge(0,0,p[e-1],!1,u,c)&&e--,(e<r||o.length)&&n.replaceChildren(e,r,o)}}function oV(n,e,t,r,i,o){let s=n.childCursor(),{i:u,off:c}=s.findPos(t,1),{i:p,off:f}=s.findPos(e,-1),g=e-t;for(let y of r)g+=y.length;n.length+=g,iV(n,p,f,u,c,r,0,i,o)}let Tg=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},eT=typeof document<"u"?document:{documentElement:{style:{}}};const tT=/Edge\/(\d+)/.exec(Tg.userAgent),aV=/MSIE \d/.test(Tg.userAgent),nT=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Tg.userAgent),VE=!!(aV||nT||tT),x5=!VE&&/gecko\/(\d+)/i.test(Tg.userAgent),jk=!VE&&/Chrome\/(\d+)/.exec(Tg.userAgent),D5="webkitFontSmoothing"in eT.documentElement.style,sV=!VE&&/Apple Computer/.test(Tg.vendor),C5=sV&&(/Mobile\/\w+/.test(Tg.userAgent)||Tg.maxTouchPoints>2);var ni={mac:C5||/Mac/.test(Tg.platform),windows:/Win/.test(Tg.platform),linux:/Linux|X11/.test(Tg.platform),ie:VE,ie_version:aV?eT.documentMode||6:nT?+nT[1]:tT?+tT[1]:0,gecko:x5,gecko_version:x5?+(/Firefox\/(\d+)/.exec(Tg.userAgent)||[0,0])[1]:0,chrome:!!jk,chrome_version:jk?+jk[1]:0,ios:C5,android:/Android\b/.test(Tg.userAgent),webkit:D5,safari:sV,webkit_version:D5?+(/\bAppleWebKit\/(\d+)/.exec(Tg.userAgent)||[0,0])[1]:0,tabSize:eT.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};class o0 extends Pf{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return!(8&this.flags||r&&(!(r instanceof o0)||this.length-(t-e)+r.length>256||8&r.flags))&&(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new o0(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=8&this.flags,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new og(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return function(i,o,s){let u=i.nodeValue.length;o>u&&(o=u);let c=o,p=o,f=0;o==0&&s<0||o==u&&s>=0?ni.chrome||ni.gecko||(o?(c--,f=1):p<u&&(p++,f=-1)):s<0?c--:p<u&&p++;let g=yy(i,c,p).getClientRects();if(!g.length)return null;let y=g[(f?f<0:s>=0)?0:g.length-1];return ni.safari&&!f&&y.width==0&&(y=Array.prototype.find.call(g,b=>b.width)||y),f?HE(y,f<0):y||null}(this.dom,e,t)}}class dd extends Pf{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(ZH(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!(8&(this.flags|e.flags))}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,o,s){return(!r||!(!(r instanceof dd&&r.mark.eq(this.mark))||e&&o<=0||t<this.length&&s<=0))&&(oV(this,e,t,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,o=0;for(let u of this.children){let c=r+u.length;c>e&&t.push(r<e?u.split(e-r):u),i<0&&r>=e&&(i=o),r=c,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new dd(this.mark,t,s)}domAtPos(e){return uV(this,e)}coordsAt(e,t){return cV(this,e,t)}}class qd extends Pf{static create(e,t,r){return new qd(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=qd.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,o,s){return!(r&&(!(r instanceof qd&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof qd&&e.side==this.side&&this.widget.constructor==e.widget.constructor&&(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Cc.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Cc.empty}domAtPos(e){return(this.length?e==0:this.side>0)?og.before(this.dom):og.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let u=s?i.length-1:0;o=i[u],!(e>0?u==0:u==i.length-1||o.top<o.bottom);u+=s?-1:1);return HE(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class J1 extends Pf{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof J1&&e.side==this.side}split(){return new J1(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?og.before(this.dom):og.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Cc.empty}get isHidden(){return!0}}function uV(n,e){let t=n.dom,{children:r}=n,i=0;for(let o=0;i<r.length;i++){let s=r[i],u=o+s.length;if(!(u==o&&s.getSide()<=0)){if(e>o&&e<u&&s.dom.parentNode==t)return s.domAtPos(e-o);if(e<=o)break;o=u}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==t)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==t)return s.domAtPos(0)}return new og(t,0)}function lV(n,e,t){let r,{children:i}=n;t>0&&e instanceof dd&&i.length&&(r=i[i.length-1])instanceof dd&&r.mark.eq(e.mark)?lV(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function cV(n,e,t){let r=null,i=-1,o=null,s=-1;(function c(p,f){for(let g=0,y=0;g<p.children.length&&y<=f;g++){let b=p.children[g],_=y+b.length;_>=f&&(b.children.length?c(b,f-y):(!o||o.isHidden&&t>0)&&(_>f||y==_&&b.getSide()>0)?(o=b,s=f-y):(y<f||y==_&&b.getSide()<0&&!b.isHidden)&&(r=b,i=f-y)),y=_}})(n,e);let u=(t<0?r:o)||r||o;return u?u.coordsAt(Math.max(0,u==r?i:s),t):function(p){let f=p.dom.lastChild;if(!f)return p.dom.getBoundingClientRect();let g=sx(f);return g[g.length-1]||null}(n)}function rT(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}o0.prototype.children=qd.prototype.children=J1.prototype.children=kO;const S5=Object.create(null);function B_(n,e,t){if(n==e)return!0;n||(n=S5),e||(e=S5);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let o of r)if(o!=t&&(i.indexOf(o)==-1||n[o]!==e[o]))return!1;return!0}function iT(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function Rce(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class _v{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var vg=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(vg||(vg={}));class ka extends Yv{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Bx(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new bv(e,t,t,r,e.widget||null,!1)}static replace(e){let t,r,i=!!e.block;if(e.isBlockGap)t=-5e8,r=4e8;else{let{start:o,end:s}=fV(e,i);t=(o?i?-3e8:-1:5e8)-1,r=1+(s?i?2e8:1:-6e8)}return new bv(e,t,r,i,e.widget||null,!0)}static line(e){return new ux(e)}static set(e,t=!1){return lc.of(e,t)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}ka.none=lc.empty;class Bx extends ka{constructor(e){let{start:t,end:r}=fV(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof Bx&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&B_(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Bx.prototype.point=!1;class ux extends ka{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof ux&&this.spec.class==e.spec.class&&B_(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}ux.prototype.mapMode=mg.TrackBefore,ux.prototype.point=!0;class bv extends ka{constructor(e,t,r,i,o,s){super(t,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?t<=0?mg.TrackBefore:mg.TrackAfter:mg.TrackDel}get type(){return this.startSide!=this.endSide?vg.WidgetRange:this.startSide<=0?vg.WidgetBefore:vg.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof bv&&function(r,i){return r==i||!!(r&&i&&r.compare(i))}(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}function fV(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function oT(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}bv.prototype.point=!0;class Gh extends Pf{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,o,s){if(r){if(!(r instanceof Gh))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),oV(this,e,t,r?r.children.slice():[],o,s),!0}split(e){let t=new Gh;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)t.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){B_(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){lV(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=rT(t,this.attrs||{})),r&&(this.attrs=rT({class:r},this.attrs||{}))}domAtPos(e){return uV(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?4&this.flags&&(ZH(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(iT(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Pf.get(i)instanceof dd;)i=i.lastChild;if(!(i&&this.length&&(i.nodeName=="BR"||((r=Pf.get(i))===null||r===void 0?void 0:r.isEditable)!=0||ni.ios&&this.children.some(o=>o instanceof o0)))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e,t=0;for(let r of this.children){if(!(r instanceof o0)||/[^ -~]/.test(r.text))return null;let i=sx(r.dom);if(i.length!=1)return null;t+=i[0].width,e=i[0].height}return t?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:t/this.length,textHeight:e}:null}coordsAt(e,t){let r=cV(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Gh&&this.children.length==0&&e.children.length==0&&B_(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=t){if(o instanceof Gh)return o;if(s>t)break}i=s+o.breakAfter}return null}}class gd extends Pf{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,o,s){return!(r&&(!(r instanceof gd&&this.widget.compare(r.widget))||e>0&&o<=0||t<this.length&&s<=0))&&(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?og.before(this.dom):og.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new gd(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return kO}sync(e){this.dom&&this.widget.updateDOM(this.dom,e)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Cc.empty}domBoundsAround(){return null}become(e){return e instanceof gd&&e.widget.constructor==this.widget.constructor&&(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){return this.widget.coordsAt(this.dom,e,t)||(this.widget instanceof aT?null:HE(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t!=r&&(e<0?t<0:r>0)}}class aT extends _v{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class _b{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof gd&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Gh),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(JD(new J1(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||e&&this.content.length&&this.content[this.content.length-1]instanceof gd||this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:u}=this.cursor.next(this.skip);if(this.skip=0,u)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(JD(new o0(this.text.slice(this.textOff,this.textOff+i)),t),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof bv){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let u=t-e;if(r instanceof bv)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new gd(r.widget||f1.block,u,r));else{let c=qd.create(r.widget||f1.inline,u,u?0:r.startSide),p=this.atCursorPos&&!c.isEditable&&o<=i.length&&(e<t||r.startSide>0),f=!c.isEditable&&(e<t||o>i.length||r.startSide<=0),g=this.getLine();this.pendingBuffer!=2||p||c.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),p&&(g.append(JD(new J1(1),i),o),o=i.length+Math.max(0,o-i.length)),g.append(JD(c,i),o),this.atCursorPos=f,this.pendingBuffer=f?e<t||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);u&&(this.textOff+u<=this.text.length?this.textOff+=u:(this.skip+=u-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=o)}static build(e,t,r,i,o){let s=new _b(e,t,r,o);return s.openEnd=lc.spans(i,t,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function JD(n,e){for(let t of e)n=new dd(t,[n],n.length);return n}class f1 extends _v{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}f1.inline=new f1("span"),f1.block=new f1("div");var lh=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(lh||(lh={}));const wy=lh.LTR,MO=lh.RTL;function hV(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const jce=hV("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Lce=hV("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),sT=Object.create(null),p0=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);sT[e]=t,sT[t]=-e}function pV(n){return n<=247?jce[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?Lce[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const $ce=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Kd{get dir(){return this.level%2?MO:wy}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let o=-1;for(let s=0;s<e.length;s++){let u=e[s];if(u.from<=t&&u.to>=t){if(u.level==r)return s;(o<0||(i!=0?i<0?u.from<t:u.to>t:e[o].level>u.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function gV(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!gV(r.inner,i.inner))return!1}return!0}const Mf=[];function uT(n,e,t,r,i,o,s){let u=r%2?2:1;if(r%2==i%2)for(let c=e,p=0;c<t;){let f=!0,g=!1;if(p==o.length||c<o[p].from){let M=Mf[c];M!=u&&(f=!1,g=M==16)}let y=f||u!=1?null:[],b=f?r:r+1,_=c;e:for(;;)if(p<o.length&&_==o[p].from){if(g)break e;let M=o[p];if(!f)for(let F=M.to,O=p+1;;){if(F==t)break e;if(!(O<o.length&&o[O].from==F)){if(Mf[F]==u)break e;break}F=o[O++].to}p++,y?y.push(M):(M.from>c&&s.push(new Kd(c,M.from,b)),lT(n,M.direction==wy!=!(b%2)?r+1:r,i,M.inner,M.from,M.to,s),c=M.to),_=M.to}else{if(_==t||(f?Mf[_]!=u:Mf[_]==u))break;_++}y?uT(n,c,_,r+1,i,y,s):c<_&&s.push(new Kd(c,_,b)),c=_}else for(let c=t,p=o.length;c>e;){let f=!0,g=!1;if(!p||c>o[p-1].to){let M=Mf[c-1];M!=u&&(f=!1,g=M==16)}let y=f||u!=1?null:[],b=f?r:r+1,_=c;e:for(;;)if(p&&_==o[p-1].to){if(g)break e;let M=o[--p];if(!f)for(let F=M.from,O=p;;){if(F==e)break e;if(!O||o[O-1].to!=F){if(Mf[F-1]==u)break e;break}F=o[--O].from}y?y.push(M):(M.to<c&&s.push(new Kd(M.to,c,b)),lT(n,M.direction==wy!=!(b%2)?r+1:r,i,M.inner,M.from,M.to,s),c=M.from),_=M.from}else{if(_==e||(f?Mf[_-1]!=u:Mf[_-1]==u))break;_--}y?uT(n,_,c,r+1,i,y,s):_<c&&s.push(new Kd(_,c,b)),c=_}}function lT(n,e,t,r,i,o,s){let u=e%2?2:1;(function(p,f,g,y,b){for(let _=0;_<=y.length;_++){let M=_?y[_-1].to:f,F=_<y.length?y[_].from:g,O=_?256:b;for(let j=M,z=O,W=O;j<F;j++){let J=pV(p.charCodeAt(j));J==512?J=z:J==8&&W==4&&(J=16),Mf[j]=J==4?2:J,7&J&&(W=J),z=J}for(let j=M,z=O,W=O;j<F;j++){let J=Mf[j];if(J==128)j<F-1&&z==Mf[j+1]&&24&z?J=Mf[j]=z:Mf[j]=256;else if(J==64){let G=j+1;for(;G<F&&Mf[G]==64;)G++;let Q=j&&z==8||G<g&&Mf[G]==8?W==1?1:8:256;for(let te=j;te<G;te++)Mf[te]=Q;j=G-1}else J==8&&W==1&&(Mf[j]=1);z=J,7&J&&(W=J)}}})(n,i,o,r,u),function(p,f,g,y,b){let _=b==1?2:1;for(let M=0,F=0,O=0;M<=y.length;M++){let j=M?y[M-1].to:f,z=M<y.length?y[M].from:g;for(let W,J,G,Q=j;Q<z;Q++)if(J=sT[W=p.charCodeAt(Q)])if(J<0){for(let te=F-3;te>=0;te-=3)if(p0[te+1]==-J){let ae=p0[te+2],se=2&ae?b:4&ae?1&ae?_:b:0;se&&(Mf[Q]=Mf[p0[te]]=se),F=te;break}}else{if(p0.length==189)break;p0[F++]=Q,p0[F++]=W,p0[F++]=O}else if((G=Mf[Q])==2||G==1){let te=G==b;O=te?0:1;for(let ae=F-3;ae>=0;ae-=3){let se=p0[ae+2];if(2&se)break;if(te)p0[ae+2]|=2;else{if(4&se)break;p0[ae+2]|=4}}}}}(n,i,o,r,u),function(p,f,g,y){for(let b=0,_=y;b<=g.length;b++){let M=b?g[b-1].to:p,F=b<g.length?g[b].from:f;for(let O=M;O<F;){let j=Mf[O];if(j==256){let z=O+1;for(;;)if(z==F){if(b==g.length)break;z=g[b++].to,F=b<g.length?g[b].from:f}else{if(Mf[z]!=256)break;z++}let W=_==1,J=W==((z<f?Mf[z]:y)==1)?W?1:2:y;for(let G=z,Q=b,te=Q?g[Q-1].to:p;G>O;)G==te&&(G=g[--Q].from,te=Q?g[Q-1].to:p),Mf[--G]=J;O=z}else _=j,O++}}}(i,o,r,u),uT(n,i,o,e,t,r,s)}function _5(n){return[new Kd(0,n,0)]}let mV="";function zce(n,e,t,r,i){var o;let s=r.head-n.from,u=Kd.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),c=e[u],p=c.side(i,t);if(s==p){let y=u+=i?1:-1;if(y<0||y>=e.length)return null;c=e[u=y],s=c.side(!i,t),p=c.side(i,t)}let f=zp(n.text,s,c.forward(i,t));(f<c.from||f>c.to)&&(f=p),mV=n.text.slice(Math.min(s,f),Math.max(s,f));let g=u==(i?e.length-1:0)?null:e[u+(i?1:-1)];return g&&f==p&&g.level+(i?0:1)<c.level?cn.cursor(g.side(!i,t)+n.from,g.forward(i,t)?1:-1,g.level):cn.cursor(f+n.from,c.forward(i,t)?-1:1,c.level)}function Uce(n,e,t){for(let r=e;r<t;r++){let i=pV(n.charCodeAt(r));if(i==1)return wy;if(i==2||i==4)return MO}return wy}const dV=Yr.define(),vV=Yr.define(),yV=Yr.define(),wV=Yr.define(),cT=Yr.define(),bV=Yr.define(),xV=Yr.define(),FO=Yr.define(),PO=Yr.define(),DV=Yr.define({combine:n=>n.some(e=>e)}),CV=Yr.define({combine:n=>n.some(e=>e)}),SV=Yr.define();class k1{constructor(e,t="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new k1(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new k1(cn.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const XD=su.define({map:(n,e)=>n.map(e)}),_V=su.define();function Bg(n,e,t){let r=n.facet(wV);r.length?r[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Ld=Yr.define({combine:n=>!n.length||n[0]});let Wce=0;const nb=Yr.define();class Qh{constructor(e,t,r,i,o){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=t||{};return new Qh(Wce++,e,r,i,u=>{let c=[nb.of(u)];return s&&c.push(lx.of(p=>{let f=p.plugin(u);return f?s(f):ka.none})),o&&c.push(o(u)),c})}static fromClass(e,t){return Qh.define(r=>new e(r),t)}}class Lk{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(Bg(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){Bg(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){Bg(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const EV=Yr.define(),TO=Yr.define(),lx=Yr.define(),AV=Yr.define(),IO=Yr.define(),kV=Yr.define();function E5(n,e){let t=n.state.facet(kV);if(!t.length)return t;let r=t.map(o=>o instanceof Function?o(n):o),i=[];return lc.spans(r,e.from,e.to,{point(){},span(o,s,u,c){let p=o-e.from,f=s-e.from,g=i;for(let y=u.length-1;y>=0;y--,c--){let b,_=u[y].spec.bidiIsolate;if(_==null&&(_=Uce(e.text,p,f)),c>0&&g.length&&(b=g[g.length-1]).to==p&&b.direction==_)b.to=f,g=b.inner;else{let M={from:p,to:f,direction:_,inner:[]};g.push(M),g=M.inner}}}}),i}const MV=Yr.define();function FV(n){let e=0,t=0,r=0,i=0;for(let o of n.state.facet(MV)){let s=o(n);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(t=Math.max(t,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:t,top:r,bottom:i}}const rb=Yr.define();class Dm{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new Dm(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,o=0,s=0,u=0;;i++){let c=i==e.length?null:e[i],p=s-u,f=c?c.fromB:1e9;for(;o<t.length&&t[o]<f;){let g=t[o],y=t[o+1],b=Math.max(u,g),_=Math.min(f,y);if(b<=_&&new Dm(b+p,_+p,b,_).addToSet(r),y>f)break;o+=2}if(!c)return r;new Dm(c.fromA,c.toA,c.fromB,c.toB).addToSet(r),s=c.toA,u=c.toB}}}class R_{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=sp.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,u,c)=>i.push(new Dm(o,s,u,c))),this.changedRanges=i}static create(e,t,r){return new R_(e,t,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class A5 extends Pf{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ka.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Gh],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Dm(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:function(c,p){let f=!1;return p&&c.iterChangedRanges((g,y)=>{g<p.to&&y>p.from&&(f=!0)}),f}(e.changes,this.hasComposition)||e.selectionSet||(i=e.state.selection.main.head));let o=i>-1?function(c,p,f){let g=PV(c,f);if(!g)return null;let{node:y,from:b,to:_}=g,M=y.nodeValue;if(/[\n\r]/.test(M)||c.state.doc.sliceString(g.from,g.to)!=M)return null;let F=p.invertedDesc,O=new Dm(F.mapPos(b),F.mapPos(_),b,_),j=[];for(let z=y.parentNode;;z=z.parentNode){let W=Pf.get(z);if(W instanceof dd)j.push({node:z,deco:W.mark});else{if(W instanceof Gh||z.nodeName=="DIV"&&z.parentNode==c.contentDOM)return{range:O,text:y,marks:j,line:z};if(z==c.contentDOM)return null;j.push({node:z,deco:new Bx({inclusive:!0,attributes:Rce(z),tagName:z.tagName.toLowerCase()})})}}}(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new Dm(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(ni.ie||ni.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=function(c,p,f){let g=new Hce;return lc.compare(c,p,f,g),g.changes}(this.decorations,this.updateDeco(),e.changes);return r=Dm.extendWithRanges(r,s),!!(7&this.flags||r.length!=0)&&(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ni.chrome||ni.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof gd&&s.widget instanceof aT&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(t);for(let s=i.length-1;;s--){let u=s>=0?i[s]:null;if(!u)break;let c,p,f,g,{fromA:y,toA:b,fromB:_,toB:M}=u;if(r&&r.range.fromB<M&&r.range.toB>_){let W=_b.build(this.view.state.doc,_,r.range.fromB,this.decorations,this.dynamicDecorationMap),J=_b.build(this.view.state.doc,r.range.toB,M,this.decorations,this.dynamicDecorationMap);p=W.breakAtStart,f=W.openStart,g=J.openEnd;let G=this.compositionView(r);J.breakAtStart?G.breakAfter=1:J.content.length&&G.merge(G.length,G.length,J.content[0],!1,J.openStart,0)&&(G.breakAfter=J.content[0].breakAfter,J.content.shift()),W.content.length&&G.merge(0,0,W.content[W.content.length-1],!0,0,W.openEnd)&&W.content.pop(),c=W.content.concat(G).concat(J.content)}else({content:c,breakAtStart:p,openStart:f,openEnd:g}=_b.build(this.view.state.doc,_,M,this.decorations,this.dynamicDecorationMap));let{i:F,off:O}=o.findPos(b,1),{i:j,off:z}=o.findPos(y,-1);iV(this,j,z,F,O,c,p,f,g)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(_V)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new o0(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new dd(i,[t],t.length);let r=new Gh;return r.append(t,0),r}fixCompositionDOM(e){let t=(o,s)=>{s.flags|=8|(s.children.some(c=>7&c.flags)?1:0),this.markedForComposition.add(s);let u=Pf.get(o);u&&u!=s&&(u.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],t(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,t=!1){!e&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&dS(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||o))return;let s=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,c=this.moveToLine(this.domAtPos(u.anchor)),p=u.empty?c:this.moveToLine(this.domAtPos(u.head));if(ni.gecko&&u.empty&&!this.hasComposition&&function(y){return y.node.nodeType==1&&y.node.firstChild&&(y.offset==0||y.node.childNodes[y.offset-1].contentEditable=="false")&&(y.offset==y.node.childNodes.length||y.node.childNodes[y.offset].contentEditable=="false")}(c)){let g=document.createTextNode("");this.view.observer.ignore(()=>c.node.insertBefore(g,c.node.childNodes[c.offset]||null)),c=p=new og(g,0),s=!0}let f=this.view.observer.selectionRange;!s&&f.focusNode&&(Sb(c.node,c.offset,f.anchorNode,f.anchorOffset)&&Sb(p.node,p.offset,f.focusNode,f.focusOffset)||this.suppressWidgetCursorChange(f,u))||(this.view.observer.ignore(()=>{ni.android&&ni.chrome&&this.dom.contains(f.focusNode)&&function(b,_){for(let M=b;M&&M!=_;M=M.assignedSlot||M.parentNode)if(M.nodeType==1&&M.contentEditable=="false")return!0;return!1}(f.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let g=ax(this.view.root);if(g)if(u.empty){if(ni.gecko){let y=function(_,M){return _.nodeType!=1?0:(M&&_.childNodes[M-1].contentEditable=="false"?1:0)|(M<_.childNodes.length&&_.childNodes[M].contentEditable=="false"?2:0)}(c.node,c.offset);if(y&&y!=3){let b=(y==1?tV:nV)(c.node,c.offset);b&&(c=new og(b.node,b.offset))}}g.collapse(c.node,c.offset),u.bidiLevel!=null&&g.caretBidiLevel!==void 0&&(g.caretBidiLevel=u.bidiLevel)}else if(g.extend){g.collapse(c.node,c.offset);try{g.extend(p.node,p.offset)}catch{}}else{let y=document.createRange();u.anchor>u.head&&([c,p]=[p,c]),y.setEnd(p.node,p.offset),y.setStart(c.node,c.offset),g.removeAllRanges(),g.addRange(y)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(c,p)),this.impreciseAnchor=c.precise?null:new og(f.anchorNode,f.anchorOffset),this.impreciseHead=p.precise?null:new og(f.focusNode,f.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Sb(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=ax(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!(r&&t.empty&&t.assoc&&r.modify))return;let s=Gh.find(this,t.head);if(!s)return;let u=s.posAtStart;if(t.head==u||t.head==u+s.length)return;let c=this.coordsAt(t.head,-1),p=this.coordsAt(t.head,1);if(!c||!p||c.bottom>p.top)return;let f=this.domAtPos(t.head+t.assoc);r.collapse(f.node,f.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let g=e.observer.selectionRange;e.docView.posFromDOM(g.anchorNode,g.anchorOffset)!=t.from&&r.collapse(i,o)}moveToLine(e){let t,r=this.dom;if(e.node!=r)return e;for(let i=e.offset;!t&&i<r.childNodes.length;i++){let o=Pf.get(r.childNodes[i]);o instanceof Gh&&(t=o.domAtPos(0))}for(let i=e.offset-1;!t&&i>=0;i--){let o=Pf.get(r.childNodes[i]);o instanceof Gh&&(t=o.domAtPos(o.length))}return t?new og(t.node,t.offset,!0):e}nearest(e){for(let t=e;t;){let r=Pf.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Gh)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let u=this.children[s],c=o-u.breakAfter,p=c-u.length;if(c<e)break;if(p<=e&&(p<e||u.covers(-1))&&(c>e||u.covers(1))&&(!r||u instanceof Gh&&!(r instanceof Gh&&t>=0)))r=u,i=p;else if(r&&p==e&&c==e&&u instanceof gd&&Math.abs(t)<2){if(u.deco.startSide<0)break;s&&(r=null)}o=p}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Gh))return null;for(;i.children.length;){let{i:u,off:c}=i.childPos(r,1);for(;;u++){if(u==i.children.length)return null;if((i=i.children[u]).length)break}r=c}if(!(i instanceof o0))return null;let o=zp(i.text,r);if(o==r)return null;let s=yy(i.dom,r,o).getClientRects();for(let u=0;u<s.length;u++){let c=s[u];if(u==s.length-1||c.top<c.bottom&&c.left<c.right)return c}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,u=-1,c=this.view.textDirection==lh.LTR;for(let p=0,f=0;f<this.children.length;f++){let g=this.children[f],y=p+g.length;if(y>i)break;if(p>=r){let b=g.dom.getBoundingClientRect();if(t.push(b.height),s){let _=g.dom.lastChild,M=_?sx(_):[];if(M.length){let F=M[M.length-1],O=c?F.right-b.left:b.right-F.left;O>u&&(u=O,this.minWidth=o,this.minWidthFrom=p,this.minWidthTo=y)}}}p=y+g.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?lh.RTL:lh.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Gh){let s=o.measureTextSize();if(s)return s}let e,t,r,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let o=sx(i.firstChild)[0];e=i.getBoundingClientRect().height,t=o?o.width/27:7,r=o?o.height:e,i.remove()}),{lineHeight:e,charWidth:t,textHeight:r}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new rV(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let o=i==t.viewports.length?null:t.viewports[i],s=o?o.from-1:this.length;if(s>r){let u=(t.lineBlockAt(s).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(ka.replace({widget:new aT(u),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return ka.set(e)}updateDeco(){let e=1,t=this.view.state.facet(lx).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(AV).map((o,s)=>{let u=typeof o=="function";return u&&(r=!0),u?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(lc.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let p=this.view.viewState.lineBlockAt(e.range.head);return this.view.scrollDOM.scrollTop=p.top-e.yMargin,void(this.view.scrollDOM.scrollLeft=e.xMargin)}for(let p of this.view.state.facet(SV))try{if(p(this.view,e.range,e))return!0}catch(f){Bg(this.view.state,f,"scroll handler")}let t,{range:r}=e,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!i)return;!r.empty&&(t=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,t.left),top:Math.min(i.top,t.top),right:Math.max(i.right,t.right),bottom:Math.max(i.bottom,t.bottom)});let o=FV(this.view),s={left:i.left-o.left,top:i.top-o.top,right:i.right+o.right,bottom:i.bottom+o.bottom},{offsetWidth:u,offsetHeight:c}=this.view.scrollDOM;(function(f,g,y,b,_,M,F,O){let j=f.ownerDocument,z=j.defaultView||window;for(let W=f,J=!1;W&&!J;)if(W.nodeType==1){let G,Q=W==j.body,te=1,ae=1;if(Q)G=Nce(z);else{if(/^(fixed|sticky)$/.test(getComputedStyle(W).position)&&(J=!0),W.scrollHeight<=W.clientHeight&&W.scrollWidth<=W.clientWidth){W=W.assignedSlot||W.parentNode;continue}let xe=W.getBoundingClientRect();({scaleX:te,scaleY:ae}=XH(W,xe)),G={left:xe.left,right:xe.left+W.clientWidth*te,top:xe.top,bottom:xe.top+W.clientHeight*ae}}let se=0,ge=0;if(_=="nearest")g.top<G.top?(ge=-(G.top-g.top+F),y>0&&g.bottom>G.bottom+ge&&(ge=g.bottom-G.bottom+ge+F)):g.bottom>G.bottom&&(ge=g.bottom-G.bottom+F,y<0&&g.top-ge<G.top&&(ge=-(G.top+ge-g.top+F)));else{let xe=g.bottom-g.top,Pe=G.bottom-G.top;ge=(_=="center"&&xe<=Pe?g.top+xe/2-Pe/2:_=="start"||_=="center"&&y<0?g.top-F:g.bottom-Pe+F)-G.top}if(b=="nearest"?g.left<G.left?(se=-(G.left-g.left+M),y>0&&g.right>G.right+se&&(se=g.right-G.right+se+M)):g.right>G.right&&(se=g.right-G.right+M,y<0&&g.left<G.left+se&&(se=-(G.left+se-g.left+M))):se=(b=="center"?g.left+(g.right-g.left)/2-(G.right-G.left)/2:b=="start"==O?g.left-M:g.right-(G.right-G.left)+M)-G.left,se||ge)if(Q)z.scrollBy(se,ge);else{let xe=0,Pe=0;if(ge){let Ce=W.scrollTop;W.scrollTop+=ge/ae,Pe=(W.scrollTop-Ce)*ae}if(se){let Ce=W.scrollLeft;W.scrollLeft+=se/te,xe=(W.scrollLeft-Ce)*te}g={left:g.left-xe,top:g.top-Pe,right:g.right-xe,bottom:g.bottom-Pe},xe&&Math.abs(xe-se)<1&&(b="nearest"),Pe&&Math.abs(Pe-ge)<1&&(_="nearest")}if(Q)break;W=W.assignedSlot||W.parentNode}else{if(W.nodeType!=11)break;W=W.host}})(this.view.scrollDOM,s,r.head<r.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,u),-u),Math.max(Math.min(e.yMargin,c),-c),this.view.textDirection==lh.LTR)}}function PV(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=tV(t.focusNode,t.focusOffset),i=nV(t.focusNode,t.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let u=Pf.get(i.node);if(!u||u instanceof o0&&u.text!=i.node.nodeValue)o=i;else if(n.docView.lastCompositionAfterCursor){let c=Pf.get(r.node);!c||c instanceof o0&&c.text!=r.node.nodeValue||(o=i)}}if(n.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}let Hce=class{constructor(){this.changes=[]}compareRange(e,t){oT(e,t,this.changes)}comparePoint(e,t){oT(e,t,this.changes)}};function Vce(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function qce(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function $k(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function k5(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function M5(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function fT(n,e,t){let r,i,o,s,u,c,p,f,g=!1;for(let b=n.firstChild;b;b=b.nextSibling){let _=sx(b);for(let M=0;M<_.length;M++){let F=_[M];i&&$k(i,F)&&(F=k5(M5(F,i.bottom),i.top));let O=Vce(e,F),j=qce(t,F);if(O==0&&j==0)return b.nodeType==3?F5(b,e,t):fT(b,e,t);if(!r||s>j||s==j&&o>O){r=b,i=F,o=O,s=j;let z=j?t<F.top?-1:1:O?e<F.left?-1:1:0;g=!z||(z>0?M<_.length-1:M>0)}O==0?t>F.bottom&&(!p||p.bottom<F.bottom)?(u=b,p=F):t<F.top&&(!f||f.top>F.top)&&(c=b,f=F):p&&$k(p,F)?p=M5(p,F.bottom):f&&$k(f,F)&&(f=k5(f,F.top))}}if(p&&p.bottom>=t?(r=u,i=p):f&&f.top<=t&&(r=c,i=f),!r)return{node:n,offset:0};let y=Math.max(i.left,Math.min(i.right,e));return r.nodeType==3?F5(r,y,t):g&&r.contentEditable!="false"?fT(r,y,t):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0)}}function F5(n,e,t){let r=n.nodeValue.length,i=-1,o=1e9,s=0;for(let u=0;u<r;u++){let c=yy(n,u,u+1).getClientRects();for(let p=0;p<c.length;p++){let f=c[p];if(f.top==f.bottom)continue;s||(s=e-f.left);let g=(f.top>t?f.top-t:t-f.bottom)-1;if(f.left-1<=e&&f.right+1>=e&&g<o){let y=e>=(f.left+f.right)/2,b=y;if((ni.chrome||ni.gecko)&&yy(n,u).getBoundingClientRect().left==f.right&&(b=!y),g<=0)return{node:n,offset:u+(b?1:0)};i=u+(b?1:0),o=g}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function P5(n,e,t,r=-1){var i,o;let s,u=n.contentDOM.getBoundingClientRect(),c=u.top+n.viewState.paddingTop,{docHeight:p}=n.viewState,{x:f,y:g}=e,y=g-c;if(y<0)return 0;if(y>p)return n.state.doc.length;for(let W=n.viewState.heightOracle.textHeight/2,J=!1;s=n.elementAtHeight(y),s.type!=vg.Text;)for(;y=r>0?s.bottom+W:s.top-W,!(y>=0&&y<=p);){if(J)return t?null:0;J=!0,r=-r}g=c+y;let b=s.from;if(b<n.viewport.from)return n.viewport.from==0?0:t?null:T5(n,u,s,f,g);if(b>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:T5(n,u,s,f,g);let _=n.dom.ownerDocument,M=n.root.elementFromPoint?n.root:_,F=M.elementFromPoint(f,g);F&&!n.contentDOM.contains(F)&&(F=null),F||(f=Math.max(u.left+1,Math.min(u.right-1,f)),F=M.elementFromPoint(f,g),F&&!n.contentDOM.contains(F)&&(F=null));let O,j=-1;if(F&&((i=n.docView.nearest(F))===null||i===void 0?void 0:i.isEditable)!=0){if(_.caretPositionFromPoint){let W=_.caretPositionFromPoint(f,g);W&&({offsetNode:O,offset:j}=W)}else if(_.caretRangeFromPoint){let W=_.caretRangeFromPoint(f,g);W&&({startContainer:O,startOffset:j}=W,(!n.contentDOM.contains(O)||ni.safari&&function(G,Q,te){let ae;if(G.nodeType!=3||Q!=(ae=G.nodeValue.length))return!1;for(let se=G.nextSibling;se;se=se.nextSibling)if(se.nodeType!=1||se.nodeName!="BR")return!1;return yy(G,ae-1,ae).getBoundingClientRect().left>te}(O,j,f)||ni.chrome&&function(G,Q,te){if(Q!=0)return!1;for(let se=G;;){let ge=se.parentNode;if(!ge||ge.nodeType!=1||ge.firstChild!=se)return!1;if(ge.classList.contains("cm-line"))break;se=ge}let ae=G.nodeType==1?G.getBoundingClientRect():yy(G,0,Math.max(G.nodeValue.length,1)).getBoundingClientRect();return te-ae.left>5}(O,j,f))&&(O=void 0))}O&&(j=Math.min(U0(O),j))}if(!O||!n.docView.dom.contains(O)){let W=Gh.find(n.docView,b);if(!W)return y>s.top+s.height/2?s.to:s.from;({node:O,offset:j}=fT(W.dom,f,g))}let z=n.docView.nearest(O);if(!z)return null;if(z.isWidget&&((o=z.dom)===null||o===void 0?void 0:o.nodeType)==1){let W=z.dom.getBoundingClientRect();return e.y<W.top||e.y<=W.bottom&&e.x<=(W.left+W.right)/2?z.posAtStart:z.posAtEnd}return z.localPosFromDOM(O,j)+z.posAtStart}function T5(n,e,t,r,i){let o=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>1.5*n.defaultLineHeight){let u=n.viewState.heightOracle.textHeight;o+=Math.floor((i-t.top-.5*(n.defaultLineHeight-u))/u)*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(t.from,t.to);return t.from+XP(s,o,n.state.tabSize)}function hT(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let r of t.type)if(r.to>e||r.to==e&&(r.to==t.to||r.type==vg.Text))return r}return t}function I5(n,e,t,r){let i=n.state.doc.lineAt(e.head),o=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let u=e,c=null;;){let p=zce(i,o,s,u,t),f=mV;if(!p){if(i.number==(t?n.state.doc.lines:1))return u;f=`
`,i=n.state.doc.line(i.number+(t?1:-1)),o=n.bidiSpans(i),p=n.visualLineSide(i,!t)}if(c){if(!c(f))return u}else{if(!r)return p;c=r(f)}u=p}}function vS(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(o,s,u)=>{if(e>o&&e<s){let c=r||t||(e-o<s-e?-1:1);e=c<0?o:s,r=c}});if(!r)return e}}function zk(n,e,t){let r=vS(n.state.facet(IO).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:cn.cursor(r,r<t.from?1:-1)}const ib="￿";class Kce{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(Dc.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=ib}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==t)break;let u=Pf.get(i),c=Pf.get(s);(u&&c?u.breakAfter:(u?u.breakAfter:N_(i))||N_(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o,s=-1,u=1;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),u=this.lineSeparator.length):(o=i.exec(t))&&(s=o.index,u=o[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),u>1)for(let c of this.points)c.node==e&&c.pos>this.text.length&&(c.pos-=u-1);r=s+u}}readNode(e){if(e.cmIgnore)return;let t=Pf.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Gce(e,r.node,r.offset)?t:0))}}function Gce(n,e,t){for(;;){if(!e||t<U0(e))return!1;if(e==n)return!0;t=vy(e)+1,e=e.parentNode}}class O5{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Yce{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let u=o||s?[]:function(f){let g=[];if(f.root.activeElement!=f.contentDOM)return g;let{anchorNode:y,anchorOffset:b,focusNode:_,focusOffset:M}=f.observer.selectionRange;return y&&(g.push(new O5(y,b)),_==y&&M==b||g.push(new O5(_,M))),g}(e),c=new Kce(u,e.state);c.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=c.text,this.newSel=function(f,g){if(f.length==0)return null;let y=f[0].pos,b=f.length==2?f[1].pos:y;return y>-1&&b>-1?cn.single(y+g,b+g):null}(u,this.bounds.from)}else{let u=e.observer.selectionRange,c=o&&o.node==u.focusNode&&o.offset==u.focusOffset||!ZP(e.contentDOM,u.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(u.focusNode,u.focusOffset),p=s&&s.node==u.anchorNode&&s.offset==u.anchorOffset||!ZP(e.contentDOM,u.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(u.anchorNode,u.anchorOffset),f=e.viewport;if((ni.ios||ni.chrome)&&e.state.selection.main.empty&&c!=p&&(f.from>0||f.to<e.state.doc.length)){let g=Math.min(c,p),y=Math.max(c,p),b=f.from-g,_=f.to-y;b!=0&&b!=1&&g!=0||_!=0&&_!=-1&&y!=e.state.doc.length||(c=0,p=e.state.doc.length)}this.newSel=cn.single(p,c)}}}function TV(n,e){let t,{newSel:r}=e,i=n.state.selection.main,o=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:u}=e.bounds,c=i.from,p=null;(o===8||ni.android&&e.text.length<u-s)&&(c=i.to,p="end");let f=function(y,b,_,M){let F=Math.min(y.length,b.length),O=0;for(;O<F&&y.charCodeAt(O)==b.charCodeAt(O);)O++;if(O==F&&y.length==b.length)return null;let j=y.length,z=b.length;for(;j>0&&z>0&&y.charCodeAt(j-1)==b.charCodeAt(z-1);)j--,z--;return M=="end"&&(_-=j+Math.max(0,O-Math.min(j,z))-O),j<O&&y.length<b.length?(O-=_<=O&&_>=j?O-_:0,z=O+(z-j),j=O):z<O&&(O-=_<=O&&_>=z?O-_:0,j=O+(j-z),z=O),{from:O,toA:j,toB:z}}(n.state.doc.sliceString(s,u,ib),e.text,c-s,p);f&&(ni.chrome&&o==13&&f.toB==f.from+2&&e.text.slice(f.from,f.toB)==ib+ib&&f.toB--,t={from:s+f.from,to:s+f.toA,insert:Cc.of(e.text.slice(f.from,f.toB).split(ib))})}else r&&(!n.hasFocus&&n.state.facet(Ld)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:(ni.mac||ni.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=cn.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Cc.of([" "])}):ni.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=cn.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:Cc.of([" "])}),t)return OO(n,t,r,o);if(r&&!r.main.eq(i)){let s=!1,u="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),u=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:u}),!0}return!1}function OO(n,e,t,r=-1){if(ni.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(ni.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&A1(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&A1(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&A1(n.contentDOM,"Delete",46)))return!0;let o,s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let u=()=>o||(o=function(p,f,g){let y,b=p.state,_=b.selection.main;if(f.from>=_.from&&f.to<=_.to&&f.to-f.from>=(_.to-_.from)/3&&(!g||g.main.empty&&g.main.from==f.from+f.insert.length)&&p.inputState.composing<0){let F=_.from<f.from?b.sliceDoc(_.from,f.from):"",O=_.to>f.to?b.sliceDoc(f.to,_.to):"";y=b.replaceSelection(p.state.toText(F+f.insert.sliceString(0,void 0,p.state.lineBreak)+O))}else{let F=b.changes(f),O=g&&g.main.to<=F.newLength?g.main:void 0;if(b.selection.ranges.length>1&&p.inputState.composing>=0&&f.to<=_.to&&f.to>=_.to-10){let j,z=p.state.sliceDoc(f.from,f.to),W=g&&PV(p,g.main.head);if(W){let Q=f.insert.length-(f.to-f.from);j={from:W.from,to:W.to-Q}}else j=p.state.doc.lineAt(_.head);let J=_.to-f.to,G=_.to-_.from;y=b.changeByRange(Q=>{if(Q.from==_.from&&Q.to==_.to)return{changes:F,range:O||Q.map(F)};let te=Q.to-J,ae=te-z.length;if(Q.to-Q.from!=G||p.state.sliceDoc(ae,te)!=z||Q.to>=j.from&&Q.from<=j.to)return{range:Q};let se=b.changes({from:ae,to:te,insert:f.insert}),ge=Q.to-_.to;return{changes:se,range:O?cn.range(Math.max(0,O.anchor+ge),Math.max(0,O.head+ge)):Q.map(se)}})}else y={changes:F,selection:O&&b.selection.replaceRange(O)}}let M="input.type";return(p.composing||p.inputState.compositionPendingChange&&p.inputState.compositionEndedAt>Date.now()-50)&&(p.inputState.compositionPendingChange=!1,M+=".compose",p.inputState.compositionFirstChange&&(M+=".start",p.inputState.compositionFirstChange=!1)),b.update(y,{userEvent:M,scrollIntoView:!0})}(n,e,t));return n.state.facet(bV).some(c=>c(n,e.from,e.to,s,u))||n.dispatch(u()),!0}class Jce{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ni.safari&&e.contentDOM.addEventListener("input",()=>null),ni.gecko&&function(r){V5.has(r)||(V5.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}(e.contentDOM.ownerDocument)}handleEvent(e){(function(r,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let o,s=i.target;s!=r.contentDOM;s=s.parentNode)if(!s||s.nodeType==11||(o=Pf.get(s))&&o.ignoreEvent(i))return!1;return!0})(this.view,e)&&!this.ignoreDuringComposition(e)&&(e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=Xce(e),r=this.handlers,i=this.view.contentDOM;for(let o in t)if(o!="scroll"){let s=!t[o].handlers.length,u=r[o];u&&s!=!u.handlers.length&&(i.removeEventListener(o,this.handleEvent),u=null),u||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o=="scroll"||t[o]||i.removeEventListener(o,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&OV.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ni.android&&ni.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return!ni.ios||e.synthetic||e.altKey||e.metaKey||!((t=IV.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Qce.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(e.keyCode!=229&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(e){let t=this.pendingIOSKey;return!!t&&!(t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString()))&&(this.pendingIOSKey=void 0,A1(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return!!/^key/.test(e.type)&&(this.composing>0||!!(ni.safari&&!ni.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function N5(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){Bg(t.state,i)}}}function Xce(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&t(o).handlers.push(N5(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&t(o).observers.push(N5(r.value,s))}}for(let r in Ym)t(r).handlers.push(Ym[r]);for(let r in dm)t(r).observers.push(dm[r]);return e}const IV=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Qce="dthko",OV=[16,17,18,20,91,92,224,225];function QD(n){return .7*Math.max(0,n)+8}class Zce{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=function(u){let c,p,f=u.ownerDocument;for(let g=u.parentNode;g&&!(g==f.body||c&&p);)if(g.nodeType==1)!p&&g.scrollHeight>g.clientHeight&&(p=g),!c&&g.scrollWidth>g.clientWidth&&(c=g),g=g.assignedSlot||g.parentNode;else{if(g.nodeType!=11)break;g=g.host}return{x:c,y:p}}(e.contentDOM),this.atoms=e.state.facet(IO).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(Dc.allowMultipleSelections)&&function(u,c){let p=u.state.facet(dV);return p.length?p[0](c):ni.mac?c.metaKey:c.ctrlKey}(e,t),this.dragging=!(!function(u,c){let{main:p}=u.state.selection;if(p.empty)return!1;let f=ax(u.root);if(!f||f.rangeCount==0)return!0;let g=f.getRangeAt(0).getClientRects();for(let y=0;y<g.length;y++){let b=g[y];if(b.left<=c.clientX&&b.right>=c.clientX&&b.top<=c.clientY&&b.bottom>=c.clientY)return!0}return!1}(e,t)||BV(t)!=1)&&null}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&function(f,g){return Math.max(Math.abs(f.clientX-g.clientX),Math.abs(f.clientY-g.clientY))}(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,o=0,s=this.view.win.innerWidth,u=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:u}=this.scrollParents.y.getBoundingClientRect());let c=FV(this.view);e.clientX-c.left<=i+6?t=-QD(i-e.clientX):e.clientX+c.right>=s-6&&(t=QD(e.clientX-s)),e.clientY-c.top<=o+6?r=-QD(o-e.clientY):e.clientY+c.bottom>=u-6&&(r=QD(e.clientY-u)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=vS(this.atoms,i.from,0);s!=i.from&&(o=cn.cursor(s,-1))}else{let s=vS(this.atoms,i.from,-1),u=vS(this.atoms,i.to,1);s==i.from&&u==i.to||(o=cn.range(i.from==i.anchor?s:u,i.from==i.head?s:u))}o&&(t||(t=e.ranges.slice()),t[r]=o)}return t?cn.create(t,e.mainIndex):e}select(e){let{view:t}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));!this.mustSelect&&r.eq(t.state.selection,this.dragging===!1)||this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}const Ym=Object.create(null),dm=Object.create(null),NV=ni.ie&&ni.ie_version<15||ni.ios&&ni.webkit_version<604;function qE(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function B5(n,e){e=qE(n.state,FO,e);let t,{state:r}=n,i=1,o=r.toText(e),s=o.lines==r.selection.ranges.length;if(pT!=null&&r.selection.ranges.every(c=>c.empty)&&pT==o.toString()){let c=-1;t=r.changeByRange(p=>{let f=r.doc.lineAt(p.from);if(f.from==c)return{range:p};c=f.from;let g=r.toText((s?o.line(i++).text:e)+r.lineBreak);return{changes:{from:f.from,insert:g},range:cn.cursor(p.from+g.length)}})}else t=s?r.changeByRange(c=>{let p=o.line(i++);return{changes:{from:c.from,to:c.to,insert:p.text},range:cn.cursor(c.from+p.length)}}):r.replaceSelection(o);n.dispatch(t,{userEvent:"input.paste",scrollIntoView:!0})}function R5(n,e,t,r){if(r==1)return cn.cursor(e,t);if(r==2)return function(o,s,u=1){let c=o.charCategorizer(s),p=o.doc.lineAt(s),f=s-p.from;if(p.length==0)return cn.cursor(s);f==0?u=1:f==p.length&&(u=-1);let g=f,y=f;u<0?g=zp(p.text,f,!1):y=zp(p.text,f);let b=c(p.text.slice(g,y));for(;g>0;){let _=zp(p.text,g,!1);if(c(p.text.slice(_,g))!=b)break;g=_}for(;y<p.length;){let _=zp(p.text,y);if(c(p.text.slice(y,_))!=b)break;y=_}return cn.range(g+p.from,y+p.from)}(n.state,e,t);{let i=Gh.find(n.docView,e),o=n.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,u=i?i.posAtEnd:o.to;return u<n.state.doc.length&&u==o.to&&u++,cn.range(s,u)}}dm.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft},Ym.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1),dm.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},dm.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},Ym.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(yV))if(t=r(n,e),t)break;if(t||e.button!=0||(t=function(i,o){let s=L5(i,o),u=BV(o),c=i.state.selection;return{update(p){p.docChanged&&(s.pos=p.changes.mapPos(s.pos),c=c.map(p.changes))},get(p,f,g){let y,b=L5(i,p),_=R5(i,b.pos,b.bias,u);if(s.pos!=b.pos&&!f){let M=R5(i,s.pos,s.bias,u),F=Math.min(M.from,_.from),O=Math.max(M.to,_.to);_=F<_.from?cn.range(F,O):cn.range(O,F)}return f?c.replaceRange(c.main.extend(_.from,_.to)):g&&u==1&&c.ranges.length>1&&(y=function(F,O){for(let j=0;j<F.ranges.length;j++){let{from:z,to:W}=F.ranges[j];if(z<=O&&W>=O)return cn.create(F.ranges.slice(0,j).concat(F.ranges.slice(j+1)),F.mainIndex==j?0:F.mainIndex-(F.mainIndex>j?1:0))}return null}(c,b.pos))?y:g?c.addRange(_):cn.create([_])}}}(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new Zce(n,e,t,r)),r&&n.observer.ignore(()=>{QH(n.contentDOM);let o=n.root.activeElement;o&&!o.contains(n.contentDOM)&&o.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};let j5=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function efe(n,e,t,r){let i=Gh.find(n.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&j5(t,r,s))return-1;let u=i.coordsAt(o,1);return u&&j5(t,r,u)?1:s&&s.bottom>=r?-1:1}function L5(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:efe(n,t,e.clientX,e.clientY)}}const tfe=ni.ie&&ni.ie_version<=11;let $5=null,z5=0,U5=0;function BV(n){if(!tfe)return n.detail;let e=$5,t=U5;return $5=n,U5=Date.now(),z5=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(z5+1)%3:1}function W5(n,e,t,r){if(!(t=qE(n.state,FO,t)))return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=n.inputState,s=r&&o&&function(f,g){let y=f.state.facet(vV);return y.length?y[0](g):ni.mac?!g.altKey:!g.ctrlKey}(n,e)?{from:o.from,to:o.to}:null,u={from:i,insert:t},c=n.state.changes(s?[s,u]:u);n.focus(),n.dispatch({changes:c,selection:{anchor:c.mapPos(i,-1),head:c.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Ym.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=t.to||s<=t.from)&&(t=cn.range(o,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",qE(n.state,PO,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1},Ym.dragend=n=>(n.inputState.draggedContent=null,!1),Ym.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,o=()=>{++i==t.length&&W5(n,e,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<t.length;s++){let u=new FileReader;u.onerror=o,u.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(u.result)||(r[s]=u.result),o()},u.readAsText(t[s])}return!0}{let r=e.dataTransfer.getData("Text");if(r)return W5(n,e,r,!0),!0}return!1},Ym.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=NV?null:e.clipboardData;return t?(B5(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(function(i){let o=i.dom.parentNode;if(!o)return;let s=o.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{i.focus(),s.remove(),B5(i,s.value)},50)}(n),!1)};let pT=null;Ym.copy=Ym.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=function(u){let c=[],p=[],f=!1;for(let g of u.selection.ranges)g.empty||(c.push(u.sliceDoc(g.from,g.to)),p.push(g));if(!c.length){let g=-1;for(let{from:y}of u.selection.ranges){let b=u.doc.lineAt(y);b.number>g&&(c.push(b.text),p.push({from:b.from,to:Math.min(u.doc.length,b.to+1)})),g=b.number}f=!0}return{text:qE(u,PO,c.join(u.lineBreak)),ranges:p,linewise:f}}(n.state);if(!t&&!i)return!1;pT=i?t:null,e.type!="cut"||n.state.readOnly||n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=NV?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",t),!0):(function(u,c){let p=u.dom.parentNode;if(!p)return;let f=p.appendChild(document.createElement("textarea"));f.style.cssText="position: fixed; left: -10000px; top: 10px",f.value=c,f.focus(),f.selectionEnd=c.length,f.selectionStart=0,setTimeout(()=>{f.remove(),u.focus()},50)}(n,t),!1)};const RV=cd.define();function jV(n,e){let t=[];for(let r of n.facet(xV)){let i=r(n,e);i&&t.push(i)}return t?n.update({effects:t,annotations:RV.of(!0)}):null}function H5(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=jV(n.state,e);t?n.dispatch(t):n.update([])}},10)}dm.focus=n=>{n.inputState.lastFocusTime=Date.now(),n.scrollDOM.scrollTop||!n.inputState.lastScrollTop&&!n.inputState.lastScrollLeft||(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),H5(n)},dm.blur=n=>{n.observer.clearSelectionRange(),H5(n)},dm.compositionstart=dm.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))},dm.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ni.chrome&&ni.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))},dm.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},Ym.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let o=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let u=s[0],c=n.posAtDOM(u.startContainer,u.startOffset),p=n.posAtDOM(u.endContainer,u.endOffset);return OO(n,{from:c,to:p,insert:n.state.toText(o)},null),!0}}let i;if(ni.chrome&&ni.android&&(i=IV.find(o=>o.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ni.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),ni.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>dm.compositionend(n,e),20),!1};const V5=new Set,q5=["pre-wrap","normal","pre-line","break-spaces"];let X1=!1;function K5(){X1=!1}class nfe{constructor(e){this.lineWrapping=e,this.doc=Cc.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return q5.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(t=!0,this.heightSamples[Math.floor(10*i)]=!0)}return t}refresh(e,t,r,i,o,s){let u=q5.indexOf(e)>-1,c=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=u;if(this.lineWrapping=u,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=o,c){this.heightSamples={};for(let p=0;p<s.length;p++){let f=s[p];f<0?p++:this.heightSamples[Math.floor(10*f)]=!0}}return c}}class rfe{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class A0{constructor(e,t,r,i,o){this.from=e,this.length=t,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?vg.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof bv?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new A0(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var sh=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(sh||(sh={}));const yS=.001;class yg{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(e){this.flags=(e?2:0)|-3&this.flags}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>yS&&(X1=!0),this.height=e)}replace(e,t,r){return yg.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let o=this,s=r.doc;for(let u=i.length-1;u>=0;u--){let{fromA:c,toA:p,fromB:f,toB:g}=i[u],y=o.lineAt(c,sh.ByPosNoHeight,r.setDoc(t),0,0),b=y.to>=p?y:o.lineAt(p,sh.ByPosNoHeight,r,0,0);for(g+=b.to-p,p=b.to;u>0&&y.from<=i[u-1].toA;)c=i[u-1].fromA,f=i[u-1].fromB,u--,c<y.from&&(y=o.lineAt(c,sh.ByPosNoHeight,r,0,0));f+=y.from-c,c=y.from;let _=NO.build(r.setDoc(s),e,f,g);o=j_(o,o.replace(c,p,_))}return o.updateHeight(r,0)}static empty(){return new Jg(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,o=0;for(;;)if(t==r)if(i>2*o){let u=e[t-1];u.break?e.splice(--t,1,u.left,null,u.right):e.splice(--t,1,u.left,u.right),r+=1+u.break,i-=u.size}else{if(!(o>2*i))break;{let u=e[r];u.break?e.splice(r,1,u.left,null,u.right):e.splice(r,1,u.left,u.right),r+=2+u.break,o-=u.size}}else if(i<o){let u=e[t++];u&&(i+=u.size)}else{let u=e[--r];u&&(o+=u.size)}let s=0;return e[t-1]==null?(s=1,t--):e[t]==null&&(s=1,r++),new ife(yg.of(e.slice(0,t)),s,yg.of(e.slice(r)))}}function j_(n,e){return n==e?n:(n.constructor!=e.constructor&&(X1=!0),e)}yg.prototype.size=1;class LV extends yg{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new A0(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,t,r,i,o,s){e<=o+this.length&&t>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Jg extends LV{constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new A0(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Jg||i instanceof kp&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof kp?i=new Jg(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):yg.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class kp extends yg{constructor(e){super(e,0)}heightMetrics(e,t){let r,i=e.doc.lineAt(t).number,o=e.doc.lineAt(t+this.length).number,s=o-i+1,u=0;if(e.lineWrapping){let c=Math.min(this.height,e.lineHeight*s);r=c/s,this.length>s+1&&(u=(this.height-c)/(this.length-s-1))}else r=this.height/s;return{firstLine:i,lastLine:o,perLine:r,perChar:u}}blockAt(e,t,r,i){let{firstLine:o,lastLine:s,perLine:u,perChar:c}=this.heightMetrics(t,i);if(t.lineWrapping){let p=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),f=t.doc.lineAt(p),g=u+f.length*c,y=Math.max(r,e-g/2);return new A0(f.from,f.length,y,g,0)}{let p=Math.max(0,Math.min(s-o,Math.floor((e-r)/u))),{from:f,length:g}=t.doc.line(o+p);return new A0(f,g,r+u*p,u,0)}}lineAt(e,t,r,i,o){if(t==sh.ByHeight)return this.blockAt(e,r,i,o);if(t==sh.ByPosNoHeight){let{from:b,to:_}=r.doc.lineAt(e);return new A0(b,_-b,0,0,0)}let{firstLine:s,perLine:u,perChar:c}=this.heightMetrics(r,o),p=r.doc.lineAt(e),f=u+p.length*c,g=p.number-s,y=i+u*g+c*(p.from-o-g);return new A0(p.from,p.length,Math.max(i,Math.min(y,i+this.height-f)),f,0)}forEachLine(e,t,r,i,o,s){e=Math.max(e,o),t=Math.min(t,o+this.length);let{firstLine:u,perLine:c,perChar:p}=this.heightMetrics(r,o);for(let f=e,g=i;f<=t;){let y=r.doc.lineAt(f);if(f==e){let _=y.number-u;g+=c*_+p*(e-o-_)}let b=c+p*y.length;s(new A0(y.from,y.length,g,b,0)),g+=b,f=y.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let o=r[r.length-1];o instanceof kp?r[r.length-1]=new kp(o.length+i):r.push(null,new kp(i-1))}if(e>0){let o=r[0];o instanceof kp?r[0]=new kp(e+o.length):r.unshift(new kp(e-1),null)}return yg.of(r)}decomposeLeft(e,t){t.push(new kp(e-1),null)}decomposeRight(e,t){t.push(null,new kp(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let o=t+this.length;if(i&&i.from<=t+this.length&&i.more){let s=[],u=Math.max(t,i.from),c=-1;for(i.from>t&&s.push(new kp(i.from-t-1).updateHeight(e,t));u<=o&&i.more;){let f=e.doc.lineAt(u).length;s.length&&s.push(null);let g=i.heights[i.index++];c==-1?c=g:Math.abs(g-c)>=yS&&(c=-2);let y=new Jg(f,g);y.outdated=!1,s.push(y),u+=f+1}u<=o&&s.push(null,new kp(o-u).updateHeight(e,u));let p=yg.of(s);return(c<0||Math.abs(p.height-this.height)>=yS||Math.abs(c-this.heightMetrics(e,t).perLine)>=yS)&&(X1=!0),j_(this,p)}return(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class ife extends yg{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return 1&this.flags}blockAt(e,t,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,o,i+this.left.length+this.break)}lineAt(e,t,r,i,o){let s=i+this.left.height,u=o+this.left.length+this.break,c=t==sh.ByHeight?e<s:e<u,p=c?this.left.lineAt(e,t,r,i,o):this.right.lineAt(e,t,r,s,u);if(this.break||(c?p.to<u:p.from>u))return p;let f=t==sh.ByPosNoHeight?sh.ByPosNoHeight:sh.ByPos;return c?p.join(this.right.lineAt(u,f,r,s,u)):this.left.lineAt(u,f,r,i,o).join(p)}forEachLine(e,t,r,i,o,s){let u=i+this.left.height,c=o+this.left.length+this.break;if(this.break)e<c&&this.left.forEachLine(e,t,r,i,o,s),t>=c&&this.right.forEachLine(e,t,r,u,c,s);else{let p=this.lineAt(c,sh.ByPos,r,i,o);e<p.from&&this.left.forEachLine(e,p.from-1,r,i,o,s),p.to>=e&&p.from<=t&&s(p),t>p.to&&this.right.forEachLine(p.to+1,t,r,u,c,s)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let u of r)o.push(u);if(e>0&&G5(o,s-1),t<this.length){let u=o.length;this.decomposeRight(t,o),G5(o,u)}return yg.of(o)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?yg.of(this.break?[e,null,t]:[e,t]):(this.left=j_(this.left,e),this.right=j_(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:o,right:s}=this,u=t+o.length+this.break,c=null;return i&&i.from<=t+o.length&&i.more?c=o=o.updateHeight(e,t,r,i):o.updateHeight(e,t,r),i&&i.from<=u+s.length&&i.more?c=s=s.updateHeight(e,u,r,i):s.updateHeight(e,u,r),c?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function G5(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof kp&&(r=n[e+1])instanceof kp&&n.splice(e-1,3,new kp(t.length+1+r.length))}class NO{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Jg?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Jg(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=t-e;r.block?this.addBlock(new LV(s,i,r)):(s||o||i>=5)&&this.addLineDeco(i,o,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Jg(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new kp(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Jg)return e;let t=new Jg(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||t instanceof Jg||this.isCovered?(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Jg(0,-1));let r=e;for(let i of this.nodes)i instanceof Jg&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let o=new NO(r,e);return lc.spans(t,r,i,o,0),o.finish(r)}}class ofe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&oT(e,t,this.changes,5)}}function afe(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,o=Math.max(0,t.left),s=Math.min(i.innerWidth,t.right),u=Math.max(0,t.top),c=Math.min(i.innerHeight,t.bottom);for(let p=n.parentNode;p&&p!=r.body;)if(p.nodeType==1){let f=p,g=window.getComputedStyle(f);if((f.scrollHeight>f.clientHeight||f.scrollWidth>f.clientWidth)&&g.overflow!="visible"){let y=f.getBoundingClientRect();o=Math.max(o,y.left),s=Math.min(s,y.right),u=Math.max(u,y.top),c=Math.min(p==n.parentNode?i.innerHeight:c,y.bottom)}p=g.position=="absolute"||g.position=="fixed"?f.offsetParent:f.parentNode}else{if(p.nodeType!=11)break;p=p.host}return{left:o-t.left,right:Math.max(o,s)-t.left,top:u-(t.top+e),bottom:Math.max(u,c)-(t.top+e)}}function sfe(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Uk{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,t){return ka.replace({widget:new ufe(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class ufe extends _v{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Y5{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=J5,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=lh.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(TO).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new nfe(t),this.stateDeco=e.facet(lx).filter(r=>typeof r!="function"),this.heightMap=yg.empty().applyChanges(this.stateDeco,Cc.empty,this.heightOracle.setDoc(e.doc),[new Dm(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ka.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new ZD(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?J5:new BO(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(ob(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(lx).filter(f=>typeof f!="function");let i=e.changedRanges,o=Dm.extendWithRanges(i,function(g,y,b){let _=new ofe;return lc.compare(g,y,b,_,0),_.changes}(r,this.stateDeco,e?e.changes:sp.empty(this.state.doc.length))),s=this.heightMap.height,u=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);K5(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||X1)&&(e.flags|=2),u?(this.scrollAnchorPos=e.changes.mapPos(u.from,-1),this.scrollAnchorHeight=u.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let c=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<c.from||t.range.head>c.to)||!this.viewportIsAppropriate(c))&&(c=this.getViewport(0,t));let p=c.from!=this.viewport.from||c.to!=this.viewport.to;this.viewport=c,e.flags|=this.updateForViewport(),(p||!e.changes.empty||2&e.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(CV)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?lh.RTL:lh.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),u=t.getBoundingClientRect(),c=s||this.mustMeasureContent||this.contentDOMHeight!=u.height;this.contentDOMHeight=u.height,this.mustMeasureContent=!1;let p=0,f=0;if(u.width&&u.height){let{scaleX:W,scaleY:J}=XH(t,u);(W>.005&&Math.abs(this.scaleX-W)>.005||J>.005&&Math.abs(this.scaleY-J)>.005)&&(this.scaleX=W,this.scaleY=J,p|=8,s=c=!0)}let g=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==g&&this.paddingBottom==y||(this.paddingTop=g,this.paddingBottom=y,p|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(c=!0),this.editorWidth=e.scrollDOM.clientWidth,p|=8);let b=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=b&&(this.scrollAnchorHeight=-1,this.scrollTop=b),this.scrolledToBottom=eV(e.scrollDOM);let _=(this.printing?sfe:afe)(t,this.paddingTop),M=_.top-this.pixelViewport.top,F=_.bottom-this.pixelViewport.bottom;this.pixelViewport=_;let O=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(O!=this.inView&&(this.inView=O,O&&(c=!0)),!this.inView&&!this.scrollTarget)return 0;let j=u.width;if(this.contentDOMWidth==j&&this.editorHeight==e.scrollDOM.clientHeight||(this.contentDOMWidth=u.width,this.editorHeight=e.scrollDOM.clientHeight,p|=8),c){let W=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(W)&&(s=!0),s||i.lineWrapping&&Math.abs(j-this.contentDOMWidth)>i.charWidth){let{lineHeight:J,charWidth:G,textHeight:Q}=e.docView.measureTextSize();s=J>0&&i.refresh(o,J,G,Q,j/G,W),s&&(e.docView.minWidth=0,p|=8)}M>0&&F>0?f=Math.max(M,F):M<0&&F<0&&(f=Math.min(M,F)),K5();for(let J of this.viewports){let G=J.from==this.viewport.from?W:e.docView.measureVisibleLineHeights(J);this.heightMap=(s?yg.empty().applyChanges(this.stateDeco,Cc.empty,this.heightOracle,[new Dm(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new rfe(J.from,G))}X1&&(p|=2)}let z=!this.viewportIsAppropriate(this.viewport,f)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return z&&(2&p&&(p|=this.updateScaler()),this.viewport=this.getViewport(f,this.scrollTarget),p|=this.updateForViewport()),(2&p||z)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),p|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),p}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:u}=this,c=new ZD(i.lineAt(s-1e3*r,sh.ByHeight,o,0,0).from,i.lineAt(u+1e3*(1-r),sh.ByHeight,o,0,0).to);if(t){let{head:p}=t.range;if(p<c.from||p>c.to){let f,g=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(p,sh.ByPos,o,0,0);f=t.y=="center"?(y.top+y.bottom)/2-g/2:t.y=="start"||t.y=="nearest"&&p<c.from?y.top:y.bottom-g,c=new ZD(i.lineAt(f-500,sh.ByHeight,o,0,0).from,i.lineAt(f+g+500,sh.ByHeight,o,0,0).to)}}return c}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new ZD(this.heightMap.lineAt(r,sh.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,sh.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,sh.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(t,sh.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:u}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||o>=u+Math.max(10,Math.min(r,250)))&&i>s-2e3&&o<u+2e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new Uk(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=lh.LTR&&!r)return[];let u=[],c=(f,g,y,b)=>{if(g-f<o)return;let _=this.state.selection.main,M=[_.from];_.empty||M.push(_.to);for(let O of M)if(O>f&&O<g)return c(f,O-10,y,b),void c(O+10,g,y,b);let F=function(j,z){for(let W of j)if(z(W))return W}(e,O=>O.from>=y.from&&O.to<=y.to&&Math.abs(O.from-f)<o&&Math.abs(O.to-g)<o&&!M.some(j=>O.from<j&&O.to>j));if(!F){if(g<y.to&&t&&r&&t.visibleRanges.some(j=>j.from<=g&&j.to>=g)){let j=t.moveToLineBoundary(cn.cursor(g),!1,!0).head;j>f&&(g=j)}let O=this.gapSize(y,f,g,b);F=new Uk(f,g,O,r||O<2e6?O:2e6)}u.push(F)},p=f=>{if(f.length<s||f.type!=vg.Text)return;let g=function(F,O,j){let z=[],W=F,J=0;return lc.spans(j,F,O,{span(){},point(G,Q){G>W&&(z.push({from:W,to:G}),J+=G-W),W=Q}},20),W<O&&(z.push({from:W,to:O}),J+=O-W),{total:J,ranges:z}}(f.from,f.to,this.stateDeco);if(g.total<s)return;let y,b,_=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let M,F,O=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(_!=null){let j=tC(g,_),z=((this.visibleBottom-this.visibleTop)/2+O)/f.height;M=j-z,F=j+z}else M=(this.visibleTop-f.top-O)/f.height,F=(this.visibleBottom-f.top+O)/f.height;y=eC(g,M),b=eC(g,F)}else{let M=g.total*this.heightOracle.charWidth,F=i*this.heightOracle.charWidth,O=0;if(M>2e6)for(let G of e)G.from>=f.from&&G.from<f.to&&G.size!=G.displaySize&&G.from*this.heightOracle.charWidth+O<this.pixelViewport.left&&(O=G.size-G.displaySize);let j,z,W=this.pixelViewport.left+O,J=this.pixelViewport.right+O;if(_!=null){let G=tC(g,_),Q=((J-W)/2+F)/M;j=G-Q,z=G+Q}else j=(W-F)/M,z=(J+F)/M;y=eC(g,j),b=eC(g,z)}y>f.from&&c(f.from,y,f,g),b<f.to&&c(b,f.to,f,g)};for(let f of this.viewportLines)Array.isArray(f.type)?f.type.forEach(p):p(f);return u}gapSize(e,t,r,i){let o=tC(i,r)-tC(i,t);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){Uk.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=ka.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];lc.spans(e,this.viewport.from,this.viewport.to,{span(i,o){t.push({from:i,to:o})},point(){}},20);let r=t.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=t[o].from||i.to!=t[o].to);return this.visibleRanges=t,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||ob(this.heightMap.lineAt(e,sh.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||ob(this.heightMap.lineAt(this.scaler.fromDOM(e),sh.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return ob(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class ZD{constructor(e,t){this.from=e,this.to=t}}function eC({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:o,to:s}=e[i],u=s-o;if(r<=u)return o+r;r-=u}}function tC(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}const J5={toDOM:n=>n,fromDOM:n=>n,scale:1,eq(n){return n==this}};class BO{constructor(e,t,r){let i=0,o=0,s=0;this.viewports=r.map(({from:u,to:c})=>{let p=t.lineAt(u,sh.ByPos,e,0,0).top,f=t.lineAt(c,sh.ByPos,e,0,0).bottom;return i+=f-p,{from:u,to:c,top:p,bottom:f,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let u of this.viewports)u.domTop=s+(u.top-o)*this.scale,s=u.domBottom=u.domTop+(u.bottom-u.top),o=u.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let o=t<this.viewports.length?this.viewports[t]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof BO&&this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to)}}function ob(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new A0(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>ob(i,e)):n._content)}const nC=Yr.define({combine:n=>n.join(" ")}),gT=Yr.define({combine:n=>n.indexOf(!0)>-1}),mT=yv.newName(),$V=yv.newName(),zV=yv.newName(),UV={"&light":"."+$V,"&dark":"."+zV};function dT(n,e,t){return new yv(e,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r})}const lfe=dT("."+mT,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},UV),cfe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Wk=ni.ie&&ni.ie_version<=11;class ffe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Bce,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(ni.ie&&ni.ie_version<=11||ni.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||e.constructor.EDIT_CONTEXT===!1||ni.chrome&&ni.chrome_version<126||(this.editContext=new hfe(e),e.state.facet(Ld)&&(e.contentDOM.editContext=this.editContext.editContext)),Wk&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type!="change"&&e.type||e.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Ld)?r.root.activeElement!=this.dom:!dS(this.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);o&&o.ignoreEvent(e)?t||(this.selectionChanged=!1):(ni.ie&&ni.ie_version<=11||ni.android&&ni.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Sb(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=ax(e.root);if(!t)return!1;let r=ni.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&function(s,u){if(u.getComposedRanges){let f=u.getComposedRanges(s.root)[0];if(f)return Q5(s,f)}let c=null;function p(f){f.preventDefault(),f.stopImmediatePropagation(),c=f.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",p,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",p,!0),c?Q5(s,c):null}(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=dS(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&function(s,u){let c=u.focusNode,p=u.focusOffset;if(!c||u.anchorNode!=c||u.anchorOffset!=p)return!1;for(p=Math.min(p,U0(c));;)if(p){if(c.nodeType!=1)return!1;let f=c.childNodes[p-1];f.contentEditable=="false"?p--:(c=f,p=U0(c))}else{if(c==s)return!0;p=vy(c),c=c.parentNode}}(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,cfe),Wk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),Wk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&A1(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}this.delayedAndroidKey&&e!="Enter"||(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),t==-1?{from:t,to:r}=s:(t=Math.min(s.from,t),r=Math.max(s.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&dS(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Yce(this.view,e,t,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=TV(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=X5(t,e.previousSibling||e.target.previousSibling,-1),i=X5(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(Ld)!=e.state.facet(Ld)&&(e.view.contentDOM.editContext=e.state.facet(Ld)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function X5(n,e,t){for(;e;){let r=Pf.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function Q5(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return Sb(s.node,s.offset,i,o)&&([t,r,i,o]=[i,o,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:o}}class hfe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Cc.of(r.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),(o.from!=o.to||o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||OO(e,o,cn.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),u=this.toEditorPos(r.rangeEnd);s<u;s++){let c=e.coordsForChar(s);o=c&&new DOMRect(c.left,c.top,c.right-c.left,c.bottom-c.top)||o||new DOMRect,i.push(o)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,u=o.underlineThickness;if(s!="None"&&u!="None"){let c=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${u=="Thin"?1:2}px`;i.push(ka.mark({attributes:{style:c}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:_V.of(ka.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=ax(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,u,c,p)=>{if(r)return;let f=p.length-(s-o);if(i&&s>=i.to){if(i.from==o&&i.to==s&&i.insert.eq(p))return i=this.pendingContextChange=null,t+=f,void(this.to+=f);i=null,this.revertPending(e.state)}if(o+=t,(s+=t)<=this.from)this.from+=f,this.to+=f;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+p.length>3e4)return void(r=!0);this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),p.toString()),this.to+=f}t+=f}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange;this.applyEdits(e)&&this.rangeIsValid(e.state)?(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state):(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);this.editContext.selectionStart==r&&this.editContext.selectionEnd==i||this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>3e4)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class pi{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||function(o){for(;o;){if(o&&(o.nodeType==9||o.nodeType==11&&o.host))return o;o=o.assignedSlot||o.parentNode}return null}(e.parent)||document,this.viewState=new Y5(e.state||Dc.create(e)),e.scrollTo&&e.scrollTo.is(XD)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(nb).map(i=>new Lk(i));for(let i of this.plugins)i.update(this);this.observer=new ffe(this),this.inputState=new Jce(this),this.inputState.ensureHandlers(this.plugins),this.docView=new A5(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof cp?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t,r=!1,i=!1,o=this.state;for(let y of e){if(y.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=y.state}if(this.destroyed)return void(this.viewState.state=o);let s=this.hasFocus,u=0,c=null;e.some(y=>y.annotation(RV))?(this.inputState.notifiedFocused=s,u=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,c=jV(o,s),c||(u=1));let p=this.observer.delayedAndroidKey,f=null;if(p?(this.observer.clearDelayedAndroidKey(),f=this.observer.readChange(),(f&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(f=null)):this.observer.clear(),o.facet(Dc.phrases)!=this.state.facet(Dc.phrases))return this.setState(o);t=R_.create(this,o,e),t.flags|=u;let g=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(g&&(g=g.map(y.changes)),y.scrollIntoView){let{main:b}=y.state.selection;g=new k1(b.empty?b:cn.cursor(b.head,b.head>b.anchor?-1:1))}for(let b of y.effects)b.is(XD)&&(g=b.value.clip(this.state))}this.viewState.update(t,g),this.bidiCache=L_.update(this.bidiCache,t.changes),t.empty||(this.updatePlugins(t),this.inputState.update(t)),r=this.docView.update(t),this.state.facet(rb)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(r,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(t.startState.facet(nC)!=t.state.facet(nC)&&(this.viewState.mustMeasureContent=!0),(r||i||g||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!t.empty)for(let y of this.state.facet(cT))try{y(t)}catch(b){Bg(this.state,b,"update listener")}(c||f)&&Promise.resolve().then(()=>{c&&this.state==c.startState&&this.dispatch(c),f&&!TV(this,f)&&p.force&&A1(this.contentDOM,p.key,p.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=e);this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Y5(e),this.plugins=e.facet(nb).map(r=>new Lk(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new A5(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(nb),r=e.state.facet(nb);if(t!=r){let i=[];for(let o of r){let s=t.indexOf(o);if(s<0)i.push(new Lk(o));else{let u=this.plugins[s];u.mustUpdate=e,i.push(u)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){Bg(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let u=0;;u++){if(s<0)if(eV(r))o=-1,s=this.viewState.heightMap.height;else{let b=this.viewState.scrollAnchorAt(i);o=b.from,s=b.top}this.updateState=1;let c=this.viewState.measure(this);if(!c&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(u>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let p=[];4&c||([this.measureRequests,p]=[p,this.measureRequests]);let f=p.map(b=>{try{return b.read(this)}catch(_){return Bg(this.state,_),Z5}}),g=R_.create(this,this.state,[]),y=!1;g.flags|=c,t?t.flags|=c:t=g,this.updateState=2,g.empty||(this.updatePlugins(g),this.inputState.update(g),this.updateAttrs(),y=this.docView.update(g),y&&this.docViewUpdate());for(let b=0;b<p.length;b++)if(f[b]!=Z5)try{let _=p[b];_.write&&_.write(f[b],this)}catch(_){Bg(this.state,_)}if(y&&this.docView.updateSelection(!0),!g.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let b=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(b>1||b<-1){i+=b,r.scrollTop=i/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let u of this.state.facet(cT))u(t)}get themeClasses(){return mT+" "+(this.state.facet(gT)?zV:$V)+" "+this.state.facet(nC)}updateAttrs(){let e=eL(this,EV,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Ld)?"true":"false",class:"cm-content",style:`${ni.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),eL(this,TO,t);let r=this.observer.ignore(()=>{let i=iT(this.contentDOM,this.contentAttrs,t),o=iT(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)i.is(pi.announce)&&(t&&(this.announceDOM.textContent=""),t=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=i.value)}mountStyles(){this.styleModules=this.state.facet(rb);let e=this.state.facet(pi.cspNonce);yv.mount(this.root,this.styleModules.concat(lfe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key)return void(this.measureRequests[t]=e)}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return zk(this,e,I5(this,e,t,r))}moveByGroup(e,t){return zk(this,e,I5(this,e,t,r=>function(o,s,u){let c=o.state.charCategorizer(s),p=c(u);return f=>{let g=c(f);return p==xh.Space&&(p=g),p==g}}(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[t?r.length-1:0];return cn.cursor(o.side(t,i)+e.from,o.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return function(o,s,u,c){let p=hT(o,s.head),f=c&&p.type==vg.Text&&(o.lineWrapping||p.widgetLineBreaks)?o.coordsAtPos(s.assoc<0&&s.head>p.from?s.head-1:s.head):null;if(f){let g=o.dom.getBoundingClientRect(),y=o.textDirectionAt(p.from),b=o.posAtCoords({x:u==(y==lh.LTR)?g.right-1:g.left+1,y:(f.top+f.bottom)/2});if(b!=null)return cn.cursor(b,u?-1:1)}return cn.cursor(u?p.to:p.from,u?-1:1)}(this,e,t,r)}moveVertically(e,t,r){return zk(this,e,function(o,s,u,c){let p=s.head,f=u?1:-1;if(p==(u?o.state.doc.length:0))return cn.cursor(p,s.assoc);let g,y=s.goalColumn,b=o.contentDOM.getBoundingClientRect(),_=o.coordsAtPos(p,s.assoc||-1),M=o.documentTop;if(_)y==null&&(y=_.left-b.left),g=f<0?_.top:_.bottom;else{let j=o.viewState.lineBlockAt(p);y==null&&(y=Math.min(b.right-b.left,o.defaultCharacterWidth*(p-j.from))),g=(f<0?j.top:j.bottom)+M}let F=b.left+y,O=c??o.viewState.heightOracle.textHeight>>1;for(let j=0;;j+=10){let z=g+(O+j)*f,W=P5(o,{x:F,y:z},!1,f);if(z<b.top||z>b.bottom||(f<0?W<p:W>p)){let J=o.docView.coordsForChar(W),G=!J||z<J.top?-1:1;return cn.cursor(W,G,void 0,y)}}}(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),P5(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i);return HE(r,o[Kd.find(o,e-i.from,-1,t)].dir==lh.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(DV)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>pfe)return _5(e.length);let t,r=this.textDirectionAt(e.from);for(let o of this.bidiCache)if(o.from==e.from&&o.dir==r&&(o.fresh||gV(o.isolates,t=E5(this,e))))return o.order;t||(t=E5(this,e));let i=function(s,u,c){if(!s)return[new Kd(0,0,u==MO?1:0)];if(u==wy&&!c.length&&!$ce.test(s))return _5(s.length);if(c.length)for(;s.length>Mf.length;)Mf[Mf.length]=256;let p=[],f=u==wy?0:1;return lT(s,f,f,c,0,s.length,p),p}(e.text,r,t);return this.bidiCache.push(new L_(e.from,e.to,r,t,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ni.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{QH(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return XD.of(new k1(typeof e=="number"?cn.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return XD.of(new k1(cn.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Qh.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Qh.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=yv.newName(),i=[nC.of(r),rb.of(dT(`.${r}`,e))];return t&&t.dark&&i.push(gT.of(!0)),i}static baseTheme(e){return Ey.lowest(rb.of(dT("."+mT,e,UV)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Pf.get(r)||Pf.get(e);return((t=i==null?void 0:i.rootView)===null||t===void 0?void 0:t.view)||null}}pi.styleModule=rb,pi.inputHandler=bV,pi.clipboardInputFilter=FO,pi.clipboardOutputFilter=PO,pi.scrollHandler=SV,pi.focusChangeEffect=xV,pi.perLineTextDirection=DV,pi.exceptionSink=wV,pi.updateListener=cT,pi.editable=Ld,pi.mouseSelectionStyle=yV,pi.dragMovesSelection=vV,pi.clickAddsSelectionRange=dV,pi.decorations=lx,pi.outerDecorations=AV,pi.atomicRanges=IO,pi.bidiIsolatedRanges=kV,pi.scrollMargins=MV,pi.darkTheme=gT,pi.cspNonce=Yr.define({combine:n=>n.length?n[0]:""}),pi.contentAttributes=TO,pi.editorAttributes=EV,pi.lineWrapping=pi.contentAttributes.of({class:"cm-lineWrapping"}),pi.announce=su.define();const pfe=4096,Z5={};class L_{constructor(e,t,r,i,o,s){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,t){if(t.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:lh.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir!=i||t.touchesRange(s.from,s.to)||r.push(new L_(t.mapPos(s.from,1),t.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function eL(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(n):o;s&&rT(s,t)}return t}const gfe=ni.mac?"mac":ni.windows?"win":ni.linux?"linux":"key";function rC(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const RO=Yr.define({enables:Ey.default(pi.domEventHandlers({keydown:(n,e)=>HV(WV(e.state),n,e,"editor")}))}),tL=new WeakMap;function WV(n){let e=n.facet(RO),t=tL.get(e);return t||tL.set(e,t=function(i,o=gfe){let s=Object.create(null),u=Object.create(null),c=(f,g)=>{let y=u[f];if(y==null)u[f]=g;else if(y!=g)throw new Error("Key binding "+f+" is used both as a regular binding and as a multi-stroke prefix")},p=(f,g,y,b,_)=>{var M,F;let O=s[f]||(s[f]=Object.create(null)),j=g.split(/ (?!$)/).map(J=>function(Q,te){const ae=Q.split(/-(?!$)/);let se,ge,xe,Pe,Ce=ae[ae.length-1];Ce=="Space"&&(Ce=" ");for(let Me=0;Me<ae.length-1;++Me){const Oe=ae[Me];if(/^(cmd|meta|m)$/i.test(Oe))Pe=!0;else if(/^a(lt)?$/i.test(Oe))se=!0;else if(/^(c|ctrl|control)$/i.test(Oe))ge=!0;else if(/^s(hift)?$/i.test(Oe))xe=!0;else{if(!/^mod$/i.test(Oe))throw new Error("Unrecognized modifier name: "+Oe);te=="mac"?Pe=!0:ge=!0}}return se&&(Ce="Alt-"+Ce),ge&&(Ce="Ctrl-"+Ce),Pe&&(Ce="Meta-"+Ce),xe&&(Ce="Shift-"+Ce),Ce}(J,o));for(let J=1;J<j.length;J++){let G=j.slice(0,J).join(" ");c(G,!0),O[G]||(O[G]={preventDefault:!0,stopPropagation:!1,run:[Q=>{let te=$d={view:Q,prefix:G,scope:f};return setTimeout(()=>{$d==te&&($d=null)},mfe),!0}]})}let z=j.join(" ");c(z,!1);let W=O[z]||(O[z]={preventDefault:!1,stopPropagation:!1,run:((F=(M=O._any)===null||M===void 0?void 0:M.run)===null||F===void 0?void 0:F.slice())||[]});y&&W.run.push(y),b&&(W.preventDefault=!0),_&&(W.stopPropagation=!0)};for(let f of i){let g=f.scope?f.scope.split(" "):["editor"];if(f.any)for(let b of g){let _=s[b]||(s[b]=Object.create(null));_._any||(_._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:M}=f;for(let F in _)_[F].run.push(O=>M(O,vT))}let y=f[o]||f.key;if(y)for(let b of g)p(b,y,f.run,f.preventDefault,f.stopPropagation),f.shift&&p(b,"Shift-"+y,f.shift,f.preventDefault,f.stopPropagation)}return s}(e.reduce((r,i)=>r.concat(i),[]))),t}let $d=null;const mfe=4e3;let vT=null;function HV(n,e,t,r){vT=e;let i=function(F){var O=!(Ice&&F.metaKey&&F.shiftKey&&!F.ctrlKey&&!F.altKey||Oce&&F.shiftKey&&F.key&&F.key.length==1||F.key=="Unidentified")&&F.key||(F.shiftKey?ox:wv)[F.keyCode]||F.key||"Unidentified";return O=="Esc"&&(O="Escape"),O=="Del"&&(O="Delete"),O=="Left"&&(O="ArrowLeft"),O=="Up"&&(O="ArrowUp"),O=="Right"&&(O="ArrowRight"),O=="Down"&&(O="ArrowDown"),O}(e),o=wm(Np(i,0))==i.length&&i!=" ",s="",u=!1,c=!1,p=!1;$d&&$d.view==t&&$d.scope==r&&(s=$d.prefix+" ",OV.indexOf(e.keyCode)<0&&(c=!0,$d=null));let f,g,y=new Set,b=M=>{if(M){for(let F of M.run)if(!y.has(F)&&(y.add(F),F(t)))return M.stopPropagation&&(p=!0),!0;M.preventDefault&&(M.stopPropagation&&(p=!0),c=!0)}return!1},_=n[r];return _&&(b(_[s+rC(i,e,!o)])?u=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ni.windows&&e.ctrlKey&&e.altKey)&&(f=wv[e.keyCode])&&f!=i?(b(_[s+rC(f,e,!0)])||e.shiftKey&&(g=ox[e.keyCode])!=i&&g!=f&&b(_[s+rC(g,e,!1)]))&&(u=!0):o&&e.shiftKey&&b(_[s+rC(i,e,!0)])&&(u=!0),!u&&b(_._any)&&(u=!0)),c&&(u=!0),u&&p&&e.stopPropagation(),vT=null,u}class cx{constructor(e,t,r,i,o){this.className=e,this.left=t,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className==this.className&&(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=nL(e);return[new cx(t,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}return function(o,s,u){if(u.to<=o.viewport.from||u.from>=o.viewport.to)return[];let c=Math.max(u.from,o.viewport.from),p=Math.min(u.to,o.viewport.to),f=o.textDirection==lh.LTR,g=o.contentDOM,y=g.getBoundingClientRect(),b=nL(o),_=g.querySelector(".cm-line"),M=_&&window.getComputedStyle(_),F=y.left+(M?parseInt(M.paddingLeft)+Math.min(0,parseInt(M.textIndent)):0),O=y.right-(M?parseInt(M.paddingRight):0),j=hT(o,c),z=hT(o,p),W=j.type==vg.Text?j:null,J=z.type==vg.Text?z:null;if(W&&(o.lineWrapping||j.widgetLineBreaks)&&(W=rL(o,c,1,W)),J&&(o.lineWrapping||z.widgetLineBreaks)&&(J=rL(o,p,-1,J)),W&&J&&W.from==J.from&&W.to==J.to)return Q(te(u.from,u.to,W));{let se=W?te(u.from,null,W):ae(j,!1),ge=J?te(null,u.to,J):ae(z,!0),xe=[];return(W||j).to<(J||z).from-(W&&J?1:0)||j.widgetLineBreaks>1&&se.bottom+o.defaultLineHeight/2<ge.top?xe.push(G(F,se.bottom,O,ge.top)):se.bottom<ge.top&&o.elementAtHeight((se.bottom+ge.top)/2).type==vg.Text&&(se.bottom=ge.top=(se.bottom+ge.top)/2),Q(se).concat(xe).concat(Q(ge))}function G(se,ge,xe,Pe){return new cx(s,se-b.left,ge-b.top-.01,xe-se,Pe-ge+.01)}function Q({top:se,bottom:ge,horizontal:xe}){let Pe=[];for(let Ce=0;Ce<xe.length;Ce+=2)Pe.push(G(xe[Ce],se,xe[Ce+1],ge));return Pe}function te(se,ge,xe){let Pe=1e9,Ce=-1e9,Me=[];function Oe(Fe,Ne,Ee,Ze,xt){let wt=o.coordsAtPos(Fe,Fe==xe.to?-2:2),Dt=o.coordsAtPos(Ee,Ee==xe.from?2:-2);wt&&Dt&&(Pe=Math.min(wt.top,Dt.top,Pe),Ce=Math.max(wt.bottom,Dt.bottom,Ce),xt==lh.LTR?Me.push(f&&Ne?F:wt.left,f&&Ze?O:Dt.right):Me.push(!f&&Ze?F:Dt.left,!f&&Ne?O:wt.right))}let et=se??xe.from,$e=ge??xe.to;for(let Fe of o.visibleRanges)if(Fe.to>et&&Fe.from<$e)for(let Ne=Math.max(Fe.from,et),Ee=Math.min(Fe.to,$e);;){let Ze=o.state.doc.lineAt(Ne);for(let xt of o.bidiSpans(Ze)){let wt=xt.from+Ze.from,Dt=xt.to+Ze.from;if(wt>=Ee)break;Dt>Ne&&Oe(Math.max(wt,Ne),se==null&&wt<=et,Math.min(Dt,Ee),ge==null&&Dt>=$e,xt.dir)}if(Ne=Ze.to+1,Ne>=Ee)break}return Me.length==0&&Oe(et,se==null,$e,ge==null,o.textDirection),{top:Pe,bottom:Ce,horizontal:Me}}function ae(se,ge){let xe=y.top+(ge?se.top:se.bottom);return{top:xe,bottom:xe,horizontal:[]}}}(e,t,r)}}function nL(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==lh.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function rL(n,e,t,r){let i=n.coordsAtPos(e,2*t);if(!i)return r;let o=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,u=n.posAtCoords({x:o.left+1,y:s}),c=n.posAtCoords({x:o.right-1,y:s});return u==null||c==null?r:{from:Math.max(r.from,Math.min(u,c)),to:Math.min(r.to,Math.max(u,c))}}class dfe{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(wS)!=e.state.facet(wS)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(wS);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;e==this.scaleX&&t==this.scaleY||(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!function(o,s){return o.constructor==s.constructor&&o.eq(s)}(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const wS=Yr.define();function VV(n){return[Qh.define(e=>new dfe(e,n)),wS.of(n)]}const qV=!ni.ios,fx=Yr.define({combine:n=>Y0(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})});function vfe(n={}){return[fx.of(n),yfe,wfe,bfe,CV.of(!0)]}function KV(n){return n.startState.facet(fx)!=n.state.facet(fx)}const yfe=VV({above:!0,markers(n){let{state:e}=n,t=e.facet(fx),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||qV:t.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",u=i.empty?i:cn.cursor(i.head,i.head>i.anchor?-1:1);for(let c of cx.forRange(n,s,u))r.push(c)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=KV(n);return t&&iL(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){iL(e.state,n)},class:"cm-cursorLayer"});function iL(n,e){e.style.animationDuration=n.facet(fx).cursorBlinkRate+"ms"}const wfe=VV({above:!1,markers:n=>n.state.selection.ranges.map(e=>e.empty?[]:cx.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t)),update:(n,e)=>n.docChanged||n.selectionSet||n.viewportChanged||KV(n),class:"cm-selectionLayer"}),yT={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};qV&&(yT[".cm-line"].caretColor=yT[".cm-content"].caretColor="transparent !important");const bfe=Ey.highest(pi.theme(yT)),GV=su.define({map:(n,e)=>n==null?null:e.mapPos(n)}),ab=Hp.define({create:()=>null,update:(n,e)=>(n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(GV)?r.value:t,n))}),xfe=Qh.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(ab);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(ab)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(ab),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(ab)!=n&&this.view.dispatch({effects:GV.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){n.target!=this.view.contentDOM&&this.view.contentDOM.contains(n.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function oL(n,e,t,r,i){e.lastIndex=0;for(let o,s=n.iterRange(t,r),u=t;!s.next().done;u+=s.value.length)if(!s.lineBreak)for(;o=e.exec(s.value);)i(u+o.index,o)}class Dfe{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(u,c,p,f)=>i(f,p,p+u[0].length,u,c);else if(typeof r=="function")this.addMatch=(u,c,p,f)=>{let g=r(u,c,p);g&&f(p,p+u[0].length,g)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(u,c,p,f)=>f(p,p+u[0].length,r)}this.boundary=o,this.maxLength=s}createDeco(e){let t=new vv,r=t.add.bind(t);for(let{from:i,to:o}of function(u,c){let p=u.visibleRanges;if(p.length==1&&p[0].from==u.viewport.from&&p[0].to==u.viewport.to)return p;let f=[];for(let{from:g,to:y}of p)g=Math.max(u.state.doc.lineAt(g).from,g-c),y=Math.min(u.state.doc.lineAt(y).to,y+c),f.length&&f[f.length-1].to>=g?f[f.length-1].to=y:f.push({from:g,to:y});return f}(e,this.maxLength))oL(e.state.doc,this.regexp,i,o,(s,u)=>this.addMatch(u,e,s,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,u,c)=>{c>e.view.viewport.from&&u<e.view.viewport.to&&(r=Math.min(u,r),i=Math.max(c,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),u=Math.min(o.to,i);if(u>s){let c=e.state.doc.lineAt(s),p=c.to<u?e.state.doc.lineAt(u):c,f=Math.max(o.from,c.from),g=Math.min(o.to,p.to);if(this.boundary){for(;s>c.from;s--)if(this.boundary.test(c.text[s-1-c.from])){f=s;break}for(;u<p.to;u++)if(this.boundary.test(p.text[u-p.from])){g=u;break}}let y,b=[],_=(M,F,O)=>b.push(O.range(M,F));if(c==p)for(this.regexp.lastIndex=f-c.from;(y=this.regexp.exec(c.text))&&y.index<g-c.from;)this.addMatch(y,e,y.index+c.from,_);else oL(e.state.doc,this.regexp,f,g,(M,F)=>this.addMatch(F,e,M,_));t=t.update({filterFrom:f,filterTo:g,filter:(M,F)=>M<f||F>g,add:b})}}return t}}const wT=/x/.unicode!=null?"gu":"g",Cfe=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,wT),Sfe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Hk=null;const iC=Yr.define({combine(n){let e=Y0(n,{render:null,specialChars:Cfe,addSpecialChars:null});return(e.replaceTabs=!function(){var r;if(Hk==null&&typeof document<"u"&&document.body){let i=document.body.style;Hk=((r=i.tabSize)!==null&&r!==void 0?r:i.MozTabSize)!=null}return Hk||!1}())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,wT)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,wT)),e}});function _fe(n={}){return[iC.of(n),aL||(aL=Qh.fromClass(class{constructor(e){this.view=e,this.decorations=ka.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(e.state.facet(iC)),this.decorations=this.decorator.createDeco(e)}makeDecorator(e){return new Dfe({regexp:e.specialChars,decoration:(t,r,i)=>{let{doc:o}=r.state,s=Np(t[0],0);if(s==9){let u=o.lineAt(i),c=r.state.tabSize,p=fw(u.text,c,i-u.from);return ka.replace({widget:new Afe((c-p%c)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=ka.replace({widget:new Efe(e,s)}))},boundary:e.replaceTabs?void 0:/[^]/})}update(e){let t=e.state.facet(iC);e.startState.facet(iC)!=t?(this.decorator=this.makeDecorator(t),this.decorations=this.decorator.createDeco(e.view)):this.decorations=this.decorator.updateDeco(e,this.decorations)}},{decorations:e=>e.decorations}))]}let aL=null;class Efe extends _v{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=function(u){return u>=32?"•":u==10?"␤":String.fromCharCode(9216+u)}(this.code),r=e.state.phrase("Control character")+" "+(Sfe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let o=document.createElement("span");return o.textContent=t,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class Afe extends _v{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}const kfe=ka.line({class:"cm-activeLine"}),Mfe=Qh.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(kfe.range(i.from)),e=i.from)}return ka.set(t)}},{decorations:n=>n.decorations}),bT=2e3;function sL(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,o=i>bT?-1:i==r.length?function(u,c){let p=u.coordsAtPos(u.viewport.from);return p?Math.round(Math.abs((p.left-c)/u.defaultCharacterWidth)):-1}(n,e.clientX):fw(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:o,off:i}}function Ffe(n,e){let t=sL(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(t.line).from),s=i.state.doc.lineAt(o);t={line:s.number,col:t.col,off:Math.min(t.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let u=sL(n,i);if(!u)return r;let c=function(f,g,y){let b=Math.min(g.line,y.line),_=Math.max(g.line,y.line),M=[];if(g.off>bT||y.off>bT||g.col<0||y.col<0){let F=Math.min(g.off,y.off),O=Math.max(g.off,y.off);for(let j=b;j<=_;j++){let z=f.doc.line(j);z.length<=O&&M.push(cn.range(z.from+F,z.to+O))}}else{let F=Math.min(g.col,y.col),O=Math.max(g.col,y.col);for(let j=b;j<=_;j++){let z=f.doc.line(j),W=XP(z.text,F,f.tabSize,!0);if(W<0)M.push(cn.cursor(z.to));else{let J=XP(z.text,O,f.tabSize);M.push(cn.range(z.from+W,z.from+J))}}}return M}(n.state,t,u);return c.length?s?cn.create(c.concat(r.ranges)):cn.create(c):r}}:null}const Pfe={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Tfe={style:"cursor: crosshair"};function Ife(n={}){let[e,t]=Pfe[n.key||"Alt"],r=Qh.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){i.keyCode!=e&&t(i)||this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,pi.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?Tfe:null})]}const Iw="-10000px";class YV{constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,t){var r;let i=e.state.facet(this.facet),o=i.filter(c=>c);if(i===this.input){for(let c of this.tooltipViews)c.update&&c.update(e);return!1}let s=[],u=t?[]:null;for(let c=0;c<o.length;c++){let p=o[c],f=-1;if(p){for(let g=0;g<this.tooltips.length;g++){let y=this.tooltips[g];y&&y.create==p.create&&(f=g)}if(f<0)s[c]=this.createTooltipView(p,c?s[c-1]:null),u&&(u[c]=!!p.above);else{let g=s[c]=this.tooltipViews[f];u&&(u[c]=t[f]),g.update&&g.update(e)}}}for(let c of this.tooltipViews)s.indexOf(c)<0&&(this.removeTooltipView(c),(r=c.destroy)===null||r===void 0||r.call(c));return t&&(u.forEach((c,p)=>t[p]=c),t.length=u.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function Ofe(n){let{win:e}=n;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const Vk=Yr.define({combine:n=>{var e,t,r;return{position:ni.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Ofe}}}),uL=new WeakMap,jO=Qh.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(Vk);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new YV(n,LO,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(Vk);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Iw,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),e=1,t=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(ni.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Iw&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,t=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:t}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(Vk).tooltipSpace(this.view),scaleX:e,scaleY:t,makeAbsolute:r}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let u of this.manager.tooltipViews)u.dom.style.position="absolute"}let{editor:t,space:r,scaleX:i,scaleY:o}=n,s=[];for(let u=0;u<this.manager.tooltips.length;u++){let c=this.manager.tooltips[u],p=this.manager.tooltipViews[u],{dom:f}=p,g=n.pos[u],y=n.size[u];if(!g||g.bottom<=Math.max(t.top,r.top)||g.top>=Math.min(t.bottom,r.bottom)||g.right<Math.max(t.left,r.left)-.1||g.left>Math.min(t.right,r.right)+.1){f.style.top=Iw;continue}let b=c.arrow?p.dom.querySelector(".cm-tooltip-arrow"):null,_=b?7:0,M=y.right-y.left,F=(e=uL.get(p))!==null&&e!==void 0?e:y.bottom-y.top,O=p.offset||Nfe,j=this.view.textDirection==lh.LTR,z=y.width>r.right-r.left?j?r.left:r.right-y.width:j?Math.max(r.left,Math.min(g.left-(b?14:0)+O.x,r.right-M)):Math.min(Math.max(r.left,g.left-M+(b?14:0)-O.x),r.right-M),W=this.above[u];!c.strictSide&&(W?g.top-(y.bottom-y.top)-O.y<r.top:g.bottom+(y.bottom-y.top)+O.y>r.bottom)&&W==r.bottom-g.bottom>g.top-r.top&&(W=this.above[u]=!W);let J=(W?g.top-r.top:r.bottom-g.bottom)-_;if(J<F&&p.resize!==!1){if(J<this.view.defaultLineHeight){f.style.top=Iw;continue}uL.set(p,F),f.style.height=(F=J)/o+"px"}else f.style.height&&(f.style.height="");let G=W?g.top-F-_-O.y:g.bottom+_+O.y,Q=z+M;if(p.overlap!==!0)for(let te of s)te.left<Q&&te.right>z&&te.top<G+F&&te.bottom>G&&(G=W?te.top-F-2-_:te.bottom+_+2);if(this.position=="absolute"?(f.style.top=(G-n.parent.top)/o+"px",f.style.left=(z-n.parent.left)/i+"px"):(f.style.top=G/o+"px",f.style.left=z/i+"px"),b){let te=g.left+(j?O.x:-O.x)-(z+14-7);b.style.left=te/i+"px"}p.overlap!==!0&&s.push({left:z,top:G,right:Q,bottom:G+F}),f.classList.toggle("cm-tooltip-above",W),f.classList.toggle("cm-tooltip-below",!W),p.positioned&&p.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Iw}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Nfe={x:0,y:0},LO=Yr.define({enables:[jO,pi.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),$_=Yr.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class KE{static create(e){return new KE(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new YV(e,$_,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Bfe=LO.compute([$_],n=>{let e=n.facet($_);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:KE.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Rfe{constructor(e,t,r,i,o){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,o=1;if(r instanceof qd)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let u=e.coordsAtPos(i);if(!u||t.y<u.top||t.y>u.bottom||t.x<u.left-e.defaultCharacterWidth||t.x>u.right+e.defaultCharacterWidth)return;let c=e.bidiSpans(e.state.doc.lineAt(i)).find(f=>f.from<=i&&f.to>=i),p=c&&c.dir==lh.RTL?-1:1;o=t.x<u.left?-p:p}let s=this.source(e,i,o);if(s!=null&&s.then){let u=this.pending={pos:i};s.then(c=>{this.pending==u&&(this.pending=null,!c||Array.isArray(c)&&!c.length||e.dispatch({effects:this.setHover.of(Array.isArray(c)?c:[c])}))},c=>Bg(e.state,c,"hover tooltip"))}else!s||Array.isArray(s)&&!s.length||e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(jO),t=e?e.manager.tooltips.findIndex(r=>r.create==KE.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!function(u,c){let p,{left:f,right:g,top:y,bottom:b}=u.getBoundingClientRect();if(p=u.querySelector(".cm-tooltip-arrow")){let _=p.getBoundingClientRect();y=Math.min(_.top,y),b=Math.max(_.bottom,b)}return c.clientX>=f-oC&&c.clientX<=g+oC&&c.clientY>=y-oC&&c.clientY<=b+oC}(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,u=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:s;(s==u?this.view.posAtCoords(this.lastMove)==s:function(p,f,g,y,b,_){let M=p.scrollDOM.getBoundingClientRect(),F=p.documentTop+p.documentPadding.top+p.contentHeight;if(M.left>y||M.right<y||M.top>b||Math.min(M.bottom,F)<b)return!1;let O=p.posAtCoords({x:y,y:b},!1);return O>=f&&O<=g}(this.view,s,u,e.clientX,e.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const oC=4;function jfe(n,e={}){let t=su.define(),r=Hp.define({create:()=>[],update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let u of i){let c=o.changes.mapPos(u.pos,-1,mg.TrackDel);if(c!=null){let p=Object.assign(Object.create(null),u);p.pos=c,p.end!=null&&(p.end=o.changes.mapPos(p.end)),s.push(p)}}i=s}for(let s of o.effects)s.is(t)&&(i=s.value),s.is(Lfe)&&(i=[]);return i},provide:i=>$_.from(i)});return{active:r,extension:[r,Qh.define(i=>new Rfe(i,n,r,t,e.hoverTime||300)),Bfe]}}function JV(n,e){let t=n.plugin(jO);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const Lfe=su.define(),lL=Yr.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function hx(n,e){let t=n.plugin(XV),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const XV=Qh.fromClass(class{constructor(n){this.input=n.state.facet(px),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(lL);this.top=new aC(n,!0,e.topContainer),this.bottom=new aC(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(lL);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new aC(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new aC(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(px);if(t!=this.input){let r=t.filter(c=>c),i=[],o=[],s=[],u=[];for(let c of r){let p,f=this.specs.indexOf(c);f<0?(p=c(n.view),u.push(p)):(p=this.panels[f],p.update&&p.update(n)),i.push(p),(p.top?o:s).push(p)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let c of u)c.dom.classList.add("cm-panel"),c.mount&&c.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>pi.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class aC{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=cL(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=cL(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function cL(n){let e=n.nextSibling;return n.remove(),e}const px=Yr.define({enables:XV});class rd extends Yv{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}rd.prototype.elementClass="",rd.prototype.toDOM=void 0,rd.prototype.mapMode=mg.TrackBefore,rd.prototype.startSide=rd.prototype.endSide=-1,rd.prototype.point=!0;const bS=Yr.define(),$fe=Yr.define(),zfe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>lc.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Eb=Yr.define();function Ufe(n){return[QV(),Eb.of(Object.assign(Object.assign({},zfe),n))]}const fL=Yr.define({combine:n=>n.some(e=>e)});function QV(n){return[Wfe]}const Wfe=Qh.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Eb).map(e=>new pL(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(fL),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<.8*(t.to-t.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(fL)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=lc.iter(this.view.state.facet(bS),this.view.viewport.from),r=[],i=this.gutters.map(o=>new Hfe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let u of o.type)if(u.type==vg.Text&&s){xT(t,r,u.from);for(let c of i)c.line(this.view,u,r);s=!1}else if(u.widget)for(let c of i)c.widget(this.view,u)}else if(o.type==vg.Text){xT(t,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Eb),t=n.state.facet(Eb),r=n.docChanged||n.heightChanged||n.viewportChanged||!lc.eq(n.startState.facet(bS),n.state.facet(bS),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let o of t){let s=e.indexOf(o);s<0?i.push(new pL(this.view,o)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>pi.scrollMargins.of(e=>{let t=e.plugin(n);return t&&t.gutters.length!=0&&t.fixed?e.textDirection==lh.LTR?{left:t.dom.offsetWidth*e.scaleX}:{right:t.dom.offsetWidth*e.scaleX}:null})});function hL(n){return Array.isArray(n)?n:[n]}function xT(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Hfe{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=lc.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,o=(t.top-this.height)/e.scaleY,s=t.height/e.scaleY;if(this.i==i.elements.length){let u=new ZV(e,s,o,r);i.elements.push(u),i.dom.appendChild(u.dom)}else i.elements[this.i].update(e,s,o,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];xT(this.cursor,i,t.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,t,i);o&&i.unshift(o);let s=this.gutter;(i.length!=0||s.config.renderEmptyElements)&&this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let o of e.state.facet($fe)){let s=o(e,t.widget,t);s&&(i||(i=[])).push(s)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class pL{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let o,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let c=s.getBoundingClientRect();o=(c.top+c.bottom)/2}else o=i.clientY;let u=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,u,i)&&i.preventDefault()});this.markers=hL(t.markers(e)),t.initialSpacer&&(this.spacer=new ZV(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=hL(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!lc.eq(this.markers,t,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(e)}destroy(){for(let e of this.elements)e.destroy()}}class ZV{constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(s,u){if(s.length!=u.length)return!1;for(let c=0;c<s.length;c++)if(!s[c].compare(u[c]))return!1;return!0}(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let u=s,c=o<t.length?t[o++]:null,p=!1;if(c){let f=c.elementClass;f&&(r+=" "+f);for(let g=s;g<this.markers.length;g++)if(this.markers[g].compare(c)){u=g,p=!0;break}}else u=this.markers.length;for(;s<u;){let f=this.markers[s++];if(f.toDOM){f.destroy(i);let g=i.nextSibling;i.remove(),i=g}}if(!c)break;c.toDOM&&(p?i=i.nextSibling:this.dom.insertBefore(c.toDOM(e),i)),p&&s++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}const Vfe=Yr.define(),qfe=Yr.define(),h1=Yr.define({combine:n=>Y0(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let o=r[i],s=t[i];r[i]=o?(u,c,p)=>o(u,c,p)||s(u,c,p):s}return r}})});class qk extends rd{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function Kk(n,e){return n.state.facet(h1).formatNumber(e,n.state)}const Kfe=Eb.compute([h1],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:e=>e.state.facet(Vfe),lineMarker:(e,t,r)=>r.some(i=>i.toDOM)?null:new qk(Kk(e,e.state.doc.lineAt(t.from).number)),widgetMarker:(e,t,r)=>{for(let i of e.state.facet(qfe)){let o=i(e,t,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(h1)!=e.state.facet(h1),initialSpacer:e=>new qk(Kk(e,gL(e.state.doc.lines))),updateSpacer(e,t){let r=Kk(t.view,gL(t.view.state.doc.lines));return r==e.number?e:new qk(r)},domEventHandlers:n.facet(h1).domEventHandlers}));function Gfe(n={}){return[h1.of(n),QV(),Kfe]}function gL(n){let e=9;for(;e<n;)e=10*e+9;return e}const Yfe=new class extends rd{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Jfe=bS.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(Yfe.range(i)))}return lc.of(e)}),Xfe=1024;let Qfe=0;class Gk{constructor(e,t){this.from=e,this.to=t}}let Kc=class{constructor(e={}){this.id=Qfe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=W0.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};Kc.closedBy=new Kc({deserialize:n=>n.split(" ")}),Kc.openedBy=new Kc({deserialize:n=>n.split(" ")}),Kc.group=new Kc({deserialize:n=>n.split(" ")}),Kc.isolate=new Kc({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),Kc.contextHash=new Kc({perNode:!0}),Kc.lookAhead=new Kc({perNode:!0}),Kc.mounted=new Kc({perNode:!0});class z_{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Kc.mounted.id]}}const Zfe=Object.create(null);let W0=class eq{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):Zfe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new eq(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Kc.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Kc.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}};W0.none=new W0("",Object.create(null),0,8);const sC=new WeakMap,mL=new WeakMap;var Bp;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Bp||(Bp={}));class ag{constructor(e,t,r,i,o){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,u]of o)this.props[typeof s=="number"?s:s.id]=u}}toString(){let e=z_.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new CT(this.topNode,e)}cursorAt(e,t=0,r=0){let i=sC.get(this)||this.topNode,o=new CT(i);return o.moveTo(e,t),sC.set(this,o._tree),o}get topNode(){return new Am(this,0,0,null)}resolve(e,t=0){let r=Ab(sC.get(this)||this.topNode,e,t,!1);return sC.set(this,r),r}resolveInner(e,t=0){let r=Ab(mL.get(this)||this.topNode,e,t,!0);return mL.set(this,r),r}resolveStack(e,t=0){return function(i,o,s){let u=i.resolveInner(o,s),c=null;for(let p=u instanceof Am?u:u.context.parent;p;p=p.parent)if(p.index<0){let f=p.parent;(c||(c=[u])).push(f.resolve(o,s)),p=f}else{let f=z_.get(p.tree);if(f&&f.overlay&&f.overlay[0].from<=o&&f.overlay[f.overlay.length-1].to>=o){let g=new Am(f.tree,f.overlay[0].from+p.from,-1,p);(c||(c=[u])).push(Ab(g,o,s,!1))}}return c?rq(c):u}(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,u=(s&Bp.IncludeAnonymous)>0;for(let c=this.cursor(s|Bp.IncludeAnonymous);;){let p=!1;if(c.from<=o&&c.to>=i&&(!u&&c.type.isAnonymous||t(c)!==!1)){if(c.firstChild())continue;p=!0}for(;p&&r&&(u||!c.type.isAnonymous)&&r(c),!c.nextSibling();){if(!c.parent())return;p=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:ST(W0.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new ag(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new ag(W0.none,t,r,i)))}static build(e){return function(r){var i;let{buffer:o,nodeSet:s,maxBufferLength:u=Xfe,reused:c=[],minRepeatType:p=s.types.length}=r,f=Array.isArray(o)?new $O(o,o.length):o,g=s.types,y=0,b=0;function _(te,ae,se,ge,xe,Pe){let{id:Ce,start:Me,end:Oe,size:et}=f,$e=b,Fe=y;for(;et<0;){if(f.next(),et==-1){let wt=c[Ce];return se.push(wt),void ge.push(Me-te)}if(et==-3)return void(y=Ce);if(et==-4)return void(b=Ce);throw new RangeError(`Unrecognized record size: ${et}`)}let Ne,Ee,Ze=g[Ce],xt=Me-te;if(Oe-Me<=u&&(Ee=z(f.pos-ae,xe))){let wt=new Uint16Array(Ee.size-Ee.skip),Dt=f.pos-Ee.size,rn=wt.length;for(;f.pos>Dt;)rn=W(Ee.start,wt,rn);Ne=new xv(wt,Oe-Ee.start,s),xt=Ee.start-te}else{let wt=f.pos-et;f.next();let Dt=[],rn=[],an=Ce>=p?Ce:-1,un=0,ur=Oe;for(;f.pos>wt;)an>=0&&f.id==an&&f.size>=0?(f.end<=ur-u&&(O(Dt,rn,Me,un,f.end,ur,an,$e,Fe),un=Dt.length,ur=f.end),f.next()):Pe>2500?M(Me,wt,Dt,rn):_(Me,wt,Dt,rn,an,Pe+1);if(an>=0&&un>0&&un<Dt.length&&O(Dt,rn,Me,un,Me,ur,an,$e,Fe),Dt.reverse(),rn.reverse(),an>-1&&un>0){let Fn=F(Ze,Fe);Ne=ST(Ze,Dt,rn,0,Dt.length,0,Oe-Me,Fn,Fn)}else Ne=j(Ze,Dt,rn,Oe-Me,$e-Oe,Fe)}se.push(Ne),ge.push(xt)}function M(te,ae,se,ge){let xe=[],Pe=0,Ce=-1;for(;f.pos>ae;){let{id:Me,start:Oe,end:et,size:$e}=f;if($e>4)f.next();else{if(Ce>-1&&Oe<Ce)break;Ce<0&&(Ce=et-u),xe.push(Me,Oe,et),Pe++,f.next()}}if(Pe){let Me=new Uint16Array(4*Pe),Oe=xe[xe.length-2];for(let et=xe.length-3,$e=0;et>=0;et-=3)Me[$e++]=xe[et],Me[$e++]=xe[et+1]-Oe,Me[$e++]=xe[et+2]-Oe,Me[$e++]=$e;se.push(new xv(Me,xe[2]-Oe,s)),ge.push(Oe-te)}}function F(te,ae){return(se,ge,xe)=>{let Pe,Ce,Me=0,Oe=se.length-1;if(Oe>=0&&(Pe=se[Oe])instanceof ag){if(!Oe&&Pe.type==te&&Pe.length==xe)return Pe;(Ce=Pe.prop(Kc.lookAhead))&&(Me=ge[Oe]+Pe.length+Ce)}return j(te,se,ge,xe,Me,ae)}}function O(te,ae,se,ge,xe,Pe,Ce,Me,Oe){let et=[],$e=[];for(;te.length>ge;)et.push(te.pop()),$e.push(ae.pop()+se-xe);te.push(j(s.types[Ce],et,$e,Pe-xe,Me-Pe,Oe)),ae.push(xe-se)}function j(te,ae,se,ge,xe,Pe,Ce){if(Pe){let Me=[Kc.contextHash,Pe];Ce=Ce?[Me].concat(Ce):[Me]}if(xe>25){let Me=[Kc.lookAhead,xe];Ce=Ce?[Me].concat(Ce):[Me]}return new ag(te,ae,se,ge,Ce)}function z(te,ae){let se=f.fork(),ge=0,xe=0,Pe=0,Ce=se.end-u,Me={size:0,start:0,skip:0};e:for(let Oe=se.pos-te;se.pos>Oe;){let et=se.size;if(se.id==ae&&et>=0){Me.size=ge,Me.start=xe,Me.skip=Pe,Pe+=4,ge+=4,se.next();continue}let $e=se.pos-et;if(et<0||$e<Oe||se.start<Ce)break;let Fe=se.id>=p?4:0,Ne=se.start;for(se.next();se.pos>$e;){if(se.size<0){if(se.size!=-3)break e;Fe+=4}else se.id>=p&&(Fe+=4);se.next()}xe=Ne,ge+=et,Pe+=Fe}return(ae<0||ge==te)&&(Me.size=ge,Me.start=xe,Me.skip=Pe),Me.size>4?Me:void 0}function W(te,ae,se){let{id:ge,start:xe,end:Pe,size:Ce}=f;if(f.next(),Ce>=0&&ge<p){let Me=se;if(Ce>4){let Oe=f.pos-(Ce-4);for(;f.pos>Oe;)se=W(te,ae,se)}ae[--se]=Me,ae[--se]=Pe-te,ae[--se]=xe-te,ae[--se]=ge}else Ce==-3?y=ge:Ce==-4&&(b=ge);return se}let J=[],G=[];for(;f.pos>0;)_(r.start||0,r.bufferStart||0,J,G,-1,0);let Q=(i=r.length)!==null&&i!==void 0?i:J.length?G[0]+J[0].length:0;return new ag(g[r.topID],J.reverse(),G.reverse(),Q)}(e)}}ag.empty=new ag(W0.none,[],[],0);class $O{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new $O(this.buffer,this.index)}}class xv{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return W0.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),r==(e+=4))return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,t,r,i,o){let{buffer:s}=this,u=-1;for(let c=e;c!=t&&!(tq(o,i,s[c+1],s[c+2])&&(u=c,r>0));c=s[c+3]);return u}slice(e,t,r){let i=this.buffer,o=new Uint16Array(t-e),s=0;for(let u=e,c=0;u<t;){o[c++]=i[u++],o[c++]=i[u++]-r;let p=o[c++]=i[u++]-r;o[c++]=i[u++]-e,s=Math.max(s,p)}return new xv(o,s,this.set)}}function tq(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function Ab(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let s=!r&&n instanceof Am&&n.index<0?null:n.parent;if(!s)return n;n=s}let o=r?0:Bp.IgnoreOverlays;if(r)for(let s=n,u=s.parent;u;s=u,u=s.parent)s instanceof Am&&s.index<0&&((i=u.enter(e,t,o))===null||i===void 0?void 0:i.from)!=s.from&&(n=u);for(;;){let s=n.enter(e,t,o);if(!s)return n;n=s}}class nq{cursor(e=0){return new CT(this,e)}getChild(e,t=null,r=null){let i=dL(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return dL(this,e,t,r)}resolve(e,t=0){return Ab(this,e,t,!1)}resolveInner(e,t=0){return Ab(this,e,t,!0)}matchContext(e){return DT(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Am extends nq{constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,o=0){for(let s=this;;){for(let{children:u,positions:c}=s._tree,p=t>0?u.length:-1;e!=p;e+=t){let f=u[e],g=c[e]+s.from;if(tq(i,r,g,g+f.length)){if(f instanceof xv){if(o&Bp.ExcludeBuffers)continue;let y=f.findChild(0,f.buffer.length,t,r-g,i);if(y>-1)return new Gd(new ehe(s,f,e,g),null,y)}else if(o&Bp.IncludeAnonymous||!f.type.isAnonymous||zO(f)){let y;if(!(o&Bp.IgnoreMounts)&&(y=z_.get(f))&&!y.overlay)return new Am(y.tree,g,e,s);let b=new Am(f,g,e,s);return o&Bp.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(t<0?f.children.length-1:0,t,r,i)}}}if(o&Bp.IncludeAnonymous||!s.type.isAnonymous||(e=s.index>=0?s.index+t:t<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&Bp.IgnoreOverlays)&&(i=z_.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:u}of i.overlay)if((t>0?s<=o:s<o)&&(t<0?u>=o:u>o))return new Am(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function dL(n,e,t,r){let i=n.cursor(),o=[];if(!i.firstChild())return o;if(t!=null){for(let s=!1;!s;)if(s=i.type.is(t),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function DT(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class ehe{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Gd extends nq{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return o<0?null:new Gd(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&Bp.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return o<0?null:new Gd(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Gd(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Gd(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),t.push(0)}return new ag(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function rq(n){if(!n.length)return null;let e=0,t=n[0];for(let o=1;o<n.length;o++){let s=n[o];(s.from>t.from||s.to<t.to)&&(t=s,e=o)}let r=t instanceof Am&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new the(i,t)}class the{constructor(e,t){this.heads=e,this.node=t}get next(){return rq(this.heads)}}class CT{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Am)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return!!e&&(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0)}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return!!e&&(e instanceof Am?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return!(o<0)&&(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?!(r&Bp.ExcludeBuffers)&&this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bp.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Bp.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode));let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let o=t+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let u=r._tree.children[o];if(this.mode&Bp.IncludeAnonymous||u instanceof xv||!u.type.isAnonymous||zO(u))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;t=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)t=new Gd(this.buffer,t,this.stack[i]);return this.bufferNode=new Gd(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return DT(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return DT(this._tree,e,i);let s=r[t.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function zO(n){return n.children.some(e=>e instanceof xv||!e.type.isAnonymous||zO(e))}const vL=new WeakMap;function xS(n,e){if(!n.isAnonymous||e instanceof xv||e.type!=n)return 1;let t=vL.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof ag)){t=1;break}t+=xS(n,r)}vL.set(e,t)}return t}function ST(n,e,t,r,i,o,s,u,c){let p=0;for(let b=r;b<i;b++)p+=xS(n,e[b]);let f=Math.ceil(1.5*p/8),g=[],y=[];return function b(_,M,F,O,j){for(let z=F;z<O;){let W=z,J=M[z],G=xS(n,_[z]);for(z++;z<O;z++){let Q=xS(n,_[z]);if(G+Q>=f)break;G+=Q}if(z==W+1){if(G>f){let Q=_[W];b(Q.children,Q.positions,0,Q.children.length,M[W]+j);continue}g.push(_[W])}else{let Q=M[z-1]+_[z-1].length-J;g.push(ST(n,_,M,W,z,J,Q,null,c))}y.push(J+j-o)}}(e,t,r,i,0),(u||c)(g,y,s)}class ny{constructor(e,t,r,i,o=!1,s=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(e,t=[],r=!1){let i=[new ny(0,e.length,e,0,!1,r)];for(let o of t)o.to>e.length&&i.push(o);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let u=0,c=0,p=0;;u++){let f=u<t.length?t[u]:null,g=f?f.fromA:1e9;if(g-c>=r)for(;s&&s.from<g;){let y=s;if(c>=y.from||g<=y.to||p){let b=Math.max(y.from,c)-p,_=Math.min(y.to,g)-p;y=b>=_?null:new ny(b,_,y.tree,y.offset+p,u>0,!!f)}if(y&&i.push(y),s.to>g)break;s=o<e.length?e[o++]:null}if(!f)break;c=f.toA,p=f.toA-f.toB}return i}}class nhe{startParse(e,t,r){return typeof e=="string"&&(e=new rhe(e)),r=r?r.length?r.map(i=>new Gk(i.from,i.to)):[new Gk(0,0)]:[new Gk(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let o=i.advance();if(o)return o}}}class rhe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new Kc({perNode:!0});let ihe=0,rp=class{constructor(e={}){this.id=ihe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=_T.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}};rp.closedBy=new rp({deserialize:n=>n.split(" ")}),rp.openedBy=new rp({deserialize:n=>n.split(" ")}),rp.group=new rp({deserialize:n=>n.split(" ")}),rp.isolate=new rp({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),rp.contextHash=new rp({perNode:!0}),rp.lookAhead=new rp({perNode:!0}),rp.mounted=new rp({perNode:!0});const ohe=Object.create(null);let _T=class iq{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):ohe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new iq(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(rp.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(rp.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}};var yL;_T.none=new _T("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(yL||(yL={})),new rp({perNode:!0});let ahe=0;class vm{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=ahe++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof vm&&(t=e),t==null?void 0:t.base)throw new Error("Can not derive from a modified tag");let i=new vm(r,[],null,[]);if(i.set.push(i),t)for(let o of t.set)i.set.push(o);return i}static defineModifier(e){let t=new U_(e);return r=>r.modified.indexOf(t)>-1?r:U_.get(r.base||r,r.modified.concat(t).sort((i,o)=>i.id-o.id))}}let she=0;class U_{constructor(e){this.name=e,this.instances=[],this.id=she++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(u=>u.base==e&&function(p,f){return p.length==f.length&&p.every((g,y)=>g==f[y])}(t,u.modified));if(r)return r;let i=[],o=new vm(e.name,i,e,t);for(let u of t)u.instances.push(o);let s=function(c){let p=[[]];for(let f=0;f<c.length;f++)for(let g=0,y=p.length;g<y;g++)p.push(p[g].concat(c[f]));return p.sort((f,g)=>g.length-f.length)}(t);for(let u of e.set)if(!u.modified.length)for(let c of s)i.push(U_.get(u,c));return o}}function uhe(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let o=[],s=2,u=i;for(let g=0;;){if(u=="..."&&g>0&&g+3==i.length){s=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(u);if(!y)throw new RangeError("Invalid path: "+i);if(o.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),g+=y[0].length,g==i.length)break;let b=i[g++];if(g==i.length&&b=="!"){s=0;break}if(b!="/")throw new RangeError("Invalid path: "+i);u=i.slice(g)}let c=o.length-1,p=o[c];if(!p)throw new RangeError("Invalid path: "+i);let f=new W_(r,s,c>0?o.slice(0,c):null);e[p]=f.sort(e[p])}}return oq.add(e)}const oq=new rp;class W_{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function aq(n,e){let t=Object.create(null);for(let o of n)if(Array.isArray(o.tag))for(let s of o.tag)t[s.id]=o.class;else t[o.tag.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let u of o)for(let c of u.set){let p=t[c.id];if(p){s=s?s+" "+p:p;break}}return s},scope:r}}function lhe(n,e,t,r=0,i=n.length){let o=new che(r,Array.isArray(e)?e:[e],t);o.highlightRange(n.cursor(),r,i,"",o.highlighters),o.flush(i)}W_.empty=new W_([],2,null);class che{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,o){let{type:s,from:u,to:c}=e;if(u>=r||c<=t)return;s.isTop&&(o=this.highlighters.filter(b=>!b.scope||b.scope(s)));let p=i,f=function(_){let M=_.type.prop(oq);for(;M&&M.context&&!_.matchContext(M.context);)M=M.next;return M||null}(e)||W_.empty,g=function(_,M){let F=null;for(let O of _){let j=O.style(M);j&&(F=F?F+" "+j:j)}return F}(o,f.tags);if(g&&(p&&(p+=" "),p+=g,f.mode==1&&(i+=(i?" ":"")+g)),this.startSpan(Math.max(t,u),p),f.opaque)return;let y=e.tree&&e.tree.prop(rp.mounted);if(y&&y.overlay){let b=e.node.enter(y.overlay[0].from+u,1),_=this.highlighters.filter(F=>!F.scope||F.scope(y.tree.type)),M=e.firstChild();for(let F=0,O=u;;F++){let j=F<y.overlay.length?y.overlay[F]:null,z=j?j.from+u:c,W=Math.max(t,O),J=Math.min(r,z);if(W<J&&M)for(;e.from<J&&(this.highlightRange(e,W,J,i,o),this.startSpan(Math.min(J,e.to),p),!(e.to>=z)&&e.nextSibling()););if(!j||z>r)break;O=j.to+u,O>t&&(this.highlightRange(b.cursor(),Math.max(t,j.from+u),Math.min(r,O),"",_),this.startSpan(Math.min(r,O),p))}M&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,o),this.startSpan(Math.min(r,e.to),p)}while(e.nextSibling());e.parent()}}}const dr=vm.define,uC=dr(),Pd=dr(),wL=dr(Pd),bL=dr(Pd),Td=dr(),lC=dr(Td),Yk=dr(Td),y0=dr(),Pv=dr(y0),g0=dr(),m0=dr(),ET=dr(),Ow=dr(ET),cC=dr(),Pr={comment:uC,lineComment:dr(uC),blockComment:dr(uC),docComment:dr(uC),name:Pd,variableName:dr(Pd),typeName:wL,tagName:dr(wL),propertyName:bL,attributeName:dr(bL),className:dr(Pd),labelName:dr(Pd),namespace:dr(Pd),macroName:dr(Pd),literal:Td,string:lC,docString:dr(lC),character:dr(lC),attributeValue:dr(lC),number:Yk,integer:dr(Yk),float:dr(Yk),bool:dr(Td),regexp:dr(Td),escape:dr(Td),color:dr(Td),url:dr(Td),keyword:g0,self:dr(g0),null:dr(g0),atom:dr(g0),unit:dr(g0),modifier:dr(g0),operatorKeyword:dr(g0),controlKeyword:dr(g0),definitionKeyword:dr(g0),moduleKeyword:dr(g0),operator:m0,derefOperator:dr(m0),arithmeticOperator:dr(m0),logicOperator:dr(m0),bitwiseOperator:dr(m0),compareOperator:dr(m0),updateOperator:dr(m0),definitionOperator:dr(m0),typeOperator:dr(m0),controlOperator:dr(m0),punctuation:ET,separator:dr(ET),bracket:Ow,angleBracket:dr(Ow),squareBracket:dr(Ow),paren:dr(Ow),brace:dr(Ow),content:y0,heading:Pv,heading1:dr(Pv),heading2:dr(Pv),heading3:dr(Pv),heading4:dr(Pv),heading5:dr(Pv),heading6:dr(Pv),contentSeparator:dr(y0),list:dr(y0),quote:dr(y0),emphasis:dr(y0),strong:dr(y0),link:dr(y0),monospace:dr(y0),strikethrough:dr(y0),inserted:dr(),deleted:dr(),changed:dr(),invalid:dr(),meta:cC,documentMeta:dr(cC),annotation:dr(cC),processingInstruction:dr(cC),definition:vm.defineModifier("definition"),constant:vm.defineModifier("constant"),function:vm.defineModifier("function"),standard:vm.defineModifier("standard"),local:vm.defineModifier("local"),special:vm.defineModifier("special")};for(let n in Pr){let e=Pr[n];e instanceof vm&&(e.name=n)}var Jk;aq([{tag:Pr.link,class:"tok-link"},{tag:Pr.heading,class:"tok-heading"},{tag:Pr.emphasis,class:"tok-emphasis"},{tag:Pr.strong,class:"tok-strong"},{tag:Pr.keyword,class:"tok-keyword"},{tag:Pr.atom,class:"tok-atom"},{tag:Pr.bool,class:"tok-bool"},{tag:Pr.url,class:"tok-url"},{tag:Pr.labelName,class:"tok-labelName"},{tag:Pr.inserted,class:"tok-inserted"},{tag:Pr.deleted,class:"tok-deleted"},{tag:Pr.literal,class:"tok-literal"},{tag:Pr.string,class:"tok-string"},{tag:Pr.number,class:"tok-number"},{tag:[Pr.regexp,Pr.escape,Pr.special(Pr.string)],class:"tok-string2"},{tag:Pr.variableName,class:"tok-variableName"},{tag:Pr.local(Pr.variableName),class:"tok-variableName tok-local"},{tag:Pr.definition(Pr.variableName),class:"tok-variableName tok-definition"},{tag:Pr.special(Pr.variableName),class:"tok-variableName2"},{tag:Pr.definition(Pr.propertyName),class:"tok-propertyName tok-definition"},{tag:Pr.typeName,class:"tok-typeName"},{tag:Pr.namespace,class:"tok-namespace"},{tag:Pr.className,class:"tok-className"},{tag:Pr.macroName,class:"tok-macroName"},{tag:Pr.propertyName,class:"tok-propertyName"},{tag:Pr.operator,class:"tok-operator"},{tag:Pr.comment,class:"tok-comment"},{tag:Pr.meta,class:"tok-meta"},{tag:Pr.invalid,class:"tok-invalid"},{tag:Pr.punctuation,class:"tok-punctuation"}]);const sb=new Kc,fhe=new Kc;class I0{constructor(e,t,r=[],i=""){this.data=e,this.name=i,Dc.prototype.hasOwnProperty("tree")||Object.defineProperty(Dc.prototype,"tree",{get(){return ug(this)}}),this.parser=t,this.extension=[Dv.of(this),Dc.languageData.of((o,s,u)=>{let c=xL(o,s,u),p=c.type.prop(sb);if(!p)return[];let f=o.facet(p),g=c.type.prop(fhe);if(g){let y=c.resolve(s-c.from,u);for(let b of g)if(b.test(y,o)){let _=o.facet(b.facet);return b.type=="replace"?_:_.concat(f)}}return f})].concat(r)}isActiveAt(e,t,r=-1){return xL(e,t,r).type.prop(sb)==this.data}findRegions(e){let t=e.facet(Dv);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(sb)==this.data)return void r.push({from:s,to:s+o.length});let u=o.prop(Kc.mounted);if(u){if(u.tree.prop(sb)==this.data){if(u.overlay)for(let c of u.overlay)r.push({from:c.from+s,to:c.to+s});else r.push({from:s,to:s+o.length});return}if(u.overlay){let c=r.length;if(i(u.tree,u.overlay[0].from+s),r.length>c)return}}for(let c=0;c<o.children.length;c++){let p=o.children[c];p instanceof ag&&i(p,o.positions[c]+s)}};return i(ug(e),0),r}get allowsNesting(){return!0}}function xL(n,e,t){let r=n.facet(Dv),i=ug(n).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,t,Bp.ExcludeBuffers))o.type.isTop&&(i=o);return i}function ug(n){let e=n.field(I0.state,!1);return e?e.tree:ag.empty}I0.setState=su.define();class hhe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Nw=null;class H_{constructor(e,t,r=[],i,o,s,u,c){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=u,this.scheduleOn=c,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new H_(e,t,[],ag.empty,0,r,[],null)}startParse(){return this.parser.startParse(new hhe(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=ag.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(ny.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(t??this.state.doc.length)))return!0;this.parse=this.startParse()}if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(ny.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Nw;Nw=this;try{return e()}finally{Nw=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=DL(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:u}=this;if(this.takeTree(),!e.empty){let c=[];if(e.iterChangedRanges((p,f,g,y)=>c.push({fromA:p,toA:f,fromB:g,toB:y})),r=ny.applyChanges(r,c),i=ag.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){u=[];for(let p of this.skipped){let f=e.mapPos(p.from,1),g=e.mapPos(p.to,-1);f<g&&u.push({from:f,to:g})}}}return new H_(this.parser,t,r,i,o,s,u,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=DL(this.fragments,i,o),this.skipped.splice(r--,1))}return!(this.skipped.length>=t)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends nhe{createParse(t,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let c=Nw;if(c){for(let p of i)c.tempSkipped.push(p);e&&(c.scheduleOn=c.scheduleOn?Promise.all([c.scheduleOn,e]):e)}return this.parsedPos=s,new ag(W0.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Nw}}function DL(n,e,t){return ny.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class Q1{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new Q1(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=H_.create(e.facet(Dv).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new Q1(r)}}I0.state=Hp.define({create:Q1.init,update(n,e){for(let t of e.effects)if(t.is(I0.setState))return t.value;return e.startState.facet(Dv)!=e.state.facet(Dv)?Q1.init(e.state):n.apply(e)}});let sq=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(sq=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const Xk=typeof navigator<"u"&&(!((Jk=navigator.scheduling)===null||Jk===void 0)&&Jk.isInputPending)?()=>navigator.scheduling.isInputPending():null,phe=Qh.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(I0.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(I0.state);t.tree==t.context.tree&&t.context.isDone(e.doc.length)||(this.working=sq(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(I0.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!Xk?Math.max(25,e.timeRemaining()-5):1e9),u=o.context.treeLen<i&&r.doc.length>i+1e3,c=o.context.work(()=>Xk&&Xk()||Date.now()>s,i+(u?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:I0.setState.of(new Q1(o.context))})),this.chunkBudget>0&&(!c||u)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Bg(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Dv=Yr.define({combine:n=>n.length?n[0]:null,enables:n=>[I0.state,phe,pi.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]}),ghe=Yr.define(),UO=Yr.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function V_(n){let e=n.facet(UO);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function gx(n,e){let t="",r=n.tabSize,i=n.facet(UO)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let o=0;o<e;o++)t+=i;return t}function WO(n,e){n instanceof Dc&&(n=new GE(n));for(let r of n.state.facet(ghe)){let i=r(n,e);if(i!==void 0)return i}let t=ug(n.state);return t.length>=e?function(i,o,s){let u=o.resolveStack(s),c=u.node.enterUnfinishedNodesBefore(s);if(c!=u.node){let p=[];for(let f=c;f!=u.node;f=f.parent)p.push(f);for(let f=p.length-1;f>=0;f--)u={node:p[f],next:u}}return uq(u,i,s)}(n,t,e):null}class GE{constructor(e,t={}){this.state=e,this.options=t,this.unit=V_(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,t=e.length){return fw(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const mhe=new Kc;function uq(n,e,t){for(let r=n;r;r=r.next){let i=dhe(r.node);if(i)return i(HO.create(e,t,r))}return 0}function dhe(n){let e=n.type.prop(mhe);if(e)return e;let t,r=n.firstChild;if(r&&(t=r.type.prop(Kc.closedBy))){let i=n.lastChild,o=i&&t.indexOf(i.name)>-1;return s=>function(c,p,f,g,y){let b=c.textAfter.match(/^\s*/)[0].length,_=y==c.pos+b,M=function(O){let j=O.node,z=j.childAfter(j.from),W=j.lastChild;if(!z)return null;let J=O.options.simulateBreak,G=O.state.doc.lineAt(z.from),Q=J==null||J<=G.from?G.to:Math.min(G.to,J);for(let te=z.to;;){let ae=j.childAfter(te);if(!ae||ae==W)return null;if(!ae.type.isSkipped){if(ae.from>=Q)return null;let se=/^ */.exec(G.text.slice(z.to-G.from))[0].length;return{from:z.from,to:z.to+se}}te=ae.to}}(c);return M?_?c.column(M.from):c.column(M.to):c.baseIndent+(_?0:c.unit*f)}(s,0,1,0,o&&!function(c){return c.pos==c.options.simulateBreak&&c.options.simulateDoubleBreak}(s)?i.from:void 0)}return n.parent==null?vhe:null}function vhe(){return 0}class HO extends GE{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new HO(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(yhe(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return uq(this.context.next,this.base,this.pos)}}function yhe(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}const whe=Yr.define(),bhe=new Kc;function xhe(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function q_(n,e,t){for(let r of n.facet(whe)){let i=r(n,e,t);if(i)return i}return function(i,o,s){let u=ug(i);if(u.length<s)return null;let c=null;for(let p=u.resolveStack(s,1);p;p=p.next){let f=p.node;if(f.to<=s||f.from>s)continue;if(c&&f.from<o)break;let g=f.type.prop(bhe);if(g&&(f.to<u.length-50||u.length==i.doc.length||!xhe(f))){let y=g(f,i);y&&y.from<=s&&y.from>=o&&y.to>s&&(c=y)}}return c}(n,e,t)}function lq(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const K_=su.define({map:lq}),mx=su.define({map:lq});function CL(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const by=Hp.define({create:()=>ka.none,update(n,e){n=n.map(e.changes);for(let t of e.effects)if(t.is(K_)&&!Dhe(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(cq),i=r?ka.replace({widget:new _he(r(e.state,t.value))}):EL;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(mx)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:r}=e.selection.main;n.between(r,r,(i,o)=>{i<r&&o>r&&(t=!0)}),t&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return n},provide:n=>pi.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(EL.range(r,i))}return ka.set(e,!0)}});function G_(n,e,t){var r;let i=null;return(r=n.field(by,!1))===null||r===void 0||r.between(e,t,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function Dhe(n,e,t){let r=!1;return n.between(e,e,(i,o)=>{i==e&&o==t&&(r=!0)}),r}function SL(n,e){return n.field(by,!1)?e:e.concat(su.appendConfig.of(fq()))}function _L(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return pi.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Che=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let e of CL(n)){let t=q_(n.state,e.from,e.to);if(t)return n.dispatch({effects:SL(n.state,[K_.of(t),_L(n,t)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(by,!1))return!1;let e=[];for(let t of CL(n)){let r=G_(n.state,t.from,t.to);r&&e.push(mx.of(r),_L(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),o=q_(e,i.from,i.to);o&&t.push(K_.of(o)),r=(o?n.lineBlockAt(o.to):i).to+1}return t.length&&n.dispatch({effects:SL(n.state,t)}),!!t.length}},{key:"Ctrl-Alt-]",run:n=>{let e=n.state.field(by,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(mx.of({from:r,to:i}))}),n.dispatch({effects:t}),!0}}],She={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},cq=Yr.define({combine:n=>Y0(n,She)});function fq(n){return[by,khe]}function hq(n,e){let{state:t}=n,r=t.facet(cq),i=s=>{let u=n.lineBlockAt(n.posAtDOM(s.target)),c=G_(n.state,u.from,u.to);c&&n.dispatch({effects:mx.of(c)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",t.phrase("folded code")),o.title=t.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const EL=ka.replace({widget:new class extends _v{toDOM(n){return hq(n,null)}}});class _he extends _v{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return hq(e,this.value)}}const Ehe={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class Qk extends rd{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Ahe(n={}){let e=Object.assign(Object.assign({},Ehe),n),t=new Qk(e,!0),r=new Qk(e,!1),i=Qh.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(Dv)!=s.state.facet(Dv)||s.startState.field(by,!1)!=s.state.field(by,!1)||ug(s.startState)!=ug(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let u=new vv;for(let c of s.viewportLineBlocks){let p=G_(s.state,c.from,c.to)?r:q_(s.state,c.from,c.to)?t:null;p&&u.add(c.from,c.from,p)}return u.finish()}}),{domEventHandlers:o}=e;return[i,Ufe({class:"cm-foldGutter",markers(s){var u;return((u=s.plugin(i))===null||u===void 0?void 0:u.markers)||lc.empty},initialSpacer:()=>new Qk(e,!1),domEventHandlers:Object.assign(Object.assign({},o),{click:(s,u,c)=>{if(o.click&&o.click(s,u,c))return!0;let p=G_(s.state,u.from,u.to);if(p)return s.dispatch({effects:mx.of(p)}),!0;let f=q_(s.state,u.from,u.to);return!!f&&(s.dispatch({effects:K_.of(f)}),!0)}})}),fq()]}const khe=pi.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class YE{constructor(e,t){let r;function i(u){let c=yv.newName();return(r||(r=Object.create(null)))["."+c]=u,c}this.specs=e;const o=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,s=t.scope;this.scope=s instanceof I0?u=>u.prop(sb)==s.data:s?u=>u==s:void 0,this.style=aq(e.map(u=>({tag:u.tag,class:u.class||i(Object.assign({},u,{tag:null}))})),{all:o}).style,this.module=r?new yv(r):null,this.themeType=t.themeType}static define(e,t){return new YE(e,t||{})}}const AT=Yr.define(),pq=Yr.define({combine:n=>n.length?[n[0]]:null});function Zk(n){let e=n.facet(AT);return e.length?e:n.facet(pq)}function Mhe(n,e){let t,r=[Phe];return n instanceof YE&&(n.module&&r.push(pi.styleModule.of(n.module)),t=n.themeType),e!=null&&e.fallback?r.push(pq.of(n)):t?r.push(AT.computeN([pi.darkTheme],i=>i.facet(pi.darkTheme)==(t=="dark")?[n]:[])):r.push(AT.of(n)),r}class Fhe{constructor(e){this.markCache=Object.create(null),this.tree=ug(e.state),this.decorations=this.buildDeco(e,Zk(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=ug(e.state),r=Zk(e.state),i=r!=Zk(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);t.length<o.to&&!i&&t.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,t){if(!t||!this.tree.length)return ka.none;let r=new vv;for(let{from:i,to:o}of e.visibleRanges)lhe(this.tree,t,(s,u,c)=>{r.add(s,u,this.markCache[c]||(this.markCache[c]=ka.mark({class:c})))},i,o);return r.finish()}}const Phe=Ey.high(Qh.fromClass(Fhe,{decorations:n=>n.decorations})),The=YE.define([{tag:Pr.meta,color:"#404740"},{tag:Pr.link,textDecoration:"underline"},{tag:Pr.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Pr.emphasis,fontStyle:"italic"},{tag:Pr.strong,fontWeight:"bold"},{tag:Pr.strikethrough,textDecoration:"line-through"},{tag:Pr.keyword,color:"#708"},{tag:[Pr.atom,Pr.bool,Pr.url,Pr.contentSeparator,Pr.labelName],color:"#219"},{tag:[Pr.literal,Pr.inserted],color:"#164"},{tag:[Pr.string,Pr.deleted],color:"#a11"},{tag:[Pr.regexp,Pr.escape,Pr.special(Pr.string)],color:"#e40"},{tag:Pr.definition(Pr.variableName),color:"#00f"},{tag:Pr.local(Pr.variableName),color:"#30a"},{tag:[Pr.typeName,Pr.namespace],color:"#085"},{tag:Pr.className,color:"#167"},{tag:[Pr.special(Pr.variableName),Pr.macroName],color:"#256"},{tag:Pr.definition(Pr.propertyName),color:"#00c"},{tag:Pr.comment,color:"#940"},{tag:Pr.invalid,color:"#f00"}]),Ihe=pi.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),gq="()[]{}",mq=Yr.define({combine:n=>Y0(n,{afterCursor:!0,brackets:gq,maxScanDistance:1e4,renderMatch:Bhe})}),Ohe=ka.mark({class:"cm-matchingBracket"}),Nhe=ka.mark({class:"cm-nonmatchingBracket"});function Bhe(n){let e=[],t=n.matched?Ohe:Nhe;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Rhe=Hp.define({create:()=>ka.none,update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(mq);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=O0(e.state,i.head,-1,r)||i.head>0&&O0(e.state,i.head-1,1,r)||r.afterCursor&&(O0(e.state,i.head,1,r)||i.head<e.state.doc.length&&O0(e.state,i.head+1,-1,r));o&&(t=t.concat(r.renderMatch(o,e.state)))}return ka.set(t,!0)},provide:n=>pi.decorations.from(n)}),jhe=[Rhe,Ihe];function Lhe(n={}){return[mq.of(n),jhe]}const $he=new Kc;function kT(n,e,t){let r=n.prop(e<0?Kc.openedBy:Kc.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function MT(n){let e=n.type.prop($he);return e?e(n.node):n}function O0(n,e,t,r={}){let i=r.maxScanDistance||1e4,o=r.brackets||gq,s=ug(n),u=s.resolveInner(e,t);for(let c=u;c;c=c.parent){let p=kT(c.type,t,o);if(p&&c.from<c.to){let f=MT(c);if(f&&(t>0?e>=f.from&&e<f.to:e>f.from&&e<=f.to))return zhe(n,e,t,c,f,p,o)}}return function(p,f,g,y,b,_,M){let F=g<0?p.sliceDoc(f-1,f):p.sliceDoc(f,f+1),O=M.indexOf(F);if(O<0||O%2==0!=g>0)return null;let j={from:g<0?f-1:f,to:g>0?f+1:f},z=p.doc.iterRange(f,g>0?p.doc.length:0),W=0;for(let J=0;!z.next().done&&J<=_;){let G=z.value;g<0&&(J+=G.length);let Q=f+J*g;for(let te=g>0?0:G.length-1,ae=g>0?G.length:-1;te!=ae;te+=g){let se=M.indexOf(G[te]);if(!(se<0||y.resolveInner(Q+te,1).type!=b))if(se%2==0==g>0)W++;else{if(W==1)return{start:j,end:{from:Q+te,to:Q+te+1},matched:se>>1==O>>1};W--}}g>0&&(J+=G.length)}return z.done?{start:j,matched:!1}:null}(n,e,t,s,u.type,i,o)}function zhe(n,e,t,r,i,o,s){let u=r.parent,c={from:i.from,to:i.to},p=0,f=u==null?void 0:u.cursor();if(f&&(t<0?f.childBefore(r.from):f.childAfter(r.to)))do if(t<0?f.to<=r.from:f.from>=r.to){if(p==0&&o.indexOf(f.type.name)>-1&&f.from<f.to){let g=MT(f);return{start:c,end:g?{from:g.from,to:g.to}:void 0,matched:!0}}if(kT(f.type,t,s))p++;else if(kT(f.type,-t,s)){if(p==0){let g=MT(f);return{start:c,end:g&&g.from<g.to?{from:g.from,to:g.to}:void 0,matched:!1}}p--}}while(t<0?f.prevSibling():f.nextSibling());return{start:c,matched:!1}}const Uhe=Object.create(null),AL=[W0.none],kL=[],ML=Object.create(null),Whe=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Whe[n]=Hhe(Uhe,e);function eM(n,e){kL.indexOf(n)>-1||(kL.push(n),console.warn(e))}function Hhe(n,e){let t=[];for(let u of e.split(" ")){let c=[];for(let p of u.split(".")){let f=n[p]||Pr[p];f?typeof f=="function"?c.length?c=c.map(f):eM(p,`Modifier ${p} used at start of tag`):c.length?eM(p,`Tag ${p} used as modifier`):c=Array.isArray(f)?f:[f]:eM(p,`Unknown highlighting tag ${p}`)}for(let p of c)t.push(p)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(u=>u.id),o=ML[i];if(o)return o.id;let s=ML[i]=W0.define({id:AL.length,name:r,props:[uhe({[r]:t})]});return AL.push(s),s.id}lh.RTL,lh.LTR;let Vhe=0;class Kh{constructor(e={}){this.id=Vhe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=dx.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Kh.closedBy=new Kh({deserialize:n=>n.split(" ")}),Kh.openedBy=new Kh({deserialize:n=>n.split(" ")}),Kh.group=new Kh({deserialize:n=>n.split(" ")}),Kh.isolate=new Kh({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),Kh.contextHash=new Kh({perNode:!0}),Kh.lookAhead=new Kh({perNode:!0}),Kh.mounted=new Kh({perNode:!0});const qhe=Object.create(null);class dx{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):qhe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new dx(e.name||"",t,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Kh.group);return!!t&&t.indexOf(e)>-1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Kh.group),o=-1;o<(i?i.length:0);o++){let s=t[o<0?r.name:i[o]];if(s)return s}}}}var FL;dx.none=new dx("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(FL||(FL={})),new Kh({perNode:!0});function VO(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return!!i&&(r(t.update(i)),!0)}}const Khe=VO(Jhe,0),Ghe=VO(dq,0),Yhe=VO((n,e)=>dq(n,e,function(r){let i=[];for(let o of r.selection.ranges){let s=r.doc.lineAt(o.from),u=o.to<=s.to?s:r.doc.lineAt(o.to);u.from>s.from&&u.from==o.to&&(u=o.to==s.to+1?s:r.doc.lineAt(o.to-1));let c=i.length-1;c>=0&&i[c].to>s.from?i[c].to=u.to:i.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:u.to})}return i}(e)),0);function qO(n,e){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Bw=50;function dq(n,e,t=e.selection.ranges){let r=t.map(o=>qO(e,o.from).block);if(!r.every(o=>o))return null;let i=t.map((o,s)=>function(c,{open:p,close:f},g,y){let b,_,M=c.sliceDoc(g-Bw,g),F=c.sliceDoc(y,y+Bw),O=/\s*$/.exec(M)[0].length,j=/^\s*/.exec(F)[0].length,z=M.length-O;if(M.slice(z-p.length,z)==p&&F.slice(j,j+f.length)==f)return{open:{pos:g-O,margin:O&&1},close:{pos:y+j,margin:j&&1}};y-g<=2*Bw?b=_=c.sliceDoc(g,y):(b=c.sliceDoc(g,g+Bw),_=c.sliceDoc(y-Bw,y));let W=/^\s*/.exec(b)[0].length,J=/\s*$/.exec(_)[0].length,G=_.length-J-f.length;return b.slice(W,W+p.length)==p&&_.slice(G,G+f.length)==f?{open:{pos:g+W+p.length,margin:/\s/.test(b.charAt(W+p.length))?1:0},close:{pos:y-J-f.length,margin:/\s/.test(_.charAt(G-1))?1:0}}:null}(e,r[s],o.from,o.to));if(n!=2&&!i.every(o=>o))return{changes:e.changes(t.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(o=>o)){let o=[];for(let s,u=0;u<i.length;u++)if(s=i[u]){let c=r[u],{open:p,close:f}=s;o.push({from:p.pos-c.open.length,to:p.pos+p.margin},{from:f.pos-f.margin,to:f.pos+c.close.length})}return{changes:o}}return null}function Jhe(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of t){let u=r.length,c=1e9,p=qO(e,o).line;if(p){for(let f=o;f<=s;){let g=e.doc.lineAt(f);if(g.from>i&&(o==s||s>g.from)){i=g.from;let y=/^\s*/.exec(g.text)[0].length,b=y==g.length,_=g.text.slice(y,y+p.length)==p?y:-1;y<g.text.length&&y<c&&(c=y),r.push({line:g,comment:_,token:p,indent:y,empty:b,single:!1})}f=g.to+1}if(c<1e9)for(let f=u;f<r.length;f++)r[f].indent<r[f].line.text.length&&(r[f].indent=c);r.length==u+1&&(r[u].single=!0)}}if(n!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:u,token:c,indent:p,empty:f,single:g}of r)!g&&f||o.push({from:u.from+p,insert:c+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}if(n!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:u,token:c}of r)if(u>=0){let p=s.from+u,f=p+c.length;s.text[f-s.from]==" "&&f++,o.push({from:p,to:f})}return{changes:o}}return null}const FT=cd.define(),Xhe=cd.define(),Qhe=Yr.define(),vq=Yr.define({combine:n=>Y0(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}),yq=Hp.define({create:()=>N0.empty,update(n,e){let t=e.state.facet(vq),r=e.annotation(FT);if(r){let c=Rg.fromTransaction(e,r.selection),p=r.side,f=p==0?n.undone:n.done;return f=c?Y_(f,f.length,t.minDepth,c):xq(f,e.startState.selection),new N0(p==0?r.rest:f,p==0?f:r.rest)}let i=e.annotation(Xhe);if(i!="full"&&i!="before"||(n=n.isolate()),e.annotation(cp.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let o=Rg.fromTransaction(e),s=e.annotation(cp.time),u=e.annotation(cp.userEvent);return o?n=n.addChanges(o,s,u,t,e):e.selection&&(n=n.addSelection(e.startState.selection,s,u,t.newGroupDelay)),i!="full"&&i!="after"||(n=n.isolate()),n},toJSON:n=>({done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}),fromJSON:n=>new N0(n.done.map(Rg.fromJSON),n.undone.map(Rg.fromJSON))});function Zhe(n={}){return[yq,vq.of(n),pi.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?wq:e.inputType=="historyRedo"?PT:null;return!!r&&(e.preventDefault(),r(t))}})]}function JE(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(yq,!1);if(!i)return!1;let o=i.pop(n,t,e);return!!o&&(r(o),!0)}}const wq=JE(0,!1),PT=JE(1,!1),epe=JE(0,!0),tpe=JE(1,!0);class Rg{constructor(e,t,r,i,o){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new Rg(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new Rg(e.changes&&sp.fromJSON(e.changes),[],e.mapped&&j0.fromJSON(e.mapped),e.startSelection&&cn.fromJSON(e.startSelection),e.selectionsAfter.map(cn.fromJSON))}static fromTransaction(e,t){let r=Cm;for(let i of e.startState.facet(Qhe)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new Rg(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,Cm)}static selection(e){return new Rg(void 0,Cm,void 0,void 0,e)}}function Y_(n,e,t,r){let i=e+1>t+20?e-t-1:0,o=n.slice(i,e);return o.push(r),o}function bq(n,e){return n.length?e.length?n.concat(e):n:e}const Cm=[],npe=200;function xq(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-npe));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Y_(n,n.length-1,1e9,t.setSelAfter(r)))}return[Rg.selection([e])]}function rpe(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function tM(n,e){if(!n.length)return n;let t=n.length,r=Cm;for(;t;){let i=ipe(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=n.slice(0,t);return o[t-1]=i,o}e=i.mapped,t--,r=i.selectionsAfter}return r.length?[Rg.selection(r)]:Cm}function ipe(n,e,t){let r=bq(n.selectionsAfter.length?n.selectionsAfter.map(u=>u.map(e)):Cm,t);if(!n.changes)return Rg.selection(r);let i=n.changes.map(e),o=e.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(o):o;return new Rg(i,su.mapEffects(n.effects,e),s,n.startSelection.map(o),r)}const ope=/^(input\.type|delete)($|\.)/;class N0{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new N0(this.done,this.undone):this}addChanges(e,t,r,i,o){let s=this.done,u=s[s.length-1];return s=u&&u.changes&&!u.changes.empty&&e.changes&&(!r||ope.test(r))&&(!u.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,function(p,f){let g=[],y=!1;return p.iterChangedRanges((b,_)=>g.push(b,_)),f.iterChangedRanges((b,_,M,F)=>{for(let O=0;O<g.length;){let j=g[O++],z=g[O++];F>=j&&M<=z&&(y=!0)}}),y}(u.changes,e.changes))||r=="input.type.compose")?Y_(s,s.length-1,i.minDepth,new Rg(e.changes.compose(u.changes),bq(su.mapEffects(e.effects,u.changes),u.effects),u.mapped,u.startSelection,Cm)):Y_(s,s.length,i.minDepth,e),new N0(s,Cm,t,r)}addSelection(e,t,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:Cm;return o.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(u,c){return u.ranges.length==c.ranges.length&&u.ranges.filter((p,f)=>p.empty!=c.ranges[f].empty).length===0}(o[o.length-1],e)?this:new N0(xq(this.done,e),this.undone,t,r)}addMapping(e){return new N0(tM(this.done,e),tM(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||t.selection;if(r&&o.selectionsAfter.length)return t.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:FT.of({side:e,rest:rpe(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let u=i.length==1?Cm:i.slice(0,i.length-1);return o.mapped&&(u=tM(u,o.mapped)),t.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:FT.of({side:e,rest:u,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}return null}}N0.empty=new N0(Cm,Cm);const ape=[{key:"Mod-z",run:wq,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:PT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:PT,preventDefault:!0},{key:"Mod-u",run:epe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:tpe,preventDefault:!0}];function M1(n,e){return cn.create(n.ranges.map(e),n.mainIndex)}function L0(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Jm({state:n,dispatch:e},t){let r=M1(n.selection,t);return!r.eq(n.selection,!0)&&(e(L0(n,r)),!0)}function XE(n,e){return cn.cursor(e?n.to:n.from)}function Dq(n,e){return Jm(n,t=>t.empty?n.moveByChar(t,e):XE(t,e))}function tg(n){return n.textDirectionAt(n.state.selection.main.head)==lh.LTR}const Cq=n=>Dq(n,!tg(n)),Sq=n=>Dq(n,tg(n));function PL(n,e){return Jm(n,t=>t.empty?n.moveByGroup(t,e):XE(t,e))}function spe(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function fC(n,e,t){let r,i,o=ug(n).resolveInner(e.head),s=t?Kh.closedBy:Kh.openedBy;for(let u=e.head;;){let c=t?o.childAfter(u):o.childBefore(u);if(!c)break;spe(n,c,s)?o=c:u=t?c.to:c.from}return i=o.type.prop(s)&&(r=t?O0(n,o.from,1):O0(n,o.to,-1))&&r.matched?t?r.end.to:r.end.from:t?o.to:o.from,cn.cursor(i,t?-1:1)}function _q(n,e){return Jm(n,t=>{if(!t.empty)return XE(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const Eq=n=>_q(n,!1),Aq=n=>_q(n,!0);function kq(n){let e,t=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,i=0;if(t){for(let o of n.state.facet(pi.scrollMargins)){let s=o(n);s!=null&&s.top&&(r=Math.max(s==null?void 0:s.top,r)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}e=n.scrollDOM.clientHeight-r-i}else e=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:t,height:Math.max(n.defaultLineHeight,e-5)}}function Mq(n,e){let t,r=kq(n),{state:i}=n,o=M1(i.selection,s=>s.empty?n.moveVertically(s,e,r.height):XE(s,e));if(o.eq(i.selection))return!1;if(r.selfScroll){let s=n.coordsAtPos(i.selection.main.head),u=n.scrollDOM.getBoundingClientRect(),c=u.top+r.marginTop,p=u.bottom-r.marginBottom;s&&s.top>c&&s.bottom<p&&(t=pi.scrollIntoView(o.main.head,{y:"start",yMargin:s.top-c}))}return n.dispatch(L0(i,o),{effects:t}),!0}const TL=n=>Mq(n,!1),TT=n=>Mq(n,!0);function bd(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let o=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=cn.cursor(r.from+o))}return i}function Sm(n,e){let t=M1(n.state.selection,r=>{let i=e(r);return cn.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!t.eq(n.state.selection)&&(n.dispatch(L0(n.state,t)),!0)}function Fq(n,e){return Sm(n,t=>n.moveByChar(t,e))}const Pq=n=>Fq(n,!tg(n)),Tq=n=>Fq(n,tg(n));function IL(n,e){return Sm(n,t=>n.moveByGroup(t,e))}function Iq(n,e){return Sm(n,t=>n.moveVertically(t,e))}const Oq=n=>Iq(n,!1),Nq=n=>Iq(n,!0);function Bq(n,e){return Sm(n,t=>n.moveVertically(t,e,kq(n).height))}const OL=n=>Bq(n,!1),NL=n=>Bq(n,!0),BL=({state:n,dispatch:e})=>(e(L0(n,{anchor:0})),!0),RL=({state:n,dispatch:e})=>(e(L0(n,{anchor:n.doc.length})),!0),jL=({state:n,dispatch:e})=>(e(L0(n,{anchor:n.selection.main.anchor,head:0})),!0),LL=({state:n,dispatch:e})=>(e(L0(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function vx(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(o=>{let{from:s,to:u}=o;if(s==u){let c=e(o);c<s?(t="delete.backward",c=hC(n,c,!1)):c>s&&(t="delete.forward",c=hC(n,c,!0)),s=Math.min(s,c),u=Math.max(u,c)}else s=hC(n,s,!1),u=hC(n,u,!0);return s==u?{range:o}:{changes:{from:s,to:u},range:cn.cursor(s,s<o.head?-1:1)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?pi.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function hC(n,e,t){if(n instanceof pi)for(let r of n.state.facet(pi.atomicRanges).map(i=>i(n)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=t?o:i)});return e}const Rq=(n,e,t)=>vx(n,r=>{let i,o,s=r.from,{state:u}=n,c=u.doc.lineAt(s);if(t&&!e&&s>c.from&&s<c.from+200&&!/[^ \t]/.test(i=c.text.slice(0,s-c.from))){if(i[i.length-1]=="	")return s-1;let p=fw(i,u.tabSize)%V_(u)||V_(u);for(let f=0;f<p&&i[i.length-1-f]==" ";f++)s--;o=s}else o=zp(c.text,s-c.from,e,e)+c.from,o==s&&c.number!=(e?u.doc.lines:1)?o+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(c.text.slice(o-c.from,s-c.from))&&(o=zp(c.text,o-c.from,!1,!1)+c.from);return o}),IT=n=>Rq(n,!1,!0),jq=n=>Rq(n,!0,!1),Lq=(n,e)=>vx(n,t=>{let r=t.head,{state:i}=n,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let u=null;;){if(r==(e?o.to:o.from)){r==t.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let c=zp(o.text,r-o.from,e)+o.from,p=o.text.slice(Math.min(r,c)-o.from,Math.max(r,c)-o.from),f=s(p);if(u!=null&&f!=u)break;p==" "&&r==t.head||(u=f),r=c}return r}),$q=n=>Lq(n,!1);function J_(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),o=n.doc.lineAt(r.to);if(r.empty||r.to!=o.from||(o=n.doc.lineAt(r.to-1)),t>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});t=o.number+1}return e}function $L(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let o of J_(n)){if(t?o.to==n.doc.length:o.from==0)continue;let s=n.doc.lineAt(t?o.to+1:o.from-1),u=s.length+1;if(t){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+n.lineBreak});for(let c of o.ranges)i.push(cn.range(Math.min(n.doc.length,c.anchor+u),Math.min(n.doc.length,c.head+u)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:n.lineBreak+s.text});for(let c of o.ranges)i.push(cn.range(c.anchor-u,c.head-u))}}return!!r.length&&(e(n.update({changes:r,scrollIntoView:!0,selection:cn.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function zL(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of J_(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const UL=zq(!1),upe=zq(!0);function zq(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,u=e.doc.lineAt(o),c=!n&&o==s&&function(b,_){if(/\(\)|\[\]|\{\}/.test(b.sliceDoc(_-1,_+1)))return{from:_,to:_};let M,F=ug(b).resolveInner(_),O=F.childBefore(_),j=F.childAfter(_);return O&&j&&O.to<=_&&j.from>=_&&(M=O.type.prop(Kh.closedBy))&&M.indexOf(j.name)>-1&&b.doc.lineAt(O.to).from==b.doc.lineAt(j.from).from&&!/\S/.test(b.sliceDoc(O.to,j.from))?{from:O.to,to:j.from}:null}(e,o);n&&(o=s=(s<=u.to?u:e.doc.lineAt(s)).to);let p=new GE(e,{simulateBreak:o,simulateDoubleBreak:!!c}),f=WO(p,o);for(f==null&&(f=fw(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<u.to&&/\s/.test(u.text[s-u.from]);)s++;c?{from:o,to:s}=c:o>u.from&&o<u.from+100&&!/\S/.test(u.text.slice(0,o))&&(o=u.from);let g=["",gx(e,f)];return c&&g.push(gx(e,p.lineIndent(u.from,-1))),{changes:{from:o,to:s,insert:Cc.of(g)},range:cn.cursor(o+1+g[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function nM(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let u=n.doc.lineAt(s);u.number>t&&(r.empty||r.to>u.from)&&(e(u,i,r),t=u.number),s=u.to+1}let o=n.changes(i);return{changes:i,range:cn.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const lpe=[{key:"Ctrl-b",run:Cq,shift:Pq,preventDefault:!0},{key:"Ctrl-f",run:Sq,shift:Tq},{key:"Ctrl-p",run:Eq,shift:Oq},{key:"Ctrl-n",run:Aq,shift:Nq},{key:"Ctrl-a",run:n=>Jm(n,e=>cn.cursor(n.lineBlockAt(e.head).from,1)),shift:n=>Sm(n,e=>cn.cursor(n.lineBlockAt(e.head).from))},{key:"Ctrl-e",run:n=>Jm(n,e=>cn.cursor(n.lineBlockAt(e.head).to,-1)),shift:n=>Sm(n,e=>cn.cursor(n.lineBlockAt(e.head).to))},{key:"Ctrl-d",run:jq},{key:"Ctrl-h",run:IT},{key:"Ctrl-k",run:n=>vx(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)})},{key:"Ctrl-Alt-h",run:$q},{key:"Ctrl-o",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Cc.of(["",""])},range:cn.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,o=n.doc.lineAt(i),s=i==o.from?i-1:zp(o.text,i-o.from,!1)+o.from,u=i==o.to?i+1:zp(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:u,insert:n.doc.slice(i,u).append(n.doc.slice(s,i))},range:cn.cursor(u)}});return!t.changes.empty&&(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:TT}],cpe=[{key:"ArrowLeft",run:Cq,shift:Pq,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>PL(n,!tg(n)),shift:n=>IL(n,!tg(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>Jm(n,e=>bd(n,e,!tg(n))),shift:n=>Sm(n,e=>bd(n,e,!tg(n))),preventDefault:!0},{key:"ArrowRight",run:Sq,shift:Tq,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>PL(n,tg(n)),shift:n=>IL(n,tg(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>Jm(n,e=>bd(n,e,tg(n))),shift:n=>Sm(n,e=>bd(n,e,tg(n))),preventDefault:!0},{key:"ArrowUp",run:Eq,shift:Oq,preventDefault:!0},{mac:"Cmd-ArrowUp",run:BL,shift:jL},{mac:"Ctrl-ArrowUp",run:TL,shift:OL},{key:"ArrowDown",run:Aq,shift:Nq,preventDefault:!0},{mac:"Cmd-ArrowDown",run:RL,shift:LL},{mac:"Ctrl-ArrowDown",run:TT,shift:NL},{key:"PageUp",run:TL,shift:OL},{key:"PageDown",run:TT,shift:NL},{key:"Home",run:n=>Jm(n,e=>bd(n,e,!1)),shift:n=>Sm(n,e=>bd(n,e,!1)),preventDefault:!0},{key:"Mod-Home",run:BL,shift:jL},{key:"End",run:n=>Jm(n,e=>bd(n,e,!0)),shift:n=>Sm(n,e=>bd(n,e,!0)),preventDefault:!0},{key:"Mod-End",run:RL,shift:LL},{key:"Enter",run:UL,shift:UL},{key:"Mod-a",run:({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:IT,shift:IT},{key:"Delete",run:jq},{key:"Mod-Backspace",mac:"Alt-Backspace",run:$q},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>Lq(n,!0)},{mac:"Mod-Backspace",run:n=>vx(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)})},{mac:"Mod-Delete",run:n=>vx(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)})}].concat(lpe.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),fpe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>Jm(n,e=>fC(n.state,e,!tg(n))),shift:n=>Sm(n,e=>fC(n.state,e,!tg(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>Jm(n,e=>fC(n.state,e,tg(n))),shift:n=>Sm(n,e=>fC(n.state,e,tg(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:e})=>$L(n,e,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:e})=>zL(n,e,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:e})=>$L(n,e,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:e})=>zL(n,e,!0)},{key:"Escape",run:({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=cn.create([t.main]):t.main.empty||(r=cn.create([cn.cursor(t.main.head)])),!!r&&(e(L0(n,r)),!0)}},{key:"Mod-Enter",run:upe},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:e})=>{let t=J_(n).map(({from:r,to:i})=>cn.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:cn.create(t),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:e})=>{let t=M1(n.selection,r=>{let i=ug(n),o=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=o.node.from&&s.node.to<=o.node.to&&(o=s)}for(let s=o;s;s=s.next){let{node:u}=s;if((u.from<r.from&&u.to>=r.to||u.to>r.to&&u.from<=r.from)&&s.next)return cn.range(u.to,u.from)}return r});return!t.eq(n.selection)&&(e(L0(n,t)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(nM(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let o=fw(i,n.tabSize),s=0,u=gx(n,Math.max(0,o-V_(n)));for(;s<i.length&&s<u.length&&i.charCodeAt(s)==u.charCodeAt(s);)s++;r.push({from:t.from+s,to:t.from+i.length,insert:u.slice(s)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:e})=>!n.readOnly&&(e(n.update(nM(n,(t,r)=>{r.push({from:t.from,insert:n.facet(UO)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new GE(n,{overrideIndentation:o=>{let s=t[o];return s??-1}}),i=nM(n,(o,s,u)=>{let c=WO(r,o.from);if(c==null)return;/\S/.test(o.text)||(c=0);let p=/^\s*/.exec(o.text)[0],f=gx(n,c);(p!=f||u.from<o.from+p.length)&&(t[o.from]=c,s.push({from:o.from,to:o.from+p.length,insert:f}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(J_(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=M1(e.selection,i=>{let o;if(n.lineWrapping){let s=n.lineBlockAt(i.head),u=n.coordsAtPos(i.head,i.assoc||1);u&&(o=s.bottom+n.documentTop-u.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,o)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:e})=>function(r,i,o){let s=!1,u=M1(r.selection,c=>{let p=O0(r,c.head,-1)||O0(r,c.head,1)||c.head>0&&O0(r,c.head-1,1)||c.head<r.doc.length&&O0(r,c.head+1,-1);if(!p||!p.end)return c;s=!0;let f=p.start.from==c.head?p.end.to:p.end.from;return cn.cursor(f)});return!!s&&(i(L0(r,u)),!0)}(n,e)},{key:"Mod-/",run:n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=qO(n.state,t.from);return r.line?Khe(n):!!r.block&&Yhe(n)}},{key:"Alt-A",run:Ghe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:n=>(n.setTabFocusMode(),!0)}].concat(cpe);function Vf(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)Uq(n,arguments[e]);return n}function Uq(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else{if(!Array.isArray(e))throw new RangeError("Unsupported child node: "+e);for(var t=0;t<e.length;t++)Uq(n,e[t])}}const WL=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class F1{constructor(e,t,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?u=>o(WL(u)):WL,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Np(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=SO(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=wm(e);let i=this.normalize(t);if(i.length)for(let o=0,s=r;;o++){let u=i.charCodeAt(o),c=this.match(u,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(c)return this.value=c,this;break}s==r&&o<t.length&&t.charCodeAt(o)==u&&s++}}}match(e,t,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],u=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,u=!0)),u||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(F1.prototype[Symbol.iterator]=function(){return this});const Wq={from:-1,to:-1,match:/.*/.exec("")},KO="gm"+(/x/.unicode==null?"":"u");class Hq{constructor(e,t,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Wq,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new Vq(e,t,r,i,o);this.re=new RegExp(t,KO+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=X_(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=X_(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),e=0}}}}const rM=new WeakMap;class P1{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=rM.get(e);if(!i||i.from>=r||i.to<=t){let u=new P1(t,e.sliceString(t,r));return rM.set(e,u),u}if(i.from==t&&i.to==r)return i;let{text:o,from:s}=i;return s>t&&(o=e.sliceString(t,s)+o,s=t),i.to<r&&(o+=e.sliceString(i.to,r)),rM.set(e,new P1(s,o)),new P1(t,o.slice(t-s,r-s))}}class Vq{constructor(e,t,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Wq,this.matchPos=X_(e,i),this.re=new RegExp(t,KO+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=P1.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=X_(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=P1.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function X_(n,e){if(e>=n.length)return e;let t,r=n.lineAt(e);for(;e<r.to&&(t=r.text.charCodeAt(e-r.from))>=56320&&t<57344;)e++;return e}function OT(n){let e=Vf("input",{class:"cm-textfield",name:"line",value:String(n.state.doc.lineAt(n.state.selection.main.head).number)});function t(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:i}=n,o=i.doc.lineAt(i.selection.main.head),[,s,u,c,p]=r,f=c?+c.slice(1):0,g=u?+u:o.number;if(u&&p){let _=g/100;s&&(_=_*(s=="-"?-1:1)+o.number/i.doc.lines),g=Math.round(i.doc.lines*_)}else u&&s&&(g=g*(s=="-"?-1:1)+o.number);let y=i.doc.line(Math.max(1,Math.min(i.doc.lines,g))),b=cn.cursor(y.from+Math.max(0,Math.min(f,y.length)));n.dispatch({effects:[Q_.of(!1),pi.scrollIntoView(b.from,{y:"center"})],selection:b}),n.focus()}return{dom:Vf("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:Q_.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),t())},onsubmit:r=>{r.preventDefault(),t()}},Vf("label",n.state.phrase("Go to line"),": ",e)," ",Vf("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(Hq.prototype[Symbol.iterator]=Vq.prototype[Symbol.iterator]=function(){return this});const Q_=su.define(),HL=Hp.define({create:()=>!0,update(n,e){for(let t of e.effects)t.is(Q_)&&(n=t.value);return n},provide:n=>px.from(n,e=>e?OT:null)}),hpe=pi.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),ppe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},gpe=Yr.define({combine:n=>Y0(n,ppe,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}),mpe=ka.mark({class:"cm-selectionMatch"}),dpe=ka.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function VL(n,e,t,r){return!(t!=0&&n(e.sliceDoc(t-1,t))==xh.Word||r!=e.doc.length&&n(e.sliceDoc(r,r+1))==xh.Word)}const vpe=Qh.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(gpe),{state:t}=n,r=t.selection;if(r.ranges.length>1)return ka.none;let i,o=r.main,s=null;if(o.empty){if(!e.highlightWordAroundCursor)return ka.none;let c=t.wordAt(o.head);if(!c)return ka.none;s=t.charCategorizer(o.head),i=t.sliceDoc(c.from,c.to)}else{let c=o.to-o.from;if(c<e.minSelectionLength||c>200)return ka.none;if(e.wholeWords){if(i=t.sliceDoc(o.from,o.to),s=t.charCategorizer(o.head),!VL(s,t,o.from,o.to)||!function(f,g,y,b){return f(g.sliceDoc(y,y+1))==xh.Word&&f(g.sliceDoc(b-1,b))==xh.Word}(s,t,o.from,o.to))return ka.none}else if(i=t.sliceDoc(o.from,o.to),!i)return ka.none}let u=[];for(let c of n.visibleRanges){let p=new F1(t.doc,i,c.from,c.to);for(;!p.next().done;){let{from:f,to:g}=p.value;if((!s||VL(s,t,f,g))&&(o.empty&&f<=o.from&&g>=o.to?u.push(dpe.range(f,g)):(f>=o.to||g<=o.from)&&u.push(mpe.range(f,g)),u.length>e.maxMatches))return ka.none}}return ka.set(u)}},{decorations:n=>n.decorations}),ype=pi.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),hw=Yr.define({combine:n=>Y0(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Ape(e),scrollToMatch:e=>pi.scrollIntoView(e)})});class qq{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||function(r){try{return new RegExp(r,KO),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new bpe(this):new wpe(this)}getCursor(e,t=0,r){let i=e.doc?e:Dc.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?e1(this,i,t,r):Zy(this,i,t,r)}}class Kq{constructor(e){this.spec=e}}function Zy(n,e,t,r){return new F1(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function(o,s){return(u,c,p,f)=>((f>u||f+p.length<c)&&(f=Math.max(0,u-2),p=o.sliceString(f,Math.min(o.length,c+2))),!(s(Z_(p,u-f))==xh.Word&&s(eE(p,u-f))==xh.Word||s(eE(p,c-f))==xh.Word&&s(Z_(p,c-f))==xh.Word))}(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}class wpe extends Kq{constructor(e){super(e)}nextMatch(e,t,r){let i=Zy(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let o=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Zy(this.spec,e,0,o).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let o=Math.max(t,i-1e4-this.spec.unquoted.length),s=Zy(this.spec,e,o,i),u=null;for(;!s.nextOverlapping().done;)u=s.value;if(u)return u;if(o==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),!i||i.from==t&&i.to==r?null:i}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Zy(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=Zy(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function e1(n,e,t,r){return new Hq(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?(i=e.charCategorizer(e.selection.main.head),(o,s,u)=>!u[0].length||(i(Z_(u.input,u.index))!=xh.Word||i(eE(u.input,u.index))!=xh.Word)&&(i(eE(u.input,u.index+u[0].length))!=xh.Word||i(Z_(u.input,u.index+u[0].length))!=xh.Word)):void 0},t,r);var i}function Z_(n,e){return n.slice(zp(n,e,!1),e)}function eE(n,e){return n.slice(e,zp(n,e))}class bpe extends Kq{nextMatch(e,t,r){let i=e1(this.spec,e,r,e.doc.length).next();return i.done&&(i=e1(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let o=Math.max(t,r-1e4*i),s=e1(this.spec,e,o,r),u=null;for(;!s.next().done;)u=s.value;if(u&&(o==t||u.from>o+10))return u;if(o==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(t,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:t)}matchAll(e,t){let r=e1(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let o=e1(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const yx=su.define(),GO=su.define(),ov=Hp.define({create:n=>new iM(NT(n).create(),null),update(n,e){for(let t of e.effects)t.is(yx)?n=new iM(t.value.create(),n.panel):t.is(GO)&&(n=new iM(n.query,t.value?YO:null));return n},provide:n=>px.from(n,e=>e.panel)});class iM{constructor(e,t){this.query=e,this.panel=t}}const xpe=ka.mark({class:"cm-searchMatch"}),Dpe=ka.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Cpe=Qh.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(ov))}update(n){let e=n.state.field(ov);(e!=n.startState.field(ov)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return ka.none;let{view:t}=this,r=new vv;for(let i=0,o=t.visibleRanges,s=o.length;i<s;i++){let{from:u,to:c}=o[i];for(;i<s-1&&c>o[i+1].from-500;)c=o[++i].to;n.highlight(t.state,u,c,(p,f)=>{let g=t.state.selection.ranges.some(y=>y.from==p&&y.to==f);r.add(p,f,g?Dpe:xpe)})}return r.finish()}},{decorations:n=>n.decorations});function Rx(n){return e=>{let t=e.state.field(ov,!1);return t&&t.query.spec.valid?n(e,t):Jq(e)}}const tE=Rx((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=cn.single(r.from,r.to),o=n.state.facet(hw);return n.dispatch({selection:i,effects:[JO(n,r),o.scrollToMatch(i.main,n)],userEvent:"select.search"}),Yq(n),!0}),nE=Rx((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let o=cn.single(i.from,i.to),s=n.state.facet(hw);return n.dispatch({selection:o,effects:[JO(n,i),s.scrollToMatch(o.main,n)],userEvent:"select.search"}),Yq(n),!0}),Spe=Rx((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!(!t||!t.length)&&(n.dispatch({selection:cn.create(t.map(r=>cn.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),qL=Rx((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let o=e.nextMatch(t,r,r);if(!o)return!1;let s,u,c=[],p=[];if(o.from==r&&o.to==i&&(u=t.toText(e.getReplacement(o)),c.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),p.push(pi.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+"."))),o){let f=c.length==0||c[0].from>=o.to?0:o.to-o.from-u.length;s=cn.single(o.from-f,o.to-f),p.push(JO(n,o)),p.push(t.facet(hw).scrollToMatch(s.main,n))}return n.dispatch({changes:c,selection:s,effects:p,userEvent:"input.replace"}),!0}),_pe=Rx((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:pi.announce.of(r),userEvent:"input.replace.all"}),!0});function YO(n){return n.state.facet(hw).createPanel(n)}function NT(n,e){var t,r,i,o,s;let u=n.selection.main,c=u.empty||u.to>u.from+100?"":n.sliceDoc(u.from,u.to);if(e&&!c)return e;let p=n.facet(hw);return new qq({search:((t=e==null?void 0:e.literal)!==null&&t!==void 0?t:p.literal)?c:c.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:p.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:p.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:p.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:p.wholeWord})}function Gq(n){let e=hx(n,YO);return e&&e.dom.querySelector("[main-field]")}function Yq(n){let e=Gq(n);e&&e==n.root.activeElement&&e.select()}const Jq=n=>{let e=n.state.field(ov,!1);if(e&&e.panel){let t=Gq(n);if(t&&t!=n.root.activeElement){let r=NT(n.state,e.query.spec);r.valid&&n.dispatch({effects:yx.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[GO.of(!0),e?yx.of(NT(n.state,e.query.spec)):su.appendConfig.of(Mpe)]});return!0},Xq=n=>{let e=n.state.field(ov,!1);if(!e||!e.panel)return!1;let t=hx(n,YO);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:GO.of(!1)}),!0},Epe=[{key:"Mod-f",run:Jq,scope:"editor search-panel"},{key:"F3",run:tE,shift:nE,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:tE,shift:nE,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Xq,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,o=[],s=0;for(let u=new F1(n.doc,n.sliceDoc(r,i));!u.next().done;){if(o.length>1e3)return!1;u.value.from==r&&(s=o.length),o.push(cn.range(u.value.from,u.value.to))}return e(n.update({selection:cn.create(o,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:n=>{let e=hx(n,OT);if(!e){let t=[Q_.of(!0)];n.state.field(HL,!1)==null&&t.push(su.appendConfig.of([HL,hpe])),n.dispatch({effects:t}),e=hx(n,OT)}return e&&e.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(o=>o.from===o.to))return(({state:o,dispatch:s})=>{let{selection:u}=o,c=cn.create(u.ranges.map(p=>o.wordAt(p.head)||cn.cursor(p.head)),u.mainIndex);return!c.eq(u)&&(s(o.update({selection:c})),!0)})({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(o=>n.sliceDoc(o.from,o.to)!=r))return!1;let i=function(s,u){let{main:c,ranges:p}=s.selection,f=s.wordAt(c.head),g=f&&f.from==c.from&&f.to==c.to;for(let y=!1,b=new F1(s.doc,u,p[p.length-1].to);;){if(b.next(),!b.done){if(y&&p.some(_=>_.from==b.value.from))continue;if(g){let _=s.wordAt(b.value.from);if(!_||_.from!=b.value.from||_.to!=b.value.to)continue}return b.value}if(y)return null;b=new F1(s.doc,u,0,Math.max(0,p[p.length-1].from-1)),y=!0}}(n,r);return!!i&&(e(n.update({selection:n.selection.addRange(cn.range(i.from,i.to),!1),effects:pi.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Ape{constructor(e){this.view=e;let t=this.query=e.state.field(ov).query.spec;function r(i,o,s){return Vf("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=Vf("input",{value:t.search,placeholder:zg(e,"Find"),"aria-label":zg(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Vf("input",{value:t.replace,placeholder:zg(e,"Replace"),"aria-label":zg(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Vf("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=Vf("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=Vf("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit}),this.dom=Vf("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>tE(e),[zg(e,"next")]),r("prev",()=>nE(e),[zg(e,"previous")]),r("select",()=>Spe(e),[zg(e,"all")]),Vf("label",null,[this.caseField,zg(e,"match case")]),Vf("label",null,[this.reField,zg(e,"regexp")]),Vf("label",null,[this.wordField,zg(e,"by word")]),...e.state.readOnly?[]:[Vf("br"),this.replaceField,r("replace",()=>qL(e),[zg(e,"replace")]),r("replaceAll",()=>_pe(e),[zg(e,"replace all")])],Vf("button",{name:"close",onclick:()=>Xq(e),"aria-label":zg(e,"close"),type:"button"},["×"])])}commit(){let e=new qq({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:yx.of(e)}))}keydown(e){(function(r,i,o){return HV(WV(r.state),i,r,o)})(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?nE:tE)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),qL(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(yx)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(hw).top}}function zg(n,e){return n.state.phrase(e)}const pC=30,gC=/[\s\.,:;?!]/;function JO(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,o=Math.max(r.from,e-pC),s=Math.min(i,t+pC),u=n.state.sliceDoc(o,s);if(o!=r.from){for(let c=0;c<pC;c++)if(!gC.test(u[c+1])&&gC.test(u[c])){u=u.slice(c);break}}if(s!=i){for(let c=u.length-1;c>u.length-pC;c--)if(!gC.test(u[c-1])&&gC.test(u[c])){u=u.slice(0,c);break}}return pi.announce.of(`${n.state.phrase("current match")}. ${u} ${n.state.phrase("on line")} ${r.number}.`)}const kpe=pi.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Mpe=[ov,Ey.low(Cpe),kpe];class Qq{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=ug(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),o=i.search(Zq(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function KL(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Fpe(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:function(o){let s=Object.create(null),u=Object.create(null);for(let{label:p}of o){s[p[0]]=!0;for(let f=1;f<p.length;f++)u[p[f]]=!0}let c=KL(s)+KL(u)+"*$";return[new RegExp("^"+c),new RegExp(c)]}(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:t}:null}}class GL{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function ry(n){return n.selection.main.from}function Zq(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",o=r[r.length-1]!="$";return i||o?new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":""):n}const eK=cd.define(),YL=new WeakMap;function Ppe(n){if(!Array.isArray(n))return n;let e=YL.get(n);return e||YL.set(n,e=Fpe(n)),e}const rE=su.define(),wx=su.define();class Tpe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Np(e,t),i=wm(r);this.chars.push(r);let o=e.slice(t,t+i),s=o.toUpperCase();this.folded.push(Np(s==o?o.toLowerCase():s,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:o,byWord:s}=this;if(t.length==1){let j=Np(e,0),z=wm(j),W=z==e.length?0:-100;if(j!=t[0]){if(j!=r[0])return null;W+=-200}return this.ret(W,[0,z])}let u=e.indexOf(this.pattern);if(u==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let c=t.length,p=0;if(u<0){for(let j=0,z=Math.min(e.length,200);j<z&&p<c;){let W=Np(e,j);W!=t[p]&&W!=r[p]||(i[p++]=j),j+=wm(W)}if(p<c)return null}let f=0,g=0,y=!1,b=0,_=-1,M=-1,F=/[a-z]/.test(e),O=!0;for(let j=0,z=Math.min(e.length,200),W=0;j<z&&g<c;){let J=Np(e,j);u<0&&(f<c&&J==t[f]&&(o[f++]=j),b<c&&(J==t[b]||J==r[b]?(b==0&&(_=j),M=j+1,b++):b=0));let G,Q=J<255?J>=48&&J<=57||J>=97&&J<=122?2:J>=65&&J<=90?1:0:(G=SO(J))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!j||Q==1&&F||W==0&&Q!=0)&&(t[g]==J||r[g]==J&&(y=!0)?s[g++]=j:s.length&&(O=!1)),W=Q,j+=wm(J)}return g==c&&s[0]==0&&O?this.result((y?-200:0)-100,s,e):b==c&&_==0?this.ret(-200-e.length+(M==e.length?0:-100),[0,M]):u>-1?this.ret(-700-e.length,[u,u+this.pattern.length]):b==c?this.ret(-900-e.length,[_,M]):g==c?this.result((y?-200:0)-100-700+(O?0:-1100),s,e):t.length==2?null:this.result((i[0]?-700:0)-200-1100,i,e)}result(e,t,r){let i=[],o=0;for(let s of t){let u=s+(this.astral?wm(Np(r,s)):1);o&&i[o-1]==s?i[o-1]=u:(i[o++]=s,i[o++]=u)}return this.ret(e-r.length,i)}}class Ipe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const Sp=Yr.define({combine:n=>Y0(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Ope,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>JL(e(r),t(r)),optionClass:(e,t)=>r=>JL(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})});function JL(n,e){return n?e?n+" "+e:n:e}function Ope(n,e,t,r,i,o){let s,u,c=n.textDirection==lh.RTL,p=c,f=!1,g="top",y=e.left-i.left,b=i.right-e.right,_=r.right-r.left,M=r.bottom-r.top;if(p&&y<Math.min(_,b)?p=!1:!p&&b<Math.min(_,y)&&(p=!0),_<=(p?y:b))s=Math.max(i.top,Math.min(t.top,i.bottom-M))-e.top,u=Math.min(400,p?y:b);else{f=!0,u=Math.min(400,(c?e.right:i.right-e.left)-30);let F=i.bottom-e.bottom;F>=M||F>e.top?s=t.bottom-e.top:(g="bottom",s=e.bottom-t.top)}return{style:`${g}: ${s/((e.bottom-e.top)/o.offsetHeight)}px; max-width: ${u/((e.right-e.left)/o.offsetWidth)}px`,class:"cm-completionInfo-"+(f?c?"left-narrow":"right-narrow":p?"left":"right")}}function oM(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class Npe{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:c=>this.placeInfo(c),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:o,selected:s}=i.open,u=e.state.facet(Sp);this.optionContent=function(p){let f=p.addToOptions.slice();return p.icons&&f.push({render(g){let y=document.createElement("div");return y.classList.add("cm-completionIcon"),g.type&&y.classList.add(...g.type.split(/\s+/g).map(b=>"cm-completionIcon-"+b)),y.setAttribute("aria-hidden","true"),y},position:20}),f.push({render(g,y,b,_){let M=document.createElement("span");M.className="cm-completionLabel";let F=g.displayLabel||g.label,O=0;for(let j=0;j<_.length;){let z=_[j++],W=_[j++];z>O&&M.appendChild(document.createTextNode(F.slice(O,z)));let J=M.appendChild(document.createElement("span"));J.appendChild(document.createTextNode(F.slice(z,W))),J.className="cm-completionMatchedText",O=W}return O<F.length&&M.appendChild(document.createTextNode(F.slice(O))),M},position:50},{render(g){if(!g.detail)return null;let y=document.createElement("span");return y.className="cm-completionDetail",y.textContent=g.detail,y},position:80}),f.sort((g,y)=>g.position-y.position).map(g=>g.render)}(u),this.optionClass=u.optionClass,this.tooltipClass=u.tooltipClass,this.range=oM(o.length,s,u.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",c=>{let{options:p}=e.state.field(t).open;for(let f,g=c.target;g&&g!=this.dom;g=g.parentNode)if(g.nodeName=="LI"&&(f=/-(\d+)$/.exec(g.id))&&+f[1]<p.length)return this.applyCompletion(e,p[+f[1]]),void c.preventDefault()}),this.dom.addEventListener("focusout",c=>{let p=e.state.field(this.stateField,!1);p&&p.tooltip&&e.state.facet(Sp).closeOnBlur&&c.relatedTarget!=e.contentDOM&&e.dispatch({effects:wx.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:u}=r.open;i.open&&i.open.options==o||(this.range=oM(o.length,s,e.state.facet(Sp).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),u!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!u)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=oM(t.options.length,t.selected,this.view.state.facet(Sp).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>Bg(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName=="LI"&&r.id?i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected"):i--;return t&&function(i,o){let s=i.getBoundingClientRect(),u=o.getBoundingClientRect(),c=s.height/i.offsetHeight;u.top<s.top?i.scrollTop-=(s.top-u.top)/c:u.bottom>s.bottom&&(i.scrollTop+=(u.bottom-s.bottom)/c)}(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,t.bottom)-10||i.bottom<Math.max(o.top,t.top)+10?null:this.view.state.facet(Sp).positionInfo(this.view,t,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:u,match:c}=e[s],{section:p}=u;if(p){let y=typeof p=="string"?p:p.name;y!=o&&(s>r.from||r.from==0)&&(o=y,typeof p!="string"&&p.header?i.appendChild(p.header(p)):i.appendChild(document.createElement("completion-section")).textContent=y)}const f=i.appendChild(document.createElement("li"));f.id=t+"-"+s,f.setAttribute("role","option");let g=this.optionClass(u);g&&(f.className=g);for(let y of this.optionContent){let b=y(u,this.view.state,this.view,c);b&&f.appendChild(b)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Bpe(n,e){return t=>new Npe(t,n,e)}function XL(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class p1{constructor(e,t,r,i,o,s){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new p1(this.options,QL(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,o,s){if(i&&!s&&e.some(p=>p.isPending))return i.setDisabled();let u=function(f,g){let y=[],b=null,_=z=>{y.push(z);let{section:W}=z.completion;if(W){b||(b=[]);let J=typeof W=="string"?W:W.name;b.some(G=>G.name==J)||b.push(typeof W=="string"?{name:J}:W)}},M=g.facet(Sp);for(let z of f)if(z.hasResult()){let W=z.result.getMatch;if(z.result.filter===!1)for(let J of z.result.options)_(new GL(J,z.source,W?W(J):[],1e9-y.length));else{let J,G=g.sliceDoc(z.from,z.to),Q=M.filterStrict?new Ipe(G):new Tpe(G);for(let te of z.result.options)if(J=Q.match(te.label)){let ae=te.displayLabel?W?W(te,J.matched):[]:J.matched;_(new GL(te,z.source,ae,J.score+(te.boost||0)))}}}if(b){let z=Object.create(null),W=0,J=(G,Q)=>{var te,ae;return((te=G.rank)!==null&&te!==void 0?te:1e9)-((ae=Q.rank)!==null&&ae!==void 0?ae:1e9)||(G.name<Q.name?-1:1)};for(let G of b.sort(J))W-=1e5,z[G.name]=W;for(let G of y){let{section:Q}=G.completion;Q&&(G.score+=z[typeof Q=="string"?Q:Q.name])}}let F=[],O=null,j=M.compareCompletions;for(let z of y.sort((W,J)=>J.score-W.score||j(W.completion,J.completion))){let W=z.completion;!O||O.label!=W.label||O.detail!=W.detail||O.type!=null&&W.type!=null&&O.type!=W.type||O.apply!=W.apply||O.boost!=W.boost?F.push(z):XL(z.completion)>XL(O)&&(F[F.length-1]=z),O=z.completion}return F}(e,t);if(!u.length)return i&&e.some(p=>p.isPending)?i.setDisabled():null;let c=t.facet(Sp).selectOnOpen?0:-1;if(i&&i.selected!=c&&i.selected!=-1){let p=i.options[i.selected].completion;for(let f=0;f<u.length;f++)if(u[f].completion==p){c=f;break}}return new p1(u,QL(r,c),{pos:e.reduce((p,f)=>f.hasResult()?Math.min(p,f.from):p,1e8),create:$pe,above:o.aboveCursor},i?i.timestamp:Date.now(),c,!1)}map(e){return new p1(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new p1(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class iE{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new iE(Lpe,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(e){let{state:t}=e,r=t.facet(Sp),i=(r.override||t.languageDataAt("autocomplete",ry(t)).map(Ppe)).map(u=>(this.active.find(p=>p.source==u)||new _m(u,this.active.some(p=>p.state!=0)?1:0)).update(e,r));i.length==this.active.length&&i.every((u,c)=>u==this.active[c])&&(i=this.active);let o=this.open,s=e.effects.some(u=>u.is(XO));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||i.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!function(c,p){if(c==p)return!0;for(let f=0,g=0;;){for(;f<c.length&&!c[f].hasResult();)f++;for(;g<p.length&&!p[g].hasResult();)g++;let y=f==c.length,b=g==p.length;if(y||b)return y==b;if(c[f++].result!=p[g++].result)return!1}}(i,this.active)||s?o=p1.build(i,t,this.id,o,r,s):o&&o.disabled&&!i.some(u=>u.isPending)&&(o=null),!o&&i.every(u=>!u.isPending)&&i.some(u=>u.hasResult())&&(i=i.map(u=>u.hasResult()?new _m(u.source,0):u));for(let u of e.effects)u.is(nK)&&(o=o&&o.setSelected(u.value,this.id));return i==this.active&&o==this.open?this:new iE(i,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Rpe:jpe}}const Rpe={"aria-autocomplete":"list"},jpe={};function QL(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const Lpe=[];function tK(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(eK);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class _m{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=tK(e,t),i=this;(8&r||16&r&&this.touches(e))&&(i=new _m(i.source,0)),4&r&&i.state==0&&(i=new _m(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(rE))i=new _m(i.source,1,o.value);else if(o.is(wx))i=new _m(i.source,0);else if(o.is(XO))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(ry(e.state))}}class T1 extends _m{constructor(e,t,r,i,o,s){super(e,3,t),this.limit=r,this.result=i,this.from=o,this.to=s}hasResult(){return!0}updateFor(e,t){var r;if(!(3&t))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),u=ry(e.state);if(u>s||!i||2&t&&(ry(e.startState)==this.from||u<this.limit))return new _m(this.source,4&t?1:0);let c=e.changes.mapPos(this.limit);return function(f,g,y,b){if(!f)return!1;let _=g.sliceDoc(y,b);return typeof f=="function"?f(_,y,b,g):Zq(f,!0).test(_)}(i.validFor,e.state,o,s)?new T1(this.source,this.explicit,c,i,o,s):i.update&&(i=i.update(i,o,s,new Qq(e.state,u,!1)))?new T1(this.source,this.explicit,c,i,i.from,(r=i.to)!==null&&r!==void 0?r:ry(e.state)):new _m(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new T1(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new _m(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}const XO=su.define({map:(n,e)=>n.map(t=>t.map(e))}),nK=su.define(),Ig=Hp.define({create:()=>iE.start(),update:(n,e)=>n.update(e),provide:n=>[LO.from(n,e=>e.tooltip),pi.contentAttributes.from(n,e=>e.attrs)]});function QO(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Ig).active.find(i=>i.source==e.source);return r instanceof T1&&(typeof t=="string"?n.dispatch(Object.assign(Object.assign({},function(o,s,u,c){let{main:p}=o.selection,f=u-p.from,g=c-p.from;return Object.assign(Object.assign({},o.changeByRange(y=>{if(y!=p&&u!=c&&o.sliceDoc(y.from+f,y.from+g)!=o.sliceDoc(u,c))return{range:y};let b=o.toText(s);return{changes:{from:y.from+f,to:c==p.from?y.to:y.from+g,insert:b},range:cn.cursor(y.from+f+b.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(n.state,t,r.from,r.to)),{annotations:eK.of(e.completion)})):t(n,e.completion,r.from,r.to),!0)}const $pe=Bpe(Ig,QO);function mC(n,e="option"){return t=>{let r=t.state.field(Ig,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(Sp).interactionDelay)return!1;let i,o=1;e=="page"&&(i=JV(t,r.open.tooltip))&&(o=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,u=r.open.selected>-1?r.open.selected+o*(n?1:-1):n?0:s-1;return u<0?u=e=="page"?0:s-1:u>=s&&(u=e=="page"?s-1:0),t.dispatch({effects:nK.of(u)}),!0}}const ZL=n=>!!n.state.field(Ig,!1)&&(n.dispatch({effects:rE.of(!0)}),!0);class zpe{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Upe=Qh.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Ig).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Ig),t=n.state.facet(Sp);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Ig)==e)return;let r=n.transactions.some(o=>{let s=tK(o,t);return 8&s||(o.selection||o.docChanged)&&!(3&s)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>50&&Date.now()-s.time>1e3){for(let u of s.context.abortListeners)try{u()}catch(c){Bg(this.view.state,c)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(o=>o.effects.some(s=>s.is(rE)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.isPending&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of n.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Ig);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Sp).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=ry(e),r=new Qq(e,t,n.explicit,this.view),i=new zpe(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:wx.of(null)}),Bg(this.view.state,o)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Sp).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(Sp),r=this.view.state.field(Ig);for(let i=0;i<this.running.length;i++){let o=this.running[i];if(o.done===void 0)continue;if(this.running.splice(i--,1),o.done){let u=ry(o.updates.length?o.updates[0].startState:this.view.state),c=Math.min(u,o.done.from+(o.active.explicit?0:1)),p=new T1(o.active.source,o.active.explicit,c,o.done,o.done.from,(n=o.done.to)!==null&&n!==void 0?n:u);for(let f of o.updates)p=p.update(f,t);if(p.hasResult()){e.push(p);continue}}let s=r.active.find(u=>u.source==o.active.source);if(s&&s.isPending)if(o.done==null){let u=new _m(o.active.source,0);for(let c of o.updates)u=u.update(c,t);u.isPending||e.push(u)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:XO.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Ig,!1);if(e&&e.tooltip&&this.view.state.facet(Sp).closeOnBlur){let t=e.open&&JV(this.view,e.open.tooltip);t&&t.dom.contains(n.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:wx.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:rE.of(!1)}),20),this.composing=0}}}),Wpe=typeof navigator=="object"&&/Win/.test(navigator.platform),Hpe=Ey.highest(pi.domEventHandlers({keydown(n,e){let t=e.state.field(Ig,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&(!Wpe||!n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(n.key)>-1&&QO(e,r),!1}})),Vpe=pi.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),bx={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Jv=su.define({map(n,e){let t=e.mapPos(n,-1,mg.TrackAfter);return t??void 0}}),BT=new class extends Yv{};BT.startSide=1,BT.endSide=-1;const rK=Hp.define({create:()=>lc.empty,update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Jv)&&(n=n.update({add:[BT.range(t.value,t.value+1)]}));return n}}),e$="()[]{}<>";function iK(n){for(let e=0;e<8;e+=2)if(e$.charCodeAt(e)==n)return e$.charAt(e+1);return SO(n<128?n:n+1)}function oK(n,e){return n.languageDataAt("closeBrackets",e)[0]||bx}const qpe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Kpe=pi.inputHandler.of((n,e,t,r)=>{if((qpe?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&wm(Np(r,0))==1||e!=i.from||t!=i.to)return!1;let o=function(u,c){let p=oK(u,u.selection.main.head),f=p.brackets||bx.brackets;for(let g of f){let y=iK(Np(g,0));if(c==g)return y==g?Xpe(u,g,f.indexOf(g+g+g)>-1,p):Ype(u,g,y,p.before||bx.before);if(c==y&&aK(u,u.selection.main.from))return Jpe(u,g,y)}return null}(n.state,r);return!!o&&(n.dispatch(o),!0)}),Gpe=[{key:"Backspace",run:({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=oK(n,n.selection.main.head).brackets||bx.brackets,r=null,i=n.changeByRange(o=>{if(o.empty){let s=function(c,p){let f=c.sliceString(p-2,p);return wm(Np(f,0))==f.length?f:f.slice(1)}(n.doc,o.head);for(let u of t)if(u==s&&QE(n.doc,o.head)==iK(Np(u,0)))return{changes:{from:o.head-u.length,to:o.head+u.length},range:cn.cursor(o.head-u.length)}}return{range:r=o}});return r||e(n.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function aK(n,e){let t=!1;return n.field(rK).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function QE(n,e){let t=n.sliceString(e,e+2);return t.slice(0,wm(Np(t,0)))}function Ype(n,e,t,r){let i=null,o=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:t,from:s.to}],effects:Jv.of(s.to+e.length),range:cn.range(s.anchor+e.length,s.head+e.length)};let u=QE(n.doc,s.head);return!u||/\s/.test(u)||r.indexOf(u)>-1?{changes:{insert:e+t,from:s.head},effects:Jv.of(s.head+e.length),range:cn.cursor(s.head+e.length)}:{range:i=s}});return i?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Jpe(n,e,t){let r=null,i=n.changeByRange(o=>o.empty&&QE(n.doc,o.head)==t?{changes:{from:o.head,to:o.head+t.length,insert:t},range:cn.cursor(o.head+t.length)}:r={range:o});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function Xpe(n,e,t,r){let i=r.stringPrefixes||bx.stringPrefixes,o=null,s=n.changeByRange(u=>{if(!u.empty)return{changes:[{insert:e,from:u.from},{insert:e,from:u.to}],effects:Jv.of(u.to+e.length),range:cn.range(u.anchor+e.length,u.head+e.length)};let c,p=u.head,f=QE(n.doc,p);if(f==e){if(t$(n,p))return{changes:{insert:e+e,from:p},effects:Jv.of(p+e.length),range:cn.cursor(p+e.length)};if(aK(n,p)){let g=t&&n.sliceDoc(p,p+3*e.length)==e+e+e?e+e+e:e;return{changes:{from:p,to:p+g.length,insert:g},range:cn.cursor(p+g.length)}}}else{if(t&&n.sliceDoc(p-2*e.length,p)==e+e&&(c=n$(n,p-2*e.length,i))>-1&&t$(n,c))return{changes:{insert:e+e+e+e,from:p},effects:Jv.of(p+e.length),range:cn.cursor(p+e.length)};if(n.charCategorizer(p)(f)!=xh.Word&&n$(n,p,i)>-1&&!function(y,b,_,M){let F=ug(y).resolveInner(b,-1),O=M.reduce((j,z)=>Math.max(j,z.length),0);for(let j=0;j<5;j++){let z=y.sliceDoc(F.from,Math.min(F.to,F.from+_.length+O)),W=z.indexOf(_);if(!W||W>-1&&M.indexOf(z.slice(0,W))>-1){let G=F.firstChild;for(;G&&G.from==F.from&&G.to-G.from>_.length+W;){if(y.sliceDoc(G.to-_.length,G.to)==_)return!1;G=G.firstChild}return!0}let J=F.to==b&&F.parent;if(!J)break;F=J}return!1}(n,p,e,i))return{changes:{insert:e+e,from:p},effects:Jv.of(p+e.length),range:cn.cursor(p+e.length)}}return{range:o=u}});return o?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function t$(n,e){let t=ug(n).resolveInner(e+1);return t.parent&&t.from==e}function n$(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=xh.Word)return e;for(let i of t){let o=e-i.length;if(n.sliceDoc(o,e)==i&&r(n.sliceDoc(o-1,o))!=xh.Word)return o}return-1}function Qpe(n={}){return[Hpe,Ig,Sp.of(n),Upe,Zpe,Vpe]}const sK=[{key:"Ctrl-Space",run:ZL},{mac:"Alt-`",run:ZL},{key:"Escape",run:n=>{let e=n.state.field(Ig,!1);return!(!e||!e.active.some(t=>t.state!=0))&&(n.dispatch({effects:wx.of(null)}),!0)}},{key:"ArrowDown",run:mC(!0)},{key:"ArrowUp",run:mC(!1)},{key:"PageDown",run:mC(!0,"page")},{key:"PageUp",run:mC(!1,"page")},{key:"Enter",run:n=>{let e=n.state.field(Ig,!1);return!(n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(Sp).interactionDelay)&&QO(n,e.open.options[e.open.selected])}}],Zpe=Ey.highest(RO.computeN([Sp],n=>n.facet(Sp).defaultKeymap?[sK]:[]));class ege{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class $v{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=e,o=r.facet(xx).markerFilter;o&&(i=o(i,r));let s=ka.set(i.map(u=>u.from==u.to||u.from==u.to-1&&r.doc.lineAt(u.from).to==u.from?ka.widget({widget:new oge(u),diagnostic:u}).range(u.from):ka.mark({attributes:{class:"cm-lintRange cm-lintRange-"+u.severity+(u.markClass?" "+u.markClass:"")},diagnostic:u}).range(u.from,u.to)),!0);return new $v(s,t,Z1(s))}}function Z1(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,o,{spec:s})=>{if(!e||s.diagnostic==e)return r=new ege(i,o,s.diagnostic),!1}),r}const uK=su.define(),ZO=su.define(),lK=su.define(),tm=Hp.define({create:()=>new $v(ka.none,null,null),update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let o=e.changes.mapPos(n.selected.from,1);r=Z1(t,n.selected.diagnostic,o)||Z1(t,null,o)}!t.size&&i&&e.state.facet(xx).autoPanel&&(i=null),n=new $v(t,i,r)}for(let t of e.effects)if(t.is(uK)){let r=e.state.facet(xx).autoPanel?t.value.length?Dx.open:null:n.panel;n=$v.init(t.value,r,e.state)}else t.is(ZO)?n=new $v(n.diagnostics,t.value?Dx.open:null,n.selected):t.is(lK)&&(n=new $v(n.diagnostics,n.panel,t.value));return n},provide:n=>[px.from(n,e=>e.panel),pi.decorations.from(n,e=>e.diagnostics)]}),tge=ka.mark({class:"cm-lintRange cm-lintRange-active"});function nge(n,e,t){let{diagnostics:r}=n.state.field(tm),i=[],o=2e8,s=0;r.between(e-(t<0?1:0),e+(t>0?1:0),(c,p,{spec:f})=>{e>=c&&e<=p&&(c==p||(e>c||t>0)&&(e<p||t<0))&&(i.push(f.diagnostic),o=Math.min(c,o),s=Math.max(p,s))});let u=n.state.facet(xx).tooltipFilter;return u&&(i=u(i,n.state)),i.length?{pos:o,end:s,above:n.state.doc.lineAt(o).to<s,create:()=>({dom:rge(n,i)})}:null}function rge(n,e){return Vf("ul",{class:"cm-tooltip-lint"},e.map(t=>fK(n,t,!1)))}const r$=n=>{let e=n.state.field(tm,!1);return!(!e||!e.panel)&&(n.dispatch({effects:ZO.of(!1)}),!0)},ige=[{key:"Mod-Shift-m",run:n=>{let e=n.state.field(tm,!1);var t,r;e&&e.panel||n.dispatch({effects:(t=n.state,r=[ZO.of(!0)],t.field(tm,!1)?r:r.concat(su.appendConfig.of(sge)))});let i=hx(n,Dx.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let e=n.state.field(tm,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!(!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to))&&(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],xx=Yr.define({combine:n=>Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Y0(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))});function cK(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function fK(n,e,t){var r;let i=t?cK(e.actions):[];return Vf("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},Vf("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let u=!1,c=y=>{if(y.preventDefault(),u)return;u=!0;let b=Z1(n.state.field(tm).diagnostics,e);b&&o.apply(n,b.from,b.to)},{name:p}=o,f=i[s]?p.indexOf(i[s]):-1,g=f<0?p:[p.slice(0,f),Vf("u",p.slice(f,f+1)),p.slice(f+1)];return Vf("button",{type:"button",class:"cm-diagnosticAction",onclick:c,onmousedown:c,"aria-label":` Action: ${p}${f<0?"":` (access key "${i[s]})"`}.`},g)}),e.source&&Vf("div",{class:"cm-diagnosticSource"},e.source))}class oge extends _v{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return Vf("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class i${constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=fK(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Dx{constructor(e){this.view=e,this.items=[],this.list=Vf("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t=>{if(t.keyCode==27)r$(this.view),this.view.focus();else if(t.keyCode==38||t.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(t.keyCode==40||t.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(t.keyCode==36)this.moveSelection(0);else if(t.keyCode==35)this.moveSelection(this.items.length-1);else if(t.keyCode==13)this.view.focus();else{if(!(t.keyCode>=65&&t.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],i=cK(r.actions);for(let o=0;o<i.length;o++)if(i[o].toUpperCase().charCodeAt(0)==t.keyCode){let s=Z1(this.view.state.field(tm).diagnostics,r);s&&r.actions[o].apply(e,s.from,s.to)}}}t.preventDefault()},onclick:t=>{for(let r=0;r<this.items.length;r++)this.items[r].dom.contains(t.target)&&this.moveSelection(r)}}),this.dom=Vf("div",{class:"cm-panel-lint"},this.list,Vf("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>r$(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(tm).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(tm),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,u,{spec:c})=>{let p,f=-1;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==c.diagnostic){f=g;break}f<0?(p=new i$(this.view,c.diagnostic),this.items.splice(r,0,p),i=!0):(p=this.items[f],f>r&&(this.items.splice(r,f-r),i=!0)),t&&p.diagnostic==t.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),o=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new i$(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:u})=>{let c=u.height/this.list.offsetHeight;s.top<u.top?this.list.scrollTop-=(u.top-s.top)/c:s.bottom>u.bottom&&(this.list.scrollTop+=(s.bottom-u.bottom)/c)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=Z1(this.view.state.field(tm).diagnostics,this.items[e].diagnostic);t&&this.view.dispatch({selection:{anchor:t.from,head:t.to},scrollIntoView:!0,effects:lK.of(t)})}static open(e){return new Dx(e)}}function dC(n){return function(t,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const age=pi.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:dC("#d11")},".cm-lintRange-warning":{backgroundImage:dC("orange")},".cm-lintRange-info":{backgroundImage:dC("#999")},".cm-lintRange-hint":{backgroundImage:dC("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),sge=[tm,pi.decorations.compute([tm],n=>{let{selected:e,panel:t}=n.field(tm);return e&&t&&e.from!=e.to?ka.set([tge.range(e.from,e.to)]):ka.none}),jfe(nge,{hideOn:function(e,t){let r=t.pos,i=t.end||r,o=e.state.facet(xx).hideOn(e,r,i);if(o!=null)return o;let s=e.startState.doc.lineAt(t.pos);return!(!e.effects.some(u=>u.is(uK))&&!e.changes.touchesRange(s.from,Math.max(s.to,i)))}}),age];[Gfe(),Jfe,_fe(),Zhe(),Ahe(),vfe(),[ab,xfe],Dc.allowMultipleSelections.of(!0),Dc.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+200)return n;let o=t.sliceString(i.from,r);if(!e.some(p=>p.test(o)))return n;let{state:s}=n,u=-1,c=[];for(let{head:p}of s.selection.ranges){let f=s.doc.lineAt(p);if(f.from==u)continue;u=f.from;let g=WO(s,f.from);if(g==null)continue;let y=/^\s*/.exec(f.text)[0],b=gx(s,g);y!=b&&c.push({from:f.from,to:f.from+y.length,insert:b})}return c.length?[n,{changes:c,sequential:!0}]:n}),Mhe(The,{fallback:!0}),Lhe(),[Kpe,rK],Qpe(),pi.mouseSelectionStyle.of((n,e)=>(t=>t.altKey&&t.button==0)(e)?Ffe(n,e):null),Ife(),Mfe,[ype,vpe],RO.of([...Gpe,...fpe,...Epe,...ape,...Che,...sK,...ige])];var RT=function(n,e){return RT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},RT(n,e)};function vh(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}RT(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Nu=function(){return Nu=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},Nu.apply(this,arguments)};function Nm(n,e,t){for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return n.concat(r||Array.prototype.slice.call(e))}var o$=function(){function n(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100]},signalData:{},templateData:{}}}return n.prototype.addDiscreteSignal=function(e,t){this._project.orgData.signalIds.push(e),this._project.orgData.signalNames[e]=t,this._project.orgData.signalTypes[e]="discrete",this._project.signalData[e]={id:e,type:"discrete",pinIds:[],pinTimes:{},pinValues:{}}},n.prototype.addContinuousSignal=function(e,t,r){this._project.orgData.signalIds.push(e),this._project.orgData.signalNames[e]=t,this._project.orgData.signalTypes[e]="continuous",this._project.signalData[e]={id:e,type:"continuous",range:r,pinIds:[],pinTimes:{},pinValues:{},curves:{}}},n.prototype.addPin=function(e,t,r,i){var o=this._project.signalData[e],s=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(s),this._project.orgData.signalIdByPinId[s]=e,o.type==="continuous"){if(o.pinIds.push(s),o.pinTimes[s]=t,typeof r!="number")throw new Error("Continuous signal pin value must be a number");if(o.pinValues[s]=r,!i)throw new Error("Continuous signal pin must have a curve");i&&(o.curves[s]=i)}if(o.type==="discrete"){if(o.pinIds.push(s),o.pinTimes[s]=t,typeof r!="string")throw new Error("Discrete signal pin value must be a string");o.pinValues[s]=r}},n.prototype.setTimelineData=function(e,t,r){this._project.timelineData=Nu(Nu({},this._project.timelineData),{numberOfFrames:e,framesPerSecond:t,playheadPosition:r})},n.prototype.setSignalActiveStatus=function(e,t){t?this._project.orgData.activeSignalIds.push(e):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(r){return r!==e})},n.prototype.getProject=function(){return this._project},n.prototype.addCurveTemplate=function(e,t){this._project.templateData[e]=t},n}(),uge=Object.freeze({__proto__:null,ProjectBuilder:o$,defaultProject:function(){var n=new o$;return n.addDiscreteSignal("signal1","Signal 1"),n.addContinuousSignal("signal2","Signal 2",[0,1]),n.addPin("signal1",100,"VALUE"),n.addPin("signal2",100,0,"return easyLinear();"),n.setSignalActiveStatus("signal1",!0),n.setSignalActiveStatus("signal2",!0),n.getProject()}}),jT=function(){function n(e,t,r){if(r===void 0&&(r=1e4),this.content=e,this.__transformer=t,typeof r=="number"){if(r<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:r}}else this.__internal=r;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return n.deserialize=function(e,t){var r=JSON.parse(e);return new n(r.content,t,r.__internal)},n.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},n.prototype.next=function(){var e=this.__internal.states[this.__internal.cursor].nextState;if(!e)return{success:!1,message:"No next state"};var t=this.__internal.cursor,r=this.__internal.states[t].forward;return this.__internal.cursor=e,this.content=this.__transformer(this.content,r),{success:!0,message:"Next state reached"}},n.prototype.previous=function(){var e=this.__internal.states[this.__internal.cursor].previousState;if(!e)return{success:!1,message:"No previous state"};var t=this.__internal.cursor,r=this.__internal.states[t].backward;return this.__internal.cursor=e,this.content=this.__transformer(this.content,r),{success:!0,message:"Previous state reached"}},n.prototype.goToNamedState=function(e){var t=this.__internal.namedStates[e];if(!t)return{success:!1,message:"Named state not found"};if(!this.__internal.states[t])throw new Error("Named state has no corresponding state");var r=this.__internal.cursor;if(t===r)return{success:!0,message:"Already at named state"};for(var i="forward",o=r,s=0;o&&s<this.__MAX_ITERATIONS;)s++,o===t&&(i="backward"),o=this.__internal.states[o].previousState;if(i==="forward"){for(s=0;this.__internal.cursor!==t&&s<this.__MAX_ITERATIONS;)if(s++,!(u=this.next()).success)throw new Error(u.message)}else for(s=0;this.__internal.cursor!==t&&s<this.__MAX_ITERATIONS;){var u;if(s++,!(u=this.previous()).success)throw new Error(u.message)}return{success:!0,message:"Moved to named state"}},n.prototype.saveAsNamedState=function(e){this.__internal.namedStates[e]=this.__internal.cursor},n.prototype.appendToCurrentState=function(e,t){this.content=this.__transformer(this.content,e);var r=this.__internal.cursor,i=this.__internal.states[r].forward,o=this.__internal.states[r].backward;this.__internal.states[r].forward=i.concat(e),this.__internal.states[r].backward=t.concat(o)},n.prototype.addNextState=function(e,t){for(var r=this,i=[],o=u=this.__internal.cursor,s=0;o&&s<this.__MAX_ITERATIONS;)s++,(o=this.__internal.states[o].nextState)&&i.push(o);i.forEach(function(y){delete r.__internal.states[y]});var u=this.__internal.cursor,c="state".concat(function(){for(var y="",b=0;b<10;b++)y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return y}());this.__internal.states[c]={forward:e,backward:t,nextState:void 0,previousState:u},this.__internal.states[u].nextState=c,this.__internal.cursor=c,this.content=this.__transformer(this.content,e);var p=1,f=(o=u=this.__internal.cursor,[u]);for(s=0;o&&p<this.__internal.maxSize&&s<this.__MAX_ITERATIONS;)s++,(o=this.__internal.states[o].previousState)&&f.push(o),p++;var g=Object.keys(this.__internal.states).filter(function(y){return!f.includes(y)});g.forEach(function(y){delete r.__internal.states[y]}),f.forEach(function(y,b){var _=r.__internal.states[y].previousState,M=r.__internal.states[y].nextState;_&&!r.__internal.states[_]&&(r.__internal.states[y].previousState=void 0),M&&!r.__internal.states[M]&&(r.__internal.states[y].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(y){var b=r.__internal.namedStates[y];if(!b)throw new Error("Named state has no corresponding state");r.__internal.states[b]||delete r.__internal.namedStates[y]})},n.prototype.executeCommand=function(e){switch(e.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(e.namedState);break;case"saveAsNamedState":this.saveAsNamedState(e.namedState);break;case"addNextState":this.addNextState(e.forward,e.backward);break;case"appendToCurrentState":this.appendToCurrentState(e.forward,e.backward);break;default:throw new Error("Invalid command")}},n.prototype.executeCommands=function(e){var t=this;e.forEach(function(r){return t.executeCommand(r)})},n}(),hK=function(){function n(e){this.subscribers=[],this.update=[],this.dispatch=e,this.authorId="a".concat(oE())}return n.prototype.subscribeToProjectUpdates=function(e){var t=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(e),function(){t.subscribers=t.subscribers.filter(function(r){return r!==e})}},n.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},n.prototype.pushCommand=function(e){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var t=e();this.worm.executeCommand(t),this.update.push(t)}catch(r){console.error(r)}},n.prototype.pushCommands=function(e){var t;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var r=e();this.worm.executeCommands(r),(t=this.update).push.apply(t,r)}catch(i){console.error(i)}},n.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var e=this.update;this.update=[];var t=this.projectStateId;this.projectStateId="ps".concat(oE()),this.subscribers.forEach(function(r){return r()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:e,lastAgreedProjectStateId:t,newProjectStateId:this.projectStateId})},n.prototype.processUpdate=function(e){if(this.worm&&this.projectStateId){var t=e.lastAgreedProjectStateId,r=e.newProjectStateId;(this.host?t===this.projectStateId&&e.authorIsHost===!1&&this.update.length===0:t===this.projectStateId)?(this.update=[],this.worm.executeCommands(e.instructions),this.projectStateId=r,this.subscribers.forEach(function(i){return i()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},n}(),lge=function(n){function e(t,r){var i=n.call(this,t.dispatch)||this;return i.host=!0,i.worm=r,i.projectStateId="ps".concat(oE()),i.dispatch({authorId:i.authorId,authorIsHost:!0,type:"hostIsConnected"}),i}return vh(e,n),Object.defineProperty(e.prototype,"initialized",{get:function(){return!0},enumerable:!1,configurable:!0}),e.fromProject=function(t,r){return new e(t,new jT(r,t.projectTransformer))},e.fromSerializedWorm=function(t,r){return new e(t,jT.deserialize(r,t.projectTransformer))},e.prototype.receive=function(t){if(t.authorId!==this.authorId)switch(t.type){case"requestProject":this.pushProject(t.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(t);break;default:throw new Error("Invalid event type")}},e.prototype.pushProject=function(t){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:t})},e}(hK),cge=function(n){function e(t){var r=n.call(this,t.dispatch)||this;return r.host=!1,r.projectRequestCallbacks={},r.__projectTransformer=t.projectTransformer,r}return vh(e,n),Object.defineProperty(e.prototype,"initialized",{get:function(){return this.worm!==void 0&&this.projectStateId!==void 0},enumerable:!1,configurable:!0}),e.prototype.receive=function(t){if(t.authorId!==this.authorId)switch(t.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=jT.deserialize(t.serializedWorm,this.__projectTransformer),this.projectStateId=t.initialProjectStateId,t.requestId&&this.projectRequestCallbacks[t.requestId]&&(this.projectRequestCallbacks[t.requestId](),delete this.projectRequestCallbacks[t.requestId]);break;case"pushUpdate":this.processUpdate(t);break;default:throw new Error("Invalid event type")}},e.prototype.requestProject=function(t){var r;t&&(r="r".concat(oE()),this.projectRequestCallbacks[r]=t),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:r})},e}(hK),oE=function(){for(var n="",e=0;e<10;e++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return n},pK=Symbol.for("immer-nothing"),a$=Symbol.for("immer-draftable"),om=Symbol.for("immer-state");function Um(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ew=Object.getPrototypeOf;function I1(n){return!!n&&!!n[om]}function xy(n){var e;return!!n&&(gK(n)||Array.isArray(n)||!!n[a$]||!!((e=n.constructor)!=null&&e[a$])||eA(n)||tA(n))}var fge=Object.prototype.constructor.toString();function gK(n){if(!n||typeof n!="object")return!1;const e=ew(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object||typeof t=="function"&&Function.toString.call(t)===fge}function aE(n,e){ZE(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function ZE(n){const e=n[om];return e?e.type_:Array.isArray(n)?1:eA(n)?2:tA(n)?3:0}function LT(n,e){return ZE(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function mK(n,e,t){const r=ZE(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function eA(n){return n instanceof Map}function tA(n){return n instanceof Set}function jv(n){return n.copy_||n.base_}function $T(n,e){if(eA(n))return new Map(n);if(tA(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=gK(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[om];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:n[s]})}return Object.create(ew(n),r)}{const r=ew(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function eN(n,e=!1){return nA(n)||I1(n)||!xy(n)||(ZE(n)>1&&(n.set=n.add=n.clear=n.delete=hge),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>eN(r,!0))),n}function hge(){Um(2)}function nA(n){return Object.isFrozen(n)}var Cx,pge={};function Dy(n){const e=pge[n];return e||Um(0,n),e}function s$(){return Cx}function u$(n,e){e&&(Dy("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function zT(n){UT(n),n.drafts_.forEach(gge),n.drafts_=null}function UT(n){n===Cx&&(Cx=n.parent_)}function l$(n){return Cx={drafts_:[],parent_:Cx,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function gge(n){const e=n[om];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function c$(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[om].modified_&&(zT(e),Um(4)),xy(n)&&(n=sE(e,n),e.parent_||uE(e,n)),e.patches_&&Dy("Patches").generateReplacementPatches_(t[om].base_,n,e.patches_,e.inversePatches_)):n=sE(e,t,[]),zT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==pK?n:void 0}function sE(n,e,t){if(nA(e))return e;const r=e[om];if(!r)return aE(e,(i,o)=>f$(n,r,e,i,o,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return uE(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),aE(o,(u,c)=>f$(n,r,i,u,c,t,s)),uE(n,i,!1),t&&n.patches_&&Dy("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function f$(n,e,t,r,i,o,s){if(I1(i)){const u=sE(n,i,o&&e&&e.type_!==3&&!LT(e.assigned_,r)?o.concat(r):void 0);if(mK(t,r,u),!I1(u))return;n.canAutoFreeze_=!1}else s&&t.add(i);if(xy(i)&&!nA(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;sE(n,i),e&&e.scope_.parent_||typeof r=="symbol"||!Object.prototype.propertyIsEnumerable.call(t,r)||uE(n,i)}}function uE(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&eN(e,t)}var WT={get(n,e){if(e===om)return n;const t=jv(n);if(!LT(t,e))return function(i,o,s){var c;const u=h$(o,s);return u?"value"in u?u.value:(c=u.get)==null?void 0:c.call(i.draft_):void 0}(n,t,e);const r=t[e];return n.finalized_||!xy(r)?r:r===aM(n.base_,e)?(sM(n),n.copy_[e]=VT(r,n)):r},has:(n,e)=>e in jv(n),ownKeys:n=>Reflect.ownKeys(jv(n)),set(n,e,t){const r=h$(jv(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const s=aM(jv(n),e),u=s==null?void 0:s[om];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(((i=t)===(o=s)?i!==0||1/i==1/o:i!=i&&o!=o)&&(t!==void 0||LT(n.base_,e)))return!0;sM(n),HT(n)}var i,o;return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty:(n,e)=>(aM(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,sM(n),HT(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0),getOwnPropertyDescriptor(n,e){const t=jv(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){Um(11)},getPrototypeOf:n=>ew(n.base_),setPrototypeOf(){Um(12)}},ub={};function aM(n,e){const t=n[om];return(t?jv(t):n)[e]}function h$(n,e){if(!(e in n))return;let t=ew(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ew(t)}}function HT(n){n.modified_||(n.modified_=!0,n.parent_&&HT(n.parent_))}function sM(n){n.copy_||(n.copy_=$T(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function VT(n,e){const t=eA(n)?Dy("MapSet").proxyMap_(n,e):tA(n)?Dy("MapSet").proxySet_(n,e):function(r,i){const o=Array.isArray(r),s={type_:o?1:0,scope_:i?i.scope_:s$(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let u=s,c=WT;o&&(u=[s],c=ub);const{revoke:p,proxy:f}=Proxy.revocable(u,c);return s.draft_=f,s.revoke_=p,f}(n,e);return(e?e.scope_:s$()).drafts_.push(t),t}function dK(n){if(!xy(n)||nA(n))return n;const e=n[om];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=$T(n,e.scope_.immer_.useStrictShallowCopy_)}else t=$T(n,!0);return aE(t,(r,i)=>{mK(t,r,dK(i))}),e&&(e.finalized_=!1),t}aE(WT,(n,e)=>{ub[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),ub.deleteProperty=function(n,e){return ub.set.call(this,n,e,void 0)},ub.set=function(n,e,t){return WT.set.call(this,n[0],e,t,n[0])};var Kg=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const o=t;t=e;const s=this;return function(u=o,...c){return s.produce(u,p=>t.call(this,p,...c))}}let i;if(typeof t!="function"&&Um(6),r!==void 0&&typeof r!="function"&&Um(7),xy(e)){const o=l$(this),s=VT(e,void 0);let u=!0;try{i=t(s),u=!1}finally{u?zT(o):UT(o)}return u$(o,r),c$(i,o)}if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===pK&&(i=void 0),this.autoFreeze_&&eN(i,!0),r){const o=[],s=[];Dy("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}Um(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...s)=>this.produceWithPatches(o,u=>e(u,...s));let r,i;return[this.produce(e,t,(o,s)=>{r=o,i=s}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){xy(n)||Um(8),I1(n)&&(n=function(r){return I1(r)||Um(10,r),dK(r)}(n));const e=l$(this),t=VT(n,void 0);return t[om].isManual_=!0,UT(e),t}finishDraft(n,e){const t=n&&n[om];t&&t.isManual_||Um(9);const{scope_:r}=t;return u$(r,e),c$(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Dy("Patches").applyPatches_;return I1(n)?r(n,e):this.produce(n,i=>r(i,e))}},mge=Kg.produce;function p$(n,e){var t=e.pinId,r=!1;for(var i in n.signalData){var o=n.signalData[i],s=o.pinIds.indexOf(t);if(s!==-1){o.pinIds.splice(s,1),delete o.pinTimes[t],delete o.pinValues[t],o.type==="continuous"&&delete o.curves[t],r=!0;break}}if(!r)throw new Error("Pin with id ".concat(t," not found"));n.orgData.pinIds=n.orgData.pinIds.filter(function(u){return u!==t}),delete n.orgData.signalIdByPinId[t]}Kg.produceWithPatches.bind(Kg),Kg.setAutoFreeze.bind(Kg),Kg.setUseStrictShallowCopy.bind(Kg),Kg.applyPatches.bind(Kg),Kg.createDraft.bind(Kg),Kg.finishDraft.bind(Kg);var dge={addPin:function(n,e){var t=e.signalId,r=e.pinId,i=e.pinTime,o=e.pinValue,s=e.functionString,u=n.signalData[t];if(!u)throw new Error("Signal with id ".concat(t," not found"));var c=u.type;if(c==="continuous"&&typeof o!="number")throw new Error("Pin value must be a number for continuous signals");if(c==="discrete"&&typeof o!="string")throw new Error("Pin value must be a string for discrete signals");for(var p in n.signalData)if(n.signalData[p].pinIds.includes(r))throw new Error("Pin with id ".concat(r," already exists"));if(Object.values(u.pinTimes).includes(i))throw new Error("Pin time must be unique within the signal");var f=n.timelineData.numberOfFrames;if(i<0||i>f)throw new Error("Pin time must be between 0 and ".concat(f));if(c==="continuous"){var g=u.range,y=g[0],b=g[1];if(o<y||o>b)throw new Error("Pin value must be between ".concat(y," and ").concat(b));if(!s)throw new Error("Curve is required for continuous signals")}var _=u.pinIds;if(_.length===0)u.pinIds.push(r);else{var M=_.findIndex(function(F){return u.pinTimes[F]>=i});M===-1&&(M=_.length),u.pinIds.splice(M,0,r)}u.pinTimes[r]=i,u.pinValues[r]=o,c==="continuous"&&(u.curves[r]=s),n.orgData.pinIds.push(r),n.orgData.signalIdByPinId[r]=t},deletePin:p$,updatePinTime:function(n,e){var t=e.pinId,r=e.pinTime,i=n.timelineData.numberOfFrames;if(r<0||r>i)throw new Error("Pin time must be between 0 and ".concat(i));var o=!1,s=function(c){var p=n.signalData[c];if(p.pinIds.includes(t)){p.pinTimes[t]=r;var f=p.pinIds,g=f.indexOf(t);f.splice(g,1);var y=f.findIndex(function(b){return p.pinTimes[b]>=r});return y===-1&&(y=f.length),f.splice(y,0,t),o=!0,"break"}};for(var u in n.signalData)if(s(u)==="break")break;if(!o)throw new Error("Pin with id ".concat(t," not found"))},updatePinValue:function(n,e){var t=e.pinId,r=e.pinValue,i=!1;for(var o in n.signalData){var s=n.signalData[o];if(s.pinIds.includes(t)){if(s.type==="continuous"&&typeof r!="number")throw new Error("Pin value must be a number for continuous signals");if(s.type==="discrete"&&typeof r!="string")throw new Error("Pin value must be a string for discrete signals");if(s.type==="continuous"){var u=s.range,c=u[0],p=u[1];if(r<c||r>p)throw new Error("Pin value must be between ".concat(c," and ").concat(p))}s.pinValues[t]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(t," not found"))},updatePins:function(n,e){for(var t=function(o){var s=o.pinId,u=o.pinTime,c=o.pinValue,p=o.functionString,f=n.orgData.signalIdByPinId[s];if(!f)throw new Error("Pin with id ".concat(s," not found"));var g=n.signalData[f];if(g.type==="continuous"&&typeof c!="number")throw new Error("Pin value must be a number for continuous signals");if(g.type==="discrete"&&typeof c!="string")throw new Error("Pin value must be a string for discrete signals");if(g.type==="continuous"){var y=g.range,b=y[0],_=y[1];if(c<b||c>_)throw new Error("Pin value must be between ".concat(b," and ").concat(_));if(!p)throw new Error("Curve is required for continuous signals")}g.pinTimes[s]=u,g.pinValues[s]=c;var M=g.pinIds,F=M.indexOf(s);M.splice(F,1);var O=M.findIndex(function(j){return g.pinTimes[j]>=u});O===-1&&(O=M.length),M.splice(O,0,s),g.type==="continuous"&&(g.curves[s]=p)},r=0,i=e.pins;r<i.length;r++)t(i[r])},updateCurve:function(n,e){var t=e.pinId,r=e.functionString,i=!1;for(var o in n.signalData){var s=n.signalData[o];if(s.type!=="discrete"&&s.pinIds.includes(t)){s.curves[t]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(t," not found"))},createSignal:function(n,e){var t,r=e.signalId,i=e.signalType,o=e.signalName,s=e.range;if(n.signalData[r])throw new Error("Signal with id ".concat(r," already exists"));if(i!=="continuous"&&i!=="discrete")throw new Error("Signal type must be continuous or discrete");if(i==="continuous"){if(!s)throw new Error("Range is required for continuous signals");if(s[0]>=s[1])throw new Error("Min value must be less than max value");t={id:r,type:i,range:s,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}i==="discrete"&&(t={id:r,type:i,pinIds:[],pinTimes:{},pinValues:{}}),n.signalData[r]=t,n.orgData.signalIds.push(r),n.orgData.signalNames[r]=o,n.orgData.signalTypes[r]=i,n.orgData.activeSignalIds.push(r)},deleteSignal:function(n,e){var t=e.signalId;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));delete n.signalData[t],n.orgData.signalIds=n.orgData.signalIds.filter(function(r){return r!==t}),delete n.orgData.signalNames[t],n.orgData.activeSignalIds=n.orgData.activeSignalIds.filter(function(r){return r!==t})},updateSignalName:function(n,e){var t=e.signalId,r=e.signalName;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));n.orgData.signalNames[t]=r},updateSignalRange:function(n,e){var t=e.signalId,r=e.range;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));if(n.signalData[t].type!=="continuous")throw new Error("Range can only be updated for continuous signals");if(r[0]>=r[1])throw new Error("Min value must be less than max value");n.signalData[t].range=r},updateSignalIndex:function(n,e){var t=e.signalId,r=e.index,i=n.orgData.signalIds,o=i.indexOf(t);if(o===-1)throw new Error("Signal with id ".concat(t," not found"));i.splice(o,1),i.splice(r,0,t)},updateSignalActiveStatus:function(n,e){var t=e.signalId,r=e.active;if(!n.signalData[t])throw new Error("Signal with id ".concat(t," not found"));var i=n.orgData.activeSignalIds,o=i.indexOf(t);r&&o===-1&&i.push(t),r||o===-1||i.splice(o,1)},updateFramesPerSecond:function(n,e){var t=e.framesPerSecond;if(t<=0)throw new Error("Frames per second must be greater than 0");n.timelineData.framesPerSecond=t},updatePlayheadPosition:function(n,e){var t=e.playheadPosition;if(t<0||t>n.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(n.timelineData.numberOfFrames));n.timelineData.playheadPosition=t},updateNumberOfFrames:function(n,e){var t=e.numberOfFrames;if(t<=0)throw new Error("Number of frames must be greater than 0");for(var r in n.timelineData.numberOfFrames=t,n.signalData)for(var i=n.signalData[r],o=0,s=i.pinIds;o<s.length;o++){var u=s[o];i.pinTimes[u]>t&&p$(n,{type:"deletePin",pinId:u})}},updateProjectName:function(n,e){var t=e.projectName;n.metaData.name=t},updateFocusRange:function(n,e){var t=e.focusRange,r=t[0],i=t[1];if(r<0||i>n.timelineData.numberOfFrames||r>=i)throw new Error("Invalid focus range");n.timelineData.focusRange=t},updateCurveTemplate:function(n,e){var t=e.curveId,r=e.functionString;if(!n.templateData[t])throw new Error("Curve template with id ".concat(t," not found"));n.templateData[t]=r},addCurveTemplate:function(n,e){var t=e.curveId,r=e.functionString;if(n.templateData[t])throw new Error("Curve template with id ".concat(t," already exists"));n.templateData[t]=r},deleteCurveTemplate:function(n,e){var t=e.curveId;if(!n.templateData[t])throw new Error("Curve template with id ".concat(t," not found"));delete n.templateData[t]}};function g$(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var vge={type:"saveAsNamedState",namedState:"commit"},yge={type:"goToNamedState",namedState:"commit"};function t1(n,e,t,r,i){return{type:"addPin",signalId:n,pinId:e,pinTime:t,pinValue:r,functionString:i}}function m$(n,e){var t=n(),r=Object.keys(t.signalData).find(function(c){var p;return(p=t.signalData[c])===null||p===void 0?void 0:p.pinIds.includes(e)});if(!r)throw new Error("Pin not found");var i=t.signalData[r].type,o=t.signalData[r].pinTimes[e],s=t.signalData[r].pinValues[e],u=i==="continuous"?t.signalData[r].curves[e]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:e}],backward:[t1(r,e,o,s,u)]}}var d$=lge,wge=cge,uM=function(e,t){return mge(e,function(r){for(var i=0;i<t.length;i++){var o=t[i];(0,dge[o.type])(r,o)}})},bge=function(){function n(e,t,r,i){if(t){if(!r&&!i)throw new Error("Project or worm must be provided to host project controller");var o=void 0;if(r&&(o=d$.fromProject({dispatch:e,projectTransformer:uM},r)).worm.saveAsNamedState("commit"),i&&(o=d$.fromSerializedWorm({dispatch:e,projectTransformer:uM},i)),!o)throw new Error("Project node not created");this.projectNode=o,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new wge({dispatch:e,projectTransformer:uM});var s=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=s}}return n.Host=function(e,t){return new n(e,!0,t)},n.HostFromProject=function(e,t){return new n(e,!0,t)},n.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},n.HostFromSerializedWorm=function(e,t){return new n(e,!0,void 0,t)},n.Client=function(e){return new n(e,!1,void 0)},n.prototype.receive=function(e){this.projectNode.receive(e)},Object.defineProperty(n.prototype,"projectTools",{get:function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var e=this.projectNode.pushUpdate.bind(this.projectNode),t=this.projectNode.getProject.bind(this.projectNode),r=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(i,o,s,u){function c(){o(function(){return yge})}function p(){o(function(){return vge})}return{returnToLastCommit:function(){c()},pushUpdate:i,addPinContinuous:function(f,g,y,b,_,M){M&&c(),o(function(){var F=u().signalData[f],O=F.pinTimes,j=F.pinIds.findIndex(function(G){return O[G]===y}),z=[];j!==-1&&z.push({type:"deletePin",pinId:F.pinIds[j]}),z.push(t1(f,g,y,b,_));var W=[];if(W.push({type:"deletePin",pinId:g}),j!==-1){var J=F.pinIds[j];W.push(t1(f,J,F.pinTimes[J],F.pinValues[J],F.curves[J]))}return{type:"addNextState",forward:z,backward:W}}),M&&(p(),i())},addPinDiscrete:function(f,g,y,b,_){_&&c(),o(function(){var M=u().signalData[f],F=M.pinTimes,O=M.pinIds.findIndex(function(J){return F[J]===y}),j=[];O!==-1&&j.push({type:"deletePin",pinId:M.pinIds[O]}),j.push(t1(f,g,y,b));var z=[];if(z.push({type:"deletePin",pinId:g}),O!==-1){var W=M.pinIds[O];z.push(t1(f,W,M.pinTimes[W],M.pinValues[W]))}return{type:"addNextState",forward:j,backward:z}}),_&&(p(),i())},deletePin:function(f){c(),o(function(){return m$(u,f)}),p(),i()},deletePins:function(f){c(),f.forEach(function(g){o(function(){return m$(u,g)})}),p(),i()},updatePins:function(f,g){g&&c();var y=u(),b={type:"updatePins",pins:[]},_={type:"updatePins",pins:[]};f.forEach(function(M){var F=M.pinId,O=y.orgData.signalIdByPinId[F],j=M.pinTime,z=M.pinValue,W=M.pinType==="continuous"?M.functionString:void 0,J=y.signalData[O].pinTimes[F],G=y.signalData[O].pinValues[F],Q=M.pinType==="continuous"?y.signalData[O].curves[F]:void 0,te={pinId:F,pinTime:j??J,pinValue:z??G,functionString:W??Q},ae={pinId:F,pinTime:J,pinValue:G,functionString:Q};b.pins.push(te),_.pins.push(ae)}),o(function(){return{type:"addNextState",forward:[b],backward:[_]}}),g&&p(),i()},updateCurve:function(f,g){c(),o(function(){var y=u(),b=Object.keys(y.signalData).find(function(_){var M;return(M=y.signalData[_])===null||M===void 0?void 0:M.pinIds.includes(f)});if(!b)throw new Error("Pin not found");if(y.signalData[b].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:f,functionString:g}],backward:[{type:"updateCurve",pinId:f,functionString:y.signalData[b].curves[f]}]}}),p(),i()},createSignal:function(f,g,y,b){c(),o(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:f,signalType:g,signalName:y,range:b}],backward:[{type:"deleteSignal",signalId:f}]}}),p(),i()},duplicateSignal:function(f){c();var g=g$();o(function(){var y=u(),b=y.signalData[f];if(!b)throw new Error("Signal not found");var _=y.orgData.signalNames[f]+"_copy",M=b.type==="continuous"?b.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:g,signalType:b.type,signalName:_,range:M}],backward:[{type:"deleteSignal",signalId:g}]}}),o(function(){var y=u(),b=y.signalData[f].pinIds,_=y.signalData[f].type,M=b.map(function(F){var O,j=y.signalData[f].pinTimes[F],z=y.signalData[f].pinValues[F];return _==="continuous"&&(O=y.signalData[f].curves[F]),{pinTime:j,pinValue:z,functionString:O,pinId:g$()}});return{type:"addNextState",forward:M.map(function(F){return t1(g,F.pinId,F.pinTime,F.pinValue,F.functionString)}),backward:M.map(function(F){return{type:"deletePin",pinId:F.pinId}})}}),p(),i()},deleteSignal:function(f){c(),o(function(){var g=u(),y=g.signalData[f];if(!y)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:f}],backward:[{type:"createSignal",signalId:f,signalType:y.type,signalName:g.orgData.signalNames[f],range:y.type==="continuous"?y.range:void 0}]}}),p(),i()},updateSignalName:function(f,g){c(),o(function(){var y=u();if(!y.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:f,signalName:g}],backward:[{type:"updateSignalName",signalId:f,signalName:y.orgData.signalNames[f]}]}}),p(),i()},updateSignalRange:function(f,g){c(),o(function(){var y=u().signalData[f];if(!y)throw new Error("Signal not found");if(y.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:f,range:g}],backward:[{type:"updateSignalRange",signalId:f,range:y.range}]}}),p(),i()},updateSignalIndex:function(f,g,y){y&&c(),o(function(){var b=u();if(!b.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:f,index:g}],backward:[{type:"updateSignalIndex",signalId:f,index:b.orgData.activeSignalIds.indexOf(f)}]}}),y&&p(),i()},updateSignalActiveStatus:function(f,g){c(),o(function(){var y=u();if(!y.signalData[f])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:f,active:g}],backward:[{type:"updateSignalActiveStatus",signalId:f,active:y.orgData.activeSignalIds.includes(f)}]}}),p(),i()},updateFramesPerSecond:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:f}],backward:[{type:"updateFramesPerSecond",framesPerSecond:g.timelineData.framesPerSecond}]}}),p(),i()},updatePlayheadPosition:function(f,g){g&&c(),o(function(){var y=u();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:f}],backward:[{type:"updatePlayheadPosition",playheadPosition:y.timelineData.playheadPosition}]}}),g&&p(),i()},updateFocusRange:function(f){var g=f[0],y=f[1];c(),o(function(){var b=u();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[g,y]}],backward:[{type:"updateFocusRange",focusRange:b.timelineData.focusRange}]}}),p(),i()},updateNumberOfFrames:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:f}],backward:[{type:"updateNumberOfFrames",numberOfFrames:g.timelineData.numberOfFrames}]}}),p(),i()},updateProjectName:function(f){c(),o(function(){var g=u();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:f}],backward:[{type:"updateProjectName",projectName:g.metaData.name}]}}),p(),i()},undo:function(){c(),o(function(){return{type:"previous"}}),p(),i()},redo:function(){c(),o(function(){return{type:"next"}}),p(),i()},addCurveTemplate:function(f,g){o(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:f,functionString:g}],backward:[{type:"deleteCurveTemplate",curveId:f}]}}),i()},deleteCurveTemplate:function(f){o(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:f}],backward:[{type:"addCurveTemplate",curveId:f,functionString:u().templateData[f]}]}}),i()},updateCurveTemplate:function(f,g){o(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:f,functionString:g}],backward:[{type:"updateCurveTemplate",curveId:f,functionString:u().templateData[f]}]}}),i()}}}(e,r,0,t)},enumerable:!1,configurable:!0}),n.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},n.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},n.prototype.subscribeToProjectUpdates=function(e){return this.projectNode.subscribeToProjectUpdates(e)},n.prototype.interpolateSignalValueAtTime=function(e,t){if(!this.projectNode.initialized)throw new Error("Project not initialized");var r=this.projectNode.getProject();return vK(r,e,t)},n}(),xge=Object.freeze({__proto__:null,dispatchProjectEvent:function(e,t,r){return r===void 0&&(r="default"),function(i){var o={type:"projectNodeEvent",event:i,channel:r};e.postMessage(o,t)}},subscribeToProjectEvents:function(e,t){return t===void 0&&(t="default"),function(r){function i(o){if(o.origin===e&&o.data.type==="projectNodeEvent"&&o.data.channel===t){var s=o.data.event;r(s)}}return window.addEventListener("message",i),function(){return window.removeEventListener("message",i)}}}}),Dge=Object.freeze({__proto__:null,dispatchProjectEvent:function(n){return n===void 0&&(n="default"),function(e){var t=new CustomEvent("projectNodeEvent",{detail:{event:e,channel:n}});window.dispatchEvent(t)}},subscribeToProjectEvents:function(n){return n===void 0&&(n="default"),function(e){function t(r){if(r.type==="projectNodeEvent"&&r.detail.channel===n){var i=r.detail.event;e(i)}}return window.addEventListener("projectNodeEvent",t),function(){return window.removeEventListener("projectNodeEvent",t)}}}}),Cge=Object.freeze({__proto__:null,CustomEventAPI:Dge,PinsAndCurvesProjectController:bge,PostMessageAPI:xge});function Sge(n,e,t){return n+(e-n)*t}function v$(n){return n*n*n}function y$(n){return 1-Math.pow(1-n,3)}function w$(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function b$(n){var e=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*e)+1}var vC={},x$={},D$=1e-6,_ge=function(n,e,t,r){var i=n.signalData[e],o=Object.entries(i.pinTimes).sort(function(u,c){return u[1]-c[1]}).find(function(u){return u[0],u[1]>=t});if(o===void 0)return"END VALUE";var s=o[0];return o[1],i.pinValues[s]},vK=function(n,e,t,r){if(r===void 0&&(r=0),++r>1e3)throw new Error("Exceeded maximum iteration count");var i=n.timelineData.numberOfFrames;if(t<0||t>i)throw new Error("Time out of range");var o=n.signalData[e].type;if(o==="discrete")return[_ge(n,e,t),[]];if(o==="continuous")return function(s,u,c,p){var f=s.signalData[u],g=f.range,y=g[0],b=g[1],_=Object.entries(f.pinTimes).sort(function(Ne,Ee){return Ne[1]-Ee[1]}),M=_.find(function(Ne){return Ne[0],Ne[1]>=c});if(M===void 0)return[y,[]];var F,O=M,j=O[0],z=O[1],W=f.pinValues[j],J=f.curves[j],G=y,Q=0,te=_.findIndex(function(Ne){var Ee=Ne[0];return Ne[1],Ee===j});if(te>0){var ae=_[te-1],se=ae[0],ge=ae[1];G=f.pinValues[se],Q=ge}var xe=x$[u+j];if(xe===void 0||xe.functionString!==J){var Pe=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;


            `.concat(J);F=new Function("context","templates",Pe),x$[u+j]={functionString:J,cachedFunction:F}}else F=xe.cachedFunction;var Ce=(c-Q)/(z!==Q?z-Q:1),Me=y,Oe=[];try{var et=function(Ne){var Ee=Ne.nextPinTime,Ze=Ne.project,xt=Ne.range,wt=Ne.pinId,Dt=Ne.frame,rn=Ne.numberOfFrames,an=Ne.framesPerSecond,un=Ne.nextPinValue,ur=Ne.previousPinTime,Fn=Ne.previousPinValue,wi=Ne.relativeTime,js=Ne.interpolateSignalValueAtTime,$a=xt[0],fe=xt[1];return{nextPinTime:Ee,nextPinValue:un,project:Ze,previousPinTime:ur,previousPinValue:Fn,relativeTime:wi,frame:Dt,pinId:wt,numberOfFrames:rn,framesPerSecond:an,maxValue:fe,minValue:$a,linearInterpolation:Sge,easeInCubic:v$,easeOutCubic:y$,easeInOutCubic:w$,easeOutElastic:b$,easyLinear:function(){return wi*(un-Fn)+Fn},easyStep:function(){return un},easyEaseIn:function(){return Fn+v$(wi)*(un-Fn)},easyEaseOut:function(){return Fn+y$(wi)*(un-Fn)},easyEase:function(){return Fn+w$(wi)*(un-Fn)},easyEaseOutElastic:function(){return Fn+b$(wi)*(un-Fn)},interpolateSignalValueAtTime:js}}({nextPinTime:z,nextPinValue:W,previousPinTime:Q,project:s,previousPinValue:G,relativeTime:Ce,pinId:j,frame:c,range:[y,b],numberOfFrames:s.timelineData.numberOfFrames,framesPerSecond:s.timelineData.framesPerSecond,interpolateSignalValueAtTime:function(Ne,Ee){var Ze=s.orgData.signalIds.find(function(rn){return s.orgData.signalNames[rn]===Ne});if(Ze===void 0)throw new Error("Signal not found");var xt=vK(s,Ze,Ee,p),wt=xt[0],Dt=xt[1];if(typeof wt=="string")throw new Error("Interpolation function returned string");return Oe.push.apply(Oe,Dt),wt}}),$e=function(Ne){var Ee={};return Object.entries(Ne.templateData).forEach(function(Ze){var xt=Ze[0],wt=Ze[1];if(vC[xt]!==void 0){if(vC[xt].functionString===wt){var Dt=vC[xt].cachedFunction;return void(Ee[xt]=Dt)}}else Dt=new Function("return ".concat(wt,";"))(),Ee[xt]=Dt,vC[xt]={functionString:wt,cachedFunction:Dt}}),Ee}(s);Me=F(et,$e)}catch(Ne){Oe.push({signalId:u,frame:c,error:Ne.message})}if(isNaN(Me)&&(Me=y,Oe.push({signalId:u,frame:c,error:"Interpolated value is NaN"})),Me<y&&(Me=y,Math.abs(Me-y)>D$&&Oe.push({signalId:u,frame:c,error:"Interpolated value below minimum"})),Me>b){var Fe=Me;Me=b,Math.abs(Fe-b)>D$&&Oe.push({signalId:u,frame:c,error:"Interpolated value above maximum: "+Fe})}return[Me,Oe]}(n,e,t,r);throw new Error("Invalid signal type")};function Xv(n,e){return[n[0]+e[0],n[1]+e[1]]}function av(n,e){return[n[0]-e[0],n[1]-e[1]]}function lM(n,e){return[n[0]*e[0],n[1]*e[1]]}function Sx(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function sv(n,e){return[n[0]*e,n[1]*e]}function $y(n,e){var t=[n[0][0],n[0][1],n[2][0],n[2][1]],r=t[0],i=t[1],o=t[2],s=t[3],u=[e[0][0],e[0][1],e[2][0],e[2][1]];return!(r>u[2]||o<u[0]||i>u[3]||s<u[1])}var Kf=function(){function n(e,t,r){e===void 0&&(e=[0,0]),t===void 0&&(t=0),r===void 0&&(r=0),this._o=e,this._w=t,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(e){this._w=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(e){this._h=e},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(e){this._o=e},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(e){var t={x:e[0],y:e[1]},r=t.x,i=t.y,o={oX:this.o[0],oY:this.o[1]},s=o.oX,u=o.oY;return!(r<s||r>s+this.w||i<u||i>u+this.h)},n.prototype.clone=function(){return new n(Nm([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,Xv(this.o,[this.w,0]),Xv(this.o,[this.w,this.h]),Xv(this.o,[0,this.h])]},n.prototype.getCenter=function(){return Xv(this.o,[this.w/2,this.h/2])},n}(),fd=function(n){function e(){var t=n.call(this)||this;return t.layer=0,t.children=[],t._isPrimaryCamera=!1,t._needsUpdate=!1,t._needsUpdate_root=!1,t.updateWhenCameraChanges=!1,t.state=void 0,t.context={},t.windowDidMountPrimitiveIsRunning=!1,t.childIndex=0,t.isCanvasRoot=!1,t.props={},t.globalPositioning=!1,t}return vh(e,n),Object.defineProperty(e.prototype,"_cameraSnapshot",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_canvas",{get:function(){var t;if(!this._root)throw new Error("Root not connected");return(t=this._root)===null||t===void 0?void 0:t.canvas},enumerable:!1,configurable:!0}),e.prototype.setAsPrimaryCamera=function(){var t;(t=this._root)===null||t===void 0||t.installCamera(this)},e.prototype.setState=function(t){var r,i;if(this.state===t)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=t:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(o){o.updateWhenCameraChanges&&(o._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,t))},e.prototype.setContext=function(t,r){var i,o;this.windowDidMountPrimitiveIsRunning?this.context[t]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[t]=r,(o=this._root)===null||o===void 0||o.scheduleContextUpdate(this,t,r))},e.prototype.windowDidMountPrimitive=function(t){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(t),this.windowDidMountPrimitiveIsRunning=!1},e.prototype.windowDidMount=function(t){},e.prototype.windowDidUpdate=function(t){},e.prototype.cameraDidUpdate=function(){},e.prototype.windowWillUnmount=function(){},e.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var t=this.getBox();return this._boxSnapshot=t,t},e.prototype.getBox=function(){return new Kf([0,0],0,0)},Object.defineProperty(e.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),e.prototype.cameraPassUpdateSelf=function(){var t,r,i=this;this._isPrimaryCamera?(t=this._root)===null||t===void 0||t.windows.forEach(function(o){var s;(s=i._root)===null||s===void 0||s.taintLayer(o.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(Nu({},this.props)))},e.prototype.cameraPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(u){return u(t)}),i=this.children.filter(function(u){return!r.includes(u)}),o=r.filter(function(u){return!t.children.includes(u)});this.children=r,i.forEach(function(u){return u.windowWillUnmount()}),o.forEach(function(u){return u.windowDidMountPrimitive(u.props)});var s=this.children.find(function(u){return u._needsUpdate});this.children.forEach(function(u){u._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},e.prototype.regularPassUpdateSelf=function(){var t;this._boxSnapshot=void 0,(t=this._root)===null||t===void 0||t.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(Nu({},this.props))},e.prototype.regularPassUpdateChildren=function(){var t=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(t)}),i=this.children.filter(function(s){return!r.includes(s)}),o=r.filter(function(s){return!t.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),o.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},e.prototype.getChildren=function(t){return[]},e.prototype.incChildIndex=function(){this.childIndex++},e.Node=function(t){var r=this,i=this.name;return function(o){if(o.isCanvasRoot){var s=void 0;return(s=new r)._root=o,s.setKey("root"),s.props=t||{},s.context=Nu({},s.context),s}var u=o.childIndex;t||(t={});var c=t.key?t.key:"".concat(i,"[").concat(u,"]");return s=void 0,o.children.findIndex(function(p){return p.key===c})!==-1?s=o.children.find(function(p){return p.key===c}):((s=new r)._parent=o,s._root=o._root,s.setKey(c)),s.props=Nu({},t),s.context=Nu(Nu({},s.context),o.context),o.incChildIndex(),s}},Object.defineProperty(e.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),e.prototype.getChildByKey=function(t){return this.children.find(function(r){return r.key===t})},e.prototype.getBoundingBox=function(){var t=this.globalO,r=t[0],i=t[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},e.prototype.pointInside=function(t){return n.prototype.pointInside.call(this,av(t,this.parentO))},Object.defineProperty(e.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var t=this._parent.globalO,r=t[0],i=t[1],o=this.o;return[r+o[0],i+o[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),e.prototype.getLayer=function(){return this.layer},e.prototype.setLayer=function(t){this.layer=t},e.prototype.setKey=function(t){this.key=t},Object.defineProperty(e.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),e.prototype.absoluteToCanvasMeasure=function(t){return lM(t,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},e.prototype.canvasToAbsoluteMeasure=function(t){return lM(t,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(e.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),e.prototype.prepareHandlerProps=function(){var t=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),o=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,u=this.absoluteUnit,c=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:o,camera:t,canvasUnit:s,canvasO:c,absoluteUnit:u}},e.prototype.preparePostBoxHandlerProps=function(){var t=this,r=this._cameraSnapshot,i=this._canvas,o=function(u){var c=t.globalO,p=u[0],f=u[1],g=[c[0]+p,c[1]+f],y=g[0],b=g[1],_=r.o,M=[y-_[0],b-_[1]],F=M[1];return[M[0]*(i.width/r.w),F*(i.height/r.h)]},s=o([0,0]);return Nu(Nu({},this.prepareHandlerProps()),{localToCanvas:o,canvasToLocal:function(u){var c=t.globalO;return av(Xv(lM(u,[r.w/i.width,r.h/i.height]),r.o),c)},absoluteO:s})},e.prototype.prepareMouseHandlerProps=function(t,r){var i=this.preparePostBoxHandlerProps(),o=this.canvasUnit,s=o[0],u=o[1],c=this.canvasO,p=c[0],f=c[1],g=[p+t[0]*s,f+t[1]*u],y=av(g,this.globalO),b=this.pointInside(g);return Nu(Nu({},i),{relativePos:y,canvasPos:t,absolutePos:g,pointInside:b,terminateEvent:r})},e.prototype.prepareWheelHandlerProps=function(t){var r=this.preparePostBoxHandlerProps();return Nu(Nu({},r),{terminateEvent:t})},e.prototype.renderPrimitive=function(t){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(Nu(Nu({},r),{ctx:t}))}},e.prototype.render=function(t){},e.prototype.onMouseDownPrimitive=function(t,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseDown=function(t,r){},e.prototype.onMouseMovePrimitive=function(t,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseMove=function(t,r){},e.prototype.onMouseUpPrimitive=function(t,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onMouseUp=function(t,r){},e.prototype.onClickPrimitive=function(t,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(t,r),i)},e.prototype.onClick=function(t,r){},e.prototype.onWheelPrimitive=function(t,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(t),r)},e.prototype.onWheel=function(t,r){},e.prototype.strokeOutline=function(t,r){t.ctx.strokeStyle=r;var i=t.absoluteO,o=t.absoluteUnit,s=i[0],u=i[1],c=o[0],p=o[1];t.ctx.strokeRect(s,u,this.w*c,this.h*p)},e}(Kf),Rw={},C$,yC,wC,bC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xC={exports:{}},Ege=(C$||(C$=1,yC=xC,wC=xC.exports,(function(){var n,e="Expected a function",t="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,o=128,s=1/0,u=9007199254740991,c=NaN,p=4294967295,f=[["ary",o],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],g="[object Arguments]",y="[object Array]",b="[object Boolean]",_="[object Date]",M="[object Error]",F="[object Function]",O="[object GeneratorFunction]",j="[object Map]",z="[object Number]",W="[object Object]",J="[object Promise]",G="[object RegExp]",Q="[object Set]",te="[object String]",ae="[object Symbol]",se="[object WeakMap]",ge="[object ArrayBuffer]",xe="[object DataView]",Pe="[object Float32Array]",Ce="[object Float64Array]",Me="[object Int8Array]",Oe="[object Int16Array]",et="[object Int32Array]",$e="[object Uint8Array]",Fe="[object Uint8ClampedArray]",Ne="[object Uint16Array]",Ee="[object Uint32Array]",Ze=/\b__p \+= '';/g,xt=/\b(__p \+=) '' \+/g,wt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Dt=/&(?:amp|lt|gt|quot|#39);/g,rn=/[&<>"']/g,an=RegExp(Dt.source),un=RegExp(rn.source),ur=/<%-([\s\S]+?)%>/g,Fn=/<%([\s\S]+?)%>/g,wi=/<%=([\s\S]+?)%>/g,js=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$a=/^\w*$/,fe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ue=/[\\^$.*+?()[\]{}|]/g,ve=RegExp(ue.source),Se=/^\s+/,Re=/\s/,Be=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,He=/\{\n\/\* \[wrapped with (.+)\] \*/,We=/,? & /,ot=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gt=/[()=,{}\[\]\/\s]/,bt=/\\(\\)?/g,fn=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,kn=/\w*$/,yn=/^[-+]0x[0-9a-f]+$/i,At=/^0b[01]+$/i,Ui=/^\[object .+?Constructor\]$/,io=/^0o[0-7]+$/i,bo=/^(?:0|[1-9]\d*)$/,ta=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oo=/($^)/,Ru=/['\n\r\u2028\u2029\\]/g,fa="\\ud800-\\udfff",ju="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",eu="\\u2700-\\u27bf",hs="a-z\\xdf-\\xf6\\xf8-\\xff",uu="A-Z\\xc0-\\xd6\\xd8-\\xde",zl="\\ufe0e\\ufe0f",Ss="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Dl="["+fa+"]",Cl="["+Ss+"]",Qa="["+ju+"]",Ul="\\d+",rl="["+eu+"]",Gu="["+hs+"]",Ls="[^"+fa+Ss+Ul+eu+hs+uu+"]",Sl="\\ud83c[\\udffb-\\udfff]",_s="[^"+fa+"]",xa="(?:\\ud83c[\\udde6-\\uddff]){2}",za="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="["+uu+"]",il="\\u200d",ol="(?:"+Gu+"|"+Ls+")",Ua="(?:"+Jo+"|"+Ls+")",lu="(?:['’](?:d|ll|m|re|s|t|ve))?",al="(?:['’](?:D|LL|M|RE|S|T|VE))?",sl="(?:"+Qa+"|"+Sl+")?",tu="["+zl+"]?",cu=tu+sl+"(?:"+il+"(?:"+[_s,xa,za].join("|")+")"+tu+sl+")*",_l="(?:"+[rl,xa,za].join("|")+")"+cu,Pi="(?:"+[_s+Qa+"?",Qa,xa,za,Dl].join("|")+")",Lu=RegExp("['’]","g"),Br=RegExp(Qa,"g"),ha=RegExp(Sl+"(?="+Sl+")|"+Pi+cu,"g"),gn=RegExp([Jo+"?"+Gu+"+"+lu+"(?="+[Cl,Jo,"$"].join("|")+")",Ua+"+"+al+"(?="+[Cl,Jo+ol,"$"].join("|")+")",Jo+"?"+ol+"+"+lu,Jo+"+"+al,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ul,_l].join("|"),"g"),na=RegExp("["+il+fa+ju+zl+"]"),Sc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,El=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],No=-1,Qt={};Qt[Pe]=Qt[Ce]=Qt[Me]=Qt[Oe]=Qt[et]=Qt[$e]=Qt[Fe]=Qt[Ne]=Qt[Ee]=!0,Qt[g]=Qt[y]=Qt[ge]=Qt[b]=Qt[xe]=Qt[_]=Qt[M]=Qt[F]=Qt[j]=Qt[z]=Qt[W]=Qt[G]=Qt[Q]=Qt[te]=Qt[se]=!1;var jt={};jt[g]=jt[y]=jt[ge]=jt[xe]=jt[b]=jt[_]=jt[Pe]=jt[Ce]=jt[Me]=jt[Oe]=jt[et]=jt[j]=jt[z]=jt[W]=jt[G]=jt[Q]=jt[te]=jt[ae]=jt[$e]=jt[Fe]=jt[Ne]=jt[Ee]=!0,jt[M]=jt[F]=jt[se]=!1;var fu={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ph=parseFloat,Es=parseInt,Bo=typeof bC=="object"&&bC&&bC.Object===Object&&bC,Nf=typeof self=="object"&&self&&self.Object===Object&&self,Bt=Bo||Nf||Function("return this")(),rr=wC&&!wC.nodeType&&wC,Mo=rr&&yC&&!yC.nodeType&&yC,df=Mo&&Mo.exports===rr,Za=df&&Bo.process,Rr=function(){try{return Mo&&Mo.require&&Mo.require("util").types||Za&&Za.binding&&Za.binding("util")}catch{}}(),hu=Rr&&Rr.isArrayBuffer,Ei=Rr&&Rr.isDate,Hn=Rr&&Rr.isMap,Xo=Rr&&Rr.isRegExp,af=Rr&&Rr.isSet,cc=Rr&&Rr.isTypedArray;function Rn(ie,de,ye){switch(ye.length){case 0:return ie.call(de);case 1:return ie.call(de,ye[0]);case 2:return ie.call(de,ye[0],ye[1]);case 3:return ie.call(de,ye[0],ye[1],ye[2])}return ie.apply(de,ye)}function Qf(ie,de,ye,ze){for(var ct=-1,Ue=ie==null?0:ie.length;++ct<Ue;){var pt=ie[ct];de(ze,pt,ye(pt),ie)}return ze}function jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze&&de(ie[ye],ye,ie)!==!1;);return ie}function Nc(ie,de){for(var ye=ie==null?0:ie.length;ye--&&de(ie[ye],ye,ie)!==!1;);return ie}function As(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(!de(ie[ye],ye,ie))return!1;return!0}function mi(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];de(pt,ye,ie)&&(Ue[ct++]=pt)}return Ue}function Jn(ie,de){return!(ie==null||!ie.length)&&bi(ie,de,0)>-1}function ri(ie,de,ye){for(var ze=-1,ct=ie==null?0:ie.length;++ze<ct;)if(ye(de,ie[ze]))return!0;return!1}function nn(ie,de){for(var ye=-1,ze=ie==null?0:ie.length,ct=Array(ze);++ye<ze;)ct[ye]=de(ie[ye],ye,ie);return ct}function Xn(ie,de){for(var ye=-1,ze=de.length,ct=ie.length;++ye<ze;)ie[ct+ye]=de[ye];return ie}function es(ie,de,ye,ze){var ct=-1,Ue=ie==null?0:ie.length;for(ze&&Ue&&(ye=ie[++ct]);++ct<Ue;)ye=de(ye,ie[ct],ct,ie);return ye}function ch(ie,de,ye,ze){var ct=ie==null?0:ie.length;for(ze&&ct&&(ye=ie[--ct]);ct--;)ye=de(ye,ie[ct],ct,ie);return ye}function Jr(ie,de){for(var ye=-1,ze=ie==null?0:ie.length;++ye<ze;)if(de(ie[ye],ye,ie))return!0;return!1}var $s=pa("length");function Wl(ie,de,ye){var ze;return ye(ie,function(ct,Ue,pt){if(de(ct,Ue,pt))return ze=Ue,!1}),ze}function Wn(ie,de,ye,ze){for(var ct=ie.length,Ue=ye+(ze?1:-1);ze?Ue--:++Ue<ct;)if(de(ie[Ue],Ue,ie))return Ue;return-1}function bi(ie,de,ye){return de==de?function(ze,ct,Ue){for(var pt=Ue-1,Et=ze.length;++pt<Et;)if(ze[pt]===ct)return pt;return-1}(ie,de,ye):Wn(ie,ul,ye)}function Bc(ie,de,ye,ze){for(var ct=ye-1,Ue=ie.length;++ct<Ue;)if(ze(ie[ct],de))return ct;return-1}function ul(ie){return ie!=ie}function zs(ie,de){var ye=ie==null?0:ie.length;return ye?Us(ie,de)/ye:c}function pa(ie){return function(de){return de==null?n:de[ie]}}function Al(ie){return function(de){return ie==null?n:ie[de]}}function _c(ie,de,ye,ze,ct){return ct(ie,function(Ue,pt,Et){ye=ze?(ze=!1,Ue):de(ye,Ue,pt,Et)}),ye}function Us(ie,de){for(var ye,ze=-1,ct=ie.length;++ze<ct;){var Ue=de(ie[ze]);Ue!==n&&(ye=ye===n?Ue:ye+Ue)}return ye}function tc(ie,de){for(var ye=-1,ze=Array(ie);++ye<ie;)ze[ye]=de(ye);return ze}function Hl(ie){return ie&&ie.slice(0,Qo(ie)+1).replace(Se,"")}function vr(ie){return function(de){return ie(de)}}function ll(ie,de){return nn(de,function(ye){return ie[ye]})}function Ro(ie,de){return ie.has(de)}function Vl(ie,de){for(var ye=-1,ze=ie.length;++ye<ze&&bi(de,ie[ye],0)>-1;);return ye}function ga(ie,de){for(var ye=ie.length;ye--&&bi(de,ie[ye],0)>-1;);return ye}var fc=Al({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),ql=Al({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function ra(ie){return"\\"+fu[ie]}function Wa(ie){return na.test(ie)}function ji(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze,ct){ye[++de]=[ct,ze]}),ye}function hc(ie,de){return function(ye){return ie(de(ye))}}function xo(ie,de){for(var ye=-1,ze=ie.length,ct=0,Ue=[];++ye<ze;){var pt=ie[ye];pt!==de&&pt!==r||(ie[ye]=r,Ue[ct++]=ye)}return Ue}function ts(ie){var de=-1,ye=Array(ie.size);return ie.forEach(function(ze){ye[++de]=ze}),ye}function Qi(ie){return Wa(ie)?function(de){for(var ye=ha.lastIndex=0;ha.test(de);)++ye;return ye}(ie):$s(ie)}function ii(ie){return Wa(ie)?function(de){return de.match(ha)||[]}(ie):function(de){return de.split("")}(ie)}function Qo(ie){for(var de=ie.length;de--&&Re.test(ie.charAt(de)););return de}var vf=Al({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),ia=function ie(de){var ye,ze=(de=de==null?Bt:ia.defaults(Bt.Object(),de,ia.pick(Bt,El))).Array,ct=de.Date,Ue=de.Error,pt=de.Function,Et=de.Math,he=de.Object,Ke=de.RegExp,Qe=de.String,ut=de.TypeError,Vt=ze.prototype,hn=pt.prototype,Cr=he.prototype,Do=de["__core-js_shared__"],jn=hn.toString,$t=Cr.hasOwnProperty,Zh=0,oa=(ye=/[^.]+$/.exec(Do&&Do.keys&&Do.keys.IE_PROTO||""))?"Symbol(src)_1."+ye:"",ps=Cr.toString,Ec=jn.call(he),oo=Bt._,yf=Ke("^"+jn.call($t).replace(ue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pu=df?de.Buffer:n,pn=de.Symbol,kl=de.Uint8Array,wf=pu?pu.allocUnsafe:n,Ma=hc(he.getPrototypeOf,he),Bf=he.create,nc=Cr.propertyIsEnumerable,cl=Vt.splice,fl=pn?pn.isConcatSpreadable:n,Wi=pn?pn.iterator:n,aa=pn?pn.toStringTag:n,gu=function(){try{var a=Zr(he,"defineProperty");return a({},"",{}),a}catch{}}(),sf=de.clearTimeout!==Bt.clearTimeout&&de.clearTimeout,fh=ct&&ct.now!==Bt.Date.now&&ct.now,Ac=de.setTimeout!==Bt.setTimeout&&de.setTimeout,Zo=Et.ceil,$u=Et.floor,zu=he.getOwnPropertySymbols,Kl=pu?pu.isBuffer:n,Rc=de.isFinite,Ch=Vt.join,Sh=hc(he.keys,he),Tn=Et.max,wn=Et.min,Gl=ct.now,Zf=de.parseInt,Rf=Et.random,Ws=Vt.reverse,Da=Zr(de,"DataView"),ks=Zr(de,"Map"),Ai=Zr(de,"Promise"),Tr=Zr(de,"Set"),ns=Zr(de,"WeakMap"),Hs=Zr(he,"create"),Fa=ns&&new ns,Pa={},kc=Po(Da),Uu=Po(ks),Wu=Po(Ai),hl=Po(Tr),Yl=Po(ns),rs=pn?pn.prototype:n,Ms=rs?rs.valueOf:n,Ml=rs?rs.toString:n;function R(a){if(Wt(a)&&!dt(a)&&!(a instanceof _t)){if(a instanceof Lr)return a;if($t.call(a,"__wrapped__"))return $c(a)}return new Lr(a)}var is=function(){function a(){}return function(l){if(!on(l))return{};if(Bf)return Bf(l);a.prototype=l;var w=new a;return a.prototype=n,w}}();function Yu(){}function Lr(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}function _t(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Ae(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function $r(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function xi(a){var l=-1,w=a==null?0:a.length;for(this.clear();++l<w;){var A=a[l];this.set(A[0],A[1])}}function Z(a){var l=-1,w=a==null?0:a.length;for(this.__data__=new xi;++l<w;)this.add(a[l])}function ln(a){var l=this.__data__=new $r(a);this.size=l.size}function Eu(a,l){var w=dt(a),A=!w&&To(a),I=!w&&!A&&$o(a),U=!w&&!A&&!I&&sn(a),D=w||A||I||U,E=D?tc(a.length,Qe):[],N=E.length;for(var v in a)!l&&!$t.call(a,v)||D&&(v=="length"||I&&(v=="offset"||v=="parent")||U&&(v=="buffer"||v=="byteLength"||v=="byteOffset")||gr(v,N))||E.push(v);return E}function bn(a){var l=a.length;return l?a[Fs(0,l-1)]:n}function _n(a,l){return wu(or(a),Ta(l,0,a.length))}function gs(a){return wu(or(a))}function Di(a,l,w){(w!==n&&!Kr(a[l],w)||w===n&&!(l in a))&&oi(a,l,w)}function Yi(a,l,w){var A=a[l];$t.call(a,l)&&Kr(A,w)&&(w!==n||l in a)||oi(a,l,w)}function sa(a,l){for(var w=a.length;w--;)if(Kr(a[w][0],l))return w;return-1}function Ca(a,l,w,A){return Li(a,function(I,U,D){l(A,I,w(I),D)}),A}function Jl(a,l){return a&&Kn(l,An(l),a)}function oi(a,l,w){l=="__proto__"&&gu?gu(a,l,{configurable:!0,enumerable:!0,value:w,writable:!0}):a[l]=w}function Xl(a,l){for(var w=-1,A=l.length,I=ze(A),U=a==null;++w<A;)I[w]=U?n:ac(a,l[w]);return I}function Ta(a,l,w){return a==a&&(w!==n&&(a=a<=w?a:w),l!==n&&(a=a>=l?a:l)),a}function Hr(a,l,w,A,I,U){var D,E=1&l,N=2&l,v=4&l;if(w&&(D=I?w(a,A,I,U):w(a)),D!==n)return D;if(!on(a))return a;var m=dt(a);if(m){if(D=function(V){var Y=V.length,re=new V.constructor(Y);return Y&&typeof V[0]=="string"&&$t.call(V,"index")&&(re.index=V.index,re.input=V.input),re}(a),!E)return or(a,D)}else{var x=Lt(a),P=x==F||x==O;if($o(a))return jc(a,E);if(x==W||x==g||P&&!I){if(D=N||P?{}:Ks(a),!E)return N?function(V,Y){return Kn(V,da(V),Y)}(a,function(V,Y){return V&&Kn(Y,Er(Y),V)}(D,a)):function(V,Y){return Kn(V,ar(V),Y)}(a,Jl(D,a))}else{if(!jt[x])return I?a:{};D=function(V,Y,re){var ne,ce=V.constructor;switch(Y){case ge:return Mu(V);case b:case _:return new ce(+V);case xe:return function(me,be){var we=be?Mu(me.buffer):me.buffer;return new me.constructor(we,me.byteOffset,me.byteLength)}(V,re);case Pe:case Ce:case Me:case Oe:case et:case $e:case Fe:case Ne:case Ee:return ru(V,re);case j:return new ce;case z:case te:return new ce(V);case G:return function(me){var be=new me.constructor(me.source,kn.exec(me));return be.lastIndex=me.lastIndex,be}(V);case Q:return new ce;case ae:return ne=V,Ms?he(Ms.call(ne)):{}}}(a,x,E)}}U||(U=new ln);var L=U.get(a);if(L)return L;U.set(a,D),Ii(a)?a.forEach(function(V){D.add(Hr(V,l,w,V,a,U))}):tr(a)&&a.forEach(function(V,Y){D.set(Y,Hr(V,l,w,Y,a,U))});var H=m?n:(v?N?Ba:qo:N?Er:An)(a);return jr(H||a,function(V,Y){H&&(V=a[Y=V]),Yi(D,Y,Hr(V,l,w,Y,a,U))}),D}function Fl(a,l,w){var A=w.length;if(a==null)return!A;for(a=he(a);A--;){var I=w[A],U=l[I],D=a[I];if(D===n&&!(I in a)||!U(D))return!1}return!0}function ms(a,l,w){if(typeof a!="function")throw new ut(e);return Ti(function(){a.apply(n,w)},l)}function ua(a,l,w,A){var I=-1,U=Jn,D=!0,E=a.length,N=[],v=l.length;if(!E)return N;w&&(l=nn(l,vr(w))),A?(U=ri,D=!1):l.length>=200&&(U=Ro,D=!1,l=new Z(l));e:for(;++I<E;){var m=a[I],x=w==null?m:w(m);if(m=A||m!==0?m:0,D&&x==x){for(var P=v;P--;)if(l[P]===x)continue e;N.push(m)}else U(l,x,A)||N.push(m)}return N}R.templateSettings={escape:ur,evaluate:Fn,interpolate:wi,variable:"",imports:{_:R}},R.prototype=Yu.prototype,R.prototype.constructor=R,Lr.prototype=is(Yu.prototype),Lr.prototype.constructor=Lr,_t.prototype=is(Yu.prototype),_t.prototype.constructor=_t,Ae.prototype.clear=function(){this.__data__=Hs?Hs(null):{},this.size=0},Ae.prototype.delete=function(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l},Ae.prototype.get=function(a){var l=this.__data__;if(Hs){var w=l[a];return w===t?n:w}return $t.call(l,a)?l[a]:n},Ae.prototype.has=function(a){var l=this.__data__;return Hs?l[a]!==n:$t.call(l,a)},Ae.prototype.set=function(a,l){var w=this.__data__;return this.size+=this.has(a)?0:1,w[a]=Hs&&l===n?t:l,this},$r.prototype.clear=function(){this.__data__=[],this.size=0},$r.prototype.delete=function(a){var l=this.__data__,w=sa(l,a);return!(w<0||(w==l.length-1?l.pop():cl.call(l,w,1),--this.size,0))},$r.prototype.get=function(a){var l=this.__data__,w=sa(l,a);return w<0?n:l[w][1]},$r.prototype.has=function(a){return sa(this.__data__,a)>-1},$r.prototype.set=function(a,l){var w=this.__data__,A=sa(w,a);return A<0?(++this.size,w.push([a,l])):w[A][1]=l,this},xi.prototype.clear=function(){this.size=0,this.__data__={hash:new Ae,map:new(ks||$r),string:new Ae}},xi.prototype.delete=function(a){var l=ss(this,a).delete(a);return this.size-=l?1:0,l},xi.prototype.get=function(a){return ss(this,a).get(a)},xi.prototype.has=function(a){return ss(this,a).has(a)},xi.prototype.set=function(a,l){var w=ss(this,a),A=w.size;return w.set(a,l),this.size+=w.size==A?0:1,this},Z.prototype.add=Z.prototype.push=function(a){return this.__data__.set(a,t),this},Z.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.clear=function(){this.__data__=new $r,this.size=0},ln.prototype.delete=function(a){var l=this.__data__,w=l.delete(a);return this.size=l.size,w},ln.prototype.get=function(a){return this.__data__.get(a)},ln.prototype.has=function(a){return this.__data__.has(a)},ln.prototype.set=function(a,l){var w=this.__data__;if(w instanceof $r){var A=w.__data__;if(!ks||A.length<199)return A.push([a,l]),this.size=++w.size,this;w=this.__data__=new xi(A)}return w.set(a,l),this.size=w.size,this};var Li=Va(Pn),fo=Va(Ha,!0);function uf(a,l){var w=!0;return Li(a,function(A,I,U){return w=!!l(A,I,U)}),w}function Sa(a,l,w){for(var A=-1,I=a.length;++A<I;){var U=a[A],D=l(U);if(D!=null&&(E===n?D==D&&!sr(D):w(D,E)))var E=D,N=U}return N}function jo(a,l){var w=[];return Li(a,function(A,I,U){l(A,I,U)&&w.push(A)}),w}function Ln(a,l,w,A,I){var U=-1,D=a.length;for(w||(w=Ut),I||(I=[]);++U<D;){var E=a[U];l>0&&w(E)?l>1?Ln(E,l-1,w,A,I):Xn(I,E):A||(I[I.length]=E)}return I}var Mc=ml(),pc=ml(!0);function Pn(a,l){return a&&Mc(a,l,An)}function Ha(a,l){return a&&pc(a,l,An)}function Ho(a,l){return mi(l,function(w){return mo(a[w])})}function di(a,l){for(var w=0,A=(l=Qr(l,a)).length;a!=null&&w<A;)a=a[Zn(l[w++])];return w&&w==A?a:n}function os(a,l,w){var A=l(a);return dt(a)?A:Xn(A,w(a))}function Kt(a){return a==null?a===n?"[object Undefined]":"[object Null]":aa&&aa in he(a)?function(l){var w=$t.call(l,aa),A=l[aa];try{l[aa]=n;var I=!0}catch{}var U=ps.call(l);return I&&(w?l[aa]=A:delete l[aa]),U}(a):function(l){return ps.call(l)}(a)}function Lo(a,l){return a>l}function Fc(a,l){return a!=null&&$t.call(a,l)}function _a(a,l){return a!=null&&l in he(a)}function rc(a,l,w){for(var A=w?ri:Jn,I=a[0].length,U=a.length,D=U,E=ze(U),N=1/0,v=[];D--;){var m=a[D];D&&l&&(m=nn(m,vr(l))),N=wn(m.length,N),E[D]=!w&&(l||I>=120&&m.length>=120)?new Z(D&&m):n}m=a[0];var x=-1,P=E[0];e:for(;++x<I&&v.length<N;){var L=m[x],H=l?l(L):L;if(L=w||L!==0?L:0,!(P?Ro(P,H):A(v,H,w))){for(D=U;--D;){var V=E[D];if(!(V?Ro(V,H):A(a[D],H,w)))continue e}P&&P.push(H),v.push(L)}}return v}function Xr(a,l,w){var A=(a=va(a,l=Qr(l,a)))==null?a:a[Zn(ai(l))];return A==null?n:Rn(A,a,w)}function as(a){return Wt(a)&&Kt(a)==g}function Ea(a,l,w,A,I){return a===l||(a==null||l==null||!Wt(a)&&!Wt(l)?a!=a&&l!=l:function(U,D,E,N,v,m){var x=dt(U),P=dt(D),L=x?y:Lt(U),H=P?y:Lt(D),V=(L=L==g?W:L)==W,Y=(H=H==g?W:H)==W,re=L==H;if(re&&$o(U)){if(!$o(D))return!1;x=!0,V=!1}if(re&&!V)return m||(m=new ln),x||sn(U)?dl(U,D,E,N,v,m):function(we,Te,Ge,Ie,Xe,Ye,rt){switch(Ge){case xe:if(we.byteLength!=Te.byteLength||we.byteOffset!=Te.byteOffset)return!1;we=we.buffer,Te=Te.buffer;case ge:return!(we.byteLength!=Te.byteLength||!Ye(new kl(we),new kl(Te)));case b:case _:case z:return Kr(+we,+Te);case M:return we.name==Te.name&&we.message==Te.message;case G:case te:return we==Te+"";case j:var St=ji;case Q:var Mt=1&Ie;if(St||(St=ts),we.size!=Te.size&&!Mt)return!1;var en=rt.get(we);if(en)return en==Te;Ie|=2,rt.set(we,Te);var qt=dl(St(we),St(Te),Ie,Xe,Ye,rt);return rt.delete(we),qt;case ae:if(Ms)return Ms.call(we)==Ms.call(Te)}return!1}(U,D,L,E,N,v,m);if(!(1&E)){var ne=V&&$t.call(U,"__wrapped__"),ce=Y&&$t.call(D,"__wrapped__");if(ne||ce){var me=ne?U.value():U,be=ce?D.value():D;return m||(m=new ln),v(me,be,E,N,m)}}return!!re&&(m||(m=new ln),function(we,Te,Ge,Ie,Xe,Ye){var rt=1&Ge,St=qo(we),Mt=St.length;if(Mt!=qo(Te).length&&!rt)return!1;for(var en=Mt;en--;){var qt=St[en];if(!(rt?qt in Te:$t.call(Te,qt)))return!1}var It=Ye.get(we),Zt=Ye.get(Te);if(It&&Zt)return It==Te&&Zt==we;var yr=!0;Ye.set(we,Te),Ye.set(Te,we);for(var cr=rt;++en<Mt;){var fi=we[qt=St[en]],Gn=Te[qt];if(Ie)var Uo=rt?Ie(Gn,fi,qt,Te,we,Ye):Ie(fi,Gn,qt,we,Te,Ye);if(!(Uo===n?fi===Gn||Xe(fi,Gn,Ge,Ie,Ye):Uo)){yr=!1;break}cr||(cr=qt=="constructor")}if(yr&&!cr){var fr=we.constructor,Ga=Te.constructor;fr==Ga||!("constructor"in we)||!("constructor"in Te)||typeof fr=="function"&&fr instanceof fr&&typeof Ga=="function"&&Ga instanceof Ga||(yr=!1)}return Ye.delete(we),Ye.delete(Te),yr}(U,D,E,N,v,m))}(a,l,w,A,Ea,I))}function Ci(a,l,w,A){var I=w.length,U=I,D=!A;if(a==null)return!U;for(a=he(a);I--;){var E=w[I];if(D&&E[2]?E[1]!==a[E[0]]:!(E[0]in a))return!1}for(;++I<U;){var N=(E=w[I])[0],v=a[N],m=E[1];if(D&&E[2]){if(v===n&&!(N in a))return!1}else{var x=new ln;if(A)var P=A(v,m,N,a,l,x);if(!(P===n?Ea(m,v,3,A,x):P))return!1}}return!0}function pl(a){return!(!on(a)||(l=a,oa&&oa in l))&&(mo(a)?yf:Ui).test(Po(a));var l}function Au(a){return typeof a=="function"?a:a==null?Yn:typeof a=="object"?dt(a)?ki(a[0],a[1]):mu(a):li(a)}function ds(a){if(!br(a))return Sh(a);var l=[];for(var w in he(a))$t.call(a,w)&&w!="constructor"&&l.push(w);return l}function ir(a,l){return a<l}function Qn(a,l){var w=-1,A=$n(a)?ze(a.length):[];return Li(a,function(I,U,D){A[++w]=l(I,U,D)}),A}function mu(a){var l=Ol(a);return l.length==1&&l[0][2]?Ys(l[0][0],l[0][1]):function(w){return w===a||Ci(w,a,l)}}function ki(a,l){return Vn(a)&&Gs(l)?Ys(Zn(a),l):function(w){var A=ac(w,a);return A===n&&A===l?zn(w,a):Ea(l,A,3)}}function Mi(a,l,w,A,I){a!==l&&Mc(l,function(U,D){if(I||(I=new ln),on(U))(function(N,v,m,x,P,L,H){var V=qr(N,m),Y=qr(v,m),re=H.get(Y);if(re)Di(N,m,re);else{var ne=L?L(V,Y,m+"",N,v,H):n,ce=ne===n;if(ce){var me=dt(Y),be=!me&&$o(Y),we=!me&&!be&&sn(Y);ne=Y,me||be||we?dt(V)?ne=V:Dn(V)?ne=or(V):be?(ce=!1,ne=jc(Y,!0)):we?(ce=!1,ne=ru(Y,!0)):ne=[]:us(Y)||To(Y)?(ne=V,To(V)?ne=zo(V):on(V)&&!mo(V)||(ne=Ks(Y))):ce=!1}ce&&(H.set(Y,ne),P(ne,Y,x,L,H),H.delete(Y)),Di(N,m,ne)}})(a,l,D,w,Mi,A,I);else{var E=A?A(qr(a,D),U,D+"",a,l,I):n;E===n&&(E=U),Di(a,D,E)}},Er)}function Ju(a,l){var w=a.length;if(w)return gr(l+=l<0?w:0,w)?a[l]:n}function ku(a,l,w){l=l.length?nn(l,function(U){return dt(U)?function(D){return di(D,U.length===1?U[0]:U)}:U}):[Yn];var A=-1;l=nn(l,vr(st()));var I=Qn(a,function(U,D,E){var N=nn(l,function(v){return v(U)});return{criteria:N,index:++A,value:U}});return function(U,D){var E=U.length;for(U.sort(D);E--;)U[E]=U[E].value;return U}(I,function(U,D){return function(E,N,v){for(var m=-1,x=E.criteria,P=N.criteria,L=x.length,H=v.length;++m<L;){var V=qs(x[m],P[m]);if(V)return m>=H?V:V*(v[m]=="desc"?-1:1)}return E.index-N.index}(U,D,w)})}function Ji(a,l,w){for(var A=-1,I=l.length,U={};++A<I;){var D=l[A],E=di(a,D);w(E,D)&&Vs(U,Qr(D,a),E)}return U}function ic(a,l,w,A){var I=A?Bc:bi,U=-1,D=l.length,E=a;for(a===l&&(l=or(l)),w&&(E=nn(a,vr(w)));++U<D;)for(var N=0,v=l[U],m=w?w(v):v;(N=I(E,m,N,A))>-1;)E!==a&&cl.call(E,N,1),cl.call(a,N,1);return a}function Pl(a,l){for(var w=a?l.length:0,A=w-1;w--;){var I=l[w];if(w==A||I!==U){var U=I;gr(I)?cl.call(a,I,1):Co(a,I)}}return a}function Fs(a,l){return a+$u(Rf()*(l-a+1))}function du(a,l){var w="";if(!a||l<1||l>u)return w;do l%2&&(w+=a),(l=$u(l/2))&&(a+=a);while(l);return w}function Ct(a,l){return go(po(a,l,Yn),a+"")}function vs(a){return bn(On(a))}function Zc(a,l){var w=On(a);return wu(w,Ta(l,0,w.length))}function Vs(a,l,w,A){if(!on(a))return a;for(var I=-1,U=(l=Qr(l,a)).length,D=U-1,E=a;E!=null&&++I<U;){var N=Zn(l[I]),v=w;if(N==="__proto__"||N==="constructor"||N==="prototype")return a;if(I!=D){var m=E[N];(v=A?A(m,N,E):n)===n&&(v=on(m)?m:gr(l[I+1])?[]:{})}Yi(E,N,v),E=E[N]}return a}var Tl=Fa?function(a,l){return Fa.set(a,l),a}:Yn,Ps=gu?function(a,l){return gu(a,"toString",{configurable:!0,enumerable:!1,value:wc(l),writable:!0})}:Yn;function Ar(a){return wu(On(a))}function lr(a,l,w){var A=-1,I=a.length;l<0&&(l=-l>I?0:I+l),(w=w>I?I:w)<0&&(w+=I),I=l>w?0:w-l>>>0,l>>>=0;for(var U=ze(I);++A<I;)U[A]=a[A+l];return U}function Pc(a,l){var w;return Li(a,function(A,I,U){return!(w=l(A,I,U))}),!!w}function tn(a,l,w){var A=0,I=a==null?A:a.length;if(typeof l=="number"&&l==l&&I<=2147483647){for(;A<I;){var U=A+I>>>1,D=a[U];D!==null&&!sr(D)&&(w?D<=l:D<l)?A=U+1:I=U}return I}return ao(a,l,Yn,w)}function ao(a,l,w,A){var I=0,U=a==null?0:a.length;if(U===0)return 0;for(var D=(l=w(l))!=l,E=l===null,N=sr(l),v=l===n;I<U;){var m=$u((I+U)/2),x=w(a[m]),P=x!==n,L=x===null,H=x==x,V=sr(x);if(D)var Y=A||H;else Y=v?H&&(A||P):E?H&&P&&(A||!L):N?H&&P&&!L&&(A||!V):!L&&!V&&(A?x<=l:x<l);Y?I=m+1:U=m}return wn(U,4294967294)}function Wr(a,l){for(var w=-1,A=a.length,I=0,U=[];++w<A;){var D=a[w],E=l?l(D):D;if(!w||!Kr(E,N)){var N=E;U[I++]=D===0?0:D}}return U}function Vr(a){return typeof a=="number"?a:sr(a)?c:+a}function xn(a){if(typeof a=="string")return a;if(dt(a))return nn(a,xn)+"";if(sr(a))return Ml?Ml.call(a):"";var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function hr(a,l,w){var A=-1,I=Jn,U=a.length,D=!0,E=[],N=E;if(w)D=!1,I=ri;else if(U>=200){var v=l?null:gc(a);if(v)return ts(v);D=!1,I=Ro,N=new Z}else N=l?[]:E;e:for(;++A<U;){var m=a[A],x=l?l(m):m;if(m=w||m!==0?m:0,D&&x==x){for(var P=N.length;P--;)if(N[P]===x)continue e;l&&N.push(x),E.push(m)}else I(N,x,w)||(N!==E&&N.push(x),E.push(m))}return E}function Co(a,l){return(a=va(a,l=Qr(l,a)))==null||delete a[Zn(ai(l))]}function So(a,l,w,A){return Vs(a,l,w(di(a,l)),A)}function nu(a,l,w,A){for(var I=a.length,U=A?I:-1;(A?U--:++U<I)&&l(a[U],U,a););return w?lr(a,A?0:U,A?U+1:I):lr(a,A?U+1:0,A?I:U)}function Ia(a,l){var w=a;return w instanceof _t&&(w=w.value()),es(l,function(A,I){return I.func.apply(I.thisArg,Xn([A],I.args))},w)}function zr(a,l,w){var A=a.length;if(A<2)return A?hr(a[0]):[];for(var I=-1,U=ze(A);++I<A;)for(var D=a[I],E=-1;++E<A;)E!=I&&(U[I]=ua(U[I]||D,a[E],l,w));return hr(Ln(U,1),l,w)}function so(a,l,w){for(var A=-1,I=a.length,U=l.length,D={};++A<I;){var E=A<U?l[A]:n;w(D,a[A],E)}return D}function pr(a){return Dn(a)?a:[]}function Sr(a){return typeof a=="function"?a:Yn}function Qr(a,l){return dt(a)?a:Vn(a,l)?[a]:Lc(Ot(a))}var Ql=Ct;function Zi(a,l,w){var A=a.length;return w=w===n?A:w,!l&&w>=A?a:lr(a,l,w)}var gl=sf||function(a){return Bt.clearTimeout(a)};function jc(a,l){if(l)return a.slice();var w=a.length,A=wf?wf(w):new a.constructor(w);return a.copy(A),A}function Mu(a){var l=new a.constructor(a.byteLength);return new kl(l).set(new kl(a)),l}function ru(a,l){var w=l?Mu(a.buffer):a.buffer;return new a.constructor(w,a.byteOffset,a.length)}function qs(a,l){if(a!==l){var w=a!==n,A=a===null,I=a==a,U=sr(a),D=l!==n,E=l===null,N=l==l,v=sr(l);if(!E&&!v&&!U&&a>l||U&&D&&N&&!E&&!v||A&&D&&N||!w&&N||!I)return 1;if(!A&&!U&&!v&&a<l||v&&w&&I&&!A&&!U||E&&w&&I||!D&&I||!N)return-1}return 0}function Ts(a,l,w,A){for(var I=-1,U=a.length,D=w.length,E=-1,N=l.length,v=Tn(U-D,0),m=ze(N+v),x=!A;++E<N;)m[E]=l[E];for(;++I<D;)(x||I<U)&&(m[w[I]]=a[I]);for(;v--;)m[E++]=a[I++];return m}function iu(a,l,w,A){for(var I=-1,U=a.length,D=-1,E=w.length,N=-1,v=l.length,m=Tn(U-E,0),x=ze(m+v),P=!A;++I<m;)x[I]=a[I];for(var L=I;++N<v;)x[L+N]=l[N];for(;++D<E;)(P||I<U)&&(x[L+w[D]]=a[I++]);return x}function or(a,l){var w=-1,A=a.length;for(l||(l=ze(A));++w<A;)l[w]=a[w];return l}function Kn(a,l,w,A){var I=!w;w||(w={});for(var U=-1,D=l.length;++U<D;){var E=l[U],N=A?A(w[E],a[E],E,w,a):n;N===n&&(N=a[E]),I?oi(w,E,N):Yi(w,E,N)}return w}function Oa(a,l){return function(w,A){var I=dt(w)?Qf:Ca,U=l?l():{};return I(w,a,st(A,2),U)}}function la(a){return Ct(function(l,w){var A=-1,I=w.length,U=I>1?w[I-1]:n,D=I>2?w[2]:n;for(U=a.length>3&&typeof U=="function"?(I--,U):n,D&&Gt(w[0],w[1],D)&&(U=I<3?n:U,I=1),l=he(l);++A<I;){var E=w[A];E&&a(l,E,A,U)}return l})}function Va(a,l){return function(w,A){if(w==null)return w;if(!$n(w))return a(w,A);for(var I=w.length,U=l?I:-1,D=he(w);(l?U--:++U<I)&&A(D[U],U,D)!==!1;);return w}}function ml(a){return function(l,w,A){for(var I=-1,U=he(l),D=A(l),E=D.length;E--;){var N=D[a?E:++I];if(w(U[N],N,U)===!1)break}return l}}function ca(a){return function(l){var w=Wa(l=Ot(l))?ii(l):n,A=w?w[0]:l.charAt(0),I=w?Zi(w,1).join(""):l.slice(1);return A[a]()+I}}function uo(a){return function(l){return es(Pu(ei(l).replace(Lu,"")),a,"")}}function Vo(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var w=is(a.prototype),A=a.apply(w,l);return on(A)?A:w}}function Hi(a){return function(l,w,A){var I=he(l);if(!$n(l)){var U=st(w,3);l=An(l),w=function(E){return U(I[E],E,I)}}var D=a(l,w,A);return D>-1?I[U?l[D]:D]:n}}function eo(a){return lo(function(l){var w=l.length,A=w,I=Lr.prototype.thru;for(a&&l.reverse();A--;){var U=l[A];if(typeof U!="function")throw new ut(e);if(I&&!D&&no(U)=="wrapper")var D=new Lr([],!0)}for(A=D?A:w;++A<w;){var E=no(U=l[A]),N=E=="wrapper"?ou(U):n;D=N&&kr(N[0])&&N[1]==424&&!N[4].length&&N[9]==1?D[no(N[0])].apply(D,N[3]):U.length==1&&kr(U)?D[E]():D.thru(U)}return function(){var v=arguments,m=v[0];if(D&&v.length==1&&dt(m))return D.plant(m).value();for(var x=0,P=w?l[x].apply(this,v):m;++x<w;)P=l[x].call(this,P);return P}})}function Fo(a,l,w,A,I,U,D,E,N,v){var m=l&o,x=1&l,P=2&l,L=24&l,H=512&l,V=P?n:Vo(a);return function Y(){for(var re=arguments.length,ne=ze(re),ce=re;ce--;)ne[ce]=arguments[ce];if(L)var me=Xi(Y),be=function(Ie,Xe){for(var Ye=Ie.length,rt=0;Ye--;)Ie[Ye]===Xe&&++rt;return rt}(ne,me);if(A&&(ne=Ts(ne,A,I,L)),U&&(ne=iu(ne,U,D,L)),re-=be,L&&re<v){var we=xo(ne,me);return Is(a,l,Fo,Y.placeholder,w,ne,we,E,N,v-re)}var Te=x?w:this,Ge=P?Te[a]:a;return re=ne.length,E?ne=function(Ie,Xe){for(var Ye=Ie.length,rt=wn(Xe.length,Ye),St=or(Ie);rt--;){var Mt=Xe[rt];Ie[rt]=gr(Mt,Ye)?St[Mt]:n}return Ie}(ne,E):H&&re>1&&ne.reverse(),m&&N<re&&(ne.length=N),this&&this!==Bt&&this instanceof Y&&(Ge=V||Vo(Ge)),Ge.apply(Te,ne)}}function $i(a,l){return function(w,A){return function(I,U,D,E){return Pn(I,function(N,v,m){U(E,D(N),v,m)}),E}(w,a,l(A),{})}}function to(a,l){return function(w,A){var I;if(w===n&&A===n)return l;if(w!==n&&(I=w),A!==n){if(I===n)return A;typeof w=="string"||typeof A=="string"?(w=xn(w),A=xn(A)):(w=Vr(w),A=Vr(A)),I=a(w,A)}return I}}function ho(a){return lo(function(l){return l=nn(l,vr(st())),Ct(function(w){var A=this;return a(l,function(I){return Rn(I,A,w)})})})}function Na(a,l){var w=(l=l===n?" ":xn(l)).length;if(w<2)return w?du(l,a):l;var A=du(l,Zo(a/Qi(l)));return Wa(l)?Zi(ii(A),0,a).join(""):A.slice(0,a)}function vu(a){return function(l,w,A){return A&&typeof A!="number"&&Gt(l,w,A)&&(w=A=n),l=yi(l),w===n?(w=l,l=0):w=yi(w),function(I,U,D,E){for(var N=-1,v=Tn(Zo((U-I)/(D||1)),0),m=ze(v);v--;)m[E?v:++N]=I,I+=D;return m}(l,w,A=A===n?l<w?1:-1:yi(A),a)}}function qa(a){return function(l,w){return typeof l=="string"&&typeof w=="string"||(l=xr(l),w=xr(w)),a(l,w)}}function Is(a,l,w,A,I,U,D,E,N,v){var m=8&l;l|=m?i:64,4&(l&=~(m?64:i))||(l&=-4);var x=[a,l,I,m?U:n,m?D:n,m?n:U,m?n:D,E,N,v],P=w.apply(n,x);return kr(a)&&Fu(P,x),P.placeholder=A,Js(P,a,l)}function ma(a){var l=Et[a];return function(w,A){if(w=xr(w),(A=A==null?0:wn(mt(A),292))&&Rc(w)){var I=(Ot(w)+"e").split("e");return+((I=(Ot(l(I[0]+"e"+(+I[1]+A)))+"e").split("e"))[0]+"e"+(+I[1]-A))}return l(w)}}var gc=Tr&&1/ts(new Tr([,-0]))[1]==s?function(a){return new Tr(a)}:ec;function Il(a){return function(l){var w=Lt(l);return w==j?ji(l):w==Q?function(I){var U=-1,D=Array(I.size);return I.forEach(function(E){D[++U]=[E,E]}),D}(l):function(A,I){return nn(I,function(U){return[U,A[U]]})}(l,a(l))}}function wr(a,l,w,A,I,U,D,E){var N=2&l;if(!N&&typeof a!="function")throw new ut(e);var v=A?A.length:0;if(v||(l&=-97,A=I=n),D=D===n?D:Tn(mt(D),0),E=E===n?E:mt(E),v-=I?I.length:0,64&l){var m=A,x=I;A=I=n}var P=N?n:ou(a),L=[a,l,w,A,I,m,x,U,D,E];if(P&&function(V,Y){var re=V[1],ne=Y[1],ce=re|ne,me=ce<131,be=ne==o&&re==8||ne==o&&re==256&&V[7].length<=Y[8]||ne==384&&Y[7].length<=Y[8]&&re==8;if(!me&&!be)return V;1&ne&&(V[2]=Y[2],ce|=1&re?0:4);var we=Y[3];if(we){var Te=V[3];V[3]=Te?Ts(Te,we,Y[4]):we,V[4]=Te?xo(V[3],r):Y[4]}(we=Y[5])&&(Te=V[5],V[5]=Te?iu(Te,we,Y[6]):we,V[6]=Te?xo(V[5],r):Y[6]),(we=Y[7])&&(V[7]=we),ne&o&&(V[8]=V[8]==null?Y[8]:wn(V[8],Y[8])),V[9]==null&&(V[9]=Y[9]),V[0]=Y[0],V[1]=ce}(L,P),a=L[0],l=L[1],w=L[2],A=L[3],I=L[4],!(E=L[9]=L[9]===n?N?0:a.length:Tn(L[9]-v,0))&&24&l&&(l&=-25),l&&l!=1)H=l==8||l==16?function(V,Y,re){var ne=Vo(V);return function ce(){for(var me=arguments.length,be=ze(me),we=me,Te=Xi(ce);we--;)be[we]=arguments[we];var Ge=me<3&&be[0]!==Te&&be[me-1]!==Te?[]:xo(be,Te);return(me-=Ge.length)<re?Is(V,Y,Fo,ce.placeholder,n,be,Ge,n,n,re-me):Rn(this&&this!==Bt&&this instanceof ce?ne:V,this,be)}}(a,l,E):l!=i&&l!=33||I.length?Fo.apply(n,L):function(V,Y,re,ne){var ce=1&Y,me=Vo(V);return function be(){for(var we=-1,Te=arguments.length,Ge=-1,Ie=ne.length,Xe=ze(Ie+Te),Ye=this&&this!==Bt&&this instanceof be?me:V;++Ge<Ie;)Xe[Ge]=ne[Ge];for(;Te--;)Xe[Ge++]=arguments[++we];return Rn(Ye,ce?re:this,Xe)}}(a,l,w,A);else var H=function(V,Y,re){var ne=1&Y,ce=Vo(V);return function me(){return(this&&this!==Bt&&this instanceof me?ce:V).apply(ne?re:this,arguments)}}(a,l,w);return Js((P?Tl:Fu)(H,L),a,l)}function ys(a,l,w,A){return a===n||Kr(a,Cr[w])&&!$t.call(A,w)?l:a}function yu(a,l,w,A,I,U){return on(a)&&on(l)&&(U.set(l,a),Mi(a,l,n,yu,U),U.delete(l)),a}function lf(a){return us(a)?n:a}function dl(a,l,w,A,I,U){var D=1&w,E=a.length,N=l.length;if(E!=N&&!(D&&N>E))return!1;var v=U.get(a),m=U.get(l);if(v&&m)return v==l&&m==a;var x=-1,P=!0,L=2&w?new Z:n;for(U.set(a,l),U.set(l,a);++x<E;){var H=a[x],V=l[x];if(A)var Y=D?A(V,H,x,l,a,U):A(H,V,x,a,l,U);if(Y!==n){if(Y)continue;P=!1;break}if(L){if(!Jr(l,function(re,ne){if(!Ro(L,ne)&&(H===re||I(H,re,w,A,U)))return L.push(ne)})){P=!1;break}}else if(H!==V&&!I(H,V,w,A,U)){P=!1;break}}return U.delete(a),U.delete(l),P}function lo(a){return go(po(a,n,Ka),a+"")}function qo(a){return os(a,An,ar)}function Ba(a){return os(a,Er,da)}var ou=Fa?function(a){return Fa.get(a)}:ec;function no(a){for(var l=a.name+"",w=Pa[l],A=$t.call(Pa,l)?w.length:0;A--;){var I=w[A],U=I.func;if(U==null||U==a)return I.name}return l}function Xi(a){return($t.call(R,"placeholder")?R:a).placeholder}function st(){var a=R.iteratee||bc;return a=a===bc?Au:a,arguments.length?a(arguments[0],arguments[1]):a}function ss(a,l){var w,A,I=a.__data__;return((A=typeof(w=l))=="string"||A=="number"||A=="symbol"||A=="boolean"?w!=="__proto__":w===null)?I[typeof l=="string"?"string":"hash"]:I.map}function Ol(a){for(var l=An(a),w=l.length;w--;){var A=l[w],I=a[A];l[w]=[A,I,Gs(I)]}return l}function Zr(a,l){var w=function(A,I){return A==null?n:A[I]}(a,l);return pl(w)?w:n}var ar=zu?function(a){return a==null?[]:(a=he(a),mi(zu(a),function(l){return nc.call(a,l)}))}:ci,da=zu?function(a){for(var l=[];a;)Xn(l,ar(a)),a=Ma(a);return l}:ci,Lt=Kt;function Hu(a,l,w){for(var A=-1,I=(l=Qr(l,a)).length,U=!1;++A<I;){var D=Zn(l[A]);if(!(U=a!=null&&w(a,D)))break;a=a[D]}return U||++A!=I?U:!!(I=a==null?0:a.length)&&zt(I)&&gr(D,I)&&(dt(a)||To(a))}function Ks(a){return typeof a.constructor!="function"||br(a)?{}:is(Ma(a))}function Ut(a){return dt(a)||To(a)||!!(fl&&a&&a[fl])}function gr(a,l){var w=typeof a;return!!(l=l??u)&&(w=="number"||w!="symbol"&&bo.test(a))&&a>-1&&a%1==0&&a<l}function Gt(a,l,w){if(!on(w))return!1;var A=typeof l;return!!(A=="number"?$n(w)&&gr(l,w.length):A=="string"&&l in w)&&Kr(w[l],a)}function Vn(a,l){if(dt(a))return!1;var w=typeof a;return!(w!="number"&&w!="symbol"&&w!="boolean"&&a!=null&&!sr(a))||$a.test(a)||!js.test(a)||l!=null&&a in he(l)}function kr(a){var l=no(a),w=R[l];if(typeof w!="function"||!(l in _t.prototype))return!1;if(a===w)return!0;var A=ou(w);return!!A&&a===A[0]}(Da&&Lt(new Da(new ArrayBuffer(1)))!=xe||ks&&Lt(new ks)!=j||Ai&&Lt(Ai.resolve())!=J||Tr&&Lt(new Tr)!=Q||ns&&Lt(new ns)!=se)&&(Lt=function(a){var l=Kt(a),w=l==W?a.constructor:n,A=w?Po(w):"";if(A)switch(A){case kc:return xe;case Uu:return j;case Wu:return J;case hl:return Q;case Yl:return se}return l});var Nl=Do?mo:Ir;function br(a){var l=a&&a.constructor;return a===(typeof l=="function"&&l.prototype||Cr)}function Gs(a){return a==a&&!on(a)}function Ys(a,l){return function(w){return w!=null&&w[a]===l&&(l!==n||a in he(w))}}function po(a,l,w){return l=Tn(l===n?a.length-1:l,0),function(){for(var A=arguments,I=-1,U=Tn(A.length-l,0),D=ze(U);++I<U;)D[I]=A[l+I];I=-1;for(var E=ze(l+1);++I<l;)E[I]=A[I];return E[l]=w(D),Rn(a,this,E)}}function va(a,l){return l.length<2?a:di(a,lr(l,0,-1))}function qr(a,l){if((l!=="constructor"||typeof a[l]!="function")&&l!="__proto__")return a[l]}var Fu=Bl(Tl),Ti=Ac||function(a,l){return Bt.setTimeout(a,l)},go=Bl(Ps);function Js(a,l,w){var A=l+"";return go(a,function(I,U){var D=U.length;if(!D)return I;var E=D-1;return U[E]=(D>1?"& ":"")+U[E],U=U.join(D>2?", ":" "),I.replace(Be,`{
/* [wrapped with `+U+`] */
`)}(A,function(I,U){return jr(f,function(D){var E="_."+D[0];U&D[1]&&!Jn(I,E)&&I.push(E)}),I.sort()}(function(I){var U=I.match(He);return U?U[1].split(We):[]}(A),w)))}function Bl(a){var l=0,w=0;return function(){var A=Gl(),I=16-(A-w);if(w=A,I>0){if(++l>=800)return arguments[0]}else l=0;return a.apply(n,arguments)}}function wu(a,l){var w=-1,A=a.length,I=A-1;for(l=l===n?A:l;++w<l;){var U=Fs(w,I),D=a[U];a[U]=a[w],a[w]=D}return a.length=l,a}var Lc=function(){var a=jl(function(w){var A=[];return w.charCodeAt(0)===46&&A.push(""),w.replace(fe,function(I,U,D,E){A.push(D?E.replace(bt,"$1"):U||I)}),A},function(w){return l.size===500&&l.clear(),w}),l=a.cache;return a}();function Zn(a){if(typeof a=="string"||sr(a))return a;var l=a+"";return l=="0"&&1/a==-1/0?"-0":l}function Po(a){if(a!=null){try{return jn.call(a)}catch{}try{return a+""}catch{}}return""}function $c(a){if(a instanceof _t)return a.clone();var l=new Lr(a.__wrapped__,a.__chain__);return l.__actions__=or(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}var mc=Ct(function(a,l){return Dn(a)?ua(a,Ln(l,1,Dn,!0)):[]}),Tc=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),st(w,2)):[]}),jf=Ct(function(a,l){var w=ai(l);return Dn(w)&&(w=n),Dn(a)?ua(a,Ln(l,1,Dn,!0),n,w):[]});function Xs(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),Wn(a,st(l,3),I)}function vi(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A-1;return w!==n&&(I=mt(w),I=w<0?Tn(A+I,0):wn(I,A-1)),Wn(a,st(l,3),I,!0)}function Ka(a){return a!=null&&a.length?Ln(a,1):[]}function Si(a){return a&&a.length?a[0]:n}var bu=Ct(function(a){var l=nn(a,pr);return l.length&&l[0]===a[0]?rc(l):[]}),bf=Ct(function(a){var l=ai(a),w=nn(a,pr);return l===ai(w)?l=n:w.pop(),w.length&&w[0]===a[0]?rc(w,st(l,2)):[]}),cf=Ct(function(a){var l=ai(a),w=nn(a,pr);return(l=typeof l=="function"?l:n)&&w.pop(),w.length&&w[0]===a[0]?rc(w,n,l):[]});function ai(a){var l=a==null?0:a.length;return l?a[l-1]:n}var Xu=Ct(zc);function zc(a,l){return a&&a.length&&l&&l.length?ic(a,l):a}var eh=lo(function(a,l){var w=a==null?0:a.length,A=Xl(a,l);return Pl(a,nn(l,function(I){return gr(I,w)?+I:I}).sort(qs)),A});function Rl(a){return a==null?a:Ws.call(a)}var dc=Ct(function(a){return hr(Ln(a,1,Dn,!0))}),Os=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),hr(Ln(a,1,Dn,!0),st(l,2))}),th=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,hr(Ln(a,1,Dn,!0),n,l)});function Uc(a){if(!a||!a.length)return[];var l=0;return a=mi(a,function(w){if(Dn(w))return l=Tn(w.length,l),!0}),tc(l,function(w){return nn(a,pa(w))})}function ya(a,l){if(!a||!a.length)return[];var w=Uc(a);return l==null?w:nn(w,function(A){return Rn(l,n,A)})}var Th=Ct(function(a,l){return Dn(a)?ua(a,l):[]}),Ih=Ct(function(a){return zr(mi(a,Dn))}),Oh=Ct(function(a){var l=ai(a);return Dn(l)&&(l=n),zr(mi(a,Dn),st(l,2))}),Lf=Ct(function(a){var l=ai(a);return l=typeof l=="function"?l:n,zr(mi(a,Dn),n,l)}),hh=Ct(Uc),xf=Ct(function(a){var l=a.length,w=l>1?a[l-1]:n;return w=typeof w=="function"?(a.pop(),w):n,ya(a,w)});function ph(a){var l=R(a);return l.__chain__=!0,l}function vl(a,l){return l(a)}var nh=lo(function(a){var l=a.length,w=l?a[0]:0,A=this.__wrapped__,I=function(U){return Xl(U,a)};return!(l>1||this.__actions__.length)&&A instanceof _t&&gr(w)?((A=A.slice(w,+w+(l?1:0))).__actions__.push({func:vl,args:[I],thisArg:n}),new Lr(A,this.__chain__).thru(function(U){return l&&!U.length&&U.push(n),U})):this.thru(I)}),xu=Oa(function(a,l,w){$t.call(a,w)?++a[w]:oi(a,w,1)}),$f=Hi(Xs),ff=Hi(vi);function Df(a,l){return(dt(a)?jr:Li)(a,st(l,3))}function Wc(a,l){return(dt(a)?Nc:fo)(a,st(l,3))}var Nh=Oa(function(a,l,w){$t.call(a,w)?a[w].push(l):oi(a,w,[l])}),zf=Ct(function(a,l,w){var A=-1,I=typeof l=="function",U=$n(a)?ze(a.length):[];return Li(a,function(D){U[++A]=I?Rn(l,D,w):Xr(D,l,w)}),U}),yl=Oa(function(a,l,w){oi(a,w,l)});function wl(a,l){return(dt(a)?nn:Qn)(a,st(l,3))}var Uf=Oa(function(a,l,w){a[w?0:1].push(l)},function(){return[[],[]]}),zh=Ct(function(a,l){if(a==null)return[];var w=l.length;return w>1&&Gt(a,l[0],l[1])?l=[]:w>2&&Gt(l[0],l[1],l[2])&&(l=[l[0]]),ku(a,Ln(l,1),[])}),Zl=fh||function(){return Bt.Date.now()};function hf(a,l,w){return l=w?n:l,l=a&&l==null?a.length:l,wr(a,o,n,n,n,n,l)}function Cf(a,l){var w;if(typeof l!="function")throw new ut(e);return a=mt(a),function(){return--a>0&&(w=l.apply(this,arguments)),a<=1&&(l=n),w}}var oc=Ct(function(a,l,w){var A=1;if(w.length){var I=xo(w,Xi(oc));A|=i}return wr(a,A,l,w,I)}),rh=Ct(function(a,l,w){var A=3;if(w.length){var I=xo(w,Xi(rh));A|=i}return wr(l,A,a,w,I)});function _h(a,l,w){var A,I,U,D,E,N,v=0,m=!1,x=!1,P=!0;if(typeof a!="function")throw new ut(e);function L(ne){var ce=A,me=I;return A=I=n,v=ne,D=a.apply(me,ce)}function H(ne){var ce=ne-N;return N===n||ce>=l||ce<0||x&&ne-v>=U}function V(){var ne=Zl();if(H(ne))return Y(ne);E=Ti(V,function(ce){var me=l-(ce-N);return x?wn(me,U-(ce-v)):me}(ne))}function Y(ne){return E=n,P&&A?L(ne):(A=I=n,D)}function re(){var ne=Zl(),ce=H(ne);if(A=arguments,I=this,N=ne,ce){if(E===n)return function(me){return v=me,E=Ti(V,l),m?L(me):D}(N);if(x)return gl(E),E=Ti(V,l),L(N)}return E===n&&(E=Ti(V,l)),D}return l=xr(l)||0,on(w)&&(m=!!w.leading,U=(x="maxWait"in w)?Tn(xr(w.maxWait)||0,l):U,P="trailing"in w?!!w.trailing:P),re.cancel=function(){E!==n&&gl(E),v=0,A=N=I=E=n},re.flush=function(){return E===n?D:Y(Zl())},re}var _o=Ct(function(a,l){return ms(a,1,l)}),Ra=Ct(function(a,l,w){return ms(a,xr(l)||0,w)});function jl(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new ut(e);var w=function(){var A=arguments,I=l?l.apply(this,A):A[0],U=w.cache;if(U.has(I))return U.get(I);var D=a.apply(this,A);return w.cache=U.set(I,D)||U,D};return w.cache=new(jl.Cache||xi),w}function ws(a){if(typeof a!="function")throw new ut(e);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}jl.Cache=xi;var gh=Ql(function(a,l){var w=(l=l.length==1&&dt(l[0])?nn(l[0],vr(st())):nn(Ln(l,1),vr(st()))).length;return Ct(function(A){for(var I=-1,U=wn(A.length,w);++I<U;)A[I]=l[I].call(this,A[I]);return Rn(a,this,A)})}),vc=Ct(function(a,l){var w=xo(l,Xi(vc));return wr(a,i,n,l,w)}),ef=Ct(function(a,l){var w=xo(l,Xi(ef));return wr(a,64,n,l,w)}),Ll=lo(function(a,l){return wr(a,256,n,n,n,l)});function Kr(a,l){return a===l||a!=a&&l!=l}var tf=qa(Lo),Bh=qa(function(a,l){return a>=l}),To=as(function(){return arguments}())?as:function(a){return Wt(a)&&$t.call(a,"callee")&&!nc.call(a,"callee")},dt=ze.isArray,ih=hu?vr(hu):function(a){return Wt(a)&&Kt(a)==ge};function $n(a){return a!=null&&zt(a.length)&&!mo(a)}function Dn(a){return Wt(a)&&$n(a)}var $o=Kl||Ir,wa=Ei?vr(Ei):function(a){return Wt(a)&&Kt(a)==_};function Nr(a){if(!Wt(a))return!1;var l=Kt(a);return l==M||l=="[object DOMException]"||typeof a.message=="string"&&typeof a.name=="string"&&!us(a)}function mo(a){if(!on(a))return!1;var l=Kt(a);return l==F||l==O||l=="[object AsyncFunction]"||l=="[object Proxy]"}function Eo(a){return typeof a=="number"&&a==mt(a)}function zt(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=u}function on(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Wt(a){return a!=null&&typeof a=="object"}var tr=Hn?vr(Hn):function(a){return Wt(a)&&Lt(a)==j};function _r(a){return typeof a=="number"||Wt(a)&&Kt(a)==z}function us(a){if(!Wt(a)||Kt(a)!=W)return!1;var l=Ma(a);if(l===null)return!0;var w=$t.call(l,"constructor")&&l.constructor;return typeof w=="function"&&w instanceof w&&jn.call(w)==Ec}var Fi=Xo?vr(Xo):function(a){return Wt(a)&&Kt(a)==G},Ii=af?vr(af):function(a){return Wt(a)&&Lt(a)==Q};function Ao(a){return typeof a=="string"||!dt(a)&&Wt(a)&&Kt(a)==te}function sr(a){return typeof a=="symbol"||Wt(a)&&Kt(a)==ae}var sn=cc?vr(cc):function(a){return Wt(a)&&zt(a.length)&&!!Qt[Kt(a)]},si=qa(ir),Tt=qa(function(a,l){return a<=l});function Qu(a){if(!a)return[];if($n(a))return Ao(a)?ii(a):or(a);if(Wi&&a[Wi])return function(w){for(var A,I=[];!(A=w.next()).done;)I.push(A.value);return I}(a[Wi]());var l=Lt(a);return(l==j?ji:l==Q?ts:On)(a)}function yi(a){return a?(a=xr(a))===s||a===-1/0?17976931348623157e292*(a<0?-1:1):a==a?a:0:a===0?a:0}function mt(a){var l=yi(a),w=l%1;return l==l?w?l-w:l:0}function Du(a){return a?Ta(mt(a),0,p):0}function xr(a){if(typeof a=="number")return a;if(sr(a))return c;if(on(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=on(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Hl(a);var w=At.test(a);return w||io.test(a)?Es(a.slice(2),w?2:8):yn.test(a)?c:+a}function zo(a){return Kn(a,Er(a))}function Ot(a){return a==null?"":xn(a)}var nf=la(function(a,l){if(br(l)||$n(l))Kn(l,An(l),a);else for(var w in l)$t.call(l,w)&&Yi(a,w,l[w])}),ui=la(function(a,l){Kn(l,Er(l),a)}),Cu=la(function(a,l,w,A){Kn(l,Er(l),a,A)}),ea=la(function(a,l,w,A){Kn(l,An(l),a,A)}),Ht=lo(Xl),Dr=Ct(function(a,l){a=he(a);var w=-1,A=l.length,I=A>2?l[2]:n;for(I&&Gt(l[0],l[1],I)&&(A=1);++w<A;)for(var U=l[w],D=Er(U),E=-1,N=D.length;++E<N;){var v=D[E],m=a[v];(m===n||Kr(m,Cr[v])&&!$t.call(a,v))&&(a[v]=U[v])}return a}),ko=Ct(function(a){return a.push(n,yu),Rn(pf,n,a)});function ac(a,l,w){var A=a==null?n:di(a,l);return A===n?w:A}function zn(a,l){return a!=null&&Hu(a,l,_a)}var Vu=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),a[l]=w},wc(Yn)),mh=$i(function(a,l,w){l!=null&&typeof l.toString!="function"&&(l=ps.call(l)),$t.call(a,l)?a[l].push(w):a[l]=[w]},st),ls=Ct(Xr);function An(a){return $n(a)?Eu(a):ds(a)}function Er(a){return $n(a)?Eu(a,!0):function(w){if(!on(w))return function(D){var E=[];if(D!=null)for(var N in he(D))E.push(N);return E}(w);var A=br(w),I=[];for(var U in w)(U!="constructor"||!A&&$t.call(w,U))&&I.push(U);return I}(a)}var Eh=la(function(a,l,w){Mi(a,l,w)}),pf=la(function(a,l,w,A){Mi(a,l,w,A)}),Su=lo(function(a,l){var w={};if(a==null)return w;var A=!1;l=nn(l,function(U){return U=Qr(U,a),A||(A=U.length>1),U}),Kn(a,Ba(a),w),A&&(w=Hr(w,7,lf));for(var I=l.length;I--;)Co(w,l[I]);return w}),oh=lo(function(a,l){return a==null?{}:function(w,A){return Ji(w,A,function(I,U){return zn(w,U)})}(a,l)});function Cn(a,l){if(a==null)return{};var w=nn(Ba(a),function(A){return[A]});return l=st(l),Ji(a,w,function(A,I){return l(A,I[0])})}var ja=Il(An),rf=Il(Er);function On(a){return a==null?[]:ll(a,An(a))}var Sn=uo(function(a,l,w){return l=l.toLowerCase(),a+(w?zi(l):l)});function zi(a){return ba(Ot(a).toLowerCase())}function ei(a){return(a=Ot(a))&&a.replace(ta,fc).replace(Br,"")}var Io=uo(function(a,l,w){return a+(w?"-":"")+l.toLowerCase()}),cs=uo(function(a,l,w){return a+(w?" ":"")+l.toLowerCase()}),Zu=ca("toLowerCase"),ro=uo(function(a,l,w){return a+(w?"_":"")+l.toLowerCase()}),yc=uo(function(a,l,w){return a+(w?" ":"")+ba(l)}),bs=uo(function(a,l,w){return a+(w?" ":"")+l.toUpperCase()}),ba=ca("toUpperCase");function Pu(a,l,w){return a=Ot(a),(l=w?n:l)===n?function(A){return Sc.test(A)}(a)?function(A){return A.match(gn)||[]}(a):function(A){return A.match(ot)||[]}(a):a.match(l)||[]}var _u=Ct(function(a,l){try{return Rn(a,n,l)}catch(w){return Nr(w)?w:new Ue(w)}}),xs=lo(function(a,l){return jr(l,function(w){w=Zn(w),oi(a,w,oc(a[w],a))}),a});function wc(a){return function(){return a}}var Tu=eo(),bl=eo(!0);function Yn(a){return a}function bc(a){return Au(typeof a=="function"?a:Hr(a,1))}var qu=Ct(function(a,l){return function(w){return Xr(w,a,l)}}),Hc=Ct(function(a,l){return function(w){return Xr(a,w,l)}});function Ds(a,l,w){var A=An(l),I=Ho(l,A);w!=null||on(l)&&(I.length||!A.length)||(w=l,l=a,a=this,I=Ho(l,An(l)));var U=!(on(w)&&"chain"in w&&!w.chain),D=mo(a);return jr(I,function(E){var N=l[E];a[E]=N,D&&(a.prototype[E]=function(){var v=this.__chain__;if(U||v){var m=a(this.__wrapped__);return(m.__actions__=or(this.__actions__)).push({func:N,args:arguments,thisArg:a}),m.__chain__=v,m}return N.apply(a,Xn([this.value()],arguments))})}),a}function ec(){}var Cs=ho(nn),gf=ho(As),Sf=ho(Jr);function li(a){return Vn(a)?pa(Zn(a)):function(l){return function(w){return di(w,l)}}(a)}var er=vu(),Ko=vu(!0);function ci(){return[]}function Ir(){return!1}var fs,of=to(function(a,l){return a+l},0),au=ma("ceil"),el=to(function(a,l){return a/l},1),Ic=ma("floor"),mf=to(function(a,l){return a*l},1),$l=ma("round"),Oc=to(function(a,l){return a-l},0);return R.after=function(a,l){if(typeof l!="function")throw new ut(e);return a=mt(a),function(){if(--a<1)return l.apply(this,arguments)}},R.ary=hf,R.assign=nf,R.assignIn=ui,R.assignInWith=Cu,R.assignWith=ea,R.at=Ht,R.before=Cf,R.bind=oc,R.bindAll=xs,R.bindKey=rh,R.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return dt(a)?a:[a]},R.chain=ph,R.chunk=function(a,l,w){l=(w?Gt(a,l,w):l===n)?1:Tn(mt(l),0);var A=a==null?0:a.length;if(!A||l<1)return[];for(var I=0,U=0,D=ze(Zo(A/l));I<A;)D[U++]=lr(a,I,I+=l);return D},R.compact=function(a){for(var l=-1,w=a==null?0:a.length,A=0,I=[];++l<w;){var U=a[l];U&&(I[A++]=U)}return I},R.concat=function(){var a=arguments.length;if(!a)return[];for(var l=ze(a-1),w=arguments[0],A=a;A--;)l[A-1]=arguments[A];return Xn(dt(w)?or(w):[w],Ln(l,1))},R.cond=function(a){var l=a==null?0:a.length,w=st();return a=l?nn(a,function(A){if(typeof A[1]!="function")throw new ut(e);return[w(A[0]),A[1]]}):[],Ct(function(A){for(var I=-1;++I<l;){var U=a[I];if(Rn(U[0],this,A))return Rn(U[1],this,A)}})},R.conforms=function(a){return function(l){var w=An(l);return function(A){return Fl(A,l,w)}}(Hr(a,1))},R.constant=wc,R.countBy=xu,R.create=function(a,l){var w=is(a);return l==null?w:Jl(w,l)},R.curry=function a(l,w,A){var I=wr(l,8,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.curryRight=function a(l,w,A){var I=wr(l,16,n,n,n,n,n,w=A?n:w);return I.placeholder=a.placeholder,I},R.debounce=_h,R.defaults=Dr,R.defaultsDeep=ko,R.defer=_o,R.delay=Ra,R.difference=mc,R.differenceBy=Tc,R.differenceWith=jf,R.drop=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=w||l===n?1:mt(l))<0?0:l,A):[]},R.dropRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,0,(l=A-(l=w||l===n?1:mt(l)))<0?0:l):[]},R.dropRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0,!0):[]},R.dropWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!0):[]},R.fill=function(a,l,w,A){var I=a==null?0:a.length;return I?(w&&typeof w!="number"&&Gt(a,l,w)&&(w=0,A=I),function(U,D,E,N){var v=U.length;for((E=mt(E))<0&&(E=-E>v?0:v+E),(N=N===n||N>v?v:mt(N))<0&&(N+=v),N=E>N?0:Du(N);E<N;)U[E++]=D;return U}(a,l,w,A)):[]},R.filter=function(a,l){return(dt(a)?mi:jo)(a,st(l,3))},R.flatMap=function(a,l){return Ln(wl(a,l),1)},R.flatMapDeep=function(a,l){return Ln(wl(a,l),s)},R.flatMapDepth=function(a,l,w){return w=w===n?1:mt(w),Ln(wl(a,l),w)},R.flatten=Ka,R.flattenDeep=function(a){return a!=null&&a.length?Ln(a,s):[]},R.flattenDepth=function(a,l){return a!=null&&a.length?Ln(a,l=l===n?1:mt(l)):[]},R.flip=function(a){return wr(a,512)},R.flow=Tu,R.flowRight=bl,R.fromPairs=function(a){for(var l=-1,w=a==null?0:a.length,A={};++l<w;){var I=a[l];A[I[0]]=I[1]}return A},R.functions=function(a){return a==null?[]:Ho(a,An(a))},R.functionsIn=function(a){return a==null?[]:Ho(a,Er(a))},R.groupBy=Nh,R.initial=function(a){return a!=null&&a.length?lr(a,0,-1):[]},R.intersection=bu,R.intersectionBy=bf,R.intersectionWith=cf,R.invert=Vu,R.invertBy=mh,R.invokeMap=zf,R.iteratee=bc,R.keyBy=yl,R.keys=An,R.keysIn=Er,R.map=wl,R.mapKeys=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,l(A,I,U),A)}),w},R.mapValues=function(a,l){var w={};return l=st(l,3),Pn(a,function(A,I,U){oi(w,I,l(A,I,U))}),w},R.matches=function(a){return mu(Hr(a,1))},R.matchesProperty=function(a,l){return ki(a,Hr(l,1))},R.memoize=jl,R.merge=Eh,R.mergeWith=pf,R.method=qu,R.methodOf=Hc,R.mixin=Ds,R.negate=ws,R.nthArg=function(a){return a=mt(a),Ct(function(l){return Ju(l,a)})},R.omit=Su,R.omitBy=function(a,l){return Cn(a,ws(st(l)))},R.once=function(a){return Cf(2,a)},R.orderBy=function(a,l,w,A){return a==null?[]:(dt(l)||(l=l==null?[]:[l]),dt(w=A?n:w)||(w=w==null?[]:[w]),ku(a,l,w))},R.over=Cs,R.overArgs=gh,R.overEvery=gf,R.overSome=Sf,R.partial=vc,R.partialRight=ef,R.partition=Uf,R.pick=oh,R.pickBy=Cn,R.property=li,R.propertyOf=function(a){return function(l){return a==null?n:di(a,l)}},R.pull=Xu,R.pullAll=zc,R.pullAllBy=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,st(w,2)):a},R.pullAllWith=function(a,l,w){return a&&a.length&&l&&l.length?ic(a,l,n,w):a},R.pullAt=eh,R.range=er,R.rangeRight=Ko,R.rearg=Ll,R.reject=function(a,l){return(dt(a)?mi:jo)(a,ws(st(l,3)))},R.remove=function(a,l){var w=[];if(!a||!a.length)return w;var A=-1,I=[],U=a.length;for(l=st(l,3);++A<U;){var D=a[A];l(D,A,a)&&(w.push(D),I.push(A))}return Pl(a,I),w},R.rest=function(a,l){if(typeof a!="function")throw new ut(e);return Ct(a,l=l===n?l:mt(l))},R.reverse=Rl,R.sampleSize=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),(dt(a)?_n:Zc)(a,l)},R.set=function(a,l,w){return a==null?a:Vs(a,l,w)},R.setWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:Vs(a,l,w,A)},R.shuffle=function(a){return(dt(a)?gs:Ar)(a)},R.slice=function(a,l,w){var A=a==null?0:a.length;return A?(w&&typeof w!="number"&&Gt(a,l,w)?(l=0,w=A):(l=l==null?0:mt(l),w=w===n?A:mt(w)),lr(a,l,w)):[]},R.sortBy=zh,R.sortedUniq=function(a){return a&&a.length?Wr(a):[]},R.sortedUniqBy=function(a,l){return a&&a.length?Wr(a,st(l,2)):[]},R.split=function(a,l,w){return w&&typeof w!="number"&&Gt(a,l,w)&&(l=w=n),(w=w===n?p:w>>>0)?(a=Ot(a))&&(typeof l=="string"||l!=null&&!Fi(l))&&!(l=xn(l))&&Wa(a)?Zi(ii(a),0,w):a.split(l,w):[]},R.spread=function(a,l){if(typeof a!="function")throw new ut(e);return l=l==null?0:Tn(mt(l),0),Ct(function(w){var A=w[l],I=Zi(w,0,l);return A&&Xn(I,A),Rn(a,this,I)})},R.tail=function(a){var l=a==null?0:a.length;return l?lr(a,1,l):[]},R.take=function(a,l,w){return a&&a.length?lr(a,0,(l=w||l===n?1:mt(l))<0?0:l):[]},R.takeRight=function(a,l,w){var A=a==null?0:a.length;return A?lr(a,(l=A-(l=w||l===n?1:mt(l)))<0?0:l,A):[]},R.takeRightWhile=function(a,l){return a&&a.length?nu(a,st(l,3),!1,!0):[]},R.takeWhile=function(a,l){return a&&a.length?nu(a,st(l,3)):[]},R.tap=function(a,l){return l(a),a},R.throttle=function(a,l,w){var A=!0,I=!0;if(typeof a!="function")throw new ut(e);return on(w)&&(A="leading"in w?!!w.leading:A,I="trailing"in w?!!w.trailing:I),_h(a,l,{leading:A,maxWait:l,trailing:I})},R.thru=vl,R.toArray=Qu,R.toPairs=ja,R.toPairsIn=rf,R.toPath=function(a){return dt(a)?nn(a,Zn):sr(a)?[a]:or(Lc(Ot(a)))},R.toPlainObject=zo,R.transform=function(a,l,w){var A=dt(a),I=A||$o(a)||sn(a);if(l=st(l,4),w==null){var U=a&&a.constructor;w=I?A?new U:[]:on(a)&&mo(U)?is(Ma(a)):{}}return(I?jr:Pn)(a,function(D,E,N){return l(w,D,E,N)}),w},R.unary=function(a){return hf(a,1)},R.union=dc,R.unionBy=Os,R.unionWith=th,R.uniq=function(a){return a&&a.length?hr(a):[]},R.uniqBy=function(a,l){return a&&a.length?hr(a,st(l,2)):[]},R.uniqWith=function(a,l){return l=typeof l=="function"?l:n,a&&a.length?hr(a,n,l):[]},R.unset=function(a,l){return a==null||Co(a,l)},R.unzip=Uc,R.unzipWith=ya,R.update=function(a,l,w){return a==null?a:So(a,l,Sr(w))},R.updateWith=function(a,l,w,A){return A=typeof A=="function"?A:n,a==null?a:So(a,l,Sr(w),A)},R.values=On,R.valuesIn=function(a){return a==null?[]:ll(a,Er(a))},R.without=Th,R.words=Pu,R.wrap=function(a,l){return vc(Sr(l),a)},R.xor=Ih,R.xorBy=Oh,R.xorWith=Lf,R.zip=hh,R.zipObject=function(a,l){return so(a||[],l||[],Yi)},R.zipObjectDeep=function(a,l){return so(a||[],l||[],Vs)},R.zipWith=xf,R.entries=ja,R.entriesIn=rf,R.extend=ui,R.extendWith=Cu,Ds(R,R),R.add=of,R.attempt=_u,R.camelCase=Sn,R.capitalize=zi,R.ceil=au,R.clamp=function(a,l,w){return w===n&&(w=l,l=n),w!==n&&(w=(w=xr(w))==w?w:0),l!==n&&(l=(l=xr(l))==l?l:0),Ta(xr(a),l,w)},R.clone=function(a){return Hr(a,4)},R.cloneDeep=function(a){return Hr(a,5)},R.cloneDeepWith=function(a,l){return Hr(a,5,l=typeof l=="function"?l:n)},R.cloneWith=function(a,l){return Hr(a,4,l=typeof l=="function"?l:n)},R.conformsTo=function(a,l){return l==null||Fl(a,l,An(l))},R.deburr=ei,R.defaultTo=function(a,l){return a==null||a!=a?l:a},R.divide=el,R.endsWith=function(a,l,w){a=Ot(a),l=xn(l);var A=a.length,I=w=w===n?A:Ta(mt(w),0,A);return(w-=l.length)>=0&&a.slice(w,I)==l},R.eq=Kr,R.escape=function(a){return(a=Ot(a))&&un.test(a)?a.replace(rn,ql):a},R.escapeRegExp=function(a){return(a=Ot(a))&&ve.test(a)?a.replace(ue,"\\$&"):a},R.every=function(a,l,w){var A=dt(a)?As:uf;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.find=$f,R.findIndex=Xs,R.findKey=function(a,l){return Wl(a,st(l,3),Pn)},R.findLast=ff,R.findLastIndex=vi,R.findLastKey=function(a,l){return Wl(a,st(l,3),Ha)},R.floor=Ic,R.forEach=Df,R.forEachRight=Wc,R.forIn=function(a,l){return a==null?a:Mc(a,st(l,3),Er)},R.forInRight=function(a,l){return a==null?a:pc(a,st(l,3),Er)},R.forOwn=function(a,l){return a&&Pn(a,st(l,3))},R.forOwnRight=function(a,l){return a&&Ha(a,st(l,3))},R.get=ac,R.gt=tf,R.gte=Bh,R.has=function(a,l){return a!=null&&Hu(a,l,Fc)},R.hasIn=zn,R.head=Si,R.identity=Yn,R.includes=function(a,l,w,A){a=$n(a)?a:On(a),w=w&&!A?mt(w):0;var I=a.length;return w<0&&(w=Tn(I+w,0)),Ao(a)?w<=I&&a.indexOf(l,w)>-1:!!I&&bi(a,l,w)>-1},R.indexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=w==null?0:mt(w);return I<0&&(I=Tn(A+I,0)),bi(a,l,I)},R.inRange=function(a,l,w){return l=yi(l),w===n?(w=l,l=0):w=yi(w),function(A,I,U){return A>=wn(I,U)&&A<Tn(I,U)}(a=xr(a),l,w)},R.invoke=ls,R.isArguments=To,R.isArray=dt,R.isArrayBuffer=ih,R.isArrayLike=$n,R.isArrayLikeObject=Dn,R.isBoolean=function(a){return a===!0||a===!1||Wt(a)&&Kt(a)==b},R.isBuffer=$o,R.isDate=wa,R.isElement=function(a){return Wt(a)&&a.nodeType===1&&!us(a)},R.isEmpty=function(a){if(a==null)return!0;if($n(a)&&(dt(a)||typeof a=="string"||typeof a.splice=="function"||$o(a)||sn(a)||To(a)))return!a.length;var l=Lt(a);if(l==j||l==Q)return!a.size;if(br(a))return!ds(a).length;for(var w in a)if($t.call(a,w))return!1;return!0},R.isEqual=function(a,l){return Ea(a,l)},R.isEqualWith=function(a,l,w){var A=(w=typeof w=="function"?w:n)?w(a,l):n;return A===n?Ea(a,l,n,w):!!A},R.isError=Nr,R.isFinite=function(a){return typeof a=="number"&&Rc(a)},R.isFunction=mo,R.isInteger=Eo,R.isLength=zt,R.isMap=tr,R.isMatch=function(a,l){return a===l||Ci(a,l,Ol(l))},R.isMatchWith=function(a,l,w){return w=typeof w=="function"?w:n,Ci(a,l,Ol(l),w)},R.isNaN=function(a){return _r(a)&&a!=+a},R.isNative=function(a){if(Nl(a))throw new Ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return pl(a)},R.isNil=function(a){return a==null},R.isNull=function(a){return a===null},R.isNumber=_r,R.isObject=on,R.isObjectLike=Wt,R.isPlainObject=us,R.isRegExp=Fi,R.isSafeInteger=function(a){return Eo(a)&&a>=-9007199254740991&&a<=u},R.isSet=Ii,R.isString=Ao,R.isSymbol=sr,R.isTypedArray=sn,R.isUndefined=function(a){return a===n},R.isWeakMap=function(a){return Wt(a)&&Lt(a)==se},R.isWeakSet=function(a){return Wt(a)&&Kt(a)=="[object WeakSet]"},R.join=function(a,l){return a==null?"":Ch.call(a,l)},R.kebabCase=Io,R.last=ai,R.lastIndexOf=function(a,l,w){var A=a==null?0:a.length;if(!A)return-1;var I=A;return w!==n&&(I=(I=mt(w))<0?Tn(A+I,0):wn(I,A-1)),l==l?function(U,D,E){for(var N=E+1;N--;)if(U[N]===D)return N;return N}(a,l,I):Wn(a,ul,I,!0)},R.lowerCase=cs,R.lowerFirst=Zu,R.lt=si,R.lte=Tt,R.max=function(a){return a&&a.length?Sa(a,Yn,Lo):n},R.maxBy=function(a,l){return a&&a.length?Sa(a,st(l,2),Lo):n},R.mean=function(a){return zs(a,Yn)},R.meanBy=function(a,l){return zs(a,st(l,2))},R.min=function(a){return a&&a.length?Sa(a,Yn,ir):n},R.minBy=function(a,l){return a&&a.length?Sa(a,st(l,2),ir):n},R.stubArray=ci,R.stubFalse=Ir,R.stubObject=function(){return{}},R.stubString=function(){return""},R.stubTrue=function(){return!0},R.multiply=mf,R.nth=function(a,l){return a&&a.length?Ju(a,mt(l)):n},R.noConflict=function(){return Bt._===this&&(Bt._=oo),this},R.noop=ec,R.now=Zl,R.pad=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;if(!l||A>=l)return a;var I=(l-A)/2;return Na($u(I),w)+a+Na(Zo(I),w)},R.padEnd=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?a+Na(l-A,w):a},R.padStart=function(a,l,w){a=Ot(a);var A=(l=mt(l))?Qi(a):0;return l&&A<l?Na(l-A,w)+a:a},R.parseInt=function(a,l,w){return w||l==null?l=0:l&&(l=+l),Zf(Ot(a).replace(Se,""),l||0)},R.random=function(a,l,w){if(w&&typeof w!="boolean"&&Gt(a,l,w)&&(l=w=n),w===n&&(typeof l=="boolean"?(w=l,l=n):typeof a=="boolean"&&(w=a,a=n)),a===n&&l===n?(a=0,l=1):(a=yi(a),l===n?(l=a,a=0):l=yi(l)),a>l){var A=a;a=l,l=A}if(w||a%1||l%1){var I=Rf();return wn(a+I*(l-a+Ph("1e-"+((I+"").length-1))),l)}return Fs(a,l)},R.reduce=function(a,l,w){var A=dt(a)?es:_c,I=arguments.length<3;return A(a,st(l,4),w,I,Li)},R.reduceRight=function(a,l,w){var A=dt(a)?ch:_c,I=arguments.length<3;return A(a,st(l,4),w,I,fo)},R.repeat=function(a,l,w){return l=(w?Gt(a,l,w):l===n)?1:mt(l),du(Ot(a),l)},R.replace=function(){var a=arguments,l=Ot(a[0]);return a.length<3?l:l.replace(a[1],a[2])},R.result=function(a,l,w){var A=-1,I=(l=Qr(l,a)).length;for(I||(I=1,a=n);++A<I;){var U=a==null?n:a[Zn(l[A])];U===n&&(A=I,U=w),a=mo(U)?U.call(a):U}return a},R.round=$l,R.runInContext=ie,R.sample=function(a){return(dt(a)?bn:vs)(a)},R.size=function(a){if(a==null)return 0;if($n(a))return Ao(a)?Qi(a):a.length;var l=Lt(a);return l==j||l==Q?a.size:ds(a).length},R.snakeCase=ro,R.some=function(a,l,w){var A=dt(a)?Jr:Pc;return w&&Gt(a,l,w)&&(l=n),A(a,st(l,3))},R.sortedIndex=function(a,l){return tn(a,l)},R.sortedIndexBy=function(a,l,w){return ao(a,l,st(w,2))},R.sortedIndexOf=function(a,l){var w=a==null?0:a.length;if(w){var A=tn(a,l);if(A<w&&Kr(a[A],l))return A}return-1},R.sortedLastIndex=function(a,l){return tn(a,l,!0)},R.sortedLastIndexBy=function(a,l,w){return ao(a,l,st(w,2),!0)},R.sortedLastIndexOf=function(a,l){if(a!=null&&a.length){var w=tn(a,l,!0)-1;if(Kr(a[w],l))return w}return-1},R.startCase=yc,R.startsWith=function(a,l,w){return a=Ot(a),w=w==null?0:Ta(mt(w),0,a.length),l=xn(l),a.slice(w,w+l.length)==l},R.subtract=Oc,R.sum=function(a){return a&&a.length?Us(a,Yn):0},R.sumBy=function(a,l){return a&&a.length?Us(a,st(l,2)):0},R.template=function(a,l,w){var A=R.templateSettings;w&&Gt(a,l,w)&&(l=n),a=Ot(a),l=Cu({},l,A,ys);var I,U,D=Cu({},l.imports,A.imports,ys),E=An(D),N=ll(D,E),v=0,m=l.interpolate||Oo,x="__p += '",P=Ke((l.escape||Oo).source+"|"+m.source+"|"+(m===wi?fn:Oo).source+"|"+(l.evaluate||Oo).source+"|$","g"),L="//# sourceURL="+($t.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++No+"]")+`
`;a.replace(P,function(Y,re,ne,ce,me,be){return ne||(ne=ce),x+=a.slice(v,be).replace(Ru,ra),re&&(I=!0,x+=`' +
__e(`+re+`) +
'`),me&&(U=!0,x+=`';
`+me+`;
__p += '`),ne&&(x+=`' +
((__t = (`+ne+`)) == null ? '' : __t) +
'`),v=be+Y.length,Y}),x+=`';
`;var H=$t.call(l,"variable")&&l.variable;if(H){if(gt.test(H))throw new Ue("Invalid `variable` option passed into `_.template`")}else x=`with (obj) {
`+x+`
}
`;x=(U?x.replace(Ze,""):x).replace(xt,"$1").replace(wt,"$1;"),x="function("+(H||"obj")+`) {
`+(H?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(I?", __e = _.escape":"")+(U?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var V=_u(function(){return pt(E,L+"return "+x).apply(n,N)});if(V.source=x,Nr(V))throw V;return V},R.times=function(a,l){if((a=mt(a))<1||a>u)return[];var w=p,A=wn(a,p);l=st(l),a-=p;for(var I=tc(A,l);++w<a;)l(w);return I},R.toFinite=yi,R.toInteger=mt,R.toLength=Du,R.toLower=function(a){return Ot(a).toLowerCase()},R.toNumber=xr,R.toSafeInteger=function(a){return a?Ta(mt(a),-9007199254740991,u):a===0?a:0},R.toString=Ot,R.toUpper=function(a){return Ot(a).toUpperCase()},R.trim=function(a,l,w){if((a=Ot(a))&&(w||l===n))return Hl(a);if(!a||!(l=xn(l)))return a;var A=ii(a),I=ii(l);return Zi(A,Vl(A,I),ga(A,I)+1).join("")},R.trimEnd=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.slice(0,Qo(a)+1);if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,0,ga(A,ii(l))+1).join("")},R.trimStart=function(a,l,w){if((a=Ot(a))&&(w||l===n))return a.replace(Se,"");if(!a||!(l=xn(l)))return a;var A=ii(a);return Zi(A,Vl(A,ii(l))).join("")},R.truncate=function(a,l){var w=30,A="...";if(on(l)){var I="separator"in l?l.separator:I;w="length"in l?mt(l.length):w,A="omission"in l?xn(l.omission):A}var U=(a=Ot(a)).length;if(Wa(a)){var D=ii(a);U=D.length}if(w>=U)return a;var E=w-Qi(A);if(E<1)return A;var N=D?Zi(D,0,E).join(""):a.slice(0,E);if(I===n)return N+A;if(D&&(E+=N.length-E),Fi(I)){if(a.slice(E).search(I)){var v,m=N;for(I.global||(I=Ke(I.source,Ot(kn.exec(I))+"g")),I.lastIndex=0;v=I.exec(m);)var x=v.index;N=N.slice(0,x===n?E:x)}}else if(a.indexOf(xn(I),E)!=E){var P=N.lastIndexOf(I);P>-1&&(N=N.slice(0,P))}return N+A},R.unescape=function(a){return(a=Ot(a))&&an.test(a)?a.replace(Dt,vf):a},R.uniqueId=function(a){var l=++Zh;return Ot(a)+l},R.upperCase=bs,R.upperFirst=ba,R.each=Df,R.eachRight=Wc,R.first=Si,Ds(R,(fs={},Pn(R,function(a,l){$t.call(R.prototype,l)||(fs[l]=a)}),fs),{chain:!1}),R.VERSION="4.17.21",jr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){R[a].placeholder=R}),jr(["drop","take"],function(a,l){_t.prototype[a]=function(w){w=w===n?1:Tn(mt(w),0);var A=this.__filtered__&&!l?new _t(this):this.clone();return A.__filtered__?A.__takeCount__=wn(w,A.__takeCount__):A.__views__.push({size:wn(w,p),type:a+(A.__dir__<0?"Right":"")}),A},_t.prototype[a+"Right"]=function(w){return this.reverse()[a](w).reverse()}}),jr(["filter","map","takeWhile"],function(a,l){var w=l+1,A=w==1||w==3;_t.prototype[a]=function(I){var U=this.clone();return U.__iteratees__.push({iteratee:st(I,3),type:w}),U.__filtered__=U.__filtered__||A,U}}),jr(["head","last"],function(a,l){var w="take"+(l?"Right":"");_t.prototype[a]=function(){return this[w](1).value()[0]}}),jr(["initial","tail"],function(a,l){var w="drop"+(l?"":"Right");_t.prototype[a]=function(){return this.__filtered__?new _t(this):this[w](1)}}),_t.prototype.compact=function(){return this.filter(Yn)},_t.prototype.find=function(a){return this.filter(a).head()},_t.prototype.findLast=function(a){return this.reverse().find(a)},_t.prototype.invokeMap=Ct(function(a,l){return typeof a=="function"?new _t(this):this.map(function(w){return Xr(w,a,l)})}),_t.prototype.reject=function(a){return this.filter(ws(st(a)))},_t.prototype.slice=function(a,l){a=mt(a);var w=this;return w.__filtered__&&(a>0||l<0)?new _t(w):(a<0?w=w.takeRight(-a):a&&(w=w.drop(a)),l!==n&&(w=(l=mt(l))<0?w.dropRight(-l):w.take(l-a)),w)},_t.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},_t.prototype.toArray=function(){return this.take(p)},Pn(_t.prototype,function(a,l){var w=/^(?:filter|find|map|reject)|While$/.test(l),A=/^(?:head|last)$/.test(l),I=R[A?"take"+(l=="last"?"Right":""):l],U=A||/^find/.test(l);I&&(R.prototype[l]=function(){var D=this.__wrapped__,E=A?[1]:arguments,N=D instanceof _t,v=E[0],m=N||dt(D),x=function(re){var ne=I.apply(R,Xn([re],E));return A&&P?ne[0]:ne};m&&w&&typeof v=="function"&&v.length!=1&&(N=m=!1);var P=this.__chain__,L=!!this.__actions__.length,H=U&&!P,V=N&&!L;if(!U&&m){D=V?D:new _t(this);var Y=a.apply(D,E);return Y.__actions__.push({func:vl,args:[x],thisArg:n}),new Lr(Y,P)}return H&&V?a.apply(this,E):(Y=this.thru(x),H?A?Y.value()[0]:Y.value():Y)})}),jr(["pop","push","shift","sort","splice","unshift"],function(a){var l=Vt[a],w=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",A=/^(?:pop|shift)$/.test(a);R.prototype[a]=function(){var I=arguments;if(A&&!this.__chain__){var U=this.value();return l.apply(dt(U)?U:[],I)}return this[w](function(D){return l.apply(dt(D)?D:[],I)})}}),Pn(_t.prototype,function(a,l){var w=R[l];if(w){var A=w.name+"";$t.call(Pa,A)||(Pa[A]=[]),Pa[A].push({name:l,func:w})}}),Pa[Fo(n,2).name]=[{name:"wrapper",func:n}],_t.prototype.clone=function(){var a=new _t(this.__wrapped__);return a.__actions__=or(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=or(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=or(this.__views__),a},_t.prototype.reverse=function(){if(this.__filtered__){var a=new _t(this);a.__dir__=-1,a.__filtered__=!0}else(a=this.clone()).__dir__*=-1;return a},_t.prototype.value=function(){var a=this.__wrapped__.value(),l=this.__dir__,w=dt(a),A=l<0,I=w?a.length:0,U=function(be,we,Te){for(var Ge=-1,Ie=Te.length;++Ge<Ie;){var Xe=Te[Ge],Ye=Xe.size;switch(Xe.type){case"drop":be+=Ye;break;case"dropRight":we-=Ye;break;case"take":we=wn(we,be+Ye);break;case"takeRight":be=Tn(be,we-Ye)}}return{start:be,end:we}}(0,I,this.__views__),D=U.start,E=U.end,N=E-D,v=A?E:D-1,m=this.__iteratees__,x=m.length,P=0,L=wn(N,this.__takeCount__);if(!w||!A&&I==N&&L==N)return Ia(a,this.__actions__);var H=[];e:for(;N--&&P<L;){for(var V=-1,Y=a[v+=l];++V<x;){var re=m[V],ne=re.iteratee,ce=re.type,me=ne(Y);if(ce==2)Y=me;else if(!me){if(ce==1)continue e;break e}}H[P++]=Y}return H},R.prototype.at=nh,R.prototype.chain=function(){return ph(this)},R.prototype.commit=function(){return new Lr(this.value(),this.__chain__)},R.prototype.next=function(){this.__values__===n&&(this.__values__=Qu(this.value()));var a=this.__index__>=this.__values__.length;return{done:a,value:a?n:this.__values__[this.__index__++]}},R.prototype.plant=function(a){for(var l,w=this;w instanceof Yu;){var A=$c(w);A.__index__=0,A.__values__=n,l?I.__wrapped__=A:l=A;var I=A;w=w.__wrapped__}return I.__wrapped__=a,l},R.prototype.reverse=function(){var a=this.__wrapped__;if(a instanceof _t){var l=a;return this.__actions__.length&&(l=new _t(this)),(l=l.reverse()).__actions__.push({func:vl,args:[Rl],thisArg:n}),new Lr(l,this.__chain__)}return this.thru(Rl)},R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=function(){return Ia(this.__wrapped__,this.__actions__)},R.prototype.first=R.prototype.head,Wi&&(R.prototype[Wi]=function(){return this}),R}();Mo?((Mo.exports=ia)._=ia,rr._=ia):Bt._=ia}).call(xC.exports)),xC.exports);function S$(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function lE(){return lE=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},lE.apply(null,arguments)}(function(){function n(e,t){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=t,this.rootNode=e(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}Object.defineProperty(n.prototype,"windows",{get:function(){var e=function(t){return Nm([t],t.children.flatMap(e))};return Ege.orderBy(e(this.rootNode),function(t){return t.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var e=function(t){var r=t._boxSnapshot,i=[];if(i.push("KEY: ".concat(t.key)),t._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(t.getLayer())),i.push("BOX: [".concat(t.o[0],", ").concat(t.o[1],", ").concat(t.w,", ").concat(t.h,"]")),i.push("GLOBAL O: [".concat(t.globalO[0],", ").concat(t.globalO[1],"]")),i.push("CHILDREN:"),t.children.length>0){for(var o=t.children,s=[],u=0;u<o.length;u++){var c=o[u];s.push(e(c))}for(i.push(" |"),u=0;u<s.length;u++){for(var p=s[u],f=u===s.length-1?" └─":" ├─",g=0;g<p.length;g++){var y=g===0?f:u===s.length-1?"   ":" | ",b=p[g];i.push("".concat(y,"  ").concat(b))}u<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("  └─ (no children)");return t._boxSnapshot=r,i};console.log(e(this.rootNode).join(`
`))},n.prototype.onUpdate=function(e){this.onUpdateFunction=e},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Kf(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Kf([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(e,t){var r=this.scheduleUpdate(e);this.scheduledStateUpdates.push([r,function(){e.state=t}])},n.prototype.scheduleContextUpdate=function(e,t,r){var i=this.scheduleUpdate(e);this.scheduledStateUpdates.push([i,function(){e.context[t]=r}])},n.prototype.setSingleUpdateFlag=function(e,t){this.scheduledUpdateNodeMap[t]||(this.scheduledUpdateNodeMap[t]={}),this.scheduledUpdateNodeMap[t][e.globalKey]=!0},n.prototype.scheduleUpdate=function(e){var t=this,r=function(){t.DEBUG&&console.log("Scheduling update for ".concat(e.globalKey,". Received id ").concat(t.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=S$();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(t.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(t.scheduledUpdateIds,null,2),`.
                    `)),t.updateRunning=!0;t.scheduledUpdateIds.length>0;)t.updateScheduled=!1,t.updateCurrentId();t.updateRunning=!1}),this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=S$(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(e,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(e){console.error(e)}},n.prototype.propogateUpdateFlags=function(e){var t=this,r=function(i,o,s){t.scheduledUpdateNodeMap[o]||(t.scheduledUpdateNodeMap[o]={}),t.scheduledUpdateNodeMap[o][i.globalKey]&&(s=!0),t.scheduledUpdateNodeMap[o][i.globalKey]=s,i.children.forEach(function(u){return r(u,o,s)})};r(this.rootNode,e,!1)},n.prototype.updateCurrentId=function(){var e=this,t=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[t]).forEach(function(i){e.propogateUpdateFlags(t)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==t}),this.scheduledStateUpdates.filter(function(i){return i[0]===t}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==t});var r=this.scheduledUpdateNodeMap[t];this.update(r),delete this.scheduledUpdateNodeMap[t]},n.prototype.taintLayer=function(e){this.taintedLayers.includes(e)||this.taintedLayers.push(e)},n.prototype.findCameraPathRecursive=function(e,t){var r,i;if(e._isPrimaryCamera){var o=e.globalKey;return Nu(Nu({},t),((r={})[o]=!0,r))}for(var s=e.children,u=0;u<s.length;u++){var c=s[u],p=(o=c.globalKey,Nu(Nu({},t),((i={})[o]=!0,i))),f=this.findCameraPathRecursive(c,p);if(f)return f}},n.prototype.AND_updateMaps=function(e,t){var r={};for(var i in e)t[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(e,t){var r={};for(var i in e)t[i]||(r[i]=!0);for(var i in t)e[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(e,t){var r=this.AND_updateMaps(e,t);return[r,this.XOR_updateMaps(e,r)]},n.prototype.setNeedsUpdateToMap=function(e){var t=function(r){var i=r.globalKey;e[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(e){var t=function(r){var i=r.globalKey;e[i]&&(r._needsUpdate=!0),r.children.forEach(function(o){return t(o)})};t(this.rootNode)},n.prototype.installCamera=function(e){this.cameraNode!==e&&(this.scheduledCameraNode=e,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(e){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var t=this.findCameraPathRecursive(this.rootNode,{});if(!t)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(e,t),i=r[0],o=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(e),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(o),null,2),`
            `));var s=function(u,c){u._needsUpdate?c?u.cameraPassUpdateSelf():u.regularPassUpdateSelf():u.children.forEach(function(p){return s(p,c)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(o),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var e=this.canvas.getContext("2d");if(!e)throw new Error("Could not get 2d context from canvas");e.clearRect(0,0,this.canvas.width,this.canvas.height),function(r,i,o,s,u){var c=(r=new Kf(Nm([],r.o),r.w,r.h)).getBoundingBox(),p=i.filter(function(b){return $y(b.getBoundingBox(),c)}),f=Array.from(new Set(p.map(function(b){return b.getLayer()}))).sort(function(b,_){return b-_});s.clearRect(0,0,o.width,o.height);for(var g=function(b){var _=f[b],M=p.filter(function(Q){return Q.getLayer()===f[b]});if(u.includes(_)){var F=_+"";if(Rw[F]===void 0){var O=document.createElement("canvas");O.width=o.width,O.height=o.height,Rw[F]=O}var j=Rw[F],z=j.getContext("2d");z.clearRect(0,0,j.width,j.height);for(var W=0,J=M;W<J.length;W++)J[W].renderPrimitive(z)}var G=_+"";Rw[G]&&s.drawImage(Rw[G],0,0)},y=0;y<f.length;y++)g(y)}(this.cameraSnapshot,this.windows,this.canvas,e,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Kf(Nm([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return $y(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseDownPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseMoveHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Kf(Nm([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return $y(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseMovePrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseUpHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Kf(Nm([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return $y(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onMouseUpPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)},n.prototype.mouseWheelHandler=function(e){(function(r,i,o,s){for(var u=(r=new Kf(Nm([],r.o),r.w,r.h)).getBoundingBox(),c=i.filter(function(b){return $y(b.getBoundingBox(),u)}).reverse(),p=!0,f=function(){p=!1},g=0,y=c;g<y.length&&(y[g].onWheelPrimitive(f,s),p);g++);})(this.cameraSnapshot,this.windows,this.canvas,e)},n.prototype.clickHandler=function(e,t){(function(i,o,s,u,c){for(var p=(i=new Kf(Nm([],i.o),i.w,i.h)).getBoundingBox(),f=o.filter(function(M){return $y(M.getBoundingBox(),p)}).reverse(),g=!0,y=function(){g=!1},b=0,_=f;b<_.length&&(_[b].onClickPrimitive(u,y,c),g);b++);})(this.cameraSnapshot,this.windows,this.canvas,e,t)}})();var yK={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function DC(n,e){return!(!function(t){return typeof t=="object"&&t&&t.constructor===Object}(n)&&!Array.isArray(n)||!_x(Age,e)&&(e in Object.prototype||e in Function.prototype))}var Age={length:!0,name:!0},kge={toString:!0,valueOf:!0,toLocaleString:!0};class Mge{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return function(r,i){if(DC(r,i))return r[i];throw typeof r[i]=="function"&&function(o,s){return!(o==null||typeof o[s]!="function"||_x(o,s)&&Object.getPrototypeOf&&s in Object.getPrototypeOf(o)||!_x(kge,s)&&(s in Object.prototype||s in Function.prototype))}(r,i)?new Error('Cannot access method "'+i+'" as a property'):new Error('No access to property "'+i+'"')}(this.wrappedObject,e)}set(e,t){return function(r,i,o){if(DC(r,i))return r[i]=o,o;throw new Error('No access to property "'+i+'"')}(this.wrappedObject,e,t),this}has(e){return DC(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return e=this.keys(),t=r=>[r,this.get(r)],{next:()=>{var r=e.next();return r.done?r:{value:t(r.value),done:!1}}};var e,t}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){DC(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function Jf(n){return typeof n=="number"}function Up(n){return!(!n||typeof n!="object"||typeof n.constructor!="function")&&(n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0)}function Fge(n){return typeof n=="bigint"}function wK(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function bK(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function xK(n){return n&&n.constructor.prototype.isUnit===!0||!1}function _0(n){return typeof n=="string"}var Xh=Array.isArray;function B0(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function cE(n){return Array.isArray(n)||B0(n)}function Pge(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Tge(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Ige(n){return n&&n.constructor.prototype.isRange===!0||!1}function tN(n){return n&&n.constructor.prototype.isIndex===!0||!1}function Oge(n){return typeof n=="boolean"}function Nge(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function Bge(n){return n&&n.constructor.prototype.isHelp===!0||!1}function Rge(n){return typeof n=="function"}function jge(n){return n instanceof Date}function Lge(n){return n instanceof RegExp}function nN(n){return!(!n||typeof n!="object"||n.constructor!==Object||wK(n)||bK(n))}function $ge(n){return!!n&&(n instanceof Map||n instanceof Mge||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function")}function zge(n){return n===null}function Uge(n){return n===void 0}function Wge(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function Hge(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function Vge(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function qge(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function Kge(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function Gge(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function Yge(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function Jge(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function Xge(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function Qge(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function Zge(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function eme(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function tme(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function nme(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function rme(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function ime(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function ome(n){return n&&n.constructor.prototype.isChain===!0||!1}function iy(n){var e=typeof n;return e==="object"?n===null?"null":Up(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":e}function vp(n){var e=typeof n;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||n==null)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(t){return vp(t)});if(n instanceof Date)return new Date(n.valueOf());if(Up(n))return n;if(nN(n))return function(t,r){var i={};for(var o in t)_x(t,o)&&(i[o]=r(t[o]));return i}(n,vp);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function Cv(n,e){var t,r,i;if(Array.isArray(n)){if(!Array.isArray(e)||n.length!==e.length)return!1;for(r=0,i=n.length;r<i;r++)if(!Cv(n[r],e[r]))return!1;return!0}if(typeof n=="function")return n===e;if(n instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in n)if(!(t in e)||!Cv(n[t],e[t]))return!1;for(t in e)if(!(t in n))return!1;return!0}return n===e}function _x(n,e){return n&&Object.hasOwnProperty.call(n,e)}var rN=function(n){if(n)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(yK)};function _$(){return!0}function hm(){return!1}function zy(){}lE(rN,yK,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const E$="Argument is not a typed-function.";var fE=function n(){function e(fe){return typeof fe=="object"&&fe!==null&&fe.constructor===Object}const t=[{name:"number",test:function(fe){return typeof fe=="number"}},{name:"string",test:function(fe){return typeof fe=="string"}},{name:"boolean",test:function(fe){return typeof fe=="boolean"}},{name:"Function",test:function(fe){return typeof fe=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(fe){return fe instanceof Date}},{name:"RegExp",test:function(fe){return fe instanceof RegExp}},{name:"Object",test:e},{name:"null",test:function(fe){return fe===null}},{name:"undefined",test:function(fe){return fe===void 0}}],r={name:"any",test:_$,isAny:!0};let i,o,s=0,u={createCount:0};function c(fe){const ue=i.get(fe);if(ue)return ue;let ve='Unknown type "'+fe+'"';const Se=fe.toLowerCase();let Re;for(Re of o)if(Re.toLowerCase()===Se){ve+='. Did you mean "'+Re+'" ?';break}throw new TypeError(ve)}function p(fe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const ve=ue?c(ue).index:o.length,Se=[];for(let Be=0;Be<fe.length;++Be){if(!fe[Be]||typeof fe[Be].name!="string"||typeof fe[Be].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const He=fe[Be].name;if(i.has(He))throw new TypeError('Duplicate type name "'+He+'"');Se.push(He),i.set(He,{name:He,test:fe[Be].test,isAny:fe[Be].isAny,index:ve+Be,conversionsTo:[]})}const Re=o.slice(ve);o=o.slice(0,ve).concat(Se).concat(Re);for(let Be=ve+Se.length;Be<o.length;++Be)i.get(o[Be]).index=Be}function f(){i=new Map,o=[],s=0,p([r],!1)}function g(fe){const ue=o.filter(ve=>{const Se=i.get(ve);return!Se.isAny&&Se.test(fe)});return ue.length?ue:["any"]}function y(fe){return fe&&typeof fe=="function"&&"_typedFunctionData"in fe}function b(fe,ue,ve){if(!y(fe))throw new TypeError(E$);const Se=ve&&ve.exact,Re=j(Array.isArray(ue)?ue.join(","):ue),Be=_(Re);if(!Se||Be in fe.signatures){const gt=fe._typedFunctionData.signatureMap.get(Be);if(gt)return gt}const He=Re.length;let We,ot;if(Se){let gt;for(gt in We=[],fe.signatures)We.push(fe._typedFunctionData.signatureMap.get(gt))}else We=fe._typedFunctionData.signatures;for(let gt=0;gt<He;++gt){const bt=Re[gt],fn=[];let kn;for(kn of We){const yn=G(kn.params,gt);if(yn&&(!bt.restParam||yn.restParam)){if(!yn.hasAny){const At=O(yn);if(bt.types.some(Ui=>!At.has(Ui.name)))continue}fn.push(kn)}}if(We=fn,We.length===0)break}for(ot of We)if(ot.params.length<=He)return ot;throw new TypeError("Signature not found (signature: "+(fe.name||"unnamed")+"("+_(Re,", ")+"))")}function _(fe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return fe.map(ve=>ve.name).join(ue)}function M(fe){const ue=fe.indexOf("...")===0,ve=(ue?fe.length>3?fe.slice(3):"any":fe).split("|").map(Be=>c(Be.trim()));let Se=!1,Re=ue?"...":"";return{types:ve.map(function(Be){return Se=Be.isAny||Se,Re+=Be.name+"|",{name:Be.name,typeIndex:Be.index,test:Be.test,isAny:Be.isAny,conversion:null,conversionIndex:-1}}),name:Re.slice(0,-1),hasAny:Se,hasConversion:!1,restParam:ue}}function F(fe){const ue=function(Be){if(Be.length===0)return[];const He=Be.map(c);Be.length>1&&He.sort((gt,bt)=>gt.index-bt.index);let We=He[0].conversionsTo;if(Be.length===1)return We;We=We.concat([]);const ot=new Set(Be);for(let gt=1;gt<He.length;++gt){let bt;for(bt of He[gt].conversionsTo)ot.has(bt.from)||(We.push(bt),ot.add(bt.from))}return We}(fe.types.map(Be=>Be.name));let ve=fe.hasAny,Se=fe.name;const Re=ue.map(function(Be){const He=c(Be.from);return ve=He.isAny||ve,Se+="|"+Be.from,{name:Be.from,typeIndex:He.index,test:He.test,isAny:He.isAny,conversion:Be,conversionIndex:Be.index}});return{types:fe.types.concat(Re),name:Se,hasAny:ve,hasConversion:Re.length>0,restParam:fe.restParam}}function O(fe){return fe.typeSet||(fe.typeSet=new Set,fe.types.forEach(ue=>fe.typeSet.add(ue.name))),fe.typeSet}function j(fe){const ue=[];if(typeof fe!="string")throw new TypeError("Signatures must be strings");const ve=fe.trim();if(ve==="")return ue;const Se=ve.split(",");for(let Re=0;Re<Se.length;++Re){const Be=M(Se[Re].trim());if(Be.restParam&&Re!==Se.length-1)throw new SyntaxError('Unexpected rest parameter "'+Se[Re]+'": only allowed for the last parameter');if(Be.types.length===0)return null;ue.push(Be)}return ue}function z(fe){const ue=xt(fe);return!!ue&&ue.restParam}function W(fe){if(fe&&fe.types.length!==0){if(fe.types.length===1)return c(fe.types[0].name).test;if(fe.types.length===2){const ue=c(fe.types[0].name).test,ve=c(fe.types[1].name).test;return function(Se){return ue(Se)||ve(Se)}}{const ue=fe.types.map(function(ve){return c(ve.name).test});return function(ve){for(let Se=0;Se<ue.length;Se++)if(ue[Se](ve))return!0;return!1}}}return _$}function J(fe){let ue,ve,Se;if(z(fe)){ue=Ze(fe).map(W);const Re=ue.length,Be=W(xt(fe)),He=function(We){for(let ot=Re;ot<We.length;ot++)if(!Be(We[ot]))return!1;return!0};return function(We){for(let ot=0;ot<ue.length;ot++)if(!ue[ot](We[ot]))return!1;return He(We)&&We.length>=Re+1}}return fe.length===0?function(Re){return Re.length===0}:fe.length===1?(ve=W(fe[0]),function(Re){return ve(Re[0])&&Re.length===1}):fe.length===2?(ve=W(fe[0]),Se=W(fe[1]),function(Re){return ve(Re[0])&&Se(Re[1])&&Re.length===2}):(ue=fe.map(W),function(Re){for(let Be=0;Be<ue.length;Be++)if(!ue[Be](Re[Be]))return!1;return Re.length===ue.length})}function G(fe,ue){return ue<fe.length?fe[ue]:z(fe)?xt(fe):null}function Q(fe,ue){const ve=G(fe,ue);return ve?O(ve):new Set}function te(fe){return fe.conversion===null||fe.conversion===void 0}function ae(fe,ue){const ve=new Set;return fe.forEach(Se=>{const Re=Q(Se.params,ue);let Be;for(Be of Re)ve.add(Be)}),ve.has("any")?["any"]:Array.from(ve)}function se(fe,ue,ve){let Se,Re;const Be=fe||"unnamed";let He,We=ve;for(He=0;He<ue.length;He++){const fn=[];if(We.forEach(kn=>{const yn=W(G(kn.params,He));(He<kn.params.length||z(kn.params))&&yn(ue[He])&&fn.push(kn)}),fn.length===0){if(Re=ae(We,He),Re.length>0){const kn=g(ue[He]);return Se=new TypeError("Unexpected type of argument in function "+Be+" (expected: "+Re.join(" or ")+", actual: "+kn.join(" | ")+", index: "+He+")"),Se.data={category:"wrongType",fn:Be,index:He,actual:kn,expected:Re},Se}}else We=fn}const ot=We.map(function(fn){return z(fn.params)?1/0:fn.params.length});if(ue.length<Math.min.apply(null,ot))return Re=ae(We,He),Se=new TypeError("Too few arguments in function "+Be+" (expected: "+Re.join(" or ")+", index: "+ue.length+")"),Se.data={category:"tooFewArgs",fn:Be,index:ue.length,expected:Re},Se;const gt=Math.max.apply(null,ot);if(ue.length>gt)return Se=new TypeError("Too many arguments in function "+Be+" (expected: "+gt+", actual: "+ue.length+")"),Se.data={category:"tooManyArgs",fn:Be,index:ue.length,expectedLength:gt},Se;const bt=[];for(let fn=0;fn<ue.length;++fn)bt.push(g(ue[fn]).join("|"));return Se=new TypeError('Arguments of type "'+bt.join(", ")+'" do not match any of the defined signatures of function '+Be+"."),Se.data={category:"mismatch",actual:bt},Se}function ge(fe){let ue=o.length+1;for(let ve=0;ve<fe.types.length;ve++)te(fe.types[ve])&&(ue=Math.min(ue,fe.types[ve].typeIndex));return ue}function xe(fe){let ue=s+1;for(let ve=0;ve<fe.types.length;ve++)te(fe.types[ve])||(ue=Math.min(ue,fe.types[ve].conversionIndex));return ue}function Pe(fe,ue){if(fe.hasAny){if(!ue.hasAny)return 1}else if(ue.hasAny)return-1;if(fe.restParam){if(!ue.restParam)return 1}else if(ue.restParam)return-1;if(fe.hasConversion){if(!ue.hasConversion)return 1}else if(ue.hasConversion)return-1;const ve=ge(fe)-ge(ue);if(ve<0)return-1;if(ve>0)return 1;const Se=xe(fe)-xe(ue);return Se<0?-1:Se>0?1:0}function Ce(fe,ue){const ve=fe.params,Se=ue.params,Re=xt(ve),Be=xt(Se),He=z(ve),We=z(Se);if(He&&Re.hasAny){if(!We||!Be.hasAny)return 1}else if(We&&Be.hasAny)return-1;let ot,gt=0,bt=0;for(ot of ve)ot.hasAny&&++gt,ot.hasConversion&&++bt;let fn=0,kn=0;for(ot of Se)ot.hasAny&&++fn,ot.hasConversion&&++kn;if(gt!==fn)return gt-fn;if(He&&Re.hasConversion){if(!We||!Be.hasConversion)return 1}else if(We&&Be.hasConversion)return-1;if(bt!==kn)return bt-kn;if(He){if(!We)return 1}else if(We)return-1;const yn=(ve.length-Se.length)*(He?-1:1);if(yn!==0)return yn;const At=[];let Ui,io=0;for(let bo=0;bo<ve.length;++bo){const ta=Pe(ve[bo],Se[bo]);At.push(ta),io+=ta}if(io!==0)return io;for(Ui of At)if(Ui!==0)return Ui;return 0}function Me(fe,ue){let ve=ue;if(fe.some(Re=>Re.hasConversion)){const Re=z(fe),Be=fe.map(Oe);ve=function(){const He=[],We=Re?arguments.length-1:arguments.length;for(let ot=0;ot<We;ot++)He[ot]=Be[ot](arguments[ot]);return Re&&(He[We]=arguments[We].map(Be[We])),ue.apply(this,He)}}let Se=ve;if(z(fe)){const Re=fe.length-1;Se=function(){return ve.apply(this,wt(arguments,0,Re).concat([wt(arguments,Re)]))}}return Se}function Oe(fe){let ue,ve,Se,Re;const Be=[],He=[];switch(fe.types.forEach(function(We){We.conversion&&(Be.push(c(We.conversion.from).test),He.push(We.conversion.convert))}),He.length){case 0:return function(We){return We};case 1:return ue=Be[0],Se=He[0],function(We){return ue(We)?Se(We):We};case 2:return ue=Be[0],ve=Be[1],Se=He[0],Re=He[1],function(We){return ue(We)?Se(We):ve(We)?Re(We):We};default:return function(We){for(let ot=0;ot<He.length;ot++)if(Be[ot](We))return He[ot](We);return We}}}function et(fe){return function ue(ve,Se,Re){if(Se<ve.length){const We=ve[Se];let ot=[];if(We.restParam){const gt=We.types.filter(te);gt.length<We.types.length&&ot.push({types:gt,name:"..."+gt.map(bt=>bt.name).join("|"),hasAny:gt.some(bt=>bt.isAny),hasConversion:!1,restParam:!0}),ot.push(We)}else ot=We.types.map(function(gt){return{types:[gt],name:gt.name,hasAny:gt.isAny,hasConversion:gt.conversion,restParam:!1}});return Be=ot,He=function(gt){return ue(ve,Se+1,Re.concat([gt]))},Array.prototype.concat.apply([],Be.map(He))}return[Re];var Be,He}(fe,0,[])}function $e(fe,ue){const ve=Math.max(fe.length,ue.length);for(let We=0;We<ve;We++){const ot=Q(fe,We),gt=Q(ue,We);let bt,fn=!1;for(bt of gt)if(ot.has(bt)){fn=!0;break}if(!fn)return!1}const Se=fe.length,Re=ue.length,Be=z(fe),He=z(ue);return Be?He?Se===Re:Re>=Se:He?Se>=Re:Se===Re}function Fe(fe,ue,ve){const Se=[];let Re;for(Re of fe){let Be=ve[Re];if(typeof Be!="number")throw new TypeError('No definition for referenced signature "'+Re+'"');if(Be=ue[Be],typeof Be!="function")return!1;Se.push(Be)}return Se}function Ne(fe,ue,ve){const Se=function(He){return He.map(We=>un(We)?rn(We.referToSelf.callback):an(We)?Dt(We.referTo.references,We.referTo.callback):We)}(fe),Re=new Array(Se.length).fill(!1);let Be=!0;for(;Be;){Be=!1;let He=!0;for(let We=0;We<Se.length;++We){if(Re[We])continue;const ot=Se[We];if(un(ot))Se[We]=ot.referToSelf.callback(ve),Se[We].referToSelf=ot.referToSelf,Re[We]=!0,He=!1;else if(an(ot)){const gt=Fe(ot.referTo.references,Se,ue);gt?(Se[We]=ot.referTo.callback.apply(this,gt),Se[We].referTo=ot.referTo,Re[We]=!0,He=!1):Be=!0}}if(He&&Be)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Se}function Ee(fe,ue,ve){throw se(fe,ue,ve)}function Ze(fe){return wt(fe,0,fe.length-1)}function xt(fe){return fe[fe.length-1]}function wt(fe,ue,ve){return Array.prototype.slice.call(fe,ue,ve)}function Dt(fe,ue){return{referTo:{references:fe,callback:ue}}}function rn(fe){if(typeof fe!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:fe}}}function an(fe){return fe&&typeof fe.referTo=="object"&&Array.isArray(fe.referTo.references)&&typeof fe.referTo.callback=="function"}function un(fe){return fe&&typeof fe.referToSelf=="object"&&typeof fe.referToSelf.callback=="function"}function ur(fe,ue){if(!fe)return ue;if(ue&&ue!==fe){const ve=new Error("Function names do not match (expected: "+fe+", actual: "+ue+")");throw ve.data={actual:ue,expected:fe},ve}return fe}function Fn(fe){let ue;for(const ve in fe)Object.prototype.hasOwnProperty.call(fe,ve)&&(y(fe[ve])||typeof fe[ve].signature=="string")&&(ue=ur(ue,fe[ve].name));return ue}function wi(fe,ue){let ve;for(ve in ue)if(Object.prototype.hasOwnProperty.call(ue,ve)){if(ve in fe&&ue[ve]!==fe[ve]){const Se=new Error('Signature "'+ve+'" is defined twice');throw Se.data={signature:ve,sourceFunction:ue[ve],destFunction:fe[ve]},Se}fe[ve]=ue[ve]}}f(),p(t);const js=u;function $a(fe){if(!fe||typeof fe.from!="string"||typeof fe.to!="string"||typeof fe.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(fe.to===fe.from)throw new SyntaxError('Illegal to define conversion from "'+fe.from+'" to itself.')}return u=function(fe){const ue=typeof fe=="string";let ve=ue?fe:"";const Se={};for(let Re=ue?1:0;Re<arguments.length;++Re){const Be=arguments[Re];let He,We={};if(typeof Be=="function"?(He=Be.name,typeof Be.signature=="string"?We[Be.signature]=Be:y(Be)&&(We=Be.signatures)):e(Be)&&(We=Be,ue||(He=Fn(Be))),Object.keys(We).length===0){const ot=new TypeError("Argument to 'typed' at index "+Re+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ot.data={index:Re,argument:Be},ot}ue||(ve=ur(ve,He)),wi(Se,We)}return function(Be,He){if(u.createCount++,Object.keys(He).length===0)throw new SyntaxError("No signatures provided");u.warnAgainstDeprecatedThis&&function(gn){const na=/\bthis(\(|\.signatures\b)/;Object.keys(gn).forEach(Sc=>{const El=gn[Sc];if(na.test(El.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(He);const We=[],ot=[],gt={},bt=[];let fn;for(fn in He){if(!Object.prototype.hasOwnProperty.call(He,fn))continue;const gn=j(fn);if(!gn)continue;We.forEach(function(No){if($e(No,gn))throw new TypeError('Conflicting signatures "'+_(No)+'" and "'+_(gn)+'".')}),We.push(gn);const na=ot.length;ot.push(He[fn]);const Sc=gn.map(F);let El;for(El of et(Sc)){const No=_(El);bt.push({params:El,name:No,fn:na}),El.every(Qt=>!Qt.hasConversion)&&(gt[No]=na)}}bt.sort(Ce);const kn=Ne(ot,gt,ha);let yn;for(yn in gt)Object.prototype.hasOwnProperty.call(gt,yn)&&(gt[yn]=kn[gt[yn]]);const At=[],Ui=new Map;for(yn of bt)Ui.has(yn.name)||(yn.fn=kn[yn.fn],At.push(yn),Ui.set(yn.name,yn));const io=At[0]&&At[0].params.length<=2&&!z(At[0].params),bo=At[1]&&At[1].params.length<=2&&!z(At[1].params),ta=At[2]&&At[2].params.length<=2&&!z(At[2].params),Oo=At[3]&&At[3].params.length<=2&&!z(At[3].params),Ru=At[4]&&At[4].params.length<=2&&!z(At[4].params),fa=At[5]&&At[5].params.length<=2&&!z(At[5].params),ju=io&&bo&&ta&&Oo&&Ru&&fa;for(let gn=0;gn<At.length;++gn)At[gn].test=J(At[gn].params);const eu=io?W(At[0].params[0]):hm,hs=bo?W(At[1].params[0]):hm,uu=ta?W(At[2].params[0]):hm,zl=Oo?W(At[3].params[0]):hm,Ss=Ru?W(At[4].params[0]):hm,Dl=fa?W(At[5].params[0]):hm,Cl=io?W(At[0].params[1]):hm,Qa=bo?W(At[1].params[1]):hm,Ul=ta?W(At[2].params[1]):hm,rl=Oo?W(At[3].params[1]):hm,Gu=Ru?W(At[4].params[1]):hm,Ls=fa?W(At[5].params[1]):hm;for(let gn=0;gn<At.length;++gn)At[gn].implementation=Me(At[gn].params,At[gn].fn);const Sl=io?At[0].implementation:zy,_s=bo?At[1].implementation:zy,xa=ta?At[2].implementation:zy,za=Oo?At[3].implementation:zy,Jo=Ru?At[4].implementation:zy,il=fa?At[5].implementation:zy,ol=io?At[0].params.length:-1,Ua=bo?At[1].params.length:-1,lu=ta?At[2].params.length:-1,al=Oo?At[3].params.length:-1,sl=Ru?At[4].params.length:-1,tu=fa?At[5].params.length:-1,cu=ju?6:0,_l=At.length,Pi=At.map(gn=>gn.test),Lu=At.map(gn=>gn.implementation),Br=function(){for(let gn=cu;gn<_l;gn++)if(Pi[gn](arguments))return Lu[gn].apply(this,arguments);return u.onMismatch(Be,arguments,At)};function ha(gn,na){return arguments.length===ol&&eu(gn)&&Cl(na)?Sl.apply(this,arguments):arguments.length===Ua&&hs(gn)&&Qa(na)?_s.apply(this,arguments):arguments.length===lu&&uu(gn)&&Ul(na)?xa.apply(this,arguments):arguments.length===al&&zl(gn)&&rl(na)?za.apply(this,arguments):arguments.length===sl&&Ss(gn)&&Gu(na)?Jo.apply(this,arguments):arguments.length===tu&&Dl(gn)&&Ls(na)?il.apply(this,arguments):Br.apply(this,arguments)}try{Object.defineProperty(ha,"name",{value:Be})}catch{}return ha.signatures=gt,ha._typedFunctionData={signatures:At,signatureMap:Ui},ha}(ve||"",Se)},u.create=n,u.createCount=js.createCount,u.onMismatch=Ee,u.throwMismatchError=Ee,u.createError=se,u.clear=f,u.clearConversions=function(){let fe;for(fe of o)i.get(fe).conversionsTo=[];s=0},u.addTypes=p,u._findType=c,u.referTo=function(){const fe=Ze(arguments).map(ve=>_(j(ve))),ue=xt(arguments);if(typeof ue!="function")throw new TypeError("Callback function expected as last argument");return Dt(fe,ue)},u.referToSelf=rn,u.convert=function(fe,ue){const ve=c(ue);if(ve.test(fe))return fe;const Se=ve.conversionsTo;if(Se.length===0)throw new Error("There are no conversions to "+ue+" defined.");for(let Re=0;Re<Se.length;Re++)if(c(Se[Re].from).test(fe))return Se[Re].convert(fe);throw new Error("Cannot convert "+fe+" to "+ue)},u.findSignature=b,u.find=function(fe,ue,ve){return b(fe,ue,ve).implementation},u.isTypedFunction=y,u.warnAgainstDeprecatedThis=!0,u.addType=function(fe,ue){let ve="any";ue!==!1&&i.has("Object")&&(ve="Object"),u.addTypes([fe],ve)},u.addConversion=function(fe){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};$a(fe);const ve=c(fe.to),Se=ve.conversionsTo.find(Re=>Re.from===fe.from);if(Se){if(!ue||!ue.override)throw new Error('There is already a conversion from "'+fe.from+'" to "'+ve.name+'"');u.removeConversion({from:Se.from,to:fe.to,convert:Se.convert})}ve.conversionsTo.push({from:fe.from,convert:fe.convert,index:s++})},u.addConversions=function(fe,ue){fe.forEach(ve=>u.addConversion(ve,ue))},u.removeConversion=function(fe){$a(fe);const ue=c(fe.to),ve=function(Re,Be){for(let He=0;He<Re.length;He++)if(Be(Re[He]))return Re[He]}(ue.conversionsTo,Re=>Re.from===fe.from);if(!ve)throw new Error("Attempt to remove nonexistent conversion from "+fe.from+" to "+fe.to);if(ve.convert!==fe.convert)throw new Error("Conversion to remove does not match existing conversion");const Se=ue.conversionsTo.indexOf(ve);ue.conversionsTo.splice(Se,1)},u.resolve=function(fe,ue){if(!y(fe))throw new TypeError(E$);const ve=fe._typedFunctionData.signatures;for(let Se=0;Se<ve.length;++Se)if(ve[Se].test(ue))return ve[Se];return null},u}();function Of(n,e,t,r){function i(o){var s=function(u,c){for(var p={},f=0;f<c.length;f++){var g=c[f],y=u[g];y!==void 0&&(p[g]=y)}return p}(o,e.map(ame));return function(u,c,p){var f=c.filter(y=>!function(b){return b&&b[0]==="?"}(y)).every(y=>p[y]!==void 0);if(!f){var g=c.filter(y=>p[y]===void 0);throw new Error('Cannot create function "'.concat(u,'", ')+"some dependencies are missing: ".concat(g.map(y=>'"'.concat(y,'"')).join(", "),"."))}}(n,e,o),t(s)}return i.isFactory=!0,i.fn=n,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function ame(n){return n&&n[0]==="?"?n.slice(1):n}function xp(n){return typeof n=="boolean"||!!isFinite(n)&&n===Math.round(n)}function cM(n,e,t){var r={2:"0b",8:"0o",16:"0x"}[e],i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!xp(t))throw new Error("size must be an integer");if(n>2**(t-1)-1||n<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!xp(n))throw new Error("Value must be an integer");n<0&&(n+=2**t),i="i".concat(t)}var o="";return n<0&&(n=-n,o="-"),"".concat(o).concat(r).concat(n.toString(e)).concat(i)}function qT(n,e){if(typeof e=="function")return e(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:t,precision:r,wordSize:i}=DK(e);switch(t){case"fixed":return function(o,s){if(isNaN(o)||!isFinite(o))return String(o);var u=DS(o),c=typeof s=="number"?CS(u,u.exponent+1+s):u,p=c.coefficients,f=c.exponent+1,g=f+(s||0);return p.length<g&&(p=p.concat(n1(g-p.length))),f<0&&(p=n1(1-f).concat(p),f=1),f<p.length&&p.splice(f,0,f===0?"0.":"."),c.sign+p.join("")}(n,r);case"exponential":return A$(n,r);case"engineering":return function(o,s){if(isNaN(o)||!isFinite(o))return String(o);var u=CS(DS(o),s),c=u.exponent,p=u.coefficients,f=c%3==0?c:c<0?c-3-c%3:c-c%3;if(Jf(s))for(;s>p.length||c-f+1>p.length;)p.push(0);else for(var g=Math.abs(c-f)-(p.length-1),y=0;y<g;y++)p.push(0);for(var b=Math.abs(c-f),_=1;b>0;)_++,b--;var M=p.slice(_).join(""),F=Jf(s)&&M.length||M.match(/[1-9]/)?"."+M:"",O=p.slice(0,_).join("")+F+"e"+(c>=0?"+":"")+f.toString();return u.sign+O}(n,r);case"bin":return cM(n,2,i);case"oct":return cM(n,8,i);case"hex":return cM(n,16,i);case"auto":return function(o,s,u){if(isNaN(o)||!isFinite(o))return String(o);var c=M$(u==null?void 0:u.lowerExp,-3),p=M$(u==null?void 0:u.upperExp,5),f=DS(o),g=s?CS(f,s):f;if(g.exponent<c||g.exponent>=p)return A$(o,s);var y=g.coefficients,b=g.exponent;y.length<s&&(y=y.concat(n1(s-y.length))),y=y.concat(n1(b-y.length+1+(y.length<s?s-y.length:0)));var _=b>0?b:0;return _<(y=n1(-b).concat(y)).length-1&&y.splice(_+1,0,"."),g.sign+y.join("")}(n,r,e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],s=arguments[4];return o!=="."?o+s:s});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function DK(n){var e,t,r="auto";if(n!==void 0)if(Jf(n))e=n;else if(Up(n))e=n.toNumber();else{if(!nN(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");n.precision!==void 0&&(e=k$(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(t=k$(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation)}return{notation:r,precision:e,wordSize:t}}function DS(n){var e=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+n);var t=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return s.length===0&&(s.push(0),i++),{sign:t,coefficients:s,exponent:i}}function A$(n,e){if(isNaN(n)||!isFinite(n))return String(n);var t=DS(n),r=e?CS(t,e):t,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(n1(e-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function CS(n,e){for(var t={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=t.coefficients;e<=0;)r.unshift(0),t.exponent++,e++;if(r.length>e&&r.splice(e,r.length-e)[0]>=5){var i=e-1;for(r[i]++;r[i]===10;)r.pop(),i===0&&(r.unshift(0),t.exponent++,i++),r[--i]++}return t}function n1(n){for(var e=[],t=0;t<n;t++)e.push(0);return e}function SS(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(e)&&(isFinite(n)&&isFinite(e)?n===e||Math.abs(n-e)<=Math.max(t*Math.max(Math.abs(n),Math.abs(e)),r):n===e)}function k$(n,e){return Jf(n)?n:Up(n)?n.toNumber():void e()}function M$(n,e){return Jf(n)?n:Up(n)?n.toNumber():e}var CK=function(){return CK=fE.create,fE},sme=Of("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:e,Complex:t,DenseMatrix:r,Fraction:i}=n,o=CK();return o.clear(),o.addTypes([{name:"number",test:Jf},{name:"Complex",test:wK},{name:"BigNumber",test:Up},{name:"bigint",test:Fge},{name:"Fraction",test:bK},{name:"Unit",test:xK},{name:"identifier",test:s=>_0&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:_0},{name:"Chain",test:ome},{name:"Array",test:Xh},{name:"Matrix",test:B0},{name:"DenseMatrix",test:Pge},{name:"SparseMatrix",test:Tge},{name:"Range",test:Ige},{name:"Index",test:tN},{name:"boolean",test:Oge},{name:"ResultSet",test:Nge},{name:"Help",test:Bge},{name:"function",test:Rge},{name:"Date",test:jge},{name:"RegExp",test:Lge},{name:"null",test:zge},{name:"undefined",test:Uge},{name:"AccessorNode",test:Wge},{name:"ArrayNode",test:Hge},{name:"AssignmentNode",test:Vge},{name:"BlockNode",test:qge},{name:"ConditionalNode",test:Kge},{name:"ConstantNode",test:Gge},{name:"FunctionNode",test:Jge},{name:"FunctionAssignmentNode",test:Yge},{name:"IndexNode",test:Xge},{name:"Node",test:Qge},{name:"ObjectNode",test:Zge},{name:"OperatorNode",test:eme},{name:"ParenthesisNode",test:tme},{name:"RangeNode",test:nme},{name:"RelationalNode",test:rme},{name:"SymbolNode",test:ime},{name:"Map",test:$ge},{name:"Object",test:nN}]),o.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(e||CC(s),s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new e(s)}},{from:"number",to:"Complex",convert:function(s){return t||SC(s),new t(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return t||SC(s),new t(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return e||CC(s),new e(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return i||_C(s),new i(s.toString())}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return t||SC(s),new t(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||_C(s);var u=new i(s);if(u.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(s){var u=Number(s);if(isNaN(u))throw new Error('Cannot convert "'+s+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(s){e||CC(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){i||_C(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){t||SC(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return e||CC(s),new e(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||_C(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),o.onMismatch=(s,u,c)=>{var p=o.createError(s,u,c);if(["wrongType","mismatch"].includes(p.data.category)&&u.length===1&&cE(u[0])&&c.some(g=>!g.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=p.data,f}throw p},o.onMismatch=(s,u,c)=>{var p=o.createError(s,u,c);if(["wrongType","mismatch"].includes(p.data.category)&&u.length===1&&cE(u[0])&&c.some(g=>!g.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=p.data,f}throw p},o});function CC(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function SC(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function _C(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var SK,ad,g1=9e15,zd=1e9,KT="0123456789abcdef",hE="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",pE="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",GT={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-g1,maxE:g1,crypto:!1},Xa=!0,rA="[DecimalError] ",uv=rA+"Invalid argument: ",_K=rA+"Precision limit exceeded",EK=rA+"crypto unavailable",AK="[object Decimal]",Jp=Math.floor,ap=Math.pow,ume=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,lme=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,cme=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,F$=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bm=1e7,fme=hE.length-1,YT=pE.length-1,vn={toStringTag:AK};function Mp(n){var e,t,r,i=n.length-1,o="",s=n[0];if(i>0){for(o+=s,e=1;e<i;e++)(t=7-(r=n[e]+"").length)&&(o+=Id(t)),o+=r;(t=7-(r=(s=n[e])+"").length)&&(o+=Id(t))}else if(s===0)return"0";for(;s%10==0;)s/=10;return o+s}function Eg(n,e,t){if(n!==~~n||n<e||n>t)throw Error(uv+n)}function kb(n,e,t,r){var i,o,s,u;for(o=n[0];o>=10;o/=10)--e;return--e<0?(e+=7,i=0):(i=Math.ceil((e+1)/7),e%=7),o=ap(10,7-e),u=n[i]%o|0,r==null?e<3?(e==0?u=u/100|0:e==1&&(u=u/10|0),s=t<4&&u==99999||t>3&&u==49999||u==5e4||u==0):s=(t<4&&u+1==o||t>3&&u+1==o/2)&&(n[i+1]/o/100|0)==ap(10,e-2)-1||(u==o/2||u==0)&&!(n[i+1]/o/100|0):e<4?(e==0?u=u/1e3|0:e==1?u=u/100|0:e==2&&(u=u/10|0),s=(r||t<4)&&u==9999||!r&&t>3&&u==4999):s=((r||t<4)&&u+1==o||!r&&t>3&&u+1==o/2)&&(n[i+1]/o/1e3|0)==ap(10,e-3)-1,s}function _S(n,e,t){for(var r,i,o=[0],s=0,u=n.length;s<u;){for(i=o.length;i--;)o[i]*=e;for(o[0]+=KT.indexOf(n.charAt(s++)),r=0;r<o.length;r++)o[r]>t-1&&(o[r+1]===void 0&&(o[r+1]=0),o[r+1]+=o[r]/t|0,o[r]%=t)}return o.reverse()}vn.absoluteValue=vn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),wo(n)},vn.ceil=function(){return wo(new this.constructor(this),this.e+1,2)},vn.clampedTo=vn.clamp=function(n,e){var t=this,r=t.constructor;if(n=new r(n),e=new r(e),!n.s||!e.s)return new r(NaN);if(n.gt(e))throw Error(uv+e);return t.cmp(n)<0?n:t.cmp(e)>0?e:new r(t)},vn.comparedTo=vn.cmp=function(n){var e,t,r,i,o=this,s=o.d,u=(n=new o.constructor(n)).d,c=o.s,p=n.s;if(!s||!u)return c&&p?c!==p?c:s===u?0:!s^c<0?1:-1:NaN;if(!s[0]||!u[0])return s[0]?c:u[0]?-p:0;if(c!==p)return c;if(o.e!==n.e)return o.e>n.e^c<0?1:-1;for(e=0,t=(r=s.length)<(i=u.length)?r:i;e<t;++e)if(s[e]!==u[e])return s[e]>u[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1},vn.cosine=vn.cos=function(){var n,e,t=this,r=t.constructor;return t.d?t.d[0]?(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+7,r.rounding=1,t=function(i,o){var s,u,c;if(o.isZero())return o;(u=o.d.length)<32?c=(1/EC(4,s=Math.ceil(u/3))).toString():(s=16,c="2.3283064365386962890625e-10"),i.precision+=s,o=Uy(i,1,o.times(c),new i(1));for(var p=s;p--;){var f=o.times(o);o=f.times(f).minus(f).times(8).plus(1)}return i.precision-=s,o}(r,I$(r,t)),r.precision=n,r.rounding=e,wo(ad==2||ad==3?t.neg():t,n,e,!0)):new r(1):new r(NaN)},vn.cubeRoot=vn.cbrt=function(){var n,e,t,r,i,o,s,u,c,p,f=this,g=f.constructor;if(!f.isFinite()||f.isZero())return new g(f);for(Xa=!1,(o=f.s*ap(f.s*f,1/3))&&Math.abs(o)!=1/0?r=new g(o.toString()):(t=Mp(f.d),(o=((n=f.e)-t.length+1)%3)&&(t+=o==1||o==-2?"0":"00"),o=ap(t,1/3),n=Jp((n+1)/3)-(n%3==(n<0?-1:2)),(r=new g(t=o==1/0?"5e"+n:(t=o.toExponential()).slice(0,t.indexOf("e")+1)+n)).s=f.s),s=(n=g.precision)+3;;)if(p=(c=(u=r).times(u).times(u)).plus(f),r=Ff(p.plus(f).times(u),p.plus(c),s+2,1),Mp(u.d).slice(0,s)===(t=Mp(r.d)).slice(0,s)){if((t=t.slice(s-3,s+1))!="9999"&&(i||t!="4999")){+t&&(+t.slice(1)||t.charAt(0)!="5")||(wo(r,n+1,1),e=!r.times(r).times(r).eq(f));break}if(!i&&(wo(u,n+1,0),u.times(u).times(u).eq(f))){r=u;break}s+=4,i=1}return Xa=!0,wo(r,n,g.rounding,e)},vn.decimalPlaces=vn.dp=function(){var n,e=this.d,t=NaN;if(e){if(t=7*((n=e.length-1)-Jp(this.e/7)),n=e[n])for(;n%10==0;n/=10)t--;t<0&&(t=0)}return t},vn.dividedBy=vn.div=function(n){return Ff(this,new this.constructor(n))},vn.dividedToIntegerBy=vn.divToInt=function(n){var e=this.constructor;return wo(Ff(this,new e(n),0,1,1),e.precision,e.rounding)},vn.equals=vn.eq=function(n){return this.cmp(n)===0},vn.floor=function(){return wo(new this.constructor(this),this.e+1,3)},vn.greaterThan=vn.gt=function(n){return this.cmp(n)>0},vn.greaterThanOrEqualTo=vn.gte=function(n){var e=this.cmp(n);return e==1||e===0},vn.hyperbolicCosine=vn.cosh=function(){var n,e,t,r,i,o=this,s=o.constructor,u=new s(1);if(!o.isFinite())return new s(o.s?1/0:NaN);if(o.isZero())return u;t=s.precision,r=s.rounding,s.precision=t+Math.max(o.e,o.sd())+4,s.rounding=1,(i=o.d.length)<32?e=(1/EC(4,n=Math.ceil(i/3))).toString():(n=16,e="2.3283064365386962890625e-10"),o=Uy(s,1,o.times(e),new s(1),!0);for(var c,p=n,f=new s(8);p--;)c=o.times(o),o=u.minus(c.times(f.minus(c.times(f))));return wo(o,s.precision=t,s.rounding=r,!0)},vn.hyperbolicSine=vn.sinh=function(){var n,e,t,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,t=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=Uy(o,2,i,i,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,i=Uy(o,2,i=i.times(1/EC(5,n)),i,!0);for(var s,u=new o(5),c=new o(16),p=new o(20);n--;)s=i.times(i),i=i.times(u.plus(s.times(c.times(s).plus(p))))}return o.precision=e,o.rounding=t,wo(i,e,t,!0)},vn.hyperbolicTangent=vn.tanh=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+7,r.rounding=1,Ff(t.sinh(),t.cosh(),r.precision=n,r.rounding=e)):new r(t.s)},vn.inverseCosine=vn.acos=function(){var n,e=this,t=e.constructor,r=e.abs().cmp(1),i=t.precision,o=t.rounding;return r!==-1?r===0?e.isNeg()?Wm(t,i,o):new t(0):new t(NaN):e.isZero()?Wm(t,i+4,o).times(.5):(t.precision=i+6,t.rounding=1,e=e.asin(),n=Wm(t,i+4,o).times(.5),t.precision=i,t.rounding=o,n.minus(e))},vn.inverseHyperbolicCosine=vn.acosh=function(){var n,e,t=this,r=t.constructor;return t.lte(1)?new r(t.eq(1)?0:NaN):t.isFinite()?(n=r.precision,e=r.rounding,r.precision=n+Math.max(Math.abs(t.e),t.sd())+4,r.rounding=1,Xa=!1,t=t.times(t).minus(1).sqrt().plus(t),Xa=!0,r.precision=n,r.rounding=e,t.ln()):new r(t)},vn.inverseHyperbolicSine=vn.asinh=function(){var n,e,t=this,r=t.constructor;return!t.isFinite()||t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+2*Math.max(Math.abs(t.e),t.sd())+6,r.rounding=1,Xa=!1,t=t.times(t).plus(1).sqrt().plus(t),Xa=!0,r.precision=n,r.rounding=e,t.ln())},vn.inverseHyperbolicTangent=vn.atanh=function(){var n,e,t,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=o.precision,e=o.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?wo(new o(i),n,e,!0):(o.precision=t=r-i.e,i=Ff(i.plus(1),new o(1).minus(i),t+n,1),o.precision=n+4,o.rounding=1,i=i.ln(),o.precision=n,o.rounding=e,i.times(.5))):new o(NaN)},vn.inverseSine=vn.asin=function(){var n,e,t,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),t=o.precision,r=o.rounding,e!==-1?e===0?((n=Wm(o,t+4,r).times(.5)).s=i.s,n):new o(NaN):(o.precision=t+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=t,o.rounding=r,i.times(2)))},vn.inverseTangent=vn.atan=function(){var n,e,t,r,i,o,s,u,c,p=this,f=p.constructor,g=f.precision,y=f.rounding;if(p.isFinite()){if(p.isZero())return new f(p);if(p.abs().eq(1)&&g+4<=YT)return(s=Wm(f,g+4,y).times(.25)).s=p.s,s}else{if(!p.s)return new f(NaN);if(g+4<=YT)return(s=Wm(f,g+4,y).times(.5)).s=p.s,s}for(f.precision=u=g+10,f.rounding=1,n=t=Math.min(28,u/7+2|0);n;--n)p=p.div(p.times(p).plus(1).sqrt().plus(1));for(Xa=!1,e=Math.ceil(u/7),r=1,c=p.times(p),s=new f(p),i=p;n!==-1;)if(i=i.times(c),o=s.minus(i.div(r+=2)),i=i.times(c),(s=o.plus(i.div(r+=2))).d[e]!==void 0)for(n=e;s.d[n]===o.d[n]&&n--;);return t&&(s=s.times(2<<t-1)),Xa=!0,wo(s,f.precision=g,f.rounding=y,!0)},vn.isFinite=function(){return!!this.d},vn.isInteger=vn.isInt=function(){return!!this.d&&Jp(this.e/7)>this.d.length-2},vn.isNaN=function(){return!this.s},vn.isNegative=vn.isNeg=function(){return this.s<0},vn.isPositive=vn.isPos=function(){return this.s>0},vn.isZero=function(){return!!this.d&&this.d[0]===0},vn.lessThan=vn.lt=function(n){return this.cmp(n)<0},vn.lessThanOrEqualTo=vn.lte=function(n){return this.cmp(n)<1},vn.logarithm=vn.log=function(n){var e,t,r,i,o,s,u,c,p=this,f=p.constructor,g=f.precision,y=f.rounding;if(n==null)n=new f(10),e=!0;else{if(t=(n=new f(n)).d,n.s<0||!t||!t[0]||n.eq(1))return new f(NaN);e=n.eq(10)}if(t=p.d,p.s<0||!t||!t[0]||p.eq(1))return new f(t&&!t[0]?-1/0:p.s!=1?NaN:t?0:1/0);if(e)if(t.length>1)o=!0;else{for(i=t[0];i%10==0;)i/=10;o=i!==1}if(Xa=!1,s=Ed(p,u=g+5),r=e?gE(f,u+10):Ed(n,u),kb((c=Ff(s,r,u,1)).d,i=g,y))do if(s=Ed(p,u+=10),r=e?gE(f,u+10):Ed(n,u),c=Ff(s,r,u,1),!o){+Mp(c.d).slice(i+1,i+15)+1==1e14&&(c=wo(c,g+1,0));break}while(kb(c.d,i+=10,y));return Xa=!0,wo(c,g,y)},vn.minus=vn.sub=function(n){var e,t,r,i,o,s,u,c,p,f,g,y,b=this,_=b.constructor;if(n=new _(n),!b.d||!n.d)return b.s&&n.s?b.d?n.s=-n.s:n=new _(n.d||b.s!==n.s?b:NaN):n=new _(NaN),n;if(b.s!=n.s)return n.s=-n.s,b.plus(n);if(p=b.d,y=n.d,u=_.precision,c=_.rounding,!p[0]||!y[0]){if(y[0])n.s=-n.s;else{if(!p[0])return new _(c===3?-0:0);n=new _(b)}return Xa?wo(n,u,c):n}if(t=Jp(n.e/7),f=Jp(b.e/7),p=p.slice(),o=f-t){for((g=o<0)?(e=p,o=-o,s=y.length):(e=y,t=f,s=p.length),o>(r=Math.max(Math.ceil(u/7),s)+2)&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for((g=(r=p.length)<(s=y.length))&&(s=r),r=0;r<s;r++)if(p[r]!=y[r]){g=p[r]<y[r];break}o=0}for(g&&(e=p,p=y,y=e,n.s=-n.s),s=p.length,r=y.length-s;r>0;--r)p[s++]=0;for(r=y.length;r>o;){if(p[--r]<y[r]){for(i=r;i&&p[--i]===0;)p[i]=Bm-1;--p[i],p[r]+=Bm}p[r]-=y[r]}for(;p[--s]===0;)p.pop();for(;p[0]===0;p.shift())--t;return p[0]?(n.d=p,n.e=ES(p,t),Xa?wo(n,u,c):n):new _(c===3?-0:0)},vn.modulo=vn.mod=function(n){var e,t=this,r=t.constructor;return n=new r(n),!t.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||t.d&&!t.d[0]?wo(new r(t),r.precision,r.rounding):(Xa=!1,r.modulo==9?(e=Ff(t,n.abs(),0,3,1)).s*=n.s:e=Ff(t,n,0,r.modulo,1),e=e.times(n),Xa=!0,t.minus(e))},vn.naturalExponential=vn.exp=function(){return fM(this)},vn.naturalLogarithm=vn.ln=function(){return Ed(this)},vn.negated=vn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,wo(n)},vn.plus=vn.add=function(n){var e,t,r,i,o,s,u,c,p,f,g=this,y=g.constructor;if(n=new y(n),!g.d||!n.d)return g.s&&n.s?g.d||(n=new y(n.d||g.s===n.s?g:NaN)):n=new y(NaN),n;if(g.s!=n.s)return n.s=-n.s,g.minus(n);if(p=g.d,f=n.d,u=y.precision,c=y.rounding,!p[0]||!f[0])return f[0]||(n=new y(g)),Xa?wo(n,u,c):n;if(o=Jp(g.e/7),r=Jp(n.e/7),p=p.slice(),i=o-r){for(i<0?(t=p,i=-i,s=f.length):(t=f,r=o,s=p.length),i>(s=(o=Math.ceil(u/7))>s?o+1:s+1)&&(i=s,t.length=1),t.reverse();i--;)t.push(0);t.reverse()}for((s=p.length)-(i=f.length)<0&&(i=s,t=f,f=p,p=t),e=0;i;)e=(p[--i]=p[i]+f[i]+e)/Bm|0,p[i]%=Bm;for(e&&(p.unshift(e),++r),s=p.length;p[--s]==0;)p.pop();return n.d=p,n.e=ES(p,r),Xa?wo(n,u,c):n},vn.precision=vn.sd=function(n){var e,t=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(uv+n);return t.d?(e=P$(t.d),n&&t.e+1>e&&(e=t.e+1)):e=NaN,e},vn.round=function(){var n=this,e=n.constructor;return wo(new e(n),n.e+1,e.rounding)},vn.sine=vn.sin=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+Math.max(t.e,t.sd())+7,r.rounding=1,t=function(i,o){var s,u=o.d.length;if(u<3)return o.isZero()?o:Uy(i,2,o,o);s=(s=1.4*Math.sqrt(u))>16?16:0|s,o=Uy(i,2,o=o.times(1/EC(5,s)),o);for(var c,p=new i(5),f=new i(16),g=new i(20);s--;)c=o.times(o),o=o.times(p.plus(c.times(f.times(c).minus(g))));return o}(r,I$(r,t)),r.precision=n,r.rounding=e,wo(ad>2?t.neg():t,n,e,!0)):new r(NaN)},vn.squareRoot=vn.sqrt=function(){var n,e,t,r,i,o,s=this,u=s.d,c=s.e,p=s.s,f=s.constructor;if(p!==1||!u||!u[0])return new f(!p||p<0&&(!u||u[0])?NaN:u?s:1/0);for(Xa=!1,(p=Math.sqrt(+s))==0||p==1/0?(((e=Mp(u)).length+c)%2==0&&(e+="0"),p=Math.sqrt(e),c=Jp((c+1)/2)-(c<0||c%2),r=new f(e=p==1/0?"5e"+c:(e=p.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new f(p.toString()),t=(c=f.precision)+3;;)if(r=(o=r).plus(Ff(s,o,t+2,1)).times(.5),Mp(o.d).slice(0,t)===(e=Mp(r.d)).slice(0,t)){if((e=e.slice(t-3,t+1))!="9999"&&(i||e!="4999")){+e&&(+e.slice(1)||e.charAt(0)!="5")||(wo(r,c+1,1),n=!r.times(r).eq(s));break}if(!i&&(wo(o,c+1,0),o.times(o).eq(s))){r=o;break}t+=4,i=1}return Xa=!0,wo(r,c,f.rounding,n)},vn.tangent=vn.tan=function(){var n,e,t=this,r=t.constructor;return t.isFinite()?t.isZero()?new r(t):(n=r.precision,e=r.rounding,r.precision=n+10,r.rounding=1,(t=t.sin()).s=1,t=Ff(t,new r(1).minus(t.times(t)).sqrt(),n+10,0),r.precision=n,r.rounding=e,wo(ad==2||ad==4?t.neg():t,n,e,!0)):new r(NaN)},vn.times=vn.mul=function(n){var e,t,r,i,o,s,u,c,p,f=this,g=f.constructor,y=f.d,b=(n=new g(n)).d;if(n.s*=f.s,!(y&&y[0]&&b&&b[0]))return new g(!n.s||y&&!y[0]&&!b||b&&!b[0]&&!y?NaN:y&&b?0*n.s:n.s/0);for(t=Jp(f.e/7)+Jp(n.e/7),(c=y.length)<(p=b.length)&&(o=y,y=b,b=o,s=c,c=p,p=s),o=[],r=s=c+p;r--;)o.push(0);for(r=p;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+b[r]*y[i-r-1]+e,o[i--]=u%Bm|0,e=u/Bm|0;o[i]=(o[i]+e)%Bm|0}for(;!o[--s];)o.pop();return e?++t:o.shift(),n.d=o,n.e=ES(o,t),Xa?wo(n,g.precision,g.rounding):n},vn.toBinary=function(n,e){return pM(this,2,n,e)},vn.toDecimalPlaces=vn.toDP=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(Eg(n,0,zd),e===void 0?e=r.rounding:Eg(e,0,8),wo(t,n+t.e+1,e))},vn.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=D0(r,!0):(Eg(n,0,zd),e===void 0?e=i.rounding:Eg(e,0,8),t=D0(r=wo(new i(r),n+1,e),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+t:t},vn.toFixed=function(n,e){var t,r,i=this,o=i.constructor;return n===void 0?t=D0(i):(Eg(n,0,zd),e===void 0?e=o.rounding:Eg(e,0,8),t=D0(r=wo(new o(i),n+i.e+1,e),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+t:t},vn.toFraction=function(n){var e,t,r,i,o,s,u,c,p,f,g,y,b=this,_=b.d,M=b.constructor;if(!_)return new M(b);if(p=t=new M(1),r=c=new M(0),s=(o=(e=new M(r)).e=P$(_)-b.e-1)%7,e.d[0]=ap(10,s<0?7+s:s),n==null)n=o>0?e:p;else{if(!(u=new M(n)).isInt()||u.lt(p))throw Error(uv+u);n=u.gt(e)?o>0?e:p:u}for(Xa=!1,u=new M(Mp(_)),f=M.precision,M.precision=o=7*_.length*2;g=Ff(u,e,0,1,1),(i=t.plus(g.times(r))).cmp(n)!=1;)t=r,r=i,i=p,p=c.plus(g.times(i)),c=i,i=e,e=u.minus(g.times(i)),u=i;return i=Ff(n.minus(t),r,0,1,1),c=c.plus(i.times(p)),t=t.plus(i.times(r)),c.s=p.s=b.s,y=Ff(p,r,o,1).minus(b).abs().cmp(Ff(c,t,o,1).minus(b).abs())<1?[p,r]:[c,t],M.precision=f,Xa=!0,y},vn.toHexadecimal=vn.toHex=function(n,e){return pM(this,16,n,e)},vn.toNearest=function(n,e){var t=this,r=t.constructor;if(t=new r(t),n==null){if(!t.d)return t;n=new r(1),e=r.rounding}else{if(n=new r(n),e===void 0?e=r.rounding:Eg(e,0,8),!t.d)return n.s?t:n;if(!n.d)return n.s&&(n.s=t.s),n}return n.d[0]?(Xa=!1,t=Ff(t,n,0,e,1).times(n),Xa=!0,wo(t)):(n.s=t.s,t=n),t},vn.toNumber=function(){return+this},vn.toOctal=function(n,e){return pM(this,8,n,e)},vn.toPower=vn.pow=function(n){var e,t,r,i,o,s,u=this,c=u.constructor,p=+(n=new c(n));if(!(u.d&&n.d&&u.d[0]&&n.d[0]))return new c(ap(+u,p));if((u=new c(u)).eq(1))return u;if(r=c.precision,o=c.rounding,n.eq(1))return wo(u,r,o);if((e=Jp(n.e/7))>=n.d.length-1&&(t=p<0?-p:p)<=9007199254740991)return i=kK(c,u,t,r),n.s<0?new c(1).div(i):wo(i,r,o);if((s=u.s)<0){if(e<n.d.length-1)return new c(NaN);if(1&n.d[e]||(s=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=s,u}return(e=(t=ap(+u,p))!=0&&isFinite(t)?new c(t+"").e:Jp(p*(Math.log("0."+Mp(u.d))/Math.LN10+u.e+1)))>c.maxE+1||e<c.minE-1?new c(e>0?s/0:0):(Xa=!1,c.rounding=u.s=1,t=Math.min(12,(e+"").length),(i=fM(n.times(Ed(u,r+t)),r)).d&&kb((i=wo(i,r+5,1)).d,r,o)&&(e=r+10,+Mp((i=wo(fM(n.times(Ed(u,e+t)),e),e+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=wo(i,r+1,0))),i.s=s,Xa=!0,c.rounding=o,wo(i,r,o))},vn.toPrecision=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=D0(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Eg(n,1,zd),e===void 0?e=i.rounding:Eg(e,0,8),t=D0(r=wo(new i(r),n,e),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+t:t},vn.toSignificantDigits=vn.toSD=function(n,e){var t=this.constructor;return n===void 0?(n=t.precision,e=t.rounding):(Eg(n,1,zd),e===void 0?e=t.rounding:Eg(e,0,8)),wo(new t(this),n,e)},vn.toString=function(){var n=this,e=n.constructor,t=D0(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()&&!n.isZero()?"-"+t:t},vn.truncated=vn.trunc=function(){return wo(new this.constructor(this),this.e+1,1)},vn.valueOf=vn.toJSON=function(){var n=this,e=n.constructor,t=D0(n,n.e<=e.toExpNeg||n.e>=e.toExpPos);return n.isNeg()?"-"+t:t};var Ff=function(){function n(r,i,o){var s,u=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+u,r[c]=s%o|0,u=s/o|0;return u&&r.unshift(u),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function t(r,i,o,s){for(var u=0;o--;)r[o]-=u,u=r[o]<i[o]?1:0,r[o]=u*s+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s,u,c){var p,f,g,y,b,_,M,F,O,j,z,W,J,G,Q,te,ae,se,ge,xe,Pe=r.constructor,Ce=r.s==i.s?1:-1,Me=r.d,Oe=i.d;if(!(Me&&Me[0]&&Oe&&Oe[0]))return new Pe(r.s&&i.s&&(Me?!Oe||Me[0]!=Oe[0]:Oe)?Me&&Me[0]==0||!Oe?0*Ce:Ce/0:NaN);for(c?(b=1,f=r.e-i.e):(c=Bm,b=7,f=Jp(r.e/b)-Jp(i.e/b)),ge=Oe.length,ae=Me.length,j=(O=new Pe(Ce)).d=[],g=0;Oe[g]==(Me[g]||0);g++);if(Oe[g]>(Me[g]||0)&&f--,o==null?(G=o=Pe.precision,s=Pe.rounding):G=u?o+(r.e-i.e)+1:o,G<0)j.push(1),_=!0;else{if(G=G/b+2|0,g=0,ge==1){for(y=0,Oe=Oe[0],G++;(g<ae||y)&&G--;g++)Q=y*c+(Me[g]||0),j[g]=Q/Oe|0,y=Q%Oe|0;_=y||g<ae}else{for((y=c/(Oe[0]+1)|0)>1&&(Oe=n(Oe,y,c),Me=n(Me,y,c),ge=Oe.length,ae=Me.length),te=ge,W=(z=Me.slice(0,ge)).length;W<ge;)z[W++]=0;(xe=Oe.slice()).unshift(0),se=Oe[0],Oe[1]>=c/2&&++se;do y=0,(p=e(Oe,z,ge,W))<0?(J=z[0],ge!=W&&(J=J*c+(z[1]||0)),(y=J/se|0)>1?(y>=c&&(y=c-1),(p=e(M=n(Oe,y,c),z,F=M.length,W=z.length))==1&&(y--,t(M,ge<F?xe:Oe,F,c))):(y==0&&(p=y=1),M=Oe.slice()),(F=M.length)<W&&M.unshift(0),t(z,M,W,c),p==-1&&(p=e(Oe,z,ge,W=z.length))<1&&(y++,t(z,ge<W?xe:Oe,W,c)),W=z.length):p===0&&(y++,z=[0]),j[g++]=y,p&&z[0]?z[W++]=Me[te]||0:(z=[Me[te]],W=1);while((te++<ae||z[0]!==void 0)&&G--);_=z[0]!==void 0}j[0]||j.shift()}if(b==1)O.e=f,SK=_;else{for(g=1,y=j[0];y>=10;y/=10)g++;O.e=g+f*b-1,wo(O,u?o+O.e+1:o,s,_)}return O}}();function wo(n,e,t,r){var i,o,s,u,c,p,f,g,y,b=n.constructor;e:if(e!=null){if(!(g=n.d))return n;for(i=1,u=g[0];u>=10;u/=10)i++;if((o=e-i)<0)o+=7,s=e,c=(f=g[y=0])/ap(10,i-s-1)%10|0;else if((y=Math.ceil((o+1)/7))>=(u=g.length)){if(!r)break e;for(;u++<=y;)g.push(0);f=c=0,i=1,s=(o%=7)-7+1}else{for(f=u=g[y],i=1;u>=10;u/=10)i++;c=(s=(o%=7)-7+i)<0?0:f/ap(10,i-s-1)%10|0}if(r=r||e<0||g[y+1]!==void 0||(s<0?f:f%ap(10,i-s-1)),p=t<4?(c||r)&&(t==0||t==(n.s<0?3:2)):c>5||c==5&&(t==4||r||t==6&&(o>0?s>0?f/ap(10,i-s):0:g[y-1])%10&1||t==(n.s<0?8:7)),e<1||!g[0])return g.length=0,p?(e-=n.e+1,g[0]=ap(10,(7-e%7)%7),n.e=-e||0):g[0]=n.e=0,n;if(o==0?(g.length=y,u=1,y--):(g.length=y+1,u=ap(10,7-o),g[y]=s>0?(f/ap(10,i-s)%ap(10,s)|0)*u:0),p)for(;;){if(y==0){for(o=1,s=g[0];s>=10;s/=10)o++;for(s=g[0]+=u,u=1;s>=10;s/=10)u++;o!=u&&(n.e++,g[0]==Bm&&(g[0]=1));break}if(g[y]+=u,g[y]!=Bm)break;g[y--]=0,u=1}for(o=g.length;g[--o]===0;)g.pop()}return Xa&&(n.e>b.maxE?(n.d=null,n.e=NaN):n.e<b.minE&&(n.e=0,n.d=[0])),n}function D0(n,e,t){if(!n.isFinite())return FK(n);var r,i=n.e,o=Mp(n.d),s=o.length;return e?(t&&(r=t-s)>0?o=o.charAt(0)+"."+o.slice(1)+Id(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(n.e<0?"e":"e+")+n.e):i<0?(o="0."+Id(-i-1)+o,t&&(r=t-s)>0&&(o+=Id(r))):i>=s?(o+=Id(i+1-s),t&&(r=t-i-1)>0&&(o=o+"."+Id(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),t&&(r=t-s)>0&&(i+1===s&&(o+="."),o+=Id(r))),o}function ES(n,e){var t=n[0];for(e*=7;t>=10;t/=10)e++;return e}function gE(n,e,t){if(e>fme)throw Xa=!0,t&&(n.precision=t),Error(_K);return wo(new n(hE),e,1,!0)}function Wm(n,e,t){if(e>YT)throw Error(_K);return wo(new n(pE),e,t,!0)}function P$(n){var e=n.length-1,t=7*e+1;if(e=n[e]){for(;e%10==0;e/=10)t--;for(e=n[0];e>=10;e/=10)t++}return t}function Id(n){for(var e="";n--;)e+="0";return e}function kK(n,e,t,r){var i,o=new n(1),s=Math.ceil(r/7+4);for(Xa=!1;;){if(t%2&&O$((o=o.times(e)).d,s)&&(i=!0),(t=Jp(t/2))===0){t=o.d.length-1,i&&o.d[t]===0&&++o.d[t];break}O$((e=e.times(e)).d,s)}return Xa=!0,o}function T$(n){return 1&n.d[n.d.length-1]}function MK(n,e,t){for(var r,i=new n(e[0]),o=0;++o<e.length;){if(!(r=new n(e[o])).s){i=r;break}i[t](r)&&(i=r)}return i}function fM(n,e){var t,r,i,o,s,u,c,p=0,f=0,g=0,y=n.constructor,b=y.rounding,_=y.precision;if(!n.d||!n.d[0]||n.e>17)return new y(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(e==null?(Xa=!1,c=_):c=e,u=new y(.03125);n.e>-2;)n=n.times(u),g+=5;for(c+=r=Math.log(ap(2,g))/Math.LN10*2+5|0,t=o=s=new y(1),y.precision=c;;){if(o=wo(o.times(n),c,1),t=t.times(++f),Mp((u=s.plus(Ff(o,t,c,1))).d).slice(0,c)===Mp(s.d).slice(0,c)){for(i=g;i--;)s=wo(s.times(s),c,1);if(e!=null)return y.precision=_,s;if(!(p<3&&kb(s.d,c-r,b,p)))return wo(s,y.precision=_,b,Xa=!0);y.precision=c+=10,t=o=u=new y(1),f=0,p++}s=u}}function Ed(n,e){var t,r,i,o,s,u,c,p,f,g,y,b=1,_=n,M=_.d,F=_.constructor,O=F.rounding,j=F.precision;if(_.s<0||!M||!M[0]||!_.e&&M[0]==1&&M.length==1)return new F(M&&!M[0]?-1/0:_.s!=1?NaN:M?0:_);if(e==null?(Xa=!1,f=j):f=e,F.precision=f+=10,r=(t=Mp(M)).charAt(0),!(Math.abs(o=_.e)<15e14))return p=gE(F,f+2,j).times(o+""),_=Ed(new F(r+"."+t.slice(1)),f-10).plus(p),F.precision=j,e==null?wo(_,j,O,Xa=!0):_;for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)r=(t=Mp((_=_.times(n)).d)).charAt(0),b++;for(o=_.e,r>1?(_=new F("0."+t),o++):_=new F(r+"."+t.slice(1)),g=_,c=s=_=Ff(_.minus(1),_.plus(1),f,1),y=wo(_.times(_),f,1),i=3;;){if(s=wo(s.times(y),f,1),Mp((p=c.plus(Ff(s,new F(i),f,1))).d).slice(0,f)===Mp(c.d).slice(0,f)){if(c=c.times(2),o!==0&&(c=c.plus(gE(F,f+2,j).times(o+""))),c=Ff(c,new F(b),f,1),e!=null)return F.precision=j,c;if(!kb(c.d,f-10,O,u))return wo(c,F.precision=j,O,Xa=!0);F.precision=f+=10,p=s=_=Ff(g.minus(1),g.plus(1),f,1),y=wo(_.times(_),f,1),i=u=1}c=p,i+=2}}function FK(n){return String(n.s*n.s/0)}function hM(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i)){if(i-=r,n.e=t=t-r-1,n.d=[],r=(t+1)%7,t<0&&(r+=7),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=7;r<i;)n.d.push(+e.slice(r,r+=7));r=7-(e=e.slice(r)).length}else r-=i;for(;r--;)e+="0";n.d.push(+e),Xa&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Uy(n,e,t,r,i){var o,s,u,c,p=n.precision,f=Math.ceil(p/7);for(Xa=!1,c=t.times(t),u=new n(r);;){if(s=Ff(u.times(c),new n(e++*e++),p,1),u=i?r.plus(s):r.minus(s),r=Ff(s.times(c),new n(e++*e++),p,1),(s=u.plus(r)).d[f]!==void 0){for(o=f;s.d[o]===u.d[o]&&o--;);if(o==-1)break}o=u,u=r,r=s,s=o}return Xa=!0,s.d.length=f+1,s}function EC(n,e){for(var t=n;--e;)t*=n;return t}function I$(n,e){var t,r=e.s<0,i=Wm(n,n.precision,1),o=i.times(.5);if((e=e.abs()).lte(o))return ad=r?4:1,e;if((t=e.divToInt(i)).isZero())ad=r?3:2;else{if((e=e.minus(t.times(i))).lte(o))return ad=T$(t)?r?2:3:r?4:1,e;ad=T$(t)?r?1:4:r?3:2}return e.minus(i).abs()}function pM(n,e,t,r){var i,o,s,u,c,p,f,g,y,b=n.constructor,_=t!==void 0;if(_?(Eg(t,1,zd),r===void 0?r=b.rounding:Eg(r,0,8)):(t=b.precision,r=b.rounding),n.isFinite()){for(_?(i=2,e==16?t=4*t-3:e==8&&(t=3*t-2)):i=e,(s=(f=D0(n)).indexOf("."))>=0&&(f=f.replace(".",""),(y=new b(1)).e=f.length-s,y.d=_S(D0(y),10,i),y.e=y.d.length),o=c=(g=_S(f,10,i)).length;g[--c]==0;)g.pop();if(g[0]){if(s<0?o--:((n=new b(n)).d=g,n.e=o,g=(n=Ff(n,y,t,r,0,i)).d,o=n.e,p=SK),s=g[t],u=i/2,p=p||g[t+1]!==void 0,p=r<4?(s!==void 0||p)&&(r===0||r===(n.s<0?3:2)):s>u||s===u&&(r===4||p||r===6&&1&g[t-1]||r===(n.s<0?8:7)),g.length=t,p)for(;++g[--t]>i-1;)g[t]=0,t||(++o,g.unshift(1));for(c=g.length;!g[c-1];--c);for(s=0,f="";s<c;s++)f+=KT.charAt(g[s]);if(_){if(c>1)if(e==16||e==8){for(s=e==16?4:3,--c;c%s;c++)f+="0";for(c=(g=_S(f,i,e)).length;!g[c-1];--c);for(s=1,f="1.";s<c;s++)f+=KT.charAt(g[s])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>c)for(o-=c;o--;)f+="0";else o<c&&(f=f.slice(0,o)+"."+f.slice(o))}else f=_?"0p+0":"0";f=(e==16?"0x":e==2?"0b":e==8?"0o":"")+f}else f=FK(n);return n.s<0?"-"+f:f}function O$(n,e){if(n.length>e)return n.length=e,!0}function hme(n){return new this(n).abs()}function pme(n){return new this(n).acos()}function gme(n){return new this(n).acosh()}function mme(n,e){return new this(n).plus(e)}function dme(n){return new this(n).asin()}function vme(n){return new this(n).asinh()}function yme(n){return new this(n).atan()}function wme(n){return new this(n).atanh()}function bme(n,e){n=new this(n),e=new this(e);var t,r=this.precision,i=this.rounding,o=r+4;return n.s&&e.s?n.d||e.d?!e.d||n.isZero()?(t=e.s<0?Wm(this,r,i):new this(0)).s=n.s:!n.d||e.isZero()?(t=Wm(this,o,1).times(.5)).s=n.s:e.s<0?(this.precision=o,this.rounding=1,t=this.atan(Ff(n,e,o,1)),e=Wm(this,o,1),this.precision=r,this.rounding=i,t=n.s<0?t.minus(e):t.plus(e)):t=this.atan(Ff(n,e,o,1)):(t=Wm(this,o,1).times(e.s>0?.25:.75)).s=n.s:t=new this(NaN),t}function xme(n){return new this(n).cbrt()}function Dme(n){return wo(n=new this(n),n.e+1,2)}function Cme(n,e,t){return new this(n).clamp(e,t)}function Sme(n){if(!n||typeof n!="object")throw Error(rA+"Object expected");var e,t,r,i=n.defaults===!0,o=["precision",1,zd,"rounding",0,8,"toExpNeg",-g1,0,"toExpPos",0,g1,"maxE",0,g1,"minE",-g1,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(t=o[e],i&&(this[t]=GT[t]),(r=n[t])!==void 0){if(!(Jp(r)===r&&r>=o[e+1]&&r<=o[e+2]))throw Error(uv+t+": "+r);this[t]=r}if(t="crypto",i&&(this[t]=GT[t]),(r=n[t])!==void 0){if(r!==!0&&r!==!1&&r!==0&&r!==1)throw Error(uv+t+": "+r);if(r){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(EK);this[t]=!0}else this[t]=!1}return this}function _me(n){return new this(n).cos()}function Eme(n){return new this(n).cosh()}function Ame(n,e){return new this(n).div(e)}function kme(n){return new this(n).exp()}function Mme(n){return wo(n=new this(n),n.e+1,3)}function Fme(){var n,e,t=new this(0);for(Xa=!1,n=0;n<arguments.length;)if((e=new this(arguments[n++])).d)t.d&&(t=t.plus(e.times(e)));else{if(e.s)return Xa=!0,new this(1/0);t=e}return Xa=!0,t.sqrt()}function N$(n){return n instanceof tw||n&&n.toStringTag===AK||!1}function Pme(n){return new this(n).ln()}function Tme(n,e){return new this(n).log(e)}function Ime(n){return new this(n).log(2)}function Ome(n){return new this(n).log(10)}function Nme(){return MK(this,arguments,"lt")}function Bme(){return MK(this,arguments,"gt")}function Rme(n,e){return new this(n).mod(e)}function jme(n,e){return new this(n).mul(e)}function Lme(n,e){return new this(n).pow(e)}function $me(n){var e,t,r,i,o=0,s=new this(1),u=[];if(n===void 0?n=this.precision:Eg(n,1,zd),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=e[o])>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(EK);for(e=crypto.randomBytes(r*=4);o<r;)(i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((127&e[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(e,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(n%=7,(r=u[--o])&&n&&(i=ap(10,7-n),u[o]=(r/i|0)*i);u[o]===0;o--)u.pop();if(o<0)t=0,u=[0];else{for(t=-1;u[0]===0;t-=7)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<7&&(t-=7-r)}return s.e=t,s.d=u,s}function zme(n){return wo(n=new this(n),n.e+1,this.rounding)}function Ume(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function Wme(n){return new this(n).sin()}function Hme(n){return new this(n).sinh()}function Vme(n){return new this(n).sqrt()}function qme(n,e){return new this(n).sub(e)}function Kme(){var n=0,e=arguments,t=new this(e[n]);for(Xa=!1;t.s&&++n<e.length;)t=t.plus(e[n]);return Xa=!0,wo(t,this.precision,this.rounding)}function Gme(n){return new this(n).tan()}function Yme(n){return new this(n).tanh()}function Jme(n){return wo(n=new this(n),n.e+1,1)}vn[Symbol.for("nodejs.util.inspect.custom")]=vn.toString,vn[Symbol.toStringTag]="Decimal";var tw=vn.constructor=function n(e){var t,r,i;function o(s){var u,c,p,f=this;if(!(f instanceof o))return new o(s);if(f.constructor=o,N$(s))return f.s=s.s,void(Xa?!s.d||s.e>o.maxE?(f.e=NaN,f.d=null):s.e<o.minE?(f.e=0,f.d=[0]):(f.e=s.e,f.d=s.d.slice()):(f.e=s.e,f.d=s.d?s.d.slice():s.d));if((p=typeof s)=="number"){if(s===0)return f.s=1/s<0?-1:1,f.e=0,void(f.d=[0]);if(s<0?(s=-s,f.s=-1):f.s=1,s===~~s&&s<1e7){for(u=0,c=s;c>=10;c/=10)u++;return void(Xa?u>o.maxE?(f.e=NaN,f.d=null):u<o.minE?(f.e=0,f.d=[0]):(f.e=u,f.d=[s]):(f.e=u,f.d=[s]))}return 0*s!=0?(s||(f.s=NaN),f.e=NaN,void(f.d=null)):hM(f,s.toString())}if(p!=="string")throw Error(uv+s);return(c=s.charCodeAt(0))===45?(s=s.slice(1),f.s=-1):(c===43&&(s=s.slice(1)),f.s=1),F$.test(s)?hM(f,s):function(y,b){var _,M,F,O,j,z,W,J,G;if(b.indexOf("_")>-1){if(b=b.replace(/(\d)_(?=\d)/g,"$1"),F$.test(b))return hM(y,b)}else if(b==="Infinity"||b==="NaN")return+b||(y.s=NaN),y.e=NaN,y.d=null,y;if(lme.test(b))_=16,b=b.toLowerCase();else if(ume.test(b))_=2;else{if(!cme.test(b))throw Error(uv+b);_=8}for((O=b.search(/p/i))>0?(W=+b.slice(O+1),b=b.substring(2,O)):b=b.slice(2),j=(O=b.indexOf("."))>=0,M=y.constructor,j&&(O=(z=(b=b.replace(".","")).length)-O,F=kK(M,new M(_),O,2*O)),O=G=(J=_S(b,_,Bm)).length-1;J[O]===0;--O)J.pop();return O<0?new M(0*y.s):(y.e=ES(J,G),y.d=J,Xa=!1,j&&(y=Ff(y,F,4*z)),W&&(y=y.times(Math.abs(W)<54?ap(2,W):tw.pow(2,W))),Xa=!0,y)}(f,s)}if(o.prototype=vn,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=Sme,o.clone=n,o.isDecimal=N$,o.abs=hme,o.acos=pme,o.acosh=gme,o.add=mme,o.asin=dme,o.asinh=vme,o.atan=yme,o.atanh=wme,o.atan2=bme,o.cbrt=xme,o.ceil=Dme,o.clamp=Cme,o.cos=_me,o.cosh=Eme,o.div=Ame,o.exp=kme,o.floor=Mme,o.hypot=Fme,o.ln=Pme,o.log=Tme,o.log10=Ome,o.log2=Ime,o.max=Nme,o.min=Bme,o.mod=Rme,o.mul=jme,o.pow=Lme,o.random=$me,o.round=zme,o.sign=Ume,o.sin=Wme,o.sinh=Hme,o.sqrt=Vme,o.sub=qme,o.sum=Kme,o.tan=Gme,o.tanh=Yme,o.trunc=Jme,e===void 0&&(e={}),e&&e.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<i.length;)e.hasOwnProperty(r=i[t++])||(e[r]=this[r]);return o.config(e),o}(GT);hE=new tw(hE),pE=new tw(pE);var Xme=Of("BigNumber",["?on","config"],n=>{var{on:e,config:t}=n,r=tw.clone({precision:t.precision,modulo:tw.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Kp=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},pm=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},gM=function(n,e){return(n=Math.abs(n))<(e=Math.abs(e))&&([n,e]=[e,n]),n<1e8?Math.sqrt(n*n+e*e):(e/=n,n*Math.sqrt(1+e*e))},Wy=function(){throw SyntaxError("Invalid Param")};function mM(n,e){const t=Math.abs(n),r=Math.abs(e);return n===0?Math.log(r):e===0?Math.log(t):t<3e3&&r<3e3?.5*Math.log(n*n+e*e):(n*=.5,e*=.5,.5*Math.log(n*n+e*e)+Math.LN2)}const Qme={re:0,im:0},Lv=function(n,e){const t=Qme;if(n==null)t.re=t.im=0;else if(e!==void 0)t.re=n,t.im=e;else switch(typeof n){case"object":if("im"in n&&"re"in n)t.re=n.re,t.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Xt.INFINITY;t.re=n.abs*Math.cos(n.arg),t.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Xt.INFINITY;t.re=n.r*Math.cos(n.phi),t.im=n.r*Math.sin(n.phi)}else n.length===2?(t.re=n[0],t.im=n[1]):Wy();break;case"string":t.im=t.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,o=0;r===null&&Wy();for(let s=0;s<r.length;s++){const u=r[s];u===" "||u==="	"||u===`
`||(u==="+"?i++:u==="-"?o++:u==="i"||u==="I"?(i+o===0&&Wy(),r[s+1]===" "||isNaN(r[s+1])?t.im+=parseFloat((o%2?"-":"")+"1"):(t.im+=parseFloat((o%2?"-":"")+r[s+1]),s++),i=o=0):((i+o===0||isNaN(u))&&Wy(),r[s+1]==="i"||r[s+1]==="I"?(t.im+=parseFloat((o%2?"-":"")+u),s++):t.re+=parseFloat((o%2?"-":"")+u),i=o=0))}i+o>0&&Wy();break;case"number":t.im=0,t.re=n;break;default:Wy()}return isNaN(t.re)||isNaN(t.im),t};function Xt(n,e){if(!(this instanceof Xt))return new Xt(n,e);const t=Lv(n,e);this.re=t.re,this.im=t.im}Xt.prototype={re:0,im:0,sign:function(){const n=gM(this.re,this.im);return new Xt(this.re/n,this.im/n)},add:function(n,e){const t=Lv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Xt.NAN:Xt.INFINITY:new Xt(this.re+t.re,this.im+t.im)},sub:function(n,e){const t=Lv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im));return r||i?r&&i?Xt.NAN:Xt.INFINITY:new Xt(this.re-t.re,this.im-t.im)},mul:function(n,e){const t=Lv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;return r&&s||i&&o?Xt.NAN:r||i?Xt.INFINITY:t.im===0&&this.im===0?new Xt(this.re*t.re,0):new Xt(this.re*t.re-this.im*t.im,this.re*t.im+this.im*t.re)},div:function(n,e){const t=Lv(n,e),r=this.isInfinite(),i=!(isFinite(t.re)&&isFinite(t.im)),o=this.re===0&&this.im===0,s=t.re===0&&t.im===0;if(o&&s||r&&i)return Xt.NAN;if(s||r)return Xt.INFINITY;if(o||i)return Xt.ZERO;if(t.im===0)return new Xt(this.re/t.re,this.im/t.re);if(Math.abs(t.re)<Math.abs(t.im)){const u=t.re/t.im,c=t.re*u+t.im;return new Xt((this.re*u+this.im)/c,(this.im*u-this.re)/c)}{const u=t.im/t.re,c=t.im*u+t.re;return new Xt((this.re+this.im*u)/c,(this.im-this.re*u)/c)}},pow:function(n,e){const t=Lv(n,e),r=this.re===0&&this.im===0;if(t.re===0&&t.im===0)return Xt.ONE;if(t.im===0){if(this.im===0&&this.re>0)return new Xt(Math.pow(this.re,t.re),0);if(this.re===0)switch((t.re%4+4)%4){case 0:return new Xt(Math.pow(this.im,t.re),0);case 1:return new Xt(0,Math.pow(this.im,t.re));case 2:return new Xt(-Math.pow(this.im,t.re),0);case 3:return new Xt(0,-Math.pow(this.im,t.re))}}if(r&&t.re>0)return Xt.ZERO;const i=Math.atan2(this.im,this.re),o=mM(this.re,this.im);let s=Math.exp(t.re*o-t.im*i),u=t.im*o+t.re*i;return new Xt(s*Math.cos(u),s*Math.sin(u))},sqrt:function(){const n=this.re,e=this.im;if(e===0)return n>=0?new Xt(Math.sqrt(n),0):new Xt(0,Math.sqrt(-n));const t=gM(n,e);let r=Math.sqrt(.5*(t+Math.abs(n))),i=Math.abs(e)/(2*r);return n>=0?new Xt(r,e<0?-i:i):new Xt(i,e<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Xt(n,0):new Xt(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,e=this.im;return new Xt(Math.expm1(n)*Math.cos(e)+function(t){const r=Math.PI/4;if(-r>t||t>r)return Math.cos(t)-1;const i=t*t;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(e),Math.exp(n)*Math.sin(e))},log:function(){const n=this.re,e=this.im;return e===0&&n>0?new Xt(Math.log(n),0):new Xt(mM(n,e),Math.atan2(e,n))},abs:function(){return gM(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,e=this.im;return new Xt(Math.sin(n)*Kp(e),Math.cos(n)*pm(e))},cos:function(){const n=this.re,e=this.im;return new Xt(Math.cos(n)*Kp(e),-Math.sin(n)*pm(e))},tan:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)+Kp(e);return new Xt(Math.sin(n)/t,pm(e)/t)},cot:function(){const n=2*this.re,e=2*this.im,t=Math.cos(n)-Kp(e);return new Xt(-Math.sin(n)/t,pm(e)/t)},sec:function(){const n=this.re,e=this.im,t=.5*Kp(2*e)+.5*Math.cos(2*n);return new Xt(Math.cos(n)*Kp(e)/t,Math.sin(n)*pm(e)/t)},csc:function(){const n=this.re,e=this.im,t=.5*Kp(2*e)-.5*Math.cos(2*n);return new Xt(Math.sin(n)*Kp(e)/t,-Math.cos(n)*pm(e)/t)},asin:function(){const n=this.re,e=this.im,t=new Xt(e*e-n*n+1,-2*n*e).sqrt(),r=new Xt(t.re-e,t.im+n).log();return new Xt(r.im,-r.re)},acos:function(){const n=this.re,e=this.im,t=new Xt(e*e-n*n+1,-2*n*e).sqrt(),r=new Xt(t.re-e,t.im+n).log();return new Xt(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,e=this.im;if(n===0){if(e===1)return new Xt(0,1/0);if(e===-1)return new Xt(0,-1/0)}const t=n*n+(1-e)*(1-e),r=new Xt((1-e*e-n*n)/t,-2*n/t).log();return new Xt(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,e=this.im;if(e===0)return new Xt(Math.atan2(1,n),0);const t=n*n+e*e;return t!==0?new Xt(n/t,-e/t).atan():new Xt(n!==0?n/0:0,e!==0?-e/0:0).atan()},asec:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Xt(0,1/0);const t=n*n+e*e;return t!==0?new Xt(n/t,-e/t).acos():new Xt(n!==0?n/0:0,e!==0?-e/0:0).acos()},acsc:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Xt(Math.PI/2,1/0);const t=n*n+e*e;return t!==0?new Xt(n/t,-e/t).asin():new Xt(n!==0?n/0:0,e!==0?-e/0:0).asin()},sinh:function(){const n=this.re,e=this.im;return new Xt(pm(n)*Math.cos(e),Kp(n)*Math.sin(e))},cosh:function(){const n=this.re,e=this.im;return new Xt(Kp(n)*Math.cos(e),pm(n)*Math.sin(e))},tanh:function(){const n=2*this.re,e=2*this.im,t=Kp(n)+Math.cos(e);return new Xt(pm(n)/t,Math.sin(e)/t)},coth:function(){const n=2*this.re,e=2*this.im,t=Kp(n)-Math.cos(e);return new Xt(pm(n)/t,-Math.sin(e)/t)},csch:function(){const n=this.re,e=this.im,t=Math.cos(2*e)-Kp(2*n);return new Xt(-2*pm(n)*Math.cos(e)/t,2*Kp(n)*Math.sin(e)/t)},sech:function(){const n=this.re,e=this.im,t=Math.cos(2*e)+Kp(2*n);return new Xt(2*Kp(n)*Math.cos(e)/t,-2*pm(n)*Math.sin(e)/t)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const e=this.asin();return this.re=-this.im,this.im=n,n=e.re,e.re=-e.im,e.im=n,e},acosh:function(){const n=this.acos();if(n.im<=0){const e=n.re;n.re=-n.im,n.im=e}else{const e=n.im;n.im=-n.re,n.re=e}return n},atanh:function(){const n=this.re,e=this.im,t=n>1&&e===0,r=1-n,i=1+n,o=r*r+e*e,s=o!==0?new Xt((i*r-e*e)/o,(e*r+i*e)/o):new Xt(n!==-1?n/0:0,e!==0?e/0:0),u=s.re;return s.re=mM(s.re,s.im)/2,s.im=Math.atan2(s.im,u)/2,t&&(s.im=-s.im),s},acoth:function(){const n=this.re,e=this.im;if(n===0&&e===0)return new Xt(0,Math.PI/2);const t=n*n+e*e;return t!==0?new Xt(n/t,-e/t).atanh():new Xt(n!==0?n/0:0,e!==0?-e/0:0).atanh()},acsch:function(){const n=this.re,e=this.im;if(e===0)return new Xt(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const t=n*n+e*e;return t!==0?new Xt(n/t,-e/t).asinh():new Xt(n!==0?n/0:0,e!==0?-e/0:0).asinh()},asech:function(){const n=this.re,e=this.im;if(this.isZero())return Xt.INFINITY;const t=n*n+e*e;return t!==0?new Xt(n/t,-e/t).acosh():new Xt(n!==0?n/0:0,e!==0?-e/0:0).acosh()},inverse:function(){if(this.isZero())return Xt.INFINITY;if(this.isInfinite())return Xt.ZERO;const n=this.re,e=this.im,t=n*n+e*e;return new Xt(n/t,-e/t)},conjugate:function(){return new Xt(this.re,-this.im)},neg:function(){return new Xt(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Xt(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Xt(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Xt(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,e){const t=Lv(n,e);return Math.abs(t.re-this.re)<=Xt.EPSILON&&Math.abs(t.im-this.im)<=Xt.EPSILON},clone:function(){return new Xt(this.re,this.im)},toString:function(){let n=this.re,e=this.im,t="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Xt.EPSILON&&(n=0),Math.abs(e)<Xt.EPSILON&&(e=0),e===0?t+n:(n!==0?(t+=n,t+=" ",e<0?(e=-e,t+="-"):t+="+",t+=" "):e<0&&(e=-e,t+="-"),e!==1&&(t+=e),t+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Xt.ZERO=new Xt(0,0),Xt.ONE=new Xt(1,0),Xt.I=new Xt(0,1),Xt.PI=new Xt(Math.PI,0),Xt.E=new Xt(Math.E,0),Xt.INFINITY=new Xt(1/0,1/0),Xt.NAN=new Xt(NaN,NaN),Xt.EPSILON=1e-15;var Zme=Of("Complex",[],()=>(Object.defineProperty(Xt,"name",{value:"Complex"}),Xt.prototype.constructor=Xt,Xt.prototype.type="Complex",Xt.prototype.isComplex=!0,Xt.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Xt.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Xt.prototype.format=function(n){var e=this.im,t=this.re,r=qT(this.re,n),i=qT(this.im,n),o=Jf(n)?n:n?n.precision:null;if(o!==null){var s=Math.pow(10,-o);Math.abs(t/e)<s&&(t=0),Math.abs(e/t)<s&&(e=0)}return e===0?r:t===0?e===1?"i":e===-1?"-i":i+"i":e<0?e===-1?r+" - i":r+" - "+i.substring(1)+"i":e===1?r+" + i":r+" + "+i+"i"},Xt.fromPolar=function(n){switch(arguments.length){case 1:var e=arguments[0];if(typeof e=="object")return Xt(e);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],r=arguments[1];if(Jf(t)){if(xK(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Jf(r))return new Xt({r:t,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Xt.prototype.valueOf=Xt.prototype.toString,Xt.fromJSON=function(n){return new Xt(n)},Xt.compare=function(n,e){return n.re>e.re?1:n.re<e.re?-1:n.im>e.im?1:n.im<e.im?-1:0},Xt),{isClass:!0}),Ri={s:1,n:0,d:1};function Z0(n,e){if(isNaN(n=parseInt(n,10)))throw AS();return n*e}function Mh(n,e){if(e===0)throw iN();var t=Object.create(Zp.prototype);t.s=n<0?-1:1;var r=m1(n=n<0?-n:n,e);return t.n=n/r,t.d=e/r,t}function B$(n){for(var e={},t=n,r=2,i=4;i<=t;){for(;t%r==0;)t/=r,e[r]=(e[r]||0)+1;i+=1+2*r++}return t!==n?t>1&&(e[t]=(e[t]||0)+1):e[n]=(e[n]||0)+1,e}var Gg=function(n,e){var t,r=0,i=1,o=1,s=0,u=0,c=0,p=1,f=1,g=0,y=1,b=1,_=1,M=1e7;if(n!=null)if(e!==void 0){if(o=(r=n)*(i=e),r%1!=0||i%1!=0)throw e0e()}else switch(typeof n){case"object":if("d"in n&&"n"in n)r=n.n,i=n.d,"s"in n&&(r*=n.s);else{if(!(0 in n))throw AS();r=n[0],1 in n&&(i=n[1])}o=r*i;break;case"number":if(n<0&&(o=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=f=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));y<=M&&_<=M;){if(n===(t=(g+b)/(y+_))){y+_<=M?(r=g+b,i=y+_):_>y?(r=b,i=_):(r=g,i=y);break}n>t?(g+=b,y+=_):(b+=g,_+=y),y>M?(r=b,i=_):(r=g,i=y)}r*=f}else(isNaN(n)||isNaN(e))&&(i=r=NaN);break;case"string":if((y=n.match(/\d+|./g))===null)throw AS();if(y[g]==="-"?(o=-1,g++):y[g]==="+"&&g++,y.length===g+1?u=Z0(y[g++],o):y[g+1]==="."||y[g]==="."?(y[g]!=="."&&(s=Z0(y[g++],o)),(1+ ++g===y.length||y[g+1]==="("&&y[g+3]===")"||y[g+1]==="'"&&y[g+3]==="'")&&(u=Z0(y[g],o),p=Math.pow(10,y[g].length),g++),(y[g]==="("&&y[g+2]===")"||y[g]==="'"&&y[g+2]==="'")&&(c=Z0(y[g+1],o),f=Math.pow(10,y[g+1].length)-1,g+=3)):y[g+1]==="/"||y[g+1]===":"?(u=Z0(y[g],o),p=Z0(y[g+2],1),g+=3):y[g+3]==="/"&&y[g+1]===" "&&(s=Z0(y[g],o),u=Z0(y[g+2],o),p=Z0(y[g+4],1),g+=5),y.length<=g){o=r=c+(i=p*f)*s+f*u;break}default:throw AS()}if(i===0)throw iN();Ri.s=o<0?-1:1,Ri.n=Math.abs(r),Ri.d=Math.abs(i)};function m1(n,e){if(!n)return e;if(!e)return n;for(;;){if(!(n%=e))return e;if(!(e%=n))return n}}function Zp(n,e){if(Gg(n,e),!(this instanceof Zp))return Mh(Ri.s*Ri.n,Ri.d);n=m1(Ri.d,Ri.n),this.s=Ri.s,this.n=Ri.n/n,this.d=Ri.d/n}var iN=function(){return new Error("Division by Zero")},AS=function(){return new Error("Invalid argument")},e0e=function(){return new Error("Parameters must be integer")};Zp.prototype={s:1,n:0,d:1,abs:function(){return Mh(this.n,this.d)},neg:function(){return Mh(-this.s*this.n,this.d)},add:function(n,e){return Gg(n,e),Mh(this.s*this.n*Ri.d+Ri.s*this.d*Ri.n,this.d*Ri.d)},sub:function(n,e){return Gg(n,e),Mh(this.s*this.n*Ri.d-Ri.s*this.d*Ri.n,this.d*Ri.d)},mul:function(n,e){return Gg(n,e),Mh(this.s*Ri.s*this.n*Ri.n,this.d*Ri.d)},div:function(n,e){return Gg(n,e),Mh(this.s*Ri.s*this.n*Ri.d,this.d*Ri.n)},clone:function(){return Mh(this.s*this.n,this.d)},mod:function(n,e){if(isNaN(this.n)||isNaN(this.d))return new Zp(NaN);if(n===void 0)return Mh(this.s*this.n%this.d,1);if(Gg(n,e),Ri.n===0&&this.d===0)throw iN();return Mh(this.s*(Ri.d*this.n)%(Ri.n*this.d),Ri.d*this.d)},gcd:function(n,e){return Gg(n,e),Mh(m1(Ri.n,this.n)*m1(Ri.d,this.d),Ri.d*this.d)},lcm:function(n,e){return Gg(n,e),Ri.n===0&&this.n===0?Mh(0,1):Mh(Ri.n*this.n,m1(Ri.n,this.n)*m1(Ri.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Zp(NaN):Mh(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Zp(NaN):Mh(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Zp(NaN):Mh(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,e){return Gg(n,e),Mh(this.s*Math.round(this.n*Ri.d/(this.d*Ri.n))*Ri.n,Ri.d)},inverse:function(){return Mh(this.s*this.d,this.n)},pow:function(n,e){if(Gg(n,e),Ri.d===1)return Ri.s<0?Mh(Math.pow(this.s*this.d,Ri.n),Math.pow(this.n,Ri.n)):Mh(Math.pow(this.s*this.n,Ri.n),Math.pow(this.d,Ri.n));if(this.s<0)return null;var t=B$(this.n),r=B$(this.d),i=1,o=1;for(var s in t)if(s!=="1"){if(s==="0"){i=0;break}if(t[s]*=Ri.n,t[s]%Ri.d!=0)return null;t[s]/=Ri.d,i*=Math.pow(s,t[s])}for(var s in r)if(s!=="1"){if(r[s]*=Ri.n,r[s]%Ri.d!=0)return null;r[s]/=Ri.d,o*=Math.pow(s,r[s])}return Ri.s<0?Mh(o,i):Mh(i,o)},equals:function(n,e){return Gg(n,e),this.s*this.n*Ri.d==Ri.s*Ri.n*this.d},compare:function(n,e){Gg(n,e);var t=this.s*this.n*Ri.d-Ri.s*Ri.n*this.d;return(0<t)-(t<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var e=this.abs(),t=e.toContinued(),r=1;r<t.length;r++){for(var i=Mh(t[r-1],1),o=r-2;o>=0;o--)i=i.inverse().add(t[o]);if(Math.abs(i.sub(e).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,e){return Gg(n,e),!(!(Ri.n*this.d)||this.n*Ri.d%(Ri.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var e,t="",r=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=r:(n&&(e=Math.floor(r/i))>0&&(t+=e,t+=" ",r%=i),t+=r,t+="/",t+=i),t},toLatex:function(n){var e,t="",r=this.n,i=this.d;return this.s<0&&(t+="-"),i===1?t+=r:(n&&(e=Math.floor(r/i))>0&&(t+=e,r%=i),t+="\\frac{",t+=r,t+="}{",t+=i,t+="}"),t},toContinued:function(){var n,e=this.n,t=this.d,r=[];if(isNaN(e)||isNaN(t))return r;do r.push(Math.floor(e/t)),n=e%t,e=t,t=n;while(e!==1);return r},toString:function(n){var e=this.n,t=this.d;if(isNaN(e)||isNaN(t))return"NaN";n=n||15;var r=function(u,c){for(;c%2==0;c/=2);for(;c%5==0;c/=5);if(c===1)return 0;for(var p=10%c,f=1;p!==1;f++)if(p=10*p%c,f>2e3)return 0;return f}(0,t),i=function(u,c,p){for(var f=1,g=function(b,_,M){for(var F=1;_>0;b=b*b%M,_>>=1)1&_&&(F=F*b%M);return F}(10,p,c),y=0;y<300;y++){if(f===g)return y;f=10*f%c,g=10*g%c}return 0}(0,t,r),o=this.s<0?"-":"";if(o+=e/t|0,e%=t,(e*=10)&&(o+="."),r){for(var s=i;s--;)o+=e/t|0,e%=t,e*=10;for(o+="(",s=r;s--;)o+=e/t|0,e%=t,e*=10;o+=")"}else for(s=n;e&&s--;)o+=e/t|0,e%=t,e*=10;return o}};var t0e=Of("Fraction",[],()=>(Object.defineProperty(Zp,"name",{value:"Fraction"}),Zp.prototype.constructor=Zp,Zp.prototype.type="Fraction",Zp.prototype.isFraction=!0,Zp.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Zp.fromJSON=function(n){return new Zp(n)},Zp),{isClass:!0}),n0e=Of("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(e,t,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(e,t,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function dM(n,e,t){var r=new n.constructor(2),i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!xp(t))throw new Error("size must be an integer");if(n.greaterThan(r.pow(t-1).sub(1))||n.lessThan(r.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(t))),i="i".concat(t)}switch(e){case 2:return"".concat(n.toBinary()).concat(i);case 8:return"".concat(n.toOctal()).concat(i);case 16:return"".concat(n.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function R$(n,e){return e!==void 0?n.toExponential(e-1):n.toExponential()}function j$(n,e){return Jf(n)?n:Up(n)?n.toNumber():e}function Mg(n,e){var t=function(r,i){return typeof r=="number"?qT(r,i):Up(r)?function(s,u){if(typeof u=="function")return u(s);if(!s.isFinite())return s.isNaN()?"NaN":s.gt(0)?"Infinity":"-Infinity";var{notation:c,precision:p,wordSize:f}=DK(u);switch(c){case"fixed":return function(M,F){return M.toFixed(F)}(s,p);case"exponential":return R$(s,p);case"engineering":return function(M,F){var O=M.e,j=O%3==0?O:O<0?O-3-O%3:O-O%3,z=M.mul(Math.pow(10,-j)).toPrecision(F);return z.includes("e")&&(z=new M.constructor(z).toFixed()),z+"e"+(O>=0?"+":"")+j.toString()}(s,p);case"bin":return dM(s,2,f);case"oct":return dM(s,8,f);case"hex":return dM(s,16,f);case"auto":var g=j$(u==null?void 0:u.lowerExp,-3),y=j$(u==null?void 0:u.upperExp,5);if(s.isZero())return"0";var b=s.toSignificantDigits(p),_=b.e;return(_>=g&&_<y?b.toFixed():R$(s,p)).replace(/((\.\d*?)(0+))($|e)/,function(){var M=arguments[2],F=arguments[4];return M!=="."?M+F:F});default:throw new Error('Unknown notation "'+c+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(r,i):function(o){return o&&typeof o=="object"&&typeof o.s=="number"&&typeof o.n=="number"&&typeof o.d=="number"||!1}(r)?i&&i.fraction==="decimal"?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?PK(r,i):_0(r)?L$(r):typeof r=="function"?r.syntax?String(r.syntax):"function":r&&typeof r=="object"?typeof r.format=="function"?r.format(i):r&&r.toString(i)!=={}.toString()?r.toString(i):"{"+Object.keys(r).map(o=>L$(o)+": "+Mg(r[o],i)).join(", ")+"}":String(r)}(n,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function L$(n){for(var e=String(n),t="",r=0;r<e.length;){var i=e.charAt(r);t+=i in $$?$$[i]:i,r++}return'"'+t+'"'}var $$={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function PK(n,e){if(Array.isArray(n)){for(var t="[",r=n.length,i=0;i<r;i++)i!==0&&(t+=", "),t+=PK(n[i],e);return t+"]"}return Mg(n,e)}function Qc(n,e,t){if(!(this instanceof Qc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}function Qv(n,e,t){if(!(this instanceof Qv))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function e0(n){for(var e=[];Array.isArray(n);)e.push(n.length),n=n[0];return e}function TK(n,e,t){var r,i=n.length;if(i!==e[t])throw new Qc(i,e[t]);if(t<e.length-1){var o=t+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Qc(e.length-1,e.length,"<");TK(n[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Qc(e.length+1,e.length,">")}function z$(n,e){if(e.length===0){if(Array.isArray(n))throw new Qc(n.length,0)}else TK(n,e,0)}function Lh(n,e){if(n!==void 0){if(!Jf(n)||!xp(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof e=="number"&&n>=e)throw new Qv(n,e)}}function U$(n,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");return e.forEach(function(r){if(!Jf(r)||!xp(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Mg(e)+")")}),(Jf(n)||Up(n))&&(n=[n]),JT(n,e,0,t!==void 0?t:0),n}function JT(n,e,t,r){var i,o,s=n.length,u=e[t],c=Math.min(s,u);if(n.length=u,t<e.length-1){var p=t+1;for(i=0;i<c;i++)o=n[i],Array.isArray(o)||(o=[o],n[i]=o),JT(o,e,p,r);for(i=c;i<u;i++)o=[],n[i]=o,JT(o,e,p,r)}else{for(i=0;i<c;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=c;i<u;i++)n[i]=r}}function IK(n,e){var t=function(o){if(!Array.isArray(o))return o;var s=[];return o.forEach(function u(c){Array.isArray(c)?c.forEach(u):s.push(c)}),s}(n),r=t.length;if(!Array.isArray(n)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Qc(0,r,"!=");var i=OK(e=oN(e,r));if(r!==i)throw new Qc(i,r,"!=");try{return function(o,s){for(var u,c=o,p=s.length-1;p>0;p--){var f=s[p];u=[];for(var g=c.length/f,y=0;y<g;y++)u.push(c.slice(y*f,(y+1)*f));c=u}return c}(t,e)}catch(o){throw o instanceof Qc?new Qc(i,r,"!="):o}}function oN(n,e){var t=OK(n),r=n.slice(),i=n.indexOf(-1);if(n.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(e%t!=0)throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);r[i]=-e/t}return r}function OK(n){return n.reduce((e,t)=>e*t,1)}function NK(n,e,t,r){var i=r||e0(n);if(t)for(var o=0;o<t;o++)n=[n],i.unshift(1);for(n=BK(n,e,0);i.length<e;)i.push(1);return n}function BK(n,e,t){var r,i;if(Array.isArray(n)){var o=t+1;for(r=0,i=n.length;r<i;r++)n[r]=BK(n[r],e,o)}else for(var s=t;s<e;s++)n=[n];return n}function aN(n,e){for(var t,r=0,i=0;i<n.length;i++){var o=n[i],s=Array.isArray(o);if(i===0&&s&&(r=o.length),s&&o.length!==r)return;var u=s?aN(o,e):e(o);if(t===void 0)t=u;else if(t!==u)return"mixed"}return t}function RK(n,e,t,r){if(r<t){if(n.length!==e.length)throw new Qc(n.length,e.length);for(var i=[],o=0;o<n.length;o++)i[o]=RK(n[o],e[o],t,r+1);return i}return n.concat(e)}function jK(){var n=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(t,r){return RK(t,r,e,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function LK(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var r=e.map(y=>y.length),i=Math.max(...r),o=new Array(i).fill(null),s=0;s<e.length;s++)for(var u=e[s],c=r[s],p=0;p<c;p++){var f=i-c+p;u[p]>o[f]&&(o[f]=u[p])}for(var g=0;g<e.length;g++)$K(e[g],o);return o}function $K(n,e){for(var t=e.length,r=n.length,i=0;i<r;i++){var o=t-r+i;if(n[i]<e[o]&&n[i]>1||n[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(e[o]))}}function XT(n,e){var t=e0(n);if(Cv(t,e))return n;$K(t,e);var r,i,o,s=LK(t,e),u=s.length,c=[...Array(u-t.length).fill(1),...t],p=function(g){return lE([],g)}(n);t.length<u&&(t=e0(p=IK(p,c)));for(var f=0;f<u;f++)t[f]<s[f]&&(r=p,i=s[f],o=f,t=e0(p=jK(...Array(i).fill(r),o)));return p}function zK(n,e){if(!Array.isArray(n))throw new Error("Array expected");var t=e0(n);if(e.length!==t.length)throw new Qc(e.length,t.length);for(var r=0;r<e.length;r++)Lh(e[r],t[r]);return e.reduce((i,o)=>i[o],n)}function mE(n,e,t){if(fE.isTypedFunction(n)){var r=(e.isMatrix?e.size():e0(e)).map(()=>0),i=e.isMatrix?e.get(r):zK(e,r),o=Object.keys(n.signatures).length===1,s=function(c,p,f,g){for(var y=[p,f,g],b=3;b>0;b--){var _=y.slice(0,b);if(fE.resolve(c,_)!==null)return b}}(n,i,r,e),u=o?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return W$(u,p.slice(0,s),t,n.name)}:function(){for(var c=arguments.length,p=new Array(c),f=0;f<c;f++)p[f]=arguments[f];return W$(u,p,t,n.name)}}return n}function W$(n,e,t,r){try{return n(...e)}catch(i){(function(o,s,u,c){var p;if(o instanceof TypeError&&((p=o.data)===null||p===void 0?void 0:p.category)==="wrongType"){var f=[];throw f.push("value: ".concat(iy(s[0]))),s.length>=2&&f.push("index: ".concat(iy(s[1]))),s.length>=3&&f.push("array: ".concat(iy(s[2]))),new TypeError("Function ".concat(u," cannot apply callback arguments ")+"".concat(c,"(").concat(f.join(", "),") at index ").concat(JSON.stringify(s[1])))}throw new TypeError("Function ".concat(u," cannot apply callback arguments ")+"to function ".concat(c,": ").concat(o.message))})(i,e,t,r)}}Qc.prototype=new RangeError,Qc.prototype.constructor=RangeError,Qc.prototype.name="DimensionError",Qc.prototype.isDimensionError=!0,Qv.prototype=new RangeError,Qv.prototype.constructor=RangeError,Qv.prototype.name="IndexError",Qv.prototype.isIndexError=!0;var r0e=Of("DenseMatrix",["Matrix"],n=>{var{Matrix:e}=n;function t(c,p){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!_0(p))throw new Error("Invalid datatype: "+p);if(B0(c))c.type==="DenseMatrix"?(this._data=vp(c._data),this._size=vp(c._size),this._datatype=p||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=p||c._datatype);else if(c&&Xh(c.data)&&Xh(c.size))this._data=c.data,this._size=c.size,z$(this._data,this._size),this._datatype=p||c.datatype;else if(Xh(c))this._data=u(c),this._size=e0(this._data),z$(this._data,this._size),this._datatype=p;else{if(c)throw new TypeError("Unsupported type of data ("+iy(c)+")");this._data=[],this._size=[0],this._datatype=p}}function r(c,p,f,g){var y=g===f-1,b=p.dimension(g);return y?b.map(function(_){return Lh(_,c.length),c[_]}).valueOf():b.map(function(_){return Lh(_,c.length),r(c[_],p,f,g+1)}).valueOf()}function i(c,p,f,g,y){var b=y===g-1,_=p.dimension(y);b?_.forEach(function(M,F){Lh(M),c[M]=f[F[0]]}):_.forEach(function(M,F){Lh(M),i(c[M],p,f[F[0]],g,y+1)})}function o(c,p,f){if(p.length===0){for(var g=c._data;Xh(g);)g=g[0];return g}return c._size=p.slice(0),c._data=U$(c._data,c._size,f),c}function s(c,p,f){for(var g=c._size.slice(0),y=!1;g.length<p.length;)g.push(0),y=!0;for(var b=0,_=p.length;b<_;b++)p[b]>g[b]&&(g[b]=p[b],y=!0);y&&o(c,g,f)}function u(c){return B0(c)?u(c.valueOf()):Xh(c)?c.map(u):c}return t.prototype=new e,t.prototype.createDenseMatrix=function(c,p){return new t(c,p)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return aN(this._data,iy)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(c,p){return new t(c,p)},t.prototype.subset=function(c,p,f){switch(arguments.length){case 1:return function(g,y){if(!tN(y))throw new TypeError("Invalid index");if(y.isScalar())return g.get(y.min());var b=y.size();if(b.length!==g._size.length)throw new Qc(b.length,g._size.length);for(var _=y.min(),M=y.max(),F=0,O=g._size.length;F<O;F++)Lh(_[F],g._size[F]),Lh(M[F],g._size[F]);return new t(r(g._data,y,b.length,0),g._datatype)}(this,c);case 2:case 3:return function(g,y,b,_){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var M,F=y.size(),O=y.isScalar();if(B0(b)?(M=b.size(),b=b.valueOf()):M=e0(b),O){if(M.length!==0)throw new TypeError("Scalar expected");g.set(y.min(),b,_)}else{if(!Cv(M,F))try{M=e0(b=M.length===0?XT([b],F):XT(b,F))}catch{}if(F.length<g._size.length)throw new Qc(F.length,g._size.length,"<");if(M.length<F.length){for(var j=0,z=0;F[j]===1&&M[j]===1;)j++;for(;F[j]===1;)z++,j++;b=NK(b,F.length,z,M)}if(!Cv(F,M))throw new Qc(F,M,">");var W=y.max().map(function(G){return G+1});s(g,W,_);var J=F.length;i(g._data,y,b,J,0)}return g}(this,c,p,f);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(c){return zK(this._data,c)},t.prototype.set=function(c,p,f){if(!Xh(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new Qc(c.length,this._size.length,"<");var g,y,b;s(this,c.map(function(M){return M+1}),f);var _=this._data;for(g=0,y=c.length-1;g<y;g++)Lh(b=c[g],_.length),_=_[b];return Lh(b=c[c.length-1],_.length),_[b]=p,this},t.prototype.resize=function(c,p,f){if(!cE(c))throw new TypeError("Array or Matrix expected");var g=c.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);return o(f?this.clone():this,g,p)},t.prototype.reshape=function(c,p){var f=p?this.clone():this;f._data=IK(f._data,c);var g=f._size.reduce((y,b)=>y*b);return f._size=oN(c,g),f},t.prototype.clone=function(){return new t({data:vp(this._data),size:vp(this._size),datatype:this._datatype})},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(c){var p=this,f=p.size();if(f.length!==1){var g=Array(f.length).fill(0),y=Array(f.length-1),b=y.length-1;y[0]=p._data[0];for(var _=0;_<b;_++)y[_+1]=y[_][0];for(g[b]=-1;;){var M=void 0;for(M=b;M>=0;M--){if(g[M]++,g[M]!==f[M]){y[M]=M===0?p._data[g[M]]:y[M-1][g[M]];for(var F=M;F<b;F++)y[F+1]=y[F][0];for(var O=0;O<f[y.length];O++)g[y.length]=O,c(y[b],O,g.slice(0));break}g[M]=0}if(M===-1)break}}else for(var j=0;j<f[0];j++)c(p._data,j,[j])},t.prototype.map=function(c){var p=this,f=new t(p),g=mE(c,p._data,"map");return f._forEach(function(y,b,_){y[b]=g(y[b],_,p)}),f},t.prototype.forEach=function(c){var p=this,f=mE(c,p._data,"map");p._forEach(function(g,y,b){f(g[y],b,p)})},t.prototype[Symbol.iterator]=function*(){var c=function*(p,f){if(Xh(p))for(var g=0;g<p.length;g++)yield*c(p[g],f.concat(g));else yield{value:p,index:f}};yield*c(this._data,[])},t.prototype.rows=function(){var c=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var f of p)c.push(new t([f],this._datatype));return c},t.prototype.columns=function(){var c=this,p=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var g=this._data,y=function(_){var M=g.map(F=>[F[_]]);p.push(new t(M,c._datatype))},b=0;b<f[1];b++)y(b);return p},t.prototype.toArray=function(){return vp(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(c){return Mg(this._data,c)},t.prototype.toString=function(){return Mg(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(c){if(c){if(Up(c)&&(c=c.toNumber()),!Jf(c)||!xp(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var p=c>0?c:0,f=c<0?-c:0,g=this._size[0],y=this._size[1],b=Math.min(g-f,y-p),_=[],M=0;M<b;M++)_[M]=this._data[M+f][M+p];return new t({data:_,size:[b],datatype:this._datatype})},t.diagonal=function(c,p,f,g){if(!Xh(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(J){if(Up(J)&&(J=J.toNumber()),!Jf(J)||!xp(J)||J<1)throw new Error("Size values must be positive integers");return J}),f){if(Up(f)&&(f=f.toNumber()),!Jf(f)||!xp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var y,b=f>0?f:0,_=f<0?-f:0,M=c[0],F=c[1],O=Math.min(M-_,F-b);if(Xh(p)){if(p.length!==O)throw new Error("Invalid value array length");y=function(J){return p[J]}}else if(B0(p)){var j=p.size();if(j.length!==1||j[0]!==O)throw new Error("Invalid matrix length");y=function(J){return p.get([J])}}else y=function(){return p};g||(g=Up(y(0))?y(0).mul(0):0);var z=[];if(c.length>0){z=U$(z,c,g);for(var W=0;W<O;W++)z[W+_][W+b]=y(W)}return new t({data:z,size:[M,F]})},t.fromJSON=function(c){return new t(c)},t.prototype.swapRows=function(c,p){if(!(Jf(c)&&xp(c)&&Jf(p)&&xp(p)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Lh(c,this._size[0]),Lh(p,this._size[0]),t._swapRows(c,p,this._data),this},t._swapRows=function(c,p,f){var g=f[c];f[c]=f[p],f[p]=g},t},{isClass:!0});function sN(n,e,t){return n&&typeof n.map=="function"?n.map(function(r){return sN(r,e)}):e(n)}var H$="isInteger",i0e=Of(H$,["typed"],n=>{var{typed:e}=n;return e(H$,{number:xp,BigNumber:function(t){return t.isInt()},bigint:function(t){return!0},Fraction:function(t){return t.d===1&&isFinite(t.n)},"Array | Matrix":e.referToSelf(t=>r=>sN(r,t))})}),V$="number, number";function UK(n,e){return n+e}function WK(n,e){return n-e}function HK(n){return-n}UK.signature=V$,WK.signature=V$,HK.signature="number";var o0e=Of("compareUnits",["typed"],n=>{var{typed:e}=n;return{"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(t,[r.valueType(),i.valueType()])(r.value,i.value)})}}),dE="equalScalar",a0e=Of(dE,["typed","config"],n=>{var{typed:e,config:t}=n,r=o0e({typed:e});return e(dE,{"boolean, boolean":function(i,o){return i===o},"number, number":function(i,o){return SS(i,o,t.relTol,t.absTol)},"BigNumber, BigNumber":function(i,o){return i.eq(o)||function(s,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(c<=0)throw new Error("Relative tolerance must be greater than 0");if(p<0)throw new Error("Absolute tolerance must be at least 0");return!s.isNaN()&&!u.isNaN()&&(s.isFinite()&&u.isFinite()?!!s.eq(u)||s.minus(u).abs().lte(s.constructor.max(s.constructor.max(s.abs(),u.abs()).mul(c),p)):s.eq(u))}(i,o,t.relTol,t.absTol)},"bigint, bigint":function(i,o){return i===o},"Fraction, Fraction":function(i,o){return i.equals(o)},"Complex, Complex":function(i,o){return function(s,u,c,p){return SS(s.re,u.re,c,p)&&SS(s.im,u.im,c,p)}(i,o,t.relTol,t.absTol)}},r)});Of(dE,["typed","config"],n=>{var{typed:e,config:t}=n;return e(dE,{"number, number":function(r,i){return SS(r,i,t.relTol,t.absTol)}})});var s0e=Of("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:e,equalScalar:t,Matrix:r}=n;function i(f,g){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(g&&!_0(g))throw new Error("Invalid datatype: "+g);if(B0(f))(function(y,b,_){b.type==="SparseMatrix"?(y._values=b._values?vp(b._values):void 0,y._index=vp(b._index),y._ptr=vp(b._ptr),y._size=vp(b._size),y._datatype=_||b._datatype):o(y,b.valueOf(),_||b._datatype)})(this,f,g);else if(f&&Xh(f.index)&&Xh(f.ptr)&&Xh(f.size))this._values=f.values,this._index=f.index,this._ptr=f.ptr,this._size=f.size,this._datatype=g||f.datatype;else if(Xh(f))o(this,f,g);else{if(f)throw new TypeError("Unsupported type of data ("+iy(f)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=g}}function o(f,g,y){f._values=[],f._index=[],f._ptr=[],f._datatype=y;var b=g.length,_=0,M=t,F=0;if(_0(y)&&(M=e.find(t,[y,y])||t,F=e.convert(0,y)),b>0){var O=0;do{f._ptr.push(f._index.length);for(var j=0;j<b;j++){var z=g[j];if(Xh(z)){if(O===0&&_<z.length&&(_=z.length),O<z.length){var W=z[O];M(W,F)||(f._values.push(W),f._index.push(j))}}else O===0&&_<1&&(_=1),M(z,F)||(f._values.push(z),f._index.push(j))}O++}while(O<_)}f._ptr.push(f._index.length),f._size=[b,_]}function s(f,g,y,b){if(y-g==0)return y;for(var _=g;_<y;_++)if(b[_]===f)return _;return g}function u(f,g,y,b,_,M,F){_.splice(f,0,b),M.splice(f,0,g);for(var O=y+1;O<F.length;O++)F[O]++}function c(f,g,y,b){var _=b||0,M=t,F=0;_0(f._datatype)&&(M=e.find(t,[f._datatype,f._datatype])||t,F=e.convert(0,f._datatype),_=e.convert(_,f._datatype));var O,j,z,W=!M(_,F),J=f._size[0],G=f._size[1];if(y>G){for(j=G;j<y;j++)if(f._ptr[j]=f._values.length,W)for(O=0;O<J;O++)f._values.push(_),f._index.push(O);f._ptr[y]=f._values.length}else y<G&&(f._ptr.splice(y+1,G-y),f._values.splice(f._ptr[y],f._values.length),f._index.splice(f._ptr[y],f._index.length));if(G=y,g>J){if(W){var Q=0;for(j=0;j<G;j++){f._ptr[j]=f._ptr[j]+Q,z=f._ptr[j+1]+Q;var te=0;for(O=J;O<g;O++,te++)f._values.splice(z+te,0,_),f._index.splice(z+te,0,O),Q++}f._ptr[G]=f._values.length}}else if(g<J){var ae=0;for(j=0;j<G;j++){f._ptr[j]=f._ptr[j]-ae;var se=f._ptr[j],ge=f._ptr[j+1]-ae;for(z=se;z<ge;z++)(O=f._index[z])>g-1&&(f._values.splice(z,1),f._index.splice(z,1),ae++)}f._ptr[j]=f._values.length}return f._size[0]=g,f._size[1]=y,f}function p(f,g,y,b,_){var M,F,O=b[0],j=b[1],z=[];for(M=0;M<O;M++)for(z[M]=[],F=0;F<j;F++)z[M][F]=0;for(F=0;F<j;F++)for(var W=y[F],J=y[F+1],G=W;G<J;G++)z[M=g[G]][F]=f?_?vp(f[G]):f[G]:1;return z}return i.prototype=new r,i.prototype.createSparseMatrix=function(f,g){return new i(f,g)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return aN(this._values,iy)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(f,g){return new i(f,g)},i.prototype.density=function(){var f=this._size[0],g=this._size[1];return f!==0&&g!==0?this._index.length/(f*g):0},i.prototype.subset=function(f,g,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(b,_){if(!tN(_))throw new TypeError("Invalid index");if(_.isScalar())return b.get(_.min());var M,F,O,j,z=_.size();if(z.length!==b._size.length)throw new Qc(z.length,b._size.length);var W=_.min(),J=_.max();for(M=0,F=b._size.length;M<F;M++)Lh(W[M],b._size[M]),Lh(J[M],b._size[M]);var G=b._values,Q=b._index,te=b._ptr,ae=_.dimension(0),se=_.dimension(1),ge=[],xe=[];ae.forEach(function(Oe,et){xe[Oe]=et[0],ge[Oe]=!0});var Pe=G?[]:void 0,Ce=[],Me=[];return se.forEach(function(Oe){for(Me.push(Ce.length),O=te[Oe],j=te[Oe+1];O<j;O++)M=Q[O],ge[M]===!0&&(Ce.push(xe[M]),Pe&&Pe.push(G[O]))}),Me.push(Ce.length),new i({values:Pe,index:Ce,ptr:Me,size:z,datatype:b._datatype})}(this,f);case 2:case 3:return function(b,_,M,F){if(!_||_.isIndex!==!0)throw new TypeError("Invalid index");var O,j=_.size(),z=_.isScalar();if(B0(M)?(O=M.size(),M=M.toArray()):O=e0(M),z){if(O.length!==0)throw new TypeError("Scalar expected");b.set(_.min(),M,F)}else{if(j.length!==1&&j.length!==2)throw new Qc(j.length,b._size.length,"<");if(O.length<j.length){for(var W=0,J=0;j[W]===1&&O[W]===1;)W++;for(;j[W]===1;)J++,W++;M=NK(M,j.length,J,O)}if(!Cv(j,O))throw new Qc(j,O,">");if(j.length===1)_.dimension(0).forEach(function(te,ae){Lh(te),b.set([te,0],M[ae[0]],F)});else{var G=_.dimension(0),Q=_.dimension(1);G.forEach(function(te,ae){Lh(te),Q.forEach(function(se,ge){Lh(se),b.set([te,se],M[ae[0]][ge[0]],F)})})}}return b}(this,f,g,y);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(f){if(!Xh(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Qc(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var g=f[0],y=f[1];Lh(g,this._size[0]),Lh(y,this._size[1]);var b=s(g,this._ptr[y],this._ptr[y+1],this._index);return b<this._ptr[y+1]&&this._index[b]===g?this._values[b]:0},i.prototype.set=function(f,g,y){if(!Xh(f))throw new TypeError("Array expected");if(f.length!==this._size.length)throw new Qc(f.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=f[0],_=f[1],M=this._size[0],F=this._size[1],O=t,j=0;_0(this._datatype)&&(O=e.find(t,[this._datatype,this._datatype])||t,j=e.convert(0,this._datatype)),(b>M-1||_>F-1)&&(c(this,Math.max(b+1,M),Math.max(_+1,F),y),M=this._size[0],F=this._size[1]),Lh(b,M),Lh(_,F);var z=s(b,this._ptr[_],this._ptr[_+1],this._index);return z<this._ptr[_+1]&&this._index[z]===b?O(g,j)?function(W,J,G,Q,te){G.splice(W,1),Q.splice(W,1);for(var ae=J+1;ae<te.length;ae++)te[ae]--}(z,_,this._values,this._index,this._ptr):this._values[z]=g:O(g,j)||u(z,b,_,g,this._values,this._index,this._ptr),this},i.prototype.resize=function(f,g,y){if(!cE(f))throw new TypeError("Array or Matrix expected");var b=f.valueOf().map(_=>Array.isArray(_)&&_.length===1?_[0]:_);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");return b.forEach(function(_){if(!Jf(_)||!xp(_)||_<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Mg(b)+")")}),c(y?this.clone():this,b[0],b[1],g)},i.prototype.reshape=function(f,g){if(!Xh(f))throw new TypeError("Array expected");if(f.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");f.forEach(function(xe){if(!Jf(xe)||!xp(xe)||xe<=-2||xe===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Mg(f)+")")});var y=this._size[0]*this._size[1];if(y!==(f=oN(f,y))[0]*f[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var b=g?this.clone():this;if(this._size[0]===f[0]&&this._size[1]===f[1])return b;for(var _=[],M=0;M<b._ptr.length;M++)for(var F=0;F<b._ptr[M+1]-b._ptr[M];F++)_.push(M);for(var O=b._values.slice(),j=b._index.slice(),z=0;z<b._index.length;z++){var W=j[z],J=_[z],G=W*b._size[1]+J;_[z]=G%f[1],j[z]=Math.floor(G/f[1])}b._values.length=0,b._index.length=0,b._ptr.length=f[1]+1,b._size=f.slice();for(var Q=0;Q<b._ptr.length;Q++)b._ptr[Q]=0;for(var te=0;te<O.length;te++){var ae=j[te],se=_[te],ge=O[te];u(s(ae,b._ptr[se],b._ptr[se+1],b._index),ae,se,ge,b._values,b._index,b._ptr)}return b},i.prototype.clone=function(){return new i({values:this._values?vp(this._values):void 0,index:vp(this._index),ptr:vp(this._ptr),size:vp(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(f,g){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,b=this._size[0],_=this._size[1],M=mE(f,y,"map");return function(F,O,j,z,W,J,G){var Q=[],te=[],ae=[],se=t,ge=0;_0(F._datatype)&&(se=e.find(t,[F._datatype,F._datatype])||t,ge=e.convert(0,F._datatype));for(var xe=function(Ee,Ze,xt){var wt=J(Ee,Ze,xt);se(wt,ge)||(Q.push(wt),te.push(Ze))},Pe=0;Pe<=W;Pe++){ae.push(Q.length);var Ce=F._ptr[Pe],Me=F._ptr[Pe+1];if(G)for(var Oe=Ce;Oe<Me;Oe++){var et=F._index[Oe];et>=0&&et<=j&&xe(F._values[Oe],et-0,Pe-0)}else{for(var $e={},Fe=Ce;Fe<Me;Fe++)$e[F._index[Fe]]=F._values[Fe];for(var Ne=0;Ne<=j;Ne++)xe(Ne in $e?$e[Ne]:0,Ne-0,Pe-0)}}return ae.push(Q.length),new i({values:Q,index:te,ptr:ae,size:[j-0+1,W-0+1]})}(this,0,b-1,0,_-1,function(F,O,j){return M(F,[O,j],y)},g)},i.prototype.forEach=function(f,g){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,b=this._size[0],_=this._size[1],M=mE(f,y,"forEach"),F=0;F<_;F++){var O=this._ptr[F],j=this._ptr[F+1];if(g)for(var z=O;z<j;z++){var W=this._index[z];M(this._values[z],[W,F],y)}else{for(var J={},G=O;G<j;G++)J[this._index[G]]=this._values[G];for(var Q=0;Q<b;Q++)M(Q in J?J[Q]:0,[Q,F],y)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var f=this._size[1],g=0;g<f;g++)for(var y=this._ptr[g],b=this._ptr[g+1],_=y;_<b;_++){var M=this._index[_];yield{value:this._values[_],index:[M,g]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(f){for(var g=this._size[0],y=this._size[1],b=this.density(),_="Sparse Matrix ["+Mg(g,f)+" x "+Mg(y,f)+"] density: "+Mg(b,f)+`
`,M=0;M<y;M++)for(var F=this._ptr[M],O=this._ptr[M+1],j=F;j<O;j++)_+=`
    (`+Mg(this._index[j],f)+", "+Mg(M,f)+") ==> "+(this._values?Mg(this._values[j],f):"X");return _},i.prototype.toString=function(){return Mg(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(f){if(f){if(Up(f)&&(f=f.toNumber()),!Jf(f)||!xp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var g=f>0?f:0,y=f<0?-f:0,b=this._size[0],_=this._size[1],M=Math.min(b-y,_-g),F=[],O=[],j=[];j[0]=0;for(var z=g;z<_&&F.length<M;z++)for(var W=this._ptr[z],J=this._ptr[z+1],G=W;G<J;G++){var Q=this._index[G];if(Q===z-g+y){F.push(this._values[G]),O[F.length-1]=Q-y;break}}return j.push(F.length),new i({values:F,index:O,ptr:j,size:[M,1]})},i.fromJSON=function(f){return new i(f)},i.diagonal=function(f,g,y,b,_){if(!Xh(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(Ce){if(Up(Ce)&&(Ce=Ce.toNumber()),!Jf(Ce)||!xp(Ce)||Ce<1)throw new Error("Size values must be positive integers");return Ce}),y){if(Up(y)&&(y=y.toNumber()),!Jf(y)||!xp(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var M=t,F=0;_0(_)&&(M=e.find(t,[_,_])||t,F=e.convert(0,_));var O,j=y>0?y:0,z=y<0?-y:0,W=f[0],J=f[1],G=Math.min(W-z,J-j);if(Xh(g)){if(g.length!==G)throw new Error("Invalid value array length");O=function(Ce){return g[Ce]}}else if(B0(g)){var Q=g.size();if(Q.length!==1||Q[0]!==G)throw new Error("Invalid matrix length");O=function(Ce){return g.get([Ce])}}else O=function(){return g};for(var te=[],ae=[],se=[],ge=0;ge<J;ge++){se.push(te.length);var xe=ge-j;if(xe>=0&&xe<G){var Pe=O(xe);M(Pe,F)||(ae.push(xe+z),te.push(Pe))}}return se.push(te.length),new i({values:te,index:ae,ptr:se,size:[W,J]})},i.prototype.swapRows=function(f,g){if(!(Jf(f)&&xp(f)&&Jf(g)&&xp(g)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Lh(f,this._size[0]),Lh(g,this._size[0]),i._swapRows(f,g,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(f,g,y,b,_){for(var M=b[f],F=b[f+1],O=M;O<F;O++)_(y[O],g[O])},i._swapRows=function(f,g,y,b,_,M){for(var F=0;F<y;F++){var O=M[F],j=M[F+1],z=s(f,O,j,_),W=s(g,O,j,_);if(z<j&&W<j&&_[z]===f&&_[W]===g){if(b){var J=b[z];b[z]=b[W],b[W]=J}}else if(z<j&&_[z]===f&&(W>=j||_[W]!==g)){var G=b?b[z]:void 0;_.splice(W,0,g),b&&b.splice(W,0,G),_.splice(W<=z?z+1:z,1),b&&b.splice(W<=z?z+1:z,1)}else if(W<j&&_[W]===g&&(z>=j||_[z]!==f)){var Q=b?b[W]:void 0;_.splice(z,0,f),b&&b.splice(z,0,Q),_.splice(z<=W?W+1:W,1),b&&b.splice(z<=W?W+1:W,1)}}},i},{isClass:!0}),q$="matrix",u0e=Of(q$,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:e,Matrix:t,DenseMatrix:r,SparseMatrix:i}=n;return e(q$,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,u){return o([],s,u)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(s,u,c){if(u==="dense"||u==="default"||u===void 0)return new r(s,c);if(u==="sparse")return new i(s,c);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),K$="unaryMinus",l0e=Of(K$,["typed"],n=>{var{typed:e}=n;return e(K$,{number:HK,"Complex | BigNumber | Fraction":t=>t.neg(),bigint:t=>-t,Unit:e.referToSelf(t=>r=>{var i=r.clone();return i.value=e.find(t,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(t=>r=>sN(r,t))})}),G$="addScalar",c0e=Of(G$,["typed"],n=>{var{typed:e}=n;return e(G$,{"number, number":UK,"Complex, Complex":function(t,r){return t.add(r)},"BigNumber, BigNumber":function(t,r){return t.plus(r)},"bigint, bigint":function(t,r){return t+r},"Fraction, Fraction":function(t,r){return t.add(r)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),Y$="subtractScalar",f0e=Of(Y$,["typed"],n=>{var{typed:e}=n;return e(Y$,{"number, number":WK,"Complex, Complex":function(t,r){return t.sub(r)},"BigNumber, BigNumber":function(t,r){return t.minus(r)},"bigint, bigint":function(t,r){return t-r},"Fraction, Fraction":function(t,r){return t.sub(r)},"Unit, Unit":e.referToSelf(t=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(t,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),h0e=Of("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,i,o,s){var u=r._values,c=r._index,p=r._ptr,f=r._size,g=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,b=f[0],_=f[1],M=o;typeof g=="string"&&(y=g,i=e.convert(i,y),M=e.find(o,[y,y]));for(var F=[],O=[],j=[],z=0;z<_;z++){for(var W=z+1,J=p[z],G=p[z+1],Q=J;Q<G;Q++){var te=c[Q];O[te]=u[Q],j[te]=W}for(var ae=0;ae<b;ae++)z===0&&(F[ae]=[]),j[ae]===W?F[ae][z]=s?M(i,O[ae]):M(O[ae],i):F[ae][z]=s?M(i,0):M(0,i)}return new t({data:F,size:[b,_],datatype:y})}}),p0e=Of("matAlgo14xDs",["typed"],n=>{var{typed:e}=n;return function(r,i,o,s){var u,c=r._data,p=r._size,f=r._datatype,g=o;typeof f=="string"&&(u=f,i=e.convert(i,u),g=e.find(o,[u,u]));var y=p.length>0?t(g,0,p,p[0],c,i,s):[];return r.createDenseMatrix({data:y,size:vp(p),datatype:u})};function t(r,i,o,s,u,c,p){var f=[];if(i===o.length-1)for(var g=0;g<s;g++)f[g]=p?r(c,u[g]):r(u[g],c);else for(var y=0;y<s;y++)f[y]=t(r,i+1,o,o[i+1],u[y],c,p);return f}}),g0e=Of("matAlgo03xDSf",["typed"],n=>{var{typed:e}=n;return function(t,r,i,o){var s=t._data,u=t._size,c=t._datatype||t.getDataType(),p=r._values,f=r._index,g=r._ptr,y=r._size,b=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(u.length!==y.length)throw new Qc(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,M=u[0],F=u[1],O=0,j=i;typeof c=="string"&&c===b&&c!=="mixed"&&(_=c,O=e.convert(0,_),j=e.find(i,[_,_]));for(var z=[],W=0;W<M;W++)z[W]=[];for(var J=[],G=[],Q=0;Q<F;Q++){for(var te=Q+1,ae=g[Q],se=g[Q+1],ge=ae;ge<se;ge++){var xe=f[ge];J[xe]=o?j(p[ge],s[xe][Q]):j(s[xe][Q],p[ge]),G[xe]=te}for(var Pe=0;Pe<M;Pe++)G[Pe]===te?z[Pe][Q]=J[Pe]:z[Pe][Q]=o?j(O,s[Pe][Q]):j(s[Pe][Q],O)}return t.createDenseMatrix({data:z,size:[M,F],datatype:c===t._datatype&&b===r._datatype?_:void 0})}}),m0e=Of("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,i,o){var s=r._values,u=r._index,c=r._ptr,p=r._size,f=r._datatype||r._data===void 0?r._datatype:r.getDataType(),g=i._values,y=i._index,b=i._ptr,_=i._size,M=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==_.length)throw new Qc(p.length,_.length);if(p[0]!==_[0]||p[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+_+")");var F,O=p[0],j=p[1],z=t,W=0,J=o;typeof f=="string"&&f===M&&f!=="mixed"&&(F=f,z=e.find(t,[F,F]),W=e.convert(0,F),J=e.find(o,[F,F]));var G,Q,te,ae,se=s&&g?[]:void 0,ge=[],xe=[],Pe=se?[]:void 0,Ce=se?[]:void 0,Me=[],Oe=[];for(Q=0;Q<j;Q++){xe[Q]=ge.length;var et=Q+1;for(te=c[Q],ae=c[Q+1];te<ae;te++)G=u[te],ge.push(G),Me[G]=et,Pe&&(Pe[G]=s[te]);for(te=b[Q],ae=b[Q+1];te<ae;te++)Me[G=y[te]]!==et&&ge.push(G),Oe[G]=et,Ce&&(Ce[G]=g[te]);if(se)for(te=xe[Q];te<ge.length;){var $e=Me[G=ge[te]],Fe=Oe[G];if($e===et||Fe===et){var Ne=J($e===et?Pe[G]:W,Fe===et?Ce[G]:W);z(Ne,W)?ge.splice(te,1):(se.push(Ne),te++)}}}return xe[j]=ge.length,r.createSparseMatrix({values:se,index:ge,ptr:xe,size:[O,j],datatype:f===r._datatype&&M===i._datatype?F:void 0})}}),d0e=Of("matAlgo13xDD",["typed"],n=>{var{typed:e}=n;return function(r,i,o){var s,u=r._data,c=r._size,p=r._datatype,f=i._data,g=i._size,y=i._datatype,b=[];if(c.length!==g.length)throw new Qc(c.length,g.length);for(var _=0;_<c.length;_++){if(c[_]!==g[_])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+g+")");b[_]=c[_]}var M=o;typeof p=="string"&&p===y&&(s=p,M=e.find(o,[s,s]));var F=b.length>0?t(M,0,b,b[0],u,f):[];return r.createDenseMatrix({data:F,size:b,datatype:s})};function t(r,i,o,s,u,c){var p=[];if(i===o.length-1)for(var f=0;f<s;f++)p[f]=r(u[f],c[f]);else for(var g=0;g<s;g++)p[g]=t(r,i+1,o,o[i+1],u[g],c[g]);return p}});function gp(n,e){if(Cv(n.size(),e.size()))return[n,e];var t=LK(n.size(),e.size());return[n,e].map(r=>function(i,o){return Cv(i.size(),o)?i:i.create(XT(i.valueOf(),o),i.datatype())}(r,t))}var VK=Of("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:e,matrix:t}=n,r=d0e({typed:e}),i=p0e({typed:e});return function(o){var s,u=o.elop,c=o.SD||o.DS;u?(s={"DenseMatrix, DenseMatrix":(g,y)=>r(...gp(g,y),u),"Array, Array":(g,y)=>r(...gp(t(g),t(y)),u).valueOf(),"Array, DenseMatrix":(g,y)=>r(...gp(t(g),y),u),"DenseMatrix, Array":(g,y)=>r(...gp(g,t(y)),u)},o.SS&&(s["SparseMatrix, SparseMatrix"]=(g,y)=>o.SS(...gp(g,y),u,!1)),o.DS&&(s["DenseMatrix, SparseMatrix"]=(g,y)=>o.DS(...gp(g,y),u,!1),s["Array, SparseMatrix"]=(g,y)=>o.DS(...gp(t(g),y),u,!1)),c&&(s["SparseMatrix, DenseMatrix"]=(g,y)=>c(...gp(y,g),u,!0),s["SparseMatrix, Array"]=(g,y)=>c(...gp(t(y),g),u,!0))):(s={"DenseMatrix, DenseMatrix":e.referToSelf(g=>(y,b)=>r(...gp(y,b),g)),"Array, Array":e.referToSelf(g=>(y,b)=>r(...gp(t(y),t(b)),g).valueOf()),"Array, DenseMatrix":e.referToSelf(g=>(y,b)=>r(...gp(t(y),b),g)),"DenseMatrix, Array":e.referToSelf(g=>(y,b)=>r(...gp(y,t(b)),g))},o.SS&&(s["SparseMatrix, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.SS(...gp(y,b),g,!1))),o.DS&&(s["DenseMatrix, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.DS(...gp(y,b),g,!1)),s["Array, SparseMatrix"]=e.referToSelf(g=>(y,b)=>o.DS(...gp(t(y),b),g,!1))),c&&(s["SparseMatrix, DenseMatrix"]=e.referToSelf(g=>(y,b)=>c(...gp(b,y),g,!0)),s["SparseMatrix, Array"]=e.referToSelf(g=>(y,b)=>c(...gp(t(b),y),g,!0))));var p=o.scalar||"any";(o.Ds||o.Ss)&&(u?(s["DenseMatrix,"+p]=(g,y)=>i(g,y,u,!1),s[p+", DenseMatrix"]=(g,y)=>i(y,g,u,!0),s["Array,"+p]=(g,y)=>i(t(g),y,u,!1).valueOf(),s[p+", Array"]=(g,y)=>i(t(y),g,u,!0).valueOf()):(s["DenseMatrix,"+p]=e.referToSelf(g=>(y,b)=>i(y,b,g,!1)),s[p+", DenseMatrix"]=e.referToSelf(g=>(y,b)=>i(b,y,g,!0)),s["Array,"+p]=e.referToSelf(g=>(y,b)=>i(t(y),b,g,!1).valueOf()),s[p+", Array"]=e.referToSelf(g=>(y,b)=>i(t(b),y,g,!0).valueOf())));var f=o.sS!==void 0?o.sS:o.Ss;return u?(o.Ss&&(s["SparseMatrix,"+p]=(g,y)=>o.Ss(g,y,u,!1)),f&&(s[p+", SparseMatrix"]=(g,y)=>f(y,g,u,!0))):(o.Ss&&(s["SparseMatrix,"+p]=e.referToSelf(g=>(y,b)=>o.Ss(y,b,g,!1))),f&&(s[p+", SparseMatrix"]=e.referToSelf(g=>(y,b)=>f(b,y,g,!0)))),u&&u.signatures&&function(g,y){for(var b in y)_x(y,b)&&(g[b]=y[b])}(s,u.signatures),s}}),qK=Of("matAlgo01xDSid",["typed"],n=>{var{typed:e}=n;return function(t,r,i,o){var s=t._data,u=t._size,c=t._datatype||t.getDataType(),p=r._values,f=r._index,g=r._ptr,y=r._size,b=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(u.length!==y.length)throw new Qc(u.length,y.length);if(u[0]!==y[0]||u[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+y+")");if(!p)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,M,F=u[0],O=u[1],j=typeof c=="string"&&c!=="mixed"&&c===b?c:void 0,z=j?e.find(i,[j,j]):i,W=[];for(_=0;_<F;_++)W[_]=[];var J=[],G=[];for(M=0;M<O;M++){for(var Q=M+1,te=g[M],ae=g[M+1],se=te;se<ae;se++)J[_=f[se]]=o?z(p[se],s[_][M]):z(s[_][M],p[se]),G[_]=Q;for(_=0;_<F;_++)G[_]===Q?W[_][M]=J[_]:W[_][M]=s[_][M]}return t.createDenseMatrix({data:W,size:[F,O],datatype:c===t._datatype&&b===r._datatype?j:void 0})}}),v0e=Of("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:e,equalScalar:t}=n;return function(r,i,o){var s=r._values,u=r._index,c=r._ptr,p=r._size,f=r._datatype||r._data===void 0?r._datatype:r.getDataType(),g=i._values,y=i._index,b=i._ptr,_=i._size,M=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(p.length!==_.length)throw new Qc(p.length,_.length);if(p[0]!==_[0]||p[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+p+") must match Matrix B ("+_+")");var F,O=p[0],j=p[1],z=t,W=0,J=o;typeof f=="string"&&f===M&&f!=="mixed"&&(F=f,z=e.find(t,[F,F]),W=e.convert(0,F),J=e.find(o,[F,F]));var G,Q,te,ae,se,ge=s&&g?[]:void 0,xe=[],Pe=[],Ce=s&&g?[]:void 0,Me=s&&g?[]:void 0,Oe=[],et=[];for(Q=0;Q<j;Q++){Pe[Q]=xe.length;var $e=Q+1;for(ae=c[Q],se=c[Q+1],te=ae;te<se;te++)G=u[te],xe.push(G),Oe[G]=$e,Ce&&(Ce[G]=s[te]);for(ae=b[Q],se=b[Q+1],te=ae;te<se;te++)if(Oe[G=y[te]]===$e){if(Ce){var Fe=J(Ce[G],g[te]);z(Fe,W)?Oe[G]=null:Ce[G]=Fe}}else xe.push(G),et[G]=$e,Me&&(Me[G]=g[te]);if(Ce&&Me)for(te=Pe[Q];te<xe.length;)Oe[G=xe[te]]===$e?(ge[te]=Ce[G],te++):et[G]===$e?(ge[te]=Me[G],te++):xe.splice(te,1)}return Pe[j]=xe.length,r.createSparseMatrix({values:ge,index:xe,ptr:Pe,size:[O,j],datatype:f===r._datatype&&M===i._datatype?F:void 0})}}),KK=Of("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:e,DenseMatrix:t}=n;return function(r,i,o,s){var u=r._values,c=r._index,p=r._ptr,f=r._size,g=r._datatype;if(!u)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,b=f[0],_=f[1],M=o;typeof g=="string"&&(y=g,i=e.convert(i,y),M=e.find(o,[y,y]));for(var F=[],O=[],j=[],z=0;z<_;z++){for(var W=z+1,J=p[z],G=p[z+1],Q=J;Q<G;Q++){var te=c[Q];O[te]=u[Q],j[te]=W}for(var ae=0;ae<b;ae++)z===0&&(F[ae]=[]),j[ae]===W?F[ae][z]=s?M(i,O[ae]):M(O[ae],i):F[ae][z]=i}return new t({data:F,size:[b,_],datatype:y})}}),J$="subtract",y0e=Of(J$,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:e,matrix:t,equalScalar:r,subtractScalar:i,unaryMinus:o,DenseMatrix:s,concat:u}=n,c=qK({typed:e}),p=g0e({typed:e}),f=m0e({typed:e,equalScalar:r}),g=KK({typed:e,DenseMatrix:s}),y=h0e({typed:e,DenseMatrix:s}),b=VK({typed:e,matrix:t,concat:u});return e(J$,{"any, any":i},b({elop:i,SS:f,DS:c,SD:p,Ss:y,sS:g}))}),X$="concat",w0e=Of(X$,["typed","matrix","isInteger"],n=>{var{typed:e,matrix:t,isInteger:r}=n;return e(X$,{"...Array | Matrix | number | BigNumber":function(i){var o,s,u=i.length,c=-1,p=!1,f=[];for(o=0;o<u;o++){var g=i[o];if(B0(g)&&(p=!0),Jf(g)||Up(g)){if(o!==u-1)throw new Error("Dimension must be specified as last argument");if(s=c,c=g.valueOf(),!r(c))throw new TypeError("Integer number expected for dimension");if(c<0||o>0&&c>s)throw new Qv(c,s+1)}else{var y=vp(g).valueOf(),b=e0(y);if(f[o]=y,s=c,c=b.length-1,o>0&&c!==s)throw new Qc(s+1,c+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var _=f.shift();f.length;)_=jK(_,f.shift(),c);return p?t(_):_},"...string":function(i){return i.join("")}})}),b0e=Of("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:e,matrix:t,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:s,concat:u}=n,c=qK({typed:e}),p=v0e({typed:e,equalScalar:i}),f=KK({typed:e,DenseMatrix:o}),g=VK({typed:e,matrix:t,concat:u});return e("add",{"any, any":r,"any, any, ...any":e.referToSelf(y=>(b,_,M)=>{for(var F=y(b,_),O=0;O<M.length;O++)F=y(F,M[O]);return F})},g({elop:r,DS:c,SS:p,Ss:f}))}),x0e=Xme({config:rN}),D0e=Zme({}),C0e=t0e({}),uN=n0e({}),iA=r0e({Matrix:uN}),J0=sme({BigNumber:x0e,Complex:D0e,DenseMatrix:iA,Fraction:C0e}),S0e=c0e({typed:J0}),lN=a0e({config:rN,typed:J0}),_0e=i0e({typed:J0}),GK=s0e({Matrix:uN,equalScalar:lN,typed:J0}),E0e=f0e({typed:J0}),A0e=l0e({typed:J0}),cN=u0e({DenseMatrix:iA,Matrix:uN,SparseMatrix:GK,typed:J0}),YK=w0e({isInteger:_0e,matrix:cN,typed:J0}),JK=y0e({DenseMatrix:iA,concat:YK,equalScalar:lN,matrix:cN,subtractScalar:E0e,typed:J0,unaryMinus:A0e}),Hy=b0e({DenseMatrix:iA,SparseMatrix:GK,addScalar:S0e,concat:YK,equalScalar:lN,matrix:cN,typed:J0}),k0e=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return vh(e,n),Object.defineProperty(e.prototype,"displayDimensions",{get:function(){var t,r;return[((t=this._root)===null||t===void 0?void 0:t.canvas.width)||0,((r=this._root)===null||r===void 0?void 0:r.canvas.height)||0]},enumerable:!1,configurable:!0}),e.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(e.prototype,"canvasDimensions",{get:function(){return this.context.workingCanvasDimensions},enumerable:!1,configurable:!0}),e.prototype.translate=function(t,r){var i=this.canvasDimensions,o=i[0],s=i[1],u=Nm([],t.o),c=t.w,p=t.h,f=[u=Hy(u,r),Hy(u,[c,0]),Hy(u,[0,p]),Hy(u,[c,p])],g=Math.min.apply(Math,f.map(function(F){return F[0]})),y=Math.max.apply(Math,f.map(function(F){return F[0]})),b=Math.min.apply(Math,f.map(function(F){return F[1]})),_=Math.max.apply(Math,f.map(function(F){return F[1]})),M=[0,0];return g<0?M[0]=-g:y>o&&(M[0]=o-y),b<0?M[1]=-b:_>s&&(M[1]=s-_),Nm([],u),u=Hy(u,M),new Kf(u,c,p)},e.prototype.withinBounds=function(t,r,i,o){return o===void 0&&(o=1e-10),t>=r-o&&t<=i+o},e.prototype.updateDimensions=function(t,r,i){this.setState(Nu(Nu({},this.state),{cameraBox:new Kf(t,r,i)})),this.checkBounds()},e.prototype.checkBounds=function(){var t,r,i,o=this.canvasDimensions,s=o[0],u=o[1];t=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,t[0]=Math.max(Math.min(t[0],s),0),t[1]=Math.max(Math.min(t[1],u),0),r=Math.max(Math.min(r,s-t[0]),0),i=Math.max(Math.min(i,u-t[1]),0),this.setState(Nu(Nu({},this.state),{cameraBox:new Kf(t,r,i)}))},e.prototype.onGlobalWindowChange=function(){},e.prototype.scale=function(t,r,i){var o,s,u,c=this.canvasDimensions,p=c[0],f=c[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");o=t.o;var g=p/(s=t.w),y=f/(u=t.h),b=Math.min(g,y),_=s*(r=[Math.min(r[0],b),Math.min(r[1],b)])[0],M=u*r[1],F=[i[0]-o[0],i[1]-o[1]],O=F[0],j=F[1],z=this.canvasUnit,W=z[0],J=z[1],G=[O*W,j*J],Q=G[0],te=G[1],ae=[O*r[0],j*r[1]],se=[ae[0]*W,ae[1]*J],ge=[Q-se[0],te-se[1]],xe=ge[0],Pe=ge[1],Ce=this.absoluteUnit,Me=[xe*Ce[0],Pe*Ce[1]],Oe=[o[0]+O*r[0],o[1]+j*r[1]];return JK(i,Oe),console.log(O,j),s=_,u=M,this.translate(new Kf(o,s,u),Me)},e.prototype.getCenter=function(){return Hy(this.o,[this.w/2,this.h/2])},e.prototype.getBox=function(){return this.state.cameraBox},e}(fd),M0e=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isInteractiveCamera=!0,t.layer=-100,t.scaleAnchor=[0,0],t}return vh(e,n),e.prototype.windowDidMount=function(){var t=this;n.prototype.windowDidMount.call(this);var r=this.displayDimensions,i=r[0],o=r[1],s=this.canvasDimensions,u=s[0],c=s[1],p=new Kf([u/2-i/2,c/2-o/2],i,o);console.log(p);var f=this.translate(p,[0,0]);this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:f}),this.props.subscribeToCanvasResize(function(){var g=t.state.cameraBox.clone().o,y=t.state.cameraBox.w,b=t.state.cameraBox.h,_=t.displayDimensions,M=b*(_[0]/_[1]),F=M-y,O=t.translate(new Kf(g,M,b),[-F/2,0]);t.setState({cameraBox:O})})},e.prototype.windowDidUpdate=function(t){},e.prototype.onMouseDown=function(t,r){if(r.button===1){var i=t.terminateEvent,o=t.canvasPos;this.setState(Nu(Nu({},this.state),{lastMousePosition:o,isPanning:!0})),i()}},e.prototype.onMouseMove=function(t,r){var i=t.terminateEvent,o=t.canvasPos,s=t.absolutePos,u=t.canvasUnit,c=u[0],p=u[1],f=Nu({},this.state);if(this.scaleAnchor=s,this.state.isPanning){i();var g=JK(o,this.state.lastMousePosition),y=g[0],b=g[1],_=this.translate(this.state.cameraBox.clone(),[-y*c,-b*p]);f=Nu(Nu({},f),{lastMousePosition:o,cameraBox:_}),this.setState(f)}},e.prototype.onMouseUp=function(t,r){this.setState(Nu(Nu({},this.state),{isPanning:!1}))},e.prototype.onWheel=function(t,r){var i=t.terminateEvent,o=t.canvasToAbsoluteMeasure,s=r.deltaX,u=r.deltaY,c=r.ctrlKey,p=r.altKey;if(c){var f;if(f=s!==0?1+.01*s:1-.01*u,!p){if(this.w*f<50)return;var g=this.scale(this.state.cameraBox.clone(),[Math.max(.1,f),Math.max(.1,f)],this.scaleAnchor);this.setState(Nu(Nu({},this.state),{cameraBox:g}))}}else{var y=o([s,u]),b=y[0],_=y[1];g=this.translate(this.state.cameraBox.clone(),[b,_]),this.setState(Nu(Nu({},this.state),{cameraBox:g}))}i()},e.prototype.render=function(t){},e}(k0e),F0e=[1e4,1e4],P0e=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=100,t}return vh(e,n),e.prototype.getBox=function(){var t=this.context.workingCanvasDimensions,r=t[0],i=t[1];return new Kf([r/2,i/2],0,0)},e.prototype.getChildren=function(){return this.props.objects},e.prototype.render=function(t){if(this.context.mode!=="view"){var r=t.ctx,i=t.absoluteO,o=i[0],s=i[1],u=[[o,s+13],[o,s-13],[o+13,s],[o-13,s]];r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(u[0][0],u[0][1]),r.lineTo(u[1][0],u[1][1]),r.moveTo(u[2][0],u[2][1]),r.lineTo(u[3][0],u[3][1]),r.stroke()}},e}(fd);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.windowDidMount=function(t){var r=this,i=this.props.controller;this.setContext("controller",i),this.setContext("project",i.getProject()),this.setContext("projectTools",i.projectTools),i.subscribeToProjectUpdates(function(){var o=i.getProject();r.setContext("project",o)}),this.setContext("workingCanvasDimensions",F0e),this.props.modeManager.subscribeToModeUpdates(function(o){r.setContext("mode",o)}),this.setContext("setMode",function(o){r.props.modeManager.setMode(o)})},e.prototype.getChildren=function(t){var r=[];r.push(M0e.Node({subscribeToCanvasResize:this.props.subscribeToCanvasResize}));var i={mode:this.props.mode};return r.push(P0e.Node({objects:this.props.getObjects(i)})),r}})(fd);var AC=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},T0e=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return vh(e,n),e.prototype.getBox=function(){return new Kf([0,0],this.parentW,this.parentH)},e.prototype.render=function(t){this.strokeOutline(t,"green")},e}(fd),Hm=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return vh(e,n),e.prototype.evaluateSignal=function(t,r){var i=this.context.controller.interpolateSignalValueAtTime(t,r),o=i[0],s=i[1];return s.length>0&&console.error(s),o},Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this.context.project.timelineData.playheadPosition||0},enumerable:!1,configurable:!0}),e.prototype.getChildren=function(){return this.context.mode==="edit"||this.context.mode==="record"?[T0e.Node()]:[]},e.prototype.useSignal=function(t,r,i,o){return this.context.project.orgData.signalIds.findIndex(function(s){return s===t})===-1&&(r==="continuous"&&(this.context.projectTools.createSignal(t,r,t,i),this.context.projectTools.addPinContinuous(t,AC(),this.context.project.timelineData.numberOfFrames,i[1],"return easyLinear();",!0)),r==="discrete"&&(this.context.projectTools.createSignal(t,r,t),this.context.projectTools.addPinDiscrete(t,AC(),this.context.project.timelineData.numberOfFrames,"default",!0))),this.evaluateSignal(t,o||this.currentFrame)},e.prototype.setSignalValue=function(t,r,i,o,s){r==="continuous"&&this.context.projectTools.addPinContinuous(t,AC(),o,i,"return easyLinear();",s),r==="discrete"&&this.context.projectTools.addPinDiscrete(t,AC(),o,i,s)},e.prototype.setDiscreteSignalValue=function(t,r,i,o){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(s){return s===t})===-1&&this.context.projectTools.createSignal(t,"discrete",t),o=o||this.currentFrame,this.setSignalValue(t,"discrete",r,o,i)},e.prototype.setContinuousSignalValue=function(t,r,i,o,s){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(u){return u===t})===-1&&this.context.projectTools.createSignal(t,"continuous",t,o),s=s||this.currentFrame,this.setSignalValue(t,"continuous",r,s,i)},e.prototype.useContinuousSignal=function(t,r,i){return this.useSignal(t,"continuous",r,i)},e.prototype.useDiscreteSignal=function(t,r){return this.useSignal(t,"discrete",void 0,r)},e.prototype.render=function(t){this.context.mode==="edit"||this.context.mode;var r=Nu(Nu({},t),{useContinuousSignal:this.useContinuousSignal.bind(this),useDiscreteSignal:this.useDiscreteSignal.bind(this)});this.draw(r)},e.prototype.draw=function(t){},e}(fd);function Tv(n,e,t){return Math.min(Math.max(n,e),t)}var QT=function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.layer=1e3,t}return vh(e,n),e.prototype.getBox=function(){var t=this.canvasUnit,r=t[0],i=t[1];return new Kf(this.props.o,25*r,25*i)},e.prototype.render=function(t){var r=this.context.mode,i=this.absoluteUnit,o=i[0],s=i[1],u=t.absoluteO,c=u[0],p=u[1],f=[c+this.w/2*o,p+this.h/2*s],g=f[0],y=f[1];t.ctx.globalAlpha=this.props.alpha?this.props.alpha:1,t.ctx.beginPath(),t.ctx.ellipse(g,y,this.w/2*o,this.h/2*s,0,0,2*Math.PI),this.props.color?t.ctx.strokeStyle=this.props.color:t.ctx.strokeStyle=r==="edit"?"green":this.props.dragging?"red":"pink",t.ctx.lineWidth=2,t.ctx.stroke(),t.ctx.beginPath(),t.ctx.moveTo(g-this.w/2*o,y),t.ctx.lineTo(g+this.w/2*o,y),t.ctx.moveTo(g,y-this.h/2*s),t.ctx.lineTo(g,y+this.h/2*s),t.ctx.stroke(),t.ctx.globalAlpha=1},e}(Hm),I0e=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return vh(e,n),e.prototype.windowDidMount=function(t){this.setState({dragging:!1})},e.prototype.getChildren=function(t){return[QT.Node({o:[0,0],dragging:this.state.dragging,anchor:this.props.anchor})]},e.prototype.getBox=function(t){var r=this.canvasUnit,i=r[0],o=r[1];return new Kf([-12.5*i,-12.5*o],25*i,25*o)},e.prototype.onMouseDown=function(t,r){t.pointInside&&this.context.mode==="record"&&this.setState({dragging:!0})},e.prototype.chooseSetSignalValueFunction=function(t,r,i){var o=this.props.topProps.type,s=r.angle,u=r.magnitude,c=r.vector,p=r.range,f=r.rangeX,g=r.rangeY;switch(s=s&&Number(s.toFixed(2)),u=u&&Number(u.toFixed(2)),c=c&&c.map(function(j){return Number(j.toFixed(2))}),this.props.topProps.degreesOfFreedom){case"1-angular":if(o==="discrete")this.setDiscreteSignalValue(t,JSON.stringify({angle:s}),i);else{var y=p[0],b=p[1];this.setContinuousSignalValue(t,Tv(s,y,b),i,p)}break;case"1-normal":o==="discrete"?this.setDiscreteSignalValue(t,JSON.stringify({magnitude:u}),i):(y=p[0],b=p[1],this.setContinuousSignalValue(t,Tv(u,y,b),i,p));break;case"2-cartesian":if(o==="discrete")this.setDiscreteSignalValue(t,JSON.stringify({vector:c}),i);else{var _=f[0],M=f[1],F=g[0],O=g[1];this.setContinuousSignalValue(t+"_x",Tv(c[0],_,M),i,f),this.setContinuousSignalValue(t+"_y",Tv(c[1],F,O),i,g)}}},e.prototype.moveHandle=function(t,r){var i;this.context.projectTools.returnToLastCommit();var o={};switch(this.props.topProps.degreesOfFreedom){case"1-angular":var s=this.props.anchor,u=s[0],c=s[1],p=t.absolutePos,f=p[0]-u,g=p[1]-c;o={angle:Math.atan2(g,f),range:[-Math.PI,Math.PI]};break;case"1-normal":var y=av(t.absolutePos,this.props.anchor);if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var b=this.props.topProps.initialDirection,_=function(J,G){return J[0]*G[0]+J[1]*G[1]}(y,sv(b,1/Sx(b))),M=sv(b,_);if(!(z=this.props.topProps.range))throw new Error("Range not defined for 1-normal handle");o={magnitude:Tv(Math.sign(_)*Sx(M),z[0],z[1]),range:z};break;case"2-cartesian":var F=av(t.absolutePos,this.props.anchor),O=(f=F[0],g=F[1],this.props.topProps.rangeX),j=this.props.topProps.rangeY;if(!O||!j){var z;if(!(z=this.props.topProps.range))throw new Error("Range not defined for 2-cartesian handle");O=z,j=z}o={vector:[f=(i=[Tv(f,O[0],O[1]),Tv(g,j[0],j[1])])[0],g=i[1]],rangeX:O,rangeY:j}}this.chooseSetSignalValueFunction(this.props.topProps.id,o,r),this.context.projectTools.pushUpdate()},e.prototype.onMouseMove=function(t,r){this.state.dragging&&this.moveHandle(t,!1)},e.prototype.onMouseUp=function(t,r){this.state.dragging&&(this.moveHandle(t,!0),this.setState({dragging:!1}))},e.prototype.render=function(t){},e}(Hm),O0e=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return vh(e,n),e.prototype.getChildren=function(t){var r=this.getOnionSkinCrosshairPositions(),i=r[0],o=r[1],s=this.canvasUnit,u=[12.5*s[0],12.5*s[1]];return[QT.Node({o:av(i,u),alpha:.5,color:"#d0e681",anchor:this.props.anchor}),QT.Node({o:av(o,u),alpha:.5,color:"#77d4cd",anchor:this.props.anchor})]},e.prototype.getPreviousNextPinValues=function(){var t,r,i=this,o=this.props.topProps.id,s=Object.entries(this.context.project.signalData[o].pinTimes).sort(function(b,_){return b[1]-_[1]}),u=(t=s.find(function(b){return b[0],b[1]>=i.context.project.timelineData.playheadPosition}))===null||t===void 0?void 0:t[0],c=s.findIndex(function(b){var _=b[0];return b[1],_===u});try{r=JSON.parse(this.useDiscreteSignal(o,this.context.project.timelineData.playheadPosition))}catch{r={angle:0,magnitude:0,vector:[0,0]}}var p=c>0,f=c<s.length-1,g=r,y=r;if(p)try{g=JSON.parse(this.context.project.signalData[o].pinValues[s[c-1][0]])}catch{}if(f)try{y=JSON.parse(this.context.project.signalData[o].pinValues[s[c+1][0]])}catch{}return[g,y]},e.prototype.getOnionSkinCrosshairPositions=function(){var t,r,i=this.getPreviousNextPinValues(),o=i[0],s=i[1],u=o.magnitude,c=o.angle,p=o.vector,f=s.magnitude,g=s.angle,y=s.vector;switch(this.props.topProps.degreesOfFreedom){case"1-angular":if(!this.props.topProps.initialLength)throw new Error("Initial length not defined for 1-angular handle");var b=this.props.initialLength;t=[b*Math.cos(c),b*Math.sin(c)],r=[b*Math.cos(g),b*Math.sin(g)];break;case"1-normal":if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var _=sv(this.props.topProps.initialDirection,1/Sx(this.props.topProps.initialDirection)),M=_[0],F=_[1];t=sv([M,F],u),r=sv([M,F],f);break;case"2-cartesian":t=p,r=y;break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}var O=av(this.parentO,this.props.anchor);return[t=Xv(t,O),r=Xv(r,O)]},e}(Hm),N0e=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return vh(e,n),e.prototype.getChildren=function(t){var r=this.props.children?Nm([],this.props.children):[],i={id:this.props.id,topProps:this.props,anchor:this.parentO},o=I0e.Node(i);return r.push(o),r},e.prototype.retrieveSignalValue=function(t){if(this.props.type==="discrete"){var r=this.useDiscreteSignal(t,this.context.project.timelineData.playheadPosition),i={angle:0,magnitude:0,vector:[0,0]};try{i=JSON.parse(r)}catch{}switch(this.props.degreesOfFreedom){case"1-angular":return i.angle;case"1-normal":return i.magnitude;case"2-cartesian":return i.vector;default:throw new Error("Degrees of freedom not defined for VectorHandle")}}else switch(this.props.degreesOfFreedom){case"1-angular":return this.useContinuousSignal(t,[-Math.PI,Math.PI]);case"1-normal":return this.useContinuousSignal(t,this.props.range);case"2-cartesian":var o=this.props.rangeX,s=this.props.rangeY;if(!o||!s){var u=this.props.range;if(!u)throw new Error("Range not defined for 2-cartesian handle");o=u,s=u}return[this.useContinuousSignal(t+"_x",o),this.useContinuousSignal(t+"_y",s)];default:throw new Error("Degrees of freedom not defined for VectorHandle")}},e.prototype.getBox=function(){var t,r,i,o,s;switch(this.props.degreesOfFreedom){case"1-angular":var u=this.retrieveSignalValue(this.props.id);if(!this.props.initialLength)throw new Error("Initial length not defined for 1-angular handle");var c=this.props.initialLength;o=(t=[c*Math.cos(u),c*Math.sin(u)])[0],s=t[1];break;case"1-normal":var p=this.retrieveSignalValue(this.props.id);if(!this.props.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var f=sv(this.props.initialDirection,1/Sx(this.props.initialDirection));o=(r=[f[0]*p,f[1]*p])[0],s=r[1];break;case"2-cartesian":o=(i=this.retrieveSignalValue(this.props.id))[0],s=i[1];break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}return new Kf([o,s],0,0)},e.prototype.render=function(t){var r=this.context.mode;if(r==="edit"||r==="record"){var i=t.absoluteO,o=i[0],s=i[1],u=this.absoluteUnit,c=u[0],p=u[1],f=[o+this.w/2*c,s+this.h/2*p],g=f[0],y=f[1];if(this.props.displayLine){t.ctx.beginPath(),t.ctx.strokeStyle="green",t.ctx.lineWidth=2,t.ctx.setLineDash([3,1]);var b=t.localToCanvas(sv(this.o,-1)),_=b[0],M=b[1];t.ctx.moveTo(_,M),t.ctx.lineTo(g,y),t.ctx.stroke()}if(this.props.displayCircle){t.ctx.beginPath(),t.ctx.strokeStyle="green",t.ctx.lineWidth=2,t.ctx.setLineDash([3,1]);var F=Sx(this.o),O=t.localToCanvas(sv(this.o,-1));_=O[0],M=O[1],t.ctx.ellipse(_,M,F*c,F*p,0,0,2*Math.PI),t.ctx.stroke()}t.ctx.setLineDash([]),t.ctx.font="20px Arial",t.ctx.fillStyle=r==="edit"?"green":"pink",t.ctx.fillText(this.props.id,g,y-17)}},e}(Hm),vM=function(n){function e(){return n!==null&&n.apply(this,arguments)||this}return vh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(N0e.Node(this.props)),this.props.onionSkin&&r.push(O0e.Node({id:this.props.id,topProps:this.props,anchor:this.parentO})),r},e}(Hm);(function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(vM.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"2-cartesian",rangeX:t.rangeX,rangeY:t.rangeY,range:t.range,children:t.children,displayLine:t.displayLine,onionSkin:t.onionSkin})),r}})(fd),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(vM.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"1-angular",children:t.children,initialLength:t.initialLength,displayCircle:t.displayCircle,onionSkin:t.onionSkin})),r}}(fd),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.getChildren=function(t){var r=[];return r.push(vM.Node({id:t.id,type:t.discrete?"discrete":"continuous",degreesOfFreedom:"1-normal",initialDirection:t.initialDirection,range:t.range,children:t.children,displayLine:t.displayLine,onionSkin:t.onionSkin})),r}}(fd),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.getChildren=function(){var t=this,r={continuous:this.useContinuousSignal.bind(this),discrete:this.useDiscreteSignal.bind(this),frame:function(){return t.currentFrame},project:function(){return t.context.project},setDiscreteSignal:function(i,o,s){return t.setDiscreteSignalValue(i,o,!0,s)},setContinuousSignal:function(i,o,s,u){return t.setContinuousSignalValue(i,o,!0,u,s)}};return this.props.getChildren(r)}}(Hm),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){return new Kf([this.props.x,this.props.y],this.props.w,this.props.h)},e.prototype.draw=function(t){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){t.ctx.save();var i=t.absoluteO,o=i[0],s=i[1];t.ctx.translate(o,s);var u=t.ctx;this.absoluteToCanvasMeasure;var c=this.absoluteUnit,p=c[0],f=c[1],g={moveTo:function(b,_){u.moveTo(b*p,_*f)},lineTo:function(b,_){u.lineTo(b*p,_*f)},arc:function(b,_,M,F,O,j){u.arc(b*p,_*f,M*p,F,O,j)},fillRect:function(b,_,M,F){u.fillRect(b*p,_*f,M*p,F*f)},strokeRect:function(b,_,M,F){u.strokeRect(b*p,_*f,M*p,F*f)},fillText:function(b,_,M){u.fillText(b,_*p,M*f)},strokeText:function(b,_,M){u.strokeText(b,_*p,M*f)},arcTo:function(b,_,M,F,O){u.arcTo(b*p,_*f,M*p,F*f,O*p)},bezierCurveTo:function(b,_,M,F,O,j){u.bezierCurveTo(b*p,_*f,M*p,F*f,O*p,j*f)},quadraticCurveTo:function(b,_,M,F){u.quadraticCurveTo(b*p,_*f,M*p,F*f)},rect:function(b,_,M,F){u.rect(b*p,_*f,M*p,F*f)},clearRect:function(b,_,M,F){u.clearRect(b*p,_*f,M*p,F*f)},translate:function(b,_){u.translate(b*p,_*f)},transform:function(b,_,M,F,O,j){u.transform(b,_,M,F,O*p,j*f)},setTransform:function(b,_,M,F,O,j){u.setTransform(b,_,M,F,O*p,j*f)},createRadialGradient:function(b,_,M,F,O,j){return u.createRadialGradient(b*p,_*f,M*p,F*p,O*f,j*p)}},y=new Proxy(t.ctx,{get:function(b,_){if(_ in g)return g[_];var M=Reflect.get(b,_);return typeof M=="function"?M.bind(b):M},set:function(b,_,M){return Reflect.set(b,_,M)}});y.beginPath(),y.rect(0,0,this.props.w,this.props.h),y.clip(),this.props.draw(y),t.ctx.restore()}}}(Hm),function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.globalPositioning=!0,t}vh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){var t=this.context.workingCanvasDimensions[0],r=this.context.workingCanvasDimensions[1];return new Kf([0,0],t,r)},e.prototype.draw=function(t){var r=this.context.mode;this.props.modes&&!this.props.modes.includes(r)||this.props.draw(t.ctx)}}(Hm),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.getBox=function(){return new Kf([this.props.x,this.props.y],this.props.w,this.props.h)},e.prototype.getChildren=function(){return this.props.children}}(Hm),function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t._img=null,t}vh(e,n),e.prototype.windowDidMount=function(t){n.prototype.windowDidMount.call(this,t),this.props.layer!==void 0&&this.setLayer(this.props.layer)},e.prototype.getBox=function(){return new Kf([this.props.x,this.props.y],this.props.w,this.props.h)},Object.defineProperty(e.prototype,"img",{get:function(){var t=this;if(!this._img){var r=new Image;return r.src=this.props.src,r.onload=function(){t._img=r},r}return this._img},enumerable:!1,configurable:!0}),e.prototype.draw=function(t){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){t.ctx.save();var i=t.absoluteO,o=i[0],s=i[1],u=this.absoluteUnit,c=u[0],p=u[1];t.ctx.translate(o,s),t.ctx.drawImage(this.img,0,0,this.props.w*c,this.props.h*p),t.ctx.restore()}}}(Hm),function(n){function e(){return n!==null&&n.apply(this,arguments)||this}vh(e,n),e.prototype.windowDidMount=function(t){this.props.onMount()}}(fd),function(n){function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isSceneCamera=!0,t}vh(e,n),e.prototype.getChildren=function(){return this.props.children},e.prototype.getBox=function(){return new Kf([this.props.x||0,this.props.y||0],this.props.w||500,this.props.h||500)},e.prototype.render=function(t){this.strokeOutline(t,"white")}}(Hm),Cge.PinsAndCurvesProjectController,uge.defaultProject;function B0e(){const n=tI(),[e,t]=qi.useState("http://localhost:3000");return ft.jsx("div",{style:{backgroundColor:"var(--gray1)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:ft.jsxs("div",{style:{backgroundColor:"var(--gray2)",borderRadius:"var(--borderRadiusSmall)",padding:"45px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"600px",fontSize:"16px"},children:[ft.jsx("img",{src:"/media/LOGOTEXT.svg",alt:"Pins and Curves",style:{width:"100%",marginBottom:"20px"}}),ft.jsx("br",{}),ft.jsx("div",{style:{color:"var(--gray6)"},children:" Welcome to Pins and Curves. Enter your server url to launch the editor."}),ft.jsx("br",{}),ft.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"10px",color:"var(--gray6)"},children:["Server url:",ft.jsx(dle,{initialValue:e,isValid:r=>{const i=r.trim();return!!/^(https?:\/\/)/.test(i)},onCommit:t}),ft.jsx(yle,{text:"launch editor",iconName:"rocket_launch",onClick:()=>{const r=encodeURIComponent(e);n(`run/${r}`)}})]})]})})}function R0e(){return ft.jsx(CY,{children:ft.jsxs(ZG,{children:[ft.jsx(wM,{path:"/",element:ft.jsx(B0e,{})}),ft.jsx(wM,{path:"run/:serverUrl",element:ft.jsx(Rse,{})})]})})}uG.createRoot(document.getElementById("root")).render(ft.jsx(at.StrictMode,{children:ft.jsx(R0e,{})}));
