function CG(n,t){for(var e=0;e<t.length;e++){const r=t[e];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=e(i);fetch(i.href,a)}})();function _G(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var iA={exports:{}},wb={},oA={exports:{}},Tu={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZN;function SG(){if(ZN)return Tu;ZN=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;function y(vt){return vt===null||typeof vt!="object"?null:(vt=m&&vt[m]||vt["@@iterator"],typeof vt=="function"?vt:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function M(vt,Lt,ee){this.props=vt,this.context=Lt,this.refs=k,this.updater=ee||w}M.prototype.isReactComponent={},M.prototype.setState=function(vt,Lt){if(typeof vt!="object"&&typeof vt!="function"&&vt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,vt,Lt,"setState")},M.prototype.forceUpdate=function(vt){this.updater.enqueueForceUpdate(this,vt,"forceUpdate")};function N(){}N.prototype=M.prototype;function B(vt,Lt,ee){this.props=vt,this.context=Lt,this.refs=k,this.updater=ee||w}var L=B.prototype=new N;L.constructor=B,C(L,M.prototype),L.isPureReactComponent=!0;var z=Array.isArray,q=Object.prototype.hasOwnProperty,V={current:null},X={key:!0,ref:!0,__self:!0,__source:!0};function nt(vt,Lt,ee){var pe,ve={},Oe=null,qe=null;if(Lt!=null)for(pe in Lt.ref!==void 0&&(qe=Lt.ref),Lt.key!==void 0&&(Oe=""+Lt.key),Lt)q.call(Lt,pe)&&!X.hasOwnProperty(pe)&&(ve[pe]=Lt[pe]);var He=arguments.length-2;if(He===1)ve.children=ee;else if(1<He){for(var wn=Array(He),nn=0;nn<He;nn++)wn[nn]=arguments[nn+2];ve.children=wn}if(vt&&vt.defaultProps)for(pe in He=vt.defaultProps,He)ve[pe]===void 0&&(ve[pe]=He[pe]);return{$$typeof:n,type:vt,key:Oe,ref:qe,props:ve,_owner:V.current}}function it(vt,Lt){return{$$typeof:n,type:vt.type,key:Lt,ref:vt.ref,props:vt.props,_owner:vt._owner}}function ct(vt){return typeof vt=="object"&&vt!==null&&vt.$$typeof===n}function ft(vt){var Lt={"=":"=0",":":"=2"};return"$"+vt.replace(/[=:]/g,function(ee){return Lt[ee]})}var gt=/\/+/g;function Ct(vt,Lt){return typeof vt=="object"&&vt!==null&&vt.key!=null?ft(""+vt.key):Lt.toString(36)}function kt(vt,Lt,ee,pe,ve){var Oe=typeof vt;(Oe==="undefined"||Oe==="boolean")&&(vt=null);var qe=!1;if(vt===null)qe=!0;else switch(Oe){case"string":case"number":qe=!0;break;case"object":switch(vt.$$typeof){case n:case t:qe=!0}}if(qe)return qe=vt,ve=ve(qe),vt=pe===""?"."+Ct(qe,0):pe,z(ve)?(ee="",vt!=null&&(ee=vt.replace(gt,"$&/")+"/"),kt(ve,Lt,ee,"",function(nn){return nn})):ve!=null&&(ct(ve)&&(ve=it(ve,ee+(!ve.key||qe&&qe.key===ve.key?"":(""+ve.key).replace(gt,"$&/")+"/")+vt)),Lt.push(ve)),1;if(qe=0,pe=pe===""?".":pe+":",z(vt))for(var He=0;He<vt.length;He++){Oe=vt[He];var wn=pe+Ct(Oe,He);qe+=kt(Oe,Lt,ee,wn,ve)}else if(wn=y(vt),typeof wn=="function")for(vt=wn.call(vt),He=0;!(Oe=vt.next()).done;)Oe=Oe.value,wn=pe+Ct(Oe,He++),qe+=kt(Oe,Lt,ee,wn,ve);else if(Oe==="object")throw Lt=String(vt),Error("Objects are not valid as a React child (found: "+(Lt==="[object Object]"?"object with keys {"+Object.keys(vt).join(", ")+"}":Lt)+"). If you meant to render a collection of children, use an array instead.");return qe}function Tt(vt,Lt,ee){if(vt==null)return vt;var pe=[],ve=0;return kt(vt,pe,"","",function(Oe){return Lt.call(ee,Oe,ve++)}),pe}function At(vt){if(vt._status===-1){var Lt=vt._result;Lt=Lt(),Lt.then(function(ee){(vt._status===0||vt._status===-1)&&(vt._status=1,vt._result=ee)},function(ee){(vt._status===0||vt._status===-1)&&(vt._status=2,vt._result=ee)}),vt._status===-1&&(vt._status=0,vt._result=Lt)}if(vt._status===1)return vt._result.default;throw vt._result}var Zt={current:null},_t={transition:null},Et={ReactCurrentDispatcher:Zt,ReactCurrentBatchConfig:_t,ReactCurrentOwner:V};function mt(){throw Error("act(...) is not supported in production builds of React.")}return Tu.Children={map:Tt,forEach:function(vt,Lt,ee){Tt(vt,function(){Lt.apply(this,arguments)},ee)},count:function(vt){var Lt=0;return Tt(vt,function(){Lt++}),Lt},toArray:function(vt){return Tt(vt,function(Lt){return Lt})||[]},only:function(vt){if(!ct(vt))throw Error("React.Children.only expected to receive a single React element child.");return vt}},Tu.Component=M,Tu.Fragment=e,Tu.Profiler=i,Tu.PureComponent=B,Tu.StrictMode=r,Tu.Suspense=f,Tu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Et,Tu.act=mt,Tu.cloneElement=function(vt,Lt,ee){if(vt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+vt+".");var pe=C({},vt.props),ve=vt.key,Oe=vt.ref,qe=vt._owner;if(Lt!=null){if(Lt.ref!==void 0&&(Oe=Lt.ref,qe=V.current),Lt.key!==void 0&&(ve=""+Lt.key),vt.type&&vt.type.defaultProps)var He=vt.type.defaultProps;for(wn in Lt)q.call(Lt,wn)&&!X.hasOwnProperty(wn)&&(pe[wn]=Lt[wn]===void 0&&He!==void 0?He[wn]:Lt[wn])}var wn=arguments.length-2;if(wn===1)pe.children=ee;else if(1<wn){He=Array(wn);for(var nn=0;nn<wn;nn++)He[nn]=arguments[nn+2];pe.children=He}return{$$typeof:n,type:vt.type,key:ve,ref:Oe,props:pe,_owner:qe}},Tu.createContext=function(vt){return vt={$$typeof:s,_currentValue:vt,_currentValue2:vt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},vt.Provider={$$typeof:a,_context:vt},vt.Consumer=vt},Tu.createElement=nt,Tu.createFactory=function(vt){var Lt=nt.bind(null,vt);return Lt.type=vt,Lt},Tu.createRef=function(){return{current:null}},Tu.forwardRef=function(vt){return{$$typeof:c,render:vt}},Tu.isValidElement=ct,Tu.lazy=function(vt){return{$$typeof:h,_payload:{_status:-1,_result:vt},_init:At}},Tu.memo=function(vt,Lt){return{$$typeof:d,type:vt,compare:Lt===void 0?null:Lt}},Tu.startTransition=function(vt){var Lt=_t.transition;_t.transition={};try{vt()}finally{_t.transition=Lt}},Tu.unstable_act=mt,Tu.useCallback=function(vt,Lt){return Zt.current.useCallback(vt,Lt)},Tu.useContext=function(vt){return Zt.current.useContext(vt)},Tu.useDebugValue=function(){},Tu.useDeferredValue=function(vt){return Zt.current.useDeferredValue(vt)},Tu.useEffect=function(vt,Lt){return Zt.current.useEffect(vt,Lt)},Tu.useId=function(){return Zt.current.useId()},Tu.useImperativeHandle=function(vt,Lt,ee){return Zt.current.useImperativeHandle(vt,Lt,ee)},Tu.useInsertionEffect=function(vt,Lt){return Zt.current.useInsertionEffect(vt,Lt)},Tu.useLayoutEffect=function(vt,Lt){return Zt.current.useLayoutEffect(vt,Lt)},Tu.useMemo=function(vt,Lt){return Zt.current.useMemo(vt,Lt)},Tu.useReducer=function(vt,Lt,ee){return Zt.current.useReducer(vt,Lt,ee)},Tu.useRef=function(vt){return Zt.current.useRef(vt)},Tu.useState=function(vt){return Zt.current.useState(vt)},Tu.useSyncExternalStore=function(vt,Lt,ee){return Zt.current.useSyncExternalStore(vt,Lt,ee)},Tu.useTransition=function(){return Zt.current.useTransition()},Tu.version="18.3.1",Tu}var tI;function UT(){return tI||(tI=1,oA.exports=SG()),oA.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI;function EG(){if(eI)return wb;eI=1;var n=UT(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(c,f,d){var h,m={},y=null,w=null;d!==void 0&&(y=""+d),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(h in f)r.call(f,h)&&!a.hasOwnProperty(h)&&(m[h]=f[h]);if(c&&c.defaultProps)for(h in f=c.defaultProps,f)m[h]===void 0&&(m[h]=f[h]);return{$$typeof:t,type:c,key:y,ref:w,props:m,_owner:i.current}}return wb.Fragment=e,wb.jsx=s,wb.jsxs=s,wb}var nI;function AG(){return nI||(nI=1,iA.exports=EG()),iA.exports}var fe=AG(),re=UT();const Vi=_G(re),_S=CG({__proto__:null,default:Vi},[re]);var zD={},aA={exports:{}},Cd={},sA={exports:{}},uA={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rI;function kG(){return rI||(rI=1,function(n){function t(_t,Et){var mt=_t.length;_t.push(Et);t:for(;0<mt;){var vt=mt-1>>>1,Lt=_t[vt];if(0<i(Lt,Et))_t[vt]=Et,_t[mt]=Lt,mt=vt;else break t}}function e(_t){return _t.length===0?null:_t[0]}function r(_t){if(_t.length===0)return null;var Et=_t[0],mt=_t.pop();if(mt!==Et){_t[0]=mt;t:for(var vt=0,Lt=_t.length,ee=Lt>>>1;vt<ee;){var pe=2*(vt+1)-1,ve=_t[pe],Oe=pe+1,qe=_t[Oe];if(0>i(ve,mt))Oe<Lt&&0>i(qe,ve)?(_t[vt]=qe,_t[Oe]=mt,vt=Oe):(_t[vt]=ve,_t[pe]=mt,vt=pe);else if(Oe<Lt&&0>i(qe,mt))_t[vt]=qe,_t[Oe]=mt,vt=Oe;else break t}}return Et}function i(_t,Et){var mt=_t.sortIndex-Et.sortIndex;return mt!==0?mt:_t.id-Et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();n.unstable_now=function(){return s.now()-c}}var f=[],d=[],h=1,m=null,y=3,w=!1,C=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(_t){for(var Et=e(d);Et!==null;){if(Et.callback===null)r(d);else if(Et.startTime<=_t)r(d),Et.sortIndex=Et.expirationTime,t(f,Et);else break;Et=e(d)}}function z(_t){if(k=!1,L(_t),!C)if(e(f)!==null)C=!0,At(q);else{var Et=e(d);Et!==null&&Zt(z,Et.startTime-_t)}}function q(_t,Et){C=!1,k&&(k=!1,N(nt),nt=-1),w=!0;var mt=y;try{for(L(Et),m=e(f);m!==null&&(!(m.expirationTime>Et)||_t&&!ft());){var vt=m.callback;if(typeof vt=="function"){m.callback=null,y=m.priorityLevel;var Lt=vt(m.expirationTime<=Et);Et=n.unstable_now(),typeof Lt=="function"?m.callback=Lt:m===e(f)&&r(f),L(Et)}else r(f);m=e(f)}if(m!==null)var ee=!0;else{var pe=e(d);pe!==null&&Zt(z,pe.startTime-Et),ee=!1}return ee}finally{m=null,y=mt,w=!1}}var V=!1,X=null,nt=-1,it=5,ct=-1;function ft(){return!(n.unstable_now()-ct<it)}function gt(){if(X!==null){var _t=n.unstable_now();ct=_t;var Et=!0;try{Et=X(!0,_t)}finally{Et?Ct():(V=!1,X=null)}}else V=!1}var Ct;if(typeof B=="function")Ct=function(){B(gt)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Tt=kt.port2;kt.port1.onmessage=gt,Ct=function(){Tt.postMessage(null)}}else Ct=function(){M(gt,0)};function At(_t){X=_t,V||(V=!0,Ct())}function Zt(_t,Et){nt=M(function(){_t(n.unstable_now())},Et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_t){_t.callback=null},n.unstable_continueExecution=function(){C||w||(C=!0,At(q))},n.unstable_forceFrameRate=function(_t){0>_t||125<_t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<_t?Math.floor(1e3/_t):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(_t){switch(y){case 1:case 2:case 3:var Et=3;break;default:Et=y}var mt=y;y=Et;try{return _t()}finally{y=mt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(_t,Et){switch(_t){case 1:case 2:case 3:case 4:case 5:break;default:_t=3}var mt=y;y=_t;try{return Et()}finally{y=mt}},n.unstable_scheduleCallback=function(_t,Et,mt){var vt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?vt+mt:vt):mt=vt,_t){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return Lt=mt+Lt,_t={id:h++,callback:Et,priorityLevel:_t,startTime:mt,expirationTime:Lt,sortIndex:-1},mt>vt?(_t.sortIndex=mt,t(d,_t),e(f)===null&&_t===e(d)&&(k?(N(nt),nt=-1):k=!0,Zt(z,mt-vt))):(_t.sortIndex=Lt,t(f,_t),C||w||(C=!0,At(q))),_t},n.unstable_shouldYield=ft,n.unstable_wrapCallback=function(_t){var Et=y;return function(){var mt=y;y=Et;try{return _t.apply(this,arguments)}finally{y=mt}}}}(uA)),uA}var iI;function MG(){return iI||(iI=1,sA.exports=kG()),sA.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oI;function FG(){if(oI)return Cd;oI=1;var n=UT(),t=MG();function e(x){for(var S="https://reactjs.org/docs/error-decoder.html?invariant="+x,I=1;I<arguments.length;I++)S+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+x+"; visit "+S+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(x,S){s(x,S),s(x+"Capture",S)}function s(x,S){for(i[x]=S,x=0;x<S.length;x++)r.add(S[x])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(x){return f.call(m,x)?!0:f.call(h,x)?!1:d.test(x)?m[x]=!0:(h[x]=!0,!1)}function w(x,S,I,H){if(I!==null&&I.type===0)return!1;switch(typeof S){case"function":case"symbol":return!0;case"boolean":return H?!1:I!==null?!I.acceptsBooleans:(x=x.toLowerCase().slice(0,5),x!=="data-"&&x!=="aria-");default:return!1}}function C(x,S,I,H){if(S===null||typeof S>"u"||w(x,S,I,H))return!0;if(H)return!1;if(I!==null)switch(I.type){case 3:return!S;case 4:return S===!1;case 5:return isNaN(S);case 6:return isNaN(S)||1>S}return!1}function k(x,S,I,H,Q,at,Ft){this.acceptsBooleans=S===2||S===3||S===4,this.attributeName=H,this.attributeNamespace=Q,this.mustUseProperty=I,this.propertyName=x,this.type=S,this.sanitizeURL=at,this.removeEmptyString=Ft}var M={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(x){M[x]=new k(x,0,!1,x,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(x){var S=x[0];M[S]=new k(S,1,!1,x[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(x){M[x]=new k(x,2,!1,x.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(x){M[x]=new k(x,2,!1,x,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(x){M[x]=new k(x,3,!1,x.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(x){M[x]=new k(x,3,!0,x,null,!1,!1)}),["capture","download"].forEach(function(x){M[x]=new k(x,4,!1,x,null,!1,!1)}),["cols","rows","size","span"].forEach(function(x){M[x]=new k(x,6,!1,x,null,!1,!1)}),["rowSpan","start"].forEach(function(x){M[x]=new k(x,5,!1,x.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function B(x){return x[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(x){var S=x.replace(N,B);M[S]=new k(S,1,!1,x,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(x){var S=x.replace(N,B);M[S]=new k(S,1,!1,x,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(x){var S=x.replace(N,B);M[S]=new k(S,1,!1,x,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(x){M[x]=new k(x,1,!1,x.toLowerCase(),null,!1,!1)}),M.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(x){M[x]=new k(x,1,!1,x.toLowerCase(),null,!0,!0)});function L(x,S,I,H){var Q=M.hasOwnProperty(S)?M[S]:null;(Q!==null?Q.type!==0:H||!(2<S.length)||S[0]!=="o"&&S[0]!=="O"||S[1]!=="n"&&S[1]!=="N")&&(C(S,I,Q,H)&&(I=null),H||Q===null?y(S)&&(I===null?x.removeAttribute(S):x.setAttribute(S,""+I)):Q.mustUseProperty?x[Q.propertyName]=I===null?Q.type===3?!1:"":I:(S=Q.attributeName,H=Q.attributeNamespace,I===null?x.removeAttribute(S):(Q=Q.type,I=Q===3||Q===4&&I===!0?"":""+I,H?x.setAttributeNS(H,S,I):x.setAttribute(S,I))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),V=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),ft=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Ct=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),At=Symbol.for("react.lazy"),Zt=Symbol.for("react.offscreen"),_t=Symbol.iterator;function Et(x){return x===null||typeof x!="object"?null:(x=_t&&x[_t]||x["@@iterator"],typeof x=="function"?x:null)}var mt=Object.assign,vt;function Lt(x){if(vt===void 0)try{throw Error()}catch(I){var S=I.stack.trim().match(/\n( *(at )?)/);vt=S&&S[1]||""}return`
`+vt+x}var ee=!1;function pe(x,S){if(!x||ee)return"";ee=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(S)if(S=function(){throw Error()},Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(Re){var H=Re}Reflect.construct(x,[],S)}else{try{S.call()}catch(Re){H=Re}x.call(S.prototype)}else{try{throw Error()}catch(Re){H=Re}x()}}catch(Re){if(Re&&H&&typeof Re.stack=="string"){for(var Q=Re.stack.split(`
`),at=H.stack.split(`
`),Ft=Q.length-1,te=at.length-1;1<=Ft&&0<=te&&Q[Ft]!==at[te];)te--;for(;1<=Ft&&0<=te;Ft--,te--)if(Q[Ft]!==at[te]){if(Ft!==1||te!==1)do if(Ft--,te--,0>te||Q[Ft]!==at[te]){var he=`
`+Q[Ft].replace(" at new "," at ");return x.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",x.displayName)),he}while(1<=Ft&&0<=te);break}}}finally{ee=!1,Error.prepareStackTrace=I}return(x=x?x.displayName||x.name:"")?Lt(x):""}function ve(x){switch(x.tag){case 5:return Lt(x.type);case 16:return Lt("Lazy");case 13:return Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 2:case 15:return x=pe(x.type,!1),x;case 11:return x=pe(x.type.render,!1),x;case 1:return x=pe(x.type,!0),x;default:return""}}function Oe(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case X:return"Fragment";case V:return"Portal";case it:return"Profiler";case nt:return"StrictMode";case Ct:return"Suspense";case kt:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case ft:return(x.displayName||"Context")+".Consumer";case ct:return(x._context.displayName||"Context")+".Provider";case gt:var S=x.render;return x=x.displayName,x||(x=S.displayName||S.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case Tt:return S=x.displayName||null,S!==null?S:Oe(x.type)||"Memo";case At:S=x._payload,x=x._init;try{return Oe(x(S))}catch{}}return null}function qe(x){var S=x.type;switch(x.tag){case 24:return"Cache";case 9:return(S.displayName||"Context")+".Consumer";case 10:return(S._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=S.render,x=x.displayName||x.name||"",S.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return S;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(S);case 8:return S===nt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S}return null}function He(x){switch(typeof x){case"boolean":case"number":case"string":case"undefined":return x;case"object":return x;default:return""}}function wn(x){var S=x.type;return(x=x.nodeName)&&x.toLowerCase()==="input"&&(S==="checkbox"||S==="radio")}function nn(x){var S=wn(x)?"checked":"value",I=Object.getOwnPropertyDescriptor(x.constructor.prototype,S),H=""+x[S];if(!x.hasOwnProperty(S)&&typeof I<"u"&&typeof I.get=="function"&&typeof I.set=="function"){var Q=I.get,at=I.set;return Object.defineProperty(x,S,{configurable:!0,get:function(){return Q.call(this)},set:function(Ft){H=""+Ft,at.call(this,Ft)}}),Object.defineProperty(x,S,{enumerable:I.enumerable}),{getValue:function(){return H},setValue:function(Ft){H=""+Ft},stopTracking:function(){x._valueTracker=null,delete x[S]}}}}function cr(x){x._valueTracker||(x._valueTracker=nn(x))}function bi(x){if(!x)return!1;var S=x._valueTracker;if(!S)return!0;var I=S.getValue(),H="";return x&&(H=wn(x)?x.checked?"true":"false":x.value),x=H,x!==I?(S.setValue(x),!0):!1}function Vt(x){if(x=x||(typeof document<"u"?document:void 0),typeof x>"u")return null;try{return x.activeElement||x.body}catch{return x.body}}function rt(x,S){var I=S.checked;return mt({},S,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:I??x._wrapperState.initialChecked})}function dt(x,S){var I=S.defaultValue==null?"":S.defaultValue,H=S.checked!=null?S.checked:S.defaultChecked;I=He(S.value!=null?S.value:I),x._wrapperState={initialChecked:H,initialValue:I,controlled:S.type==="checkbox"||S.type==="radio"?S.checked!=null:S.value!=null}}function bt(x,S){S=S.checked,S!=null&&L(x,"checked",S,!1)}function Ot(x,S){bt(x,S);var I=He(S.value),H=S.type;if(I!=null)H==="number"?(I===0&&x.value===""||x.value!=I)&&(x.value=""+I):x.value!==""+I&&(x.value=""+I);else if(H==="submit"||H==="reset"){x.removeAttribute("value");return}S.hasOwnProperty("value")?Rt(x,S.type,I):S.hasOwnProperty("defaultValue")&&Rt(x,S.type,He(S.defaultValue)),S.checked==null&&S.defaultChecked!=null&&(x.defaultChecked=!!S.defaultChecked)}function Bt(x,S,I){if(S.hasOwnProperty("value")||S.hasOwnProperty("defaultValue")){var H=S.type;if(!(H!=="submit"&&H!=="reset"||S.value!==void 0&&S.value!==null))return;S=""+x._wrapperState.initialValue,I||S===x.value||(x.value=S),x.defaultValue=S}I=x.name,I!==""&&(x.name=""),x.defaultChecked=!!x._wrapperState.initialChecked,I!==""&&(x.name=I)}function Rt(x,S,I){(S!=="number"||Vt(x.ownerDocument)!==x)&&(I==null?x.defaultValue=""+x._wrapperState.initialValue:x.defaultValue!==""+I&&(x.defaultValue=""+I))}var Xt=Array.isArray;function Kt(x,S,I,H){if(x=x.options,S){S={};for(var Q=0;Q<I.length;Q++)S["$"+I[Q]]=!0;for(I=0;I<x.length;I++)Q=S.hasOwnProperty("$"+x[I].value),x[I].selected!==Q&&(x[I].selected=Q),Q&&H&&(x[I].defaultSelected=!0)}else{for(I=""+He(I),S=null,Q=0;Q<x.length;Q++){if(x[Q].value===I){x[Q].selected=!0,H&&(x[Q].defaultSelected=!0);return}S!==null||x[Q].disabled||(S=x[Q])}S!==null&&(S.selected=!0)}}function ge(x,S){if(S.dangerouslySetInnerHTML!=null)throw Error(e(91));return mt({},S,{value:void 0,defaultValue:void 0,children:""+x._wrapperState.initialValue})}function Ee(x,S){var I=S.value;if(I==null){if(I=S.children,S=S.defaultValue,I!=null){if(S!=null)throw Error(e(92));if(Xt(I)){if(1<I.length)throw Error(e(93));I=I[0]}S=I}S==null&&(S=""),I=S}x._wrapperState={initialValue:He(I)}}function Ze(x,S){var I=He(S.value),H=He(S.defaultValue);I!=null&&(I=""+I,I!==x.value&&(x.value=I),S.defaultValue==null&&x.defaultValue!==I&&(x.defaultValue=I)),H!=null&&(x.defaultValue=""+H)}function Xe(x){var S=x.textContent;S===x._wrapperState.initialValue&&S!==""&&S!==null&&(x.value=S)}function Se(x){switch(x){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function je(x,S){return x==null||x==="http://www.w3.org/1999/xhtml"?Se(S):x==="http://www.w3.org/2000/svg"&&S==="foreignObject"?"http://www.w3.org/1999/xhtml":x}var rn,zi=function(x){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(S,I,H,Q){MSApp.execUnsafeLocalFunction(function(){return x(S,I,H,Q)})}:x}(function(x,S){if(x.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in x)x.innerHTML=S;else{for(rn=rn||document.createElement("div"),rn.innerHTML="<svg>"+S.valueOf().toString()+"</svg>",S=rn.firstChild;x.firstChild;)x.removeChild(x.firstChild);for(;S.firstChild;)x.appendChild(S.firstChild)}});function Yi(x,S){if(S){var I=x.firstChild;if(I&&I===x.lastChild&&I.nodeType===3){I.nodeValue=S;return}}x.textContent=S}var Ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xo=["Webkit","ms","Moz","O"];Object.keys(Ui).forEach(function(x){xo.forEach(function(S){S=S+x.charAt(0).toUpperCase()+x.substring(1),Ui[S]=Ui[x]})});function Ai(x,S,I){return S==null||typeof S=="boolean"||S===""?"":I||typeof S!="number"||S===0||Ui.hasOwnProperty(x)&&Ui[x]?(""+S).trim():S+"px"}function us(x,S){x=x.style;for(var I in S)if(S.hasOwnProperty(I)){var H=I.indexOf("--")===0,Q=Ai(I,S[I],H);I==="float"&&(I="cssFloat"),H?x.setProperty(I,Q):x[I]=Q}}var ko=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vu(x,S){if(S){if(ko[x]&&(S.children!=null||S.dangerouslySetInnerHTML!=null))throw Error(e(137,x));if(S.dangerouslySetInnerHTML!=null){if(S.children!=null)throw Error(e(60));if(typeof S.dangerouslySetInnerHTML!="object"||!("__html"in S.dangerouslySetInnerHTML))throw Error(e(61))}if(S.style!=null&&typeof S.style!="object")throw Error(e(62))}}function ja(x,S){if(x.indexOf("-")===-1)return typeof S.is=="string";switch(x){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ls=null;function yu(x){return x=x.target||x.srcElement||window,x.correspondingUseElement&&(x=x.correspondingUseElement),x.nodeType===3?x.parentNode:x}var dl=null,Ns=null,Ol=null;function gl(x){if(x=hs(x)){if(typeof dl!="function")throw Error(e(280));var S=x.stateNode;S&&(S=Un(S),dl(x.stateNode,x.type,S))}}function Pa(x){Ns?Ol?Ol.push(x):Ol=[x]:Ns=x}function ml(){if(Ns){var x=Ns,S=Ol;if(Ol=Ns=null,gl(x),S)for(x=0;x<S.length;x++)gl(S[x])}}function wu(x,S){return x(S)}function Ou(){}var Ks=!1;function Nu(x,S,I){if(Ks)return x(S,I);Ks=!0;try{return wu(x,S,I)}finally{Ks=!1,(Ns!==null||Ol!==null)&&(Ou(),ml())}}function ts(x,S){var I=x.stateNode;if(I===null)return null;var H=Un(I);if(H===null)return null;I=H[S];t:switch(S){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(H=!H.disabled)||(x=x.type,H=!(x==="button"||x==="input"||x==="select"||x==="textarea")),x=!H;break t;default:x=!1}if(x)return null;if(I&&typeof I!="function")throw Error(e(231,S,typeof I));return I}var fa=!1;if(c)try{var ba={};Object.defineProperty(ba,"passive",{get:function(){fa=!0}}),window.addEventListener("test",ba,ba),window.removeEventListener("test",ba,ba)}catch{fa=!1}function ho(x,S,I,H,Q,at,Ft,te,he){var Re=Array.prototype.slice.call(arguments,3);try{S.apply(I,Re)}catch(Cn){this.onError(Cn)}}var Iu=!1,nu=null,cs=!1,nl=null,Nl={onError:function(x){Iu=!0,nu=x}};function vl(x,S,I,H,Q,at,Ft,te,he){Iu=!1,nu=null,ho.apply(Nl,arguments)}function bu(x,S,I,H,Q,at,Ft,te,he){if(vl.apply(this,arguments),Iu){if(Iu){var Re=nu;Iu=!1,nu=null}else throw Error(e(198));cs||(cs=!0,nl=Re)}}function Gs(x){var S=x,I=x;if(x.alternate)for(;S.return;)S=S.return;else{x=S;do S=x,S.flags&4098&&(I=S.return),x=S.return;while(x)}return S.tag===3?I:null}function kc(x){if(x.tag===13){var S=x.memoizedState;if(S===null&&(x=x.alternate,x!==null&&(S=x.memoizedState)),S!==null)return S.dehydrated}return null}function hf(x){if(Gs(x)!==x)throw Error(e(188))}function Mc(x){var S=x.alternate;if(!S){if(S=Gs(x),S===null)throw Error(e(188));return S!==x?null:x}for(var I=x,H=S;;){var Q=I.return;if(Q===null)break;var at=Q.alternate;if(at===null){if(H=Q.return,H!==null){I=H;continue}break}if(Q.child===at.child){for(at=Q.child;at;){if(at===I)return hf(Q),x;if(at===H)return hf(Q),S;at=at.sibling}throw Error(e(188))}if(I.return!==H.return)I=Q,H=at;else{for(var Ft=!1,te=Q.child;te;){if(te===I){Ft=!0,I=Q,H=at;break}if(te===H){Ft=!0,H=Q,I=at;break}te=te.sibling}if(!Ft){for(te=at.child;te;){if(te===I){Ft=!0,I=at,H=Q;break}if(te===H){Ft=!0,H=at,I=Q;break}te=te.sibling}if(!Ft)throw Error(e(189))}}if(I.alternate!==H)throw Error(e(190))}if(I.tag!==3)throw Error(e(188));return I.stateNode.current===I?x:S}function ln(x){return x=Mc(x),x!==null?Vn(x):null}function Vn(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var S=Vn(x);if(S!==null)return S;x=x.sibling}return null}var hr=t.unstable_scheduleCallback,Xi=t.unstable_cancelCallback,es=t.unstable_shouldYield,ru=t.unstable_requestPaint,Do=t.unstable_now,De=t.unstable_getCurrentPriorityLevel,be=t.unstable_ImmediatePriority,Xr=t.unstable_UserBlockingPriority,xa=t.unstable_NormalPriority,tp=t.unstable_LowPriority,Kc=t.unstable_IdlePriority,Tf=null,ze=null;function $i(x){if(ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Tf,x,void 0,(x.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:pr,Fc=Math.log,Bu=Math.LN2;function pr(x){return x>>>=0,x===0?32:31-(Fc(x)/Bu|0)|0}var Ru=64,Ji=4194304;function qn(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function rl(x,S){var I=x.pendingLanes;if(I===0)return 0;var H=0,Q=x.suspendedLanes,at=x.pingedLanes,Ft=I&268435455;if(Ft!==0){var te=Ft&~Q;te!==0?H=qn(te):(at&=Ft,at!==0&&(H=qn(at)))}else Ft=I&~Q,Ft!==0?H=qn(Ft):at!==0&&(H=qn(at));if(H===0)return 0;if(S!==0&&S!==H&&!(S&Q)&&(Q=H&-H,at=S&-S,Q>=at||Q===16&&(at&4194240)!==0))return S;if(H&4&&(H|=I&16),S=x.entangledLanes,S!==0)for(x=x.entanglements,S&=H;0<S;)I=31-kr(S),Q=1<<I,H|=x[I],S&=~Q;return H}function Zc(x,S){switch(x){case 1:case 2:case 4:return S+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(x,S){for(var I=x.suspendedLanes,H=x.pingedLanes,Q=x.expirationTimes,at=x.pendingLanes;0<at;){var Ft=31-kr(at),te=1<<Ft,he=Q[Ft];he===-1?(!(te&I)||te&H)&&(Q[Ft]=Zc(te,S)):he<=S&&(x.expiredLanes|=te),at&=~te}}function Mn(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function uh(){var x=Ru;return Ru<<=1,!(Ru&4194240)&&(Ru=64),x}function Bn(x){for(var S=[],I=0;31>I;I++)S.push(x);return S}function tf(x,S,I){x.pendingLanes|=S,S!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,S=31-kr(S),x[S]=I}function Cs(x,S){var I=x.pendingLanes&~S;x.pendingLanes=S,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=S,x.mutableReadLanes&=S,x.entangledLanes&=S,S=x.entanglements;var H=x.eventTimes;for(x=x.expirationTimes;0<I;){var Q=31-kr(I),at=1<<Q;S[Q]=0,H[Q]=-1,x[Q]=-1,I&=~at}}function Br(x,S){var I=x.entangledLanes|=S;for(x=x.entanglements;I;){var H=31-kr(I),Q=1<<H;Q&S|x[H]&S&&(x[H]|=S),I&=~Q}}var br=0;function xi(x){return x&=-x,1<x?4<x?x&268435455?16:536870912:4:1}var Be,Er,Jr,ef,Is,uc=!1,ql=[],jr=null,Ii=null,bc=null,Bs=new Map,xu=new Map,Da=[],ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(x,S){switch(x){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Ii=null;break;case"mouseover":case"mouseout":bc=null;break;case"pointerover":case"pointerout":Bs.delete(S.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(S.pointerId)}}function Ys(x,S,I,H,Q,at){return x===null||x.nativeEvent!==at?(x={blockedOn:S,domEventName:I,eventSystemFlags:H,nativeEvent:at,targetContainers:[Q]},S!==null&&(S=hs(S),S!==null&&Er(S)),x):(x.eventSystemFlags|=H,S=x.targetContainers,Q!==null&&S.indexOf(Q)===-1&&S.push(Q),x)}function Il(x,S,I,H,Q){switch(S){case"focusin":return jr=Ys(jr,x,S,I,H,Q),!0;case"dragenter":return Ii=Ys(Ii,x,S,I,H,Q),!0;case"mouseover":return bc=Ys(bc,x,S,I,H,Q),!0;case"pointerover":var at=Q.pointerId;return Bs.set(at,Ys(Bs.get(at)||null,x,S,I,H,Q)),!0;case"gotpointercapture":return at=Q.pointerId,xu.set(at,Ys(xu.get(at)||null,x,S,I,H,Q)),!0}return!1}function Bl(x){var S=Yl(x.target);if(S!==null){var I=Gs(S);if(I!==null){if(S=I.tag,S===13){if(S=kc(I),S!==null){x.blockedOn=S,Is(x.priority,function(){Jr(I)});return}}else if(S===3&&I.stateNode.current.memoizedState.isDehydrated){x.blockedOn=I.tag===3?I.stateNode.containerInfo:null;return}}}x.blockedOn=null}function Ln(x){if(x.blockedOn!==null)return!1;for(var S=x.targetContainers;0<S.length;){var I=Di(x.domEventName,x.eventSystemFlags,S[0],x.nativeEvent);if(I===null){I=x.nativeEvent;var H=new I.constructor(I.type,I);ls=H,I.target.dispatchEvent(H),ls=null}else return S=hs(I),S!==null&&Er(S),x.blockedOn=I,!1;S.shift()}return!0}function yl(x,S,I){Ln(x)&&I.delete(S)}function fi(){uc=!1,jr!==null&&Ln(jr)&&(jr=null),Ii!==null&&Ln(Ii)&&(Ii=null),bc!==null&&Ln(bc)&&(bc=null),Bs.forEach(yl),xu.forEach(yl)}function wl(x,S){x.blockedOn===S&&(x.blockedOn=null,uc||(uc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,fi)))}function Xs(x){function S(Q){return wl(Q,x)}if(0<ql.length){wl(ql[0],x);for(var I=1;I<ql.length;I++){var H=ql[I];H.blockedOn===x&&(H.blockedOn=null)}}for(jr!==null&&wl(jr,x),Ii!==null&&wl(Ii,x),bc!==null&&wl(bc,x),Bs.forEach(S),xu.forEach(S),I=0;I<Da.length;I++)H=Da[I],H.blockedOn===x&&(H.blockedOn=null);for(;0<Da.length&&(I=Da[0],I.blockedOn===null);)Bl(I),I.blockedOn===null&&Da.shift()}var Gc=z.ReactCurrentBatchConfig,Tc=!0;function Lu(x,S,I,H){var Q=br,at=Gc.transition;Gc.transition=null;try{br=1,Gi(x,S,I,H)}finally{br=Q,Gc.transition=at}}function ha(x,S,I,H){var Q=br,at=Gc.transition;Gc.transition=null;try{br=4,Gi(x,S,I,H)}finally{br=Q,Gc.transition=at}}function Gi(x,S,I,H){if(Tc){var Q=Di(x,S,I,H);if(Q===null)tn(x,S,H,zu,I),Pc(x,H);else if(Il(Q,x,S,I,H))H.stopPropagation();else if(Pc(x,H),S&4&&-1<ju.indexOf(x)){for(;Q!==null;){var at=hs(Q);if(at!==null&&Be(at),at=Di(x,S,I,H),at===null&&tn(x,S,H,zu,I),at===Q)break;Q=at}Q!==null&&H.stopPropagation()}else tn(x,S,H,null,I)}}var zu=null;function Di(x,S,I,H){if(zu=null,x=yu(H),x=Yl(x),x!==null)if(S=Gs(x),S===null)x=null;else if(I=S.tag,I===13){if(x=kc(S),x!==null)return x;x=null}else if(I===3){if(S.stateNode.current.memoizedState.isDehydrated)return S.tag===3?S.stateNode.containerInfo:null;x=null}else S!==x&&(x=null);return zu=x,null}function ns(x){switch(x){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(De()){case be:return 1;case Xr:return 4;case xa:case tp:return 16;case Kc:return 536870912;default:return 16}default:return 16}}var Wr=null,xr=null,La=null;function lc(){if(La)return La;var x,S=xr,I=S.length,H,Q="value"in Wr?Wr.value:Wr.textContent,at=Q.length;for(x=0;x<I&&S[x]===Q[x];x++);var Ft=I-x;for(H=1;H<=Ft&&S[I-H]===Q[at-H];H++);return La=Q.slice(x,1<H?1-H:void 0)}function Co(x){var S=x.keyCode;return"charCode"in x?(x=x.charCode,x===0&&S===13&&(x=13)):x=S,x===10&&(x=13),32<=x||x===13?x:0}function J(){return!0}function st(){return!1}function et(x){function S(I,H,Q,at,Ft){this._reactName=I,this._targetInst=Q,this.type=H,this.nativeEvent=at,this.target=Ft,this.currentTarget=null;for(var te in x)x.hasOwnProperty(te)&&(I=x[te],this[te]=I?I(at):at[te]);return this.isDefaultPrevented=(at.defaultPrevented!=null?at.defaultPrevented:at.returnValue===!1)?J:st,this.isPropagationStopped=st,this}return mt(S.prototype,{preventDefault:function(){this.defaultPrevented=!0;var I=this.nativeEvent;I&&(I.preventDefault?I.preventDefault():typeof I.returnValue!="unknown"&&(I.returnValue=!1),this.isDefaultPrevented=J)},stopPropagation:function(){var I=this.nativeEvent;I&&(I.stopPropagation?I.stopPropagation():typeof I.cancelBubble!="unknown"&&(I.cancelBubble=!0),this.isPropagationStopped=J)},persist:function(){},isPersistent:J}),S}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(x){return x.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nt=et(pt),Jt=mt({},pt,{view:0,detail:0}),Fe=et(Jt),mn,zt,Ne,ke=mt({},Jt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(x){return x.relatedTarget===void 0?x.fromElement===x.srcElement?x.toElement:x.fromElement:x.relatedTarget},movementX:function(x){return"movementX"in x?x.movementX:(x!==Ne&&(Ne&&x.type==="mousemove"?(mn=x.screenX-Ne.screenX,zt=x.screenY-Ne.screenY):zt=mn=0,Ne=x),mn)},movementY:function(x){return"movementY"in x?x.movementY:zt}}),Pe=et(ke),vr=mt({},ke,{dataTransfer:0}),Ci=et(vr),hi=mt({},Jt,{relatedTarget:0}),Ca=et(hi),pi=mt({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ce=et(pi),kh=mt({},pt,{clipboardData:function(x){return"clipboardData"in x?x.clipboardData:window.clipboardData}}),_i=et(kh),Rs=mt({},pt,{data:0}),Yc=et(Rs),pf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tr(x){var S=this.nativeEvent;return S.getModifierState?S.getModifierState(x):(x=iu[x])?!!S[x]:!1}function js(){return tr}var Rl=mt({},Jt,{key:function(x){if(x.key){var S=pf[x.key]||x.key;if(S!=="Unidentified")return S}return x.type==="keypress"?(x=Co(x),x===13?"Enter":String.fromCharCode(x)):x.type==="keydown"||x.type==="keyup"?lh[x.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(x){return x.type==="keypress"?Co(x):0},keyCode:function(x){return x.type==="keydown"||x.type==="keyup"?x.keyCode:0},which:function(x){return x.type==="keypress"?Co(x):x.type==="keydown"||x.type==="keyup"?x.keyCode:0}}),ea=et(Rl),Yf=mt({},ke,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oc=et(Yf),Uu=mt({},Jt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),jl=et(Uu),io=mt({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bo=et(io),za=mt({},ke,{deltaX:function(x){return"deltaX"in x?x.deltaX:"wheelDeltaX"in x?-x.wheelDeltaX:0},deltaY:function(x){return"deltaY"in x?x.deltaY:"wheelDeltaY"in x?-x.wheelDeltaY:"wheelDelta"in x?-x.wheelDelta:0},deltaZ:0,deltaMode:0}),nf=et(za),Xf=[9,13,27,32],Of=c&&"CompositionEvent"in window,Ua=null;c&&"documentMode"in document&&(Ua=document.documentMode);var $u=c&&"TextEvent"in window&&!Ua,ou=c&&(!Of||Ua&&8<Ua&&11>=Ua),xc=" ",Nc=!1;function Wh(x,S){switch(x){case"keyup":return Xf.indexOf(S.keyCode)!==-1;case"keydown":return S.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(x){return x=x.detail,typeof x=="object"&&"data"in x?x.data:null}var sn=!1;function on(x,S){switch(x){case"compositionend":return Lh(S);case"keypress":return S.which!==32?null:(Nc=!0,xc);case"textInput":return x=S.data,x===xc&&Nc?null:x;default:return null}}function pa(x,S){if(sn)return x==="compositionend"||!Of&&Wh(x,S)?(x=lc(),La=xr=Wr=null,sn=!1,x):null;switch(x){case"paste":return null;case"keypress":if(!(S.ctrlKey||S.altKey||S.metaKey)||S.ctrlKey&&S.altKey){if(S.char&&1<S.char.length)return S.char;if(S.which)return String.fromCharCode(S.which)}return null;case"compositionend":return ou&&S.locale!=="ko"?null:S.data;default:return null}}var Du={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(x){var S=x&&x.nodeName&&x.nodeName.toLowerCase();return S==="input"?!!Du[x.type]:S==="textarea"}function xh(x,S,I,H){Pa(H),S=Ls(S,"onChange"),0<S.length&&(I=new Nt("onChange","change",null,I,H),x.push({event:I,listeners:S}))}var il=null,_a=null;function oa(x){Ha(x,0)}function ii(x){var S=ol(x);if(bi(S))return x}function Ko(x,S){if(x==="change")return S}var aa=!1;if(c){var sa;if(c){var Mo="oninput"in document;if(!Mo){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),Mo=typeof gf.oninput=="function"}sa=Mo}else sa=!1;aa=sa&&(!document.documentMode||9<document.documentMode)}function bl(){il&&(il.detachEvent("onpropertychange",cc),_a=il=null)}function cc(x){if(x.propertyName==="value"&&ii(_a)){var S=[];xh(S,_a,x,yu(x)),Nu(oa,S)}}function rf(x,S,I){x==="focusin"?(bl(),il=S,_a=I,il.attachEvent("onpropertychange",cc)):x==="focusout"&&bl()}function Jf(x){if(x==="selectionchange"||x==="keyup"||x==="keydown")return ii(_a)}function rs(x,S){if(x==="click")return ii(S)}function is(x,S){if(x==="input"||x==="change")return ii(S)}function Ll(x,S){return x===S&&(x!==0||1/x===1/S)||x!==x&&S!==S}var P=typeof Object.is=="function"?Object.is:Ll;function Go(x,S){if(P(x,S))return!0;if(typeof x!="object"||x===null||typeof S!="object"||S===null)return!1;var I=Object.keys(x),H=Object.keys(S);if(I.length!==H.length)return!1;for(H=0;H<I.length;H++){var Q=I[H];if(!f.call(S,Q)||!P(x[Q],S[Q]))return!1}return!0}function Pt(x){for(;x&&x.firstChild;)x=x.firstChild;return x}function or(x,S){var I=Pt(x);x=0;for(var H;I;){if(I.nodeType===3){if(H=x+I.textContent.length,x<=S&&H>=S)return{node:I,offset:S-x};x=H}t:{for(;I;){if(I.nextSibling){I=I.nextSibling;break t}I=I.parentNode}I=void 0}I=Pt(I)}}function ce(x,S){return x&&S?x===S?!0:x&&x.nodeType===3?!1:S&&S.nodeType===3?ce(x,S.parentNode):"contains"in x?x.contains(S):x.compareDocumentPosition?!!(x.compareDocumentPosition(S)&16):!1:!1}function Hr(){for(var x=window,S=Vt();S instanceof x.HTMLIFrameElement;){try{var I=typeof S.contentWindow.location.href=="string"}catch{I=!1}if(I)x=S.contentWindow;else break;S=Vt(x.document)}return S}function vn(x){var S=x&&x.nodeName&&x.nodeName.toLowerCase();return S&&(S==="input"&&(x.type==="text"||x.type==="search"||x.type==="tel"||x.type==="url"||x.type==="password")||S==="textarea"||x.contentEditable==="true")}function Fr(x){var S=Hr(),I=x.focusedElem,H=x.selectionRange;if(S!==I&&I&&I.ownerDocument&&ce(I.ownerDocument.documentElement,I)){if(H!==null&&vn(I)){if(S=H.start,x=H.end,x===void 0&&(x=S),"selectionStart"in I)I.selectionStart=S,I.selectionEnd=Math.min(x,I.value.length);else if(x=(S=I.ownerDocument||document)&&S.defaultView||window,x.getSelection){x=x.getSelection();var Q=I.textContent.length,at=Math.min(H.start,Q);H=H.end===void 0?at:Math.min(H.end,Q),!x.extend&&at>H&&(Q=H,H=at,at=Q),Q=or(I,at);var Ft=or(I,H);Q&&Ft&&(x.rangeCount!==1||x.anchorNode!==Q.node||x.anchorOffset!==Q.offset||x.focusNode!==Ft.node||x.focusOffset!==Ft.offset)&&(S=S.createRange(),S.setStart(Q.node,Q.offset),x.removeAllRanges(),at>H?(x.addRange(S),x.extend(Ft.node,Ft.offset)):(S.setEnd(Ft.node,Ft.offset),x.addRange(S)))}}for(S=[],x=I;x=x.parentNode;)x.nodeType===1&&S.push({element:x,left:x.scrollLeft,top:x.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<S.length;I++)x=S[I],x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}var St=c&&"documentMode"in document&&11>=document.documentMode,zn=null,Wu=null,En=null,Bi=!1;function Kl(x,S,I){var H=I.window===I?I.document:I.nodeType===9?I:I.ownerDocument;Bi||zn==null||zn!==Vt(H)||(H=zn,"selectionStart"in H&&vn(H)?H={start:H.selectionStart,end:H.selectionEnd}:(H=(H.ownerDocument&&H.ownerDocument.defaultView||window).getSelection(),H={anchorNode:H.anchorNode,anchorOffset:H.anchorOffset,focusNode:H.focusNode,focusOffset:H.focusOffset}),En&&Go(En,H)||(En=H,H=Ls(Wu,"onSelect"),0<H.length&&(S=new Nt("onSelect","select",null,S,I),x.push({event:S,listeners:H}),S.target=zn)))}function da(x,S){var I={};return I[x.toLowerCase()]=S.toLowerCase(),I["Webkit"+x]="webkit"+S,I["Moz"+x]="moz"+S,I}var Fo={animationend:da("Animation","AnimationEnd"),animationiteration:da("Animation","AnimationIteration"),animationstart:da("Animation","AnimationStart"),transitionend:da("Transition","TransitionEnd")},ga={},_s={};c&&(_s=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function Hu(x){if(ga[x])return ga[x];if(!Fo[x])return x;var S=Fo[x],I;for(I in S)if(S.hasOwnProperty(I)&&I in _s)return ga[x]=S[I];return x}var Rr=Hu("animationend"),Gl=Hu("animationiteration"),Qi=Hu("animationstart"),yr=Hu("transitionend"),Vu=new Map,$a="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ro(x,S){Vu.set(x,S),a(S,[x])}for(var ki=0;ki<$a.length;ki++){var Ss=$a[ki],fc=Ss.toLowerCase(),Wa=Ss[0].toUpperCase()+Ss.slice(1);Ro(fc,"on"+Wa)}Ro(Rr,"onAnimationEnd"),Ro(Gl,"onAnimationIteration"),Ro(Qi,"onAnimationStart"),Ro("dblclick","onDoubleClick"),Ro("focusin","onFocus"),Ro("focusout","onBlur"),Ro(yr,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gn=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function hc(x,S,I){var H=x.type||"unknown-event";x.currentTarget=I,bu(H,S,void 0,x),x.currentTarget=null}function Ha(x,S){S=(S&4)!==0;for(var I=0;I<x.length;I++){var H=x[I],Q=H.event;H=H.listeners;t:{var at=void 0;if(S)for(var Ft=H.length-1;0<=Ft;Ft--){var te=H[Ft],he=te.instance,Re=te.currentTarget;if(te=te.listener,he!==at&&Q.isPropagationStopped())break t;hc(Q,te,Re),at=he}else for(Ft=0;Ft<H.length;Ft++){if(te=H[Ft],he=te.instance,Re=te.currentTarget,te=te.listener,he!==at&&Q.isPropagationStopped())break t;hc(Q,te,Re),at=he}}}if(cs)throw x=nl,cs=!1,nl=null,x}function bn(x,S){var I=S[Es];I===void 0&&(I=S[Es]=new Set);var H=x+"__bubble";I.has(H)||(Ea(S,x,2,!1),I.add(H))}function Sa(x,S,I){var H=0;S&&(H|=4),Ea(I,x,H,S)}var ma="_reactListening"+Math.random().toString(36).slice(2);function Vr(x){if(!x[ma]){x[ma]=!0,r.forEach(function(I){I!=="selectionchange"&&(gn.has(I)||Sa(I,!1,x),Sa(I,!0,x))});var S=x.nodeType===9?x:x.ownerDocument;S===null||S[ma]||(S[ma]=!0,Sa("selectionchange",!1,S))}}function Ea(x,S,I,H){switch(ns(S)){case 1:var Q=Lu;break;case 4:Q=ha;break;default:Q=Gi}I=Q.bind(null,S,I,x),Q=void 0,!fa||S!=="touchstart"&&S!=="touchmove"&&S!=="wheel"||(Q=!0),H?Q!==void 0?x.addEventListener(S,I,{capture:!0,passive:Q}):x.addEventListener(S,I,!0):Q!==void 0?x.addEventListener(S,I,{passive:Q}):x.addEventListener(S,I,!1)}function tn(x,S,I,H,Q){var at=H;if(!(S&1)&&!(S&2)&&H!==null)t:for(;;){if(H===null)return;var Ft=H.tag;if(Ft===3||Ft===4){var te=H.stateNode.containerInfo;if(te===Q||te.nodeType===8&&te.parentNode===Q)break;if(Ft===4)for(Ft=H.return;Ft!==null;){var he=Ft.tag;if((he===3||he===4)&&(he=Ft.stateNode.containerInfo,he===Q||he.nodeType===8&&he.parentNode===Q))return;Ft=Ft.return}for(;te!==null;){if(Ft=Yl(te),Ft===null)return;if(he=Ft.tag,he===5||he===6){H=at=Ft;continue t}te=te.parentNode}}H=H.return}Nu(function(){var Re=at,Cn=yu(I),kn=[];t:{var yn=Vu.get(x);if(yn!==void 0){var zr=Nt,wi=x;switch(x){case"keypress":if(Co(I)===0)break t;case"keydown":case"keyup":zr=ea;break;case"focusin":wi="focus",zr=Ca;break;case"focusout":wi="blur",zr=Ca;break;case"beforeblur":case"afterblur":zr=Ca;break;case"click":if(I.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":zr=Pe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":zr=Ci;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":zr=jl;break;case Rr:case Gl:case Qi:zr=Ce;break;case yr:zr=Bo;break;case"scroll":zr=Fe;break;case"wheel":zr=nf;break;case"copy":case"cut":case"paste":zr=_i;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":zr=Oc}var Pi=(S&4)!==0,zh=!Pi&&x==="scroll",_e=Pi?yn!==null?yn+"Capture":null:yn;Pi=[];for(var me=Re,Me;me!==null;){Me=me;var Hn=Me.stateNode;if(Me.tag===5&&Hn!==null&&(Me=Hn,_e!==null&&(Hn=ts(me,_e),Hn!=null&&Pi.push(Ho(me,Hn,Me)))),zh)break;me=me.return}0<Pi.length&&(yn=new zr(yn,wi,null,I,Cn),kn.push({event:yn,listeners:Pi}))}}if(!(S&7)){t:{if(yn=x==="mouseover"||x==="pointerover",zr=x==="mouseout"||x==="pointerout",yn&&I!==ls&&(wi=I.relatedTarget||I.fromElement)&&(Yl(wi)||wi[ue]))break t;if((zr||yn)&&(yn=Cn.window===Cn?Cn:(yn=Cn.ownerDocument)?yn.defaultView||yn.parentWindow:window,zr?(wi=I.relatedTarget||I.toElement,zr=Re,wi=wi?Yl(wi):null,wi!==null&&(zh=Gs(wi),wi!==zh||wi.tag!==5&&wi.tag!==6)&&(wi=null)):(zr=null,wi=Re),zr!==wi)){if(Pi=Pe,Hn="onMouseLeave",_e="onMouseEnter",me="mouse",(x==="pointerout"||x==="pointerover")&&(Pi=Oc,Hn="onPointerLeave",_e="onPointerEnter",me="pointer"),zh=zr==null?yn:ol(zr),Me=wi==null?yn:ol(wi),yn=new Pi(Hn,me+"leave",zr,I,Cn),yn.target=zh,yn.relatedTarget=Me,Hn=null,Yl(Cn)===Re&&(Pi=new Pi(_e,me+"enter",wi,I,Cn),Pi.target=Me,Pi.relatedTarget=zh,Hn=Pi),zh=Hn,zr&&wi)e:{for(Pi=zr,_e=wi,me=0,Me=Pi;Me;Me=xl(Me))me++;for(Me=0,Hn=_e;Hn;Hn=xl(Hn))Me++;for(;0<me-Me;)Pi=xl(Pi),me--;for(;0<Me-me;)_e=xl(_e),Me--;for(;me--;){if(Pi===_e||_e!==null&&Pi===_e.alternate)break e;Pi=xl(Pi),_e=xl(_e)}Pi=null}else Pi=null;zr!==null&&pc(kn,yn,zr,Pi,!1),wi!==null&&zh!==null&&pc(kn,zh,wi,Pi,!0)}}t:{if(yn=Re?ol(Re):window,zr=yn.nodeName&&yn.nodeName.toLowerCase(),zr==="select"||zr==="input"&&yn.type==="file")var Hi=Ko;else if(df(yn))if(aa)Hi=is;else{Hi=Jf;var Vo=rf}else(zr=yn.nodeName)&&zr.toLowerCase()==="input"&&(yn.type==="checkbox"||yn.type==="radio")&&(Hi=rs);if(Hi&&(Hi=Hi(x,Re))){xh(kn,Hi,I,Cn);break t}Vo&&Vo(x,yn,Re),x==="focusout"&&(Vo=yn._wrapperState)&&Vo.controlled&&yn.type==="number"&&Rt(yn,"number",yn.value)}switch(Vo=Re?ol(Re):window,x){case"focusin":(df(Vo)||Vo.contentEditable==="true")&&(zn=Vo,Wu=Re,En=null);break;case"focusout":En=Wu=zn=null;break;case"mousedown":Bi=!0;break;case"contextmenu":case"mouseup":case"dragend":Bi=!1,Kl(kn,I,Cn);break;case"selectionchange":if(St)break;case"keydown":case"keyup":Kl(kn,I,Cn)}var qo;if(Of)t:{switch(x){case"compositionstart":var Fa="onCompositionStart";break t;case"compositionend":Fa="onCompositionEnd";break t;case"compositionupdate":Fa="onCompositionUpdate";break t}Fa=void 0}else sn?Wh(x,I)&&(Fa="onCompositionEnd"):x==="keydown"&&I.keyCode===229&&(Fa="onCompositionStart");Fa&&(ou&&I.locale!=="ko"&&(sn||Fa!=="onCompositionStart"?Fa==="onCompositionEnd"&&sn&&(qo=lc()):(Wr=Cn,xr="value"in Wr?Wr.value:Wr.textContent,sn=!0)),Vo=Ls(Re,Fa),0<Vo.length&&(Fa=new Yc(Fa,x,null,I,Cn),kn.push({event:Fa,listeners:Vo}),qo?Fa.data=qo:(qo=Lh(I),qo!==null&&(Fa.data=qo)))),(qo=$u?on(x,I):pa(x,I))&&(Re=Ls(Re,"onBeforeInput"),0<Re.length&&(Cn=new Yc("onBeforeInput","beforeinput",null,I,Cn),kn.push({event:Cn,listeners:Re}),Cn.data=qo))}Ha(kn,S)})}function Ho(x,S,I){return{instance:x,listener:S,currentTarget:I}}function Ls(x,S){for(var I=S+"Capture",H=[];x!==null;){var Q=x,at=Q.stateNode;Q.tag===5&&at!==null&&(Q=at,at=ts(x,I),at!=null&&H.unshift(Ho(x,at,Q)),at=ts(x,S),at!=null&&H.push(Ho(x,at,Q))),x=x.return}return H}function xl(x){if(x===null)return null;do x=x.return;while(x&&x.tag!==5);return x||null}function pc(x,S,I,H,Q){for(var at=S._reactName,Ft=[];I!==null&&I!==H;){var te=I,he=te.alternate,Re=te.stateNode;if(he!==null&&he===H)break;te.tag===5&&Re!==null&&(te=Re,Q?(he=ts(I,at),he!=null&&Ft.unshift(Ho(I,he,te))):Q||(he=ts(I,at),he!=null&&Ft.push(Ho(I,he,te)))),I=I.return}Ft.length!==0&&x.push({event:S,listeners:Ft})}var Po=/\r\n?/g,Js=/\u0000|\uFFFD/g;function _o(x){return(typeof x=="string"?x:""+x).replace(Po,`
`).replace(Js,"")}function jo(x,S,I){if(S=_o(S),_o(x)!==S&&I)throw Error(e(425))}function qu(){}var Cu=null,Ta=null;function dr(x,S){return x==="textarea"||x==="noscript"||typeof S.children=="string"||typeof S.children=="number"||typeof S.dangerouslySetInnerHTML=="object"&&S.dangerouslySetInnerHTML!==null&&S.dangerouslySetInnerHTML.__html!=null}var ar=typeof setTimeout=="function"?setTimeout:void 0,zs=typeof clearTimeout=="function"?clearTimeout:void 0,Wi=typeof Promise=="function"?Promise:void 0,Si=typeof queueMicrotask=="function"?queueMicrotask:typeof Wi<"u"?function(x){return Wi.resolve(null).then(x).catch(_u)}:ar;function _u(x){setTimeout(function(){throw x})}function Qs(x,S){var I=S,H=0;do{var Q=I.nextSibling;if(x.removeChild(I),Q&&Q.nodeType===8)if(I=Q.data,I==="/$"){if(H===0){x.removeChild(Q),Xs(S);return}H--}else I!=="$"&&I!=="$?"&&I!=="$!"||H++;I=Q}while(I);Xs(S)}function Zi(x){for(;x!=null;x=x.nextSibling){var S=x.nodeType;if(S===1||S===3)break;if(S===8){if(S=x.data,S==="$"||S==="$!"||S==="$?")break;if(S==="/$")return null}}return x}function Dl(x){x=x.previousSibling;for(var S=0;x;){if(x.nodeType===8){var I=x.data;if(I==="$"||I==="$!"||I==="$?"){if(S===0)return x;S--}else I==="/$"&&S++}x=x.previousSibling}return null}var zl=Math.random().toString(36).slice(2),fs="__reactFiber$"+zl,Us="__reactProps$"+zl,ue="__reactContainer$"+zl,Es="__reactEvents$"+zl,mi="__reactListeners$"+zl,os="__reactHandles$"+zl;function Yl(x){var S=x[fs];if(S)return S;for(var I=x.parentNode;I;){if(S=I[ue]||I[fs]){if(I=S.alternate,S.child!==null||I!==null&&I.child!==null)for(x=Dl(x);x!==null;){if(I=x[fs])return I;x=Dl(x)}return S}x=I,I=x.parentNode}return null}function hs(x){return x=x[fs]||x[ue],!x||x.tag!==5&&x.tag!==6&&x.tag!==13&&x.tag!==3?null:x}function ol(x){if(x.tag===5||x.tag===6)return x.stateNode;throw Error(e(33))}function Un(x){return x[Us]||null}var Xc=[],Fn=-1;function to(x){return{current:x}}function Or(x){0>Fn||(x.current=Xc[Fn],Xc[Fn]=null,Fn--)}function Qr(x,S){Fn++,Xc[Fn]=x.current,x.current=S}var fn={},Yn=to(fn),oi=to(!1),na=fn;function Va(x,S){var I=x.type.contextTypes;if(!I)return fn;var H=x.stateNode;if(H&&H.__reactInternalMemoizedUnmaskedChildContext===S)return H.__reactInternalMemoizedMaskedChildContext;var Q={},at;for(at in I)Q[at]=S[at];return H&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=S,x.__reactInternalMemoizedMaskedChildContext=Q),Q}function qa(x){return x=x.childContextTypes,x!=null}function Ri(){Or(oi),Or(Yn)}function Yo(x,S,I){if(Yn.current!==fn)throw Error(e(168));Qr(Yn,S),Qr(oi,I)}function wr(x,S,I){var H=x.stateNode;if(S=S.childContextTypes,typeof H.getChildContext!="function")return I;H=H.getChildContext();for(var Q in H)if(!(Q in S))throw Error(e(108,qe(x)||"Unknown",Q));return mt({},I,H)}function di(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||fn,na=Yn.current,Qr(Yn,x),Qr(oi,oi.current),!0}function ai(x,S,I){var H=x.stateNode;if(!H)throw Error(e(169));I?(x=wr(x,S,na),H.__reactInternalMemoizedMergedChildContext=x,Or(oi),Or(Yn),Qr(Yn,x)):Or(oi),Qr(oi,I)}var Xl=null,Ur=!1,Jl=!1;function Cl(x){Xl===null?Xl=[x]:Xl.push(x)}function Su(x){Ur=!0,Cl(x)}function _l(){if(!Jl&&Xl!==null){Jl=!0;var x=0,S=br;try{var I=Xl;for(br=1;x<I.length;x++){var H=I[x];do H=H(!0);while(H!==null)}Xl=null,Ur=!1}catch(Q){throw Xl!==null&&(Xl=Xl.slice(x+1)),hr(be,_l),Q}finally{br=S,Jl=!1}}return null}var ps=[],al=0,Sl=null,An=0,$n=[],ji=0,Mi=null,Aa=1,Zs="";function Eu(x,S){ps[al++]=An,ps[al++]=Sl,Sl=x,An=S}function Lo(x,S,I){$n[ji++]=Aa,$n[ji++]=Zs,$n[ji++]=Mi,Mi=x;var H=Aa;x=Zs;var Q=32-kr(H)-1;H&=~(1<<Q),I+=1;var at=32-kr(S)+Q;if(30<at){var Ft=Q-Q%5;at=(H&(1<<Ft)-1).toString(32),H>>=Ft,Q-=Ft,Aa=1<<32-kr(S)+Q|I<<Q|H,Zs=at+x}else Aa=1<<at|I<<Q|H,Zs=x}function zo(x){x.return!==null&&(Eu(x,1),Lo(x,1,0))}function va(x){for(;x===Sl;)Sl=ps[--al],ps[al]=null,An=ps[--al],ps[al]=null;for(;x===Mi;)Mi=$n[--ji],$n[ji]=null,Zs=$n[--ji],$n[ji]=null,Aa=$n[--ji],$n[ji]=null}var Uo=null,To=null,oo=!1,eo=null;function Oo(x,S){var I=D(5,null,null,0);I.elementType="DELETED",I.stateNode=S,I.return=x,S=x.deletions,S===null?(x.deletions=[I],x.flags|=16):S.push(I)}function Xo(x,S){switch(x.tag){case 5:var I=x.type;return S=S.nodeType!==1||I.toLowerCase()!==S.nodeName.toLowerCase()?null:S,S!==null?(x.stateNode=S,Uo=x,To=Zi(S.firstChild),!0):!1;case 6:return S=x.pendingProps===""||S.nodeType!==3?null:S,S!==null?(x.stateNode=S,Uo=x,To=null,!0):!1;case 13:return S=S.nodeType!==8?null:S,S!==null?(I=Mi!==null?{id:Aa,overflow:Zs}:null,x.memoizedState={dehydrated:S,treeContext:I,retryLane:1073741824},I=D(18,null,null,0),I.stateNode=S,I.return=x,x.child=I,Uo=x,To=null,!0):!1;default:return!1}}function Ku(x){return(x.mode&1)!==0&&(x.flags&128)===0}function Ka(x){if(oo){var S=To;if(S){var I=S;if(!Xo(x,S)){if(Ku(x))throw Error(e(418));S=Zi(I.nextSibling);var H=Uo;S&&Xo(x,S)?Oo(H,I):(x.flags=x.flags&-4097|2,oo=!1,Uo=x)}}else{if(Ku(x))throw Error(e(418));x.flags=x.flags&-4097|2,oo=!1,Uo=x}}}function ds(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Uo=x}function ra(x){if(x!==Uo)return!1;if(!oo)return ds(x),oo=!0,!1;var S;if((S=x.tag!==3)&&!(S=x.tag!==5)&&(S=x.type,S=S!=="head"&&S!=="body"&&!dr(x.type,x.memoizedProps)),S&&(S=To)){if(Ku(x))throw of(),Error(e(418));for(;S;)Oo(x,S),S=Zi(S.nextSibling)}if(ds(x),x.tag===13){if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(e(317));t:{for(x=x.nextSibling,S=0;x;){if(x.nodeType===8){var I=x.data;if(I==="/$"){if(S===0){To=Zi(x.nextSibling);break t}S--}else I!=="$"&&I!=="$!"&&I!=="$?"||S++}x=x.nextSibling}To=null}}else To=Uo?Zi(x.stateNode.nextSibling):null;return!0}function of(){for(var x=To;x;)x=Zi(x.nextSibling)}function Ul(){To=Uo=null,oo=!1}function gr(x){eo===null?eo=[x]:eo.push(x)}var $s=z.ReactCurrentBatchConfig;function Ga(x,S,I){if(x=I.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(e(309));var H=I.stateNode}if(!H)throw Error(e(147,x));var Q=H,at=""+x;return S!==null&&S.ref!==null&&typeof S.ref=="function"&&S.ref._stringRef===at?S.ref:(S=function(Ft){var te=Q.refs;Ft===null?delete te[at]:te[at]=Ft},S._stringRef=at,S)}if(typeof x!="string")throw Error(e(284));if(!I._owner)throw Error(e(290,x))}return x}function Nf(x,S){throw x=Object.prototype.toString.call(S),Error(e(31,x==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":x))}function El(x){var S=x._init;return S(x._payload)}function Ei(x){function S(_e,me){if(x){var Me=_e.deletions;Me===null?(_e.deletions=[me],_e.flags|=16):Me.push(me)}}function I(_e,me){if(!x)return null;for(;me!==null;)S(_e,me),me=me.sibling;return null}function H(_e,me){for(_e=new Map;me!==null;)me.key!==null?_e.set(me.key,me):_e.set(me.index,me),me=me.sibling;return _e}function Q(_e,me){return _e=$(_e,me),_e.index=0,_e.sibling=null,_e}function at(_e,me,Me){return _e.index=Me,x?(Me=_e.alternate,Me!==null?(Me=Me.index,Me<me?(_e.flags|=2,me):Me):(_e.flags|=2,me)):(_e.flags|=1048576,me)}function Ft(_e){return x&&_e.alternate===null&&(_e.flags|=2),_e}function te(_e,me,Me,Hn){return me===null||me.tag!==6?(me=Mt(Me,_e.mode,Hn),me.return=_e,me):(me=Q(me,Me),me.return=_e,me)}function he(_e,me,Me,Hn){var Hi=Me.type;return Hi===X?Cn(_e,me,Me.props.children,Hn,Me.key):me!==null&&(me.elementType===Hi||typeof Hi=="object"&&Hi!==null&&Hi.$$typeof===At&&El(Hi)===me.type)?(Hn=Q(me,Me.props),Hn.ref=Ga(_e,me,Me),Hn.return=_e,Hn):(Hn=Y(Me.type,Me.key,Me.props,null,_e.mode,Hn),Hn.ref=Ga(_e,me,Me),Hn.return=_e,Hn)}function Re(_e,me,Me,Hn){return me===null||me.tag!==4||me.stateNode.containerInfo!==Me.containerInfo||me.stateNode.implementation!==Me.implementation?(me=$t(Me,_e.mode,Hn),me.return=_e,me):(me=Q(me,Me.children||[]),me.return=_e,me)}function Cn(_e,me,Me,Hn,Hi){return me===null||me.tag!==7?(me=lt(Me,_e.mode,Hn,Hi),me.return=_e,me):(me=Q(me,Me),me.return=_e,me)}function kn(_e,me,Me){if(typeof me=="string"&&me!==""||typeof me=="number")return me=Mt(""+me,_e.mode,Me),me.return=_e,me;if(typeof me=="object"&&me!==null){switch(me.$$typeof){case q:return Me=Y(me.type,me.key,me.props,null,_e.mode,Me),Me.ref=Ga(_e,null,me),Me.return=_e,Me;case V:return me=$t(me,_e.mode,Me),me.return=_e,me;case At:var Hn=me._init;return kn(_e,Hn(me._payload),Me)}if(Xt(me)||Et(me))return me=lt(me,_e.mode,Me,null),me.return=_e,me;Nf(_e,me)}return null}function yn(_e,me,Me,Hn){var Hi=me!==null?me.key:null;if(typeof Me=="string"&&Me!==""||typeof Me=="number")return Hi!==null?null:te(_e,me,""+Me,Hn);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case q:return Me.key===Hi?he(_e,me,Me,Hn):null;case V:return Me.key===Hi?Re(_e,me,Me,Hn):null;case At:return Hi=Me._init,yn(_e,me,Hi(Me._payload),Hn)}if(Xt(Me)||Et(Me))return Hi!==null?null:Cn(_e,me,Me,Hn,null);Nf(_e,Me)}return null}function zr(_e,me,Me,Hn,Hi){if(typeof Hn=="string"&&Hn!==""||typeof Hn=="number")return _e=_e.get(Me)||null,te(me,_e,""+Hn,Hi);if(typeof Hn=="object"&&Hn!==null){switch(Hn.$$typeof){case q:return _e=_e.get(Hn.key===null?Me:Hn.key)||null,he(me,_e,Hn,Hi);case V:return _e=_e.get(Hn.key===null?Me:Hn.key)||null,Re(me,_e,Hn,Hi);case At:var Vo=Hn._init;return zr(_e,me,Me,Vo(Hn._payload),Hi)}if(Xt(Hn)||Et(Hn))return _e=_e.get(Me)||null,Cn(me,_e,Hn,Hi,null);Nf(me,Hn)}return null}function wi(_e,me,Me,Hn){for(var Hi=null,Vo=null,qo=me,Fa=me=0,cp=null;qo!==null&&Fa<Me.length;Fa++){qo.index>Fa?(cp=qo,qo=null):cp=qo.sibling;var mc=yn(_e,qo,Me[Fa],Hn);if(mc===null){qo===null&&(qo=cp);break}x&&qo&&mc.alternate===null&&S(_e,qo),me=at(mc,me,Fa),Vo===null?Hi=mc:Vo.sibling=mc,Vo=mc,qo=cp}if(Fa===Me.length)return I(_e,qo),oo&&Eu(_e,Fa),Hi;if(qo===null){for(;Fa<Me.length;Fa++)qo=kn(_e,Me[Fa],Hn),qo!==null&&(me=at(qo,me,Fa),Vo===null?Hi=qo:Vo.sibling=qo,Vo=qo);return oo&&Eu(_e,Fa),Hi}for(qo=H(_e,qo);Fa<Me.length;Fa++)cp=zr(qo,_e,Fa,Me[Fa],Hn),cp!==null&&(x&&cp.alternate!==null&&qo.delete(cp.key===null?Fa:cp.key),me=at(cp,me,Fa),Vo===null?Hi=cp:Vo.sibling=cp,Vo=cp);return x&&qo.forEach(function(xv){return S(_e,xv)}),oo&&Eu(_e,Fa),Hi}function Pi(_e,me,Me,Hn){var Hi=Et(Me);if(typeof Hi!="function")throw Error(e(150));if(Me=Hi.call(Me),Me==null)throw Error(e(151));for(var Vo=Hi=null,qo=me,Fa=me=0,cp=null,mc=Me.next();qo!==null&&!mc.done;Fa++,mc=Me.next()){qo.index>Fa?(cp=qo,qo=null):cp=qo.sibling;var xv=yn(_e,qo,mc.value,Hn);if(xv===null){qo===null&&(qo=cp);break}x&&qo&&xv.alternate===null&&S(_e,qo),me=at(xv,me,Fa),Vo===null?Hi=xv:Vo.sibling=xv,Vo=xv,qo=cp}if(mc.done)return I(_e,qo),oo&&Eu(_e,Fa),Hi;if(qo===null){for(;!mc.done;Fa++,mc=Me.next())mc=kn(_e,mc.value,Hn),mc!==null&&(me=at(mc,me,Fa),Vo===null?Hi=mc:Vo.sibling=mc,Vo=mc);return oo&&Eu(_e,Fa),Hi}for(qo=H(_e,qo);!mc.done;Fa++,mc=Me.next())mc=zr(qo,_e,Fa,mc.value,Hn),mc!==null&&(x&&mc.alternate!==null&&qo.delete(mc.key===null?Fa:mc.key),me=at(mc,me,Fa),Vo===null?Hi=mc:Vo.sibling=mc,Vo=mc);return x&&qo.forEach(function(DG){return S(_e,DG)}),oo&&Eu(_e,Fa),Hi}function zh(_e,me,Me,Hn){if(typeof Me=="object"&&Me!==null&&Me.type===X&&Me.key===null&&(Me=Me.props.children),typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case q:t:{for(var Hi=Me.key,Vo=me;Vo!==null;){if(Vo.key===Hi){if(Hi=Me.type,Hi===X){if(Vo.tag===7){I(_e,Vo.sibling),me=Q(Vo,Me.props.children),me.return=_e,_e=me;break t}}else if(Vo.elementType===Hi||typeof Hi=="object"&&Hi!==null&&Hi.$$typeof===At&&El(Hi)===Vo.type){I(_e,Vo.sibling),me=Q(Vo,Me.props),me.ref=Ga(_e,Vo,Me),me.return=_e,_e=me;break t}I(_e,Vo);break}else S(_e,Vo);Vo=Vo.sibling}Me.type===X?(me=lt(Me.props.children,_e.mode,Hn,Me.key),me.return=_e,_e=me):(Hn=Y(Me.type,Me.key,Me.props,null,_e.mode,Hn),Hn.ref=Ga(_e,me,Me),Hn.return=_e,_e=Hn)}return Ft(_e);case V:t:{for(Vo=Me.key;me!==null;){if(me.key===Vo)if(me.tag===4&&me.stateNode.containerInfo===Me.containerInfo&&me.stateNode.implementation===Me.implementation){I(_e,me.sibling),me=Q(me,Me.children||[]),me.return=_e,_e=me;break t}else{I(_e,me);break}else S(_e,me);me=me.sibling}me=$t(Me,_e.mode,Hn),me.return=_e,_e=me}return Ft(_e);case At:return Vo=Me._init,zh(_e,me,Vo(Me._payload),Hn)}if(Xt(Me))return wi(_e,me,Me,Hn);if(Et(Me))return Pi(_e,me,Me,Hn);Nf(_e,Me)}return typeof Me=="string"&&Me!==""||typeof Me=="number"?(Me=""+Me,me!==null&&me.tag===6?(I(_e,me.sibling),me=Q(me,Me),me.return=_e,_e=me):(I(_e,me),me=Mt(Me,_e.mode,Hn),me.return=_e,_e=me),Ft(_e)):I(_e,me)}return zh}var Ya=Ei(!0),po=Ei(!1),gs=to(null),So=null,vi=null,Yt=null;function Jo(){Yt=vi=So=null}function er(x){var S=gs.current;Or(gs),x._currentValue=S}function si(x,S,I){for(;x!==null;){var H=x.alternate;if((x.childLanes&S)!==S?(x.childLanes|=S,H!==null&&(H.childLanes|=S)):H!==null&&(H.childLanes&S)!==S&&(H.childLanes|=S),x===I)break;x=x.return}}function mr(x,S){So=x,Yt=vi=null,x=x.dependencies,x!==null&&x.firstContext!==null&&(x.lanes&S&&(Qn=!0),x.firstContext=null)}function ua(x){var S=x._currentValue;if(Yt!==x)if(x={context:x,memoizedValue:S,next:null},vi===null){if(So===null)throw Error(e(308));vi=x,So.dependencies={lanes:0,firstContext:x}}else vi=vi.next=x;return S}var cn=null;function $l(x){cn===null?cn=[x]:cn.push(x)}function Qo(x,S,I,H){var Q=S.interleaved;return Q===null?(I.next=I,$l(S)):(I.next=Q.next,Q.next=I),S.interleaved=I,sr(x,H)}function sr(x,S){x.lanes|=S;var I=x.alternate;for(I!==null&&(I.lanes|=S),I=x,x=x.return;x!==null;)x.childLanes|=S,I=x.alternate,I!==null&&(I.childLanes|=S),I=x,x=x.return;return I.tag===3?I.stateNode:null}var ur=!1;function Ue(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dr(x,S){x=x.updateQueue,S.updateQueue===x&&(S.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Kn(x,S){return{eventTime:x,lane:S,tag:0,payload:null,callback:null,next:null}}function Al(x,S,I){var H=x.updateQueue;if(H===null)return null;if(H=H.shared,fr&2){var Q=H.pending;return Q===null?S.next=S:(S.next=Q.next,Q.next=S),H.pending=S,sr(x,I)}return Q=H.interleaved,Q===null?(S.next=S,$l(H)):(S.next=Q.next,Q.next=S),H.interleaved=S,sr(x,I)}function Zr(x,S,I){if(S=S.updateQueue,S!==null&&(S=S.shared,(I&4194240)!==0)){var H=S.lanes;H&=x.pendingLanes,I|=H,S.lanes=I,Br(x,I)}}function Wl(x,S){var I=x.updateQueue,H=x.alternate;if(H!==null&&(H=H.updateQueue,I===H)){var Q=null,at=null;if(I=I.firstBaseUpdate,I!==null){do{var Ft={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};at===null?Q=at=Ft:at=at.next=Ft,I=I.next}while(I!==null);at===null?Q=at=S:at=at.next=S}else Q=at=S;I={baseState:H.baseState,firstBaseUpdate:Q,lastBaseUpdate:at,shared:H.shared,effects:H.effects},x.updateQueue=I;return}x=I.lastBaseUpdate,x===null?I.firstBaseUpdate=S:x.next=S,I.lastBaseUpdate=S}function dc(x,S,I,H){var Q=x.updateQueue;ur=!1;var at=Q.firstBaseUpdate,Ft=Q.lastBaseUpdate,te=Q.shared.pending;if(te!==null){Q.shared.pending=null;var he=te,Re=he.next;he.next=null,Ft===null?at=Re:Ft.next=Re,Ft=he;var Cn=x.alternate;Cn!==null&&(Cn=Cn.updateQueue,te=Cn.lastBaseUpdate,te!==Ft&&(te===null?Cn.firstBaseUpdate=Re:te.next=Re,Cn.lastBaseUpdate=he))}if(at!==null){var kn=Q.baseState;Ft=0,Cn=Re=he=null,te=at;do{var yn=te.lane,zr=te.eventTime;if((H&yn)===yn){Cn!==null&&(Cn=Cn.next={eventTime:zr,lane:0,tag:te.tag,payload:te.payload,callback:te.callback,next:null});t:{var wi=x,Pi=te;switch(yn=S,zr=I,Pi.tag){case 1:if(wi=Pi.payload,typeof wi=="function"){kn=wi.call(zr,kn,yn);break t}kn=wi;break t;case 3:wi.flags=wi.flags&-65537|128;case 0:if(wi=Pi.payload,yn=typeof wi=="function"?wi.call(zr,kn,yn):wi,yn==null)break t;kn=mt({},kn,yn);break t;case 2:ur=!0}}te.callback!==null&&te.lane!==0&&(x.flags|=64,yn=Q.effects,yn===null?Q.effects=[te]:yn.push(te))}else zr={eventTime:zr,lane:yn,tag:te.tag,payload:te.payload,callback:te.callback,next:null},Cn===null?(Re=Cn=zr,he=kn):Cn=Cn.next=zr,Ft|=yn;if(te=te.next,te===null){if(te=Q.shared.pending,te===null)break;yn=te,te=yn.next,yn.next=null,Q.lastBaseUpdate=yn,Q.shared.pending=null}}while(!0);if(Cn===null&&(he=kn),Q.baseState=he,Q.firstBaseUpdate=Re,Q.lastBaseUpdate=Cn,S=Q.shared.interleaved,S!==null){Q=S;do Ft|=Q.lane,Q=Q.next;while(Q!==S)}else at===null&&(Q.shared.lanes=0);ff|=Ft,x.lanes=Ft,x.memoizedState=kn}}function go(x,S,I){if(x=S.effects,S.effects=null,x!==null)for(S=0;S<x.length;S++){var H=x[S],Q=H.callback;if(Q!==null){if(H.callback=null,H=I,typeof Q!="function")throw Error(e(191,Q));Q.call(H)}}}var Ws={},ao=to(Ws),kl=to(Ws),gi=to(Ws);function no(x){if(x===Ws)throw Error(e(174));return x}function As(x,S){switch(Qr(gi,S),Qr(kl,x),Qr(ao,Ws),x=S.nodeType,x){case 9:case 11:S=(S=S.documentElement)?S.namespaceURI:je(null,"");break;default:x=x===8?S.parentNode:S,S=x.namespaceURI||null,x=x.tagName,S=je(S,x)}Or(ao),Qr(ao,S)}function sl(){Or(ao),Or(kl),Or(gi)}function Hs(x){no(gi.current);var S=no(ao.current),I=je(S,x.type);S!==I&&(Qr(kl,x),Qr(ao,I))}function Ic(x){kl.current===x&&(Or(ao),Or(kl))}var Nn=to(0);function so(x){for(var S=x;S!==null;){if(S.tag===13){var I=S.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||I.data==="$?"||I.data==="$!"))return S}else if(S.tag===19&&S.memoizedProps.revealOrder!==void 0){if(S.flags&128)return S}else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return null;S=S.return}S.sibling.return=S.return,S=S.sibling}return null}var Au=[];function Ql(){for(var x=0;x<Au.length;x++)Au[x]._workInProgressVersionPrimary=null;Au.length=0}var mf=z.ReactCurrentDispatcher,ch=z.ReactCurrentBatchConfig,Zl=0,uo=null,Oa=null,lo=null,Ml=!1,vf=!1,yf=0,Ar=0;function ul(){throw Error(e(321))}function tu(x,S){if(S===null)return!1;for(var I=0;I<S.length&&I<x.length;I++)if(!P(x[I],S[I]))return!1;return!0}function fh(x,S,I,H,Q,at){if(Zl=at,uo=S,S.memoizedState=null,S.updateQueue=null,S.lanes=0,mf.current=x===null||x.memoizedState===null?nh:Fl,x=I(H,Q),vf){at=0;do{if(vf=!1,yf=0,25<=at)throw Error(e(301));at+=1,lo=Oa=null,S.updateQueue=null,mf.current=lf,x=I(H,Q)}while(vf)}if(mf.current=ks,S=Oa!==null&&Oa.next!==null,Zl=0,lo=Oa=uo=null,Ml=!1,S)throw Error(e(300));return x}function Gu(){var x=yf!==0;return yf=0,x}function Dc(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lo===null?uo.memoizedState=lo=x:lo=lo.next=x,lo}function Hl(){if(Oa===null){var x=uo.alternate;x=x!==null?x.memoizedState:null}else x=Oa.next;var S=lo===null?uo.memoizedState:lo.next;if(S!==null)lo=S,Oa=x;else{if(x===null)throw Error(e(310));Oa=x,x={memoizedState:Oa.memoizedState,baseState:Oa.baseState,baseQueue:Oa.baseQueue,queue:Oa.queue,next:null},lo===null?uo.memoizedState=lo=x:lo=lo.next=x}return lo}function Qf(x,S){return typeof S=="function"?S(x):S}function Cc(x){var S=Hl(),I=S.queue;if(I===null)throw Error(e(311));I.lastRenderedReducer=x;var H=Oa,Q=H.baseQueue,at=I.pending;if(at!==null){if(Q!==null){var Ft=Q.next;Q.next=at.next,at.next=Ft}H.baseQueue=Q=at,I.pending=null}if(Q!==null){at=Q.next,H=H.baseState;var te=Ft=null,he=null,Re=at;do{var Cn=Re.lane;if((Zl&Cn)===Cn)he!==null&&(he=he.next={lane:0,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null}),H=Re.hasEagerState?Re.eagerState:x(H,Re.action);else{var kn={lane:Cn,action:Re.action,hasEagerState:Re.hasEagerState,eagerState:Re.eagerState,next:null};he===null?(te=he=kn,Ft=H):he=he.next=kn,uo.lanes|=Cn,ff|=Cn}Re=Re.next}while(Re!==null&&Re!==at);he===null?Ft=H:he.next=te,P(H,S.memoizedState)||(Qn=!0),S.memoizedState=H,S.baseState=Ft,S.baseQueue=he,I.lastRenderedState=H}if(x=I.interleaved,x!==null){Q=x;do at=Q.lane,uo.lanes|=at,ff|=at,Q=Q.next;while(Q!==x)}else Q===null&&(I.lanes=0);return[S.memoizedState,I.dispatch]}function su(x){var S=Hl(),I=S.queue;if(I===null)throw Error(e(311));I.lastRenderedReducer=x;var H=I.dispatch,Q=I.pending,at=S.memoizedState;if(Q!==null){I.pending=null;var Ft=Q=Q.next;do at=x(at,Ft.action),Ft=Ft.next;while(Ft!==Q);P(at,S.memoizedState)||(Qn=!0),S.memoizedState=at,S.baseQueue===null&&(S.baseState=at),I.lastRenderedState=at}return[at,H]}function Mh(){}function Fh(x,S){var I=uo,H=Hl(),Q=S(),at=!P(H.memoizedState,Q);if(at&&(H.memoizedState=Q,Qn=!0),H=H.queue,sf(Th.bind(null,I,H,x),[x]),H.getSnapshot!==S||at||lo!==null&&lo.memoizedState.tag&1){if(I.flags|=2048,th(9,hh.bind(null,I,H,Q,S),void 0,null),ta===null)throw Error(e(349));Zl&30||Ph(I,S,Q)}return Q}function Ph(x,S,I){x.flags|=16384,x={getSnapshot:S,value:I},S=uo.updateQueue,S===null?(S={lastEffect:null,stores:null},uo.updateQueue=S,S.stores=[x]):(I=S.stores,I===null?S.stores=[x]:I.push(x))}function hh(x,S,I,H){S.value=I,S.getSnapshot=H,If(S)&&Zf(x)}function Th(x,S,I){return I(function(){If(S)&&Zf(x)})}function If(x){var S=x.getSnapshot;x=x.value;try{var I=S();return!P(x,I)}catch{return!0}}function Zf(x){var S=sr(x,1);S!==null&&tt(S,x,1,-1)}function Yu(x){var S=Dc();return typeof x=="function"&&(x=x()),S.memoizedState=S.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qf,lastRenderedState:x},S.queue=x,x=x.dispatch=jf.bind(null,uo,x),[S.memoizedState,x]}function th(x,S,I,H){return x={tag:x,create:S,destroy:I,deps:H,next:null},S=uo.updateQueue,S===null?(S={lastEffect:null,stores:null},uo.updateQueue=S,S.lastEffect=x.next=x):(I=S.lastEffect,I===null?S.lastEffect=x.next=x:(H=I.next,I.next=x,x.next=H,S.lastEffect=x)),x}function ms(){return Hl().memoizedState}function Bf(x,S,I,H){var Q=Dc();uo.flags|=x,Q.memoizedState=th(1|S,I,void 0,H===void 0?null:H)}function af(x,S,I,H){var Q=Hl();H=H===void 0?null:H;var at=void 0;if(Oa!==null){var Ft=Oa.memoizedState;if(at=Ft.destroy,H!==null&&tu(H,Ft.deps)){Q.memoizedState=th(S,I,at,H);return}}uo.flags|=x,Q.memoizedState=th(1|S,I,at,H)}function wf(x,S){return Bf(8390656,8,x,S)}function sf(x,S){return af(2048,8,x,S)}function Dh(x,S){return af(4,2,x,S)}function Rf(x,S){return af(4,4,x,S)}function tc(x,S){if(typeof S=="function")return x=x(),S(x),function(){S(null)};if(S!=null)return x=x(),S.current=x,function(){S.current=null}}function uu(x,S,I){return I=I!=null?I.concat([x]):null,af(4,4,tc.bind(null,S,x),I)}function eh(){}function Ch(x,S){var I=Hl();S=S===void 0?null:S;var H=I.memoizedState;return H!==null&&S!==null&&tu(S,H[1])?H[0]:(I.memoizedState=[x,S],x)}function Xu(x,S){var I=Hl();S=S===void 0?null:S;var H=I.memoizedState;return H!==null&&S!==null&&tu(S,H[1])?H[0]:(x=x(),I.memoizedState=[x,S],x)}function uf(x,S,I){return Zl&21?(P(I,S)||(I=uh(),uo.lanes|=I,ff|=I,x.baseState=!0),S):(x.baseState&&(x.baseState=!1,Qn=!0),x.memoizedState=I)}function Bc(x,S){var I=br;br=I!==0&&4>I?I:4,x(!0);var H=ch.transition;ch.transition={};try{x(!1),S()}finally{br=I,ch.transition=H}}function ec(){return Hl().memoizedState}function bf(x,S,I){var H=K(x);if(I={lane:H,action:I,hasEagerState:!1,eagerState:null,next:null},ia(x))ka(S,I);else if(I=Qo(x,S,I,H),I!==null){var Q=Z();tt(I,x,H,Q),Ju(I,S,H)}}function jf(x,S,I){var H=K(x),Q={lane:H,action:I,hasEagerState:!1,eagerState:null,next:null};if(ia(x))ka(S,Q);else{var at=x.alternate;if(x.lanes===0&&(at===null||at.lanes===0)&&(at=S.lastRenderedReducer,at!==null))try{var Ft=S.lastRenderedState,te=at(Ft,I);if(Q.hasEagerState=!0,Q.eagerState=te,P(te,Ft)){var he=S.interleaved;he===null?(Q.next=Q,$l(S)):(Q.next=he.next,he.next=Q),S.interleaved=Q;return}}catch{}finally{}I=Qo(x,S,Q,H),I!==null&&(Q=Z(),tt(I,x,H,Q),Ju(I,S,H))}}function ia(x){var S=x.alternate;return x===uo||S!==null&&S===uo}function ka(x,S){vf=Ml=!0;var I=x.pending;I===null?S.next=S:(S.next=I.next,I.next=S),x.pending=S}function Ju(x,S,I){if(I&4194240){var H=S.lanes;H&=x.pendingLanes,I|=H,S.lanes=I,Br(x,I)}}var ks={readContext:ua,useCallback:ul,useContext:ul,useEffect:ul,useImperativeHandle:ul,useInsertionEffect:ul,useLayoutEffect:ul,useMemo:ul,useReducer:ul,useRef:ul,useState:ul,useDebugValue:ul,useDeferredValue:ul,useTransition:ul,useMutableSource:ul,useSyncExternalStore:ul,useId:ul,unstable_isNewReconciler:!1},nh={readContext:ua,useCallback:function(x,S){return Dc().memoizedState=[x,S===void 0?null:S],x},useContext:ua,useEffect:wf,useImperativeHandle:function(x,S,I){return I=I!=null?I.concat([x]):null,Bf(4194308,4,tc.bind(null,S,x),I)},useLayoutEffect:function(x,S){return Bf(4194308,4,x,S)},useInsertionEffect:function(x,S){return Bf(4,2,x,S)},useMemo:function(x,S){var I=Dc();return S=S===void 0?null:S,x=x(),I.memoizedState=[x,S],x},useReducer:function(x,S,I){var H=Dc();return S=I!==void 0?I(S):S,H.memoizedState=H.baseState=S,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:S},H.queue=x,x=x.dispatch=bf.bind(null,uo,x),[H.memoizedState,x]},useRef:function(x){var S=Dc();return x={current:x},S.memoizedState=x},useState:Yu,useDebugValue:eh,useDeferredValue:function(x){return Dc().memoizedState=x},useTransition:function(){var x=Yu(!1),S=x[0];return x=Bc.bind(null,x[1]),Dc().memoizedState=x,[S,x]},useMutableSource:function(){},useSyncExternalStore:function(x,S,I){var H=uo,Q=Dc();if(oo){if(I===void 0)throw Error(e(407));I=I()}else{if(I=S(),ta===null)throw Error(e(349));Zl&30||Ph(H,S,I)}Q.memoizedState=I;var at={value:I,getSnapshot:S};return Q.queue=at,wf(Th.bind(null,H,at,x),[x]),H.flags|=2048,th(9,hh.bind(null,H,at,I,S),void 0,null),I},useId:function(){var x=Dc(),S=ta.identifierPrefix;if(oo){var I=Zs,H=Aa;I=(H&~(1<<32-kr(H)-1)).toString(32)+I,S=":"+S+"R"+I,I=yf++,0<I&&(S+="H"+I.toString(32)),S+=":"}else I=Ar++,S=":"+S+"r"+I.toString(32)+":";return x.memoizedState=S},unstable_isNewReconciler:!1},Fl={readContext:ua,useCallback:Ch,useContext:ua,useEffect:sf,useImperativeHandle:uu,useInsertionEffect:Dh,useLayoutEffect:Rf,useMemo:Xu,useReducer:Cc,useRef:ms,useState:function(){return Cc(Qf)},useDebugValue:eh,useDeferredValue:function(x){var S=Hl();return uf(S,Oa.memoizedState,x)},useTransition:function(){var x=Cc(Qf)[0],S=Hl().memoizedState;return[x,S]},useMutableSource:Mh,useSyncExternalStore:Fh,useId:ec,unstable_isNewReconciler:!1},lf={readContext:ua,useCallback:Ch,useContext:ua,useEffect:sf,useImperativeHandle:uu,useInsertionEffect:Dh,useLayoutEffect:Rf,useMemo:Xu,useReducer:su,useRef:ms,useState:function(){return su(Qf)},useDebugValue:eh,useDeferredValue:function(x){var S=Hl();return Oa===null?S.memoizedState=x:uf(S,Oa.memoizedState,x)},useTransition:function(){var x=su(Qf)[0],S=Hl().memoizedState;return[x,S]},useMutableSource:Mh,useSyncExternalStore:Fh,useId:ec,unstable_isNewReconciler:!1};function ll(x,S){if(x&&x.defaultProps){S=mt({},S),x=x.defaultProps;for(var I in x)S[I]===void 0&&(S[I]=x[I]);return S}return S}function Mr(x,S,I,H){S=x.memoizedState,I=I(H,S),I=I==null?S:mt({},S,I),x.memoizedState=I,x.lanes===0&&(x.updateQueue.baseState=I)}var Lf={isMounted:function(x){return(x=x._reactInternals)?Gs(x)===x:!1},enqueueSetState:function(x,S,I){x=x._reactInternals;var H=Z(),Q=K(x),at=Kn(H,Q);at.payload=S,I!=null&&(at.callback=I),S=Al(x,at,Q),S!==null&&(tt(S,x,Q,H),Zr(S,x,Q))},enqueueReplaceState:function(x,S,I){x=x._reactInternals;var H=Z(),Q=K(x),at=Kn(H,Q);at.tag=1,at.payload=S,I!=null&&(at.callback=I),S=Al(x,at,Q),S!==null&&(tt(S,x,Q,H),Zr(S,x,Q))},enqueueForceUpdate:function(x,S){x=x._reactInternals;var I=Z(),H=K(x),Q=Kn(I,H);Q.tag=2,S!=null&&(Q.callback=S),S=Al(x,Q,H),S!==null&&(tt(S,x,H,I),Zr(S,x,H))}};function gc(x,S,I,H,Q,at,Ft){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(H,at,Ft):S.prototype&&S.prototype.isPureReactComponent?!Go(I,H)||!Go(Q,at):!0}function Eo(x,S,I){var H=!1,Q=fn,at=S.contextType;return typeof at=="object"&&at!==null?at=ua(at):(Q=qa(S)?na:Yn.current,H=S.contextTypes,at=(H=H!=null)?Va(x,Q):fn),S=new S(I,at),x.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,S.updater=Lf,x.stateNode=S,S._reactInternals=x,H&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=Q,x.__reactInternalMemoizedMaskedChildContext=at),S}function ie(x,S,I,H){x=S.state,typeof S.componentWillReceiveProps=="function"&&S.componentWillReceiveProps(I,H),typeof S.UNSAFE_componentWillReceiveProps=="function"&&S.UNSAFE_componentWillReceiveProps(I,H),S.state!==x&&Lf.enqueueReplaceState(S,S.state,null)}function _c(x,S,I,H){var Q=x.stateNode;Q.props=I,Q.state=x.memoizedState,Q.refs={},Ue(x);var at=S.contextType;typeof at=="object"&&at!==null?Q.context=ua(at):(at=qa(S)?na:Yn.current,Q.context=Va(x,at)),Q.state=x.memoizedState,at=S.getDerivedStateFromProps,typeof at=="function"&&(Mr(x,S,at,I),Q.state=x.memoizedState),typeof S.getDerivedStateFromProps=="function"||typeof Q.getSnapshotBeforeUpdate=="function"||typeof Q.UNSAFE_componentWillMount!="function"&&typeof Q.componentWillMount!="function"||(S=Q.state,typeof Q.componentWillMount=="function"&&Q.componentWillMount(),typeof Q.UNSAFE_componentWillMount=="function"&&Q.UNSAFE_componentWillMount(),S!==Q.state&&Lf.enqueueReplaceState(Q,Q.state,null),dc(x,I,Q,H),Q.state=x.memoizedState),typeof Q.componentDidMount=="function"&&(x.flags|=4194308)}function $e(x,S){try{var I="",H=S;do I+=ve(H),H=H.return;while(H);var Q=I}catch(at){Q=`
Error generating stack: `+at.message+`
`+at.stack}return{value:x,source:S,stack:Q,digest:null}}function Je(x,S,I){return{value:x,source:null,stack:I??null,digest:S??null}}function Nr(x,S){try{console.error(S.value)}catch(I){setTimeout(function(){throw I})}}var $o=typeof WeakMap=="function"?WeakMap:Map;function lu(x,S,I){I=Kn(-1,I),I.tag=3,I.payload={element:null};var H=S.value;return I.callback=function(){b||(b=!0,E=H),Nr(x,S)},I}function yi(x,S,I){I=Kn(-1,I),I.tag=3;var H=x.type.getDerivedStateFromError;if(typeof H=="function"){var Q=S.value;I.payload=function(){return H(Q)},I.callback=function(){Nr(x,S)}}var at=x.stateNode;return at!==null&&typeof at.componentDidCatch=="function"&&(I.callback=function(){Nr(x,S),typeof H!="function"&&(O===null?O=new Set([this]):O.add(this));var Ft=S.stack;this.componentDidCatch(S.value,{componentStack:Ft!==null?Ft:""})}),I}function cu(x,S,I){var H=x.pingCache;if(H===null){H=x.pingCache=new $o;var Q=new Set;H.set(S,Q)}else Q=H.get(S),Q===void 0&&(Q=new Set,H.set(S,Q));Q.has(I)||(Q.add(I),x=Za.bind(null,x,S,I),S.then(x,x))}function Gn(x){do{var S;if((S=x.tag===13)&&(S=x.memoizedState,S=S!==null?S.dehydrated!==null:!0),S)return x;x=x.return}while(x!==null);return null}function We(x,S,I,H,Q){return x.mode&1?(x.flags|=65536,x.lanes=Q,x):(x===S?x.flags|=65536:(x.flags|=128,I.flags|=131072,I.flags&=-52805,I.tag===1&&(I.alternate===null?I.tag=17:(S=Kn(-1,1),S.tag=2,Al(I,S,1))),I.lanes|=1),x)}var Le=z.ReactCurrentOwner,Qn=!1;function lr(x,S,I,H){S.child=x===null?po(S,null,I,H):Ya(S,x.child,I,H)}function la(x,S,I,H,Q){I=I.render;var at=S.ref;return mr(S,Q),H=fh(x,S,I,H,at,Q),I=Gu(),x!==null&&!Qn?(S.updateQueue=x.updateQueue,S.flags&=-2053,x.lanes&=~Q,Na(x,S,Q)):(oo&&I&&zo(S),S.flags|=1,lr(x,S,H,Q),S.child)}function Li(x,S,I,H,Q){if(x===null){var at=I.type;return typeof at=="function"&&!F(at)&&at.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(S.tag=15,S.type=at,Qu(x,S,at,H,Q)):(x=Y(I.type,null,H,S,S.mode,Q),x.ref=S.ref,x.return=S,S.child=x)}if(at=x.child,!(x.lanes&Q)){var Ft=at.memoizedProps;if(I=I.compare,I=I!==null?I:Go,I(Ft,H)&&x.ref===S.ref)return Na(x,S,Q)}return S.flags|=1,x=$(at,H),x.ref=S.ref,x.return=S,S.child=x}function Qu(x,S,I,H,Q){if(x!==null){var at=x.memoizedProps;if(Go(at,H)&&x.ref===S.ref)if(Qn=!1,S.pendingProps=H=at,(x.lanes&Q)!==0)x.flags&131072&&(Qn=!0);else return S.lanes=x.lanes,Na(x,S,Q)}return xn(x,S,I,H,Q)}function ku(x,S,I){var H=S.pendingProps,Q=H.children,at=x!==null?x.memoizedState:null;if(H.mode==="hidden")if(!(S.mode&1))S.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qr(jc,Ma),Ma|=I;else{if(!(I&1073741824))return x=at!==null?at.baseLanes|I:I,S.lanes=S.childLanes=1073741824,S.memoizedState={baseLanes:x,cachePool:null,transitions:null},S.updateQueue=null,Qr(jc,Ma),Ma|=x,null;S.memoizedState={baseLanes:0,cachePool:null,transitions:null},H=at!==null?at.baseLanes:I,Qr(jc,Ma),Ma|=H}else at!==null?(H=at.baseLanes|I,S.memoizedState=null):H=I,Qr(jc,Ma),Ma|=H;return lr(x,S,Q,I),S.child}function jn(x,S){var I=S.ref;(x===null&&I!==null||x!==null&&x.ref!==I)&&(S.flags|=512,S.flags|=2097152)}function xn(x,S,I,H,Q){var at=qa(I)?na:Yn.current;return at=Va(S,at),mr(S,Q),I=fh(x,S,I,H,at,Q),H=Gu(),x!==null&&!Qn?(S.updateQueue=x.updateQueue,S.flags&=-2053,x.lanes&=~Q,Na(x,S,Q)):(oo&&H&&zo(S),S.flags|=1,lr(x,S,I,Q),S.child)}function Wo(x,S,I,H,Q){if(qa(I)){var at=!0;di(S)}else at=!1;if(mr(S,Q),S.stateNode===null)Pn(x,S),Eo(S,I,H),_c(S,I,H,Q),H=!0;else if(x===null){var Ft=S.stateNode,te=S.memoizedProps;Ft.props=te;var he=Ft.context,Re=I.contextType;typeof Re=="object"&&Re!==null?Re=ua(Re):(Re=qa(I)?na:Yn.current,Re=Va(S,Re));var Cn=I.getDerivedStateFromProps,kn=typeof Cn=="function"||typeof Ft.getSnapshotBeforeUpdate=="function";kn||typeof Ft.UNSAFE_componentWillReceiveProps!="function"&&typeof Ft.componentWillReceiveProps!="function"||(te!==H||he!==Re)&&ie(S,Ft,H,Re),ur=!1;var yn=S.memoizedState;Ft.state=yn,dc(S,H,Ft,Q),he=S.memoizedState,te!==H||yn!==he||oi.current||ur?(typeof Cn=="function"&&(Mr(S,I,Cn,H),he=S.memoizedState),(te=ur||gc(S,I,te,H,yn,he,Re))?(kn||typeof Ft.UNSAFE_componentWillMount!="function"&&typeof Ft.componentWillMount!="function"||(typeof Ft.componentWillMount=="function"&&Ft.componentWillMount(),typeof Ft.UNSAFE_componentWillMount=="function"&&Ft.UNSAFE_componentWillMount()),typeof Ft.componentDidMount=="function"&&(S.flags|=4194308)):(typeof Ft.componentDidMount=="function"&&(S.flags|=4194308),S.memoizedProps=H,S.memoizedState=he),Ft.props=H,Ft.state=he,Ft.context=Re,H=te):(typeof Ft.componentDidMount=="function"&&(S.flags|=4194308),H=!1)}else{Ft=S.stateNode,Dr(x,S),te=S.memoizedProps,Re=S.type===S.elementType?te:ll(S.type,te),Ft.props=Re,kn=S.pendingProps,yn=Ft.context,he=I.contextType,typeof he=="object"&&he!==null?he=ua(he):(he=qa(I)?na:Yn.current,he=Va(S,he));var zr=I.getDerivedStateFromProps;(Cn=typeof zr=="function"||typeof Ft.getSnapshotBeforeUpdate=="function")||typeof Ft.UNSAFE_componentWillReceiveProps!="function"&&typeof Ft.componentWillReceiveProps!="function"||(te!==kn||yn!==he)&&ie(S,Ft,H,he),ur=!1,yn=S.memoizedState,Ft.state=yn,dc(S,H,Ft,Q);var wi=S.memoizedState;te!==kn||yn!==wi||oi.current||ur?(typeof zr=="function"&&(Mr(S,I,zr,H),wi=S.memoizedState),(Re=ur||gc(S,I,Re,H,yn,wi,he)||!1)?(Cn||typeof Ft.UNSAFE_componentWillUpdate!="function"&&typeof Ft.componentWillUpdate!="function"||(typeof Ft.componentWillUpdate=="function"&&Ft.componentWillUpdate(H,wi,he),typeof Ft.UNSAFE_componentWillUpdate=="function"&&Ft.UNSAFE_componentWillUpdate(H,wi,he)),typeof Ft.componentDidUpdate=="function"&&(S.flags|=4),typeof Ft.getSnapshotBeforeUpdate=="function"&&(S.flags|=1024)):(typeof Ft.componentDidUpdate!="function"||te===x.memoizedProps&&yn===x.memoizedState||(S.flags|=4),typeof Ft.getSnapshotBeforeUpdate!="function"||te===x.memoizedProps&&yn===x.memoizedState||(S.flags|=1024),S.memoizedProps=H,S.memoizedState=wi),Ft.props=H,Ft.state=wi,Ft.context=he,H=Re):(typeof Ft.componentDidUpdate!="function"||te===x.memoizedProps&&yn===x.memoizedState||(S.flags|=4),typeof Ft.getSnapshotBeforeUpdate!="function"||te===x.memoizedProps&&yn===x.memoizedState||(S.flags|=1024),H=!1)}return Ae(x,S,I,H,at,Q)}function Ae(x,S,I,H,Q,at){jn(x,S);var Ft=(S.flags&128)!==0;if(!H&&!Ft)return Q&&ai(S,I,!1),Na(x,S,at);H=S.stateNode,Le.current=S;var te=Ft&&typeof I.getDerivedStateFromError!="function"?null:H.render();return S.flags|=1,x!==null&&Ft?(S.child=Ya(S,x.child,null,at),S.child=Ya(S,null,te,at)):lr(x,S,te,at),S.memoizedState=H.state,Q&&ai(S,I,!0),S.child}function cl(x){var S=x.stateNode;S.pendingContext?Yo(x,S.pendingContext,S.pendingContext!==S.context):S.context&&Yo(x,S.context,!1),As(x,S.containerInfo)}function ui(x,S,I,H,Q){return Ul(),gr(Q),S.flags|=256,lr(x,S,I,H),S.child}var se={dehydrated:null,treeContext:null,retryLane:0};function vs(x){return{baseLanes:x,cachePool:null,transitions:null}}function Qe(x,S,I){var H=S.pendingProps,Q=Nn.current,at=!1,Ft=(S.flags&128)!==0,te;if((te=Ft)||(te=x!==null&&x.memoizedState===null?!1:(Q&2)!==0),te?(at=!0,S.flags&=-129):(x===null||x.memoizedState!==null)&&(Q|=1),Qr(Nn,Q&1),x===null)return Ka(S),x=S.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?(S.mode&1?x.data==="$!"?S.lanes=8:S.lanes=1073741824:S.lanes=1,null):(Ft=H.children,x=H.fallback,at?(H=S.mode,at=S.child,Ft={mode:"hidden",children:Ft},!(H&1)&&at!==null?(at.childLanes=0,at.pendingProps=Ft):at=ht(Ft,H,0,null),x=lt(x,H,I,null),at.return=S,x.return=S,at.sibling=x,S.child=at,S.child.memoizedState=vs(I),S.memoizedState=se,x):ys(S,Ft));if(Q=x.memoizedState,Q!==null&&(te=Q.dehydrated,te!==null))return Oh(x,S,Ft,H,te,Q,I);if(at){at=H.fallback,Ft=S.mode,Q=x.child,te=Q.sibling;var he={mode:"hidden",children:H.children};return!(Ft&1)&&S.child!==Q?(H=S.child,H.childLanes=0,H.pendingProps=he,S.deletions=null):(H=$(Q,he),H.subtreeFlags=Q.subtreeFlags&14680064),te!==null?at=$(te,at):(at=lt(at,Ft,I,null),at.flags|=2),at.return=S,H.return=S,H.sibling=at,S.child=H,H=at,at=S.child,Ft=x.child.memoizedState,Ft=Ft===null?vs(I):{baseLanes:Ft.baseLanes|I,cachePool:null,transitions:Ft.transitions},at.memoizedState=Ft,at.childLanes=x.childLanes&~I,S.memoizedState=se,H}return at=x.child,x=at.sibling,H=$(at,{mode:"visible",children:H.children}),!(S.mode&1)&&(H.lanes=I),H.return=S,H.sibling=null,x!==null&&(I=S.deletions,I===null?(S.deletions=[x],S.flags|=16):I.push(x)),S.child=H,S.memoizedState=null,H}function ys(x,S){return S=ht({mode:"visible",children:S},x.mode,0,null),S.return=x,x.child=S}function we(x,S,I,H){return H!==null&&gr(H),Ya(S,x.child,null,I),x=ys(S,S.pendingProps.children),x.flags|=2,S.memoizedState=null,x}function Oh(x,S,I,H,Q,at,Ft){if(I)return S.flags&256?(S.flags&=-257,H=Je(Error(e(422))),we(x,S,Ft,H)):S.memoizedState!==null?(S.child=x.child,S.flags|=128,null):(at=H.fallback,Q=S.mode,H=ht({mode:"visible",children:H.children},Q,0,null),at=lt(at,Q,Ft,null),at.flags|=2,H.return=S,at.return=S,H.sibling=at,S.child=H,S.mode&1&&Ya(S,x.child,null,Ft),S.child.memoizedState=vs(Ft),S.memoizedState=se,at);if(!(S.mode&1))return we(x,S,Ft,null);if(Q.data==="$!"){if(H=Q.nextSibling&&Q.nextSibling.dataset,H)var te=H.dgst;return H=te,at=Error(e(419)),H=Je(at,H,void 0),we(x,S,Ft,H)}if(te=(Ft&x.childLanes)!==0,Qn||te){if(H=ta,H!==null){switch(Ft&-Ft){case 4:Q=2;break;case 16:Q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Q=32;break;case 536870912:Q=268435456;break;default:Q=0}Q=Q&(H.suspendedLanes|Ft)?0:Q,Q!==0&&Q!==at.retryLane&&(at.retryLane=Q,sr(x,Q),tt(H,x,Q,-1))}return an(),H=Je(Error(e(421))),we(x,S,Ft,H)}return Q.data==="$?"?(S.flags|=128,S.child=x.child,S=Nh.bind(null,x),Q._reactRetry=S,null):(x=at.treeContext,To=Zi(Q.nextSibling),Uo=S,oo=!0,eo=null,x!==null&&($n[ji++]=Aa,$n[ji++]=Zs,$n[ji++]=Mi,Aa=x.id,Zs=x.overflow,Mi=S),S=ys(S,H.children),S.flags|=4096,S)}function mo(x,S,I){x.lanes|=S;var H=x.alternate;H!==null&&(H.lanes|=S),si(x.return,S,I)}function Vs(x,S,I,H,Q){var at=x.memoizedState;at===null?x.memoizedState={isBackwards:S,rendering:null,renderingStartTime:0,last:H,tail:I,tailMode:Q}:(at.isBackwards=S,at.rendering=null,at.renderingStartTime=0,at.last=H,at.tail=I,at.tailMode=Q)}function nc(x,S,I){var H=S.pendingProps,Q=H.revealOrder,at=H.tail;if(lr(x,S,H.children,I),H=Nn.current,H&2)H=H&1|2,S.flags|=128;else{if(x!==null&&x.flags&128)t:for(x=S.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&mo(x,I,S);else if(x.tag===19)mo(x,I,S);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===S)break t;for(;x.sibling===null;){if(x.return===null||x.return===S)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}H&=1}if(Qr(Nn,H),!(S.mode&1))S.memoizedState=null;else switch(Q){case"forwards":for(I=S.child,Q=null;I!==null;)x=I.alternate,x!==null&&so(x)===null&&(Q=I),I=I.sibling;I=Q,I===null?(Q=S.child,S.child=null):(Q=I.sibling,I.sibling=null),Vs(S,!1,Q,I,at);break;case"backwards":for(I=null,Q=S.child,S.child=null;Q!==null;){if(x=Q.alternate,x!==null&&so(x)===null){S.child=Q;break}x=Q.sibling,Q.sibling=I,I=Q,Q=x}Vs(S,!0,I,null,at);break;case"together":Vs(S,!1,null,null,void 0);break;default:S.memoizedState=null}return S.child}function Pn(x,S){!(S.mode&1)&&x!==null&&(x.alternate=null,S.alternate=null,S.flags|=2)}function Na(x,S,I){if(x!==null&&(S.dependencies=x.dependencies),ff|=S.lanes,!(I&S.childLanes))return null;if(x!==null&&S.child!==x.child)throw Error(e(153));if(S.child!==null){for(x=S.child,I=$(x,x.pendingProps),S.child=I,I.return=S;x.sibling!==null;)x=x.sibling,I=I.sibling=$(x,x.pendingProps),I.return=S;I.sibling=null}return S.child}function as(x,S,I){switch(S.tag){case 3:cl(S),Ul();break;case 5:Hs(S);break;case 1:qa(S.type)&&di(S);break;case 4:As(S,S.stateNode.containerInfo);break;case 10:var H=S.type._context,Q=S.memoizedProps.value;Qr(gs,H._currentValue),H._currentValue=Q;break;case 13:if(H=S.memoizedState,H!==null)return H.dehydrated!==null?(Qr(Nn,Nn.current&1),S.flags|=128,null):I&S.child.childLanes?Qe(x,S,I):(Qr(Nn,Nn.current&1),x=Na(x,S,I),x!==null?x.sibling:null);Qr(Nn,Nn.current&1);break;case 19:if(H=(I&S.childLanes)!==0,x.flags&128){if(H)return nc(x,S,I);S.flags|=128}if(Q=S.memoizedState,Q!==null&&(Q.rendering=null,Q.tail=null,Q.lastEffect=null),Qr(Nn,Nn.current),H)break;return null;case 22:case 23:return S.lanes=0,ku(x,S,I)}return Na(x,S,I)}var rc,Fi,eu,rh;rc=function(x,S){for(var I=S.child;I!==null;){if(I.tag===5||I.tag===6)x.appendChild(I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===S)break;for(;I.sibling===null;){if(I.return===null||I.return===S)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},Fi=function(){},eu=function(x,S,I,H){var Q=x.memoizedProps;if(Q!==H){x=S.stateNode,no(ao.current);var at=null;switch(I){case"input":Q=rt(x,Q),H=rt(x,H),at=[];break;case"select":Q=mt({},Q,{value:void 0}),H=mt({},H,{value:void 0}),at=[];break;case"textarea":Q=ge(x,Q),H=ge(x,H),at=[];break;default:typeof Q.onClick!="function"&&typeof H.onClick=="function"&&(x.onclick=qu)}vu(I,H);var Ft;I=null;for(Re in Q)if(!H.hasOwnProperty(Re)&&Q.hasOwnProperty(Re)&&Q[Re]!=null)if(Re==="style"){var te=Q[Re];for(Ft in te)te.hasOwnProperty(Ft)&&(I||(I={}),I[Ft]="")}else Re!=="dangerouslySetInnerHTML"&&Re!=="children"&&Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&Re!=="autoFocus"&&(i.hasOwnProperty(Re)?at||(at=[]):(at=at||[]).push(Re,null));for(Re in H){var he=H[Re];if(te=Q!=null?Q[Re]:void 0,H.hasOwnProperty(Re)&&he!==te&&(he!=null||te!=null))if(Re==="style")if(te){for(Ft in te)!te.hasOwnProperty(Ft)||he&&he.hasOwnProperty(Ft)||(I||(I={}),I[Ft]="");for(Ft in he)he.hasOwnProperty(Ft)&&te[Ft]!==he[Ft]&&(I||(I={}),I[Ft]=he[Ft])}else I||(at||(at=[]),at.push(Re,I)),I=he;else Re==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,te=te?te.__html:void 0,he!=null&&te!==he&&(at=at||[]).push(Re,he)):Re==="children"?typeof he!="string"&&typeof he!="number"||(at=at||[]).push(Re,""+he):Re!=="suppressContentEditableWarning"&&Re!=="suppressHydrationWarning"&&(i.hasOwnProperty(Re)?(he!=null&&Re==="onScroll"&&bn("scroll",x),at||te===he||(at=[])):(at=at||[]).push(Re,he))}I&&(at=at||[]).push("style",I);var Re=at;(S.updateQueue=Re)&&(S.flags|=4)}},rh=function(x,S,I,H){I!==H&&(S.flags|=4)};function Ms(x,S){if(!oo)switch(x.tailMode){case"hidden":S=x.tail;for(var I=null;S!==null;)S.alternate!==null&&(I=S),S=S.sibling;I===null?x.tail=null:I.sibling=null;break;case"collapsed":I=x.tail;for(var H=null;I!==null;)I.alternate!==null&&(H=I),I=I.sibling;H===null?S||x.tail===null?x.tail=null:x.tail.sibling=null:H.sibling=null}}function en(x){var S=x.alternate!==null&&x.alternate.child===x.child,I=0,H=0;if(S)for(var Q=x.child;Q!==null;)I|=Q.lanes|Q.childLanes,H|=Q.subtreeFlags&14680064,H|=Q.flags&14680064,Q.return=x,Q=Q.sibling;else for(Q=x.child;Q!==null;)I|=Q.lanes|Q.childLanes,H|=Q.subtreeFlags,H|=Q.flags,Q.return=x,Q=Q.sibling;return x.subtreeFlags|=H,x.childLanes=I,S}function Xn(x,S,I){var H=S.pendingProps;switch(va(S),S.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(S),null;case 1:return qa(S.type)&&Ri(),en(S),null;case 3:return H=S.stateNode,sl(),Or(oi),Or(Yn),Ql(),H.pendingContext&&(H.context=H.pendingContext,H.pendingContext=null),(x===null||x.child===null)&&(ra(S)?S.flags|=4:x===null||x.memoizedState.isDehydrated&&!(S.flags&256)||(S.flags|=1024,eo!==null&&(yt(eo),eo=null))),Fi(x,S),en(S),null;case 5:Ic(S);var Q=no(gi.current);if(I=S.type,x!==null&&S.stateNode!=null)eu(x,S,I,H,Q),x.ref!==S.ref&&(S.flags|=512,S.flags|=2097152);else{if(!H){if(S.stateNode===null)throw Error(e(166));return en(S),null}if(x=no(ao.current),ra(S)){H=S.stateNode,I=S.type;var at=S.memoizedProps;switch(H[fs]=S,H[Us]=at,x=(S.mode&1)!==0,I){case"dialog":bn("cancel",H),bn("close",H);break;case"iframe":case"object":case"embed":bn("load",H);break;case"video":case"audio":for(Q=0;Q<au.length;Q++)bn(au[Q],H);break;case"source":bn("error",H);break;case"img":case"image":case"link":bn("error",H),bn("load",H);break;case"details":bn("toggle",H);break;case"input":dt(H,at),bn("invalid",H);break;case"select":H._wrapperState={wasMultiple:!!at.multiple},bn("invalid",H);break;case"textarea":Ee(H,at),bn("invalid",H)}vu(I,at),Q=null;for(var Ft in at)if(at.hasOwnProperty(Ft)){var te=at[Ft];Ft==="children"?typeof te=="string"?H.textContent!==te&&(at.suppressHydrationWarning!==!0&&jo(H.textContent,te,x),Q=["children",te]):typeof te=="number"&&H.textContent!==""+te&&(at.suppressHydrationWarning!==!0&&jo(H.textContent,te,x),Q=["children",""+te]):i.hasOwnProperty(Ft)&&te!=null&&Ft==="onScroll"&&bn("scroll",H)}switch(I){case"input":cr(H),Bt(H,at,!0);break;case"textarea":cr(H),Xe(H);break;case"select":case"option":break;default:typeof at.onClick=="function"&&(H.onclick=qu)}H=Q,S.updateQueue=H,H!==null&&(S.flags|=4)}else{Ft=Q.nodeType===9?Q:Q.ownerDocument,x==="http://www.w3.org/1999/xhtml"&&(x=Se(I)),x==="http://www.w3.org/1999/xhtml"?I==="script"?(x=Ft.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild)):typeof H.is=="string"?x=Ft.createElement(I,{is:H.is}):(x=Ft.createElement(I),I==="select"&&(Ft=x,H.multiple?Ft.multiple=!0:H.size&&(Ft.size=H.size))):x=Ft.createElementNS(x,I),x[fs]=S,x[Us]=H,rc(x,S,!1,!1),S.stateNode=x;t:{switch(Ft=ja(I,H),I){case"dialog":bn("cancel",x),bn("close",x),Q=H;break;case"iframe":case"object":case"embed":bn("load",x),Q=H;break;case"video":case"audio":for(Q=0;Q<au.length;Q++)bn(au[Q],x);Q=H;break;case"source":bn("error",x),Q=H;break;case"img":case"image":case"link":bn("error",x),bn("load",x),Q=H;break;case"details":bn("toggle",x),Q=H;break;case"input":dt(x,H),Q=rt(x,H),bn("invalid",x);break;case"option":Q=H;break;case"select":x._wrapperState={wasMultiple:!!H.multiple},Q=mt({},H,{value:void 0}),bn("invalid",x);break;case"textarea":Ee(x,H),Q=ge(x,H),bn("invalid",x);break;default:Q=H}vu(I,Q),te=Q;for(at in te)if(te.hasOwnProperty(at)){var he=te[at];at==="style"?us(x,he):at==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&zi(x,he)):at==="children"?typeof he=="string"?(I!=="textarea"||he!=="")&&Yi(x,he):typeof he=="number"&&Yi(x,""+he):at!=="suppressContentEditableWarning"&&at!=="suppressHydrationWarning"&&at!=="autoFocus"&&(i.hasOwnProperty(at)?he!=null&&at==="onScroll"&&bn("scroll",x):he!=null&&L(x,at,he,Ft))}switch(I){case"input":cr(x),Bt(x,H,!1);break;case"textarea":cr(x),Xe(x);break;case"option":H.value!=null&&x.setAttribute("value",""+He(H.value));break;case"select":x.multiple=!!H.multiple,at=H.value,at!=null?Kt(x,!!H.multiple,at,!1):H.defaultValue!=null&&Kt(x,!!H.multiple,H.defaultValue,!0);break;default:typeof Q.onClick=="function"&&(x.onclick=qu)}switch(I){case"button":case"input":case"select":case"textarea":H=!!H.autoFocus;break t;case"img":H=!0;break t;default:H=!1}}H&&(S.flags|=4)}S.ref!==null&&(S.flags|=512,S.flags|=2097152)}return en(S),null;case 6:if(x&&S.stateNode!=null)rh(x,S,x.memoizedProps,H);else{if(typeof H!="string"&&S.stateNode===null)throw Error(e(166));if(I=no(gi.current),no(ao.current),ra(S)){if(H=S.stateNode,I=S.memoizedProps,H[fs]=S,(at=H.nodeValue!==I)&&(x=Uo,x!==null))switch(x.tag){case 3:jo(H.nodeValue,I,(x.mode&1)!==0);break;case 5:x.memoizedProps.suppressHydrationWarning!==!0&&jo(H.nodeValue,I,(x.mode&1)!==0)}at&&(S.flags|=4)}else H=(I.nodeType===9?I:I.ownerDocument).createTextNode(H),H[fs]=S,S.stateNode=H}return en(S),null;case 13:if(Or(Nn),H=S.memoizedState,x===null||x.memoizedState!==null&&x.memoizedState.dehydrated!==null){if(oo&&To!==null&&S.mode&1&&!(S.flags&128))of(),Ul(),S.flags|=98560,at=!1;else if(at=ra(S),H!==null&&H.dehydrated!==null){if(x===null){if(!at)throw Error(e(318));if(at=S.memoizedState,at=at!==null?at.dehydrated:null,!at)throw Error(e(317));at[fs]=S}else Ul(),!(S.flags&128)&&(S.memoizedState=null),S.flags|=4;en(S),at=!1}else eo!==null&&(yt(eo),eo=null),at=!0;if(!at)return S.flags&65536?S:null}return S.flags&128?(S.lanes=I,S):(H=H!==null,H!==(x!==null&&x.memoizedState!==null)&&H&&(S.child.flags|=8192,S.mode&1&&(x===null||Nn.current&1?ws===0&&(ws=3):an())),S.updateQueue!==null&&(S.flags|=4),en(S),null);case 4:return sl(),Fi(x,S),x===null&&Vr(S.stateNode.containerInfo),en(S),null;case 10:return er(S.type._context),en(S),null;case 17:return qa(S.type)&&Ri(),en(S),null;case 19:if(Or(Nn),at=S.memoizedState,at===null)return en(S),null;if(H=(S.flags&128)!==0,Ft=at.rendering,Ft===null)if(H)Ms(at,!1);else{if(ws!==0||x!==null&&x.flags&128)for(x=S.child;x!==null;){if(Ft=so(x),Ft!==null){for(S.flags|=128,Ms(at,!1),H=Ft.updateQueue,H!==null&&(S.updateQueue=H,S.flags|=4),S.subtreeFlags=0,H=I,I=S.child;I!==null;)at=I,x=H,at.flags&=14680066,Ft=at.alternate,Ft===null?(at.childLanes=0,at.lanes=x,at.child=null,at.subtreeFlags=0,at.memoizedProps=null,at.memoizedState=null,at.updateQueue=null,at.dependencies=null,at.stateNode=null):(at.childLanes=Ft.childLanes,at.lanes=Ft.lanes,at.child=Ft.child,at.subtreeFlags=0,at.deletions=null,at.memoizedProps=Ft.memoizedProps,at.memoizedState=Ft.memoizedState,at.updateQueue=Ft.updateQueue,at.type=Ft.type,x=Ft.dependencies,at.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),I=I.sibling;return Qr(Nn,Nn.current&1|2),S.child}x=x.sibling}at.tail!==null&&Do()>l&&(S.flags|=128,H=!0,Ms(at,!1),S.lanes=4194304)}else{if(!H)if(x=so(Ft),x!==null){if(S.flags|=128,H=!0,I=x.updateQueue,I!==null&&(S.updateQueue=I,S.flags|=4),Ms(at,!0),at.tail===null&&at.tailMode==="hidden"&&!Ft.alternate&&!oo)return en(S),null}else 2*Do()-at.renderingStartTime>l&&I!==1073741824&&(S.flags|=128,H=!0,Ms(at,!1),S.lanes=4194304);at.isBackwards?(Ft.sibling=S.child,S.child=Ft):(I=at.last,I!==null?I.sibling=Ft:S.child=Ft,at.last=Ft)}return at.tail!==null?(S=at.tail,at.rendering=S,at.tail=S.sibling,at.renderingStartTime=Do(),S.sibling=null,I=Nn.current,Qr(Nn,H?I&1|2:I&1),S):(en(S),null);case 22:case 23:return ye(),H=S.memoizedState!==null,x!==null&&x.memoizedState!==null!==H&&(S.flags|=8192),H&&S.mode&1?Ma&1073741824&&(en(S),S.subtreeFlags&6&&(S.flags|=8192)):en(S),null;case 24:return null;case 25:return null}throw Error(e(156,S.tag))}function Mu(x,S){switch(va(S),S.tag){case 1:return qa(S.type)&&Ri(),x=S.flags,x&65536?(S.flags=x&-65537|128,S):null;case 3:return sl(),Or(oi),Or(Yn),Ql(),x=S.flags,x&65536&&!(x&128)?(S.flags=x&-65537|128,S):null;case 5:return Ic(S),null;case 13:if(Or(Nn),x=S.memoizedState,x!==null&&x.dehydrated!==null){if(S.alternate===null)throw Error(e(340));Ul()}return x=S.flags,x&65536?(S.flags=x&-65537|128,S):null;case 19:return Or(Nn),null;case 4:return sl(),null;case 10:return er(S.type._context),null;case 22:case 23:return ye(),null;case 24:return null;default:return null}}var Fs=!1,Fu=!1,ph=typeof WeakSet=="function"?WeakSet:Set,Wn=null;function Pl(x,S){var I=x.ref;if(I!==null)if(typeof I=="function")try{I(null)}catch(H){Lr(x,S,H)}else I.current=null}function Sc(x,S,I){try{I()}catch(H){Lr(x,S,H)}}var Zn=!1;function Tn(x,S){if(Cu=Tc,x=Hr(),vn(x)){if("selectionStart"in x)var I={start:x.selectionStart,end:x.selectionEnd};else t:{I=(I=x.ownerDocument)&&I.defaultView||window;var H=I.getSelection&&I.getSelection();if(H&&H.rangeCount!==0){I=H.anchorNode;var Q=H.anchorOffset,at=H.focusNode;H=H.focusOffset;try{I.nodeType,at.nodeType}catch{I=null;break t}var Ft=0,te=-1,he=-1,Re=0,Cn=0,kn=x,yn=null;e:for(;;){for(var zr;kn!==I||Q!==0&&kn.nodeType!==3||(te=Ft+Q),kn!==at||H!==0&&kn.nodeType!==3||(he=Ft+H),kn.nodeType===3&&(Ft+=kn.nodeValue.length),(zr=kn.firstChild)!==null;)yn=kn,kn=zr;for(;;){if(kn===x)break e;if(yn===I&&++Re===Q&&(te=Ft),yn===at&&++Cn===H&&(he=Ft),(zr=kn.nextSibling)!==null)break;kn=yn,yn=kn.parentNode}kn=zr}I=te===-1||he===-1?null:{start:te,end:he}}else I=null}I=I||{start:0,end:0}}else I=null;for(Ta={focusedElem:x,selectionRange:I},Tc=!1,Wn=S;Wn!==null;)if(S=Wn,x=S.child,(S.subtreeFlags&1028)!==0&&x!==null)x.return=S,Wn=x;else for(;Wn!==null;){S=Wn;try{var wi=S.alternate;if(S.flags&1024)switch(S.tag){case 0:case 11:case 15:break;case 1:if(wi!==null){var Pi=wi.memoizedProps,zh=wi.memoizedState,_e=S.stateNode,me=_e.getSnapshotBeforeUpdate(S.elementType===S.type?Pi:ll(S.type,Pi),zh);_e.__reactInternalSnapshotBeforeUpdate=me}break;case 3:var Me=S.stateNode.containerInfo;Me.nodeType===1?Me.textContent="":Me.nodeType===9&&Me.documentElement&&Me.removeChild(Me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Hn){Lr(S,S.return,Hn)}if(x=S.sibling,x!==null){x.return=S.return,Wn=x;break}Wn=S.return}return wi=Zn,Zn=!1,wi}function ti(x,S,I){var H=S.updateQueue;if(H=H!==null?H.lastEffect:null,H!==null){var Q=H=H.next;do{if((Q.tag&x)===x){var at=Q.destroy;Q.destroy=void 0,at!==void 0&&Sc(S,I,at)}Q=Q.next}while(Q!==H)}}function li(x,S){if(S=S.updateQueue,S=S!==null?S.lastEffect:null,S!==null){var I=S=S.next;do{if((I.tag&x)===x){var H=I.create;I.destroy=H()}I=I.next}while(I!==S)}}function No(x){var S=x.ref;if(S!==null){var I=x.stateNode;switch(x.tag){case 5:x=I;break;default:x=I}typeof S=="function"?S(x):S.current=x}}function Xa(x){var S=x.alternate;S!==null&&(x.alternate=null,Xa(S)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(S=x.stateNode,S!==null&&(delete S[fs],delete S[Us],delete S[Es],delete S[mi],delete S[os])),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function Ec(x){return x.tag===5||x.tag===3||x.tag===4}function co(x){t:for(;;){for(;x.sibling===null;){if(x.return===null||Ec(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue t;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function Rc(x,S,I){var H=x.tag;if(H===5||H===6)x=x.stateNode,S?I.nodeType===8?I.parentNode.insertBefore(x,S):I.insertBefore(x,S):(I.nodeType===8?(S=I.parentNode,S.insertBefore(x,I)):(S=I,S.appendChild(x)),I=I._reactRootContainer,I!=null||S.onclick!==null||(S.onclick=qu));else if(H!==4&&(x=x.child,x!==null))for(Rc(x,S,I),x=x.sibling;x!==null;)Rc(x,S,I),x=x.sibling}function Pu(x,S,I){var H=x.tag;if(H===5||H===6)x=x.stateNode,S?I.insertBefore(x,S):I.appendChild(x);else if(H!==4&&(x=x.child,x!==null))for(Pu(x,S,I),x=x.sibling;x!==null;)Pu(x,S,I),x=x.sibling}var Zo=null,fu=!1;function Ps(x,S,I){for(I=I.child;I!==null;)Ja(x,S,I),I=I.sibling}function Ja(x,S,I){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Tf,I)}catch{}switch(I.tag){case 5:Fu||Pl(I,S);case 6:var H=Zo,Q=fu;Zo=null,Ps(x,S,I),Zo=H,fu=Q,Zo!==null&&(fu?(x=Zo,I=I.stateNode,x.nodeType===8?x.parentNode.removeChild(I):x.removeChild(I)):Zo.removeChild(I.stateNode));break;case 18:Zo!==null&&(fu?(x=Zo,I=I.stateNode,x.nodeType===8?Qs(x.parentNode,I):x.nodeType===1&&Qs(x,I),Xs(x)):Qs(Zo,I.stateNode));break;case 4:H=Zo,Q=fu,Zo=I.stateNode.containerInfo,fu=!0,Ps(x,S,I),Zo=H,fu=Q;break;case 0:case 11:case 14:case 15:if(!Fu&&(H=I.updateQueue,H!==null&&(H=H.lastEffect,H!==null))){Q=H=H.next;do{var at=Q,Ft=at.destroy;at=at.tag,Ft!==void 0&&(at&2||at&4)&&Sc(I,S,Ft),Q=Q.next}while(Q!==H)}Ps(x,S,I);break;case 1:if(!Fu&&(Pl(I,S),H=I.stateNode,typeof H.componentWillUnmount=="function"))try{H.props=I.memoizedProps,H.state=I.memoizedState,H.componentWillUnmount()}catch(te){Lr(I,S,te)}Ps(x,S,I);break;case 21:Ps(x,S,I);break;case 22:I.mode&1?(Fu=(H=Fu)||I.memoizedState!==null,Ps(x,S,I),Fu=H):Ps(x,S,I);break;default:Ps(x,S,I)}}function Tl(x){var S=x.updateQueue;if(S!==null){x.updateQueue=null;var I=x.stateNode;I===null&&(I=x.stateNode=new ph),S.forEach(function(H){var Q=fm.bind(null,x,H);I.has(H)||(I.add(H),H.then(Q,Q))})}}function hu(x,S){var I=S.deletions;if(I!==null)for(var H=0;H<I.length;H++){var Q=I[H];try{var at=x,Ft=S,te=Ft;t:for(;te!==null;){switch(te.tag){case 5:Zo=te.stateNode,fu=!1;break t;case 3:Zo=te.stateNode.containerInfo,fu=!0;break t;case 4:Zo=te.stateNode.containerInfo,fu=!0;break t}te=te.return}if(Zo===null)throw Error(e(160));Ja(at,Ft,Q),Zo=null,fu=!1;var he=Q.alternate;he!==null&&(he.return=null),Q.return=null}catch(Re){Lr(Q,S,Re)}}if(S.subtreeFlags&12854)for(S=S.child;S!==null;)fl(S,x),S=S.sibling}function fl(x,S){var I=x.alternate,H=x.flags;switch(x.tag){case 0:case 11:case 14:case 15:if(hu(S,x),_n(x),H&4){try{ti(3,x,x.return),li(3,x)}catch(Pi){Lr(x,x.return,Pi)}try{ti(5,x,x.return)}catch(Pi){Lr(x,x.return,Pi)}}break;case 1:hu(S,x),_n(x),H&512&&I!==null&&Pl(I,I.return);break;case 5:if(hu(S,x),_n(x),H&512&&I!==null&&Pl(I,I.return),x.flags&32){var Q=x.stateNode;try{Yi(Q,"")}catch(Pi){Lr(x,x.return,Pi)}}if(H&4&&(Q=x.stateNode,Q!=null)){var at=x.memoizedProps,Ft=I!==null?I.memoizedProps:at,te=x.type,he=x.updateQueue;if(x.updateQueue=null,he!==null)try{te==="input"&&at.type==="radio"&&at.name!=null&&bt(Q,at),ja(te,Ft);var Re=ja(te,at);for(Ft=0;Ft<he.length;Ft+=2){var Cn=he[Ft],kn=he[Ft+1];Cn==="style"?us(Q,kn):Cn==="dangerouslySetInnerHTML"?zi(Q,kn):Cn==="children"?Yi(Q,kn):L(Q,Cn,kn,Re)}switch(te){case"input":Ot(Q,at);break;case"textarea":Ze(Q,at);break;case"select":var yn=Q._wrapperState.wasMultiple;Q._wrapperState.wasMultiple=!!at.multiple;var zr=at.value;zr!=null?Kt(Q,!!at.multiple,zr,!1):yn!==!!at.multiple&&(at.defaultValue!=null?Kt(Q,!!at.multiple,at.defaultValue,!0):Kt(Q,!!at.multiple,at.multiple?[]:"",!1))}Q[Us]=at}catch(Pi){Lr(x,x.return,Pi)}}break;case 6:if(hu(S,x),_n(x),H&4){if(x.stateNode===null)throw Error(e(162));Q=x.stateNode,at=x.memoizedProps;try{Q.nodeValue=at}catch(Pi){Lr(x,x.return,Pi)}}break;case 3:if(hu(S,x),_n(x),H&4&&I!==null&&I.memoizedState.isDehydrated)try{Xs(S.containerInfo)}catch(Pi){Lr(x,x.return,Pi)}break;case 4:hu(S,x),_n(x);break;case 13:hu(S,x),_n(x),Q=x.child,Q.flags&8192&&(at=Q.memoizedState!==null,Q.stateNode.isHidden=at,!at||Q.alternate!==null&&Q.alternate.memoizedState!==null||(u=Do())),H&4&&Tl(x);break;case 22:if(Cn=I!==null&&I.memoizedState!==null,x.mode&1?(Fu=(Re=Fu)||Cn,hu(S,x),Fu=Re):hu(S,x),_n(x),H&8192){if(Re=x.memoizedState!==null,(x.stateNode.isHidden=Re)&&!Cn&&x.mode&1)for(Wn=x,Cn=x.child;Cn!==null;){for(kn=Wn=Cn;Wn!==null;){switch(yn=Wn,zr=yn.child,yn.tag){case 0:case 11:case 14:case 15:ti(4,yn,yn.return);break;case 1:Pl(yn,yn.return);var wi=yn.stateNode;if(typeof wi.componentWillUnmount=="function"){H=yn,I=yn.return;try{S=H,wi.props=S.memoizedProps,wi.state=S.memoizedState,wi.componentWillUnmount()}catch(Pi){Lr(H,I,Pi)}}break;case 5:Pl(yn,yn.return);break;case 22:if(yn.memoizedState!==null){Qa(kn);continue}}zr!==null?(zr.return=yn,Wn=zr):Qa(kn)}Cn=Cn.sibling}t:for(Cn=null,kn=x;;){if(kn.tag===5){if(Cn===null){Cn=kn;try{Q=kn.stateNode,Re?(at=Q.style,typeof at.setProperty=="function"?at.setProperty("display","none","important"):at.display="none"):(te=kn.stateNode,he=kn.memoizedProps.style,Ft=he!=null&&he.hasOwnProperty("display")?he.display:null,te.style.display=Ai("display",Ft))}catch(Pi){Lr(x,x.return,Pi)}}}else if(kn.tag===6){if(Cn===null)try{kn.stateNode.nodeValue=Re?"":kn.memoizedProps}catch(Pi){Lr(x,x.return,Pi)}}else if((kn.tag!==22&&kn.tag!==23||kn.memoizedState===null||kn===x)&&kn.child!==null){kn.child.return=kn,kn=kn.child;continue}if(kn===x)break t;for(;kn.sibling===null;){if(kn.return===null||kn.return===x)break t;Cn===kn&&(Cn=null),kn=kn.return}Cn===kn&&(Cn=null),kn.sibling.return=kn.return,kn=kn.sibling}}break;case 19:hu(S,x),_n(x),H&4&&Tl(x);break;case 21:break;default:hu(S,x),_n(x)}}function _n(x){var S=x.flags;if(S&2){try{t:{for(var I=x.return;I!==null;){if(Ec(I)){var H=I;break t}I=I.return}throw Error(e(160))}switch(H.tag){case 5:var Q=H.stateNode;H.flags&32&&(Yi(Q,""),H.flags&=-33);var at=co(x);Pu(x,at,Q);break;case 3:case 4:var Ft=H.stateNode.containerInfo,te=co(x);Rc(x,te,Ft);break;default:throw Error(e(161))}}catch(he){Lr(x,x.return,he)}x.flags&=-3}S&4096&&(x.flags&=-4097)}function ic(x,S,I){Wn=x,ca(x)}function ca(x,S,I){for(var H=(x.mode&1)!==0;Wn!==null;){var Q=Wn,at=Q.child;if(Q.tag===22&&H){var Ft=Q.memoizedState!==null||Fs;if(!Ft){var te=Q.alternate,he=te!==null&&te.memoizedState!==null||Fu;te=Fs;var Re=Fu;if(Fs=Ft,(Fu=he)&&!Re)for(Wn=Q;Wn!==null;)Ft=Wn,he=Ft.child,Ft.tag===22&&Ft.memoizedState!==null?hl(Q):he!==null?(he.return=Ft,Wn=he):hl(Q);for(;at!==null;)Wn=at,ca(at),at=at.sibling;Wn=Q,Fs=te,Fu=Re}Jc(x)}else Q.subtreeFlags&8772&&at!==null?(at.return=Q,Wn=at):Jc(x)}}function Jc(x){for(;Wn!==null;){var S=Wn;if(S.flags&8772){var I=S.alternate;try{if(S.flags&8772)switch(S.tag){case 0:case 11:case 15:Fu||li(5,S);break;case 1:var H=S.stateNode;if(S.flags&4&&!Fu)if(I===null)H.componentDidMount();else{var Q=S.elementType===S.type?I.memoizedProps:ll(S.type,I.memoizedProps);H.componentDidUpdate(Q,I.memoizedState,H.__reactInternalSnapshotBeforeUpdate)}var at=S.updateQueue;at!==null&&go(S,at,H);break;case 3:var Ft=S.updateQueue;if(Ft!==null){if(I=null,S.child!==null)switch(S.child.tag){case 5:I=S.child.stateNode;break;case 1:I=S.child.stateNode}go(S,Ft,I)}break;case 5:var te=S.stateNode;if(I===null&&S.flags&4){I=te;var he=S.memoizedProps;switch(S.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&I.focus();break;case"img":he.src&&(I.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(S.memoizedState===null){var Re=S.alternate;if(Re!==null){var Cn=Re.memoizedState;if(Cn!==null){var kn=Cn.dehydrated;kn!==null&&Xs(kn)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}Fu||S.flags&512&&No(S)}catch(yn){Lr(S,S.return,yn)}}if(S===x){Wn=null;break}if(I=S.sibling,I!==null){I.return=S.return,Wn=I;break}Wn=S.return}}function Qa(x){for(;Wn!==null;){var S=Wn;if(S===x){Wn=null;break}var I=S.sibling;if(I!==null){I.return=S.return,Wn=I;break}Wn=S.return}}function hl(x){for(;Wn!==null;){var S=Wn;try{switch(S.tag){case 0:case 11:case 15:var I=S.return;try{li(4,S)}catch(he){Lr(S,I,he)}break;case 1:var H=S.stateNode;if(typeof H.componentDidMount=="function"){var Q=S.return;try{H.componentDidMount()}catch(he){Lr(S,Q,he)}}var at=S.return;try{No(S)}catch(he){Lr(S,at,he)}break;case 5:var Ft=S.return;try{No(S)}catch(he){Lr(S,Ft,he)}}}catch(he){Lr(S,S.return,he)}if(S===x){Wn=null;break}var te=S.sibling;if(te!==null){te.return=S.return,Wn=te;break}Wn=S.return}}var Ac=Math.ceil,cf=z.ReactCurrentDispatcher,xf=z.ReactCurrentOwner,Io=z.ReactCurrentBatchConfig,fr=0,ta=null,qr=null,Ir=0,Ma=0,jc=to(0),ws=0,Zu=null,ff=0,zf=0,oc=0,Qc=null,o=null,u=0,l=1/0,g=null,b=!1,E=null,O=null,R=!1,W=null,A=0,_=0,T=null,U=-1,G=0;function Z(){return fr&6?Do():U!==-1?U:U=Do()}function K(x){return x.mode&1?fr&2&&Ir!==0?Ir&-Ir:$s.transition!==null?(G===0&&(G=uh()),G):(x=br,x!==0||(x=window.event,x=x===void 0?16:ns(x.type)),x):1}function tt(x,S,I,H){if(50<_)throw _=0,T=null,Error(e(185));tf(x,I,H),(!(fr&2)||x!==ta)&&(x===ta&&(!(fr&2)&&(zf|=I),ws===4&&xt(x,Ir)),ut(x,H),I===1&&fr===0&&!(S.mode&1)&&(l=Do()+500,Ur&&_l()))}function ut(x,S){var I=x.callbackNode;wc(x,S);var H=rl(x,x===ta?Ir:0);if(H===0)I!==null&&Xi(I),x.callbackNode=null,x.callbackPriority=0;else if(S=H&-H,x.callbackPriority!==S){if(I!=null&&Xi(I),S===1)x.tag===0?Su(It.bind(null,x)):Cl(It.bind(null,x)),Si(function(){!(fr&6)&&_l()}),I=null;else{switch(xi(H)){case 1:I=be;break;case 4:I=Xr;break;case 16:I=xa;break;case 536870912:I=Kc;break;default:I=xa}I=p(I,ot.bind(null,x))}x.callbackPriority=S,x.callbackNode=I}}function ot(x,S){if(U=-1,G=0,fr&6)throw Error(e(327));var I=x.callbackNode;if(Kr()&&x.callbackNode!==I)return null;var H=rl(x,x===ta?Ir:0);if(H===0)return null;if(H&30||H&x.expiredLanes||S)S=On(x,H);else{S=H;var Q=fr;fr|=2;var at=Ve();(ta!==x||Ir!==S)&&(g=null,l=Do()+500,oe(x,S));do try{nr();break}catch(te){xe(x,te)}while(!0);Jo(),cf.current=at,fr=Q,qr!==null?S=0:(ta=null,Ir=0,S=ws)}if(S!==0){if(S===2&&(Q=Mn(x),Q!==0&&(H=Q,S=wt(x,Q))),S===1)throw I=Zu,oe(x,0),xt(x,H),ut(x,Do()),I;if(S===6)xt(x,H);else{if(Q=x.current.alternate,!(H&30)&&!jt(Q)&&(S=On(x,H),S===2&&(at=Mn(x),at!==0&&(H=at,S=wt(x,at))),S===1))throw I=Zu,oe(x,0),xt(x,H),ut(x,Do()),I;switch(x.finishedWork=Q,x.finishedLanes=H,S){case 0:case 1:throw Error(e(345));case 2:ro(x,o,g);break;case 3:if(xt(x,H),(H&130023424)===H&&(S=u+500-Do(),10<S)){if(rl(x,0)!==0)break;if(Q=x.suspendedLanes,(Q&H)!==H){Z(),x.pingedLanes|=x.suspendedLanes&Q;break}x.timeoutHandle=ar(ro.bind(null,x,o,g),S);break}ro(x,o,g);break;case 4:if(xt(x,H),(H&4194240)===H)break;for(S=x.eventTimes,Q=-1;0<H;){var Ft=31-kr(H);at=1<<Ft,Ft=S[Ft],Ft>Q&&(Q=Ft),H&=~at}if(H=Q,H=Do()-H,H=(120>H?120:480>H?480:1080>H?1080:1920>H?1920:3e3>H?3e3:4320>H?4320:1960*Ac(H/1960))-H,10<H){x.timeoutHandle=ar(ro.bind(null,x,o,g),H);break}ro(x,o,g);break;case 5:ro(x,o,g);break;default:throw Error(e(329))}}}return ut(x,Do()),x.callbackNode===I?ot.bind(null,x):null}function wt(x,S){var I=Qc;return x.current.memoizedState.isDehydrated&&(oe(x,S).flags|=256),x=On(x,S),x!==2&&(S=o,o=I,S!==null&&yt(S)),x}function yt(x){o===null?o=x:o.push.apply(o,x)}function jt(x){for(var S=x;;){if(S.flags&16384){var I=S.updateQueue;if(I!==null&&(I=I.stores,I!==null))for(var H=0;H<I.length;H++){var Q=I[H],at=Q.getSnapshot;Q=Q.value;try{if(!P(at(),Q))return!1}catch{return!1}}}if(I=S.child,S.subtreeFlags&16384&&I!==null)I.return=S,S=I;else{if(S===x)break;for(;S.sibling===null;){if(S.return===null||S.return===x)return!0;S=S.return}S.sibling.return=S.return,S=S.sibling}}return!0}function xt(x,S){for(S&=~oc,S&=~zf,x.suspendedLanes|=S,x.pingedLanes&=~S,x=x.expirationTimes;0<S;){var I=31-kr(S),H=1<<I;x[I]=-1,S&=~H}}function It(x){if(fr&6)throw Error(e(327));Kr();var S=rl(x,0);if(!(S&1))return ut(x,Do()),null;var I=On(x,S);if(x.tag!==0&&I===2){var H=Mn(x);H!==0&&(S=H,I=wt(x,H))}if(I===1)throw I=Zu,oe(x,0),xt(x,S),ut(x,Do()),I;if(I===6)throw Error(e(345));return x.finishedWork=x.current.alternate,x.finishedLanes=S,ro(x,o,g),ut(x,Do()),null}function ae(x,S){var I=fr;fr|=1;try{return x(S)}finally{fr=I,fr===0&&(l=Do()+500,Ur&&_l())}}function Ht(x){W!==null&&W.tag===0&&!(fr&6)&&Kr();var S=fr;fr|=1;var I=Io.transition,H=br;try{if(Io.transition=null,br=1,x)return x()}finally{br=H,Io.transition=I,fr=S,!(fr&6)&&_l()}}function ye(){Ma=jc.current,Or(jc)}function oe(x,S){x.finishedWork=null,x.finishedLanes=0;var I=x.timeoutHandle;if(I!==-1&&(x.timeoutHandle=-1,zs(I)),qr!==null)for(I=qr.return;I!==null;){var H=I;switch(va(H),H.tag){case 1:H=H.type.childContextTypes,H!=null&&Ri();break;case 3:sl(),Or(oi),Or(Yn),Ql();break;case 5:Ic(H);break;case 4:sl();break;case 13:Or(Nn);break;case 19:Or(Nn);break;case 10:er(H.type._context);break;case 22:case 23:ye()}I=I.return}if(ta=x,qr=x=$(x.current,null),Ir=Ma=S,ws=0,Zu=null,oc=zf=ff=0,o=Qc=null,cn!==null){for(S=0;S<cn.length;S++)if(I=cn[S],H=I.interleaved,H!==null){I.interleaved=null;var Q=H.next,at=I.pending;if(at!==null){var Ft=at.next;at.next=Q,H.next=Ft}I.pending=H}cn=null}return x}function xe(x,S){do{var I=qr;try{if(Jo(),mf.current=ks,Ml){for(var H=uo.memoizedState;H!==null;){var Q=H.queue;Q!==null&&(Q.pending=null),H=H.next}Ml=!1}if(Zl=0,lo=Oa=uo=null,vf=!1,yf=0,xf.current=null,I===null||I.return===null){ws=1,Zu=S,qr=null;break}t:{var at=x,Ft=I.return,te=I,he=S;if(S=Ir,te.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Re=he,Cn=te,kn=Cn.tag;if(!(Cn.mode&1)&&(kn===0||kn===11||kn===15)){var yn=Cn.alternate;yn?(Cn.updateQueue=yn.updateQueue,Cn.memoizedState=yn.memoizedState,Cn.lanes=yn.lanes):(Cn.updateQueue=null,Cn.memoizedState=null)}var zr=Gn(Ft);if(zr!==null){zr.flags&=-257,We(zr,Ft,te,at,S),zr.mode&1&&cu(at,Re,S),S=zr,he=Re;var wi=S.updateQueue;if(wi===null){var Pi=new Set;Pi.add(he),S.updateQueue=Pi}else wi.add(he);break t}else{if(!(S&1)){cu(at,Re,S),an();break t}he=Error(e(426))}}else if(oo&&te.mode&1){var zh=Gn(Ft);if(zh!==null){!(zh.flags&65536)&&(zh.flags|=256),We(zh,Ft,te,at,S),gr($e(he,te));break t}}at=he=$e(he,te),ws!==4&&(ws=2),Qc===null?Qc=[at]:Qc.push(at),at=Ft;do{switch(at.tag){case 3:at.flags|=65536,S&=-S,at.lanes|=S;var _e=lu(at,he,S);Wl(at,_e);break t;case 1:te=he;var me=at.type,Me=at.stateNode;if(!(at.flags&128)&&(typeof me.getDerivedStateFromError=="function"||Me!==null&&typeof Me.componentDidCatch=="function"&&(O===null||!O.has(Me)))){at.flags|=65536,S&=-S,at.lanes|=S;var Hn=yi(at,te,S);Wl(at,Hn);break t}}at=at.return}while(at!==null)}Ao(I)}catch(Hi){S=Hi,qr===I&&I!==null&&(qr=I=I.return);continue}break}while(!0)}function Ve(){var x=cf.current;return cf.current=ks,x===null?ks:x}function an(){(ws===0||ws===3||ws===2)&&(ws=4),ta===null||!(ff&268435455)&&!(zf&268435455)||xt(ta,Ir)}function On(x,S){var I=fr;fr|=2;var H=Ve();(ta!==x||Ir!==S)&&(g=null,oe(x,S));do try{Dn();break}catch(Q){xe(x,Q)}while(!0);if(Jo(),fr=I,cf.current=H,qr!==null)throw Error(e(261));return ta=null,Ir=0,ws}function Dn(){for(;qr!==null;)Cr(qr)}function nr(){for(;qr!==null&&!es();)Cr(qr)}function Cr(x){var S=Hh(x.alternate,x,Ma);x.memoizedProps=x.pendingProps,S===null?Ao(x):qr=S,xf.current=null}function Ao(x){var S=x;do{var I=S.alternate;if(x=S.return,S.flags&32768){if(I=Mu(I,S),I!==null){I.flags&=32767,qr=I;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{ws=6,qr=null;return}}else if(I=Xn(I,S,Ma),I!==null){qr=I;return}if(S=S.sibling,S!==null){qr=S;return}qr=S=x}while(S!==null);ws===0&&(ws=5)}function ro(x,S,I){var H=br,Q=Io.transition;try{Io.transition=null,br=1,vo(x,S,I,H)}finally{Io.transition=Q,br=H}return null}function vo(x,S,I,H){do Kr();while(W!==null);if(fr&6)throw Error(e(327));I=x.finishedWork;var Q=x.finishedLanes;if(I===null)return null;if(x.finishedWork=null,x.finishedLanes=0,I===x.current)throw Error(e(177));x.callbackNode=null,x.callbackPriority=0;var at=I.lanes|I.childLanes;if(Cs(x,at),x===ta&&(qr=ta=null,Ir=0),!(I.subtreeFlags&2064)&&!(I.flags&2064)||R||(R=!0,p(xa,function(){return Kr(),null})),at=(I.flags&15990)!==0,I.subtreeFlags&15990||at){at=Io.transition,Io.transition=null;var Ft=br;br=1;var te=fr;fr|=4,xf.current=null,Tn(x,I),fl(I,x),Fr(Ta),Tc=!!Cu,Ta=Cu=null,x.current=I,ic(I),ru(),fr=te,br=Ft,Io.transition=at}else x.current=I;if(R&&(R=!1,W=x,A=Q),at=x.pendingLanes,at===0&&(O=null),$i(I.stateNode),ut(x,Do()),S!==null)for(H=x.onRecoverableError,I=0;I<S.length;I++)Q=S[I],H(Q.value,{componentStack:Q.stack,digest:Q.digest});if(b)throw b=!1,x=E,E=null,x;return A&1&&x.tag!==0&&Kr(),at=x.pendingLanes,at&1?x===T?_++:(_=0,T=x):_=0,_l(),null}function Kr(){if(W!==null){var x=xi(A),S=Io.transition,I=br;try{if(Io.transition=null,br=16>x?16:x,W===null)var H=!1;else{if(x=W,W=null,A=0,fr&6)throw Error(e(331));var Q=fr;for(fr|=4,Wn=x.current;Wn!==null;){var at=Wn,Ft=at.child;if(Wn.flags&16){var te=at.deletions;if(te!==null){for(var he=0;he<te.length;he++){var Re=te[he];for(Wn=Re;Wn!==null;){var Cn=Wn;switch(Cn.tag){case 0:case 11:case 15:ti(8,Cn,at)}var kn=Cn.child;if(kn!==null)kn.return=Cn,Wn=kn;else for(;Wn!==null;){Cn=Wn;var yn=Cn.sibling,zr=Cn.return;if(Xa(Cn),Cn===Re){Wn=null;break}if(yn!==null){yn.return=zr,Wn=yn;break}Wn=zr}}}var wi=at.alternate;if(wi!==null){var Pi=wi.child;if(Pi!==null){wi.child=null;do{var zh=Pi.sibling;Pi.sibling=null,Pi=zh}while(Pi!==null)}}Wn=at}}if(at.subtreeFlags&2064&&Ft!==null)Ft.return=at,Wn=Ft;else t:for(;Wn!==null;){if(at=Wn,at.flags&2048)switch(at.tag){case 0:case 11:case 15:ti(9,at,at.return)}var _e=at.sibling;if(_e!==null){_e.return=at.return,Wn=_e;break t}Wn=at.return}}var me=x.current;for(Wn=me;Wn!==null;){Ft=Wn;var Me=Ft.child;if(Ft.subtreeFlags&2064&&Me!==null)Me.return=Ft,Wn=Me;else t:for(Ft=me;Wn!==null;){if(te=Wn,te.flags&2048)try{switch(te.tag){case 0:case 11:case 15:li(9,te)}}catch(Hi){Lr(te,te.return,Hi)}if(te===Ft){Wn=null;break t}var Hn=te.sibling;if(Hn!==null){Hn.return=te.return,Wn=Hn;break t}Wn=te.return}}if(fr=Q,_l(),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Tf,x)}catch{}H=!0}return H}finally{br=I,Io.transition=S}}return!1}function ss(x,S,I){S=$e(I,S),S=lu(x,S,1),x=Al(x,S,1),S=Z(),x!==null&&(tf(x,1,S),ut(x,S))}function Lr(x,S,I){if(x.tag===3)ss(x,x,I);else for(;S!==null;){if(S.tag===3){ss(S,x,I);break}else if(S.tag===1){var H=S.stateNode;if(typeof S.type.getDerivedStateFromError=="function"||typeof H.componentDidCatch=="function"&&(O===null||!O.has(H))){x=$e(I,x),x=yi(S,x,1),S=Al(S,x,1),x=Z(),S!==null&&(tf(S,1,x),ut(S,x));break}}S=S.return}}function Za(x,S,I){var H=x.pingCache;H!==null&&H.delete(S),S=Z(),x.pingedLanes|=x.suspendedLanes&I,ta===x&&(Ir&I)===I&&(ws===4||ws===3&&(Ir&130023424)===Ir&&500>Do()-u?oe(x,0):oc|=I),ut(x,S)}function Vp(x,S){S===0&&(x.mode&1?(S=Ji,Ji<<=1,!(Ji&130023424)&&(Ji=4194304)):S=1);var I=Z();x=sr(x,S),x!==null&&(tf(x,S,I),ut(x,I))}function Nh(x){var S=x.memoizedState,I=0;S!==null&&(I=S.retryLane),Vp(x,I)}function fm(x,S){var I=0;switch(x.tag){case 13:var H=x.stateNode,Q=x.memoizedState;Q!==null&&(I=Q.retryLane);break;case 19:H=x.stateNode;break;default:throw Error(e(314))}H!==null&&H.delete(S),Vp(x,I)}var Hh;Hh=function(x,S,I){if(x!==null)if(x.memoizedProps!==S.pendingProps||oi.current)Qn=!0;else{if(!(x.lanes&I)&&!(S.flags&128))return Qn=!1,as(x,S,I);Qn=!!(x.flags&131072)}else Qn=!1,oo&&S.flags&1048576&&Lo(S,An,S.index);switch(S.lanes=0,S.tag){case 2:var H=S.type;Pn(x,S),x=S.pendingProps;var Q=Va(S,Yn.current);mr(S,I),Q=fh(null,S,H,x,Q,I);var at=Gu();return S.flags|=1,typeof Q=="object"&&Q!==null&&typeof Q.render=="function"&&Q.$$typeof===void 0?(S.tag=1,S.memoizedState=null,S.updateQueue=null,qa(H)?(at=!0,di(S)):at=!1,S.memoizedState=Q.state!==null&&Q.state!==void 0?Q.state:null,Ue(S),Q.updater=Lf,S.stateNode=Q,Q._reactInternals=S,_c(S,H,x,I),S=Ae(null,S,H,!0,at,I)):(S.tag=0,oo&&at&&zo(S),lr(null,S,Q,I),S=S.child),S;case 16:H=S.elementType;t:{switch(Pn(x,S),x=S.pendingProps,Q=H._init,H=Q(H._payload),S.type=H,Q=S.tag=j(H),x=ll(H,x),Q){case 0:S=xn(null,S,H,x,I);break t;case 1:S=Wo(null,S,H,x,I);break t;case 11:S=la(null,S,H,x,I);break t;case 14:S=Li(null,S,H,ll(H.type,x),I);break t}throw Error(e(306,H,""))}return S;case 0:return H=S.type,Q=S.pendingProps,Q=S.elementType===H?Q:ll(H,Q),xn(x,S,H,Q,I);case 1:return H=S.type,Q=S.pendingProps,Q=S.elementType===H?Q:ll(H,Q),Wo(x,S,H,Q,I);case 3:t:{if(cl(S),x===null)throw Error(e(387));H=S.pendingProps,at=S.memoizedState,Q=at.element,Dr(x,S),dc(S,H,null,I);var Ft=S.memoizedState;if(H=Ft.element,at.isDehydrated)if(at={element:H,isDehydrated:!1,cache:Ft.cache,pendingSuspenseBoundaries:Ft.pendingSuspenseBoundaries,transitions:Ft.transitions},S.updateQueue.baseState=at,S.memoizedState=at,S.flags&256){Q=$e(Error(e(423)),S),S=ui(x,S,H,I,Q);break t}else if(H!==Q){Q=$e(Error(e(424)),S),S=ui(x,S,H,I,Q);break t}else for(To=Zi(S.stateNode.containerInfo.firstChild),Uo=S,oo=!0,eo=null,I=po(S,null,H,I),S.child=I;I;)I.flags=I.flags&-3|4096,I=I.sibling;else{if(Ul(),H===Q){S=Na(x,S,I);break t}lr(x,S,H,I)}S=S.child}return S;case 5:return Hs(S),x===null&&Ka(S),H=S.type,Q=S.pendingProps,at=x!==null?x.memoizedProps:null,Ft=Q.children,dr(H,Q)?Ft=null:at!==null&&dr(H,at)&&(S.flags|=32),jn(x,S),lr(x,S,Ft,I),S.child;case 6:return x===null&&Ka(S),null;case 13:return Qe(x,S,I);case 4:return As(S,S.stateNode.containerInfo),H=S.pendingProps,x===null?S.child=Ya(S,null,H,I):lr(x,S,H,I),S.child;case 11:return H=S.type,Q=S.pendingProps,Q=S.elementType===H?Q:ll(H,Q),la(x,S,H,Q,I);case 7:return lr(x,S,S.pendingProps,I),S.child;case 8:return lr(x,S,S.pendingProps.children,I),S.child;case 12:return lr(x,S,S.pendingProps.children,I),S.child;case 10:t:{if(H=S.type._context,Q=S.pendingProps,at=S.memoizedProps,Ft=Q.value,Qr(gs,H._currentValue),H._currentValue=Ft,at!==null)if(P(at.value,Ft)){if(at.children===Q.children&&!oi.current){S=Na(x,S,I);break t}}else for(at=S.child,at!==null&&(at.return=S);at!==null;){var te=at.dependencies;if(te!==null){Ft=at.child;for(var he=te.firstContext;he!==null;){if(he.context===H){if(at.tag===1){he=Kn(-1,I&-I),he.tag=2;var Re=at.updateQueue;if(Re!==null){Re=Re.shared;var Cn=Re.pending;Cn===null?he.next=he:(he.next=Cn.next,Cn.next=he),Re.pending=he}}at.lanes|=I,he=at.alternate,he!==null&&(he.lanes|=I),si(at.return,I,S),te.lanes|=I;break}he=he.next}}else if(at.tag===10)Ft=at.type===S.type?null:at.child;else if(at.tag===18){if(Ft=at.return,Ft===null)throw Error(e(341));Ft.lanes|=I,te=Ft.alternate,te!==null&&(te.lanes|=I),si(Ft,I,S),Ft=at.sibling}else Ft=at.child;if(Ft!==null)Ft.return=at;else for(Ft=at;Ft!==null;){if(Ft===S){Ft=null;break}if(at=Ft.sibling,at!==null){at.return=Ft.return,Ft=at;break}Ft=Ft.return}at=Ft}lr(x,S,Q.children,I),S=S.child}return S;case 9:return Q=S.type,H=S.pendingProps.children,mr(S,I),Q=ua(Q),H=H(Q),S.flags|=1,lr(x,S,H,I),S.child;case 14:return H=S.type,Q=ll(H,S.pendingProps),Q=ll(H.type,Q),Li(x,S,H,Q,I);case 15:return Qu(x,S,S.type,S.pendingProps,I);case 17:return H=S.type,Q=S.pendingProps,Q=S.elementType===H?Q:ll(H,Q),Pn(x,S),S.tag=1,qa(H)?(x=!0,di(S)):x=!1,mr(S,I),Eo(S,H,Q),_c(S,H,Q,I),Ae(null,S,H,!0,x,I);case 19:return nc(x,S,I);case 22:return ku(x,S,I)}throw Error(e(156,S.tag))};function p(x,S){return hr(x,S)}function v(x,S,I,H){this.tag=x,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=S,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=H,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function D(x,S,I,H){return new v(x,S,I,H)}function F(x){return x=x.prototype,!(!x||!x.isReactComponent)}function j(x){if(typeof x=="function")return F(x)?1:0;if(x!=null){if(x=x.$$typeof,x===gt)return 11;if(x===Tt)return 14}return 2}function $(x,S){var I=x.alternate;return I===null?(I=D(x.tag,S,x.key,x.mode),I.elementType=x.elementType,I.type=x.type,I.stateNode=x.stateNode,I.alternate=x,x.alternate=I):(I.pendingProps=S,I.type=x.type,I.flags=0,I.subtreeFlags=0,I.deletions=null),I.flags=x.flags&14680064,I.childLanes=x.childLanes,I.lanes=x.lanes,I.child=x.child,I.memoizedProps=x.memoizedProps,I.memoizedState=x.memoizedState,I.updateQueue=x.updateQueue,S=x.dependencies,I.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext},I.sibling=x.sibling,I.index=x.index,I.ref=x.ref,I}function Y(x,S,I,H,Q,at){var Ft=2;if(H=x,typeof x=="function")F(x)&&(Ft=1);else if(typeof x=="string")Ft=5;else t:switch(x){case X:return lt(I.children,Q,at,S);case nt:Ft=8,Q|=8;break;case it:return x=D(12,I,S,Q|2),x.elementType=it,x.lanes=at,x;case Ct:return x=D(13,I,S,Q),x.elementType=Ct,x.lanes=at,x;case kt:return x=D(19,I,S,Q),x.elementType=kt,x.lanes=at,x;case Zt:return ht(I,Q,at,S);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case ct:Ft=10;break t;case ft:Ft=9;break t;case gt:Ft=11;break t;case Tt:Ft=14;break t;case At:Ft=16,H=null;break t}throw Error(e(130,x==null?x:typeof x,""))}return S=D(Ft,I,S,Q),S.elementType=x,S.type=H,S.lanes=at,S}function lt(x,S,I,H){return x=D(7,x,H,S),x.lanes=I,x}function ht(x,S,I,H){return x=D(22,x,H,S),x.elementType=Zt,x.lanes=I,x.stateNode={isHidden:!1},x}function Mt(x,S,I){return x=D(6,x,null,S),x.lanes=I,x}function $t(x,S,I){return S=D(4,x.children!==null?x.children:[],x.key,S),S.lanes=I,S.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},S}function Gt(x,S,I,H,Q){this.tag=S,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bn(0),this.expirationTimes=Bn(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bn(0),this.identifierPrefix=H,this.onRecoverableError=Q,this.mutableSourceEagerHydrationData=null}function qt(x,S,I,H,Q,at,Ft,te,he){return x=new Gt(x,S,I,te,he),S===1?(S=1,at===!0&&(S|=8)):S=0,at=D(3,null,null,S),x.current=at,at.stateNode=x,at.memoizedState={element:H,isDehydrated:I,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ue(at),x}function Qt(x,S,I){var H=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:H==null?null:""+H,children:x,containerInfo:S,implementation:I}}function de(x){if(!x)return fn;x=x._reactInternals;t:{if(Gs(x)!==x||x.tag!==1)throw Error(e(170));var S=x;do{switch(S.tag){case 3:S=S.stateNode.context;break t;case 1:if(qa(S.type)){S=S.stateNode.__reactInternalMemoizedMergedChildContext;break t}}S=S.return}while(S!==null);throw Error(e(171))}if(x.tag===1){var I=x.type;if(qa(I))return wr(x,I,S)}return S}function le(x,S,I,H,Q,at,Ft,te,he){return x=qt(I,H,!0,x,Q,at,Ft,te,he),x.context=de(null),I=x.current,H=Z(),Q=K(I),at=Kn(H,Q),at.callback=S??null,Al(I,at,Q),x.current.lanes=Q,tf(x,Q,H),ut(x,H),x}function Wt(x,S,I,H){var Q=S.current,at=Z(),Ft=K(Q);return I=de(I),S.context===null?S.context=I:S.pendingContext=I,S=Kn(at,Ft),S.payload={element:x},H=H===void 0?null:H,H!==null&&(S.callback=H),x=Al(Q,S,Ft),x!==null&&(tt(x,Q,Ft,at),Zr(x,Q,Ft)),Ft}function Dt(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return x.child.stateNode;default:return x.child.stateNode}}function Ut(x,S){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var I=x.retryLane;x.retryLane=I!==0&&I<S?I:S}}function ne(x,S){Ut(x,S),(x=x.alternate)&&Ut(x,S)}function Ie(){return null}var Rn=typeof reportError=="function"?reportError:function(x){console.error(x)};function Te(x){this._internalRoot=x}In.prototype.render=Te.prototype.render=function(x){var S=this._internalRoot;if(S===null)throw Error(e(409));Wt(x,S,null,null)},In.prototype.unmount=Te.prototype.unmount=function(){var x=this._internalRoot;if(x!==null){this._internalRoot=null;var S=x.containerInfo;Ht(function(){Wt(null,x,null,null)}),S[ue]=null}};function In(x){this._internalRoot=x}In.prototype.unstable_scheduleHydration=function(x){if(x){var S=ef();x={blockedOn:null,target:x,priority:S};for(var I=0;I<Da.length&&S!==0&&S<Da[I].priority;I++);Da.splice(I,0,x),I===0&&Bl(x)}};function rr(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)}function Jn(x){return!(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11&&(x.nodeType!==8||x.nodeValue!==" react-mount-point-unstable "))}function ei(){}function Vl(x,S,I,H,Q){if(Q){if(typeof H=="function"){var at=H;H=function(){var Re=Dt(Ft);at.call(Re)}}var Ft=le(S,H,x,0,null,!1,!1,"",ei);return x._reactRootContainer=Ft,x[ue]=Ft.current,Vr(x.nodeType===8?x.parentNode:x),Ht(),Ft}for(;Q=x.lastChild;)x.removeChild(Q);if(typeof H=="function"){var te=H;H=function(){var Re=Dt(he);te.call(Re)}}var he=qt(x,0,!1,null,null,!1,!1,"",ei);return x._reactRootContainer=he,x[ue]=he.current,Vr(x.nodeType===8?x.parentNode:x),Ht(function(){Wt(S,he,I,H)}),he}function ug(x,S,I,H,Q){var at=I._reactRootContainer;if(at){var Ft=at;if(typeof Q=="function"){var te=Q;Q=function(){var he=Dt(Ft);te.call(he)}}Wt(S,Ft,x,Q)}else Ft=Vl(I,S,x,Q,H);return Dt(Ft)}Be=function(x){switch(x.tag){case 3:var S=x.stateNode;if(S.current.memoizedState.isDehydrated){var I=qn(S.pendingLanes);I!==0&&(Br(S,I|1),ut(S,Do()),!(fr&6)&&(l=Do()+500,_l()))}break;case 13:Ht(function(){var H=sr(x,1);if(H!==null){var Q=Z();tt(H,x,1,Q)}}),ne(x,1)}},Er=function(x){if(x.tag===13){var S=sr(x,134217728);if(S!==null){var I=Z();tt(S,x,134217728,I)}ne(x,134217728)}},Jr=function(x){if(x.tag===13){var S=K(x),I=sr(x,S);if(I!==null){var H=Z();tt(I,x,S,H)}ne(x,S)}},ef=function(){return br},Is=function(x,S){var I=br;try{return br=x,S()}finally{br=I}},dl=function(x,S,I){switch(S){case"input":if(Ot(x,I),S=I.name,I.type==="radio"&&S!=null){for(I=x;I.parentNode;)I=I.parentNode;for(I=I.querySelectorAll("input[name="+JSON.stringify(""+S)+'][type="radio"]'),S=0;S<I.length;S++){var H=I[S];if(H!==x&&H.form===x.form){var Q=Un(H);if(!Q)throw Error(e(90));bi(H),Ot(H,Q)}}}break;case"textarea":Ze(x,I);break;case"select":S=I.value,S!=null&&Kt(x,!!I.multiple,S,!1)}},wu=ae,Ou=Ht;var ev={usingClientEntryPoint:!1,Events:[hs,ol,Un,Pa,ml,ae]},Ig={findFiberByHostInstance:Yl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yb={bundleType:Ig.bundleType,version:Ig.version,rendererPackageName:Ig.rendererPackageName,rendererConfig:Ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(x){return x=ln(x),x===null?null:x.stateNode},findFiberByHostInstance:Ig.findFiberByHostInstance||Ie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dd.isDisabled&&Dd.supportsFiber)try{Tf=Dd.inject(yb),ze=Dd}catch{}}return Cd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ev,Cd.createPortal=function(x,S){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rr(S))throw Error(e(200));return Qt(x,S,null,I)},Cd.createRoot=function(x,S){if(!rr(x))throw Error(e(299));var I=!1,H="",Q=Rn;return S!=null&&(S.unstable_strictMode===!0&&(I=!0),S.identifierPrefix!==void 0&&(H=S.identifierPrefix),S.onRecoverableError!==void 0&&(Q=S.onRecoverableError)),S=qt(x,1,!1,null,null,I,!1,H,Q),x[ue]=S.current,Vr(x.nodeType===8?x.parentNode:x),new Te(S)},Cd.findDOMNode=function(x){if(x==null)return null;if(x.nodeType===1)return x;var S=x._reactInternals;if(S===void 0)throw typeof x.render=="function"?Error(e(188)):(x=Object.keys(x).join(","),Error(e(268,x)));return x=ln(S),x=x===null?null:x.stateNode,x},Cd.flushSync=function(x){return Ht(x)},Cd.hydrate=function(x,S,I){if(!Jn(S))throw Error(e(200));return ug(null,x,S,!0,I)},Cd.hydrateRoot=function(x,S,I){if(!rr(x))throw Error(e(405));var H=I!=null&&I.hydratedSources||null,Q=!1,at="",Ft=Rn;if(I!=null&&(I.unstable_strictMode===!0&&(Q=!0),I.identifierPrefix!==void 0&&(at=I.identifierPrefix),I.onRecoverableError!==void 0&&(Ft=I.onRecoverableError)),S=le(S,null,x,1,I??null,Q,!1,at,Ft),x[ue]=S.current,Vr(x),H)for(x=0;x<H.length;x++)I=H[x],Q=I._getVersion,Q=Q(I._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[I,Q]:S.mutableSourceEagerHydrationData.push(I,Q);return new In(S)},Cd.render=function(x,S,I){if(!Jn(S))throw Error(e(200));return ug(null,x,S,!1,I)},Cd.unmountComponentAtNode=function(x){if(!Jn(x))throw Error(e(40));return x._reactRootContainer?(Ht(function(){ug(null,null,x,!1,function(){x._reactRootContainer=null,x[ue]=null})}),!0):!1},Cd.unstable_batchedUpdates=ae,Cd.unstable_renderSubtreeIntoContainer=function(x,S,I,H){if(!Jn(I))throw Error(e(200));if(x==null||x._reactInternals===void 0)throw Error(e(38));return ug(x,S,I,!1,H)},Cd.version="18.3.1-next-f1338f8080-20240426",Cd}var aI;function PG(){if(aI)return aA.exports;aI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),aA.exports=FG(),aA.exports}var sI;function TG(){if(sI)return zD;sI=1;var n=PG();return zD.createRoot=n.createRoot,zD.hydrateRoot=n.hydrateRoot,zD}var OG=TG(),bb={},uI;function NG(){if(uI)return bb;uI=1,Object.defineProperty(bb,"__esModule",{value:!0}),bb.parse=s,bb.serialize=d;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const y=function(){};return y.prototype=Object.create(null),y})();function s(y,w){const C=new a,k=y.length;if(k<2)return C;const M=(w==null?void 0:w.decode)||h;let N=0;do{const B=y.indexOf("=",N);if(B===-1)break;const L=y.indexOf(";",N),z=L===-1?k:L;if(B>z){N=y.lastIndexOf(";",B-1)+1;continue}const q=c(y,N,B),V=f(y,B,q),X=y.slice(q,V);if(C[X]===void 0){let nt=c(y,B+1,z),it=f(y,z,nt);const ct=M(y.slice(nt,it));C[X]=ct}N=z+1}while(N<k);return C}function c(y,w,C){do{const k=y.charCodeAt(w);if(k!==32&&k!==9)return w}while(++w<C);return C}function f(y,w,C){for(;w>C;){const k=y.charCodeAt(--w);if(k!==32&&k!==9)return w+1}return C}function d(y,w,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(y))throw new TypeError(`argument name is invalid: ${y}`);const M=k(w);if(!t.test(M))throw new TypeError(`argument val is invalid: ${w}`);let N=y+"="+M;if(!C)return N;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);N+="; Max-Age="+C.maxAge}if(C.domain){if(!e.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);N+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);N+="; Path="+C.path}if(C.expires){if(!m(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);N+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(N+="; HttpOnly"),C.secure&&(N+="; Secure"),C.partitioned&&(N+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return N}function h(y){if(y.indexOf("%")===-1)return y;try{return decodeURIComponent(y)}catch{return y}}function m(y){return i.call(y)==="[object Date]"}return bb}NG();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var lI="popstate";function IG(n={}){function t(i,a){let{pathname:s="/",search:c="",hash:f=""}=ky(i.location.hash.substring(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),xM("",{pathname:s,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function e(i,a){let s=i.document.querySelector("base"),c="";if(s&&s.getAttribute("href")){let f=i.location.href,d=f.indexOf("#");c=d===-1?f:f.slice(0,d)}return c+"#"+(typeof a=="string"?a:Mx(a))}function r(i,a){sm(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return RG(t,e,r,n)}function Ah(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function sm(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BG(){return Math.random().toString(36).substring(2,10)}function cI(n,t){return{usr:n.state,key:n.key,idx:t}}function xM(n,t,e=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ky(t):t,state:e,key:t&&t.key||r||BG()}}function Mx({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ky(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let r=n.indexOf("?");r>=0&&(t.search=n.substring(r),n=n.substring(0,r)),n&&(t.pathname=n)}return t}function RG(n,t,e,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,c="POP",f=null,d=h();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function h(){return(s.state||{idx:null}).idx}function m(){c="POP";let M=h(),N=M==null?null:M-d;d=M,f&&f({action:c,location:k.location,delta:N})}function y(M,N){c="PUSH";let B=xM(k.location,M,N);e&&e(B,M),d=h()+1;let L=cI(B,d),z=k.createHref(B);try{s.pushState(L,"",z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(z)}a&&f&&f({action:c,location:k.location,delta:1})}function w(M,N){c="REPLACE";let B=xM(k.location,M,N);e&&e(B,M),d=h();let L=cI(B,d),z=k.createHref(B);s.replaceState(L,"",z),a&&f&&f({action:c,location:k.location,delta:0})}function C(M){let N=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof M=="string"?M:Mx(M);return B=B.replace(/ $/,"%20"),Ah(N,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,N)}let k={get action(){return c},get location(){return n(i,s)},listen(M){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(lI,m),f=M,()=>{i.removeEventListener(lI,m),f=null}},createHref(M){return t(i,M)},createURL:C,encodeLocation(M){let N=C(M);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:w,go(M){return s.go(M)}};return k}function R7(n,t,e="/"){return jG(n,t,e,!1)}function jG(n,t,e,r){let i=typeof t=="string"?ky(t):t,a=h0(i.pathname||"/",e);if(a==null)return null;let s=j7(n);LG(s);let c=null;for(let f=0;c==null&&f<s.length;++f){let d=XG(a);c=GG(s[f],d,r)}return c}function j7(n,t=[],e=[],r=""){let i=(a,s,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};f.relativePath.startsWith("/")&&(Ah(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let d=mv([r,f.relativePath]),h=e.concat(f);a.children&&a.children.length>0&&(Ah(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),j7(a.children,t,h,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:qG(d,a.index),routesMeta:h})};return n.forEach((a,s)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,s);else for(let f of L7(a.path))i(a,s,f)}),t}function L7(n){let t=n.split("/");if(t.length===0)return[];let[e,...r]=t,i=e.endsWith("?"),a=e.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=L7(r.join("/")),c=[];return c.push(...s.map(f=>f===""?a:[a,f].join("/"))),i&&c.push(...s),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function LG(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:KG(t.routesMeta.map(r=>r.childrenIndex),e.routesMeta.map(r=>r.childrenIndex)))}var zG=/^:[\w-]+$/,UG=3,$G=2,WG=1,HG=10,VG=-2,fI=n=>n==="*";function qG(n,t){let e=n.split("/"),r=e.length;return e.some(fI)&&(r+=VG),t&&(r+=$G),e.filter(i=>!fI(i)).reduce((i,a)=>i+(zG.test(a)?UG:a===""?WG:HG),r)}function KG(n,t){return n.length===t.length&&n.slice(0,-1).every((r,i)=>r===t[i])?n[n.length-1]-t[t.length-1]:0}function GG(n,t,e=!1){let{routesMeta:r}=n,i={},a="/",s=[];for(let c=0;c<r.length;++c){let f=r[c],d=c===r.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=SS({path:f.relativePath,caseSensitive:f.caseSensitive,end:d},h),y=f.route;if(!m&&d&&e&&!r[r.length-1].route.index&&(m=SS({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:mv([a,m.pathname]),pathnameBase:tY(mv([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=mv([a,m.pathnameBase]))}return s}function SS(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,r]=YG(n.path,n.caseSensitive,n.end),i=t.match(e);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((d,{paramName:h,isOptional:m},y)=>{if(h==="*"){let C=c[y]||"";s=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const w=c[y];return m&&!w?d[h]=void 0:d[h]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:n}}function YG(n,t=!1,e=!0){sm(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function XG(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sm(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function h0(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,r=n.charAt(e);return r&&r!=="/"?null:n.slice(e)||"/"}function JG(n,t="/"){let{pathname:e,search:r="",hash:i=""}=typeof n=="string"?ky(n):n;return{pathname:e?e.startsWith("/")?e:QG(e,t):t,search:eY(r),hash:nY(i)}}function QG(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?e.length>1&&e.pop():i!=="."&&e.push(i)}),e.length>1?e.join("/"):"/"}function lA(n,t,e,r){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZG(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function z7(n){let t=ZG(n);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function U7(n,t,e,r=!1){let i;typeof n=="string"?i=ky(n):(i={...n},Ah(!i.pathname||!i.pathname.includes("?"),lA("?","pathname","search",i)),Ah(!i.pathname||!i.pathname.includes("#"),lA("#","pathname","hash",i)),Ah(!i.search||!i.search.includes("#"),lA("#","search","hash",i)));let a=n===""||i.pathname==="",s=a?"/":i.pathname,c;if(s==null)c=e;else{let m=t.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}c=m>=0?t[m]:"/"}let f=JG(i,c),d=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(d||h)&&(f.pathname+="/"),f}var mv=n=>n.join("/").replace(/\/\/+/g,"/"),tY=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),eY=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,nY=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function rY(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $7=["POST","PUT","PATCH","DELETE"];new Set($7);var iY=["GET",...$7];new Set(iY);var lb=re.createContext(null);lb.displayName="DataRouter";var mE=re.createContext(null);mE.displayName="DataRouterState";var W7=re.createContext({isTransitioning:!1});W7.displayName="ViewTransition";var oY=re.createContext(new Map);oY.displayName="Fetchers";var aY=re.createContext(null);aY.displayName="Await";var Gm=re.createContext(null);Gm.displayName="Navigation";var kD=re.createContext(null);kD.displayName="Location";var Ym=re.createContext({outlet:null,matches:[],isDataRoute:!1});Ym.displayName="Route";var $T=re.createContext(null);$T.displayName="RouteError";function sY(n,{relative:t}={}){Ah(MD(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:r}=re.useContext(Gm),{hash:i,pathname:a,search:s}=FD(n,{relative:t}),c=a;return e!=="/"&&(c=a==="/"?e:mv([e,a])),r.createHref({pathname:c,search:s,hash:i})}function MD(){return re.useContext(kD)!=null}function My(){return Ah(MD(),"useLocation() may be used only in the context of a <Router> component."),re.useContext(kD).location}var H7="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function V7(n){re.useContext(Gm).static||re.useLayoutEffect(n)}function WT(){let{isDataRoute:n}=re.useContext(Ym);return n?xY():uY()}function uY(){Ah(MD(),"useNavigate() may be used only in the context of a <Router> component.");let n=re.useContext(lb),{basename:t,navigator:e}=re.useContext(Gm),{matches:r}=re.useContext(Ym),{pathname:i}=My(),a=JSON.stringify(z7(r)),s=re.useRef(!1);return V7(()=>{s.current=!0}),re.useCallback((f,d={})=>{if(sm(s.current,H7),!s.current)return;if(typeof f=="number"){e.go(f);return}let h=U7(f,JSON.parse(a),i,d.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:mv([t,h.pathname])),(d.replace?e.replace:e.push)(h,d.state,d)},[t,e,a,i,n])}re.createContext(null);function lY(){let{matches:n}=re.useContext(Ym),t=n[n.length-1];return t?t.params:{}}function FD(n,{relative:t}={}){let{matches:e}=re.useContext(Ym),{pathname:r}=My(),i=JSON.stringify(z7(e));return re.useMemo(()=>U7(n,JSON.parse(i),r,t==="path"),[n,i,r,t])}function cY(n,t){return q7(n,t)}function q7(n,t,e,r){var N;Ah(MD(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=re.useContext(Gm),{matches:a}=re.useContext(Ym),s=a[a.length-1],c=s?s.params:{},f=s?s.pathname:"/",d=s?s.pathnameBase:"/",h=s&&s.route;{let B=h&&h.path||"";K7(f,!h||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let m=My(),y;if(t){let B=typeof t=="string"?ky(t):t;Ah(d==="/"||((N=B.pathname)==null?void 0:N.startsWith(d)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${B.pathname}" was given in the \`location\` prop.`),y=B}else y=m;let w=y.pathname||"/",C=w;if(d!=="/"){let B=d.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=R7(n,{pathname:C});sm(h||k!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),sm(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=gY(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},c,B.params),pathname:mv([d,i.encodeLocation?i.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?d:mv([d,i.encodeLocation?i.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),a,e,r);return t&&M?re.createElement(kD.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},M):M}function fY(){let n=bY(),t=rY(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",n),s=re.createElement(re.Fragment,null,re.createElement("p",null," Hey developer "),re.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",re.createElement("code",{style:a},"ErrorBoundary")," or"," ",re.createElement("code",{style:a},"errorElement")," prop on your route.")),re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},t),e?re.createElement("pre",{style:i},e):null,s)}var hY=re.createElement(fY,null),pY=class extends re.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?re.createElement(Ym.Provider,{value:this.props.routeContext},re.createElement($T.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dY({routeContext:n,match:t,children:e}){let r=re.useContext(lb);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),re.createElement(Ym.Provider,{value:n},e)}function gY(n,t=[],e=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let i=n,a=e==null?void 0:e.errors;if(a!=null){let f=i.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);Ah(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let s=!1,c=-1;if(e)for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:h,errors:m}=e,y=d.route.loader&&!h.hasOwnProperty(d.route.id)&&(!m||m[d.route.id]===void 0);if(d.route.lazy||y){s=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((f,d,h)=>{let m,y=!1,w=null,C=null;e&&(m=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||hY,s&&(c<0&&h===0?(K7("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,C=null):c===h&&(y=!0,C=d.route.hydrateFallbackElement||null)));let k=t.concat(i.slice(0,h+1)),M=()=>{let N;return m?N=w:y?N=C:d.route.Component?N=re.createElement(d.route.Component,null):d.route.element?N=d.route.element:N=f,re.createElement(dY,{match:d,routeContext:{outlet:f,matches:k,isDataRoute:e!=null},children:N})};return e&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?re.createElement(pY,{location:e.location,revalidation:e.revalidation,component:w,error:m,children:M(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):M()},null)}function HT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mY(n){let t=re.useContext(lb);return Ah(t,HT(n)),t}function vY(n){let t=re.useContext(mE);return Ah(t,HT(n)),t}function yY(n){let t=re.useContext(Ym);return Ah(t,HT(n)),t}function VT(n){let t=yY(n),e=t.matches[t.matches.length-1];return Ah(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function wY(){return VT("useRouteId")}function bY(){var r;let n=re.useContext($T),t=vY("useRouteError"),e=VT("useRouteError");return n!==void 0?n:(r=t.errors)==null?void 0:r[e]}function xY(){let{router:n}=mY("useNavigate"),t=VT("useNavigate"),e=re.useRef(!1);return V7(()=>{e.current=!0}),re.useCallback(async(i,a={})=>{sm(e.current,H7),e.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:t,...a}))},[n,t])}var hI={};function K7(n,t,e){!t&&!hI[n]&&(hI[n]=!0,sm(!1,e))}re.memo(DY);function DY({routes:n,future:t,state:e}){return q7(n,void 0,e,t)}function DM(n){Ah(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function CY({basename:n="/",children:t=null,location:e,navigationType:r="POP",navigator:i,static:a=!1}){Ah(!MD(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=n.replace(/^\/*/,"/"),c=re.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof e=="string"&&(e=ky(e));let{pathname:f="/",search:d="",hash:h="",state:m=null,key:y="default"}=e,w=re.useMemo(()=>{let C=h0(f,s);return C==null?null:{location:{pathname:C,search:d,hash:h,state:m,key:y},navigationType:r}},[s,f,d,h,m,y,r]);return sm(w!=null,`<Router basename="${s}"> is not able to match the URL "${f}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:re.createElement(Gm.Provider,{value:c},re.createElement(kD.Provider,{children:t,value:w}))}function _Y({children:n,location:t}){return cY(CM(n),t)}function CM(n,t=[]){let e=[];return re.Children.forEach(n,(r,i)=>{if(!re.isValidElement(r))return;let a=[...t,i];if(r.type===re.Fragment){e.push.apply(e,CM(r.props.children,a));return}Ah(r.type===DM,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ah(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=CM(r.props.children,a)),e.push(s)}),e}var P_="get",T_="application/x-www-form-urlencoded";function vE(n){return n!=null&&typeof n.tagName=="string"}function SY(n){return vE(n)&&n.tagName.toLowerCase()==="button"}function EY(n){return vE(n)&&n.tagName.toLowerCase()==="form"}function AY(n){return vE(n)&&n.tagName.toLowerCase()==="input"}function kY(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MY(n,t){return n.button===0&&(!t||t==="_self")&&!kY(n)}var UD=null;function FY(){if(UD===null)try{new FormData(document.createElement("form"),0),UD=!1}catch{UD=!0}return UD}var PY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cA(n){return n!=null&&!PY.has(n)?(sm(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${T_}"`),null):n}function TY(n,t){let e,r,i,a,s;if(EY(n)){let c=n.getAttribute("action");r=c?h0(c,t):null,e=n.getAttribute("method")||P_,i=cA(n.getAttribute("enctype"))||T_,a=new FormData(n)}else if(SY(n)||AY(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?h0(f,t):null,e=n.getAttribute("formmethod")||c.getAttribute("method")||P_,i=cA(n.getAttribute("formenctype"))||cA(c.getAttribute("enctype"))||T_,a=new FormData(c,n),!FY()){let{name:d,type:h,value:m}=n;if(h==="image"){let y=d?`${d}.`:"";a.append(`${y}x`,"0"),a.append(`${y}y`,"0")}else d&&a.append(d,m)}}else{if(vE(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=P_,r=null,i=T_,s=n}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:e.toLowerCase(),encType:i,formData:a,body:s}}function qT(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function OY(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NY(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function IY(n,t,e){let r=await Promise.all(n.map(async i=>{let a=t.routes[i.route.id];if(a){let s=await OY(a,e);return s.links?s.links():[]}return[]}));return LY(r.flat(1).filter(NY).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function pI(n,t,e,r,i,a){let s=(f,d)=>e[d]?f.route.id!==e[d].route.id:!0,c=(f,d)=>{var h;return e[d].pathname!==f.pathname||((h=e[d].route.path)==null?void 0:h.endsWith("*"))&&e[d].params["*"]!==f.params["*"]};return a==="assets"?t.filter((f,d)=>s(f,d)||c(f,d)):a==="data"?t.filter((f,d)=>{var m;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(s(f,d)||c(f,d))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=e[0])==null?void 0:m.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function BY(n,t){return RY(n.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function RY(n){return[...new Set(n)]}function jY(n){let t={},e=Object.keys(n).sort();for(let r of e)t[r]=n[r];return t}function LY(n,t){let e=new Set;return new Set(t),n.reduce((r,i)=>{let a=JSON.stringify(jY(i));return e.has(a)||(e.add(a),r.push({key:a,link:i})),r},[])}function zY(n){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function UY(){let n=re.useContext(lb);return qT(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function $Y(){let n=re.useContext(mE);return qT(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var KT=re.createContext(void 0);KT.displayName="FrameworkContext";function G7(){let n=re.useContext(KT);return qT(n,"You must render this element inside a <HydratedRouter> element"),n}function WY(n,t){let e=re.useContext(KT),[r,i]=re.useState(!1),[a,s]=re.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=t,y=re.useRef(null);re.useEffect(()=>{if(n==="render"&&s(!0),n==="viewport"){let k=N=>{N.forEach(B=>{s(B.isIntersecting)})},M=new IntersectionObserver(k,{threshold:.5});return y.current&&M.observe(y.current),()=>{M.disconnect()}}},[n]),re.useEffect(()=>{if(r){let k=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(k)}}},[r]);let w=()=>{i(!0)},C=()=>{i(!1),s(!1)};return e?n!=="intent"?[a,y,{}]:[a,y,{onFocus:xb(c,w),onBlur:xb(f,C),onMouseEnter:xb(d,w),onMouseLeave:xb(h,C),onTouchStart:xb(m,w)}]:[!1,y,{}]}function xb(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function HY({page:n,...t}){let{router:e}=UY(),r=re.useMemo(()=>R7(e.routes,n,e.basename),[e.routes,n,e.basename]);return r?re.createElement(qY,{page:n,matches:r,...t}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function VY(n){let{manifest:t,routeModules:e}=G7(),[r,i]=re.useState([]);return re.useEffect(()=>{let a=!1;return IY(n,t,e).then(s=>{a||i(s)}),()=>{a=!0}},[n,t,e]),r}function qY({page:n,matches:t,...e}){let r=My(),{manifest:i,routeModules:a}=G7(),{loaderData:s,matches:c}=$Y(),f=re.useMemo(()=>pI(n,t,c,i,r,"data"),[n,t,c,i,r]),d=re.useMemo(()=>pI(n,t,c,i,r,"assets"),[n,t,c,i,r]),h=re.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let w=new Set,C=!1;if(t.forEach(M=>{var B;let N=i.routes[M.route.id];!N||!N.hasLoader||(!f.some(L=>L.route.id===M.route.id)&&M.route.id in s&&((B=a[M.route.id])!=null&&B.shouldRevalidate)||N.hasClientLoader?C=!0:w.add(M.route.id))}),w.size===0)return[];let k=zY(n);return C&&w.size>0&&k.searchParams.set("_routes",t.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[k.pathname+k.search]},[s,r,i,f,t,n,a]),m=re.useMemo(()=>BY(d,i),[d,i]),y=VY(d);return re.createElement(re.Fragment,null,h.map(w=>re.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...e})),m.map(w=>re.createElement("link",{key:w,rel:"modulepreload",href:w,...e})),y.map(({key:w,link:C})=>re.createElement("link",{key:w,...C})))}function KY(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Y7=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y7&&(window.__reactRouterVersion="7.0.2")}catch{}function GY({basename:n,children:t,window:e}){let r=re.useRef();r.current==null&&(r.current=IG({window:e,v5Compat:!0}));let i=r.current,[a,s]=re.useState({action:i.action,location:i.location}),c=re.useCallback(f=>{re.startTransition(()=>s(f))},[s]);return re.useLayoutEffect(()=>i.listen(c),[i,c]),re.createElement(CY,{basename:n,children:t,location:a.location,navigationType:a.action,navigator:i})}var X7=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,J7=re.forwardRef(function({onClick:t,discover:e="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:c,target:f,to:d,preventScrollReset:h,viewTransition:m,...y},w){let{basename:C}=re.useContext(Gm),k=typeof d=="string"&&X7.test(d),M,N=!1;if(typeof d=="string"&&k&&(M=d,Y7))try{let it=new URL(window.location.href),ct=d.startsWith("//")?new URL(it.protocol+d):new URL(d),ft=h0(ct.pathname,C);ct.origin===it.origin&&ft!=null?d=ft+ct.search+ct.hash:N=!0}catch{sm(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=sY(d,{relative:i}),[L,z,q]=WY(r,y),V=QY(d,{replace:s,state:c,target:f,preventScrollReset:h,relative:i,viewTransition:m});function X(it){t&&t(it),it.defaultPrevented||V(it)}let nt=re.createElement("a",{...y,...q,href:M||B,onClick:N||a?t:X,ref:KY(w,z),target:f,"data-discover":!k&&e==="render"?"true":void 0});return L&&!k?re.createElement(re.Fragment,null,nt,re.createElement(HY,{page:B})):nt});J7.displayName="Link";var YY=re.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:c,children:f,...d},h){let m=FD(s,{relative:d.relative}),y=My(),w=re.useContext(mE),{navigator:C,basename:k}=re.useContext(Gm),M=w!=null&&rX(m)&&c===!0,N=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,B=y.pathname,L=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;e||(B=B.toLowerCase(),L=L?L.toLowerCase():null,N=N.toLowerCase()),L&&k&&(L=h0(L,k)||L);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let q=B===N||!i&&B.startsWith(N)&&B.charAt(z)==="/",V=L!=null&&(L===N||!i&&L.startsWith(N)&&L.charAt(N.length)==="/"),X={isActive:q,isPending:V,isTransitioning:M},nt=q?t:void 0,it;typeof r=="function"?it=r(X):it=[r,q?"active":null,V?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let ct=typeof a=="function"?a(X):a;return re.createElement(J7,{...d,"aria-current":nt,className:it,ref:h,style:ct,to:s,viewTransition:c},typeof f=="function"?f(X):f)});YY.displayName="NavLink";var XY=re.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:r,replace:i,state:a,method:s=P_,action:c,onSubmit:f,relative:d,preventScrollReset:h,viewTransition:m,...y},w)=>{let C=eX(),k=nX(c,{relative:d}),M=s.toLowerCase()==="get"?"get":"post",N=typeof c=="string"&&X7.test(c),B=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let z=L.nativeEvent.submitter,q=(z==null?void 0:z.getAttribute("formmethod"))||s;C(z||L.currentTarget,{fetcherKey:t,method:q,navigate:e,replace:i,state:a,relative:d,preventScrollReset:h,viewTransition:m})};return re.createElement("form",{ref:w,method:M,action:k,onSubmit:r?f:B,...y,"data-discover":!N&&n==="render"?"true":void 0})});XY.displayName="Form";function JY(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q7(n){let t=re.useContext(lb);return Ah(t,JY(n)),t}function QY(n,{target:t,replace:e,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let c=WT(),f=My(),d=FD(n,{relative:a});return re.useCallback(h=>{if(MY(h,t)){h.preventDefault();let m=e!==void 0?e:Mx(f)===Mx(d);c(n,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[f,c,d,e,r,t,n,i,a,s])}var ZY=0,tX=()=>`__${String(++ZY)}__`;function eX(){let{router:n}=Q7("useSubmit"),{basename:t}=re.useContext(Gm),e=wY();return re.useCallback(async(r,i={})=>{let{action:a,method:s,encType:c,formData:f,body:d}=TY(r,t);if(i.navigate===!1){let h=i.fetcherKey||tX();await n.fetch(h,e,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||s,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:d,formMethod:i.method||s,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:e,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,t,e])}function nX(n,{relative:t}={}){let{basename:e}=re.useContext(Gm),r=re.useContext(Ym);Ah(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...FD(n||".",{relative:t})},s=My();if(n==null){a.search=s.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(h=>h==="")){c.delete("index"),f.filter(m=>m).forEach(m=>c.append("index",m));let h=c.toString();a.search=h?`?${h}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(a.pathname=a.pathname==="/"?e:mv([e,a.pathname])),Mx(a)}function rX(n,t={}){let e=re.useContext(W7);Ah(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Q7("useViewTransitionState"),i=FD(n,{relative:t.relative});if(!e.isTransitioning)return!1;let a=h0(e.currentLocation.pathname,r)||e.currentLocation.pathname,s=h0(e.nextLocation.pathname,r)||e.nextLocation.pathname;return SS(i.pathname,s)!=null||SS(i.pathname,a)!=null}new TextEncoder;const iX=re.createContext(null),fA={didCatch:!1,error:null};let Z7=class extends re.Component{constructor(n){super(n),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=fA}static getDerivedStateFromError(n){return{didCatch:!0,error:n}}resetErrorBoundary(){const{error:n}=this.state;if(n!==null){for(var t,e,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];(t=(e=this.props).onReset)===null||t===void 0||t.call(e,{args:i,reason:"imperative-api"}),this.setState(fA)}}componentDidCatch(n,t){var e,r;(e=(r=this.props).onError)===null||e===void 0||e.call(r,n,t)}componentDidUpdate(n,t){const{didCatch:e}=this.state,{resetKeys:r}=this.props;var i,a;e&&t.error!==null&&function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return s.length!==c.length||s.some((f,d)=>!Object.is(f,c[d]))}(n.resetKeys,r)&&((i=(a=this.props).onReset)===null||i===void 0||i.call(a,{next:r,prev:n.resetKeys,reason:"keys"}),this.setState(fA))}render(){const{children:n,fallbackRender:t,FallbackComponent:e,fallback:r}=this.props,{didCatch:i,error:a}=this.state;let s=n;if(i){const c={error:a,resetErrorBoundary:this.resetErrorBoundary};if(typeof t=="function")s=t(c);else if(e)s=re.createElement(e,c);else{if(r===void 0)throw a;s=r}}return re.createElement(iX.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},s)}};var tL=re.createContext(void 0);function eL(){var n=re.useContext(tL);if(n===void 0)throw new Error("useServerUrl must be used within a ServerUrlContext.Provider");return n}function oX(n){var t=n.serverUrlIsValid,e=n.ProjectScreen,r=n.ErrorScreen,i=n.serverUrl;return t(i)?fe.jsx(Z7,{FallbackComponent:r,children:fe.jsx(tL.Provider,{value:i,children:fe.jsx(e,{})})}):fe.jsx(r,{})}var nL=re.createContext(null);function aX(n){var t=n.ProjectLoadError,e=n.ActiveProject,r=n.useLoadProject,i=n.useServerUrl,a=n.TIMEOUT,s=re.useState(!1),c=s[0],f=s[1];re.useEffect(function(){var h=setTimeout(function(){if(!c)throw new Error("TIMEOUT_ERROR: Project failed to load")},a);return function(){return clearTimeout(h)}});var d=r(i(),function(){return f(!0)});return fe.jsx(Z7,{FallbackComponent:t,children:fe.jsx(nL.Provider,{value:[d,c],children:fe.jsx(e,{})})})}function yE(){var n=re.useContext(nL);if(n===null)throw new Error("useProject must be used within a ProjectProvider");return n}var rL=re.createContext(void 0);function sX(n){var t=n.ProjectModalOverlay,e=n.OrgArea,r=n.Playback,i=n.EditingArea,a=n.NavBar,s=n.ComposeGridLayout,c=re.useState({type:"normal"}),f=c[0],d=c[1],h=re.useState("normal"),m=h[0],y=h[1];return f.type!=="modal"&&f.type!==m&&y(f.type),fe.jsxs(rL.Provider,{value:d,children:[fe.jsxs(s,{normalOrFullscreen:m,children:[fe.jsx("div",{style:{gridArea:"nav"},children:fe.jsx(a,{})}),fe.jsx("div",{style:{gridArea:"orgArea"},children:fe.jsx(e,{})}),fe.jsx("div",{style:{gridArea:"playback"},children:fe.jsx(r,{})}),fe.jsx("div",{style:{gridArea:"editingArea",width:"100%",height:"100%"},children:fe.jsx(i,{})})]}),f.type==="modal"?fe.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:fe.jsx(t,{modalType:f.modalType,modalId:f.modalId,closeModal:function(){d({type:"normal"})}})}):null]})}function uX(n){var t=n.modalTypes,e=n.modalType,r=n.modalId,i=n.closeModal;if(!function(s){return Object.keys(t).includes(s)}(e))throw new Error("Modal type ".concat(e," is not legal"));var a=t[e];return fe.jsx(a,{id:r,closeModal:i})}var _M=function(n,t){return _M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},_M(n,t)};function dh(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}_M(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var pu=function(){return pu=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},pu.apply(this,arguments)};function Rg(n,t,e){for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}var dI=function(){function n(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100]},signalData:{},templateData:{}}}return n.prototype.addDiscreteSignal=function(t,e){this._project.orgData.signalIds.push(t),this._project.orgData.signalNames[t]=e,this._project.orgData.signalTypes[t]="discrete",this._project.signalData[t]={id:t,type:"discrete",pinIds:[],pinTimes:{},pinValues:{}}},n.prototype.addContinuousSignal=function(t,e,r){this._project.orgData.signalIds.push(t),this._project.orgData.signalNames[t]=e,this._project.orgData.signalTypes[t]="continuous",this._project.signalData[t]={id:t,type:"continuous",range:r,pinIds:[],pinTimes:{},pinValues:{},curves:{}}},n.prototype.addPin=function(t,e,r,i){var a=this._project.signalData[t],s=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(s),this._project.orgData.signalIdByPinId[s]=t,a.type==="continuous"){if(a.pinIds.push(s),a.pinTimes[s]=e,typeof r!="number")throw new Error("Continuous signal pin value must be a number");if(a.pinValues[s]=r,!i)throw new Error("Continuous signal pin must have a curve");i&&(a.curves[s]=i)}if(a.type==="discrete"){if(a.pinIds.push(s),a.pinTimes[s]=e,typeof r!="string")throw new Error("Discrete signal pin value must be a string");a.pinValues[s]=r}},n.prototype.setTimelineData=function(t,e,r){this._project.timelineData=pu(pu({},this._project.timelineData),{numberOfFrames:t,framesPerSecond:e,playheadPosition:r})},n.prototype.setSignalActiveStatus=function(t,e){e?this._project.orgData.activeSignalIds.push(t):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(r){return r!==t})},n.prototype.getProject=function(){return this._project},n.prototype.addCurveTemplate=function(t,e){this._project.templateData[t]=e},n}(),PD=Object.freeze({__proto__:null,ProjectBuilder:dI,defaultProject:function(){var n=new dI;return n.addDiscreteSignal("signal1","Signal 1"),n.addContinuousSignal("signal2","Signal 2",[0,1]),n.addPin("signal1",100,"VALUE"),n.addPin("signal2",100,0,"return easyLinear();"),n.setSignalActiveStatus("signal1",!0),n.setSignalActiveStatus("signal2",!0),n.getProject()}}),SM=function(){function n(t,e,r){if(r===void 0&&(r=1e4),this.content=t,this.__transformer=e,typeof r=="number"){if(r<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:r}}else this.__internal=r;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return n.deserialize=function(t,e){var r=JSON.parse(t);return new n(r.content,e,r.__internal)},n.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},n.prototype.next=function(){var t=this.__internal.states[this.__internal.cursor].nextState;if(!t)return{success:!1,message:"No next state"};var e=this.__internal.cursor,r=this.__internal.states[e].forward;return this.__internal.cursor=t,this.content=this.__transformer(this.content,r),{success:!0,message:"Next state reached"}},n.prototype.previous=function(){var t=this.__internal.states[this.__internal.cursor].previousState;if(!t)return{success:!1,message:"No previous state"};var e=this.__internal.cursor,r=this.__internal.states[e].backward;return this.__internal.cursor=t,this.content=this.__transformer(this.content,r),{success:!0,message:"Previous state reached"}},n.prototype.goToNamedState=function(t){var e=this.__internal.namedStates[t];if(!e)return{success:!1,message:"Named state not found"};if(!this.__internal.states[e])throw new Error("Named state has no corresponding state");var r=this.__internal.cursor;if(e===r)return{success:!0,message:"Already at named state"};for(var i="forward",a=r,s=0;a&&s<this.__MAX_ITERATIONS;)s++,a===e&&(i="backward"),a=this.__internal.states[a].previousState;if(i==="forward"){for(s=0;this.__internal.cursor!==e&&s<this.__MAX_ITERATIONS;)if(s++,!(c=this.next()).success)throw new Error(c.message)}else for(s=0;this.__internal.cursor!==e&&s<this.__MAX_ITERATIONS;){var c;if(s++,!(c=this.previous()).success)throw new Error(c.message)}return{success:!0,message:"Moved to named state"}},n.prototype.saveAsNamedState=function(t){this.__internal.namedStates[t]=this.__internal.cursor},n.prototype.appendToCurrentState=function(t,e){this.content=this.__transformer(this.content,t);var r=this.__internal.cursor,i=this.__internal.states[r].forward,a=this.__internal.states[r].backward;this.__internal.states[r].forward=i.concat(t),this.__internal.states[r].backward=e.concat(a)},n.prototype.addNextState=function(t,e){for(var r=this,i=[],a=c=this.__internal.cursor,s=0;a&&s<this.__MAX_ITERATIONS;)s++,(a=this.__internal.states[a].nextState)&&i.push(a);i.forEach(function(y){delete r.__internal.states[y]});var c=this.__internal.cursor,f="state".concat(function(){for(var y="",w=0;w<10;w++)y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return y}());this.__internal.states[f]={forward:t,backward:e,nextState:void 0,previousState:c},this.__internal.states[c].nextState=f,this.__internal.cursor=f,this.content=this.__transformer(this.content,t);var d=1,h=(a=c=this.__internal.cursor,[c]);for(s=0;a&&d<this.__internal.maxSize&&s<this.__MAX_ITERATIONS;)s++,(a=this.__internal.states[a].previousState)&&h.push(a),d++;var m=Object.keys(this.__internal.states).filter(function(y){return!h.includes(y)});m.forEach(function(y){delete r.__internal.states[y]}),h.forEach(function(y,w){var C=r.__internal.states[y].previousState,k=r.__internal.states[y].nextState;C&&!r.__internal.states[C]&&(r.__internal.states[y].previousState=void 0),k&&!r.__internal.states[k]&&(r.__internal.states[y].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(y){var w=r.__internal.namedStates[y];if(!w)throw new Error("Named state has no corresponding state");r.__internal.states[w]||delete r.__internal.namedStates[y]})},n.prototype.executeCommand=function(t){switch(t.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(t.namedState);break;case"saveAsNamedState":this.saveAsNamedState(t.namedState);break;case"addNextState":this.addNextState(t.forward,t.backward);break;case"appendToCurrentState":this.appendToCurrentState(t.forward,t.backward);break;default:throw new Error("Invalid command")}},n.prototype.executeCommands=function(t){var e=this;t.forEach(function(r){return e.executeCommand(r)})},n}(),iL=function(){function n(t){this.subscribers=[],this.update=[],this.dispatch=t,this.authorId="a".concat(ES())}return n.prototype.subscribeToProjectUpdates=function(t){var e=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(t),function(){e.subscribers=e.subscribers.filter(function(r){return r!==t})}},n.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},n.prototype.pushCommand=function(t){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var e=t();this.worm.executeCommand(e),this.update.push(e)}catch(r){console.error(r)}},n.prototype.pushCommands=function(t){var e;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var r=t();this.worm.executeCommands(r),(e=this.update).push.apply(e,r)}catch(i){console.error(i)}},n.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var t=this.update;this.update=[];var e=this.projectStateId;this.projectStateId="ps".concat(ES()),this.subscribers.forEach(function(r){return r()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:t,lastAgreedProjectStateId:e,newProjectStateId:this.projectStateId})},n.prototype.processUpdate=function(t){if(this.worm&&this.projectStateId){var e=t.lastAgreedProjectStateId,r=t.newProjectStateId;(this.host?e===this.projectStateId&&t.authorIsHost===!1&&this.update.length===0:e===this.projectStateId)?(this.update=[],this.worm.executeCommands(t.instructions),this.projectStateId=r,this.subscribers.forEach(function(i){return i()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},n}(),lX=function(n){function t(e,r){var i=n.call(this,e.dispatch)||this;return i.host=!0,i.worm=r,i.projectStateId="ps".concat(ES()),i.dispatch({authorId:i.authorId,authorIsHost:!0,type:"hostIsConnected"}),i}return dh(t,n),Object.defineProperty(t.prototype,"initialized",{get:function(){return!0},enumerable:!1,configurable:!0}),t.fromProject=function(e,r){return new t(e,new SM(r,e.projectTransformer))},t.fromSerializedWorm=function(e,r){return new t(e,SM.deserialize(r,e.projectTransformer))},t.prototype.receive=function(e){if(e.authorId!==this.authorId)switch(e.type){case"requestProject":this.pushProject(e.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(e);break;default:throw new Error("Invalid event type")}},t.prototype.pushProject=function(e){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:e})},t}(iL),cX=function(n){function t(e){var r=n.call(this,e.dispatch)||this;return r.host=!1,r.projectRequestCallbacks={},r.__projectTransformer=e.projectTransformer,r}return dh(t,n),Object.defineProperty(t.prototype,"initialized",{get:function(){return this.worm!==void 0&&this.projectStateId!==void 0},enumerable:!1,configurable:!0}),t.prototype.receive=function(e){if(e.authorId!==this.authorId)switch(e.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=SM.deserialize(e.serializedWorm,this.__projectTransformer),this.projectStateId=e.initialProjectStateId,e.requestId&&this.projectRequestCallbacks[e.requestId]&&(this.projectRequestCallbacks[e.requestId](),delete this.projectRequestCallbacks[e.requestId]);break;case"pushUpdate":this.processUpdate(e);break;default:throw new Error("Invalid event type")}},t.prototype.requestProject=function(e){var r;e&&(r="r".concat(ES()),this.projectRequestCallbacks[r]=e),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:r})},t}(iL),ES=function(){for(var n="",t=0;t<10;t++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return n},oL=Symbol.for("immer-nothing"),gI=Symbol.for("immer-draftable"),og=Symbol.for("immer-state");function Wg(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var zw=Object.getPrototypeOf;function Dw(n){return!!n&&!!n[og]}function cy(n){var t;return!!n&&(aL(n)||Array.isArray(n)||!!n[gI]||!!((t=n.constructor)!=null&&t[gI])||bE(n)||xE(n))}var fX=Object.prototype.constructor.toString();function aL(n){if(!n||typeof n!="object")return!1;const t=zw(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object||typeof e=="function"&&Function.toString.call(e)===fX}function AS(n,t){wE(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,r)=>t(r,e,n))}function wE(n){const t=n[og];return t?t.type_:Array.isArray(n)?1:bE(n)?2:xE(n)?3:0}function EM(n,t){return wE(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function sL(n,t,e){const r=wE(n);r===2?n.set(t,e):r===3?n.add(e):n[t]=e}function bE(n){return n instanceof Map}function xE(n){return n instanceof Set}function B0(n){return n.copy_||n.base_}function AM(n,t){if(bE(n))return new Map(n);if(xE(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=aL(n);if(t===!0||t==="class_only"&&!e){const r=Object.getOwnPropertyDescriptors(n);delete r[og];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[s]})}return Object.create(zw(n),r)}{const r=zw(n);if(r!==null&&e)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function GT(n,t=!1){return DE(n)||Dw(n)||!cy(n)||(wE(n)>1&&(n.set=n.add=n.clear=n.delete=hX),Object.freeze(n),t&&Object.entries(n).forEach(([e,r])=>GT(r,!0))),n}function hX(){Wg(2)}function DE(n){return Object.isFrozen(n)}var Fx,pX={};function fy(n){const t=pX[n];return t||Wg(0,n),t}function mI(){return Fx}function vI(n,t){t&&(fy("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function kM(n){MM(n),n.drafts_.forEach(dX),n.drafts_=null}function MM(n){n===Fx&&(Fx=n.parent_)}function yI(n){return Fx={drafts_:[],parent_:Fx,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dX(n){const t=n[og];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function wI(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[og].modified_&&(kM(t),Wg(4)),cy(n)&&(n=kS(t,n),t.parent_||MS(t,n)),t.patches_&&fy("Patches").generateReplacementPatches_(e[og].base_,n,t.patches_,t.inversePatches_)):n=kS(t,e,[]),kM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==oL?n:void 0}function kS(n,t,e){if(DE(t))return t;const r=t[og];if(!r)return AS(t,(i,a)=>bI(n,r,t,i,a,e)),t;if(r.scope_!==n)return t;if(!r.modified_)return MS(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),AS(a,(c,f)=>bI(n,r,i,c,f,e,s)),MS(n,i,!1),e&&n.patches_&&fy("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function bI(n,t,e,r,i,a,s){if(Dw(i)){const c=kS(n,i,a&&t&&t.type_!==3&&!EM(t.assigned_,r)?a.concat(r):void 0);if(sL(e,r,c),!Dw(c))return;n.canAutoFreeze_=!1}else s&&e.add(i);if(cy(i)&&!DE(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;kS(n,i),t&&t.scope_.parent_||typeof r=="symbol"||!Object.prototype.propertyIsEnumerable.call(e,r)||MS(n,i)}}function MS(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&GT(t,e)}var FM={get(n,t){if(t===og)return n;const e=B0(n);if(!EM(e,t))return function(i,a,s){var f;const c=xI(a,s);return c?"value"in c?c.value:(f=c.get)==null?void 0:f.call(i.draft_):void 0}(n,e,t);const r=e[t];return n.finalized_||!cy(r)?r:r===hA(n.base_,t)?(pA(n),n.copy_[t]=TM(r,n)):r},has:(n,t)=>t in B0(n),ownKeys:n=>Reflect.ownKeys(B0(n)),set(n,t,e){const r=xI(B0(n),t);if(r!=null&&r.set)return r.set.call(n.draft_,e),!0;if(!n.modified_){const s=hA(B0(n),t),c=s==null?void 0:s[og];if(c&&c.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(((i=e)===(a=s)?i!==0||1/i==1/a:i!=i&&a!=a)&&(e!==void 0||EM(n.base_,t)))return!0;pA(n),PM(n)}var i,a;return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty:(n,t)=>(hA(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,pA(n),PM(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0),getOwnPropertyDescriptor(n,t){const e=B0(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty(){Wg(11)},getPrototypeOf:n=>zw(n.base_),setPrototypeOf(){Wg(12)}},$b={};function hA(n,t){const e=n[og];return(e?B0(e):n)[t]}function xI(n,t){if(!(t in n))return;let e=zw(n);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=zw(e)}}function PM(n){n.modified_||(n.modified_=!0,n.parent_&&PM(n.parent_))}function pA(n){n.copy_||(n.copy_=AM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function TM(n,t){const e=bE(n)?fy("MapSet").proxyMap_(n,t):xE(n)?fy("MapSet").proxySet_(n,t):function(r,i){const a=Array.isArray(r),s={type_:a?1:0,scope_:i?i.scope_:mI(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let c=s,f=FM;a&&(c=[s],f=$b);const{revoke:d,proxy:h}=Proxy.revocable(c,f);return s.draft_=h,s.revoke_=d,h}(n,t);return(t?t.scope_:mI()).drafts_.push(e),e}function uL(n){if(!cy(n)||DE(n))return n;const t=n[og];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=AM(n,t.scope_.immer_.useStrictShallowCopy_)}else e=AM(n,!0);return AS(e,(r,i)=>{sL(e,r,uL(i))}),t&&(t.finalized_=!1),e}AS(FM,(n,t)=>{$b[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),$b.deleteProperty=function(n,t){return $b.set.call(this,n,t,void 0)},$b.set=function(n,t,e){return FM.set.call(this,n[0],t,e,n[0])};var Hd=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,r)=>{if(typeof t=="function"&&typeof e!="function"){const a=e;e=t;const s=this;return function(c=a,...f){return s.produce(c,d=>e.call(this,d,...f))}}let i;if(typeof e!="function"&&Wg(6),r!==void 0&&typeof r!="function"&&Wg(7),cy(t)){const a=yI(this),s=TM(t,void 0);let c=!0;try{i=e(s),c=!1}finally{c?kM(a):MM(a)}return vI(a,r),wI(i,a)}if(!t||typeof t!="object"){if(i=e(t),i===void 0&&(i=t),i===oL&&(i=void 0),this.autoFreeze_&&GT(i,!0),r){const a=[],s=[];fy("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}Wg(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,c=>t(c,...s));let r,i;return[this.produce(t,e,(a,s)=>{r=a,i=s}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){cy(n)||Wg(8),Dw(n)&&(n=function(r){return Dw(r)||Wg(10,r),uL(r)}(n));const t=yI(this),e=TM(n,void 0);return e[og].isManual_=!0,MM(t),e}finishDraft(n,t){const e=n&&n[og];e&&e.isManual_||Wg(9);const{scope_:r}=e;return vI(r,t),wI(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const i=t[e];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}e>-1&&(t=t.slice(e+1));const r=fy("Patches").applyPatches_;return Dw(n)?r(n,t):this.produce(n,i=>r(i,t))}},gX=Hd.produce;function DI(n,t){var e=t.pinId,r=!1;for(var i in n.signalData){var a=n.signalData[i],s=a.pinIds.indexOf(e);if(s!==-1){a.pinIds.splice(s,1),delete a.pinTimes[e],delete a.pinValues[e],a.type==="continuous"&&delete a.curves[e],r=!0;break}}if(!r)throw new Error("Pin with id ".concat(e," not found"));n.orgData.pinIds=n.orgData.pinIds.filter(function(c){return c!==e}),delete n.orgData.signalIdByPinId[e]}Hd.produceWithPatches.bind(Hd),Hd.setAutoFreeze.bind(Hd),Hd.setUseStrictShallowCopy.bind(Hd),Hd.applyPatches.bind(Hd),Hd.createDraft.bind(Hd),Hd.finishDraft.bind(Hd);var mX={addPin:function(n,t){var e=t.signalId,r=t.pinId,i=t.pinTime,a=t.pinValue,s=t.functionString,c=n.signalData[e];if(!c)throw new Error("Signal with id ".concat(e," not found"));var f=c.type;if(f==="continuous"&&typeof a!="number")throw new Error("Pin value must be a number for continuous signals");if(f==="discrete"&&typeof a!="string")throw new Error("Pin value must be a string for discrete signals");for(var d in n.signalData)if(n.signalData[d].pinIds.includes(r))throw new Error("Pin with id ".concat(r," already exists"));if(Object.values(c.pinTimes).includes(i))throw new Error("Pin time must be unique within the signal");var h=n.timelineData.numberOfFrames;if(i<0||i>h)throw new Error("Pin time must be between 0 and ".concat(h));if(f==="continuous"){var m=c.range,y=m[0],w=m[1];if(a<y||a>w)throw new Error("Pin value must be between ".concat(y," and ").concat(w));if(!s)throw new Error("Curve is required for continuous signals")}var C=c.pinIds;if(C.length===0)c.pinIds.push(r);else{var k=C.findIndex(function(M){return c.pinTimes[M]>=i});k===-1&&(k=C.length),c.pinIds.splice(k,0,r)}c.pinTimes[r]=i,c.pinValues[r]=a,f==="continuous"&&(c.curves[r]=s),n.orgData.pinIds.push(r),n.orgData.signalIdByPinId[r]=e},deletePin:DI,updatePinTime:function(n,t){var e=t.pinId,r=t.pinTime,i=n.timelineData.numberOfFrames;if(r<0||r>i)throw new Error("Pin time must be between 0 and ".concat(i));var a=!1,s=function(f){var d=n.signalData[f];if(d.pinIds.includes(e)){d.pinTimes[e]=r;var h=d.pinIds,m=h.indexOf(e);h.splice(m,1);var y=h.findIndex(function(w){return d.pinTimes[w]>=r});return y===-1&&(y=h.length),h.splice(y,0,e),a=!0,"break"}};for(var c in n.signalData)if(s(c)==="break")break;if(!a)throw new Error("Pin with id ".concat(e," not found"))},updatePinValue:function(n,t){var e=t.pinId,r=t.pinValue,i=!1;for(var a in n.signalData){var s=n.signalData[a];if(s.pinIds.includes(e)){if(s.type==="continuous"&&typeof r!="number")throw new Error("Pin value must be a number for continuous signals");if(s.type==="discrete"&&typeof r!="string")throw new Error("Pin value must be a string for discrete signals");if(s.type==="continuous"){var c=s.range,f=c[0],d=c[1];if(r<f||r>d)throw new Error("Pin value must be between ".concat(f," and ").concat(d))}s.pinValues[e]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(e," not found"))},updatePins:function(n,t){for(var e=function(a){var s=a.pinId,c=a.pinTime,f=a.pinValue,d=a.functionString,h=n.orgData.signalIdByPinId[s];if(!h)throw new Error("Pin with id ".concat(s," not found"));var m=n.signalData[h];if(m.type==="continuous"&&typeof f!="number")throw new Error("Pin value must be a number for continuous signals");if(m.type==="discrete"&&typeof f!="string")throw new Error("Pin value must be a string for discrete signals");if(m.type==="continuous"){var y=m.range,w=y[0],C=y[1];if(f<w||f>C)throw new Error("Pin value must be between ".concat(w," and ").concat(C));if(!d)throw new Error("Curve is required for continuous signals")}m.pinTimes[s]=c,m.pinValues[s]=f;var k=m.pinIds,M=k.indexOf(s);k.splice(M,1);var N=k.findIndex(function(B){return m.pinTimes[B]>=c});N===-1&&(N=k.length),k.splice(N,0,s),m.type==="continuous"&&(m.curves[s]=d)},r=0,i=t.pins;r<i.length;r++)e(i[r])},updateCurve:function(n,t){var e=t.pinId,r=t.functionString,i=!1;for(var a in n.signalData){var s=n.signalData[a];if(s.type!=="discrete"&&s.pinIds.includes(e)){s.curves[e]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(e," not found"))},createSignal:function(n,t){var e,r=t.signalId,i=t.signalType,a=t.signalName,s=t.range;if(n.signalData[r])throw new Error("Signal with id ".concat(r," already exists"));if(i!=="continuous"&&i!=="discrete")throw new Error("Signal type must be continuous or discrete");if(i==="continuous"){if(!s)throw new Error("Range is required for continuous signals");if(s[0]>=s[1])throw new Error("Min value must be less than max value");e={id:r,type:i,range:s,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}i==="discrete"&&(e={id:r,type:i,pinIds:[],pinTimes:{},pinValues:{}}),n.signalData[r]=e,n.orgData.signalIds.push(r),n.orgData.signalNames[r]=a,n.orgData.signalTypes[r]=i,n.orgData.activeSignalIds.push(r)},deleteSignal:function(n,t){var e=t.signalId;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));delete n.signalData[e],n.orgData.signalIds=n.orgData.signalIds.filter(function(r){return r!==e}),delete n.orgData.signalNames[e],n.orgData.activeSignalIds=n.orgData.activeSignalIds.filter(function(r){return r!==e})},updateSignalName:function(n,t){var e=t.signalId,r=t.signalName;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));n.orgData.signalNames[e]=r},updateSignalRange:function(n,t){var e=t.signalId,r=t.range;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));if(n.signalData[e].type!=="continuous")throw new Error("Range can only be updated for continuous signals");if(r[0]>=r[1])throw new Error("Min value must be less than max value");n.signalData[e].range=r},updateSignalIndex:function(n,t){var e=t.signalId,r=t.index,i=n.orgData.signalIds,a=i.indexOf(e);if(a===-1)throw new Error("Signal with id ".concat(e," not found"));i.splice(a,1),i.splice(r,0,e)},updateSignalActiveStatus:function(n,t){var e=t.signalId,r=t.active;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));var i=n.orgData.activeSignalIds,a=i.indexOf(e);r&&a===-1&&i.push(e),r||a===-1||i.splice(a,1)},updateFramesPerSecond:function(n,t){var e=t.framesPerSecond;if(e<=0)throw new Error("Frames per second must be greater than 0");n.timelineData.framesPerSecond=e},updatePlayheadPosition:function(n,t){var e=t.playheadPosition;if(e<0||e>n.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(n.timelineData.numberOfFrames));n.timelineData.playheadPosition=e},updateNumberOfFrames:function(n,t){var e=t.numberOfFrames;if(e<=0)throw new Error("Number of frames must be greater than 0");for(var r in n.timelineData.numberOfFrames=e,n.signalData)for(var i=n.signalData[r],a=0,s=i.pinIds;a<s.length;a++){var c=s[a];i.pinTimes[c]>e&&DI(n,{type:"deletePin",pinId:c})}},updateProjectName:function(n,t){var e=t.projectName;n.metaData.name=e},updateFocusRange:function(n,t){var e=t.focusRange,r=e[0],i=e[1];if(r<0||i>n.timelineData.numberOfFrames||r>=i)throw new Error("Invalid focus range");n.timelineData.focusRange=e},updateCurveTemplate:function(n,t){var e=t.curveId,r=t.functionString;if(!n.templateData[e])throw new Error("Curve template with id ".concat(e," not found"));n.templateData[e]=r},addCurveTemplate:function(n,t){var e=t.curveId,r=t.functionString;if(n.templateData[e])throw new Error("Curve template with id ".concat(e," already exists"));n.templateData[e]=r},deleteCurveTemplate:function(n,t){var e=t.curveId;if(!n.templateData[e])throw new Error("Curve template with id ".concat(e," not found"));delete n.templateData[e]}};function CI(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var vX={type:"saveAsNamedState",namedState:"commit"},yX={type:"goToNamedState",namedState:"commit"};function Jy(n,t,e,r,i){return{type:"addPin",signalId:n,pinId:t,pinTime:e,pinValue:r,functionString:i}}function _I(n,t){var e=n(),r=Object.keys(e.signalData).find(function(f){var d;return(d=e.signalData[f])===null||d===void 0?void 0:d.pinIds.includes(t)});if(!r)throw new Error("Pin not found");var i=e.signalData[r].type,a=e.signalData[r].pinTimes[t],s=e.signalData[r].pinValues[t],c=i==="continuous"?e.signalData[r].curves[t]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:t}],backward:[Jy(r,t,a,s,c)]}}var SI=lX,wX=cX,dA=function(n,t){return gX(n,function(e){for(var r=0;r<t.length;r++){var i=t[r];(0,mX[i.type])(e,i)}})},bX=function(){function n(t,e,r,i){if(e){if(!r&&!i)throw new Error("Project or worm must be provided to host project controller");var a=void 0;if(r&&(a=SI.fromProject({dispatch:t,projectTransformer:dA},r)).worm.saveAsNamedState("commit"),i&&(a=SI.fromSerializedWorm({dispatch:t,projectTransformer:dA},i)),!a)throw new Error("Project node not created");this.projectNode=a,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new wX({dispatch:t,projectTransformer:dA});var s=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=s}}return n.Host=function(t,e){return new n(t,!0,e)},n.HostFromProject=function(t,e){return new n(t,!0,e)},n.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},n.HostFromSerializedWorm=function(t,e){return new n(t,!0,void 0,e)},n.Client=function(t){return new n(t,!1,void 0)},n.prototype.receive=function(t){this.projectNode.receive(t)},Object.defineProperty(n.prototype,"projectTools",{get:function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var t=this.projectNode.pushUpdate.bind(this.projectNode),e=this.projectNode.getProject.bind(this.projectNode),r=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(i,a,s,c){function f(){a(function(){return yX})}function d(){a(function(){return vX})}return{returnToLastCommit:function(){f()},pushUpdate:i,addPinContinuous:function(h,m,y,w,C,k){k&&f(),a(function(){var M=c().signalData[h],N=M.pinTimes,B=M.pinIds.findIndex(function(V){return N[V]===y}),L=[];B!==-1&&L.push({type:"deletePin",pinId:M.pinIds[B]}),L.push(Jy(h,m,y,w,C));var z=[];if(z.push({type:"deletePin",pinId:m}),B!==-1){var q=M.pinIds[B];z.push(Jy(h,q,M.pinTimes[q],M.pinValues[q],M.curves[q]))}return{type:"addNextState",forward:L,backward:z}}),k&&(d(),i())},addPinDiscrete:function(h,m,y,w,C){C&&f(),a(function(){var k=c().signalData[h],M=k.pinTimes,N=k.pinIds.findIndex(function(q){return M[q]===y}),B=[];N!==-1&&B.push({type:"deletePin",pinId:k.pinIds[N]}),B.push(Jy(h,m,y,w));var L=[];if(L.push({type:"deletePin",pinId:m}),N!==-1){var z=k.pinIds[N];L.push(Jy(h,z,k.pinTimes[z],k.pinValues[z]))}return{type:"addNextState",forward:B,backward:L}}),C&&(d(),i())},deletePin:function(h){f(),a(function(){return _I(c,h)}),d(),i()},deletePins:function(h){f(),h.forEach(function(m){a(function(){return _I(c,m)})}),d(),i()},updatePins:function(h,m){m&&f();var y=c(),w={type:"updatePins",pins:[]},C={type:"updatePins",pins:[]};h.forEach(function(k){var M=k.pinId,N=y.orgData.signalIdByPinId[M],B=k.pinTime,L=k.pinValue,z=k.pinType==="continuous"?k.functionString:void 0,q=y.signalData[N].pinTimes[M],V=y.signalData[N].pinValues[M],X=k.pinType==="continuous"?y.signalData[N].curves[M]:void 0,nt={pinId:M,pinTime:B??q,pinValue:L??V,functionString:z??X},it={pinId:M,pinTime:q,pinValue:V,functionString:X};w.pins.push(nt),C.pins.push(it)}),a(function(){return{type:"addNextState",forward:[w],backward:[C]}}),m&&d(),i()},updateCurve:function(h,m){f(),a(function(){var y=c(),w=Object.keys(y.signalData).find(function(C){var k;return(k=y.signalData[C])===null||k===void 0?void 0:k.pinIds.includes(h)});if(!w)throw new Error("Pin not found");if(y.signalData[w].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:h,functionString:m}],backward:[{type:"updateCurve",pinId:h,functionString:y.signalData[w].curves[h]}]}}),d(),i()},createSignal:function(h,m,y,w){f(),a(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:h,signalType:m,signalName:y,range:w}],backward:[{type:"deleteSignal",signalId:h}]}}),d(),i()},duplicateSignal:function(h){f();var m=CI();a(function(){var y=c(),w=y.signalData[h];if(!w)throw new Error("Signal not found");var C=y.orgData.signalNames[h]+"_copy",k=w.type==="continuous"?w.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:m,signalType:w.type,signalName:C,range:k}],backward:[{type:"deleteSignal",signalId:m}]}}),a(function(){var y=c(),w=y.signalData[h].pinIds,C=y.signalData[h].type,k=w.map(function(M){var N,B=y.signalData[h].pinTimes[M],L=y.signalData[h].pinValues[M];return C==="continuous"&&(N=y.signalData[h].curves[M]),{pinTime:B,pinValue:L,functionString:N,pinId:CI()}});return{type:"addNextState",forward:k.map(function(M){return Jy(m,M.pinId,M.pinTime,M.pinValue,M.functionString)}),backward:k.map(function(M){return{type:"deletePin",pinId:M.pinId}})}}),d(),i()},deleteSignal:function(h){f(),a(function(){var m=c(),y=m.signalData[h];if(!y)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:h}],backward:[{type:"createSignal",signalId:h,signalType:y.type,signalName:m.orgData.signalNames[h],range:y.type==="continuous"?y.range:void 0}]}}),d(),i()},updateSignalName:function(h,m){f(),a(function(){var y=c();if(!y.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:h,signalName:m}],backward:[{type:"updateSignalName",signalId:h,signalName:y.orgData.signalNames[h]}]}}),d(),i()},updateSignalRange:function(h,m){f(),a(function(){var y=c().signalData[h];if(!y)throw new Error("Signal not found");if(y.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:h,range:m}],backward:[{type:"updateSignalRange",signalId:h,range:y.range}]}}),d(),i()},updateSignalIndex:function(h,m,y){y&&f(),a(function(){var w=c();if(!w.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:h,index:m}],backward:[{type:"updateSignalIndex",signalId:h,index:w.orgData.activeSignalIds.indexOf(h)}]}}),y&&d(),i()},updateSignalActiveStatus:function(h,m){f(),a(function(){var y=c();if(!y.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:h,active:m}],backward:[{type:"updateSignalActiveStatus",signalId:h,active:y.orgData.activeSignalIds.includes(h)}]}}),d(),i()},updateFramesPerSecond:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:h}],backward:[{type:"updateFramesPerSecond",framesPerSecond:m.timelineData.framesPerSecond}]}}),d(),i()},updatePlayheadPosition:function(h,m){m&&f(),a(function(){var y=c();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:h}],backward:[{type:"updatePlayheadPosition",playheadPosition:y.timelineData.playheadPosition}]}}),m&&d(),i()},updateFocusRange:function(h){var m=h[0],y=h[1];f(),a(function(){var w=c();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[m,y]}],backward:[{type:"updateFocusRange",focusRange:w.timelineData.focusRange}]}}),d(),i()},updateNumberOfFrames:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:h}],backward:[{type:"updateNumberOfFrames",numberOfFrames:m.timelineData.numberOfFrames}]}}),d(),i()},updateProjectName:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:h}],backward:[{type:"updateProjectName",projectName:m.metaData.name}]}}),d(),i()},undo:function(){f(),a(function(){return{type:"previous"}}),d(),i()},redo:function(){f(),a(function(){return{type:"next"}}),d(),i()},addCurveTemplate:function(h,m){a(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:h,functionString:m}],backward:[{type:"deleteCurveTemplate",curveId:h}]}}),i()},deleteCurveTemplate:function(h){a(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:h}],backward:[{type:"addCurveTemplate",curveId:h,functionString:c().templateData[h]}]}}),i()},updateCurveTemplate:function(h,m){a(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:h,functionString:m}],backward:[{type:"updateCurveTemplate",curveId:h,functionString:c().templateData[h]}]}}),i()}}}(t,r,0,e)},enumerable:!1,configurable:!0}),n.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},n.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},n.prototype.subscribeToProjectUpdates=function(t){return this.projectNode.subscribeToProjectUpdates(t)},n.prototype.interpolateSignalValueAtTime=function(t,e){if(!this.projectNode.initialized)throw new Error("Project not initialized");var r=this.projectNode.getProject();return lL(r,t,e)},n}(),xX=Object.freeze({__proto__:null,dispatchProjectEvent:function(n,t,e){return e===void 0&&(e="default"),function(r){var i={type:"projectNodeEvent",event:r,channel:e};n.postMessage(i,t)}},subscribeToProjectEvents:function(n,t){return t===void 0&&(t="default"),function(e){function r(i){if(i.origin===n&&i.data.type==="projectNodeEvent"&&i.data.channel===t){var a=i.data.event;e(a)}}return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}}}),DX=Object.freeze({__proto__:null,dispatchProjectEvent:function(n){return n===void 0&&(n="default"),function(t){var e=new CustomEvent("projectNodeEvent",{detail:{event:t,channel:n}});window.dispatchEvent(e)}},subscribeToProjectEvents:function(n){return n===void 0&&(n="default"),function(t){function e(r){if(r.type==="projectNodeEvent"&&r.detail.channel===n){var i=r.detail.event;t(i)}}return window.addEventListener("projectNodeEvent",e),function(){return window.removeEventListener("projectNodeEvent",e)}}}}),Ng=Object.freeze({__proto__:null,CustomEventAPI:DX,PinsAndCurvesProjectController:bX,PostMessageAPI:xX});function CX(n,t,e){return n+(t-n)*e}function EI(n){return n*n*n}function AI(n){return 1-Math.pow(1-n,3)}function kI(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function MI(n){var t=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*t)+1}var $D={},FI={},PI=1e-6,_X=function(n,t,e,r){var i=n.signalData[t],a=Object.entries(i.pinTimes).sort(function(c,f){return c[1]-f[1]}).find(function(c){return c[0],c[1]>=e});if(a===void 0)return"END VALUE";var s=a[0];return a[1],i.pinValues[s]},lL=function(n,t,e,r){if(r===void 0&&(r=0),++r>1e3)throw new Error("Exceeded maximum iteration count");var i=n.timelineData.numberOfFrames;if(e<0||e>i)throw new Error("Time out of range");var a=n.signalData[t].type;if(a==="discrete")return[_X(n,t,e),[]];if(a==="continuous")return function(s,c,f,d){var h=s.signalData[c],m=h.range,y=m[0],w=m[1],C=Object.entries(h.pinTimes).sort(function(mt,vt){return mt[1]-vt[1]}),k=C.find(function(mt){return mt[0],mt[1]>=f});if(k===void 0)return[y,[]];var M,N=k,B=N[0],L=N[1],z=h.pinValues[B],q=h.curves[B],V=y,X=0,nt=C.findIndex(function(mt){var vt=mt[0];return mt[1],vt===B});if(nt>0){var it=C[nt-1],ct=it[0],ft=it[1];V=h.pinValues[ct],X=ft}var gt=FI[c+B];if(gt===void 0||gt.functionString!==q){var Ct=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;


            `.concat(q);M=new Function("context","templates",Ct),FI[c+B]={functionString:q,cachedFunction:M}}else M=gt.cachedFunction;var kt=(f-X)/(L!==X?L-X:1),Tt=y,At=[];try{var Zt=function(mt){var vt=mt.nextPinTime,Lt=mt.project,ee=mt.range,pe=mt.pinId,ve=mt.frame,Oe=mt.numberOfFrames,qe=mt.framesPerSecond,He=mt.nextPinValue,wn=mt.previousPinTime,nn=mt.previousPinValue,cr=mt.relativeTime,bi=mt.interpolateSignalValueAtTime,Vt=ee[0],rt=ee[1];return{nextPinTime:vt,nextPinValue:He,project:Lt,previousPinTime:wn,previousPinValue:nn,relativeTime:cr,frame:ve,pinId:pe,numberOfFrames:Oe,framesPerSecond:qe,maxValue:rt,minValue:Vt,linearInterpolation:CX,easeInCubic:EI,easeOutCubic:AI,easeInOutCubic:kI,easeOutElastic:MI,easyLinear:function(){return cr*(He-nn)+nn},easyStep:function(){return He},easyEaseIn:function(){return nn+EI(cr)*(He-nn)},easyEaseOut:function(){return nn+AI(cr)*(He-nn)},easyEase:function(){return nn+kI(cr)*(He-nn)},easyEaseOutElastic:function(){return nn+MI(cr)*(He-nn)},interpolateSignalValueAtTime:bi}}({nextPinTime:L,nextPinValue:z,previousPinTime:X,project:s,previousPinValue:V,relativeTime:kt,pinId:B,frame:f,range:[y,w],numberOfFrames:s.timelineData.numberOfFrames,framesPerSecond:s.timelineData.framesPerSecond,interpolateSignalValueAtTime:function(mt,vt){var Lt=s.orgData.signalIds.find(function(Oe){return s.orgData.signalNames[Oe]===mt});if(Lt===void 0)throw new Error("Signal not found");var ee=lL(s,Lt,vt,d),pe=ee[0],ve=ee[1];if(typeof pe=="string")throw new Error("Interpolation function returned string");return At.push.apply(At,ve),pe}}),_t=function(mt){var vt={};return Object.entries(mt.templateData).forEach(function(Lt){var ee=Lt[0],pe=Lt[1];if($D[ee]!==void 0){if($D[ee].functionString===pe){var ve=$D[ee].cachedFunction;return void(vt[ee]=ve)}}else ve=new Function("return ".concat(pe,";"))(),vt[ee]=ve,$D[ee]={functionString:pe,cachedFunction:ve}}),vt}(s);Tt=M(Zt,_t)}catch(mt){At.push({signalId:c,frame:f,error:mt.message})}if(isNaN(Tt)&&(Tt=y,At.push({signalId:c,frame:f,error:"Interpolated value is NaN"})),Tt<y&&(Tt=y,Math.abs(Tt-y)>PI&&At.push({signalId:c,frame:f,error:"Interpolated value below minimum"})),Tt>w){var Et=Tt;Tt=w,Math.abs(Et-w)>PI&&At.push({signalId:c,frame:f,error:"Interpolated value above maximum: "+Et})}return[Tt,At]}(n,t,e,r);throw new Error("Invalid signal type")};function V0(n,t){return[n[0]+t[0],n[1]+t[1]]}function Qv(n,t){return[n[0]-t[0],n[1]-t[1]]}function gA(n,t){return[n[0]*t[0],n[1]*t[1]]}function Px(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function Zv(n,t){return[n[0]*t,n[1]*t]}function Ty(n,t){var e=[n[0][0],n[0][1],n[2][0],n[2][1]],r=e[0],i=e[1],a=e[2],s=e[3],c=[t[0][0],t[0][1],t[2][0],t[2][1]];return!(r>c[2]||a<c[0]||i>c[3]||s<c[1])}var Wf=function(){function n(t,e,r){t===void 0&&(t=[0,0]),e===void 0&&(e=0),r===void 0&&(r=0),this._o=t,this._w=e,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(t){this._o=t},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(t){var e={x:t[0],y:t[1]},r=e.x,i=e.y,a={oX:this.o[0],oY:this.o[1]},s=a.oX,c=a.oY;return!(r<s||r>s+this.w||i<c||i>c+this.h)},n.prototype.clone=function(){return new n(Rg([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,V0(this.o,[this.w,0]),V0(this.o,[this.w,this.h]),V0(this.o,[0,this.h])]},n.prototype.getCenter=function(){return V0(this.o,[this.w/2,this.h/2])},n}(),fv=function(n){function t(){var e=n.call(this)||this;return e.layer=0,e.children=[],e._isPrimaryCamera=!1,e._needsUpdate=!1,e._needsUpdate_root=!1,e.updateWhenCameraChanges=!1,e.state=void 0,e.context={},e.windowDidMountPrimitiveIsRunning=!1,e.childIndex=0,e.isCanvasRoot=!1,e.props={},e.globalPositioning=!1,e}return dh(t,n),Object.defineProperty(t.prototype,"_cameraSnapshot",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.canvas},enumerable:!1,configurable:!0}),t.prototype.setAsPrimaryCamera=function(){var e;(e=this._root)===null||e===void 0||e.installCamera(this)},t.prototype.setState=function(e){var r,i;if(this.state===e)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=e:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(a){a.updateWhenCameraChanges&&(a._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,e))},t.prototype.setContext=function(e,r){var i,a;this.windowDidMountPrimitiveIsRunning?this.context[e]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[e]=r,(a=this._root)===null||a===void 0||a.scheduleContextUpdate(this,e,r))},t.prototype.windowDidMountPrimitive=function(e){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(e),this.windowDidMountPrimitiveIsRunning=!1},t.prototype.windowDidMount=function(e){},t.prototype.windowDidUpdate=function(e){},t.prototype.cameraDidUpdate=function(){},t.prototype.windowWillUnmount=function(){},t.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var e=this.getBox();return this._boxSnapshot=e,e},t.prototype.getBox=function(){return new Wf([0,0],0,0)},Object.defineProperty(t.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),t.prototype.cameraPassUpdateSelf=function(){var e,r,i=this;this._isPrimaryCamera?(e=this._root)===null||e===void 0||e.windows.forEach(function(a){var s;(s=i._root)===null||s===void 0||s.taintLayer(a.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(pu({},this.props)))},t.prototype.cameraPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(c){return c(e)}),i=this.children.filter(function(c){return!r.includes(c)}),a=r.filter(function(c){return!e.children.includes(c)});this.children=r,i.forEach(function(c){return c.windowWillUnmount()}),a.forEach(function(c){return c.windowDidMountPrimitive(c.props)});var s=this.children.find(function(c){return c._needsUpdate});this.children.forEach(function(c){c._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},t.prototype.regularPassUpdateSelf=function(){var e;this._boxSnapshot=void 0,(e=this._root)===null||e===void 0||e.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(pu({},this.props))},t.prototype.regularPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(e)}),i=this.children.filter(function(s){return!r.includes(s)}),a=r.filter(function(s){return!e.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),a.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},t.prototype.getChildren=function(e){return[]},t.prototype.incChildIndex=function(){this.childIndex++},t.Node=function(e){var r=this,i=this.name;return function(a){if(a.isCanvasRoot){var s=void 0;return(s=new r)._root=a,s.setKey("root"),s.props=e||{},s.context=pu({},s.context),s}var c=a.childIndex;e||(e={});var f=e.key?e.key:"".concat(i,"[").concat(c,"]");return s=void 0,a.children.findIndex(function(d){return d.key===f})!==-1?s=a.children.find(function(d){return d.key===f}):((s=new r)._parent=a,s._root=a._root,s.setKey(f)),s.props=pu({},e),s.context=pu(pu({},s.context),a.context),a.incChildIndex(),s}},Object.defineProperty(t.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),t.prototype.getChildByKey=function(e){return this.children.find(function(r){return r.key===e})},t.prototype.getBoundingBox=function(){var e=this.globalO,r=e[0],i=e[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},t.prototype.pointInside=function(e){return n.prototype.pointInside.call(this,Qv(e,this.parentO))},Object.defineProperty(t.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var e=this._parent.globalO,r=e[0],i=e[1],a=this.o;return[r+a[0],i+a[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),t.prototype.getLayer=function(){return this.layer},t.prototype.setLayer=function(e){this.layer=e},t.prototype.setKey=function(e){this.key=e},Object.defineProperty(t.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),t.prototype.absoluteToCanvasMeasure=function(e){return gA(e,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},t.prototype.canvasToAbsoluteMeasure=function(e){return gA(e,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(t.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),t.prototype.prepareHandlerProps=function(){var e=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),a=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,c=this.absoluteUnit,f=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:a,camera:e,canvasUnit:s,canvasO:f,absoluteUnit:c}},t.prototype.preparePostBoxHandlerProps=function(){var e=this,r=this._cameraSnapshot,i=this._canvas,a=function(c){var f=e.globalO,d=c[0],h=c[1],m=[f[0]+d,f[1]+h],y=m[0],w=m[1],C=r.o,k=[y-C[0],w-C[1]],M=k[1];return[k[0]*(i.width/r.w),M*(i.height/r.h)]},s=a([0,0]);return pu(pu({},this.prepareHandlerProps()),{localToCanvas:a,canvasToLocal:function(c){var f=e.globalO;return Qv(V0(gA(c,[r.w/i.width,r.h/i.height]),r.o),f)},absoluteO:s})},t.prototype.prepareMouseHandlerProps=function(e,r){var i=this.preparePostBoxHandlerProps(),a=this.canvasUnit,s=a[0],c=a[1],f=this.canvasO,d=f[0],h=f[1],m=[d+e[0]*s,h+e[1]*c],y=Qv(m,this.globalO),w=this.pointInside(m);return pu(pu({},i),{relativePos:y,canvasPos:e,absolutePos:m,pointInside:w,terminateEvent:r})},t.prototype.prepareWheelHandlerProps=function(e){var r=this.preparePostBoxHandlerProps();return pu(pu({},r),{terminateEvent:e})},t.prototype.renderPrimitive=function(e){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(pu(pu({},r),{ctx:e}))}},t.prototype.render=function(e){},t.prototype.onMouseDownPrimitive=function(e,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseDown=function(e,r){},t.prototype.onMouseMovePrimitive=function(e,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseMove=function(e,r){},t.prototype.onMouseUpPrimitive=function(e,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseUp=function(e,r){},t.prototype.onClickPrimitive=function(e,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onClick=function(e,r){},t.prototype.onWheelPrimitive=function(e,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(e),r)},t.prototype.onWheel=function(e,r){},t.prototype.strokeOutline=function(e,r){e.ctx.strokeStyle=r;var i=e.absoluteO,a=e.absoluteUnit,s=i[0],c=i[1],f=a[0],d=a[1];e.ctx.strokeRect(s,c,this.w*f,this.h*d)},t}(Wf),Db={},TI,WD,HD,VD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qD={exports:{}},SX=(TI||(TI=1,WD=qD,HD=qD.exports,(function(){var n,t="Expected a function",e="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,a=128,s=1/0,c=9007199254740991,f=NaN,d=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],m="[object Arguments]",y="[object Array]",w="[object Boolean]",C="[object Date]",k="[object Error]",M="[object Function]",N="[object GeneratorFunction]",B="[object Map]",L="[object Number]",z="[object Object]",q="[object Promise]",V="[object RegExp]",X="[object Set]",nt="[object String]",it="[object Symbol]",ct="[object WeakMap]",ft="[object ArrayBuffer]",gt="[object DataView]",Ct="[object Float32Array]",kt="[object Float64Array]",Tt="[object Int8Array]",At="[object Int16Array]",Zt="[object Int32Array]",_t="[object Uint8Array]",Et="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",Lt=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,qe=RegExp(ve.source),He=RegExp(Oe.source),wn=/<%-([\s\S]+?)%>/g,nn=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(dt.source),Ot=/^\s+/,Bt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Kt=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,zi=/^\[object .+?Constructor\]$/,Yi=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,xo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ai=/($^)/,us=/['\n\r\u2028\u2029\\]/g,ko="\\ud800-\\udfff",vu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ja="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",yu="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ol="["+ko+"]",gl="["+Ns+"]",Pa="["+vu+"]",ml="\\d+",wu="["+ja+"]",Ou="["+ls+"]",Ks="[^"+ko+Ns+ml+ja+ls+yu+"]",Nu="\\ud83c[\\udffb-\\udfff]",ts="[^"+ko+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",ho="["+yu+"]",Iu="\\u200d",nu="(?:"+Ou+"|"+Ks+")",cs="(?:"+ho+"|"+Ks+")",nl="(?:['](?:d|ll|m|re|s|t|ve))?",Nl="(?:['](?:D|LL|M|RE|S|T|VE))?",vl="(?:"+Pa+"|"+Nu+")?",bu="["+dl+"]?",Gs=bu+vl+"(?:"+Iu+"(?:"+[ts,fa,ba].join("|")+")"+bu+vl+")*",kc="(?:"+[wu,fa,ba].join("|")+")"+Gs,hf="(?:"+[ts+Pa+"?",Pa,fa,ba,Ol].join("|")+")",Mc=RegExp("[']","g"),ln=RegExp(Pa,"g"),Vn=RegExp(Nu+"(?="+Nu+")|"+hf+Gs,"g"),hr=RegExp([ho+"?"+Ou+"+"+nl+"(?="+[gl,ho,"$"].join("|")+")",cs+"+"+Nl+"(?="+[gl,ho+nu,"$"].join("|")+")",ho+"?"+nu+"+"+nl,ho+"+"+Nl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml,kc].join("|"),"g"),Xi=RegExp("["+Iu+ko+vu+dl+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ru=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,De={};De[Ct]=De[kt]=De[Tt]=De[At]=De[Zt]=De[_t]=De[Et]=De[mt]=De[vt]=!0,De[m]=De[y]=De[ft]=De[w]=De[gt]=De[C]=De[k]=De[M]=De[B]=De[L]=De[z]=De[V]=De[X]=De[nt]=De[ct]=!1;var be={};be[m]=be[y]=be[ft]=be[gt]=be[w]=be[C]=be[Ct]=be[kt]=be[Tt]=be[At]=be[Zt]=be[B]=be[L]=be[z]=be[V]=be[X]=be[nt]=be[it]=be[_t]=be[Et]=be[mt]=be[vt]=!0,be[k]=be[M]=be[ct]=!1;var Xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xa=parseFloat,tp=parseInt,Kc=typeof VD=="object"&&VD&&VD.Object===Object&&VD,Tf=typeof self=="object"&&self&&self.Object===Object&&self,ze=Kc||Tf||Function("return this")(),$i=HD&&!HD.nodeType&&HD,kr=$i&&WD&&!WD.nodeType&&WD,Fc=kr&&kr.exports===$i,Bu=Fc&&Kc.process,pr=function(){try{return kr&&kr.require&&kr.require("util").types||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),Ru=pr&&pr.isArrayBuffer,Ji=pr&&pr.isDate,qn=pr&&pr.isMap,rl=pr&&pr.isRegExp,Zc=pr&&pr.isSet,wc=pr&&pr.isTypedArray;function Mn(J,st,et){switch(et.length){case 0:return J.call(st);case 1:return J.call(st,et[0]);case 2:return J.call(st,et[0],et[1]);case 3:return J.call(st,et[0],et[1],et[2])}return J.apply(st,et)}function uh(J,st,et,pt){for(var Nt=-1,Jt=J==null?0:J.length;++Nt<Jt;){var Fe=J[Nt];st(pt,Fe,et(Fe),J)}return pt}function Bn(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt&&st(J[et],et,J)!==!1;);return J}function tf(J,st){for(var et=J==null?0:J.length;et--&&st(J[et],et,J)!==!1;);return J}function Cs(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(!st(J[et],et,J))return!1;return!0}function Br(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];st(Fe,et,J)&&(Jt[Nt++]=Fe)}return Jt}function br(J,st){return!(J==null||!J.length)&&Ii(J,st,0)>-1}function xi(J,st,et){for(var pt=-1,Nt=J==null?0:J.length;++pt<Nt;)if(et(st,J[pt]))return!0;return!1}function Be(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=Array(pt);++et<pt;)Nt[et]=st(J[et],et,J);return Nt}function Er(J,st){for(var et=-1,pt=st.length,Nt=J.length;++et<pt;)J[Nt+et]=st[et];return J}function Jr(J,st,et,pt){var Nt=-1,Jt=J==null?0:J.length;for(pt&&Jt&&(et=J[++Nt]);++Nt<Jt;)et=st(et,J[Nt],Nt,J);return et}function ef(J,st,et,pt){var Nt=J==null?0:J.length;for(pt&&Nt&&(et=J[--Nt]);Nt--;)et=st(et,J[Nt],Nt,J);return et}function Is(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(st(J[et],et,J))return!0;return!1}var uc=Da("length");function ql(J,st,et){var pt;return et(J,function(Nt,Jt,Fe){if(st(Nt,Jt,Fe))return pt=Jt,!1}),pt}function jr(J,st,et,pt){for(var Nt=J.length,Jt=et+(pt?1:-1);pt?Jt--:++Jt<Nt;)if(st(J[Jt],Jt,J))return Jt;return-1}function Ii(J,st,et){return st==st?function(pt,Nt,Jt){for(var Fe=Jt-1,mn=pt.length;++Fe<mn;)if(pt[Fe]===Nt)return Fe;return-1}(J,st,et):jr(J,Bs,et)}function bc(J,st,et,pt){for(var Nt=et-1,Jt=J.length;++Nt<Jt;)if(pt(J[Nt],st))return Nt;return-1}function Bs(J){return J!=J}function xu(J,st){var et=J==null?0:J.length;return et?Ys(J,st)/et:f}function Da(J){return function(st){return st==null?n:st[J]}}function ju(J){return function(st){return J==null?n:J[st]}}function Pc(J,st,et,pt,Nt){return Nt(J,function(Jt,Fe,mn){et=pt?(pt=!1,Jt):st(et,Jt,Fe,mn)}),et}function Ys(J,st){for(var et,pt=-1,Nt=J.length;++pt<Nt;){var Jt=st(J[pt]);Jt!==n&&(et=et===n?Jt:et+Jt)}return et}function Il(J,st){for(var et=-1,pt=Array(J);++et<J;)pt[et]=st(et);return pt}function Bl(J){return J&&J.slice(0,La(J)+1).replace(Ot,"")}function Ln(J){return function(st){return J(st)}}function yl(J,st){return Be(st,function(et){return J[et]})}function fi(J,st){return J.has(st)}function wl(J,st){for(var et=-1,pt=J.length;++et<pt&&Ii(st,J[et],0)>-1;);return et}function Xs(J,st){for(var et=J.length;et--&&Ii(st,J[et],0)>-1;);return et}var Gc=ju({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Tc=ju({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lu(J){return"\\"+Xr[J]}function ha(J){return Xi.test(J)}function Gi(J){var st=-1,et=Array(J.size);return J.forEach(function(pt,Nt){et[++st]=[Nt,pt]}),et}function zu(J,st){return function(et){return J(st(et))}}function Di(J,st){for(var et=-1,pt=J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];Fe!==st&&Fe!==r||(J[et]=r,Jt[Nt++]=et)}return Jt}function ns(J){var st=-1,et=Array(J.size);return J.forEach(function(pt){et[++st]=pt}),et}function Wr(J){return ha(J)?function(st){for(var et=Vn.lastIndex=0;Vn.test(st);)++et;return et}(J):uc(J)}function xr(J){return ha(J)?function(st){return st.match(Vn)||[]}(J):function(st){return st.split("")}(J)}function La(J){for(var st=J.length;st--&&Bt.test(J.charAt(st)););return st}var lc=ju({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Co=function J(st){var et,pt=(st=st==null?ze:Co.defaults(ze.Object(),st,Co.pick(ze,ru))).Array,Nt=st.Date,Jt=st.Error,Fe=st.Function,mn=st.Math,zt=st.Object,Ne=st.RegExp,ke=st.String,Pe=st.TypeError,vr=pt.prototype,Ci=Fe.prototype,hi=zt.prototype,Ca=st["__core-js_shared__"],pi=Ci.toString,Ce=hi.hasOwnProperty,kh=0,_i=(et=/[^.]+$/.exec(Ca&&Ca.keys&&Ca.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"",Rs=hi.toString,Yc=pi.call(zt),pf=ze._,lh=Ne("^"+pi.call(Ce).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iu=Fc?st.Buffer:n,tr=st.Symbol,js=st.Uint8Array,Rl=iu?iu.allocUnsafe:n,ea=zu(zt.getPrototypeOf,zt),Yf=zt.create,Oc=hi.propertyIsEnumerable,Uu=vr.splice,jl=tr?tr.isConcatSpreadable:n,io=tr?tr.iterator:n,Bo=tr?tr.toStringTag:n,za=function(){try{var o=si(zt,"defineProperty");return o({},"",{}),o}catch{}}(),nf=st.clearTimeout!==ze.clearTimeout&&st.clearTimeout,Xf=Nt&&Nt.now!==ze.Date.now&&Nt.now,Of=st.setTimeout!==ze.setTimeout&&st.setTimeout,Ua=mn.ceil,$u=mn.floor,ou=zt.getOwnPropertySymbols,xc=iu?iu.isBuffer:n,Nc=st.isFinite,Wh=vr.join,Lh=zu(zt.keys,zt),sn=mn.max,on=mn.min,pa=Nt.now,Du=st.parseInt,df=mn.random,xh=vr.reverse,il=si(st,"DataView"),_a=si(st,"Map"),oa=si(st,"Promise"),ii=si(st,"Set"),Ko=si(st,"WeakMap"),aa=si(zt,"create"),sa=Ko&&new Ko,Mo={},gf=so(il),bl=so(_a),cc=so(oa),rf=so(ii),Jf=so(Ko),rs=tr?tr.prototype:n,is=rs?rs.valueOf:n,Ll=rs?rs.toString:n;function P(o){if(Le(o)&&!ie(o)&&!(o instanceof ce)){if(o instanceof or)return o;if(Ce.call(o,"__wrapped__"))return Au(o)}return new or(o)}var Go=function(){function o(){}return function(u){if(!We(u))return{};if(Yf)return Yf(u);o.prototype=u;var l=new o;return o.prototype=n,l}}();function Pt(){}function or(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}function ce(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function vn(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function Fr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function St(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new Fr;++u<l;)this.add(o[u])}function zn(o){var u=this.__data__=new vn(o);this.size=u.size}function Wu(o,u){var l=ie(o),g=!l&&Eo(o),b=!l&&!g&&Nr(o),E=!l&&!g&&!b&&xn(o),O=l||g||b||E,R=O?Il(o.length,ke):[],W=R.length;for(var A in o)!u&&!Ce.call(o,A)||O&&(A=="length"||b&&(A=="offset"||A=="parent")||E&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ur(A,W))||R.push(A);return R}function En(o){var u=o.length;return u?o[fs(0,u-1)]:n}function Bi(o,u){return Hs(An(o),Qi(u,0,o.length))}function Kl(o){return Hs(An(o))}function da(o,u,l){(l!==n&&!Mr(o[u],l)||l===n&&!(u in o))&&Rr(o,u,l)}function Fo(o,u,l){var g=o[u];Ce.call(o,u)&&Mr(g,l)&&(l!==n||u in o)||Rr(o,u,l)}function ga(o,u){for(var l=o.length;l--;)if(Mr(o[l][0],u))return l;return-1}function _s(o,u,l,g){return ki(o,function(b,E,O){u(g,b,l(b),O)}),g}function Hu(o,u){return o&&$n(u,en(u),o)}function Rr(o,u,l){u=="__proto__"&&za?za(o,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[u]=l}function Gl(o,u){for(var l=-1,g=u.length,b=pt(g),E=o==null;++l<g;)b[l]=E?n:rc(o,u[l]);return b}function Qi(o,u,l){return o==o&&(l!==n&&(o=o<=l?o:l),u!==n&&(o=o>=u?o:u)),o}function yr(o,u,l,g,b,E){var O,R=1&u,W=2&u,A=4&u;if(l&&(O=b?l(o,g,b,E):l(o)),O!==n)return O;if(!We(o))return o;var _=ie(o);if(_){if(O=function(K){var tt=K.length,ut=new K.constructor(tt);return tt&&typeof K[0]=="string"&&Ce.call(K,"index")&&(ut.index=K.index,ut.input=K.input),ut}(o),!R)return An(o,O)}else{var T=cn(o),U=T==M||T==N;if(Nr(o))return Cl(o,R);if(T==z||T==m||U&&!b){if(O=W||U?{}:Qo(o),!R)return W?function(K,tt){return $n(K,ua(K),tt)}(o,function(K,tt){return K&&$n(tt,Xn(tt),K)}(O,o)):function(K,tt){return $n(K,mr(K),tt)}(o,Hu(O,o))}else{if(!be[T])return b?o:{};O=function(K,tt,ut){var ot,wt=K.constructor;switch(tt){case ft:return Su(K);case w:case C:return new wt(+K);case gt:return function(yt,jt){var xt=jt?Su(yt.buffer):yt.buffer;return new yt.constructor(xt,yt.byteOffset,yt.byteLength)}(K,ut);case Ct:case kt:case Tt:case At:case Zt:case _t:case Et:case mt:case vt:return _l(K,ut);case B:return new wt;case L:case nt:return new wt(K);case V:return function(yt){var jt=new yt.constructor(yt.source,Se.exec(yt));return jt.lastIndex=yt.lastIndex,jt}(K);case X:return new wt;case it:return ot=K,is?zt(is.call(ot)):{}}}(o,T,R)}}E||(E=new zn);var G=E.get(o);if(G)return G;E.set(o,O),Qu(o)?o.forEach(function(K){O.add(yr(K,u,l,K,o,E))}):Qn(o)&&o.forEach(function(K,tt){O.set(tt,yr(K,u,l,tt,o,E))});var Z=_?n:(A?W?po:Ya:W?Xn:en)(o);return Bn(Z||o,function(K,tt){Z&&(K=o[tt=K]),Fo(O,tt,yr(K,u,l,tt,o,E))}),O}function Vu(o,u,l){var g=l.length;if(o==null)return!g;for(o=zt(o);g--;){var b=l[g],E=u[b],O=o[b];if(O===n&&!(b in o)||!E(O))return!1}return!0}function $a(o,u,l){if(typeof o!="function")throw new Pe(t);return gi(function(){o.apply(n,l)},u)}function Ro(o,u,l,g){var b=-1,E=br,O=!0,R=o.length,W=[],A=u.length;if(!R)return W;l&&(u=Be(u,Ln(l))),g?(E=xi,O=!1):u.length>=200&&(E=fi,O=!1,u=new St(u));t:for(;++b<R;){var _=o[b],T=l==null?_:l(_);if(_=g||_!==0?_:0,O&&T==T){for(var U=A;U--;)if(u[U]===T)continue t;W.push(_)}else E(u,T,g)||W.push(_)}return W}P.templateSettings={escape:wn,evaluate:nn,interpolate:cr,variable:"",imports:{_:P}},P.prototype=Pt.prototype,P.prototype.constructor=P,or.prototype=Go(Pt.prototype),or.prototype.constructor=or,ce.prototype=Go(Pt.prototype),ce.prototype.constructor=ce,Hr.prototype.clear=function(){this.__data__=aa?aa(null):{},this.size=0},Hr.prototype.delete=function(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u},Hr.prototype.get=function(o){var u=this.__data__;if(aa){var l=u[o];return l===e?n:l}return Ce.call(u,o)?u[o]:n},Hr.prototype.has=function(o){var u=this.__data__;return aa?u[o]!==n:Ce.call(u,o)},Hr.prototype.set=function(o,u){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=aa&&u===n?e:u,this},vn.prototype.clear=function(){this.__data__=[],this.size=0},vn.prototype.delete=function(o){var u=this.__data__,l=ga(u,o);return!(l<0||(l==u.length-1?u.pop():Uu.call(u,l,1),--this.size,0))},vn.prototype.get=function(o){var u=this.__data__,l=ga(u,o);return l<0?n:u[l][1]},vn.prototype.has=function(o){return ga(this.__data__,o)>-1},vn.prototype.set=function(o,u){var l=this.__data__,g=ga(l,o);return g<0?(++this.size,l.push([o,u])):l[g][1]=u,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(_a||vn),string:new Hr}},Fr.prototype.delete=function(o){var u=Jo(this,o).delete(o);return this.size-=u?1:0,u},Fr.prototype.get=function(o){return Jo(this,o).get(o)},Fr.prototype.has=function(o){return Jo(this,o).has(o)},Fr.prototype.set=function(o,u){var l=Jo(this,o),g=l.size;return l.set(o,u),this.size+=l.size==g?0:1,this},St.prototype.add=St.prototype.push=function(o){return this.__data__.set(o,e),this},St.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.clear=function(){this.__data__=new vn,this.size=0},zn.prototype.delete=function(o){var u=this.__data__,l=u.delete(o);return this.size=u.size,l},zn.prototype.get=function(o){return this.__data__.get(o)},zn.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.set=function(o,u){var l=this.__data__;if(l instanceof vn){var g=l.__data__;if(!_a||g.length<199)return g.push([o,u]),this.size=++l.size,this;l=this.__data__=new Fr(g)}return l.set(o,u),this.size=l.size,this};var ki=Aa(bn),Ss=Aa(Sa,!0);function fc(o,u){var l=!0;return ki(o,function(g,b,E){return l=!!u(g,b,E)}),l}function Wa(o,u,l){for(var g=-1,b=o.length;++g<b;){var E=o[g],O=u(E);if(O!=null&&(R===n?O==O&&!jn(O):l(O,R)))var R=O,W=E}return W}function au(o,u){var l=[];return ki(o,function(g,b,E){u(g,b,E)&&l.push(g)}),l}function gn(o,u,l,g,b){var E=-1,O=o.length;for(l||(l=sr),b||(b=[]);++E<O;){var R=o[E];u>0&&l(R)?u>1?gn(R,u-1,l,g,b):Er(b,R):g||(b[b.length]=R)}return b}var hc=Zs(),Ha=Zs(!0);function bn(o,u){return o&&hc(o,u,en)}function Sa(o,u){return o&&Ha(o,u,en)}function ma(o,u){return Br(u,function(l){return yi(o[l])})}function Vr(o,u){for(var l=0,g=(u=ai(u,o)).length;o!=null&&l<g;)o=o[Nn(u[l++])];return l&&l==g?o:n}function Ea(o,u,l){var g=u(o);return ie(o)?g:Er(g,l(o))}function tn(o){return o==null?o===n?"[object Undefined]":"[object Null]":Bo&&Bo in zt(o)?function(u){var l=Ce.call(u,Bo),g=u[Bo];try{u[Bo]=n;var b=!0}catch{}var E=Rs.call(u);return b&&(l?u[Bo]=g:delete u[Bo]),E}(o):function(u){return Rs.call(u)}(o)}function Ho(o,u){return o>u}function Ls(o,u){return o!=null&&Ce.call(o,u)}function xl(o,u){return o!=null&&u in zt(o)}function pc(o,u,l){for(var g=l?xi:br,b=o[0].length,E=o.length,O=E,R=pt(E),W=1/0,A=[];O--;){var _=o[O];O&&u&&(_=Be(_,Ln(u))),W=on(_.length,W),R[O]=!l&&(u||b>=120&&_.length>=120)?new St(O&&_):n}_=o[0];var T=-1,U=R[0];t:for(;++T<b&&A.length<W;){var G=_[T],Z=u?u(G):G;if(G=l||G!==0?G:0,!(U?fi(U,Z):g(A,Z,l))){for(O=E;--O;){var K=R[O];if(!(K?fi(K,Z):g(o[O],Z,l)))continue t}U&&U.push(Z),A.push(G)}}return A}function Po(o,u,l){var g=(o=Ws(o,u=ai(u,o)))==null?o:o[Nn(Ar(u))];return g==null?n:Mn(g,o,l)}function Js(o){return Le(o)&&tn(o)==m}function _o(o,u,l,g,b){return o===u||(o==null||u==null||!Le(o)&&!Le(u)?o!=o&&u!=u:function(E,O,R,W,A,_){var T=ie(E),U=ie(O),G=T?y:cn(E),Z=U?y:cn(O),K=(G=G==m?z:G)==z,tt=(Z=Z==m?z:Z)==z,ut=G==Z;if(ut&&Nr(E)){if(!Nr(O))return!1;T=!0,K=!1}if(ut&&!K)return _||(_=new zn),T||xn(E)?El(E,O,R,W,A,_):function(xt,It,ae,Ht,ye,oe,xe){switch(ae){case gt:if(xt.byteLength!=It.byteLength||xt.byteOffset!=It.byteOffset)return!1;xt=xt.buffer,It=It.buffer;case ft:return!(xt.byteLength!=It.byteLength||!oe(new js(xt),new js(It)));case w:case C:case L:return Mr(+xt,+It);case k:return xt.name==It.name&&xt.message==It.message;case V:case nt:return xt==It+"";case B:var Ve=Gi;case X:var an=1&Ht;if(Ve||(Ve=ns),xt.size!=It.size&&!an)return!1;var On=xe.get(xt);if(On)return On==It;Ht|=2,xe.set(xt,It);var Dn=El(Ve(xt),Ve(It),Ht,ye,oe,xe);return xe.delete(xt),Dn;case it:if(is)return is.call(xt)==is.call(It)}return!1}(E,O,G,R,W,A,_);if(!(1&R)){var ot=K&&Ce.call(E,"__wrapped__"),wt=tt&&Ce.call(O,"__wrapped__");if(ot||wt){var yt=ot?E.value():E,jt=wt?O.value():O;return _||(_=new zn),A(yt,jt,R,W,_)}}return!!ut&&(_||(_=new zn),function(xt,It,ae,Ht,ye,oe){var xe=1&ae,Ve=Ya(xt),an=Ve.length;if(an!=Ya(It).length&&!xe)return!1;for(var On=an;On--;){var Dn=Ve[On];if(!(xe?Dn in It:Ce.call(It,Dn)))return!1}var nr=oe.get(xt),Cr=oe.get(It);if(nr&&Cr)return nr==It&&Cr==xt;var Ao=!0;oe.set(xt,It),oe.set(It,xt);for(var ro=xe;++On<an;){var vo=xt[Dn=Ve[On]],Kr=It[Dn];if(Ht)var ss=xe?Ht(Kr,vo,Dn,It,xt,oe):Ht(vo,Kr,Dn,xt,It,oe);if(!(ss===n?vo===Kr||ye(vo,Kr,ae,Ht,oe):ss)){Ao=!1;break}ro||(ro=Dn=="constructor")}if(Ao&&!ro){var Lr=xt.constructor,Za=It.constructor;Lr==Za||!("constructor"in xt)||!("constructor"in It)||typeof Lr=="function"&&Lr instanceof Lr&&typeof Za=="function"&&Za instanceof Za||(Ao=!1)}return oe.delete(xt),oe.delete(It),Ao}(E,O,R,W,A,_))}(o,u,l,g,_o,b))}function jo(o,u,l,g){var b=l.length,E=b,O=!g;if(o==null)return!E;for(o=zt(o);b--;){var R=l[b];if(O&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++b<E;){var W=(R=l[b])[0],A=o[W],_=R[1];if(O&&R[2]){if(A===n&&!(W in o))return!1}else{var T=new zn;if(g)var U=g(A,_,W,o,u,T);if(!(U===n?_o(_,A,3,g,T):U))return!1}}return!0}function qu(o){return!(!We(o)||(u=o,_i&&_i in u))&&(yi(o)?lh:zi).test(so(o));var u}function Cu(o){return typeof o=="function"?o:o==null?_n:typeof o=="object"?ie(o)?Wi(o[0],o[1]):zs(o):Io(o)}function Ta(o){if(!Zr(o))return Lh(o);var u=[];for(var l in zt(o))Ce.call(o,l)&&l!="constructor"&&u.push(l);return u}function dr(o,u){return o<u}function ar(o,u){var l=-1,g=$e(o)?pt(o.length):[];return ki(o,function(b,E,O){g[++l]=u(b,E,O)}),g}function zs(o){var u=er(o);return u.length==1&&u[0][2]?dc(u[0][0],u[0][1]):function(l){return l===o||jo(l,o,u)}}function Wi(o,u){return Dr(o)&&Wl(u)?dc(Nn(o),u):function(l){var g=rc(l,o);return g===n&&g===u?Fi(l,o):_o(u,g,3)}}function Si(o,u,l,g,b){o!==u&&hc(u,function(E,O){if(b||(b=new zn),We(E))(function(W,A,_,T,U,G,Z){var K=ao(W,_),tt=ao(A,_),ut=Z.get(tt);if(ut)da(W,_,ut);else{var ot=G?G(K,tt,_+"",W,A,Z):n,wt=ot===n;if(wt){var yt=ie(tt),jt=!yt&&Nr(tt),xt=!yt&&!jt&&xn(tt);ot=tt,yt||jt||xt?ie(K)?ot=K:Je(K)?ot=An(K):jt?(wt=!1,ot=Cl(tt,!0)):xt?(wt=!1,ot=_l(tt,!0)):ot=[]:la(tt)||Eo(tt)?(ot=K,Eo(K)?ot=ys(K):We(K)&&!yi(K)||(ot=Qo(tt))):wt=!1}wt&&(Z.set(tt,ot),U(ot,tt,T,G,Z),Z.delete(tt)),da(W,_,ot)}})(o,u,O,l,Si,g,b);else{var R=g?g(ao(o,O),E,O+"",o,u,b):n;R===n&&(R=E),da(o,O,R)}},Xn)}function _u(o,u){var l=o.length;if(l)return ur(u+=u<0?l:0,l)?o[u]:n}function Qs(o,u,l){u=u.length?Be(u,function(E){return ie(E)?function(O){return Vr(O,E.length===1?E[0]:E)}:E}):[_n];var g=-1;u=Be(u,Ln(Yt()));var b=ar(o,function(E,O,R){var W=Be(u,function(A){return A(E)});return{criteria:W,index:++g,value:E}});return function(E,O){var R=E.length;for(E.sort(O);R--;)E[R]=E[R].value;return E}(b,function(E,O){return function(R,W,A){for(var _=-1,T=R.criteria,U=W.criteria,G=T.length,Z=A.length;++_<G;){var K=ps(T[_],U[_]);if(K)return _>=Z?K:K*(A[_]=="desc"?-1:1)}return R.index-W.index}(E,O,l)})}function Zi(o,u,l){for(var g=-1,b=u.length,E={};++g<b;){var O=u[g],R=Vr(o,O);l(R,O)&&os(E,ai(O,o),R)}return E}function Dl(o,u,l,g){var b=g?bc:Ii,E=-1,O=u.length,R=o;for(o===u&&(u=An(u)),l&&(R=Be(o,Ln(l)));++E<O;)for(var W=0,A=u[E],_=l?l(A):A;(W=b(R,_,W,g))>-1;)R!==o&&Uu.call(R,W,1),Uu.call(o,W,1);return o}function zl(o,u){for(var l=o?u.length:0,g=l-1;l--;){var b=u[l];if(l==g||b!==E){var E=b;ur(b)?Uu.call(o,b,1):oi(o,b)}}return o}function fs(o,u){return o+$u(df()*(u-o+1))}function Us(o,u){var l="";if(!o||u<1||u>c)return l;do u%2&&(l+=o),(u=$u(u/2))&&(o+=o);while(u);return l}function ue(o,u){return no(go(o,u,_n),o+"")}function Es(o){return En(Zn(o))}function mi(o,u){var l=Zn(o);return Hs(l,Qi(u,0,l.length))}function os(o,u,l,g){if(!We(o))return o;for(var b=-1,E=(u=ai(u,o)).length,O=E-1,R=o;R!=null&&++b<E;){var W=Nn(u[b]),A=l;if(W==="__proto__"||W==="constructor"||W==="prototype")return o;if(b!=O){var _=R[W];(A=g?g(_,W,R):n)===n&&(A=We(_)?_:ur(u[b+1])?[]:{})}Fo(R,W,A),R=R[W]}return o}var Yl=sa?function(o,u){return sa.set(o,u),o}:_n,hs=za?function(o,u){return za(o,"toString",{configurable:!0,enumerable:!1,value:Tl(u),writable:!0})}:_n;function ol(o){return Hs(Zn(o))}function Un(o,u,l){var g=-1,b=o.length;u<0&&(u=-u>b?0:b+u),(l=l>b?b:l)<0&&(l+=b),b=u>l?0:l-u>>>0,u>>>=0;for(var E=pt(b);++g<b;)E[g]=o[g+u];return E}function Xc(o,u){var l;return ki(o,function(g,b,E){return!(l=u(g,b,E))}),!!l}function Fn(o,u,l){var g=0,b=o==null?g:o.length;if(typeof u=="number"&&u==u&&b<=2147483647){for(;g<b;){var E=g+b>>>1,O=o[E];O!==null&&!jn(O)&&(l?O<=u:O<u)?g=E+1:b=E}return b}return to(o,u,_n,l)}function to(o,u,l,g){var b=0,E=o==null?0:o.length;if(E===0)return 0;for(var O=(u=l(u))!=u,R=u===null,W=jn(u),A=u===n;b<E;){var _=$u((b+E)/2),T=l(o[_]),U=T!==n,G=T===null,Z=T==T,K=jn(T);if(O)var tt=g||Z;else tt=A?Z&&(g||U):R?Z&&U&&(g||!G):W?Z&&U&&!G&&(g||!K):!G&&!K&&(g?T<=u:T<u);tt?b=_+1:E=_}return on(E,4294967294)}function Or(o,u){for(var l=-1,g=o.length,b=0,E=[];++l<g;){var O=o[l],R=u?u(O):O;if(!l||!Mr(R,W)){var W=R;E[b++]=O===0?0:O}}return E}function Qr(o){return typeof o=="number"?o:jn(o)?f:+o}function fn(o){if(typeof o=="string")return o;if(ie(o))return Be(o,fn)+"";if(jn(o))return Ll?Ll.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Yn(o,u,l){var g=-1,b=br,E=o.length,O=!0,R=[],W=R;if(l)O=!1,b=xi;else if(E>=200){var A=u?null:of(o);if(A)return ns(A);O=!1,b=fi,W=new St}else W=u?[]:R;t:for(;++g<E;){var _=o[g],T=u?u(_):_;if(_=l||_!==0?_:0,O&&T==T){for(var U=W.length;U--;)if(W[U]===T)continue t;u&&W.push(T),R.push(_)}else b(W,T,l)||(W!==R&&W.push(T),R.push(_))}return R}function oi(o,u){return(o=Ws(o,u=ai(u,o)))==null||delete o[Nn(Ar(u))]}function na(o,u,l,g){return os(o,u,l(Vr(o,u)),g)}function Va(o,u,l,g){for(var b=o.length,E=g?b:-1;(g?E--:++E<b)&&u(o[E],E,o););return l?Un(o,g?0:E,g?E+1:b):Un(o,g?E+1:0,g?b:E)}function qa(o,u){var l=o;return l instanceof ce&&(l=l.value()),Jr(u,function(g,b){return b.func.apply(b.thisArg,Er([g],b.args))},l)}function Ri(o,u,l){var g=o.length;if(g<2)return g?Yn(o[0]):[];for(var b=-1,E=pt(g);++b<g;)for(var O=o[b],R=-1;++R<g;)R!=b&&(E[b]=Ro(E[b]||O,o[R],u,l));return Yn(gn(E,1),u,l)}function Yo(o,u,l){for(var g=-1,b=o.length,E=u.length,O={};++g<b;){var R=g<E?u[g]:n;l(O,o[g],R)}return O}function wr(o){return Je(o)?o:[]}function di(o){return typeof o=="function"?o:_n}function ai(o,u){return ie(o)?o:Dr(o,u)?[o]:Ic(we(o))}var Xl=ue;function Ur(o,u,l){var g=o.length;return l=l===n?g:l,!u&&l>=g?o:Un(o,u,l)}var Jl=nf||function(o){return ze.clearTimeout(o)};function Cl(o,u){if(u)return o.slice();var l=o.length,g=Rl?Rl(l):new o.constructor(l);return o.copy(g),g}function Su(o){var u=new o.constructor(o.byteLength);return new js(u).set(new js(o)),u}function _l(o,u){var l=u?Su(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}function ps(o,u){if(o!==u){var l=o!==n,g=o===null,b=o==o,E=jn(o),O=u!==n,R=u===null,W=u==u,A=jn(u);if(!R&&!A&&!E&&o>u||E&&O&&W&&!R&&!A||g&&O&&W||!l&&W||!b)return 1;if(!g&&!E&&!A&&o<u||A&&l&&b&&!g&&!E||R&&l&&b||!O&&b||!W)return-1}return 0}function al(o,u,l,g){for(var b=-1,E=o.length,O=l.length,R=-1,W=u.length,A=sn(E-O,0),_=pt(W+A),T=!g;++R<W;)_[R]=u[R];for(;++b<O;)(T||b<E)&&(_[l[b]]=o[b]);for(;A--;)_[R++]=o[b++];return _}function Sl(o,u,l,g){for(var b=-1,E=o.length,O=-1,R=l.length,W=-1,A=u.length,_=sn(E-R,0),T=pt(_+A),U=!g;++b<_;)T[b]=o[b];for(var G=b;++W<A;)T[G+W]=u[W];for(;++O<R;)(U||b<E)&&(T[G+l[O]]=o[b++]);return T}function An(o,u){var l=-1,g=o.length;for(u||(u=pt(g));++l<g;)u[l]=o[l];return u}function $n(o,u,l,g){var b=!l;l||(l={});for(var E=-1,O=u.length;++E<O;){var R=u[E],W=g?g(l[R],o[R],R,l,o):n;W===n&&(W=o[R]),b?Rr(l,R,W):Fo(l,R,W)}return l}function ji(o,u){return function(l,g){var b=ie(l)?uh:_s,E=u?u():{};return b(l,o,Yt(g,2),E)}}function Mi(o){return ue(function(u,l){var g=-1,b=l.length,E=b>1?l[b-1]:n,O=b>2?l[2]:n;for(E=o.length>3&&typeof E=="function"?(b--,E):n,O&&Ue(l[0],l[1],O)&&(E=b<3?n:E,b=1),u=zt(u);++g<b;){var R=l[g];R&&o(u,R,g,E)}return u})}function Aa(o,u){return function(l,g){if(l==null)return l;if(!$e(l))return o(l,g);for(var b=l.length,E=u?b:-1,O=zt(l);(u?E--:++E<b)&&g(O[E],E,O)!==!1;);return l}}function Zs(o){return function(u,l,g){for(var b=-1,E=zt(u),O=g(u),R=O.length;R--;){var W=O[o?R:++b];if(l(E[W],W,E)===!1)break}return u}}function Eu(o){return function(u){var l=ha(u=we(u))?xr(u):n,g=l?l[0]:u.charAt(0),b=l?Ur(l,1).join(""):u.slice(1);return g[o]()+b}}function Lo(o){return function(u){return Jr(fu(li(u).replace(Mc,"")),o,"")}}function zo(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Go(o.prototype),g=o.apply(l,u);return We(g)?g:l}}function va(o){return function(u,l,g){var b=zt(u);if(!$e(u)){var E=Yt(l,3);u=en(u),l=function(R){return E(b[R],R,b)}}var O=o(u,l,g);return O>-1?b[E?u[O]:O]:n}}function Uo(o){return Ei(function(u){var l=u.length,g=l,b=or.prototype.thru;for(o&&u.reverse();g--;){var E=u[g];if(typeof E!="function")throw new Pe(t);if(b&&!O&&So(E)=="wrapper")var O=new or([],!0)}for(g=O?g:l;++g<l;){var R=So(E=u[g]),W=R=="wrapper"?gs(E):n;O=W&&Kn(W[0])&&W[1]==424&&!W[4].length&&W[9]==1?O[So(W[0])].apply(O,W[3]):E.length==1&&Kn(E)?O[R]():O.thru(E)}return function(){var A=arguments,_=A[0];if(O&&A.length==1&&ie(_))return O.plant(_).value();for(var T=0,U=l?u[T].apply(this,A):_;++T<l;)U=u[T].call(this,U);return U}})}function To(o,u,l,g,b,E,O,R,W,A){var _=u&a,T=1&u,U=2&u,G=24&u,Z=512&u,K=U?n:zo(o);return function tt(){for(var ut=arguments.length,ot=pt(ut),wt=ut;wt--;)ot[wt]=arguments[wt];if(G)var yt=vi(tt),jt=function(Ht,ye){for(var oe=Ht.length,xe=0;oe--;)Ht[oe]===ye&&++xe;return xe}(ot,yt);if(g&&(ot=al(ot,g,b,G)),E&&(ot=Sl(ot,E,O,G)),ut-=jt,G&&ut<A){var xt=Di(ot,yt);return ds(o,u,To,tt.placeholder,l,ot,xt,R,W,A-ut)}var It=T?l:this,ae=U?It[o]:o;return ut=ot.length,R?ot=function(Ht,ye){for(var oe=Ht.length,xe=on(ye.length,oe),Ve=An(Ht);xe--;){var an=ye[xe];Ht[xe]=ur(an,oe)?Ve[an]:n}return Ht}(ot,R):Z&&ut>1&&ot.reverse(),_&&W<ut&&(ot.length=W),this&&this!==ze&&this instanceof tt&&(ae=K||zo(ae)),ae.apply(It,ot)}}function oo(o,u){return function(l,g){return function(b,E,O,R){return bn(b,function(W,A,_){E(R,O(W),A,_)}),R}(l,o,u(g),{})}}function eo(o,u){return function(l,g){var b;if(l===n&&g===n)return u;if(l!==n&&(b=l),g!==n){if(b===n)return g;typeof l=="string"||typeof g=="string"?(l=fn(l),g=fn(g)):(l=Qr(l),g=Qr(g)),b=o(l,g)}return b}}function Oo(o){return Ei(function(u){return u=Be(u,Ln(Yt())),ue(function(l){var g=this;return o(u,function(b){return Mn(b,g,l)})})})}function Xo(o,u){var l=(u=u===n?" ":fn(u)).length;if(l<2)return l?Us(u,o):u;var g=Us(u,Ua(o/Wr(u)));return ha(u)?Ur(xr(g),0,o).join(""):g.slice(0,o)}function Ku(o){return function(u,l,g){return g&&typeof g!="number"&&Ue(u,l,g)&&(l=g=n),u=ui(u),l===n?(l=u,u=0):l=ui(l),function(b,E,O,R){for(var W=-1,A=sn(Ua((E-b)/(O||1)),0),_=pt(A);A--;)_[R?A:++W]=b,b+=O;return _}(u,l,g=g===n?u<l?1:-1:ui(g),o)}}function Ka(o){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Qe(u),l=Qe(l)),o(u,l)}}function ds(o,u,l,g,b,E,O,R,W,A){var _=8&u;u|=_?i:64,4&(u&=~(_?64:i))||(u&=-4);var T=[o,u,b,_?E:n,_?O:n,_?n:E,_?n:O,R,W,A],U=l.apply(n,T);return Kn(o)&&kl(U,T),U.placeholder=g,As(U,o,u)}function ra(o){var u=mn[o];return function(l,g){if(l=Qe(l),(g=g==null?0:on(se(g),292))&&Nc(l)){var b=(we(l)+"e").split("e");return+((b=(we(u(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return u(l)}}var of=ii&&1/ns(new ii([,-0]))[1]==s?function(o){return new ii(o)}:hl;function Ul(o){return function(u){var l=cn(u);return l==B?Gi(u):l==X?function(g){var b=-1,E=Array(g.size);return g.forEach(function(O){E[++b]=[O,O]}),E}(u):function(g,b){return Be(b,function(E){return[E,g[E]]})}(u,o(u))}}function gr(o,u,l,g,b,E,O,R){var W=2&u;if(!W&&typeof o!="function")throw new Pe(t);var A=g?g.length:0;if(A||(u&=-97,g=b=n),O=O===n?O:sn(se(O),0),R=R===n?R:se(R),A-=b?b.length:0,64&u){var _=g,T=b;g=b=n}var U=W?n:gs(o),G=[o,u,l,g,b,_,T,E,O,R];if(U&&function(K,tt){var ut=K[1],ot=tt[1],wt=ut|ot,yt=wt<131,jt=ot==a&&ut==8||ot==a&&ut==256&&K[7].length<=tt[8]||ot==384&&tt[7].length<=tt[8]&&ut==8;if(!yt&&!jt)return K;1&ot&&(K[2]=tt[2],wt|=1&ut?0:4);var xt=tt[3];if(xt){var It=K[3];K[3]=It?al(It,xt,tt[4]):xt,K[4]=It?Di(K[3],r):tt[4]}(xt=tt[5])&&(It=K[5],K[5]=It?Sl(It,xt,tt[6]):xt,K[6]=It?Di(K[5],r):tt[6]),(xt=tt[7])&&(K[7]=xt),ot&a&&(K[8]=K[8]==null?tt[8]:on(K[8],tt[8])),K[9]==null&&(K[9]=tt[9]),K[0]=tt[0],K[1]=wt}(G,U),o=G[0],u=G[1],l=G[2],g=G[3],b=G[4],!(R=G[9]=G[9]===n?W?0:o.length:sn(G[9]-A,0))&&24&u&&(u&=-25),u&&u!=1)Z=u==8||u==16?function(K,tt,ut){var ot=zo(K);return function wt(){for(var yt=arguments.length,jt=pt(yt),xt=yt,It=vi(wt);xt--;)jt[xt]=arguments[xt];var ae=yt<3&&jt[0]!==It&&jt[yt-1]!==It?[]:Di(jt,It);return(yt-=ae.length)<ut?ds(K,tt,To,wt.placeholder,n,jt,ae,n,n,ut-yt):Mn(this&&this!==ze&&this instanceof wt?ot:K,this,jt)}}(o,u,R):u!=i&&u!=33||b.length?To.apply(n,G):function(K,tt,ut,ot){var wt=1&tt,yt=zo(K);return function jt(){for(var xt=-1,It=arguments.length,ae=-1,Ht=ot.length,ye=pt(Ht+It),oe=this&&this!==ze&&this instanceof jt?yt:K;++ae<Ht;)ye[ae]=ot[ae];for(;It--;)ye[ae++]=arguments[++xt];return Mn(oe,wt?ut:this,ye)}}(o,u,l,g);else var Z=function(K,tt,ut){var ot=1&tt,wt=zo(K);return function yt(){return(this&&this!==ze&&this instanceof yt?wt:K).apply(ot?ut:this,arguments)}}(o,u,l);return As((U?Yl:kl)(Z,G),o,u)}function $s(o,u,l,g){return o===n||Mr(o,hi[l])&&!Ce.call(g,l)?u:o}function Ga(o,u,l,g,b,E){return We(o)&&We(u)&&(E.set(u,o),Si(o,u,n,Ga,E),E.delete(u)),o}function Nf(o){return la(o)?n:o}function El(o,u,l,g,b,E){var O=1&l,R=o.length,W=u.length;if(R!=W&&!(O&&W>R))return!1;var A=E.get(o),_=E.get(u);if(A&&_)return A==u&&_==o;var T=-1,U=!0,G=2&l?new St:n;for(E.set(o,u),E.set(u,o);++T<R;){var Z=o[T],K=u[T];if(g)var tt=O?g(K,Z,T,u,o,E):g(Z,K,T,o,u,E);if(tt!==n){if(tt)continue;U=!1;break}if(G){if(!Is(u,function(ut,ot){if(!fi(G,ot)&&(Z===ut||b(Z,ut,l,g,E)))return G.push(ot)})){U=!1;break}}else if(Z!==K&&!b(Z,K,l,g,E)){U=!1;break}}return E.delete(o),E.delete(u),U}function Ei(o){return no(go(o,n,Oa),o+"")}function Ya(o){return Ea(o,en,mr)}function po(o){return Ea(o,Xn,ua)}var gs=sa?function(o){return sa.get(o)}:hl;function So(o){for(var u=o.name+"",l=Mo[u],g=Ce.call(Mo,u)?l.length:0;g--;){var b=l[g],E=b.func;if(E==null||E==o)return b.name}return u}function vi(o){return(Ce.call(P,"placeholder")?P:o).placeholder}function Yt(){var o=P.iteratee||ic;return o=o===ic?Cu:o,arguments.length?o(arguments[0],arguments[1]):o}function Jo(o,u){var l,g,b=o.__data__;return((g=typeof(l=u))=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null)?b[typeof u=="string"?"string":"hash"]:b.map}function er(o){for(var u=en(o),l=u.length;l--;){var g=u[l],b=o[g];u[l]=[g,b,Wl(b)]}return u}function si(o,u){var l=function(g,b){return g==null?n:g[b]}(o,u);return qu(l)?l:n}var mr=ou?function(o){return o==null?[]:(o=zt(o),Br(ou(o),function(u){return Oc.call(o,u)}))}:qr,ua=ou?function(o){for(var u=[];o;)Er(u,mr(o)),o=ea(o);return u}:qr,cn=tn;function $l(o,u,l){for(var g=-1,b=(u=ai(u,o)).length,E=!1;++g<b;){var O=Nn(u[g]);if(!(E=o!=null&&l(o,O)))break;o=o[O]}return E||++g!=b?E:!!(b=o==null?0:o.length)&&Gn(b)&&ur(O,b)&&(ie(o)||Eo(o))}function Qo(o){return typeof o.constructor!="function"||Zr(o)?{}:Go(ea(o))}function sr(o){return ie(o)||Eo(o)||!!(jl&&o&&o[jl])}function ur(o,u){var l=typeof o;return!!(u=u??c)&&(l=="number"||l!="symbol"&&Ui.test(o))&&o>-1&&o%1==0&&o<u}function Ue(o,u,l){if(!We(l))return!1;var g=typeof u;return!!(g=="number"?$e(l)&&ur(u,l.length):g=="string"&&u in l)&&Mr(l[u],o)}function Dr(o,u){if(ie(o))return!1;var l=typeof o;return!(l!="number"&&l!="symbol"&&l!="boolean"&&o!=null&&!jn(o))||Vt.test(o)||!bi.test(o)||u!=null&&o in zt(u)}function Kn(o){var u=So(o),l=P[u];if(typeof l!="function"||!(u in ce.prototype))return!1;if(o===l)return!0;var g=gs(l);return!!g&&o===g[0]}(il&&cn(new il(new ArrayBuffer(1)))!=gt||_a&&cn(new _a)!=B||oa&&cn(oa.resolve())!=q||ii&&cn(new ii)!=X||Ko&&cn(new Ko)!=ct)&&(cn=function(o){var u=tn(o),l=u==z?o.constructor:n,g=l?so(l):"";if(g)switch(g){case gf:return gt;case bl:return B;case cc:return q;case rf:return X;case Jf:return ct}return u});var Al=Ca?yi:Ir;function Zr(o){var u=o&&o.constructor;return o===(typeof u=="function"&&u.prototype||hi)}function Wl(o){return o==o&&!We(o)}function dc(o,u){return function(l){return l!=null&&l[o]===u&&(u!==n||o in zt(l))}}function go(o,u,l){return u=sn(u===n?o.length-1:u,0),function(){for(var g=arguments,b=-1,E=sn(g.length-u,0),O=pt(E);++b<E;)O[b]=g[u+b];b=-1;for(var R=pt(u+1);++b<u;)R[b]=g[b];return R[u]=l(O),Mn(o,this,R)}}function Ws(o,u){return u.length<2?o:Vr(o,Un(u,0,-1))}function ao(o,u){if((u!=="constructor"||typeof o[u]!="function")&&u!="__proto__")return o[u]}var kl=sl(Yl),gi=Of||function(o,u){return ze.setTimeout(o,u)},no=sl(hs);function As(o,u,l){var g=u+"";return no(o,function(b,E){var O=E.length;if(!O)return b;var R=O-1;return E[R]=(O>1?"& ":"")+E[R],E=E.join(O>2?", ":" "),b.replace(Rt,`{
/* [wrapped with `+E+`] */
`)}(g,function(b,E){return Bn(h,function(O){var R="_."+O[0];E&O[1]&&!br(b,R)&&b.push(R)}),b.sort()}(function(b){var E=b.match(Xt);return E?E[1].split(Kt):[]}(g),l)))}function sl(o){var u=0,l=0;return function(){var g=pa(),b=16-(g-l);if(l=g,b>0){if(++u>=800)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Hs(o,u){var l=-1,g=o.length,b=g-1;for(u=u===n?g:u;++l<u;){var E=fs(l,b),O=o[E];o[E]=o[l],o[l]=O}return o.length=u,o}var Ic=function(){var o=Ju(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(rt,function(b,E,O,R){g.push(O?R.replace(Ze,"$1"):E||b)}),g},function(l){return u.size===500&&u.clear(),l}),u=o.cache;return o}();function Nn(o){if(typeof o=="string"||jn(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function so(o){if(o!=null){try{return pi.call(o)}catch{}try{return o+""}catch{}}return""}function Au(o){if(o instanceof ce)return o.clone();var u=new or(o.__wrapped__,o.__chain__);return u.__actions__=An(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var Ql=ue(function(o,u){return Je(o)?Ro(o,gn(u,1,Je,!0)):[]}),mf=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),Yt(l,2)):[]}),ch=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),n,l):[]});function Zl(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),jr(o,Yt(u,3),b)}function uo(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g-1;return l!==n&&(b=se(l),b=l<0?sn(g+b,0):on(b,g-1)),jr(o,Yt(u,3),b,!0)}function Oa(o){return o!=null&&o.length?gn(o,1):[]}function lo(o){return o&&o.length?o[0]:n}var Ml=ue(function(o){var u=Be(o,wr);return u.length&&u[0]===o[0]?pc(u):[]}),vf=ue(function(o){var u=Ar(o),l=Be(o,wr);return u===Ar(l)?u=n:l.pop(),l.length&&l[0]===o[0]?pc(l,Yt(u,2)):[]}),yf=ue(function(o){var u=Ar(o),l=Be(o,wr);return(u=typeof u=="function"?u:n)&&l.pop(),l.length&&l[0]===o[0]?pc(l,n,u):[]});function Ar(o){var u=o==null?0:o.length;return u?o[u-1]:n}var ul=ue(tu);function tu(o,u){return o&&o.length&&u&&u.length?Dl(o,u):o}var fh=Ei(function(o,u){var l=o==null?0:o.length,g=Gl(o,u);return zl(o,Be(u,function(b){return ur(b,l)?+b:b}).sort(ps)),g});function Gu(o){return o==null?o:xh.call(o)}var Dc=ue(function(o){return Yn(gn(o,1,Je,!0))}),Hl=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Yn(gn(o,1,Je,!0),Yt(u,2))}),Qf=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Yn(gn(o,1,Je,!0),n,u)});function Cc(o){if(!o||!o.length)return[];var u=0;return o=Br(o,function(l){if(Je(l))return u=sn(l.length,u),!0}),Il(u,function(l){return Be(o,Da(l))})}function su(o,u){if(!o||!o.length)return[];var l=Cc(o);return u==null?l:Be(l,function(g){return Mn(u,n,g)})}var Mh=ue(function(o,u){return Je(o)?Ro(o,u):[]}),Fh=ue(function(o){return Ri(Br(o,Je))}),Ph=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Ri(Br(o,Je),Yt(u,2))}),hh=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Ri(Br(o,Je),n,u)}),Th=ue(Cc),If=ue(function(o){var u=o.length,l=u>1?o[u-1]:n;return l=typeof l=="function"?(o.pop(),l):n,su(o,l)});function Zf(o){var u=P(o);return u.__chain__=!0,u}function Yu(o,u){return u(o)}var th=Ei(function(o){var u=o.length,l=u?o[0]:0,g=this.__wrapped__,b=function(E){return Gl(E,o)};return!(u>1||this.__actions__.length)&&g instanceof ce&&ur(l)?((g=g.slice(l,+l+(u?1:0))).__actions__.push({func:Yu,args:[b],thisArg:n}),new or(g,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E})):this.thru(b)}),ms=ji(function(o,u,l){Ce.call(o,l)?++o[l]:Rr(o,l,1)}),Bf=va(Zl),af=va(uo);function wf(o,u){return(ie(o)?Bn:ki)(o,Yt(u,3))}function sf(o,u){return(ie(o)?tf:Ss)(o,Yt(u,3))}var Dh=ji(function(o,u,l){Ce.call(o,l)?o[l].push(u):Rr(o,l,[u])}),Rf=ue(function(o,u,l){var g=-1,b=typeof u=="function",E=$e(o)?pt(o.length):[];return ki(o,function(O){E[++g]=b?Mn(u,O,l):Po(O,u,l)}),E}),tc=ji(function(o,u,l){Rr(o,l,u)});function uu(o,u){return(ie(o)?Be:ar)(o,Yt(u,3))}var eh=ji(function(o,u,l){o[l?0:1].push(u)},function(){return[[],[]]}),Ch=ue(function(o,u){if(o==null)return[];var l=u.length;return l>1&&Ue(o,u[0],u[1])?u=[]:l>2&&Ue(u[0],u[1],u[2])&&(u=[u[0]]),Qs(o,gn(u,1),[])}),Xu=Xf||function(){return ze.Date.now()};function uf(o,u,l){return u=l?n:u,u=o&&u==null?o.length:u,gr(o,a,n,n,n,n,u)}function Bc(o,u){var l;if(typeof u!="function")throw new Pe(t);return o=se(o),function(){return--o>0&&(l=u.apply(this,arguments)),o<=1&&(u=n),l}}var ec=ue(function(o,u,l){var g=1;if(l.length){var b=Di(l,vi(ec));g|=i}return gr(o,g,u,l,b)}),bf=ue(function(o,u,l){var g=3;if(l.length){var b=Di(l,vi(bf));g|=i}return gr(u,g,o,l,b)});function jf(o,u,l){var g,b,E,O,R,W,A=0,_=!1,T=!1,U=!0;if(typeof o!="function")throw new Pe(t);function G(ot){var wt=g,yt=b;return g=b=n,A=ot,O=o.apply(yt,wt)}function Z(ot){var wt=ot-W;return W===n||wt>=u||wt<0||T&&ot-A>=E}function K(){var ot=Xu();if(Z(ot))return tt(ot);R=gi(K,function(wt){var yt=u-(wt-W);return T?on(yt,E-(wt-A)):yt}(ot))}function tt(ot){return R=n,U&&g?G(ot):(g=b=n,O)}function ut(){var ot=Xu(),wt=Z(ot);if(g=arguments,b=this,W=ot,wt){if(R===n)return function(yt){return A=yt,R=gi(K,u),_?G(yt):O}(W);if(T)return Jl(R),R=gi(K,u),G(W)}return R===n&&(R=gi(K,u)),O}return u=Qe(u)||0,We(l)&&(_=!!l.leading,E=(T="maxWait"in l)?sn(Qe(l.maxWait)||0,u):E,U="trailing"in l?!!l.trailing:U),ut.cancel=function(){R!==n&&Jl(R),A=0,g=W=b=R=n},ut.flush=function(){return R===n?O:tt(Xu())},ut}var ia=ue(function(o,u){return $a(o,1,u)}),ka=ue(function(o,u,l){return $a(o,Qe(u)||0,l)});function Ju(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Pe(t);var l=function(){var g=arguments,b=u?u.apply(this,g):g[0],E=l.cache;if(E.has(b))return E.get(b);var O=o.apply(this,g);return l.cache=E.set(b,O)||E,O};return l.cache=new(Ju.Cache||Fr),l}function ks(o){if(typeof o!="function")throw new Pe(t);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}Ju.Cache=Fr;var nh=Xl(function(o,u){var l=(u=u.length==1&&ie(u[0])?Be(u[0],Ln(Yt())):Be(gn(u,1),Ln(Yt()))).length;return ue(function(g){for(var b=-1,E=on(g.length,l);++b<E;)g[b]=u[b].call(this,g[b]);return Mn(o,this,g)})}),Fl=ue(function(o,u){var l=Di(u,vi(Fl));return gr(o,i,n,u,l)}),lf=ue(function(o,u){var l=Di(u,vi(lf));return gr(o,64,n,u,l)}),ll=Ei(function(o,u){return gr(o,256,n,n,n,u)});function Mr(o,u){return o===u||o!=o&&u!=u}var Lf=Ka(Ho),gc=Ka(function(o,u){return o>=u}),Eo=Js(function(){return arguments}())?Js:function(o){return Le(o)&&Ce.call(o,"callee")&&!Oc.call(o,"callee")},ie=pt.isArray,_c=Ru?Ln(Ru):function(o){return Le(o)&&tn(o)==ft};function $e(o){return o!=null&&Gn(o.length)&&!yi(o)}function Je(o){return Le(o)&&$e(o)}var Nr=xc||Ir,$o=Ji?Ln(Ji):function(o){return Le(o)&&tn(o)==C};function lu(o){if(!Le(o))return!1;var u=tn(o);return u==k||u=="[object DOMException]"||typeof o.message=="string"&&typeof o.name=="string"&&!la(o)}function yi(o){if(!We(o))return!1;var u=tn(o);return u==M||u==N||u=="[object AsyncFunction]"||u=="[object Proxy]"}function cu(o){return typeof o=="number"&&o==se(o)}function Gn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function We(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Le(o){return o!=null&&typeof o=="object"}var Qn=qn?Ln(qn):function(o){return Le(o)&&cn(o)==B};function lr(o){return typeof o=="number"||Le(o)&&tn(o)==L}function la(o){if(!Le(o)||tn(o)!=z)return!1;var u=ea(o);if(u===null)return!0;var l=Ce.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&pi.call(l)==Yc}var Li=rl?Ln(rl):function(o){return Le(o)&&tn(o)==V},Qu=Zc?Ln(Zc):function(o){return Le(o)&&cn(o)==X};function ku(o){return typeof o=="string"||!ie(o)&&Le(o)&&tn(o)==nt}function jn(o){return typeof o=="symbol"||Le(o)&&tn(o)==it}var xn=wc?Ln(wc):function(o){return Le(o)&&Gn(o.length)&&!!De[tn(o)]},Wo=Ka(dr),Ae=Ka(function(o,u){return o<=u});function cl(o){if(!o)return[];if($e(o))return ku(o)?xr(o):An(o);if(io&&o[io])return function(l){for(var g,b=[];!(g=l.next()).done;)b.push(g.value);return b}(o[io]());var u=cn(o);return(u==B?Gi:u==X?ns:Zn)(o)}function ui(o){return o?(o=Qe(o))===s||o===-1/0?17976931348623157e292*(o<0?-1:1):o==o?o:0:o===0?o:0}function se(o){var u=ui(o),l=u%1;return u==u?l?u-l:u:0}function vs(o){return o?Qi(se(o),0,d):0}function Qe(o){if(typeof o=="number")return o;if(jn(o))return f;if(We(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=We(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Bl(o);var l=rn.test(o);return l||Yi.test(o)?tp(o.slice(2),l?2:8):je.test(o)?f:+o}function ys(o){return $n(o,Xn(o))}function we(o){return o==null?"":fn(o)}var Oh=Mi(function(o,u){if(Zr(u)||$e(u))$n(u,en(u),o);else for(var l in u)Ce.call(u,l)&&Fo(o,l,u[l])}),mo=Mi(function(o,u){$n(u,Xn(u),o)}),Vs=Mi(function(o,u,l,g){$n(u,Xn(u),o,g)}),nc=Mi(function(o,u,l,g){$n(u,en(u),o,g)}),Pn=Ei(Gl),Na=ue(function(o,u){o=zt(o);var l=-1,g=u.length,b=g>2?u[2]:n;for(b&&Ue(u[0],u[1],b)&&(g=1);++l<g;)for(var E=u[l],O=Xn(E),R=-1,W=O.length;++R<W;){var A=O[R],_=o[A];(_===n||Mr(_,hi[A])&&!Ce.call(o,A))&&(o[A]=E[A])}return o}),as=ue(function(o){return o.push(n,Ga),Mn(Fs,n,o)});function rc(o,u,l){var g=o==null?n:Vr(o,u);return g===n?l:g}function Fi(o,u){return o!=null&&$l(o,u,xl)}var eu=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),o[u]=l},Tl(_n)),rh=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),Ce.call(o,u)?o[u].push(l):o[u]=[l]},Yt),Ms=ue(Po);function en(o){return $e(o)?Wu(o):Ta(o)}function Xn(o){return $e(o)?Wu(o,!0):function(u){if(!We(u))return function(E){var O=[];if(E!=null)for(var R in zt(E))O.push(R);return O}(u);var l=Zr(u),g=[];for(var b in u)(b!="constructor"||!l&&Ce.call(u,b))&&g.push(b);return g}(o)}var Mu=Mi(function(o,u,l){Si(o,u,l)}),Fs=Mi(function(o,u,l,g){Si(o,u,l,g)}),Fu=Ei(function(o,u){var l={};if(o==null)return l;var g=!1;u=Be(u,function(E){return E=ai(E,o),g||(g=E.length>1),E}),$n(o,po(o),l),g&&(l=yr(l,7,Nf));for(var b=u.length;b--;)oi(l,u[b]);return l}),ph=Ei(function(o,u){return o==null?{}:function(l,g){return Zi(l,g,function(b,E){return Fi(l,E)})}(o,u)});function Wn(o,u){if(o==null)return{};var l=Be(po(o),function(g){return[g]});return u=Yt(u),Zi(o,l,function(g,b){return u(g,b[0])})}var Pl=Ul(en),Sc=Ul(Xn);function Zn(o){return o==null?[]:yl(o,en(o))}var Tn=Lo(function(o,u,l){return u=u.toLowerCase(),o+(l?ti(u):u)});function ti(o){return Zo(we(o).toLowerCase())}function li(o){return(o=we(o))&&o.replace(xo,Gc).replace(ln,"")}var No=Lo(function(o,u,l){return o+(l?"-":"")+u.toLowerCase()}),Xa=Lo(function(o,u,l){return o+(l?" ":"")+u.toLowerCase()}),Ec=Eu("toLowerCase"),co=Lo(function(o,u,l){return o+(l?"_":"")+u.toLowerCase()}),Rc=Lo(function(o,u,l){return o+(l?" ":"")+Zo(u)}),Pu=Lo(function(o,u,l){return o+(l?" ":"")+u.toUpperCase()}),Zo=Eu("toUpperCase");function fu(o,u,l){return o=we(o),(u=l?n:u)===n?function(g){return es.test(g)}(o)?function(g){return g.match(hr)||[]}(o):function(g){return g.match(ge)||[]}(o):o.match(u)||[]}var Ps=ue(function(o,u){try{return Mn(o,n,u)}catch(l){return lu(l)?l:new Jt(l)}}),Ja=Ei(function(o,u){return Bn(u,function(l){l=Nn(l),Rr(o,l,ec(o[l],o))}),o});function Tl(o){return function(){return o}}var hu=Uo(),fl=Uo(!0);function _n(o){return o}function ic(o){return Cu(typeof o=="function"?o:yr(o,1))}var ca=ue(function(o,u){return function(l){return Po(l,o,u)}}),Jc=ue(function(o,u){return function(l){return Po(o,l,u)}});function Qa(o,u,l){var g=en(u),b=ma(u,g);l!=null||We(u)&&(b.length||!g.length)||(l=u,u=o,o=this,b=ma(u,en(u)));var E=!(We(l)&&"chain"in l&&!l.chain),O=yi(o);return Bn(b,function(R){var W=u[R];o[R]=W,O&&(o.prototype[R]=function(){var A=this.__chain__;if(E||A){var _=o(this.__wrapped__);return(_.__actions__=An(this.__actions__)).push({func:W,args:arguments,thisArg:o}),_.__chain__=A,_}return W.apply(o,Er([this.value()],arguments))})}),o}function hl(){}var Ac=Oo(Be),cf=Oo(Cs),xf=Oo(Is);function Io(o){return Dr(o)?Da(Nn(o)):function(u){return function(l){return Vr(l,u)}}(o)}var fr=Ku(),ta=Ku(!0);function qr(){return[]}function Ir(){return!1}var Ma,jc=eo(function(o,u){return o+u},0),ws=ra("ceil"),Zu=eo(function(o,u){return o/u},1),ff=ra("floor"),zf=eo(function(o,u){return o*u},1),oc=ra("round"),Qc=eo(function(o,u){return o-u},0);return P.after=function(o,u){if(typeof u!="function")throw new Pe(t);return o=se(o),function(){if(--o<1)return u.apply(this,arguments)}},P.ary=uf,P.assign=Oh,P.assignIn=mo,P.assignInWith=Vs,P.assignWith=nc,P.at=Pn,P.before=Bc,P.bind=ec,P.bindAll=Ja,P.bindKey=bf,P.castArray=function(){if(!arguments.length)return[];var o=arguments[0];return ie(o)?o:[o]},P.chain=Zf,P.chunk=function(o,u,l){u=(l?Ue(o,u,l):u===n)?1:sn(se(u),0);var g=o==null?0:o.length;if(!g||u<1)return[];for(var b=0,E=0,O=pt(Ua(g/u));b<g;)O[E++]=Un(o,b,b+=u);return O},P.compact=function(o){for(var u=-1,l=o==null?0:o.length,g=0,b=[];++u<l;){var E=o[u];E&&(b[g++]=E)}return b},P.concat=function(){var o=arguments.length;if(!o)return[];for(var u=pt(o-1),l=arguments[0],g=o;g--;)u[g-1]=arguments[g];return Er(ie(l)?An(l):[l],gn(u,1))},P.cond=function(o){var u=o==null?0:o.length,l=Yt();return o=u?Be(o,function(g){if(typeof g[1]!="function")throw new Pe(t);return[l(g[0]),g[1]]}):[],ue(function(g){for(var b=-1;++b<u;){var E=o[b];if(Mn(E[0],this,g))return Mn(E[1],this,g)}})},P.conforms=function(o){return function(u){var l=en(u);return function(g){return Vu(g,u,l)}}(yr(o,1))},P.constant=Tl,P.countBy=ms,P.create=function(o,u){var l=Go(o);return u==null?l:Hu(l,u)},P.curry=function o(u,l,g){var b=gr(u,8,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.curryRight=function o(u,l,g){var b=gr(u,16,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.debounce=jf,P.defaults=Na,P.defaultsDeep=as,P.defer=ia,P.delay=ka,P.difference=Ql,P.differenceBy=mf,P.differenceWith=ch,P.drop=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=l||u===n?1:se(u))<0?0:u,g):[]},P.dropRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,0,(u=g-(u=l||u===n?1:se(u)))<0?0:u):[]},P.dropRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0,!0):[]},P.dropWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0):[]},P.fill=function(o,u,l,g){var b=o==null?0:o.length;return b?(l&&typeof l!="number"&&Ue(o,u,l)&&(l=0,g=b),function(E,O,R,W){var A=E.length;for((R=se(R))<0&&(R=-R>A?0:A+R),(W=W===n||W>A?A:se(W))<0&&(W+=A),W=R>W?0:vs(W);R<W;)E[R++]=O;return E}(o,u,l,g)):[]},P.filter=function(o,u){return(ie(o)?Br:au)(o,Yt(u,3))},P.flatMap=function(o,u){return gn(uu(o,u),1)},P.flatMapDeep=function(o,u){return gn(uu(o,u),s)},P.flatMapDepth=function(o,u,l){return l=l===n?1:se(l),gn(uu(o,u),l)},P.flatten=Oa,P.flattenDeep=function(o){return o!=null&&o.length?gn(o,s):[]},P.flattenDepth=function(o,u){return o!=null&&o.length?gn(o,u=u===n?1:se(u)):[]},P.flip=function(o){return gr(o,512)},P.flow=hu,P.flowRight=fl,P.fromPairs=function(o){for(var u=-1,l=o==null?0:o.length,g={};++u<l;){var b=o[u];g[b[0]]=b[1]}return g},P.functions=function(o){return o==null?[]:ma(o,en(o))},P.functionsIn=function(o){return o==null?[]:ma(o,Xn(o))},P.groupBy=Dh,P.initial=function(o){return o!=null&&o.length?Un(o,0,-1):[]},P.intersection=Ml,P.intersectionBy=vf,P.intersectionWith=yf,P.invert=eu,P.invertBy=rh,P.invokeMap=Rf,P.iteratee=ic,P.keyBy=tc,P.keys=en,P.keysIn=Xn,P.map=uu,P.mapKeys=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,u(g,b,E),g)}),l},P.mapValues=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,b,u(g,b,E))}),l},P.matches=function(o){return zs(yr(o,1))},P.matchesProperty=function(o,u){return Wi(o,yr(u,1))},P.memoize=Ju,P.merge=Mu,P.mergeWith=Fs,P.method=ca,P.methodOf=Jc,P.mixin=Qa,P.negate=ks,P.nthArg=function(o){return o=se(o),ue(function(u){return _u(u,o)})},P.omit=Fu,P.omitBy=function(o,u){return Wn(o,ks(Yt(u)))},P.once=function(o){return Bc(2,o)},P.orderBy=function(o,u,l,g){return o==null?[]:(ie(u)||(u=u==null?[]:[u]),ie(l=g?n:l)||(l=l==null?[]:[l]),Qs(o,u,l))},P.over=Ac,P.overArgs=nh,P.overEvery=cf,P.overSome=xf,P.partial=Fl,P.partialRight=lf,P.partition=eh,P.pick=ph,P.pickBy=Wn,P.property=Io,P.propertyOf=function(o){return function(u){return o==null?n:Vr(o,u)}},P.pull=ul,P.pullAll=tu,P.pullAllBy=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,Yt(l,2)):o},P.pullAllWith=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,n,l):o},P.pullAt=fh,P.range=fr,P.rangeRight=ta,P.rearg=ll,P.reject=function(o,u){return(ie(o)?Br:au)(o,ks(Yt(u,3)))},P.remove=function(o,u){var l=[];if(!o||!o.length)return l;var g=-1,b=[],E=o.length;for(u=Yt(u,3);++g<E;){var O=o[g];u(O,g,o)&&(l.push(O),b.push(g))}return zl(o,b),l},P.rest=function(o,u){if(typeof o!="function")throw new Pe(t);return ue(o,u=u===n?u:se(u))},P.reverse=Gu,P.sampleSize=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),(ie(o)?Bi:mi)(o,u)},P.set=function(o,u,l){return o==null?o:os(o,u,l)},P.setWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:os(o,u,l,g)},P.shuffle=function(o){return(ie(o)?Kl:ol)(o)},P.slice=function(o,u,l){var g=o==null?0:o.length;return g?(l&&typeof l!="number"&&Ue(o,u,l)?(u=0,l=g):(u=u==null?0:se(u),l=l===n?g:se(l)),Un(o,u,l)):[]},P.sortBy=Ch,P.sortedUniq=function(o){return o&&o.length?Or(o):[]},P.sortedUniqBy=function(o,u){return o&&o.length?Or(o,Yt(u,2)):[]},P.split=function(o,u,l){return l&&typeof l!="number"&&Ue(o,u,l)&&(u=l=n),(l=l===n?d:l>>>0)?(o=we(o))&&(typeof u=="string"||u!=null&&!Li(u))&&!(u=fn(u))&&ha(o)?Ur(xr(o),0,l):o.split(u,l):[]},P.spread=function(o,u){if(typeof o!="function")throw new Pe(t);return u=u==null?0:sn(se(u),0),ue(function(l){var g=l[u],b=Ur(l,0,u);return g&&Er(b,g),Mn(o,this,b)})},P.tail=function(o){var u=o==null?0:o.length;return u?Un(o,1,u):[]},P.take=function(o,u,l){return o&&o.length?Un(o,0,(u=l||u===n?1:se(u))<0?0:u):[]},P.takeRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=g-(u=l||u===n?1:se(u)))<0?0:u,g):[]},P.takeRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!1,!0):[]},P.takeWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3)):[]},P.tap=function(o,u){return u(o),o},P.throttle=function(o,u,l){var g=!0,b=!0;if(typeof o!="function")throw new Pe(t);return We(l)&&(g="leading"in l?!!l.leading:g,b="trailing"in l?!!l.trailing:b),jf(o,u,{leading:g,maxWait:u,trailing:b})},P.thru=Yu,P.toArray=cl,P.toPairs=Pl,P.toPairsIn=Sc,P.toPath=function(o){return ie(o)?Be(o,Nn):jn(o)?[o]:An(Ic(we(o)))},P.toPlainObject=ys,P.transform=function(o,u,l){var g=ie(o),b=g||Nr(o)||xn(o);if(u=Yt(u,4),l==null){var E=o&&o.constructor;l=b?g?new E:[]:We(o)&&yi(E)?Go(ea(o)):{}}return(b?Bn:bn)(o,function(O,R,W){return u(l,O,R,W)}),l},P.unary=function(o){return uf(o,1)},P.union=Dc,P.unionBy=Hl,P.unionWith=Qf,P.uniq=function(o){return o&&o.length?Yn(o):[]},P.uniqBy=function(o,u){return o&&o.length?Yn(o,Yt(u,2)):[]},P.uniqWith=function(o,u){return u=typeof u=="function"?u:n,o&&o.length?Yn(o,n,u):[]},P.unset=function(o,u){return o==null||oi(o,u)},P.unzip=Cc,P.unzipWith=su,P.update=function(o,u,l){return o==null?o:na(o,u,di(l))},P.updateWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:na(o,u,di(l),g)},P.values=Zn,P.valuesIn=function(o){return o==null?[]:yl(o,Xn(o))},P.without=Mh,P.words=fu,P.wrap=function(o,u){return Fl(di(u),o)},P.xor=Fh,P.xorBy=Ph,P.xorWith=hh,P.zip=Th,P.zipObject=function(o,u){return Yo(o||[],u||[],Fo)},P.zipObjectDeep=function(o,u){return Yo(o||[],u||[],os)},P.zipWith=If,P.entries=Pl,P.entriesIn=Sc,P.extend=mo,P.extendWith=Vs,Qa(P,P),P.add=jc,P.attempt=Ps,P.camelCase=Tn,P.capitalize=ti,P.ceil=ws,P.clamp=function(o,u,l){return l===n&&(l=u,u=n),l!==n&&(l=(l=Qe(l))==l?l:0),u!==n&&(u=(u=Qe(u))==u?u:0),Qi(Qe(o),u,l)},P.clone=function(o){return yr(o,4)},P.cloneDeep=function(o){return yr(o,5)},P.cloneDeepWith=function(o,u){return yr(o,5,u=typeof u=="function"?u:n)},P.cloneWith=function(o,u){return yr(o,4,u=typeof u=="function"?u:n)},P.conformsTo=function(o,u){return u==null||Vu(o,u,en(u))},P.deburr=li,P.defaultTo=function(o,u){return o==null||o!=o?u:o},P.divide=Zu,P.endsWith=function(o,u,l){o=we(o),u=fn(u);var g=o.length,b=l=l===n?g:Qi(se(l),0,g);return(l-=u.length)>=0&&o.slice(l,b)==u},P.eq=Mr,P.escape=function(o){return(o=we(o))&&He.test(o)?o.replace(Oe,Tc):o},P.escapeRegExp=function(o){return(o=we(o))&&bt.test(o)?o.replace(dt,"\\$&"):o},P.every=function(o,u,l){var g=ie(o)?Cs:fc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.find=Bf,P.findIndex=Zl,P.findKey=function(o,u){return ql(o,Yt(u,3),bn)},P.findLast=af,P.findLastIndex=uo,P.findLastKey=function(o,u){return ql(o,Yt(u,3),Sa)},P.floor=ff,P.forEach=wf,P.forEachRight=sf,P.forIn=function(o,u){return o==null?o:hc(o,Yt(u,3),Xn)},P.forInRight=function(o,u){return o==null?o:Ha(o,Yt(u,3),Xn)},P.forOwn=function(o,u){return o&&bn(o,Yt(u,3))},P.forOwnRight=function(o,u){return o&&Sa(o,Yt(u,3))},P.get=rc,P.gt=Lf,P.gte=gc,P.has=function(o,u){return o!=null&&$l(o,u,Ls)},P.hasIn=Fi,P.head=lo,P.identity=_n,P.includes=function(o,u,l,g){o=$e(o)?o:Zn(o),l=l&&!g?se(l):0;var b=o.length;return l<0&&(l=sn(b+l,0)),ku(o)?l<=b&&o.indexOf(u,l)>-1:!!b&&Ii(o,u,l)>-1},P.indexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),Ii(o,u,b)},P.inRange=function(o,u,l){return u=ui(u),l===n?(l=u,u=0):l=ui(l),function(g,b,E){return g>=on(b,E)&&g<sn(b,E)}(o=Qe(o),u,l)},P.invoke=Ms,P.isArguments=Eo,P.isArray=ie,P.isArrayBuffer=_c,P.isArrayLike=$e,P.isArrayLikeObject=Je,P.isBoolean=function(o){return o===!0||o===!1||Le(o)&&tn(o)==w},P.isBuffer=Nr,P.isDate=$o,P.isElement=function(o){return Le(o)&&o.nodeType===1&&!la(o)},P.isEmpty=function(o){if(o==null)return!0;if($e(o)&&(ie(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||xn(o)||Eo(o)))return!o.length;var u=cn(o);if(u==B||u==X)return!o.size;if(Zr(o))return!Ta(o).length;for(var l in o)if(Ce.call(o,l))return!1;return!0},P.isEqual=function(o,u){return _o(o,u)},P.isEqualWith=function(o,u,l){var g=(l=typeof l=="function"?l:n)?l(o,u):n;return g===n?_o(o,u,n,l):!!g},P.isError=lu,P.isFinite=function(o){return typeof o=="number"&&Nc(o)},P.isFunction=yi,P.isInteger=cu,P.isLength=Gn,P.isMap=Qn,P.isMatch=function(o,u){return o===u||jo(o,u,er(u))},P.isMatchWith=function(o,u,l){return l=typeof l=="function"?l:n,jo(o,u,er(u),l)},P.isNaN=function(o){return lr(o)&&o!=+o},P.isNative=function(o){if(Al(o))throw new Jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qu(o)},P.isNil=function(o){return o==null},P.isNull=function(o){return o===null},P.isNumber=lr,P.isObject=We,P.isObjectLike=Le,P.isPlainObject=la,P.isRegExp=Li,P.isSafeInteger=function(o){return cu(o)&&o>=-9007199254740991&&o<=c},P.isSet=Qu,P.isString=ku,P.isSymbol=jn,P.isTypedArray=xn,P.isUndefined=function(o){return o===n},P.isWeakMap=function(o){return Le(o)&&cn(o)==ct},P.isWeakSet=function(o){return Le(o)&&tn(o)=="[object WeakSet]"},P.join=function(o,u){return o==null?"":Wh.call(o,u)},P.kebabCase=No,P.last=Ar,P.lastIndexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g;return l!==n&&(b=(b=se(l))<0?sn(g+b,0):on(b,g-1)),u==u?function(E,O,R){for(var W=R+1;W--;)if(E[W]===O)return W;return W}(o,u,b):jr(o,Bs,b,!0)},P.lowerCase=Xa,P.lowerFirst=Ec,P.lt=Wo,P.lte=Ae,P.max=function(o){return o&&o.length?Wa(o,_n,Ho):n},P.maxBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),Ho):n},P.mean=function(o){return xu(o,_n)},P.meanBy=function(o,u){return xu(o,Yt(u,2))},P.min=function(o){return o&&o.length?Wa(o,_n,dr):n},P.minBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),dr):n},P.stubArray=qr,P.stubFalse=Ir,P.stubObject=function(){return{}},P.stubString=function(){return""},P.stubTrue=function(){return!0},P.multiply=zf,P.nth=function(o,u){return o&&o.length?_u(o,se(u)):n},P.noConflict=function(){return ze._===this&&(ze._=pf),this},P.noop=hl,P.now=Xu,P.pad=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;if(!u||g>=u)return o;var b=(u-g)/2;return Xo($u(b),l)+o+Xo(Ua(b),l)},P.padEnd=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?o+Xo(u-g,l):o},P.padStart=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?Xo(u-g,l)+o:o},P.parseInt=function(o,u,l){return l||u==null?u=0:u&&(u=+u),Du(we(o).replace(Ot,""),u||0)},P.random=function(o,u,l){if(l&&typeof l!="boolean"&&Ue(o,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof o=="boolean"&&(l=o,o=n)),o===n&&u===n?(o=0,u=1):(o=ui(o),u===n?(u=o,o=0):u=ui(u)),o>u){var g=o;o=u,u=g}if(l||o%1||u%1){var b=df();return on(o+b*(u-o+xa("1e-"+((b+"").length-1))),u)}return fs(o,u)},P.reduce=function(o,u,l){var g=ie(o)?Jr:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,ki)},P.reduceRight=function(o,u,l){var g=ie(o)?ef:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,Ss)},P.repeat=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),Us(we(o),u)},P.replace=function(){var o=arguments,u=we(o[0]);return o.length<3?u:u.replace(o[1],o[2])},P.result=function(o,u,l){var g=-1,b=(u=ai(u,o)).length;for(b||(b=1,o=n);++g<b;){var E=o==null?n:o[Nn(u[g])];E===n&&(g=b,E=l),o=yi(E)?E.call(o):E}return o},P.round=oc,P.runInContext=J,P.sample=function(o){return(ie(o)?En:Es)(o)},P.size=function(o){if(o==null)return 0;if($e(o))return ku(o)?Wr(o):o.length;var u=cn(o);return u==B||u==X?o.size:Ta(o).length},P.snakeCase=co,P.some=function(o,u,l){var g=ie(o)?Is:Xc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.sortedIndex=function(o,u){return Fn(o,u)},P.sortedIndexBy=function(o,u,l){return to(o,u,Yt(l,2))},P.sortedIndexOf=function(o,u){var l=o==null?0:o.length;if(l){var g=Fn(o,u);if(g<l&&Mr(o[g],u))return g}return-1},P.sortedLastIndex=function(o,u){return Fn(o,u,!0)},P.sortedLastIndexBy=function(o,u,l){return to(o,u,Yt(l,2),!0)},P.sortedLastIndexOf=function(o,u){if(o!=null&&o.length){var l=Fn(o,u,!0)-1;if(Mr(o[l],u))return l}return-1},P.startCase=Rc,P.startsWith=function(o,u,l){return o=we(o),l=l==null?0:Qi(se(l),0,o.length),u=fn(u),o.slice(l,l+u.length)==u},P.subtract=Qc,P.sum=function(o){return o&&o.length?Ys(o,_n):0},P.sumBy=function(o,u){return o&&o.length?Ys(o,Yt(u,2)):0},P.template=function(o,u,l){var g=P.templateSettings;l&&Ue(o,u,l)&&(u=n),o=we(o),u=Vs({},u,g,$s);var b,E,O=Vs({},u.imports,g.imports,$s),R=en(O),W=yl(O,R),A=0,_=u.interpolate||Ai,T="__p += '",U=Ne((u.escape||Ai).source+"|"+_.source+"|"+(_===cr?Xe:Ai).source+"|"+(u.evaluate||Ai).source+"|$","g"),G="//# sourceURL="+(Ce.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;o.replace(U,function(tt,ut,ot,wt,yt,jt){return ot||(ot=wt),T+=o.slice(A,jt).replace(us,Lu),ut&&(b=!0,T+=`' +
__e(`+ut+`) +
'`),yt&&(E=!0,T+=`';
`+yt+`;
__p += '`),ot&&(T+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),A=jt+tt.length,tt}),T+=`';
`;var Z=Ce.call(u,"variable")&&u.variable;if(Z){if(Ee.test(Z))throw new Jt("Invalid `variable` option passed into `_.template`")}else T=`with (obj) {
`+T+`
}
`;T=(E?T.replace(Lt,""):T).replace(ee,"$1").replace(pe,"$1;"),T="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var K=Ps(function(){return Fe(R,G+"return "+T).apply(n,W)});if(K.source=T,lu(K))throw K;return K},P.times=function(o,u){if((o=se(o))<1||o>c)return[];var l=d,g=on(o,d);u=Yt(u),o-=d;for(var b=Il(g,u);++l<o;)u(l);return b},P.toFinite=ui,P.toInteger=se,P.toLength=vs,P.toLower=function(o){return we(o).toLowerCase()},P.toNumber=Qe,P.toSafeInteger=function(o){return o?Qi(se(o),-9007199254740991,c):o===0?o:0},P.toString=we,P.toUpper=function(o){return we(o).toUpperCase()},P.trim=function(o,u,l){if((o=we(o))&&(l||u===n))return Bl(o);if(!o||!(u=fn(u)))return o;var g=xr(o),b=xr(u);return Ur(g,wl(g,b),Xs(g,b)+1).join("")},P.trimEnd=function(o,u,l){if((o=we(o))&&(l||u===n))return o.slice(0,La(o)+1);if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,0,Xs(g,xr(u))+1).join("")},P.trimStart=function(o,u,l){if((o=we(o))&&(l||u===n))return o.replace(Ot,"");if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,wl(g,xr(u))).join("")},P.truncate=function(o,u){var l=30,g="...";if(We(u)){var b="separator"in u?u.separator:b;l="length"in u?se(u.length):l,g="omission"in u?fn(u.omission):g}var E=(o=we(o)).length;if(ha(o)){var O=xr(o);E=O.length}if(l>=E)return o;var R=l-Wr(g);if(R<1)return g;var W=O?Ur(O,0,R).join(""):o.slice(0,R);if(b===n)return W+g;if(O&&(R+=W.length-R),Li(b)){if(o.slice(R).search(b)){var A,_=W;for(b.global||(b=Ne(b.source,we(Se.exec(b))+"g")),b.lastIndex=0;A=b.exec(_);)var T=A.index;W=W.slice(0,T===n?R:T)}}else if(o.indexOf(fn(b),R)!=R){var U=W.lastIndexOf(b);U>-1&&(W=W.slice(0,U))}return W+g},P.unescape=function(o){return(o=we(o))&&qe.test(o)?o.replace(ve,lc):o},P.uniqueId=function(o){var u=++kh;return we(o)+u},P.upperCase=Pu,P.upperFirst=Zo,P.each=wf,P.eachRight=sf,P.first=lo,Qa(P,(Ma={},bn(P,function(o,u){Ce.call(P.prototype,u)||(Ma[u]=o)}),Ma),{chain:!1}),P.VERSION="4.17.21",Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){P[o].placeholder=P}),Bn(["drop","take"],function(o,u){ce.prototype[o]=function(l){l=l===n?1:sn(se(l),0);var g=this.__filtered__&&!u?new ce(this):this.clone();return g.__filtered__?g.__takeCount__=on(l,g.__takeCount__):g.__views__.push({size:on(l,d),type:o+(g.__dir__<0?"Right":"")}),g},ce.prototype[o+"Right"]=function(l){return this.reverse()[o](l).reverse()}}),Bn(["filter","map","takeWhile"],function(o,u){var l=u+1,g=l==1||l==3;ce.prototype[o]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Yt(b,3),type:l}),E.__filtered__=E.__filtered__||g,E}}),Bn(["head","last"],function(o,u){var l="take"+(u?"Right":"");ce.prototype[o]=function(){return this[l](1).value()[0]}}),Bn(["initial","tail"],function(o,u){var l="drop"+(u?"":"Right");ce.prototype[o]=function(){return this.__filtered__?new ce(this):this[l](1)}}),ce.prototype.compact=function(){return this.filter(_n)},ce.prototype.find=function(o){return this.filter(o).head()},ce.prototype.findLast=function(o){return this.reverse().find(o)},ce.prototype.invokeMap=ue(function(o,u){return typeof o=="function"?new ce(this):this.map(function(l){return Po(l,o,u)})}),ce.prototype.reject=function(o){return this.filter(ks(Yt(o)))},ce.prototype.slice=function(o,u){o=se(o);var l=this;return l.__filtered__&&(o>0||u<0)?new ce(l):(o<0?l=l.takeRight(-o):o&&(l=l.drop(o)),u!==n&&(l=(u=se(u))<0?l.dropRight(-u):l.take(u-o)),l)},ce.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ce.prototype.toArray=function(){return this.take(d)},bn(ce.prototype,function(o,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),b=P[g?"take"+(u=="last"?"Right":""):u],E=g||/^find/.test(u);b&&(P.prototype[u]=function(){var O=this.__wrapped__,R=g?[1]:arguments,W=O instanceof ce,A=R[0],_=W||ie(O),T=function(ut){var ot=b.apply(P,Er([ut],R));return g&&U?ot[0]:ot};_&&l&&typeof A=="function"&&A.length!=1&&(W=_=!1);var U=this.__chain__,G=!!this.__actions__.length,Z=E&&!U,K=W&&!G;if(!E&&_){O=K?O:new ce(this);var tt=o.apply(O,R);return tt.__actions__.push({func:Yu,args:[T],thisArg:n}),new or(tt,U)}return Z&&K?o.apply(this,R):(tt=this.thru(T),Z?g?tt.value()[0]:tt.value():tt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var u=vr[o],l=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",g=/^(?:pop|shift)$/.test(o);P.prototype[o]=function(){var b=arguments;if(g&&!this.__chain__){var E=this.value();return u.apply(ie(E)?E:[],b)}return this[l](function(O){return u.apply(ie(O)?O:[],b)})}}),bn(ce.prototype,function(o,u){var l=P[u];if(l){var g=l.name+"";Ce.call(Mo,g)||(Mo[g]=[]),Mo[g].push({name:u,func:l})}}),Mo[To(n,2).name]=[{name:"wrapper",func:n}],ce.prototype.clone=function(){var o=new ce(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o},ce.prototype.reverse=function(){if(this.__filtered__){var o=new ce(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},ce.prototype.value=function(){var o=this.__wrapped__.value(),u=this.__dir__,l=ie(o),g=u<0,b=l?o.length:0,E=function(jt,xt,It){for(var ae=-1,Ht=It.length;++ae<Ht;){var ye=It[ae],oe=ye.size;switch(ye.type){case"drop":jt+=oe;break;case"dropRight":xt-=oe;break;case"take":xt=on(xt,jt+oe);break;case"takeRight":jt=sn(jt,xt-oe)}}return{start:jt,end:xt}}(0,b,this.__views__),O=E.start,R=E.end,W=R-O,A=g?R:O-1,_=this.__iteratees__,T=_.length,U=0,G=on(W,this.__takeCount__);if(!l||!g&&b==W&&G==W)return qa(o,this.__actions__);var Z=[];t:for(;W--&&U<G;){for(var K=-1,tt=o[A+=u];++K<T;){var ut=_[K],ot=ut.iteratee,wt=ut.type,yt=ot(tt);if(wt==2)tt=yt;else if(!yt){if(wt==1)continue t;break t}}Z[U++]=tt}return Z},P.prototype.at=th,P.prototype.chain=function(){return Zf(this)},P.prototype.commit=function(){return new or(this.value(),this.__chain__)},P.prototype.next=function(){this.__values__===n&&(this.__values__=cl(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?n:this.__values__[this.__index__++]}},P.prototype.plant=function(o){for(var u,l=this;l instanceof Pt;){var g=Au(l);g.__index__=0,g.__values__=n,u?b.__wrapped__=g:u=g;var b=g;l=l.__wrapped__}return b.__wrapped__=o,u},P.prototype.reverse=function(){var o=this.__wrapped__;if(o instanceof ce){var u=o;return this.__actions__.length&&(u=new ce(this)),(u=u.reverse()).__actions__.push({func:Yu,args:[Gu],thisArg:n}),new or(u,this.__chain__)}return this.thru(Gu)},P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=function(){return qa(this.__wrapped__,this.__actions__)},P.prototype.first=P.prototype.head,io&&(P.prototype[io]=function(){return this}),P}();kr?((kr.exports=Co)._=Co,$i._=Co):ze._=Co}).call(qD.exports)),qD.exports);function OI(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function FS(){return FS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},FS.apply(null,arguments)}(function(){function n(t,e){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=e,this.rootNode=t(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}Object.defineProperty(n.prototype,"windows",{get:function(){var t=function(e){return Rg([e],e.children.flatMap(t))};return SX.orderBy(t(this.rootNode),function(e){return e.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var t=function(e){var r=e._boxSnapshot,i=[];if(i.push("KEY: ".concat(e.key)),e._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(e.getLayer())),i.push("BOX: [".concat(e.o[0],", ").concat(e.o[1],", ").concat(e.w,", ").concat(e.h,"]")),i.push("GLOBAL O: [".concat(e.globalO[0],", ").concat(e.globalO[1],"]")),i.push("CHILDREN:"),e.children.length>0){for(var a=e.children,s=[],c=0;c<a.length;c++){var f=a[c];s.push(t(f))}for(i.push(" |"),c=0;c<s.length;c++){for(var d=s[c],h=c===s.length-1?" ":" ",m=0;m<d.length;m++){var y=m===0?h:c===s.length-1?"   ":" | ",w=d[m];i.push("".concat(y,"  ").concat(w))}c<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("   (no children)");return e._boxSnapshot=r,i};console.log(t(this.rootNode).join(`
`))},n.prototype.onUpdate=function(t){this.onUpdateFunction=t},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Wf(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Wf([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(t,e){var r=this.scheduleUpdate(t);this.scheduledStateUpdates.push([r,function(){t.state=e}])},n.prototype.scheduleContextUpdate=function(t,e,r){var i=this.scheduleUpdate(t);this.scheduledStateUpdates.push([i,function(){t.context[e]=r}])},n.prototype.setSingleUpdateFlag=function(t,e){this.scheduledUpdateNodeMap[e]||(this.scheduledUpdateNodeMap[e]={}),this.scheduledUpdateNodeMap[e][t.globalKey]=!0},n.prototype.scheduleUpdate=function(t){var e=this,r=function(){e.DEBUG&&console.log("Scheduling update for ".concat(t.globalKey,". Received id ").concat(e.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=OI();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(e.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(e.scheduledUpdateIds,null,2),`.
                    `)),e.updateRunning=!0;e.scheduledUpdateIds.length>0;)e.updateScheduled=!1,e.updateCurrentId();e.updateRunning=!1}),this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=OI(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(t){console.error(t)}},n.prototype.propogateUpdateFlags=function(t){var e=this,r=function(i,a,s){e.scheduledUpdateNodeMap[a]||(e.scheduledUpdateNodeMap[a]={}),e.scheduledUpdateNodeMap[a][i.globalKey]&&(s=!0),e.scheduledUpdateNodeMap[a][i.globalKey]=s,i.children.forEach(function(c){return r(c,a,s)})};r(this.rootNode,t,!1)},n.prototype.updateCurrentId=function(){var t=this,e=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[e]).forEach(function(i){t.propogateUpdateFlags(e)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==e}),this.scheduledStateUpdates.filter(function(i){return i[0]===e}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==e});var r=this.scheduledUpdateNodeMap[e];this.update(r),delete this.scheduledUpdateNodeMap[e]},n.prototype.taintLayer=function(t){this.taintedLayers.includes(t)||this.taintedLayers.push(t)},n.prototype.findCameraPathRecursive=function(t,e){var r,i;if(t._isPrimaryCamera){var a=t.globalKey;return pu(pu({},e),((r={})[a]=!0,r))}for(var s=t.children,c=0;c<s.length;c++){var f=s[c],d=(a=f.globalKey,pu(pu({},e),((i={})[a]=!0,i))),h=this.findCameraPathRecursive(f,d);if(h)return h}},n.prototype.AND_updateMaps=function(t,e){var r={};for(var i in t)e[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(t,e){var r={};for(var i in t)e[i]||(r[i]=!0);for(var i in e)t[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(t,e){var r=this.AND_updateMaps(t,e);return[r,this.XOR_updateMaps(t,r)]},n.prototype.setNeedsUpdateToMap=function(t){var e=function(r){var i=r.globalKey;t[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(t){var e=function(r){var i=r.globalKey;t[i]&&(r._needsUpdate=!0),r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.installCamera=function(t){this.cameraNode!==t&&(this.scheduledCameraNode=t,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(t){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var e=this.findCameraPathRecursive(this.rootNode,{});if(!e)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(t,e),i=r[0],a=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(a),null,2),`
            `));var s=function(c,f){c._needsUpdate?f?c.cameraPassUpdateSelf():c.regularPassUpdateSelf():c.children.forEach(function(d){return s(d,f)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(a),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get 2d context from canvas");t.clearRect(0,0,this.canvas.width,this.canvas.height),function(e,r,i,a,s){var c=(e=new Wf(Rg([],e.o),e.w,e.h)).getBoundingBox(),f=r.filter(function(y){return Ty(y.getBoundingBox(),c)}),d=Array.from(new Set(f.map(function(y){return y.getLayer()}))).sort(function(y,w){return y-w});a.clearRect(0,0,i.width,i.height);for(var h=function(y){var w=d[y],C=f.filter(function(V){return V.getLayer()===d[y]});if(s.includes(w)){var k=w+"";if(Db[k]===void 0){var M=document.createElement("canvas");M.width=i.width,M.height=i.height,Db[k]=M}var N=Db[k],B=N.getContext("2d");B.clearRect(0,0,N.width,N.height);for(var L=0,z=C;L<z.length;L++)z[L].renderPrimitive(B)}var q=w+"";Db[q]&&a.drawImage(Db[q],0,0)},m=0;m<d.length;m++)h(m)}(this.cameraSnapshot,this.windows,this.canvas,t,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Wf(Rg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ty(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseDownPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseMoveHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Wf(Rg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ty(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseMovePrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseUpHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Wf(Rg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ty(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseUpPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseWheelHandler=function(t){(function(e,r,i,a){for(var s=(e=new Wf(Rg([],e.o),e.w,e.h)).getBoundingBox(),c=r.filter(function(y){return Ty(y.getBoundingBox(),s)}).reverse(),f=!0,d=function(){f=!1},h=0,m=c;h<m.length&&(m[h].onWheelPrimitive(d,a),f);h++);})(this.cameraSnapshot,this.windows,this.canvas,t)},n.prototype.clickHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Wf(Rg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ty(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onClickPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)}})();var cL={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function KD(n,t){return!(!function(e){return typeof e=="object"&&e&&e.constructor===Object}(n)&&!Array.isArray(n)||!Tx(EX,t)&&(t in Object.prototype||t in Function.prototype))}var EX={length:!0,name:!0},AX={toString:!0,valueOf:!0,toLocaleString:!0};let kX=class{constructor(n){this.wrappedObject=n,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(n=>this.has(n)).values()}get(n){return function(t,e){if(KD(t,e))return t[e];throw typeof t[e]=="function"&&function(r,i){return!(r==null||typeof r[i]!="function"||Tx(r,i)&&Object.getPrototypeOf&&i in Object.getPrototypeOf(r)||!Tx(AX,i)&&(i in Object.prototype||i in Function.prototype))}(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}(this.wrappedObject,n)}set(n,t){return function(e,r,i){if(KD(e,r))return e[r]=i,i;throw new Error('No access to property "'+r+'"')}(this.wrappedObject,n,t),this}has(n){return KD(this.wrappedObject,n)&&n in this.wrappedObject}entries(){return n=this.keys(),t=e=>[e,this.get(e)],{next:()=>{var e=n.next();return e.done?e:{value:t(e.value),done:!1}}};var n,t}forEach(n){for(var t of this.keys())n(this.get(t),t,this)}delete(n){KD(this.wrappedObject,n)&&delete this.wrappedObject[n]}clear(){for(var n of this.keys())this.delete(n)}get size(){return Object.keys(this.wrappedObject).length}};function qf(n){return typeof n=="number"}function Rp(n){return!(!n||typeof n!="object"||typeof n.constructor!="function")&&(n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0)}function MX(n){return typeof n=="bigint"}function fL(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function hL(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function pL(n){return n&&n.constructor.prototype.isUnit===!0||!1}function Em(n){return typeof n=="string"}var Xh=Array.isArray;function Tm(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function PS(n){return Array.isArray(n)||Tm(n)}function FX(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function PX(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function TX(n){return n&&n.constructor.prototype.isRange===!0||!1}function YT(n){return n&&n.constructor.prototype.isIndex===!0||!1}function OX(n){return typeof n=="boolean"}function NX(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function IX(n){return n&&n.constructor.prototype.isHelp===!0||!1}function BX(n){return typeof n=="function"}function RX(n){return n instanceof Date}function jX(n){return n instanceof RegExp}function XT(n){return!(!n||typeof n!="object"||n.constructor!==Object||fL(n)||hL(n))}function LX(n){return!!n&&(n instanceof Map||n instanceof kX||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function")}function zX(n){return n===null}function UX(n){return n===void 0}function $X(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function WX(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function HX(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function VX(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function qX(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function KX(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function GX(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function YX(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function XX(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function JX(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function QX(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function ZX(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function tJ(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function eJ(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function nJ(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function rJ(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function iJ(n){return n&&n.constructor.prototype.isChain===!0||!1}function ry(n){var t=typeof n;return t==="object"?n===null?"null":Rp(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":t}function dp(n){var t=typeof n;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||n==null)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(e){return dp(e)});if(n instanceof Date)return new Date(n.valueOf());if(Rp(n))return n;if(XT(n))return function(e,r){var i={};for(var a in e)Tx(e,a)&&(i[a]=r(e[a]));return i}(n,dp);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function p0(n,t){var e,r,i;if(Array.isArray(n)){if(!Array.isArray(t)||n.length!==t.length)return!1;for(r=0,i=n.length;r<i;r++)if(!p0(n[r],t[r]))return!1;return!0}if(typeof n=="function")return n===t;if(n instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in n)if(!(e in t)||!p0(n[e],t[e]))return!1;for(e in t)if(!(e in n))return!1;return!0}return n===t}function Tx(n,t){return n&&Object.hasOwnProperty.call(n,t)}var JT=function(n){if(n)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(cL)};function NI(){return!0}function lg(){return!1}function Oy(){}FS(JT,cL,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const II="Argument is not a typed-function.";var TS=function n(){function t(rt){return typeof rt=="object"&&rt!==null&&rt.constructor===Object}const e=[{name:"number",test:function(rt){return typeof rt=="number"}},{name:"string",test:function(rt){return typeof rt=="string"}},{name:"boolean",test:function(rt){return typeof rt=="boolean"}},{name:"Function",test:function(rt){return typeof rt=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(rt){return rt instanceof Date}},{name:"RegExp",test:function(rt){return rt instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(rt){return rt===null}},{name:"undefined",test:function(rt){return rt===void 0}}],r={name:"any",test:NI,isAny:!0};let i,a,s=0,c={createCount:0};function f(rt){const dt=i.get(rt);if(dt)return dt;let bt='Unknown type "'+rt+'"';const Ot=rt.toLowerCase();let Bt;for(Bt of a)if(Bt.toLowerCase()===Ot){bt+='. Did you mean "'+Bt+'" ?';break}throw new TypeError(bt)}function d(rt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const bt=dt?f(dt).index:a.length,Ot=[];for(let Rt=0;Rt<rt.length;++Rt){if(!rt[Rt]||typeof rt[Rt].name!="string"||typeof rt[Rt].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Xt=rt[Rt].name;if(i.has(Xt))throw new TypeError('Duplicate type name "'+Xt+'"');Ot.push(Xt),i.set(Xt,{name:Xt,test:rt[Rt].test,isAny:rt[Rt].isAny,index:bt+Rt,conversionsTo:[]})}const Bt=a.slice(bt);a=a.slice(0,bt).concat(Ot).concat(Bt);for(let Rt=bt+Ot.length;Rt<a.length;++Rt)i.get(a[Rt]).index=Rt}function h(){i=new Map,a=[],s=0,d([r],!1)}function m(rt){const dt=a.filter(bt=>{const Ot=i.get(bt);return!Ot.isAny&&Ot.test(rt)});return dt.length?dt:["any"]}function y(rt){return rt&&typeof rt=="function"&&"_typedFunctionData"in rt}function w(rt,dt,bt){if(!y(rt))throw new TypeError(II);const Ot=bt&&bt.exact,Bt=B(Array.isArray(dt)?dt.join(","):dt),Rt=C(Bt);if(!Ot||Rt in rt.signatures){const Ee=rt._typedFunctionData.signatureMap.get(Rt);if(Ee)return Ee}const Xt=Bt.length;let Kt,ge;if(Ot){let Ee;for(Ee in Kt=[],rt.signatures)Kt.push(rt._typedFunctionData.signatureMap.get(Ee))}else Kt=rt._typedFunctionData.signatures;for(let Ee=0;Ee<Xt;++Ee){const Ze=Bt[Ee],Xe=[];let Se;for(Se of Kt){const je=V(Se.params,Ee);if(je&&(!Ze.restParam||je.restParam)){if(!je.hasAny){const rn=N(je);if(Ze.types.some(zi=>!rn.has(zi.name)))continue}Xe.push(Se)}}if(Kt=Xe,Kt.length===0)break}for(ge of Kt)if(ge.params.length<=Xt)return ge;throw new TypeError("Signature not found (signature: "+(rt.name||"unnamed")+"("+C(Bt,", ")+"))")}function C(rt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return rt.map(bt=>bt.name).join(dt)}function k(rt){const dt=rt.indexOf("...")===0,bt=(dt?rt.length>3?rt.slice(3):"any":rt).split("|").map(Rt=>f(Rt.trim()));let Ot=!1,Bt=dt?"...":"";return{types:bt.map(function(Rt){return Ot=Rt.isAny||Ot,Bt+=Rt.name+"|",{name:Rt.name,typeIndex:Rt.index,test:Rt.test,isAny:Rt.isAny,conversion:null,conversionIndex:-1}}),name:Bt.slice(0,-1),hasAny:Ot,hasConversion:!1,restParam:dt}}function M(rt){const dt=function(Rt){if(Rt.length===0)return[];const Xt=Rt.map(f);Rt.length>1&&Xt.sort((Ee,Ze)=>Ee.index-Ze.index);let Kt=Xt[0].conversionsTo;if(Rt.length===1)return Kt;Kt=Kt.concat([]);const ge=new Set(Rt);for(let Ee=1;Ee<Xt.length;++Ee){let Ze;for(Ze of Xt[Ee].conversionsTo)ge.has(Ze.from)||(Kt.push(Ze),ge.add(Ze.from))}return Kt}(rt.types.map(Rt=>Rt.name));let bt=rt.hasAny,Ot=rt.name;const Bt=dt.map(function(Rt){const Xt=f(Rt.from);return bt=Xt.isAny||bt,Ot+="|"+Rt.from,{name:Rt.from,typeIndex:Xt.index,test:Xt.test,isAny:Xt.isAny,conversion:Rt,conversionIndex:Rt.index}});return{types:rt.types.concat(Bt),name:Ot,hasAny:bt,hasConversion:Bt.length>0,restParam:rt.restParam}}function N(rt){return rt.typeSet||(rt.typeSet=new Set,rt.types.forEach(dt=>rt.typeSet.add(dt.name))),rt.typeSet}function B(rt){const dt=[];if(typeof rt!="string")throw new TypeError("Signatures must be strings");const bt=rt.trim();if(bt==="")return dt;const Ot=bt.split(",");for(let Bt=0;Bt<Ot.length;++Bt){const Rt=k(Ot[Bt].trim());if(Rt.restParam&&Bt!==Ot.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ot[Bt]+'": only allowed for the last parameter');if(Rt.types.length===0)return null;dt.push(Rt)}return dt}function L(rt){const dt=ee(rt);return!!dt&&dt.restParam}function z(rt){if(rt&&rt.types.length!==0){if(rt.types.length===1)return f(rt.types[0].name).test;if(rt.types.length===2){const dt=f(rt.types[0].name).test,bt=f(rt.types[1].name).test;return function(Ot){return dt(Ot)||bt(Ot)}}{const dt=rt.types.map(function(bt){return f(bt.name).test});return function(bt){for(let Ot=0;Ot<dt.length;Ot++)if(dt[Ot](bt))return!0;return!1}}}return NI}function q(rt){let dt,bt,Ot;if(L(rt)){dt=Lt(rt).map(z);const Bt=dt.length,Rt=z(ee(rt)),Xt=function(Kt){for(let ge=Bt;ge<Kt.length;ge++)if(!Rt(Kt[ge]))return!1;return!0};return function(Kt){for(let ge=0;ge<dt.length;ge++)if(!dt[ge](Kt[ge]))return!1;return Xt(Kt)&&Kt.length>=Bt+1}}return rt.length===0?function(Bt){return Bt.length===0}:rt.length===1?(bt=z(rt[0]),function(Bt){return bt(Bt[0])&&Bt.length===1}):rt.length===2?(bt=z(rt[0]),Ot=z(rt[1]),function(Bt){return bt(Bt[0])&&Ot(Bt[1])&&Bt.length===2}):(dt=rt.map(z),function(Bt){for(let Rt=0;Rt<dt.length;Rt++)if(!dt[Rt](Bt[Rt]))return!1;return Bt.length===dt.length})}function V(rt,dt){return dt<rt.length?rt[dt]:L(rt)?ee(rt):null}function X(rt,dt){const bt=V(rt,dt);return bt?N(bt):new Set}function nt(rt){return rt.conversion===null||rt.conversion===void 0}function it(rt,dt){const bt=new Set;return rt.forEach(Ot=>{const Bt=X(Ot.params,dt);let Rt;for(Rt of Bt)bt.add(Rt)}),bt.has("any")?["any"]:Array.from(bt)}function ct(rt,dt,bt){let Ot,Bt;const Rt=rt||"unnamed";let Xt,Kt=bt;for(Xt=0;Xt<dt.length;Xt++){const Xe=[];if(Kt.forEach(Se=>{const je=z(V(Se.params,Xt));(Xt<Se.params.length||L(Se.params))&&je(dt[Xt])&&Xe.push(Se)}),Xe.length===0){if(Bt=it(Kt,Xt),Bt.length>0){const Se=m(dt[Xt]);return Ot=new TypeError("Unexpected type of argument in function "+Rt+" (expected: "+Bt.join(" or ")+", actual: "+Se.join(" | ")+", index: "+Xt+")"),Ot.data={category:"wrongType",fn:Rt,index:Xt,actual:Se,expected:Bt},Ot}}else Kt=Xe}const ge=Kt.map(function(Xe){return L(Xe.params)?1/0:Xe.params.length});if(dt.length<Math.min.apply(null,ge))return Bt=it(Kt,Xt),Ot=new TypeError("Too few arguments in function "+Rt+" (expected: "+Bt.join(" or ")+", index: "+dt.length+")"),Ot.data={category:"tooFewArgs",fn:Rt,index:dt.length,expected:Bt},Ot;const Ee=Math.max.apply(null,ge);if(dt.length>Ee)return Ot=new TypeError("Too many arguments in function "+Rt+" (expected: "+Ee+", actual: "+dt.length+")"),Ot.data={category:"tooManyArgs",fn:Rt,index:dt.length,expectedLength:Ee},Ot;const Ze=[];for(let Xe=0;Xe<dt.length;++Xe)Ze.push(m(dt[Xe]).join("|"));return Ot=new TypeError('Arguments of type "'+Ze.join(", ")+'" do not match any of the defined signatures of function '+Rt+"."),Ot.data={category:"mismatch",actual:Ze},Ot}function ft(rt){let dt=a.length+1;for(let bt=0;bt<rt.types.length;bt++)nt(rt.types[bt])&&(dt=Math.min(dt,rt.types[bt].typeIndex));return dt}function gt(rt){let dt=s+1;for(let bt=0;bt<rt.types.length;bt++)nt(rt.types[bt])||(dt=Math.min(dt,rt.types[bt].conversionIndex));return dt}function Ct(rt,dt){if(rt.hasAny){if(!dt.hasAny)return 1}else if(dt.hasAny)return-1;if(rt.restParam){if(!dt.restParam)return 1}else if(dt.restParam)return-1;if(rt.hasConversion){if(!dt.hasConversion)return 1}else if(dt.hasConversion)return-1;const bt=ft(rt)-ft(dt);if(bt<0)return-1;if(bt>0)return 1;const Ot=gt(rt)-gt(dt);return Ot<0?-1:Ot>0?1:0}function kt(rt,dt){const bt=rt.params,Ot=dt.params,Bt=ee(bt),Rt=ee(Ot),Xt=L(bt),Kt=L(Ot);if(Xt&&Bt.hasAny){if(!Kt||!Rt.hasAny)return 1}else if(Kt&&Rt.hasAny)return-1;let ge,Ee=0,Ze=0;for(ge of bt)ge.hasAny&&++Ee,ge.hasConversion&&++Ze;let Xe=0,Se=0;for(ge of Ot)ge.hasAny&&++Xe,ge.hasConversion&&++Se;if(Ee!==Xe)return Ee-Xe;if(Xt&&Bt.hasConversion){if(!Kt||!Rt.hasConversion)return 1}else if(Kt&&Rt.hasConversion)return-1;if(Ze!==Se)return Ze-Se;if(Xt){if(!Kt)return 1}else if(Kt)return-1;const je=(bt.length-Ot.length)*(Xt?-1:1);if(je!==0)return je;const rn=[];let zi,Yi=0;for(let Ui=0;Ui<bt.length;++Ui){const xo=Ct(bt[Ui],Ot[Ui]);rn.push(xo),Yi+=xo}if(Yi!==0)return Yi;for(zi of rn)if(zi!==0)return zi;return 0}function Tt(rt,dt){let bt=dt;if(rt.some(Bt=>Bt.hasConversion)){const Bt=L(rt),Rt=rt.map(At);bt=function(){const Xt=[],Kt=Bt?arguments.length-1:arguments.length;for(let ge=0;ge<Kt;ge++)Xt[ge]=Rt[ge](arguments[ge]);return Bt&&(Xt[Kt]=arguments[Kt].map(Rt[Kt])),dt.apply(this,Xt)}}let Ot=bt;if(L(rt)){const Bt=rt.length-1;Ot=function(){return bt.apply(this,pe(arguments,0,Bt).concat([pe(arguments,Bt)]))}}return Ot}function At(rt){let dt,bt,Ot,Bt;const Rt=[],Xt=[];switch(rt.types.forEach(function(Kt){Kt.conversion&&(Rt.push(f(Kt.conversion.from).test),Xt.push(Kt.conversion.convert))}),Xt.length){case 0:return function(Kt){return Kt};case 1:return dt=Rt[0],Ot=Xt[0],function(Kt){return dt(Kt)?Ot(Kt):Kt};case 2:return dt=Rt[0],bt=Rt[1],Ot=Xt[0],Bt=Xt[1],function(Kt){return dt(Kt)?Ot(Kt):bt(Kt)?Bt(Kt):Kt};default:return function(Kt){for(let ge=0;ge<Xt.length;ge++)if(Rt[ge](Kt))return Xt[ge](Kt);return Kt}}}function Zt(rt){return function dt(bt,Ot,Bt){if(Ot<bt.length){const Kt=bt[Ot];let ge=[];if(Kt.restParam){const Ee=Kt.types.filter(nt);Ee.length<Kt.types.length&&ge.push({types:Ee,name:"..."+Ee.map(Ze=>Ze.name).join("|"),hasAny:Ee.some(Ze=>Ze.isAny),hasConversion:!1,restParam:!0}),ge.push(Kt)}else ge=Kt.types.map(function(Ee){return{types:[Ee],name:Ee.name,hasAny:Ee.isAny,hasConversion:Ee.conversion,restParam:!1}});return Rt=ge,Xt=function(Ee){return dt(bt,Ot+1,Bt.concat([Ee]))},Array.prototype.concat.apply([],Rt.map(Xt))}return[Bt];var Rt,Xt}(rt,0,[])}function _t(rt,dt){const bt=Math.max(rt.length,dt.length);for(let Kt=0;Kt<bt;Kt++){const ge=X(rt,Kt),Ee=X(dt,Kt);let Ze,Xe=!1;for(Ze of Ee)if(ge.has(Ze)){Xe=!0;break}if(!Xe)return!1}const Ot=rt.length,Bt=dt.length,Rt=L(rt),Xt=L(dt);return Rt?Xt?Ot===Bt:Bt>=Ot:Xt?Ot>=Bt:Ot===Bt}function Et(rt,dt,bt){const Ot=[];let Bt;for(Bt of rt){let Rt=bt[Bt];if(typeof Rt!="number")throw new TypeError('No definition for referenced signature "'+Bt+'"');if(Rt=dt[Rt],typeof Rt!="function")return!1;Ot.push(Rt)}return Ot}function mt(rt,dt,bt){const Ot=function(Xt){return Xt.map(Kt=>He(Kt)?Oe(Kt.referToSelf.callback):qe(Kt)?ve(Kt.referTo.references,Kt.referTo.callback):Kt)}(rt),Bt=new Array(Ot.length).fill(!1);let Rt=!0;for(;Rt;){Rt=!1;let Xt=!0;for(let Kt=0;Kt<Ot.length;++Kt){if(Bt[Kt])continue;const ge=Ot[Kt];if(He(ge))Ot[Kt]=ge.referToSelf.callback(bt),Ot[Kt].referToSelf=ge.referToSelf,Bt[Kt]=!0,Xt=!1;else if(qe(ge)){const Ee=Et(ge.referTo.references,Ot,dt);Ee?(Ot[Kt]=ge.referTo.callback.apply(this,Ee),Ot[Kt].referTo=ge.referTo,Bt[Kt]=!0,Xt=!1):Rt=!0}}if(Xt&&Rt)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ot}function vt(rt,dt,bt){throw ct(rt,dt,bt)}function Lt(rt){return pe(rt,0,rt.length-1)}function ee(rt){return rt[rt.length-1]}function pe(rt,dt,bt){return Array.prototype.slice.call(rt,dt,bt)}function ve(rt,dt){return{referTo:{references:rt,callback:dt}}}function Oe(rt){if(typeof rt!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:rt}}}function qe(rt){return rt&&typeof rt.referTo=="object"&&Array.isArray(rt.referTo.references)&&typeof rt.referTo.callback=="function"}function He(rt){return rt&&typeof rt.referToSelf=="object"&&typeof rt.referToSelf.callback=="function"}function wn(rt,dt){if(!rt)return dt;if(dt&&dt!==rt){const bt=new Error("Function names do not match (expected: "+rt+", actual: "+dt+")");throw bt.data={actual:dt,expected:rt},bt}return rt}function nn(rt){let dt;for(const bt in rt)Object.prototype.hasOwnProperty.call(rt,bt)&&(y(rt[bt])||typeof rt[bt].signature=="string")&&(dt=wn(dt,rt[bt].name));return dt}function cr(rt,dt){let bt;for(bt in dt)if(Object.prototype.hasOwnProperty.call(dt,bt)){if(bt in rt&&dt[bt]!==rt[bt]){const Ot=new Error('Signature "'+bt+'" is defined twice');throw Ot.data={signature:bt,sourceFunction:dt[bt],destFunction:rt[bt]},Ot}rt[bt]=dt[bt]}}h(),d(e);const bi=c;function Vt(rt){if(!rt||typeof rt.from!="string"||typeof rt.to!="string"||typeof rt.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(rt.to===rt.from)throw new SyntaxError('Illegal to define conversion from "'+rt.from+'" to itself.')}return c=function(rt){const dt=typeof rt=="string";let bt=dt?rt:"";const Ot={};for(let Bt=dt?1:0;Bt<arguments.length;++Bt){const Rt=arguments[Bt];let Xt,Kt={};if(typeof Rt=="function"?(Xt=Rt.name,typeof Rt.signature=="string"?Kt[Rt.signature]=Rt:y(Rt)&&(Kt=Rt.signatures)):t(Rt)&&(Kt=Rt,dt||(Xt=nn(Rt))),Object.keys(Kt).length===0){const ge=new TypeError("Argument to 'typed' at index "+Bt+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ge.data={index:Bt,argument:Rt},ge}dt||(bt=wn(bt,Xt)),cr(Ot,Kt)}return function(Bt,Rt){if(c.createCount++,Object.keys(Rt).length===0)throw new SyntaxError("No signatures provided");c.warnAgainstDeprecatedThis&&function(Vn){const hr=/\bthis(\(|\.signatures\b)/;Object.keys(Vn).forEach(Xi=>{const es=Vn[Xi];if(hr.test(es.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Rt);const Xt=[],Kt=[],ge={},Ee=[];let Ze;for(Ze in Rt){if(!Object.prototype.hasOwnProperty.call(Rt,Ze))continue;const Vn=B(Ze);if(!Vn)continue;Xt.forEach(function(ru){if(_t(ru,Vn))throw new TypeError('Conflicting signatures "'+C(ru)+'" and "'+C(Vn)+'".')}),Xt.push(Vn);const hr=Kt.length;Kt.push(Rt[Ze]);const Xi=Vn.map(M);let es;for(es of Zt(Xi)){const ru=C(es);Ee.push({params:es,name:ru,fn:hr}),es.every(Do=>!Do.hasConversion)&&(ge[ru]=hr)}}Ee.sort(kt);const Xe=mt(Kt,ge,ln);let Se;for(Se in ge)Object.prototype.hasOwnProperty.call(ge,Se)&&(ge[Se]=Xe[ge[Se]]);const je=[],rn=new Map;for(Se of Ee)rn.has(Se.name)||(Se.fn=Xe[Se.fn],je.push(Se),rn.set(Se.name,Se));const zi=je[0]&&je[0].params.length<=2&&!L(je[0].params),Yi=je[1]&&je[1].params.length<=2&&!L(je[1].params),Ui=je[2]&&je[2].params.length<=2&&!L(je[2].params),xo=je[3]&&je[3].params.length<=2&&!L(je[3].params),Ai=je[4]&&je[4].params.length<=2&&!L(je[4].params),us=je[5]&&je[5].params.length<=2&&!L(je[5].params),ko=zi&&Yi&&Ui&&xo&&Ai&&us;for(let Vn=0;Vn<je.length;++Vn)je[Vn].test=q(je[Vn].params);const vu=zi?z(je[0].params[0]):lg,ja=Yi?z(je[1].params[0]):lg,ls=Ui?z(je[2].params[0]):lg,yu=xo?z(je[3].params[0]):lg,dl=Ai?z(je[4].params[0]):lg,Ns=us?z(je[5].params[0]):lg,Ol=zi?z(je[0].params[1]):lg,gl=Yi?z(je[1].params[1]):lg,Pa=Ui?z(je[2].params[1]):lg,ml=xo?z(je[3].params[1]):lg,wu=Ai?z(je[4].params[1]):lg,Ou=us?z(je[5].params[1]):lg;for(let Vn=0;Vn<je.length;++Vn)je[Vn].implementation=Tt(je[Vn].params,je[Vn].fn);const Ks=zi?je[0].implementation:Oy,Nu=Yi?je[1].implementation:Oy,ts=Ui?je[2].implementation:Oy,fa=xo?je[3].implementation:Oy,ba=Ai?je[4].implementation:Oy,ho=us?je[5].implementation:Oy,Iu=zi?je[0].params.length:-1,nu=Yi?je[1].params.length:-1,cs=Ui?je[2].params.length:-1,nl=xo?je[3].params.length:-1,Nl=Ai?je[4].params.length:-1,vl=us?je[5].params.length:-1,bu=ko?6:0,Gs=je.length,kc=je.map(Vn=>Vn.test),hf=je.map(Vn=>Vn.implementation),Mc=function(){for(let Vn=bu;Vn<Gs;Vn++)if(kc[Vn](arguments))return hf[Vn].apply(this,arguments);return c.onMismatch(Bt,arguments,je)};function ln(Vn,hr){return arguments.length===Iu&&vu(Vn)&&Ol(hr)?Ks.apply(this,arguments):arguments.length===nu&&ja(Vn)&&gl(hr)?Nu.apply(this,arguments):arguments.length===cs&&ls(Vn)&&Pa(hr)?ts.apply(this,arguments):arguments.length===nl&&yu(Vn)&&ml(hr)?fa.apply(this,arguments):arguments.length===Nl&&dl(Vn)&&wu(hr)?ba.apply(this,arguments):arguments.length===vl&&Ns(Vn)&&Ou(hr)?ho.apply(this,arguments):Mc.apply(this,arguments)}try{Object.defineProperty(ln,"name",{value:Bt})}catch{}return ln.signatures=ge,ln._typedFunctionData={signatures:je,signatureMap:rn},ln}(bt||"",Ot)},c.create=n,c.createCount=bi.createCount,c.onMismatch=vt,c.throwMismatchError=vt,c.createError=ct,c.clear=h,c.clearConversions=function(){let rt;for(rt of a)i.get(rt).conversionsTo=[];s=0},c.addTypes=d,c._findType=f,c.referTo=function(){const rt=Lt(arguments).map(bt=>C(B(bt))),dt=ee(arguments);if(typeof dt!="function")throw new TypeError("Callback function expected as last argument");return ve(rt,dt)},c.referToSelf=Oe,c.convert=function(rt,dt){const bt=f(dt);if(bt.test(rt))return rt;const Ot=bt.conversionsTo;if(Ot.length===0)throw new Error("There are no conversions to "+dt+" defined.");for(let Bt=0;Bt<Ot.length;Bt++)if(f(Ot[Bt].from).test(rt))return Ot[Bt].convert(rt);throw new Error("Cannot convert "+rt+" to "+dt)},c.findSignature=w,c.find=function(rt,dt,bt){return w(rt,dt,bt).implementation},c.isTypedFunction=y,c.warnAgainstDeprecatedThis=!0,c.addType=function(rt,dt){let bt="any";dt!==!1&&i.has("Object")&&(bt="Object"),c.addTypes([rt],bt)},c.addConversion=function(rt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Vt(rt);const bt=f(rt.to),Ot=bt.conversionsTo.find(Bt=>Bt.from===rt.from);if(Ot){if(!dt||!dt.override)throw new Error('There is already a conversion from "'+rt.from+'" to "'+bt.name+'"');c.removeConversion({from:Ot.from,to:rt.to,convert:Ot.convert})}bt.conversionsTo.push({from:rt.from,convert:rt.convert,index:s++})},c.addConversions=function(rt,dt){rt.forEach(bt=>c.addConversion(bt,dt))},c.removeConversion=function(rt){Vt(rt);const dt=f(rt.to),bt=function(Bt,Rt){for(let Xt=0;Xt<Bt.length;Xt++)if(Rt(Bt[Xt]))return Bt[Xt]}(dt.conversionsTo,Bt=>Bt.from===rt.from);if(!bt)throw new Error("Attempt to remove nonexistent conversion from "+rt.from+" to "+rt.to);if(bt.convert!==rt.convert)throw new Error("Conversion to remove does not match existing conversion");const Ot=dt.conversionsTo.indexOf(bt);dt.conversionsTo.splice(Ot,1)},c.resolve=function(rt,dt){if(!y(rt))throw new TypeError(II);const bt=rt._typedFunctionData.signatures;for(let Ot=0;Ot<bt.length;++Ot)if(bt[Ot].test(dt))return bt[Ot];return null},c}();function Mf(n,t,e,r){function i(a){var s=function(c,f){for(var d={},h=0;h<f.length;h++){var m=f[h],y=c[m];y!==void 0&&(d[m]=y)}return d}(a,t.map(oJ));return function(c,f,d){var h=f.filter(y=>!function(w){return w&&w[0]==="?"}(y)).every(y=>d[y]!==void 0);if(!h){var m=f.filter(y=>d[y]===void 0);throw new Error('Cannot create function "'.concat(c,'", ')+"some dependencies are missing: ".concat(m.map(y=>'"'.concat(y,'"')).join(", "),"."))}}(n,t,a),e(s)}return i.isFactory=!0,i.fn=n,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function oJ(n){return n&&n[0]==="?"?n.slice(1):n}function vp(n){return typeof n=="boolean"||!!isFinite(n)&&n===Math.round(n)}function mA(n,t,e){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!vp(e))throw new Error("size must be an integer");if(n>2**(e-1)-1||n<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!vp(n))throw new Error("Value must be an integer");n<0&&(n+=2**e),i="i".concat(e)}var a="";return n<0&&(n=-n,a="-"),"".concat(a).concat(r).concat(n.toString(t)).concat(i)}function OM(n,t){if(typeof t=="function")return t(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:e,precision:r,wordSize:i}=dL(t);switch(e){case"fixed":return function(a,s){if(isNaN(a)||!isFinite(a))return String(a);var c=O_(a),f=typeof s=="number"?N_(c,c.exponent+1+s):c,d=f.coefficients,h=f.exponent+1,m=h+(s||0);return d.length<m&&(d=d.concat(Qy(m-d.length))),h<0&&(d=Qy(1-h).concat(d),h=1),h<d.length&&d.splice(h,0,h===0?"0.":"."),f.sign+d.join("")}(n,r);case"exponential":return BI(n,r);case"engineering":return function(a,s){if(isNaN(a)||!isFinite(a))return String(a);var c=N_(O_(a),s),f=c.exponent,d=c.coefficients,h=f%3==0?f:f<0?f-3-f%3:f-f%3;if(qf(s))for(;s>d.length||f-h+1>d.length;)d.push(0);else for(var m=Math.abs(f-h)-(d.length-1),y=0;y<m;y++)d.push(0);for(var w=Math.abs(f-h),C=1;w>0;)C++,w--;var k=d.slice(C).join(""),M=qf(s)&&k.length||k.match(/[1-9]/)?"."+k:"",N=d.slice(0,C).join("")+M+"e"+(f>=0?"+":"")+h.toString();return c.sign+N}(n,r);case"bin":return mA(n,2,i);case"oct":return mA(n,8,i);case"hex":return mA(n,16,i);case"auto":return function(a,s,c){if(isNaN(a)||!isFinite(a))return String(a);var f=jI(c==null?void 0:c.lowerExp,-3),d=jI(c==null?void 0:c.upperExp,5),h=O_(a),m=s?N_(h,s):h;if(m.exponent<f||m.exponent>=d)return BI(a,s);var y=m.coefficients,w=m.exponent;y.length<s&&(y=y.concat(Qy(s-y.length))),y=y.concat(Qy(w-y.length+1+(y.length<s?s-y.length:0)));var C=w>0?w:0;return C<(y=Qy(-w).concat(y)).length-1&&y.splice(C+1,0,"."),m.sign+y.join("")}(n,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function dL(n){var t,e,r="auto";if(n!==void 0)if(qf(n))t=n;else if(Rp(n))t=n.toNumber();else{if(!XT(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");n.precision!==void 0&&(t=RI(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(e=RI(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation)}return{notation:r,precision:t,wordSize:e}}function O_(n){var t=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+n);var e=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return s.length===0&&(s.push(0),i++),{sign:e,coefficients:s,exponent:i}}function BI(n,t){if(isNaN(n)||!isFinite(n))return String(n);var e=O_(n),r=t?N_(e,t):e,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(Qy(t-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function N_(n,t){for(var e={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=e.coefficients;t<=0;)r.unshift(0),e.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;r[i]===10;)r.pop(),i===0&&(r.unshift(0),e.exponent++,i++),r[--i]++}return e}function Qy(n){for(var t=[],e=0;e<n;e++)t.push(0);return t}function I_(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(t)&&(isFinite(n)&&isFinite(t)?n===t||Math.abs(n-t)<=Math.max(e*Math.max(Math.abs(n),Math.abs(t)),r):n===t)}function RI(n,t){return qf(n)?n:Rp(n)?n.toNumber():void t()}function jI(n,t){return qf(n)?n:Rp(n)?n.toNumber():t}var gL=function(){return gL=TS.create,TS},aJ=Mf("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:t,Complex:e,DenseMatrix:r,Fraction:i}=n,a=gL();return a.clear(),a.addTypes([{name:"number",test:qf},{name:"Complex",test:fL},{name:"BigNumber",test:Rp},{name:"bigint",test:MX},{name:"Fraction",test:hL},{name:"Unit",test:pL},{name:"identifier",test:s=>Em&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Em},{name:"Chain",test:iJ},{name:"Array",test:Xh},{name:"Matrix",test:Tm},{name:"DenseMatrix",test:FX},{name:"SparseMatrix",test:PX},{name:"Range",test:TX},{name:"Index",test:YT},{name:"boolean",test:OX},{name:"ResultSet",test:NX},{name:"Help",test:IX},{name:"function",test:BX},{name:"Date",test:RX},{name:"RegExp",test:jX},{name:"null",test:zX},{name:"undefined",test:UX},{name:"AccessorNode",test:$X},{name:"ArrayNode",test:WX},{name:"AssignmentNode",test:HX},{name:"BlockNode",test:VX},{name:"ConditionalNode",test:qX},{name:"ConstantNode",test:KX},{name:"FunctionNode",test:YX},{name:"FunctionAssignmentNode",test:GX},{name:"IndexNode",test:XX},{name:"Node",test:JX},{name:"ObjectNode",test:QX},{name:"OperatorNode",test:ZX},{name:"ParenthesisNode",test:tJ},{name:"RangeNode",test:eJ},{name:"RelationalNode",test:nJ},{name:"SymbolNode",test:rJ},{name:"Map",test:LX},{name:"Object",test:XT}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||GD(s),s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return e||YD(s),new e(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return e||YD(s),new e(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return t||GD(s),new t(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return i||XD(s),new i(s.toString())}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return e||YD(s),new e(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||XD(s);var c=new i(s);if(c.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(s){var c=Number(s);if(isNaN(c))throw new Error('Cannot convert "'+s+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(s){t||GD(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){i||XD(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){e||YD(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||GD(s),new t(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||XD(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),a.onMismatch=(s,c,f)=>{var d=a.createError(s,c,f);if(["wrongType","mismatch"].includes(d.data.category)&&c.length===1&&PS(c[0])&&f.some(m=>!m.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=d.data,h}throw d},a.onMismatch=(s,c,f)=>{var d=a.createError(s,c,f);if(["wrongType","mismatch"].includes(d.data.category)&&c.length===1&&PS(c[0])&&f.some(m=>!m.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=d.data,h}throw d},a});function GD(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function YD(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function XD(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var mL,uv,uw=9e15,Rv=1e9,NM="0123456789abcdef",OS="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",NS="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",IM={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-uw,maxE:uw,crypto:!1},Ia=!0,CE="[DecimalError] ",t0=CE+"Invalid argument: ",vL=CE+"Precision limit exceeded",yL=CE+"crypto unavailable",wL="[object Decimal]",Yp=Math.floor,rp=Math.pow,sJ=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,uJ=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,lJ=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,LI=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jg=1e7,cJ=OS.length-1,BM=NS.length-1,hn={toStringTag:wL};function Sp(n){var t,e,r,i=n.length-1,a="",s=n[0];if(i>0){for(a+=s,t=1;t<i;t++)(e=7-(r=n[t]+"").length)&&(a+=Fv(e)),a+=r;(e=7-(r=(s=n[t])+"").length)&&(a+=Fv(e))}else if(s===0)return"0";for(;s%10==0;)s/=10;return a+s}function Ed(n,t,e){if(n!==~~n||n<t||n>e)throw Error(t0+n)}function lx(n,t,e,r){var i,a,s,c;for(a=n[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=rp(10,7-t),c=n[i]%a|0,r==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),s=e<4&&c==99999||e>3&&c==49999||c==5e4||c==0):s=(e<4&&c+1==a||e>3&&c+1==a/2)&&(n[i+1]/a/100|0)==rp(10,t-2)-1||(c==a/2||c==0)&&!(n[i+1]/a/100|0):t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),s=(r||e<4)&&c==9999||!r&&e>3&&c==4999):s=((r||e<4)&&c+1==a||!r&&e>3&&c+1==a/2)&&(n[i+1]/a/1e3|0)==rp(10,t-3)-1,s}function B_(n,t,e){for(var r,i,a=[0],s=0,c=n.length;s<c;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=NM.indexOf(n.charAt(s++)),r=0;r<a.length;r++)a[r]>e-1&&(a[r+1]===void 0&&(a[r+1]=0),a[r+1]+=a[r]/e|0,a[r]%=e)}return a.reverse()}hn.absoluteValue=hn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),yo(n)},hn.ceil=function(){return yo(new this.constructor(this),this.e+1,2)},hn.clampedTo=hn.clamp=function(n,t){var e=this,r=e.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(t0+t);return e.cmp(n)<0?n:e.cmp(t)>0?t:new r(e)},hn.comparedTo=hn.cmp=function(n){var t,e,r,i,a=this,s=a.d,c=(n=new a.constructor(n)).d,f=a.s,d=n.s;if(!s||!c)return f&&d?f!==d?f:s===c?0:!s^f<0?1:-1:NaN;if(!s[0]||!c[0])return s[0]?f:c[0]?-d:0;if(f!==d)return f;if(a.e!==n.e)return a.e>n.e^f<0?1:-1;for(t=0,e=(r=s.length)<(i=c.length)?r:i;t<e;++t)if(s[t]!==c[t])return s[t]>c[t]^f<0?1:-1;return r===i?0:r>i^f<0?1:-1},hn.cosine=hn.cos=function(){var n,t,e=this,r=e.constructor;return e.d?e.d[0]?(n=r.precision,t=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(i,a){var s,c,f;if(a.isZero())return a;(c=a.d.length)<32?f=(1/JD(4,s=Math.ceil(c/3))).toString():(s=16,f="2.3283064365386962890625e-10"),i.precision+=s,a=Ny(i,1,a.times(f),new i(1));for(var d=s;d--;){var h=a.times(a);a=h.times(h).minus(h).times(8).plus(1)}return i.precision-=s,a}(r,$I(r,e)),r.precision=n,r.rounding=t,yo(uv==2||uv==3?e.neg():e,n,t,!0)):new r(1):new r(NaN)},hn.cubeRoot=hn.cbrt=function(){var n,t,e,r,i,a,s,c,f,d,h=this,m=h.constructor;if(!h.isFinite()||h.isZero())return new m(h);for(Ia=!1,(a=h.s*rp(h.s*h,1/3))&&Math.abs(a)!=1/0?r=new m(a.toString()):(e=Sp(h.d),(a=((n=h.e)-e.length+1)%3)&&(e+=a==1||a==-2?"0":"00"),a=rp(e,1/3),n=Yp((n+1)/3)-(n%3==(n<0?-1:2)),(r=new m(e=a==1/0?"5e"+n:(e=a.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=h.s),s=(n=m.precision)+3;;)if(d=(f=(c=r).times(c).times(c)).plus(h),r=Cf(d.plus(h).times(c),d.plus(f),s+2,1),Sp(c.d).slice(0,s)===(e=Sp(r.d)).slice(0,s)){if((e=e.slice(s-3,s+1))!="9999"&&(i||e!="4999")){+e&&(+e.slice(1)||e.charAt(0)!="5")||(yo(r,n+1,1),t=!r.times(r).times(r).eq(h));break}if(!i&&(yo(c,n+1,0),c.times(c).times(c).eq(h))){r=c;break}s+=4,i=1}return Ia=!0,yo(r,n,m.rounding,t)},hn.decimalPlaces=hn.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-Yp(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},hn.dividedBy=hn.div=function(n){return Cf(this,new this.constructor(n))},hn.dividedToIntegerBy=hn.divToInt=function(n){var t=this.constructor;return yo(Cf(this,new t(n),0,1,1),t.precision,t.rounding)},hn.equals=hn.eq=function(n){return this.cmp(n)===0},hn.floor=function(){return yo(new this.constructor(this),this.e+1,3)},hn.greaterThan=hn.gt=function(n){return this.cmp(n)>0},hn.greaterThanOrEqualTo=hn.gte=function(n){var t=this.cmp(n);return t==1||t===0},hn.hyperbolicCosine=hn.cosh=function(){var n,t,e,r,i,a=this,s=a.constructor,c=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return c;e=s.precision,r=s.rounding,s.precision=e+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/JD(4,n=Math.ceil(i/3))).toString():(n=16,t="2.3283064365386962890625e-10"),a=Ny(s,1,a.times(t),new s(1),!0);for(var f,d=n,h=new s(8);d--;)f=a.times(a),a=c.minus(f.times(h.minus(f.times(h))));return yo(a,s.precision=e,s.rounding=r,!0)},hn.hyperbolicSine=hn.sinh=function(){var n,t,e,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,e=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=Ny(a,2,i,i,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,i=Ny(a,2,i=i.times(1/JD(5,n)),i,!0);for(var s,c=new a(5),f=new a(16),d=new a(20);n--;)s=i.times(i),i=i.times(c.plus(s.times(f.times(s).plus(d))))}return a.precision=t,a.rounding=e,yo(i,t,e,!0)},hn.hyperbolicTangent=hn.tanh=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+7,r.rounding=1,Cf(e.sinh(),e.cosh(),r.precision=n,r.rounding=t)):new r(e.s)},hn.inverseCosine=hn.acos=function(){var n,t=this,e=t.constructor,r=t.abs().cmp(1),i=e.precision,a=e.rounding;return r!==-1?r===0?t.isNeg()?Hg(e,i,a):new e(0):new e(NaN):t.isZero()?Hg(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),n=Hg(e,i+4,a).times(.5),e.precision=i,e.rounding=a,n.minus(t))},hn.inverseHyperbolicCosine=hn.acosh=function(){var n,t,e=this,r=e.constructor;return e.lte(1)?new r(e.eq(1)?0:NaN):e.isFinite()?(n=r.precision,t=r.rounding,r.precision=n+Math.max(Math.abs(e.e),e.sd())+4,r.rounding=1,Ia=!1,e=e.times(e).minus(1).sqrt().plus(e),Ia=!0,r.precision=n,r.rounding=t,e.ln()):new r(e)},hn.inverseHyperbolicSine=hn.asinh=function(){var n,t,e=this,r=e.constructor;return!e.isFinite()||e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+2*Math.max(Math.abs(e.e),e.sd())+6,r.rounding=1,Ia=!1,e=e.times(e).plus(1).sqrt().plus(e),Ia=!0,r.precision=n,r.rounding=t,e.ln())},hn.inverseHyperbolicTangent=hn.atanh=function(){var n,t,e,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=a.precision,t=a.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?yo(new a(i),n,t,!0):(a.precision=e=r-i.e,i=Cf(i.plus(1),new a(1).minus(i),e+n,1),a.precision=n+4,a.rounding=1,i=i.ln(),a.precision=n,a.rounding=t,i.times(.5))):new a(NaN)},hn.inverseSine=hn.asin=function(){var n,t,e,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),e=a.precision,r=a.rounding,t!==-1?t===0?((n=Hg(a,e+4,r).times(.5)).s=i.s,n):new a(NaN):(a.precision=e+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=e,a.rounding=r,i.times(2)))},hn.inverseTangent=hn.atan=function(){var n,t,e,r,i,a,s,c,f,d=this,h=d.constructor,m=h.precision,y=h.rounding;if(d.isFinite()){if(d.isZero())return new h(d);if(d.abs().eq(1)&&m+4<=BM)return(s=Hg(h,m+4,y).times(.25)).s=d.s,s}else{if(!d.s)return new h(NaN);if(m+4<=BM)return(s=Hg(h,m+4,y).times(.5)).s=d.s,s}for(h.precision=c=m+10,h.rounding=1,n=e=Math.min(28,c/7+2|0);n;--n)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Ia=!1,t=Math.ceil(c/7),r=1,f=d.times(d),s=new h(d),i=d;n!==-1;)if(i=i.times(f),a=s.minus(i.div(r+=2)),i=i.times(f),(s=a.plus(i.div(r+=2))).d[t]!==void 0)for(n=t;s.d[n]===a.d[n]&&n--;);return e&&(s=s.times(2<<e-1)),Ia=!0,yo(s,h.precision=m,h.rounding=y,!0)},hn.isFinite=function(){return!!this.d},hn.isInteger=hn.isInt=function(){return!!this.d&&Yp(this.e/7)>this.d.length-2},hn.isNaN=function(){return!this.s},hn.isNegative=hn.isNeg=function(){return this.s<0},hn.isPositive=hn.isPos=function(){return this.s>0},hn.isZero=function(){return!!this.d&&this.d[0]===0},hn.lessThan=hn.lt=function(n){return this.cmp(n)<0},hn.lessThanOrEqualTo=hn.lte=function(n){return this.cmp(n)<1},hn.logarithm=hn.log=function(n){var t,e,r,i,a,s,c,f,d=this,h=d.constructor,m=h.precision,y=h.rounding;if(n==null)n=new h(10),t=!0;else{if(e=(n=new h(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new h(NaN);t=n.eq(10)}if(e=d.d,d.s<0||!e||!e[0]||d.eq(1))return new h(e&&!e[0]?-1/0:d.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)a=!0;else{for(i=e[0];i%10==0;)i/=10;a=i!==1}if(Ia=!1,s=_v(d,c=m+5),r=t?IS(h,c+10):_v(n,c),lx((f=Cf(s,r,c,1)).d,i=m,y))do if(s=_v(d,c+=10),r=t?IS(h,c+10):_v(n,c),f=Cf(s,r,c,1),!a){+Sp(f.d).slice(i+1,i+15)+1==1e14&&(f=yo(f,m+1,0));break}while(lx(f.d,i+=10,y));return Ia=!0,yo(f,m,y)},hn.minus=hn.sub=function(n){var t,e,r,i,a,s,c,f,d,h,m,y,w=this,C=w.constructor;if(n=new C(n),!w.d||!n.d)return w.s&&n.s?w.d?n.s=-n.s:n=new C(n.d||w.s!==n.s?w:NaN):n=new C(NaN),n;if(w.s!=n.s)return n.s=-n.s,w.plus(n);if(d=w.d,y=n.d,c=C.precision,f=C.rounding,!d[0]||!y[0]){if(y[0])n.s=-n.s;else{if(!d[0])return new C(f===3?-0:0);n=new C(w)}return Ia?yo(n,c,f):n}if(e=Yp(n.e/7),h=Yp(w.e/7),d=d.slice(),a=h-e){for((m=a<0)?(t=d,a=-a,s=y.length):(t=y,e=h,s=d.length),a>(r=Math.max(Math.ceil(c/7),s)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((m=(r=d.length)<(s=y.length))&&(s=r),r=0;r<s;r++)if(d[r]!=y[r]){m=d[r]<y[r];break}a=0}for(m&&(t=d,d=y,y=t,n.s=-n.s),s=d.length,r=y.length-s;r>0;--r)d[s++]=0;for(r=y.length;r>a;){if(d[--r]<y[r]){for(i=r;i&&d[--i]===0;)d[i]=jg-1;--d[i],d[r]+=jg}d[r]-=y[r]}for(;d[--s]===0;)d.pop();for(;d[0]===0;d.shift())--e;return d[0]?(n.d=d,n.e=R_(d,e),Ia?yo(n,c,f):n):new C(f===3?-0:0)},hn.modulo=hn.mod=function(n){var t,e=this,r=e.constructor;return n=new r(n),!e.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||e.d&&!e.d[0]?yo(new r(e),r.precision,r.rounding):(Ia=!1,r.modulo==9?(t=Cf(e,n.abs(),0,3,1)).s*=n.s:t=Cf(e,n,0,r.modulo,1),t=t.times(n),Ia=!0,e.minus(t))},hn.naturalExponential=hn.exp=function(){return vA(this)},hn.naturalLogarithm=hn.ln=function(){return _v(this)},hn.negated=hn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,yo(n)},hn.plus=hn.add=function(n){var t,e,r,i,a,s,c,f,d,h,m=this,y=m.constructor;if(n=new y(n),!m.d||!n.d)return m.s&&n.s?m.d||(n=new y(n.d||m.s===n.s?m:NaN)):n=new y(NaN),n;if(m.s!=n.s)return n.s=-n.s,m.minus(n);if(d=m.d,h=n.d,c=y.precision,f=y.rounding,!d[0]||!h[0])return h[0]||(n=new y(m)),Ia?yo(n,c,f):n;if(a=Yp(m.e/7),r=Yp(n.e/7),d=d.slice(),i=a-r){for(i<0?(e=d,i=-i,s=h.length):(e=h,r=a,s=d.length),i>(s=(a=Math.ceil(c/7))>s?a+1:s+1)&&(i=s,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for((s=d.length)-(i=h.length)<0&&(i=s,e=h,h=d,d=e),t=0;i;)t=(d[--i]=d[i]+h[i]+t)/jg|0,d[i]%=jg;for(t&&(d.unshift(t),++r),s=d.length;d[--s]==0;)d.pop();return n.d=d,n.e=R_(d,r),Ia?yo(n,c,f):n},hn.precision=hn.sd=function(n){var t,e=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(t0+n);return e.d?(t=zI(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},hn.round=function(){var n=this,t=n.constructor;return yo(new t(n),n.e+1,t.rounding)},hn.sine=hn.sin=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(i,a){var s,c=a.d.length;if(c<3)return a.isZero()?a:Ny(i,2,a,a);s=(s=1.4*Math.sqrt(c))>16?16:0|s,a=Ny(i,2,a=a.times(1/JD(5,s)),a);for(var f,d=new i(5),h=new i(16),m=new i(20);s--;)f=a.times(a),a=a.times(d.plus(f.times(h.times(f).minus(m))));return a}(r,$I(r,e)),r.precision=n,r.rounding=t,yo(uv>2?e.neg():e,n,t,!0)):new r(NaN)},hn.squareRoot=hn.sqrt=function(){var n,t,e,r,i,a,s=this,c=s.d,f=s.e,d=s.s,h=s.constructor;if(d!==1||!c||!c[0])return new h(!d||d<0&&(!c||c[0])?NaN:c?s:1/0);for(Ia=!1,(d=Math.sqrt(+s))==0||d==1/0?(((t=Sp(c)).length+f)%2==0&&(t+="0"),d=Math.sqrt(t),f=Yp((f+1)/2)-(f<0||f%2),r=new h(t=d==1/0?"5e"+f:(t=d.toExponential()).slice(0,t.indexOf("e")+1)+f)):r=new h(d.toString()),e=(f=h.precision)+3;;)if(r=(a=r).plus(Cf(s,a,e+2,1)).times(.5),Sp(a.d).slice(0,e)===(t=Sp(r.d)).slice(0,e)){if((t=t.slice(e-3,e+1))!="9999"&&(i||t!="4999")){+t&&(+t.slice(1)||t.charAt(0)!="5")||(yo(r,f+1,1),n=!r.times(r).eq(s));break}if(!i&&(yo(a,f+1,0),a.times(a).eq(s))){r=a;break}e+=4,i=1}return Ia=!0,yo(r,f,h.rounding,n)},hn.tangent=hn.tan=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+10,r.rounding=1,(e=e.sin()).s=1,e=Cf(e,new r(1).minus(e.times(e)).sqrt(),n+10,0),r.precision=n,r.rounding=t,yo(uv==2||uv==4?e.neg():e,n,t,!0)):new r(NaN)},hn.times=hn.mul=function(n){var t,e,r,i,a,s,c,f,d,h=this,m=h.constructor,y=h.d,w=(n=new m(n)).d;if(n.s*=h.s,!(y&&y[0]&&w&&w[0]))return new m(!n.s||y&&!y[0]&&!w||w&&!w[0]&&!y?NaN:y&&w?0*n.s:n.s/0);for(e=Yp(h.e/7)+Yp(n.e/7),(f=y.length)<(d=w.length)&&(a=y,y=w,w=a,s=f,f=d,d=s),a=[],r=s=f+d;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)c=a[i]+w[r]*y[i-r-1]+t,a[i--]=c%jg|0,t=c/jg|0;a[i]=(a[i]+t)%jg|0}for(;!a[--s];)a.pop();return t?++e:a.shift(),n.d=a,n.e=R_(a,e),Ia?yo(n,m.precision,m.rounding):n},hn.toBinary=function(n,t){return wA(this,2,n,t)},hn.toDecimalPlaces=hn.toDP=function(n,t){var e=this,r=e.constructor;return e=new r(e),n===void 0?e:(Ed(n,0,Rv),t===void 0?t=r.rounding:Ed(t,0,8),yo(e,n+e.e+1,t))},hn.toExponential=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=Dm(r,!0):(Ed(n,0,Rv),t===void 0?t=i.rounding:Ed(t,0,8),e=Dm(r=yo(new i(r),n+1,t),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+e:e},hn.toFixed=function(n,t){var e,r,i=this,a=i.constructor;return n===void 0?e=Dm(i):(Ed(n,0,Rv),t===void 0?t=a.rounding:Ed(t,0,8),e=Dm(r=yo(new a(i),n+i.e+1,t),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e},hn.toFraction=function(n){var t,e,r,i,a,s,c,f,d,h,m,y,w=this,C=w.d,k=w.constructor;if(!C)return new k(w);if(d=e=new k(1),r=f=new k(0),s=(a=(t=new k(r)).e=zI(C)-w.e-1)%7,t.d[0]=rp(10,s<0?7+s:s),n==null)n=a>0?t:d;else{if(!(c=new k(n)).isInt()||c.lt(d))throw Error(t0+c);n=c.gt(t)?a>0?t:d:c}for(Ia=!1,c=new k(Sp(C)),h=k.precision,k.precision=a=7*C.length*2;m=Cf(c,t,0,1,1),(i=e.plus(m.times(r))).cmp(n)!=1;)e=r,r=i,i=d,d=f.plus(m.times(i)),f=i,i=t,t=c.minus(m.times(i)),c=i;return i=Cf(n.minus(e),r,0,1,1),f=f.plus(i.times(d)),e=e.plus(i.times(r)),f.s=d.s=w.s,y=Cf(d,r,a,1).minus(w).abs().cmp(Cf(f,e,a,1).minus(w).abs())<1?[d,r]:[f,e],k.precision=h,Ia=!0,y},hn.toHexadecimal=hn.toHex=function(n,t){return wA(this,16,n,t)},hn.toNearest=function(n,t){var e=this,r=e.constructor;if(e=new r(e),n==null){if(!e.d)return e;n=new r(1),t=r.rounding}else{if(n=new r(n),t===void 0?t=r.rounding:Ed(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(Ia=!1,e=Cf(e,n,0,t,1).times(n),Ia=!0,yo(e)):(n.s=e.s,e=n),e},hn.toNumber=function(){return+this},hn.toOctal=function(n,t){return wA(this,8,n,t)},hn.toPower=hn.pow=function(n){var t,e,r,i,a,s,c=this,f=c.constructor,d=+(n=new f(n));if(!(c.d&&n.d&&c.d[0]&&n.d[0]))return new f(rp(+c,d));if((c=new f(c)).eq(1))return c;if(r=f.precision,a=f.rounding,n.eq(1))return yo(c,r,a);if((t=Yp(n.e/7))>=n.d.length-1&&(e=d<0?-d:d)<=9007199254740991)return i=bL(f,c,e,r),n.s<0?new f(1).div(i):yo(i,r,a);if((s=c.s)<0){if(t<n.d.length-1)return new f(NaN);if(1&n.d[t]||(s=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=s,c}return(t=(e=rp(+c,d))!=0&&isFinite(e)?new f(e+"").e:Yp(d*(Math.log("0."+Sp(c.d))/Math.LN10+c.e+1)))>f.maxE+1||t<f.minE-1?new f(t>0?s/0:0):(Ia=!1,f.rounding=c.s=1,e=Math.min(12,(t+"").length),(i=vA(n.times(_v(c,r+e)),r)).d&&lx((i=yo(i,r+5,1)).d,r,a)&&(t=r+10,+Sp((i=yo(vA(n.times(_v(c,t+e)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=yo(i,r+1,0))),i.s=s,Ia=!0,f.rounding=a,yo(i,r,a))},hn.toPrecision=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=Dm(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Ed(n,1,Rv),t===void 0?t=i.rounding:Ed(t,0,8),e=Dm(r=yo(new i(r),n,t),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+e:e},hn.toSignificantDigits=hn.toSD=function(n,t){var e=this.constructor;return n===void 0?(n=e.precision,t=e.rounding):(Ed(n,1,Rv),t===void 0?t=e.rounding:Ed(t,0,8)),yo(new e(this),n,t)},hn.toString=function(){var n=this,t=n.constructor,e=Dm(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},hn.truncated=hn.trunc=function(){return yo(new this.constructor(this),this.e+1,1)},hn.valueOf=hn.toJSON=function(){var n=this,t=n.constructor,e=Dm(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var Cf=function(){function n(r,i,a){var s,c=0,f=r.length;for(r=r.slice();f--;)s=r[f]*i+c,r[f]=s%a|0,c=s/a|0;return c&&r.unshift(c),r}function t(r,i,a,s){var c,f;if(a!=s)f=a>s?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function e(r,i,a,s){for(var c=0;a--;)r[a]-=c,c=r[a]<i[a]?1:0,r[a]=c*s+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s,c,f){var d,h,m,y,w,C,k,M,N,B,L,z,q,V,X,nt,it,ct,ft,gt,Ct=r.constructor,kt=r.s==i.s?1:-1,Tt=r.d,At=i.d;if(!(Tt&&Tt[0]&&At&&At[0]))return new Ct(r.s&&i.s&&(Tt?!At||Tt[0]!=At[0]:At)?Tt&&Tt[0]==0||!At?0*kt:kt/0:NaN);for(f?(w=1,h=r.e-i.e):(f=jg,w=7,h=Yp(r.e/w)-Yp(i.e/w)),ft=At.length,it=Tt.length,B=(N=new Ct(kt)).d=[],m=0;At[m]==(Tt[m]||0);m++);if(At[m]>(Tt[m]||0)&&h--,a==null?(V=a=Ct.precision,s=Ct.rounding):V=c?a+(r.e-i.e)+1:a,V<0)B.push(1),C=!0;else{if(V=V/w+2|0,m=0,ft==1){for(y=0,At=At[0],V++;(m<it||y)&&V--;m++)X=y*f+(Tt[m]||0),B[m]=X/At|0,y=X%At|0;C=y||m<it}else{for((y=f/(At[0]+1)|0)>1&&(At=n(At,y,f),Tt=n(Tt,y,f),ft=At.length,it=Tt.length),nt=ft,z=(L=Tt.slice(0,ft)).length;z<ft;)L[z++]=0;(gt=At.slice()).unshift(0),ct=At[0],At[1]>=f/2&&++ct;do y=0,(d=t(At,L,ft,z))<0?(q=L[0],ft!=z&&(q=q*f+(L[1]||0)),(y=q/ct|0)>1?(y>=f&&(y=f-1),(d=t(k=n(At,y,f),L,M=k.length,z=L.length))==1&&(y--,e(k,ft<M?gt:At,M,f))):(y==0&&(d=y=1),k=At.slice()),(M=k.length)<z&&k.unshift(0),e(L,k,z,f),d==-1&&(d=t(At,L,ft,z=L.length))<1&&(y++,e(L,ft<z?gt:At,z,f)),z=L.length):d===0&&(y++,L=[0]),B[m++]=y,d&&L[0]?L[z++]=Tt[nt]||0:(L=[Tt[nt]],z=1);while((nt++<it||L[0]!==void 0)&&V--);C=L[0]!==void 0}B[0]||B.shift()}if(w==1)N.e=h,mL=C;else{for(m=1,y=B[0];y>=10;y/=10)m++;N.e=m+h*w-1,yo(N,c?a+N.e+1:a,s,C)}return N}}();function yo(n,t,e,r){var i,a,s,c,f,d,h,m,y,w=n.constructor;t:if(t!=null){if(!(m=n.d))return n;for(i=1,c=m[0];c>=10;c/=10)i++;if((a=t-i)<0)a+=7,s=t,f=(h=m[y=0])/rp(10,i-s-1)%10|0;else if((y=Math.ceil((a+1)/7))>=(c=m.length)){if(!r)break t;for(;c++<=y;)m.push(0);h=f=0,i=1,s=(a%=7)-7+1}else{for(h=c=m[y],i=1;c>=10;c/=10)i++;f=(s=(a%=7)-7+i)<0?0:h/rp(10,i-s-1)%10|0}if(r=r||t<0||m[y+1]!==void 0||(s<0?h:h%rp(10,i-s-1)),d=e<4?(f||r)&&(e==0||e==(n.s<0?3:2)):f>5||f==5&&(e==4||r||e==6&&(a>0?s>0?h/rp(10,i-s):0:m[y-1])%10&1||e==(n.s<0?8:7)),t<1||!m[0])return m.length=0,d?(t-=n.e+1,m[0]=rp(10,(7-t%7)%7),n.e=-t||0):m[0]=n.e=0,n;if(a==0?(m.length=y,c=1,y--):(m.length=y+1,c=rp(10,7-a),m[y]=s>0?(h/rp(10,i-s)%rp(10,s)|0)*c:0),d)for(;;){if(y==0){for(a=1,s=m[0];s>=10;s/=10)a++;for(s=m[0]+=c,c=1;s>=10;s/=10)c++;a!=c&&(n.e++,m[0]==jg&&(m[0]=1));break}if(m[y]+=c,m[y]!=jg)break;m[y--]=0,c=1}for(a=m.length;m[--a]===0;)m.pop()}return Ia&&(n.e>w.maxE?(n.d=null,n.e=NaN):n.e<w.minE&&(n.e=0,n.d=[0])),n}function Dm(n,t,e){if(!n.isFinite())return DL(n);var r,i=n.e,a=Sp(n.d),s=a.length;return t?(e&&(r=e-s)>0?a=a.charAt(0)+"."+a.slice(1)+Fv(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):i<0?(a="0."+Fv(-i-1)+a,e&&(r=e-s)>0&&(a+=Fv(r))):i>=s?(a+=Fv(i+1-s),e&&(r=e-i-1)>0&&(a=a+"."+Fv(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),e&&(r=e-s)>0&&(i+1===s&&(a+="."),a+=Fv(r))),a}function R_(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function IS(n,t,e){if(t>cJ)throw Ia=!0,e&&(n.precision=e),Error(vL);return yo(new n(OS),t,1,!0)}function Hg(n,t,e){if(t>BM)throw Error(vL);return yo(new n(NS),t,e,!0)}function zI(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function Fv(n){for(var t="";n--;)t+="0";return t}function bL(n,t,e,r){var i,a=new n(1),s=Math.ceil(r/7+4);for(Ia=!1;;){if(e%2&&WI((a=a.times(t)).d,s)&&(i=!0),(e=Yp(e/2))===0){e=a.d.length-1,i&&a.d[e]===0&&++a.d[e];break}WI((t=t.times(t)).d,s)}return Ia=!0,a}function UI(n){return 1&n.d[n.d.length-1]}function xL(n,t,e){for(var r,i=new n(t[0]),a=0;++a<t.length;){if(!(r=new n(t[a])).s){i=r;break}i[e](r)&&(i=r)}return i}function vA(n,t){var e,r,i,a,s,c,f,d=0,h=0,m=0,y=n.constructor,w=y.rounding,C=y.precision;if(!n.d||!n.d[0]||n.e>17)return new y(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(t==null?(Ia=!1,f=C):f=t,c=new y(.03125);n.e>-2;)n=n.times(c),m+=5;for(f+=r=Math.log(rp(2,m))/Math.LN10*2+5|0,e=a=s=new y(1),y.precision=f;;){if(a=yo(a.times(n),f,1),e=e.times(++h),Sp((c=s.plus(Cf(a,e,f,1))).d).slice(0,f)===Sp(s.d).slice(0,f)){for(i=m;i--;)s=yo(s.times(s),f,1);if(t!=null)return y.precision=C,s;if(!(d<3&&lx(s.d,f-r,w,d)))return yo(s,y.precision=C,w,Ia=!0);y.precision=f+=10,e=a=c=new y(1),h=0,d++}s=c}}function _v(n,t){var e,r,i,a,s,c,f,d,h,m,y,w=1,C=n,k=C.d,M=C.constructor,N=M.rounding,B=M.precision;if(C.s<0||!k||!k[0]||!C.e&&k[0]==1&&k.length==1)return new M(k&&!k[0]?-1/0:C.s!=1?NaN:k?0:C);if(t==null?(Ia=!1,h=B):h=t,M.precision=h+=10,r=(e=Sp(k)).charAt(0),!(Math.abs(a=C.e)<15e14))return d=IS(M,h+2,B).times(a+""),C=_v(new M(r+"."+e.slice(1)),h-10).plus(d),M.precision=B,t==null?yo(C,B,N,Ia=!0):C;for(;r<7&&r!=1||r==1&&e.charAt(1)>3;)r=(e=Sp((C=C.times(n)).d)).charAt(0),w++;for(a=C.e,r>1?(C=new M("0."+e),a++):C=new M(r+"."+e.slice(1)),m=C,f=s=C=Cf(C.minus(1),C.plus(1),h,1),y=yo(C.times(C),h,1),i=3;;){if(s=yo(s.times(y),h,1),Sp((d=f.plus(Cf(s,new M(i),h,1))).d).slice(0,h)===Sp(f.d).slice(0,h)){if(f=f.times(2),a!==0&&(f=f.plus(IS(M,h+2,B).times(a+""))),f=Cf(f,new M(w),h,1),t!=null)return M.precision=B,f;if(!lx(f.d,h-10,N,c))return yo(f,M.precision=B,N,Ia=!0);M.precision=h+=10,d=s=C=Cf(m.minus(1),m.plus(1),h,1),y=yo(C.times(C),h,1),i=c=1}f=d,i+=2}}function DL(n){return String(n.s*n.s/0)}function yA(n,t){var e,r,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i)){if(i-=r,n.e=e=e-r-1,n.d=[],r=(e+1)%7,e<0&&(r+=7),r<i){for(r&&n.d.push(+t.slice(0,r)),i-=7;r<i;)n.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";n.d.push(+t),Ia&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Ny(n,t,e,r,i){var a,s,c,f,d=n.precision,h=Math.ceil(d/7);for(Ia=!1,f=e.times(e),c=new n(r);;){if(s=Cf(c.times(f),new n(t++*t++),d,1),c=i?r.plus(s):r.minus(s),r=Cf(s.times(f),new n(t++*t++),d,1),(s=c.plus(r)).d[h]!==void 0){for(a=h;s.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=r,r=s,s=a}return Ia=!0,s.d.length=h+1,s}function JD(n,t){for(var e=n;--t;)e*=n;return e}function $I(n,t){var e,r=t.s<0,i=Hg(n,n.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return uv=r?4:1,t;if((e=t.divToInt(i)).isZero())uv=r?3:2;else{if((t=t.minus(e.times(i))).lte(a))return uv=UI(e)?r?2:3:r?4:1,t;uv=UI(e)?r?1:4:r?3:2}return t.minus(i).abs()}function wA(n,t,e,r){var i,a,s,c,f,d,h,m,y,w=n.constructor,C=e!==void 0;if(C?(Ed(e,1,Rv),r===void 0?r=w.rounding:Ed(r,0,8)):(e=w.precision,r=w.rounding),n.isFinite()){for(C?(i=2,t==16?e=4*e-3:t==8&&(e=3*e-2)):i=t,(s=(h=Dm(n)).indexOf("."))>=0&&(h=h.replace(".",""),(y=new w(1)).e=h.length-s,y.d=B_(Dm(y),10,i),y.e=y.d.length),a=f=(m=B_(h,10,i)).length;m[--f]==0;)m.pop();if(m[0]){if(s<0?a--:((n=new w(n)).d=m,n.e=a,m=(n=Cf(n,y,e,r,0,i)).d,a=n.e,d=mL),s=m[e],c=i/2,d=d||m[e+1]!==void 0,d=r<4?(s!==void 0||d)&&(r===0||r===(n.s<0?3:2)):s>c||s===c&&(r===4||d||r===6&&1&m[e-1]||r===(n.s<0?8:7)),m.length=e,d)for(;++m[--e]>i-1;)m[e]=0,e||(++a,m.unshift(1));for(f=m.length;!m[f-1];--f);for(s=0,h="";s<f;s++)h+=NM.charAt(m[s]);if(C){if(f>1)if(t==16||t==8){for(s=t==16?4:3,--f;f%s;f++)h+="0";for(f=(m=B_(h,i,t)).length;!m[f-1];--f);for(s=1,h="1.";s<f;s++)h+=NM.charAt(m[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>f)for(a-=f;a--;)h+="0";else a<f&&(h=h.slice(0,a)+"."+h.slice(a))}else h=C?"0p+0":"0";h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}else h=DL(n);return n.s<0?"-"+h:h}function WI(n,t){if(n.length>t)return n.length=t,!0}function fJ(n){return new this(n).abs()}function hJ(n){return new this(n).acos()}function pJ(n){return new this(n).acosh()}function dJ(n,t){return new this(n).plus(t)}function gJ(n){return new this(n).asin()}function mJ(n){return new this(n).asinh()}function vJ(n){return new this(n).atan()}function yJ(n){return new this(n).atanh()}function wJ(n,t){n=new this(n),t=new this(t);var e,r=this.precision,i=this.rounding,a=r+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Hg(this,r,i):new this(0)).s=n.s:!n.d||t.isZero()?(e=Hg(this,a,1).times(.5)).s=n.s:t.s<0?(this.precision=a,this.rounding=1,e=this.atan(Cf(n,t,a,1)),t=Hg(this,a,1),this.precision=r,this.rounding=i,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(Cf(n,t,a,1)):(e=Hg(this,a,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function bJ(n){return new this(n).cbrt()}function xJ(n){return yo(n=new this(n),n.e+1,2)}function DJ(n,t,e){return new this(n).clamp(t,e)}function CJ(n){if(!n||typeof n!="object")throw Error(CE+"Object expected");var t,e,r,i=n.defaults===!0,a=["precision",1,Rv,"rounding",0,8,"toExpNeg",-uw,0,"toExpPos",0,uw,"maxE",0,uw,"minE",-uw,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(e=a[t],i&&(this[e]=IM[e]),(r=n[e])!==void 0){if(!(Yp(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(t0+e+": "+r);this[e]=r}if(e="crypto",i&&(this[e]=IM[e]),(r=n[e])!==void 0){if(r!==!0&&r!==!1&&r!==0&&r!==1)throw Error(t0+e+": "+r);if(r){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(yL);this[e]=!0}else this[e]=!1}return this}function _J(n){return new this(n).cos()}function SJ(n){return new this(n).cosh()}function EJ(n,t){return new this(n).div(t)}function AJ(n){return new this(n).exp()}function kJ(n){return yo(n=new this(n),n.e+1,3)}function MJ(){var n,t,e=new this(0);for(Ia=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Ia=!0,new this(1/0);e=t}return Ia=!0,e.sqrt()}function HI(n){return n instanceof Uw||n&&n.toStringTag===wL||!1}function FJ(n){return new this(n).ln()}function PJ(n,t){return new this(n).log(t)}function TJ(n){return new this(n).log(2)}function OJ(n){return new this(n).log(10)}function NJ(){return xL(this,arguments,"lt")}function IJ(){return xL(this,arguments,"gt")}function BJ(n,t){return new this(n).mod(t)}function RJ(n,t){return new this(n).mul(t)}function jJ(n,t){return new this(n).pow(t)}function LJ(n){var t,e,r,i,a=0,s=new this(1),c=[];if(n===void 0?n=this.precision:Ed(n,1,Rv),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(yL);for(t=crypto.randomBytes(r*=4);a<r;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(c.push(i%1e7),a+=4);a=r/4}else for(;a<r;)c[a++]=1e7*Math.random()|0;for(n%=7,(r=c[--a])&&n&&(i=rp(10,7-n),c[a]=(r/i|0)*i);c[a]===0;a--)c.pop();if(a<0)e=0,c=[0];else{for(e=-1;c[0]===0;e-=7)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<7&&(e-=7-r)}return s.e=e,s.d=c,s}function zJ(n){return yo(n=new this(n),n.e+1,this.rounding)}function UJ(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function $J(n){return new this(n).sin()}function WJ(n){return new this(n).sinh()}function HJ(n){return new this(n).sqrt()}function VJ(n,t){return new this(n).sub(t)}function qJ(){var n=0,t=arguments,e=new this(t[n]);for(Ia=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return Ia=!0,yo(e,this.precision,this.rounding)}function KJ(n){return new this(n).tan()}function GJ(n){return new this(n).tanh()}function YJ(n){return yo(n=new this(n),n.e+1,1)}hn[Symbol.for("nodejs.util.inspect.custom")]=hn.toString,hn[Symbol.toStringTag]="Decimal";var Uw=hn.constructor=function n(t){var e,r,i;function a(s){var c,f,d,h=this;if(!(h instanceof a))return new a(s);if(h.constructor=a,HI(s))return h.s=s.s,void(Ia?!s.d||s.e>a.maxE?(h.e=NaN,h.d=null):s.e<a.minE?(h.e=0,h.d=[0]):(h.e=s.e,h.d=s.d.slice()):(h.e=s.e,h.d=s.d?s.d.slice():s.d));if((d=typeof s)=="number"){if(s===0)return h.s=1/s<0?-1:1,h.e=0,void(h.d=[0]);if(s<0?(s=-s,h.s=-1):h.s=1,s===~~s&&s<1e7){for(c=0,f=s;f>=10;f/=10)c++;return void(Ia?c>a.maxE?(h.e=NaN,h.d=null):c<a.minE?(h.e=0,h.d=[0]):(h.e=c,h.d=[s]):(h.e=c,h.d=[s]))}return 0*s!=0?(s||(h.s=NaN),h.e=NaN,void(h.d=null)):yA(h,s.toString())}if(d!=="string")throw Error(t0+s);return(f=s.charCodeAt(0))===45?(s=s.slice(1),h.s=-1):(f===43&&(s=s.slice(1)),h.s=1),LI.test(s)?yA(h,s):function(m,y){var w,C,k,M,N,B,L,z,q;if(y.indexOf("_")>-1){if(y=y.replace(/(\d)_(?=\d)/g,"$1"),LI.test(y))return yA(m,y)}else if(y==="Infinity"||y==="NaN")return+y||(m.s=NaN),m.e=NaN,m.d=null,m;if(uJ.test(y))w=16,y=y.toLowerCase();else if(sJ.test(y))w=2;else{if(!lJ.test(y))throw Error(t0+y);w=8}for((M=y.search(/p/i))>0?(L=+y.slice(M+1),y=y.substring(2,M)):y=y.slice(2),N=(M=y.indexOf("."))>=0,C=m.constructor,N&&(M=(B=(y=y.replace(".","")).length)-M,k=bL(C,new C(w),M,2*M)),M=q=(z=B_(y,w,jg)).length-1;z[M]===0;--M)z.pop();return M<0?new C(0*m.s):(m.e=R_(z,q),m.d=z,Ia=!1,N&&(m=Cf(m,k,4*B)),L&&(m=m.times(Math.abs(L)<54?rp(2,L):Uw.pow(2,L))),Ia=!0,m)}(h,s)}if(a.prototype=hn,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=CJ,a.clone=n,a.isDecimal=HI,a.abs=fJ,a.acos=hJ,a.acosh=pJ,a.add=dJ,a.asin=gJ,a.asinh=mJ,a.atan=vJ,a.atanh=yJ,a.atan2=wJ,a.cbrt=bJ,a.ceil=xJ,a.clamp=DJ,a.cos=_J,a.cosh=SJ,a.div=EJ,a.exp=AJ,a.floor=kJ,a.hypot=MJ,a.ln=FJ,a.log=PJ,a.log10=OJ,a.log2=TJ,a.max=NJ,a.min=IJ,a.mod=BJ,a.mul=RJ,a.pow=jJ,a.random=LJ,a.round=zJ,a.sign=UJ,a.sin=$J,a.sinh=WJ,a.sqrt=HJ,a.sub=VJ,a.sum=qJ,a.tan=KJ,a.tanh=GJ,a.trunc=YJ,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(r=i[e++])||(t[r]=this[r]);return a.config(t),a}(IM);OS=new Uw(OS),NS=new Uw(NS);var XJ=Mf("BigNumber",["?on","config"],n=>{var{on:t,config:e}=n,r=Uw.clone({precision:e.precision,modulo:Uw.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const qp=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},cg=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},bA=function(n,t){return(n=Math.abs(n))<(t=Math.abs(t))&&([n,t]=[t,n]),n<1e8?Math.sqrt(n*n+t*t):(t/=n,n*Math.sqrt(1+t*t))},Iy=function(){throw SyntaxError("Invalid Param")};function xA(n,t){const e=Math.abs(n),r=Math.abs(t);return n===0?Math.log(r):t===0?Math.log(e):e<3e3&&r<3e3?.5*Math.log(n*n+t*t):(n*=.5,t*=.5,.5*Math.log(n*n+t*t)+Math.LN2)}const JJ={re:0,im:0},R0=function(n,t){const e=JJ;if(n==null)e.re=e.im=0;else if(t!==void 0)e.re=n,e.im=t;else switch(typeof n){case"object":if("im"in n&&"re"in n)e.re=n.re,e.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Ke.INFINITY;e.re=n.abs*Math.cos(n.arg),e.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Ke.INFINITY;e.re=n.r*Math.cos(n.phi),e.im=n.r*Math.sin(n.phi)}else n.length===2?(e.re=n[0],e.im=n[1]):Iy();break;case"string":e.im=e.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;r===null&&Iy();for(let s=0;s<r.length;s++){const c=r[s];c===" "||c==="	"||c===`
`||(c==="+"?i++:c==="-"?a++:c==="i"||c==="I"?(i+a===0&&Iy(),r[s+1]===" "||isNaN(r[s+1])?e.im+=parseFloat((a%2?"-":"")+"1"):(e.im+=parseFloat((a%2?"-":"")+r[s+1]),s++),i=a=0):((i+a===0||isNaN(c))&&Iy(),r[s+1]==="i"||r[s+1]==="I"?(e.im+=parseFloat((a%2?"-":"")+c),s++):e.re+=parseFloat((a%2?"-":"")+c),i=a=0))}i+a>0&&Iy();break;case"number":e.im=0,e.re=n;break;default:Iy()}return isNaN(e.re)||isNaN(e.im),e};function Ke(n,t){if(!(this instanceof Ke))return new Ke(n,t);const e=R0(n,t);this.re=e.re,this.im=e.im}Ke.prototype={re:0,im:0,sign:function(){const n=bA(this.re,this.im);return new Ke(this.re/n,this.im/n)},add:function(n,t){const e=R0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return r||i?r&&i?Ke.NAN:Ke.INFINITY:new Ke(this.re+e.re,this.im+e.im)},sub:function(n,t){const e=R0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return r||i?r&&i?Ke.NAN:Ke.INFINITY:new Ke(this.re-e.re,this.im-e.im)},mul:function(n,t){const e=R0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),a=this.re===0&&this.im===0,s=e.re===0&&e.im===0;return r&&s||i&&a?Ke.NAN:r||i?Ke.INFINITY:e.im===0&&this.im===0?new Ke(this.re*e.re,0):new Ke(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(n,t){const e=R0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),a=this.re===0&&this.im===0,s=e.re===0&&e.im===0;if(a&&s||r&&i)return Ke.NAN;if(s||r)return Ke.INFINITY;if(a||i)return Ke.ZERO;if(e.im===0)return new Ke(this.re/e.re,this.im/e.re);if(Math.abs(e.re)<Math.abs(e.im)){const c=e.re/e.im,f=e.re*c+e.im;return new Ke((this.re*c+this.im)/f,(this.im*c-this.re)/f)}{const c=e.im/e.re,f=e.im*c+e.re;return new Ke((this.re+this.im*c)/f,(this.im-this.re*c)/f)}},pow:function(n,t){const e=R0(n,t),r=this.re===0&&this.im===0;if(e.re===0&&e.im===0)return Ke.ONE;if(e.im===0){if(this.im===0&&this.re>0)return new Ke(Math.pow(this.re,e.re),0);if(this.re===0)switch((e.re%4+4)%4){case 0:return new Ke(Math.pow(this.im,e.re),0);case 1:return new Ke(0,Math.pow(this.im,e.re));case 2:return new Ke(-Math.pow(this.im,e.re),0);case 3:return new Ke(0,-Math.pow(this.im,e.re))}}if(r&&e.re>0)return Ke.ZERO;const i=Math.atan2(this.im,this.re),a=xA(this.re,this.im);let s=Math.exp(e.re*a-e.im*i),c=e.im*a+e.re*i;return new Ke(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const n=this.re,t=this.im;if(t===0)return n>=0?new Ke(Math.sqrt(n),0):new Ke(0,Math.sqrt(-n));const e=bA(n,t);let r=Math.sqrt(.5*(e+Math.abs(n))),i=Math.abs(t)/(2*r);return n>=0?new Ke(r,t<0?-i:i):new Ke(i,t<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Ke(n,0):new Ke(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,t=this.im;return new Ke(Math.expm1(n)*Math.cos(t)+function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const i=e*e;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(n)*Math.sin(t))},log:function(){const n=this.re,t=this.im;return t===0&&n>0?new Ke(Math.log(n),0):new Ke(xA(n,t),Math.atan2(t,n))},abs:function(){return bA(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,t=this.im;return new Ke(Math.sin(n)*qp(t),Math.cos(n)*cg(t))},cos:function(){const n=this.re,t=this.im;return new Ke(Math.cos(n)*qp(t),-Math.sin(n)*cg(t))},tan:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)+qp(t);return new Ke(Math.sin(n)/e,cg(t)/e)},cot:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)-qp(t);return new Ke(-Math.sin(n)/e,cg(t)/e)},sec:function(){const n=this.re,t=this.im,e=.5*qp(2*t)+.5*Math.cos(2*n);return new Ke(Math.cos(n)*qp(t)/e,Math.sin(n)*cg(t)/e)},csc:function(){const n=this.re,t=this.im,e=.5*qp(2*t)-.5*Math.cos(2*n);return new Ke(Math.sin(n)*qp(t)/e,-Math.cos(n)*cg(t)/e)},asin:function(){const n=this.re,t=this.im,e=new Ke(t*t-n*n+1,-2*n*t).sqrt(),r=new Ke(e.re-t,e.im+n).log();return new Ke(r.im,-r.re)},acos:function(){const n=this.re,t=this.im,e=new Ke(t*t-n*n+1,-2*n*t).sqrt(),r=new Ke(e.re-t,e.im+n).log();return new Ke(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,t=this.im;if(n===0){if(t===1)return new Ke(0,1/0);if(t===-1)return new Ke(0,-1/0)}const e=n*n+(1-t)*(1-t),r=new Ke((1-t*t-n*n)/e,-2*n/e).log();return new Ke(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,t=this.im;if(t===0)return new Ke(Math.atan2(1,n),0);const e=n*n+t*t;return e!==0?new Ke(n/e,-t/e).atan():new Ke(n!==0?n/0:0,t!==0?-t/0:0).atan()},asec:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ke(0,1/0);const e=n*n+t*t;return e!==0?new Ke(n/e,-t/e).acos():new Ke(n!==0?n/0:0,t!==0?-t/0:0).acos()},acsc:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ke(Math.PI/2,1/0);const e=n*n+t*t;return e!==0?new Ke(n/e,-t/e).asin():new Ke(n!==0?n/0:0,t!==0?-t/0:0).asin()},sinh:function(){const n=this.re,t=this.im;return new Ke(cg(n)*Math.cos(t),qp(n)*Math.sin(t))},cosh:function(){const n=this.re,t=this.im;return new Ke(qp(n)*Math.cos(t),cg(n)*Math.sin(t))},tanh:function(){const n=2*this.re,t=2*this.im,e=qp(n)+Math.cos(t);return new Ke(cg(n)/e,Math.sin(t)/e)},coth:function(){const n=2*this.re,t=2*this.im,e=qp(n)-Math.cos(t);return new Ke(cg(n)/e,-Math.sin(t)/e)},csch:function(){const n=this.re,t=this.im,e=Math.cos(2*t)-qp(2*n);return new Ke(-2*cg(n)*Math.cos(t)/e,2*qp(n)*Math.sin(t)/e)},sech:function(){const n=this.re,t=this.im,e=Math.cos(2*t)+qp(2*n);return new Ke(2*qp(n)*Math.cos(t)/e,-2*cg(n)*Math.sin(t)/e)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const t=this.asin();return this.re=-this.im,this.im=n,n=t.re,t.re=-t.im,t.im=n,t},acosh:function(){const n=this.acos();if(n.im<=0){const t=n.re;n.re=-n.im,n.im=t}else{const t=n.im;n.im=-n.re,n.re=t}return n},atanh:function(){const n=this.re,t=this.im,e=n>1&&t===0,r=1-n,i=1+n,a=r*r+t*t,s=a!==0?new Ke((i*r-t*t)/a,(t*r+i*t)/a):new Ke(n!==-1?n/0:0,t!==0?t/0:0),c=s.re;return s.re=xA(s.re,s.im)/2,s.im=Math.atan2(s.im,c)/2,e&&(s.im=-s.im),s},acoth:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ke(0,Math.PI/2);const e=n*n+t*t;return e!==0?new Ke(n/e,-t/e).atanh():new Ke(n!==0?n/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const n=this.re,t=this.im;if(t===0)return new Ke(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const e=n*n+t*t;return e!==0?new Ke(n/e,-t/e).asinh():new Ke(n!==0?n/0:0,t!==0?-t/0:0).asinh()},asech:function(){const n=this.re,t=this.im;if(this.isZero())return Ke.INFINITY;const e=n*n+t*t;return e!==0?new Ke(n/e,-t/e).acosh():new Ke(n!==0?n/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return Ke.INFINITY;if(this.isInfinite())return Ke.ZERO;const n=this.re,t=this.im,e=n*n+t*t;return new Ke(n/e,-t/e)},conjugate:function(){return new Ke(this.re,-this.im)},neg:function(){return new Ke(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Ke(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Ke(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Ke(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,t){const e=R0(n,t);return Math.abs(e.re-this.re)<=Ke.EPSILON&&Math.abs(e.im-this.im)<=Ke.EPSILON},clone:function(){return new Ke(this.re,this.im)},toString:function(){let n=this.re,t=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Ke.EPSILON&&(n=0),Math.abs(t)<Ke.EPSILON&&(t=0),t===0?e+n:(n!==0?(e+=n,e+=" ",t<0?(t=-t,e+="-"):e+="+",e+=" "):t<0&&(t=-t,e+="-"),t!==1&&(e+=t),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Ke.ZERO=new Ke(0,0),Ke.ONE=new Ke(1,0),Ke.I=new Ke(0,1),Ke.PI=new Ke(Math.PI,0),Ke.E=new Ke(Math.E,0),Ke.INFINITY=new Ke(1/0,1/0),Ke.NAN=new Ke(NaN,NaN),Ke.EPSILON=1e-15;var QJ=Mf("Complex",[],()=>(Object.defineProperty(Ke,"name",{value:"Complex"}),Ke.prototype.constructor=Ke,Ke.prototype.type="Complex",Ke.prototype.isComplex=!0,Ke.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ke.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ke.prototype.format=function(n){var t=this.im,e=this.re,r=OM(this.re,n),i=OM(this.im,n),a=qf(n)?n:n?n.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(e/t)<s&&(e=0),Math.abs(t/e)<s&&(t=0)}return t===0?r:e===0?t===1?"i":t===-1?"-i":i+"i":t<0?t===-1?r+" - i":r+" - "+i.substring(1)+"i":t===1?r+" + i":r+" + "+i+"i"},Ke.fromPolar=function(n){switch(arguments.length){case 1:var t=arguments[0];if(typeof t=="object")return Ke(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var e=arguments[0],r=arguments[1];if(qf(e)){if(pL(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),qf(r))return new Ke({r:e,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ke.prototype.valueOf=Ke.prototype.toString,Ke.fromJSON=function(n){return new Ke(n)},Ke.compare=function(n,t){return n.re>t.re?1:n.re<t.re?-1:n.im>t.im?1:n.im<t.im?-1:0},Ke),{isClass:!0}),Ti={s:1,n:0,d:1};function nv(n,t){if(isNaN(n=parseInt(n,10)))throw j_();return n*t}function _h(n,t){if(t===0)throw QT();var e=Object.create(Qp.prototype);e.s=n<0?-1:1;var r=lw(n=n<0?-n:n,t);return e.n=n/r,e.d=t/r,e}function VI(n){for(var t={},e=n,r=2,i=4;i<=e;){for(;e%r==0;)e/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return e!==n?e>1&&(t[e]=(t[e]||0)+1):t[n]=(t[n]||0)+1,t}var Vd=function(n,t){var e,r=0,i=1,a=1,s=0,c=0,f=0,d=1,h=1,m=0,y=1,w=1,C=1,k=1e7;if(n!=null)if(t!==void 0){if(a=(r=n)*(i=t),r%1!=0||i%1!=0)throw ZJ()}else switch(typeof n){case"object":if("d"in n&&"n"in n)r=n.n,i=n.d,"s"in n&&(r*=n.s);else{if(!(0 in n))throw j_();r=n[0],1 in n&&(i=n[1])}a=r*i;break;case"number":if(n<0&&(a=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=h=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));y<=k&&C<=k;){if(n===(e=(m+w)/(y+C))){y+C<=k?(r=m+w,i=y+C):C>y?(r=w,i=C):(r=m,i=y);break}n>e?(m+=w,y+=C):(w+=m,C+=y),y>k?(r=w,i=C):(r=m,i=y)}r*=h}else(isNaN(n)||isNaN(t))&&(i=r=NaN);break;case"string":if((y=n.match(/\d+|./g))===null)throw j_();if(y[m]==="-"?(a=-1,m++):y[m]==="+"&&m++,y.length===m+1?c=nv(y[m++],a):y[m+1]==="."||y[m]==="."?(y[m]!=="."&&(s=nv(y[m++],a)),(1+ ++m===y.length||y[m+1]==="("&&y[m+3]===")"||y[m+1]==="'"&&y[m+3]==="'")&&(c=nv(y[m],a),d=Math.pow(10,y[m].length),m++),(y[m]==="("&&y[m+2]===")"||y[m]==="'"&&y[m+2]==="'")&&(f=nv(y[m+1],a),h=Math.pow(10,y[m+1].length)-1,m+=3)):y[m+1]==="/"||y[m+1]===":"?(c=nv(y[m],a),d=nv(y[m+2],1),m+=3):y[m+3]==="/"&&y[m+1]===" "&&(s=nv(y[m],a),c=nv(y[m+2],a),d=nv(y[m+4],1),m+=5),y.length<=m){a=r=f+(i=d*h)*s+h*c;break}default:throw j_()}if(i===0)throw QT();Ti.s=a<0?-1:1,Ti.n=Math.abs(r),Ti.d=Math.abs(i)};function lw(n,t){if(!n)return t;if(!t)return n;for(;;){if(!(n%=t))return t;if(!(t%=n))return n}}function Qp(n,t){if(Vd(n,t),!(this instanceof Qp))return _h(Ti.s*Ti.n,Ti.d);n=lw(Ti.d,Ti.n),this.s=Ti.s,this.n=Ti.n/n,this.d=Ti.d/n}var QT=function(){return new Error("Division by Zero")},j_=function(){return new Error("Invalid argument")},ZJ=function(){return new Error("Parameters must be integer")};Qp.prototype={s:1,n:0,d:1,abs:function(){return _h(this.n,this.d)},neg:function(){return _h(-this.s*this.n,this.d)},add:function(n,t){return Vd(n,t),_h(this.s*this.n*Ti.d+Ti.s*this.d*Ti.n,this.d*Ti.d)},sub:function(n,t){return Vd(n,t),_h(this.s*this.n*Ti.d-Ti.s*this.d*Ti.n,this.d*Ti.d)},mul:function(n,t){return Vd(n,t),_h(this.s*Ti.s*this.n*Ti.n,this.d*Ti.d)},div:function(n,t){return Vd(n,t),_h(this.s*Ti.s*this.n*Ti.d,this.d*Ti.n)},clone:function(){return _h(this.s*this.n,this.d)},mod:function(n,t){if(isNaN(this.n)||isNaN(this.d))return new Qp(NaN);if(n===void 0)return _h(this.s*this.n%this.d,1);if(Vd(n,t),Ti.n===0&&this.d===0)throw QT();return _h(this.s*(Ti.d*this.n)%(Ti.n*this.d),Ti.d*this.d)},gcd:function(n,t){return Vd(n,t),_h(lw(Ti.n,this.n)*lw(Ti.d,this.d),Ti.d*this.d)},lcm:function(n,t){return Vd(n,t),Ti.n===0&&this.n===0?_h(0,1):_h(Ti.n*this.n,lw(Ti.n,this.n)*lw(Ti.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Qp(NaN):_h(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Qp(NaN):_h(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Qp(NaN):_h(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,t){return Vd(n,t),_h(this.s*Math.round(this.n*Ti.d/(this.d*Ti.n))*Ti.n,Ti.d)},inverse:function(){return _h(this.s*this.d,this.n)},pow:function(n,t){if(Vd(n,t),Ti.d===1)return Ti.s<0?_h(Math.pow(this.s*this.d,Ti.n),Math.pow(this.n,Ti.n)):_h(Math.pow(this.s*this.n,Ti.n),Math.pow(this.d,Ti.n));if(this.s<0)return null;var e=VI(this.n),r=VI(this.d),i=1,a=1;for(var s in e)if(s!=="1"){if(s==="0"){i=0;break}if(e[s]*=Ti.n,e[s]%Ti.d!=0)return null;e[s]/=Ti.d,i*=Math.pow(s,e[s])}for(var s in r)if(s!=="1"){if(r[s]*=Ti.n,r[s]%Ti.d!=0)return null;r[s]/=Ti.d,a*=Math.pow(s,r[s])}return Ti.s<0?_h(a,i):_h(i,a)},equals:function(n,t){return Vd(n,t),this.s*this.n*Ti.d==Ti.s*Ti.n*this.d},compare:function(n,t){Vd(n,t);var e=this.s*this.n*Ti.d-Ti.s*Ti.n*this.d;return(0<e)-(e<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var t=this.abs(),e=t.toContinued(),r=1;r<e.length;r++){for(var i=_h(e[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(e[a]);if(Math.abs(i.sub(t).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,t){return Vd(n,t),!(!(Ti.n*this.d)||this.n*Ti.d%(Ti.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var t,e="",r=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=r:(n&&(t=Math.floor(r/i))>0&&(e+=t,e+=" ",r%=i),e+=r,e+="/",e+=i),e},toLatex:function(n){var t,e="",r=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=r:(n&&(t=Math.floor(r/i))>0&&(e+=t,r%=i),e+="\\frac{",e+=r,e+="}{",e+=i,e+="}"),e},toContinued:function(){var n,t=this.n,e=this.d,r=[];if(isNaN(t)||isNaN(e))return r;do r.push(Math.floor(t/e)),n=t%e,t=e,e=n;while(t!==1);return r},toString:function(n){var t=this.n,e=this.d;if(isNaN(t)||isNaN(e))return"NaN";n=n||15;var r=function(c,f){for(;f%2==0;f/=2);for(;f%5==0;f/=5);if(f===1)return 0;for(var d=10%f,h=1;d!==1;h++)if(d=10*d%f,h>2e3)return 0;return h}(0,e),i=function(c,f,d){for(var h=1,m=function(w,C,k){for(var M=1;C>0;w=w*w%k,C>>=1)1&C&&(M=M*w%k);return M}(10,d,f),y=0;y<300;y++){if(h===m)return y;h=10*h%f,m=10*m%f}return 0}(0,e,r),a=this.s<0?"-":"";if(a+=t/e|0,t%=e,(t*=10)&&(a+="."),r){for(var s=i;s--;)a+=t/e|0,t%=e,t*=10;for(a+="(",s=r;s--;)a+=t/e|0,t%=e,t*=10;a+=")"}else for(s=n;t&&s--;)a+=t/e|0,t%=e,t*=10;return a}};var tQ=Mf("Fraction",[],()=>(Object.defineProperty(Qp,"name",{value:"Fraction"}),Qp.prototype.constructor=Qp,Qp.prototype.type="Fraction",Qp.prototype.isFraction=!0,Qp.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Qp.fromJSON=function(n){return new Qp(n)},Qp),{isClass:!0}),eQ=Mf("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function DA(n,t,e){var r=new n.constructor(2),i="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!vp(e))throw new Error("size must be an integer");if(n.greaterThan(r.pow(e-1).sub(1))||n.lessThan(r.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(e))),i="i".concat(e)}switch(t){case 2:return"".concat(n.toBinary()).concat(i);case 8:return"".concat(n.toOctal()).concat(i);case 16:return"".concat(n.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function qI(n,t){return t!==void 0?n.toExponential(t-1):n.toExponential()}function KI(n,t){return qf(n)?n:Rp(n)?n.toNumber():t}function Md(n,t){var e=function(r,i){return typeof r=="number"?OM(r,i):Rp(r)?function(a,s){if(typeof s=="function")return s(a);if(!a.isFinite())return a.isNaN()?"NaN":a.gt(0)?"Infinity":"-Infinity";var{notation:c,precision:f,wordSize:d}=dL(s);switch(c){case"fixed":return function(C,k){return C.toFixed(k)}(a,f);case"exponential":return qI(a,f);case"engineering":return function(C,k){var M=C.e,N=M%3==0?M:M<0?M-3-M%3:M-M%3,B=C.mul(Math.pow(10,-N)).toPrecision(k);return B.includes("e")&&(B=new C.constructor(B).toFixed()),B+"e"+(M>=0?"+":"")+N.toString()}(a,f);case"bin":return DA(a,2,d);case"oct":return DA(a,8,d);case"hex":return DA(a,16,d);case"auto":var h=KI(s==null?void 0:s.lowerExp,-3),m=KI(s==null?void 0:s.upperExp,5);if(a.isZero())return"0";var y=a.toSignificantDigits(f),w=y.e;return(w>=h&&w<m?y.toFixed():qI(a,f)).replace(/((\.\d*?)(0+))($|e)/,function(){var C=arguments[2],k=arguments[4];return C!=="."?C+k:k});default:throw new Error('Unknown notation "'+c+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(r,i):function(a){return a&&typeof a=="object"&&typeof a.s=="number"&&typeof a.n=="number"&&typeof a.d=="number"||!1}(r)?i&&i.fraction==="decimal"?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?CL(r,i):Em(r)?GI(r):typeof r=="function"?r.syntax?String(r.syntax):"function":r&&typeof r=="object"?typeof r.format=="function"?r.format(i):r&&r.toString(i)!=={}.toString()?r.toString(i):"{"+Object.keys(r).map(a=>GI(a)+": "+Md(r[a],i)).join(", ")+"}":String(r)}(n,t);return t&&typeof t=="object"&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function GI(n){for(var t=String(n),e="",r=0;r<t.length;){var i=t.charAt(r);e+=i in YI?YI[i]:i,r++}return'"'+e+'"'}var YI={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function CL(n,t){if(Array.isArray(n)){for(var e="[",r=n.length,i=0;i<r;i++)i!==0&&(e+=", "),e+=CL(n[i],t);return e+"]"}return Md(n,t)}function Hc(n,t,e){if(!(this instanceof Hc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}function q0(n,t,e){if(!(this instanceof q0))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function rm(n){for(var t=[];Array.isArray(n);)t.push(n.length),n=n[0];return t}function _L(n,t,e){var r,i=n.length;if(i!==t[e])throw new Hc(i,t[e]);if(e<t.length-1){var a=e+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Hc(t.length-1,t.length,"<");_L(n[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Hc(t.length+1,t.length,">")}function XI(n,t){if(t.length===0){if(Array.isArray(n))throw new Hc(n.length,0)}else _L(n,t,0)}function Ih(n,t){if(n!==void 0){if(!qf(n)||!vp(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof t=="number"&&n>=t)throw new q0(n,t)}}function JI(n,t,e){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");return t.forEach(function(r){if(!qf(r)||!vp(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Md(t)+")")}),(qf(n)||Rp(n))&&(n=[n]),RM(n,t,0,e!==void 0?e:0),n}function RM(n,t,e,r){var i,a,s=n.length,c=t[e],f=Math.min(s,c);if(n.length=c,e<t.length-1){var d=e+1;for(i=0;i<f;i++)a=n[i],Array.isArray(a)||(a=[a],n[i]=a),RM(a,t,d,r);for(i=f;i<c;i++)a=[],n[i]=a,RM(a,t,d,r)}else{for(i=0;i<f;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=f;i<c;i++)n[i]=r}}function SL(n,t){var e=function(a){if(!Array.isArray(a))return a;var s=[];return a.forEach(function c(f){Array.isArray(f)?f.forEach(c):s.push(f)}),s}(n),r=e.length;if(!Array.isArray(n)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Hc(0,r,"!=");var i=EL(t=ZT(t,r));if(r!==i)throw new Hc(i,r,"!=");try{return function(a,s){for(var c,f=a,d=s.length-1;d>0;d--){var h=s[d];c=[];for(var m=f.length/h,y=0;y<m;y++)c.push(f.slice(y*h,(y+1)*h));f=c}return f}(e,t)}catch(a){throw a instanceof Hc?new Hc(i,r,"!="):a}}function ZT(n,t){var e=EL(n),r=n.slice(),i=n.indexOf(-1);if(n.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(t%e!=0)throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);r[i]=-t/e}return r}function EL(n){return n.reduce((t,e)=>t*e,1)}function AL(n,t,e,r){var i=r||rm(n);if(e)for(var a=0;a<e;a++)n=[n],i.unshift(1);for(n=kL(n,t,0);i.length<t;)i.push(1);return n}function kL(n,t,e){var r,i;if(Array.isArray(n)){var a=e+1;for(r=0,i=n.length;r<i;r++)n[r]=kL(n[r],t,a)}else for(var s=e;s<t;s++)n=[n];return n}function tO(n,t){for(var e,r=0,i=0;i<n.length;i++){var a=n[i],s=Array.isArray(a);if(i===0&&s&&(r=a.length),s&&a.length!==r)return;var c=s?tO(a,t):t(a);if(e===void 0)e=c;else if(e!==c)return"mixed"}return e}function ML(n,t,e,r){if(r<e){if(n.length!==t.length)throw new Hc(n.length,t.length);for(var i=[],a=0;a<n.length;a++)i[a]=ML(n[a],t[a],e,r+1);return i}return n.concat(t)}function FL(){var n=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(e,r){return ML(e,r,t,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function PL(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];for(var r=t.map(y=>y.length),i=Math.max(...r),a=new Array(i).fill(null),s=0;s<t.length;s++)for(var c=t[s],f=r[s],d=0;d<f;d++){var h=i-f+d;c[d]>a[h]&&(a[h]=c[d])}for(var m=0;m<t.length;m++)TL(t[m],a);return a}function TL(n,t){for(var e=t.length,r=n.length,i=0;i<r;i++){var a=e-r+i;if(n[i]<t[a]&&n[i]>1||n[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(t[a]))}}function jM(n,t){var e=rm(n);if(p0(e,t))return n;TL(e,t);var r,i,a,s=PL(e,t),c=s.length,f=[...Array(c-e.length).fill(1),...e],d=function(m){return FS([],m)}(n);e.length<c&&(e=rm(d=SL(d,f)));for(var h=0;h<c;h++)e[h]<s[h]&&(r=d,i=s[h],a=h,e=rm(d=FL(...Array(i).fill(r),a)));return d}function OL(n,t){if(!Array.isArray(n))throw new Error("Array expected");var e=rm(n);if(t.length!==e.length)throw new Hc(t.length,e.length);for(var r=0;r<t.length;r++)Ih(t[r],e[r]);return t.reduce((i,a)=>i[a],n)}function BS(n,t,e){if(TS.isTypedFunction(n)){var r=(t.isMatrix?t.size():rm(t)).map(()=>0),i=t.isMatrix?t.get(r):OL(t,r),a=Object.keys(n.signatures).length===1,s=function(f,d,h,m){for(var y=[d,h,m],w=3;w>0;w--){var C=y.slice(0,w);if(TS.resolve(f,C)!==null)return w}}(n,i,r,t),c=a?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return QI(c,d.slice(0,s),e,n.name)}:function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return QI(c,d,e,n.name)}}return n}function QI(n,t,e,r){try{return n(...t)}catch(i){(function(a,s,c,f){var d;if(a instanceof TypeError&&((d=a.data)===null||d===void 0?void 0:d.category)==="wrongType"){var h=[];throw h.push("value: ".concat(ry(s[0]))),s.length>=2&&h.push("index: ".concat(ry(s[1]))),s.length>=3&&h.push("array: ".concat(ry(s[2]))),new TypeError("Function ".concat(c," cannot apply callback arguments ")+"".concat(f,"(").concat(h.join(", "),") at index ").concat(JSON.stringify(s[1])))}throw new TypeError("Function ".concat(c," cannot apply callback arguments ")+"to function ".concat(f,": ").concat(a.message))})(i,t,e,r)}}Hc.prototype=new RangeError,Hc.prototype.constructor=RangeError,Hc.prototype.name="DimensionError",Hc.prototype.isDimensionError=!0,q0.prototype=new RangeError,q0.prototype.constructor=RangeError,q0.prototype.name="IndexError",q0.prototype.isIndexError=!0;var nQ=Mf("DenseMatrix",["Matrix"],n=>{var{Matrix:t}=n;function e(f,d){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Em(d))throw new Error("Invalid datatype: "+d);if(Tm(f))f.type==="DenseMatrix"?(this._data=dp(f._data),this._size=dp(f._size),this._datatype=d||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=d||f._datatype);else if(f&&Xh(f.data)&&Xh(f.size))this._data=f.data,this._size=f.size,XI(this._data,this._size),this._datatype=d||f.datatype;else if(Xh(f))this._data=c(f),this._size=rm(this._data),XI(this._data,this._size),this._datatype=d;else{if(f)throw new TypeError("Unsupported type of data ("+ry(f)+")");this._data=[],this._size=[0],this._datatype=d}}function r(f,d,h,m){var y=m===h-1,w=d.dimension(m);return y?w.map(function(C){return Ih(C,f.length),f[C]}).valueOf():w.map(function(C){return Ih(C,f.length),r(f[C],d,h,m+1)}).valueOf()}function i(f,d,h,m,y){var w=y===m-1,C=d.dimension(y);w?C.forEach(function(k,M){Ih(k),f[k]=h[M[0]]}):C.forEach(function(k,M){Ih(k),i(f[k],d,h[M[0]],m,y+1)})}function a(f,d,h){if(d.length===0){for(var m=f._data;Xh(m);)m=m[0];return m}return f._size=d.slice(0),f._data=JI(f._data,f._size,h),f}function s(f,d,h){for(var m=f._size.slice(0),y=!1;m.length<d.length;)m.push(0),y=!0;for(var w=0,C=d.length;w<C;w++)d[w]>m[w]&&(m[w]=d[w],y=!0);y&&a(f,m,h)}function c(f){return Tm(f)?c(f.valueOf()):Xh(f)?f.map(c):f}return e.prototype=new t,e.prototype.createDenseMatrix=function(f,d){return new e(f,d)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return tO(this._data,ry)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(f,d){return new e(f,d)},e.prototype.subset=function(f,d,h){switch(arguments.length){case 1:return function(m,y){if(!YT(y))throw new TypeError("Invalid index");if(y.isScalar())return m.get(y.min());var w=y.size();if(w.length!==m._size.length)throw new Hc(w.length,m._size.length);for(var C=y.min(),k=y.max(),M=0,N=m._size.length;M<N;M++)Ih(C[M],m._size[M]),Ih(k[M],m._size[M]);return new e(r(m._data,y,w.length,0),m._datatype)}(this,f);case 2:case 3:return function(m,y,w,C){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var k,M=y.size(),N=y.isScalar();if(Tm(w)?(k=w.size(),w=w.valueOf()):k=rm(w),N){if(k.length!==0)throw new TypeError("Scalar expected");m.set(y.min(),w,C)}else{if(!p0(k,M))try{k=rm(w=k.length===0?jM([w],M):jM(w,M))}catch{}if(M.length<m._size.length)throw new Hc(M.length,m._size.length,"<");if(k.length<M.length){for(var B=0,L=0;M[B]===1&&k[B]===1;)B++;for(;M[B]===1;)L++,B++;w=AL(w,M.length,L,k)}if(!p0(M,k))throw new Hc(M,k,">");var z=y.max().map(function(V){return V+1});s(m,z,C);var q=M.length;i(m._data,y,w,q,0)}return m}(this,f,d,h);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(f){return OL(this._data,f)},e.prototype.set=function(f,d,h){if(!Xh(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new Hc(f.length,this._size.length,"<");var m,y,w;s(this,f.map(function(k){return k+1}),h);var C=this._data;for(m=0,y=f.length-1;m<y;m++)Ih(w=f[m],C.length),C=C[w];return Ih(w=f[f.length-1],C.length),C[w]=d,this},e.prototype.resize=function(f,d,h){if(!PS(f))throw new TypeError("Array or Matrix expected");var m=f.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);return a(h?this.clone():this,m,d)},e.prototype.reshape=function(f,d){var h=d?this.clone():this;h._data=SL(h._data,f);var m=h._size.reduce((y,w)=>y*w);return h._size=ZT(f,m),h},e.prototype.clone=function(){return new e({data:dp(this._data),size:dp(this._size),datatype:this._datatype})},e.prototype.size=function(){return this._size.slice(0)},e.prototype._forEach=function(f){var d=this,h=d.size();if(h.length!==1){var m=Array(h.length).fill(0),y=Array(h.length-1),w=y.length-1;y[0]=d._data[0];for(var C=0;C<w;C++)y[C+1]=y[C][0];for(m[w]=-1;;){var k=void 0;for(k=w;k>=0;k--){if(m[k]++,m[k]!==h[k]){y[k]=k===0?d._data[m[k]]:y[k-1][m[k]];for(var M=k;M<w;M++)y[M+1]=y[M][0];for(var N=0;N<h[y.length];N++)m[y.length]=N,f(y[w],N,m.slice(0));break}m[k]=0}if(k===-1)break}}else for(var B=0;B<h[0];B++)f(d._data,B,[B])},e.prototype.map=function(f){var d=this,h=new e(d),m=BS(f,d._data,"map");return h._forEach(function(y,w,C){y[w]=m(y[w],C,d)}),h},e.prototype.forEach=function(f){var d=this,h=BS(f,d._data,"map");d._forEach(function(m,y,w){h(m[y],w,d)})},e.prototype[Symbol.iterator]=function*(){var f=function*(d,h){if(Xh(d))for(var m=0;m<d.length;m++)yield*f(d[m],h.concat(m));else yield{value:d,index:h}};yield*f(this._data,[])},e.prototype.rows=function(){var f=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var h of d)f.push(new e([h],this._datatype));return f},e.prototype.columns=function(){var f=this,d=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,y=function(C){var k=m.map(M=>[M[C]]);d.push(new e(k,f._datatype))},w=0;w<h[1];w++)y(w);return d},e.prototype.toArray=function(){return dp(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(f){return Md(this._data,f)},e.prototype.toString=function(){return Md(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(f){if(f){if(Rp(f)&&(f=f.toNumber()),!qf(f)||!vp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var d=f>0?f:0,h=f<0?-f:0,m=this._size[0],y=this._size[1],w=Math.min(m-h,y-d),C=[],k=0;k<w;k++)C[k]=this._data[k+h][k+d];return new e({data:C,size:[w],datatype:this._datatype})},e.diagonal=function(f,d,h,m){if(!Xh(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(q){if(Rp(q)&&(q=q.toNumber()),!qf(q)||!vp(q)||q<1)throw new Error("Size values must be positive integers");return q}),h){if(Rp(h)&&(h=h.toNumber()),!qf(h)||!vp(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var y,w=h>0?h:0,C=h<0?-h:0,k=f[0],M=f[1],N=Math.min(k-C,M-w);if(Xh(d)){if(d.length!==N)throw new Error("Invalid value array length");y=function(q){return d[q]}}else if(Tm(d)){var B=d.size();if(B.length!==1||B[0]!==N)throw new Error("Invalid matrix length");y=function(q){return d.get([q])}}else y=function(){return d};m||(m=Rp(y(0))?y(0).mul(0):0);var L=[];if(f.length>0){L=JI(L,f,m);for(var z=0;z<N;z++)L[z+C][z+w]=y(z)}return new e({data:L,size:[k,M]})},e.fromJSON=function(f){return new e(f)},e.prototype.swapRows=function(f,d){if(!(qf(f)&&vp(f)&&qf(d)&&vp(d)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ih(f,this._size[0]),Ih(d,this._size[0]),e._swapRows(f,d,this._data),this},e._swapRows=function(f,d,h){var m=h[f];h[f]=h[d],h[d]=m},e},{isClass:!0});function eO(n,t,e){return n&&typeof n.map=="function"?n.map(function(r){return eO(r,t)}):t(n)}var ZI="isInteger",rQ=Mf(ZI,["typed"],n=>{var{typed:t}=n;return t(ZI,{number:vp,BigNumber:function(e){return e.isInt()},bigint:function(e){return!0},Fraction:function(e){return e.d===1&&isFinite(e.n)},"Array | Matrix":t.referToSelf(e=>r=>eO(r,e))})}),t8="number, number";function NL(n,t){return n+t}function IL(n,t){return n-t}function BL(n){return-n}NL.signature=t8,IL.signature=t8,BL.signature="number";var iQ=Mf("compareUnits",["typed"],n=>{var{typed:t}=n;return{"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(e,[r.valueType(),i.valueType()])(r.value,i.value)})}}),RS="equalScalar",oQ=Mf(RS,["typed","config"],n=>{var{typed:t,config:e}=n,r=iQ({typed:t});return t(RS,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return I_(i,a,e.relTol,e.absTol)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||function(s,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(f<=0)throw new Error("Relative tolerance must be greater than 0");if(d<0)throw new Error("Absolute tolerance must be at least 0");return!s.isNaN()&&!c.isNaN()&&(s.isFinite()&&c.isFinite()?!!s.eq(c)||s.minus(c).abs().lte(s.constructor.max(s.constructor.max(s.abs(),c.abs()).mul(f),d)):s.eq(c))}(i,a,e.relTol,e.absTol)},"bigint, bigint":function(i,a){return i===a},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return function(s,c,f,d){return I_(s.re,c.re,f,d)&&I_(s.im,c.im,f,d)}(i,a,e.relTol,e.absTol)}},r)});Mf(RS,["typed","config"],n=>{var{typed:t,config:e}=n;return t(RS,{"number, number":function(r,i){return I_(r,i,e.relTol,e.absTol)}})});var aQ=Mf("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:t,equalScalar:e,Matrix:r}=n;function i(h,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Em(m))throw new Error("Invalid datatype: "+m);if(Tm(h))(function(y,w,C){w.type==="SparseMatrix"?(y._values=w._values?dp(w._values):void 0,y._index=dp(w._index),y._ptr=dp(w._ptr),y._size=dp(w._size),y._datatype=C||w._datatype):a(y,w.valueOf(),C||w._datatype)})(this,h,m);else if(h&&Xh(h.index)&&Xh(h.ptr)&&Xh(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=m||h.datatype;else if(Xh(h))a(this,h,m);else{if(h)throw new TypeError("Unsupported type of data ("+ry(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(h,m,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var w=m.length,C=0,k=e,M=0;if(Em(y)&&(k=t.find(e,[y,y])||e,M=t.convert(0,y)),w>0){var N=0;do{h._ptr.push(h._index.length);for(var B=0;B<w;B++){var L=m[B];if(Xh(L)){if(N===0&&C<L.length&&(C=L.length),N<L.length){var z=L[N];k(z,M)||(h._values.push(z),h._index.push(B))}}else N===0&&C<1&&(C=1),k(L,M)||(h._values.push(L),h._index.push(B))}N++}while(N<C)}h._ptr.push(h._index.length),h._size=[w,C]}function s(h,m,y,w){if(y-m==0)return y;for(var C=m;C<y;C++)if(w[C]===h)return C;return m}function c(h,m,y,w,C,k,M){C.splice(h,0,w),k.splice(h,0,m);for(var N=y+1;N<M.length;N++)M[N]++}function f(h,m,y,w){var C=w||0,k=e,M=0;Em(h._datatype)&&(k=t.find(e,[h._datatype,h._datatype])||e,M=t.convert(0,h._datatype),C=t.convert(C,h._datatype));var N,B,L,z=!k(C,M),q=h._size[0],V=h._size[1];if(y>V){for(B=V;B<y;B++)if(h._ptr[B]=h._values.length,z)for(N=0;N<q;N++)h._values.push(C),h._index.push(N);h._ptr[y]=h._values.length}else y<V&&(h._ptr.splice(y+1,V-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(V=y,m>q){if(z){var X=0;for(B=0;B<V;B++){h._ptr[B]=h._ptr[B]+X,L=h._ptr[B+1]+X;var nt=0;for(N=q;N<m;N++,nt++)h._values.splice(L+nt,0,C),h._index.splice(L+nt,0,N),X++}h._ptr[V]=h._values.length}}else if(m<q){var it=0;for(B=0;B<V;B++){h._ptr[B]=h._ptr[B]-it;var ct=h._ptr[B],ft=h._ptr[B+1]-it;for(L=ct;L<ft;L++)(N=h._index[L])>m-1&&(h._values.splice(L,1),h._index.splice(L,1),it++)}h._ptr[B]=h._values.length}return h._size[0]=m,h._size[1]=y,h}function d(h,m,y,w,C){var k,M,N=w[0],B=w[1],L=[];for(k=0;k<N;k++)for(L[k]=[],M=0;M<B;M++)L[k][M]=0;for(M=0;M<B;M++)for(var z=y[M],q=y[M+1],V=z;V<q;V++)L[k=m[V]][M]=h?C?dp(h[V]):h[V]:1;return L}return i.prototype=new r,i.prototype.createSparseMatrix=function(h,m){return new i(h,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return tO(this._values,ry)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,m){return new i(h,m)},i.prototype.density=function(){var h=this._size[0],m=this._size[1];return h!==0&&m!==0?this._index.length/(h*m):0},i.prototype.subset=function(h,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(w,C){if(!YT(C))throw new TypeError("Invalid index");if(C.isScalar())return w.get(C.min());var k,M,N,B,L=C.size();if(L.length!==w._size.length)throw new Hc(L.length,w._size.length);var z=C.min(),q=C.max();for(k=0,M=w._size.length;k<M;k++)Ih(z[k],w._size[k]),Ih(q[k],w._size[k]);var V=w._values,X=w._index,nt=w._ptr,it=C.dimension(0),ct=C.dimension(1),ft=[],gt=[];it.forEach(function(At,Zt){gt[At]=Zt[0],ft[At]=!0});var Ct=V?[]:void 0,kt=[],Tt=[];return ct.forEach(function(At){for(Tt.push(kt.length),N=nt[At],B=nt[At+1];N<B;N++)k=X[N],ft[k]===!0&&(kt.push(gt[k]),Ct&&Ct.push(V[N]))}),Tt.push(kt.length),new i({values:Ct,index:kt,ptr:Tt,size:L,datatype:w._datatype})}(this,h);case 2:case 3:return function(w,C,k,M){if(!C||C.isIndex!==!0)throw new TypeError("Invalid index");var N,B=C.size(),L=C.isScalar();if(Tm(k)?(N=k.size(),k=k.toArray()):N=rm(k),L){if(N.length!==0)throw new TypeError("Scalar expected");w.set(C.min(),k,M)}else{if(B.length!==1&&B.length!==2)throw new Hc(B.length,w._size.length,"<");if(N.length<B.length){for(var z=0,q=0;B[z]===1&&N[z]===1;)z++;for(;B[z]===1;)q++,z++;k=AL(k,B.length,q,N)}if(!p0(B,N))throw new Hc(B,N,">");if(B.length===1)C.dimension(0).forEach(function(nt,it){Ih(nt),w.set([nt,0],k[it[0]],M)});else{var V=C.dimension(0),X=C.dimension(1);V.forEach(function(nt,it){Ih(nt),X.forEach(function(ct,ft){Ih(ct),w.set([nt,ct],k[it[0]][ft[0]],M)})})}}return w}(this,h,m,y);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(h){if(!Xh(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Hc(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=h[0],y=h[1];Ih(m,this._size[0]),Ih(y,this._size[1]);var w=s(m,this._ptr[y],this._ptr[y+1],this._index);return w<this._ptr[y+1]&&this._index[w]===m?this._values[w]:0},i.prototype.set=function(h,m,y){if(!Xh(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Hc(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=h[0],C=h[1],k=this._size[0],M=this._size[1],N=e,B=0;Em(this._datatype)&&(N=t.find(e,[this._datatype,this._datatype])||e,B=t.convert(0,this._datatype)),(w>k-1||C>M-1)&&(f(this,Math.max(w+1,k),Math.max(C+1,M),y),k=this._size[0],M=this._size[1]),Ih(w,k),Ih(C,M);var L=s(w,this._ptr[C],this._ptr[C+1],this._index);return L<this._ptr[C+1]&&this._index[L]===w?N(m,B)?function(z,q,V,X,nt){V.splice(z,1),X.splice(z,1);for(var it=q+1;it<nt.length;it++)nt[it]--}(L,C,this._values,this._index,this._ptr):this._values[L]=m:N(m,B)||c(L,w,C,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(h,m,y){if(!PS(h))throw new TypeError("Array or Matrix expected");var w=h.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");return w.forEach(function(C){if(!qf(C)||!vp(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Md(w)+")")}),f(y?this.clone():this,w[0],w[1],m)},i.prototype.reshape=function(h,m){if(!Xh(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(gt){if(!qf(gt)||!vp(gt)||gt<=-2||gt===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Md(h)+")")});var y=this._size[0]*this._size[1];if(y!==(h=ZT(h,y))[0]*h[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var C=[],k=0;k<w._ptr.length;k++)for(var M=0;M<w._ptr[k+1]-w._ptr[k];M++)C.push(k);for(var N=w._values.slice(),B=w._index.slice(),L=0;L<w._index.length;L++){var z=B[L],q=C[L],V=z*w._size[1]+q;C[L]=V%h[1],B[L]=Math.floor(V/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var X=0;X<w._ptr.length;X++)w._ptr[X]=0;for(var nt=0;nt<N.length;nt++){var it=B[nt],ct=C[nt],ft=N[nt];c(s(it,w._ptr[ct],w._ptr[ct+1],w._index),it,ct,ft,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){return new i({values:this._values?dp(this._values):void 0,index:dp(this._index),ptr:dp(this._ptr),size:dp(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,w=this._size[0],C=this._size[1],k=BS(h,y,"map");return function(M,N,B,L,z,q,V){var X=[],nt=[],it=[],ct=e,ft=0;Em(M._datatype)&&(ct=t.find(e,[M._datatype,M._datatype])||e,ft=t.convert(0,M._datatype));for(var gt=function(vt,Lt,ee){var pe=q(vt,Lt,ee);ct(pe,ft)||(X.push(pe),nt.push(Lt))},Ct=0;Ct<=z;Ct++){it.push(X.length);var kt=M._ptr[Ct],Tt=M._ptr[Ct+1];if(V)for(var At=kt;At<Tt;At++){var Zt=M._index[At];Zt>=0&&Zt<=B&&gt(M._values[At],Zt-0,Ct-0)}else{for(var _t={},Et=kt;Et<Tt;Et++)_t[M._index[Et]]=M._values[Et];for(var mt=0;mt<=B;mt++)gt(mt in _t?_t[mt]:0,mt-0,Ct-0)}}return it.push(X.length),new i({values:X,index:nt,ptr:it,size:[B-0+1,z-0+1]})}(this,0,w-1,0,C-1,function(M,N,B){return k(M,[N,B],y)},m)},i.prototype.forEach=function(h,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,w=this._size[0],C=this._size[1],k=BS(h,y,"forEach"),M=0;M<C;M++){var N=this._ptr[M],B=this._ptr[M+1];if(m)for(var L=N;L<B;L++){var z=this._index[L];k(this._values[L],[z,M],y)}else{for(var q={},V=N;V<B;V++)q[this._index[V]]=this._values[V];for(var X=0;X<w;X++)k(X in q?q[X]:0,[X,M],y)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],m=0;m<h;m++)for(var y=this._ptr[m],w=this._ptr[m+1],C=y;C<w;C++){var k=this._index[C];yield{value:this._values[C],index:[k,m]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(h){for(var m=this._size[0],y=this._size[1],w=this.density(),C="Sparse Matrix ["+Md(m,h)+" x "+Md(y,h)+"] density: "+Md(w,h)+`
`,k=0;k<y;k++)for(var M=this._ptr[k],N=this._ptr[k+1],B=M;B<N;B++)C+=`
    (`+Md(this._index[B],h)+", "+Md(k,h)+") ==> "+(this._values?Md(this._values[B],h):"X");return C},i.prototype.toString=function(){return Md(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(Rp(h)&&(h=h.toNumber()),!qf(h)||!vp(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,y=h<0?-h:0,w=this._size[0],C=this._size[1],k=Math.min(w-y,C-m),M=[],N=[],B=[];B[0]=0;for(var L=m;L<C&&M.length<k;L++)for(var z=this._ptr[L],q=this._ptr[L+1],V=z;V<q;V++){var X=this._index[V];if(X===L-m+y){M.push(this._values[V]),N[M.length-1]=X-y;break}}return B.push(M.length),new i({values:M,index:N,ptr:B,size:[k,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,m,y,w,C){if(!Xh(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(kt){if(Rp(kt)&&(kt=kt.toNumber()),!qf(kt)||!vp(kt)||kt<1)throw new Error("Size values must be positive integers");return kt}),y){if(Rp(y)&&(y=y.toNumber()),!qf(y)||!vp(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var k=e,M=0;Em(C)&&(k=t.find(e,[C,C])||e,M=t.convert(0,C));var N,B=y>0?y:0,L=y<0?-y:0,z=h[0],q=h[1],V=Math.min(z-L,q-B);if(Xh(m)){if(m.length!==V)throw new Error("Invalid value array length");N=function(kt){return m[kt]}}else if(Tm(m)){var X=m.size();if(X.length!==1||X[0]!==V)throw new Error("Invalid matrix length");N=function(kt){return m.get([kt])}}else N=function(){return m};for(var nt=[],it=[],ct=[],ft=0;ft<q;ft++){ct.push(nt.length);var gt=ft-B;if(gt>=0&&gt<V){var Ct=N(gt);k(Ct,M)||(it.push(gt+L),nt.push(Ct))}}return ct.push(nt.length),new i({values:nt,index:it,ptr:ct,size:[z,q]})},i.prototype.swapRows=function(h,m){if(!(qf(h)&&vp(h)&&qf(m)&&vp(m)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Ih(h,this._size[0]),Ih(m,this._size[0]),i._swapRows(h,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,m,y,w,C){for(var k=w[h],M=w[h+1],N=k;N<M;N++)C(y[N],m[N])},i._swapRows=function(h,m,y,w,C,k){for(var M=0;M<y;M++){var N=k[M],B=k[M+1],L=s(h,N,B,C),z=s(m,N,B,C);if(L<B&&z<B&&C[L]===h&&C[z]===m){if(w){var q=w[L];w[L]=w[z],w[z]=q}}else if(L<B&&C[L]===h&&(z>=B||C[z]!==m)){var V=w?w[L]:void 0;C.splice(z,0,m),w&&w.splice(z,0,V),C.splice(z<=L?L+1:L,1),w&&w.splice(z<=L?L+1:L,1)}else if(z<B&&C[z]===m&&(L>=B||C[L]!==h)){var X=w?w[z]:void 0;C.splice(L,0,h),w&&w.splice(L,0,X),C.splice(L<=z?z+1:z,1),w&&w.splice(L<=z?z+1:z,1)}}},i},{isClass:!0}),e8="matrix",sQ=Mf(e8,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:t,Matrix:e,DenseMatrix:r,SparseMatrix:i}=n;return t(e8,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,c){return a([],s,c)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,c,f){if(c==="dense"||c==="default"||c===void 0)return new r(s,f);if(c==="sparse")return new i(s,f);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),n8="unaryMinus",uQ=Mf(n8,["typed"],n=>{var{typed:t}=n;return t(n8,{number:BL,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>r=>{var i=r.clone();return i.value=t.find(e,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(e=>r=>eO(r,e))})}),r8="addScalar",lQ=Mf(r8,["typed"],n=>{var{typed:t}=n;return t(r8,{"number, number":NL,"Complex, Complex":function(e,r){return e.add(r)},"BigNumber, BigNumber":function(e,r){return e.plus(r)},"bigint, bigint":function(e,r){return e+r},"Fraction, Fraction":function(e,r){return e.add(r)},"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),i8="subtractScalar",cQ=Mf(i8,["typed"],n=>{var{typed:t}=n;return t(i8,{"number, number":IL,"Complex, Complex":function(e,r){return e.sub(r)},"BigNumber, BigNumber":function(e,r){return e.minus(r)},"bigint, bigint":function(e,r){return e-r},"Fraction, Fraction":function(e,r){return e.sub(r)},"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),fQ=Mf("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,i,a,s){var c=r._values,f=r._index,d=r._ptr,h=r._size,m=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,w=h[0],C=h[1],k=a;typeof m=="string"&&(y=m,i=t.convert(i,y),k=t.find(a,[y,y]));for(var M=[],N=[],B=[],L=0;L<C;L++){for(var z=L+1,q=d[L],V=d[L+1],X=q;X<V;X++){var nt=f[X];N[nt]=c[X],B[nt]=z}for(var it=0;it<w;it++)L===0&&(M[it]=[]),B[it]===z?M[it][L]=s?k(i,N[it]):k(N[it],i):M[it][L]=s?k(i,0):k(0,i)}return new e({data:M,size:[w,C],datatype:y})}}),hQ=Mf("matAlgo14xDs",["typed"],n=>{var{typed:t}=n;return function(r,i,a,s){var c,f=r._data,d=r._size,h=r._datatype,m=a;typeof h=="string"&&(c=h,i=t.convert(i,c),m=t.find(a,[c,c]));var y=d.length>0?e(m,0,d,d[0],f,i,s):[];return r.createDenseMatrix({data:y,size:dp(d),datatype:c})};function e(r,i,a,s,c,f,d){var h=[];if(i===a.length-1)for(var m=0;m<s;m++)h[m]=d?r(f,c[m]):r(c[m],f);else for(var y=0;y<s;y++)h[y]=e(r,i+1,a,a[i+1],c[y],f,d);return h}}),pQ=Mf("matAlgo03xDSf",["typed"],n=>{var{typed:t}=n;return function(e,r,i,a){var s=e._data,c=e._size,f=e._datatype||e.getDataType(),d=r._values,h=r._index,m=r._ptr,y=r._size,w=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(c.length!==y.length)throw new Hc(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,k=c[0],M=c[1],N=0,B=i;typeof f=="string"&&f===w&&f!=="mixed"&&(C=f,N=t.convert(0,C),B=t.find(i,[C,C]));for(var L=[],z=0;z<k;z++)L[z]=[];for(var q=[],V=[],X=0;X<M;X++){for(var nt=X+1,it=m[X],ct=m[X+1],ft=it;ft<ct;ft++){var gt=h[ft];q[gt]=a?B(d[ft],s[gt][X]):B(s[gt][X],d[ft]),V[gt]=nt}for(var Ct=0;Ct<k;Ct++)V[Ct]===nt?L[Ct][X]=q[Ct]:L[Ct][X]=a?B(N,s[Ct][X]):B(s[Ct][X],N)}return e.createDenseMatrix({data:L,size:[k,M],datatype:f===e._datatype&&w===r._datatype?C:void 0})}}),dQ=Mf("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,i,a){var s=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype||r._data===void 0?r._datatype:r.getDataType(),m=i._values,y=i._index,w=i._ptr,C=i._size,k=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(d.length!==C.length)throw new Hc(d.length,C.length);if(d[0]!==C[0]||d[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+C+")");var M,N=d[0],B=d[1],L=e,z=0,q=a;typeof h=="string"&&h===k&&h!=="mixed"&&(M=h,L=t.find(e,[M,M]),z=t.convert(0,M),q=t.find(a,[M,M]));var V,X,nt,it,ct=s&&m?[]:void 0,ft=[],gt=[],Ct=ct?[]:void 0,kt=ct?[]:void 0,Tt=[],At=[];for(X=0;X<B;X++){gt[X]=ft.length;var Zt=X+1;for(nt=f[X],it=f[X+1];nt<it;nt++)V=c[nt],ft.push(V),Tt[V]=Zt,Ct&&(Ct[V]=s[nt]);for(nt=w[X],it=w[X+1];nt<it;nt++)Tt[V=y[nt]]!==Zt&&ft.push(V),At[V]=Zt,kt&&(kt[V]=m[nt]);if(ct)for(nt=gt[X];nt<ft.length;){var _t=Tt[V=ft[nt]],Et=At[V];if(_t===Zt||Et===Zt){var mt=q(_t===Zt?Ct[V]:z,Et===Zt?kt[V]:z);L(mt,z)?ft.splice(nt,1):(ct.push(mt),nt++)}}}return gt[B]=ft.length,r.createSparseMatrix({values:ct,index:ft,ptr:gt,size:[N,B],datatype:h===r._datatype&&k===i._datatype?M:void 0})}}),gQ=Mf("matAlgo13xDD",["typed"],n=>{var{typed:t}=n;return function(r,i,a){var s,c=r._data,f=r._size,d=r._datatype,h=i._data,m=i._size,y=i._datatype,w=[];if(f.length!==m.length)throw new Hc(f.length,m.length);for(var C=0;C<f.length;C++){if(f[C]!==m[C])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");w[C]=f[C]}var k=a;typeof d=="string"&&d===y&&(s=d,k=t.find(a,[s,s]));var M=w.length>0?e(k,0,w,w[0],c,h):[];return r.createDenseMatrix({data:M,size:w,datatype:s})};function e(r,i,a,s,c,f){var d=[];if(i===a.length-1)for(var h=0;h<s;h++)d[h]=r(c[h],f[h]);else for(var m=0;m<s;m++)d[m]=e(r,i+1,a,a[i+1],c[m],f[m]);return d}});function fp(n,t){if(p0(n.size(),t.size()))return[n,t];var e=PL(n.size(),t.size());return[n,t].map(r=>function(i,a){return p0(i.size(),a)?i:i.create(jM(i.valueOf(),a),i.datatype())}(r,e))}var RL=Mf("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:t,matrix:e}=n,r=gQ({typed:t}),i=hQ({typed:t});return function(a){var s,c=a.elop,f=a.SD||a.DS;c?(s={"DenseMatrix, DenseMatrix":(m,y)=>r(...fp(m,y),c),"Array, Array":(m,y)=>r(...fp(e(m),e(y)),c).valueOf(),"Array, DenseMatrix":(m,y)=>r(...fp(e(m),y),c),"DenseMatrix, Array":(m,y)=>r(...fp(m,e(y)),c)},a.SS&&(s["SparseMatrix, SparseMatrix"]=(m,y)=>a.SS(...fp(m,y),c,!1)),a.DS&&(s["DenseMatrix, SparseMatrix"]=(m,y)=>a.DS(...fp(m,y),c,!1),s["Array, SparseMatrix"]=(m,y)=>a.DS(...fp(e(m),y),c,!1)),f&&(s["SparseMatrix, DenseMatrix"]=(m,y)=>f(...fp(y,m),c,!0),s["SparseMatrix, Array"]=(m,y)=>f(...fp(e(y),m),c,!0))):(s={"DenseMatrix, DenseMatrix":t.referToSelf(m=>(y,w)=>r(...fp(y,w),m)),"Array, Array":t.referToSelf(m=>(y,w)=>r(...fp(e(y),e(w)),m).valueOf()),"Array, DenseMatrix":t.referToSelf(m=>(y,w)=>r(...fp(e(y),w),m)),"DenseMatrix, Array":t.referToSelf(m=>(y,w)=>r(...fp(y,e(w)),m))},a.SS&&(s["SparseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.SS(...fp(y,w),m,!1))),a.DS&&(s["DenseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.DS(...fp(y,w),m,!1)),s["Array, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.DS(...fp(e(y),w),m,!1))),f&&(s["SparseMatrix, DenseMatrix"]=t.referToSelf(m=>(y,w)=>f(...fp(w,y),m,!0)),s["SparseMatrix, Array"]=t.referToSelf(m=>(y,w)=>f(...fp(e(w),y),m,!0))));var d=a.scalar||"any";(a.Ds||a.Ss)&&(c?(s["DenseMatrix,"+d]=(m,y)=>i(m,y,c,!1),s[d+", DenseMatrix"]=(m,y)=>i(y,m,c,!0),s["Array,"+d]=(m,y)=>i(e(m),y,c,!1).valueOf(),s[d+", Array"]=(m,y)=>i(e(y),m,c,!0).valueOf()):(s["DenseMatrix,"+d]=t.referToSelf(m=>(y,w)=>i(y,w,m,!1)),s[d+", DenseMatrix"]=t.referToSelf(m=>(y,w)=>i(w,y,m,!0)),s["Array,"+d]=t.referToSelf(m=>(y,w)=>i(e(y),w,m,!1).valueOf()),s[d+", Array"]=t.referToSelf(m=>(y,w)=>i(e(w),y,m,!0).valueOf())));var h=a.sS!==void 0?a.sS:a.Ss;return c?(a.Ss&&(s["SparseMatrix,"+d]=(m,y)=>a.Ss(m,y,c,!1)),h&&(s[d+", SparseMatrix"]=(m,y)=>h(y,m,c,!0))):(a.Ss&&(s["SparseMatrix,"+d]=t.referToSelf(m=>(y,w)=>a.Ss(y,w,m,!1))),h&&(s[d+", SparseMatrix"]=t.referToSelf(m=>(y,w)=>h(w,y,m,!0)))),c&&c.signatures&&function(m,y){for(var w in y)Tx(y,w)&&(m[w]=y[w])}(s,c.signatures),s}}),jL=Mf("matAlgo01xDSid",["typed"],n=>{var{typed:t}=n;return function(e,r,i,a){var s=e._data,c=e._size,f=e._datatype||e.getDataType(),d=r._values,h=r._index,m=r._ptr,y=r._size,w=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(c.length!==y.length)throw new Hc(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,k,M=c[0],N=c[1],B=typeof f=="string"&&f!=="mixed"&&f===w?f:void 0,L=B?t.find(i,[B,B]):i,z=[];for(C=0;C<M;C++)z[C]=[];var q=[],V=[];for(k=0;k<N;k++){for(var X=k+1,nt=m[k],it=m[k+1],ct=nt;ct<it;ct++)q[C=h[ct]]=a?L(d[ct],s[C][k]):L(s[C][k],d[ct]),V[C]=X;for(C=0;C<M;C++)V[C]===X?z[C][k]=q[C]:z[C][k]=s[C][k]}return e.createDenseMatrix({data:z,size:[M,N],datatype:f===e._datatype&&w===r._datatype?B:void 0})}}),mQ=Mf("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,i,a){var s=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype||r._data===void 0?r._datatype:r.getDataType(),m=i._values,y=i._index,w=i._ptr,C=i._size,k=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(d.length!==C.length)throw new Hc(d.length,C.length);if(d[0]!==C[0]||d[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+C+")");var M,N=d[0],B=d[1],L=e,z=0,q=a;typeof h=="string"&&h===k&&h!=="mixed"&&(M=h,L=t.find(e,[M,M]),z=t.convert(0,M),q=t.find(a,[M,M]));var V,X,nt,it,ct,ft=s&&m?[]:void 0,gt=[],Ct=[],kt=s&&m?[]:void 0,Tt=s&&m?[]:void 0,At=[],Zt=[];for(X=0;X<B;X++){Ct[X]=gt.length;var _t=X+1;for(it=f[X],ct=f[X+1],nt=it;nt<ct;nt++)V=c[nt],gt.push(V),At[V]=_t,kt&&(kt[V]=s[nt]);for(it=w[X],ct=w[X+1],nt=it;nt<ct;nt++)if(At[V=y[nt]]===_t){if(kt){var Et=q(kt[V],m[nt]);L(Et,z)?At[V]=null:kt[V]=Et}}else gt.push(V),Zt[V]=_t,Tt&&(Tt[V]=m[nt]);if(kt&&Tt)for(nt=Ct[X];nt<gt.length;)At[V=gt[nt]]===_t?(ft[nt]=kt[V],nt++):Zt[V]===_t?(ft[nt]=Tt[V],nt++):gt.splice(nt,1)}return Ct[B]=gt.length,r.createSparseMatrix({values:ft,index:gt,ptr:Ct,size:[N,B],datatype:h===r._datatype&&k===i._datatype?M:void 0})}}),LL=Mf("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,i,a,s){var c=r._values,f=r._index,d=r._ptr,h=r._size,m=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,w=h[0],C=h[1],k=a;typeof m=="string"&&(y=m,i=t.convert(i,y),k=t.find(a,[y,y]));for(var M=[],N=[],B=[],L=0;L<C;L++){for(var z=L+1,q=d[L],V=d[L+1],X=q;X<V;X++){var nt=f[X];N[nt]=c[X],B[nt]=z}for(var it=0;it<w;it++)L===0&&(M[it]=[]),B[it]===z?M[it][L]=s?k(i,N[it]):k(N[it],i):M[it][L]=i}return new e({data:M,size:[w,C],datatype:y})}}),o8="subtract",vQ=Mf(o8,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:c}=n,f=jL({typed:t}),d=pQ({typed:t}),h=dQ({typed:t,equalScalar:r}),m=LL({typed:t,DenseMatrix:s}),y=fQ({typed:t,DenseMatrix:s}),w=RL({typed:t,matrix:e,concat:c});return t(o8,{"any, any":i},w({elop:i,SS:h,DS:f,SD:d,Ss:y,sS:m}))}),a8="concat",yQ=Mf(a8,["typed","matrix","isInteger"],n=>{var{typed:t,matrix:e,isInteger:r}=n;return t(a8,{"...Array | Matrix | number | BigNumber":function(i){var a,s,c=i.length,f=-1,d=!1,h=[];for(a=0;a<c;a++){var m=i[a];if(Tm(m)&&(d=!0),qf(m)||Rp(m)){if(a!==c-1)throw new Error("Dimension must be specified as last argument");if(s=f,f=m.valueOf(),!r(f))throw new TypeError("Integer number expected for dimension");if(f<0||a>0&&f>s)throw new q0(f,s+1)}else{var y=dp(m).valueOf(),w=rm(y);if(h[a]=y,s=f,f=w.length-1,a>0&&f!==s)throw new Hc(s+1,f+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var C=h.shift();h.length;)C=FL(C,h.shift(),f);return d?e(C):C},"...string":function(i){return i.join("")}})}),wQ=Mf("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:t,matrix:e,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:c}=n,f=jL({typed:t}),d=mQ({typed:t,equalScalar:i}),h=LL({typed:t,DenseMatrix:a}),m=RL({typed:t,matrix:e,concat:c});return t("add",{"any, any":r,"any, any, ...any":t.referToSelf(y=>(w,C,k)=>{for(var M=y(w,C),N=0;N<k.length;N++)M=y(M,k[N]);return M})},m({elop:r,DS:f,SS:d,Ss:h}))}),bQ=XJ({config:JT}),xQ=QJ({}),DQ=tQ({}),nO=eQ({}),_E=nQ({Matrix:nO}),Xm=aJ({BigNumber:bQ,Complex:xQ,DenseMatrix:_E,Fraction:DQ}),CQ=lQ({typed:Xm}),rO=oQ({config:JT,typed:Xm}),_Q=rQ({typed:Xm}),zL=aQ({Matrix:nO,equalScalar:rO,typed:Xm}),SQ=cQ({typed:Xm}),EQ=uQ({typed:Xm}),iO=sQ({DenseMatrix:_E,Matrix:nO,SparseMatrix:zL,typed:Xm}),UL=yQ({isInteger:_Q,matrix:iO,typed:Xm}),$L=vQ({DenseMatrix:_E,concat:UL,equalScalar:rO,matrix:iO,subtractScalar:SQ,typed:Xm,unaryMinus:EQ}),By=wQ({DenseMatrix:_E,SparseMatrix:zL,addScalar:CQ,concat:UL,equalScalar:rO,matrix:iO,typed:Xm}),AQ=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return dh(t,n),Object.defineProperty(t.prototype,"displayDimensions",{get:function(){var e,r;return[((e=this._root)===null||e===void 0?void 0:e.canvas.width)||0,((r=this._root)===null||r===void 0?void 0:r.canvas.height)||0]},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(t.prototype,"canvasDimensions",{get:function(){return this.context.workingCanvasDimensions},enumerable:!1,configurable:!0}),t.prototype.translate=function(e,r){var i=this.canvasDimensions,a=i[0],s=i[1],c=Rg([],e.o),f=e.w,d=e.h,h=[c=By(c,r),By(c,[f,0]),By(c,[0,d]),By(c,[f,d])],m=Math.min.apply(Math,h.map(function(M){return M[0]})),y=Math.max.apply(Math,h.map(function(M){return M[0]})),w=Math.min.apply(Math,h.map(function(M){return M[1]})),C=Math.max.apply(Math,h.map(function(M){return M[1]})),k=[0,0];return m<0?k[0]=-m:y>a&&(k[0]=a-y),w<0?k[1]=-w:C>s&&(k[1]=s-C),Rg([],c),c=By(c,k),new Wf(c,f,d)},t.prototype.withinBounds=function(e,r,i,a){return a===void 0&&(a=1e-10),e>=r-a&&e<=i+a},t.prototype.updateDimensions=function(e,r,i){this.setState(pu(pu({},this.state),{cameraBox:new Wf(e,r,i)})),this.checkBounds()},t.prototype.checkBounds=function(){var e,r,i,a=this.canvasDimensions,s=a[0],c=a[1];e=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,e[0]=Math.max(Math.min(e[0],s),0),e[1]=Math.max(Math.min(e[1],c),0),r=Math.max(Math.min(r,s-e[0]),0),i=Math.max(Math.min(i,c-e[1]),0),this.setState(pu(pu({},this.state),{cameraBox:new Wf(e,r,i)}))},t.prototype.onGlobalWindowChange=function(){},t.prototype.scale=function(e,r,i){var a,s,c,f=this.canvasDimensions,d=f[0],h=f[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");a=e.o;var m=d/(s=e.w),y=h/(c=e.h),w=Math.min(m,y),C=s*(r=[Math.min(r[0],w),Math.min(r[1],w)])[0],k=c*r[1],M=[i[0]-a[0],i[1]-a[1]],N=M[0],B=M[1],L=this.canvasUnit,z=L[0],q=L[1],V=[N*z,B*q],X=V[0],nt=V[1],it=[N*r[0],B*r[1]],ct=[it[0]*z,it[1]*q],ft=[X-ct[0],nt-ct[1]],gt=ft[0],Ct=ft[1],kt=this.absoluteUnit,Tt=[gt*kt[0],Ct*kt[1]],At=[a[0]+N*r[0],a[1]+B*r[1]];return $L(i,At),console.log(N,B),s=C,c=k,this.translate(new Wf(a,s,c),Tt)},t.prototype.getCenter=function(){return By(this.o,[this.w/2,this.h/2])},t.prototype.getBox=function(){return this.state.cameraBox},t}(fv),kQ=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isInteractiveCamera=!0,e.layer=-100,e.scaleAnchor=[0,0],e}return dh(t,n),t.prototype.windowDidMount=function(){var e=this;n.prototype.windowDidMount.call(this);var r=this.displayDimensions,i=r[0],a=r[1],s=this.canvasDimensions,c=s[0],f=s[1],d=new Wf([c/2-i/2,f/2-a/2],i,a);console.log(d);var h=this.translate(d,[0,0]);this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:h}),this.props.subscribeToCanvasResize(function(){var m=e.state.cameraBox.clone().o,y=e.state.cameraBox.w,w=e.state.cameraBox.h,C=e.displayDimensions,k=w*(C[0]/C[1]),M=k-y,N=e.translate(new Wf(m,k,w),[-M/2,0]);e.setState({cameraBox:N})})},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e,r){if(r.button===1){var i=e.terminateEvent,a=e.canvasPos;this.setState(pu(pu({},this.state),{lastMousePosition:a,isPanning:!0})),i()}},t.prototype.onMouseMove=function(e,r){var i=e.terminateEvent,a=e.canvasPos,s=e.absolutePos,c=e.canvasUnit,f=c[0],d=c[1],h=pu({},this.state);if(this.scaleAnchor=s,this.state.isPanning){i();var m=$L(a,this.state.lastMousePosition),y=m[0],w=m[1],C=this.translate(this.state.cameraBox.clone(),[-y*f,-w*d]);h=pu(pu({},h),{lastMousePosition:a,cameraBox:C}),this.setState(h)}},t.prototype.onMouseUp=function(e,r){this.setState(pu(pu({},this.state),{isPanning:!1}))},t.prototype.onWheel=function(e,r){var i=e.terminateEvent,a=e.canvasToAbsoluteMeasure,s=r.deltaX,c=r.deltaY,f=r.ctrlKey,d=r.altKey;if(f){var h;if(h=s!==0?1+.01*s:1-.01*c,!d){if(this.w*h<50)return;var m=this.scale(this.state.cameraBox.clone(),[Math.max(.1,h),Math.max(.1,h)],this.scaleAnchor);this.setState(pu(pu({},this.state),{cameraBox:m}))}}else{var y=a([s,c]),w=y[0],C=y[1];m=this.translate(this.state.cameraBox.clone(),[w,C]),this.setState(pu(pu({},this.state),{cameraBox:m}))}i()},t.prototype.render=function(e){},t}(AQ),MQ=[1e4,1e4],FQ=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}return dh(t,n),t.prototype.getBox=function(){var e=this.context.workingCanvasDimensions,r=e[0],i=e[1];return new Wf([r/2,i/2],0,0)},t.prototype.getChildren=function(){return this.props.objects},t.prototype.render=function(e){if(this.context.mode!=="view"){var r=e.ctx,i=e.absoluteO,a=i[0],s=i[1],c=[[a,s+13],[a,s-13],[a+13,s],[a-13,s]];r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(c[0][0],c[0][1]),r.lineTo(c[1][0],c[1][1]),r.moveTo(c[2][0],c[2][1]),r.lineTo(c[3][0],c[3][1]),r.stroke()}},t}(fv);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.windowDidMount=function(e){var r=this,i=this.props.controller;this.setContext("controller",i),this.setContext("project",i.getProject()),this.setContext("projectTools",i.projectTools),i.subscribeToProjectUpdates(function(){var a=i.getProject();r.setContext("project",a)}),this.setContext("workingCanvasDimensions",MQ),this.props.modeManager.subscribeToModeUpdates(function(a){r.setContext("mode",a)}),this.setContext("setMode",function(a){r.props.modeManager.setMode(a)})},t.prototype.getChildren=function(e){var r=[];r.push(kQ.Node({subscribeToCanvasResize:this.props.subscribeToCanvasResize}));var i={mode:this.props.mode};return r.push(FQ.Node({objects:this.props.getObjects(i)})),r}})(fv);var QD=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},PQ=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return dh(t,n),t.prototype.getBox=function(){return new Wf([0,0],this.parentW,this.parentH)},t.prototype.render=function(e){this.strokeOutline(e,"green")},t}(fv),Vg=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return dh(t,n),t.prototype.evaluateSignal=function(e,r){var i=this.context.controller.interpolateSignalValueAtTime(e,r),a=i[0],s=i[1];return s.length>0&&console.error(s),a},Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this.context.project.timelineData.playheadPosition||0},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){return this.context.mode==="edit"||this.context.mode==="record"?[PQ.Node()]:[]},t.prototype.useSignal=function(e,r,i,a){return this.context.project.orgData.signalIds.findIndex(function(s){return s===e})===-1&&(r==="continuous"&&(this.context.projectTools.createSignal(e,r,e,i),this.context.projectTools.addPinContinuous(e,QD(),this.context.project.timelineData.numberOfFrames,i[1],"return easyLinear();",!0)),r==="discrete"&&(this.context.projectTools.createSignal(e,r,e),this.context.projectTools.addPinDiscrete(e,QD(),this.context.project.timelineData.numberOfFrames,"default",!0))),this.evaluateSignal(e,a||this.currentFrame)},t.prototype.setSignalValue=function(e,r,i,a,s){r==="continuous"&&this.context.projectTools.addPinContinuous(e,QD(),a,i,"return easyLinear();",s),r==="discrete"&&this.context.projectTools.addPinDiscrete(e,QD(),a,i,s)},t.prototype.setDiscreteSignalValue=function(e,r,i,a){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(s){return s===e})===-1&&this.context.projectTools.createSignal(e,"discrete",e),a=a||this.currentFrame,this.setSignalValue(e,"discrete",r,a,i)},t.prototype.setContinuousSignalValue=function(e,r,i,a,s){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(c){return c===e})===-1&&this.context.projectTools.createSignal(e,"continuous",e,a),s=s||this.currentFrame,this.setSignalValue(e,"continuous",r,s,i)},t.prototype.useContinuousSignal=function(e,r,i){return this.useSignal(e,"continuous",r,i)},t.prototype.useDiscreteSignal=function(e,r){return this.useSignal(e,"discrete",void 0,r)},t.prototype.render=function(e){this.context.mode==="edit"||this.context.mode;var r=pu(pu({},e),{useContinuousSignal:this.useContinuousSignal.bind(this),useDiscreteSignal:this.useDiscreteSignal.bind(this)});this.draw(r)},t.prototype.draw=function(e){},t}(fv);function M0(n,t,e){return Math.min(Math.max(n,t),e)}var LM=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return dh(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1];return new Wf(this.props.o,25*r,25*i)},t.prototype.render=function(e){var r=this.context.mode,i=this.absoluteUnit,a=i[0],s=i[1],c=e.absoluteO,f=c[0],d=c[1],h=[f+this.w/2*a,d+this.h/2*s],m=h[0],y=h[1];e.ctx.globalAlpha=this.props.alpha?this.props.alpha:1,e.ctx.beginPath(),e.ctx.ellipse(m,y,this.w/2*a,this.h/2*s,0,0,2*Math.PI),this.props.color?e.ctx.strokeStyle=this.props.color:e.ctx.strokeStyle=r==="edit"?"green":this.props.dragging?"red":"pink",e.ctx.lineWidth=2,e.ctx.stroke(),e.ctx.beginPath(),e.ctx.moveTo(m-this.w/2*a,y),e.ctx.lineTo(m+this.w/2*a,y),e.ctx.moveTo(m,y-this.h/2*s),e.ctx.lineTo(m,y+this.h/2*s),e.ctx.stroke(),e.ctx.globalAlpha=1},t}(Vg),TQ=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return dh(t,n),t.prototype.windowDidMount=function(e){this.setState({dragging:!1})},t.prototype.getChildren=function(e){return[LM.Node({o:[0,0],dragging:this.state.dragging,anchor:this.props.anchor})]},t.prototype.getBox=function(e){var r=this.canvasUnit,i=r[0],a=r[1];return new Wf([-12.5*i,-12.5*a],25*i,25*a)},t.prototype.onMouseDown=function(e,r){e.pointInside&&this.context.mode==="record"&&this.setState({dragging:!0})},t.prototype.chooseSetSignalValueFunction=function(e,r,i){var a=this.props.topProps.type,s=r.angle,c=r.magnitude,f=r.vector,d=r.range,h=r.rangeX,m=r.rangeY;switch(s=s&&Number(s.toFixed(2)),c=c&&Number(c.toFixed(2)),f=f&&f.map(function(B){return Number(B.toFixed(2))}),this.props.topProps.degreesOfFreedom){case"1-angular":if(a==="discrete")this.setDiscreteSignalValue(e,JSON.stringify({angle:s}),i);else{var y=d[0],w=d[1];this.setContinuousSignalValue(e,M0(s,y,w),i,d)}break;case"1-normal":a==="discrete"?this.setDiscreteSignalValue(e,JSON.stringify({magnitude:c}),i):(y=d[0],w=d[1],this.setContinuousSignalValue(e,M0(c,y,w),i,d));break;case"2-cartesian":if(a==="discrete")this.setDiscreteSignalValue(e,JSON.stringify({vector:f}),i);else{var C=h[0],k=h[1],M=m[0],N=m[1];this.setContinuousSignalValue(e+"_x",M0(f[0],C,k),i,h),this.setContinuousSignalValue(e+"_y",M0(f[1],M,N),i,m)}}},t.prototype.moveHandle=function(e,r){var i;this.context.projectTools.returnToLastCommit();var a={};switch(this.props.topProps.degreesOfFreedom){case"1-angular":var s=this.props.anchor,c=s[0],f=s[1],d=e.absolutePos,h=d[0]-c,m=d[1]-f;a={angle:Math.atan2(m,h),range:[-Math.PI,Math.PI]};break;case"1-normal":var y=Qv(e.absolutePos,this.props.anchor);if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var w=this.props.topProps.initialDirection,C=function(z,q){return z[0]*q[0]+z[1]*q[1]}(y,Zv(w,1/Px(w))),k=Zv(w,C);if(!(L=this.props.topProps.range))throw new Error("Range not defined for 1-normal handle");a={magnitude:M0(Math.sign(C)*Px(k),L[0],L[1]),range:L};break;case"2-cartesian":var M=Qv(e.absolutePos,this.props.anchor),N=(h=M[0],m=M[1],this.props.topProps.rangeX),B=this.props.topProps.rangeY;if(!N||!B){var L;if(!(L=this.props.topProps.range))throw new Error("Range not defined for 2-cartesian handle");N=L,B=L}a={vector:[h=(i=[M0(h,N[0],N[1]),M0(m,B[0],B[1])])[0],m=i[1]],rangeX:N,rangeY:B}}this.chooseSetSignalValueFunction(this.props.topProps.id,a,r),this.context.projectTools.pushUpdate()},t.prototype.onMouseMove=function(e,r){this.state.dragging&&this.moveHandle(e,!1)},t.prototype.onMouseUp=function(e,r){this.state.dragging&&(this.moveHandle(e,!0),this.setState({dragging:!1}))},t.prototype.render=function(e){},t}(Vg),OQ=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return dh(t,n),t.prototype.getChildren=function(e){var r=this.getOnionSkinCrosshairPositions(),i=r[0],a=r[1],s=this.canvasUnit,c=[12.5*s[0],12.5*s[1]];return[LM.Node({o:Qv(i,c),alpha:.5,color:"#d0e681",anchor:this.props.anchor}),LM.Node({o:Qv(a,c),alpha:.5,color:"#77d4cd",anchor:this.props.anchor})]},t.prototype.getPreviousNextPinValues=function(){var e,r,i=this,a=this.props.topProps.id,s=Object.entries(this.context.project.signalData[a].pinTimes).sort(function(w,C){return w[1]-C[1]}),c=(e=s.find(function(w){return w[0],w[1]>=i.context.project.timelineData.playheadPosition}))===null||e===void 0?void 0:e[0],f=s.findIndex(function(w){var C=w[0];return w[1],C===c});try{r=JSON.parse(this.useDiscreteSignal(a,this.context.project.timelineData.playheadPosition))}catch{r={angle:0,magnitude:0,vector:[0,0]}}var d=f>0,h=f<s.length-1,m=r,y=r;if(d)try{m=JSON.parse(this.context.project.signalData[a].pinValues[s[f-1][0]])}catch{}if(h)try{y=JSON.parse(this.context.project.signalData[a].pinValues[s[f+1][0]])}catch{}return[m,y]},t.prototype.getOnionSkinCrosshairPositions=function(){var e,r,i=this.getPreviousNextPinValues(),a=i[0],s=i[1],c=a.magnitude,f=a.angle,d=a.vector,h=s.magnitude,m=s.angle,y=s.vector;switch(this.props.topProps.degreesOfFreedom){case"1-angular":if(!this.props.topProps.initialLength)throw new Error("Initial length not defined for 1-angular handle");var w=this.props.initialLength;e=[w*Math.cos(f),w*Math.sin(f)],r=[w*Math.cos(m),w*Math.sin(m)];break;case"1-normal":if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var C=Zv(this.props.topProps.initialDirection,1/Px(this.props.topProps.initialDirection)),k=C[0],M=C[1];e=Zv([k,M],c),r=Zv([k,M],h);break;case"2-cartesian":e=d,r=y;break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}var N=Qv(this.parentO,this.props.anchor);return[e=V0(e,N),r=V0(r,N)]},t}(Vg),NQ=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return dh(t,n),t.prototype.getChildren=function(e){var r=this.props.children?Rg([],this.props.children):[],i={id:this.props.id,topProps:this.props,anchor:this.parentO},a=TQ.Node(i);return r.push(a),r},t.prototype.retrieveSignalValue=function(e){if(this.props.type==="discrete"){var r=this.useDiscreteSignal(e,this.context.project.timelineData.playheadPosition),i={angle:0,magnitude:0,vector:[0,0]};try{i=JSON.parse(r)}catch{}switch(this.props.degreesOfFreedom){case"1-angular":return i.angle;case"1-normal":return i.magnitude;case"2-cartesian":return i.vector;default:throw new Error("Degrees of freedom not defined for VectorHandle")}}else switch(this.props.degreesOfFreedom){case"1-angular":return this.useContinuousSignal(e,[-Math.PI,Math.PI]);case"1-normal":return this.useContinuousSignal(e,this.props.range);case"2-cartesian":var a=this.props.rangeX,s=this.props.rangeY;if(!a||!s){var c=this.props.range;if(!c)throw new Error("Range not defined for 2-cartesian handle");a=c,s=c}return[this.useContinuousSignal(e+"_x",a),this.useContinuousSignal(e+"_y",s)];default:throw new Error("Degrees of freedom not defined for VectorHandle")}},t.prototype.getBox=function(){var e,r,i,a,s;switch(this.props.degreesOfFreedom){case"1-angular":var c=this.retrieveSignalValue(this.props.id);if(!this.props.initialLength)throw new Error("Initial length not defined for 1-angular handle");var f=this.props.initialLength;a=(e=[f*Math.cos(c),f*Math.sin(c)])[0],s=e[1];break;case"1-normal":var d=this.retrieveSignalValue(this.props.id);if(!this.props.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var h=Zv(this.props.initialDirection,1/Px(this.props.initialDirection));a=(r=[h[0]*d,h[1]*d])[0],s=r[1];break;case"2-cartesian":a=(i=this.retrieveSignalValue(this.props.id))[0],s=i[1];break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}return new Wf([a,s],0,0)},t.prototype.render=function(e){var r=this.context.mode;if(r==="edit"||r==="record"){var i=e.absoluteO,a=i[0],s=i[1],c=this.absoluteUnit,f=c[0],d=c[1],h=[a+this.w/2*f,s+this.h/2*d],m=h[0],y=h[1];if(this.props.displayLine){e.ctx.beginPath(),e.ctx.strokeStyle="green",e.ctx.lineWidth=2,e.ctx.setLineDash([3,1]);var w=e.localToCanvas(Zv(this.o,-1)),C=w[0],k=w[1];e.ctx.moveTo(C,k),e.ctx.lineTo(m,y),e.ctx.stroke()}if(this.props.displayCircle){e.ctx.beginPath(),e.ctx.strokeStyle="green",e.ctx.lineWidth=2,e.ctx.setLineDash([3,1]);var M=Px(this.o),N=e.localToCanvas(Zv(this.o,-1));C=N[0],k=N[1],e.ctx.ellipse(C,k,M*f,M*d,0,0,2*Math.PI),e.ctx.stroke()}e.ctx.setLineDash([]),e.ctx.font="20px Arial",e.ctx.fillStyle=r==="edit"?"green":"pink",e.ctx.fillText(this.props.id,m,y-17)}},t}(Vg),CA=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return dh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(NQ.Node(this.props)),this.props.onionSkin&&r.push(OQ.Node({id:this.props.id,topProps:this.props,anchor:this.parentO})),r},t}(Vg);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(CA.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"2-cartesian",rangeX:e.rangeX,rangeY:e.rangeY,range:e.range,children:e.children,displayLine:e.displayLine,onionSkin:e.onionSkin})),r}})(fv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(CA.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"1-angular",children:e.children,initialLength:e.initialLength,displayCircle:e.displayCircle,onionSkin:e.onionSkin})),r}}(fv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(CA.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"1-normal",initialDirection:e.initialDirection,range:e.range,children:e.children,displayLine:e.displayLine,onionSkin:e.onionSkin})),r}}(fv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.getChildren=function(){var e=this,r={continuous:this.useContinuousSignal.bind(this),discrete:this.useDiscreteSignal.bind(this),frame:function(){return e.currentFrame},project:function(){return e.context.project},setDiscreteSignal:function(i,a,s){return e.setDiscreteSignalValue(i,a,!0,s)},setContinuousSignal:function(i,a,s,c){return e.setContinuousSignalValue(i,a,!0,c,s)}};return this.props.getChildren(r)}}(Vg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){return new Wf([this.props.x,this.props.y],this.props.w,this.props.h)},t.prototype.draw=function(e){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){e.ctx.save();var i=e.absoluteO,a=i[0],s=i[1];e.ctx.translate(a,s);var c=e.ctx;this.absoluteToCanvasMeasure;var f=this.absoluteUnit,d=f[0],h=f[1],m={moveTo:function(w,C){c.moveTo(w*d,C*h)},lineTo:function(w,C){c.lineTo(w*d,C*h)},arc:function(w,C,k,M,N,B){c.arc(w*d,C*h,k*d,M,N,B)},fillRect:function(w,C,k,M){c.fillRect(w*d,C*h,k*d,M*h)},strokeRect:function(w,C,k,M){c.strokeRect(w*d,C*h,k*d,M*h)},fillText:function(w,C,k){c.fillText(w,C*d,k*h)},strokeText:function(w,C,k){c.strokeText(w,C*d,k*h)},arcTo:function(w,C,k,M,N){c.arcTo(w*d,C*h,k*d,M*h,N*d)},bezierCurveTo:function(w,C,k,M,N,B){c.bezierCurveTo(w*d,C*h,k*d,M*h,N*d,B*h)},quadraticCurveTo:function(w,C,k,M){c.quadraticCurveTo(w*d,C*h,k*d,M*h)},rect:function(w,C,k,M){c.rect(w*d,C*h,k*d,M*h)},clearRect:function(w,C,k,M){c.clearRect(w*d,C*h,k*d,M*h)},translate:function(w,C){c.translate(w*d,C*h)},transform:function(w,C,k,M,N,B){c.transform(w,C,k,M,N*d,B*h)},setTransform:function(w,C,k,M,N,B){c.setTransform(w,C,k,M,N*d,B*h)},createRadialGradient:function(w,C,k,M,N,B){return c.createRadialGradient(w*d,C*h,k*d,M*d,N*h,B*d)}},y=new Proxy(e.ctx,{get:function(w,C){if(C in m)return m[C];var k=Reflect.get(w,C);return typeof k=="function"?k.bind(w):k},set:function(w,C,k){return Reflect.set(w,C,k)}});y.beginPath(),y.rect(0,0,this.props.w,this.props.h),y.clip(),this.props.draw(y),e.ctx.restore()}}}(Vg),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.globalPositioning=!0,e}dh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){var e=this.context.workingCanvasDimensions[0],r=this.context.workingCanvasDimensions[1];return new Wf([0,0],e,r)},t.prototype.draw=function(e){var r=this.context.mode;this.props.modes&&!this.props.modes.includes(r)||this.props.draw(e.ctx)}}(Vg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.getBox=function(){return new Wf([this.props.x,this.props.y],this.props.w,this.props.h)},t.prototype.getChildren=function(){return this.props.children}}(Vg),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._img=null,e}dh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){return new Wf([this.props.x,this.props.y],this.props.w,this.props.h)},Object.defineProperty(t.prototype,"img",{get:function(){var e=this;if(!this._img){var r=new Image;return r.src=this.props.src,r.onload=function(){e._img=r},r}return this._img},enumerable:!1,configurable:!0}),t.prototype.draw=function(e){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){e.ctx.save();var i=e.absoluteO,a=i[0],s=i[1],c=this.absoluteUnit,f=c[0],d=c[1];e.ctx.translate(a,s),e.ctx.drawImage(this.img,0,0,this.props.w*f,this.props.h*d),e.ctx.restore()}}}(Vg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}dh(t,n),t.prototype.windowDidMount=function(e){this.props.onMount()}}(fv),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isSceneCamera=!0,e}dh(t,n),t.prototype.getChildren=function(){return this.props.children},t.prototype.getBox=function(){return new Wf([this.props.x||0,this.props.y||0],this.props.w||500,this.props.h||500)},t.prototype.render=function(e){this.strokeOutline(e,"white")}}(Vg);var zM=function(n,t){return zM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},zM(n,t)};function qi(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}zM(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var Ts=function(){return Ts=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},Ts.apply(this,arguments)};function Ud(n,t,e){if(e||arguments.length===2)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}var ZD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s8,u8,l8,c8={exports:{}},_d={},f8={exports:{}},h8={};function IQ(){return u8||(u8=1,f8.exports=(s8||(s8=1,function(n){function t(_t,Et){var mt=_t.length;_t.push(Et);t:for(;0<mt;){var vt=mt-1>>>1,Lt=_t[vt];if(!(0<i(Lt,Et)))break t;_t[vt]=Et,_t[mt]=Lt,mt=vt}}function e(_t){return _t.length===0?null:_t[0]}function r(_t){if(_t.length===0)return null;var Et=_t[0],mt=_t.pop();if(mt!==Et){_t[0]=mt;t:for(var vt=0,Lt=_t.length,ee=Lt>>>1;vt<ee;){var pe=2*(vt+1)-1,ve=_t[pe],Oe=pe+1,qe=_t[Oe];if(0>i(ve,mt))Oe<Lt&&0>i(qe,ve)?(_t[vt]=qe,_t[Oe]=mt,vt=Oe):(_t[vt]=ve,_t[pe]=mt,vt=pe);else{if(!(Oe<Lt&&0>i(qe,mt)))break t;_t[vt]=qe,_t[Oe]=mt,vt=Oe}}}return Et}function i(_t,Et){var mt=_t.sortIndex-Et.sortIndex;return mt!==0?mt:_t.id-Et.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var s=Date,c=s.now();n.unstable_now=function(){return s.now()-c}}var f=[],d=[],h=1,m=null,y=3,w=!1,C=!1,k=!1,M=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function L(_t){for(var Et=e(d);Et!==null;){if(Et.callback===null)r(d);else{if(!(Et.startTime<=_t))break;r(d),Et.sortIndex=Et.expirationTime,t(f,Et)}Et=e(d)}}function z(_t){if(k=!1,L(_t),!C)if(e(f)!==null)C=!0,At(q);else{var Et=e(d);Et!==null&&Zt(z,Et.startTime-_t)}}function q(_t,Et){C=!1,k&&(k=!1,N(it),it=-1),w=!0;var mt=y;try{for(L(Et),m=e(f);m!==null&&(!(m.expirationTime>Et)||_t&&!gt());){var vt=m.callback;if(typeof vt=="function"){m.callback=null,y=m.priorityLevel;var Lt=vt(m.expirationTime<=Et);Et=n.unstable_now(),typeof Lt=="function"?m.callback=Lt:m===e(f)&&r(f),L(Et)}else r(f);m=e(f)}if(m!==null)var ee=!0;else{var pe=e(d);pe!==null&&Zt(z,pe.startTime-Et),ee=!1}return ee}finally{m=null,y=mt,w=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var V,X=!1,nt=null,it=-1,ct=5,ft=-1;function gt(){return!(n.unstable_now()-ft<ct)}function Ct(){if(nt!==null){var _t=n.unstable_now();ft=_t;var Et=!0;try{Et=nt(!0,_t)}finally{Et?V():(X=!1,nt=null)}}else X=!1}if(typeof B=="function")V=function(){B(Ct)};else if(typeof MessageChannel<"u"){var kt=new MessageChannel,Tt=kt.port2;kt.port1.onmessage=Ct,V=function(){Tt.postMessage(null)}}else V=function(){M(Ct,0)};function At(_t){nt=_t,X||(X=!0,V())}function Zt(_t,Et){it=M(function(){_t(n.unstable_now())},Et)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(_t){_t.callback=null},n.unstable_continueExecution=function(){C||w||(C=!0,At(q))},n.unstable_forceFrameRate=function(_t){0>_t||125<_t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ct=0<_t?Math.floor(1e3/_t):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return e(f)},n.unstable_next=function(_t){switch(y){case 1:case 2:case 3:var Et=3;break;default:Et=y}var mt=y;y=Et;try{return _t()}finally{y=mt}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(_t,Et){switch(_t){case 1:case 2:case 3:case 4:case 5:break;default:_t=3}var mt=y;y=_t;try{return Et()}finally{y=mt}},n.unstable_scheduleCallback=function(_t,Et,mt){var vt=n.unstable_now();switch(mt=typeof mt=="object"&&mt!==null&&typeof(mt=mt.delay)=="number"&&0<mt?vt+mt:vt,_t){case 1:var Lt=-1;break;case 2:Lt=250;break;case 5:Lt=1073741823;break;case 4:Lt=1e4;break;default:Lt=5e3}return _t={id:h++,callback:Et,priorityLevel:_t,startTime:mt,expirationTime:Lt=mt+Lt,sortIndex:-1},mt>vt?(_t.sortIndex=mt,t(d,_t),e(f)===null&&_t===e(d)&&(k?(N(it),it=-1):k=!0,Zt(z,mt-vt))):(_t.sortIndex=Lt,t(f,_t),C||w||(C=!0,At(q))),_t},n.unstable_shouldYield=gt,n.unstable_wrapCallback=function(_t){var Et=y;return function(){var mt=y;y=Et;try{return _t.apply(this,arguments)}finally{y=mt}}}}(h8)),h8)),f8.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function BQ(){if(l8)return _d;l8=1;var n=Vi,t=IQ();function e(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,D=1;D<arguments.length;D++)v+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(p,v){s(p,v),s(p+"Capture",v)}function s(p,v){for(i[p]=v,p=0;p<v.length;p++)r.add(v[p])}var c=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(p,v,D,F,j,$,Y){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=F,this.attributeNamespace=j,this.mustUseProperty=D,this.propertyName=p,this.type=v,this.sanitizeURL=$,this.removeEmptyString=Y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){w[p]=new y(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];w[v]=new y(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){w[p]=new y(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){w[p]=new y(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){w[p]=new y(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){w[p]=new y(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){w[p]=new y(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){w[p]=new y(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){w[p]=new y(p,5,!1,p.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(p){return p[1].toUpperCase()}function M(p,v,D,F){var j=w.hasOwnProperty(v)?w[v]:null;(j!==null?j.type!==0:F||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(function($,Y,lt,ht){if(Y==null||function(Mt,$t,Gt,qt){if(Gt!==null&&Gt.type===0)return!1;switch(typeof $t){case"function":case"symbol":return!0;case"boolean":return!qt&&(Gt!==null?!Gt.acceptsBooleans:(Mt=Mt.toLowerCase().slice(0,5))!=="data-"&&Mt!=="aria-");default:return!1}}($,Y,lt,ht))return!0;if(ht)return!1;if(lt!==null)switch(lt.type){case 3:return!Y;case 4:return Y===!1;case 5:return isNaN(Y);case 6:return isNaN(Y)||1>Y}return!1}(v,D,j,F)&&(D=null),F||j===null?function($){return!!f.call(m,$)||!f.call(h,$)&&(d.test($)?m[$]=!0:(h[$]=!0,!1))}(v)&&(D===null?p.removeAttribute(v):p.setAttribute(v,""+D)):j.mustUseProperty?p[j.propertyName]=D===null?j.type!==3&&"":D:(v=j.attributeName,F=j.attributeNamespace,D===null?p.removeAttribute(v):(D=(j=j.type)===3||j===4&&D===!0?"":""+D,F?p.setAttributeNS(F,v,D):p.setAttribute(v,D))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(C,k);w[v]=new y(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(C,k);w[v]=new y(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(C,k);w[v]=new y(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){w[p]=new y(p,1,!1,p.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){w[p]=new y(p,1,!1,p.toLowerCase(),null,!0,!0)});var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),nt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),kt=Symbol.for("react.offscreen"),Tt=Symbol.iterator;function At(p){return p===null||typeof p!="object"?null:typeof(p=Tt&&p[Tt]||p["@@iterator"])=="function"?p:null}var Zt,_t=Object.assign;function Et(p){if(Zt===void 0)try{throw Error()}catch(D){var v=D.stack.trim().match(/\n( *(at )?)/);Zt=v&&v[1]||""}return`
`+Zt+p}var mt=!1;function vt(p,v){if(!p||mt)return"";mt=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Mt){var F=Mt}Reflect.construct(p,[],v)}else{try{v.call()}catch(Mt){F=Mt}p.call(v.prototype)}else{try{throw Error()}catch(Mt){F=Mt}p()}}catch(Mt){if(Mt&&F&&typeof Mt.stack=="string"){for(var j=Mt.stack.split(`
`),$=F.stack.split(`
`),Y=j.length-1,lt=$.length-1;1<=Y&&0<=lt&&j[Y]!==$[lt];)lt--;for(;1<=Y&&0<=lt;Y--,lt--)if(j[Y]!==$[lt]){if(Y!==1||lt!==1)do if(Y--,0>--lt||j[Y]!==$[lt]){var ht=`
`+j[Y].replace(" at new "," at ");return p.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",p.displayName)),ht}while(1<=Y&&0<=lt);break}}}finally{mt=!1,Error.prepareStackTrace=D}return(p=p?p.displayName||p.name:"")?Et(p):""}function Lt(p){switch(p.tag){case 5:return Et(p.type);case 16:return Et("Lazy");case 13:return Et("Suspense");case 19:return Et("SuspenseList");case 0:case 2:case 15:return vt(p.type,!1);case 11:return vt(p.type.render,!1);case 1:return vt(p.type,!0);default:return""}}function ee(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case z:return"Fragment";case L:return"Portal";case V:return"Profiler";case q:return"StrictMode";case ct:return"Suspense";case ft:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case nt:return(p.displayName||"Context")+".Consumer";case X:return(p._context.displayName||"Context")+".Provider";case it:var v=p.render;return(p=p.displayName)||(p=(p=v.displayName||v.name||"")!==""?"ForwardRef("+p+")":"ForwardRef"),p;case gt:return(v=p.displayName||null)!==null?v:ee(p.type)||"Memo";case Ct:v=p._payload,p=p._init;try{return ee(p(v))}catch{}}return null}function pe(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=(p=v.render).displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(v);case 8:return v===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ve(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":case"object":return p;default:return""}}function Oe(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function qe(p){p._valueTracker||(p._valueTracker=function(v){var D=Oe(v)?"checked":"value",F=Object.getOwnPropertyDescriptor(v.constructor.prototype,D),j=""+v[D];if(!v.hasOwnProperty(D)&&F!==void 0&&typeof F.get=="function"&&typeof F.set=="function"){var $=F.get,Y=F.set;return Object.defineProperty(v,D,{configurable:!0,get:function(){return $.call(this)},set:function(lt){j=""+lt,Y.call(this,lt)}}),Object.defineProperty(v,D,{enumerable:F.enumerable}),{getValue:function(){return j},setValue:function(lt){j=""+lt},stopTracking:function(){v._valueTracker=null,delete v[D]}}}}(p))}function He(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var D=v.getValue(),F="";return p&&(F=Oe(p)?p.checked?"true":"false":p.value),(p=F)!==D&&(v.setValue(p),!0)}function wn(p){if((p=p||(typeof document<"u"?document:void 0))===void 0)return null;try{return p.activeElement||p.body}catch{return p.body}}function nn(p,v){var D=v.checked;return _t({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??p._wrapperState.initialChecked})}function cr(p,v){var D=v.defaultValue==null?"":v.defaultValue,F=v.checked!=null?v.checked:v.defaultChecked;D=ve(v.value!=null?v.value:D),p._wrapperState={initialChecked:F,initialValue:D,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function bi(p,v){(v=v.checked)!=null&&M(p,"checked",v,!1)}function Vt(p,v){bi(p,v);var D=ve(v.value),F=v.type;if(D!=null)F==="number"?(D===0&&p.value===""||p.value!=D)&&(p.value=""+D):p.value!==""+D&&(p.value=""+D);else if(F==="submit"||F==="reset")return void p.removeAttribute("value");v.hasOwnProperty("value")?dt(p,v.type,D):v.hasOwnProperty("defaultValue")&&dt(p,v.type,ve(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function rt(p,v,D){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var F=v.type;if(!(F!=="submit"&&F!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,D||v===p.value||(p.value=v),p.defaultValue=v}(D=p.name)!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,D!==""&&(p.name=D)}function dt(p,v,D){v==="number"&&wn(p.ownerDocument)===p||(D==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+D&&(p.defaultValue=""+D))}var bt=Array.isArray;function Ot(p,v,D,F){if(p=p.options,v){v={};for(var j=0;j<D.length;j++)v["$"+D[j]]=!0;for(D=0;D<p.length;D++)j=v.hasOwnProperty("$"+p[D].value),p[D].selected!==j&&(p[D].selected=j),j&&F&&(p[D].defaultSelected=!0)}else{for(D=""+ve(D),v=null,j=0;j<p.length;j++){if(p[j].value===D)return p[j].selected=!0,void(F&&(p[j].defaultSelected=!0));v!==null||p[j].disabled||(v=p[j])}v!==null&&(v.selected=!0)}}function Bt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(e(91));return _t({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Rt(p,v){var D=v.value;if(D==null){if(D=v.children,v=v.defaultValue,D!=null){if(v!=null)throw Error(e(92));if(bt(D)){if(1<D.length)throw Error(e(93));D=D[0]}v=D}v==null&&(v=""),D=v}p._wrapperState={initialValue:ve(D)}}function Xt(p,v){var D=ve(v.value),F=ve(v.defaultValue);D!=null&&((D=""+D)!==p.value&&(p.value=D),v.defaultValue==null&&p.defaultValue!==D&&(p.defaultValue=D)),F!=null&&(p.defaultValue=""+F)}function Kt(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function ge(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?ge(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Ze,Xe=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,D,F,j){MSApp.execUnsafeLocalFunction(function(){return p(v,D)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for((Ze=Ze||document.createElement("div")).innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Ze.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function Se(p,v){if(v){var D=p.firstChild;if(D&&D===p.lastChild&&D.nodeType===3)return void(D.nodeValue=v)}p.textContent=v}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];function zi(p,v,D){return v==null||typeof v=="boolean"||v===""?"":D||typeof v!="number"||v===0||je.hasOwnProperty(p)&&je[p]?(""+v).trim():v+"px"}function Yi(p,v){for(var D in p=p.style,v)if(v.hasOwnProperty(D)){var F=D.indexOf("--")===0,j=zi(D,v[D],F);D==="float"&&(D="cssFloat"),F?p.setProperty(D,j):p[D]=j}}Object.keys(je).forEach(function(p){rn.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),je[v]=je[p]})});var Ui=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(p,v){if(v){if(Ui[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(e(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(e(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(e(61))}if(v.style!=null&&typeof v.style!="object")throw Error(e(62))}}function Ai(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function ko(p){return(p=p.target||p.srcElement||window).correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var vu=null,ja=null,ls=null;function yu(p){if(p=Js(p)){if(typeof vu!="function")throw Error(e(280));var v=p.stateNode;v&&(v=jo(v),vu(p.stateNode,p.type,v))}}function dl(p){ja?ls?ls.push(p):ls=[p]:ja=p}function Ns(){if(ja){var p=ja,v=ls;if(ls=ja=null,yu(p),v)for(p=0;p<v.length;p++)yu(v[p])}}function Ol(p,v){return p(v)}function gl(){}var Pa=!1;function ml(p,v,D){if(Pa)return p(v,D);Pa=!0;try{return Ol(p,v,D)}finally{Pa=!1,(ja!==null||ls!==null)&&(gl(),Ns())}}function wu(p,v){var D=p.stateNode;if(D===null)return null;var F=jo(D);if(F===null)return null;D=F[v];t:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(F=!((p=p.type)==="button"||p==="input"||p==="select"||p==="textarea")),p=!F;break t;default:p=!1}if(p)return null;if(D&&typeof D!="function")throw Error(e(231,v,typeof D));return D}var Ou=!1;if(c)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Ou=!1}function Nu(p,v,D,F,j,$,Y,lt,ht){var Mt=Array.prototype.slice.call(arguments,3);try{v.apply(D,Mt)}catch($t){this.onError($t)}}var ts=!1,fa=null,ba=!1,ho=null,Iu={onError:function(p){ts=!0,fa=p}};function nu(p,v,D,F,j,$,Y,lt,ht){ts=!1,fa=null,Nu.apply(Iu,arguments)}function cs(p){var v=p,D=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do 4098&(v=p).flags&&(D=v.return),p=v.return;while(p)}return v.tag===3?D:null}function nl(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate)!==null&&(v=p.memoizedState),v!==null)return v.dehydrated}return null}function Nl(p){if(cs(p)!==p)throw Error(e(188))}function vl(p){return p=function(v){var D=v.alternate;if(!D){if((D=cs(v))===null)throw Error(e(188));return D!==v?null:v}for(var F=v,j=D;;){var $=F.return;if($===null)break;var Y=$.alternate;if(Y===null){if((j=$.return)!==null){F=j;continue}break}if($.child===Y.child){for(Y=$.child;Y;){if(Y===F)return Nl($),v;if(Y===j)return Nl($),D;Y=Y.sibling}throw Error(e(188))}if(F.return!==j.return)F=$,j=Y;else{for(var lt=!1,ht=$.child;ht;){if(ht===F){lt=!0,F=$,j=Y;break}if(ht===j){lt=!0,j=$,F=Y;break}ht=ht.sibling}if(!lt){for(ht=Y.child;ht;){if(ht===F){lt=!0,F=Y,j=$;break}if(ht===j){lt=!0,j=Y,F=$;break}ht=ht.sibling}if(!lt)throw Error(e(189))}}if(F.alternate!==j)throw Error(e(190))}if(F.tag!==3)throw Error(e(188));return F.stateNode.current===F?v:D}(p),p!==null?bu(p):null}function bu(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=bu(p);if(v!==null)return v;p=p.sibling}return null}var Gs=t.unstable_scheduleCallback,kc=t.unstable_cancelCallback,hf=t.unstable_shouldYield,Mc=t.unstable_requestPaint,ln=t.unstable_now,Vn=t.unstable_getCurrentPriorityLevel,hr=t.unstable_ImmediatePriority,Xi=t.unstable_UserBlockingPriority,es=t.unstable_NormalPriority,ru=t.unstable_LowPriority,Do=t.unstable_IdlePriority,De=null,be=null,Xr=Math.clz32?Math.clz32:function(p){return(p>>>=0)===0?32:31-(xa(p)/tp|0)|0},xa=Math.log,tp=Math.LN2,Kc=64,Tf=4194304;function ze(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&p;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&p;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function $i(p,v){var D=p.pendingLanes;if(D===0)return 0;var F=0,j=p.suspendedLanes,$=p.pingedLanes,Y=268435455&D;if(Y!==0){var lt=Y&~j;lt!==0?F=ze(lt):($&=Y)!=0&&(F=ze($))}else(Y=D&~j)!=0?F=ze(Y):$!==0&&(F=ze($));if(F===0)return 0;if(v!==0&&v!==F&&!(v&j)&&((j=F&-F)>=($=v&-v)||j===16&&4194240&$))return v;if(4&F&&(F|=16&D),(v=p.entangledLanes)!==0)for(p=p.entanglements,v&=F;0<v;)j=1<<(D=31-Xr(v)),F|=p[D],v&=~j;return F}function kr(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;default:return-1}}function Fc(p){return(p=-1073741825&p.pendingLanes)!=0?p:1073741824&p?1073741824:0}function Bu(){var p=Kc;return!(4194240&(Kc<<=1))&&(Kc=64),p}function pr(p){for(var v=[],D=0;31>D;D++)v.push(p);return v}function Ru(p,v,D){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),(p=p.eventTimes)[v=31-Xr(v)]=D}function Ji(p,v){var D=p.entangledLanes|=v;for(p=p.entanglements;D;){var F=31-Xr(D),j=1<<F;j&v|p[F]&v&&(p[F]|=v),D&=~j}}var qn=0;function rl(p){return 1<(p&=-p)?4<p?268435455&p?16:536870912:4:1}var Zc,wc,Mn,uh,Bn,tf=!1,Cs=[],Br=null,br=null,xi=null,Be=new Map,Er=new Map,Jr=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Is(p,v){switch(p){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Be.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(v.pointerId)}}function uc(p,v,D,F,j,$){return p===null||p.nativeEvent!==$?(p={blockedOn:v,domEventName:D,eventSystemFlags:F,nativeEvent:$,targetContainers:[j]},v!==null&&(v=Js(v))!==null&&wc(v),p):(p.eventSystemFlags|=F,v=p.targetContainers,j!==null&&v.indexOf(j)===-1&&v.push(j),p)}function ql(p){var v=Po(p.target);if(v!==null){var D=cs(v);if(D!==null){if((v=D.tag)===13){if((v=nl(D))!==null)return p.blockedOn=v,void Bn(p.priority,function(){Mn(D)})}else if(v===3&&D.stateNode.current.memoizedState.isDehydrated)return void(p.blockedOn=D.tag===3?D.stateNode.containerInfo:null)}}p.blockedOn=null}function jr(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var D=Ln(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(D!==null)return(v=Js(D))!==null&&wc(v),p.blockedOn=D,!1;var F=new(D=p.nativeEvent).constructor(D.type,D);us=F,D.target.dispatchEvent(F),us=null,v.shift()}return!0}function Ii(p,v,D){jr(p)&&D.delete(v)}function bc(){tf=!1,Br!==null&&jr(Br)&&(Br=null),br!==null&&jr(br)&&(br=null),xi!==null&&jr(xi)&&(xi=null),Be.forEach(Ii),Er.forEach(Ii)}function Bs(p,v){p.blockedOn===v&&(p.blockedOn=null,tf||(tf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bc)))}function xu(p){function v(j){return Bs(j,p)}if(0<Cs.length){Bs(Cs[0],p);for(var D=1;D<Cs.length;D++){var F=Cs[D];F.blockedOn===p&&(F.blockedOn=null)}}for(Br!==null&&Bs(Br,p),br!==null&&Bs(br,p),xi!==null&&Bs(xi,p),Be.forEach(v),Er.forEach(v),D=0;D<Jr.length;D++)(F=Jr[D]).blockedOn===p&&(F.blockedOn=null);for(;0<Jr.length&&(D=Jr[0]).blockedOn===null;)ql(D),D.blockedOn===null&&Jr.shift()}var Da=N.ReactCurrentBatchConfig,ju=!0;function Pc(p,v,D,F){var j=qn,$=Da.transition;Da.transition=null;try{qn=1,Il(p,v,D,F)}finally{qn=j,Da.transition=$}}function Ys(p,v,D,F){var j=qn,$=Da.transition;Da.transition=null;try{qn=4,Il(p,v,D,F)}finally{qn=j,Da.transition=$}}function Il(p,v,D,F){if(ju){var j=Ln(p,v,D,F);if(j===null)ga(p,v,F,Bl,D),Is(p,F);else if(function(Y,lt,ht,Mt,$t){switch(lt){case"focusin":return Br=uc(Br,Y,lt,ht,Mt,$t),!0;case"dragenter":return br=uc(br,Y,lt,ht,Mt,$t),!0;case"mouseover":return xi=uc(xi,Y,lt,ht,Mt,$t),!0;case"pointerover":var Gt=$t.pointerId;return Be.set(Gt,uc(Be.get(Gt)||null,Y,lt,ht,Mt,$t)),!0;case"gotpointercapture":return Gt=$t.pointerId,Er.set(Gt,uc(Er.get(Gt)||null,Y,lt,ht,Mt,$t)),!0}return!1}(j,p,v,D,F))F.stopPropagation();else if(Is(p,F),4&v&&-1<ef.indexOf(p)){for(;j!==null;){var $=Js(j);if($!==null&&Zc($),($=Ln(p,v,D,F))===null&&ga(p,v,F,Bl,D),$===j)break;j=$}j!==null&&F.stopPropagation()}else ga(p,v,F,null,D)}}var Bl=null;function Ln(p,v,D,F){if(Bl=null,(p=Po(p=ko(F)))!==null)if((v=cs(p))===null)p=null;else if((D=v.tag)===13){if((p=nl(v))!==null)return p;p=null}else if(D===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Bl=p,null}function yl(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vn()){case hr:return 1;case Xi:return 4;case es:case ru:return 16;case Do:return 536870912;default:return 16}default:return 16}}var fi=null,wl=null,Xs=null;function Gc(){if(Xs)return Xs;var p,v,D=wl,F=D.length,j="value"in fi?fi.value:fi.textContent,$=j.length;for(p=0;p<F&&D[p]===j[p];p++);var Y=F-p;for(v=1;v<=Y&&D[F-v]===j[$-v];v++);return Xs=j.slice(p,1<v?1-v:void 0)}function Tc(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode)===0&&v===13&&(p=13):p=v,p===10&&(p=13),32<=p||p===13?p:0}function Lu(){return!0}function ha(){return!1}function Gi(p){function v(D,F,j,$,Y){for(var lt in this._reactName=D,this._targetInst=j,this.type=F,this.nativeEvent=$,this.target=Y,this.currentTarget=null,p)p.hasOwnProperty(lt)&&(D=p[lt],this[lt]=D?D($):$[lt]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Lu:ha,this.isPropagationStopped=ha,this}return _t(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),v}var zu,Di,ns,Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=Gi(Wr),La=_t({},Wr,{view:0,detail:0}),lc=Gi(La),Co=_t({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==ns&&(ns&&p.type==="mousemove"?(zu=p.screenX-ns.screenX,Di=p.screenY-ns.screenY):Di=zu=0,ns=p),zu)},movementY:function(p){return"movementY"in p?p.movementY:Di}}),J=Gi(Co),st=Gi(_t({},Co,{dataTransfer:0})),et=Gi(_t({},La,{relatedTarget:0})),pt=Gi(_t({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0})),Nt=_t({},Wr,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Jt=Gi(Nt),Fe=Gi(_t({},Wr,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):!!(p=Ne[p])&&!!v[p]}function Pe(){return ke}var vr=_t({},La,{key:function(p){if(p.key){var v=mn[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Tc(p))===13?"Enter":String.fromCharCode(p):p.type==="keydown"||p.type==="keyup"?zt[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(p){return p.type==="keypress"?Tc(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Tc(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Ci=Gi(vr),hi=Gi(_t({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ca=Gi(_t({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe})),pi=Gi(_t({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ce=_t({},Co,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),kh=Gi(Ce),_i=[9,13,27,32],Rs=c&&"CompositionEvent"in window,Yc=null;c&&"documentMode"in document&&(Yc=document.documentMode);var pf=c&&"TextEvent"in window&&!Yc,lh=c&&(!Rs||Yc&&8<Yc&&11>=Yc),iu=" ",tr=!1;function js(p,v){switch(p){case"keyup":return _i.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rl(p){return typeof(p=p.detail)=="object"&&"data"in p?p.data:null}var ea=!1,Yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Yf[p.type]:v==="textarea"}function Uu(p,v,D,F){dl(F),0<(v=Hu(v,"onChange")).length&&(D=new xr("onChange","change",null,D,F),p.push({event:D,listeners:v}))}var jl=null,io=null;function Bo(p){Wu(p,0)}function za(p){if(He(_o(p)))return p}function nf(p,v){if(p==="change")return v}var Xf=!1;if(c){var Of;if(c){var Ua="oninput"in document;if(!Ua){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Ua=typeof $u.oninput=="function"}Of=Ua}else Of=!1;Xf=Of&&(!document.documentMode||9<document.documentMode)}function ou(){jl&&(jl.detachEvent("onpropertychange",xc),io=jl=null)}function xc(p){if(p.propertyName==="value"&&za(io)){var v=[];Uu(v,io,p,ko(p)),ml(Bo,v)}}function Nc(p,v,D){p==="focusin"?(ou(),io=D,(jl=v).attachEvent("onpropertychange",xc)):p==="focusout"&&ou()}function Wh(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return za(io)}function Lh(p,v){if(p==="click")return za(v)}function sn(p,v){if(p==="input"||p==="change")return za(v)}var on=typeof Object.is=="function"?Object.is:function(p,v){return p===v&&(p!==0||1/p==1/v)||p!=p&&v!=v};function pa(p,v){if(on(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var D=Object.keys(p),F=Object.keys(v);if(D.length!==F.length)return!1;for(F=0;F<D.length;F++){var j=D[F];if(!f.call(v,j)||!on(p[j],v[j]))return!1}return!0}function Du(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function df(p,v){var D,F=Du(p);for(p=0;F;){if(F.nodeType===3){if(D=p+F.textContent.length,p<=v&&D>=v)return{node:F,offset:v-p};p=D}t:{for(;F;){if(F.nextSibling){F=F.nextSibling;break t}F=F.parentNode}F=void 0}F=Du(F)}}function xh(p,v){return!(!p||!v)&&(p===v||(!p||p.nodeType!==3)&&(v&&v.nodeType===3?xh(p,v.parentNode):"contains"in p?p.contains(v):!!p.compareDocumentPosition&&!!(16&p.compareDocumentPosition(v))))}function il(){for(var p=window,v=wn();v instanceof p.HTMLIFrameElement;){try{var D=typeof v.contentWindow.location.href=="string"}catch{D=!1}if(!D)break;v=wn((p=v.contentWindow).document)}return v}function _a(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function oa(p){var v=il(),D=p.focusedElem,F=p.selectionRange;if(v!==D&&D&&D.ownerDocument&&xh(D.ownerDocument.documentElement,D)){if(F!==null&&_a(D)){if(v=F.start,(p=F.end)===void 0&&(p=v),"selectionStart"in D)D.selectionStart=v,D.selectionEnd=Math.min(p,D.value.length);else if((p=(v=D.ownerDocument||document)&&v.defaultView||window).getSelection){p=p.getSelection();var j=D.textContent.length,$=Math.min(F.start,j);F=F.end===void 0?$:Math.min(F.end,j),!p.extend&&$>F&&(j=F,F=$,$=j),j=df(D,$);var Y=df(D,F);j&&Y&&(p.rangeCount!==1||p.anchorNode!==j.node||p.anchorOffset!==j.offset||p.focusNode!==Y.node||p.focusOffset!==Y.offset)&&((v=v.createRange()).setStart(j.node,j.offset),p.removeAllRanges(),$>F?(p.addRange(v),p.extend(Y.node,Y.offset)):(v.setEnd(Y.node,Y.offset),p.addRange(v)))}}for(v=[],p=D;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<v.length;D++)(p=v[D]).element.scrollLeft=p.left,p.element.scrollTop=p.top}}var ii=c&&"documentMode"in document&&11>=document.documentMode,Ko=null,aa=null,sa=null,Mo=!1;function gf(p,v,D){var F=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;Mo||Ko==null||Ko!==wn(F)||(F="selectionStart"in(F=Ko)&&_a(F)?{start:F.selectionStart,end:F.selectionEnd}:{anchorNode:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset},sa&&pa(sa,F)||(sa=F,0<(F=Hu(aa,"onSelect")).length&&(v=new xr("onSelect","select",null,v,D),p.push({event:v,listeners:F}),v.target=Ko)))}function bl(p,v){var D={};return D[p.toLowerCase()]=v.toLowerCase(),D["Webkit"+p]="webkit"+v,D["Moz"+p]="moz"+v,D}var cc={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},rf={},Jf={};function rs(p){if(rf[p])return rf[p];if(!cc[p])return p;var v,D=cc[p];for(v in D)if(D.hasOwnProperty(v)&&v in Jf)return rf[p]=D[v];return p}c&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);var is=rs("animationend"),Ll=rs("animationiteration"),P=rs("animationstart"),Go=rs("transitionend"),Pt=new Map,or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ce(p,v){Pt.set(p,v),a(v,[p])}for(var Hr=0;Hr<or.length;Hr++){var vn=or[Hr];ce(vn.toLowerCase(),"on"+(vn[0].toUpperCase()+vn.slice(1)))}ce(is,"onAnimationEnd"),ce(Ll,"onAnimationIteration"),ce(P,"onAnimationStart"),ce("dblclick","onDoubleClick"),ce("focusin","onFocus"),ce("focusout","onBlur"),ce(Go,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),St=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function zn(p,v,D){var F=p.type||"unknown-event";p.currentTarget=D,function(j,$,Y,lt,ht,Mt,$t,Gt,qt){if(nu.apply(this,arguments),ts){if(!ts)throw Error(e(198));var Qt=fa;ts=!1,fa=null,ba||(ba=!0,ho=Qt)}}(F,v,void 0,p),p.currentTarget=null}function Wu(p,v){v=!!(4&v);for(var D=0;D<p.length;D++){var F=p[D],j=F.event;F=F.listeners;t:{var $=void 0;if(v)for(var Y=F.length-1;0<=Y;Y--){var lt=F[Y],ht=lt.instance,Mt=lt.currentTarget;if(lt=lt.listener,ht!==$&&j.isPropagationStopped())break t;zn(j,lt,Mt),$=ht}else for(Y=0;Y<F.length;Y++){if(ht=(lt=F[Y]).instance,Mt=lt.currentTarget,lt=lt.listener,ht!==$&&j.isPropagationStopped())break t;zn(j,lt,Mt),$=ht}}}if(ba)throw p=ho,ba=!1,ho=null,p}function En(p,v){var D=v[Ls];D===void 0&&(D=v[Ls]=new Set);var F=p+"__bubble";D.has(F)||(Fo(v,p,2,!1),D.add(F))}function Bi(p,v,D){var F=0;v&&(F|=4),Fo(D,p,F,v)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function da(p){if(!p[Kl]){p[Kl]=!0,r.forEach(function(D){D!=="selectionchange"&&(St.has(D)||Bi(D,!1,p),Bi(D,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[Kl]||(v[Kl]=!0,Bi("selectionchange",!1,v))}}function Fo(p,v,D,F){switch(yl(v)){case 1:var j=Pc;break;case 4:j=Ys;break;default:j=Il}D=j.bind(null,v,D,p),j=void 0,!Ou||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(j=!0),F?j!==void 0?p.addEventListener(v,D,{capture:!0,passive:j}):p.addEventListener(v,D,!0):j!==void 0?p.addEventListener(v,D,{passive:j}):p.addEventListener(v,D,!1)}function ga(p,v,D,F,j){var $=F;if(!(1&v||2&v||F===null))t:for(;;){if(F===null)return;var Y=F.tag;if(Y===3||Y===4){var lt=F.stateNode.containerInfo;if(lt===j||lt.nodeType===8&&lt.parentNode===j)break;if(Y===4)for(Y=F.return;Y!==null;){var ht=Y.tag;if((ht===3||ht===4)&&((ht=Y.stateNode.containerInfo)===j||ht.nodeType===8&&ht.parentNode===j))return;Y=Y.return}for(;lt!==null;){if((Y=Po(lt))===null)return;if((ht=Y.tag)===5||ht===6){F=$=Y;continue t}lt=lt.parentNode}}F=F.return}ml(function(){var Mt=$,$t=ko(D),Gt=[];t:{var qt=Pt.get(p);if(qt!==void 0){var Qt=xr,de=p;switch(p){case"keypress":if(Tc(D)===0)break t;case"keydown":case"keyup":Qt=Ci;break;case"focusin":de="focus",Qt=et;break;case"focusout":de="blur",Qt=et;break;case"beforeblur":case"afterblur":Qt=et;break;case"click":if(D.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qt=J;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qt=st;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qt=Ca;break;case is:case Ll:case P:Qt=pt;break;case Go:Qt=pi;break;case"scroll":Qt=lc;break;case"wheel":Qt=kh;break;case"copy":case"cut":case"paste":Qt=Jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qt=hi}var le=!!(4&v),Wt=!le&&p==="scroll",Dt=le?qt!==null?qt+"Capture":null:qt;le=[];for(var Ut,ne=Mt;ne!==null;){var Ie=(Ut=ne).stateNode;if(Ut.tag===5&&Ie!==null&&(Ut=Ie,Dt!==null&&(Ie=wu(ne,Dt))!=null&&le.push(_s(ne,Ie,Ut))),Wt)break;ne=ne.return}0<le.length&&(qt=new Qt(qt,de,null,D,$t),Gt.push({event:qt,listeners:le}))}}if(!(7&v)){if(Qt=p==="mouseout"||p==="pointerout",(!(qt=p==="mouseover"||p==="pointerover")||D===us||!(de=D.relatedTarget||D.fromElement)||!Po(de)&&!de[Ho])&&(Qt||qt)&&(qt=$t.window===$t?$t:(qt=$t.ownerDocument)?qt.defaultView||qt.parentWindow:window,Qt?(Qt=Mt,(de=(de=D.relatedTarget||D.toElement)?Po(de):null)!==null&&(de!==(Wt=cs(de))||de.tag!==5&&de.tag!==6)&&(de=null)):(Qt=null,de=Mt),Qt!==de)){if(le=J,Ie="onMouseLeave",Dt="onMouseEnter",ne="mouse",p!=="pointerout"&&p!=="pointerover"||(le=hi,Ie="onPointerLeave",Dt="onPointerEnter",ne="pointer"),Wt=Qt==null?qt:_o(Qt),Ut=de==null?qt:_o(de),(qt=new le(Ie,ne+"leave",Qt,D,$t)).target=Wt,qt.relatedTarget=Ut,Ie=null,Po($t)===Mt&&((le=new le(Dt,ne+"enter",de,D,$t)).target=Ut,le.relatedTarget=Wt,Ie=le),Wt=Ie,Qt&&de)t:{for(Dt=de,ne=0,Ut=le=Qt;Ut;Ut=Rr(Ut))ne++;for(Ut=0,Ie=Dt;Ie;Ie=Rr(Ie))Ut++;for(;0<ne-Ut;)le=Rr(le),ne--;for(;0<Ut-ne;)Dt=Rr(Dt),Ut--;for(;ne--;){if(le===Dt||Dt!==null&&le===Dt.alternate)break t;le=Rr(le),Dt=Rr(Dt)}le=null}else le=null;Qt!==null&&Gl(Gt,qt,Qt,le,!1),de!==null&&Wt!==null&&Gl(Gt,Wt,de,le,!0)}if((Qt=(qt=Mt?_o(Mt):window).nodeName&&qt.nodeName.toLowerCase())==="select"||Qt==="input"&&qt.type==="file")var Rn=nf;else if(Oc(qt))if(Xf)Rn=sn;else{Rn=Wh;var Te=Nc}else(Qt=qt.nodeName)&&Qt.toLowerCase()==="input"&&(qt.type==="checkbox"||qt.type==="radio")&&(Rn=Lh);switch(Rn&&(Rn=Rn(p,Mt))?Uu(Gt,Rn,D,$t):(Te&&Te(p,qt,Mt),p==="focusout"&&(Te=qt._wrapperState)&&Te.controlled&&qt.type==="number"&&dt(qt,"number",qt.value)),Te=Mt?_o(Mt):window,p){case"focusin":(Oc(Te)||Te.contentEditable==="true")&&(Ko=Te,aa=Mt,sa=null);break;case"focusout":sa=aa=Ko=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,gf(Gt,D,$t);break;case"selectionchange":if(ii)break;case"keydown":case"keyup":gf(Gt,D,$t)}var In;if(Rs)t:{switch(p){case"compositionstart":var rr="onCompositionStart";break t;case"compositionend":rr="onCompositionEnd";break t;case"compositionupdate":rr="onCompositionUpdate";break t}rr=void 0}else ea?js(p,D)&&(rr="onCompositionEnd"):p==="keydown"&&D.keyCode===229&&(rr="onCompositionStart");rr&&(lh&&D.locale!=="ko"&&(ea||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&ea&&(In=Gc()):(wl="value"in(fi=$t)?fi.value:fi.textContent,ea=!0)),0<(Te=Hu(Mt,rr)).length&&(rr=new Fe(rr,p,null,D,$t),Gt.push({event:rr,listeners:Te}),(In||(In=Rl(D))!==null)&&(rr.data=In))),(In=pf?function(Jn,ei){switch(Jn){case"compositionend":return Rl(ei);case"keypress":return ei.which!==32?null:(tr=!0,iu);case"textInput":return(Jn=ei.data)===iu&&tr?null:Jn;default:return null}}(p,D):function(Jn,ei){if(ea)return Jn==="compositionend"||!Rs&&js(Jn,ei)?(Jn=Gc(),Xs=wl=fi=null,ea=!1,Jn):null;switch(Jn){case"paste":default:return null;case"keypress":if(!(ei.ctrlKey||ei.altKey||ei.metaKey)||ei.ctrlKey&&ei.altKey){if(ei.char&&1<ei.char.length)return ei.char;if(ei.which)return String.fromCharCode(ei.which)}return null;case"compositionend":return lh&&ei.locale!=="ko"?null:ei.data}}(p,D))&&0<(Mt=Hu(Mt,"onBeforeInput")).length&&($t=new Fe("onBeforeInput","beforeinput",null,D,$t),Gt.push({event:$t,listeners:Mt}),$t.data=In)}Wu(Gt,v)})}function _s(p,v,D){return{instance:p,listener:v,currentTarget:D}}function Hu(p,v){for(var D=v+"Capture",F=[];p!==null;){var j=p,$=j.stateNode;j.tag===5&&$!==null&&(j=$,($=wu(p,D))!=null&&F.unshift(_s(p,$,j)),($=wu(p,v))!=null&&F.push(_s(p,$,j))),p=p.return}return F}function Rr(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function Gl(p,v,D,F,j){for(var $=v._reactName,Y=[];D!==null&&D!==F;){var lt=D,ht=lt.alternate,Mt=lt.stateNode;if(ht!==null&&ht===F)break;lt.tag===5&&Mt!==null&&(lt=Mt,j?(ht=wu(D,$))!=null&&Y.unshift(_s(D,ht,lt)):j||(ht=wu(D,$))!=null&&Y.push(_s(D,ht,lt))),D=D.return}Y.length!==0&&p.push({event:v,listeners:Y})}var Qi=/\r\n?/g,yr=/\u0000|\uFFFD/g;function Vu(p){return(typeof p=="string"?p:""+p).replace(Qi,`
`).replace(yr,"")}function $a(p,v,D){if(v=Vu(v),Vu(p)!==v&&D)throw Error(e(425))}function Ro(){}var ki=null,Ss=null;function fc(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,au=typeof clearTimeout=="function"?clearTimeout:void 0,gn=typeof Promise=="function"?Promise:void 0,hc=typeof queueMicrotask=="function"?queueMicrotask:gn!==void 0?function(p){return gn.resolve(null).then(p).catch(Ha)}:Wa;function Ha(p){setTimeout(function(){throw p})}function bn(p,v){var D=v,F=0;do{var j=D.nextSibling;if(p.removeChild(D),j&&j.nodeType===8)if((D=j.data)==="/$"){if(F===0)return p.removeChild(j),void xu(v);F--}else D!=="$"&&D!=="$?"&&D!=="$!"||F++;D=j}while(D);xu(v)}function Sa(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if((v=p.data)==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function ma(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var D=p.data;if(D==="$"||D==="$!"||D==="$?"){if(v===0)return p;v--}else D==="/$"&&v++}p=p.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Vr,tn="__reactProps$"+Vr,Ho="__reactContainer$"+Vr,Ls="__reactEvents$"+Vr,xl="__reactListeners$"+Vr,pc="__reactHandles$"+Vr;function Po(p){var v=p[Ea];if(v)return v;for(var D=p.parentNode;D;){if(v=D[Ho]||D[Ea]){if(D=v.alternate,v.child!==null||D!==null&&D.child!==null)for(p=ma(p);p!==null;){if(D=p[Ea])return D;p=ma(p)}return v}D=(p=D).parentNode}return null}function Js(p){return!(p=p[Ea]||p[Ho])||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function _o(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(e(33))}function jo(p){return p[tn]||null}var qu=[],Cu=-1;function Ta(p){return{current:p}}function dr(p){0>Cu||(p.current=qu[Cu],qu[Cu]=null,Cu--)}function ar(p,v){Cu++,qu[Cu]=p.current,p.current=v}var zs={},Wi=Ta(zs),Si=Ta(!1),_u=zs;function Qs(p,v){var D=p.type.contextTypes;if(!D)return zs;var F=p.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===v)return F.__reactInternalMemoizedMaskedChildContext;var j,$={};for(j in D)$[j]=v[j];return F&&((p=p.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=$),$}function Zi(p){return p.childContextTypes!=null}function Dl(){dr(Si),dr(Wi)}function zl(p,v,D){if(Wi.current!==zs)throw Error(e(168));ar(Wi,v),ar(Si,D)}function fs(p,v,D){var F=p.stateNode;if(v=v.childContextTypes,typeof F.getChildContext!="function")return D;for(var j in F=F.getChildContext())if(!(j in v))throw Error(e(108,pe(p)||"Unknown",j));return _t({},D,F)}function Us(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||zs,_u=Wi.current,ar(Wi,p),ar(Si,Si.current),!0}function ue(p,v,D){var F=p.stateNode;if(!F)throw Error(e(169));D?(p=fs(p,v,_u),F.__reactInternalMemoizedMergedChildContext=p,dr(Si),dr(Wi),ar(Wi,p)):dr(Si),ar(Si,D)}var Es=null,mi=!1,os=!1;function Yl(p){Es===null?Es=[p]:Es.push(p)}function hs(){if(!os&&Es!==null){os=!0;var p=0,v=qn;try{var D=Es;for(qn=1;p<D.length;p++){var F=D[p];do F=F(!0);while(F!==null)}Es=null,mi=!1}catch(j){throw Es!==null&&(Es=Es.slice(p+1)),Gs(hr,hs),j}finally{qn=v,os=!1}}return null}var ol=[],Un=0,Xc=null,Fn=0,to=[],Or=0,Qr=null,fn=1,Yn="";function oi(p,v){ol[Un++]=Fn,ol[Un++]=Xc,Xc=p,Fn=v}function na(p,v,D){to[Or++]=fn,to[Or++]=Yn,to[Or++]=Qr,Qr=p;var F=fn;p=Yn;var j=32-Xr(F)-1;F&=~(1<<j),D+=1;var $=32-Xr(v)+j;if(30<$){var Y=j-j%5;$=(F&(1<<Y)-1).toString(32),F>>=Y,j-=Y,fn=1<<32-Xr(v)+j|D<<j|F,Yn=$+p}else fn=1<<$|D<<j|F,Yn=p}function Va(p){p.return!==null&&(oi(p,1),na(p,1,0))}function qa(p){for(;p===Xc;)Xc=ol[--Un],ol[Un]=null,Fn=ol[--Un],ol[Un]=null;for(;p===Qr;)Qr=to[--Or],to[Or]=null,Yn=to[--Or],to[Or]=null,fn=to[--Or],to[Or]=null}var Ri=null,Yo=null,wr=!1,di=null;function ai(p,v){var D=wt(5,null,null,0);D.elementType="DELETED",D.stateNode=v,D.return=p,(v=p.deletions)===null?(p.deletions=[D],p.flags|=16):v.push(D)}function Xl(p,v){switch(p.tag){case 5:var D=p.type;return(v=v.nodeType!==1||D.toLowerCase()!==v.nodeName.toLowerCase()?null:v)!==null&&(p.stateNode=v,Ri=p,Yo=Sa(v.firstChild),!0);case 6:return(v=p.pendingProps===""||v.nodeType!==3?null:v)!==null&&(p.stateNode=v,Ri=p,Yo=null,!0);case 13:return(v=v.nodeType!==8?null:v)!==null&&(D=Qr!==null?{id:fn,overflow:Yn}:null,p.memoizedState={dehydrated:v,treeContext:D,retryLane:1073741824},(D=wt(18,null,null,0)).stateNode=v,D.return=p,p.child=D,Ri=p,Yo=null,!0);default:return!1}}function Ur(p){return!(!(1&p.mode)||128&p.flags)}function Jl(p){if(wr){var v=Yo;if(v){var D=v;if(!Xl(p,v)){if(Ur(p))throw Error(e(418));v=Sa(D.nextSibling);var F=Ri;v&&Xl(p,v)?ai(F,D):(p.flags=-4097&p.flags|2,wr=!1,Ri=p)}}else{if(Ur(p))throw Error(e(418));p.flags=-4097&p.flags|2,wr=!1,Ri=p}}}function Cl(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ri=p}function Su(p){if(p!==Ri)return!1;if(!wr)return Cl(p),wr=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=(v=p.type)!=="head"&&v!=="body"&&!fc(p.type,p.memoizedProps)),v&&(v=Yo)){if(Ur(p))throw _l(),Error(e(418));for(;v;)ai(p,v),v=Sa(v.nextSibling)}if(Cl(p),p.tag===13){if(!(p=(p=p.memoizedState)!==null?p.dehydrated:null))throw Error(e(317));t:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var D=p.data;if(D==="/$"){if(v===0){Yo=Sa(p.nextSibling);break t}v--}else D!=="$"&&D!=="$!"&&D!=="$?"||v++}p=p.nextSibling}Yo=null}}else Yo=Ri?Sa(p.stateNode.nextSibling):null;return!0}function _l(){for(var p=Yo;p;)p=Sa(p.nextSibling)}function ps(){Yo=Ri=null,wr=!1}function al(p){di===null?di=[p]:di.push(p)}var Sl=N.ReactCurrentBatchConfig;function An(p,v,D){if((p=D.ref)!==null&&typeof p!="function"&&typeof p!="object"){if(D._owner){if(D=D._owner){if(D.tag!==1)throw Error(e(309));var F=D.stateNode}if(!F)throw Error(e(147,p));var j=F,$=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===$?v.ref:(v=function(Y){var lt=j.refs;Y===null?delete lt[$]:lt[$]=Y},v._stringRef=$,v)}if(typeof p!="string")throw Error(e(284));if(!D._owner)throw Error(e(290,p))}return p}function $n(p,v){throw p=Object.prototype.toString.call(v),Error(e(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function ji(p){return(0,p._init)(p._payload)}function Mi(p){function v(Wt,Dt){if(p){var Ut=Wt.deletions;Ut===null?(Wt.deletions=[Dt],Wt.flags|=16):Ut.push(Dt)}}function D(Wt,Dt){if(!p)return null;for(;Dt!==null;)v(Wt,Dt),Dt=Dt.sibling;return null}function F(Wt,Dt){for(Wt=new Map;Dt!==null;)Dt.key!==null?Wt.set(Dt.key,Dt):Wt.set(Dt.index,Dt),Dt=Dt.sibling;return Wt}function j(Wt,Dt){return(Wt=jt(Wt,Dt)).index=0,Wt.sibling=null,Wt}function $(Wt,Dt,Ut){return Wt.index=Ut,p?(Ut=Wt.alternate)!==null?(Ut=Ut.index)<Dt?(Wt.flags|=2,Dt):Ut:(Wt.flags|=2,Dt):(Wt.flags|=1048576,Dt)}function Y(Wt){return p&&Wt.alternate===null&&(Wt.flags|=2),Wt}function lt(Wt,Dt,Ut,ne){return Dt===null||Dt.tag!==6?((Dt=Ht(Ut,Wt.mode,ne)).return=Wt,Dt):((Dt=j(Dt,Ut)).return=Wt,Dt)}function ht(Wt,Dt,Ut,ne){var Ie=Ut.type;return Ie===z?$t(Wt,Dt,Ut.props.children,ne,Ut.key):Dt!==null&&(Dt.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Ct&&ji(Ie)===Dt.type)?((ne=j(Dt,Ut.props)).ref=An(Wt,Dt,Ut),ne.return=Wt,ne):((ne=xt(Ut.type,Ut.key,Ut.props,null,Wt.mode,ne)).ref=An(Wt,Dt,Ut),ne.return=Wt,ne)}function Mt(Wt,Dt,Ut,ne){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Ut.containerInfo||Dt.stateNode.implementation!==Ut.implementation?((Dt=ye(Ut,Wt.mode,ne)).return=Wt,Dt):((Dt=j(Dt,Ut.children||[])).return=Wt,Dt)}function $t(Wt,Dt,Ut,ne,Ie){return Dt===null||Dt.tag!==7?((Dt=It(Ut,Wt.mode,ne,Ie)).return=Wt,Dt):((Dt=j(Dt,Ut)).return=Wt,Dt)}function Gt(Wt,Dt,Ut){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return(Dt=Ht(""+Dt,Wt.mode,Ut)).return=Wt,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case B:return(Ut=xt(Dt.type,Dt.key,Dt.props,null,Wt.mode,Ut)).ref=An(Wt,null,Dt),Ut.return=Wt,Ut;case L:return(Dt=ye(Dt,Wt.mode,Ut)).return=Wt,Dt;case Ct:return Gt(Wt,(0,Dt._init)(Dt._payload),Ut)}if(bt(Dt)||At(Dt))return(Dt=It(Dt,Wt.mode,Ut,null)).return=Wt,Dt;$n(Wt,Dt)}return null}function qt(Wt,Dt,Ut,ne){var Ie=Dt!==null?Dt.key:null;if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return Ie!==null?null:lt(Wt,Dt,""+Ut,ne);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case B:return Ut.key===Ie?ht(Wt,Dt,Ut,ne):null;case L:return Ut.key===Ie?Mt(Wt,Dt,Ut,ne):null;case Ct:return qt(Wt,Dt,(Ie=Ut._init)(Ut._payload),ne)}if(bt(Ut)||At(Ut))return Ie!==null?null:$t(Wt,Dt,Ut,ne,null);$n(Wt,Ut)}return null}function Qt(Wt,Dt,Ut,ne,Ie){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return lt(Dt,Wt=Wt.get(Ut)||null,""+ne,Ie);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:return ht(Dt,Wt=Wt.get(ne.key===null?Ut:ne.key)||null,ne,Ie);case L:return Mt(Dt,Wt=Wt.get(ne.key===null?Ut:ne.key)||null,ne,Ie);case Ct:return Qt(Wt,Dt,Ut,(0,ne._init)(ne._payload),Ie)}if(bt(ne)||At(ne))return $t(Dt,Wt=Wt.get(Ut)||null,ne,Ie,null);$n(Dt,ne)}return null}function de(Wt,Dt,Ut,ne){for(var Ie=null,Rn=null,Te=Dt,In=Dt=0,rr=null;Te!==null&&In<Ut.length;In++){Te.index>In?(rr=Te,Te=null):rr=Te.sibling;var Jn=qt(Wt,Te,Ut[In],ne);if(Jn===null){Te===null&&(Te=rr);break}p&&Te&&Jn.alternate===null&&v(Wt,Te),Dt=$(Jn,Dt,In),Rn===null?Ie=Jn:Rn.sibling=Jn,Rn=Jn,Te=rr}if(In===Ut.length)return D(Wt,Te),wr&&oi(Wt,In),Ie;if(Te===null){for(;In<Ut.length;In++)(Te=Gt(Wt,Ut[In],ne))!==null&&(Dt=$(Te,Dt,In),Rn===null?Ie=Te:Rn.sibling=Te,Rn=Te);return wr&&oi(Wt,In),Ie}for(Te=F(Wt,Te);In<Ut.length;In++)(rr=Qt(Te,Wt,In,Ut[In],ne))!==null&&(p&&rr.alternate!==null&&Te.delete(rr.key===null?In:rr.key),Dt=$(rr,Dt,In),Rn===null?Ie=rr:Rn.sibling=rr,Rn=rr);return p&&Te.forEach(function(ei){return v(Wt,ei)}),wr&&oi(Wt,In),Ie}function le(Wt,Dt,Ut,ne){var Ie=At(Ut);if(typeof Ie!="function")throw Error(e(150));if((Ut=Ie.call(Ut))==null)throw Error(e(151));for(var Rn=Ie=null,Te=Dt,In=Dt=0,rr=null,Jn=Ut.next();Te!==null&&!Jn.done;In++,Jn=Ut.next()){Te.index>In?(rr=Te,Te=null):rr=Te.sibling;var ei=qt(Wt,Te,Jn.value,ne);if(ei===null){Te===null&&(Te=rr);break}p&&Te&&ei.alternate===null&&v(Wt,Te),Dt=$(ei,Dt,In),Rn===null?Ie=ei:Rn.sibling=ei,Rn=ei,Te=rr}if(Jn.done)return D(Wt,Te),wr&&oi(Wt,In),Ie;if(Te===null){for(;!Jn.done;In++,Jn=Ut.next())(Jn=Gt(Wt,Jn.value,ne))!==null&&(Dt=$(Jn,Dt,In),Rn===null?Ie=Jn:Rn.sibling=Jn,Rn=Jn);return wr&&oi(Wt,In),Ie}for(Te=F(Wt,Te);!Jn.done;In++,Jn=Ut.next())(Jn=Qt(Te,Wt,In,Jn.value,ne))!==null&&(p&&Jn.alternate!==null&&Te.delete(Jn.key===null?In:Jn.key),Dt=$(Jn,Dt,In),Rn===null?Ie=Jn:Rn.sibling=Jn,Rn=Jn);return p&&Te.forEach(function(Vl){return v(Wt,Vl)}),wr&&oi(Wt,In),Ie}return function Wt(Dt,Ut,ne,Ie){if(typeof ne=="object"&&ne!==null&&ne.type===z&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:t:{for(var Rn=ne.key,Te=Ut;Te!==null;){if(Te.key===Rn){if((Rn=ne.type)===z){if(Te.tag===7){D(Dt,Te.sibling),(Ut=j(Te,ne.props.children)).return=Dt,Dt=Ut;break t}}else if(Te.elementType===Rn||typeof Rn=="object"&&Rn!==null&&Rn.$$typeof===Ct&&ji(Rn)===Te.type){D(Dt,Te.sibling),(Ut=j(Te,ne.props)).ref=An(Dt,Te,ne),Ut.return=Dt,Dt=Ut;break t}D(Dt,Te);break}v(Dt,Te),Te=Te.sibling}ne.type===z?((Ut=It(ne.props.children,Dt.mode,Ie,ne.key)).return=Dt,Dt=Ut):((Ie=xt(ne.type,ne.key,ne.props,null,Dt.mode,Ie)).ref=An(Dt,Ut,ne),Ie.return=Dt,Dt=Ie)}return Y(Dt);case L:t:{for(Te=ne.key;Ut!==null;){if(Ut.key===Te){if(Ut.tag===4&&Ut.stateNode.containerInfo===ne.containerInfo&&Ut.stateNode.implementation===ne.implementation){D(Dt,Ut.sibling),(Ut=j(Ut,ne.children||[])).return=Dt,Dt=Ut;break t}D(Dt,Ut);break}v(Dt,Ut),Ut=Ut.sibling}(Ut=ye(ne,Dt.mode,Ie)).return=Dt,Dt=Ut}return Y(Dt);case Ct:return Wt(Dt,Ut,(Te=ne._init)(ne._payload),Ie)}if(bt(ne))return de(Dt,Ut,ne,Ie);if(At(ne))return le(Dt,Ut,ne,Ie);$n(Dt,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Ut!==null&&Ut.tag===6?(D(Dt,Ut.sibling),(Ut=j(Ut,ne)).return=Dt,Dt=Ut):(D(Dt,Ut),(Ut=Ht(ne,Dt.mode,Ie)).return=Dt,Dt=Ut),Y(Dt)):D(Dt,Ut)}}var Aa=Mi(!0),Zs=Mi(!1),Eu=Ta(null),Lo=null,zo=null,va=null;function Uo(){va=zo=Lo=null}function To(p){var v=Eu.current;dr(Eu),p._currentValue=v}function oo(p,v,D){for(;p!==null;){var F=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,F!==null&&(F.childLanes|=v)):F!==null&&(F.childLanes&v)!==v&&(F.childLanes|=v),p===D)break;p=p.return}}function eo(p,v){Lo=p,va=zo=null,(p=p.dependencies)!==null&&p.firstContext!==null&&(p.lanes&v&&(ia=!0),p.firstContext=null)}function Oo(p){var v=p._currentValue;if(va!==p)if(p={context:p,memoizedValue:v,next:null},zo===null){if(Lo===null)throw Error(e(308));zo=p,Lo.dependencies={lanes:0,firstContext:p}}else zo=zo.next=p;return v}var Xo=null;function Ku(p){Xo===null?Xo=[p]:Xo.push(p)}function Ka(p,v,D,F){var j=v.interleaved;return j===null?(D.next=D,Ku(v)):(D.next=j.next,j.next=D),v.interleaved=D,ds(p,F)}function ds(p,v){p.lanes|=v;var D=p.alternate;for(D!==null&&(D.lanes|=v),D=p,p=p.return;p!==null;)p.childLanes|=v,(D=p.alternate)!==null&&(D.childLanes|=v),D=p,p=p.return;return D.tag===3?D.stateNode:null}var ra=!1;function of(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ul(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function gr(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function $s(p,v,D){var F=p.updateQueue;if(F===null)return null;if(F=F.shared,2&Tn){var j=F.pending;return j===null?v.next=v:(v.next=j.next,j.next=v),F.pending=v,ds(p,D)}return(j=F.interleaved)===null?(v.next=v,Ku(F)):(v.next=j.next,j.next=v),F.interleaved=v,ds(p,D)}function Ga(p,v,D){if((v=v.updateQueue)!==null&&(v=v.shared,4194240&D)){var F=v.lanes;D|=F&=p.pendingLanes,v.lanes=D,Ji(p,D)}}function Nf(p,v){var D=p.updateQueue,F=p.alternate;if(F!==null&&D===(F=F.updateQueue)){var j=null,$=null;if((D=D.firstBaseUpdate)!==null){do{var Y={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};$===null?j=$=Y:$=$.next=Y,D=D.next}while(D!==null);$===null?j=$=v:$=$.next=v}else j=$=v;return D={baseState:F.baseState,firstBaseUpdate:j,lastBaseUpdate:$,shared:F.shared,effects:F.effects},void(p.updateQueue=D)}(p=D.lastBaseUpdate)===null?D.firstBaseUpdate=v:p.next=v,D.lastBaseUpdate=v}function El(p,v,D,F){var j=p.updateQueue;ra=!1;var $=j.firstBaseUpdate,Y=j.lastBaseUpdate,lt=j.shared.pending;if(lt!==null){j.shared.pending=null;var ht=lt,Mt=ht.next;ht.next=null,Y===null?$=Mt:Y.next=Mt,Y=ht;var $t=p.alternate;$t!==null&&(lt=($t=$t.updateQueue).lastBaseUpdate)!==Y&&(lt===null?$t.firstBaseUpdate=Mt:lt.next=Mt,$t.lastBaseUpdate=ht)}if($!==null){var Gt=j.baseState;for(Y=0,$t=Mt=ht=null,lt=$;;){var qt=lt.lane,Qt=lt.eventTime;if((F&qt)===qt){$t!==null&&($t=$t.next={eventTime:Qt,lane:0,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null});t:{var de=p,le=lt;switch(qt=v,Qt=D,le.tag){case 1:if(typeof(de=le.payload)=="function"){Gt=de.call(Qt,Gt,qt);break t}Gt=de;break t;case 3:de.flags=-65537&de.flags|128;case 0:if((qt=typeof(de=le.payload)=="function"?de.call(Qt,Gt,qt):de)==null)break t;Gt=_t({},Gt,qt);break t;case 2:ra=!0}}lt.callback!==null&&lt.lane!==0&&(p.flags|=64,(qt=j.effects)===null?j.effects=[lt]:qt.push(lt))}else Qt={eventTime:Qt,lane:qt,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},$t===null?(Mt=$t=Qt,ht=Gt):$t=$t.next=Qt,Y|=qt;if((lt=lt.next)===null){if((lt=j.shared.pending)===null)break;lt=(qt=lt).next,qt.next=null,j.lastBaseUpdate=qt,j.shared.pending=null}}if($t===null&&(ht=Gt),j.baseState=ht,j.firstBaseUpdate=Mt,j.lastBaseUpdate=$t,(v=j.shared.interleaved)!==null){j=v;do Y|=j.lane,j=j.next;while(j!==v)}else $===null&&(j.shared.lanes=0);Pu|=Y,p.lanes=Y,p.memoizedState=Gt}}function Ei(p,v,D){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var F=p[v],j=F.callback;if(j!==null){if(F.callback=null,F=D,typeof j!="function")throw Error(e(191,j));j.call(F)}}}var Ya={},po=Ta(Ya),gs=Ta(Ya),So=Ta(Ya);function vi(p){if(p===Ya)throw Error(e(174));return p}function Yt(p,v){switch(ar(So,v),ar(gs,p),ar(po,Ya),p=v.nodeType){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Ee(null,"");break;default:v=Ee(v=(p=p===8?v.parentNode:v).namespaceURI||null,p=p.tagName)}dr(po),ar(po,v)}function Jo(){dr(po),dr(gs),dr(So)}function er(p){vi(So.current);var v=vi(po.current),D=Ee(v,p.type);v!==D&&(ar(gs,p),ar(po,D))}function si(p){gs.current===p&&(dr(po),dr(gs))}var mr=Ta(0);function ua(p){for(var v=p;v!==null;){if(v.tag===13){var D=v.memoizedState;if(D!==null&&((D=D.dehydrated)===null||D.data==="$?"||D.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(128&v.flags)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var cn=[];function $l(){for(var p=0;p<cn.length;p++)cn[p]._workInProgressVersionPrimary=null;cn.length=0}var Qo=N.ReactCurrentDispatcher,sr=N.ReactCurrentBatchConfig,ur=0,Ue=null,Dr=null,Kn=null,Al=!1,Zr=!1,Wl=0,dc=0;function go(){throw Error(e(321))}function Ws(p,v){if(v===null)return!1;for(var D=0;D<v.length&&D<p.length;D++)if(!on(p[D],v[D]))return!1;return!0}function ao(p,v,D,F,j,$){if(ur=$,Ue=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Qo.current=p===null||p.memoizedState===null?Zf:Yu,p=D(F,j),Zr){$=0;do{if(Zr=!1,Wl=0,25<=$)throw Error(e(301));$+=1,Kn=Dr=null,v.updateQueue=null,Qo.current=th,p=D(F,j)}while(Zr)}if(Qo.current=If,v=Dr!==null&&Dr.next!==null,ur=0,Kn=Dr=Ue=null,Al=!1,v)throw Error(e(300));return p}function kl(){var p=Wl!==0;return Wl=0,p}function gi(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Ue.memoizedState=Kn=p:Kn=Kn.next=p,Kn}function no(){if(Dr===null){var p=Ue.alternate;p=p!==null?p.memoizedState:null}else p=Dr.next;var v=Kn===null?Ue.memoizedState:Kn.next;if(v!==null)Kn=v,Dr=p;else{if(p===null)throw Error(e(310));p={memoizedState:(Dr=p).memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Kn===null?Ue.memoizedState=Kn=p:Kn=Kn.next=p}return Kn}function As(p,v){return typeof v=="function"?v(p):v}function sl(p){var v=no(),D=v.queue;if(D===null)throw Error(e(311));D.lastRenderedReducer=p;var F=Dr,j=F.baseQueue,$=D.pending;if($!==null){if(j!==null){var Y=j.next;j.next=$.next,$.next=Y}F.baseQueue=j=$,D.pending=null}if(j!==null){$=j.next,F=F.baseState;var lt=Y=null,ht=null,Mt=$;do{var $t=Mt.lane;if((ur&$t)===$t)ht!==null&&(ht=ht.next={lane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),F=Mt.hasEagerState?Mt.eagerState:p(F,Mt.action);else{var Gt={lane:$t,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null};ht===null?(lt=ht=Gt,Y=F):ht=ht.next=Gt,Ue.lanes|=$t,Pu|=$t}Mt=Mt.next}while(Mt!==null&&Mt!==$);ht===null?Y=F:ht.next=lt,on(F,v.memoizedState)||(ia=!0),v.memoizedState=F,v.baseState=Y,v.baseQueue=ht,D.lastRenderedState=F}if((p=D.interleaved)!==null){j=p;do $=j.lane,Ue.lanes|=$,Pu|=$,j=j.next;while(j!==p)}else j===null&&(D.lanes=0);return[v.memoizedState,D.dispatch]}function Hs(p){var v=no(),D=v.queue;if(D===null)throw Error(e(311));D.lastRenderedReducer=p;var F=D.dispatch,j=D.pending,$=v.memoizedState;if(j!==null){D.pending=null;var Y=j=j.next;do $=p($,Y.action),Y=Y.next;while(Y!==j);on($,v.memoizedState)||(ia=!0),v.memoizedState=$,v.baseQueue===null&&(v.baseState=$),D.lastRenderedState=$}return[$,F]}function Ic(){}function Nn(p,v){var D=Ue,F=no(),j=v(),$=!on(F.memoizedState,j);if($&&(F.memoizedState=j,ia=!0),F=F.queue,yf(Ql.bind(null,D,F,p),[p]),F.getSnapshot!==v||$||Kn!==null&&1&Kn.memoizedState.tag){if(D.flags|=2048,uo(9,Au.bind(null,D,F,j,v),void 0,null),ti===null)throw Error(e(349));30&ur||so(D,v,j)}return j}function so(p,v,D){p.flags|=16384,p={getSnapshot:v,value:D},(v=Ue.updateQueue)===null?(v={lastEffect:null,stores:null},Ue.updateQueue=v,v.stores=[p]):(D=v.stores)===null?v.stores=[p]:D.push(p)}function Au(p,v,D,F){v.value=D,v.getSnapshot=F,mf(v)&&ch(p)}function Ql(p,v,D){return D(function(){mf(v)&&ch(p)})}function mf(p){var v=p.getSnapshot;p=p.value;try{var D=v();return!on(p,D)}catch{return!0}}function ch(p){var v=ds(p,1);v!==null&&qr(v,p,1,-1)}function Zl(p){var v=gi();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:p},v.queue=p,p=p.dispatch=Fh.bind(null,Ue,p),[v.memoizedState,p]}function uo(p,v,D,F){return p={tag:p,create:v,destroy:D,deps:F,next:null},(v=Ue.updateQueue)===null?(v={lastEffect:null,stores:null},Ue.updateQueue=v,v.lastEffect=p.next=p):(D=v.lastEffect)===null?v.lastEffect=p.next=p:(F=D.next,D.next=p,p.next=F,v.lastEffect=p),p}function Oa(){return no().memoizedState}function lo(p,v,D,F){var j=gi();Ue.flags|=p,j.memoizedState=uo(1|v,D,void 0,F===void 0?null:F)}function Ml(p,v,D,F){var j=no();F=F===void 0?null:F;var $=void 0;if(Dr!==null){var Y=Dr.memoizedState;if($=Y.destroy,F!==null&&Ws(F,Y.deps))return void(j.memoizedState=uo(v,D,$,F))}Ue.flags|=p,j.memoizedState=uo(1|v,D,$,F)}function vf(p,v){return lo(8390656,8,p,v)}function yf(p,v){return Ml(2048,8,p,v)}function Ar(p,v){return Ml(4,2,p,v)}function ul(p,v){return Ml(4,4,p,v)}function tu(p,v){return typeof v=="function"?(p=p(),v(p),function(){v(null)}):v!=null?(p=p(),v.current=p,function(){v.current=null}):void 0}function fh(p,v,D){return D=D!=null?D.concat([p]):null,Ml(4,4,tu.bind(null,v,p),D)}function Gu(){}function Dc(p,v){var D=no();v=v===void 0?null:v;var F=D.memoizedState;return F!==null&&v!==null&&Ws(v,F[1])?F[0]:(D.memoizedState=[p,v],p)}function Hl(p,v){var D=no();v=v===void 0?null:v;var F=D.memoizedState;return F!==null&&v!==null&&Ws(v,F[1])?F[0]:(p=p(),D.memoizedState=[p,v],p)}function Qf(p,v,D){return 21&ur?(on(D,v)||(D=Bu(),Ue.lanes|=D,Pu|=D,p.baseState=!0),v):(p.baseState&&(p.baseState=!1,ia=!0),p.memoizedState=D)}function Cc(p,v){var D=qn;qn=D!==0&&4>D?D:4,p(!0);var F=sr.transition;sr.transition={};try{p(!1),v()}finally{qn=D,sr.transition=F}}function su(){return no().memoizedState}function Mh(p,v,D){var F=ta(p);D={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null},Ph(p)?hh(v,D):(D=Ka(p,v,D,F))!==null&&(qr(D,p,F,fr()),Th(D,v,F))}function Fh(p,v,D){var F=ta(p),j={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null};if(Ph(p))hh(v,j);else{var $=p.alternate;if(p.lanes===0&&($===null||$.lanes===0)&&($=v.lastRenderedReducer)!==null)try{var Y=v.lastRenderedState,lt=$(Y,D);if(j.hasEagerState=!0,j.eagerState=lt,on(lt,Y)){var ht=v.interleaved;return ht===null?(j.next=j,Ku(v)):(j.next=ht.next,ht.next=j),void(v.interleaved=j)}}catch{}(D=Ka(p,v,j,F))!==null&&(qr(D,p,F,j=fr()),Th(D,v,F))}}function Ph(p){var v=p.alternate;return p===Ue||v!==null&&v===Ue}function hh(p,v){Zr=Al=!0;var D=p.pending;D===null?v.next=v:(v.next=D.next,D.next=v),p.pending=v}function Th(p,v,D){if(4194240&D){var F=v.lanes;D|=F&=p.pendingLanes,v.lanes=D,Ji(p,D)}}var If={readContext:Oo,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},Zf={readContext:Oo,useCallback:function(p,v){return gi().memoizedState=[p,v===void 0?null:v],p},useContext:Oo,useEffect:vf,useImperativeHandle:function(p,v,D){return D=D!=null?D.concat([p]):null,lo(4194308,4,tu.bind(null,v,p),D)},useLayoutEffect:function(p,v){return lo(4194308,4,p,v)},useInsertionEffect:function(p,v){return lo(4,2,p,v)},useMemo:function(p,v){var D=gi();return v=v===void 0?null:v,p=p(),D.memoizedState=[p,v],p},useReducer:function(p,v,D){var F=gi();return v=D!==void 0?D(v):v,F.memoizedState=F.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},F.queue=p,p=p.dispatch=Mh.bind(null,Ue,p),[F.memoizedState,p]},useRef:function(p){return p={current:p},gi().memoizedState=p},useState:Zl,useDebugValue:Gu,useDeferredValue:function(p){return gi().memoizedState=p},useTransition:function(){var p=Zl(!1),v=p[0];return p=Cc.bind(null,p[1]),gi().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,D){var F=Ue,j=gi();if(wr){if(D===void 0)throw Error(e(407));D=D()}else{if(D=v(),ti===null)throw Error(e(349));30&ur||so(F,v,D)}j.memoizedState=D;var $={value:D,getSnapshot:v};return j.queue=$,vf(Ql.bind(null,F,$,p),[p]),F.flags|=2048,uo(9,Au.bind(null,F,$,D,v),void 0,null),D},useId:function(){var p=gi(),v=ti.identifierPrefix;if(wr){var D=Yn;v=":"+v+"R"+(D=(fn&~(1<<32-Xr(fn)-1)).toString(32)+D),0<(D=Wl++)&&(v+="H"+D.toString(32)),v+=":"}else v=":"+v+"r"+(D=dc++).toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Yu={readContext:Oo,useCallback:Dc,useContext:Oo,useEffect:yf,useImperativeHandle:fh,useInsertionEffect:Ar,useLayoutEffect:ul,useMemo:Hl,useReducer:sl,useRef:Oa,useState:function(){return sl(As)},useDebugValue:Gu,useDeferredValue:function(p){return Qf(no(),Dr.memoizedState,p)},useTransition:function(){return[sl(As)[0],no().memoizedState]},useMutableSource:Ic,useSyncExternalStore:Nn,useId:su,unstable_isNewReconciler:!1},th={readContext:Oo,useCallback:Dc,useContext:Oo,useEffect:yf,useImperativeHandle:fh,useInsertionEffect:Ar,useLayoutEffect:ul,useMemo:Hl,useReducer:Hs,useRef:Oa,useState:function(){return Hs(As)},useDebugValue:Gu,useDeferredValue:function(p){var v=no();return Dr===null?v.memoizedState=p:Qf(v,Dr.memoizedState,p)},useTransition:function(){return[Hs(As)[0],no().memoizedState]},useMutableSource:Ic,useSyncExternalStore:Nn,useId:su,unstable_isNewReconciler:!1};function ms(p,v){if(p&&p.defaultProps){for(var D in v=_t({},v),p=p.defaultProps)v[D]===void 0&&(v[D]=p[D]);return v}return v}function Bf(p,v,D,F){D=(D=D(F,v=p.memoizedState))==null?v:_t({},v,D),p.memoizedState=D,p.lanes===0&&(p.updateQueue.baseState=D)}var af={isMounted:function(p){return!!(p=p._reactInternals)&&cs(p)===p},enqueueSetState:function(p,v,D){p=p._reactInternals;var F=fr(),j=ta(p),$=gr(F,j);$.payload=v,D!=null&&($.callback=D),(v=$s(p,$,j))!==null&&(qr(v,p,j,F),Ga(v,p,j))},enqueueReplaceState:function(p,v,D){p=p._reactInternals;var F=fr(),j=ta(p),$=gr(F,j);$.tag=1,$.payload=v,D!=null&&($.callback=D),(v=$s(p,$,j))!==null&&(qr(v,p,j,F),Ga(v,p,j))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var D=fr(),F=ta(p),j=gr(D,F);j.tag=2,v!=null&&(j.callback=v),(v=$s(p,j,F))!==null&&(qr(v,p,F,D),Ga(v,p,F))}};function wf(p,v,D,F,j,$,Y){return typeof(p=p.stateNode).shouldComponentUpdate=="function"?p.shouldComponentUpdate(F,$,Y):!(v.prototype&&v.prototype.isPureReactComponent&&pa(D,F)&&pa(j,$))}function sf(p,v,D){var F=!1,j=zs,$=v.contextType;return typeof $=="object"&&$!==null?$=Oo($):(j=Zi(v)?_u:Wi.current,$=(F=(F=v.contextTypes)!=null)?Qs(p,j):zs),v=new v(D,$),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=af,p.stateNode=v,v._reactInternals=p,F&&((p=p.stateNode).__reactInternalMemoizedUnmaskedChildContext=j,p.__reactInternalMemoizedMaskedChildContext=$),v}function Dh(p,v,D,F){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(D,F),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(D,F),v.state!==p&&af.enqueueReplaceState(v,v.state,null)}function Rf(p,v,D,F){var j=p.stateNode;j.props=D,j.state=p.memoizedState,j.refs={},of(p);var $=v.contextType;typeof $=="object"&&$!==null?j.context=Oo($):($=Zi(v)?_u:Wi.current,j.context=Qs(p,$)),j.state=p.memoizedState,typeof($=v.getDerivedStateFromProps)=="function"&&(Bf(p,v,$,D),j.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(v=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),v!==j.state&&af.enqueueReplaceState(j,j.state,null),El(p,D,j,F),j.state=p.memoizedState),typeof j.componentDidMount=="function"&&(p.flags|=4194308)}function tc(p,v){try{var D="",F=v;do D+=Lt(F),F=F.return;while(F);var j=D}catch($){j=`
Error generating stack: `+$.message+`
`+$.stack}return{value:p,source:v,stack:j,digest:null}}function uu(p,v,D){return{value:p,source:null,stack:D??null,digest:v??null}}function eh(p,v){try{console.error(v.value)}catch(D){setTimeout(function(){throw D})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function Xu(p,v,D){(D=gr(-1,D)).tag=3,D.payload={element:null};var F=v.value;return D.callback=function(){_n||(_n=!0,ic=F),eh(0,v)},D}function uf(p,v,D){(D=gr(-1,D)).tag=3;var F=p.type.getDerivedStateFromError;if(typeof F=="function"){var j=v.value;D.payload=function(){return F(j)},D.callback=function(){eh(0,v)}}var $=p.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(D.callback=function(){eh(0,v),typeof F!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})}),D}function Bc(p,v,D){var F=p.pingCache;if(F===null){F=p.pingCache=new Ch;var j=new Set;F.set(v,j)}else(j=F.get(v))===void 0&&(j=new Set,F.set(v,j));j.has(D)||(j.add(D),p=G.bind(null,p,v,D),v.then(p,p))}function ec(p){do{var v;if((v=p.tag===13)&&(v=(v=p.memoizedState)===null||v.dehydrated!==null),v)return p;p=p.return}while(p!==null);return null}function bf(p,v,D,F,j){return 1&p.mode?(p.flags|=65536,p.lanes=j,p):(p===v?p.flags|=65536:(p.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:((v=gr(-1,1)).tag=2,$s(D,v,1))),D.lanes|=1),p)}var jf=N.ReactCurrentOwner,ia=!1;function ka(p,v,D,F){v.child=p===null?Zs(v,null,D,F):Aa(v,p.child,D,F)}function Ju(p,v,D,F,j){D=D.render;var $=v.ref;return eo(v,j),F=ao(p,v,D,F,$,j),D=kl(),p===null||ia?(wr&&D&&Va(v),v.flags|=1,ka(p,v,F,j),v.child):(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~j,lr(p,v,j))}function ks(p,v,D,F,j){if(p===null){var $=D.type;return typeof $!="function"||yt($)||$.defaultProps!==void 0||D.compare!==null||D.defaultProps!==void 0?((p=xt(D.type,null,F,v,v.mode,j)).ref=v.ref,p.return=v,v.child=p):(v.tag=15,v.type=$,nh(p,v,$,F,j))}if($=p.child,!(p.lanes&j)){var Y=$.memoizedProps;if((D=(D=D.compare)!==null?D:pa)(Y,F)&&p.ref===v.ref)return lr(p,v,j)}return v.flags|=1,(p=jt($,F)).ref=v.ref,p.return=v,v.child=p}function nh(p,v,D,F,j){if(p!==null){var $=p.memoizedProps;if(pa($,F)&&p.ref===v.ref){if(ia=!1,v.pendingProps=F=$,!(p.lanes&j))return v.lanes=p.lanes,lr(p,v,j);131072&p.flags&&(ia=!0)}}return ll(p,v,D,F,j)}function Fl(p,v,D){var F=v.pendingProps,j=F.children,$=p!==null?p.memoizedState:null;if(F.mode==="hidden")if(1&v.mode){if(!(1073741824&D))return p=$!==null?$.baseLanes|D:D,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,ar(Ec,Xa),Xa|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=$!==null?$.baseLanes:D,ar(Ec,Xa),Xa|=F}else v.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Ec,Xa),Xa|=D;else $!==null?(F=$.baseLanes|D,v.memoizedState=null):F=D,ar(Ec,Xa),Xa|=F;return ka(p,v,j,D),v.child}function lf(p,v){var D=v.ref;(p===null&&D!==null||p!==null&&p.ref!==D)&&(v.flags|=512,v.flags|=2097152)}function ll(p,v,D,F,j){var $=Zi(D)?_u:Wi.current;return $=Qs(v,$),eo(v,j),D=ao(p,v,D,F,$,j),F=kl(),p===null||ia?(wr&&F&&Va(v),v.flags|=1,ka(p,v,D,j),v.child):(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~j,lr(p,v,j))}function Mr(p,v,D,F,j){if(Zi(D)){var $=!0;Us(v)}else $=!1;if(eo(v,j),v.stateNode===null)Qn(p,v),sf(v,D,F),Rf(v,D,F,j),F=!0;else if(p===null){var Y=v.stateNode,lt=v.memoizedProps;Y.props=lt;var ht=Y.context,Mt=D.contextType;Mt=typeof Mt=="object"&&Mt!==null?Oo(Mt):Qs(v,Mt=Zi(D)?_u:Wi.current);var $t=D.getDerivedStateFromProps,Gt=typeof $t=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Gt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(lt!==F||ht!==Mt)&&Dh(v,Y,F,Mt),ra=!1;var qt=v.memoizedState;Y.state=qt,El(v,F,Y,j),ht=v.memoizedState,lt!==F||qt!==ht||Si.current||ra?(typeof $t=="function"&&(Bf(v,D,$t,F),ht=v.memoizedState),(lt=ra||wf(v,D,lt,F,qt,ht,Mt))?(Gt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=F,v.memoizedState=ht),Y.props=F,Y.state=ht,Y.context=Mt,F=lt):(typeof Y.componentDidMount=="function"&&(v.flags|=4194308),F=!1)}else{Y=v.stateNode,Ul(p,v),lt=v.memoizedProps,Mt=v.type===v.elementType?lt:ms(v.type,lt),Y.props=Mt,Gt=v.pendingProps,qt=Y.context,ht=typeof(ht=D.contextType)=="object"&&ht!==null?Oo(ht):Qs(v,ht=Zi(D)?_u:Wi.current);var Qt=D.getDerivedStateFromProps;($t=typeof Qt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(lt!==Gt||qt!==ht)&&Dh(v,Y,F,ht),ra=!1,qt=v.memoizedState,Y.state=qt,El(v,F,Y,j);var de=v.memoizedState;lt!==Gt||qt!==de||Si.current||ra?(typeof Qt=="function"&&(Bf(v,D,Qt,F),de=v.memoizedState),(Mt=ra||wf(v,D,Mt,F,qt,de,ht)||!1)?($t||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(F,de,ht),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(F,de,ht)),typeof Y.componentDidUpdate=="function"&&(v.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Y.componentDidUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=1024),v.memoizedProps=F,v.memoizedState=de),Y.props=F,Y.state=de,Y.context=ht,F=Mt):(typeof Y.componentDidUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=1024),F=!1)}return Lf(p,v,D,F,$,j)}function Lf(p,v,D,F,j,$){lf(p,v);var Y=!!(128&v.flags);if(!F&&!Y)return j&&ue(v,D,!1),lr(p,v,$);F=v.stateNode,jf.current=v;var lt=Y&&typeof D.getDerivedStateFromError!="function"?null:F.render();return v.flags|=1,p!==null&&Y?(v.child=Aa(v,p.child,null,$),v.child=Aa(v,null,lt,$)):ka(p,v,lt,$),v.memoizedState=F.state,j&&ue(v,D,!0),v.child}function gc(p){var v=p.stateNode;v.pendingContext?zl(0,v.pendingContext,v.pendingContext!==v.context):v.context&&zl(0,v.context,!1),Yt(p,v.containerInfo)}function Eo(p,v,D,F,j){return ps(),al(j),v.flags|=256,ka(p,v,D,F),v.child}var ie,_c,$e,Je,Nr={dehydrated:null,treeContext:null,retryLane:0};function $o(p){return{baseLanes:p,cachePool:null,transitions:null}}function lu(p,v,D){var F,j=v.pendingProps,$=mr.current,Y=!1,lt=!!(128&v.flags);if((F=lt)||(F=(p===null||p.memoizedState!==null)&&!!(2&$)),F?(Y=!0,v.flags&=-129):p!==null&&p.memoizedState===null||($|=1),ar(mr,1&$),p===null)return Jl(v),(p=v.memoizedState)!==null&&(p=p.dehydrated)!==null?(1&v.mode?p.data==="$!"?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(lt=j.children,p=j.fallback,Y?(j=v.mode,Y=v.child,lt={mode:"hidden",children:lt},1&j||Y===null?Y=ae(lt,j,0,null):(Y.childLanes=0,Y.pendingProps=lt),p=It(p,j,D,null),Y.return=v,p.return=v,Y.sibling=p,v.child=Y,v.child.memoizedState=$o(D),v.memoizedState=Nr,p):yi(v,lt));if(($=p.memoizedState)!==null&&(F=$.dehydrated)!==null)return function(Mt,$t,Gt,qt,Qt,de,le){if(Gt)return 256&$t.flags?($t.flags&=-257,cu(Mt,$t,le,qt=uu(Error(e(422))))):$t.memoizedState!==null?($t.child=Mt.child,$t.flags|=128,null):(de=qt.fallback,Qt=$t.mode,qt=ae({mode:"visible",children:qt.children},Qt,0,null),(de=It(de,Qt,le,null)).flags|=2,qt.return=$t,de.return=$t,qt.sibling=de,$t.child=qt,1&$t.mode&&Aa($t,Mt.child,null,le),$t.child.memoizedState=$o(le),$t.memoizedState=Nr,de);if(!(1&$t.mode))return cu(Mt,$t,le,null);if(Qt.data==="$!"){if(qt=Qt.nextSibling&&Qt.nextSibling.dataset)var Wt=qt.dgst;return qt=Wt,cu(Mt,$t,le,qt=uu(de=Error(e(419)),qt,void 0))}if(Wt=!!(le&Mt.childLanes),ia||Wt){if((qt=ti)!==null){switch(le&-le){case 4:Qt=2;break;case 16:Qt=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Qt=32;break;case 536870912:Qt=268435456;break;default:Qt=0}(Qt=Qt&(qt.suspendedLanes|le)?0:Qt)!==0&&Qt!==de.retryLane&&(de.retryLane=Qt,ds(Mt,Qt),qr(qt,Mt,Qt,-1))}return g(),cu(Mt,$t,le,qt=uu(Error(e(421))))}return Qt.data==="$?"?($t.flags|=128,$t.child=Mt.child,$t=K.bind(null,Mt),Qt._reactRetry=$t,null):(Mt=de.treeContext,Yo=Sa(Qt.nextSibling),Ri=$t,wr=!0,di=null,Mt!==null&&(to[Or++]=fn,to[Or++]=Yn,to[Or++]=Qr,fn=Mt.id,Yn=Mt.overflow,Qr=$t),($t=yi($t,qt.children)).flags|=4096,$t)}(p,v,lt,j,F,$,D);if(Y){Y=j.fallback,lt=v.mode,F=($=p.child).sibling;var ht={mode:"hidden",children:j.children};return 1&lt||v.child===$?(j=jt($,ht)).subtreeFlags=14680064&$.subtreeFlags:((j=v.child).childLanes=0,j.pendingProps=ht,v.deletions=null),F!==null?Y=jt(F,Y):(Y=It(Y,lt,D,null)).flags|=2,Y.return=v,j.return=v,j.sibling=Y,v.child=j,j=Y,Y=v.child,lt=(lt=p.child.memoizedState)===null?$o(D):{baseLanes:lt.baseLanes|D,cachePool:null,transitions:lt.transitions},Y.memoizedState=lt,Y.childLanes=p.childLanes&~D,v.memoizedState=Nr,j}return p=(Y=p.child).sibling,j=jt(Y,{mode:"visible",children:j.children}),!(1&v.mode)&&(j.lanes=D),j.return=v,j.sibling=null,p!==null&&((D=v.deletions)===null?(v.deletions=[p],v.flags|=16):D.push(p)),v.child=j,v.memoizedState=null,j}function yi(p,v){return(v=ae({mode:"visible",children:v},p.mode,0,null)).return=p,p.child=v}function cu(p,v,D,F){return F!==null&&al(F),Aa(v,p.child,null,D),(p=yi(v,v.pendingProps.children)).flags|=2,v.memoizedState=null,p}function Gn(p,v,D){p.lanes|=v;var F=p.alternate;F!==null&&(F.lanes|=v),oo(p.return,v,D)}function We(p,v,D,F,j){var $=p.memoizedState;$===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:F,tail:D,tailMode:j}:($.isBackwards=v,$.rendering=null,$.renderingStartTime=0,$.last=F,$.tail=D,$.tailMode=j)}function Le(p,v,D){var F=v.pendingProps,j=F.revealOrder,$=F.tail;if(ka(p,v,F.children,D),2&(F=mr.current))F=1&F|2,v.flags|=128;else{if(p!==null&&128&p.flags)t:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Gn(p,D,v);else if(p.tag===19)Gn(p,D,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break t;for(;p.sibling===null;){if(p.return===null||p.return===v)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}F&=1}if(ar(mr,F),1&v.mode)switch(j){case"forwards":for(D=v.child,j=null;D!==null;)(p=D.alternate)!==null&&ua(p)===null&&(j=D),D=D.sibling;(D=j)===null?(j=v.child,v.child=null):(j=D.sibling,D.sibling=null),We(v,!1,j,D,$);break;case"backwards":for(D=null,j=v.child,v.child=null;j!==null;){if((p=j.alternate)!==null&&ua(p)===null){v.child=j;break}p=j.sibling,j.sibling=D,D=j,j=p}We(v,!0,D,null,$);break;case"together":We(v,!1,null,null,void 0);break;default:v.memoizedState=null}else v.memoizedState=null;return v.child}function Qn(p,v){!(1&v.mode)&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function lr(p,v,D){if(p!==null&&(v.dependencies=p.dependencies),Pu|=v.lanes,!(D&v.childLanes))return null;if(p!==null&&v.child!==p.child)throw Error(e(153));if(v.child!==null){for(D=jt(p=v.child,p.pendingProps),v.child=D,D.return=v;p.sibling!==null;)p=p.sibling,(D=D.sibling=jt(p,p.pendingProps)).return=v;D.sibling=null}return v.child}function la(p,v){if(!wr)switch(p.tailMode){case"hidden":v=p.tail;for(var D=null;v!==null;)v.alternate!==null&&(D=v),v=v.sibling;D===null?p.tail=null:D.sibling=null;break;case"collapsed":D=p.tail;for(var F=null;D!==null;)D.alternate!==null&&(F=D),D=D.sibling;F===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:F.sibling=null}}function Li(p){var v=p.alternate!==null&&p.alternate.child===p.child,D=0,F=0;if(v)for(var j=p.child;j!==null;)D|=j.lanes|j.childLanes,F|=14680064&j.subtreeFlags,F|=14680064&j.flags,j.return=p,j=j.sibling;else for(j=p.child;j!==null;)D|=j.lanes|j.childLanes,F|=j.subtreeFlags,F|=j.flags,j.return=p,j=j.sibling;return p.subtreeFlags|=F,p.childLanes=D,v}function Qu(p,v,D){var F=v.pendingProps;switch(qa(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(v),null;case 1:case 17:return Zi(v.type)&&Dl(),Li(v),null;case 3:return F=v.stateNode,Jo(),dr(Si),dr(Wi),$l(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),p!==null&&p.child!==null||(Su(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&!(256&v.flags)||(v.flags|=1024,di!==null&&(ws(di),di=null))),_c(p,v),Li(v),null;case 5:si(v);var j=vi(So.current);if(D=v.type,p!==null&&v.stateNode!=null)$e(p,v,D,F,j),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!F){if(v.stateNode===null)throw Error(e(166));return Li(v),null}if(p=vi(po.current),Su(v)){F=v.stateNode,D=v.type;var $=v.memoizedProps;switch(F[Ea]=v,F[tn]=$,p=!!(1&v.mode),D){case"dialog":En("cancel",F),En("close",F);break;case"iframe":case"object":case"embed":En("load",F);break;case"video":case"audio":for(j=0;j<Fr.length;j++)En(Fr[j],F);break;case"source":En("error",F);break;case"img":case"image":case"link":En("error",F),En("load",F);break;case"details":En("toggle",F);break;case"input":cr(F,$),En("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!$.multiple},En("invalid",F);break;case"textarea":Rt(F,$),En("invalid",F)}for(var Y in xo(D,$),j=null,$)if($.hasOwnProperty(Y)){var lt=$[Y];Y==="children"?typeof lt=="string"?F.textContent!==lt&&($.suppressHydrationWarning!==!0&&$a(F.textContent,lt,p),j=["children",lt]):typeof lt=="number"&&F.textContent!==""+lt&&($.suppressHydrationWarning!==!0&&$a(F.textContent,lt,p),j=["children",""+lt]):i.hasOwnProperty(Y)&&lt!=null&&Y==="onScroll"&&En("scroll",F)}switch(D){case"input":qe(F),rt(F,$,!0);break;case"textarea":qe(F),Kt(F);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(F.onclick=Ro)}F=j,v.updateQueue=F,F!==null&&(v.flags|=4)}else{Y=j.nodeType===9?j:j.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=ge(D)),p==="http://www.w3.org/1999/xhtml"?D==="script"?((p=Y.createElement("div")).innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof F.is=="string"?p=Y.createElement(D,{is:F.is}):(p=Y.createElement(D),D==="select"&&(Y=p,F.multiple?Y.multiple=!0:F.size&&(Y.size=F.size))):p=Y.createElementNS(p,D),p[Ea]=v,p[tn]=F,ie(p,v,!1,!1),v.stateNode=p;t:{switch(Y=Ai(D,F),D){case"dialog":En("cancel",p),En("close",p),j=F;break;case"iframe":case"object":case"embed":En("load",p),j=F;break;case"video":case"audio":for(j=0;j<Fr.length;j++)En(Fr[j],p);j=F;break;case"source":En("error",p),j=F;break;case"img":case"image":case"link":En("error",p),En("load",p),j=F;break;case"details":En("toggle",p),j=F;break;case"input":cr(p,F),j=nn(p,F),En("invalid",p);break;case"option":default:j=F;break;case"select":p._wrapperState={wasMultiple:!!F.multiple},j=_t({},F,{value:void 0}),En("invalid",p);break;case"textarea":Rt(p,F),j=Bt(p,F),En("invalid",p)}for($ in xo(D,j),lt=j)if(lt.hasOwnProperty($)){var ht=lt[$];$==="style"?Yi(p,ht):$==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0)!=null&&Xe(p,ht):$==="children"?typeof ht=="string"?(D!=="textarea"||ht!=="")&&Se(p,ht):typeof ht=="number"&&Se(p,""+ht):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ht!=null&&$==="onScroll"&&En("scroll",p):ht!=null&&M(p,$,ht,Y))}switch(D){case"input":qe(p),rt(p,F,!1);break;case"textarea":qe(p),Kt(p);break;case"option":F.value!=null&&p.setAttribute("value",""+ve(F.value));break;case"select":p.multiple=!!F.multiple,($=F.value)!=null?Ot(p,!!F.multiple,$,!1):F.defaultValue!=null&&Ot(p,!!F.multiple,F.defaultValue,!0);break;default:typeof j.onClick=="function"&&(p.onclick=Ro)}switch(D){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break t;case"img":F=!0;break t;default:F=!1}}F&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Li(v),null;case 6:if(p&&v.stateNode!=null)Je(p,v,p.memoizedProps,F);else{if(typeof F!="string"&&v.stateNode===null)throw Error(e(166));if(D=vi(So.current),vi(po.current),Su(v)){if(F=v.stateNode,D=v.memoizedProps,F[Ea]=v,($=F.nodeValue!==D)&&(p=Ri)!==null)switch(p.tag){case 3:$a(F.nodeValue,D,!!(1&p.mode));break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&$a(F.nodeValue,D,!!(1&p.mode))}$&&(v.flags|=4)}else(F=(D.nodeType===9?D:D.ownerDocument).createTextNode(F))[Ea]=v,v.stateNode=F}return Li(v),null;case 13:if(dr(mr),F=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(wr&&Yo!==null&&1&v.mode&&!(128&v.flags))_l(),ps(),v.flags|=98560,$=!1;else if($=Su(v),F!==null&&F.dehydrated!==null){if(p===null){if(!$)throw Error(e(318));if(!($=($=v.memoizedState)!==null?$.dehydrated:null))throw Error(e(317));$[Ea]=v}else ps(),!(128&v.flags)&&(v.memoizedState=null),v.flags|=4;Li(v),$=!1}else di!==null&&(ws(di),di=null),$=!0;if(!$)return 65536&v.flags?v:null}return 128&v.flags?(v.lanes=D,v):((F=F!==null)!=(p!==null&&p.memoizedState!==null)&&F&&(v.child.flags|=8192,1&v.mode&&(p===null||1&mr.current?co===0&&(co=3):g())),v.updateQueue!==null&&(v.flags|=4),Li(v),null);case 4:return Jo(),_c(p,v),p===null&&da(v.stateNode.containerInfo),Li(v),null;case 10:return To(v.type._context),Li(v),null;case 19:if(dr(mr),($=v.memoizedState)===null)return Li(v),null;if(F=!!(128&v.flags),(Y=$.rendering)===null)if(F)la($,!1);else{if(co!==0||p!==null&&128&p.flags)for(p=v.child;p!==null;){if((Y=ua(p))!==null){for(v.flags|=128,la($,!1),(F=Y.updateQueue)!==null&&(v.updateQueue=F,v.flags|=4),v.subtreeFlags=0,F=D,D=v.child;D!==null;)p=F,($=D).flags&=14680066,(Y=$.alternate)===null?($.childLanes=0,$.lanes=p,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=Y.childLanes,$.lanes=Y.lanes,$.child=Y.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=Y.memoizedProps,$.memoizedState=Y.memoizedState,$.updateQueue=Y.updateQueue,$.type=Y.type,p=Y.dependencies,$.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),D=D.sibling;return ar(mr,1&mr.current|2),v.child}p=p.sibling}$.tail!==null&&ln()>hu&&(v.flags|=128,F=!0,la($,!1),v.lanes=4194304)}else{if(!F)if((p=ua(Y))!==null){if(v.flags|=128,F=!0,(D=p.updateQueue)!==null&&(v.updateQueue=D,v.flags|=4),la($,!0),$.tail===null&&$.tailMode==="hidden"&&!Y.alternate&&!wr)return Li(v),null}else 2*ln()-$.renderingStartTime>hu&&D!==1073741824&&(v.flags|=128,F=!0,la($,!1),v.lanes=4194304);$.isBackwards?(Y.sibling=v.child,v.child=Y):((D=$.last)!==null?D.sibling=Y:v.child=Y,$.last=Y)}return $.tail!==null?(v=$.tail,$.rendering=v,$.tail=v.sibling,$.renderingStartTime=ln(),v.sibling=null,D=mr.current,ar(mr,F?1&D|2:1&D),v):(Li(v),null);case 22:case 23:return Qc(),F=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==F&&(v.flags|=8192),F&&1&v.mode?1073741824&Xa&&(Li(v),6&v.subtreeFlags&&(v.flags|=8192)):Li(v),null;case 24:case 25:return null}throw Error(e(156,v.tag))}function ku(p,v){switch(qa(v),v.tag){case 1:return Zi(v.type)&&Dl(),65536&(p=v.flags)?(v.flags=-65537&p|128,v):null;case 3:return Jo(),dr(Si),dr(Wi),$l(),65536&(p=v.flags)&&!(128&p)?(v.flags=-65537&p|128,v):null;case 5:return si(v),null;case 13:if(dr(mr),(p=v.memoizedState)!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(e(340));ps()}return 65536&(p=v.flags)?(v.flags=-65537&p|128,v):null;case 19:return dr(mr),null;case 4:return Jo(),null;case 10:return To(v.type._context),null;case 22:case 23:return Qc(),null;default:return null}}ie=function(p,v){for(var D=v.child;D!==null;){if(D.tag===5||D.tag===6)p.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===v)break;for(;D.sibling===null;){if(D.return===null||D.return===v)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},_c=function(){},$e=function(p,v,D,F){var j=p.memoizedProps;if(j!==F){p=v.stateNode,vi(po.current);var $,Y=null;switch(D){case"input":j=nn(p,j),F=nn(p,F),Y=[];break;case"select":j=_t({},j,{value:void 0}),F=_t({},F,{value:void 0}),Y=[];break;case"textarea":j=Bt(p,j),F=Bt(p,F),Y=[];break;default:typeof j.onClick!="function"&&typeof F.onClick=="function"&&(p.onclick=Ro)}for(Mt in xo(D,F),D=null,j)if(!F.hasOwnProperty(Mt)&&j.hasOwnProperty(Mt)&&j[Mt]!=null)if(Mt==="style"){var lt=j[Mt];for($ in lt)lt.hasOwnProperty($)&&(D||(D={}),D[$]="")}else Mt!=="dangerouslySetInnerHTML"&&Mt!=="children"&&Mt!=="suppressContentEditableWarning"&&Mt!=="suppressHydrationWarning"&&Mt!=="autoFocus"&&(i.hasOwnProperty(Mt)?Y||(Y=[]):(Y=Y||[]).push(Mt,null));for(Mt in F){var ht=F[Mt];if(lt=j!=null?j[Mt]:void 0,F.hasOwnProperty(Mt)&&ht!==lt&&(ht!=null||lt!=null))if(Mt==="style")if(lt){for($ in lt)!lt.hasOwnProperty($)||ht&&ht.hasOwnProperty($)||(D||(D={}),D[$]="");for($ in ht)ht.hasOwnProperty($)&&lt[$]!==ht[$]&&(D||(D={}),D[$]=ht[$])}else D||(Y||(Y=[]),Y.push(Mt,D)),D=ht;else Mt==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,lt=lt?lt.__html:void 0,ht!=null&&lt!==ht&&(Y=Y||[]).push(Mt,ht)):Mt==="children"?typeof ht!="string"&&typeof ht!="number"||(Y=Y||[]).push(Mt,""+ht):Mt!=="suppressContentEditableWarning"&&Mt!=="suppressHydrationWarning"&&(i.hasOwnProperty(Mt)?(ht!=null&&Mt==="onScroll"&&En("scroll",p),Y||lt===ht||(Y=[])):(Y=Y||[]).push(Mt,ht))}D&&(Y=Y||[]).push("style",D);var Mt=Y;(v.updateQueue=Mt)&&(v.flags|=4)}},Je=function(p,v,D,F){D!==F&&(v.flags|=4)};var jn=!1,xn=!1,Wo=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function cl(p,v){var D=p.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(F){U(p,v,F)}else D.current=null}function ui(p,v,D){try{D()}catch(F){U(p,v,F)}}var se=!1;function vs(p,v,D){var F=v.updateQueue;if((F=F!==null?F.lastEffect:null)!==null){var j=F=F.next;do{if((j.tag&p)===p){var $=j.destroy;j.destroy=void 0,$!==void 0&&ui(v,D,$)}j=j.next}while(j!==F)}}function Qe(p,v){if((v=(v=v.updateQueue)!==null?v.lastEffect:null)!==null){var D=v=v.next;do{if((D.tag&p)===p){var F=D.create;D.destroy=F()}D=D.next}while(D!==v)}}function ys(p){var v=p.ref;if(v!==null){var D=p.stateNode;p.tag,p=D,typeof v=="function"?v(p):v.current=p}}function we(p){var v=p.alternate;v!==null&&(p.alternate=null,we(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode)!==null&&(delete v[Ea],delete v[tn],delete v[Ls],delete v[xl],delete v[pc]),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Oh(p){return p.tag===5||p.tag===3||p.tag===4}function mo(p){t:for(;;){for(;p.sibling===null;){if(p.return===null||Oh(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(2&p.flags||p.child===null||p.tag===4)continue t;p.child.return=p,p=p.child}if(!(2&p.flags))return p.stateNode}}function Vs(p,v,D){var F=p.tag;if(F===5||F===6)p=p.stateNode,v?D.nodeType===8?D.parentNode.insertBefore(p,v):D.insertBefore(p,v):(D.nodeType===8?(v=D.parentNode).insertBefore(p,D):(v=D).appendChild(p),(D=D._reactRootContainer)!=null||v.onclick!==null||(v.onclick=Ro));else if(F!==4&&(p=p.child)!==null)for(Vs(p,v,D),p=p.sibling;p!==null;)Vs(p,v,D),p=p.sibling}function nc(p,v,D){var F=p.tag;if(F===5||F===6)p=p.stateNode,v?D.insertBefore(p,v):D.appendChild(p);else if(F!==4&&(p=p.child)!==null)for(nc(p,v,D),p=p.sibling;p!==null;)nc(p,v,D),p=p.sibling}var Pn=null,Na=!1;function as(p,v,D){for(D=D.child;D!==null;)rc(p,v,D),D=D.sibling}function rc(p,v,D){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(De,D)}catch{}switch(D.tag){case 5:xn||cl(D,v);case 6:var F=Pn,j=Na;Pn=null,as(p,v,D),Na=j,(Pn=F)!==null&&(Na?(p=Pn,D=D.stateNode,p.nodeType===8?p.parentNode.removeChild(D):p.removeChild(D)):Pn.removeChild(D.stateNode));break;case 18:Pn!==null&&(Na?(p=Pn,D=D.stateNode,p.nodeType===8?bn(p.parentNode,D):p.nodeType===1&&bn(p,D),xu(p)):bn(Pn,D.stateNode));break;case 4:F=Pn,j=Na,Pn=D.stateNode.containerInfo,Na=!0,as(p,v,D),Pn=F,Na=j;break;case 0:case 11:case 14:case 15:if(!xn&&(F=D.updateQueue)!==null&&(F=F.lastEffect)!==null){j=F=F.next;do{var $=j,Y=$.destroy;$=$.tag,Y!==void 0&&(2&$||4&$)&&ui(D,v,Y),j=j.next}while(j!==F)}as(p,v,D);break;case 1:if(!xn&&(cl(D,v),typeof(F=D.stateNode).componentWillUnmount=="function"))try{F.props=D.memoizedProps,F.state=D.memoizedState,F.componentWillUnmount()}catch(lt){U(D,v,lt)}as(p,v,D);break;case 21:as(p,v,D);break;case 22:1&D.mode?(xn=(F=xn)||D.memoizedState!==null,as(p,v,D),xn=F):as(p,v,D);break;default:as(p,v,D)}}function Fi(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var D=p.stateNode;D===null&&(D=p.stateNode=new Wo),v.forEach(function(F){var j=tt.bind(null,p,F);D.has(F)||(D.add(F),F.then(j,j))})}}function eu(p,v){var D=v.deletions;if(D!==null)for(var F=0;F<D.length;F++){var j=D[F];try{var $=p,Y=v,lt=Y;t:for(;lt!==null;){switch(lt.tag){case 5:Pn=lt.stateNode,Na=!1;break t;case 3:case 4:Pn=lt.stateNode.containerInfo,Na=!0;break t}lt=lt.return}if(Pn===null)throw Error(e(160));rc($,Y,j),Pn=null,Na=!1;var ht=j.alternate;ht!==null&&(ht.return=null),j.return=null}catch(Mt){U(j,v,Mt)}}if(12854&v.subtreeFlags)for(v=v.child;v!==null;)rh(v,p),v=v.sibling}function rh(p,v){var D=p.alternate,F=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(eu(v,p),Ms(p),4&F){try{vs(3,p,p.return),Qe(3,p)}catch(le){U(p,p.return,le)}try{vs(5,p,p.return)}catch(le){U(p,p.return,le)}}break;case 1:eu(v,p),Ms(p),512&F&&D!==null&&cl(D,D.return);break;case 5:if(eu(v,p),Ms(p),512&F&&D!==null&&cl(D,D.return),32&p.flags){var j=p.stateNode;try{Se(j,"")}catch(le){U(p,p.return,le)}}if(4&F&&(j=p.stateNode)!=null){var $=p.memoizedProps,Y=D!==null?D.memoizedProps:$,lt=p.type,ht=p.updateQueue;if(p.updateQueue=null,ht!==null)try{lt==="input"&&$.type==="radio"&&$.name!=null&&bi(j,$),Ai(lt,Y);var Mt=Ai(lt,$);for(Y=0;Y<ht.length;Y+=2){var $t=ht[Y],Gt=ht[Y+1];$t==="style"?Yi(j,Gt):$t==="dangerouslySetInnerHTML"?Xe(j,Gt):$t==="children"?Se(j,Gt):M(j,$t,Gt,Mt)}switch(lt){case"input":Vt(j,$);break;case"textarea":Xt(j,$);break;case"select":var qt=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!$.multiple;var Qt=$.value;Qt!=null?Ot(j,!!$.multiple,Qt,!1):qt!==!!$.multiple&&($.defaultValue!=null?Ot(j,!!$.multiple,$.defaultValue,!0):Ot(j,!!$.multiple,$.multiple?[]:"",!1))}j[tn]=$}catch(le){U(p,p.return,le)}}break;case 6:if(eu(v,p),Ms(p),4&F){if(p.stateNode===null)throw Error(e(162));j=p.stateNode,$=p.memoizedProps;try{j.nodeValue=$}catch(le){U(p,p.return,le)}}break;case 3:if(eu(v,p),Ms(p),4&F&&D!==null&&D.memoizedState.isDehydrated)try{xu(v.containerInfo)}catch(le){U(p,p.return,le)}break;case 4:default:eu(v,p),Ms(p);break;case 13:eu(v,p),Ms(p),8192&(j=p.child).flags&&($=j.memoizedState!==null,j.stateNode.isHidden=$,!$||j.alternate!==null&&j.alternate.memoizedState!==null||(Tl=ln())),4&F&&Fi(p);break;case 22:if($t=D!==null&&D.memoizedState!==null,1&p.mode?(xn=(Mt=xn)||$t,eu(v,p),xn=Mt):eu(v,p),Ms(p),8192&F){if(Mt=p.memoizedState!==null,(p.stateNode.isHidden=Mt)&&!$t&&1&p.mode)for(Ae=p,$t=p.child;$t!==null;){for(Gt=Ae=$t;Ae!==null;){switch(Qt=(qt=Ae).child,qt.tag){case 0:case 11:case 14:case 15:vs(4,qt,qt.return);break;case 1:cl(qt,qt.return);var de=qt.stateNode;if(typeof de.componentWillUnmount=="function"){F=qt,D=qt.return;try{v=F,de.props=v.memoizedProps,de.state=v.memoizedState,de.componentWillUnmount()}catch(le){U(F,D,le)}}break;case 5:cl(qt,qt.return);break;case 22:if(qt.memoizedState!==null){Fs(Gt);continue}}Qt!==null?(Qt.return=qt,Ae=Qt):Fs(Gt)}$t=$t.sibling}t:for($t=null,Gt=p;;){if(Gt.tag===5){if($t===null){$t=Gt;try{j=Gt.stateNode,Mt?typeof($=j.style).setProperty=="function"?$.setProperty("display","none","important"):$.display="none":(lt=Gt.stateNode,Y=(ht=Gt.memoizedProps.style)!=null&&ht.hasOwnProperty("display")?ht.display:null,lt.style.display=zi("display",Y))}catch(le){U(p,p.return,le)}}}else if(Gt.tag===6){if($t===null)try{Gt.stateNode.nodeValue=Mt?"":Gt.memoizedProps}catch(le){U(p,p.return,le)}}else if((Gt.tag!==22&&Gt.tag!==23||Gt.memoizedState===null||Gt===p)&&Gt.child!==null){Gt.child.return=Gt,Gt=Gt.child;continue}if(Gt===p)break t;for(;Gt.sibling===null;){if(Gt.return===null||Gt.return===p)break t;$t===Gt&&($t=null),Gt=Gt.return}$t===Gt&&($t=null),Gt.sibling.return=Gt.return,Gt=Gt.sibling}}break;case 19:eu(v,p),Ms(p),4&F&&Fi(p);case 21:}}function Ms(p){var v=p.flags;if(2&v){try{t:{for(var D=p.return;D!==null;){if(Oh(D)){var F=D;break t}D=D.return}throw Error(e(160))}switch(F.tag){case 5:var j=F.stateNode;32&F.flags&&(Se(j,""),F.flags&=-33),nc(p,mo(p),j);break;case 3:case 4:var $=F.stateNode.containerInfo;Vs(p,mo(p),$);break;default:throw Error(e(161))}}catch(Y){U(p,p.return,Y)}p.flags&=-3}4096&v&&(p.flags&=-4097)}function en(p,v,D){Ae=p,Xn(p)}function Xn(p,v,D){for(var F=!!(1&p.mode);Ae!==null;){var j=Ae,$=j.child;if(j.tag===22&&F){var Y=j.memoizedState!==null||jn;if(!Y){var lt=j.alternate,ht=lt!==null&&lt.memoizedState!==null||xn;lt=jn;var Mt=xn;if(jn=Y,(xn=ht)&&!Mt)for(Ae=j;Ae!==null;)ht=(Y=Ae).child,Y.tag===22&&Y.memoizedState!==null?Fu(j):ht!==null?(ht.return=Y,Ae=ht):Fu(j);for(;$!==null;)Ae=$,Xn($),$=$.sibling;Ae=j,jn=lt,xn=Mt}Mu(p)}else 8772&j.subtreeFlags&&$!==null?($.return=j,Ae=$):Mu(p)}}function Mu(p){for(;Ae!==null;){var v=Ae;if(8772&v.flags){var D=v.alternate;try{if(8772&v.flags)switch(v.tag){case 0:case 11:case 15:xn||Qe(5,v);break;case 1:var F=v.stateNode;if(4&v.flags&&!xn)if(D===null)F.componentDidMount();else{var j=v.elementType===v.type?D.memoizedProps:ms(v.type,D.memoizedProps);F.componentDidUpdate(j,D.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var $=v.updateQueue;$!==null&&Ei(v,$,F);break;case 3:var Y=v.updateQueue;if(Y!==null){if(D=null,v.child!==null)switch(v.child.tag){case 5:case 1:D=v.child.stateNode}Ei(v,Y,D)}break;case 5:var lt=v.stateNode;if(D===null&&4&v.flags){D=lt;var ht=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&D.focus();break;case"img":ht.src&&(D.src=ht.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(v.memoizedState===null){var Mt=v.alternate;if(Mt!==null){var $t=Mt.memoizedState;if($t!==null){var Gt=$t.dehydrated;Gt!==null&&xu(Gt)}}}break;default:throw Error(e(163))}xn||512&v.flags&&ys(v)}catch(qt){U(v,v.return,qt)}}if(v===p){Ae=null;break}if((D=v.sibling)!==null){D.return=v.return,Ae=D;break}Ae=v.return}}function Fs(p){for(;Ae!==null;){var v=Ae;if(v===p){Ae=null;break}var D=v.sibling;if(D!==null){D.return=v.return,Ae=D;break}Ae=v.return}}function Fu(p){for(;Ae!==null;){var v=Ae;try{switch(v.tag){case 0:case 11:case 15:var D=v.return;try{Qe(4,v)}catch(ht){U(v,D,ht)}break;case 1:var F=v.stateNode;if(typeof F.componentDidMount=="function"){var j=v.return;try{F.componentDidMount()}catch(ht){U(v,j,ht)}}var $=v.return;try{ys(v)}catch(ht){U(v,$,ht)}break;case 5:var Y=v.return;try{ys(v)}catch(ht){U(v,Y,ht)}}}catch(ht){U(v,v.return,ht)}if(v===p){Ae=null;break}var lt=v.sibling;if(lt!==null){lt.return=v.return,Ae=lt;break}Ae=v.return}}var ph,Wn=Math.ceil,Pl=N.ReactCurrentDispatcher,Sc=N.ReactCurrentOwner,Zn=N.ReactCurrentBatchConfig,Tn=0,ti=null,li=null,No=0,Xa=0,Ec=Ta(0),co=0,Rc=null,Pu=0,Zo=0,fu=0,Ps=null,Ja=null,Tl=0,hu=1/0,fl=null,_n=!1,ic=null,ca=null,Jc=!1,Qa=null,hl=0,Ac=0,cf=null,xf=-1,Io=0;function fr(){return 6&Tn?ln():xf!==-1?xf:xf=ln()}function ta(p){return 1&p.mode?2&Tn&&No!==0?No&-No:Sl.transition!==null?(Io===0&&(Io=Bu()),Io):(p=qn)!==0?p:p=(p=window.event)===void 0?16:yl(p.type):1}function qr(p,v,D,F){if(50<Ac)throw Ac=0,cf=null,Error(e(185));Ru(p,D,F),2&Tn&&p===ti||(p===ti&&(!(2&Tn)&&(Zo|=D),co===4&&Zu(p,No)),Ir(p,F),D===1&&Tn===0&&!(1&v.mode)&&(hu=ln()+500,mi&&hs()))}function Ir(p,v){var D=p.callbackNode;(function(j,$){for(var Y=j.suspendedLanes,lt=j.pingedLanes,ht=j.expirationTimes,Mt=j.pendingLanes;0<Mt;){var $t=31-Xr(Mt),Gt=1<<$t,qt=ht[$t];qt===-1?Gt&Y&&!(Gt&lt)||(ht[$t]=kr(Gt,$)):qt<=$&&(j.expiredLanes|=Gt),Mt&=~Gt}})(p,v);var F=$i(p,p===ti?No:0);if(F===0)D!==null&&kc(D),p.callbackNode=null,p.callbackPriority=0;else if(v=F&-F,p.callbackPriority!==v){if(D!=null&&kc(D),v===1)p.tag===0?function(j){mi=!0,Yl(j)}(ff.bind(null,p)):Yl(ff.bind(null,p)),hc(function(){!(6&Tn)&&hs()}),D=null;else{switch(rl(F)){case 1:D=hr;break;case 4:D=Xi;break;case 16:default:D=es;break;case 536870912:D=Do}D=ut(D,Ma.bind(null,p))}p.callbackPriority=v,p.callbackNode=D}}function Ma(p,v){if(xf=-1,Io=0,6&Tn)throw Error(e(327));var D=p.callbackNode;if(_()&&p.callbackNode!==D)return null;var F=$i(p,p===ti?No:0);if(F===0)return null;if(30&F||F&p.expiredLanes||v)v=b(p,F);else{v=F;var j=Tn;Tn|=2;var $=l();for(ti===p&&No===v||(fl=null,hu=ln()+500,o(p,v));;)try{O();break}catch(lt){u(p,lt)}Uo(),Pl.current=$,Tn=j,li!==null?v=0:(ti=null,No=0,v=co)}if(v!==0){if(v===2&&(j=Fc(p))!==0&&(F=j,v=jc(p,j)),v===1)throw D=Rc,o(p,0),Zu(p,F),Ir(p,ln()),D;if(v===6)Zu(p,F);else{if(j=p.current.alternate,!(30&F||function(lt){for(var ht=lt;;){if(16384&ht.flags){var Mt=ht.updateQueue;if(Mt!==null&&(Mt=Mt.stores)!==null)for(var $t=0;$t<Mt.length;$t++){var Gt=Mt[$t],qt=Gt.getSnapshot;Gt=Gt.value;try{if(!on(qt(),Gt))return!1}catch{return!1}}}if(Mt=ht.child,16384&ht.subtreeFlags&&Mt!==null)Mt.return=ht,ht=Mt;else{if(ht===lt)break;for(;ht.sibling===null;){if(ht.return===null||ht.return===lt)return!0;ht=ht.return}ht.sibling.return=ht.return,ht=ht.sibling}}return!0}(j)||(v=b(p,F),v===2&&($=Fc(p),$!==0&&(F=$,v=jc(p,$))),v!==1)))throw D=Rc,o(p,0),Zu(p,F),Ir(p,ln()),D;switch(p.finishedWork=j,p.finishedLanes=F,v){case 0:case 1:throw Error(e(345));case 2:case 5:A(p,Ja,fl);break;case 3:if(Zu(p,F),(130023424&F)===F&&10<(v=Tl+500-ln())){if($i(p,0)!==0)break;if(((j=p.suspendedLanes)&F)!==F){fr(),p.pingedLanes|=p.suspendedLanes&j;break}p.timeoutHandle=Wa(A.bind(null,p,Ja,fl),v);break}A(p,Ja,fl);break;case 4:if(Zu(p,F),(4194240&F)===F)break;for(v=p.eventTimes,j=-1;0<F;){var Y=31-Xr(F);$=1<<Y,(Y=v[Y])>j&&(j=Y),F&=~$}if(F=j,10<(F=(120>(F=ln()-F)?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Wn(F/1960))-F)){p.timeoutHandle=Wa(A.bind(null,p,Ja,fl),F);break}A(p,Ja,fl);break;default:throw Error(e(329))}}}return Ir(p,ln()),p.callbackNode===D?Ma.bind(null,p):null}function jc(p,v){var D=Ps;return p.current.memoizedState.isDehydrated&&(o(p,v).flags|=256),(p=b(p,v))!==2&&(v=Ja,Ja=D,v!==null&&ws(v)),p}function ws(p){Ja===null?Ja=p:Ja.push.apply(Ja,p)}function Zu(p,v){for(v&=~fu,v&=~Zo,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var D=31-Xr(v),F=1<<D;p[D]=-1,v&=~F}}function ff(p){if(6&Tn)throw Error(e(327));_();var v=$i(p,0);if(!(1&v))return Ir(p,ln()),null;var D=b(p,v);if(p.tag!==0&&D===2){var F=Fc(p);F!==0&&(v=F,D=jc(p,F))}if(D===1)throw D=Rc,o(p,0),Zu(p,v),Ir(p,ln()),D;if(D===6)throw Error(e(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,A(p,Ja,fl),Ir(p,ln()),null}function zf(p,v){var D=Tn;Tn|=1;try{return p(v)}finally{(Tn=D)===0&&(hu=ln()+500,mi&&hs())}}function oc(p){Qa!==null&&Qa.tag===0&&!(6&Tn)&&_();var v=Tn;Tn|=1;var D=Zn.transition,F=qn;try{if(Zn.transition=null,qn=1,p)return p()}finally{qn=F,Zn.transition=D,!(6&(Tn=v))&&hs()}}function Qc(){Xa=Ec.current,dr(Ec)}function o(p,v){p.finishedWork=null,p.finishedLanes=0;var D=p.timeoutHandle;if(D!==-1&&(p.timeoutHandle=-1,au(D)),li!==null)for(D=li.return;D!==null;){var F=D;switch(qa(F),F.tag){case 1:(F=F.type.childContextTypes)!=null&&Dl();break;case 3:Jo(),dr(Si),dr(Wi),$l();break;case 5:si(F);break;case 4:Jo();break;case 13:case 19:dr(mr);break;case 10:To(F.type._context);break;case 22:case 23:Qc()}D=D.return}if(ti=p,li=p=jt(p.current,null),No=Xa=v,co=0,Rc=null,fu=Zo=Pu=0,Ja=Ps=null,Xo!==null){for(v=0;v<Xo.length;v++)if((F=(D=Xo[v]).interleaved)!==null){D.interleaved=null;var j=F.next,$=D.pending;if($!==null){var Y=$.next;$.next=j,F.next=Y}D.pending=F}Xo=null}return p}function u(p,v){for(;;){var D=li;try{if(Uo(),Qo.current=If,Al){for(var F=Ue.memoizedState;F!==null;){var j=F.queue;j!==null&&(j.pending=null),F=F.next}Al=!1}if(ur=0,Kn=Dr=Ue=null,Zr=!1,Wl=0,Sc.current=null,D===null||D.return===null){co=1,Rc=v,li=null;break}t:{var $=p,Y=D.return,lt=D,ht=v;if(v=No,lt.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var Mt=ht,$t=lt,Gt=$t.tag;if(!(1&$t.mode||Gt!==0&&Gt!==11&&Gt!==15)){var qt=$t.alternate;qt?($t.updateQueue=qt.updateQueue,$t.memoizedState=qt.memoizedState,$t.lanes=qt.lanes):($t.updateQueue=null,$t.memoizedState=null)}var Qt=ec(Y);if(Qt!==null){Qt.flags&=-257,bf(Qt,Y,lt,0,v),1&Qt.mode&&Bc($,Mt,v),ht=Mt;var de=(v=Qt).updateQueue;if(de===null){var le=new Set;le.add(ht),v.updateQueue=le}else de.add(ht);break t}if(!(1&v)){Bc($,Mt,v),g();break t}ht=Error(e(426))}else if(wr&&1&lt.mode){var Wt=ec(Y);if(Wt!==null){!(65536&Wt.flags)&&(Wt.flags|=256),bf(Wt,Y,lt,0,v),al(tc(ht,lt));break t}}$=ht=tc(ht,lt),co!==4&&(co=2),Ps===null?Ps=[$]:Ps.push($),$=Y;do{switch($.tag){case 3:$.flags|=65536,v&=-v,$.lanes|=v,Nf($,Xu(0,ht,v));break t;case 1:lt=ht;var Dt=$.type,Ut=$.stateNode;if(!(128&$.flags||typeof Dt.getDerivedStateFromError!="function"&&(Ut===null||typeof Ut.componentDidCatch!="function"||ca!==null&&ca.has(Ut)))){$.flags|=65536,v&=-v,$.lanes|=v,Nf($,uf($,lt,v));break t}}$=$.return}while($!==null)}W(D)}catch(ne){v=ne,li===D&&D!==null&&(li=D=D.return);continue}break}}function l(){var p=Pl.current;return Pl.current=If,p===null?If:p}function g(){co!==0&&co!==3&&co!==2||(co=4),ti===null||!(268435455&Pu)&&!(268435455&Zo)||Zu(ti,No)}function b(p,v){var D=Tn;Tn|=2;var F=l();for(ti===p&&No===v||(fl=null,o(p,v));;)try{E();break}catch(j){u(p,j)}if(Uo(),Tn=D,Pl.current=F,li!==null)throw Error(e(261));return ti=null,No=0,co}function E(){for(;li!==null;)R(li)}function O(){for(;li!==null&&!hf();)R(li)}function R(p){var v=ph(p.alternate,p,Xa);p.memoizedProps=p.pendingProps,v===null?W(p):li=v,Sc.current=null}function W(p){var v=p;do{var D=v.alternate;if(p=v.return,32768&v.flags){if((D=ku(D,v))!==null)return D.flags&=32767,void(li=D);if(p===null)return co=6,void(li=null);p.flags|=32768,p.subtreeFlags=0,p.deletions=null}else if((D=Qu(D,v,Xa))!==null)return void(li=D);if((v=v.sibling)!==null)return void(li=v);li=v=p}while(v!==null);co===0&&(co=5)}function A(p,v,D){var F=qn,j=Zn.transition;try{Zn.transition=null,qn=1,function($,Y,lt,ht){do _();while(Qa!==null);if(6&Tn)throw Error(e(327));lt=$.finishedWork;var Mt=$.finishedLanes;if(lt===null)return null;if($.finishedWork=null,$.finishedLanes=0,lt===$.current)throw Error(e(177));$.callbackNode=null,$.callbackPriority=0;var $t=lt.lanes|lt.childLanes;if(function(Qt,de){var le=Qt.pendingLanes&~de;Qt.pendingLanes=de,Qt.suspendedLanes=0,Qt.pingedLanes=0,Qt.expiredLanes&=de,Qt.mutableReadLanes&=de,Qt.entangledLanes&=de,de=Qt.entanglements;var Wt=Qt.eventTimes;for(Qt=Qt.expirationTimes;0<le;){var Dt=31-Xr(le),Ut=1<<Dt;de[Dt]=0,Wt[Dt]=-1,Qt[Dt]=-1,le&=~Ut}}($,$t),$===ti&&(li=ti=null,No=0),!(2064&lt.subtreeFlags)&&!(2064&lt.flags)||Jc||(Jc=!0,ut(es,function(){return _(),null})),$t=!!(15990&lt.flags),15990&lt.subtreeFlags||$t){$t=Zn.transition,Zn.transition=null;var Gt=qn;qn=1;var qt=Tn;Tn|=4,Sc.current=null,function(Qt,de){if(ki=ju,_a(Qt=il())){if("selectionStart"in Qt)var le={start:Qt.selectionStart,end:Qt.selectionEnd};else t:{var Wt=(le=(le=Qt.ownerDocument)&&le.defaultView||window).getSelection&&le.getSelection();if(Wt&&Wt.rangeCount!==0){le=Wt.anchorNode;var Dt=Wt.anchorOffset,Ut=Wt.focusNode;Wt=Wt.focusOffset;try{le.nodeType,Ut.nodeType}catch{le=null;break t}var ne=0,Ie=-1,Rn=-1,Te=0,In=0,rr=Qt,Jn=null;e:for(;;){for(var ei;rr!==le||Dt!==0&&rr.nodeType!==3||(Ie=ne+Dt),rr!==Ut||Wt!==0&&rr.nodeType!==3||(Rn=ne+Wt),rr.nodeType===3&&(ne+=rr.nodeValue.length),(ei=rr.firstChild)!==null;)Jn=rr,rr=ei;for(;;){if(rr===Qt)break e;if(Jn===le&&++Te===Dt&&(Ie=ne),Jn===Ut&&++In===Wt&&(Rn=ne),(ei=rr.nextSibling)!==null)break;Jn=(rr=Jn).parentNode}rr=ei}le=Ie===-1||Rn===-1?null:{start:Ie,end:Rn}}else le=null}le=le||{start:0,end:0}}else le=null;for(Ss={focusedElem:Qt,selectionRange:le},ju=!1,Ae=de;Ae!==null;)if(Qt=(de=Ae).child,1028&de.subtreeFlags&&Qt!==null)Qt.return=de,Ae=Qt;else for(;Ae!==null;){de=Ae;try{var Vl=de.alternate;if(1024&de.flags)switch(de.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Vl!==null){var ug=Vl.memoizedProps,ev=Vl.memoizedState,Ig=de.stateNode,yb=Ig.getSnapshotBeforeUpdate(de.elementType===de.type?ug:ms(de.type,ug),ev);Ig.__reactInternalSnapshotBeforeUpdate=yb}break;case 3:var Dd=de.stateNode.containerInfo;Dd.nodeType===1?Dd.textContent="":Dd.nodeType===9&&Dd.documentElement&&Dd.removeChild(Dd.documentElement);break;default:throw Error(e(163))}}catch(x){U(de,de.return,x)}if((Qt=de.sibling)!==null){Qt.return=de.return,Ae=Qt;break}Ae=de.return}Vl=se,se=!1}($,lt),rh(lt,$),oa(Ss),ju=!!ki,Ss=ki=null,$.current=lt,en(lt),Mc(),Tn=qt,qn=Gt,Zn.transition=$t}else $.current=lt;if(Jc&&(Jc=!1,Qa=$,hl=Mt),($t=$.pendingLanes)===0&&(ca=null),function(Qt){if(be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(De,Qt,void 0,!(128&~Qt.current.flags))}catch{}}(lt.stateNode),Ir($,ln()),Y!==null)for(ht=$.onRecoverableError,lt=0;lt<Y.length;lt++)ht((Mt=Y[lt]).value,{componentStack:Mt.stack,digest:Mt.digest});if(_n)throw _n=!1,$=ic,ic=null,$;1&hl&&$.tag!==0&&_(),1&($t=$.pendingLanes)?$===cf?Ac++:(Ac=0,cf=$):Ac=0,hs()}(p,v,D,F)}finally{Zn.transition=j,qn=F}return null}function _(){if(Qa!==null){var p=rl(hl),v=Zn.transition,D=qn;try{if(Zn.transition=null,qn=16>p?16:p,Qa===null)var F=!1;else{if(p=Qa,Qa=null,hl=0,6&Tn)throw Error(e(331));var j=Tn;for(Tn|=4,Ae=p.current;Ae!==null;){var $=Ae,Y=$.child;if(16&Ae.flags){var lt=$.deletions;if(lt!==null){for(var ht=0;ht<lt.length;ht++){var Mt=lt[ht];for(Ae=Mt;Ae!==null;){var $t=Ae;switch($t.tag){case 0:case 11:case 15:vs(8,$t,$)}var Gt=$t.child;if(Gt!==null)Gt.return=$t,Ae=Gt;else for(;Ae!==null;){var qt=($t=Ae).sibling,Qt=$t.return;if(we($t),$t===Mt){Ae=null;break}if(qt!==null){qt.return=Qt,Ae=qt;break}Ae=Qt}}}var de=$.alternate;if(de!==null){var le=de.child;if(le!==null){de.child=null;do{var Wt=le.sibling;le.sibling=null,le=Wt}while(le!==null)}}Ae=$}}if(2064&$.subtreeFlags&&Y!==null)Y.return=$,Ae=Y;else t:for(;Ae!==null;){if(2048&($=Ae).flags)switch($.tag){case 0:case 11:case 15:vs(9,$,$.return)}var Dt=$.sibling;if(Dt!==null){Dt.return=$.return,Ae=Dt;break t}Ae=$.return}}var Ut=p.current;for(Ae=Ut;Ae!==null;){var ne=(Y=Ae).child;if(2064&Y.subtreeFlags&&ne!==null)ne.return=Y,Ae=ne;else t:for(Y=Ut;Ae!==null;){if(2048&(lt=Ae).flags)try{switch(lt.tag){case 0:case 11:case 15:Qe(9,lt)}}catch(Rn){U(lt,lt.return,Rn)}if(lt===Y){Ae=null;break t}var Ie=lt.sibling;if(Ie!==null){Ie.return=lt.return,Ae=Ie;break t}Ae=lt.return}}if(Tn=j,hs(),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(De,p)}catch{}F=!0}return F}finally{qn=D,Zn.transition=v}}return!1}function T(p,v,D){p=$s(p,v=Xu(0,v=tc(D,v),1),1),v=fr(),p!==null&&(Ru(p,1,v),Ir(p,v))}function U(p,v,D){if(p.tag===3)T(p,p,D);else for(;v!==null;){if(v.tag===3){T(v,p,D);break}if(v.tag===1){var F=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(ca===null||!ca.has(F))){v=$s(v,p=uf(v,p=tc(D,p),1),1),p=fr(),v!==null&&(Ru(v,1,p),Ir(v,p));break}}v=v.return}}function G(p,v,D){var F=p.pingCache;F!==null&&F.delete(v),v=fr(),p.pingedLanes|=p.suspendedLanes&D,ti===p&&(No&D)===D&&(co===4||co===3&&(130023424&No)===No&&500>ln()-Tl?o(p,0):fu|=D),Ir(p,v)}function Z(p,v){v===0&&(1&p.mode?(v=Tf,!(130023424&(Tf<<=1))&&(Tf=4194304)):v=1);var D=fr();(p=ds(p,v))!==null&&(Ru(p,v,D),Ir(p,D))}function K(p){var v=p.memoizedState,D=0;v!==null&&(D=v.retryLane),Z(p,D)}function tt(p,v){var D=0;switch(p.tag){case 13:var F=p.stateNode,j=p.memoizedState;j!==null&&(D=j.retryLane);break;case 19:F=p.stateNode;break;default:throw Error(e(314))}F!==null&&F.delete(v),Z(p,D)}function ut(p,v){return Gs(p,v)}function ot(p,v,D,F){this.tag=p,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(p,v,D,F){return new ot(p,v,D,F)}function yt(p){return!(!(p=p.prototype)||!p.isReactComponent)}function jt(p,v){var D=p.alternate;return D===null?((D=wt(p.tag,v,p.key,p.mode)).elementType=p.elementType,D.type=p.type,D.stateNode=p.stateNode,D.alternate=p,p.alternate=D):(D.pendingProps=v,D.type=p.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=14680064&p.flags,D.childLanes=p.childLanes,D.lanes=p.lanes,D.child=p.child,D.memoizedProps=p.memoizedProps,D.memoizedState=p.memoizedState,D.updateQueue=p.updateQueue,v=p.dependencies,D.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},D.sibling=p.sibling,D.index=p.index,D.ref=p.ref,D}function xt(p,v,D,F,j,$){var Y=2;if(F=p,typeof p=="function")yt(p)&&(Y=1);else if(typeof p=="string")Y=5;else t:switch(p){case z:return It(D.children,j,$,v);case q:Y=8,j|=8;break;case V:return(p=wt(12,D,v,2|j)).elementType=V,p.lanes=$,p;case ct:return(p=wt(13,D,v,j)).elementType=ct,p.lanes=$,p;case ft:return(p=wt(19,D,v,j)).elementType=ft,p.lanes=$,p;case kt:return ae(D,j,$,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case X:Y=10;break t;case nt:Y=9;break t;case it:Y=11;break t;case gt:Y=14;break t;case Ct:Y=16,F=null;break t}throw Error(e(130,p==null?p:typeof p,""))}return(v=wt(Y,D,v,j)).elementType=p,v.type=F,v.lanes=$,v}function It(p,v,D,F){return(p=wt(7,p,F,v)).lanes=D,p}function ae(p,v,D,F){return(p=wt(22,p,F,v)).elementType=kt,p.lanes=D,p.stateNode={isHidden:!1},p}function Ht(p,v,D){return(p=wt(6,p,null,v)).lanes=D,p}function ye(p,v,D){return(v=wt(4,p.children!==null?p.children:[],p.key,v)).lanes=D,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function oe(p,v,D,F,j){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=F,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function xe(p,v,D,F,j,$,Y,lt,ht){return p=new oe(p,v,D,lt,ht),v===1?(v=1,$===!0&&(v|=8)):v=0,$=wt(3,null,null,v),p.current=$,$.stateNode=p,$.memoizedState={element:F,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},of($),p}function Ve(p){if(!p)return zs;t:{if(cs(p=p._reactInternals)!==p||p.tag!==1)throw Error(e(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break t;case 1:if(Zi(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break t}}v=v.return}while(v!==null);throw Error(e(171))}if(p.tag===1){var D=p.type;if(Zi(D))return fs(p,D,v)}return v}function an(p,v,D,F,j,$,Y,lt,ht){return(p=xe(D,F,!0,p,0,$,0,lt,ht)).context=Ve(null),D=p.current,($=gr(F=fr(),j=ta(D))).callback=v??null,$s(D,$,j),p.current.lanes=j,Ru(p,j,F),Ir(p,F),p}function On(p,v,D,F){var j=v.current,$=fr(),Y=ta(j);return D=Ve(D),v.context===null?v.context=D:v.pendingContext=D,(v=gr($,Y)).payload={element:p},(F=F===void 0?null:F)!==null&&(v.callback=F),(p=$s(j,v,Y))!==null&&(qr(p,j,Y,$),Ga(p,j,Y)),Y}function Dn(p){return(p=p.current).child?(p.child.tag,p.child.stateNode):null}function nr(p,v){if((p=p.memoizedState)!==null&&p.dehydrated!==null){var D=p.retryLane;p.retryLane=D!==0&&D<v?D:v}}function Cr(p,v){nr(p,v),(p=p.alternate)&&nr(p,v)}ph=function(p,v,D){if(p!==null)if(p.memoizedProps!==v.pendingProps||Si.current)ia=!0;else{if(!(p.lanes&D||128&v.flags))return ia=!1,function(Gt,qt,Qt){switch(qt.tag){case 3:gc(qt),ps();break;case 5:er(qt);break;case 1:Zi(qt.type)&&Us(qt);break;case 4:Yt(qt,qt.stateNode.containerInfo);break;case 10:var de=qt.type._context,le=qt.memoizedProps.value;ar(Eu,de._currentValue),de._currentValue=le;break;case 13:if((de=qt.memoizedState)!==null)return de.dehydrated!==null?(ar(mr,1&mr.current),qt.flags|=128,null):Qt&qt.child.childLanes?lu(Gt,qt,Qt):(ar(mr,1&mr.current),(Gt=lr(Gt,qt,Qt))!==null?Gt.sibling:null);ar(mr,1&mr.current);break;case 19:if(de=!!(Qt&qt.childLanes),128&Gt.flags){if(de)return Le(Gt,qt,Qt);qt.flags|=128}if((le=qt.memoizedState)!==null&&(le.rendering=null,le.tail=null,le.lastEffect=null),ar(mr,mr.current),de)break;return null;case 22:case 23:return qt.lanes=0,Fl(Gt,qt,Qt)}return lr(Gt,qt,Qt)}(p,v,D);ia=!!(131072&p.flags)}else ia=!1,wr&&1048576&v.flags&&na(v,Fn,v.index);switch(v.lanes=0,v.tag){case 2:var F=v.type;Qn(p,v),p=v.pendingProps;var j=Qs(v,Wi.current);eo(v,D),j=ao(null,v,F,p,j,D);var $=kl();return v.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Zi(F)?($=!0,Us(v)):$=!1,v.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,of(v),j.updater=af,v.stateNode=j,j._reactInternals=v,Rf(v,F,p,D),v=Lf(null,v,F,!0,$,D)):(v.tag=0,wr&&$&&Va(v),ka(null,v,j,D),v=v.child),v;case 16:F=v.elementType;t:{switch(Qn(p,v),p=v.pendingProps,F=(j=F._init)(F._payload),v.type=F,j=v.tag=function(Gt){if(typeof Gt=="function")return yt(Gt)?1:0;if(Gt!=null){if((Gt=Gt.$$typeof)===it)return 11;if(Gt===gt)return 14}return 2}(F),p=ms(F,p),j){case 0:v=ll(null,v,F,p,D);break t;case 1:v=Mr(null,v,F,p,D);break t;case 11:v=Ju(null,v,F,p,D);break t;case 14:v=ks(null,v,F,ms(F.type,p),D);break t}throw Error(e(306,F,""))}return v;case 0:return F=v.type,j=v.pendingProps,ll(p,v,F,j=v.elementType===F?j:ms(F,j),D);case 1:return F=v.type,j=v.pendingProps,Mr(p,v,F,j=v.elementType===F?j:ms(F,j),D);case 3:t:{if(gc(v),p===null)throw Error(e(387));F=v.pendingProps,j=($=v.memoizedState).element,Ul(p,v),El(v,F,null,D);var Y=v.memoizedState;if(F=Y.element,$.isDehydrated){if($={element:F,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},v.updateQueue.baseState=$,v.memoizedState=$,256&v.flags){v=Eo(p,v,F,D,j=tc(Error(e(423)),v));break t}if(F!==j){v=Eo(p,v,F,D,j=tc(Error(e(424)),v));break t}for(Yo=Sa(v.stateNode.containerInfo.firstChild),Ri=v,wr=!0,di=null,D=Zs(v,null,F,D),v.child=D;D;)D.flags=-3&D.flags|4096,D=D.sibling}else{if(ps(),F===j){v=lr(p,v,D);break t}ka(p,v,F,D)}v=v.child}return v;case 5:return er(v),p===null&&Jl(v),F=v.type,j=v.pendingProps,$=p!==null?p.memoizedProps:null,Y=j.children,fc(F,j)?Y=null:$!==null&&fc(F,$)&&(v.flags|=32),lf(p,v),ka(p,v,Y,D),v.child;case 6:return p===null&&Jl(v),null;case 13:return lu(p,v,D);case 4:return Yt(v,v.stateNode.containerInfo),F=v.pendingProps,p===null?v.child=Aa(v,null,F,D):ka(p,v,F,D),v.child;case 11:return F=v.type,j=v.pendingProps,Ju(p,v,F,j=v.elementType===F?j:ms(F,j),D);case 7:return ka(p,v,v.pendingProps,D),v.child;case 8:case 12:return ka(p,v,v.pendingProps.children,D),v.child;case 10:t:{if(F=v.type._context,j=v.pendingProps,$=v.memoizedProps,Y=j.value,ar(Eu,F._currentValue),F._currentValue=Y,$!==null)if(on($.value,Y)){if($.children===j.children&&!Si.current){v=lr(p,v,D);break t}}else for(($=v.child)!==null&&($.return=v);$!==null;){var lt=$.dependencies;if(lt!==null){Y=$.child;for(var ht=lt.firstContext;ht!==null;){if(ht.context===F){if($.tag===1){(ht=gr(-1,D&-D)).tag=2;var Mt=$.updateQueue;if(Mt!==null){var $t=(Mt=Mt.shared).pending;$t===null?ht.next=ht:(ht.next=$t.next,$t.next=ht),Mt.pending=ht}}$.lanes|=D,(ht=$.alternate)!==null&&(ht.lanes|=D),oo($.return,D,v),lt.lanes|=D;break}ht=ht.next}}else if($.tag===10)Y=$.type===v.type?null:$.child;else if($.tag===18){if((Y=$.return)===null)throw Error(e(341));Y.lanes|=D,(lt=Y.alternate)!==null&&(lt.lanes|=D),oo(Y,D,v),Y=$.sibling}else Y=$.child;if(Y!==null)Y.return=$;else for(Y=$;Y!==null;){if(Y===v){Y=null;break}if(($=Y.sibling)!==null){$.return=Y.return,Y=$;break}Y=Y.return}$=Y}ka(p,v,j.children,D),v=v.child}return v;case 9:return j=v.type,F=v.pendingProps.children,eo(v,D),F=F(j=Oo(j)),v.flags|=1,ka(p,v,F,D),v.child;case 14:return j=ms(F=v.type,v.pendingProps),ks(p,v,F,j=ms(F.type,j),D);case 15:return nh(p,v,v.type,v.pendingProps,D);case 17:return F=v.type,j=v.pendingProps,j=v.elementType===F?j:ms(F,j),Qn(p,v),v.tag=1,Zi(F)?(p=!0,Us(v)):p=!1,eo(v,D),sf(v,F,j),Rf(v,F,j,D),Lf(null,v,F,!0,p,D);case 19:return Le(p,v,D);case 22:return Fl(p,v,D)}throw Error(e(156,v.tag))};var Ao=typeof reportError=="function"?reportError:function(p){console.error(p)};function ro(p){this._internalRoot=p}function vo(p){this._internalRoot=p}function Kr(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function ss(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Lr(){}function Za(p,v,D,F,j){var $=D._reactRootContainer;if($){var Y=$;if(typeof j=="function"){var lt=j;j=function(){var ht=Dn(Y);lt.call(ht)}}On(v,Y,p,j)}else Y=function(ht,Mt,$t,Gt,qt){if(qt){if(typeof Gt=="function"){var Qt=Gt;Gt=function(){var Dt=Dn(de);Qt.call(Dt)}}var de=an(Mt,Gt,ht,0,null,!1,0,"",Lr);return ht._reactRootContainer=de,ht[Ho]=de.current,da(ht.nodeType===8?ht.parentNode:ht),oc(),de}for(;qt=ht.lastChild;)ht.removeChild(qt);if(typeof Gt=="function"){var le=Gt;Gt=function(){var Dt=Dn(Wt);le.call(Dt)}}var Wt=xe(ht,0,!1,null,0,!1,0,"",Lr);return ht._reactRootContainer=Wt,ht[Ho]=Wt.current,da(ht.nodeType===8?ht.parentNode:ht),oc(function(){On(Mt,Wt,$t,Gt)}),Wt}(D,v,p,j,F);return Dn(Y)}vo.prototype.render=ro.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(e(409));On(p,v,null,null)},vo.prototype.unmount=ro.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;oc(function(){On(null,p,null,null)}),v[Ho]=null}},vo.prototype.unstable_scheduleHydration=function(p){if(p){var v=uh();p={blockedOn:null,target:p,priority:v};for(var D=0;D<Jr.length&&v!==0&&v<Jr[D].priority;D++);Jr.splice(D,0,p),D===0&&ql(p)}},Zc=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var D=ze(v.pendingLanes);D!==0&&(Ji(v,1|D),Ir(v,ln()),!(6&Tn)&&(hu=ln()+500,hs()))}break;case 13:oc(function(){var F=ds(p,1);if(F!==null){var j=fr();qr(F,p,1,j)}}),Cr(p,1)}},wc=function(p){if(p.tag===13){var v=ds(p,134217728);v!==null&&qr(v,p,134217728,fr()),Cr(p,134217728)}},Mn=function(p){if(p.tag===13){var v=ta(p),D=ds(p,v);D!==null&&qr(D,p,v,fr()),Cr(p,v)}},uh=function(){return qn},Bn=function(p,v){var D=qn;try{return qn=p,v()}finally{qn=D}},vu=function(p,v,D){switch(v){case"input":if(Vt(p,D),v=D.name,D.type==="radio"&&v!=null){for(D=p;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<D.length;v++){var F=D[v];if(F!==p&&F.form===p.form){var j=jo(F);if(!j)throw Error(e(90));He(F),Vt(F,j)}}}break;case"textarea":Xt(p,D);break;case"select":(v=D.value)!=null&&Ot(p,!!D.multiple,v,!1)}},Ol=zf,gl=oc;var Vp={usingClientEntryPoint:!1,Events:[Js,_o,jo,dl,Ns,zf]},Nh={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return(p=vl(p))===null?null:p.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{De=Hh.inject(fm),be=Hh}catch{}}return _d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp,_d.createPortal=function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kr(v))throw Error(e(200));return function(F,j,$){var Y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:Y==null?null:""+Y,children:F,containerInfo:j,implementation:$}}(p,v,null,D)},_d.createRoot=function(p,v){if(!Kr(p))throw Error(e(299));var D=!1,F="",j=Ao;return v!=null&&(v.unstable_strictMode===!0&&(D=!0),v.identifierPrefix!==void 0&&(F=v.identifierPrefix),v.onRecoverableError!==void 0&&(j=v.onRecoverableError)),v=xe(p,1,!1,null,0,D,0,F,j),p[Ho]=v.current,da(p.nodeType===8?p.parentNode:p),new ro(v)},_d.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(e(188)):(p=Object.keys(p).join(","),Error(e(268,p)));return(p=vl(v))===null?null:p.stateNode},_d.flushSync=function(p){return oc(p)},_d.hydrate=function(p,v,D){if(!ss(v))throw Error(e(200));return Za(null,p,v,!0,D)},_d.hydrateRoot=function(p,v,D){if(!Kr(p))throw Error(e(405));var F=D!=null&&D.hydratedSources||null,j=!1,$="",Y=Ao;if(D!=null&&(D.unstable_strictMode===!0&&(j=!0),D.identifierPrefix!==void 0&&($=D.identifierPrefix),D.onRecoverableError!==void 0&&(Y=D.onRecoverableError)),v=an(v,null,p,1,D??null,j,0,$,Y),p[Ho]=v.current,da(p),F)for(p=0;p<F.length;p++)j=(j=(D=F[p])._getVersion)(D._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[D,j]:v.mutableSourceEagerHydrationData.push(D,j);return new vo(v)},_d.render=function(p,v,D){if(!ss(v))throw Error(e(200));return Za(null,p,v,!1,D)},_d.unmountComponentAtNode=function(p){if(!ss(p))throw Error(e(40));return!!p._reactRootContainer&&(oc(function(){Za(null,null,p,!1,function(){p._reactRootContainer=null,p[Ho]=null})}),!0)},_d.unstable_batchedUpdates=zf,_d.unstable_renderSubtreeIntoContainer=function(p,v,D,F){if(!ss(D))throw Error(e(200));if(p==null||p._reactInternals===void 0)throw Error(e(38));return Za(p,v,D,!1,F)},_d.version="18.3.1-next-f1338f8080-20240426",_d}var p8,oO=(p8||(p8=1,function n(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}(),c8.exports=BQ()),c8.exports),RQ=function(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}(oO);function hd(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var d8=typeof Symbol=="function"&&Symbol.observable||"@@observable",_A=()=>Math.random().toString(36).substring(7).split("").join("."),g8={INIT:`@@redux/INIT${_A()}`,REPLACE:`@@redux/REPLACE${_A()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${_A()}`};function WL(n,t,e){if(typeof n!="function")throw new Error(hd(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(hd(0));if(typeof t=="function"&&e===void 0&&(e=t,t=void 0),e!==void 0){if(typeof e!="function")throw new Error(hd(1));return e(WL)(n,t)}let r=n,i=t,a=new Map,s=a,c=0,f=!1;function d(){s===a&&(s=new Map,a.forEach((w,C)=>{s.set(C,w)}))}function h(){if(f)throw new Error(hd(3));return i}function m(w){if(typeof w!="function")throw new Error(hd(4));if(f)throw new Error(hd(5));let C=!0;d();const k=c++;return s.set(k,w),function(){if(C){if(f)throw new Error(hd(6));C=!1,d(),s.delete(k),a=null}}}function y(w){if(!function(C){if(typeof C!="object"||C===null)return!1;let k=C;for(;Object.getPrototypeOf(k)!==null;)k=Object.getPrototypeOf(k);return Object.getPrototypeOf(C)===k||Object.getPrototypeOf(C)===null}(w))throw new Error(hd(7));if(w.type===void 0)throw new Error(hd(8));if(typeof w.type!="string")throw new Error(hd(17));if(f)throw new Error(hd(9));try{f=!0,i=r(i,w)}finally{f=!1}return(a=s).forEach(C=>{C()}),w}return y({type:g8.INIT}),{dispatch:y,subscribe:m,getState:h,replaceReducer:function(w){if(typeof w!="function")throw new Error(hd(10));r=w,y({type:g8.REPLACE})},[d8]:function(){const w=m;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(hd(11));function k(){const M=C;M.next&&M.next(h())}return k(),{unsubscribe:w(k)}},[d8](){return this}}}}}function m8(n,t){return function(...e){return t(n.apply(this,e))}}function v8(n,t){if(typeof n=="function")return m8(n,t);if(typeof n!="object"||n===null)throw new Error(hd(16));const e={};for(const r in n){const i=n[r];typeof i=="function"&&(e[r]=m8(i,t))}return e}function HL(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...r)=>t(e(...r)))}var y8,w8,SA={};w8||(w8=1,function(){if(y8)return SA;y8=1;var n=Vi,t=typeof Object.is=="function"?Object.is:function(c,f){return c===f&&(c!==0||1/c==1/f)||c!=c&&f!=f},e=n.useSyncExternalStore,r=n.useRef,i=n.useEffect,a=n.useMemo,s=n.useDebugValue;return SA.useSyncExternalStoreWithSelector=function(c,f,d,h,m){var y=r(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=a(function(){function k(z){if(!B){if(B=!0,M=z,z=h(z),m!==void 0&&w.hasValue){var q=w.value;if(m(q,z))return N=q}return N=z}if(q=N,t(M,z))return q;var V=h(z);return m!==void 0&&m(q,V)?q:(M=z,N=V)}var M,N,B=!1,L=d===void 0?null:d;return[function(){return k(f())},L===null?void 0:function(){return k(L())}]},[f,d,h,m]);var C=e(c,y[0],y[1]);return i(function(){w.hasValue=!0,w.value=C},[C]),s(C),C},SA}());var Lc="default"in _S?Vi:_S,b8=Symbol.for("react-redux-context"),x8=typeof globalThis<"u"?globalThis:{},VL=function(){if(!Lc.createContext)return{};const n=x8[b8]??(x8[b8]=new Map);let t=n.get(Lc.createContext);return t||(t=Lc.createContext(null),n.set(Lc.createContext,t)),t}(),jQ=Symbol.for("react.element"),LQ=Symbol.for("react.portal"),zQ=Symbol.for("react.fragment"),UQ=Symbol.for("react.strict_mode"),$Q=Symbol.for("react.profiler"),WQ=Symbol.for("react.provider"),HQ=Symbol.for("react.context"),VQ=Symbol.for("react.server_context"),qL=Symbol.for("react.forward_ref"),qQ=Symbol.for("react.suspense"),KQ=Symbol.for("react.suspense_list"),aO=Symbol.for("react.memo"),GQ=Symbol.for("react.lazy"),YQ=qL,XQ=aO;function JQ(n){if(typeof n=="object"&&n!==null){const t=n.$$typeof;switch(t){case jQ:{const e=n.type;switch(e){case zQ:case $Q:case UQ:case qQ:case KQ:return e;default:{const r=e&&e.$$typeof;switch(r){case VQ:case HQ:case qL:case GQ:case aO:case WQ:return r;default:return t}}}}case LQ:return t}}}function EA(n){return function(t){const e=n(t);function r(){return e}return r.dependsOnOwnProps=!1,r}}function D8(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function C8(n,t){return function(e,{displayName:r}){const i=function(a,s){return i.dependsOnOwnProps?i.mapToProps(a,s):i.mapToProps(a,void 0)};return i.dependsOnOwnProps=!0,i.mapToProps=function(a,s){i.mapToProps=n,i.dependsOnOwnProps=D8(n);let c=i(a,s);return typeof c=="function"&&(i.mapToProps=c,i.dependsOnOwnProps=D8(c),c=i(a,s)),c},i}}function AA(n,t){return(e,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function QQ(n,t,e){return{...e,...n,...t}}var _8={notify(){},get:()=>[]};function KL(n,t){let e,r=_8,i=0,a=!1;function s(){d.onStateChange&&d.onStateChange()}function c(){i++,e||(e=t?t.addNestedSub(s):n.subscribe(s),r=function(){let h=null,m=null;return{clear(){h=null,m=null},notify(){(function(y){y()})(()=>{let y=h;for(;y;)y.callback(),y=y.next})},get(){const y=[];let w=h;for(;w;)y.push(w),w=w.next;return y},subscribe(y){let w=!0;const C=m={callback:y,next:null,prev:m};return C.prev?C.prev.next=C:h=C,function(){w&&h!==null&&(w=!1,C.next?C.next.prev=C.prev:m=C.prev,C.prev?C.prev.next=C.next:h=C.next)}}}}())}function f(){i--,e&&i===0&&(e(),e=void 0,r.clear(),r=_8)}const d={addNestedSub:function(h){c();const m=r.subscribe(h);let y=!1;return()=>{y||(y=!0,m(),f())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,c())},tryUnsubscribe:function(){a&&(a=!1,f())},getListeners:()=>r};return d}var ZQ=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),tZ=typeof navigator<"u"&&navigator.product==="ReactNative",L_=ZQ||tZ?Lc.useLayoutEffect:Lc.useEffect;function S8(n,t){return n===t?n!==0||t!==0||1/n==1/t:n!=n&&t!=t}function kA(n,t){if(S8(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(t,e[i])||!S8(n[e[i]],t[e[i]]))return!1;return!0}var eZ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nZ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},GL={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rZ={[YQ]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[XQ]:GL};function E8(n){return function(t){return JQ(t)===aO}(n)?GL:rZ[n.$$typeof]||eZ}var iZ=Object.defineProperty,oZ=Object.getOwnPropertyNames,A8=Object.getOwnPropertySymbols,aZ=Object.getOwnPropertyDescriptor,sZ=Object.getPrototypeOf,k8=Object.prototype;function UM(n,t){if(typeof t!="string"){if(k8){const a=sZ(t);a&&a!==k8&&UM(n,a)}let e=oZ(t);A8&&(e=e.concat(A8(t)));const r=E8(n),i=E8(t);for(let a=0;a<e.length;++a){const s=e[a];if(!(nZ[s]||i&&i[s]||r&&r[s])){const c=aZ(t,s);try{iZ(n,s,c)}catch{}}}}return n}var YL=()=>{throw new Error("uSES not initialized!")},uZ=[null,null];function lZ(n,t,e,r,i,a){n.current=r,e.current=!1,i.current&&(i.current=null,a())}function cZ(n,t){return n===t}var XL=function(n,t,e,{pure:r,areStatesEqual:i=cZ,areOwnPropsEqual:a=kA,areStatePropsEqual:s=kA,areMergedPropsEqual:c=kA,forwardRef:f=!1,context:d=VL}={}){const h=d,m=function(k){return k?typeof k=="function"?C8(k):AA(k,"mapStateToProps"):EA(()=>({}))}(n),y=function(k){return k&&typeof k=="object"?EA(M=>function(N,B){const L={};for(const z in N){const q=N[z];typeof q=="function"&&(L[z]=(...V)=>B(q(...V)))}return L}(k,M)):k?typeof k=="function"?C8(k):AA(k,"mapDispatchToProps"):EA(M=>({dispatch:M}))}(t),w=function(k){return k?typeof k=="function"?function(M){return function(N,{displayName:B,areMergedPropsEqual:L}){let z,q=!1;return function(V,X,nt){const it=M(V,X,nt);return q?L(it,z)||(z=it):(q=!0,z=it),z}}}(k):AA(k,"mergeProps"):()=>QQ}(e),C=!!n;return k=>{const M=k.displayName||k.name||"Component",N=`Connect(${M})`,B={shouldHandleStateChanges:C,displayName:N,wrappedComponentName:M,WrappedComponent:k,initMapStateToProps:m,initMapDispatchToProps:y,initMergeProps:w,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:a,areMergedPropsEqual:c};function L(q){const[V,X,nt]=Lc.useMemo(()=>{const{reactReduxForwardedRef:wn,...nn}=q;return[q.context,wn,nn]},[q]),it=Lc.useMemo(()=>{let wn=h;return V!=null&&V.Consumer,wn},[V,h]),ct=Lc.useContext(it),ft=!!q.store&&!!q.store.getState&&!!q.store.dispatch,gt=!!ct&&!!ct.store,Ct=ft?q.store:ct.store,kt=gt?ct.getServerState:Ct.getState,Tt=Lc.useMemo(()=>function(wn,{initMapStateToProps:nn,initMapDispatchToProps:cr,initMergeProps:bi,...Vt}){const rt=nn(wn,Vt),dt=cr(wn,Vt),bt=bi(wn,Vt);return function(Ot,Bt,Rt,Xt,{areStatesEqual:Kt,areOwnPropsEqual:ge,areStatePropsEqual:Ee}){let Ze,Xe,Se,je,rn,zi=!1;function Yi(Ui,xo){const Ai=!ge(xo,Xe),us=!Kt(Ui,Ze,xo,Xe);return Ze=Ui,Xe=xo,Ai&&us?(Se=Ot(Ze,Xe),Bt.dependsOnOwnProps&&(je=Bt(Xt,Xe)),rn=Rt(Se,je,Xe),rn):Ai?(Ot.dependsOnOwnProps&&(Se=Ot(Ze,Xe)),Bt.dependsOnOwnProps&&(je=Bt(Xt,Xe)),rn=Rt(Se,je,Xe),rn):us?function(){const ko=Ot(Ze,Xe),vu=!Ee(ko,Se);return Se=ko,vu&&(rn=Rt(Se,je,Xe)),rn}():rn}return function(Ui,xo){return zi?Yi(Ui,xo):function(Ai,us){return Ze=Ai,Xe=us,Se=Ot(Ze,Xe),je=Bt(Xt,Xe),rn=Rt(Se,je,Xe),zi=!0,rn}(Ui,xo)}}(rt,dt,bt,wn,Vt)}(Ct.dispatch,B),[Ct]),[At,Zt]=Lc.useMemo(()=>{if(!C)return uZ;const wn=KL(Ct,ft?void 0:ct.subscription),nn=wn.notifyNestedSubs.bind(wn);return[wn,nn]},[Ct,ft,ct]),_t=Lc.useMemo(()=>ft?ct:{...ct,subscription:At},[ft,ct,At]),Et=Lc.useRef(void 0),mt=Lc.useRef(nt),vt=Lc.useRef(void 0),Lt=Lc.useRef(!1),ee=Lc.useRef(!1),pe=Lc.useRef(void 0);L_(()=>(ee.current=!0,()=>{ee.current=!1}),[]);const ve=Lc.useMemo(()=>()=>vt.current&&nt===mt.current?vt.current:Tt(Ct.getState(),nt),[Ct,nt]),Oe=Lc.useMemo(()=>wn=>At?function(nn,cr,bi,Vt,rt,dt,bt,Ot,Bt,Rt,Xt){if(!nn)return()=>{};let Kt=!1,ge=null;const Ee=()=>{if(Kt||!Ot.current)return;const Ze=cr.getState();let Xe,Se;try{Xe=Vt(Ze,rt.current)}catch(je){Se=je,ge=je}Se||(ge=null),Xe===dt.current?bt.current||Rt():(dt.current=Xe,Bt.current=Xe,bt.current=!0,Xt())};return bi.onStateChange=Ee,bi.trySubscribe(),Ee(),()=>{if(Kt=!0,bi.tryUnsubscribe(),bi.onStateChange=null,ge)throw ge}}(C,Ct,At,Tt,mt,Et,Lt,ee,vt,Zt,wn):()=>{},[At]);let qe;(function(wn,nn,cr){L_(()=>wn(...nn),cr)})(lZ,[mt,Et,Lt,nt,vt,Zt]);try{qe=YL(Oe,ve,kt?()=>Tt(kt(),nt):ve)}catch(wn){throw pe.current&&(wn.message+=`
The error may be correlated with this previous error:
${pe.current.stack}

`),wn}L_(()=>{pe.current=void 0,vt.current=void 0,Et.current=qe});const He=Lc.useMemo(()=>Lc.createElement(k,{...qe,ref:X}),[X,k,qe]);return Lc.useMemo(()=>C?Lc.createElement(it.Provider,{value:_t},He):He,[it,He,_t])}const z=Lc.memo(L);if(z.WrappedComponent=k,z.displayName=L.displayName=N,f){const q=Lc.forwardRef(function(V,X){return Lc.createElement(z,{...V,reactReduxForwardedRef:X})});return q.displayName=N,q.WrappedComponent=k,UM(q,k)}return UM(z,k)}},fZ=function({store:n,context:t,children:e,serverState:r,stabilityCheck:i="once",identityFunctionCheck:a="once"}){const s=Lc.useMemo(()=>{const d=KL(n);return{store:n,subscription:d,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:a}},[n,r,i,a]),c=Lc.useMemo(()=>n.getState(),[n]);L_(()=>{const{subscription:d}=s;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),c!==n.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[s,c]);const f=t||VL;return Lc.createElement(f.Provider,{value:s},e)};function JL(n,t){var e=re.useState(function(){return{inputs:t,result:n()}})[0],r=re.useRef(!0),i=re.useRef(e),a=r.current||!!(t&&i.current.inputs&&function(c,f){if(c.length!==f.length)return!1;for(var d=0;d<c.length;d++)if(c[d]!==f[d])return!1;return!0}(t,i.current.inputs)),s=a?i.current:{inputs:t,result:n()};return re.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}(n=>{YL=n})(re.useSyncExternalStore);var ac=JL,fo=function(n,t){return JL(function(){return n},t)},hZ="Invariant failed";function pZ(n,t){throw new Error(hZ)}var Qg=function(n){var t=n.top,e=n.right,r=n.bottom,i=n.left;return{top:t,right:e,bottom:r,left:i,width:e-i,height:r-t,x:i,y:t,center:{x:(e+i)/2,y:(r+t)/2}}},sO=function(n,t){return{top:n.top-t.top,left:n.left-t.left,bottom:n.bottom+t.bottom,right:n.right+t.right}},M8=function(n,t){return{top:n.top+t.top,left:n.left+t.left,bottom:n.bottom-t.bottom,right:n.right-t.right}},MA={top:0,right:0,bottom:0,left:0},uO=function(n){var t=n.borderBox,e=n.margin,r=e===void 0?MA:e,i=n.border,a=i===void 0?MA:i,s=n.padding,c=s===void 0?MA:s,f=Qg(sO(t,r)),d=Qg(M8(t,a)),h=Qg(M8(d,c));return{marginBox:f,borderBox:Qg(t),paddingBox:d,contentBox:h,margin:r,border:a,padding:c}},fg=function(n){var t=n.slice(0,-2);if(n.slice(-2)!=="px")return 0;var e=Number(t);return isNaN(e)&&pZ(),e},jS=function(n,t){var e=n.borderBox,r=n.border,i=n.margin,a=n.padding,s=function(c,f){return{top:c.top+f.y,left:c.left+f.x,bottom:c.bottom+f.y,right:c.right+f.x}}(e,t);return uO({borderBox:s,border:r,margin:i,padding:a})},LS=function(n,t){return t===void 0&&(t={x:window.pageXOffset,y:window.pageYOffset}),jS(n,t)},QL=function(n,t){var e={top:fg(t.marginTop),right:fg(t.marginRight),bottom:fg(t.marginBottom),left:fg(t.marginLeft)},r={top:fg(t.paddingTop),right:fg(t.paddingRight),bottom:fg(t.paddingBottom),left:fg(t.paddingLeft)},i={top:fg(t.borderTopWidth),right:fg(t.borderRightWidth),bottom:fg(t.borderBottomWidth),left:fg(t.borderLeftWidth)};return uO({borderBox:n,margin:e,padding:r,border:i})},F8=function(n){var t=n.getBoundingClientRect(),e=window.getComputedStyle(n);return QL(t,e)},P8=Number.isNaN||function(n){return typeof n=="number"&&n!=n};function dZ(n,t){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(!((r=n[e])===(i=t[e])||P8(r)&&P8(i)))return!1;var r,i;return!0}function xp(n,t){t===void 0&&(t=dZ);var e=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(e&&e.lastThis===this&&t(i,e.lastArgs))return e.lastResult;var s=n.apply(this,i);return e={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){e=null},r}var Ox=function(n){var t=[],e=null,r=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t=a,e||(e=requestAnimationFrame(function(){e=null,n.apply(void 0,t)}))};return r.cancel=function(){e&&(cancelAnimationFrame(e),e=null)},r};function zS(){return zS=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},zS.apply(null,arguments)}function ZL(n,t){}ZL.bind(null,"warn");ZL.bind(null,"error");function e0(){}function vg(n,t,e){const r=t.map(i=>{const a=function(s,c){return{...s,...c}}(e,i.options);return n.addEventListener(i.eventName,i.fn,a),function(){n.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(i=>{i()})}}const gZ="Invariant failed";let US=class extends Error{};function ir(n,t){throw new US(gZ)}US.prototype.toString=function(){return this.message};class mZ extends Vi.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=e0,this.onWindowError=e=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof US&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=vg(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof US)return void this.setState({});throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const $S=n=>n+1,tz=(n,t)=>{const e=n.droppableId===t.droppableId,r=$S(n.index),i=$S(t.index);return e?`
      You have moved the item from position ${r}
      to position ${i}
    `:`
    You have moved the item from position ${r}
    in list ${n.droppableId}
    to list ${t.droppableId}
    in position ${i}
  `},ez=(n,t,e)=>t.droppableId===e.droppableId?`
      The item ${n}
      has been combined with ${e.draggableId}`:`
      The item ${n}
      in list ${t.droppableId}
      has been combined with ${e.draggableId}
      in list ${e.droppableId}
    `,T8=n=>`
  The item has returned to its starting position
  of ${$S(n.index)}
`,vZ=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,yZ=n=>`
  You have lifted an item in position ${$S(n.source.index)}
`,wZ=n=>{const t=n.destination;if(t)return tz(n.source,t);const e=n.combine;return e?ez(n.draggableId,n.source,e):"You are over an area that cannot be dropped on"},bZ=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${T8(n.source)}
    `;const t=n.destination,e=n.combine;return t?`
      You have dropped the item.
      ${tz(n.source,t)}
    `:e?`
      You have dropped the item.
      ${ez(n.draggableId,n.source,e)}
    `:`
    The item has been dropped while not over a drop area.
    ${T8(n.source)}
  `},_p={x:0,y:0},jp=(n,t)=>({x:n.x+t.x,y:n.y+t.y}),tg=(n,t)=>({x:n.x-t.x,y:n.y-t.y}),n0=(n,t)=>n.x===t.x&&n.y===t.y,$w=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),hy=(n,t,e=0)=>n==="x"?{x:t,y:e}:{x:e,y:t},Nx=(n,t)=>Math.sqrt((t.x-n.x)**2+(t.y-n.y)**2),O8=(n,t)=>Math.min(...t.map(e=>Nx(n,e))),nz=n=>t=>({x:n(t.x),y:n(t.y)}),TD=(n,t)=>({top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}),N8=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],xZ=(n,t)=>t&&t.shouldClipSubject?((e,r)=>{const i=Qg({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return i.width<=0||i.height<=0?null:i})(t.pageMarginBox,n):Qg(n);var Ww=({page:n,withPlaceholder:t,axis:e,frame:r})=>{const i=((s,c)=>c?TD(s,c.scroll.diff.displacement):s)(n.marginBox,r),a=((s,c,f)=>f&&f.increasedBy?{...s,[c.end]:s[c.end]+f.increasedBy[c.line]}:s)(i,e,t);return{page:n,withPlaceholder:t,active:xZ(a,r)}},$M=(n,t)=>{n.frame||ir();const e=n.frame,r=tg(t,e.scroll.initial),i=$w(r),a={...e,scroll:{initial:e.scroll.initial,current:t,diff:{value:r,displacement:i},max:e.scroll.max}},s=Ww({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:a});return{...n,frame:a,subject:s}};const rz=xp(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),iz=xp(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),SE=xp(n=>Object.values(n)),DZ=xp(n=>Object.values(n));var cb=xp((n,t)=>DZ(t).filter(e=>n===e.descriptor.droppableId).sort((e,r)=>e.descriptor.index-r.descriptor.index));function lO(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function EE(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var WS=xp((n,t)=>t.filter(e=>e.descriptor.id!==n.descriptor.id)),fb=(n,t)=>n.descriptor.droppableId===t.descriptor.id;const oz={point:_p,value:0},Ix={invisible:{},visible:{},all:[]},CZ={displaced:Ix,displacedBy:oz,at:null};var Pg=(n,t)=>e=>n<=e&&e<=t,az=n=>{const t=Pg(n.top,n.bottom),e=Pg(n.left,n.right);return r=>{if(t(r.top)&&t(r.bottom)&&e(r.left)&&e(r.right))return!0;const i=t(r.top)||t(r.bottom),a=e(r.left)||e(r.right);if(i&&a)return!0;const s=r.top<n.top&&r.bottom>n.bottom,c=r.left<n.left&&r.right>n.right;return!(!s||!c)||s&&a||c&&i}},_Z=n=>{const t=Pg(n.top,n.bottom),e=Pg(n.left,n.right);return r=>t(r.top)&&t(r.bottom)&&e(r.left)&&e(r.right)};const cO={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},sz={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"},fO=({target:n,destination:t,viewport:e,withDroppableDisplacement:r,isVisibleThroughFrameFn:i})=>{const a=r?((s,c)=>{const f=c.frame?c.frame.scroll.diff.displacement:_p;return TD(s,f)})(n,t):n;return((s,c,f)=>!!c.subject.active&&f(c.subject.active)(s))(a,t,i)&&((s,c,f)=>f(c)(s))(a,e,i)},uz=n=>fO({...n,isVisibleThroughFrameFn:_Z});function Bx({afterDragging:n,destination:t,displacedBy:e,viewport:r,forceShouldAnimate:i,last:a}){return n.reduce(function(s,c){const f=function(w,C){const k=w.page.marginBox,M={top:C.point.y,right:0,bottom:0,left:C.point.x};return Qg(sO(k,M))}(c,e),d=c.descriptor.id;var h;if(s.all.push(d),h={target:f,destination:t,viewport:r,withDroppableDisplacement:!0},!fO({...h,isVisibleThroughFrameFn:az}))return s.invisible[c.descriptor.id]=!0,s;const m=((w,C,k)=>{if(typeof k=="boolean")return k;if(!C)return!0;const{invisible:M,visible:N}=C;if(M[w])return!1;const B=N[w];return!B||B.shouldAnimate})(d,a,i),y={draggableId:d,shouldAnimate:m};return s.visible[d]=y,s},{all:[],visible:{},invisible:{}})}function I8({insideDestination:n,inHomeList:t,displacedBy:e,destination:r}){const i=function(a,s){if(!a.length)return 0;const c=a[a.length-1].descriptor.index;return s.inHomeList?c:c+1}(n,{inHomeList:t});return{displaced:Ix,displacedBy:e,at:{type:"REORDER",destination:{droppableId:r.descriptor.id,index:i}}}}function HS({draggable:n,insideDestination:t,destination:e,viewport:r,displacedBy:i,last:a,index:s,forceShouldAnimate:c}){const f=fb(n,e);if(s==null)return I8({insideDestination:t,inHomeList:f,displacedBy:i,destination:e});const d=t.find(y=>y.descriptor.index===s);if(!d)return I8({insideDestination:t,inHomeList:f,displacedBy:i,destination:e});const h=WS(n,t),m=t.indexOf(d);return{displaced:Bx({afterDragging:h.slice(m),destination:e,displacedBy:i,last:a,viewport:r.frame,forceShouldAnimate:c}),displacedBy:i,at:{type:"REORDER",destination:{droppableId:e.descriptor.id,index:s}}}}function r0(n,t){return!!t.effected[n]}const lz=(n,t)=>t.margin[n.start]+t.borderBox[n.size]/2,hO=(n,t,e)=>t[n.crossAxisStart]+e.margin[n.crossAxisStart]+e.borderBox[n.crossAxisSize]/2,B8=({axis:n,moveRelativeTo:t,isMoving:e})=>hy(n.line,t.marginBox[n.end]+lz(n,e),hO(n,t.marginBox,e)),R8=({axis:n,moveRelativeTo:t,isMoving:e})=>hy(n.line,t.marginBox[n.start]-((r,i)=>i.margin[r.end]+i.borderBox[r.size]/2)(n,e),hO(n,t.marginBox,e));var WM=(n,t)=>{const e=n.frame;return e?jp(t,e.scroll.diff.displacement):t},VS=n=>{const t=(({impact:r,draggable:i,droppable:a,draggables:s,afterCritical:c})=>{const f=i.page.borderBox.center,d=r.at;return a&&d?d.type==="REORDER"?(({impact:h,draggable:m,draggables:y,droppable:w,afterCritical:C})=>{const k=cb(w.descriptor.id,y),M=m.page,N=w.axis;if(!k.length)return(({axis:V,moveInto:X,isMoving:nt})=>hy(V.line,X.contentBox[V.start]+lz(V,nt),hO(V,X.contentBox,nt)))({axis:N,moveInto:w.page,isMoving:M});const{displaced:B,displacedBy:L}=h,z=B.all[0];if(z){const V=y[z];if(r0(z,C))return R8({axis:N,moveRelativeTo:V.page,isMoving:M});const X=jS(V.page,L.point);return R8({axis:N,moveRelativeTo:X,isMoving:M})}const q=k[k.length-1];if(q.descriptor.id===m.descriptor.id)return M.borderBox.center;if(r0(q.descriptor.id,C)){const V=jS(q.page,$w(C.displacedBy.point));return B8({axis:N,moveRelativeTo:V,isMoving:M})}return B8({axis:N,moveRelativeTo:q.page,isMoving:M})})({impact:r,draggable:i,draggables:s,droppable:a,afterCritical:c}):(({afterCritical:h,impact:m,draggables:y})=>{const w=EE(m);w||ir();const C=w.draggableId,k=y[C].page.borderBox.center,M=(({displaced:N,afterCritical:B,combineWith:L,displacedBy:z})=>{const q=!!(N.visible[L]||N.invisible[L]);return r0(L,B)?q?_p:$w(z.point):q?z.point:_p})({displaced:m.displaced,afterCritical:h,combineWith:C,displacedBy:m.displacedBy});return jp(k,M)})({impact:r,draggables:s,afterCritical:c}):f})(n),e=n.droppable;return e?WM(e,t):t},cz=(n,t)=>{const e=tg(t,n.scroll.initial),r=$w(e);return{frame:Qg({top:t.y,bottom:t.y+n.frame.height,left:t.x,right:t.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:t,diff:{value:e,displacement:r}}}};function j8(n,t){return n.map(e=>t[e])}var pO=({pageBorderBoxCenter:n,draggable:t,viewport:e})=>{const r=((a,s)=>jp(a.scroll.diff.displacement,s))(e,n),i=tg(r,t.page.borderBox.center);return jp(t.client.borderBox.center,i)},fz=({draggable:n,destination:t,newPageBorderBoxCenter:e,viewport:r,withDroppableDisplacement:i,onlyOnMainAxis:a=!1})=>{const s=tg(e,n.page.borderBox.center),c={target:TD(n.page.borderBox,s),destination:t,withDroppableDisplacement:i,viewport:r};return a?(f=>{return fO({...f,isVisibleThroughFrameFn:(d=f.destination.axis,h=>{const m=Pg(h.top,h.bottom),y=Pg(h.left,h.right);return w=>d===cO?m(w.top)&&m(w.bottom):y(w.left)&&y(w.right)})});var d})(c):uz(c)},SZ=({isMovingForward:n,draggable:t,destination:e,draggables:r,previousImpact:i,viewport:a,previousPageBorderBoxCenter:s,previousClientSelection:c,afterCritical:f})=>{if(!e.isEnabled)return null;const d=cb(e.descriptor.id,r),h=fb(t,e),m=(({isMovingForward:k,draggable:M,destination:N,insideDestination:B,previousImpact:L})=>{if(!N.isCombineEnabled||!lO(L))return null;function z(ct){const ft={type:"COMBINE",combine:{draggableId:ct,droppableId:N.descriptor.id}};return{...L,at:ft}}const q=L.displaced.all,V=q.length?q[0]:null;if(k)return V?z(V):null;const X=WS(M,B);if(!V)return X.length?z(X[X.length-1].descriptor.id):null;const nt=X.findIndex(ct=>ct.descriptor.id===V);nt===-1&&ir();const it=nt-1;return it<0?null:z(X[it].descriptor.id)})({isMovingForward:n,draggable:t,destination:e,insideDestination:d,previousImpact:i})||(({isMovingForward:k,isInHomeList:M,draggable:N,draggables:B,destination:L,insideDestination:z,previousImpact:q,viewport:V,afterCritical:X})=>{const nt=q.at;if(nt||ir(),nt.type==="REORDER"){const ct=(({isMovingForward:ft,isInHomeList:gt,insideDestination:Ct,location:kt})=>{if(!Ct.length)return null;const Tt=kt.index,At=ft?Tt+1:Tt-1,Zt=Ct[0].descriptor.index,_t=Ct[Ct.length-1].descriptor.index;return At<Zt||At>(gt?_t:_t+1)?null:At})({isMovingForward:k,isInHomeList:M,location:nt.destination,insideDestination:z});return ct==null?null:HS({draggable:N,insideDestination:z,destination:L,viewport:V,last:q.displaced,displacedBy:q.displacedBy,index:ct})}const it=(({isMovingForward:ct,destination:ft,draggables:gt,combine:Ct,afterCritical:kt})=>{if(!ft.isCombineEnabled)return null;const Tt=Ct.draggableId,At=gt[Tt].descriptor.index;return r0(Tt,kt)?ct?At:At-1:ct?At+1:At})({isMovingForward:k,destination:L,displaced:q.displaced,draggables:B,combine:nt.combine,afterCritical:X});return it==null?null:HS({draggable:N,insideDestination:z,destination:L,viewport:V,last:q.displaced,displacedBy:q.displacedBy,index:it})})({isMovingForward:n,isInHomeList:h,draggable:t,draggables:r,destination:e,insideDestination:d,previousImpact:i,viewport:a,afterCritical:f});if(!m)return null;const y=VS({impact:m,draggable:t,droppable:e,draggables:r,afterCritical:f});if(fz({draggable:t,destination:e,newPageBorderBoxCenter:y,viewport:a.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:pO({pageBorderBoxCenter:y,draggable:t,viewport:a}),impact:m,scrollJumpRequest:null};const w=tg(y,s),C=(({impact:k,viewport:M,destination:N,draggables:B,maxScrollChange:L})=>{const z=cz(M,jp(M.scroll.current,L)),q=N.frame?$M(N,jp(N.frame.scroll.current,L)):N,V=k.displaced,X=Bx({afterDragging:j8(V.all,B),destination:N,displacedBy:k.displacedBy,viewport:z.frame,last:V,forceShouldAnimate:!1}),nt=Bx({afterDragging:j8(V.all,B),destination:q,displacedBy:k.displacedBy,viewport:M.frame,last:V,forceShouldAnimate:!1}),it={},ct={},ft=[V,X,nt];return V.all.forEach(gt=>{const Ct=function(kt,Tt){for(let At=0;At<Tt.length;At++){const Zt=Tt[At].visible[kt];if(Zt)return Zt}return null}(gt,ft);Ct?ct[gt]=Ct:it[gt]=!0}),{...k,displaced:{all:V.all,invisible:it,visible:ct}}})({impact:m,viewport:a,destination:e,draggables:r,maxScrollChange:w});return{clientSelection:c,impact:C,scrollJumpRequest:w}};const fd=n=>{const t=n.subject.active;return t||ir(),t},L8=(n,t)=>{const e=n.page.borderBox.center;return r0(n.descriptor.id,t)?tg(e,t.displacedBy.point):e},EZ=(n,t)=>{const e=n.page.borderBox;return r0(n.descriptor.id,t)?TD(e,$w(t.displacedBy.point)):e};var Rx=xp(function(n,t){const e=t[n.line];return{value:e,point:hy(n.line,e)}});const hz=(n,t)=>({...n,scroll:{...n.scroll,max:t}}),pz=(n,t,e)=>{const r=n.frame;fb(t,n)&&ir(),n.subject.withPlaceholder&&ir();const i=Rx(n.axis,t.displaceBy).point,a=((h,m,y)=>{const w=h.axis;if(h.descriptor.mode==="virtual")return hy(w.line,m[w.line]);const C=h.subject.page.contentBox[w.size],k=cb(h.descriptor.id,y).reduce((M,N)=>M+N.client.marginBox[w.size],0)+m[w.line]-C;return k<=0?null:hy(w.line,k)})(n,i,e),s={placeholderSize:i,increasedBy:a,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!r){const h=Ww({page:n.subject.page,withPlaceholder:s,axis:n.axis,frame:n.frame});return{...n,subject:h}}const c=a?jp(r.scroll.max,a):r.scroll.max,f=hz(r,c),d=Ww({page:n.subject.page,withPlaceholder:s,axis:n.axis,frame:f});return{...n,subject:d,frame:f}};var ig=n=>{const t=n.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null},AZ=({state:n,type:t})=>{const e=((w,C)=>{const k=ig(w);return k?C[k]:null})(n.impact,n.dimensions.droppables),r=!!e,i=n.dimensions.droppables[n.critical.droppable.id],a=e||i,s=a.axis.direction,c=s==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||s==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(c&&!r)return null;const f=t==="MOVE_DOWN"||t==="MOVE_RIGHT",d=n.dimensions.draggables[n.critical.draggable.id],h=n.current.page.borderBoxCenter,{draggables:m,droppables:y}=n.dimensions;return c?SZ({isMovingForward:f,previousPageBorderBoxCenter:h,draggable:d,destination:a,draggables:m,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):(({isMovingForward:w,previousPageBorderBoxCenter:C,draggable:k,isOver:M,draggables:N,droppables:B,viewport:L,afterCritical:z})=>{const q=(({isMovingForward:ct,pageBorderBoxCenter:ft,source:gt,droppables:Ct,viewport:kt})=>{const Tt=gt.subject.active;if(!Tt)return null;const At=gt.axis,Zt=Pg(Tt[At.start],Tt[At.end]),_t=SE(Ct).filter(mt=>mt!==gt).filter(mt=>mt.isEnabled).filter(mt=>!!mt.subject.active).filter(mt=>az(kt.frame)(fd(mt))).filter(mt=>{const vt=fd(mt);return ct?Tt[At.crossAxisEnd]<vt[At.crossAxisEnd]:vt[At.crossAxisStart]<Tt[At.crossAxisStart]}).filter(mt=>{const vt=fd(mt),Lt=Pg(vt[At.start],vt[At.end]);return Zt(vt[At.start])||Zt(vt[At.end])||Lt(Tt[At.start])||Lt(Tt[At.end])}).sort((mt,vt)=>{const Lt=fd(mt)[At.crossAxisStart],ee=fd(vt)[At.crossAxisStart];return ct?Lt-ee:ee-Lt}).filter((mt,vt,Lt)=>fd(mt)[At.crossAxisStart]===fd(Lt[0])[At.crossAxisStart]);if(!_t.length)return null;if(_t.length===1)return _t[0];const Et=_t.filter(mt=>Pg(fd(mt)[At.start],fd(mt)[At.end])(ft[At.line]));return Et.length===1?Et[0]:Et.length>1?Et.sort((mt,vt)=>fd(mt)[At.start]-fd(vt)[At.start])[0]:_t.sort((mt,vt)=>{const Lt=O8(ft,N8(fd(mt))),ee=O8(ft,N8(fd(vt)));return Lt!==ee?Lt-ee:fd(mt)[At.start]-fd(vt)[At.start]})[0]})({isMovingForward:w,pageBorderBoxCenter:C,source:M,droppables:B,viewport:L});if(!q)return null;const V=cb(q.descriptor.id,N),X=(({pageBorderBoxCenter:ct,viewport:ft,destination:gt,insideDestination:Ct,afterCritical:kt})=>Ct.filter(At=>uz({target:EZ(At,kt),destination:gt,viewport:ft.frame,withDroppableDisplacement:!0})).sort((At,Zt)=>{const _t=Nx(ct,WM(gt,L8(At,kt))),Et=Nx(ct,WM(gt,L8(Zt,kt)));return _t<Et?-1:Et<_t?1:At.descriptor.index-Zt.descriptor.index})[0]||null)({pageBorderBoxCenter:C,viewport:L,destination:q,insideDestination:V,afterCritical:z}),nt=(({previousPageBorderBoxCenter:ct,moveRelativeTo:ft,insideDestination:gt,draggable:Ct,draggables:kt,destination:Tt,viewport:At,afterCritical:Zt})=>{if(!ft){if(gt.length)return null;const vt={displaced:Ix,displacedBy:oz,at:{type:"REORDER",destination:{droppableId:Tt.descriptor.id,index:0}}},Lt=VS({impact:vt,draggable:Ct,droppable:Tt,draggables:kt,afterCritical:Zt}),ee=fb(Ct,Tt)?Tt:pz(Tt,Ct,kt);return fz({draggable:Ct,destination:ee,newPageBorderBoxCenter:Lt,viewport:At.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?vt:null}const _t=ct[Tt.axis.line]<=ft.page.borderBox.center[Tt.axis.line],Et=(()=>{const vt=ft.descriptor.index;return ft.descriptor.id===Ct.descriptor.id||_t?vt:vt+1})(),mt=Rx(Tt.axis,Ct.displaceBy);return HS({draggable:Ct,insideDestination:gt,destination:Tt,viewport:At,displacedBy:mt,last:Ix,index:Et})})({previousPageBorderBoxCenter:C,destination:q,draggable:k,draggables:N,moveRelativeTo:X,insideDestination:V,viewport:L,afterCritical:z});if(!nt)return null;const it=VS({impact:nt,draggable:k,droppable:q,draggables:N,afterCritical:z});return{clientSelection:pO({pageBorderBoxCenter:it,draggable:k,viewport:L}),impact:nt,scrollJumpRequest:null}})({isMovingForward:f,previousPageBorderBoxCenter:h,draggable:d,isOver:a,draggables:m,droppables:y,viewport:n.viewport,afterCritical:n.afterCritical})};function j0(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function dz(n){const t=Pg(n.top,n.bottom),e=Pg(n.left,n.right);return function(r){return t(r.y)&&e(r.x)}}const z8=(n,t)=>Qg(TD(n,t));function U8({displaced:n,id:t}){return!!(n.visible[t]||n.invisible[t])}var gz=({pageOffset:n,draggable:t,draggables:e,droppables:r,previousImpact:i,viewport:a,afterCritical:s})=>{const c=z8(t.page.borderBox,n),f=function({pageBorderBox:y,draggable:w,droppables:C}){const k=SE(C).filter(M=>{if(!M.isEnabled)return!1;const N=M.subject.active;if(!N||!function(it,ct){return it.left<ct.right&&it.right>ct.left&&it.top<ct.bottom&&it.bottom>ct.top}(y,N))return!1;if(dz(N)(y.center))return!0;const B=M.axis,L=N.center[B.crossAxisLine],z=y[B.crossAxisStart],q=y[B.crossAxisEnd],V=Pg(N[B.crossAxisStart],N[B.crossAxisEnd]),X=V(z),nt=V(q);return!X&&!nt||(X?z<L:q>L)});return k.length?k.length===1?k[0].descriptor.id:function({pageBorderBox:M,draggable:N,candidates:B}){const L=N.page.borderBox.center,z=B.map(q=>{const V=q.axis,X=hy(q.axis.line,M.center[V.line],q.page.borderBox.center[V.crossAxisLine]);return{id:q.descriptor.id,distance:Nx(L,X)}}).sort((q,V)=>V.distance-q.distance);return z[0]?z[0].id:null}({pageBorderBox:y,draggable:w,candidates:k}):null}({pageBorderBox:c,draggable:t,droppables:r});if(!f)return CZ;const d=r[f],h=cb(d.descriptor.id,e),m=((y,w)=>{const C=y.frame;return C?z8(w,C.scroll.diff.value):w})(d,c);return(({draggable:y,pageBorderBoxWithDroppableScroll:w,previousImpact:C,destination:k,insideDestination:M,afterCritical:N})=>{if(!k.isCombineEnabled)return null;const B=k.axis,L=Rx(k.axis,y.displaceBy),z=L.value,q=w[B.start],V=w[B.end],X=WS(y,M).find(nt=>{const it=nt.descriptor.id,ct=nt.page.borderBox,ft=ct[B.size]/4,gt=r0(it,N),Ct=U8({displaced:C.displaced,id:it});return gt?Ct?V>ct[B.start]+ft&&V<ct[B.end]-ft:q>ct[B.start]-z+ft&&q<ct[B.end]-z-ft:Ct?V>ct[B.start]+z+ft&&V<ct[B.end]+z-ft:q>ct[B.start]+ft&&q<ct[B.end]-ft});return X?{displacedBy:L,displaced:C.displaced,at:{type:"COMBINE",combine:{draggableId:X.descriptor.id,droppableId:k.descriptor.id}}}:null})({pageBorderBoxWithDroppableScroll:m,draggable:t,previousImpact:i,destination:d,insideDestination:h,afterCritical:s})||(({pageBorderBoxWithDroppableScroll:y,draggable:w,destination:C,insideDestination:k,last:M,viewport:N,afterCritical:B})=>{const L=C.axis,z=Rx(C.axis,w.displaceBy),q=z.value,V=y[L.start],X=y[L.end],nt=function({draggable:it,closest:ct,inHomeList:ft}){return ct?ft&&ct.descriptor.index>it.descriptor.index?ct.descriptor.index-1:ct.descriptor.index:null}({draggable:w,closest:WS(w,k).find(it=>{const ct=it.descriptor.id,ft=it.page.borderBox.center[L.line],gt=r0(ct,B),Ct=U8({displaced:M,id:ct});return gt?Ct?X<=ft:V<ft-q:Ct?X<=ft+q:V<ft})||null,inHomeList:fb(w,C)});return HS({draggable:w,insideDestination:k,destination:C,viewport:N,last:M,displacedBy:z,index:nt})})({pageBorderBoxWithDroppableScroll:m,draggable:t,destination:d,insideDestination:h,last:i.displaced,viewport:a,afterCritical:s})},HM=(n,t)=>({...n,[t.descriptor.id]:t}),cx=({state:n,clientSelection:t,dimensions:e,viewport:r,impact:i,scrollJumpRequest:a})=>{const s=r||n.viewport,c=e||n.dimensions,f=t||n.current.client.selection,d=tg(f,n.initial.client.selection),h={offset:d,selection:f,borderBoxCenter:jp(n.initial.client.borderBoxCenter,d)},m={selection:jp(h.selection,s.scroll.current),borderBoxCenter:jp(h.borderBoxCenter,s.scroll.current),offset:jp(h.offset,s.scroll.diff.value)},y={client:h,page:m};if(n.phase==="COLLECTING")return{...n,dimensions:c,viewport:s,current:y};const w=c.draggables[n.critical.draggable.id],C=i||gz({pageOffset:m.offset,draggable:w,draggables:c.draggables,droppables:c.droppables,previousImpact:n.impact,viewport:s,afterCritical:n.afterCritical}),k=(({draggable:M,draggables:N,droppables:B,previousImpact:L,impact:z})=>{const q=(({previousImpact:it,impact:ct,droppables:ft})=>{const gt=ig(it),Ct=ig(ct);if(!gt||gt===Ct)return ft;const kt=ft[gt];if(!kt.subject.withPlaceholder)return ft;const Tt=(At=>{const Zt=At.subject.withPlaceholder;Zt||ir();const _t=At.frame;if(!_t){const Lt=Ww({page:At.subject.page,axis:At.axis,frame:null,withPlaceholder:null});return{...At,subject:Lt}}const Et=Zt.oldFrameMaxScroll;Et||ir();const mt=hz(_t,Et),vt=Ww({page:At.subject.page,axis:At.axis,frame:mt,withPlaceholder:null});return{...At,subject:vt,frame:mt}})(kt);return HM(ft,Tt)})({previousImpact:L,impact:z,droppables:B}),V=ig(z);if(!V)return q;const X=B[V];if(fb(M,X)||X.subject.withPlaceholder)return q;const nt=pz(X,M,N);return HM(q,nt)})({draggable:w,impact:C,previousImpact:n.impact,draggables:c.draggables,droppables:c.droppables});return{...n,current:y,dimensions:{draggables:c.draggables,droppables:k},impact:C,viewport:s,scrollJumpRequest:a||null,forceShouldAnimate:!a&&null}},mz=({impact:n,viewport:t,draggables:e,destination:r,forceShouldAnimate:i})=>{const a=n.displaced,s=function(f,d){return f.map(h=>d[h])}(a.all,e),c=Bx({afterDragging:s,destination:r,displacedBy:n.displacedBy,viewport:t.frame,forceShouldAnimate:i,last:a});return{...n,displaced:c}},vz=({impact:n,draggable:t,droppable:e,draggables:r,viewport:i,afterCritical:a})=>{const s=VS({impact:n,draggable:t,draggables:r,droppable:e,afterCritical:a});return pO({pageBorderBoxCenter:s,draggable:t,viewport:i})},yz=({state:n,dimensions:t,viewport:e})=>{n.movementMode!=="SNAP"&&ir();const r=n.impact,i=e||n.viewport,a=t||n.dimensions,{draggables:s,droppables:c}=a,f=s[n.critical.draggable.id],d=ig(r);d||ir();const h=c[d],m=mz({impact:r,viewport:i,destination:h,draggables:s}),y=vz({impact:m,draggable:f,droppable:h,draggables:s,viewport:i,afterCritical:n.afterCritical});return cx({impact:m,clientSelection:y,state:n,dimensions:a,viewport:i})},$8=({draggable:n,home:t,draggables:e,viewport:r})=>{const i=Rx(t.axis,n.displaceBy),a=cb(t.descriptor.id,e),s=a.indexOf(n);s===-1&&ir();const c=a.slice(s+1),f=c.reduce((m,y)=>(m[y.descriptor.id]=!0,m),{}),d={inVirtualList:t.descriptor.mode==="virtual",displacedBy:i,effected:f};var h;return{impact:{displaced:Bx({afterDragging:c,destination:t,displacedBy:i,last:null,viewport:r.frame,forceShouldAnimate:!1}),displacedBy:i,at:{type:"REORDER",destination:(h=n.descriptor,{index:h.index,droppableId:h.droppableId})}},afterCritical:d}};const VM=n=>n.movementMode==="SNAP",FA=(n,t,e)=>{const r=((i,a)=>({draggables:i.draggables,droppables:HM(i.droppables,a)}))(n.dimensions,t);return!VM(n)||e?cx({state:n,dimensions:r}):yz({state:n,dimensions:r})};function PA(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const W8={phase:"IDLE",completed:null,shouldFlush:!1};var kZ=(n=W8,t)=>{if(t.type==="FLUSH")return{...W8,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ir();const{critical:e,clientSelection:r,viewport:i,dimensions:a,movementMode:s}=t.payload,c=a.draggables[e.draggable.id],f=a.droppables[e.droppable.id],d={selection:r,borderBoxCenter:c.client.borderBox.center,offset:_p},h={client:d,page:{selection:jp(d.selection,i.scroll.initial),borderBoxCenter:jp(d.selection,i.scroll.initial),offset:jp(d.selection,i.scroll.diff.value)}},m=SE(a.droppables).every(C=>!C.isFixedOnPage),{impact:y,afterCritical:w}=$8({draggable:c,home:f,draggables:a.draggables,viewport:i});return{phase:"DRAGGING",isDragging:!0,critical:e,movementMode:s,dimensions:a,initial:h,current:h,isWindowScrollAllowed:m,impact:y,afterCritical:w,onLiftImpact:y,viewport:i,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ir(),{...n,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return n.phase!=="COLLECTING"&&n.phase!=="DROP_PENDING"&&ir(),(({state:e,published:r})=>{const i=r.modified.map(B=>{const L=e.dimensions.droppables[B.droppableId];return $M(L,B.scroll)}),a={...e.dimensions.droppables,...rz(i)},s=iz((({additions:B,updatedDroppables:L,viewport:z})=>{const q=z.scroll.diff.value;return B.map(V=>{const X=V.descriptor.droppableId,nt=(ft=>{const gt=ft.frame;return gt||ir(),gt})(L[X]),it=nt.scroll.diff.value;return(({draggable:ft,offset:gt,initialWindowScroll:Ct})=>{const kt=jS(ft.client,gt),Tt=LS(kt,Ct);return{...ft,placeholder:{...ft.placeholder,client:kt},client:kt,page:Tt}})({draggable:V,offset:jp(q,it),initialWindowScroll:z.scroll.initial})})})({additions:r.additions,updatedDroppables:a,viewport:e.viewport})),c={...e.dimensions.draggables,...s};r.removals.forEach(B=>{delete c[B]});const f={droppables:a,draggables:c},d=ig(e.impact),h=d?f.droppables[d]:null,m=f.draggables[e.critical.draggable.id],y=f.droppables[e.critical.droppable.id],{impact:w,afterCritical:C}=$8({draggable:m,home:y,draggables:c,viewport:e.viewport}),k=h&&h.isCombineEnabled?e.impact:w,M=gz({pageOffset:e.current.page.offset,draggable:f.draggables[e.critical.draggable.id],draggables:f.draggables,droppables:f.droppables,previousImpact:k,viewport:e.viewport,afterCritical:C}),N={...e,phase:"DRAGGING",impact:M,onLiftImpact:w,dimensions:f,afterCritical:C,forceShouldAnimate:!1};return e.phase==="COLLECTING"?N:{...N,phase:"DROP_PENDING",reason:e.reason,isWaiting:!1}})({state:n,published:t.payload});if(t.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;j0(n)||ir();const{client:e}=t.payload;return n0(e,n.current.client.selection)?n:cx({state:n,clientSelection:e,impact:VM(n)?n.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return PA(n);j0(n)||ir();const{id:e,newScroll:r}=t.payload,i=n.dimensions.droppables[e];if(!i)return n;const a=$M(i,r);return FA(n,a,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;j0(n)||ir();const{id:e,isEnabled:r}=t.payload,i=n.dimensions.droppables[e];i||ir(),i.isEnabled===r&&ir();const a={...i,isEnabled:r};return FA(n,a,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;j0(n)||ir();const{id:e,isCombineEnabled:r}=t.payload,i=n.dimensions.droppables[e];i||ir(),i.isCombineEnabled===r&&ir();const a={...i,isCombineEnabled:r};return FA(n,a,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;j0(n)||ir(),n.isWindowScrollAllowed||ir();const e=t.payload.newScroll;if(n0(n.viewport.scroll.current,e))return PA(n);const r=cz(n.viewport,e);return VM(n)?yz({state:n,viewport:r}):cx({state:n,viewport:r})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!j0(n))return n;const e=t.payload.maxScroll;if(n0(e,n.viewport.scroll.max))return n;const r={...n.viewport,scroll:{...n.viewport.scroll,max:e}};return{...n,viewport:r}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ir();const e=AZ({state:n,type:t.type});return e?cx({state:n,impact:e.impact,clientSelection:e.clientSelection,scrollJumpRequest:e.scrollJumpRequest}):n}if(t.type==="DROP_PENDING"){const e=t.payload.reason;return n.phase!=="COLLECTING"&&ir(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:e}}if(t.type==="DROP_ANIMATE"){const{completed:e,dropDuration:r,newHomeClientOffset:i}=t.payload;return n.phase!=="DRAGGING"&&n.phase!=="DROP_PENDING"&&ir(),{phase:"DROP_ANIMATING",completed:e,dropDuration:r,newHomeClientOffset:i,dimensions:n.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return n};function zc(n,t){return n instanceof Object&&"type"in n&&n.type===t}const MZ=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),FZ=()=>({type:"COLLECTION_STARTING",payload:null}),PZ=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),TZ=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),OZ=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),wz=n=>({type:"MOVE",payload:n}),NZ=()=>({type:"MOVE_UP",payload:null}),IZ=()=>({type:"MOVE_DOWN",payload:null}),BZ=()=>({type:"MOVE_RIGHT",payload:null}),RZ=()=>({type:"MOVE_LEFT",payload:null}),dO=n=>({type:"DROP_COMPLETE",payload:n}),bz=n=>({type:"DROP",payload:n}),xz="cubic-bezier(.2,1,.1,1)",Dz=0,jZ=.7,Cz=.75,_z={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},F0=`${_z.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,fx={fluid:`opacity ${F0}`,snap:`transform ${F0}, opacity ${F0}`,drop:n=>{const t=`${n}s ${xz}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${F0}`,placeholder:`height ${F0}, width ${F0}, margin ${F0}`},Sz=n=>n0(n,_p)?void 0:`translate(${n.x}px, ${n.y}px)`,H8=Sz,{minDropTime:qM,maxDropTime:Ez}=_z,LZ=Ez-qM,zZ=({getState:n,dispatch:t})=>e=>r=>{if(!zc(r,"DROP"))return void e(r);const i=n(),a=r.payload.reason;if(i.phase==="COLLECTING")return void t((B=>({type:"DROP_PENDING",payload:B}))({reason:a}));if(i.phase==="IDLE")return;i.phase==="DROP_PENDING"&&i.isWaiting&&ir(),i.phase!=="DRAGGING"&&i.phase!=="DROP_PENDING"&&ir();const s=i.critical,c=i.dimensions,f=c.draggables[i.critical.draggable.id],{impact:d,didDropInsideDroppable:h}=(({draggables:B,reason:L,lastImpact:z,home:q,viewport:V,onLiftImpact:X})=>z.at&&L==="DROP"?z.at.type==="REORDER"?{impact:z,didDropInsideDroppable:!0}:{impact:{...z,displaced:Ix},didDropInsideDroppable:!0}:{impact:mz({draggables:B,impact:X,destination:q,viewport:V,forceShouldAnimate:!0}),didDropInsideDroppable:!1})({reason:a,lastImpact:i.impact,afterCritical:i.afterCritical,onLiftImpact:i.onLiftImpact,home:i.dimensions.droppables[i.critical.droppable.id],viewport:i.viewport,draggables:i.dimensions.draggables}),m=h?lO(d):null,y=h?EE(d):null,w={index:s.draggable.index,droppableId:s.droppable.id},C={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:a,mode:i.movementMode,destination:m,combine:y},k=(({impact:B,draggable:L,dimensions:z,viewport:q,afterCritical:V})=>{const{draggables:X,droppables:nt}=z,it=ig(B),ct=it?nt[it]:null,ft=nt[L.descriptor.droppableId],gt=vz({impact:B,draggable:L,draggables:X,afterCritical:V,droppable:ct||ft,viewport:q});return tg(gt,L.client.borderBox.center)})({impact:d,draggable:f,dimensions:c,viewport:i.viewport,afterCritical:i.afterCritical}),M={critical:i.critical,afterCritical:i.afterCritical,result:C,impact:d};if(n0(i.current.client.offset,k)&&!C.combine)return void t(dO({completed:M}));const N=(({current:B,destination:L,reason:z})=>{const q=Nx(B,L);if(q<=0)return qM;if(q>=1500)return Ez;const V=qM+LZ*(q/1500);return Number((z==="CANCEL"?.6*V:V).toFixed(2))})({current:i.current.client.offset,destination:k,reason:a});t((B=>({type:"DROP_ANIMATE",payload:B}))({newHomeClientOffset:k,dropDuration:N,completed:M}))};var Az=()=>({x:window.pageXOffset,y:window.pageYOffset});const UZ=n=>{const t=function({onWindowScroll:e}){const r=Ox(function(){e(Az())}),i=function(c){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:f=>{f.target!==window&&f.target!==window.document||c()}}}(r);let a=e0;function s(){return a!==e0}return{start:function(){s()&&ir(),a=vg(window,[i])},stop:function(){s()||ir(),r.cancel(),a(),a=e0},isActive:s}}({onWindowScroll:e=>{n.dispatch({type:"MOVE_BY_WINDOW_SCROLL",payload:{newScroll:e}})}});return e=>r=>{!t.isActive()&&zc(r,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&(i=>zc(i,"DROP_COMPLETE")||zc(i,"DROP_ANIMATE")||zc(i,"FLUSH"))(r)&&t.stop(),e(r)}},Cb=(n,t)=>{t()},tC=(n,t)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:t});function TA(n,t,e,r){if(!n)return void e(r(t));const i=(a=>{let s=!1,c=!1;const f=setTimeout(()=>{c=!0}),d=h=>{s||c||(s=!0,a(h),clearTimeout(f))};return d.wasCalled=()=>s,d})(e);n(t,{announce:i}),i.wasCalled()||e(r(t))}var $Z=(n,t)=>{const e=((r,i)=>{const a=(()=>{const f=[];return{add:d=>{const h=setTimeout(()=>(y=>{const w=f.findIndex(k=>k.timerId===y);w===-1&&ir();const[C]=f.splice(w,1);C.callback()})(h)),m={timerId:h,callback:d};f.push(m)},flush:()=>{if(!f.length)return;const d=[...f];f.length=0,d.forEach(h=>{clearTimeout(h.timerId),h.callback()})}}})();let s=null;const c=f=>{s||ir(),s=null,Cb(0,()=>TA(r().onDragEnd,f,i,bZ))};return{beforeCapture:(f,d)=>{s&&ir(),Cb(0,()=>{const h=r().onBeforeCapture;h&&h({draggableId:f,mode:d})})},beforeStart:(f,d)=>{s&&ir(),Cb(0,()=>{const h=r().onBeforeDragStart;h&&h(tC(f,d))})},start:(f,d)=>{s&&ir();const h=tC(f,d);s={mode:d,lastCritical:f,lastLocation:h.source,lastCombine:null},a.add(()=>{Cb(0,()=>TA(r().onDragStart,h,i,yZ))})},update:(f,d)=>{const h=lO(d),m=EE(d);s||ir();const y=!((B,L)=>{if(B===L)return!0;const z=B.draggable.id===L.draggable.id&&B.draggable.droppableId===L.draggable.droppableId&&B.draggable.type===L.draggable.type&&B.draggable.index===L.draggable.index,q=B.droppable.id===L.droppable.id&&B.droppable.type===L.droppable.type;return z&&q})(f,s.lastCritical);y&&(s.lastCritical=f);const w=(k=h,!((C=s.lastLocation)==null&&k==null||C!=null&&k!=null&&C.droppableId===k.droppableId&&C.index===k.index));var C,k;w&&(s.lastLocation=h);const M=!((B,L)=>B==null&&L==null||B!=null&&L!=null&&B.draggableId===L.draggableId&&B.droppableId===L.droppableId)(s.lastCombine,m);if(M&&(s.lastCombine=m),!y&&!w&&!M)return;const N={...tC(f,s.mode),combine:m,destination:h};a.add(()=>{Cb(0,()=>TA(r().onDragUpdate,N,i,wZ))})},flush:()=>{s||ir(),a.flush()},drop:c,abort:()=>{if(!s)return;const f={...tC(s.lastCritical,s.mode),combine:null,destination:null,reason:"CANCEL"};c(f)}}})(n,t);return r=>i=>a=>{if(zc(a,"BEFORE_INITIAL_CAPTURE"))return void e.beforeCapture(a.payload.draggableId,a.payload.movementMode);if(zc(a,"INITIAL_PUBLISH")){const c=a.payload.critical;return e.beforeStart(c,a.payload.movementMode),i(a),void e.start(c,a.payload.movementMode)}if(zc(a,"DROP_COMPLETE")){const c=a.payload.completed.result;return e.flush(),i(a),void e.drop(c)}if(i(a),zc(a,"FLUSH"))return void e.abort();const s=r.getState();s.phase==="DRAGGING"&&e.update(s.critical,s.impact)}};const WZ=n=>t=>e=>{if(!zc(e,"DROP_ANIMATION_FINISHED"))return void t(e);const r=n.getState();r.phase!=="DROP_ANIMATING"&&ir(),n.dispatch(dO({completed:r.completed}))},HZ=n=>{let t=null,e=null;return r=>i=>{if((zc(i,"FLUSH")||zc(i,"DROP_COMPLETE")||zc(i,"DROP_ANIMATION_FINISHED"))&&(e&&(cancelAnimationFrame(e),e=null),t&&(t(),t=null)),r(i),!zc(i,"DROP_ANIMATE"))return;const a={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch({type:"DROP_ANIMATION_FINISHED",payload:null})}};e=requestAnimationFrame(()=>{e=null,t=vg(window,[a])})}},VZ=n=>t=>e=>{if(t(e),!zc(e,"PUBLISH_WHILE_DRAGGING"))return;const r=n.getState();r.phase==="DROP_PENDING"&&(r.isWaiting||n.dispatch(bz({reason:r.reason})))},qZ=HL;var KZ=({dimensionMarshal:n,focusMarshal:t,styleMarshal:e,getResponders:r,announce:i,autoScroller:a})=>{return WL(kZ,qZ(function(...c){return f=>(d,h)=>{const m=f(d,h);let y=()=>{throw new Error(hd(15))};const w={getState:m.getState,dispatch:(k,...M)=>y(k,...M)},C=c.map(k=>k(w));return y=HL(...C)(m.dispatch),{...m,dispatch:y}}}((s=e,()=>c=>f=>{zc(f,"INITIAL_PUBLISH")&&s.dragging(),zc(f,"DROP_ANIMATE")&&s.dropping(f.payload.completed.result.reason),(zc(f,"FLUSH")||zc(f,"DROP_COMPLETE"))&&s.resting(),c(f)}),(c=>()=>f=>d=>{(zc(d,"DROP_COMPLETE")||zc(d,"FLUSH")||zc(d,"DROP_ANIMATE"))&&c.stopPublishing(),f(d)})(n),(c=>({getState:f,dispatch:d})=>h=>m=>{if(!zc(m,"LIFT"))return void h(m);const{id:y,clientSelection:w,movementMode:C}=m.payload,k=f();k.phase==="DROP_ANIMATING"&&d(dO({completed:k.completed})),f().phase!=="IDLE"&&ir(),d({type:"FLUSH",payload:null}),d({type:"BEFORE_INITIAL_CAPTURE",payload:{draggableId:y,movementMode:C}});const M={draggableId:y,scrollOptions:{shouldPublishImmediately:C==="SNAP"}},{critical:N,dimensions:B,viewport:L}=c.startPublishing(M);d({type:"INITIAL_PUBLISH",payload:{critical:N,dimensions:B,clientSelection:w,movementMode:C,viewport:L}})})(n),zZ,WZ,HZ,VZ,(c=>f=>d=>h=>{if((m=>zc(m,"DROP_COMPLETE")||zc(m,"DROP_ANIMATE")||zc(m,"FLUSH"))(h))return c.stop(),void d(h);if(zc(h,"INITIAL_PUBLISH")){d(h);const m=f.getState();return m.phase!=="DRAGGING"&&ir(),void c.start(m)}d(h),c.scroll(f.getState())})(a),UZ,(c=>{let f=!1;return()=>d=>h=>{if(zc(h,"INITIAL_PUBLISH"))return f=!0,c.tryRecordFocus(h.payload.critical.draggable.id),d(h),void c.tryRestoreFocusRecorded();if(d(h),f){if(zc(h,"FLUSH"))return f=!1,void c.tryRestoreFocusRecorded();if(zc(h,"DROP_COMPLETE")){f=!1;const m=h.payload.completed.result;m.combine&&c.tryShiftRecord(m.draggableId,m.combine.draggableId),c.tryRestoreFocusRecorded()}}}})(t),$Z(r,i))));var s},kz=({scrollHeight:n,scrollWidth:t,height:e,width:r})=>{const i=tg({x:t,y:n},{x:r,y:e});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},Mz=()=>{const n=document.documentElement;return n||ir(),n},Fz=()=>{const n=Mz();return kz({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})};function V8(n,t,e){return e.descriptor.id!==t.id&&e.descriptor.type===t.type&&(n.droppable.getById(e.descriptor.droppableId).descriptor.mode==="virtual"||!1)}var GZ=(n,t)=>{let e=null;const r=function({registry:s,callbacks:c}){let f={additions:{},removals:{},modified:{}},d=null;const h=()=>{d||(c.collectionStarting(),d=requestAnimationFrame(()=>{d=null;const{additions:m,removals:y,modified:w}=f,C=Object.keys(m).map(N=>s.draggable.getById(N).getDimension(_p)).sort((N,B)=>N.descriptor.index-B.descriptor.index),k=Object.keys(w).map(N=>({droppableId:N,scroll:s.droppable.getById(N).callbacks.getScrollWhileDragging()})),M={additions:C,removals:Object.keys(y),modified:k};f={additions:{},removals:{},modified:{}},c.publish(M)}))};return{add:m=>{const y=m.descriptor.id;f.additions[y]=m,f.modified[m.descriptor.droppableId]=!0,f.removals[y]&&delete f.removals[y],h()},remove:m=>{const y=m.descriptor;f.removals[y.id]=!0,f.modified[y.droppableId]=!0,f.additions[y.id]&&delete f.additions[y.id],h()},stop:()=>{d&&(cancelAnimationFrame(d),d=null,f={additions:{},removals:{},modified:{}})}}}({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:n}),i=s=>{e||ir();const c=e.critical.draggable;s.type==="ADDITION"&&V8(n,c,s.value)&&r.add(s.value),s.type==="REMOVAL"&&V8(n,c,s.value)&&r.remove(s.value)};return{updateDroppableIsEnabled:(s,c)=>{n.droppable.exists(s)||ir(),e&&t.updateDroppableIsEnabled({id:s,isEnabled:c})},updateDroppableIsCombineEnabled:(s,c)=>{e&&(n.droppable.exists(s)||ir(),t.updateDroppableIsCombineEnabled({id:s,isCombineEnabled:c}))},scrollDroppable:(s,c)=>{e&&n.droppable.getById(s).callbacks.scroll(c)},updateDroppableScroll:(s,c)=>{e&&(n.droppable.exists(s)||ir(),t.updateDroppableScroll({id:s,newScroll:c}))},startPublishing:s=>{e&&ir();const c=n.draggable.getById(s.draggableId),f=n.droppable.getById(c.descriptor.droppableId),d={draggable:c.descriptor,droppable:f.descriptor},h=n.subscribe(i);return e={critical:d,unsubscribe:h},(({critical:m,scrollOptions:y,registry:w})=>{const C=(()=>{const z=Az(),q=Fz(),V=z.y,X=z.x,nt=Mz(),it=nt.clientWidth,ct=nt.clientHeight;return{frame:Qg({top:V,left:X,right:X+it,bottom:V+ct}),scroll:{initial:z,current:z,max:q,diff:{value:_p,displacement:_p}}}})(),k=C.scroll.current,M=m.droppable,N=w.droppable.getAllByType(M.type).map(z=>z.callbacks.getDimensionAndWatchScroll(k,y)),B=w.draggable.getAllByType(m.draggable.type).map(z=>z.getDimension(k));return{dimensions:{draggables:iz(B),droppables:rz(N)},critical:m,viewport:C}})({critical:d,registry:n,scrollOptions:s.scrollOptions})},stopPublishing:()=>{if(!e)return;r.stop();const s=e.critical.droppable;n.droppable.getAllByType(s.type).forEach(c=>c.callbacks.dragStopped()),e.unsubscribe(),e=null}}},Pz=(n,t)=>n.phase==="IDLE"||n.phase==="DROP_ANIMATING"&&n.completed.result.draggableId!==t&&n.completed.result.reason==="DROP",YZ=n=>{window.scrollBy(n.x,n.y)};const XZ=xp(n=>SE(n).filter(t=>!!t.isEnabled&&!!t.frame)),hx={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var q8=({startOfRange:n,endOfRange:t,current:e})=>{const r=t-n;return r===0?0:(e-n)/r},K8=({distanceToEdge:n,thresholds:t,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:i})=>{const a=((s,c,f=()=>hx)=>{const d=f();if(s>c.startScrollingFrom)return 0;if(s<=c.maxScrollValueAt)return d.maxPixelScroll;if(s===c.startScrollingFrom)return 1;const h=1-q8({startOfRange:c.maxScrollValueAt,endOfRange:c.startScrollingFrom,current:s}),m=d.maxPixelScroll*d.ease(h);return Math.ceil(m)})(n,t,i);return a===0?0:r?Math.max(((s,c,f)=>{const d=f(),h=d.durationDampening.accelerateAt,m=d.durationDampening.stopDampeningAt,y=c,w=m,C=Date.now()-y;if(C>=m)return s;if(C<h)return 1;const k=q8({startOfRange:h,endOfRange:w,current:C}),M=s*d.ease(k);return Math.ceil(M)})(a,e,i),1):a},G8=({container:n,distanceToEdges:t,dragStartTime:e,axis:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s=((c,f,d=()=>hx)=>{const h=d();return{startScrollingFrom:c[f.size]*h.startFromPercentage,maxScrollValueAt:c[f.size]*h.maxScrollAtPercentage}})(n,r,a);return t[r.end]<t[r.start]?K8({distanceToEdge:t[r.end],thresholds:s,dragStartTime:e,shouldUseTimeDampening:i,getAutoScrollerOptions:a}):-1*K8({distanceToEdge:t[r.start],thresholds:s,dragStartTime:e,shouldUseTimeDampening:i,getAutoScrollerOptions:a})};const JZ=nz(n=>n===0?0:n);var Y8=({dragStartTime:n,container:t,subject:e,center:r,shouldUseTimeDampening:i,getAutoScrollerOptions:a})=>{const s={top:r.y-t.top,right:t.right-r.x,bottom:t.bottom-r.y,left:r.x-t.left},c=G8({container:t,distanceToEdges:s,dragStartTime:n,axis:cO,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),f=G8({container:t,distanceToEdges:s,dragStartTime:n,axis:sz,shouldUseTimeDampening:i,getAutoScrollerOptions:a}),d=JZ({x:f,y:c});if(n0(d,_p))return null;const h=(({container:m,subject:y,proposedScroll:w})=>{const C=y.height>m.height,k=y.width>m.width;return k||C?k&&C?null:{x:k?0:w.x,y:C?0:w.y}:w})({container:t,subject:e,proposedScroll:d});return h?n0(h,_p)?null:h:null};const QZ=nz(n=>n===0?0:n>0?1:-1),KM=(()=>{const n=(t,e)=>t<0?t:t>e?t-e:0;return({current:t,max:e,change:r})=>{const i=jp(t,r),a={x:n(i.x,e.x),y:n(i.y,e.y)};return n0(a,_p)?null:a}})(),Tz=({max:n,current:t,change:e})=>{const r={x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)},i=QZ(e),a=KM({max:r,current:t,change:i});return!a||i.x!==0&&a.x===0||i.y!==0&&a.y===0},GM=(n,t)=>Tz({current:n.scroll.current,max:n.scroll.max,change:t}),YM=(n,t)=>{const e=n.frame;return!!e&&Tz({current:e.scroll.current,max:e.scroll.max,change:t})};var X8=({state:n,dragStartTime:t,shouldUseTimeDampening:e,scrollWindow:r,scrollDroppable:i,getAutoScrollerOptions:a})=>{const s=n.current.page.borderBoxCenter,c=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const h=(({viewport:m,subject:y,center:w,dragStartTime:C,shouldUseTimeDampening:k,getAutoScrollerOptions:M})=>{const N=Y8({dragStartTime:C,container:m.frame,subject:y,center:w,shouldUseTimeDampening:k,getAutoScrollerOptions:M});return N&&GM(m,N)?N:null})({dragStartTime:t,viewport:n.viewport,subject:c,center:s,shouldUseTimeDampening:e,getAutoScrollerOptions:a});if(h)return void r(h)}const f=(({center:h,destination:m,droppables:y})=>{if(m){const C=y[m];return C.frame?C:null}return((C,k)=>XZ(k).find(M=>(M.frame||ir(),dz(M.frame.pageMarginBox)(C)))||null)(h,y)})({center:s,destination:ig(n.impact),droppables:n.dimensions.droppables});if(!f)return;const d=(({droppable:h,subject:m,center:y,dragStartTime:w,shouldUseTimeDampening:C,getAutoScrollerOptions:k})=>{const M=h.frame;if(!M)return null;const N=Y8({dragStartTime:w,container:M.pageMarginBox,subject:m,center:y,shouldUseTimeDampening:C,getAutoScrollerOptions:k});return N&&YM(h,N)?N:null})({dragStartTime:t,droppable:f,subject:c,center:s,shouldUseTimeDampening:e,getAutoScrollerOptions:a});d&&i(f.descriptor.id,d)};const Hw="data-rfd",Vw=(()=>{const n=`${Hw}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),XM=(()=>{const n=`${Hw}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),ZZ=(()=>{const n=`${Hw}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),J8={contextId:`${Hw}-scroll-container-context-id`},_b=(n,t)=>n.map(e=>{const r=e.styles[t];return r?`${e.selector} { ${r} }`:""}).join(" "),eg=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?re.useLayoutEffect:re.useEffect,OA=()=>{const n=document.querySelector("head");return n||ir(),n},Q8=n=>{const t=document.createElement("style");return n&&t.setAttribute("nonce",n),t.type="text/css",t};function Oz(n,t){return Array.from(n.querySelectorAll(t))}var Nz=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function qS(n){return n instanceof Nz(n).HTMLElement}function t4(n,t){const e=`[${Vw.contextId}="${n}"]`,r=Oz(document,e);if(!r.length)return null;const i=r.find(a=>a.getAttribute(Vw.draggableId)===t);return i&&qS(i)?i:null}function e4(){const n={draggables:{},droppables:{}},t=[];function e(a){t.length&&t.forEach(s=>s(a))}function r(a){return n.draggables[a]||null}function i(a){return n.droppables[a]||null}return{draggable:{register:a=>{n.draggables[a.descriptor.id]=a,e({type:"ADDITION",value:a})},update:(a,s)=>{const c=n.draggables[s.descriptor.id];c&&c.uniqueId===a.uniqueId&&(delete n.draggables[s.descriptor.id],n.draggables[a.descriptor.id]=a)},unregister:a=>{const s=a.descriptor.id,c=r(s);c&&a.uniqueId===c.uniqueId&&(delete n.draggables[s],n.droppables[a.descriptor.droppableId]&&e({type:"REMOVAL",value:a}))},getById:function(a){const s=r(a);return s||ir(),s},findById:r,exists:a=>!!r(a),getAllByType:a=>Object.values(n.draggables).filter(s=>s.descriptor.type===a)},droppable:{register:a=>{n.droppables[a.descriptor.id]=a},unregister:a=>{const s=i(a.descriptor.id);s&&a.uniqueId===s.uniqueId&&delete n.droppables[a.descriptor.id]},getById:function(a){const s=i(a);return s||ir(),s},findById:i,exists:a=>!!i(a),getAllByType:a=>Object.values(n.droppables).filter(s=>s.descriptor.type===a)},subscribe:function(a){return t.push(a),function(){const s=t.indexOf(a);s!==-1&&t.splice(s,1)}},clean:function(){n.draggables={},n.droppables={},t.length=0}}}var gO=Vi.createContext(null),eC=()=>{const n=document.body;return n||ir(),n};const n4={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},r4={separator:"::"};function mO(n,t=r4){const e=Vi.useId();return ac(()=>`${n}${t.separator}${e}`,[t.separator,n,e])}var AE=Vi.createContext(null);function Iz(n){const t=re.useRef(n);return re.useEffect(()=>{t.current=n}),t}function jx(n){return n.phase!=="IDLE"&&n.phase!=="DROP_ANIMATING"&&n.isDragging}const i4=9,o4=13,a4=33,s4=34,u4=35,l4=36,c4={[o4]:!0,[i4]:!0};var Z8=n=>{c4[n.keyCode]&&n.preventDefault()};const nC=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(t=>`on${t}`in document)||n})(),tB={type:"IDLE"};function f4(){}const h4={[s4]:!0,[a4]:!0,[l4]:!0,[u4]:!0},NA={type:"IDLE"},p4=["input","button","textarea","select","option","optgroup","video","audio"];function Bz(n,t){if(t==null)return!1;if(p4.includes(t.tagName.toLowerCase()))return!0;const e=t.getAttribute("contenteditable");return e==="true"||e===""||t!==n&&Bz(n,t.parentElement)}function d4(n,t){const e=t.target;return!!qS(e)&&Bz(n,e)}var g4=n=>Qg(n.getBoundingClientRect()).center;const m4=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(t=>t in Element.prototype)||n})();function Rz(n,t){return n==null?null:n[m4](t)?n:Rz(n.parentElement,t)}function v4(n,t){return n.closest?n.closest(t):Rz(n,t)}function y4(n){n.preventDefault()}function rC({expected:n,phase:t,isLockActive:e,shouldWarn:r}){return e()&&n===t||!1}function eB({lockAPI:n,store:t,registry:e,draggableId:r}){if(n.isClaimed())return!1;const i=e.draggable.findById(r);return i?!!i.options.isEnabled&&!!Pz(t.getState(),r):!1}const w4=[function(n){const t=re.useRef(tB),e=re.useRef(e0),r=ac(()=>({eventName:"mousedown",fn:function(h){if(h.defaultPrevented||h.button!==0||h.ctrlKey||h.metaKey||h.shiftKey||h.altKey)return;const m=n.findClosestDraggableId(h);if(!m)return;const y=n.tryGetLock(m,s,{sourceEvent:h});if(!y)return;h.preventDefault();const w={x:h.clientX,y:h.clientY};e.current(),d(y,w)}}),[n]),i=ac(()=>({eventName:"webkitmouseforcewillbegin",fn:h=>{if(h.defaultPrevented)return;const m=n.findClosestDraggableId(h);if(!m)return;const y=n.findOptionsForDraggable(m);y&&(y.shouldRespectForcePress||n.canGetLock(m)&&h.preventDefault())}}),[n]),a=fo(function(){e.current=vg(window,[i,r],{passive:!1,capture:!0})},[i,r]),s=fo(()=>{t.current.type!=="IDLE"&&(t.current=tB,e.current(),a())},[a]),c=fo(()=>{const h=t.current;s(),h.type==="DRAGGING"&&h.actions.cancel({shouldBlockNextClick:!0}),h.type==="PENDING"&&h.actions.abort()},[s]),f=fo(function(){const h=function({cancel:m,completed:y,getPhase:w,setPhase:C}){return[{eventName:"mousemove",fn:k=>{const{button:M,clientX:N,clientY:B}=k;if(M!==0)return;const L={x:N,y:B},z=w();if(z.type==="DRAGGING")return k.preventDefault(),void z.actions.move(L);if(z.type!=="PENDING"&&ir(),!function(V,X){return Math.abs(X.x-V.x)>=5||Math.abs(X.y-V.y)>=5}(z.point,L))return;k.preventDefault();const q=z.actions.fluidLift(L);C({type:"DRAGGING",actions:q})}},{eventName:"mouseup",fn:k=>{const M=w();M.type==="DRAGGING"?(k.preventDefault(),M.actions.drop({shouldBlockNextClick:!0}),y()):m()}},{eventName:"mousedown",fn:k=>{w().type==="DRAGGING"&&k.preventDefault(),m()}},{eventName:"keydown",fn:k=>{if(w().type!=="PENDING")return k.keyCode===27?(k.preventDefault(),void m()):void Z8(k);m()}},{eventName:"resize",fn:m},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{w().type==="PENDING"&&m()}},{eventName:"webkitmouseforcedown",fn:k=>{const M=w();M.type==="IDLE"&&ir(),M.actions.shouldRespectForcePress()?m():k.preventDefault()}},{eventName:nC,fn:m}]}({cancel:c,completed:s,getPhase:()=>t.current,setPhase:m=>{t.current=m}});e.current=vg(window,h,{capture:!0,passive:!1})},[c,s]),d=fo(function(h,m){t.current.type!=="IDLE"&&ir(),t.current={type:"PENDING",point:m,actions:h},f()},[f]);eg(function(){return a(),function(){e.current()}},[a])},function(n){const t=re.useRef(f4),e=ac(()=>({eventName:"keydown",fn:function(i){if(i.defaultPrevented||i.keyCode!==32)return;const a=n.findClosestDraggableId(i);if(!a)return;const s=n.tryGetLock(a,d,{sourceEvent:i});if(!s)return;i.preventDefault();let c=!0;const f=s.snapLift();function d(){c||ir(),c=!1,t.current(),r()}t.current(),t.current=vg(window,function(h,m){function y(){m(),h.cancel()}return[{eventName:"keydown",fn:w=>w.keyCode===27?(w.preventDefault(),void y()):w.keyCode===32?(w.preventDefault(),m(),void h.drop()):w.keyCode===40?(w.preventDefault(),void h.moveDown()):w.keyCode===38?(w.preventDefault(),void h.moveUp()):w.keyCode===39?(w.preventDefault(),void h.moveRight()):w.keyCode===37?(w.preventDefault(),void h.moveLeft()):void(h4[w.keyCode]?w.preventDefault():Z8(w))},{eventName:"mousedown",fn:y},{eventName:"mouseup",fn:y},{eventName:"click",fn:y},{eventName:"touchstart",fn:y},{eventName:"resize",fn:y},{eventName:"wheel",fn:y,options:{passive:!0}},{eventName:nC,fn:y}]}(f,d),{capture:!0,passive:!1})}}),[n]),r=fo(function(){t.current=vg(window,[e],{passive:!1,capture:!0})},[e]);eg(function(){return r(),function(){t.current()}},[r])},function(n){const t=re.useRef(NA),e=re.useRef(e0),r=fo(function(){return t.current},[]),i=fo(function(y){t.current=y},[]),a=ac(()=>({eventName:"touchstart",fn:function(y){if(y.defaultPrevented)return;const w=n.findClosestDraggableId(y);if(!w)return;const C=n.tryGetLock(w,c,{sourceEvent:y});if(!C)return;const k=y.touches[0],{clientX:M,clientY:N}=k,B={x:M,y:N};e.current(),m(C,B)}}),[n]),s=fo(function(){e.current=vg(window,[a],{capture:!0,passive:!1})},[a]),c=fo(()=>{const y=t.current;y.type!=="IDLE"&&(y.type==="PENDING"&&clearTimeout(y.longPressTimerId),i(NA),e.current(),s())},[s,i]),f=fo(()=>{const y=t.current;c(),y.type==="DRAGGING"&&y.actions.cancel({shouldBlockNextClick:!0}),y.type==="PENDING"&&y.actions.abort()},[c]),d=fo(function(){const y={capture:!0,passive:!1},w={cancel:f,completed:c,getPhase:r},C=vg(window,function({cancel:M,completed:N,getPhase:B}){return[{eventName:"touchmove",options:{capture:!1},fn:L=>{const z=B();if(z.type!=="DRAGGING")return void M();z.hasMoved=!0;const{clientX:q,clientY:V}=L.touches[0],X={x:q,y:V};L.preventDefault(),z.actions.move(X)}},{eventName:"touchend",fn:L=>{const z=B();z.type==="DRAGGING"?(L.preventDefault(),z.actions.drop({shouldBlockNextClick:!0}),N()):M()}},{eventName:"touchcancel",fn:L=>{B().type==="DRAGGING"&&L.preventDefault(),M()}},{eventName:"touchforcechange",fn:L=>{const z=B();z.type==="IDLE"&&ir();const q=L.touches[0];if(!q||!(q.force>=.15))return;const V=z.actions.shouldRespectForcePress();if(z.type!=="PENDING")return V?z.hasMoved?void L.preventDefault():void M():void L.preventDefault();V&&M()}},{eventName:nC,fn:M}]}(w),y),k=vg(window,function({cancel:M,getPhase:N}){return[{eventName:"orientationchange",fn:M},{eventName:"resize",fn:M},{eventName:"contextmenu",fn:B=>{B.preventDefault()}},{eventName:"keydown",fn:B=>{N().type==="DRAGGING"&&B.keyCode===27&&B.preventDefault(),M()}},{eventName:nC,fn:M}]}(w),y);e.current=function(){C(),k()}},[f,r,c]),h=fo(function(){const y=r();y.type!=="PENDING"&&ir();const w=y.actions.fluidLift(y.point);i({type:"DRAGGING",actions:w,hasMoved:!1})},[r,i]),m=fo(function(y,w){r().type!=="IDLE"&&ir();const C=setTimeout(h,120);i({type:"PENDING",point:w,actions:y,longPressTimerId:C}),d()},[d,r,i,h]);eg(function(){return s(),function(){e.current();const y=r();y.type==="PENDING"&&(clearTimeout(y.longPressTimerId),i(NA))}},[r,s,i]),eg(function(){return vg(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}];function b4({contextId:n,store:t,registry:e,customSensors:r,enableDefaultSensors:i}){const a=[...i?w4:[],...r||[]],s=re.useState(()=>function(){let k=null;function M(){k||ir(),k=null}return{isClaimed:function(){return!!k},isActive:function(N){return N===k},claim:function(N){k&&ir();const B={abandon:N};return k=B,B},release:M,tryAbandon:function(){k&&(k.abandon(),M())}}}())[0],c=fo(function(k,M){jx(k)&&!jx(M)&&s.tryAbandon()},[s]);eg(function(){let k=t.getState();return t.subscribe(()=>{const M=t.getState();c(k,M),k=M})},[s,t,c]),eg(()=>s.tryAbandon,[s.tryAbandon]);const f=fo(k=>eB({lockAPI:s,registry:e,store:t,draggableId:k}),[s,e,t]),d=fo((k,M,N)=>function({lockAPI:B,contextId:L,store:z,registry:q,draggableId:V,forceSensorStop:X,sourceEvent:nt}){if(!eB({lockAPI:B,store:z,registry:q,draggableId:V}))return null;const it=q.draggable.getById(V),ct=function(Zt,_t){const Et=`[${XM.contextId}="${Zt}"]`,mt=Oz(document,Et).find(vt=>vt.getAttribute(XM.id)===_t);return mt&&qS(mt)?mt:null}(L,it.descriptor.id);if(!ct||nt&&!it.options.canDragInteractiveElements&&d4(ct,nt))return null;const ft=B.claim(X||e0);let gt="PRE_DRAG";function Ct(){return it.options.shouldRespectForcePress}function kt(){return B.isActive(ft)}const Tt=(function(Zt,_t){rC({expected:Zt,phase:gt,isLockActive:kt,shouldWarn:!0})&&z.dispatch(_t())}).bind(null,"DRAGGING");function At(Zt){function _t(){B.release(),gt="COMPLETED"}function Et(mt,vt={shouldBlockNextClick:!1}){if(Zt.cleanup(),vt.shouldBlockNextClick){const Lt=vg(window,[{eventName:"click",fn:y4,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(Lt)}_t(),z.dispatch(bz({reason:mt}))}return gt!=="PRE_DRAG"&&(_t(),ir()),z.dispatch((mt=>({type:"LIFT",payload:mt}))(Zt.liftActionArgs)),gt="DRAGGING",{isActive:()=>rC({expected:"DRAGGING",phase:gt,isLockActive:kt,shouldWarn:!1}),shouldRespectForcePress:Ct,drop:mt=>Et("DROP",mt),cancel:mt=>Et("CANCEL",mt),...Zt.actions}}return{isActive:()=>rC({expected:"PRE_DRAG",phase:gt,isLockActive:kt,shouldWarn:!1}),shouldRespectForcePress:Ct,fluidLift:function(Zt){const _t=Ox(Et=>{Tt(()=>wz({client:Et}))});return{...At({liftActionArgs:{id:V,clientSelection:Zt,movementMode:"FLUID"},cleanup:()=>_t.cancel(),actions:{move:_t}}),move:_t}},snapLift:function(){const Zt={moveUp:()=>Tt(NZ),moveRight:()=>Tt(BZ),moveDown:()=>Tt(IZ),moveLeft:()=>Tt(RZ)};return At({liftActionArgs:{id:V,clientSelection:g4(ct),movementMode:"SNAP"},cleanup:e0,actions:Zt})},abort:function(){rC({expected:"PRE_DRAG",phase:gt,isLockActive:kt,shouldWarn:!0})&&B.release()}}}({lockAPI:s,registry:e,contextId:n,store:t,draggableId:k,forceSensorStop:M||null,sourceEvent:N&&N.sourceEvent?N.sourceEvent:null}),[n,s,e,t]),h=fo(k=>function(M,N){const B=function(L,z){const q=z.target;if(!function(nt){return nt instanceof Nz(nt).Element}(q))return null;const V=function(nt){return`[${Vw.contextId}="${nt}"]`}(L),X=v4(q,V);return X&&qS(X)?X:null}(M,N);return B?B.getAttribute(Vw.draggableId):null}(n,k),[n]),m=fo(k=>{const M=e.draggable.findById(k);return M?M.options:null},[e.draggable]),y=fo(function(){s.isClaimed()&&(s.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch({type:"FLUSH",payload:null}))},[s,t]),w=fo(()=>s.isClaimed(),[s]),C=ac(()=>({canGetLock:f,tryGetLock:d,findClosestDraggableId:h,findOptionsForDraggable:m,tryReleaseLock:y,isLockClaimed:w}),[f,d,h,m,y,w]);for(let k=0;k<a.length;k++)a[k](C)}function Sb(n){return n.current||ir(),n.current}function x4(n){const{contextId:t,setCallbacks:e,sensors:r,nonce:i,dragHandleUsageInstructions:a}=n,s=re.useRef(null),c=Iz(n),f=fo(()=>(it=>({onBeforeCapture:ct=>{oO.flushSync(()=>{it.onBeforeCapture&&it.onBeforeCapture(ct)})},onBeforeDragStart:it.onBeforeDragStart,onDragStart:it.onDragStart,onDragEnd:it.onDragEnd,onDragUpdate:it.onDragUpdate}))(c.current),[c]),d=fo(()=>(it=>({...hx,...it.autoScrollerOptions,durationDampening:{...hx.durationDampening,...it.autoScrollerOptions}}))(c.current),[c]),h=function(it){const ct=ac(()=>(gt=>`rfd-announcement-${gt}`)(it),[it]),ft=re.useRef(null);return re.useEffect(function(){const gt=document.createElement("div");return ft.current=gt,gt.id=ct,gt.setAttribute("aria-live","assertive"),gt.setAttribute("aria-atomic","true"),zS(gt.style,n4),eC().appendChild(gt),function(){setTimeout(function(){const Ct=eC();Ct.contains(gt)&&Ct.removeChild(gt),gt===ft.current&&(ft.current=null)})}},[ct]),fo(gt=>{const Ct=ft.current;Ct&&(Ct.textContent=gt)},[])}(t),m=function({contextId:it,text:ct}){const ft=mO("hidden-text",{separator:"-"}),gt=ac(()=>function({contextId:Ct,uniqueId:kt}){return`rfd-hidden-text-${Ct}-${kt}`}({contextId:it,uniqueId:ft}),[ft,it]);return re.useEffect(function(){const Ct=document.createElement("div");return Ct.id=gt,Ct.textContent=ct,Ct.style.display="none",eC().appendChild(Ct),function(){const kt=eC();kt.contains(Ct)&&kt.removeChild(Ct)}},[gt,ct]),gt}({contextId:t,text:a}),y=function(it,ct){const ft=ac(()=>(Et=>{const mt=(vt=Et,pe=>`[${pe}="${vt}"]`);var vt;const Lt=(()=>{const pe=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:mt(Vw.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:pe,dragging:"pointer-events: none;",dropAnimating:pe}}})(),ee=[(()=>{const pe=`
      transition: ${fx.outOfTheWay};
    `;return{selector:mt(XM.contextId),styles:{dragging:pe,dropAnimating:pe,userCancel:pe}}})(),Lt,{selector:mt(ZZ.contextId),styles:{always:"overflow-anchor: none;"}},{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:_b(ee,"always"),resting:_b(ee,"resting"),dragging:_b(ee,"dragging"),dropAnimating:_b(ee,"dropAnimating"),userCancel:_b(ee,"userCancel")}})(it),[it]),gt=re.useRef(null),Ct=re.useRef(null),kt=fo(xp(Et=>{const mt=Ct.current;mt||ir(),mt.textContent=Et}),[]),Tt=fo(Et=>{const mt=gt.current;mt||ir(),mt.textContent=Et},[]);eg(()=>{(gt.current||Ct.current)&&ir();const Et=Q8(ct),mt=Q8(ct);return gt.current=Et,Ct.current=mt,Et.setAttribute(`${Hw}-always`,it),mt.setAttribute(`${Hw}-dynamic`,it),OA().appendChild(Et),OA().appendChild(mt),Tt(ft.always),kt(ft.resting),()=>{const vt=Lt=>{const ee=Lt.current;ee||ir(),OA().removeChild(ee),Lt.current=null};vt(gt),vt(Ct)}},[ct,Tt,kt,ft.always,ft.resting,it]);const At=fo(()=>kt(ft.dragging),[kt,ft.dragging]),Zt=fo(Et=>{kt(Et!=="DROP"?ft.userCancel:ft.dropAnimating)},[kt,ft.dropAnimating,ft.userCancel]),_t=fo(()=>{Ct.current&&kt(ft.resting)},[kt,ft.resting]);return ac(()=>({dragging:At,dropping:Zt,resting:_t}),[At,Zt,_t])}(t,i),w=fo(it=>{Sb(s).dispatch(it)},[]),C=ac(()=>v8({publishWhileDragging:MZ,updateDroppableScroll:PZ,updateDroppableIsEnabled:TZ,updateDroppableIsCombineEnabled:OZ,collectionStarting:FZ},w),[w]),k=function(){const it=ac(e4,[]);return re.useEffect(()=>function(){it.clean()},[it]),it}(),M=ac(()=>GZ(k,C),[k,C]),N=ac(()=>(({scrollDroppable:it,scrollWindow:ct,move:ft,getAutoScrollerOptions:gt})=>{const Ct=(({scrollWindow:Tt,scrollDroppable:At,getAutoScrollerOptions:Zt=()=>hx})=>{const _t=Ox(Tt),Et=Ox(At);let mt=null;const vt=Lt=>{mt||ir();const{shouldUseTimeDampening:ee,dragStartTime:pe}=mt;X8({state:Lt,scrollWindow:_t,scrollDroppable:Et,dragStartTime:pe,shouldUseTimeDampening:ee,getAutoScrollerOptions:Zt})};return{start:Lt=>{mt&&ir();const ee=Date.now();let pe=!1;const ve=()=>{pe=!0};X8({state:Lt,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:ve,scrollDroppable:ve,getAutoScrollerOptions:Zt}),mt={dragStartTime:ee,shouldUseTimeDampening:pe},pe&&vt(Lt)},stop:()=>{mt&&(_t.cancel(),Et.cancel(),mt=null)},scroll:vt}})({scrollWindow:ct,scrollDroppable:it,getAutoScrollerOptions:gt}),kt=(({move:Tt,scrollDroppable:At,scrollWindow:Zt})=>{const _t=(mt,vt)=>{if(!YM(mt,vt))return vt;const Lt=((pe,ve)=>{const Oe=pe.frame;return Oe&&YM(pe,ve)?KM({current:Oe.scroll.current,max:Oe.scroll.max,change:ve}):null})(mt,vt);if(!Lt)return At(mt.descriptor.id,vt),null;const ee=tg(vt,Lt);return At(mt.descriptor.id,ee),tg(vt,ee)},Et=(mt,vt,Lt)=>{if(!mt||!GM(vt,Lt))return Lt;const ee=((ve,Oe)=>{if(!GM(ve,Oe))return null;const qe=ve.scroll.max,He=ve.scroll.current;return KM({current:He,max:qe,change:Oe})})(vt,Lt);if(!ee)return Zt(Lt),null;const pe=tg(Lt,ee);return Zt(pe),tg(Lt,pe)};return mt=>{const vt=mt.scrollJumpRequest;if(!vt)return;const Lt=ig(mt.impact);Lt||ir();const ee=_t(mt.dimensions.droppables[Lt],vt);if(!ee)return;const pe=mt.viewport,ve=Et(mt.isWindowScrollAllowed,pe,ee);ve&&((Oe,qe)=>{const He=jp(Oe.current.client.selection,qe);Tt({client:He})})(mt,ve)}})({move:ft,scrollWindow:ct,scrollDroppable:it});return{scroll:Tt=>{gt().disabled||Tt.phase!=="DRAGGING"||(Tt.movementMode!=="FLUID"?Tt.scrollJumpRequest&&kt(Tt):Ct.scroll(Tt))},start:Ct.start,stop:Ct.stop}})({scrollWindow:YZ,scrollDroppable:M.scrollDroppable,getAutoScrollerOptions:d,...v8({move:wz},w)}),[M.scrollDroppable,w,d]),B=function(it){const ct=re.useRef({}),ft=re.useRef(null),gt=re.useRef(null),Ct=re.useRef(!1),kt=fo(function(Et,mt){const vt={id:Et,focus:mt};return ct.current[Et]=vt,function(){const Lt=ct.current;Lt[Et]!==vt&&delete Lt[Et]}},[]),Tt=fo(function(Et){const mt=t4(it,Et);mt&&mt!==document.activeElement&&mt.focus()},[it]),At=fo(function(Et,mt){ft.current===Et&&(ft.current=mt)},[]),Zt=fo(function(){gt.current||Ct.current&&(gt.current=requestAnimationFrame(()=>{gt.current=null;const Et=ft.current;Et&&Tt(Et)}))},[Tt]),_t=fo(function(Et){ft.current=null;const mt=document.activeElement;mt&&mt.getAttribute(Vw.draggableId)===Et&&(ft.current=Et)},[]);return eg(()=>(Ct.current=!0,function(){Ct.current=!1;const Et=gt.current;Et&&cancelAnimationFrame(Et)}),[]),ac(()=>({register:kt,tryRecordFocus:_t,tryRestoreFocusRecorded:Zt,tryShiftRecord:At}),[kt,_t,Zt,At])}(t),L=ac(()=>KZ({announce:h,autoScroller:N,dimensionMarshal:M,focusMarshal:B,getResponders:f,styleMarshal:y}),[h,N,M,B,f,y]);s.current=L;const z=fo(()=>{const it=Sb(s);it.getState().phase!=="IDLE"&&it.dispatch({type:"FLUSH",payload:null})},[]),q=fo(()=>{const it=Sb(s).getState();return it.phase==="DROP_ANIMATING"||it.phase!=="IDLE"&&it.isDragging},[]);e(ac(()=>({isDragging:q,tryAbort:z}),[q,z]));const V=fo(it=>Pz(Sb(s).getState(),it),[]),X=fo(()=>j0(Sb(s).getState()),[]),nt=ac(()=>({marshal:M,focus:B,contextId:t,canLift:V,isMovementAllowed:X,dragHandleUsageInstructionsId:m,registry:k}),[t,M,m,B,V,X,k]);return b4({contextId:t,store:L,registry:k,customSensors:r||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),re.useEffect(()=>z,[z]),Vi.createElement(AE.Provider,{value:nt},Vi.createElement(fZ,{context:gO,store:L},n.children))}function D4(n){const t=Vi.useId(),e=n.dragHandleUsageInstructions||vZ;return Vi.createElement(mZ,null,r=>Vi.createElement(x4,{nonce:n.nonce,contextId:t,setCallbacks:r,dragHandleUsageInstructions:e,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const C4=(n,t)=>t?fx.drop(t.duration):n?fx.snap:fx.fluid,_4=(n,t)=>{if(n)return t?Dz:jZ};function S4(n){return n.type==="DRAGGING"?function(t){const e=t.dimension.client,{offset:r,combineWith:i,dropping:a}=t,s=!!i,c=(h=>h.forceShouldAnimate!=null?h.forceShouldAnimate:h.mode==="SNAP")(t),f=!!a,d=f?((h,m)=>{const y=Sz(h);if(y)return m?`${y} scale(${Cz})`:y})(r,s):H8(r);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:C4(c,a),transform:d,opacity:_4(s,f),zIndex:f?4500:5e3,pointerEvents:"none"}}(n):function(t){return{transform:H8(t.offset),transition:t.shouldAnimateDisplacement?void 0:"none"}}(n)}var vO=Vi.createContext(null);function KS(n){const t=re.useContext(n);return t||ir(),t}function E4(n){n.preventDefault()}var jz=(n,t)=>n===t,Lz=n=>{const{combine:t,destination:e}=n;return e?e.droppableId:t?t.droppableId:null};function zz(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const A4={mapped:{type:"SECONDARY",offset:_p,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:zz(null)}},k4=XL(()=>{const n=function(){const e=xp((a,s)=>({x:a,y:s})),r=xp((a,s,c=null,f=null,d=null)=>({isDragging:!0,isClone:s,isDropAnimating:!!d,dropAnimation:d,mode:a,draggingOver:c,combineWith:f,combineTargetFor:null})),i=xp((a,s,c,f,d=null,h=null,m=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:h,mode:s,offset:a,dimension:c,forceShouldAnimate:m,snapshot:r(s,f,d,h,null)}}));return(a,s)=>{if(jx(a)){if(a.critical.draggable.id!==s.draggableId)return null;const f=a.current.client.offset,d=a.dimensions.draggables[s.draggableId],h=ig(a.impact),m=(c=a.impact).at&&c.at.type==="COMBINE"?c.at.combine.draggableId:null,y=a.forceShouldAnimate;return i(e(f.x,f.y),a.movementMode,d,s.isClone,h,m,y)}var c;if(a.phase==="DROP_ANIMATING"){const f=a.completed;if(f.result.draggableId!==s.draggableId)return null;const d=s.isClone,h=a.dimensions.draggables[s.draggableId],m=f.result,y=m.mode,w=Lz(m),C=(M=>M.combine?M.combine.draggableId:null)(m),k={duration:a.dropDuration,curve:xz,moveTo:a.newHomeClientOffset,opacity:C?Dz:null,scale:C?Cz:null};return{mapped:{type:"DRAGGING",offset:a.newHomeClientOffset,dimension:h,dropping:k,draggingOver:w,combineWith:C,mode:y,forceShouldAnimate:null,snapshot:r(y,d,w,C,k)}}}return null}}(),t=function(){const e=xp((c,f)=>({x:c,y:f})),r=xp(zz),i=xp((c,f=null,d)=>({mapped:{type:"SECONDARY",offset:c,combineTargetFor:f,shouldAnimateDisplacement:d,snapshot:r(f)}})),a=c=>c?i(_p,c,!0):null,s=(c,f,d,h)=>{const m=d.displaced.visible[c],y=!!(h.inVirtualList&&h.effected[c]),w=EE(d),C=w&&w.draggableId===c?f:null;if(!m){if(!y)return a(C);if(d.displaced.invisible[c])return null;const N=$w(h.displacedBy.point),B=e(N.x,N.y);return i(B,C,!0)}if(y)return a(C);const k=d.displacedBy.point,M=e(k.x,k.y);return i(M,C,m.shouldAnimate)};return(c,f)=>{if(jx(c))return c.critical.draggable.id===f.draggableId?null:s(f.draggableId,c.critical.draggable.id,c.impact,c.afterCritical);if(c.phase==="DROP_ANIMATING"){const d=c.completed;return d.result.draggableId===f.draggableId?null:s(f.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}();return(e,r)=>n(e,r)||t(e,r)||A4},{dropAnimationFinished:()=>({type:"DROP_ANIMATION_FINISHED",payload:null})},null,{context:gO,areStatePropsEqual:jz})(n=>{const t=re.useRef(null),e=fo((V=null)=>{t.current=V},[]),r=fo(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=KS(AE),{type:c,droppableId:f}=KS(vO),d=ac(()=>({id:n.draggableId,index:n.index,type:c,droppableId:f}),[n.draggableId,n.index,c,f]),{children:h,draggableId:m,isEnabled:y,shouldRespectForcePress:w,canDragInteractiveElements:C,isClone:k,mapped:M,dropAnimationFinished:N}=n;k||function(V){const X=mO("draggable"),{descriptor:nt,registry:it,getDraggableRef:ct,canDragInteractiveElements:ft,shouldRespectForcePress:gt,isEnabled:Ct}=V,kt=ac(()=>({canDragInteractiveElements:ft,shouldRespectForcePress:gt,isEnabled:Ct}),[ft,Ct,gt]),Tt=fo(Et=>{const mt=ct();return mt||ir(),function(vt,Lt,ee=_p){const pe=window.getComputedStyle(Lt),ve=Lt.getBoundingClientRect(),Oe=QL(ve,pe),qe=LS(Oe,ee);return{descriptor:vt,placeholder:{client:Oe,tagName:Lt.tagName.toLowerCase(),display:pe.display},displaceBy:{x:Oe.marginBox.width,y:Oe.marginBox.height},client:Oe,page:qe}}(nt,mt,Et)},[nt,ct]),At=ac(()=>({uniqueId:X,descriptor:nt,options:kt,getDimension:Tt}),[nt,Tt,kt,X]),Zt=re.useRef(At),_t=re.useRef(!0);eg(()=>(it.draggable.register(Zt.current),()=>it.draggable.unregister(Zt.current)),[it.draggable]),eg(()=>{if(_t.current)return void(_t.current=!1);const Et=Zt.current;Zt.current=At,it.draggable.update(At,Et)},[At,it.draggable])}(ac(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:w,isEnabled:y}),[d,s,r,C,w,y]));const B=ac(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:E4}:null,[i,a,m,y]),L=fo(V=>{M.type==="DRAGGING"&&M.dropping&&V.propertyName==="transform"&&oO.flushSync(N)},[N,M]),z=ac(()=>{const V=S4(M),X=M.type==="DRAGGING"&&M.dropping?L:void 0;return{innerRef:e,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":m,style:V,onTransitionEnd:X},dragHandleProps:B}},[i,B,m,M,L,e]),q=ac(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Vi.createElement(Vi.Fragment,null,h(z,M.snapshot,q))});function Uz(n){return KS(vO).isUsingCloneFor!==n.draggableId||n.isClone?Vi.createElement(k4,n):null}function M4(n){const t=typeof n.isDragDisabled!="boolean"||!n.isDragDisabled,e=!!n.disableInteractiveElementBlocking,r=!!n.shouldRespectForcePress;return Vi.createElement(Uz,zS({},n,{isClone:!1,isEnabled:t,canDragInteractiveElements:e,shouldRespectForcePress:r}))}const $z=n=>t=>n===t,F4=$z("scroll"),P4=$z("auto"),nB=(n,t)=>t(n.overflowX)||t(n.overflowY),T4=n=>{const t=window.getComputedStyle(n),e={overflowX:t.overflowX,overflowY:t.overflowY};return nB(e,F4)||nB(e,P4)},Wz=n=>n==null?null:n===document.body?!1?n:null:n===document.documentElement?null:T4(n)?n:Wz(n.parentElement);var IA=n=>({x:n.scrollLeft,y:n.scrollTop});const Hz=n=>!!n&&(window.getComputedStyle(n).position==="fixed"||Hz(n.parentElement)),O4={passive:!1},N4={passive:!0};var rB=n=>n.shouldPublishImmediately?O4:N4;const iC=n=>n&&n.env.closestScrollable||null;function I4(n){const t=re.useRef(null),e=KS(AE),r=mO("droppable"),{registry:i,marshal:a}=e,s=Iz(n),c=ac(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),f=re.useRef(c),d=ac(()=>xp((z,q)=>{t.current||ir();const V={x:z,y:q};a.updateDroppableScroll(c.id,V)}),[c.id,a]),h=fo(()=>{const z=t.current;return z&&z.env.closestScrollable?IA(z.env.closestScrollable):_p},[]),m=fo(()=>{const z=h();d(z.x,z.y)},[h,d]),y=ac(()=>Ox(m),[m]),w=fo(()=>{const z=t.current,q=iC(z);z&&q||ir(),z.scrollOptions.shouldPublishImmediately?m():y()},[y,m]),C=fo((z,q)=>{t.current&&ir();const V=s.current,X=V.getDroppableRef();X||ir();const nt=(gt=>({closestScrollable:Wz(gt),isFixedOnPage:Hz(gt)}))(X),it={ref:X,descriptor:c,env:nt,scrollOptions:q};t.current=it;const ct=(({ref:gt,descriptor:Ct,env:kt,windowScroll:Tt,direction:At,isDropDisabled:Zt,isCombineEnabled:_t,shouldClipSubject:Et})=>{const mt=kt.closestScrollable,vt=((ve,Oe)=>{const qe=F8(ve);if(!Oe||ve!==Oe)return qe;const He=qe.paddingBox.top-Oe.scrollTop,wn=qe.paddingBox.left-Oe.scrollLeft,nn=He+Oe.scrollHeight,cr=wn+Oe.scrollWidth,bi=sO({top:He,right:cr,bottom:nn,left:wn},qe.border);return uO({borderBox:bi,margin:qe.margin,border:qe.border,padding:qe.padding})})(gt,mt),Lt=LS(vt,Tt),ee=(()=>{if(!mt)return null;const ve=F8(mt),Oe={scrollHeight:mt.scrollHeight,scrollWidth:mt.scrollWidth};return{client:ve,page:LS(ve,Tt),scroll:IA(mt),scrollSize:Oe,shouldClipSubject:Et}})();return(({descriptor:ve,isEnabled:Oe,isCombineEnabled:qe,isFixedOnPage:He,direction:wn,client:nn,page:cr,closest:bi})=>{const Vt=(()=>{if(!bi)return null;const{scrollSize:dt,client:bt}=bi,Ot=kz({scrollHeight:dt.scrollHeight,scrollWidth:dt.scrollWidth,height:bt.paddingBox.height,width:bt.paddingBox.width});return{pageMarginBox:bi.page.marginBox,frameClient:bt,scrollSize:dt,shouldClipSubject:bi.shouldClipSubject,scroll:{initial:bi.scroll,current:bi.scroll,max:Ot,diff:{value:_p,displacement:_p}}}})(),rt=wn==="vertical"?cO:sz;return{descriptor:ve,isCombineEnabled:qe,isFixedOnPage:He,axis:rt,isEnabled:Oe,client:nn,page:cr,frame:Vt,subject:Ww({page:cr,withPlaceholder:null,axis:rt,frame:Vt})}})({descriptor:Ct,isEnabled:!Zt,isCombineEnabled:_t,isFixedOnPage:kt.isFixedOnPage,direction:At,client:vt,page:Lt,closest:ee})})({ref:X,descriptor:c,env:nt,windowScroll:z,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),ft=nt.closestScrollable;return ft&&(ft.setAttribute(J8.contextId,e.contextId),ft.addEventListener("scroll",w,rB(it.scrollOptions))),ct},[e.contextId,c,w,s]),k=fo(()=>{const z=t.current,q=iC(z);return z&&q||ir(),IA(q)},[]),M=fo(()=>{const z=t.current;z||ir();const q=iC(z);t.current=null,q&&(y.cancel(),q.removeAttribute(J8.contextId),q.removeEventListener("scroll",w,rB(z.scrollOptions)))},[w,y]),N=fo(z=>{const q=t.current;q||ir();const V=iC(q);V||ir(),V.scrollTop+=z.y,V.scrollLeft+=z.x},[]),B=ac(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:k,dragStopped:M,scroll:N}),[M,C,k,N]),L=ac(()=>({uniqueId:r,descriptor:c,callbacks:B}),[B,c,r]);eg(()=>(f.current=L.descriptor,i.droppable.register(L),()=>{t.current&&M(),i.droppable.unregister(L)}),[B,c,M,L,a,i.droppable]),eg(()=>{t.current&&a.updateDroppableIsEnabled(f.current.id,!n.isDropDisabled)},[n.isDropDisabled,a]),eg(()=>{t.current&&a.updateDroppableIsCombineEnabled(f.current.id,n.isCombineEnabled)},[n.isCombineEnabled,a])}function BA(){}const B4={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}};var R4=Vi.memo(n=>{const t=re.useRef(null),e=fo(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=n,[c,f]=re.useState(n.animate==="open");re.useEffect(()=>c?r!=="open"?(e(),f(!1),BA):t.current?BA:(t.current=setTimeout(()=>{t.current=null,f(!1)}),e):BA,[r,c,e]);const d=fo(m=>{m.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=(({isAnimatingOpenOnMount:m,placeholder:y,animate:w})=>{const C=(({isAnimatingOpenOnMount:k,placeholder:M,animate:N})=>k||N==="close"?B4:{height:M.client.borderBox.height,width:M.client.borderBox.width,margin:M.client.margin})({isAnimatingOpenOnMount:m,placeholder:y,animate:w});return{display:y.display,boxSizing:"border-box",width:C.width,height:C.height,marginTop:C.margin.top,marginRight:C.margin.right,marginBottom:C.margin.bottom,marginLeft:C.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:w!=="none"?fx.placeholder:null}})({isAnimatingOpenOnMount:c,animate:n.animate,placeholder:n.placeholder});return Vi.createElement(n.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:n.innerRef})});let j4=class extends Vi.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}};const iB={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||ir(),document.body}},oB=n=>{let t,e={...n};for(t in iB)n[t]===void 0&&(e={...e,[t]:iB[t]});return e},RA=(n,t)=>n===t.droppable.type,aB=(n,t)=>t.draggables[n.draggable.id],L4=XL(()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...n,shouldAnimatePlaceholder:!1},e=xp(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=xp((i,a,s,c,f,d)=>{const h=f.descriptor.id;if(f.descriptor.droppableId===i){const y=d?{render:d,dragging:e(f.descriptor)}:null,w={isDraggingOver:s,draggingOverWith:s?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:y}}if(!a)return t;if(!c)return n;const m={isDraggingOver:s,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(i,a)=>{const s=oB(a),c=s.droppableId,f=s.type,d=!s.isDropDisabled,h=s.renderClone;if(jx(i)){const m=i.critical;if(!RA(f,m))return t;const y=aB(m,i.dimensions),w=ig(i.impact)===c;return r(c,d,w,w,y,h)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!RA(f,m.critical))return t;const y=aB(m.critical,i.dimensions);return r(c,d,Lz(m.result)===c,ig(m.impact)===c,y,h)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!RA(f,m.critical))return t;const y=ig(m.impact)===c,w=!!(m.impact.at&&m.impact.at.type==="COMBINE"),C=m.critical.droppable.id===c;return y?w?n:t:C?n:t}return t}},{updateViewportMaxScroll:n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n})},(n,t,e)=>({...oB(e),...n,...t}),{context:gO,areStatePropsEqual:jz})(n=>{const t=re.useContext(AE);t||ir();const{contextId:e,isMovementAllowed:r}=t,i=re.useRef(null),a=re.useRef(null),{children:s,droppableId:c,type:f,mode:d,direction:h,ignoreContainerClipping:m,isDropDisabled:y,isCombineEnabled:w,snapshot:C,useClone:k,updateViewportMaxScroll:M,getContainerForClone:N}=n,B=fo(()=>i.current,[]),L=fo((ct=null)=>{i.current=ct},[]);fo(()=>a.current,[]);const z=fo((ct=null)=>{a.current=ct},[]),q=fo(()=>{r()&&M({maxScroll:Fz()})},[r,M]);I4({droppableId:c,type:f,mode:d,direction:h,isDropDisabled:y,isCombineEnabled:w,ignoreContainerClipping:m,getDroppableRef:B});const V=ac(()=>Vi.createElement(j4,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:ct,data:ft,animate:gt})=>Vi.createElement(R4,{placeholder:ft,onClose:ct,innerRef:z,animate:gt,contextId:e,onTransitionEnd:q})),[e,q,n.placeholder,n.shouldAnimatePlaceholder,z]),X=ac(()=>({innerRef:L,placeholder:V,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":e}}),[e,c,V,L]),nt=k?k.dragging.draggableId:null,it=ac(()=>({droppableId:c,type:f,isUsingCloneFor:nt}),[c,nt,f]);return Vi.createElement(vO.Provider,{value:it},s(X,C),function(){if(!k)return null;const{dragging:ct,render:ft}=k,gt=Vi.createElement(Uz,{draggableId:ct.draggableId,index:ct.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ct,kt)=>ft(Ct,kt,ct));return RQ.createPortal(gt,N())}())});var z4=L4;function U4(n){var t=n.children,e=n.droppableProps,r=n.innerRef;return fe.jsx("div",Ts({style:{backgroundColor:"#1D2126",padding:"10px",borderRight:"1px solid #3A424B",width:"100%",boxSizing:"border-box",height:"100%",overflowY:"auto",userSelect:"none"}},e,{ref:r,children:t}))}function vv(n){var t=n.onCommit,e=t===void 0?function(Et){}:t,r=n.isValid,i=r===void 0?function(Et){return!0}:r,a=n.initialValue,s=a===void 0?"":a,c=n.color,f=c===void 0?"var(--gray7)":c,d=n.bgColor,h=d===void 0?"var(--gray3)":d,m=n.bgActive,y=m===void 0?"var(--gray4)":m,w=n.bgInvalidInput,C=w===void 0?"var(--danger)":w,k=n.invalidInputColor,M=k===void 0?"var(--gray2)":k,N=n.charSize,B=N===void 0?void 0:N,L=n.maxCharSize,z=L===void 0?30:L,q=Vi.useState(!1),V=q[0],X=q[1],nt=Vi.useState(!0),it=nt[0],ct=nt[1],ft=function(){return Math.random().toString(36).substring(7)},gt=Vi.useState(ft()),Ct=gt[0],kt=gt[1],Tt=Vi.useState(B||s.length),At=Tt[0],Zt=Tt[1],_t=function(){X(!1),ct(!0),kt(ft())};return fe.jsx("input",{type:"text",defaultValue:s,size:At,style:{backgroundColor:V?it?y:C:h,color:it?f:M,border:"none",padding:"5px",paddingLeft:"10px",borderRadius:"var(--borderRadiusSmall)",minWidth:"100px",fontSize:"16px"},readOnly:!V,onFocus:function(){return X(!0)},onChange:function(Et){ct(i(Et.target.value)),B||(Et.target.value.length<=z?Zt(Et.target.value.length):Zt(z))},onBlur:function(Et){it?(_t(),e(Et.target.value)):(Et.target.value=s,_t())},onKeyDown:function(Et){Et.key==="Enter"&&(it?(_t(),e(Et.target.value)):_t())}},Ct)}function cw(n){var t=n.iconName,e=t===void 0?"home":t,r=n.bgColor,i=r===void 0?"transparent":r,a=n.hoverBgColor,s=a===void 0?"var(--gray3)":a,c=n.color,f=c===void 0?"var(--gray6)":c,d=n.hoverColor,h=d===void 0?"var(--gray7)":d,m=n.cursor,y=m===void 0?"pointer":m,w=n.onClick,C=w===void 0?function(){}:w,k=Vi.useState(!1),M=k[0],N=k[1];return fe.jsx("div",{style:{userSelect:"none",width:"35px",height:"35px",margin:"5px",cursor:y,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:M?s:i,transition:"background-color 0.2s",fontSize:"20px",color:M?h:f},className:"materialSymbols",onMouseOver:function(){return N(!0)},onMouseOut:function(){return N(!1)},onClick:C,children:fe.jsxs("div",{children:[" ",e]})})}function wv(n){var t=n.text,e=t===void 0?void 0:t,r=n.iconName,i=r===void 0?void 0:r,a=n.bgColor,s=a===void 0?"var(--gray3)":a,c=n.hoverBgColor,f=c===void 0?"var(--gray4)":c,d=n.color,h=d===void 0?"var(--gray7)":d,m=n.hoverColor,y=m===void 0?"var(--gray8)":m,w=n.cursor,C=w===void 0?"pointer":w,k=n.onClick,M=k===void 0?function(){}:k,N=Vi.useState(!1),B=N[0],L=N[1];return fe.jsxs("button",{onMouseOver:function(){return L(!0)},onMouseOut:function(){return L(!1)},onClick:M,style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",padding:"0px",cursor:C,height:"35px",margin:"5px",userSelect:"none",backgroundColor:B?f:s,transition:"background-color 0.2s",fontSize:"var(--defaultFontSize)",color:B?y:h,border:"none",borderRadius:"5px"},children:[e?fe.jsx("div",{style:{marginTop:"2px",marginRight:i?"2px":"15px",marginLeft:"15px"},children:e}):null,i?fe.jsx("div",{style:{marginRight:e?"0px":"10px",marginLeft:e?"0px":"10px"},children:fe.jsx(cw,{iconName:i,color:B?y:h,hoverColor:B?y:h,bgColor:"transparent",hoverBgColor:"transparent"})}):null]})}function $4(n){var t=n.signalId,e=n.project,r=n.projectTools,i=n.index,a=Vi.useState(!1),s=a[0],c=a[1],f=Vi.useState(!1),d=f[0],h=f[1],m=e.orgData.signalNames[t],y=e.orgData.activeSignalIds.includes(t);return fe.jsx(M4,{draggableId:t,index:i,children:function(w){return fe.jsxs("div",Ts({onMouseOver:function(){return c(!0)},onMouseOut:function(){return c(!1)},ref:w.innerRef},w.draggableProps,{style:Ts({width:"100%",borderRadius:"5px",backgroundColor:"#282E34",color:"#C1BFAB",marginBottom:"10px",display:"grid",gridTemplateColumns:"auto auto 1fr auto auto auto",gridTemplateAreas:"'drag-handle signal-name . duplicate delete toggle-active'"},w.draggableProps.style),children:[fe.jsx("div",Ts({style:{gridArea:"drag-handle"}},w.dragHandleProps,{children:fe.jsx(cw,{iconName:"drag_indicator",cursor:"grab"})})),fe.jsx("div",{onMouseOver:function(){return h(!0)},onMouseOut:function(){return h(!1)},style:{display:"flex",alignItems:"center",gridArea:"signal-name"},children:fe.jsx(vv,{initialValue:m,isValid:function(C){return C.length>0},onCommit:function(C){return r.updateSignalName(t,C)},bgColor:d?void 0:"transparent"})}),fe.jsx("div",{style:{gridArea:"duplicate",display:s?"block":"none"},children:fe.jsx(cw,{iconName:"content_copy",onClick:function(){return r.duplicateSignal(t)}})}),fe.jsx("div",{style:{gridArea:"toggle-active"},children:fe.jsx(cw,{iconName:y?"visibility":"visibility_off",hoverBgColor:y?"#50aaeb50":void 0,color:y?"#50aaeb":void 0,hoverColor:y?"white":void 0,onClick:function(){return r.updateSignalActiveStatus(t,!y)}})}),fe.jsx("div",{style:{gridArea:"delete",display:s?"block":"none"},onClick:function(){return r.deleteSignal(t)},children:fe.jsx(cw,{iconName:"delete",onClick:function(){return r.deleteSignal(t)}})})]}))}})}function W4(n){var t=n,e=t.project.orgData.signalIds,r=t.projectTools.updateSignalIndex,i=re.useState(!1),a=i[0],s=i[1],c=re.useState(null),f=c[0],d=c[1],h=re.useState([]),m=h[0],y=h[1];e.join(",")===m.join(",")||a||y(e);var w=function(C,k,M){var N=function(B,L,z){var q=Array.from(B),V=q.splice(L,1)[0];return q.splice(z,0,V),Ud([],q,!0)}(m,C,k);r(f,N.indexOf(f),M),M&&y(N)};return fe.jsx(D4,{onDragStart:function(C){d(C.draggableId),s(!0)},onDragEnd:function(C){s(!1),C.destination&&w(C.source.index,C.destination.index,!0)},onDragUpdate:function(C){C.destination&&w(C.source.index,C.destination.index,!1)},children:fe.jsx(z4,{droppableId:"list",children:function(C){return fe.jsxs(U4,{innerRef:C.innerRef,droppableProps:C.droppableProps,children:[m.map(function(k,M){return fe.jsx($4,{signalId:k,index:M,projectTools:t.projectTools,project:t.project},k)}),C.placeholder]})}})})}(function(n,t){t===void 0&&(t={});var e=t.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}})(`
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

/* Remove default margin in favour of better control in authored CSS */
body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd {
  margin-block-end: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
  line-height: 1.5;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2,
h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
  display: block;
}

/* Inherit fonts for inputs and buttons */
input, button,
textarea, select {
  font-family: inherit;
  font-size: inherit;
}

input:focus {
    outline: none;
  }
  

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}




@font-face {
    font-family: 'Material Symbols';
    src: url('https://storage.googleapis.com/pinsandcurvesfontservice/MaterialSymbolsSharp%5BFILL%2CGRAD%2Copsz%2Cwght%5D.woff2') format('woff');
    font-weight: normal;
    font-style: normal;
}

.materialSymbols {
    font-family: 'Material Symbols';
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
}

:root {
    --gray1: #1D2126;
    --gray2: #2C333A;
    --gray3: #3B434B;
    --gray4: #49525B;
    --gray5: #59646E;
    --gray6: #708090;
    --gray7 : #C6D6E6;
    --gray8 : white;
    --danger: pink;

    --green2: #6EBD6F;
    --green1: #84D585;
    --green3: #429A44;
    --green4: #1D471E;

    --yellow1: #FFF8D3;
    --yellow2: #FFF1A8;
    --yellow3: #E6C622;
    --yellow4: #A48E20;

    --borderRadiusSmall: 5px;

    --defaultFontSize: 16px;


    font-family: 'Roboto', sans-serif;
}

hr {
    border: none;
    border-top: 2px solid var(--gray3);
    margin: 1em 0;
  
}`);var JM=function(n,t){return JM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},JM(n,t)},Vh=function(){return Vh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},Vh.apply(this,arguments)};function Sv(n,t,e){for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}function dd(n,t){return[n[0]+t[0],n[1]+t[1]]}function sp(n,t){return[n[0]-t[0],n[1]-t[1]]}function z_(n,t){return[n[0]*t[0],n[1]*t[1]]}function py(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function sB(n,t){return n[0]*t[0]+n[1]*t[1]}function oC(n,t){return[n[0]*t,n[1]*t]}function Ry(n,t){var e=[n[0][0],n[0][1],n[2][0],n[2][1]],r=e[0],i=e[1],a=e[2],s=e[3],c=[t[0][0],t[0][1],t[2][0],t[2][1]];return!(r>c[2]||a<c[0]||i>c[3]||s<c[1])}var uB,aC,sC,bs=function(){function n(t,e,r){t===void 0&&(t=[0,0]),e===void 0&&(e=0),r===void 0&&(r=0),this._o=t,this._w=e,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(t){this._o=t},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(t){var e={x:t[0],y:t[1]},r=e.x,i=e.y,a={oX:this.o[0],oY:this.o[1]},s=a.oX,c=a.oY;return!(r<s||r>s+this.w||i<c||i>c+this.h)},n.prototype.clone=function(){return new n(Sv([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,dd(this.o,[this.w,0]),dd(this.o,[this.w,this.h]),dd(this.o,[0,this.h])]},n.prototype.getCenter=function(){return dd(this.o,[this.w/2,this.h/2])},n}(),tl=function(n){function t(){var e=n.call(this)||this;return e.layer=0,e.children=[],e._isPrimaryCamera=!1,e._needsUpdate=!1,e._needsUpdate_root=!1,e.updateWhenCameraChanges=!1,e.state=void 0,e.context={},e.windowDidMountPrimitiveIsRunning=!1,e.childIndex=0,e.isCanvasRoot=!1,e.props={},e.globalPositioning=!1,e}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}JM(e,r),e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(t,n),Object.defineProperty(t.prototype,"_cameraSnapshot",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.canvas},enumerable:!1,configurable:!0}),t.prototype.setAsPrimaryCamera=function(){var e;(e=this._root)===null||e===void 0||e.installCamera(this)},t.prototype.setState=function(e){var r,i;if(this.state===e)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=e:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(a){a.updateWhenCameraChanges&&(a._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,e))},t.prototype.setContext=function(e,r){var i,a;this.windowDidMountPrimitiveIsRunning?this.context[e]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[e]=r,(a=this._root)===null||a===void 0||a.scheduleContextUpdate(this,e,r))},t.prototype.windowDidMountPrimitive=function(e){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(e),this.windowDidMountPrimitiveIsRunning=!1},t.prototype.windowDidMount=function(e){},t.prototype.windowDidUpdate=function(e){},t.prototype.cameraDidUpdate=function(){},t.prototype.windowWillUnmount=function(){},t.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var e=this.getBox();return this._boxSnapshot=e,e},t.prototype.getBox=function(){return new bs([0,0],0,0)},Object.defineProperty(t.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),t.prototype.cameraPassUpdateSelf=function(){var e,r,i=this;this._isPrimaryCamera?(e=this._root)===null||e===void 0||e.windows.forEach(function(a){var s;(s=i._root)===null||s===void 0||s.taintLayer(a.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(Vh({},this.props)))},t.prototype.cameraPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(c){return c(e)}),i=this.children.filter(function(c){return!r.includes(c)}),a=r.filter(function(c){return!e.children.includes(c)});this.children=r,i.forEach(function(c){return c.windowWillUnmount()}),a.forEach(function(c){return c.windowDidMountPrimitive(c.props)});var s=this.children.find(function(c){return c._needsUpdate});this.children.forEach(function(c){c._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},t.prototype.regularPassUpdateSelf=function(){var e;this._boxSnapshot=void 0,(e=this._root)===null||e===void 0||e.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(Vh({},this.props))},t.prototype.regularPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(e)}),i=this.children.filter(function(s){return!r.includes(s)}),a=r.filter(function(s){return!e.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),a.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},t.prototype.getChildren=function(e){return[]},t.prototype.incChildIndex=function(){this.childIndex++},t.Node=function(e){var r=this,i=this.name;return function(a){if(a.isCanvasRoot){var s=void 0;return(s=new r)._root=a,s.setKey("root"),s.props=e||{},s.context=Vh({},s.context),s}var c=a.childIndex;e||(e={});var f=e.key?e.key:"".concat(i,"[").concat(c,"]");return s=void 0,a.children.findIndex(function(d){return d.key===f})!==-1?s=a.children.find(function(d){return d.key===f}):((s=new r)._parent=a,s._root=a._root,s.setKey(f)),s.props=Vh({},e),s.context=Vh(Vh({},s.context),a.context),a.incChildIndex(),s}},Object.defineProperty(t.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),t.prototype.getChildByKey=function(e){return this.children.find(function(r){return r.key===e})},t.prototype.getBoundingBox=function(){var e=this.globalO,r=e[0],i=e[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},t.prototype.pointInside=function(e){return n.prototype.pointInside.call(this,sp(e,this.parentO))},Object.defineProperty(t.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var e=this._parent.globalO,r=e[0],i=e[1],a=this.o;return[r+a[0],i+a[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),t.prototype.getLayer=function(){return this.layer},t.prototype.setLayer=function(e){this.layer=e},t.prototype.setKey=function(e){this.key=e},Object.defineProperty(t.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),t.prototype.absoluteToCanvasMeasure=function(e){return z_(e,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},t.prototype.canvasToAbsoluteMeasure=function(e){return z_(e,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(t.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),t.prototype.prepareHandlerProps=function(){var e=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),a=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,c=this.absoluteUnit,f=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:a,camera:e,canvasUnit:s,canvasO:f,absoluteUnit:c}},t.prototype.preparePostBoxHandlerProps=function(){var e=this,r=this._cameraSnapshot,i=this._canvas,a=function(c){var f=e.globalO,d=c[0],h=c[1],m=[f[0]+d,f[1]+h],y=m[0],w=m[1],C=r.o,k=[y-C[0],w-C[1]],M=k[1];return[k[0]*(i.width/r.w),M*(i.height/r.h)]},s=a([0,0]);return Vh(Vh({},this.prepareHandlerProps()),{localToCanvas:a,canvasToLocal:function(c){var f=e.globalO;return sp(dd(z_(c,[r.w/i.width,r.h/i.height]),r.o),f)},absoluteO:s})},t.prototype.prepareMouseHandlerProps=function(e,r){var i=this.preparePostBoxHandlerProps(),a=this.canvasUnit,s=a[0],c=a[1],f=this.canvasO,d=f[0],h=f[1],m=[d+e[0]*s,h+e[1]*c],y=sp(m,this.globalO),w=this.pointInside(m);return Vh(Vh({},i),{relativePos:y,canvasPos:e,absolutePos:m,pointInside:w,terminateEvent:r})},t.prototype.prepareWheelHandlerProps=function(e){var r=this.preparePostBoxHandlerProps();return Vh(Vh({},r),{terminateEvent:e})},t.prototype.renderPrimitive=function(e){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(Vh(Vh({},r),{ctx:e}))}},t.prototype.render=function(e){},t.prototype.onMouseDownPrimitive=function(e,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseDown=function(e,r){},t.prototype.onMouseMovePrimitive=function(e,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseMove=function(e,r){},t.prototype.onMouseUpPrimitive=function(e,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseUp=function(e,r){},t.prototype.onClickPrimitive=function(e,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onClick=function(e,r){},t.prototype.onWheelPrimitive=function(e,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(e),r)},t.prototype.onWheel=function(e,r){},t.prototype.strokeOutline=function(e,r){e.ctx.strokeStyle=r;var i=e.absoluteO,a=e.absoluteUnit,s=i[0],c=i[1],f=a[0],d=a[1];e.ctx.strokeRect(s,c,this.w*f,this.h*d)},t}(bs),Eb={},uC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lC={exports:{}},H4=(uB||(uB=1,aC=lC,sC=lC.exports,(function(){var n,t="Expected a function",e="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,a=128,s=1/0,c=9007199254740991,f=NaN,d=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],m="[object Arguments]",y="[object Array]",w="[object Boolean]",C="[object Date]",k="[object Error]",M="[object Function]",N="[object GeneratorFunction]",B="[object Map]",L="[object Number]",z="[object Object]",q="[object Promise]",V="[object RegExp]",X="[object Set]",nt="[object String]",it="[object Symbol]",ct="[object WeakMap]",ft="[object ArrayBuffer]",gt="[object DataView]",Ct="[object Float32Array]",kt="[object Float64Array]",Tt="[object Int8Array]",At="[object Int16Array]",Zt="[object Int32Array]",_t="[object Uint8Array]",Et="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",Lt=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,qe=RegExp(ve.source),He=RegExp(Oe.source),wn=/<%-([\s\S]+?)%>/g,nn=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(dt.source),Ot=/^\s+/,Bt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Kt=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,zi=/^\[object .+?Constructor\]$/,Yi=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,xo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ai=/($^)/,us=/['\n\r\u2028\u2029\\]/g,ko="\\ud800-\\udfff",vu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ja="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",yu="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ol="["+ko+"]",gl="["+Ns+"]",Pa="["+vu+"]",ml="\\d+",wu="["+ja+"]",Ou="["+ls+"]",Ks="[^"+ko+Ns+ml+ja+ls+yu+"]",Nu="\\ud83c[\\udffb-\\udfff]",ts="[^"+ko+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",ho="["+yu+"]",Iu="\\u200d",nu="(?:"+Ou+"|"+Ks+")",cs="(?:"+ho+"|"+Ks+")",nl="(?:['](?:d|ll|m|re|s|t|ve))?",Nl="(?:['](?:D|LL|M|RE|S|T|VE))?",vl="(?:"+Pa+"|"+Nu+")?",bu="["+dl+"]?",Gs=bu+vl+"(?:"+Iu+"(?:"+[ts,fa,ba].join("|")+")"+bu+vl+")*",kc="(?:"+[wu,fa,ba].join("|")+")"+Gs,hf="(?:"+[ts+Pa+"?",Pa,fa,ba,Ol].join("|")+")",Mc=RegExp("[']","g"),ln=RegExp(Pa,"g"),Vn=RegExp(Nu+"(?="+Nu+")|"+hf+Gs,"g"),hr=RegExp([ho+"?"+Ou+"+"+nl+"(?="+[gl,ho,"$"].join("|")+")",cs+"+"+Nl+"(?="+[gl,ho+nu,"$"].join("|")+")",ho+"?"+nu+"+"+nl,ho+"+"+Nl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml,kc].join("|"),"g"),Xi=RegExp("["+Iu+ko+vu+dl+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ru=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,De={};De[Ct]=De[kt]=De[Tt]=De[At]=De[Zt]=De[_t]=De[Et]=De[mt]=De[vt]=!0,De[m]=De[y]=De[ft]=De[w]=De[gt]=De[C]=De[k]=De[M]=De[B]=De[L]=De[z]=De[V]=De[X]=De[nt]=De[ct]=!1;var be={};be[m]=be[y]=be[ft]=be[gt]=be[w]=be[C]=be[Ct]=be[kt]=be[Tt]=be[At]=be[Zt]=be[B]=be[L]=be[z]=be[V]=be[X]=be[nt]=be[it]=be[_t]=be[Et]=be[mt]=be[vt]=!0,be[k]=be[M]=be[ct]=!1;var Xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xa=parseFloat,tp=parseInt,Kc=typeof uC=="object"&&uC&&uC.Object===Object&&uC,Tf=typeof self=="object"&&self&&self.Object===Object&&self,ze=Kc||Tf||Function("return this")(),$i=sC&&!sC.nodeType&&sC,kr=$i&&aC&&!aC.nodeType&&aC,Fc=kr&&kr.exports===$i,Bu=Fc&&Kc.process,pr=function(){try{return kr&&kr.require&&kr.require("util").types||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),Ru=pr&&pr.isArrayBuffer,Ji=pr&&pr.isDate,qn=pr&&pr.isMap,rl=pr&&pr.isRegExp,Zc=pr&&pr.isSet,wc=pr&&pr.isTypedArray;function Mn(J,st,et){switch(et.length){case 0:return J.call(st);case 1:return J.call(st,et[0]);case 2:return J.call(st,et[0],et[1]);case 3:return J.call(st,et[0],et[1],et[2])}return J.apply(st,et)}function uh(J,st,et,pt){for(var Nt=-1,Jt=J==null?0:J.length;++Nt<Jt;){var Fe=J[Nt];st(pt,Fe,et(Fe),J)}return pt}function Bn(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt&&st(J[et],et,J)!==!1;);return J}function tf(J,st){for(var et=J==null?0:J.length;et--&&st(J[et],et,J)!==!1;);return J}function Cs(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(!st(J[et],et,J))return!1;return!0}function Br(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];st(Fe,et,J)&&(Jt[Nt++]=Fe)}return Jt}function br(J,st){return!(J==null||!J.length)&&Ii(J,st,0)>-1}function xi(J,st,et){for(var pt=-1,Nt=J==null?0:J.length;++pt<Nt;)if(et(st,J[pt]))return!0;return!1}function Be(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=Array(pt);++et<pt;)Nt[et]=st(J[et],et,J);return Nt}function Er(J,st){for(var et=-1,pt=st.length,Nt=J.length;++et<pt;)J[Nt+et]=st[et];return J}function Jr(J,st,et,pt){var Nt=-1,Jt=J==null?0:J.length;for(pt&&Jt&&(et=J[++Nt]);++Nt<Jt;)et=st(et,J[Nt],Nt,J);return et}function ef(J,st,et,pt){var Nt=J==null?0:J.length;for(pt&&Nt&&(et=J[--Nt]);Nt--;)et=st(et,J[Nt],Nt,J);return et}function Is(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(st(J[et],et,J))return!0;return!1}var uc=Da("length");function ql(J,st,et){var pt;return et(J,function(Nt,Jt,Fe){if(st(Nt,Jt,Fe))return pt=Jt,!1}),pt}function jr(J,st,et,pt){for(var Nt=J.length,Jt=et+(pt?1:-1);pt?Jt--:++Jt<Nt;)if(st(J[Jt],Jt,J))return Jt;return-1}function Ii(J,st,et){return st==st?function(pt,Nt,Jt){for(var Fe=Jt-1,mn=pt.length;++Fe<mn;)if(pt[Fe]===Nt)return Fe;return-1}(J,st,et):jr(J,Bs,et)}function bc(J,st,et,pt){for(var Nt=et-1,Jt=J.length;++Nt<Jt;)if(pt(J[Nt],st))return Nt;return-1}function Bs(J){return J!=J}function xu(J,st){var et=J==null?0:J.length;return et?Ys(J,st)/et:f}function Da(J){return function(st){return st==null?n:st[J]}}function ju(J){return function(st){return J==null?n:J[st]}}function Pc(J,st,et,pt,Nt){return Nt(J,function(Jt,Fe,mn){et=pt?(pt=!1,Jt):st(et,Jt,Fe,mn)}),et}function Ys(J,st){for(var et,pt=-1,Nt=J.length;++pt<Nt;){var Jt=st(J[pt]);Jt!==n&&(et=et===n?Jt:et+Jt)}return et}function Il(J,st){for(var et=-1,pt=Array(J);++et<J;)pt[et]=st(et);return pt}function Bl(J){return J&&J.slice(0,La(J)+1).replace(Ot,"")}function Ln(J){return function(st){return J(st)}}function yl(J,st){return Be(st,function(et){return J[et]})}function fi(J,st){return J.has(st)}function wl(J,st){for(var et=-1,pt=J.length;++et<pt&&Ii(st,J[et],0)>-1;);return et}function Xs(J,st){for(var et=J.length;et--&&Ii(st,J[et],0)>-1;);return et}var Gc=ju({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Tc=ju({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lu(J){return"\\"+Xr[J]}function ha(J){return Xi.test(J)}function Gi(J){var st=-1,et=Array(J.size);return J.forEach(function(pt,Nt){et[++st]=[Nt,pt]}),et}function zu(J,st){return function(et){return J(st(et))}}function Di(J,st){for(var et=-1,pt=J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];Fe!==st&&Fe!==r||(J[et]=r,Jt[Nt++]=et)}return Jt}function ns(J){var st=-1,et=Array(J.size);return J.forEach(function(pt){et[++st]=pt}),et}function Wr(J){return ha(J)?function(st){for(var et=Vn.lastIndex=0;Vn.test(st);)++et;return et}(J):uc(J)}function xr(J){return ha(J)?function(st){return st.match(Vn)||[]}(J):function(st){return st.split("")}(J)}function La(J){for(var st=J.length;st--&&Bt.test(J.charAt(st)););return st}var lc=ju({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Co=function J(st){var et,pt=(st=st==null?ze:Co.defaults(ze.Object(),st,Co.pick(ze,ru))).Array,Nt=st.Date,Jt=st.Error,Fe=st.Function,mn=st.Math,zt=st.Object,Ne=st.RegExp,ke=st.String,Pe=st.TypeError,vr=pt.prototype,Ci=Fe.prototype,hi=zt.prototype,Ca=st["__core-js_shared__"],pi=Ci.toString,Ce=hi.hasOwnProperty,kh=0,_i=(et=/[^.]+$/.exec(Ca&&Ca.keys&&Ca.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"",Rs=hi.toString,Yc=pi.call(zt),pf=ze._,lh=Ne("^"+pi.call(Ce).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iu=Fc?st.Buffer:n,tr=st.Symbol,js=st.Uint8Array,Rl=iu?iu.allocUnsafe:n,ea=zu(zt.getPrototypeOf,zt),Yf=zt.create,Oc=hi.propertyIsEnumerable,Uu=vr.splice,jl=tr?tr.isConcatSpreadable:n,io=tr?tr.iterator:n,Bo=tr?tr.toStringTag:n,za=function(){try{var o=si(zt,"defineProperty");return o({},"",{}),o}catch{}}(),nf=st.clearTimeout!==ze.clearTimeout&&st.clearTimeout,Xf=Nt&&Nt.now!==ze.Date.now&&Nt.now,Of=st.setTimeout!==ze.setTimeout&&st.setTimeout,Ua=mn.ceil,$u=mn.floor,ou=zt.getOwnPropertySymbols,xc=iu?iu.isBuffer:n,Nc=st.isFinite,Wh=vr.join,Lh=zu(zt.keys,zt),sn=mn.max,on=mn.min,pa=Nt.now,Du=st.parseInt,df=mn.random,xh=vr.reverse,il=si(st,"DataView"),_a=si(st,"Map"),oa=si(st,"Promise"),ii=si(st,"Set"),Ko=si(st,"WeakMap"),aa=si(zt,"create"),sa=Ko&&new Ko,Mo={},gf=so(il),bl=so(_a),cc=so(oa),rf=so(ii),Jf=so(Ko),rs=tr?tr.prototype:n,is=rs?rs.valueOf:n,Ll=rs?rs.toString:n;function P(o){if(Le(o)&&!ie(o)&&!(o instanceof ce)){if(o instanceof or)return o;if(Ce.call(o,"__wrapped__"))return Au(o)}return new or(o)}var Go=function(){function o(){}return function(u){if(!We(u))return{};if(Yf)return Yf(u);o.prototype=u;var l=new o;return o.prototype=n,l}}();function Pt(){}function or(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}function ce(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function vn(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function Fr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function St(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new Fr;++u<l;)this.add(o[u])}function zn(o){var u=this.__data__=new vn(o);this.size=u.size}function Wu(o,u){var l=ie(o),g=!l&&Eo(o),b=!l&&!g&&Nr(o),E=!l&&!g&&!b&&xn(o),O=l||g||b||E,R=O?Il(o.length,ke):[],W=R.length;for(var A in o)!u&&!Ce.call(o,A)||O&&(A=="length"||b&&(A=="offset"||A=="parent")||E&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ur(A,W))||R.push(A);return R}function En(o){var u=o.length;return u?o[fs(0,u-1)]:n}function Bi(o,u){return Hs(An(o),Qi(u,0,o.length))}function Kl(o){return Hs(An(o))}function da(o,u,l){(l!==n&&!Mr(o[u],l)||l===n&&!(u in o))&&Rr(o,u,l)}function Fo(o,u,l){var g=o[u];Ce.call(o,u)&&Mr(g,l)&&(l!==n||u in o)||Rr(o,u,l)}function ga(o,u){for(var l=o.length;l--;)if(Mr(o[l][0],u))return l;return-1}function _s(o,u,l,g){return ki(o,function(b,E,O){u(g,b,l(b),O)}),g}function Hu(o,u){return o&&$n(u,en(u),o)}function Rr(o,u,l){u=="__proto__"&&za?za(o,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[u]=l}function Gl(o,u){for(var l=-1,g=u.length,b=pt(g),E=o==null;++l<g;)b[l]=E?n:rc(o,u[l]);return b}function Qi(o,u,l){return o==o&&(l!==n&&(o=o<=l?o:l),u!==n&&(o=o>=u?o:u)),o}function yr(o,u,l,g,b,E){var O,R=1&u,W=2&u,A=4&u;if(l&&(O=b?l(o,g,b,E):l(o)),O!==n)return O;if(!We(o))return o;var _=ie(o);if(_){if(O=function(K){var tt=K.length,ut=new K.constructor(tt);return tt&&typeof K[0]=="string"&&Ce.call(K,"index")&&(ut.index=K.index,ut.input=K.input),ut}(o),!R)return An(o,O)}else{var T=cn(o),U=T==M||T==N;if(Nr(o))return Cl(o,R);if(T==z||T==m||U&&!b){if(O=W||U?{}:Qo(o),!R)return W?function(K,tt){return $n(K,ua(K),tt)}(o,function(K,tt){return K&&$n(tt,Xn(tt),K)}(O,o)):function(K,tt){return $n(K,mr(K),tt)}(o,Hu(O,o))}else{if(!be[T])return b?o:{};O=function(K,tt,ut){var ot,wt=K.constructor;switch(tt){case ft:return Su(K);case w:case C:return new wt(+K);case gt:return function(yt,jt){var xt=jt?Su(yt.buffer):yt.buffer;return new yt.constructor(xt,yt.byteOffset,yt.byteLength)}(K,ut);case Ct:case kt:case Tt:case At:case Zt:case _t:case Et:case mt:case vt:return _l(K,ut);case B:return new wt;case L:case nt:return new wt(K);case V:return function(yt){var jt=new yt.constructor(yt.source,Se.exec(yt));return jt.lastIndex=yt.lastIndex,jt}(K);case X:return new wt;case it:return ot=K,is?zt(is.call(ot)):{}}}(o,T,R)}}E||(E=new zn);var G=E.get(o);if(G)return G;E.set(o,O),Qu(o)?o.forEach(function(K){O.add(yr(K,u,l,K,o,E))}):Qn(o)&&o.forEach(function(K,tt){O.set(tt,yr(K,u,l,tt,o,E))});var Z=_?n:(A?W?po:Ya:W?Xn:en)(o);return Bn(Z||o,function(K,tt){Z&&(K=o[tt=K]),Fo(O,tt,yr(K,u,l,tt,o,E))}),O}function Vu(o,u,l){var g=l.length;if(o==null)return!g;for(o=zt(o);g--;){var b=l[g],E=u[b],O=o[b];if(O===n&&!(b in o)||!E(O))return!1}return!0}function $a(o,u,l){if(typeof o!="function")throw new Pe(t);return gi(function(){o.apply(n,l)},u)}function Ro(o,u,l,g){var b=-1,E=br,O=!0,R=o.length,W=[],A=u.length;if(!R)return W;l&&(u=Be(u,Ln(l))),g?(E=xi,O=!1):u.length>=200&&(E=fi,O=!1,u=new St(u));t:for(;++b<R;){var _=o[b],T=l==null?_:l(_);if(_=g||_!==0?_:0,O&&T==T){for(var U=A;U--;)if(u[U]===T)continue t;W.push(_)}else E(u,T,g)||W.push(_)}return W}P.templateSettings={escape:wn,evaluate:nn,interpolate:cr,variable:"",imports:{_:P}},P.prototype=Pt.prototype,P.prototype.constructor=P,or.prototype=Go(Pt.prototype),or.prototype.constructor=or,ce.prototype=Go(Pt.prototype),ce.prototype.constructor=ce,Hr.prototype.clear=function(){this.__data__=aa?aa(null):{},this.size=0},Hr.prototype.delete=function(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u},Hr.prototype.get=function(o){var u=this.__data__;if(aa){var l=u[o];return l===e?n:l}return Ce.call(u,o)?u[o]:n},Hr.prototype.has=function(o){var u=this.__data__;return aa?u[o]!==n:Ce.call(u,o)},Hr.prototype.set=function(o,u){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=aa&&u===n?e:u,this},vn.prototype.clear=function(){this.__data__=[],this.size=0},vn.prototype.delete=function(o){var u=this.__data__,l=ga(u,o);return!(l<0||(l==u.length-1?u.pop():Uu.call(u,l,1),--this.size,0))},vn.prototype.get=function(o){var u=this.__data__,l=ga(u,o);return l<0?n:u[l][1]},vn.prototype.has=function(o){return ga(this.__data__,o)>-1},vn.prototype.set=function(o,u){var l=this.__data__,g=ga(l,o);return g<0?(++this.size,l.push([o,u])):l[g][1]=u,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(_a||vn),string:new Hr}},Fr.prototype.delete=function(o){var u=Jo(this,o).delete(o);return this.size-=u?1:0,u},Fr.prototype.get=function(o){return Jo(this,o).get(o)},Fr.prototype.has=function(o){return Jo(this,o).has(o)},Fr.prototype.set=function(o,u){var l=Jo(this,o),g=l.size;return l.set(o,u),this.size+=l.size==g?0:1,this},St.prototype.add=St.prototype.push=function(o){return this.__data__.set(o,e),this},St.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.clear=function(){this.__data__=new vn,this.size=0},zn.prototype.delete=function(o){var u=this.__data__,l=u.delete(o);return this.size=u.size,l},zn.prototype.get=function(o){return this.__data__.get(o)},zn.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.set=function(o,u){var l=this.__data__;if(l instanceof vn){var g=l.__data__;if(!_a||g.length<199)return g.push([o,u]),this.size=++l.size,this;l=this.__data__=new Fr(g)}return l.set(o,u),this.size=l.size,this};var ki=Aa(bn),Ss=Aa(Sa,!0);function fc(o,u){var l=!0;return ki(o,function(g,b,E){return l=!!u(g,b,E)}),l}function Wa(o,u,l){for(var g=-1,b=o.length;++g<b;){var E=o[g],O=u(E);if(O!=null&&(R===n?O==O&&!jn(O):l(O,R)))var R=O,W=E}return W}function au(o,u){var l=[];return ki(o,function(g,b,E){u(g,b,E)&&l.push(g)}),l}function gn(o,u,l,g,b){var E=-1,O=o.length;for(l||(l=sr),b||(b=[]);++E<O;){var R=o[E];u>0&&l(R)?u>1?gn(R,u-1,l,g,b):Er(b,R):g||(b[b.length]=R)}return b}var hc=Zs(),Ha=Zs(!0);function bn(o,u){return o&&hc(o,u,en)}function Sa(o,u){return o&&Ha(o,u,en)}function ma(o,u){return Br(u,function(l){return yi(o[l])})}function Vr(o,u){for(var l=0,g=(u=ai(u,o)).length;o!=null&&l<g;)o=o[Nn(u[l++])];return l&&l==g?o:n}function Ea(o,u,l){var g=u(o);return ie(o)?g:Er(g,l(o))}function tn(o){return o==null?o===n?"[object Undefined]":"[object Null]":Bo&&Bo in zt(o)?function(u){var l=Ce.call(u,Bo),g=u[Bo];try{u[Bo]=n;var b=!0}catch{}var E=Rs.call(u);return b&&(l?u[Bo]=g:delete u[Bo]),E}(o):function(u){return Rs.call(u)}(o)}function Ho(o,u){return o>u}function Ls(o,u){return o!=null&&Ce.call(o,u)}function xl(o,u){return o!=null&&u in zt(o)}function pc(o,u,l){for(var g=l?xi:br,b=o[0].length,E=o.length,O=E,R=pt(E),W=1/0,A=[];O--;){var _=o[O];O&&u&&(_=Be(_,Ln(u))),W=on(_.length,W),R[O]=!l&&(u||b>=120&&_.length>=120)?new St(O&&_):n}_=o[0];var T=-1,U=R[0];t:for(;++T<b&&A.length<W;){var G=_[T],Z=u?u(G):G;if(G=l||G!==0?G:0,!(U?fi(U,Z):g(A,Z,l))){for(O=E;--O;){var K=R[O];if(!(K?fi(K,Z):g(o[O],Z,l)))continue t}U&&U.push(Z),A.push(G)}}return A}function Po(o,u,l){var g=(o=Ws(o,u=ai(u,o)))==null?o:o[Nn(Ar(u))];return g==null?n:Mn(g,o,l)}function Js(o){return Le(o)&&tn(o)==m}function _o(o,u,l,g,b){return o===u||(o==null||u==null||!Le(o)&&!Le(u)?o!=o&&u!=u:function(E,O,R,W,A,_){var T=ie(E),U=ie(O),G=T?y:cn(E),Z=U?y:cn(O),K=(G=G==m?z:G)==z,tt=(Z=Z==m?z:Z)==z,ut=G==Z;if(ut&&Nr(E)){if(!Nr(O))return!1;T=!0,K=!1}if(ut&&!K)return _||(_=new zn),T||xn(E)?El(E,O,R,W,A,_):function(xt,It,ae,Ht,ye,oe,xe){switch(ae){case gt:if(xt.byteLength!=It.byteLength||xt.byteOffset!=It.byteOffset)return!1;xt=xt.buffer,It=It.buffer;case ft:return!(xt.byteLength!=It.byteLength||!oe(new js(xt),new js(It)));case w:case C:case L:return Mr(+xt,+It);case k:return xt.name==It.name&&xt.message==It.message;case V:case nt:return xt==It+"";case B:var Ve=Gi;case X:var an=1&Ht;if(Ve||(Ve=ns),xt.size!=It.size&&!an)return!1;var On=xe.get(xt);if(On)return On==It;Ht|=2,xe.set(xt,It);var Dn=El(Ve(xt),Ve(It),Ht,ye,oe,xe);return xe.delete(xt),Dn;case it:if(is)return is.call(xt)==is.call(It)}return!1}(E,O,G,R,W,A,_);if(!(1&R)){var ot=K&&Ce.call(E,"__wrapped__"),wt=tt&&Ce.call(O,"__wrapped__");if(ot||wt){var yt=ot?E.value():E,jt=wt?O.value():O;return _||(_=new zn),A(yt,jt,R,W,_)}}return!!ut&&(_||(_=new zn),function(xt,It,ae,Ht,ye,oe){var xe=1&ae,Ve=Ya(xt),an=Ve.length;if(an!=Ya(It).length&&!xe)return!1;for(var On=an;On--;){var Dn=Ve[On];if(!(xe?Dn in It:Ce.call(It,Dn)))return!1}var nr=oe.get(xt),Cr=oe.get(It);if(nr&&Cr)return nr==It&&Cr==xt;var Ao=!0;oe.set(xt,It),oe.set(It,xt);for(var ro=xe;++On<an;){var vo=xt[Dn=Ve[On]],Kr=It[Dn];if(Ht)var ss=xe?Ht(Kr,vo,Dn,It,xt,oe):Ht(vo,Kr,Dn,xt,It,oe);if(!(ss===n?vo===Kr||ye(vo,Kr,ae,Ht,oe):ss)){Ao=!1;break}ro||(ro=Dn=="constructor")}if(Ao&&!ro){var Lr=xt.constructor,Za=It.constructor;Lr==Za||!("constructor"in xt)||!("constructor"in It)||typeof Lr=="function"&&Lr instanceof Lr&&typeof Za=="function"&&Za instanceof Za||(Ao=!1)}return oe.delete(xt),oe.delete(It),Ao}(E,O,R,W,A,_))}(o,u,l,g,_o,b))}function jo(o,u,l,g){var b=l.length,E=b,O=!g;if(o==null)return!E;for(o=zt(o);b--;){var R=l[b];if(O&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++b<E;){var W=(R=l[b])[0],A=o[W],_=R[1];if(O&&R[2]){if(A===n&&!(W in o))return!1}else{var T=new zn;if(g)var U=g(A,_,W,o,u,T);if(!(U===n?_o(_,A,3,g,T):U))return!1}}return!0}function qu(o){return!(!We(o)||(u=o,_i&&_i in u))&&(yi(o)?lh:zi).test(so(o));var u}function Cu(o){return typeof o=="function"?o:o==null?_n:typeof o=="object"?ie(o)?Wi(o[0],o[1]):zs(o):Io(o)}function Ta(o){if(!Zr(o))return Lh(o);var u=[];for(var l in zt(o))Ce.call(o,l)&&l!="constructor"&&u.push(l);return u}function dr(o,u){return o<u}function ar(o,u){var l=-1,g=$e(o)?pt(o.length):[];return ki(o,function(b,E,O){g[++l]=u(b,E,O)}),g}function zs(o){var u=er(o);return u.length==1&&u[0][2]?dc(u[0][0],u[0][1]):function(l){return l===o||jo(l,o,u)}}function Wi(o,u){return Dr(o)&&Wl(u)?dc(Nn(o),u):function(l){var g=rc(l,o);return g===n&&g===u?Fi(l,o):_o(u,g,3)}}function Si(o,u,l,g,b){o!==u&&hc(u,function(E,O){if(b||(b=new zn),We(E))(function(W,A,_,T,U,G,Z){var K=ao(W,_),tt=ao(A,_),ut=Z.get(tt);if(ut)da(W,_,ut);else{var ot=G?G(K,tt,_+"",W,A,Z):n,wt=ot===n;if(wt){var yt=ie(tt),jt=!yt&&Nr(tt),xt=!yt&&!jt&&xn(tt);ot=tt,yt||jt||xt?ie(K)?ot=K:Je(K)?ot=An(K):jt?(wt=!1,ot=Cl(tt,!0)):xt?(wt=!1,ot=_l(tt,!0)):ot=[]:la(tt)||Eo(tt)?(ot=K,Eo(K)?ot=ys(K):We(K)&&!yi(K)||(ot=Qo(tt))):wt=!1}wt&&(Z.set(tt,ot),U(ot,tt,T,G,Z),Z.delete(tt)),da(W,_,ot)}})(o,u,O,l,Si,g,b);else{var R=g?g(ao(o,O),E,O+"",o,u,b):n;R===n&&(R=E),da(o,O,R)}},Xn)}function _u(o,u){var l=o.length;if(l)return ur(u+=u<0?l:0,l)?o[u]:n}function Qs(o,u,l){u=u.length?Be(u,function(E){return ie(E)?function(O){return Vr(O,E.length===1?E[0]:E)}:E}):[_n];var g=-1;u=Be(u,Ln(Yt()));var b=ar(o,function(E,O,R){var W=Be(u,function(A){return A(E)});return{criteria:W,index:++g,value:E}});return function(E,O){var R=E.length;for(E.sort(O);R--;)E[R]=E[R].value;return E}(b,function(E,O){return function(R,W,A){for(var _=-1,T=R.criteria,U=W.criteria,G=T.length,Z=A.length;++_<G;){var K=ps(T[_],U[_]);if(K)return _>=Z?K:K*(A[_]=="desc"?-1:1)}return R.index-W.index}(E,O,l)})}function Zi(o,u,l){for(var g=-1,b=u.length,E={};++g<b;){var O=u[g],R=Vr(o,O);l(R,O)&&os(E,ai(O,o),R)}return E}function Dl(o,u,l,g){var b=g?bc:Ii,E=-1,O=u.length,R=o;for(o===u&&(u=An(u)),l&&(R=Be(o,Ln(l)));++E<O;)for(var W=0,A=u[E],_=l?l(A):A;(W=b(R,_,W,g))>-1;)R!==o&&Uu.call(R,W,1),Uu.call(o,W,1);return o}function zl(o,u){for(var l=o?u.length:0,g=l-1;l--;){var b=u[l];if(l==g||b!==E){var E=b;ur(b)?Uu.call(o,b,1):oi(o,b)}}return o}function fs(o,u){return o+$u(df()*(u-o+1))}function Us(o,u){var l="";if(!o||u<1||u>c)return l;do u%2&&(l+=o),(u=$u(u/2))&&(o+=o);while(u);return l}function ue(o,u){return no(go(o,u,_n),o+"")}function Es(o){return En(Zn(o))}function mi(o,u){var l=Zn(o);return Hs(l,Qi(u,0,l.length))}function os(o,u,l,g){if(!We(o))return o;for(var b=-1,E=(u=ai(u,o)).length,O=E-1,R=o;R!=null&&++b<E;){var W=Nn(u[b]),A=l;if(W==="__proto__"||W==="constructor"||W==="prototype")return o;if(b!=O){var _=R[W];(A=g?g(_,W,R):n)===n&&(A=We(_)?_:ur(u[b+1])?[]:{})}Fo(R,W,A),R=R[W]}return o}var Yl=sa?function(o,u){return sa.set(o,u),o}:_n,hs=za?function(o,u){return za(o,"toString",{configurable:!0,enumerable:!1,value:Tl(u),writable:!0})}:_n;function ol(o){return Hs(Zn(o))}function Un(o,u,l){var g=-1,b=o.length;u<0&&(u=-u>b?0:b+u),(l=l>b?b:l)<0&&(l+=b),b=u>l?0:l-u>>>0,u>>>=0;for(var E=pt(b);++g<b;)E[g]=o[g+u];return E}function Xc(o,u){var l;return ki(o,function(g,b,E){return!(l=u(g,b,E))}),!!l}function Fn(o,u,l){var g=0,b=o==null?g:o.length;if(typeof u=="number"&&u==u&&b<=2147483647){for(;g<b;){var E=g+b>>>1,O=o[E];O!==null&&!jn(O)&&(l?O<=u:O<u)?g=E+1:b=E}return b}return to(o,u,_n,l)}function to(o,u,l,g){var b=0,E=o==null?0:o.length;if(E===0)return 0;for(var O=(u=l(u))!=u,R=u===null,W=jn(u),A=u===n;b<E;){var _=$u((b+E)/2),T=l(o[_]),U=T!==n,G=T===null,Z=T==T,K=jn(T);if(O)var tt=g||Z;else tt=A?Z&&(g||U):R?Z&&U&&(g||!G):W?Z&&U&&!G&&(g||!K):!G&&!K&&(g?T<=u:T<u);tt?b=_+1:E=_}return on(E,4294967294)}function Or(o,u){for(var l=-1,g=o.length,b=0,E=[];++l<g;){var O=o[l],R=u?u(O):O;if(!l||!Mr(R,W)){var W=R;E[b++]=O===0?0:O}}return E}function Qr(o){return typeof o=="number"?o:jn(o)?f:+o}function fn(o){if(typeof o=="string")return o;if(ie(o))return Be(o,fn)+"";if(jn(o))return Ll?Ll.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Yn(o,u,l){var g=-1,b=br,E=o.length,O=!0,R=[],W=R;if(l)O=!1,b=xi;else if(E>=200){var A=u?null:of(o);if(A)return ns(A);O=!1,b=fi,W=new St}else W=u?[]:R;t:for(;++g<E;){var _=o[g],T=u?u(_):_;if(_=l||_!==0?_:0,O&&T==T){for(var U=W.length;U--;)if(W[U]===T)continue t;u&&W.push(T),R.push(_)}else b(W,T,l)||(W!==R&&W.push(T),R.push(_))}return R}function oi(o,u){return(o=Ws(o,u=ai(u,o)))==null||delete o[Nn(Ar(u))]}function na(o,u,l,g){return os(o,u,l(Vr(o,u)),g)}function Va(o,u,l,g){for(var b=o.length,E=g?b:-1;(g?E--:++E<b)&&u(o[E],E,o););return l?Un(o,g?0:E,g?E+1:b):Un(o,g?E+1:0,g?b:E)}function qa(o,u){var l=o;return l instanceof ce&&(l=l.value()),Jr(u,function(g,b){return b.func.apply(b.thisArg,Er([g],b.args))},l)}function Ri(o,u,l){var g=o.length;if(g<2)return g?Yn(o[0]):[];for(var b=-1,E=pt(g);++b<g;)for(var O=o[b],R=-1;++R<g;)R!=b&&(E[b]=Ro(E[b]||O,o[R],u,l));return Yn(gn(E,1),u,l)}function Yo(o,u,l){for(var g=-1,b=o.length,E=u.length,O={};++g<b;){var R=g<E?u[g]:n;l(O,o[g],R)}return O}function wr(o){return Je(o)?o:[]}function di(o){return typeof o=="function"?o:_n}function ai(o,u){return ie(o)?o:Dr(o,u)?[o]:Ic(we(o))}var Xl=ue;function Ur(o,u,l){var g=o.length;return l=l===n?g:l,!u&&l>=g?o:Un(o,u,l)}var Jl=nf||function(o){return ze.clearTimeout(o)};function Cl(o,u){if(u)return o.slice();var l=o.length,g=Rl?Rl(l):new o.constructor(l);return o.copy(g),g}function Su(o){var u=new o.constructor(o.byteLength);return new js(u).set(new js(o)),u}function _l(o,u){var l=u?Su(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}function ps(o,u){if(o!==u){var l=o!==n,g=o===null,b=o==o,E=jn(o),O=u!==n,R=u===null,W=u==u,A=jn(u);if(!R&&!A&&!E&&o>u||E&&O&&W&&!R&&!A||g&&O&&W||!l&&W||!b)return 1;if(!g&&!E&&!A&&o<u||A&&l&&b&&!g&&!E||R&&l&&b||!O&&b||!W)return-1}return 0}function al(o,u,l,g){for(var b=-1,E=o.length,O=l.length,R=-1,W=u.length,A=sn(E-O,0),_=pt(W+A),T=!g;++R<W;)_[R]=u[R];for(;++b<O;)(T||b<E)&&(_[l[b]]=o[b]);for(;A--;)_[R++]=o[b++];return _}function Sl(o,u,l,g){for(var b=-1,E=o.length,O=-1,R=l.length,W=-1,A=u.length,_=sn(E-R,0),T=pt(_+A),U=!g;++b<_;)T[b]=o[b];for(var G=b;++W<A;)T[G+W]=u[W];for(;++O<R;)(U||b<E)&&(T[G+l[O]]=o[b++]);return T}function An(o,u){var l=-1,g=o.length;for(u||(u=pt(g));++l<g;)u[l]=o[l];return u}function $n(o,u,l,g){var b=!l;l||(l={});for(var E=-1,O=u.length;++E<O;){var R=u[E],W=g?g(l[R],o[R],R,l,o):n;W===n&&(W=o[R]),b?Rr(l,R,W):Fo(l,R,W)}return l}function ji(o,u){return function(l,g){var b=ie(l)?uh:_s,E=u?u():{};return b(l,o,Yt(g,2),E)}}function Mi(o){return ue(function(u,l){var g=-1,b=l.length,E=b>1?l[b-1]:n,O=b>2?l[2]:n;for(E=o.length>3&&typeof E=="function"?(b--,E):n,O&&Ue(l[0],l[1],O)&&(E=b<3?n:E,b=1),u=zt(u);++g<b;){var R=l[g];R&&o(u,R,g,E)}return u})}function Aa(o,u){return function(l,g){if(l==null)return l;if(!$e(l))return o(l,g);for(var b=l.length,E=u?b:-1,O=zt(l);(u?E--:++E<b)&&g(O[E],E,O)!==!1;);return l}}function Zs(o){return function(u,l,g){for(var b=-1,E=zt(u),O=g(u),R=O.length;R--;){var W=O[o?R:++b];if(l(E[W],W,E)===!1)break}return u}}function Eu(o){return function(u){var l=ha(u=we(u))?xr(u):n,g=l?l[0]:u.charAt(0),b=l?Ur(l,1).join(""):u.slice(1);return g[o]()+b}}function Lo(o){return function(u){return Jr(fu(li(u).replace(Mc,"")),o,"")}}function zo(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Go(o.prototype),g=o.apply(l,u);return We(g)?g:l}}function va(o){return function(u,l,g){var b=zt(u);if(!$e(u)){var E=Yt(l,3);u=en(u),l=function(R){return E(b[R],R,b)}}var O=o(u,l,g);return O>-1?b[E?u[O]:O]:n}}function Uo(o){return Ei(function(u){var l=u.length,g=l,b=or.prototype.thru;for(o&&u.reverse();g--;){var E=u[g];if(typeof E!="function")throw new Pe(t);if(b&&!O&&So(E)=="wrapper")var O=new or([],!0)}for(g=O?g:l;++g<l;){var R=So(E=u[g]),W=R=="wrapper"?gs(E):n;O=W&&Kn(W[0])&&W[1]==424&&!W[4].length&&W[9]==1?O[So(W[0])].apply(O,W[3]):E.length==1&&Kn(E)?O[R]():O.thru(E)}return function(){var A=arguments,_=A[0];if(O&&A.length==1&&ie(_))return O.plant(_).value();for(var T=0,U=l?u[T].apply(this,A):_;++T<l;)U=u[T].call(this,U);return U}})}function To(o,u,l,g,b,E,O,R,W,A){var _=u&a,T=1&u,U=2&u,G=24&u,Z=512&u,K=U?n:zo(o);return function tt(){for(var ut=arguments.length,ot=pt(ut),wt=ut;wt--;)ot[wt]=arguments[wt];if(G)var yt=vi(tt),jt=function(Ht,ye){for(var oe=Ht.length,xe=0;oe--;)Ht[oe]===ye&&++xe;return xe}(ot,yt);if(g&&(ot=al(ot,g,b,G)),E&&(ot=Sl(ot,E,O,G)),ut-=jt,G&&ut<A){var xt=Di(ot,yt);return ds(o,u,To,tt.placeholder,l,ot,xt,R,W,A-ut)}var It=T?l:this,ae=U?It[o]:o;return ut=ot.length,R?ot=function(Ht,ye){for(var oe=Ht.length,xe=on(ye.length,oe),Ve=An(Ht);xe--;){var an=ye[xe];Ht[xe]=ur(an,oe)?Ve[an]:n}return Ht}(ot,R):Z&&ut>1&&ot.reverse(),_&&W<ut&&(ot.length=W),this&&this!==ze&&this instanceof tt&&(ae=K||zo(ae)),ae.apply(It,ot)}}function oo(o,u){return function(l,g){return function(b,E,O,R){return bn(b,function(W,A,_){E(R,O(W),A,_)}),R}(l,o,u(g),{})}}function eo(o,u){return function(l,g){var b;if(l===n&&g===n)return u;if(l!==n&&(b=l),g!==n){if(b===n)return g;typeof l=="string"||typeof g=="string"?(l=fn(l),g=fn(g)):(l=Qr(l),g=Qr(g)),b=o(l,g)}return b}}function Oo(o){return Ei(function(u){return u=Be(u,Ln(Yt())),ue(function(l){var g=this;return o(u,function(b){return Mn(b,g,l)})})})}function Xo(o,u){var l=(u=u===n?" ":fn(u)).length;if(l<2)return l?Us(u,o):u;var g=Us(u,Ua(o/Wr(u)));return ha(u)?Ur(xr(g),0,o).join(""):g.slice(0,o)}function Ku(o){return function(u,l,g){return g&&typeof g!="number"&&Ue(u,l,g)&&(l=g=n),u=ui(u),l===n?(l=u,u=0):l=ui(l),function(b,E,O,R){for(var W=-1,A=sn(Ua((E-b)/(O||1)),0),_=pt(A);A--;)_[R?A:++W]=b,b+=O;return _}(u,l,g=g===n?u<l?1:-1:ui(g),o)}}function Ka(o){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Qe(u),l=Qe(l)),o(u,l)}}function ds(o,u,l,g,b,E,O,R,W,A){var _=8&u;u|=_?i:64,4&(u&=~(_?64:i))||(u&=-4);var T=[o,u,b,_?E:n,_?O:n,_?n:E,_?n:O,R,W,A],U=l.apply(n,T);return Kn(o)&&kl(U,T),U.placeholder=g,As(U,o,u)}function ra(o){var u=mn[o];return function(l,g){if(l=Qe(l),(g=g==null?0:on(se(g),292))&&Nc(l)){var b=(we(l)+"e").split("e");return+((b=(we(u(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return u(l)}}var of=ii&&1/ns(new ii([,-0]))[1]==s?function(o){return new ii(o)}:hl;function Ul(o){return function(u){var l=cn(u);return l==B?Gi(u):l==X?function(g){var b=-1,E=Array(g.size);return g.forEach(function(O){E[++b]=[O,O]}),E}(u):function(g,b){return Be(b,function(E){return[E,g[E]]})}(u,o(u))}}function gr(o,u,l,g,b,E,O,R){var W=2&u;if(!W&&typeof o!="function")throw new Pe(t);var A=g?g.length:0;if(A||(u&=-97,g=b=n),O=O===n?O:sn(se(O),0),R=R===n?R:se(R),A-=b?b.length:0,64&u){var _=g,T=b;g=b=n}var U=W?n:gs(o),G=[o,u,l,g,b,_,T,E,O,R];if(U&&function(K,tt){var ut=K[1],ot=tt[1],wt=ut|ot,yt=wt<131,jt=ot==a&&ut==8||ot==a&&ut==256&&K[7].length<=tt[8]||ot==384&&tt[7].length<=tt[8]&&ut==8;if(!yt&&!jt)return K;1&ot&&(K[2]=tt[2],wt|=1&ut?0:4);var xt=tt[3];if(xt){var It=K[3];K[3]=It?al(It,xt,tt[4]):xt,K[4]=It?Di(K[3],r):tt[4]}(xt=tt[5])&&(It=K[5],K[5]=It?Sl(It,xt,tt[6]):xt,K[6]=It?Di(K[5],r):tt[6]),(xt=tt[7])&&(K[7]=xt),ot&a&&(K[8]=K[8]==null?tt[8]:on(K[8],tt[8])),K[9]==null&&(K[9]=tt[9]),K[0]=tt[0],K[1]=wt}(G,U),o=G[0],u=G[1],l=G[2],g=G[3],b=G[4],!(R=G[9]=G[9]===n?W?0:o.length:sn(G[9]-A,0))&&24&u&&(u&=-25),u&&u!=1)Z=u==8||u==16?function(K,tt,ut){var ot=zo(K);return function wt(){for(var yt=arguments.length,jt=pt(yt),xt=yt,It=vi(wt);xt--;)jt[xt]=arguments[xt];var ae=yt<3&&jt[0]!==It&&jt[yt-1]!==It?[]:Di(jt,It);return(yt-=ae.length)<ut?ds(K,tt,To,wt.placeholder,n,jt,ae,n,n,ut-yt):Mn(this&&this!==ze&&this instanceof wt?ot:K,this,jt)}}(o,u,R):u!=i&&u!=33||b.length?To.apply(n,G):function(K,tt,ut,ot){var wt=1&tt,yt=zo(K);return function jt(){for(var xt=-1,It=arguments.length,ae=-1,Ht=ot.length,ye=pt(Ht+It),oe=this&&this!==ze&&this instanceof jt?yt:K;++ae<Ht;)ye[ae]=ot[ae];for(;It--;)ye[ae++]=arguments[++xt];return Mn(oe,wt?ut:this,ye)}}(o,u,l,g);else var Z=function(K,tt,ut){var ot=1&tt,wt=zo(K);return function yt(){return(this&&this!==ze&&this instanceof yt?wt:K).apply(ot?ut:this,arguments)}}(o,u,l);return As((U?Yl:kl)(Z,G),o,u)}function $s(o,u,l,g){return o===n||Mr(o,hi[l])&&!Ce.call(g,l)?u:o}function Ga(o,u,l,g,b,E){return We(o)&&We(u)&&(E.set(u,o),Si(o,u,n,Ga,E),E.delete(u)),o}function Nf(o){return la(o)?n:o}function El(o,u,l,g,b,E){var O=1&l,R=o.length,W=u.length;if(R!=W&&!(O&&W>R))return!1;var A=E.get(o),_=E.get(u);if(A&&_)return A==u&&_==o;var T=-1,U=!0,G=2&l?new St:n;for(E.set(o,u),E.set(u,o);++T<R;){var Z=o[T],K=u[T];if(g)var tt=O?g(K,Z,T,u,o,E):g(Z,K,T,o,u,E);if(tt!==n){if(tt)continue;U=!1;break}if(G){if(!Is(u,function(ut,ot){if(!fi(G,ot)&&(Z===ut||b(Z,ut,l,g,E)))return G.push(ot)})){U=!1;break}}else if(Z!==K&&!b(Z,K,l,g,E)){U=!1;break}}return E.delete(o),E.delete(u),U}function Ei(o){return no(go(o,n,Oa),o+"")}function Ya(o){return Ea(o,en,mr)}function po(o){return Ea(o,Xn,ua)}var gs=sa?function(o){return sa.get(o)}:hl;function So(o){for(var u=o.name+"",l=Mo[u],g=Ce.call(Mo,u)?l.length:0;g--;){var b=l[g],E=b.func;if(E==null||E==o)return b.name}return u}function vi(o){return(Ce.call(P,"placeholder")?P:o).placeholder}function Yt(){var o=P.iteratee||ic;return o=o===ic?Cu:o,arguments.length?o(arguments[0],arguments[1]):o}function Jo(o,u){var l,g,b=o.__data__;return((g=typeof(l=u))=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null)?b[typeof u=="string"?"string":"hash"]:b.map}function er(o){for(var u=en(o),l=u.length;l--;){var g=u[l],b=o[g];u[l]=[g,b,Wl(b)]}return u}function si(o,u){var l=function(g,b){return g==null?n:g[b]}(o,u);return qu(l)?l:n}var mr=ou?function(o){return o==null?[]:(o=zt(o),Br(ou(o),function(u){return Oc.call(o,u)}))}:qr,ua=ou?function(o){for(var u=[];o;)Er(u,mr(o)),o=ea(o);return u}:qr,cn=tn;function $l(o,u,l){for(var g=-1,b=(u=ai(u,o)).length,E=!1;++g<b;){var O=Nn(u[g]);if(!(E=o!=null&&l(o,O)))break;o=o[O]}return E||++g!=b?E:!!(b=o==null?0:o.length)&&Gn(b)&&ur(O,b)&&(ie(o)||Eo(o))}function Qo(o){return typeof o.constructor!="function"||Zr(o)?{}:Go(ea(o))}function sr(o){return ie(o)||Eo(o)||!!(jl&&o&&o[jl])}function ur(o,u){var l=typeof o;return!!(u=u??c)&&(l=="number"||l!="symbol"&&Ui.test(o))&&o>-1&&o%1==0&&o<u}function Ue(o,u,l){if(!We(l))return!1;var g=typeof u;return!!(g=="number"?$e(l)&&ur(u,l.length):g=="string"&&u in l)&&Mr(l[u],o)}function Dr(o,u){if(ie(o))return!1;var l=typeof o;return!(l!="number"&&l!="symbol"&&l!="boolean"&&o!=null&&!jn(o))||Vt.test(o)||!bi.test(o)||u!=null&&o in zt(u)}function Kn(o){var u=So(o),l=P[u];if(typeof l!="function"||!(u in ce.prototype))return!1;if(o===l)return!0;var g=gs(l);return!!g&&o===g[0]}(il&&cn(new il(new ArrayBuffer(1)))!=gt||_a&&cn(new _a)!=B||oa&&cn(oa.resolve())!=q||ii&&cn(new ii)!=X||Ko&&cn(new Ko)!=ct)&&(cn=function(o){var u=tn(o),l=u==z?o.constructor:n,g=l?so(l):"";if(g)switch(g){case gf:return gt;case bl:return B;case cc:return q;case rf:return X;case Jf:return ct}return u});var Al=Ca?yi:Ir;function Zr(o){var u=o&&o.constructor;return o===(typeof u=="function"&&u.prototype||hi)}function Wl(o){return o==o&&!We(o)}function dc(o,u){return function(l){return l!=null&&l[o]===u&&(u!==n||o in zt(l))}}function go(o,u,l){return u=sn(u===n?o.length-1:u,0),function(){for(var g=arguments,b=-1,E=sn(g.length-u,0),O=pt(E);++b<E;)O[b]=g[u+b];b=-1;for(var R=pt(u+1);++b<u;)R[b]=g[b];return R[u]=l(O),Mn(o,this,R)}}function Ws(o,u){return u.length<2?o:Vr(o,Un(u,0,-1))}function ao(o,u){if((u!=="constructor"||typeof o[u]!="function")&&u!="__proto__")return o[u]}var kl=sl(Yl),gi=Of||function(o,u){return ze.setTimeout(o,u)},no=sl(hs);function As(o,u,l){var g=u+"";return no(o,function(b,E){var O=E.length;if(!O)return b;var R=O-1;return E[R]=(O>1?"& ":"")+E[R],E=E.join(O>2?", ":" "),b.replace(Rt,`{
/* [wrapped with `+E+`] */
`)}(g,function(b,E){return Bn(h,function(O){var R="_."+O[0];E&O[1]&&!br(b,R)&&b.push(R)}),b.sort()}(function(b){var E=b.match(Xt);return E?E[1].split(Kt):[]}(g),l)))}function sl(o){var u=0,l=0;return function(){var g=pa(),b=16-(g-l);if(l=g,b>0){if(++u>=800)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Hs(o,u){var l=-1,g=o.length,b=g-1;for(u=u===n?g:u;++l<u;){var E=fs(l,b),O=o[E];o[E]=o[l],o[l]=O}return o.length=u,o}var Ic=function(){var o=Ju(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(rt,function(b,E,O,R){g.push(O?R.replace(Ze,"$1"):E||b)}),g},function(l){return u.size===500&&u.clear(),l}),u=o.cache;return o}();function Nn(o){if(typeof o=="string"||jn(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function so(o){if(o!=null){try{return pi.call(o)}catch{}try{return o+""}catch{}}return""}function Au(o){if(o instanceof ce)return o.clone();var u=new or(o.__wrapped__,o.__chain__);return u.__actions__=An(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var Ql=ue(function(o,u){return Je(o)?Ro(o,gn(u,1,Je,!0)):[]}),mf=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),Yt(l,2)):[]}),ch=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),n,l):[]});function Zl(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),jr(o,Yt(u,3),b)}function uo(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g-1;return l!==n&&(b=se(l),b=l<0?sn(g+b,0):on(b,g-1)),jr(o,Yt(u,3),b,!0)}function Oa(o){return o!=null&&o.length?gn(o,1):[]}function lo(o){return o&&o.length?o[0]:n}var Ml=ue(function(o){var u=Be(o,wr);return u.length&&u[0]===o[0]?pc(u):[]}),vf=ue(function(o){var u=Ar(o),l=Be(o,wr);return u===Ar(l)?u=n:l.pop(),l.length&&l[0]===o[0]?pc(l,Yt(u,2)):[]}),yf=ue(function(o){var u=Ar(o),l=Be(o,wr);return(u=typeof u=="function"?u:n)&&l.pop(),l.length&&l[0]===o[0]?pc(l,n,u):[]});function Ar(o){var u=o==null?0:o.length;return u?o[u-1]:n}var ul=ue(tu);function tu(o,u){return o&&o.length&&u&&u.length?Dl(o,u):o}var fh=Ei(function(o,u){var l=o==null?0:o.length,g=Gl(o,u);return zl(o,Be(u,function(b){return ur(b,l)?+b:b}).sort(ps)),g});function Gu(o){return o==null?o:xh.call(o)}var Dc=ue(function(o){return Yn(gn(o,1,Je,!0))}),Hl=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Yn(gn(o,1,Je,!0),Yt(u,2))}),Qf=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Yn(gn(o,1,Je,!0),n,u)});function Cc(o){if(!o||!o.length)return[];var u=0;return o=Br(o,function(l){if(Je(l))return u=sn(l.length,u),!0}),Il(u,function(l){return Be(o,Da(l))})}function su(o,u){if(!o||!o.length)return[];var l=Cc(o);return u==null?l:Be(l,function(g){return Mn(u,n,g)})}var Mh=ue(function(o,u){return Je(o)?Ro(o,u):[]}),Fh=ue(function(o){return Ri(Br(o,Je))}),Ph=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Ri(Br(o,Je),Yt(u,2))}),hh=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Ri(Br(o,Je),n,u)}),Th=ue(Cc),If=ue(function(o){var u=o.length,l=u>1?o[u-1]:n;return l=typeof l=="function"?(o.pop(),l):n,su(o,l)});function Zf(o){var u=P(o);return u.__chain__=!0,u}function Yu(o,u){return u(o)}var th=Ei(function(o){var u=o.length,l=u?o[0]:0,g=this.__wrapped__,b=function(E){return Gl(E,o)};return!(u>1||this.__actions__.length)&&g instanceof ce&&ur(l)?((g=g.slice(l,+l+(u?1:0))).__actions__.push({func:Yu,args:[b],thisArg:n}),new or(g,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E})):this.thru(b)}),ms=ji(function(o,u,l){Ce.call(o,l)?++o[l]:Rr(o,l,1)}),Bf=va(Zl),af=va(uo);function wf(o,u){return(ie(o)?Bn:ki)(o,Yt(u,3))}function sf(o,u){return(ie(o)?tf:Ss)(o,Yt(u,3))}var Dh=ji(function(o,u,l){Ce.call(o,l)?o[l].push(u):Rr(o,l,[u])}),Rf=ue(function(o,u,l){var g=-1,b=typeof u=="function",E=$e(o)?pt(o.length):[];return ki(o,function(O){E[++g]=b?Mn(u,O,l):Po(O,u,l)}),E}),tc=ji(function(o,u,l){Rr(o,l,u)});function uu(o,u){return(ie(o)?Be:ar)(o,Yt(u,3))}var eh=ji(function(o,u,l){o[l?0:1].push(u)},function(){return[[],[]]}),Ch=ue(function(o,u){if(o==null)return[];var l=u.length;return l>1&&Ue(o,u[0],u[1])?u=[]:l>2&&Ue(u[0],u[1],u[2])&&(u=[u[0]]),Qs(o,gn(u,1),[])}),Xu=Xf||function(){return ze.Date.now()};function uf(o,u,l){return u=l?n:u,u=o&&u==null?o.length:u,gr(o,a,n,n,n,n,u)}function Bc(o,u){var l;if(typeof u!="function")throw new Pe(t);return o=se(o),function(){return--o>0&&(l=u.apply(this,arguments)),o<=1&&(u=n),l}}var ec=ue(function(o,u,l){var g=1;if(l.length){var b=Di(l,vi(ec));g|=i}return gr(o,g,u,l,b)}),bf=ue(function(o,u,l){var g=3;if(l.length){var b=Di(l,vi(bf));g|=i}return gr(u,g,o,l,b)});function jf(o,u,l){var g,b,E,O,R,W,A=0,_=!1,T=!1,U=!0;if(typeof o!="function")throw new Pe(t);function G(ot){var wt=g,yt=b;return g=b=n,A=ot,O=o.apply(yt,wt)}function Z(ot){var wt=ot-W;return W===n||wt>=u||wt<0||T&&ot-A>=E}function K(){var ot=Xu();if(Z(ot))return tt(ot);R=gi(K,function(wt){var yt=u-(wt-W);return T?on(yt,E-(wt-A)):yt}(ot))}function tt(ot){return R=n,U&&g?G(ot):(g=b=n,O)}function ut(){var ot=Xu(),wt=Z(ot);if(g=arguments,b=this,W=ot,wt){if(R===n)return function(yt){return A=yt,R=gi(K,u),_?G(yt):O}(W);if(T)return Jl(R),R=gi(K,u),G(W)}return R===n&&(R=gi(K,u)),O}return u=Qe(u)||0,We(l)&&(_=!!l.leading,E=(T="maxWait"in l)?sn(Qe(l.maxWait)||0,u):E,U="trailing"in l?!!l.trailing:U),ut.cancel=function(){R!==n&&Jl(R),A=0,g=W=b=R=n},ut.flush=function(){return R===n?O:tt(Xu())},ut}var ia=ue(function(o,u){return $a(o,1,u)}),ka=ue(function(o,u,l){return $a(o,Qe(u)||0,l)});function Ju(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Pe(t);var l=function(){var g=arguments,b=u?u.apply(this,g):g[0],E=l.cache;if(E.has(b))return E.get(b);var O=o.apply(this,g);return l.cache=E.set(b,O)||E,O};return l.cache=new(Ju.Cache||Fr),l}function ks(o){if(typeof o!="function")throw new Pe(t);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}Ju.Cache=Fr;var nh=Xl(function(o,u){var l=(u=u.length==1&&ie(u[0])?Be(u[0],Ln(Yt())):Be(gn(u,1),Ln(Yt()))).length;return ue(function(g){for(var b=-1,E=on(g.length,l);++b<E;)g[b]=u[b].call(this,g[b]);return Mn(o,this,g)})}),Fl=ue(function(o,u){var l=Di(u,vi(Fl));return gr(o,i,n,u,l)}),lf=ue(function(o,u){var l=Di(u,vi(lf));return gr(o,64,n,u,l)}),ll=Ei(function(o,u){return gr(o,256,n,n,n,u)});function Mr(o,u){return o===u||o!=o&&u!=u}var Lf=Ka(Ho),gc=Ka(function(o,u){return o>=u}),Eo=Js(function(){return arguments}())?Js:function(o){return Le(o)&&Ce.call(o,"callee")&&!Oc.call(o,"callee")},ie=pt.isArray,_c=Ru?Ln(Ru):function(o){return Le(o)&&tn(o)==ft};function $e(o){return o!=null&&Gn(o.length)&&!yi(o)}function Je(o){return Le(o)&&$e(o)}var Nr=xc||Ir,$o=Ji?Ln(Ji):function(o){return Le(o)&&tn(o)==C};function lu(o){if(!Le(o))return!1;var u=tn(o);return u==k||u=="[object DOMException]"||typeof o.message=="string"&&typeof o.name=="string"&&!la(o)}function yi(o){if(!We(o))return!1;var u=tn(o);return u==M||u==N||u=="[object AsyncFunction]"||u=="[object Proxy]"}function cu(o){return typeof o=="number"&&o==se(o)}function Gn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function We(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Le(o){return o!=null&&typeof o=="object"}var Qn=qn?Ln(qn):function(o){return Le(o)&&cn(o)==B};function lr(o){return typeof o=="number"||Le(o)&&tn(o)==L}function la(o){if(!Le(o)||tn(o)!=z)return!1;var u=ea(o);if(u===null)return!0;var l=Ce.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&pi.call(l)==Yc}var Li=rl?Ln(rl):function(o){return Le(o)&&tn(o)==V},Qu=Zc?Ln(Zc):function(o){return Le(o)&&cn(o)==X};function ku(o){return typeof o=="string"||!ie(o)&&Le(o)&&tn(o)==nt}function jn(o){return typeof o=="symbol"||Le(o)&&tn(o)==it}var xn=wc?Ln(wc):function(o){return Le(o)&&Gn(o.length)&&!!De[tn(o)]},Wo=Ka(dr),Ae=Ka(function(o,u){return o<=u});function cl(o){if(!o)return[];if($e(o))return ku(o)?xr(o):An(o);if(io&&o[io])return function(l){for(var g,b=[];!(g=l.next()).done;)b.push(g.value);return b}(o[io]());var u=cn(o);return(u==B?Gi:u==X?ns:Zn)(o)}function ui(o){return o?(o=Qe(o))===s||o===-1/0?17976931348623157e292*(o<0?-1:1):o==o?o:0:o===0?o:0}function se(o){var u=ui(o),l=u%1;return u==u?l?u-l:u:0}function vs(o){return o?Qi(se(o),0,d):0}function Qe(o){if(typeof o=="number")return o;if(jn(o))return f;if(We(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=We(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Bl(o);var l=rn.test(o);return l||Yi.test(o)?tp(o.slice(2),l?2:8):je.test(o)?f:+o}function ys(o){return $n(o,Xn(o))}function we(o){return o==null?"":fn(o)}var Oh=Mi(function(o,u){if(Zr(u)||$e(u))$n(u,en(u),o);else for(var l in u)Ce.call(u,l)&&Fo(o,l,u[l])}),mo=Mi(function(o,u){$n(u,Xn(u),o)}),Vs=Mi(function(o,u,l,g){$n(u,Xn(u),o,g)}),nc=Mi(function(o,u,l,g){$n(u,en(u),o,g)}),Pn=Ei(Gl),Na=ue(function(o,u){o=zt(o);var l=-1,g=u.length,b=g>2?u[2]:n;for(b&&Ue(u[0],u[1],b)&&(g=1);++l<g;)for(var E=u[l],O=Xn(E),R=-1,W=O.length;++R<W;){var A=O[R],_=o[A];(_===n||Mr(_,hi[A])&&!Ce.call(o,A))&&(o[A]=E[A])}return o}),as=ue(function(o){return o.push(n,Ga),Mn(Fs,n,o)});function rc(o,u,l){var g=o==null?n:Vr(o,u);return g===n?l:g}function Fi(o,u){return o!=null&&$l(o,u,xl)}var eu=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),o[u]=l},Tl(_n)),rh=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),Ce.call(o,u)?o[u].push(l):o[u]=[l]},Yt),Ms=ue(Po);function en(o){return $e(o)?Wu(o):Ta(o)}function Xn(o){return $e(o)?Wu(o,!0):function(u){if(!We(u))return function(E){var O=[];if(E!=null)for(var R in zt(E))O.push(R);return O}(u);var l=Zr(u),g=[];for(var b in u)(b!="constructor"||!l&&Ce.call(u,b))&&g.push(b);return g}(o)}var Mu=Mi(function(o,u,l){Si(o,u,l)}),Fs=Mi(function(o,u,l,g){Si(o,u,l,g)}),Fu=Ei(function(o,u){var l={};if(o==null)return l;var g=!1;u=Be(u,function(E){return E=ai(E,o),g||(g=E.length>1),E}),$n(o,po(o),l),g&&(l=yr(l,7,Nf));for(var b=u.length;b--;)oi(l,u[b]);return l}),ph=Ei(function(o,u){return o==null?{}:function(l,g){return Zi(l,g,function(b,E){return Fi(l,E)})}(o,u)});function Wn(o,u){if(o==null)return{};var l=Be(po(o),function(g){return[g]});return u=Yt(u),Zi(o,l,function(g,b){return u(g,b[0])})}var Pl=Ul(en),Sc=Ul(Xn);function Zn(o){return o==null?[]:yl(o,en(o))}var Tn=Lo(function(o,u,l){return u=u.toLowerCase(),o+(l?ti(u):u)});function ti(o){return Zo(we(o).toLowerCase())}function li(o){return(o=we(o))&&o.replace(xo,Gc).replace(ln,"")}var No=Lo(function(o,u,l){return o+(l?"-":"")+u.toLowerCase()}),Xa=Lo(function(o,u,l){return o+(l?" ":"")+u.toLowerCase()}),Ec=Eu("toLowerCase"),co=Lo(function(o,u,l){return o+(l?"_":"")+u.toLowerCase()}),Rc=Lo(function(o,u,l){return o+(l?" ":"")+Zo(u)}),Pu=Lo(function(o,u,l){return o+(l?" ":"")+u.toUpperCase()}),Zo=Eu("toUpperCase");function fu(o,u,l){return o=we(o),(u=l?n:u)===n?function(g){return es.test(g)}(o)?function(g){return g.match(hr)||[]}(o):function(g){return g.match(ge)||[]}(o):o.match(u)||[]}var Ps=ue(function(o,u){try{return Mn(o,n,u)}catch(l){return lu(l)?l:new Jt(l)}}),Ja=Ei(function(o,u){return Bn(u,function(l){l=Nn(l),Rr(o,l,ec(o[l],o))}),o});function Tl(o){return function(){return o}}var hu=Uo(),fl=Uo(!0);function _n(o){return o}function ic(o){return Cu(typeof o=="function"?o:yr(o,1))}var ca=ue(function(o,u){return function(l){return Po(l,o,u)}}),Jc=ue(function(o,u){return function(l){return Po(o,l,u)}});function Qa(o,u,l){var g=en(u),b=ma(u,g);l!=null||We(u)&&(b.length||!g.length)||(l=u,u=o,o=this,b=ma(u,en(u)));var E=!(We(l)&&"chain"in l&&!l.chain),O=yi(o);return Bn(b,function(R){var W=u[R];o[R]=W,O&&(o.prototype[R]=function(){var A=this.__chain__;if(E||A){var _=o(this.__wrapped__);return(_.__actions__=An(this.__actions__)).push({func:W,args:arguments,thisArg:o}),_.__chain__=A,_}return W.apply(o,Er([this.value()],arguments))})}),o}function hl(){}var Ac=Oo(Be),cf=Oo(Cs),xf=Oo(Is);function Io(o){return Dr(o)?Da(Nn(o)):function(u){return function(l){return Vr(l,u)}}(o)}var fr=Ku(),ta=Ku(!0);function qr(){return[]}function Ir(){return!1}var Ma,jc=eo(function(o,u){return o+u},0),ws=ra("ceil"),Zu=eo(function(o,u){return o/u},1),ff=ra("floor"),zf=eo(function(o,u){return o*u},1),oc=ra("round"),Qc=eo(function(o,u){return o-u},0);return P.after=function(o,u){if(typeof u!="function")throw new Pe(t);return o=se(o),function(){if(--o<1)return u.apply(this,arguments)}},P.ary=uf,P.assign=Oh,P.assignIn=mo,P.assignInWith=Vs,P.assignWith=nc,P.at=Pn,P.before=Bc,P.bind=ec,P.bindAll=Ja,P.bindKey=bf,P.castArray=function(){if(!arguments.length)return[];var o=arguments[0];return ie(o)?o:[o]},P.chain=Zf,P.chunk=function(o,u,l){u=(l?Ue(o,u,l):u===n)?1:sn(se(u),0);var g=o==null?0:o.length;if(!g||u<1)return[];for(var b=0,E=0,O=pt(Ua(g/u));b<g;)O[E++]=Un(o,b,b+=u);return O},P.compact=function(o){for(var u=-1,l=o==null?0:o.length,g=0,b=[];++u<l;){var E=o[u];E&&(b[g++]=E)}return b},P.concat=function(){var o=arguments.length;if(!o)return[];for(var u=pt(o-1),l=arguments[0],g=o;g--;)u[g-1]=arguments[g];return Er(ie(l)?An(l):[l],gn(u,1))},P.cond=function(o){var u=o==null?0:o.length,l=Yt();return o=u?Be(o,function(g){if(typeof g[1]!="function")throw new Pe(t);return[l(g[0]),g[1]]}):[],ue(function(g){for(var b=-1;++b<u;){var E=o[b];if(Mn(E[0],this,g))return Mn(E[1],this,g)}})},P.conforms=function(o){return function(u){var l=en(u);return function(g){return Vu(g,u,l)}}(yr(o,1))},P.constant=Tl,P.countBy=ms,P.create=function(o,u){var l=Go(o);return u==null?l:Hu(l,u)},P.curry=function o(u,l,g){var b=gr(u,8,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.curryRight=function o(u,l,g){var b=gr(u,16,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.debounce=jf,P.defaults=Na,P.defaultsDeep=as,P.defer=ia,P.delay=ka,P.difference=Ql,P.differenceBy=mf,P.differenceWith=ch,P.drop=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=l||u===n?1:se(u))<0?0:u,g):[]},P.dropRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,0,(u=g-(u=l||u===n?1:se(u)))<0?0:u):[]},P.dropRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0,!0):[]},P.dropWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0):[]},P.fill=function(o,u,l,g){var b=o==null?0:o.length;return b?(l&&typeof l!="number"&&Ue(o,u,l)&&(l=0,g=b),function(E,O,R,W){var A=E.length;for((R=se(R))<0&&(R=-R>A?0:A+R),(W=W===n||W>A?A:se(W))<0&&(W+=A),W=R>W?0:vs(W);R<W;)E[R++]=O;return E}(o,u,l,g)):[]},P.filter=function(o,u){return(ie(o)?Br:au)(o,Yt(u,3))},P.flatMap=function(o,u){return gn(uu(o,u),1)},P.flatMapDeep=function(o,u){return gn(uu(o,u),s)},P.flatMapDepth=function(o,u,l){return l=l===n?1:se(l),gn(uu(o,u),l)},P.flatten=Oa,P.flattenDeep=function(o){return o!=null&&o.length?gn(o,s):[]},P.flattenDepth=function(o,u){return o!=null&&o.length?gn(o,u=u===n?1:se(u)):[]},P.flip=function(o){return gr(o,512)},P.flow=hu,P.flowRight=fl,P.fromPairs=function(o){for(var u=-1,l=o==null?0:o.length,g={};++u<l;){var b=o[u];g[b[0]]=b[1]}return g},P.functions=function(o){return o==null?[]:ma(o,en(o))},P.functionsIn=function(o){return o==null?[]:ma(o,Xn(o))},P.groupBy=Dh,P.initial=function(o){return o!=null&&o.length?Un(o,0,-1):[]},P.intersection=Ml,P.intersectionBy=vf,P.intersectionWith=yf,P.invert=eu,P.invertBy=rh,P.invokeMap=Rf,P.iteratee=ic,P.keyBy=tc,P.keys=en,P.keysIn=Xn,P.map=uu,P.mapKeys=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,u(g,b,E),g)}),l},P.mapValues=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,b,u(g,b,E))}),l},P.matches=function(o){return zs(yr(o,1))},P.matchesProperty=function(o,u){return Wi(o,yr(u,1))},P.memoize=Ju,P.merge=Mu,P.mergeWith=Fs,P.method=ca,P.methodOf=Jc,P.mixin=Qa,P.negate=ks,P.nthArg=function(o){return o=se(o),ue(function(u){return _u(u,o)})},P.omit=Fu,P.omitBy=function(o,u){return Wn(o,ks(Yt(u)))},P.once=function(o){return Bc(2,o)},P.orderBy=function(o,u,l,g){return o==null?[]:(ie(u)||(u=u==null?[]:[u]),ie(l=g?n:l)||(l=l==null?[]:[l]),Qs(o,u,l))},P.over=Ac,P.overArgs=nh,P.overEvery=cf,P.overSome=xf,P.partial=Fl,P.partialRight=lf,P.partition=eh,P.pick=ph,P.pickBy=Wn,P.property=Io,P.propertyOf=function(o){return function(u){return o==null?n:Vr(o,u)}},P.pull=ul,P.pullAll=tu,P.pullAllBy=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,Yt(l,2)):o},P.pullAllWith=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,n,l):o},P.pullAt=fh,P.range=fr,P.rangeRight=ta,P.rearg=ll,P.reject=function(o,u){return(ie(o)?Br:au)(o,ks(Yt(u,3)))},P.remove=function(o,u){var l=[];if(!o||!o.length)return l;var g=-1,b=[],E=o.length;for(u=Yt(u,3);++g<E;){var O=o[g];u(O,g,o)&&(l.push(O),b.push(g))}return zl(o,b),l},P.rest=function(o,u){if(typeof o!="function")throw new Pe(t);return ue(o,u=u===n?u:se(u))},P.reverse=Gu,P.sampleSize=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),(ie(o)?Bi:mi)(o,u)},P.set=function(o,u,l){return o==null?o:os(o,u,l)},P.setWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:os(o,u,l,g)},P.shuffle=function(o){return(ie(o)?Kl:ol)(o)},P.slice=function(o,u,l){var g=o==null?0:o.length;return g?(l&&typeof l!="number"&&Ue(o,u,l)?(u=0,l=g):(u=u==null?0:se(u),l=l===n?g:se(l)),Un(o,u,l)):[]},P.sortBy=Ch,P.sortedUniq=function(o){return o&&o.length?Or(o):[]},P.sortedUniqBy=function(o,u){return o&&o.length?Or(o,Yt(u,2)):[]},P.split=function(o,u,l){return l&&typeof l!="number"&&Ue(o,u,l)&&(u=l=n),(l=l===n?d:l>>>0)?(o=we(o))&&(typeof u=="string"||u!=null&&!Li(u))&&!(u=fn(u))&&ha(o)?Ur(xr(o),0,l):o.split(u,l):[]},P.spread=function(o,u){if(typeof o!="function")throw new Pe(t);return u=u==null?0:sn(se(u),0),ue(function(l){var g=l[u],b=Ur(l,0,u);return g&&Er(b,g),Mn(o,this,b)})},P.tail=function(o){var u=o==null?0:o.length;return u?Un(o,1,u):[]},P.take=function(o,u,l){return o&&o.length?Un(o,0,(u=l||u===n?1:se(u))<0?0:u):[]},P.takeRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=g-(u=l||u===n?1:se(u)))<0?0:u,g):[]},P.takeRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!1,!0):[]},P.takeWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3)):[]},P.tap=function(o,u){return u(o),o},P.throttle=function(o,u,l){var g=!0,b=!0;if(typeof o!="function")throw new Pe(t);return We(l)&&(g="leading"in l?!!l.leading:g,b="trailing"in l?!!l.trailing:b),jf(o,u,{leading:g,maxWait:u,trailing:b})},P.thru=Yu,P.toArray=cl,P.toPairs=Pl,P.toPairsIn=Sc,P.toPath=function(o){return ie(o)?Be(o,Nn):jn(o)?[o]:An(Ic(we(o)))},P.toPlainObject=ys,P.transform=function(o,u,l){var g=ie(o),b=g||Nr(o)||xn(o);if(u=Yt(u,4),l==null){var E=o&&o.constructor;l=b?g?new E:[]:We(o)&&yi(E)?Go(ea(o)):{}}return(b?Bn:bn)(o,function(O,R,W){return u(l,O,R,W)}),l},P.unary=function(o){return uf(o,1)},P.union=Dc,P.unionBy=Hl,P.unionWith=Qf,P.uniq=function(o){return o&&o.length?Yn(o):[]},P.uniqBy=function(o,u){return o&&o.length?Yn(o,Yt(u,2)):[]},P.uniqWith=function(o,u){return u=typeof u=="function"?u:n,o&&o.length?Yn(o,n,u):[]},P.unset=function(o,u){return o==null||oi(o,u)},P.unzip=Cc,P.unzipWith=su,P.update=function(o,u,l){return o==null?o:na(o,u,di(l))},P.updateWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:na(o,u,di(l),g)},P.values=Zn,P.valuesIn=function(o){return o==null?[]:yl(o,Xn(o))},P.without=Mh,P.words=fu,P.wrap=function(o,u){return Fl(di(u),o)},P.xor=Fh,P.xorBy=Ph,P.xorWith=hh,P.zip=Th,P.zipObject=function(o,u){return Yo(o||[],u||[],Fo)},P.zipObjectDeep=function(o,u){return Yo(o||[],u||[],os)},P.zipWith=If,P.entries=Pl,P.entriesIn=Sc,P.extend=mo,P.extendWith=Vs,Qa(P,P),P.add=jc,P.attempt=Ps,P.camelCase=Tn,P.capitalize=ti,P.ceil=ws,P.clamp=function(o,u,l){return l===n&&(l=u,u=n),l!==n&&(l=(l=Qe(l))==l?l:0),u!==n&&(u=(u=Qe(u))==u?u:0),Qi(Qe(o),u,l)},P.clone=function(o){return yr(o,4)},P.cloneDeep=function(o){return yr(o,5)},P.cloneDeepWith=function(o,u){return yr(o,5,u=typeof u=="function"?u:n)},P.cloneWith=function(o,u){return yr(o,4,u=typeof u=="function"?u:n)},P.conformsTo=function(o,u){return u==null||Vu(o,u,en(u))},P.deburr=li,P.defaultTo=function(o,u){return o==null||o!=o?u:o},P.divide=Zu,P.endsWith=function(o,u,l){o=we(o),u=fn(u);var g=o.length,b=l=l===n?g:Qi(se(l),0,g);return(l-=u.length)>=0&&o.slice(l,b)==u},P.eq=Mr,P.escape=function(o){return(o=we(o))&&He.test(o)?o.replace(Oe,Tc):o},P.escapeRegExp=function(o){return(o=we(o))&&bt.test(o)?o.replace(dt,"\\$&"):o},P.every=function(o,u,l){var g=ie(o)?Cs:fc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.find=Bf,P.findIndex=Zl,P.findKey=function(o,u){return ql(o,Yt(u,3),bn)},P.findLast=af,P.findLastIndex=uo,P.findLastKey=function(o,u){return ql(o,Yt(u,3),Sa)},P.floor=ff,P.forEach=wf,P.forEachRight=sf,P.forIn=function(o,u){return o==null?o:hc(o,Yt(u,3),Xn)},P.forInRight=function(o,u){return o==null?o:Ha(o,Yt(u,3),Xn)},P.forOwn=function(o,u){return o&&bn(o,Yt(u,3))},P.forOwnRight=function(o,u){return o&&Sa(o,Yt(u,3))},P.get=rc,P.gt=Lf,P.gte=gc,P.has=function(o,u){return o!=null&&$l(o,u,Ls)},P.hasIn=Fi,P.head=lo,P.identity=_n,P.includes=function(o,u,l,g){o=$e(o)?o:Zn(o),l=l&&!g?se(l):0;var b=o.length;return l<0&&(l=sn(b+l,0)),ku(o)?l<=b&&o.indexOf(u,l)>-1:!!b&&Ii(o,u,l)>-1},P.indexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),Ii(o,u,b)},P.inRange=function(o,u,l){return u=ui(u),l===n?(l=u,u=0):l=ui(l),function(g,b,E){return g>=on(b,E)&&g<sn(b,E)}(o=Qe(o),u,l)},P.invoke=Ms,P.isArguments=Eo,P.isArray=ie,P.isArrayBuffer=_c,P.isArrayLike=$e,P.isArrayLikeObject=Je,P.isBoolean=function(o){return o===!0||o===!1||Le(o)&&tn(o)==w},P.isBuffer=Nr,P.isDate=$o,P.isElement=function(o){return Le(o)&&o.nodeType===1&&!la(o)},P.isEmpty=function(o){if(o==null)return!0;if($e(o)&&(ie(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||xn(o)||Eo(o)))return!o.length;var u=cn(o);if(u==B||u==X)return!o.size;if(Zr(o))return!Ta(o).length;for(var l in o)if(Ce.call(o,l))return!1;return!0},P.isEqual=function(o,u){return _o(o,u)},P.isEqualWith=function(o,u,l){var g=(l=typeof l=="function"?l:n)?l(o,u):n;return g===n?_o(o,u,n,l):!!g},P.isError=lu,P.isFinite=function(o){return typeof o=="number"&&Nc(o)},P.isFunction=yi,P.isInteger=cu,P.isLength=Gn,P.isMap=Qn,P.isMatch=function(o,u){return o===u||jo(o,u,er(u))},P.isMatchWith=function(o,u,l){return l=typeof l=="function"?l:n,jo(o,u,er(u),l)},P.isNaN=function(o){return lr(o)&&o!=+o},P.isNative=function(o){if(Al(o))throw new Jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qu(o)},P.isNil=function(o){return o==null},P.isNull=function(o){return o===null},P.isNumber=lr,P.isObject=We,P.isObjectLike=Le,P.isPlainObject=la,P.isRegExp=Li,P.isSafeInteger=function(o){return cu(o)&&o>=-9007199254740991&&o<=c},P.isSet=Qu,P.isString=ku,P.isSymbol=jn,P.isTypedArray=xn,P.isUndefined=function(o){return o===n},P.isWeakMap=function(o){return Le(o)&&cn(o)==ct},P.isWeakSet=function(o){return Le(o)&&tn(o)=="[object WeakSet]"},P.join=function(o,u){return o==null?"":Wh.call(o,u)},P.kebabCase=No,P.last=Ar,P.lastIndexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g;return l!==n&&(b=(b=se(l))<0?sn(g+b,0):on(b,g-1)),u==u?function(E,O,R){for(var W=R+1;W--;)if(E[W]===O)return W;return W}(o,u,b):jr(o,Bs,b,!0)},P.lowerCase=Xa,P.lowerFirst=Ec,P.lt=Wo,P.lte=Ae,P.max=function(o){return o&&o.length?Wa(o,_n,Ho):n},P.maxBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),Ho):n},P.mean=function(o){return xu(o,_n)},P.meanBy=function(o,u){return xu(o,Yt(u,2))},P.min=function(o){return o&&o.length?Wa(o,_n,dr):n},P.minBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),dr):n},P.stubArray=qr,P.stubFalse=Ir,P.stubObject=function(){return{}},P.stubString=function(){return""},P.stubTrue=function(){return!0},P.multiply=zf,P.nth=function(o,u){return o&&o.length?_u(o,se(u)):n},P.noConflict=function(){return ze._===this&&(ze._=pf),this},P.noop=hl,P.now=Xu,P.pad=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;if(!u||g>=u)return o;var b=(u-g)/2;return Xo($u(b),l)+o+Xo(Ua(b),l)},P.padEnd=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?o+Xo(u-g,l):o},P.padStart=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?Xo(u-g,l)+o:o},P.parseInt=function(o,u,l){return l||u==null?u=0:u&&(u=+u),Du(we(o).replace(Ot,""),u||0)},P.random=function(o,u,l){if(l&&typeof l!="boolean"&&Ue(o,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof o=="boolean"&&(l=o,o=n)),o===n&&u===n?(o=0,u=1):(o=ui(o),u===n?(u=o,o=0):u=ui(u)),o>u){var g=o;o=u,u=g}if(l||o%1||u%1){var b=df();return on(o+b*(u-o+xa("1e-"+((b+"").length-1))),u)}return fs(o,u)},P.reduce=function(o,u,l){var g=ie(o)?Jr:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,ki)},P.reduceRight=function(o,u,l){var g=ie(o)?ef:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,Ss)},P.repeat=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),Us(we(o),u)},P.replace=function(){var o=arguments,u=we(o[0]);return o.length<3?u:u.replace(o[1],o[2])},P.result=function(o,u,l){var g=-1,b=(u=ai(u,o)).length;for(b||(b=1,o=n);++g<b;){var E=o==null?n:o[Nn(u[g])];E===n&&(g=b,E=l),o=yi(E)?E.call(o):E}return o},P.round=oc,P.runInContext=J,P.sample=function(o){return(ie(o)?En:Es)(o)},P.size=function(o){if(o==null)return 0;if($e(o))return ku(o)?Wr(o):o.length;var u=cn(o);return u==B||u==X?o.size:Ta(o).length},P.snakeCase=co,P.some=function(o,u,l){var g=ie(o)?Is:Xc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.sortedIndex=function(o,u){return Fn(o,u)},P.sortedIndexBy=function(o,u,l){return to(o,u,Yt(l,2))},P.sortedIndexOf=function(o,u){var l=o==null?0:o.length;if(l){var g=Fn(o,u);if(g<l&&Mr(o[g],u))return g}return-1},P.sortedLastIndex=function(o,u){return Fn(o,u,!0)},P.sortedLastIndexBy=function(o,u,l){return to(o,u,Yt(l,2),!0)},P.sortedLastIndexOf=function(o,u){if(o!=null&&o.length){var l=Fn(o,u,!0)-1;if(Mr(o[l],u))return l}return-1},P.startCase=Rc,P.startsWith=function(o,u,l){return o=we(o),l=l==null?0:Qi(se(l),0,o.length),u=fn(u),o.slice(l,l+u.length)==u},P.subtract=Qc,P.sum=function(o){return o&&o.length?Ys(o,_n):0},P.sumBy=function(o,u){return o&&o.length?Ys(o,Yt(u,2)):0},P.template=function(o,u,l){var g=P.templateSettings;l&&Ue(o,u,l)&&(u=n),o=we(o),u=Vs({},u,g,$s);var b,E,O=Vs({},u.imports,g.imports,$s),R=en(O),W=yl(O,R),A=0,_=u.interpolate||Ai,T="__p += '",U=Ne((u.escape||Ai).source+"|"+_.source+"|"+(_===cr?Xe:Ai).source+"|"+(u.evaluate||Ai).source+"|$","g"),G="//# sourceURL="+(Ce.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;o.replace(U,function(tt,ut,ot,wt,yt,jt){return ot||(ot=wt),T+=o.slice(A,jt).replace(us,Lu),ut&&(b=!0,T+=`' +
__e(`+ut+`) +
'`),yt&&(E=!0,T+=`';
`+yt+`;
__p += '`),ot&&(T+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),A=jt+tt.length,tt}),T+=`';
`;var Z=Ce.call(u,"variable")&&u.variable;if(Z){if(Ee.test(Z))throw new Jt("Invalid `variable` option passed into `_.template`")}else T=`with (obj) {
`+T+`
}
`;T=(E?T.replace(Lt,""):T).replace(ee,"$1").replace(pe,"$1;"),T="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var K=Ps(function(){return Fe(R,G+"return "+T).apply(n,W)});if(K.source=T,lu(K))throw K;return K},P.times=function(o,u){if((o=se(o))<1||o>c)return[];var l=d,g=on(o,d);u=Yt(u),o-=d;for(var b=Il(g,u);++l<o;)u(l);return b},P.toFinite=ui,P.toInteger=se,P.toLength=vs,P.toLower=function(o){return we(o).toLowerCase()},P.toNumber=Qe,P.toSafeInteger=function(o){return o?Qi(se(o),-9007199254740991,c):o===0?o:0},P.toString=we,P.toUpper=function(o){return we(o).toUpperCase()},P.trim=function(o,u,l){if((o=we(o))&&(l||u===n))return Bl(o);if(!o||!(u=fn(u)))return o;var g=xr(o),b=xr(u);return Ur(g,wl(g,b),Xs(g,b)+1).join("")},P.trimEnd=function(o,u,l){if((o=we(o))&&(l||u===n))return o.slice(0,La(o)+1);if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,0,Xs(g,xr(u))+1).join("")},P.trimStart=function(o,u,l){if((o=we(o))&&(l||u===n))return o.replace(Ot,"");if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,wl(g,xr(u))).join("")},P.truncate=function(o,u){var l=30,g="...";if(We(u)){var b="separator"in u?u.separator:b;l="length"in u?se(u.length):l,g="omission"in u?fn(u.omission):g}var E=(o=we(o)).length;if(ha(o)){var O=xr(o);E=O.length}if(l>=E)return o;var R=l-Wr(g);if(R<1)return g;var W=O?Ur(O,0,R).join(""):o.slice(0,R);if(b===n)return W+g;if(O&&(R+=W.length-R),Li(b)){if(o.slice(R).search(b)){var A,_=W;for(b.global||(b=Ne(b.source,we(Se.exec(b))+"g")),b.lastIndex=0;A=b.exec(_);)var T=A.index;W=W.slice(0,T===n?R:T)}}else if(o.indexOf(fn(b),R)!=R){var U=W.lastIndexOf(b);U>-1&&(W=W.slice(0,U))}return W+g},P.unescape=function(o){return(o=we(o))&&qe.test(o)?o.replace(ve,lc):o},P.uniqueId=function(o){var u=++kh;return we(o)+u},P.upperCase=Pu,P.upperFirst=Zo,P.each=wf,P.eachRight=sf,P.first=lo,Qa(P,(Ma={},bn(P,function(o,u){Ce.call(P.prototype,u)||(Ma[u]=o)}),Ma),{chain:!1}),P.VERSION="4.17.21",Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){P[o].placeholder=P}),Bn(["drop","take"],function(o,u){ce.prototype[o]=function(l){l=l===n?1:sn(se(l),0);var g=this.__filtered__&&!u?new ce(this):this.clone();return g.__filtered__?g.__takeCount__=on(l,g.__takeCount__):g.__views__.push({size:on(l,d),type:o+(g.__dir__<0?"Right":"")}),g},ce.prototype[o+"Right"]=function(l){return this.reverse()[o](l).reverse()}}),Bn(["filter","map","takeWhile"],function(o,u){var l=u+1,g=l==1||l==3;ce.prototype[o]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Yt(b,3),type:l}),E.__filtered__=E.__filtered__||g,E}}),Bn(["head","last"],function(o,u){var l="take"+(u?"Right":"");ce.prototype[o]=function(){return this[l](1).value()[0]}}),Bn(["initial","tail"],function(o,u){var l="drop"+(u?"":"Right");ce.prototype[o]=function(){return this.__filtered__?new ce(this):this[l](1)}}),ce.prototype.compact=function(){return this.filter(_n)},ce.prototype.find=function(o){return this.filter(o).head()},ce.prototype.findLast=function(o){return this.reverse().find(o)},ce.prototype.invokeMap=ue(function(o,u){return typeof o=="function"?new ce(this):this.map(function(l){return Po(l,o,u)})}),ce.prototype.reject=function(o){return this.filter(ks(Yt(o)))},ce.prototype.slice=function(o,u){o=se(o);var l=this;return l.__filtered__&&(o>0||u<0)?new ce(l):(o<0?l=l.takeRight(-o):o&&(l=l.drop(o)),u!==n&&(l=(u=se(u))<0?l.dropRight(-u):l.take(u-o)),l)},ce.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ce.prototype.toArray=function(){return this.take(d)},bn(ce.prototype,function(o,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),b=P[g?"take"+(u=="last"?"Right":""):u],E=g||/^find/.test(u);b&&(P.prototype[u]=function(){var O=this.__wrapped__,R=g?[1]:arguments,W=O instanceof ce,A=R[0],_=W||ie(O),T=function(ut){var ot=b.apply(P,Er([ut],R));return g&&U?ot[0]:ot};_&&l&&typeof A=="function"&&A.length!=1&&(W=_=!1);var U=this.__chain__,G=!!this.__actions__.length,Z=E&&!U,K=W&&!G;if(!E&&_){O=K?O:new ce(this);var tt=o.apply(O,R);return tt.__actions__.push({func:Yu,args:[T],thisArg:n}),new or(tt,U)}return Z&&K?o.apply(this,R):(tt=this.thru(T),Z?g?tt.value()[0]:tt.value():tt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var u=vr[o],l=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",g=/^(?:pop|shift)$/.test(o);P.prototype[o]=function(){var b=arguments;if(g&&!this.__chain__){var E=this.value();return u.apply(ie(E)?E:[],b)}return this[l](function(O){return u.apply(ie(O)?O:[],b)})}}),bn(ce.prototype,function(o,u){var l=P[u];if(l){var g=l.name+"";Ce.call(Mo,g)||(Mo[g]=[]),Mo[g].push({name:u,func:l})}}),Mo[To(n,2).name]=[{name:"wrapper",func:n}],ce.prototype.clone=function(){var o=new ce(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o},ce.prototype.reverse=function(){if(this.__filtered__){var o=new ce(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},ce.prototype.value=function(){var o=this.__wrapped__.value(),u=this.__dir__,l=ie(o),g=u<0,b=l?o.length:0,E=function(jt,xt,It){for(var ae=-1,Ht=It.length;++ae<Ht;){var ye=It[ae],oe=ye.size;switch(ye.type){case"drop":jt+=oe;break;case"dropRight":xt-=oe;break;case"take":xt=on(xt,jt+oe);break;case"takeRight":jt=sn(jt,xt-oe)}}return{start:jt,end:xt}}(0,b,this.__views__),O=E.start,R=E.end,W=R-O,A=g?R:O-1,_=this.__iteratees__,T=_.length,U=0,G=on(W,this.__takeCount__);if(!l||!g&&b==W&&G==W)return qa(o,this.__actions__);var Z=[];t:for(;W--&&U<G;){for(var K=-1,tt=o[A+=u];++K<T;){var ut=_[K],ot=ut.iteratee,wt=ut.type,yt=ot(tt);if(wt==2)tt=yt;else if(!yt){if(wt==1)continue t;break t}}Z[U++]=tt}return Z},P.prototype.at=th,P.prototype.chain=function(){return Zf(this)},P.prototype.commit=function(){return new or(this.value(),this.__chain__)},P.prototype.next=function(){this.__values__===n&&(this.__values__=cl(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?n:this.__values__[this.__index__++]}},P.prototype.plant=function(o){for(var u,l=this;l instanceof Pt;){var g=Au(l);g.__index__=0,g.__values__=n,u?b.__wrapped__=g:u=g;var b=g;l=l.__wrapped__}return b.__wrapped__=o,u},P.prototype.reverse=function(){var o=this.__wrapped__;if(o instanceof ce){var u=o;return this.__actions__.length&&(u=new ce(this)),(u=u.reverse()).__actions__.push({func:Yu,args:[Gu],thisArg:n}),new or(u,this.__chain__)}return this.thru(Gu)},P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=function(){return qa(this.__wrapped__,this.__actions__)},P.prototype.first=P.prototype.head,io&&(P.prototype[io]=function(){return this}),P}();kr?((kr.exports=Co)._=Co,$i._=Co):ze._=Co}).call(lC.exports)),lC.exports);function lB(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var V4=function(){function n(t,e){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=e,this.rootNode=t(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return Object.defineProperty(n.prototype,"windows",{get:function(){var t=function(e){return Sv([e],e.children.flatMap(t))};return H4.orderBy(t(this.rootNode),function(e){return e.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var t=function(e){var r=e._boxSnapshot,i=[];if(i.push("KEY: ".concat(e.key)),e._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(e.getLayer())),i.push("BOX: [".concat(e.o[0],", ").concat(e.o[1],", ").concat(e.w,", ").concat(e.h,"]")),i.push("GLOBAL O: [".concat(e.globalO[0],", ").concat(e.globalO[1],"]")),i.push("CHILDREN:"),e.children.length>0){for(var a=e.children,s=[],c=0;c<a.length;c++){var f=a[c];s.push(t(f))}for(i.push(" |"),c=0;c<s.length;c++){for(var d=s[c],h=c===s.length-1?" ":" ",m=0;m<d.length;m++){var y=m===0?h:c===s.length-1?"   ":" | ",w=d[m];i.push("".concat(y,"  ").concat(w))}c<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("   (no children)");return e._boxSnapshot=r,i};console.log(t(this.rootNode).join(`
`))},n.prototype.onUpdate=function(t){this.onUpdateFunction=t},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new bs(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new bs([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(t,e){var r=this.scheduleUpdate(t);this.scheduledStateUpdates.push([r,function(){t.state=e}])},n.prototype.scheduleContextUpdate=function(t,e,r){var i=this.scheduleUpdate(t);this.scheduledStateUpdates.push([i,function(){t.context[e]=r}])},n.prototype.setSingleUpdateFlag=function(t,e){this.scheduledUpdateNodeMap[e]||(this.scheduledUpdateNodeMap[e]={}),this.scheduledUpdateNodeMap[e][t.globalKey]=!0},n.prototype.scheduleUpdate=function(t){var e=this,r=function(){e.DEBUG&&console.log("Scheduling update for ".concat(t.globalKey,". Received id ").concat(e.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=lB();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(e.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(e.scheduledUpdateIds,null,2),`.
                    `)),e.updateRunning=!0;e.scheduledUpdateIds.length>0;)e.updateScheduled=!1,e.updateCurrentId();e.updateRunning=!1}),this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=lB(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(t){console.error(t)}},n.prototype.propogateUpdateFlags=function(t){var e=this,r=function(i,a,s){e.scheduledUpdateNodeMap[a]||(e.scheduledUpdateNodeMap[a]={}),e.scheduledUpdateNodeMap[a][i.globalKey]&&(s=!0),e.scheduledUpdateNodeMap[a][i.globalKey]=s,i.children.forEach(function(c){return r(c,a,s)})};r(this.rootNode,t,!1)},n.prototype.updateCurrentId=function(){var t=this,e=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[e]).forEach(function(i){t.propogateUpdateFlags(e)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==e}),this.scheduledStateUpdates.filter(function(i){return i[0]===e}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==e});var r=this.scheduledUpdateNodeMap[e];this.update(r),delete this.scheduledUpdateNodeMap[e]},n.prototype.taintLayer=function(t){this.taintedLayers.includes(t)||this.taintedLayers.push(t)},n.prototype.findCameraPathRecursive=function(t,e){var r,i;if(t._isPrimaryCamera){var a=t.globalKey;return Vh(Vh({},e),((r={})[a]=!0,r))}for(var s=t.children,c=0;c<s.length;c++){var f=s[c],d=(a=f.globalKey,Vh(Vh({},e),((i={})[a]=!0,i))),h=this.findCameraPathRecursive(f,d);if(h)return h}},n.prototype.AND_updateMaps=function(t,e){var r={};for(var i in t)e[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(t,e){var r={};for(var i in t)e[i]||(r[i]=!0);for(var i in e)t[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(t,e){var r=this.AND_updateMaps(t,e);return[r,this.XOR_updateMaps(t,r)]},n.prototype.setNeedsUpdateToMap=function(t){var e=function(r){var i=r.globalKey;t[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(t){var e=function(r){var i=r.globalKey;t[i]&&(r._needsUpdate=!0),r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.installCamera=function(t){this.cameraNode!==t&&(this.scheduledCameraNode=t,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(t){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var e=this.findCameraPathRecursive(this.rootNode,{});if(!e)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(t,e),i=r[0],a=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(a),null,2),`
            `));var s=function(c,f){c._needsUpdate?f?c.cameraPassUpdateSelf():c.regularPassUpdateSelf():c.children.forEach(function(d){return s(d,f)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(a),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get 2d context from canvas");t.clearRect(0,0,this.canvas.width,this.canvas.height),function(e,r,i,a,s){var c=(e=new bs(Sv([],e.o),e.w,e.h)).getBoundingBox(),f=r.filter(function(y){return Ry(y.getBoundingBox(),c)}),d=Array.from(new Set(f.map(function(y){return y.getLayer()}))).sort(function(y,w){return y-w});a.clearRect(0,0,i.width,i.height);for(var h=function(y){var w=d[y],C=f.filter(function(V){return V.getLayer()===d[y]});if(s.includes(w)){var k=w+"";if(Eb[k]===void 0){var M=document.createElement("canvas");M.width=i.width,M.height=i.height,Eb[k]=M}var N=Eb[k],B=N.getContext("2d");B.clearRect(0,0,N.width,N.height);for(var L=0,z=C;L<z.length;L++)z[L].renderPrimitive(B)}var q=w+"";Eb[q]&&a.drawImage(Eb[q],0,0)},m=0;m<d.length;m++)h(m)}(this.cameraSnapshot,this.windows,this.canvas,t,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new bs(Sv([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ry(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseDownPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseMoveHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new bs(Sv([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ry(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseMovePrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseUpHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new bs(Sv([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ry(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseUpPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseWheelHandler=function(t){(function(e,r,i,a){for(var s=(e=new bs(Sv([],e.o),e.w,e.h)).getBoundingBox(),c=r.filter(function(y){return Ry(y.getBoundingBox(),s)}).reverse(),f=!0,d=function(){f=!1},h=0,m=c;h<m.length&&(m[h].onWheelPrimitive(d,a),f);h++);})(this.cameraSnapshot,this.windows,this.canvas,t)},n.prototype.clickHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new bs(Sv([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ry(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onClickPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n}(),Ds={TrackPadding:15,OffsetX:15,OffsetY:45,PinDiameter:15,TrackMinHeight:50,TrackMaxHeight:500,PixelsPerFrame:10,TimelineHeight:50,PinTransformerPadding:15},hb=29,q4=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),Object.defineProperty(t.prototype,"displayDimensions",{get:function(){var e=this.context.p.displayDimensions;return[e.width,e.height]},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(t.prototype,"canvasDimensions",{get:function(){var e=this.context.p.signalHeights,r=Object.entries(e).reduce(function(f,d){return d[0],f+d[1]},0)+2*Ds.OffsetY,i=this.context.p.project.timelineData.numberOfFrames*Ds.PixelsPerFrame+2*Ds.OffsetX,a=this.displayDimensions,s=a[0],c=a[1];return[Math.max(i,s),Math.max(r,c)]},enumerable:!1,configurable:!0}),t.prototype.translate=function(e,r){var i=this.canvasDimensions,a=i[0],s=i[1],c=Ud([],e.o,!0),f=e.w,d=e.h,h=[c=dd(c,r),dd(c,[f,0]),dd(c,[0,d]),dd(c,[f,d])],m=Math.min.apply(Math,h.map(function(M){return M[0]})),y=Math.max.apply(Math,h.map(function(M){return M[0]})),w=Math.min.apply(Math,h.map(function(M){return M[1]})),C=Math.max.apply(Math,h.map(function(M){return M[1]})),k=[0,0];return m<0?k[0]=-m:y>a&&(k[0]=a-y),w<0?k[1]=-w:C>s&&(k[1]=s-C),Ud([],c,!0),c=dd(c,k),new bs(c,f,d)},t.prototype.withinBounds=function(e,r,i,a){return a===void 0&&(a=1e-10),e>=r-a&&e<=i+a},t.prototype.updateDimensions=function(e,r,i){this.setState(Ts(Ts({},this.state),{cameraBox:new bs(e,r,i)})),this.checkBounds()},t.prototype.checkBounds=function(){var e,r,i,a=this.canvasDimensions,s=a[0],c=a[1];e=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,e[0]=Math.max(Math.min(e[0],s),0),e[1]=Math.max(Math.min(e[1],c),0),r=Math.max(Math.min(r,s-e[0]),0),i=Math.max(Math.min(i,c-e[1]),0),this.setState(Ts(Ts({},this.state),{cameraBox:new bs(e,r,i)}))},t.prototype.onGlobalWindowChange=function(){},t.prototype.scale=function(e,r,i){var a,s,c,f=this.canvasDimensions,d=f[0],h=f[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");a=e.o;var m=d/(s=e.w),y=h/(c=e.h),w=s*(r=[Math.min(r[0],m),Math.min(r[1],y)])[0],C=c*r[1],k=[i[0]-a[0],i[1]-a[1]],M=k[0],N=k[1],B=sp(i,[a[0]+M*r[0],a[1]+N*r[1]]);return s=w,c=C,this.translate(new bs(a,s,c),B)},t.prototype.getCenter=function(){return dd(this.o,[this.w/2,this.h/2])},t.prototype.getBox=function(){return this.state.cameraBox},t}(tl),K4=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=20,e.scaleAnchor=[0,0],e}return qi(t,n),t.prototype.windowDidMount=function(){n.prototype.windowDidMount.call(this),this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:new bs([0,0],this.displayDimensions[0],this.displayDimensions[1])})},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e,r){if(r.button===1){var i=e.terminateEvent,a=e.canvasPos;this.setState(Ts(Ts({},this.state),{lastMousePosition:a,isPanning:!0})),i()}},t.prototype.onMouseMove=function(e,r){var i=e.terminateEvent,a=e.canvasPos;e.absolutePos;var s=e.canvasUnit,c=s[0],f=s[1],d=Ts({},this.state);if(this.scaleAnchor=a,this.state.isPanning){i();var h=sp(a,this.state.lastMousePosition),m=h[0],y=h[1],w=this.translate(this.state.cameraBox.clone(),[-m*c,-y*f]);d=Ts(Ts({},d),{lastMousePosition:a,cameraBox:w}),this.setState(d)}},t.prototype.onMouseUp=function(e,r){this.setState(Ts(Ts({},this.state),{isPanning:!1}))},t.prototype.onWheel=function(e,r){var i=e.terminateEvent,a=e.canvasToAbsoluteMeasure,s=r.deltaX,c=r.deltaY,f=r.ctrlKey,d=r.altKey;if(f){var h;if(h=s!==0?1+.01*s:1-.01*c,!d){if(this.w*h<5*Ds.PixelsPerFrame)return;var m=this.scale(this.state.cameraBox.clone(),[Math.max(.1,h),1],this.scaleAnchor);this.setState(Ts(Ts({},this.state),{cameraBox:m}))}}else{var y=a([s,c]),w=y[0],C=y[1];m=this.translate(this.state.cameraBox.clone(),[w,C]),this.setState(Ts(Ts({},this.state),{cameraBox:m}))}i()},t.prototype.render=function(e){},t}(q4),OD=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=Ds.PinDiameter/2*r,s=Ds.PinDiameter/2*i,c=this.parentW-Ds.PinDiameter*r,f=this.parentH-Ds.PinDiameter*i;return new bs([a,s],c,f)},t}(tl),ND=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){this.setContext("signalId",e.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[e.signalId])},t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=this.context.p.signalStartHeights,s=this.context.p.signalHeights,c=a[this.props.signalId],f=Ds.OffsetX*r,d=Ds.OffsetY*i+c,h=this.context.p.project.timelineData.numberOfFrames*Ds.PixelsPerFrame,m=s[this.props.signalId]-Ds.TrackPadding*i;return new bs([f,d],h,m)},t}(tl),yO=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){this.setContext("pinId",e.pinId);var r=this.pinCoords;r.frame;var i=r.value,a=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5,this.context.p.project.timelineData.numberOfFrames,a[0],a[1],a[0],this.parentW,this.parentH},Object.defineProperty(t.prototype,"pinCoords",{get:function(){return{frame:this.context.p.project.signalData[this.context.signalId].pinTimes[this.props.pinId],value:this.context.p.project.orgData.signalTypes[this.context.signalId]==="continuous"?this.context.p.project.signalData[this.context.signalId].pinValues[this.props.pinId]:void 0}},enumerable:!1,configurable:!0}),t.prototype.getBox=function(){var e=this.pinCoords,r=e.frame,i=e.value,a=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5;var s=r/this.context.p.project.timelineData.numberOfFrames,c=(i-a[0])/(a[1]-a[0]),f=s*this.parentW,d=(1-c)*this.parentH;return new bs([f,d],0,0)},t}(tl),Vz=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=-Ds.PinDiameter/2*r,s=-Ds.PinDiameter/2*i,c=Ds.PinDiameter*r,f=Ds.PinDiameter*i;return new bs([a,s],c,f)},t}(tl),G4=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.render=function(e){var r,i,a=this.w,s=this.h,c=[[a/2,0],[a,s/2],[a/2,s],[0,s/2]];e.ctx.beginPath(),(r=e.ctx).moveTo.apply(r,e.localToCanvas(c[0]));for(var f=1;f<c.length;f++)(i=e.ctx).lineTo.apply(i,e.localToCanvas(c[f]));e.ctx.closePath(),e.ctx.fillStyle="yellow",e.ctx.fill()},t}(Vz),Y4=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){return[G4.Node()]},t}(yO),qz=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){this.setContext("pinId",e.pinId)},t.prototype.calculateSegmentAttributes=function(){var e=Ts({},this.context.p.project.signalData[this.context.signalId].pinTimes);e.__start__=-1;var r=Object.keys(e).sort(function(s,c){return e[s]-e[c]}),i=r.indexOf(this.props.pinId),a=r[i-1];return e[a]=Math.max(0,e[a]),e[this.props.pinId],e[a],{startFrame:e[a],endFrame:e[this.props.pinId]}},t.prototype.getBox=function(){var e=this.calculateSegmentAttributes(),r=e.startFrame,i=e.endFrame,a=this.context.p.project.timelineData.numberOfFrames,s=r/a,c=i/a,f=s*this.parentW,d=(c-s)*this.parentW,h=this.parentH;return new bs([f,0],d,h)},t}(tl),X4=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0];e[1];var i=[0,this.parentH/2+5*r],a=this.parentW;return new bs(i,a,5*r)},t.prototype.render=function(e){var r=e.ctx;e.localToCanvas,e.canvasToLocal;var i=e.absoluteToCanvasMeasure,a=e.canvasToAbsoluteMeasure,s=this.context.p.project.signalData[this.context.signalId].pinValues[this.context.pinId],c=i([this.w,0]),f=c[0];c[1],r.fillStyle="white",r.font="20px Sans-serif";for(var d=s;r.measureText(d).width+15>f&&d!=="";){var h=d.split("");h.pop(),d=h.join("")}var m=a([r.measureText(d).width+15,0]),y=m[0];m[1];var w=e.absoluteO,C=w[0],k=w[1],M=this.absoluteUnit,N=M[0];M[1];var B=[C+(this.w-y)*N,k],L=B[0],z=B[1];r.fillText(d,L,z)},t}(tl),J4=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return e.push(X4.Node()),e},t.prototype.getBox=function(){return new bs([0,0],this.parentW,this.parentH)},t}(tl),Q4=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.pinCoordinatePoints=[],e}return qi(t,n),t.prototype.getBox=function(){return new bs([0,0],this.parentW,this.parentH)},t.prototype.windowDidUpdate=function(e){this.pinCoordinatePoints=this.calculatePinCoordinatePoints()},t.prototype.calculatePinCoordinatePoints=function(){var e=this.context.pinId,r=this.context.signalId,i=this.context.p,a=i.project,s=i.interpolateSignalValue,c=a.signalData[r].pinTimes,f=Object.entries(c).sort(function(L,z){return L[1]-z[1]}),d=f.findIndex(function(L){var z=L[0];return L[1],z===e}),h=d-1>=0?d-1:void 0,m=h!==void 0?f[h][1]:0,y=a.signalData[r].pinTimes[e];y=y<m?m:y;for(var w=[],C=m;C<=y;C++){var k=s(r,C),M=k[0],N=k[1],B=N.length>0;B&&console.error(N),w.push([C,M,B])}return w},t.prototype.render=function(e){var r=this,i=e.ctx,a=e.localToCanvas;e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure;var s=a,c=this.pinCoordinatePoints;this.context.p;for(var f=this.context.signalId,d=c.map(function(w){var C=w[0],k=w[1],M=w[2],N=sp(r.context.PinPositionMeasurementHelper.getImaginaryPinPosition(f,C,k),r.globalO);return Ud(Ud([],s(N),!0),[M],!1)}),h=0;h<d.length-1;h++){var m=d[h],y=d[h+1];i.beginPath(),i.arc(m[0],m[1],2,0,2*Math.PI),i.fillStyle=m[2]?"red":"yellow",i.fill(),i.beginPath(),i.moveTo(m[0],m[1]),i.lineTo(y[0],y[1]),i.strokeStyle=y[2]?"red":"yellow",i.stroke()}},t}(tl),Z4=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return this.context.signalType==="continuous"?e.push(Q4.Node()):e.push(J4.Node()),e},t.prototype.render=function(e){var r,i=e.localToCanvas,a=this.absoluteUnit,s=a[0],c=a[1],f=this.context.signalType==="continuous"?"4A5F9D":"915050";e.ctx.beginPath(),(r=e.ctx).roundRect.apply(r,Ud(Ud([],i([0,0]),!1),[this.w*s,this.h*c,[15,0,0,15]],!1)),e.ctx.strokeStyle="#".concat(f),e.ctx.lineWidth=1,e.ctx.stroke(),e.ctx.closePath()},t}(qz),t1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){for(var e,r=[],i=(e=this.context.p.project.signalData[this.context.signalId])===null||e===void 0?void 0:e.pinIds,a=0,s=i;a<s.length;a++){var c=s[a],f=Z4.Node({pinId:c,key:"s"+c});r.push(f)}for(var d=0,h=i;d<h.length;d++){c=h[d];var m=Y4.Node({pinId:c,key:"p"+c});r.push(m)}return r},t.prototype.render=function(e){var r=e.ctx,i=this.context.p.project.timelineData.focusRange,a=i[0],s=i[1],c=this.context.p.project.timelineData.numberOfFrames,f=[a/c,s/c],d=f[0],h=f[1]-d;r.fillStyle="rgba(255,255,255,0.05)";var m=e.absoluteO,y=m[0],w=m[1],C=e.absoluteUnit,k=C[0],M=C[1];r.fillRect(y+d*this.w*k,w,h*this.w*k,this.h*M)},t}(OD),e1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this.parentW,r=this.parentH;return new bs([0,0],e,r)},t.prototype.render=function(e){var r=e.ctx;e.localToCanvas,e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure,r.fillStyle="#ffffff80",r.font="".concat(14,"px Sans-serif");var i=this.context.signalId,a=e.absoluteO;a[0];var s=[5,a[1]+14+5],c=s[0],f=s[1];r.fillText(i,c,f)},t}(tl),n1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),Object.defineProperty(t.prototype,"p",{get:function(){return this.context.externalProjectAPI},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){var e=[];return e.push(t1.Node()),e.push(e1.Node()),e},t.prototype.render=function(e){var r,i,a=this.context.signalType==="continuous"?"243157":"562F2F",s=this.absoluteUnit;s[0];var c=s[1],f=e.absoluteO;f[0];var d=f[1],h=e.canvasDimensions[0],m=[[0,d],[h,d],[h,d+this.h*c],[0,d+this.h*c]];e.ctx.fillStyle="#".concat(a),e.ctx.beginPath(),(r=e.ctx).moveTo.apply(r,m[0]);for(var y=1;y<m.length;y++)(i=e.ctx).lineTo.apply(i,m[y]);e.ctx.fill()},t}(ND),r1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=hb,e.side=30,e.dragging=!1,e}return qi(t,n),t.prototype.getBox=function(){var e=this.context.p.project.timelineData,r=e.numberOfFrames,i=e.playheadPosition/r*this.parentW,a=this.canvasO;a[0],a[1];var s=this.canvasUnit,c=s[0],f=s[1],d=this.side*c,h=this.side*f;return new bs([i-d/2,0],d,h)},t.prototype.onMouseDown=function(e){e.pointInside&&(this.dragging=!0,e.terminateEvent())},t.prototype.onMouseMove=function(e){if(this.dragging){e.terminateEvent();var r=e.absolutePos,i=r[0];r[1];var a=(0,e.canvasToAbsoluteMeasure)([Ds.OffsetX,0]),s=a[0];a[1];var c=i-s,f=Math.floor(c/Ds.PixelsPerFrame);f=Math.min(Math.max(f,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(f)}},t.prototype.onMouseUp=function(e){if(this.dragging){e.terminateEvent();var r=e.absolutePos,i=r[0];r[1];var a=(0,e.canvasToAbsoluteMeasure)([Ds.OffsetX,0]),s=a[0];a[1];var c=i-s,f=Math.floor(c/Ds.PixelsPerFrame);f=Math.min(Math.max(f,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(f,!0)}this.dragging=!1},t.prototype.render=function(e){e.canvasToLocal,e.canvasToAbsoluteMeasure,e.absoluteToCanvasMeasure;var r=e.localToCanvas,i=e.ctx,a=r,s=[[0,0],[this.w,0],[this.w/2,this.h]].map(function(c){return a(c)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineTo.apply(i,s[2]),i.lineTo.apply(i,s[0]),i.fillStyle="aquamarine",i.lineWidth=2,i.fill(),i.closePath()},t}(tl),i1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this.context.p.project.timelineData,r=e.numberOfFrames,i=e.playheadPosition/r*this.parentW,a=this.canvasO;a[0],a[1];var s=this.canvasUnit;s[0],s[1];var c=this._cameraSnapshot.h;return new bs([i-0,0],0,c)},t.prototype.render=function(e){var r=e.localToCanvas,i=e.ctx,a=r,s=[[0,0],[0,this.h]].map(function(c){return a(c)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineWidth=2,i.strokeStyle="aquamarine",i.stroke()},t}(tl),o1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){return new bs([0,0],this.parentW,20)},t.prototype.itemsOnScreen=function(e){var r=this.parentW/e;return Math.floor(this._cameraSnapshot.w/r)},t.prototype.render=function(e){for(var r=this,i=e.ctx,a=this.context.p.project.timelineData.numberOfFrames,s=function(k){var M=[];return M.push(1),k%2==0&&(M.push(2),M.push(k/2)),k%3==0&&(M.push(3),M.push(k/3)),k%5==0&&(M.push(5),M.push(k/5)),k%10==0&&(M.push(10),M.push(k/10)),M.push(k),M.push(2*k),M.push(5*k),M.push(10*k),M}(this.context.p.project.timelineData.framesPerSecond),c=s.map(function(k){var M=Math.floor(a/k);return[k,r.itemsOnScreen(M)]}),f=c.map(function(k){var M=k[0],N=k[1];return[M,Math.abs(N-10)]}).sort(function(k,M){return k[1]-M[1]})[0][0],d=c.map(function(k){var M=k[0],N=k[1];return[M,Math.abs(N-100)]}).sort(function(k,M){return k[1]-M[1]})[0][0],h=e.absoluteO[0],m=0;m<=a;m+=f){var y=h+m/a*this.w*this.absoluteUnit[0];i.beginPath(),i.strokeStyle="white",i.moveTo(y,0),i.lineTo(y,7),i.stroke(),i.fillStyle="white";var w="".concat(m),C=i.measureText(w).width;i.fillText(w,y-C/2,18)}for(m=0;m<=a;m+=d)y=h+m/a*this.w*this.absoluteUnit[0],i.beginPath(),i.strokeStyle="white",i.moveTo(y,0),i.lineTo(y,3),i.stroke()},t}(tl),a1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){return new bs([0,0],this.parentW,20)},t.prototype.itemsOnScreen=function(e){var r=this.parentW/e;return Math.floor(this._cameraSnapshot.w/r)},t.prototype.render=function(e){var r=e.ctx,i=this.context.p.project.timelineData.focusRange,a=i[0],s=i[1],c=this.context.p.project.timelineData.numberOfFrames,f=[a/c,s/c],d=f[0],h=f[1]-d;r.fillStyle="#3B434B";var m=e.absoluteO[0],y=e.absoluteUnit,w=y[0],C=y[1];r.fillRect(m+d*this.w*w,0,h*this.w*w,this.h*C)},t}(tl),s1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return e.push(a1.Node()),e.push(o1.Node()),e.push(r1.Node()),e.push(i1.Node()),e},t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0];e[1];var i=(Ds.OffsetX+Ds.PinDiameter/2)*r,a=this.canvasO;a[0];var s=a[1],c=this.context.p.project.timelineData.numberOfFrames*Ds.PixelsPerFrame-Ds.PinDiameter*r;return new bs([i,s],c,20)},t.prototype.render=function(e){e.ctx.fillStyle="#282E34";var r=this.absoluteUnit,i=r[0];r[1],e.ctx.fillRect(0,0,this._cameraSnapshot.w*i,22)},t}(tl),u1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.key="permanentWindows",e}return qi(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r],s=n1.Node({signalId:a,key:a});e.push(s)}return e.push(s1.Node()),e},t}(tl),wO=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),Object.defineProperty(t.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),t}(tl),l1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=19,e}return qi(t,n),t.prototype.onMouseDown=function(e){var r=this.context,i=r.dispatchPointerModeMachineEvent;r.pointerModeMachineState;var a=i;e.relativePos;var s=e.terminateEvent,c=e.pointInside;c&&a({type:"mousedown_resizebar",selectedPinIds:[]}),c&&s()},t.prototype.onMouseMove=function(e){e.relativePos;var r=e.terminateEvent;e.pointInside&&r()},t}(wO),c1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=21,e}return qi(t,n),Object.defineProperty(t.prototype,"mouseover",{get:function(){return this.state.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mousedown",{get:function(){return this.state.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{get:function(){return this.context.pointerModeMachineState.type==="change_signal_height"&&this.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hover",{get:function(){return this.context.pointerModeMachineState.type==="start"&&this.mouseover},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.setState({mouseover:!1,mousedown:!1})},t.prototype.onMouseDown=function(e){e.relativePos,e.pointInside&&this.setState(Ts(Ts({},this.state),{mousedown:!0}))},t.prototype.onMouseMove=function(e){e.relativePos;var r=e.absolutePos;e.pointInside?this.setState(Ts(Ts({},this.state),{mouseover:!0})):this.setState(Ts(Ts({},this.state),{mouseover:!1}));var i=this.context.p;i.project;var a=i.signalStartHeights;i.projectTools,i.signalHeights;var s=i.setSignalHeight;if(this.dragging){var c=a[this.context.signalId],f=(0,e.canvasToAbsoluteMeasure)([Ds.OffsetX,Ds.OffsetY]);f[0];var d=f[1],h=r[1]-(c+d),m=(0,e.absoluteToCanvasMeasure)([0,h]);m[0];var y=m[1];if(y<Ds.TrackMinHeight||y>Ds.TrackMaxHeight)return;s(this.context.signalId,h)}},t.prototype.onMouseUp=function(e){this.setState(Ts(Ts({},this.state),{mousedown:!1}))},t.prototype.render=function(e){(this.hover||this.dragging)&&(this.dragging?this.strokeOutline(e,"red"):this.strokeOutline(e,"cyan"))},t}(wO),f1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){this.setContext("signalId",e.signalId)},Object.defineProperty(t.prototype,"o",{get:function(){var e=this.context.p;e.project;var r=e.signalStartHeights;e.projectTools;var i=e.signalHeights,a=this.prepareHandlerProps(),s=a.canvasToAbsoluteMeasure,c=(0,a.canvasToAbsoluteMeasure)([Ds.OffsetX,Ds.OffsetY]);c[0];var f=c[1];return sp([0,r[this.context.signalId]+i[this.context.signalId]+f],s([0,Ds.TrackPadding]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){var e=this.prepareHandlerProps(),r=Ds.TrackPadding;return(0,e.canvasToAbsoluteMeasure)([0,r])[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){var e=this.context.p,r=e.project;return e.signalStartHeights,e.projectTools,e.signalHeights,r.timelineData.numberOfFrames*Ds.PixelsPerFrame+2*Ds.OffsetX},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){var e=[];return e.push(c1.Node()),e.push(l1.Node()),e},t}(wO),h1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedPinIds=[],e.layer=10,e}return qi(t,n),Object.defineProperty(t.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.setState({startPoint:void 0,endPoint:void 0})},t.prototype.getSelectedPins=function(e){var r=this,i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(s){var c,f=r.context.PinPositionMeasurementHelper.getExistingPinPosition(s),d=r.context.p.project.orgData.activeSignalIds.flatMap(function(h){return r.context.p.project.signalData[h].pinIds.map(function(m){return[h,m]})});return{signalId:(c=d.find(function(h){h[0];var m=h[1];return s===m}))===null||c===void 0?void 0:c[0],pinId:s,pos:f}}),a=i.filter(function(s){s.signalId,s.pinId;var c=s.pos;return e.pointInside(c)}).map(function(s){var c=s.signalId,f=s.pinId;return s.pos,[c,f]});return a},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e){var r=this.context,i=(r.pointerModeMachineState,r.dispatchPointerModeMachineEvent);e.relativePos;var a=e.terminateEvent,s=e.pointInside,c=e.absolutePos;i({type:"mousedown_selectionoverlay",selectedPinIds:[]}),this.selectedPinIds=[],this.setState(Ts(Ts({},this.state),{startPoint:c})),s&&a()},t.prototype.onMouseMove=function(e){var r=this;if(this.startPoint){var i=this.context,a=(i.pointerModeMachineState,i.dispatchPointerModeMachineEvent);e.relativePos;var s=e.absolutePos,c=e.pointInside,f=e.terminateEvent;this.setState(Ts(Ts({},this.state),{endPoint:s}));var d=this.startPoint,h=d[0],m=d[1],y=s[0],w=s[1],C=Math.min(h,y),k=Math.min(m,w),M=Math.abs(h-y),N=Math.abs(m-w),B=new bs([C,k],M,N),L=this.getSelectedPins(B).map(function(z){return z[0],z[1]});(L.some(function(z){return!r.selectedPinIds.includes(z)})||this.selectedPinIds.some(function(z){return!L.includes(z)}))&&(this.selectedPinIds=L,a({type:"mousemove_selectionoverlayCONDselection_changed",selectedPinIds:L})),c&&f()}},t.prototype.onMouseUp=function(e){var r=this.context,i=(r.pointerModeMachineState,r.dispatchPointerModeMachineEvent);e.relativePos;var a=e.terminateEvent,s=e.pointInside;this.setState({startPoint:void 0,endPoint:void 0}),i({type:"mouseup_selectionoverlay"}),s&&a()},t.prototype.getBox=function(){var e=this._cameraSnapshot;return new bs(e.o,e.w,e.h)},t}(tl),p1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=hb,e}return qi(t,n),Object.defineProperty(t.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.setState({startPoint:void 0,endPoint:void 0})},t.prototype.getBox=function(){var e,r=this.startPoint,i=this.endPoint;if(r&&i){var a=r[0],s=r[1],c=i[0],f=i[1],d=Math.min(a,c),h=Math.min(s,f),m=Math.abs(a-c),y=Math.abs(s-f);e=new bs([d,h],m,y)}else{var w=this._cameraSnapshot;e=new bs(w.o,w.w,w.h)}return e},t.prototype.onMouseDown=function(e){e.relativePos;var r=e.absolutePos;e.canvasPos,this.setState(Ts(Ts({},this.state),{startPoint:r}))},t.prototype.onMouseMove=function(e){var r=e.absolutePos;this.startPoint&&this.setState(Ts(Ts({},this.state),{endPoint:r}))},t.prototype.onMouseUp=function(e){this.setState({startPoint:void 0,endPoint:void 0})},Object.defineProperty(t.prototype,"active",{get:function(){return this.context.pointerModeMachineState.type==="make_selection"},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r=e.ctx,i=e.localToCanvas;e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure;var a=e.absoluteUnit,s=i,c=a[0],f=a[1];r.save(),r.setLineDash([3,3]),r.strokeStyle="white",r.lineWidth=2,this.startPoint&&this.endPoint&&this.active&&r.strokeRect.apply(r,Ud(Ud([],s([0,0]),!1),[this.w*c,this.h*f],!1)),r.setLineDash([]),r.closePath(),r.restore()},t}(tl),d1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return e.push(p1.Node()),e.push(h1.Node()),e},t}(tl),Kz=function(){function n(){this.pinMeasureHooks={},this.signalMeasureHooks={},this.signalContentBoxMeasureHooks={},this.absoluteCoordsToSignalCoordsMeasureHooks={}}return n.prototype.getSignalCoordsFromAbsoluteCoords=function(t,e){return this.absoluteCoordsToSignalCoordsMeasureHooks[t](e)},n.prototype.getSignalContentBox=function(t){return this.signalContentBoxMeasureHooks[t]()},n.prototype.getExistingPinPosition=function(t){return this.pinMeasureHooks[t]()},n.prototype.getImaginaryPinPosition=function(t,e,r){return this.signalMeasureHooks[t](e,r)},n.prototype.attachAbsoluteCoordsToSignalCoordsMeasureHook=function(t,e){var r=this;return this.absoluteCoordsToSignalCoordsMeasureHooks[t]=e,function(){delete r.absoluteCoordsToSignalCoordsMeasureHooks[t]}},n.prototype.attachSignalContentBoxMeasureHook=function(t,e){var r=this;return this.signalContentBoxMeasureHooks[t]=e,function(){delete r.signalContentBoxMeasureHooks[t]}},n.prototype.attachPinMeasureHook=function(t,e){var r=this;return this.pinMeasureHooks[t]=e,function(){delete r.pinMeasureHooks[t]}},n.prototype.attachSignalMeasureHook=function(t,e){var r=this;return this.signalMeasureHooks[t]=e,function(){delete r.signalMeasureHooks[t]}},n}(),Gz=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r],s=g1.Node({signalId:a,key:a});e.push(s)}return e},t}(tl),g1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){this.setContext("signalId",e.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[e.signalId])},t.prototype.getChildren=function(){return[v1.Node()]},t}(ND),m1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.unsubscribe=function(){},e}return qi(t,n),t.prototype.windowDidMount=function(e){var r=this;this.setContext("pinId",e.pinId),this.unsubscribe=this.context.PinPositionMeasurementHelper.attachPinMeasureHook(e.pinId,function(){return r.globalO})},t.prototype.windowWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(e){},t}(yO),v1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.unsubscribe1=function(){},e.unsubscribe2=function(){},e.unsubscribe3=function(){},e}return qi(t,n),t.prototype.windowDidMount=function(e){var r=this;this.setContext("pinId",e.pinId),this.unsubscribe1=this.context.PinPositionMeasurementHelper.attachSignalMeasureHook(this.context.signalId,function(i,a){var s=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];a=r.context.signalType==="continuous"?a:.5;var c=i/r.context.p.project.timelineData.numberOfFrames,f=(a-s[0])/(s[1]-s[0]),d=c*r.w,h=(1-f)*r.h;return dd(r.globalO,[d,h])}),this.unsubscribe2=this.context.PinPositionMeasurementHelper.attachSignalContentBoxMeasureHook(this.context.signalId,function(){return new bs(r.globalO,r.w,r.h)}),this.unsubscribe3=this.context.PinPositionMeasurementHelper.attachAbsoluteCoordsToSignalCoordsMeasureHook(this.context.signalId,function(i){var a=sp(i,r.globalO),s=a[0],c=a[1],f=r.context.p.project.timelineData.numberOfFrames;s=Math.max(0,Math.min(r.w,s)),s=Math.round(s/r.w*f);var d=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];return c=Math.max(0,Math.min(r.h,c)),[s,c=(c=r.h-c)/r.h*(d[1]-d[0])+d[0]]})},t.prototype.windowWillUnmount=function(){this.unsubscribe1(),this.unsubscribe2(),this.unsubscribe3()},t.prototype.getChildren=function(){for(var e,r=[],i=0,a=(e=this.context.p.project.signalData[this.context.signalId])===null||e===void 0?void 0:e.pinIds;i<a.length;i++){var s=a[i],c=m1.Node({pinId:s,key:s});r.push(c)}return r},t}(OD),y1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=19,e}return qi(t,n),Object.defineProperty(t.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),t.prototype.onMouseDown=function(e){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent],a=i[0],s=i[1];e.absolutePos;var c=e.terminateEvent,f=e.pointInside;a.selectedPinIds.length>0&&f&&(s({type:"mousedown_transformer_overlayCONDpin_in_selection"}),f&&c())},t}(tl),Yz=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this,r=this.context.pointerModeMachineState.selectedPinIds;if(r.length===0)return new bs([0,0],0,0);var i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(M){var N,B=e.context.PinPositionMeasurementHelper.getExistingPinPosition(M),L=e.context.p.project.orgData.activeSignalIds.flatMap(function(z){return e.context.p.project.signalData[z].pinIds.map(function(q){return[z,q]})});return{signalId:(N=L.find(function(z){z[0];var q=z[1];return M===q}))===null||N===void 0?void 0:N[0],pinId:M,pos:B}}),a=i.filter(function(M){return r.includes(M.pinId)}).map(function(M){return M.pos}),s=[Math.min.apply(Math,a.map(function(M){return M[0]})),Math.min.apply(Math,a.map(function(M){return M[1]}))],c=s[0],f=s[1],d=[Math.max.apply(Math,a.map(function(M){return M[0]})),Math.max.apply(Math,a.map(function(M){return M[1]}))],h=[c,f],m=h[0],y=h[1],w=d[0]-c,C=d[1]-f,k=this.canvasUnit;return k[0],k[1],new bs([m,y],w,C)},t}(tl),w1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=hb,e.unsubscribe=function(){},e}return qi(t,n),Object.defineProperty(t.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.unsubscribe=this.context.PinTransformerCorners.attachCornerHook(this.props.anchor,this.getCornerPosition.bind(this))},t.prototype.getCornerPosition=function(){return dd(this.parentO,[Ds.PinDiameter/2,Ds.PinDiameter/2])},t.prototype.windowWillUnmount=function(){this.unsubscribe()},t.prototype.onMouseDown=function(e,r){e.pointInside&&this.context.SetTransformationType({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})},t}(tl),b1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e4,e}return qi(t,n),t.prototype.getChildren=function(){return[y1.Node(),w1.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=[-Ds.PinDiameter/2*r,-Ds.PinDiameter/2*i],s=this.parentW+Ds.PinDiameter*r,c=this.parentH+Ds.PinDiameter*i;return new bs(a,s,c)},t.prototype.render=function(e){if(this.props.category!=="translate"){var r=this.w,i=this.h,a=[[r/4,i/4],[3*r/4,i/4],[3*r/4,3*i/4],[r/4,3*i/4]],s=e.ctx,c=e.localToCanvas;s.save(),s.beginPath(),s.moveTo.apply(s,c(a[0]));for(var f=1;f<a.length;f++)s.lineTo.apply(s,c(a[f]));s.closePath(),s.fillStyle="white",s.fill(),s.restore()}},t}(tl),hm=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){return[b1.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},t.prototype.getBox=function(){var e,r,i,a,s,c,f,d,h,m=this.props.anchor,y={w:this.parentW,h:this.parentH},w=y.w,C=y.h;switch(m){case"top-left":h=[0,0],w=(e=[0,0])[0],C=e[1];break;case"top-right":h=[w,0],w=(r=[0,0])[0],C=r[1];break;case"bottom-left":h=[0,C],w=(i=[0,0])[0],C=i[1];break;case"bottom-right":h=[w,C],w=(a=[0,0])[0],C=a[1];break;case"left":h=[0,C/2],w=(s=[0,0])[0],C=s[1];break;case"right":h=[w,C/2],w=(c=[0,0])[0],C=c[1];break;case"bottom":h=[w/2,C],w=(f=[0,0])[0],C=f[1];break;case"top":h=[w/2,0],w=(d=[0,0])[0],C=d[1];break;case"start-point":h=[0,0];break;default:throw new Error("Invalid type")}return new bs(h,w,C)},t}(tl),x1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=hb,e}return qi(t,n),t.prototype.windowDidMount=function(e){},Object.defineProperty(t.prototype,"spansMoreThanOneSignal",{get:function(){var e=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return e.context.p.project.orgData.activeSignalIds.find(function(a){return e.context.p.project.signalData[a].pinIds.includes(i)})});return Array.from(new Set(r)).length>1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includesDiscreteSignal",{get:function(){var e=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return e.context.p.project.orgData.activeSignalIds.find(function(a){return e.context.p.project.signalData[a].pinIds.includes(i)})});return Array.from(new Set(r)).some(function(i){return e.context.p.project.orgData.signalTypes[i]==="discrete"})},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){var e=[];return this.active&&this.context.pointerModeMachineState.selectedPinIds.length>1&&(this.spansMoreThanOneSignal||(e.push(hm.Node({category:"scale",axes:"x-y",anchor:"bottom-left"})),e.push(hm.Node({category:"scale",axes:"x-y",anchor:"bottom-right"})),e.push(hm.Node({category:"scale",axes:"x-y",anchor:"top-left"})),e.push(hm.Node({category:"scale",axes:"x-y",anchor:"top-right"})),e.push(hm.Node({category:"scale",axes:"y",anchor:"bottom"})),e.push(hm.Node({category:"scale",axes:"y",anchor:"top"}))),e.push(hm.Node({category:"scale",axes:"x",anchor:"left"})),e.push(hm.Node({category:"scale",axes:"x",anchor:"right"}))),this.active&&(this.spansMoreThanOneSignal||this.includesDiscreteSignal?e.push(hm.Node({category:"translate",axes:"x",anchor:"start-point"})):e.push(hm.Node({category:"translate",axes:"x-y",anchor:"start-point"}))),e},Object.defineProperty(t.prototype,"active",{get:function(){var e=this.context.pointerModeMachineState;return e.type==="transform_pins"||e.type==="start"&&e.selectedPinIds.length>0},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r=e.ctx,i=e.localToCanvas;e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure;var a=i;if(r.save(),r.beginPath(),r.strokeStyle="rgba(255,255,255,0.5)",r.lineWidth=2,this.active){var s=[[0,0],[this.w,0],[this.w,this.h],[0,this.h],[0,0]].map(function(c){return a(c)});r.moveTo.apply(r,s[0]),r.lineTo.apply(r,s[1]),r.lineTo.apply(r,s[2]),r.lineTo.apply(r,s[3]),r.lineTo.apply(r,s[4]),r.stroke()}r.restore()},t}(Yz);function Wb(n,t,e,r){var i=sp(r,e);if(t[0]===0&&t[1]===0){var a=Wb(n,[-i[1],i[0]],e,r);if(a===void 0)throw new Error("Unexpected undefined intersection");return Number(py(sp(a,n)))<1e-7?a:void 0}var s=t[0]*i[1]-t[1]*i[0];if(s!==0){var c=((e[0]-n[0])*i[1]-(e[1]-n[1])*i[0])/s,f=((e[0]-n[0])*t[1]-(e[1]-n[1])*t[0])/s;return f>=0&&f<=1?[n[0]+c*t[0],n[1]+c*t[1]]:void 0}}var cB={"scale-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){return[-t*s+t+s*i,-e*s+e+s*a]}}},"scale-x":function(n){var t=n[0];return n[1],function(e){var r=e[0],i=e[1];return function(a){return[-t*a+t+a*r,i]}}},"scale-y":function(n){n[0];var t=n[1];return function(e){var r=e[0],i=e[1];return function(a){return[r,-t*a+t+a*i]}}},"translate-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){return[t*s+i,e*s+a]}}},"translate-x":function(n){var t=n[0];return n[1],function(e){var r=e[0],i=e[1];return function(a){return[t*a+r,i]}}},"translate-y":function(n){n[0];var t=n[1];return function(e){var r=e[0],i=e[1];return function(a){return[r,t*a+i]}}}},jA=function(n,t,e,r){var i=sp(e,n),a=sp(t,n);if(Number(py(a))<1e-7){var s=sp(e,t);if(Number(py(s))<1e-7)return 0;throw new Error("No parameter exists")}var c=i[0],f=i[1],d=a[0],h=a[1],m=r[0],y=r[1];if(d*m!=0)return c/(d*m);if(h*y!=0)return f/(h*y);throw new Error("No parameter exists")},LA=function(n,t,e){var r=sp(e,t);if(Number(py(n))<1e-7){if(Number(py(r))<1e-7)return 0;throw console.log("direction",n,"point",t,"targetPoint",e),new Error("No parameter exists")}var i=r[0],a=r[1],s=n[0],c=n[1];if(s!==0)return i/s;if(c!==0)return a/c;throw new Error("No parameter exists")},fB={"scale-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return jA([t,e],[i,a],[c,f],[1,1])}}},"scale-x":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return jA([t,e],[i,a],[c,f],[1,0])}}},"scale-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return jA([t,e],[i,a],[c,f],[0,1])}}},"translate-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return LA([t,e],[i,a],[c,f])}}},"translate-x":function(n){var t=n[0];return n[1],function(e){var r=e[0],i=e[1];return function(a){var s=a[0],c=a[1];return LA([t,0],[r,i],[s,c])}}},"translate-y":function(n){n[0];var t=n[1];return function(e){var r=e[0],i=e[1];return function(a){var s=a[0],c=a[1];return LA([0,t],[r,i],[s,c])}}}},D1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=hb,e.state={initialised:!1},e.appropriateRounding=function(r){var i=r[0],a=r[1];return[Math.round(i/Ds.PixelsPerFrame)*Ds.PixelsPerFrame,a]},e.shiftKeyPressed=!1,e.altKeyPressed=!1,e}return qi(t,n),t.prototype.getPinIdsGroupedBySignal=function(){var e=this;return this.context.pointerModeMachineState.selectedPinIds.reduce(function(r,i){var a=e.context.p.project.orgData.activeSignalIds.find(function(s){return e.context.p.project.signalData[s].pinIds.includes(i)});return r[a]||(r[a]=[]),r[a].push(i),r},{})},t.prototype.getPinPositions=function(){var e=this;return this.context.pointerModeMachineState.selectedPinIds.map(function(r){return[r,e.context.PinPositionMeasurementHelper.getExistingPinPosition(r)]})},t.prototype.getSignalBoundingBoxes=function(){for(var e=[],r=this.getPinIdsGroupedBySignal(),i=function(f){var d=a.getPinPositions().filter(function(M){var N=M[0];return M[1],r[f].includes(N)}).map(function(M){return M[0],M[1]}),h=Math.min.apply(Math,d.map(function(M){return M[0]})),m=Math.min.apply(Math,d.map(function(M){return M[1]})),y=Math.max.apply(Math,d.map(function(M){return M[0]})),w=Math.max.apply(Math,d.map(function(M){return M[1]})),C=new bs([h,m],Math.abs(y-h),Math.abs(w-m)),k=a.context.PinPositionMeasurementHelper.getSignalContentBox(f);e.push([f,C,k])},a=this,s=0,c=Object.keys(r);s<c.length;s++)i(c[s]);return e},t.prototype.computeTransformation=function(){if(!this.state.initialised)throw new Error("State not initialised");var e,r,i,a,s,c,f=this.context.TransformationType.category,d=this.context.TransformationType.axes,h=this.context.TransformationType.anchor;if(this.shiftKeyPressed&&d==="x-y"&&f==="translate"&&(d="x"),this.altKeyPressed&&d==="x-y"&&f==="translate"&&(d="y"),h==="start-point"){e=this.state.startPos;var m=py(w=z_(w=sp(this.state.currentPos,e),[d==="y"?0:1,d==="x"?0:1]));r=m!==0?oC(w,1/m):w,i=dd(e,oC(r,sB(r,sp(this.state.currentPos,e)))),a=e}else{var y={"top-left":"bottom-right","top-right":"bottom-left","bottom-left":"top-right","bottom-right":"top-left",left:"right",right:"left",top:"bottom",bottom:"top"}[h];e=this.state.cornerPositions[y];var w,C=py(w=sp(this.state.cornerPositions[h],e));r=C!==0?oC(w,1/C):w,i=dd(e,oC(r,sB(r,sp(this.state.currentPos,e)))),a=this.state.cornerPositions[h]}f==="translate"?(s=cB["translate-".concat(d)](r),c=fB["translate-".concat(d)](r)):(s=cB["scale-".concat(d)](e),c=fB["scale-".concat(d)](e));var k=c(a)(i);return{transformation:s,inverseTransformation:c,initialParameter:k}},t.prototype.parameterIsLegal=function(e){if(this.context.TransformationType.category==="translate"){if(e===0)return!1}else if(e===1)return!1;return!0},t.prototype.getTransformationQueue=function(e){var r;if(!this.state.initialised)throw new Error("State not initialised");var i=this.computeTransformation(),a=i.transformation,s=i.inverseTransformation,c=i.initialParameter;if(!this.parameterIsLegal(c))return[];for(var f=this.getPinIdsGroupedBySignal(),d=this.state.pinPositions,h=this.state.signalBoundingBoxes.map(function(V){return V[0],function(X,nt,it,ct){for(var ft=[Ud([],X.o,!0),[X.o[0]+X.w,X.o[1]],[X.o[0]+X.w,X.o[1]+X.h],[X.o[0],X.o[1]+X.h]],gt=ft.map(function(_t){return it(_t)(2)}),Ct=ft.map(function(_t,Et){return[_t,sp(_t,gt[Et])]}),kt=[Ud([],nt.o,!0),[nt.o[0]+nt.w,nt.o[1]],[nt.o[0]+nt.w,nt.o[1]+nt.h],[nt.o[0],nt.o[1]+nt.h]],Tt=[],At=function(_t){var Et=Ct[_t],mt=Et[0],vt=Et[1],Lt=[Wb(mt,vt,kt[0],kt[1]),Wb(mt,vt,kt[1],kt[2]),Wb(mt,vt,kt[2],kt[3]),Wb(mt,vt,kt[3],kt[0])].filter(function(Oe){return Oe!==void 0}),ee=Lt.map(function(Oe){return ct(mt)(Oe)});if(ee.length===0||ee.length===1)return Tt.push([-1/0,1/0]),"continue";if(ee.length===2){var pe=ee.sort(function(Oe,qe){return Oe-qe}),ve=[pe[0],pe[1]];return Tt.push(ve),"continue"}throw new Error("Unexpected number of intersections")},Zt=0;Zt<4;Zt++)At(Zt);if(Tt.length===0)throw new Error("None of the vertices could possibly intersect the parent box under transformation. This means a pathological transformation was supplied.");return Tt.reduce(function(_t,Et){return[Math.max(_t[0],Et[0]),Math.min(_t[1],Et[1])]},Tt[0])}(V[1],V[2],a,s)}),m=h.reduce(function(V,X){return[Math.max(V[0],X[0]),Math.min(V[1],X[1])]},h[0]),y=Math.max(m[0],Math.min(m[1],c)),w=[],C=0,k=Object.keys(f);C<k.length;C++)for(var M=k[C],N=this.context.p.project.orgData.signalTypes[M],B=function(V){var X=(r=d.find(function(gt){var Ct=gt[0];return gt[1],Ct===V}))===null||r===void 0?void 0:r[1];if(!X)throw new Error("Pin position not found");var nt=a(X)(y),it=L.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords(M,nt),ct=it[0],ft=it[1];N==="continuous"?w.push({pinId:V,pinType:"continuous",pinTime:ct,pinValue:ft,functionString:void 0}):w.push({pinId:V,pinType:"discrete",pinTime:ct,pinValue:void 0})},L=this,z=0,q=f[M];z<q.length;z++)B(q[z]);return w},t.prototype.getCornerPositions=function(){return{"top-left":this.context.PinTransformerCorners.getCornerPosition("top-left"),"top-right":this.context.PinTransformerCorners.getCornerPosition("top-right"),"bottom-left":this.context.PinTransformerCorners.getCornerPosition("bottom-left"),"bottom-right":this.context.PinTransformerCorners.getCornerPosition("bottom-right"),left:this.context.PinTransformerCorners.getCornerPosition("left"),right:this.context.PinTransformerCorners.getCornerPosition("right"),top:this.context.PinTransformerCorners.getCornerPosition("top"),bottom:this.context.PinTransformerCorners.getCornerPosition("bottom")}},t.prototype.initialiseState=function(e){this.setState({startPos:this.appropriateRounding(e.absolutePos),currentPos:this.appropriateRounding(e.absolutePos),pinPositions:this.getPinPositions(),signalBoundingBoxes:this.getSignalBoundingBoxes(),cornerPositions:this.getCornerPositions(),initialised:!0})},t.prototype.updatePins=function(e,r){var i=this.appropriateRounding;if(this.state.initialised){r||this.setState(Ts(Ts({},this.state),{currentPos:i(e.absolutePos)}));var a=this.getTransformationQueue(e);(a.findIndex(function(s){return s.pinTime!==void 0||s.pinValue!==void 0})!==-1||r)&&(this.context.p.projectTools.returnToLastCommit(),this.context.p.projectTools.updatePins(a,r))}else this.initialiseState(e)},t.prototype.onMouseMove=function(e,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,a=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=a,this.updatePins(e,!1)}},t.prototype.onMouseUp=function(e,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,a=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=a,this.updatePins(e,!0),this.setState({anchor:void 0,pinPositions:void 0,signalBoundingBoxes:void 0,currentPos:void 0,initialised:!1})}},t}(Yz),C1=function(){function n(){this.cornerHooks={}}return n.prototype.getCornerPosition=function(t){if(this.cornerHooks[t])return this.cornerHooks[t]()},n.prototype.attachCornerHook=function(t,e){var r=this;return this.cornerHooks[t]=e,function(){delete r.cornerHooks[t]}},n}(),_1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.setTransformationType=function(e){var r=e.category,i=e.axes,a=e.anchor;this.setContext("TransformationType",{category:r,axes:i,anchor:a})},t.prototype.windowDidMount=function(e){this.setContext("PinPositionMeasurementHelper",new Kz),this.setContext("SetTransformationType",this.setTransformationType.bind(this)),this.setContext("PinTransformerCorners",new C1)},t.prototype.getChildren=function(){var e=[];return e.push(Gz.Node()),e.push(x1.Node()),e.push(D1.Node()),e},t}(tl),S1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=hb,e}return qi(t,n),Object.defineProperty(t.prototype,"selected",{get:function(){return this.context.pointerModeMachineState.selectedPinIds.includes(this.context.pinId)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r,i;if(this.selected){var a=this.w,s=this.h,c=[[a/2,0],[a,s/2],[a/2,s],[0,s/2]];e.ctx.beginPath(),(r=e.ctx).moveTo.apply(r,e.localToCanvas(c[0]));for(var f=1;f<c.length;f++)(i=e.ctx).lineTo.apply(i,e.localToCanvas(c[f]));e.ctx.closePath(),e.ctx.fillStyle="cyan",e.ctx.fill()}},t}(Vz),E1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){return[S1.Node()]},t}(yO),A1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var a=i[r];e.push(E1.Node({pinId:a,key:a}))}return e},t}(OD),k1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return e.push(A1.Node()),e},t}(ND),M1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r];e.push(k1.Node({signalId:a,key:a}))}return e},t}(tl),F1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){var r=this;this.setContext("pointerModeMachineState",{type:"start",selectedPinIds:[]}),this.setContext("dispatchPointerModeMachineEvent",function(i){i.selectedPinIds&&r.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:i.selectedPinIds,dispatchPointerModeMachineEvent:function(s){r.context.dispatchPointerModeMachineEvent(s)}}});var a=function(s,c){var f={start:{mousedown_resizebar:"change_signal_height",mousedown_selectionoverlay:"make_selection",mousedown_transformer_overlayCONDpin_in_selection:"transform_pins",mousedown_pinCONDpin_not_in_selection:"transform_pins",delete_selected_pins:"start"},make_selection:{mousemove_selectionoverlayCONDselection_changed:"make_selection",mouseup_selectionoverlay:"start"},change_signal_height:{mouseup_selectionoverlay:"start"},transform_pins:{mouseup_selectionoverlay:"start"}}[s.type][c.type];return f?{type:f,selectedPinIds:c.selectedPinIds||Ud([],s.selectedPinIds,!0)}:s}(r.context.pointerModeMachineState,i);r.setContext("pointerModeMachineState",a)}),this.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:[],dispatchPointerModeMachineEvent:function(i){r.context.dispatchPointerModeMachineEvent(i)}}})},t.prototype.windowWillUnmount=function(){this.context.contextBridge.setContext({type:"default"})},t.prototype.getChildren=function(){var e=this.context.p,r=[],i=d1.Node();r.push(i);var a=_1.Node();r.push(a);var s=M1.Node();return r.push(s),function(c,f){for(var d=0,h=c.project.orgData.activeSignalIds;d<h.length;d++)f(h[d])}(e,function(c){var f=f1.Node({signalId:c});r.push(f)}),r},t}(tl),P1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){return this._cameraSnapshot.clone()},t.prototype.onMouseMove=function(){this.context.p.projectTools.returnToLastCommit()},t}(tl),T1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=10,e.lastPinId="",e}return qi(t,n),t.prototype.updatePinValue=function(e,r,i){var a=Object.entries(this.context.p.project.signalData[this.context.signalId].pinTimes).find(function(c){return c[0],c[1]===e});if(!a)throw new Error("Pin not found");var s=[{pinId:a[0],pinType:"continuous",pinTime:void 0,pinValue:r,functionString:void 0}];this.context.p.projectTools.updatePins(s,i)},t.prototype.addPin=function(e,r){if(e.pointInside){e.terminateEvent();var i=Math.random().toString(36).substring(7),a=this.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords.bind(this.context.PinPositionMeasurementHelper),s=this.context.signalId,c=a(s,e.absolutePos),f=c[0],d=c[1],h="return easyLinear();",m=this.context.signalType,y=Object.entries(this.context.p.project.signalData[s].pinTimes).findIndex(function(M){return M[0],M[1]===f})!==-1;if(y){var w=Object.entries(this.context.p.project.signalData[s].pinTimes).find(function(M){return M[0],M[1]===f});if(!w)throw new Error("Pin not found");var C=w[0];if(C!==this.lastPinId)return;var k=this.context.p.project.signalData[s].pinValues[C];m==="discrete"&&(d=k),m==="continuous"&&(h=this.context.p.project.signalData[s].curves[C])}this.context.p.projectTools.returnToLastCommit(),r||(this.lastPinId=i),m==="discrete"?(this.context.p.projectTools.updatePlayheadPosition(f,r),this.context.p.projectTools.addPinDiscrete(s,i,f,"NEW PIN",r),this.context.p.projectTools.pushUpdate()):(this.context.p.projectTools.updatePlayheadPosition(f,r),this.context.p.projectTools.addPinContinuous(s,i,f,d,h,r),this.context.p.projectTools.pushUpdate())}},t.prototype.onMouseMove=function(e){this.addPin(e,!1)},t.prototype.onClick=function(e){this.addPin(e,!0)},t}(OD),O1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return e.push(T1.Node()),e},t}(ND),N1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r];e.push(O1.Node({signalId:a,key:a}))}return e.push(P1.Node()),e},t}(tl),hB=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}return qi(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=this.props.o;return new bs(a,20*r,20*i)},t.prototype.windowDidMount=function(e){this.setState({hover:!1})},Object.defineProperty(t.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),t.prototype.onMouseMove=function(e,r){this.setState({hover:e.pointInside})},t.prototype.onClick=function(e){e.pointInside&&(this.props.onClick(),e.terminateEvent())},t.prototype.render=function(e){var r=e.absoluteO,i=r[0],a=r[1],s=this.absoluteUnit,c=s[0],f=s[1];e.ctx.beginPath(),e.ctx.fillStyle="#3D5498",e.ctx.roundRect(i,a,this.w*c,this.h*f,[5,5,5,5]),e.ctx.strokeStyle="#243157",e.ctx.lineWidth=4,e.ctx.stroke(),e.ctx.fill(),e.ctx.font="".concat(Math.floor(.8*this.h*f),"px Material Symbols"),e.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),e.ctx.fillText(this.props.iconName,i+.1*this.w*c,a+this.h*f-this.h*f*.1)},t}(tl);(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}qi(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=[this.parentW-25*r,5*i];return new bs(a,20*r,20*i)},t.prototype.windowDidMount=function(e){this.setState({hover:!1})},Object.defineProperty(t.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),t.prototype.onMouseMove=function(e,r){this.setState({hover:e.pointInside})},t.prototype.onClick=function(e){e.pointInside&&(navigator.clipboard.writeText(this.context.functionString),e.terminateEvent())},t.prototype.render=function(e){var r=e.absoluteO,i=r[0],a=r[1],s=this.absoluteUnit,c=s[0],f=s[1];e.ctx.beginPath(),e.ctx.fillStyle="#3D5498",e.ctx.roundRect(i,a,this.w*c,this.h*f,[5,5,5,5]),e.ctx.strokeStyle="#243157",e.ctx.lineWidth=4,e.ctx.stroke(),e.ctx.fill(),e.ctx.font="".concat(Math.floor(.8*this.h*f),"px Material Symbols"),e.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),e.ctx.fillText("content_copy",i+.1*this.w*c,a+this.h*f-this.h*f*.1)}})(tl);var pB,I1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=[15*r,15*i],s=this.parentW-50*r,c=this.parentH-30*i;return new bs(a,s,c)},t.prototype.windowDidMount=function(e){this.setState({hover:!1})},Object.defineProperty(t.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),t.prototype.onMouseMove=function(e){this.setState({hover:e.pointInside})},t.prototype.onClick=function(e,r){if(e.pointInside){var i=this.context.clipboard.functionString;i&&(this.context.p.projectTools.updateCurve(this.context.pinId,i),this.context.clipboard.functionString=void 0,this.context.clipboard.pinId=void 0)}},t.prototype.render=function(e){var r=e.absoluteO,i=r[0],a=r[1];e.ctx.fillStyle="white",e.ctx.font="12px monospace";for(var s=this.absoluteUnit,c=s[0],f=s[1],d=function(m,y,w,C,k){for(var M=m.split(`
`).map(function(Ct){return Ct.split(" ")}),N=[],B=function(Ct){for(var kt=[],Tt="",At=0,Zt=Ct;At<Zt.length;At++){var _t=Zt[At],Et=Tt+_t;y.measureText(Et).width>w&&Tt.length?(kt.push(Tt),Tt=_t):Tt=Et}return Tt&&kt.push(Tt),kt},L=function(Ct){for(var kt="",Tt=0,At=Ct;Tt<At.length;Tt++)for(var Zt=At[Tt],_t=0,Et=y.measureText(Zt).width>w?B(Zt):[Zt];_t<Et.length;_t++){var mt=Et[_t],vt=kt.length?kt+" "+mt:mt;y.measureText(vt).width>w&&kt.length?(N.push(kt),kt=mt):kt=vt}kt&&N.push(kt)},z=0,q=M;z<q.length;z++)L(q[z]);var V=Math.floor(k/12);if(N.length>V){N.splice(V,N.length-V);for(var X=N[V-1],nt=w-y.measureText("...").width,it="",ct=0,ft=X;ct<ft.length;ct++){var gt=it+ft[ct];if(y.measureText(gt).width>nt)break;it=gt}N[V-1]=it+"..."}return N}(this.context.functionString,e.ctx,this.w*c,0,this.h*f),h=0;h<d.length;h++)e.ctx.fillText(d[h],i,a+12*f+15*h*f);e.ctx.fillStyle="rgba(0,0,0,0.3)",e.ctx.fillRect(i,a,this.w*c,this.h*f),this.hover&&(e.ctx.beginPath(),e.ctx.strokeStyle="rgba(255,255,255,0.5)",e.ctx.lineWidth=1,e.ctx.strokeRect(i,a,this.w*c,this.h*f))},t}(tl),B1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.updateWhenCameraChanges=!0,e.layer=100,e}return qi(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.setContext("functionString",this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId])},t.prototype.windowDidUpdate=function(e){this.context.functionString=this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId]},t.prototype.getChildren=function(){var e=this,r=[],i=this.absoluteUnit,a=i[0];return i[1],this.w*a>100&&r.push(I1.Node()),this.w*a>50&&(r.push(hB.Node({iconName:"code",onClick:function(){e.context.p.setActiveEditor({type:"pin",id:e.context.pinId})},o:[this.w-25,5]})),r.push(hB.Node({iconName:"content_copy",onClick:function(){e.context.clipboard.functionString=e.context.functionString,e.context.clipboard.pinId=e.context.pinId},o:[this.w-25,30]}))),r},t}(qz),R1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var a=i[r];e.push(B1.Node({pinId:a,key:a}))}return e},t}(OD),j1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.getChildren=function(){var e=[];return e.push(R1.Node()),e},t}(ND),L1=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return qi(t,n),t.prototype.windowDidMount=function(e){this.setContext("clipboard",{functionString:void 0,pinId:void 0})},t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r];this.context.p.project.orgData.signalTypes[a]==="continuous"&&e.push(j1.Node({signalId:a,key:a}))}return e},t}(tl),z1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return qi(t,n),t.prototype.getBox=function(){return new bs([0,0],100,100)},t.prototype.windowDidMount=function(e){console.log("mounted",e)},t}(tl),U1=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.unsubscribe=function(){},e}return qi(t,n),t.prototype.windowDidMount=function(e){var r=this,i=e.extendedProjectAPIBridge,a=e.contextBridge;this.setContext("externalState",i.data),this.setContext("p",i.data),this.unsubscribe=i.subscribe(function(s){r.setContext("externalState",s),r.setContext("p",s)}),this.setContext("PinPositionMeasurementHelper",new Kz),this.setContext("contextBridge",a)},t.prototype.getChildren=function(){var e=this.context.p.activeTool,r=[];switch(r.push(K4.Node()),r.push(Gz.Node()),r.push(u1.Node()),e){case"pointer":r.push(F1.Node());break;case"code_editor":r.push(L1.Node());break;case"add_pin":r.push(N1.Node());break;default:r.push(z1.Node())}return r},t}(tl),$1=re.forwardRef(function(n,t){var e=n.animationFrameFunc,r=re.useRef(null),i=re.useRef(null),a=re.useState(null),s=a[0],c=a[1];return re.useImperativeHandle(t,function(){return{getCanvas:function(){return r.current}}}),re.useLayoutEffect(function(){if(!s&&i.current){var f=i.current.getBoundingClientRect(),d=f.width,h=f.height;c({width:d,height:h})}var m=new ResizeObserver(function(y){if(y[0]){var w=y[0].contentRect,C=w.width,k=w.height;c({width:C,height:k})}});return i.current&&m.observe(i.current),function(){return m.disconnect()}},[]),re.useLayoutEffect(function(){var f;if(s){var d={W:s.width,H:s.height},h=function(){if(r){var m=r.current;if(!m)throw new Error("Canvas not found");var y=m.getContext("2d");if(!y)throw new Error("2d context not found");m.width=d.W,m.height=d.H,e(m,y),f=requestAnimationFrame(h)}};return f=requestAnimationFrame(h),function(){return cancelAnimationFrame(f)}}},[s,e]),fe.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:fe.jsx("canvas",{style:{width:"100%",height:"100%",display:"block"},width:300,height:100,ref:r})})}),U_={exports:{}},W1=U_.exports,H1=function(){return pB||(pB=1,n=U_,t=U_.exports,(function(){var e,r="Expected a function",i="__lodash_hash_undefined__",a="__lodash_placeholder__",s=32,c=128,f=1/0,d=9007199254740991,h=NaN,m=4294967295,y=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",s],["partialRight",64],["rearg",256]],w="[object Arguments]",C="[object Array]",k="[object Boolean]",M="[object Date]",N="[object Error]",B="[object Function]",L="[object GeneratorFunction]",z="[object Map]",q="[object Number]",V="[object Object]",X="[object Promise]",nt="[object RegExp]",it="[object Set]",ct="[object String]",ft="[object Symbol]",gt="[object WeakMap]",Ct="[object ArrayBuffer]",kt="[object DataView]",Tt="[object Float32Array]",At="[object Float64Array]",Zt="[object Int8Array]",_t="[object Int16Array]",Et="[object Int32Array]",mt="[object Uint8Array]",vt="[object Uint8ClampedArray]",Lt="[object Uint16Array]",ee="[object Uint32Array]",pe=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,Oe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,qe=/&(?:amp|lt|gt|quot|#39);/g,He=/[&<>"']/g,wn=RegExp(qe.source),nn=RegExp(He.source),cr=/<%-([\s\S]+?)%>/g,bi=/<%([\s\S]+?)%>/g,Vt=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dt=/^\w*$/,bt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ot=/[\\^$.*+?()[\]{}|]/g,Bt=RegExp(Ot.source),Rt=/^\s+/,Xt=/\s/,Kt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ge=/\{\n\/\* \[wrapped with (.+)\] \*/,Ee=/,? & /,Ze=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Xe=/[()=,{}\[\]\/\s]/,Se=/\\(\\)?/g,je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,rn=/\w*$/,zi=/^[-+]0x[0-9a-f]+$/i,Yi=/^0b[01]+$/i,Ui=/^\[object .+?Constructor\]$/,xo=/^0o[0-7]+$/i,Ai=/^(?:0|[1-9]\d*)$/,us=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ko=/($^)/,vu=/['\n\r\u2028\u2029\\]/g,ja="\\ud800-\\udfff",ls="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",yu="\\u2700-\\u27bf",dl="a-z\\xdf-\\xf6\\xf8-\\xff",Ns="A-Z\\xc0-\\xd6\\xd8-\\xde",Ol="\\ufe0e\\ufe0f",gl="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pa="["+ja+"]",ml="["+gl+"]",wu="["+ls+"]",Ou="\\d+",Ks="["+yu+"]",Nu="["+dl+"]",ts="[^"+ja+gl+Ou+yu+dl+Ns+"]",fa="\\ud83c[\\udffb-\\udfff]",ba="[^"+ja+"]",ho="(?:\\ud83c[\\udde6-\\uddff]){2}",Iu="[\\ud800-\\udbff][\\udc00-\\udfff]",nu="["+Ns+"]",cs="\\u200d",nl="(?:"+Nu+"|"+ts+")",Nl="(?:"+nu+"|"+ts+")",vl="(?:['](?:d|ll|m|re|s|t|ve))?",bu="(?:['](?:D|LL|M|RE|S|T|VE))?",Gs="(?:"+wu+"|"+fa+")?",kc="["+Ol+"]?",hf=kc+Gs+"(?:"+cs+"(?:"+[ba,ho,Iu].join("|")+")"+kc+Gs+")*",Mc="(?:"+[Ks,ho,Iu].join("|")+")"+hf,ln="(?:"+[ba+wu+"?",wu,ho,Iu,Pa].join("|")+")",Vn=RegExp("[']","g"),hr=RegExp(wu,"g"),Xi=RegExp(fa+"(?="+fa+")|"+ln+hf,"g"),es=RegExp([nu+"?"+Nu+"+"+vl+"(?="+[ml,nu,"$"].join("|")+")",Nl+"+"+bu+"(?="+[ml,nu+nl,"$"].join("|")+")",nu+"?"+nl+"+"+vl,nu+"+"+bu,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ou,Mc].join("|"),"g"),ru=RegExp("["+cs+ja+ls+Ol+"]"),Do=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],be=-1,Xr={};Xr[Tt]=Xr[At]=Xr[Zt]=Xr[_t]=Xr[Et]=Xr[mt]=Xr[vt]=Xr[Lt]=Xr[ee]=!0,Xr[w]=Xr[C]=Xr[Ct]=Xr[k]=Xr[kt]=Xr[M]=Xr[N]=Xr[B]=Xr[z]=Xr[q]=Xr[V]=Xr[nt]=Xr[it]=Xr[ct]=Xr[gt]=!1;var xa={};xa[w]=xa[C]=xa[Ct]=xa[kt]=xa[k]=xa[M]=xa[Tt]=xa[At]=xa[Zt]=xa[_t]=xa[Et]=xa[z]=xa[q]=xa[V]=xa[nt]=xa[it]=xa[ct]=xa[ft]=xa[mt]=xa[vt]=xa[Lt]=xa[ee]=!0,xa[N]=xa[B]=xa[gt]=!1;var tp={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Kc=parseFloat,Tf=parseInt,ze=typeof ZD=="object"&&ZD&&ZD.Object===Object&&ZD,$i=typeof self=="object"&&self&&self.Object===Object&&self,kr=ze||$i||Function("return this")(),Fc=t&&!t.nodeType&&t,Bu=Fc&&n&&!n.nodeType&&n,pr=Bu&&Bu.exports===Fc,Ru=pr&&ze.process,Ji=function(){try{return Bu&&Bu.require&&Bu.require("util").types||Ru&&Ru.binding&&Ru.binding("util")}catch{}}(),qn=Ji&&Ji.isArrayBuffer,rl=Ji&&Ji.isDate,Zc=Ji&&Ji.isMap,wc=Ji&&Ji.isRegExp,Mn=Ji&&Ji.isSet,uh=Ji&&Ji.isTypedArray;function Bn(et,pt,Nt){switch(Nt.length){case 0:return et.call(pt);case 1:return et.call(pt,Nt[0]);case 2:return et.call(pt,Nt[0],Nt[1]);case 3:return et.call(pt,Nt[0],Nt[1],Nt[2])}return et.apply(pt,Nt)}function tf(et,pt,Nt,Jt){for(var Fe=-1,mn=et==null?0:et.length;++Fe<mn;){var zt=et[Fe];pt(Jt,zt,Nt(zt),et)}return Jt}function Cs(et,pt){for(var Nt=-1,Jt=et==null?0:et.length;++Nt<Jt&&pt(et[Nt],Nt,et)!==!1;);return et}function Br(et,pt){for(var Nt=et==null?0:et.length;Nt--&&pt(et[Nt],Nt,et)!==!1;);return et}function br(et,pt){for(var Nt=-1,Jt=et==null?0:et.length;++Nt<Jt;)if(!pt(et[Nt],Nt,et))return!1;return!0}function xi(et,pt){for(var Nt=-1,Jt=et==null?0:et.length,Fe=0,mn=[];++Nt<Jt;){var zt=et[Nt];pt(zt,Nt,et)&&(mn[Fe++]=zt)}return mn}function Be(et,pt){return!(et==null||!et.length)&&Bs(et,pt,0)>-1}function Er(et,pt,Nt){for(var Jt=-1,Fe=et==null?0:et.length;++Jt<Fe;)if(Nt(pt,et[Jt]))return!0;return!1}function Jr(et,pt){for(var Nt=-1,Jt=et==null?0:et.length,Fe=Array(Jt);++Nt<Jt;)Fe[Nt]=pt(et[Nt],Nt,et);return Fe}function ef(et,pt){for(var Nt=-1,Jt=pt.length,Fe=et.length;++Nt<Jt;)et[Fe+Nt]=pt[Nt];return et}function Is(et,pt,Nt,Jt){var Fe=-1,mn=et==null?0:et.length;for(Jt&&mn&&(Nt=et[++Fe]);++Fe<mn;)Nt=pt(Nt,et[Fe],Fe,et);return Nt}function uc(et,pt,Nt,Jt){var Fe=et==null?0:et.length;for(Jt&&Fe&&(Nt=et[--Fe]);Fe--;)Nt=pt(Nt,et[Fe],Fe,et);return Nt}function ql(et,pt){for(var Nt=-1,Jt=et==null?0:et.length;++Nt<Jt;)if(pt(et[Nt],Nt,et))return!0;return!1}var jr=Pc("length");function Ii(et,pt,Nt){var Jt;return Nt(et,function(Fe,mn,zt){if(pt(Fe,mn,zt))return Jt=mn,!1}),Jt}function bc(et,pt,Nt,Jt){for(var Fe=et.length,mn=Nt+(Jt?1:-1);Jt?mn--:++mn<Fe;)if(pt(et[mn],mn,et))return mn;return-1}function Bs(et,pt,Nt){return pt==pt?function(Jt,Fe,mn){for(var zt=mn-1,Ne=Jt.length;++zt<Ne;)if(Jt[zt]===Fe)return zt;return-1}(et,pt,Nt):bc(et,Da,Nt)}function xu(et,pt,Nt,Jt){for(var Fe=Nt-1,mn=et.length;++Fe<mn;)if(Jt(et[Fe],pt))return Fe;return-1}function Da(et){return et!=et}function ju(et,pt){var Nt=et==null?0:et.length;return Nt?Bl(et,pt)/Nt:h}function Pc(et){return function(pt){return pt==null?e:pt[et]}}function Ys(et){return function(pt){return et==null?e:et[pt]}}function Il(et,pt,Nt,Jt,Fe){return Fe(et,function(mn,zt,Ne){Nt=Jt?(Jt=!1,mn):pt(Nt,mn,zt,Ne)}),Nt}function Bl(et,pt){for(var Nt,Jt=-1,Fe=et.length;++Jt<Fe;){var mn=pt(et[Jt]);mn!==e&&(Nt=Nt===e?mn:Nt+mn)}return Nt}function Ln(et,pt){for(var Nt=-1,Jt=Array(et);++Nt<et;)Jt[Nt]=pt(Nt);return Jt}function yl(et){return et&&et.slice(0,Co(et)+1).replace(Rt,"")}function fi(et){return function(pt){return et(pt)}}function wl(et,pt){return Jr(pt,function(Nt){return et[Nt]})}function Xs(et,pt){return et.has(pt)}function Gc(et,pt){for(var Nt=-1,Jt=et.length;++Nt<Jt&&Bs(pt,et[Nt],0)>-1;);return Nt}function Tc(et,pt){for(var Nt=et.length;Nt--&&Bs(pt,et[Nt],0)>-1;);return Nt}var Lu=Ys({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),ha=Ys({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Gi(et){return"\\"+tp[et]}function zu(et){return ru.test(et)}function Di(et){var pt=-1,Nt=Array(et.size);return et.forEach(function(Jt,Fe){Nt[++pt]=[Fe,Jt]}),Nt}function ns(et,pt){return function(Nt){return et(pt(Nt))}}function Wr(et,pt){for(var Nt=-1,Jt=et.length,Fe=0,mn=[];++Nt<Jt;){var zt=et[Nt];zt!==pt&&zt!==a||(et[Nt]=a,mn[Fe++]=Nt)}return mn}function xr(et){var pt=-1,Nt=Array(et.size);return et.forEach(function(Jt){Nt[++pt]=Jt}),Nt}function La(et){return zu(et)?function(pt){for(var Nt=Xi.lastIndex=0;Xi.test(pt);)++Nt;return Nt}(et):jr(et)}function lc(et){return zu(et)?function(pt){return pt.match(Xi)||[]}(et):function(pt){return pt.split("")}(et)}function Co(et){for(var pt=et.length;pt--&&Xt.test(et.charAt(pt)););return pt}var J=Ys({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),st=function et(pt){var Nt,Jt=(pt=pt==null?kr:st.defaults(kr.Object(),pt,st.pick(kr,De))).Array,Fe=pt.Date,mn=pt.Error,zt=pt.Function,Ne=pt.Math,ke=pt.Object,Pe=pt.RegExp,vr=pt.String,Ci=pt.TypeError,hi=Jt.prototype,Ca=zt.prototype,pi=ke.prototype,Ce=pt["__core-js_shared__"],kh=Ca.toString,_i=pi.hasOwnProperty,Rs=0,Yc=(Nt=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+Nt:"",pf=pi.toString,lh=kh.call(ke),iu=kr._,tr=Pe("^"+kh.call(_i).replace(Ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),js=pr?pt.Buffer:e,Rl=pt.Symbol,ea=pt.Uint8Array,Yf=js?js.allocUnsafe:e,Oc=ns(ke.getPrototypeOf,ke),Uu=ke.create,jl=pi.propertyIsEnumerable,io=hi.splice,Bo=Rl?Rl.isConcatSpreadable:e,za=Rl?Rl.iterator:e,nf=Rl?Rl.toStringTag:e,Xf=function(){try{var l=ua(ke,"defineProperty");return l({},"",{}),l}catch{}}(),Of=pt.clearTimeout!==kr.clearTimeout&&pt.clearTimeout,Ua=Fe&&Fe.now!==kr.Date.now&&Fe.now,$u=pt.setTimeout!==kr.setTimeout&&pt.setTimeout,ou=Ne.ceil,xc=Ne.floor,Nc=ke.getOwnPropertySymbols,Wh=js?js.isBuffer:e,Lh=pt.isFinite,sn=hi.join,on=ns(ke.keys,ke),pa=Ne.max,Du=Ne.min,df=Fe.now,xh=pt.parseInt,il=Ne.random,_a=hi.reverse,oa=ua(pt,"DataView"),ii=ua(pt,"Map"),Ko=ua(pt,"Promise"),aa=ua(pt,"Set"),sa=ua(pt,"WeakMap"),Mo=ua(ke,"create"),gf=sa&&new sa,bl={},cc=Ql(oa),rf=Ql(ii),Jf=Ql(Ko),rs=Ql(aa),is=Ql(sa),Ll=Rl?Rl.prototype:e,P=Ll?Ll.valueOf:e,Go=Ll?Ll.toString:e;function Pt(l){if(lr(l)&&!$e(l)&&!(l instanceof vn)){if(l instanceof Hr)return l;if(_i.call(l,"__wrapped__"))return mf(l)}return new Hr(l)}var or=function(){function l(){}return function(g){if(!Qn(g))return{};if(Uu)return Uu(g);l.prototype=g;var b=new l;return l.prototype=e,b}}();function ce(){}function Hr(l,g){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!g,this.__index__=0,this.__values__=e}function vn(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Fr(l){var g=-1,b=l==null?0:l.length;for(this.clear();++g<b;){var E=l[g];this.set(E[0],E[1])}}function St(l){var g=-1,b=l==null?0:l.length;for(this.clear();++g<b;){var E=l[g];this.set(E[0],E[1])}}function zn(l){var g=-1,b=l==null?0:l.length;for(this.clear();++g<b;){var E=l[g];this.set(E[0],E[1])}}function Wu(l){var g=-1,b=l==null?0:l.length;for(this.__data__=new zn;++g<b;)this.add(l[g])}function En(l){var g=this.__data__=new St(l);this.size=g.size}function Bi(l,g){var b=$e(l),E=!b&&_c(l),O=!b&&!E&&lu(l),R=!b&&!E&&!O&&Ae(l),W=b||E||O||R,A=W?Ln(l.length,vr):[],_=A.length;for(var T in l)!g&&!_i.call(l,T)||W&&(T=="length"||O&&(T=="offset"||T=="parent")||R&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||Dr(T,_))||A.push(T);return A}function Kl(l){var g=l.length;return g?l[ue(0,g-1)]:e}function da(l,g){return Nn(ji(l),Vu(g,0,l.length))}function Fo(l){return Nn(ji(l))}function ga(l,g,b){(b!==e&&!gc(l[g],b)||b===e&&!(g in l))&&Qi(l,g,b)}function _s(l,g,b){var E=l[g];_i.call(l,g)&&gc(E,b)&&(b!==e||g in l)||Qi(l,g,b)}function Hu(l,g){for(var b=l.length;b--;)if(gc(l[b][0],g))return b;return-1}function Rr(l,g,b,E){return fc(l,function(O,R,W){g(E,O,b(O),W)}),E}function Gl(l,g){return l&&Mi(g,Mu(g),l)}function Qi(l,g,b){g=="__proto__"&&Xf?Xf(l,g,{configurable:!0,enumerable:!0,value:b,writable:!0}):l[g]=b}function yr(l,g){for(var b=-1,E=g.length,O=Jt(E),R=l==null;++b<E;)O[b]=R?e:eu(l,g[b]);return O}function Vu(l,g,b){return l==l&&(b!==e&&(l=l<=b?l:b),g!==e&&(l=l>=g?l:g)),l}function $a(l,g,b,E,O,R){var W,A=1&g,_=2&g,T=4&g;if(b&&(W=O?b(l,E,O,R):b(l)),W!==e)return W;if(!Qn(l))return l;var U=$e(l);if(U){if(W=function(ut){var ot=ut.length,wt=new ut.constructor(ot);return ot&&typeof ut[0]=="string"&&_i.call(ut,"index")&&(wt.index=ut.index,wt.input=ut.input),wt}(l),!A)return ji(l,W)}else{var G=Qo(l),Z=G==B||G==L;if(lu(l))return _l(l,A);if(G==V||G==w||Z&&!O){if(W=_||Z?{}:ur(l),!A)return _?function(ut,ot){return Mi(ut,$l(ut),ot)}(l,function(ut,ot){return ut&&Mi(ot,Fs(ot),ut)}(W,l)):function(ut,ot){return Mi(ut,cn(ut),ot)}(l,Gl(W,l))}else{if(!xa[G])return O?l:{};W=function(ut,ot,wt){var yt=ut.constructor;switch(ot){case Ct:return ps(ut);case k:case M:return new yt(+ut);case kt:return function(jt,xt){var It=xt?ps(jt.buffer):jt.buffer;return new jt.constructor(It,jt.byteOffset,jt.byteLength)}(ut,wt);case Tt:case At:case Zt:case _t:case Et:case mt:case vt:case Lt:case ee:return al(ut,wt);case z:return new yt;case q:case ct:return new yt(ut);case nt:return function(jt){var xt=new jt.constructor(jt.source,rn.exec(jt));return xt.lastIndex=jt.lastIndex,xt}(ut);case it:return new yt;case ft:return function(jt){return P?ke(P.call(jt)):{}}(ut)}}(l,G,A)}}R||(R=new En);var K=R.get(l);if(K)return K;R.set(l,W),jn(l)?l.forEach(function(ut){W.add($a(ut,g,b,ut,l,R))}):la(l)&&l.forEach(function(ut,ot){W.set(ot,$a(ut,g,b,ot,l,R))});var tt=U?e:(T?_?So:gs:_?Fs:Mu)(l);return Cs(tt||l,function(ut,ot){tt&&(ut=l[ot=ut]),_s(W,ot,$a(ut,g,b,ot,l,R))}),W}function Ro(l,g,b){var E=b.length;if(l==null)return!E;for(l=ke(l);E--;){var O=b[E],R=g[O],W=l[O];if(W===e&&!(O in l)||!R(W))return!1}return!0}function ki(l,g,b){if(typeof l!="function")throw new Ci(r);return As(function(){l.apply(e,b)},g)}function Ss(l,g,b,E){var O=-1,R=Be,W=!0,A=l.length,_=[],T=g.length;if(!A)return _;b&&(g=Jr(g,fi(b))),E?(R=Er,W=!1):g.length>=200&&(R=Xs,W=!1,g=new Wu(g));t:for(;++O<A;){var U=l[O],G=b==null?U:b(U);if(U=E||U!==0?U:0,W&&G==G){for(var Z=T;Z--;)if(g[Z]===G)continue t;_.push(U)}else R(g,G,E)||_.push(U)}return _}Pt.templateSettings={escape:cr,evaluate:bi,interpolate:Vt,variable:"",imports:{_:Pt}},Pt.prototype=ce.prototype,Pt.prototype.constructor=Pt,Hr.prototype=or(ce.prototype),Hr.prototype.constructor=Hr,vn.prototype=or(ce.prototype),vn.prototype.constructor=vn,Fr.prototype.clear=function(){this.__data__=Mo?Mo(null):{},this.size=0},Fr.prototype.delete=function(l){var g=this.has(l)&&delete this.__data__[l];return this.size-=g?1:0,g},Fr.prototype.get=function(l){var g=this.__data__;if(Mo){var b=g[l];return b===i?e:b}return _i.call(g,l)?g[l]:e},Fr.prototype.has=function(l){var g=this.__data__;return Mo?g[l]!==e:_i.call(g,l)},Fr.prototype.set=function(l,g){var b=this.__data__;return this.size+=this.has(l)?0:1,b[l]=Mo&&g===e?i:g,this},St.prototype.clear=function(){this.__data__=[],this.size=0},St.prototype.delete=function(l){var g=this.__data__,b=Hu(g,l);return!(b<0||(b==g.length-1?g.pop():io.call(g,b,1),--this.size,0))},St.prototype.get=function(l){var g=this.__data__,b=Hu(g,l);return b<0?e:g[b][1]},St.prototype.has=function(l){return Hu(this.__data__,l)>-1},St.prototype.set=function(l,g){var b=this.__data__,E=Hu(b,l);return E<0?(++this.size,b.push([l,g])):b[E][1]=g,this},zn.prototype.clear=function(){this.size=0,this.__data__={hash:new Fr,map:new(ii||St),string:new Fr}},zn.prototype.delete=function(l){var g=si(this,l).delete(l);return this.size-=g?1:0,g},zn.prototype.get=function(l){return si(this,l).get(l)},zn.prototype.has=function(l){return si(this,l).has(l)},zn.prototype.set=function(l,g){var b=si(this,l),E=b.size;return b.set(l,g),this.size+=b.size==E?0:1,this},Wu.prototype.add=Wu.prototype.push=function(l){return this.__data__.set(l,i),this},Wu.prototype.has=function(l){return this.__data__.has(l)},En.prototype.clear=function(){this.__data__=new St,this.size=0},En.prototype.delete=function(l){var g=this.__data__,b=g.delete(l);return this.size=g.size,b},En.prototype.get=function(l){return this.__data__.get(l)},En.prototype.has=function(l){return this.__data__.has(l)},En.prototype.set=function(l,g){var b=this.__data__;if(b instanceof St){var E=b.__data__;if(!ii||E.length<199)return E.push([l,g]),this.size=++b.size,this;b=this.__data__=new zn(E)}return b.set(l,g),this.size=b.size,this};var fc=Eu(ma),Wa=Eu(Vr,!0);function au(l,g){var b=!0;return fc(l,function(E,O,R){return b=!!g(E,O,R)}),b}function gn(l,g,b){for(var E=-1,O=l.length;++E<O;){var R=l[E],W=g(R);if(W!=null&&(A===e?W==W&&!Wo(W):b(W,A)))var A=W,_=R}return _}function hc(l,g){var b=[];return fc(l,function(E,O,R){g(E,O,R)&&b.push(E)}),b}function Ha(l,g,b,E,O){var R=-1,W=l.length;for(b||(b=Ue),O||(O=[]);++R<W;){var A=l[R];g>0&&b(A)?g>1?Ha(A,g-1,b,E,O):ef(O,A):E||(O[O.length]=A)}return O}var bn=Lo(),Sa=Lo(!0);function ma(l,g){return l&&bn(l,g,Mu)}function Vr(l,g){return l&&Sa(l,g,Mu)}function Ea(l,g){return xi(g,function(b){return Gn(l[b])})}function tn(l,g){for(var b=0,E=(g=Ur(g,l)).length;l!=null&&b<E;)l=l[Au(g[b++])];return b&&b==E?l:e}function Ho(l,g,b){var E=g(l);return $e(l)?E:ef(E,b(l))}function Ls(l){return l==null?l===e?"[object Undefined]":"[object Null]":nf&&nf in ke(l)?function(g){var b=_i.call(g,nf),E=g[nf];try{g[nf]=e;var O=!0}catch{}var R=pf.call(g);return O&&(b?g[nf]=E:delete g[nf]),R}(l):function(g){return pf.call(g)}(l)}function xl(l,g){return l>g}function pc(l,g){return l!=null&&_i.call(l,g)}function Po(l,g){return l!=null&&g in ke(l)}function Js(l,g,b){for(var E=b?Er:Be,O=l[0].length,R=l.length,W=R,A=Jt(R),_=1/0,T=[];W--;){var U=l[W];W&&g&&(U=Jr(U,fi(g))),_=Du(U.length,_),A[W]=!b&&(g||O>=120&&U.length>=120)?new Wu(W&&U):e}U=l[0];var G=-1,Z=A[0];t:for(;++G<O&&T.length<_;){var K=U[G],tt=g?g(K):K;if(K=b||K!==0?K:0,!(Z?Xs(Z,tt):E(T,tt,b))){for(W=R;--W;){var ut=A[W];if(!(ut?Xs(ut,tt):E(l[W],tt,b)))continue t}Z&&Z.push(tt),T.push(K)}}return T}function _o(l,g,b){var E=(l=kl(l,g=Ur(g,l)))==null?l:l[Au(tu(g))];return E==null?e:Bn(E,l,b)}function jo(l){return lr(l)&&Ls(l)==w}function qu(l,g,b,E,O){return l===g||(l==null||g==null||!lr(l)&&!lr(g)?l!=l&&g!=g:function(R,W,A,_,T,U){var G=$e(R),Z=$e(W),K=G?C:Qo(R),tt=Z?C:Qo(W),ut=(K=K==w?V:K)==V,ot=(tt=tt==w?V:tt)==V,wt=K==tt;if(wt&&lu(R)){if(!lu(W))return!1;G=!0,ut=!1}if(wt&&!ut)return U||(U=new En),G||Ae(R)?Ya(R,W,A,_,T,U):function(ae,Ht,ye,oe,xe,Ve,an){switch(ye){case kt:if(ae.byteLength!=Ht.byteLength||ae.byteOffset!=Ht.byteOffset)return!1;ae=ae.buffer,Ht=Ht.buffer;case Ct:return!(ae.byteLength!=Ht.byteLength||!Ve(new ea(ae),new ea(Ht)));case k:case M:case q:return gc(+ae,+Ht);case N:return ae.name==Ht.name&&ae.message==Ht.message;case nt:case ct:return ae==Ht+"";case z:var On=Di;case it:var Dn=1&oe;if(On||(On=xr),ae.size!=Ht.size&&!Dn)return!1;var nr=an.get(ae);if(nr)return nr==Ht;oe|=2,an.set(ae,Ht);var Cr=Ya(On(ae),On(Ht),oe,xe,Ve,an);return an.delete(ae),Cr;case ft:if(P)return P.call(ae)==P.call(Ht)}return!1}(R,W,K,A,_,T,U);if(!(1&A)){var yt=ut&&_i.call(R,"__wrapped__"),jt=ot&&_i.call(W,"__wrapped__");if(yt||jt){var xt=yt?R.value():R,It=jt?W.value():W;return U||(U=new En),T(xt,It,A,_,U)}}return!!wt&&(U||(U=new En),function(ae,Ht,ye,oe,xe,Ve){var an=1&ye,On=gs(ae),Dn=On.length;if(Dn!=gs(Ht).length&&!an)return!1;for(var nr=Dn;nr--;){var Cr=On[nr];if(!(an?Cr in Ht:_i.call(Ht,Cr)))return!1}var Ao=Ve.get(ae),ro=Ve.get(Ht);if(Ao&&ro)return Ao==Ht&&ro==ae;var vo=!0;Ve.set(ae,Ht),Ve.set(Ht,ae);for(var Kr=an;++nr<Dn;){var ss=ae[Cr=On[nr]],Lr=Ht[Cr];if(oe)var Za=an?oe(Lr,ss,Cr,Ht,ae,Ve):oe(ss,Lr,Cr,ae,Ht,Ve);if(!(Za===e?ss===Lr||xe(ss,Lr,ye,oe,Ve):Za)){vo=!1;break}Kr||(Kr=Cr=="constructor")}if(vo&&!Kr){var Vp=ae.constructor,Nh=Ht.constructor;Vp==Nh||!("constructor"in ae)||!("constructor"in Ht)||typeof Vp=="function"&&Vp instanceof Vp&&typeof Nh=="function"&&Nh instanceof Nh||(vo=!1)}return Ve.delete(ae),Ve.delete(Ht),vo}(R,W,A,_,T,U))}(l,g,b,E,qu,O))}function Cu(l,g,b,E){var O=b.length,R=O,W=!E;if(l==null)return!R;for(l=ke(l);O--;){var A=b[O];if(W&&A[2]?A[1]!==l[A[0]]:!(A[0]in l))return!1}for(;++O<R;){var _=(A=b[O])[0],T=l[_],U=A[1];if(W&&A[2]){if(T===e&&!(_ in l))return!1}else{var G=new En;if(E)var Z=E(T,U,_,l,g,G);if(!(Z===e?qu(U,T,3,E,G):Z))return!1}}return!0}function Ta(l){return!(!Qn(l)||function(g){return!!Yc&&Yc in g}(l))&&(Gn(l)?tr:Ui).test(Ql(l))}function dr(l){return typeof l=="function"?l:l==null?ca:typeof l=="object"?$e(l)?_u(l[0],l[1]):Si(l):ta(l)}function ar(l){if(!dc(l))return on(l);var g=[];for(var b in ke(l))_i.call(l,b)&&b!="constructor"&&g.push(b);return g}function zs(l,g){return l<g}function Wi(l,g){var b=-1,E=Nr(l)?Jt(l.length):[];return fc(l,function(O,R,W){E[++b]=g(O,R,W)}),E}function Si(l){var g=mr(l);return g.length==1&&g[0][2]?Ws(g[0][0],g[0][1]):function(b){return b===l||Cu(b,l,g)}}function _u(l,g){return Al(l)&&go(g)?Ws(Au(l),g):function(b){var E=eu(b,l);return E===e&&E===g?rh(b,l):qu(g,E,3)}}function Qs(l,g,b,E,O){l!==g&&bn(g,function(R,W){if(O||(O=new En),Qn(R))(function(_,T,U,G,Z,K,tt){var ut=gi(_,U),ot=gi(T,U),wt=tt.get(ot);if(wt)ga(_,U,wt);else{var yt=K?K(ut,ot,U+"",_,T,tt):e,jt=yt===e;if(jt){var xt=$e(ot),It=!xt&&lu(ot),ae=!xt&&!It&&Ae(ot);yt=ot,xt||It||ae?$e(ut)?yt=ut:$o(ut)?yt=ji(ut):It?(jt=!1,yt=_l(ot,!0)):ae?(jt=!1,yt=al(ot,!0)):yt=[]:Qu(ot)||_c(ot)?(yt=ut,_c(ut)?yt=Oh(ut):Qn(ut)&&!Gn(ut)||(yt=ur(ot))):jt=!1}jt&&(tt.set(ot,yt),Z(yt,ot,G,K,tt),tt.delete(ot)),ga(_,U,yt)}})(l,g,W,b,Qs,E,O);else{var A=E?E(gi(l,W),R,W+"",l,g,O):e;A===e&&(A=R),ga(l,W,A)}},Fs)}function Zi(l,g){var b=l.length;if(b)return Dr(g+=g<0?b:0,b)?l[g]:e}function Dl(l,g,b){g=g.length?Jr(g,function(R){return $e(R)?function(W){return tn(W,R.length===1?R[0]:R)}:R}):[ca];var E=-1;g=Jr(g,fi(er()));var O=Wi(l,function(R,W,A){var _=Jr(g,function(T){return T(R)});return{criteria:_,index:++E,value:R}});return function(R,W){var A=R.length;for(R.sort(W);A--;)R[A]=R[A].value;return R}(O,function(R,W){return function(A,_,T){for(var U=-1,G=A.criteria,Z=_.criteria,K=G.length,tt=T.length;++U<K;){var ut=Sl(G[U],Z[U]);if(ut)return U>=tt?ut:ut*(T[U]=="desc"?-1:1)}return A.index-_.index}(R,W,b)})}function zl(l,g,b){for(var E=-1,O=g.length,R={};++E<O;){var W=g[E],A=tn(l,W);b(A,W)&&hs(R,Ur(W,l),A)}return R}function fs(l,g,b,E){var O=E?xu:Bs,R=-1,W=g.length,A=l;for(l===g&&(g=ji(g)),b&&(A=Jr(l,fi(b)));++R<W;)for(var _=0,T=g[R],U=b?b(T):T;(_=O(A,U,_,E))>-1;)A!==l&&io.call(A,_,1),io.call(l,_,1);return l}function Us(l,g){for(var b=l?g.length:0,E=b-1;b--;){var O=g[b];if(b==E||O!==R){var R=O;Dr(O)?io.call(l,O,1):Va(l,O)}}return l}function ue(l,g){return l+xc(il()*(g-l+1))}function Es(l,g){var b="";if(!l||g<1||g>d)return b;do g%2&&(b+=l),(g=xc(g/2))&&(l+=l);while(g);return b}function mi(l,g){return sl(ao(l,g,ca),l+"")}function os(l){return Kl(ti(l))}function Yl(l,g){var b=ti(l);return Nn(b,Vu(g,0,b.length))}function hs(l,g,b,E){if(!Qn(l))return l;for(var O=-1,R=(g=Ur(g,l)).length,W=R-1,A=l;A!=null&&++O<R;){var _=Au(g[O]),T=b;if(_==="__proto__"||_==="constructor"||_==="prototype")return l;if(O!=W){var U=A[_];(T=E?E(U,_,A):e)===e&&(T=Qn(U)?U:Dr(g[O+1])?[]:{})}_s(A,_,T),A=A[_]}return l}var ol=gf?function(l,g){return gf.set(l,g),l}:ca,Un=Xf?function(l,g){return Xf(l,"toString",{configurable:!0,enumerable:!1,value:fl(g),writable:!0})}:ca;function Xc(l){return Nn(ti(l))}function Fn(l,g,b){var E=-1,O=l.length;g<0&&(g=-g>O?0:O+g),(b=b>O?O:b)<0&&(b+=O),O=g>b?0:b-g>>>0,g>>>=0;for(var R=Jt(O);++E<O;)R[E]=l[E+g];return R}function to(l,g){var b;return fc(l,function(E,O,R){return!(b=g(E,O,R))}),!!b}function Or(l,g,b){var E=0,O=l==null?E:l.length;if(typeof g=="number"&&g==g&&O<=2147483647){for(;E<O;){var R=E+O>>>1,W=l[R];W!==null&&!Wo(W)&&(b?W<=g:W<g)?E=R+1:O=R}return O}return Qr(l,g,ca,b)}function Qr(l,g,b,E){var O=0,R=l==null?0:l.length;if(R===0)return 0;for(var W=(g=b(g))!=g,A=g===null,_=Wo(g),T=g===e;O<R;){var U=xc((O+R)/2),G=b(l[U]),Z=G!==e,K=G===null,tt=G==G,ut=Wo(G);if(W)var ot=E||tt;else ot=T?tt&&(E||Z):A?tt&&Z&&(E||!K):_?tt&&Z&&!K&&(E||!ut):!K&&!ut&&(E?G<=g:G<g);ot?O=U+1:R=U}return Du(R,4294967294)}function fn(l,g){for(var b=-1,E=l.length,O=0,R=[];++b<E;){var W=l[b],A=g?g(W):W;if(!b||!gc(A,_)){var _=A;R[O++]=W===0?0:W}}return R}function Yn(l){return typeof l=="number"?l:Wo(l)?h:+l}function oi(l){if(typeof l=="string")return l;if($e(l))return Jr(l,oi)+"";if(Wo(l))return Go?Go.call(l):"";var g=l+"";return g=="0"&&1/l==-1/0?"-0":g}function na(l,g,b){var E=-1,O=Be,R=l.length,W=!0,A=[],_=A;if(b)W=!1,O=Er;else if(R>=200){var T=g?null:gr(l);if(T)return xr(T);W=!1,O=Xs,_=new Wu}else _=g?[]:A;t:for(;++E<R;){var U=l[E],G=g?g(U):U;if(U=b||U!==0?U:0,W&&G==G){for(var Z=_.length;Z--;)if(_[Z]===G)continue t;g&&_.push(G),A.push(U)}else O(_,G,b)||(_!==A&&_.push(G),A.push(U))}return A}function Va(l,g){return(l=kl(l,g=Ur(g,l)))==null||delete l[Au(tu(g))]}function qa(l,g,b,E){return hs(l,g,b(tn(l,g)),E)}function Ri(l,g,b,E){for(var O=l.length,R=E?O:-1;(E?R--:++R<O)&&g(l[R],R,l););return b?Fn(l,E?0:R,E?R+1:O):Fn(l,E?R+1:0,E?O:R)}function Yo(l,g){var b=l;return b instanceof vn&&(b=b.value()),Is(g,function(E,O){return O.func.apply(O.thisArg,ef([E],O.args))},b)}function wr(l,g,b){var E=l.length;if(E<2)return E?na(l[0]):[];for(var O=-1,R=Jt(E);++O<E;)for(var W=l[O],A=-1;++A<E;)A!=O&&(R[O]=Ss(R[O]||W,l[A],g,b));return na(Ha(R,1),g,b)}function di(l,g,b){for(var E=-1,O=l.length,R=g.length,W={};++E<O;){var A=E<R?g[E]:e;b(W,l[E],A)}return W}function ai(l){return $o(l)?l:[]}function Xl(l){return typeof l=="function"?l:ca}function Ur(l,g){return $e(l)?l:Al(l,g)?[l]:so(mo(l))}var Jl=mi;function Cl(l,g,b){var E=l.length;return b=b===e?E:b,!g&&b>=E?l:Fn(l,g,b)}var Su=Of||function(l){return kr.clearTimeout(l)};function _l(l,g){if(g)return l.slice();var b=l.length,E=Yf?Yf(b):new l.constructor(b);return l.copy(E),E}function ps(l){var g=new l.constructor(l.byteLength);return new ea(g).set(new ea(l)),g}function al(l,g){var b=g?ps(l.buffer):l.buffer;return new l.constructor(b,l.byteOffset,l.length)}function Sl(l,g){if(l!==g){var b=l!==e,E=l===null,O=l==l,R=Wo(l),W=g!==e,A=g===null,_=g==g,T=Wo(g);if(!A&&!T&&!R&&l>g||R&&W&&_&&!A&&!T||E&&W&&_||!b&&_||!O)return 1;if(!E&&!R&&!T&&l<g||T&&b&&O&&!E&&!R||A&&b&&O||!W&&O||!_)return-1}return 0}function An(l,g,b,E){for(var O=-1,R=l.length,W=b.length,A=-1,_=g.length,T=pa(R-W,0),U=Jt(_+T),G=!E;++A<_;)U[A]=g[A];for(;++O<W;)(G||O<R)&&(U[b[O]]=l[O]);for(;T--;)U[A++]=l[O++];return U}function $n(l,g,b,E){for(var O=-1,R=l.length,W=-1,A=b.length,_=-1,T=g.length,U=pa(R-A,0),G=Jt(U+T),Z=!E;++O<U;)G[O]=l[O];for(var K=O;++_<T;)G[K+_]=g[_];for(;++W<A;)(Z||O<R)&&(G[K+b[W]]=l[O++]);return G}function ji(l,g){var b=-1,E=l.length;for(g||(g=Jt(E));++b<E;)g[b]=l[b];return g}function Mi(l,g,b,E){var O=!b;b||(b={});for(var R=-1,W=g.length;++R<W;){var A=g[R],_=E?E(b[A],l[A],A,b,l):e;_===e&&(_=l[A]),O?Qi(b,A,_):_s(b,A,_)}return b}function Aa(l,g){return function(b,E){var O=$e(b)?tf:Rr,R=g?g():{};return O(b,l,er(E,2),R)}}function Zs(l){return mi(function(g,b){var E=-1,O=b.length,R=O>1?b[O-1]:e,W=O>2?b[2]:e;for(R=l.length>3&&typeof R=="function"?(O--,R):e,W&&Kn(b[0],b[1],W)&&(R=O<3?e:R,O=1),g=ke(g);++E<O;){var A=b[E];A&&l(g,A,E,R)}return g})}function Eu(l,g){return function(b,E){if(b==null)return b;if(!Nr(b))return l(b,E);for(var O=b.length,R=g?O:-1,W=ke(b);(g?R--:++R<O)&&E(W[R],R,W)!==!1;);return b}}function Lo(l){return function(g,b,E){for(var O=-1,R=ke(g),W=E(g),A=W.length;A--;){var _=W[l?A:++O];if(b(R[_],_,R)===!1)break}return g}}function zo(l){return function(g){var b=zu(g=mo(g))?lc(g):e,E=b?b[0]:g.charAt(0),O=b?Cl(b,1).join(""):g.slice(1);return E[l]()+O}}function va(l){return function(g){return Is(Ja(Xa(g).replace(Vn,"")),l,"")}}function Uo(l){return function(){var g=arguments;switch(g.length){case 0:return new l;case 1:return new l(g[0]);case 2:return new l(g[0],g[1]);case 3:return new l(g[0],g[1],g[2]);case 4:return new l(g[0],g[1],g[2],g[3]);case 5:return new l(g[0],g[1],g[2],g[3],g[4]);case 6:return new l(g[0],g[1],g[2],g[3],g[4],g[5]);case 7:return new l(g[0],g[1],g[2],g[3],g[4],g[5],g[6])}var b=or(l.prototype),E=l.apply(b,g);return Qn(E)?E:b}}function To(l){return function(g,b,E){var O=ke(g);if(!Nr(g)){var R=er(b,3);g=Mu(g),b=function(A){return R(O[A],A,O)}}var W=l(g,b,E);return W>-1?O[R?g[W]:W]:e}}function oo(l){return po(function(g){var b=g.length,E=b,O=Hr.prototype.thru;for(l&&g.reverse();E--;){var R=g[E];if(typeof R!="function")throw new Ci(r);if(O&&!W&&Yt(R)=="wrapper")var W=new Hr([],!0)}for(E=W?E:b;++E<b;){var A=Yt(R=g[E]),_=A=="wrapper"?vi(R):e;W=_&&Zr(_[0])&&_[1]==424&&!_[4].length&&_[9]==1?W[Yt(_[0])].apply(W,_[3]):R.length==1&&Zr(R)?W[A]():W.thru(R)}return function(){var T=arguments,U=T[0];if(W&&T.length==1&&$e(U))return W.plant(U).value();for(var G=0,Z=b?g[G].apply(this,T):U;++G<b;)Z=g[G].call(this,Z);return Z}})}function eo(l,g,b,E,O,R,W,A,_,T){var U=g&c,G=1&g,Z=2&g,K=24&g,tt=512&g,ut=Z?e:Uo(l);return function ot(){for(var wt=arguments.length,yt=Jt(wt),jt=wt;jt--;)yt[jt]=arguments[jt];if(K)var xt=Jo(ot),It=function(oe,xe){for(var Ve=oe.length,an=0;Ve--;)oe[Ve]===xe&&++an;return an}(yt,xt);if(E&&(yt=An(yt,E,O,K)),R&&(yt=$n(yt,R,W,K)),wt-=It,K&&wt<T){var ae=Wr(yt,xt);return of(l,g,eo,ot.placeholder,b,yt,ae,A,_,T-wt)}var Ht=G?b:this,ye=Z?Ht[l]:l;return wt=yt.length,A?yt=function(oe,xe){for(var Ve=oe.length,an=Du(xe.length,Ve),On=ji(oe);an--;){var Dn=xe[an];oe[an]=Dr(Dn,Ve)?On[Dn]:e}return oe}(yt,A):tt&&wt>1&&yt.reverse(),U&&_<wt&&(yt.length=_),this&&this!==kr&&this instanceof ot&&(ye=ut||Uo(ye)),ye.apply(Ht,yt)}}function Oo(l,g){return function(b,E){return function(O,R,W,A){return ma(O,function(_,T,U){R(A,W(_),T,U)}),A}(b,l,g(E),{})}}function Xo(l,g){return function(b,E){var O;if(b===e&&E===e)return g;if(b!==e&&(O=b),E!==e){if(O===e)return E;typeof b=="string"||typeof E=="string"?(b=oi(b),E=oi(E)):(b=Yn(b),E=Yn(E)),O=l(b,E)}return O}}function Ku(l){return po(function(g){return g=Jr(g,fi(er())),mi(function(b){var E=this;return l(g,function(O){return Bn(O,E,b)})})})}function Ka(l,g){var b=(g=g===e?" ":oi(g)).length;if(b<2)return b?Es(g,l):g;var E=Es(g,ou(l/La(g)));return zu(g)?Cl(lc(E),0,l).join(""):E.slice(0,l)}function ds(l){return function(g,b,E){return E&&typeof E!="number"&&Kn(g,b,E)&&(b=E=e),g=vs(g),b===e?(b=g,g=0):b=vs(b),function(O,R,W,A){for(var _=-1,T=pa(ou((R-O)/(W||1)),0),U=Jt(T);T--;)U[A?T:++_]=O,O+=W;return U}(g,b,E=E===e?g<b?1:-1:vs(E),l)}}function ra(l){return function(g,b){return typeof g=="string"&&typeof b=="string"||(g=we(g),b=we(b)),l(g,b)}}function of(l,g,b,E,O,R,W,A,_,T){var U=8&g;g|=U?s:64,4&(g&=~(U?64:s))||(g&=-4);var G=[l,g,O,U?R:e,U?W:e,U?e:R,U?e:W,A,_,T],Z=b.apply(e,G);return Zr(l)&&no(Z,G),Z.placeholder=E,Hs(Z,l,g)}function Ul(l){var g=Ne[l];return function(b,E){if(b=we(b),(E=E==null?0:Du(Qe(E),292))&&Lh(b)){var O=(mo(b)+"e").split("e");return+((O=(mo(g(O[0]+"e"+(+O[1]+E)))+"e").split("e"))[0]+"e"+(+O[1]-E))}return g(b)}}var gr=aa&&1/xr(new aa([,-0]))[1]==f?function(l){return new aa(l)}:cf;function $s(l){return function(g){var b=Qo(g);return b==z?Di(g):b==it?function(E){var O=-1,R=Array(E.size);return E.forEach(function(W){R[++O]=[W,W]}),R}(g):function(E,O){return Jr(O,function(R){return[R,E[R]]})}(g,l(g))}}function Ga(l,g,b,E,O,R,W,A){var _=2&g;if(!_&&typeof l!="function")throw new Ci(r);var T=E?E.length:0;if(T||(g&=-97,E=O=e),W=W===e?W:pa(Qe(W),0),A=A===e?A:Qe(A),T-=O?O.length:0,64&g){var U=E,G=O;E=O=e}var Z=_?e:vi(l),K=[l,g,b,E,O,U,G,R,W,A];if(Z&&function(ut,ot){var wt=ut[1],yt=ot[1],jt=wt|yt,xt=jt<131,It=yt==c&&wt==8||yt==c&&wt==256&&ut[7].length<=ot[8]||yt==384&&ot[7].length<=ot[8]&&wt==8;if(!xt&&!It)return ut;1&yt&&(ut[2]=ot[2],jt|=1&wt?0:4);var ae=ot[3];if(ae){var Ht=ut[3];ut[3]=Ht?An(Ht,ae,ot[4]):ae,ut[4]=Ht?Wr(ut[3],a):ot[4]}(ae=ot[5])&&(Ht=ut[5],ut[5]=Ht?$n(Ht,ae,ot[6]):ae,ut[6]=Ht?Wr(ut[5],a):ot[6]),(ae=ot[7])&&(ut[7]=ae),yt&c&&(ut[8]=ut[8]==null?ot[8]:Du(ut[8],ot[8])),ut[9]==null&&(ut[9]=ot[9]),ut[0]=ot[0],ut[1]=jt}(K,Z),l=K[0],g=K[1],b=K[2],E=K[3],O=K[4],!(A=K[9]=K[9]===e?_?0:l.length:pa(K[9]-T,0))&&24&g&&(g&=-25),g&&g!=1)tt=g==8||g==16?function(ut,ot,wt){var yt=Uo(ut);return function jt(){for(var xt=arguments.length,It=Jt(xt),ae=xt,Ht=Jo(jt);ae--;)It[ae]=arguments[ae];var ye=xt<3&&It[0]!==Ht&&It[xt-1]!==Ht?[]:Wr(It,Ht);return(xt-=ye.length)<wt?of(ut,ot,eo,jt.placeholder,e,It,ye,e,e,wt-xt):Bn(this&&this!==kr&&this instanceof jt?yt:ut,this,It)}}(l,g,A):g!=s&&g!=33||O.length?eo.apply(e,K):function(ut,ot,wt,yt){var jt=1&ot,xt=Uo(ut);return function It(){for(var ae=-1,Ht=arguments.length,ye=-1,oe=yt.length,xe=Jt(oe+Ht),Ve=this&&this!==kr&&this instanceof It?xt:ut;++ye<oe;)xe[ye]=yt[ye];for(;Ht--;)xe[ye++]=arguments[++ae];return Bn(Ve,jt?wt:this,xe)}}(l,g,b,E);else var tt=function(ut,ot,wt){var yt=1&ot,jt=Uo(ut);return function xt(){return(this&&this!==kr&&this instanceof xt?jt:ut).apply(yt?wt:this,arguments)}}(l,g,b);return Hs((Z?ol:no)(tt,K),l,g)}function Nf(l,g,b,E){return l===e||gc(l,pi[b])&&!_i.call(E,b)?g:l}function El(l,g,b,E,O,R){return Qn(l)&&Qn(g)&&(R.set(g,l),Qs(l,g,e,El,R),R.delete(g)),l}function Ei(l){return Qu(l)?e:l}function Ya(l,g,b,E,O,R){var W=1&b,A=l.length,_=g.length;if(A!=_&&!(W&&_>A))return!1;var T=R.get(l),U=R.get(g);if(T&&U)return T==g&&U==l;var G=-1,Z=!0,K=2&b?new Wu:e;for(R.set(l,g),R.set(g,l);++G<A;){var tt=l[G],ut=g[G];if(E)var ot=W?E(ut,tt,G,g,l,R):E(tt,ut,G,l,g,R);if(ot!==e){if(ot)continue;Z=!1;break}if(K){if(!ql(g,function(wt,yt){if(!Xs(K,yt)&&(tt===wt||O(tt,wt,b,E,R)))return K.push(yt)})){Z=!1;break}}else if(tt!==ut&&!O(tt,ut,b,E,R)){Z=!1;break}}return R.delete(l),R.delete(g),Z}function po(l){return sl(ao(l,e,Ml),l+"")}function gs(l){return Ho(l,Mu,cn)}function So(l){return Ho(l,Fs,$l)}var vi=gf?function(l){return gf.get(l)}:cf;function Yt(l){for(var g=l.name+"",b=bl[g],E=_i.call(bl,g)?b.length:0;E--;){var O=b[E],R=O.func;if(R==null||R==l)return O.name}return g}function Jo(l){return(_i.call(Pt,"placeholder")?Pt:l).placeholder}function er(){var l=Pt.iteratee||Jc;return l=l===Jc?dr:l,arguments.length?l(arguments[0],arguments[1]):l}function si(l,g){var b=l.__data__;return function(E){var O=typeof E;return O=="string"||O=="number"||O=="symbol"||O=="boolean"?E!=="__proto__":E===null}(g)?b[typeof g=="string"?"string":"hash"]:b.map}function mr(l){for(var g=Mu(l),b=g.length;b--;){var E=g[b],O=l[E];g[b]=[E,O,go(O)]}return g}function ua(l,g){var b=function(E,O){return E==null?e:E[O]}(l,g);return Ta(b)?b:e}var cn=Nc?function(l){return l==null?[]:(l=ke(l),xi(Nc(l),function(g){return jl.call(l,g)}))}:Ma,$l=Nc?function(l){for(var g=[];l;)ef(g,cn(l)),l=Oc(l);return g}:Ma,Qo=Ls;function sr(l,g,b){for(var E=-1,O=(g=Ur(g,l)).length,R=!1;++E<O;){var W=Au(g[E]);if(!(R=l!=null&&b(l,W)))break;l=l[W]}return R||++E!=O?R:!!(O=l==null?0:l.length)&&Le(O)&&Dr(W,O)&&($e(l)||_c(l))}function ur(l){return typeof l.constructor!="function"||dc(l)?{}:or(Oc(l))}function Ue(l){return $e(l)||_c(l)||!!(Bo&&l&&l[Bo])}function Dr(l,g){var b=typeof l;return!!(g=g??d)&&(b=="number"||b!="symbol"&&Ai.test(l))&&l>-1&&l%1==0&&l<g}function Kn(l,g,b){if(!Qn(b))return!1;var E=typeof g;return!!(E=="number"?Nr(b)&&Dr(g,b.length):E=="string"&&g in b)&&gc(b[g],l)}function Al(l,g){if($e(l))return!1;var b=typeof l;return!(b!="number"&&b!="symbol"&&b!="boolean"&&l!=null&&!Wo(l))||dt.test(l)||!rt.test(l)||g!=null&&l in ke(g)}function Zr(l){var g=Yt(l),b=Pt[g];if(typeof b!="function"||!(g in vn.prototype))return!1;if(l===b)return!0;var E=vi(b);return!!E&&l===E[0]}(oa&&Qo(new oa(new ArrayBuffer(1)))!=kt||ii&&Qo(new ii)!=z||Ko&&Qo(Ko.resolve())!=X||aa&&Qo(new aa)!=it||sa&&Qo(new sa)!=gt)&&(Qo=function(l){var g=Ls(l),b=g==V?l.constructor:e,E=b?Ql(b):"";if(E)switch(E){case cc:return kt;case rf:return z;case Jf:return X;case rs:return it;case is:return gt}return g});var Wl=Ce?Gn:jc;function dc(l){var g=l&&l.constructor;return l===(typeof g=="function"&&g.prototype||pi)}function go(l){return l==l&&!Qn(l)}function Ws(l,g){return function(b){return b!=null&&b[l]===g&&(g!==e||l in ke(b))}}function ao(l,g,b){return g=pa(g===e?l.length-1:g,0),function(){for(var E=arguments,O=-1,R=pa(E.length-g,0),W=Jt(R);++O<R;)W[O]=E[g+O];O=-1;for(var A=Jt(g+1);++O<g;)A[O]=E[O];return A[g]=b(W),Bn(l,this,A)}}function kl(l,g){return g.length<2?l:tn(l,Fn(g,0,-1))}function gi(l,g){if((g!=="constructor"||typeof l[g]!="function")&&g!="__proto__")return l[g]}var no=Ic(ol),As=$u||function(l,g){return kr.setTimeout(l,g)},sl=Ic(Un);function Hs(l,g,b){var E=g+"";return sl(l,function(O,R){var W=R.length;if(!W)return O;var A=W-1;return R[A]=(W>1?"& ":"")+R[A],R=R.join(W>2?", ":" "),O.replace(Kt,`{
/* [wrapped with `+R+`] */
`)}(E,function(O,R){return Cs(y,function(W){var A="_."+W[0];R&W[1]&&!Be(O,A)&&O.push(A)}),O.sort()}(function(O){var R=O.match(ge);return R?R[1].split(Ee):[]}(E),b)))}function Ic(l){var g=0,b=0;return function(){var E=df(),O=16-(E-b);if(b=E,O>0){if(++g>=800)return arguments[0]}else g=0;return l.apply(e,arguments)}}function Nn(l,g){var b=-1,E=l.length,O=E-1;for(g=g===e?E:g;++b<g;){var R=ue(b,O),W=l[R];l[R]=l[b],l[b]=W}return l.length=g,l}var so=function(l){var g=nh(l,function(E){return b.size===500&&b.clear(),E}),b=g.cache;return g}(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(bt,function(b,E,O,R){g.push(O?R.replace(Se,"$1"):E||b)}),g});function Au(l){if(typeof l=="string"||Wo(l))return l;var g=l+"";return g=="0"&&1/l==-1/0?"-0":g}function Ql(l){if(l!=null){try{return kh.call(l)}catch{}try{return l+""}catch{}}return""}function mf(l){if(l instanceof vn)return l.clone();var g=new Hr(l.__wrapped__,l.__chain__);return g.__actions__=ji(l.__actions__),g.__index__=l.__index__,g.__values__=l.__values__,g}var ch=mi(function(l,g){return $o(l)?Ss(l,Ha(g,1,$o,!0)):[]}),Zl=mi(function(l,g){var b=tu(g);return $o(b)&&(b=e),$o(l)?Ss(l,Ha(g,1,$o,!0),er(b,2)):[]}),uo=mi(function(l,g){var b=tu(g);return $o(b)&&(b=e),$o(l)?Ss(l,Ha(g,1,$o,!0),e,b):[]});function Oa(l,g,b){var E=l==null?0:l.length;if(!E)return-1;var O=b==null?0:Qe(b);return O<0&&(O=pa(E+O,0)),bc(l,er(g,3),O)}function lo(l,g,b){var E=l==null?0:l.length;if(!E)return-1;var O=E-1;return b!==e&&(O=Qe(b),O=b<0?pa(E+O,0):Du(O,E-1)),bc(l,er(g,3),O,!0)}function Ml(l){return l!=null&&l.length?Ha(l,1):[]}function vf(l){return l&&l.length?l[0]:e}var yf=mi(function(l){var g=Jr(l,ai);return g.length&&g[0]===l[0]?Js(g):[]}),Ar=mi(function(l){var g=tu(l),b=Jr(l,ai);return g===tu(b)?g=e:b.pop(),b.length&&b[0]===l[0]?Js(b,er(g,2)):[]}),ul=mi(function(l){var g=tu(l),b=Jr(l,ai);return(g=typeof g=="function"?g:e)&&b.pop(),b.length&&b[0]===l[0]?Js(b,e,g):[]});function tu(l){var g=l==null?0:l.length;return g?l[g-1]:e}var fh=mi(Gu);function Gu(l,g){return l&&l.length&&g&&g.length?fs(l,g):l}var Dc=po(function(l,g){var b=l==null?0:l.length,E=yr(l,g);return Us(l,Jr(g,function(O){return Dr(O,b)?+O:O}).sort(Sl)),E});function Hl(l){return l==null?l:_a.call(l)}var Qf=mi(function(l){return na(Ha(l,1,$o,!0))}),Cc=mi(function(l){var g=tu(l);return $o(g)&&(g=e),na(Ha(l,1,$o,!0),er(g,2))}),su=mi(function(l){var g=tu(l);return g=typeof g=="function"?g:e,na(Ha(l,1,$o,!0),e,g)});function Mh(l){if(!l||!l.length)return[];var g=0;return l=xi(l,function(b){if($o(b))return g=pa(b.length,g),!0}),Ln(g,function(b){return Jr(l,Pc(b))})}function Fh(l,g){if(!l||!l.length)return[];var b=Mh(l);return g==null?b:Jr(b,function(E){return Bn(g,e,E)})}var Ph=mi(function(l,g){return $o(l)?Ss(l,g):[]}),hh=mi(function(l){return wr(xi(l,$o))}),Th=mi(function(l){var g=tu(l);return $o(g)&&(g=e),wr(xi(l,$o),er(g,2))}),If=mi(function(l){var g=tu(l);return g=typeof g=="function"?g:e,wr(xi(l,$o),e,g)}),Zf=mi(Mh),Yu=mi(function(l){var g=l.length,b=g>1?l[g-1]:e;return b=typeof b=="function"?(l.pop(),b):e,Fh(l,b)});function th(l){var g=Pt(l);return g.__chain__=!0,g}function ms(l,g){return g(l)}var Bf=po(function(l){var g=l.length,b=g?l[0]:0,E=this.__wrapped__,O=function(R){return yr(R,l)};return!(g>1||this.__actions__.length)&&E instanceof vn&&Dr(b)?((E=E.slice(b,+b+(g?1:0))).__actions__.push({func:ms,args:[O],thisArg:e}),new Hr(E,this.__chain__).thru(function(R){return g&&!R.length&&R.push(e),R})):this.thru(O)}),af=Aa(function(l,g,b){_i.call(l,b)?++l[b]:Qi(l,b,1)}),wf=To(Oa),sf=To(lo);function Dh(l,g){return($e(l)?Cs:fc)(l,er(g,3))}function Rf(l,g){return($e(l)?Br:Wa)(l,er(g,3))}var tc=Aa(function(l,g,b){_i.call(l,b)?l[b].push(g):Qi(l,b,[g])}),uu=mi(function(l,g,b){var E=-1,O=typeof g=="function",R=Nr(l)?Jt(l.length):[];return fc(l,function(W){R[++E]=O?Bn(g,W,b):_o(W,g,b)}),R}),eh=Aa(function(l,g,b){Qi(l,b,g)});function Ch(l,g){return($e(l)?Jr:Wi)(l,er(g,3))}var Xu=Aa(function(l,g,b){l[b?0:1].push(g)},function(){return[[],[]]}),uf=mi(function(l,g){if(l==null)return[];var b=g.length;return b>1&&Kn(l,g[0],g[1])?g=[]:b>2&&Kn(g[0],g[1],g[2])&&(g=[g[0]]),Dl(l,Ha(g,1),[])}),Bc=Ua||function(){return kr.Date.now()};function ec(l,g,b){return g=b?e:g,g=l&&g==null?l.length:g,Ga(l,c,e,e,e,e,g)}function bf(l,g){var b;if(typeof g!="function")throw new Ci(r);return l=Qe(l),function(){return--l>0&&(b=g.apply(this,arguments)),l<=1&&(g=e),b}}var jf=mi(function(l,g,b){var E=1;if(b.length){var O=Wr(b,Jo(jf));E|=s}return Ga(l,E,g,b,O)}),ia=mi(function(l,g,b){var E=3;if(b.length){var O=Wr(b,Jo(ia));E|=s}return Ga(g,E,l,b,O)});function ka(l,g,b){var E,O,R,W,A,_,T=0,U=!1,G=!1,Z=!0;if(typeof l!="function")throw new Ci(r);function K(yt){var jt=E,xt=O;return E=O=e,T=yt,W=l.apply(xt,jt)}function tt(yt){var jt=yt-_;return _===e||jt>=g||jt<0||G&&yt-T>=R}function ut(){var yt=Bc();if(tt(yt))return ot(yt);A=As(ut,function(jt){var xt=g-(jt-_);return G?Du(xt,R-(jt-T)):xt}(yt))}function ot(yt){return A=e,Z&&E?K(yt):(E=O=e,W)}function wt(){var yt=Bc(),jt=tt(yt);if(E=arguments,O=this,_=yt,jt){if(A===e)return function(xt){return T=xt,A=As(ut,g),U?K(xt):W}(_);if(G)return Su(A),A=As(ut,g),K(_)}return A===e&&(A=As(ut,g)),W}return g=we(g)||0,Qn(b)&&(U=!!b.leading,R=(G="maxWait"in b)?pa(we(b.maxWait)||0,g):R,Z="trailing"in b?!!b.trailing:Z),wt.cancel=function(){A!==e&&Su(A),T=0,E=_=O=A=e},wt.flush=function(){return A===e?W:ot(Bc())},wt}var Ju=mi(function(l,g){return ki(l,1,g)}),ks=mi(function(l,g,b){return ki(l,we(g)||0,b)});function nh(l,g){if(typeof l!="function"||g!=null&&typeof g!="function")throw new Ci(r);var b=function(){var E=arguments,O=g?g.apply(this,E):E[0],R=b.cache;if(R.has(O))return R.get(O);var W=l.apply(this,E);return b.cache=R.set(O,W)||R,W};return b.cache=new(nh.Cache||zn),b}function Fl(l){if(typeof l!="function")throw new Ci(r);return function(){var g=arguments;switch(g.length){case 0:return!l.call(this);case 1:return!l.call(this,g[0]);case 2:return!l.call(this,g[0],g[1]);case 3:return!l.call(this,g[0],g[1],g[2])}return!l.apply(this,g)}}nh.Cache=zn;var lf=Jl(function(l,g){var b=(g=g.length==1&&$e(g[0])?Jr(g[0],fi(er())):Jr(Ha(g,1),fi(er()))).length;return mi(function(E){for(var O=-1,R=Du(E.length,b);++O<R;)E[O]=g[O].call(this,E[O]);return Bn(l,this,E)})}),ll=mi(function(l,g){var b=Wr(g,Jo(ll));return Ga(l,s,e,g,b)}),Mr=mi(function(l,g){var b=Wr(g,Jo(Mr));return Ga(l,64,e,g,b)}),Lf=po(function(l,g){return Ga(l,256,e,e,e,g)});function gc(l,g){return l===g||l!=l&&g!=g}var Eo=ra(xl),ie=ra(function(l,g){return l>=g}),_c=jo(function(){return arguments}())?jo:function(l){return lr(l)&&_i.call(l,"callee")&&!jl.call(l,"callee")},$e=Jt.isArray,Je=qn?fi(qn):function(l){return lr(l)&&Ls(l)==Ct};function Nr(l){return l!=null&&Le(l.length)&&!Gn(l)}function $o(l){return lr(l)&&Nr(l)}var lu=Wh||jc,yi=rl?fi(rl):function(l){return lr(l)&&Ls(l)==M};function cu(l){if(!lr(l))return!1;var g=Ls(l);return g==N||g=="[object DOMException]"||typeof l.message=="string"&&typeof l.name=="string"&&!Qu(l)}function Gn(l){if(!Qn(l))return!1;var g=Ls(l);return g==B||g==L||g=="[object AsyncFunction]"||g=="[object Proxy]"}function We(l){return typeof l=="number"&&l==Qe(l)}function Le(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=d}function Qn(l){var g=typeof l;return l!=null&&(g=="object"||g=="function")}function lr(l){return l!=null&&typeof l=="object"}var la=Zc?fi(Zc):function(l){return lr(l)&&Qo(l)==z};function Li(l){return typeof l=="number"||lr(l)&&Ls(l)==q}function Qu(l){if(!lr(l)||Ls(l)!=V)return!1;var g=Oc(l);if(g===null)return!0;var b=_i.call(g,"constructor")&&g.constructor;return typeof b=="function"&&b instanceof b&&kh.call(b)==lh}var ku=wc?fi(wc):function(l){return lr(l)&&Ls(l)==nt},jn=Mn?fi(Mn):function(l){return lr(l)&&Qo(l)==it};function xn(l){return typeof l=="string"||!$e(l)&&lr(l)&&Ls(l)==ct}function Wo(l){return typeof l=="symbol"||lr(l)&&Ls(l)==ft}var Ae=uh?fi(uh):function(l){return lr(l)&&Le(l.length)&&!!Xr[Ls(l)]},cl=ra(zs),ui=ra(function(l,g){return l<=g});function se(l){if(!l)return[];if(Nr(l))return xn(l)?lc(l):ji(l);if(za&&l[za])return function(b){for(var E,O=[];!(E=b.next()).done;)O.push(E.value);return O}(l[za]());var g=Qo(l);return(g==z?Di:g==it?xr:ti)(l)}function vs(l){return l?(l=we(l))===f||l===-1/0?17976931348623157e292*(l<0?-1:1):l==l?l:0:l===0?l:0}function Qe(l){var g=vs(l),b=g%1;return g==g?b?g-b:g:0}function ys(l){return l?Vu(Qe(l),0,m):0}function we(l){if(typeof l=="number")return l;if(Wo(l))return h;if(Qn(l)){var g=typeof l.valueOf=="function"?l.valueOf():l;l=Qn(g)?g+"":g}if(typeof l!="string")return l===0?l:+l;l=yl(l);var b=Yi.test(l);return b||xo.test(l)?Tf(l.slice(2),b?2:8):zi.test(l)?h:+l}function Oh(l){return Mi(l,Fs(l))}function mo(l){return l==null?"":oi(l)}var Vs=Zs(function(l,g){if(dc(g)||Nr(g))Mi(g,Mu(g),l);else for(var b in g)_i.call(g,b)&&_s(l,b,g[b])}),nc=Zs(function(l,g){Mi(g,Fs(g),l)}),Pn=Zs(function(l,g,b,E){Mi(g,Fs(g),l,E)}),Na=Zs(function(l,g,b,E){Mi(g,Mu(g),l,E)}),as=po(yr),rc=mi(function(l,g){l=ke(l);var b=-1,E=g.length,O=E>2?g[2]:e;for(O&&Kn(g[0],g[1],O)&&(E=1);++b<E;)for(var R=g[b],W=Fs(R),A=-1,_=W.length;++A<_;){var T=W[A],U=l[T];(U===e||gc(U,pi[T])&&!_i.call(l,T))&&(l[T]=R[T])}return l}),Fi=mi(function(l){return l.push(e,El),Bn(ph,e,l)});function eu(l,g,b){var E=l==null?e:tn(l,g);return E===e?b:E}function rh(l,g){return l!=null&&sr(l,g,Po)}var Ms=Oo(function(l,g,b){g!=null&&typeof g.toString!="function"&&(g=pf.call(g)),l[g]=b},fl(ca)),en=Oo(function(l,g,b){g!=null&&typeof g.toString!="function"&&(g=pf.call(g)),_i.call(l,g)?l[g].push(b):l[g]=[b]},er),Xn=mi(_o);function Mu(l){return Nr(l)?Bi(l):ar(l)}function Fs(l){return Nr(l)?Bi(l,!0):function(g){if(!Qn(g))return function(R){var W=[];if(R!=null)for(var A in ke(R))W.push(A);return W}(g);var b=dc(g),E=[];for(var O in g)(O!="constructor"||!b&&_i.call(g,O))&&E.push(O);return E}(l)}var Fu=Zs(function(l,g,b){Qs(l,g,b)}),ph=Zs(function(l,g,b,E){Qs(l,g,b,E)}),Wn=po(function(l,g){var b={};if(l==null)return b;var E=!1;g=Jr(g,function(R){return R=Ur(R,l),E||(E=R.length>1),R}),Mi(l,So(l),b),E&&(b=$a(b,7,Ei));for(var O=g.length;O--;)Va(b,g[O]);return b}),Pl=po(function(l,g){return l==null?{}:function(b,E){return zl(b,E,function(O,R){return rh(b,R)})}(l,g)});function Sc(l,g){if(l==null)return{};var b=Jr(So(l),function(E){return[E]});return g=er(g),zl(l,b,function(E,O){return g(E,O[0])})}var Zn=$s(Mu),Tn=$s(Fs);function ti(l){return l==null?[]:wl(l,Mu(l))}var li=va(function(l,g,b){return g=g.toLowerCase(),l+(b?No(g):g)});function No(l){return Ps(mo(l).toLowerCase())}function Xa(l){return(l=mo(l))&&l.replace(us,Lu).replace(hr,"")}var Ec=va(function(l,g,b){return l+(b?"-":"")+g.toLowerCase()}),co=va(function(l,g,b){return l+(b?" ":"")+g.toLowerCase()}),Rc=zo("toLowerCase"),Pu=va(function(l,g,b){return l+(b?"_":"")+g.toLowerCase()}),Zo=va(function(l,g,b){return l+(b?" ":"")+Ps(g)}),fu=va(function(l,g,b){return l+(b?" ":"")+g.toUpperCase()}),Ps=zo("toUpperCase");function Ja(l,g,b){return l=mo(l),(g=b?e:g)===e?function(E){return Do.test(E)}(l)?function(E){return E.match(es)||[]}(l):function(E){return E.match(Ze)||[]}(l):l.match(g)||[]}var Tl=mi(function(l,g){try{return Bn(l,e,g)}catch(b){return cu(b)?b:new mn(b)}}),hu=po(function(l,g){return Cs(g,function(b){b=Au(b),Qi(l,b,jf(l[b],l))}),l});function fl(l){return function(){return l}}var _n=oo(),ic=oo(!0);function ca(l){return l}function Jc(l){return dr(typeof l=="function"?l:$a(l,1))}var Qa=mi(function(l,g){return function(b){return _o(b,l,g)}}),hl=mi(function(l,g){return function(b){return _o(l,b,g)}});function Ac(l,g,b){var E=Mu(g),O=Ea(g,E);b!=null||Qn(g)&&(O.length||!E.length)||(b=g,g=l,l=this,O=Ea(g,Mu(g)));var R=!(Qn(b)&&"chain"in b&&!b.chain),W=Gn(l);return Cs(O,function(A){var _=g[A];l[A]=_,W&&(l.prototype[A]=function(){var T=this.__chain__;if(R||T){var U=l(this.__wrapped__);return(U.__actions__=ji(this.__actions__)).push({func:_,args:arguments,thisArg:l}),U.__chain__=T,U}return _.apply(l,ef([this.value()],arguments))})}),l}function cf(){}var xf=Ku(Jr),Io=Ku(br),fr=Ku(ql);function ta(l){return Al(l)?Pc(Au(l)):function(g){return function(b){return tn(b,g)}}(l)}var qr=ds(),Ir=ds(!0);function Ma(){return[]}function jc(){return!1}var ws,Zu=Xo(function(l,g){return l+g},0),ff=Ul("ceil"),zf=Xo(function(l,g){return l/g},1),oc=Ul("floor"),Qc=Xo(function(l,g){return l*g},1),o=Ul("round"),u=Xo(function(l,g){return l-g},0);return Pt.after=function(l,g){if(typeof g!="function")throw new Ci(r);return l=Qe(l),function(){if(--l<1)return g.apply(this,arguments)}},Pt.ary=ec,Pt.assign=Vs,Pt.assignIn=nc,Pt.assignInWith=Pn,Pt.assignWith=Na,Pt.at=as,Pt.before=bf,Pt.bind=jf,Pt.bindAll=hu,Pt.bindKey=ia,Pt.castArray=function(){if(!arguments.length)return[];var l=arguments[0];return $e(l)?l:[l]},Pt.chain=th,Pt.chunk=function(l,g,b){g=(b?Kn(l,g,b):g===e)?1:pa(Qe(g),0);var E=l==null?0:l.length;if(!E||g<1)return[];for(var O=0,R=0,W=Jt(ou(E/g));O<E;)W[R++]=Fn(l,O,O+=g);return W},Pt.compact=function(l){for(var g=-1,b=l==null?0:l.length,E=0,O=[];++g<b;){var R=l[g];R&&(O[E++]=R)}return O},Pt.concat=function(){var l=arguments.length;if(!l)return[];for(var g=Jt(l-1),b=arguments[0],E=l;E--;)g[E-1]=arguments[E];return ef($e(b)?ji(b):[b],Ha(g,1))},Pt.cond=function(l){var g=l==null?0:l.length,b=er();return l=g?Jr(l,function(E){if(typeof E[1]!="function")throw new Ci(r);return[b(E[0]),E[1]]}):[],mi(function(E){for(var O=-1;++O<g;){var R=l[O];if(Bn(R[0],this,E))return Bn(R[1],this,E)}})},Pt.conforms=function(l){return function(g){var b=Mu(g);return function(E){return Ro(E,g,b)}}($a(l,1))},Pt.constant=fl,Pt.countBy=af,Pt.create=function(l,g){var b=or(l);return g==null?b:Gl(b,g)},Pt.curry=function l(g,b,E){var O=Ga(g,8,e,e,e,e,e,b=E?e:b);return O.placeholder=l.placeholder,O},Pt.curryRight=function l(g,b,E){var O=Ga(g,16,e,e,e,e,e,b=E?e:b);return O.placeholder=l.placeholder,O},Pt.debounce=ka,Pt.defaults=rc,Pt.defaultsDeep=Fi,Pt.defer=Ju,Pt.delay=ks,Pt.difference=ch,Pt.differenceBy=Zl,Pt.differenceWith=uo,Pt.drop=function(l,g,b){var E=l==null?0:l.length;return E?Fn(l,(g=b||g===e?1:Qe(g))<0?0:g,E):[]},Pt.dropRight=function(l,g,b){var E=l==null?0:l.length;return E?Fn(l,0,(g=E-(g=b||g===e?1:Qe(g)))<0?0:g):[]},Pt.dropRightWhile=function(l,g){return l&&l.length?Ri(l,er(g,3),!0,!0):[]},Pt.dropWhile=function(l,g){return l&&l.length?Ri(l,er(g,3),!0):[]},Pt.fill=function(l,g,b,E){var O=l==null?0:l.length;return O?(b&&typeof b!="number"&&Kn(l,g,b)&&(b=0,E=O),function(R,W,A,_){var T=R.length;for((A=Qe(A))<0&&(A=-A>T?0:T+A),(_=_===e||_>T?T:Qe(_))<0&&(_+=T),_=A>_?0:ys(_);A<_;)R[A++]=W;return R}(l,g,b,E)):[]},Pt.filter=function(l,g){return($e(l)?xi:hc)(l,er(g,3))},Pt.flatMap=function(l,g){return Ha(Ch(l,g),1)},Pt.flatMapDeep=function(l,g){return Ha(Ch(l,g),f)},Pt.flatMapDepth=function(l,g,b){return b=b===e?1:Qe(b),Ha(Ch(l,g),b)},Pt.flatten=Ml,Pt.flattenDeep=function(l){return l!=null&&l.length?Ha(l,f):[]},Pt.flattenDepth=function(l,g){return l!=null&&l.length?Ha(l,g=g===e?1:Qe(g)):[]},Pt.flip=function(l){return Ga(l,512)},Pt.flow=_n,Pt.flowRight=ic,Pt.fromPairs=function(l){for(var g=-1,b=l==null?0:l.length,E={};++g<b;){var O=l[g];E[O[0]]=O[1]}return E},Pt.functions=function(l){return l==null?[]:Ea(l,Mu(l))},Pt.functionsIn=function(l){return l==null?[]:Ea(l,Fs(l))},Pt.groupBy=tc,Pt.initial=function(l){return l!=null&&l.length?Fn(l,0,-1):[]},Pt.intersection=yf,Pt.intersectionBy=Ar,Pt.intersectionWith=ul,Pt.invert=Ms,Pt.invertBy=en,Pt.invokeMap=uu,Pt.iteratee=Jc,Pt.keyBy=eh,Pt.keys=Mu,Pt.keysIn=Fs,Pt.map=Ch,Pt.mapKeys=function(l,g){var b={};return g=er(g,3),ma(l,function(E,O,R){Qi(b,g(E,O,R),E)}),b},Pt.mapValues=function(l,g){var b={};return g=er(g,3),ma(l,function(E,O,R){Qi(b,O,g(E,O,R))}),b},Pt.matches=function(l){return Si($a(l,1))},Pt.matchesProperty=function(l,g){return _u(l,$a(g,1))},Pt.memoize=nh,Pt.merge=Fu,Pt.mergeWith=ph,Pt.method=Qa,Pt.methodOf=hl,Pt.mixin=Ac,Pt.negate=Fl,Pt.nthArg=function(l){return l=Qe(l),mi(function(g){return Zi(g,l)})},Pt.omit=Wn,Pt.omitBy=function(l,g){return Sc(l,Fl(er(g)))},Pt.once=function(l){return bf(2,l)},Pt.orderBy=function(l,g,b,E){return l==null?[]:($e(g)||(g=g==null?[]:[g]),$e(b=E?e:b)||(b=b==null?[]:[b]),Dl(l,g,b))},Pt.over=xf,Pt.overArgs=lf,Pt.overEvery=Io,Pt.overSome=fr,Pt.partial=ll,Pt.partialRight=Mr,Pt.partition=Xu,Pt.pick=Pl,Pt.pickBy=Sc,Pt.property=ta,Pt.propertyOf=function(l){return function(g){return l==null?e:tn(l,g)}},Pt.pull=fh,Pt.pullAll=Gu,Pt.pullAllBy=function(l,g,b){return l&&l.length&&g&&g.length?fs(l,g,er(b,2)):l},Pt.pullAllWith=function(l,g,b){return l&&l.length&&g&&g.length?fs(l,g,e,b):l},Pt.pullAt=Dc,Pt.range=qr,Pt.rangeRight=Ir,Pt.rearg=Lf,Pt.reject=function(l,g){return($e(l)?xi:hc)(l,Fl(er(g,3)))},Pt.remove=function(l,g){var b=[];if(!l||!l.length)return b;var E=-1,O=[],R=l.length;for(g=er(g,3);++E<R;){var W=l[E];g(W,E,l)&&(b.push(W),O.push(E))}return Us(l,O),b},Pt.rest=function(l,g){if(typeof l!="function")throw new Ci(r);return mi(l,g=g===e?g:Qe(g))},Pt.reverse=Hl,Pt.sampleSize=function(l,g,b){return g=(b?Kn(l,g,b):g===e)?1:Qe(g),($e(l)?da:Yl)(l,g)},Pt.set=function(l,g,b){return l==null?l:hs(l,g,b)},Pt.setWith=function(l,g,b,E){return E=typeof E=="function"?E:e,l==null?l:hs(l,g,b,E)},Pt.shuffle=function(l){return($e(l)?Fo:Xc)(l)},Pt.slice=function(l,g,b){var E=l==null?0:l.length;return E?(b&&typeof b!="number"&&Kn(l,g,b)?(g=0,b=E):(g=g==null?0:Qe(g),b=b===e?E:Qe(b)),Fn(l,g,b)):[]},Pt.sortBy=uf,Pt.sortedUniq=function(l){return l&&l.length?fn(l):[]},Pt.sortedUniqBy=function(l,g){return l&&l.length?fn(l,er(g,2)):[]},Pt.split=function(l,g,b){return b&&typeof b!="number"&&Kn(l,g,b)&&(g=b=e),(b=b===e?m:b>>>0)?(l=mo(l))&&(typeof g=="string"||g!=null&&!ku(g))&&!(g=oi(g))&&zu(l)?Cl(lc(l),0,b):l.split(g,b):[]},Pt.spread=function(l,g){if(typeof l!="function")throw new Ci(r);return g=g==null?0:pa(Qe(g),0),mi(function(b){var E=b[g],O=Cl(b,0,g);return E&&ef(O,E),Bn(l,this,O)})},Pt.tail=function(l){var g=l==null?0:l.length;return g?Fn(l,1,g):[]},Pt.take=function(l,g,b){return l&&l.length?Fn(l,0,(g=b||g===e?1:Qe(g))<0?0:g):[]},Pt.takeRight=function(l,g,b){var E=l==null?0:l.length;return E?Fn(l,(g=E-(g=b||g===e?1:Qe(g)))<0?0:g,E):[]},Pt.takeRightWhile=function(l,g){return l&&l.length?Ri(l,er(g,3),!1,!0):[]},Pt.takeWhile=function(l,g){return l&&l.length?Ri(l,er(g,3)):[]},Pt.tap=function(l,g){return g(l),l},Pt.throttle=function(l,g,b){var E=!0,O=!0;if(typeof l!="function")throw new Ci(r);return Qn(b)&&(E="leading"in b?!!b.leading:E,O="trailing"in b?!!b.trailing:O),ka(l,g,{leading:E,maxWait:g,trailing:O})},Pt.thru=ms,Pt.toArray=se,Pt.toPairs=Zn,Pt.toPairsIn=Tn,Pt.toPath=function(l){return $e(l)?Jr(l,Au):Wo(l)?[l]:ji(so(mo(l)))},Pt.toPlainObject=Oh,Pt.transform=function(l,g,b){var E=$e(l),O=E||lu(l)||Ae(l);if(g=er(g,4),b==null){var R=l&&l.constructor;b=O?E?new R:[]:Qn(l)&&Gn(R)?or(Oc(l)):{}}return(O?Cs:ma)(l,function(W,A,_){return g(b,W,A,_)}),b},Pt.unary=function(l){return ec(l,1)},Pt.union=Qf,Pt.unionBy=Cc,Pt.unionWith=su,Pt.uniq=function(l){return l&&l.length?na(l):[]},Pt.uniqBy=function(l,g){return l&&l.length?na(l,er(g,2)):[]},Pt.uniqWith=function(l,g){return g=typeof g=="function"?g:e,l&&l.length?na(l,e,g):[]},Pt.unset=function(l,g){return l==null||Va(l,g)},Pt.unzip=Mh,Pt.unzipWith=Fh,Pt.update=function(l,g,b){return l==null?l:qa(l,g,Xl(b))},Pt.updateWith=function(l,g,b,E){return E=typeof E=="function"?E:e,l==null?l:qa(l,g,Xl(b),E)},Pt.values=ti,Pt.valuesIn=function(l){return l==null?[]:wl(l,Fs(l))},Pt.without=Ph,Pt.words=Ja,Pt.wrap=function(l,g){return ll(Xl(g),l)},Pt.xor=hh,Pt.xorBy=Th,Pt.xorWith=If,Pt.zip=Zf,Pt.zipObject=function(l,g){return di(l||[],g||[],_s)},Pt.zipObjectDeep=function(l,g){return di(l||[],g||[],hs)},Pt.zipWith=Yu,Pt.entries=Zn,Pt.entriesIn=Tn,Pt.extend=nc,Pt.extendWith=Pn,Ac(Pt,Pt),Pt.add=Zu,Pt.attempt=Tl,Pt.camelCase=li,Pt.capitalize=No,Pt.ceil=ff,Pt.clamp=function(l,g,b){return b===e&&(b=g,g=e),b!==e&&(b=(b=we(b))==b?b:0),g!==e&&(g=(g=we(g))==g?g:0),Vu(we(l),g,b)},Pt.clone=function(l){return $a(l,4)},Pt.cloneDeep=function(l){return $a(l,5)},Pt.cloneDeepWith=function(l,g){return $a(l,5,g=typeof g=="function"?g:e)},Pt.cloneWith=function(l,g){return $a(l,4,g=typeof g=="function"?g:e)},Pt.conformsTo=function(l,g){return g==null||Ro(l,g,Mu(g))},Pt.deburr=Xa,Pt.defaultTo=function(l,g){return l==null||l!=l?g:l},Pt.divide=zf,Pt.endsWith=function(l,g,b){l=mo(l),g=oi(g);var E=l.length,O=b=b===e?E:Vu(Qe(b),0,E);return(b-=g.length)>=0&&l.slice(b,O)==g},Pt.eq=gc,Pt.escape=function(l){return(l=mo(l))&&nn.test(l)?l.replace(He,ha):l},Pt.escapeRegExp=function(l){return(l=mo(l))&&Bt.test(l)?l.replace(Ot,"\\$&"):l},Pt.every=function(l,g,b){var E=$e(l)?br:au;return b&&Kn(l,g,b)&&(g=e),E(l,er(g,3))},Pt.find=wf,Pt.findIndex=Oa,Pt.findKey=function(l,g){return Ii(l,er(g,3),ma)},Pt.findLast=sf,Pt.findLastIndex=lo,Pt.findLastKey=function(l,g){return Ii(l,er(g,3),Vr)},Pt.floor=oc,Pt.forEach=Dh,Pt.forEachRight=Rf,Pt.forIn=function(l,g){return l==null?l:bn(l,er(g,3),Fs)},Pt.forInRight=function(l,g){return l==null?l:Sa(l,er(g,3),Fs)},Pt.forOwn=function(l,g){return l&&ma(l,er(g,3))},Pt.forOwnRight=function(l,g){return l&&Vr(l,er(g,3))},Pt.get=eu,Pt.gt=Eo,Pt.gte=ie,Pt.has=function(l,g){return l!=null&&sr(l,g,pc)},Pt.hasIn=rh,Pt.head=vf,Pt.identity=ca,Pt.includes=function(l,g,b,E){l=Nr(l)?l:ti(l),b=b&&!E?Qe(b):0;var O=l.length;return b<0&&(b=pa(O+b,0)),xn(l)?b<=O&&l.indexOf(g,b)>-1:!!O&&Bs(l,g,b)>-1},Pt.indexOf=function(l,g,b){var E=l==null?0:l.length;if(!E)return-1;var O=b==null?0:Qe(b);return O<0&&(O=pa(E+O,0)),Bs(l,g,O)},Pt.inRange=function(l,g,b){return g=vs(g),b===e?(b=g,g=0):b=vs(b),function(E,O,R){return E>=Du(O,R)&&E<pa(O,R)}(l=we(l),g,b)},Pt.invoke=Xn,Pt.isArguments=_c,Pt.isArray=$e,Pt.isArrayBuffer=Je,Pt.isArrayLike=Nr,Pt.isArrayLikeObject=$o,Pt.isBoolean=function(l){return l===!0||l===!1||lr(l)&&Ls(l)==k},Pt.isBuffer=lu,Pt.isDate=yi,Pt.isElement=function(l){return lr(l)&&l.nodeType===1&&!Qu(l)},Pt.isEmpty=function(l){if(l==null)return!0;if(Nr(l)&&($e(l)||typeof l=="string"||typeof l.splice=="function"||lu(l)||Ae(l)||_c(l)))return!l.length;var g=Qo(l);if(g==z||g==it)return!l.size;if(dc(l))return!ar(l).length;for(var b in l)if(_i.call(l,b))return!1;return!0},Pt.isEqual=function(l,g){return qu(l,g)},Pt.isEqualWith=function(l,g,b){var E=(b=typeof b=="function"?b:e)?b(l,g):e;return E===e?qu(l,g,e,b):!!E},Pt.isError=cu,Pt.isFinite=function(l){return typeof l=="number"&&Lh(l)},Pt.isFunction=Gn,Pt.isInteger=We,Pt.isLength=Le,Pt.isMap=la,Pt.isMatch=function(l,g){return l===g||Cu(l,g,mr(g))},Pt.isMatchWith=function(l,g,b){return b=typeof b=="function"?b:e,Cu(l,g,mr(g),b)},Pt.isNaN=function(l){return Li(l)&&l!=+l},Pt.isNative=function(l){if(Wl(l))throw new mn("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Ta(l)},Pt.isNil=function(l){return l==null},Pt.isNull=function(l){return l===null},Pt.isNumber=Li,Pt.isObject=Qn,Pt.isObjectLike=lr,Pt.isPlainObject=Qu,Pt.isRegExp=ku,Pt.isSafeInteger=function(l){return We(l)&&l>=-9007199254740991&&l<=d},Pt.isSet=jn,Pt.isString=xn,Pt.isSymbol=Wo,Pt.isTypedArray=Ae,Pt.isUndefined=function(l){return l===e},Pt.isWeakMap=function(l){return lr(l)&&Qo(l)==gt},Pt.isWeakSet=function(l){return lr(l)&&Ls(l)=="[object WeakSet]"},Pt.join=function(l,g){return l==null?"":sn.call(l,g)},Pt.kebabCase=Ec,Pt.last=tu,Pt.lastIndexOf=function(l,g,b){var E=l==null?0:l.length;if(!E)return-1;var O=E;return b!==e&&(O=(O=Qe(b))<0?pa(E+O,0):Du(O,E-1)),g==g?function(R,W,A){for(var _=A+1;_--;)if(R[_]===W)return _;return _}(l,g,O):bc(l,Da,O,!0)},Pt.lowerCase=co,Pt.lowerFirst=Rc,Pt.lt=cl,Pt.lte=ui,Pt.max=function(l){return l&&l.length?gn(l,ca,xl):e},Pt.maxBy=function(l,g){return l&&l.length?gn(l,er(g,2),xl):e},Pt.mean=function(l){return ju(l,ca)},Pt.meanBy=function(l,g){return ju(l,er(g,2))},Pt.min=function(l){return l&&l.length?gn(l,ca,zs):e},Pt.minBy=function(l,g){return l&&l.length?gn(l,er(g,2),zs):e},Pt.stubArray=Ma,Pt.stubFalse=jc,Pt.stubObject=function(){return{}},Pt.stubString=function(){return""},Pt.stubTrue=function(){return!0},Pt.multiply=Qc,Pt.nth=function(l,g){return l&&l.length?Zi(l,Qe(g)):e},Pt.noConflict=function(){return kr._===this&&(kr._=iu),this},Pt.noop=cf,Pt.now=Bc,Pt.pad=function(l,g,b){l=mo(l);var E=(g=Qe(g))?La(l):0;if(!g||E>=g)return l;var O=(g-E)/2;return Ka(xc(O),b)+l+Ka(ou(O),b)},Pt.padEnd=function(l,g,b){l=mo(l);var E=(g=Qe(g))?La(l):0;return g&&E<g?l+Ka(g-E,b):l},Pt.padStart=function(l,g,b){l=mo(l);var E=(g=Qe(g))?La(l):0;return g&&E<g?Ka(g-E,b)+l:l},Pt.parseInt=function(l,g,b){return b||g==null?g=0:g&&(g=+g),xh(mo(l).replace(Rt,""),g||0)},Pt.random=function(l,g,b){if(b&&typeof b!="boolean"&&Kn(l,g,b)&&(g=b=e),b===e&&(typeof g=="boolean"?(b=g,g=e):typeof l=="boolean"&&(b=l,l=e)),l===e&&g===e?(l=0,g=1):(l=vs(l),g===e?(g=l,l=0):g=vs(g)),l>g){var E=l;l=g,g=E}if(b||l%1||g%1){var O=il();return Du(l+O*(g-l+Kc("1e-"+((O+"").length-1))),g)}return ue(l,g)},Pt.reduce=function(l,g,b){var E=$e(l)?Is:Il,O=arguments.length<3;return E(l,er(g,4),b,O,fc)},Pt.reduceRight=function(l,g,b){var E=$e(l)?uc:Il,O=arguments.length<3;return E(l,er(g,4),b,O,Wa)},Pt.repeat=function(l,g,b){return g=(b?Kn(l,g,b):g===e)?1:Qe(g),Es(mo(l),g)},Pt.replace=function(){var l=arguments,g=mo(l[0]);return l.length<3?g:g.replace(l[1],l[2])},Pt.result=function(l,g,b){var E=-1,O=(g=Ur(g,l)).length;for(O||(O=1,l=e);++E<O;){var R=l==null?e:l[Au(g[E])];R===e&&(E=O,R=b),l=Gn(R)?R.call(l):R}return l},Pt.round=o,Pt.runInContext=et,Pt.sample=function(l){return($e(l)?Kl:os)(l)},Pt.size=function(l){if(l==null)return 0;if(Nr(l))return xn(l)?La(l):l.length;var g=Qo(l);return g==z||g==it?l.size:ar(l).length},Pt.snakeCase=Pu,Pt.some=function(l,g,b){var E=$e(l)?ql:to;return b&&Kn(l,g,b)&&(g=e),E(l,er(g,3))},Pt.sortedIndex=function(l,g){return Or(l,g)},Pt.sortedIndexBy=function(l,g,b){return Qr(l,g,er(b,2))},Pt.sortedIndexOf=function(l,g){var b=l==null?0:l.length;if(b){var E=Or(l,g);if(E<b&&gc(l[E],g))return E}return-1},Pt.sortedLastIndex=function(l,g){return Or(l,g,!0)},Pt.sortedLastIndexBy=function(l,g,b){return Qr(l,g,er(b,2),!0)},Pt.sortedLastIndexOf=function(l,g){if(l!=null&&l.length){var b=Or(l,g,!0)-1;if(gc(l[b],g))return b}return-1},Pt.startCase=Zo,Pt.startsWith=function(l,g,b){return l=mo(l),b=b==null?0:Vu(Qe(b),0,l.length),g=oi(g),l.slice(b,b+g.length)==g},Pt.subtract=u,Pt.sum=function(l){return l&&l.length?Bl(l,ca):0},Pt.sumBy=function(l,g){return l&&l.length?Bl(l,er(g,2)):0},Pt.template=function(l,g,b){var E=Pt.templateSettings;b&&Kn(l,g,b)&&(g=e),l=mo(l),g=Pn({},g,E,Nf);var O,R,W=Pn({},g.imports,E.imports,Nf),A=Mu(W),_=wl(W,A),T=0,U=g.interpolate||ko,G="__p += '",Z=Pe((g.escape||ko).source+"|"+U.source+"|"+(U===Vt?je:ko).source+"|"+(g.evaluate||ko).source+"|$","g"),K="//# sourceURL="+(_i.call(g,"sourceURL")?(g.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++be+"]")+`
`;l.replace(Z,function(ot,wt,yt,jt,xt,It){return yt||(yt=jt),G+=l.slice(T,It).replace(vu,Gi),wt&&(O=!0,G+=`' +
__e(`+wt+`) +
'`),xt&&(R=!0,G+=`';
`+xt+`;
__p += '`),yt&&(G+=`' +
((__t = (`+yt+`)) == null ? '' : __t) +
'`),T=It+ot.length,ot}),G+=`';
`;var tt=_i.call(g,"variable")&&g.variable;if(tt){if(Xe.test(tt))throw new mn("Invalid `variable` option passed into `_.template`")}else G=`with (obj) {
`+G+`
}
`;G=(R?G.replace(pe,""):G).replace(ve,"$1").replace(Oe,"$1;"),G="function("+(tt||"obj")+`) {
`+(tt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(O?", __e = _.escape":"")+(R?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+G+`return __p
}`;var ut=Tl(function(){return zt(A,K+"return "+G).apply(e,_)});if(ut.source=G,cu(ut))throw ut;return ut},Pt.times=function(l,g){if((l=Qe(l))<1||l>d)return[];var b=m,E=Du(l,m);g=er(g),l-=m;for(var O=Ln(E,g);++b<l;)g(b);return O},Pt.toFinite=vs,Pt.toInteger=Qe,Pt.toLength=ys,Pt.toLower=function(l){return mo(l).toLowerCase()},Pt.toNumber=we,Pt.toSafeInteger=function(l){return l?Vu(Qe(l),-9007199254740991,d):l===0?l:0},Pt.toString=mo,Pt.toUpper=function(l){return mo(l).toUpperCase()},Pt.trim=function(l,g,b){if((l=mo(l))&&(b||g===e))return yl(l);if(!l||!(g=oi(g)))return l;var E=lc(l),O=lc(g);return Cl(E,Gc(E,O),Tc(E,O)+1).join("")},Pt.trimEnd=function(l,g,b){if((l=mo(l))&&(b||g===e))return l.slice(0,Co(l)+1);if(!l||!(g=oi(g)))return l;var E=lc(l);return Cl(E,0,Tc(E,lc(g))+1).join("")},Pt.trimStart=function(l,g,b){if((l=mo(l))&&(b||g===e))return l.replace(Rt,"");if(!l||!(g=oi(g)))return l;var E=lc(l);return Cl(E,Gc(E,lc(g))).join("")},Pt.truncate=function(l,g){var b=30,E="...";if(Qn(g)){var O="separator"in g?g.separator:O;b="length"in g?Qe(g.length):b,E="omission"in g?oi(g.omission):E}var R=(l=mo(l)).length;if(zu(l)){var W=lc(l);R=W.length}if(b>=R)return l;var A=b-La(E);if(A<1)return E;var _=W?Cl(W,0,A).join(""):l.slice(0,A);if(O===e)return _+E;if(W&&(A+=_.length-A),ku(O)){if(l.slice(A).search(O)){var T,U=_;for(O.global||(O=Pe(O.source,mo(rn.exec(O))+"g")),O.lastIndex=0;T=O.exec(U);)var G=T.index;_=_.slice(0,G===e?A:G)}}else if(l.indexOf(oi(O),A)!=A){var Z=_.lastIndexOf(O);Z>-1&&(_=_.slice(0,Z))}return _+E},Pt.unescape=function(l){return(l=mo(l))&&wn.test(l)?l.replace(qe,J):l},Pt.uniqueId=function(l){var g=++Rs;return mo(l)+g},Pt.upperCase=fu,Pt.upperFirst=Ps,Pt.each=Dh,Pt.eachRight=Rf,Pt.first=vf,Ac(Pt,(ws={},ma(Pt,function(l,g){_i.call(Pt.prototype,g)||(ws[g]=l)}),ws),{chain:!1}),Pt.VERSION="4.17.21",Cs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){Pt[l].placeholder=Pt}),Cs(["drop","take"],function(l,g){vn.prototype[l]=function(b){b=b===e?1:pa(Qe(b),0);var E=this.__filtered__&&!g?new vn(this):this.clone();return E.__filtered__?E.__takeCount__=Du(b,E.__takeCount__):E.__views__.push({size:Du(b,m),type:l+(E.__dir__<0?"Right":"")}),E},vn.prototype[l+"Right"]=function(b){return this.reverse()[l](b).reverse()}}),Cs(["filter","map","takeWhile"],function(l,g){var b=g+1,E=b==1||b==3;vn.prototype[l]=function(O){var R=this.clone();return R.__iteratees__.push({iteratee:er(O,3),type:b}),R.__filtered__=R.__filtered__||E,R}}),Cs(["head","last"],function(l,g){var b="take"+(g?"Right":"");vn.prototype[l]=function(){return this[b](1).value()[0]}}),Cs(["initial","tail"],function(l,g){var b="drop"+(g?"":"Right");vn.prototype[l]=function(){return this.__filtered__?new vn(this):this[b](1)}}),vn.prototype.compact=function(){return this.filter(ca)},vn.prototype.find=function(l){return this.filter(l).head()},vn.prototype.findLast=function(l){return this.reverse().find(l)},vn.prototype.invokeMap=mi(function(l,g){return typeof l=="function"?new vn(this):this.map(function(b){return _o(b,l,g)})}),vn.prototype.reject=function(l){return this.filter(Fl(er(l)))},vn.prototype.slice=function(l,g){l=Qe(l);var b=this;return b.__filtered__&&(l>0||g<0)?new vn(b):(l<0?b=b.takeRight(-l):l&&(b=b.drop(l)),g!==e&&(b=(g=Qe(g))<0?b.dropRight(-g):b.take(g-l)),b)},vn.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},vn.prototype.toArray=function(){return this.take(m)},ma(vn.prototype,function(l,g){var b=/^(?:filter|find|map|reject)|While$/.test(g),E=/^(?:head|last)$/.test(g),O=Pt[E?"take"+(g=="last"?"Right":""):g],R=E||/^find/.test(g);O&&(Pt.prototype[g]=function(){var W=this.__wrapped__,A=E?[1]:arguments,_=W instanceof vn,T=A[0],U=_||$e(W),G=function(wt){var yt=O.apply(Pt,ef([wt],A));return E&&Z?yt[0]:yt};U&&b&&typeof T=="function"&&T.length!=1&&(_=U=!1);var Z=this.__chain__,K=!!this.__actions__.length,tt=R&&!Z,ut=_&&!K;if(!R&&U){W=ut?W:new vn(this);var ot=l.apply(W,A);return ot.__actions__.push({func:ms,args:[G],thisArg:e}),new Hr(ot,Z)}return tt&&ut?l.apply(this,A):(ot=this.thru(G),tt?E?ot.value()[0]:ot.value():ot)})}),Cs(["pop","push","shift","sort","splice","unshift"],function(l){var g=hi[l],b=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",E=/^(?:pop|shift)$/.test(l);Pt.prototype[l]=function(){var O=arguments;if(E&&!this.__chain__){var R=this.value();return g.apply($e(R)?R:[],O)}return this[b](function(W){return g.apply($e(W)?W:[],O)})}}),ma(vn.prototype,function(l,g){var b=Pt[g];if(b){var E=b.name+"";_i.call(bl,E)||(bl[E]=[]),bl[E].push({name:g,func:b})}}),bl[eo(e,2).name]=[{name:"wrapper",func:e}],vn.prototype.clone=function(){var l=new vn(this.__wrapped__);return l.__actions__=ji(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=ji(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=ji(this.__views__),l},vn.prototype.reverse=function(){if(this.__filtered__){var l=new vn(this);l.__dir__=-1,l.__filtered__=!0}else(l=this.clone()).__dir__*=-1;return l},vn.prototype.value=function(){var l=this.__wrapped__.value(),g=this.__dir__,b=$e(l),E=g<0,O=b?l.length:0,R=function(It,ae,Ht){for(var ye=-1,oe=Ht.length;++ye<oe;){var xe=Ht[ye],Ve=xe.size;switch(xe.type){case"drop":It+=Ve;break;case"dropRight":ae-=Ve;break;case"take":ae=Du(ae,It+Ve);break;case"takeRight":It=pa(It,ae-Ve)}}return{start:It,end:ae}}(0,O,this.__views__),W=R.start,A=R.end,_=A-W,T=E?A:W-1,U=this.__iteratees__,G=U.length,Z=0,K=Du(_,this.__takeCount__);if(!b||!E&&O==_&&K==_)return Yo(l,this.__actions__);var tt=[];t:for(;_--&&Z<K;){for(var ut=-1,ot=l[T+=g];++ut<G;){var wt=U[ut],yt=wt.iteratee,jt=wt.type,xt=yt(ot);if(jt==2)ot=xt;else if(!xt){if(jt==1)continue t;break t}}tt[Z++]=ot}return tt},Pt.prototype.at=Bf,Pt.prototype.chain=function(){return th(this)},Pt.prototype.commit=function(){return new Hr(this.value(),this.__chain__)},Pt.prototype.next=function(){this.__values__===e&&(this.__values__=se(this.value()));var l=this.__index__>=this.__values__.length;return{done:l,value:l?e:this.__values__[this.__index__++]}},Pt.prototype.plant=function(l){for(var g,b=this;b instanceof ce;){var E=mf(b);E.__index__=0,E.__values__=e,g?O.__wrapped__=E:g=E;var O=E;b=b.__wrapped__}return O.__wrapped__=l,g},Pt.prototype.reverse=function(){var l=this.__wrapped__;if(l instanceof vn){var g=l;return this.__actions__.length&&(g=new vn(this)),(g=g.reverse()).__actions__.push({func:ms,args:[Hl],thisArg:e}),new Hr(g,this.__chain__)}return this.thru(Hl)},Pt.prototype.toJSON=Pt.prototype.valueOf=Pt.prototype.value=function(){return Yo(this.__wrapped__,this.__actions__)},Pt.prototype.first=Pt.prototype.head,za&&(Pt.prototype[za]=function(){return this}),Pt}();Bu?((Bu.exports=st)._=st,Fc._=st):kr._=st}).call(W1)),U_.exports;var n,t}();function V1(n){var t=n.rootWindow,e=function(){var d=re.useRef(null),h=re.useState(null),m=h[0],y=h[1];return re.useLayoutEffect(function(){d&&d.current&&y(d.current.getCanvas())},[d]),[d,m]}(),r=e[0],i=e[1],a=Vi.useState(!1);a[0];var s=a[1],c=re.useRef(null);re.useEffect(function(){i!==null&&(c.current=new V4(t,i),window.canvasRoot=c.current,s(!0))},[i]);var f=function(d,h){var m=re.useRef(null),y=function(w,C){if(m.current&&h){var k=m.current.getBoundingClientRect();C([w.clientX-k.left,w.clientY-k.top],w)}};return re.useEffect(function(){if(d){var w=function(B){try{y(B,d.mouseDownHandler.bind(d))}catch(L){console.log(L)}},C=function(B){try{y(B,d.mouseUpHandler.bind(d))}catch(L){console.log(L)}},k=function(B){try{y(B,d.clickHandler.bind(d))}catch(L){console.log(L)}},M=function(B){try{(function(L,z){m.current&&h&&z(L)})(B,d.mouseWheelHandler.bind(d))}catch(L){console.log(L)}},N=H1.throttle(function(B){try{y(B,d.mouseMoveHandler.bind(d))}catch(L){console.log(L)}},16.666666666666668);return window.addEventListener("mousemove",N),window.addEventListener("mousedown",w),window.addEventListener("mouseup",C),window.addEventListener("click",k),window.addEventListener("wheel",M),function(){window.removeEventListener("mousemove",N),window.removeEventListener("mousedown",w),window.removeEventListener("mouseup",C),window.removeEventListener("click",k),window.removeEventListener("wheel",M)}}},[m.current,d]),m}(c.current,i);return fe.jsx("div",{ref:f,style:{width:"100%",height:"100%"},children:fe.jsx($1,{ref:r,animationFrameFunc:function(d,h){h.clearRect(0,0,d.width,d.height);var m=c.current;m==null||m.onAnimationFrame()}})})}var q1=function(){function n(t){this.data=t,this.subscribers=[]}return n.prototype.setContext=function(t){this.data=t,this.dispatch(t)},n.prototype.subscribe=function(t){var e=this;return this.subscribers.push(t),function(){e.subscribers=e.subscribers.filter(function(r){return r!==t})}},n.prototype.dispatch=function(t){this.subscribers.forEach(function(e){return e(t)})},n}();function K1(n){var t,e=n.pinId,r=n.project,i=n.projectTools,a=r.orgData.signalIds.find(function(d){return r.signalData[d].pinIds.includes(e)});if(!a)return null;var s=r.orgData.signalTypes[a],c=(t=r.signalData[a].pinValues[e])===null||t===void 0?void 0:t.toString(),f=r.signalData[a].pinTimes[e].toString();return fe.jsxs("div",{style:{padding:"10px",fontSize:"14px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",height:"100%"},children:[fe.jsx("div",{style:{marginRight:"10px"},children:"Time"}),fe.jsx(vv,{bgColor:"var(--gray5)",bgActive:"var(--gray4)",initialValue:f,isValid:function(d){var h=r.timelineData.numberOfFrames;return!isNaN(Number(d))&&!(Number(d)<0||Number(d)>=h)},onCommit:function(d){var h=parseInt(d);i.updatePins([{pinId:e,pinType:s,pinTime:h}],!0)}}),fe.jsx("div",{style:{marginRight:"10px",marginLeft:"10px"},children:"Value"}),fe.jsx(vv,{bgColor:"var(--gray5)",bgActive:"var(--gray4)",initialValue:c,isValid:function(d){if(s==="continuous"){var h=r.signalData[a].range;return!isNaN(Number(d))&&!(Number(d)<h[0]||Number(d)>h[1])}return!0},onCommit:function(d){s==="continuous"&&i.updatePins([{pinId:e,pinType:"continuous",pinTime:void 0,pinValue:Number(d),functionString:void 0}],!0),s==="discrete"&&i.updatePins([{pinId:e,pinType:"discrete",pinTime:void 0,pinValue:d}],!0)}})]})}function G1(n){var t=n.context,e=n.project,r=n.projectTools;if(t.type!=="pointer")return null;var i=t.payload.selectedPinIds,a=i.length>1;return i.length===0?null:fe.jsxs("div",{onMouseOver:function(s){s.stopPropagation()},onMouseDown:function(s){s.stopPropagation()},onMouseMove:function(s){s.stopPropagation()},style:{backgroundColor:"var(--gray6)",borderRadius:"var(--borderRadiusSmall)",position:"absolute",bottom:"0",left:"0",color:"var(--gray8)",marginBottom:"10px",marginLeft:"10px",fontFamily:"Roboto, sans-serif",userSelect:"none",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[a?fe.jsx("div",{style:{padding:"10px",fontSize:"14px"},children:"".concat(i.length," pins selected")}):fe.jsx(K1,{pinId:i[0],project:e,projectTools:r}),fe.jsx(cw,{iconName:"delete",color:"var(--gray2)",hoverColor:"var(--gray1)",hoverBgColor:"var(--gray7)",onClick:function(){r.deletePins(Ud([],i,!0)),t.payload.dispatchPointerModeMachineEvent({type:"delete_selected_pins",selectedPinIds:[]})}})]})}function dB(n,t){var e=n.orgData.activeSignalIds,r=Object.keys(t);if(e.join("@")!==r.join("@")){for(var i={},a=0,s=e;a<s.length;a++){var c=s[a];r.includes(c)?i[c]=t[c]:i[c]=100}return i}return t}function Y1(n){var t=n.activeTool,e=n.setActiveEditor,r=n.useProjectState,i=n.projectTools,a=n.interpolateSignalValue,s=re.useRef(null),c=re.useState(null),f=c[0],d=c[1];return re.useLayoutEffect(function(){if(s.current){var h=s.current.getBoundingClientRect(),m=h.width,y=h.height;d({width:m,height:y})}},[s.current]),fe.jsx("div",f?{ref:s,style:{width:"100%",height:"100%"},children:fe.jsx(J1,{activeTool:t,setActiveEditor:e,useProjectState:r,projectTools:i,interpolateSignalValue:a,dimensions:f})}:{ref:s,style:{width:"100%",height:"100%"}})}var X1=function(){function n(t){this.data=t,this.subscribers=[]}return n.prototype.subscribe=function(t){var e=this;return this.subscribers.push(t),function(){e.subscribers=e.subscribers.filter(function(r){return r!==t})}},n.prototype.dispatch=function(t){this.subscribers.forEach(function(e){return e(t)})},n}();function J1(n){var t=n.activeTool,e=n.setActiveEditor,r=n.useProjectState,i=n.projectTools,a=n.interpolateSignalValue,s=n.dimensions,c=r(),f=re.useState(dB(c,{})),d=f[0],h=f[1],m=c.timelineData.numberOfFrames,y=s.width;Ds.PixelsPerFrame=y/m;var w=dB(c,d);w!==d&&h(w);var C=function(z,q){var V=Ud([],z.orgData.activeSignalIds,!0).sort(function(nt,it){return z.orgData.signalIds.indexOf(nt)-z.orgData.signalIds.indexOf(it)}),X=V.reduce(function(nt,it){var ct=nt[0],ft=nt[1];return ct[it]=ft,[ct,ft+q[it]]},[{},0]);return[X[0],X[1]]}(c,w),k={project:c,projectTools:i,activeTool:t,signalStartHeights:C[0],signalHeights:d,setSignalHeight:function(z,q){h(function(V){var X;return Ts(Ts({},V),((X={})[z]=q,X))})},interpolateSignalValue:a,displayDimensions:s,setActiveEditor:e},M=re.useRef(new X1(k)).current;M.dispatch(k);var N=re.useRef(new q1({type:"default"})).current,B=U1.Node({extendedProjectAPIBridge:M,contextBridge:N}),L=re.useSyncExternalStore(N.subscribe.bind(N),function(){return N.data});return fe.jsxs("div",{style:{width:"100%",height:"100%",backgroundColor:"#1D2126",position:"relative"},className:"materialSymbols",children:[fe.jsx(V1,{rootWindow:B}),t==="pointer"?fe.jsx(G1,{projectTools:i,project:c,context:L}):null]})}let Wc=class Xz{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,r){[t,e]=qw(this,t,e);let i=[];return this.decompose(0,t,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(e,this.length,i,1),$_.from(i,this.length-(e-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=qw(this,t,e);let r=[];return this.decompose(t,e,r,0),$_.from(r,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),i=new px(this),a=new px(t);for(let s=e,c=e;;){if(i.next(s),a.next(s),s=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(t=1){return new px(this,t)}iterRange(t,e=this.length){return new Jz(this,t,e)}iterLines(t,e){let r;if(t==null)r=this.iter();else{e==null&&(e=this.lines+1);let i=this.line(t).from;r=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new Qz(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length!=1||t[0]?t.length<=32?new Uh(t):$_.from(Uh.split(t,[])):Xz.empty}};class Uh extends Wc{constructor(t,e=function(r){let i=-1;for(let a of r)i+=a.length+1;return i}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,r,i){for(let a=0;;a++){let s=this.text[a],c=i+s.length;if((e?r:c)>=t)return new Q1(i,c,r,s);i=c+1,r++}}decompose(t,e,r,i){let a=t<=0&&e>=this.length?this:new Uh(gB(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let s=r.pop(),c=W_(a.text,s.text.slice(),0,a.length);if(c.length<=32)r.push(new Uh(c,s.length+a.length));else{let f=c.length>>1;r.push(new Uh(c.slice(0,f)),new Uh(c.slice(f)))}}else r.push(a)}replace(t,e,r){if(!(r instanceof Uh))return super.replace(t,e,r);[t,e]=qw(this,t,e);let i=W_(this.text,W_(r.text,gB(this.text,0,t)),e),a=this.length+r.length-(e-t);return i.length<=32?new Uh(i,a):$_.from(Uh.split(i,[]),a)}sliceString(t,e=this.length,r=`
`){[t,e]=qw(this,t,e);let i="";for(let a=0,s=0;a<=e&&s<this.text.length;s++){let c=this.text[s],f=a+c.length;a>t&&s&&(i+=r),t<f&&e>a&&(i+=c.slice(Math.max(0,t-a),e-a)),a=f+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let r=[],i=-1;for(let a of t)r.push(a),i+=a.length+1,r.length==32&&(e.push(new Uh(r,i)),r=[],i=-1);return i>-1&&e.push(new Uh(r,i)),e}}let $_=class Zy extends Wc{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,e,r,i){for(let a=0;;a++){let s=this.children[a],c=i+s.length,f=r+s.lines-1;if((e?f:c)>=t)return s.lineInner(t,e,r,i);i=c+1,r=f+1}}decompose(t,e,r,i){for(let a=0,s=0;s<=e&&a<this.children.length;a++){let c=this.children[a],f=s+c.length;if(t<=f&&e>=s){let d=i&((s<=t?1:0)|(f>=e?2:0));s>=t&&f<=e&&!d?r.push(c):c.decompose(t-s,e-s,r,d)}s=f+1}}replace(t,e,r){if([t,e]=qw(this,t,e),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let s=this.children[i],c=a+s.length;if(t>=a&&e<=c){let f=s.replace(t-a,e-a,r),d=this.lines-s.lines+f.lines;if(f.lines<d>>4&&f.lines>d>>6){let h=this.children.slice();return h[i]=f,new Zy(h,this.length-(e-t)+r.length)}return super.replace(a,c,f)}a=c+1}return super.replace(t,e,r)}sliceString(t,e=this.length,r=`
`){[t,e]=qw(this,t,e);let i="";for(let a=0,s=0;a<this.children.length&&s<=e;a++){let c=this.children[a],f=s+c.length;s>t&&a&&(i+=r),t<f&&e>s&&(i+=c.sliceString(t-s,e-s,r)),s=f+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Zy))return 0;let r=0,[i,a,s,c]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,a+=e){if(i==s||a==c)return r;let f=this.children[i],d=t.children[a];if(f!=d)return r+f.scanIdentical(d,e);r+=f.length+1}}static from(t,e=t.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let w of t)r+=w.lines;if(r<32){let w=[];for(let C of t)C.flatten(w);return new Uh(w,e)}let i=Math.max(32,r>>5),a=i<<1,s=i>>1,c=[],f=0,d=-1,h=[];function m(w){let C;if(w.lines>a&&w instanceof Zy)for(let k of w.children)m(k);else w.lines>s&&(f>s||!f)?(y(),c.push(w)):w instanceof Uh&&f&&(C=h[h.length-1])instanceof Uh&&w.lines+C.lines<=32?(f+=w.lines,d+=w.length+1,h[h.length-1]=new Uh(C.text.concat(w.text),C.length+1+w.length)):(f+w.lines>i&&y(),f+=w.lines,d+=w.length+1,h.push(w))}function y(){f!=0&&(c.push(h.length==1?h[0]:Zy.from(h,d)),d=-1,f=h.length=0)}for(let w of t)m(w);return y(),c.length==1?c[0]:new Zy(c,e)}};function W_(n,t,e=0,r=1e9){for(let i=0,a=0,s=!0;a<n.length&&i<=r;a++){let c=n[a],f=i+c.length;f>=e&&(f>r&&(c=c.slice(0,r-i)),i<e&&(c=c.slice(e-i)),s?(t[t.length-1]+=c,s=!1):t.push(c)),i=f+1}return t}function gB(n,t,e){return W_(n,[""],t,e)}Wc.empty=new Uh([""],0);class px{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof Uh?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],s=a>>1,c=i instanceof Uh?i.text.length:i.children.length;if(s==(e>0?c:0)){if(r==0)return this.done=!0,this.value="",this;e>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&a)==(e>0?0:1)){if(this.offsets[r]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof Uh){let f=i.text[s+(e<0?-1:0)];if(this.offsets[r]+=e,f.length>Math.max(0,t))return this.value=t==0?f:e>0?f.slice(t):f.slice(0,f.length-t),this;t-=f.length}else{let f=i.children[s+(e<0?-1:0)];t>f.length?(t-=f.length,this.offsets[r]+=e):(e<0&&this.offsets[r]--,this.nodes.push(f),this.offsets.push(e>0?1:(f instanceof Uh?f.text.length:f.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}let Jz=class{constructor(t,e,r){this.value="",this.done=!1,this.cursor=new px(t,e>r?-1:1),this.pos=e>r?t.length:0,this.from=Math.min(e,r),this.to=Math.max(e,r)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let r=e<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=r?i:e<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},Qz=class{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:r,value:i}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(Wc.prototype[Symbol.iterator]=function(){return this.iter()},px.prototype[Symbol.iterator]=Jz.prototype[Symbol.iterator]=Qz.prototype[Symbol.iterator]=function(){return this});class Q1{constructor(t,e,r,i){this.from=t,this.to=e,this.number=r,this.text=i}get length(){return this.to-this.from}}function qw(n,t,e){return[t=Math.max(0,Math.min(n.length,t)),Math.max(t,Math.min(n.length,e))]}let Cw="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Cw.length;n++)Cw[n]+=Cw[n-1];function Z1(n){for(let t=1;t<Cw.length;t+=2)if(Cw[t]>n)return Cw[t-1]<=n;return!1}function mB(n){return n>=127462&&n<=127487}function Lp(n,t,e=!0,r=!0){return(e?Zz:t3)(n,t,r)}function Zz(n,t,e){if(t==n.length)return t;t&&tU(n.charCodeAt(t))&&eU(n.charCodeAt(t-1))&&t--;let r=Tp(n,t);for(t+=Dg(r);t<n.length;){let i=Tp(n,t);if(r==8205||i==8205||e&&Z1(i))t+=Dg(i),r=i;else{if(!mB(i))break;{let a=0,s=t-2;for(;s>=0&&mB(Tp(n,s));)a++,s-=2;if(a%2==0)break;t+=2}}}return t}function t3(n,t,e){for(;t>0;){let r=Zz(n,t-2,e);if(r<t)return r;t--}return 0}function tU(n){return n>=56320&&n<57344}function eU(n){return n>=55296&&n<56320}function Tp(n,t){let e=n.charCodeAt(t);if(!eU(e)||t+1==n.length)return e;let r=n.charCodeAt(t+1);return tU(r)?r-56320+(e-55296<<10)+65536:e}function bO(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Dg(n){return n<65536?1:2}const QM=/\r\n?|\n/;var md=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(md||(md={}));class zm{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e+1];t+=r<0?this.sections[e]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,r=0,i=0;e<this.sections.length;){let a=this.sections[e++],s=this.sections[e++];s<0?(t(r,i,a),i+=a):i+=s,r+=a}}iterChangedRanges(t,e=!1){ZM(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let r=this.sections[e++],i=this.sections[e++];i<0?t.push(r,i):t.push(i,r)}return new zm(t)}composeDesc(t){return this.empty?t:t.empty?this:nU(this,t)}mapDesc(t,e=!1){return t.empty?this:tF(this,t,e)}mapPos(t,e=-1,r=md.Simple){let i=0,a=0;for(let s=0;s<this.sections.length;){let c=this.sections[s++],f=this.sections[s++],d=i+c;if(f<0){if(d>t)return a+(t-i);a+=c}else{if(r!=md.Simple&&d>=t&&(r==md.TrackDel&&i<t&&d>t||r==md.TrackBefore&&i<t||r==md.TrackAfter&&d>t))return null;if(d>t||d==t&&e<0&&!c)return t==i||e<0?a:a+f;a+=f}i=d}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return a}touchesRange(t,e=t){for(let r=0,i=0;r<this.sections.length&&i<=e;){let a=i+this.sections[r++];if(this.sections[r++]>=0&&i<=e&&a>=t)return!(i<t&&a>e)||"cover";i=a}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let r=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new zm(t)}static create(t){return new zm(t)}}let um=class Ev extends zm{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return ZM(this,(e,r,i,a,s)=>t=t.replace(i,i+(r-e),s),!1),t}mapDesc(t,e=!1){return tF(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,a=0;i<e.length;i+=2){let s=e[i],c=e[i+1];if(c>=0){e[i]=c,e[i+1]=s;let f=i>>1;for(;r.length<f;)r.push(Wc.empty);r.push(s?t.slice(a,a+s):Wc.empty)}a+=s}return new Ev(e,r)}compose(t){return this.empty?t:t.empty?this:nU(this,t,!0)}map(t,e=!1){return t.empty?this:tF(this,t,e,!0)}iterChanges(t,e=!1){ZM(this,t,e)}get desc(){return zm.create(this.sections)}filter(t){let e=[],r=[],i=[],a=new Lx(this);t:for(let s=0,c=0;;){let f=s==t.length?1e9:t[s++];for(;c<f||c==f&&a.len==0;){if(a.done)break t;let h=Math.min(a.len,f-c);rd(i,h,-1);let m=a.ins==-1?-1:a.off==0?a.ins:0;rd(e,h,m),m>0&&Hv(r,e,a.text),a.forward(h),c+=h}let d=t[s++];for(;c<d;){if(a.done)break t;let h=Math.min(a.len,d-c);rd(e,h,-1),rd(i,h,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(h),c+=h}}return{changes:new Ev(e,r),filtered:zm.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e],i=this.sections[e+1];i<0?t.push(r):i==0?t.push([r]):t.push([r].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],a=[],s=0,c=null;function f(d=!1){if(!d&&!i.length)return;s<e&&rd(i,e-s,-1);let h=new Ev(i,a);c=c?c.compose(h.map(c)):h,i=[],a=[],s=0}return function d(h){if(Array.isArray(h))for(let m of h)d(m);else if(h instanceof Ev){if(h.length!=e)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${e})`);f(),c=c?c.compose(h.map(c)):h}else{let{from:m,to:y=m,insert:w}=h;if(m>y||m<0||y>e)throw new RangeError(`Invalid change range ${m} to ${y} (in doc of length ${e})`);let C=w?typeof w=="string"?Wc.of(w.split(r||QM)):w:Wc.empty,k=C.length;if(m==y&&k==0)return;m<s&&f(),m>s&&rd(i,m-s,-1),rd(i,y-m,k),Hv(a,i,C),s=y}}(t),f(!c),c}static empty(t){return new Ev(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let a=t[i];if(typeof a=="number")e.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((s,c)=>c&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)e.push(a[0],0);else{for(;r.length<i;)r.push(Wc.empty);r[i]=Wc.of(a.slice(1)),e.push(a[0],r[i].length)}}}return new Ev(e,r)}static createSet(t,e){return new Ev(t,e)}};function rd(n,t,e,r=!1){if(t==0&&e<=0)return;let i=n.length-2;i>=0&&e<=0&&e==n[i+1]?n[i]+=t:t==0&&n[i]==0?n[i+1]+=e:r?(n[i]+=t,n[i+1]+=e):n.push(t,e)}function Hv(n,t,e){if(e.length==0)return;let r=t.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(e);else{for(;n.length<r;)n.push(Wc.empty);n.push(e)}}function ZM(n,t,e){let r=n.inserted;for(let i=0,a=0,s=0;s<n.sections.length;){let c=n.sections[s++],f=n.sections[s++];if(f<0)i+=c,a+=c;else{let d=i,h=a,m=Wc.empty;for(;d+=c,h+=f,f&&r&&(m=m.append(r[s-2>>1])),!(e||s==n.sections.length||n.sections[s+1]<0);)c=n.sections[s++],f=n.sections[s++];t(i,d,a,h,m),i=d,a=h}}}function tF(n,t,e,r=!1){let i=[],a=r?[]:null,s=new Lx(n),c=new Lx(t);for(let f=-1;;)if(s.ins==-1&&c.ins==-1){let d=Math.min(s.len,c.len);rd(i,d,-1),s.forward(d),c.forward(d)}else if(c.ins>=0&&(s.ins<0||f==s.i||s.off==0&&(c.len<s.len||c.len==s.len&&!e))){let d=c.len;for(rd(i,c.ins,-1);d;){let h=Math.min(s.len,d);s.ins>=0&&f<s.i&&s.len<=h&&(rd(i,0,s.ins),a&&Hv(a,i,s.text),f=s.i),s.forward(h),d-=h}c.next()}else{if(!(s.ins>=0)){if(s.done&&c.done)return a?um.createSet(i,a):zm.create(i);throw new Error("Mismatched change set lengths")}{let d=0,h=s.len;for(;h;)if(c.ins==-1){let m=Math.min(h,c.len);d+=m,h-=m,c.forward(m)}else{if(!(c.ins==0&&c.len<h))break;h-=c.len,c.next()}rd(i,d,f<s.i?s.ins:0),a&&f<s.i&&Hv(a,i,s.text),f=s.i,s.forward(s.len-h)}}}function nU(n,t,e=!1){let r=[],i=e?[]:null,a=new Lx(n),s=new Lx(t);for(let c=!1;;){if(a.done&&s.done)return i?um.createSet(r,i):zm.create(r);if(a.ins==0)rd(r,a.len,0,c),a.next();else if(s.len!=0||s.done){if(a.done||s.done)throw new Error("Mismatched change set lengths");{let f=Math.min(a.len2,s.len),d=r.length;if(a.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;rd(r,f,h,c),i&&h&&Hv(i,r,s.text)}else s.ins==-1?(rd(r,a.off?0:a.len,f,c),i&&Hv(i,r,a.textBit(f))):(rd(r,a.off?0:a.len,s.off?0:s.ins,c),i&&!s.off&&Hv(i,r,s.text));c=(a.ins>f||s.ins>=0&&s.len>f)&&(c||r.length>d),a.forward2(f),s.forward(f)}}else rd(r,0,s.ins,c),i&&Hv(i,r,s.text),s.next()}}class Lx{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?Wc.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?Wc.empty:e[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class K0{constructor(t,e,r){this.from=t,this.to=e,this.flags=r}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,e):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new K0(r,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return Sn.range(t,e);let r=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return Sn.range(this.anchor,r)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Sn.range(t.anchor,t.head)}static create(t,e,r){return new K0(t,e,r)}}let Sn=class qd{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:qd.create(this.ranges.map(r=>r.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new qd([this.main],0)}addRange(t,e=!0){return qd.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let r=this.ranges.slice();return r[e]=t,qd.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new qd(t.ranges.map(e=>K0.fromJSON(e)),t.main)}static single(t,e=t){return new qd([qd.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<t.length;i++){let a=t[i];if(a.empty?a.from<=r:a.from<r)return qd.normalized(t.slice(),e);r=a.to}return new qd(t,e)}static cursor(t,e=0,r,i){return K0.create(t,t,(e==0?0:e<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(t,e,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return e<t?K0.create(e,t,48|a):K0.create(t,e,(e>t?8:0)|a)}static normalized(t,e=0){let r=t[e];t.sort((i,a)=>i.from-a.from),e=t.indexOf(r);for(let i=1;i<t.length;i++){let a=t[i],s=t[i-1];if(a.empty?a.from<=s.to:a.from<s.to){let c=s.from,f=Math.max(a.to,s.to);i<=e&&e--,t.splice(--i,2,a.anchor>a.head?qd.range(f,c):qd.range(c,f))}}return new qd(t,e)}};function rU(n,t){for(let e of n.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let xO=0;class Gr{constructor(t,e,r,i,a){this.combine=t,this.compareInput=e,this.compare=r,this.isStatic=i,this.id=xO++,this.default=t([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(t={}){return new Gr(t.combine||(e=>e),t.compareInput||((e,r)=>e===r),t.compare||(t.combine?(e,r)=>e===r:DO),!!t.static,t.enables)}of(t){return new H_([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new H_(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new H_(t,this,2,e)}from(t,e){return e||(e=r=>r),this.compute([t],r=>e(r.field(t)))}}function DO(n,t){return n==t||n.length==t.length&&n.every((e,r)=>e===t[r])}let H_=class{constructor(t,e,r,i){this.dependencies=t,this.facet=e,this.type=r,this.value=i,this.id=xO++}dynamicSlot(t){var e;let r=this.value,i=this.facet.compareInput,a=this.id,s=t[a]>>1,c=this.type==2,f=!1,d=!1,h=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?d=!0:1&((e=t[m.id])!==null&&e!==void 0?e:1)||h.push(t[m.id]);return{create:m=>(m.values[s]=r(m),1),update(m,y){if(f&&y.docChanged||d&&(y.docChanged||y.selection)||eF(m,h)){let w=r(m);if(c?!vB(w,m.values[s],i):!i(w,m.values[s]))return m.values[s]=w,1}return 0},reconfigure:(m,y)=>{let w,C=y.config.address[a];if(C!=null){let k=GS(y,C);if(this.dependencies.every(M=>M instanceof Gr?y.facet(M)===m.facet(M):!(M instanceof xd)||y.field(M,!1)==m.field(M,!1))||(c?vB(w=r(m),k,i):i(w=r(m),k)))return m.values[s]=k,0}else w=r(m);return m.values[s]=w,1}}}};function vB(n,t,e){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!e(n[r],t[r]))return!1;return!0}function eF(n,t){let e=!1;for(let r of t)1&dx(n,r)&&(e=!0);return e}function e3(n,t,e){let r=e.map(f=>n[f.id]),i=e.map(f=>f.type),a=r.filter(f=>!(1&f)),s=n[t.id]>>1;function c(f){let d=[];for(let h=0;h<r.length;h++){let m=GS(f,r[h]);if(i[h]==2)for(let y of m)d.push(y);else d.push(m)}return t.combine(d)}return{create(f){for(let d of r)dx(f,d);return f.values[s]=c(f),1},update(f,d){if(!eF(f,a))return 0;let h=c(f);return t.compare(h,f.values[s])?0:(f.values[s]=h,1)},reconfigure(f,d){let h=eF(f,r),m=d.config.facets[t.id],y=d.facet(t);if(m&&!h&&DO(e,m))return f.values[s]=y,0;let w=c(f);return t.compare(w,y)?(f.values[s]=y,0):(f.values[s]=w,1)}}}const yB=Gr.define({static:!0});let xd=class iU{constructor(t,e,r,i,a){this.id=t,this.createF=e,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(t){let e=new iU(xO++,t.create,t.update,t.compare||((r,i)=>r===i),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(yB).find(r=>r.field==this);return((e==null?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:r=>(r.values[e]=this.create(r),1),update:(r,i)=>{let a=r.values[e],s=this.updateF(a,i);return this.compareF(a,s)?0:(r.values[e]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[e]=i.field(this),0):(r.values[e]=this.create(r),1)}}init(t){return[this,yB.of({field:this,create:t})]}get extension(){return this}};function Ab(n){return t=>new oU(t,n)}const Fy={highest:Ab(0),high:Ab(1),default:Ab(2),low:Ab(3),lowest:Ab(4)};let oU=class{constructor(t,e){this.inner=t,this.prec=e}},aU=class sU{of(t){return new nF(this,t)}reconfigure(t){return sU.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}},nF=class{constructor(t,e){this.compartment=t,this.inner=e}},wB=class uU{constructor(t,e,r,i,a,s){for(this.base=t,this.compartments=e,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,r){let i=[],a=Object.create(null),s=new Map;for(let y of function(w,C,k){let M=[[],[],[],[],[]],N=new Map;return function B(L,z){let q=N.get(L);if(q!=null){if(q<=z)return;let V=M[q].indexOf(L);V>-1&&M[q].splice(V,1),L instanceof nF&&k.delete(L.compartment)}if(N.set(L,z),Array.isArray(L))for(let V of L)B(V,z);else if(L instanceof nF){if(k.has(L.compartment))throw new RangeError("Duplicate use of compartment in extensions");let V=C.get(L.compartment)||L.inner;k.set(L.compartment,V),B(V,z)}else if(L instanceof oU)B(L.inner,L.prec);else if(L instanceof xd)M[z].push(L),L.provides&&B(L.provides,z);else if(L instanceof H_)M[z].push(L),L.facet.extensions&&B(L.facet.extensions,2);else{let V=L.extension;if(!V)throw new Error(`Unrecognized extension value in extension set (${L}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);B(V,z)}}(w,2),M.reduce((B,L)=>B.concat(L))}(t,e,s))y instanceof xd?i.push(y):(a[y.facet.id]||(a[y.facet.id]=[])).push(y);let c=Object.create(null),f=[],d=[];for(let y of i)c[y.id]=d.length<<1,d.push(w=>y.slot(w));let h=r==null?void 0:r.config.facets;for(let y in a){let w=a[y],C=w[0].facet,k=h&&h[y]||[];if(w.every(M=>M.type==0))if(c[C.id]=f.length<<1|1,DO(k,w))f.push(r.facet(C));else{let M=C.combine(w.map(N=>N.value));f.push(r&&C.compare(M,r.facet(C))?r.facet(C):M)}else{for(let M of w)M.type==0?(c[M.id]=f.length<<1|1,f.push(M.value)):(c[M.id]=d.length<<1,d.push(N=>M.dynamicSlot(N)));c[C.id]=d.length<<1,d.push(M=>e3(M,C,w))}}let m=d.map(y=>y(c));return new uU(t,s,m,c,f,a)}};function dx(n,t){if(1&t)return 2;let e=t>>1,r=n.status[e];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[e]=4;let i=n.computeSlot(n,n.config.dynamicSlots[e]);return n.status[e]=2|i}function GS(n,t){return 1&t?n.config.staticValues[t>>1]:n.values[t>>1]}const lU=Gr.define(),rF=Gr.define({combine:n=>n.some(t=>t),static:!0}),cU=Gr.define({combine:n=>n.length?n[0]:void 0,static:!0}),fU=Gr.define(),hU=Gr.define(),pU=Gr.define(),dU=Gr.define({combine:n=>!!n.length&&n[0]});let hv=class{constructor(t,e){this.type=t,this.value=e}static define(){return new n3}},n3=class{of(t){return new hv(this,t)}},r3=class{constructor(t){this.map=t}of(t){return new mu(this,t)}},mu=class gU{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new gU(this.type,e)}is(t){return this.type==t}static define(t={}){return new r3(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let r=[];for(let i of t){let a=i.map(e);a&&r.push(a)}return r}};mu.reconfigure=mu.define(),mu.appendConfig=mu.define();let Bd=class Hb{constructor(t,e,r,i,a,s){this.startState=t,this.changes=e,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=s,this._doc=null,this._state=null,r&&rU(r,e.newLength),a.some(c=>c.type==Hb.time)||(this.annotations=a.concat(Hb.time.of(Date.now())))}static create(t,e,r,i,a,s){return new Hb(t,e,r,i,a,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(Hb.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}};function i3(n,t){let e=[];for(let r=0,i=0;;){let a,s;if(r<n.length&&(i==t.length||t[i]>=n[r]))a=n[r++],s=n[r++];else{if(!(i<t.length))return e;a=t[i++],s=t[i++]}!e.length||e[e.length-1]<a?e.push(a,s):e[e.length-1]<s&&(e[e.length-1]=s)}}function bB(n,t,e){var r;let i,a,s;return e?(i=t.changes,a=um.empty(t.changes.length),s=n.changes.compose(t.changes)):(i=t.changes.map(n.changes),a=n.changes.mapDesc(t.changes,!0),s=n.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(a):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:mu.mapEffects(n.effects,i).concat(mu.mapEffects(t.effects,a)),annotations:n.annotations.length?n.annotations.concat(t.annotations):t.annotations,scrollIntoView:n.scrollIntoView||t.scrollIntoView}}function zA(n,t,e){let r=t.selection,i=_w(t.annotations);return t.userEvent&&(i=i.concat(Bd.userEvent.of(t.userEvent))),{changes:t.changes instanceof um?t.changes:um.of(t.changes||[],e,n.facet(cU)),selection:r&&(r instanceof Sn?r:Sn.single(r.anchor,r.head)),effects:_w(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function mU(n,t,e){let r=zA(n,t.length?t[0]:{},n.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let a=1;a<t.length;a++){t[a].filter===!1&&(e=!1);let s=!!t[a].sequential;r=bB(r,zA(n,t[a],s?r.changes.newLength:n.doc.length),s)}let i=Bd.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(a){let s=a.startState,c=s.facet(pU),f=a;for(let d=c.length-1;d>=0;d--){let h=c[d](a);h&&Object.keys(h).length&&(f=bB(f,zA(s,h,a.changes.newLength),!0))}return f==a?a:Bd.create(s,a.changes,a.selection,f.effects,f.annotations,f.scrollIntoView)}(e?function(a){let s=a.startState,c=!0;for(let d of s.facet(fU)){let h=d(a);if(h===!1){c=!1;break}Array.isArray(h)&&(c=c===!0?h:i3(c,h))}if(c!==!0){let d,h;if(c===!1)h=a.changes.invertedDesc,d=um.empty(s.doc.length);else{let m=a.changes.filter(c);d=m.changes,h=m.filtered.mapDesc(m.changes).invertedDesc}a=Bd.create(s,d,a.selection&&a.selection.map(h),mu.mapEffects(a.effects,h),a.annotations,a.scrollIntoView)}let f=s.facet(hU);for(let d=f.length-1;d>=0;d--){let h=f[d](a);a=h instanceof Bd?h:Array.isArray(h)&&h.length==1&&h[0]instanceof Bd?h[0]:mU(s,_w(h),!1)}return a}(i):i)}Bd.time=hv.define(),Bd.userEvent=hv.define(),Bd.addToHistory=hv.define(),Bd.remote=hv.define();const o3=[];function _w(n){return n==null?o3:Array.isArray(n)?n:[n]}var vh=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(vh||(vh={}));const a3=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let iF;try{iF=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}let jh=class Bg{constructor(t,e,r,i,a,s){this.config=t,this.doc=e,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=a,s&&(s._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)dx(this,c<<1);this.computeSlot=null}field(t,e=!0){let r=this.config.address[t.id];if(r!=null)return dx(this,r),GS(this,r);if(e)throw new RangeError("Field is not present in this state")}update(...t){return mU(this,t,!0)}applyTransaction(t){let e,r=this.config,{base:i,compartments:a}=r;for(let c of t.effects)c.is(aU.reconfigure)?(r&&(a=new Map,r.compartments.forEach((f,d)=>a.set(d,f)),r=null),a.set(c.value.compartment,c.value.extension)):c.is(mu.reconfigure)?(r=null,i=c.value):c.is(mu.appendConfig)&&(r=null,i=_w(i).concat(c.value));r?e=t.startState.values.slice():(r=wB.resolve(i,a,this),e=new Bg(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let s=t.startState.facet(rF)?t.newSelection:t.newSelection.asSingle();new Bg(r,t.newDoc,s,e,(c,f)=>f.update(c,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:Sn.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,r=t(e.ranges[0]),i=this.changes(r.changes),a=[r.range],s=_w(r.effects);for(let c=1;c<e.ranges.length;c++){let f=t(e.ranges[c]),d=this.changes(f.changes),h=d.map(i);for(let y=0;y<c;y++)a[y]=a[y].map(h);let m=i.mapDesc(d,!0);a.push(f.range.map(m)),i=i.compose(h),s=mu.mapEffects(s,h).concat(mu.mapEffects(_w(f.effects),m))}return{changes:i,selection:Sn.create(a,e.mainIndex),effects:s}}changes(t=[]){return t instanceof um?t:um.of(t,this.doc.length,this.facet(Bg.lineSeparator))}toText(t){return Wc.of(t.split(this.facet(Bg.lineSeparator)||QM))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(dx(this,e),GS(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let i=t[r];i instanceof xd&&this.config.address[i.id]!=null&&(e[r]=i.spec.toJSON(this.field(t[r]),this))}return e}static fromJSON(t,e={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(t,a)){let s=r[a],c=t[a];i.push(s.init(f=>s.spec.fromJSON(c,f)))}}return Bg.create({doc:t.doc,selection:Sn.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=wB.resolve(t.extensions||[],new Map),r=t.doc instanceof Wc?t.doc:Wc.of((t.doc||"").split(e.staticFacet(Bg.lineSeparator)||QM)),i=t.selection?t.selection instanceof Sn?t.selection:Sn.single(t.selection.anchor,t.selection.head):Sn.single(0);return rU(i,r.length),e.staticFacet(rF)||(i=i.asSingle()),new Bg(e,r,i,e.dynamicSlots.map(()=>null),(a,s)=>s.create(a),null)}get tabSize(){return this.facet(Bg.tabSize)}get lineBreak(){return this.facet(Bg.lineSeparator)||`
`}get readOnly(){return this.facet(dU)}phrase(t,...e){for(let r of this.facet(Bg.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>e.length?r:e[a-1]})),t}languageDataAt(t,e,r=-1){let i=[];for(let a of this.facet(lU))for(let s of a(this,e,r))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return function(e){return r=>{if(!/\S/.test(r))return vh.Space;if(function(i){if(iF)return iF.test(i);for(let a=0;a<i.length;a++){let s=i[a];if(/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||a3.test(s)))return!0}return!1}(r))return vh.Word;for(let i=0;i<e.length;i++)if(r.indexOf(e[i])>-1)return vh.Word;return vh.Other}}(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:r,length:i}=this.doc.lineAt(t),a=this.charCategorizer(t),s=t-r,c=t-r;for(;s>0;){let f=Lp(e,s,!1);if(a(e.slice(f,s))!=vh.Word)break;s=f}for(;c<i;){let f=Lp(e,c);if(a(e.slice(c,f))!=vh.Word)break;c=f}return s==c?null:Sn.range(s+r,c+r)}};function Jm(n,t,e={}){let r={};for(let i of n)for(let a of Object.keys(i)){let s=i[a],c=r[a];if(c===void 0)r[a]=s;else if(!(c===s||s===void 0)){if(!Object.hasOwnProperty.call(e,a))throw new Error("Config merge conflict for field "+a);r[a]=e[a](c,s)}}for(let i in t)r[i]===void 0&&(r[i]=t[i]);return r}jh.allowMultipleSelections=rF,jh.tabSize=Gr.define({combine:n=>n.length?n[0]:4}),jh.lineSeparator=cU,jh.readOnly=dU,jh.phrases=Gr.define({compare(n,t){let e=Object.keys(n),r=Object.keys(t);return e.length==r.length&&e.every(i=>n[i]==t[i])}}),jh.languageData=lU,jh.changeFilter=fU,jh.transactionFilter=hU,jh.transactionExtender=pU,aU.reconfigure=mu.define();let G0=class{eq(t){return this==t}range(t,e=t){return oF.create(t,e,this)}};G0.prototype.startSide=G0.prototype.endSide=0,G0.prototype.point=!1,G0.prototype.mapMode=md.TrackDel;let oF=class vU{constructor(t,e,r){this.from=t,this.to=e,this.value=r}static create(t,e,r){return new vU(t,e,r)}};function UA(n,t){return n.from-t.from||n.value.startSide-t.value.startSide}let s3=class yU{constructor(t,e,r,i){this.from=t,this.to=e,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,r,i=0){let a=r?this.to:this.from;for(let s=i,c=a.length;;){if(s==c)return s;let f=s+c>>1,d=a[f]-t||(r?this.value[f].endSide:this.value[f].startSide)-e;if(f==s)return d>=0?s:c;d>=0?c=f:s=f+1}}between(t,e,r,i){for(let a=this.findIndex(e,-1e9,!0),s=this.findIndex(r,1e9,!1,a);a<s;a++)if(i(this.from[a]+t,this.to[a]+t,this.value[a])===!1)return!1}map(t,e){let r=[],i=[],a=[],s=-1,c=-1;for(let f=0;f<this.value.length;f++){let d,h,m=this.value[f],y=this.from[f]+t,w=this.to[f]+t;if(y==w){let C=e.mapPos(y,m.startSide,m.mapMode);if(C==null||(d=h=C,m.startSide!=m.endSide&&(h=e.mapPos(y,m.endSide),h<d)))continue}else if(d=e.mapPos(y,m.startSide),h=e.mapPos(w,m.endSide),d>h||d==h&&m.startSide>0&&m.endSide<=0)continue;(h-d||m.endSide-m.startSide)<0||(s<0&&(s=d),m.point&&(c=Math.max(c,h-d)),r.push(m),i.push(d-s),a.push(h-s))}return{mapped:r.length?new yU(i,a,r,c):null,pos:s}}},wh=class ov{constructor(t,e,r,i){this.chunkPos=t,this.chunk=e,this.nextLayer=r,this.maxPoint=i}static create(t,e,r,i){return new ov(t,e,r,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=t,s=t.filter;if(e.length==0&&!s)return this;if(r&&(e=e.slice().sort(UA)),this.isEmpty)return e.length?ov.of(e):this;let c=new bU(this,null,-1).goto(0),f=0,d=[],h=new Kw;for(;c.value||f<e.length;)if(f<e.length&&(c.from-e[f].from||c.startSide-e[f].value.startSide)>=0){let m=e[f++];h.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==e.length||this.chunkEnd(c.chunkIndex)<e[f].from)&&(!s||i>this.chunkEnd(c.chunkIndex)||a<this.chunkPos[c.chunkIndex])&&h.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!s||i>c.to||a<c.from||s(c.from,c.to,c.value))&&(h.addInner(c.from,c.to,c.value)||d.push(oF.create(c.from,c.to,c.value))),c.next());return h.finishInner(this.nextLayer.isEmpty&&!d.length?ov.empty:this.nextLayer.update({add:d,filter:s,filterFrom:i,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let c=this.chunkPos[s],f=this.chunk[s],d=t.touchesRange(c,c+f.length);if(d===!1)i=Math.max(i,f.maxPoint),e.push(f),r.push(t.mapPos(c));else if(d===!0){let{mapped:h,pos:m}=f.map(c,t);h&&(i=Math.max(i,h.maxPoint),e.push(h),r.push(m))}}let a=this.nextLayer.map(t);return e.length==0?a:new ov(r,e,a||ov.empty,i)}between(t,e,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],s=this.chunk[i];if(e>=a&&t<=a+s.length&&s.between(a,t-a,e-a,r)===!1)return}this.nextLayer.between(t,e,r)}}iter(t=0){return aF.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return aF.from(t).goto(e)}static compare(t,e,r,i,a=-1){let s=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),c=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),f=xB(s,c,r),d=new kb(s,f,a),h=new kb(c,f,a);r.iterGaps((m,y,w)=>DB(d,m,h,y,w,i)),r.empty&&r.length==0&&DB(d,0,h,0,0,i)}static eq(t,e,r=0,i){i==null&&(i=999999999);let a=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0),s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0);if(a.length!=s.length)return!1;if(!a.length)return!0;let c=xB(a,s),f=new kb(a,c,0).goto(r),d=new kb(s,c,0).goto(r);for(;;){if(f.to!=d.to||!sF(f.active,d.active)||f.point&&(!d.point||!f.point.eq(d.point)))return!1;if(f.to>i)return!0;f.next(),d.next()}}static spans(t,e,r,i,a=-1){let s=new kb(t,null,a).goto(e),c=e,f=s.openStart;for(;;){let d=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),m=s.pointFrom<e?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,f);i.point(c,d,s.point,h,m,s.pointRank),f=Math.min(s.openEnd(d),h.length)}else d>c&&(i.span(c,d,s.active,f),f=s.openEnd(d));if(s.to>r)return f+(s.point&&s.to>r?1:0);c=s.to,s.next()}}static of(t,e=!1){let r=new Kw;for(let i of t instanceof oF?[t]:e?function(a){if(a.length>1)for(let s=a[0],c=1;c<a.length;c++){let f=a[c];if(UA(s,f)>0)return a.slice().sort(UA);s=f}return a}(t):t)r.add(i.from,i.to,i.value);return r.finish()}static join(t){if(!t.length)return ov.empty;let e=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=ov.empty;i=i.nextLayer)e=new ov(i.chunkPos,i.chunk,e,Math.max(i.maxPoint,e.maxPoint));return e}};wh.empty=new wh([],[],null,-1),wh.empty.nextLayer=wh.empty;let Kw=class wU{finishChunk(t){this.chunks.push(new s3(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,r){this.addInner(t,e,r)||(this.nextLayer||(this.nextLayer=new wU)).add(t,e,r)}addInner(t,e,r){let i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0||(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=e,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),0))}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let r=e.value.length-1;return this.last=e.value[r],this.lastFrom=e.from[r]+t,this.lastTo=e.to[r]+t,!0}finish(){return this.finishInner(wh.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=wh.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}};function xB(n,t,e){let r=new Map;for(let a of n)for(let s=0;s<a.chunk.length;s++)a.chunk[s].maxPoint<=0&&r.set(a.chunk[s],a.chunkPos[s]);let i=new Set;for(let a of t)for(let s=0;s<a.chunk.length;s++){let c=r.get(a.chunk[s]);c==null||(e?e.mapPos(c):c)!=a.chunkPos[s]||e!=null&&e.touchesRange(c,c+a.chunk[s].length)||i.add(a.chunk[s])}return i}let bU=class{constructor(t,e,r,i=0){this.layer=t,this.skip=e,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],r=t+e.from[this.rangeIndex];if(this.from=r,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}},aF=class xU{constructor(t){this.heap=t}static from(t,e=null,r=-1){let i=[];for(let a=0;a<t.length;a++)for(let s=t[a];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new bU(s,e,r,a));return i.length==1?i[0]:new xU(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let r of this.heap)r.goto(t,e);for(let r=this.heap.length>>1;r>=0;r--)$A(this.heap,r);return this.next(),this}forward(t,e){for(let r of this.heap)r.forward(t,e);for(let r=this.heap.length>>1;r>=0;r--)$A(this.heap,r);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),$A(this.heap,0)}}};function $A(n,t){for(let e=n[t];;){let r=1+(t<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),e.compare(i)<0)break;n[r]=e,n[t]=i,t=r}}let kb=class{constructor(t,e,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=aF.from(t,e,r)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){cC(this.active,t),cC(this.activeTo,t),cC(this.activeRank,t),this.minActive=CB(this.active,this.activeTo)}addActive(t){let e=0,{value:r,to:i,rank:a}=this.cursor;for(;e<this.activeRank.length&&(a-this.activeRank[e]||i-this.activeTo[e])>0;)e++;fC(this.active,e,r),fC(this.activeTo,e,i),fC(this.activeRank,e,a),t&&fC(t,e,this.cursor.from),this.minActive=CB(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&cC(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let a=this.cursor.value;if(a.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&e.push(this.active[r]);return e.reverse()}openEnd(t){let e=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)e++;return e}};function DB(n,t,e,r,i,a){n.goto(t),e.goto(r);let s=r+i,c=r,f=r-t;for(;;){let d=n.to+f-e.to||n.endSide-e.endSide,h=d<0?n.to+f:e.to,m=Math.min(h,s);if(n.point||e.point?n.point&&e.point&&(n.point==e.point||n.point.eq(e.point))&&sF(n.activeForPoint(n.to),e.activeForPoint(e.to))||a.comparePoint(c,m,n.point,e.point):m>c&&!sF(n.active,e.active)&&a.compareRange(c,m,n.active,e.active),h>s)break;c=h,d<=0&&n.next(),d>=0&&e.next()}}function sF(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!=t[e]&&!n[e].eq(t[e]))return!1;return!0}function cC(n,t){for(let e=t,r=n.length-1;e<r;e++)n[e]=n[e+1];n.pop()}function fC(n,t,e){for(let r=n.length-1;r>=t;r--)n[r+1]=n[r];n[t]=e}function CB(n,t){let e=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||n[i].endSide-n[e].endSide)<0&&(e=i,r=t[i]);return e}function pb(n,t,e=n.length){let r=0;for(let i=0;i<e;)n.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=Lp(n,i));return r}function uF(n,t,e,r){for(let i=0,a=0;;){if(a>=t)return i;if(i==n.length)break;a+=n.charCodeAt(i)==9?e-a%e:1,i=Lp(n,i)}return r===!0?-1:n.length}const _B=typeof Symbol>"u"?"__":Symbol.for(""),lF=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),SB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};let d0=class{constructor(t,e){this.rules=[];let{finish:r}=e||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function a(s,c,f,d){let h=[],m=/^@(\w+)\b/.exec(s[0]),y=m&&m[1]=="keyframes";if(m&&c==null)return f.push(s[0]+";");for(let w in c){let C=c[w];if(/&/.test(w))a(w.split(/,\s*/).map(k=>s.map(M=>k.replace(/&/,M))).reduce((k,M)=>k.concat(M)),C,f);else if(C&&typeof C=="object"){if(!m)throw new RangeError("The value of a property ("+w+") should be a primitive value.");a(i(w),C,h,y)}else C!=null&&h.push(w.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+C+";")}(h.length||y)&&f.push((!r||m||d?s:s.map(r)).join(", ")+" {"+h.join(" ")+"}")}for(let s in t)a(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=SB[_B]||1;return SB[_B]=t+1,""+t.toString(36)}static mount(t,e,r){let i=t[lF],a=r&&r.nonce;i?a&&i.setNonce(a):i=new u3(t,a),i.mount(Array.isArray(e)?e:[e],t)}},EB=new Map,u3=class{constructor(t,e){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let a=EB.get(r);if(a)return t[lF]=a;this.sheet=new i.CSSStyleSheet,EB.set(r,this)}else this.styleTag=r.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[lF]=this}mount(t,e){let r=this.sheet,i=0,a=0;for(let s=0;s<t.length;s++){let c=t[s],f=this.modules.indexOf(c);if(f<a&&f>-1&&(this.modules.splice(f,1),a--,f=-1),f==-1){if(this.modules.splice(a++,0,c),r)for(let d=0;d<c.rules.length;d++)r.insertRule(c.rules[d],i++)}else{for(;a<f;)i+=this.modules[a++].rules.length;i+=c.rules.length,a++}}if(r)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let s="";for(let f=0;f<this.modules.length;f++)s+=this.modules[f].getRules()+`
`;this.styleTag.textContent=s;let c=e.head||e;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}};for(var g0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zx={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},l3=typeof navigator<"u"&&/Mac/.test(navigator.platform),c3=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Fp=0;Fp<10;Fp++)g0[48+Fp]=g0[96+Fp]=String(Fp);for(Fp=1;Fp<=24;Fp++)g0[Fp+111]="F"+Fp;for(Fp=65;Fp<=90;Fp++)g0[Fp]=String.fromCharCode(Fp+32),zx[Fp]=String.fromCharCode(Fp);for(var WA in g0)zx.hasOwnProperty(WA)||(zx[WA]=g0[WA]);function Ux(n){let t;return t=n.nodeType==11?n.getSelection?n:n.ownerDocument:n,t.getSelection()}function cF(n,t){return!!t&&(n==t||n.contains(t.nodeType!=1?t.parentNode:t))}function V_(n,t){if(!t.anchorNode)return!1;try{return cF(n,t.anchorNode)}catch{return!1}}function $x(n){return n.nodeType==3?gy(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function gx(n,t,e,r){return!!e&&(AB(n,t,e,r,-1)||AB(n,t,e,r,1))}function dy(n){for(var t=0;;t++)if(!(n=n.previousSibling))return t}function YS(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function AB(n,t,e,r,i){for(;;){if(n==e&&t==r)return!0;if(t==(i<0?0:Hm(n))){if(n.nodeName=="DIV")return!1;let a=n.parentNode;if(!a||a.nodeType!=1)return!1;t=dy(n)+(i<0?0:1),n=a}else{if(n.nodeType!=1||(n=n.childNodes[t+(i<0?-1:0)]).nodeType==1&&n.contentEditable=="false")return!1;t=i<0?Hm(n):0}}}function Hm(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function kE(n,t){let e=t?n.left:n.right;return{left:e,right:e,top:n.top,bottom:n.bottom}}function f3(n){let t=n.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function DU(n,t){let e=t.width/n.offsetWidth,r=t.height/n.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-n.offsetWidth)<1)&&(e=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-n.offsetHeight)<1)&&(r=1),{scaleX:e,scaleY:r}}let h3=class{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:r}=t;this.set(e,Math.min(t.anchorOffset,e?Hm(e):0),r,Math.min(t.focusOffset,r?Hm(r):0))}set(t,e,r,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=r,this.focusOffset=i}},kB,jy=null;function CU(n){if(n.setActive)return n.setActive();if(jy)return n.focus(jy);let t=[];for(let e=n;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(n.focus(jy==null?{get preventScroll(){return jy={preventScroll:!0},!0}}:void 0),!jy){jy=!1;for(let e=0;e<t.length;){let r=t[e++],i=t[e++],a=t[e++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}function gy(n,t,e=t){let r=kB||(kB=document.createRange());return r.setEnd(n,e),r.setStart(n,t),r}function Sw(n,t,e,r){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,n.dispatchEvent(a);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),a.defaultPrevented||s.defaultPrevented}function _U(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function SU(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function EU(n,t){for(let e=n,r=t;;){if(e.nodeType==3&&r>0)return{node:e,offset:r};if(e.nodeType==1&&r>0){if(e.contentEditable=="false")return null;e=e.childNodes[r-1],r=Hm(e)}else{if(!e.parentNode||YS(e))return null;r=dy(e),e=e.parentNode}}}function AU(n,t){for(let e=n,r=t;;){if(e.nodeType==3&&r<e.nodeValue.length)return{node:e,offset:r};if(e.nodeType==1&&r<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[r],r=0}else{if(!e.parentNode||YS(e))return null;r=dy(e)+1,e=e.parentNode}}}let Zd=class fF{constructor(t,e,r=!0){this.node=t,this.offset=e,this.precise=r}static before(t,e){return new fF(t.parentNode,dy(t),e)}static after(t,e){return new fF(t.parentNode,dy(t)+1,e)}};const CO=[];let yh=class hF{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let r of this.children){if(r==t)return e;e+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let r,i=this.dom,a=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(r=a?a.nextSibling:i.firstChild)){let c=hF.get(r);(!c||!c.parent&&c.canReuseDOM(s))&&s.reuseDOM(r)}s.sync(t,e),s.flags&=-8}if(r=a?a.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&r!=s.dom&&(e.written=!0),s.dom.parentNode==i)for(;r&&r!=s.dom;)r=MB(r);else i.insertBefore(s.dom,r);a=s.dom}for(r=a?a.nextSibling:i.firstChild,r&&e&&e.node==i&&(e.written=!0);r;)r=MB(r)}else if(1&this.flags)for(let r of this.children)7&r.flags&&(r.sync(t,e),r.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let r;if(t==this.dom)r=this.dom.childNodes[e];else{let i=Hm(t)==0?0:e==0?-1:1;for(;;){let a=t.parentNode;if(a==this.dom)break;i==0&&a.firstChild!=a.lastChild&&(i=t==a.firstChild?-1:1),t=a}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!hF.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,a=0;;i++){let s=this.children[i];if(s.dom==r)return a;a+=s.length+s.breakAfter}}domBoundsAround(t,e,r=0){let i=-1,a=-1,s=-1,c=-1;for(let f=0,d=r,h=r;f<this.children.length;f++){let m=this.children[f],y=d+m.length;if(d<t&&y>e)return m.domBoundsAround(t,e,d);if(y>=t&&i==-1&&(i=f,a=d),d>e&&m.dom.parentNode==this.dom){s=f,c=h;break}h=y,d=y+m.breakAfter}return{from:a,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,r=CO){this.markDirty();for(let i=t;i<e;i++){let a=this.children[i];a.parent==this&&r.indexOf(a)<0&&a.destroy()}r.length<250?this.children.splice(t,e-t,...r):this.children=[].concat(this.children.slice(0,t),r,this.children.slice(e));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new kU(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,r,i,a,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}};function MB(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}yh.prototype.breakAfter=0;let kU=class{constructor(t,e,r){this.children=t,this.pos=e,this.i=r,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}};function MU(n,t,e,r,i,a,s,c,f){let{children:d}=n,h=d.length?d[t]:null,m=a.length?a[a.length-1]:null,y=m?m.breakAfter:s;if(!(t==r&&h&&!s&&!y&&a.length<2&&h.merge(e,i,a.length?m:null,e==0,c,f))){if(r<d.length){let w=d[r];w&&(i<w.length||w.breakAfter&&(m!=null&&m.breakAfter))?(t==r&&(w=w.split(i),i=0),!y&&m&&w.merge(0,i,m,!0,0,f)?a[a.length-1]=w:((i||w.children.length&&!w.children[0].length)&&w.merge(0,i,null,!1,0,f),a.push(w))):w!=null&&w.breakAfter&&(m?m.breakAfter=1:s=1),r++}for(h&&(h.breakAfter=s,e>0&&(!s&&a.length&&h.merge(e,h.length,a[0],!1,c,0)?h.breakAfter=a.shift().breakAfter:(e<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(e,h.length,null,!1,c,0),t++));t<r&&a.length;)if(d[r-1].become(a[a.length-1]))r--,a.pop(),f=a.length?0:c;else{if(!d[t].become(a[0]))break;t++,a.shift(),c=a.length?0:f}!a.length&&t&&r<d.length&&!d[t-1].breakAfter&&d[r].merge(0,0,d[t-1],!1,c,f)&&t--,(t<r||a.length)&&n.replaceChildren(t,r,a)}}function FU(n,t,e,r,i,a){let s=n.childCursor(),{i:c,off:f}=s.findPos(e,1),{i:d,off:h}=s.findPos(t,-1),m=t-e;for(let y of r)m+=y.length;n.length+=m,MU(n,d,h,c,f,r,0,i,a)}let Td=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},pF=typeof document<"u"?document:{documentElement:{style:{}}};const dF=/Edge\/(\d+)/.exec(Td.userAgent),PU=/MSIE \d/.test(Td.userAgent),gF=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Td.userAgent),ME=!!(PU||gF||dF),FB=!ME&&/gecko\/(\d+)/i.test(Td.userAgent),HA=!ME&&/Chrome\/(\d+)/.exec(Td.userAgent),PB="webkitFontSmoothing"in pF.documentElement.style,TU=!ME&&/Apple Computer/.test(Td.vendor),TB=TU&&(/Mobile\/\w+/.test(Td.userAgent)||Td.maxTouchPoints>2);var ni={mac:TB||/Mac/.test(Td.platform),windows:/Win/.test(Td.platform),linux:/Linux|X11/.test(Td.platform),ie:ME,ie_version:PU?pF.documentMode||6:gF?+gF[1]:dF?+dF[1]:0,gecko:FB,gecko_version:FB?+(/Firefox\/(\d+)/.exec(Td.userAgent)||[0,0])[1]:0,chrome:!!HA,chrome_version:HA?+HA[1]:0,ios:TB,android:/Android\b/.test(Td.userAgent),webkit:PB,safari:TU,webkit_version:PB?+(/\bAppleWebKit\/(\d+)/.exec(Td.userAgent)||[0,0])[1]:0,tabSize:pF.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};let m0=class mF extends yh{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,r){return!(8&this.flags||r&&(!(r instanceof mF)||this.length-(e-t)+r.length>256||8&r.flags)||(this.text=this.text.slice(0,t)+(r?r.text:"")+this.text.slice(e),this.markDirty(),0))}split(t){let e=new mF(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new Zd(this.dom,t)}domBoundsAround(t,e,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(r,i,a){let s=r.nodeValue.length;i>s&&(i=s);let c=i,f=i,d=0;i==0&&a<0||i==s&&a>=0?ni.chrome||ni.gecko||(i?(c--,d=1):f<s&&(f++,d=-1)):a<0?c--:f<s&&f++;let h=gy(r,c,f).getClientRects();if(!h.length)return null;let m=h[(d?d<0:a>=0)?0:h.length-1];return ni.safari&&!d&&m.width==0&&(m=Array.prototype.find.call(h,y=>y.width)||m),d?kE(m,d<0):m||null}(this.dom,t,e)}},Gw=class vF extends yh{constructor(t,e=[],r=0){super(),this.mark=t,this.children=e,this.length=r;for(let i of e)i.setParent(this)}setAttrs(t){if(_U(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,r,i,a,s){return!(r&&(!(r instanceof vF&&r.mark.eq(this.mark))||t&&a<=0||e<this.length&&s<=0)||(FU(this,t,e,r?r.children.slice():[],a-1,s-1),this.markDirty(),0))}split(t){let e=[],r=0,i=-1,a=0;for(let c of this.children){let f=r+c.length;f>t&&e.push(r<t?c.split(t-r):c),i<0&&r>=t&&(i=a),r=f,a++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new vF(this.mark,e,s)}domAtPos(t){return OU(this,t)}coordsAt(t,e){return IU(this,t,e)}},_O=class Vb extends yh{static create(t,e,r){return new Vb(t,e,r)}constructor(t,e,r){super(),this.widget=t,this.length=e,this.side=r,this.prevWidget=null}split(t){let e=Vb.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,r,i,a,s){return!(r&&(!(r instanceof Vb&&this.widget.compare(r.widget))||t>0&&a<=0||e<this.length&&s<=0)||(this.length=t+(r?r.length:0)+(this.length-e),0))}become(t){return t instanceof Vb&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return Wc.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Wc.empty}domAtPos(t){return(this.length?t==0:this.side>0)?Zd.before(this.dom):Zd.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let r=this.widget.coordsAt(this.dom,t,e);if(r)return r;let i=this.dom.getClientRects(),a=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let c=s?i.length-1:0;a=i[c],!(t>0?c==0:c==i.length-1||a.top<a.bottom);c+=s?-1:1);return kE(a,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}},yF=class wF extends yh{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof wF&&t.side==this.side}split(){return new wF(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?Zd.before(this.dom):Zd.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Wc.empty}get isHidden(){return!0}};function OU(n,t){let e=n.dom,{children:r}=n,i=0;for(let a=0;i<r.length;i++){let s=r[i],c=a+s.length;if(!(c==a&&s.getSide()<=0)){if(t>a&&t<c&&s.dom.parentNode==e)return s.domAtPos(t-a);if(t<=a)break;a=c}}for(let a=i;a>0;a--){let s=r[a-1];if(s.dom.parentNode==e)return s.domAtPos(s.length)}for(let a=i;a<r.length;a++){let s=r[a];if(s.dom.parentNode==e)return s.domAtPos(0)}return new Zd(e,0)}function NU(n,t,e){let r,{children:i}=n;e>0&&t instanceof Gw&&i.length&&(r=i[i.length-1])instanceof Gw&&r.mark.eq(t.mark)?NU(r,t.children[0],e-1):(i.push(t),t.setParent(n)),n.length+=t.length}function IU(n,t,e){let r=null,i=-1,a=null,s=-1;(function f(d,h){for(let m=0,y=0;m<d.children.length&&y<=h;m++){let w=d.children[m],C=y+w.length;C>=h&&(w.children.length?f(w,h-y):(!a||a.isHidden&&e>0)&&(C>h||y==C&&w.getSide()>0)?(a=w,s=h-y):(y<h||y==C&&w.getSide()<0&&!w.isHidden)&&(r=w,i=h-y)),y=C}})(n,t);let c=(e<0?r:a)||r||a;return c?c.coordsAt(Math.max(0,c==r?i:s),e):function(f){let d=f.dom.lastChild;if(!d)return f.dom.getBoundingClientRect();let h=$x(d);return h[h.length-1]||null}(n)}function bF(n,t){for(let e in n)e=="class"&&t.class?t.class+=" "+n.class:e=="style"&&t.style?t.style+=";"+n.style:t[e]=n[e];return t}m0.prototype.children=_O.prototype.children=yF.prototype.children=CO;const OB=Object.create(null);function XS(n,t,e){if(n==t)return!0;n||(n=OB),t||(t=OB);let r=Object.keys(n),i=Object.keys(t);if(r.length-(e&&r.indexOf(e)>-1?1:0)!=i.length-(e&&i.indexOf(e)>-1?1:0))return!1;for(let a of r)if(a!=e&&(i.indexOf(a)==-1||n[a]!==t[a]))return!1;return!0}function xF(n,t,e){let r=!1;if(t)for(let i in t)e&&i in e||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(e)for(let i in e)t&&t[i]==e[i]||(r=!0,i=="style"?n.style.cssText=e[i]:n.setAttribute(i,e[i]));return r}function p3(n){let t=Object.create(null);for(let e=0;e<n.attributes.length;e++){let r=n.attributes[e];t[r.name]=r.value}return t}let A0=class{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}};var yd=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(yd||(yd={}));let ya=class extends G0{constructor(t,e,r,i){super(),this.startSide=t,this.endSide=e,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(t){return new SO(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return e+=r&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new Yw(t,e,e,r,t.widget||null,!1)}static replace(t){let e,r,i=!!t.block;if(t.isBlockGap)e=-5e8,r=4e8;else{let{start:a,end:s}=LU(t,i);e=(a?i?-3e8:-1:5e8)-1,r=1+(s?i?2e8:1:-6e8)}return new Yw(t,e,r,i,t.widget||null,!0)}static line(t){return new DF(t)}static set(t,e=!1){return wh.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}};ya.none=wh.empty;let SO=class BU extends ya{constructor(t){let{start:e,end:r}=LU(t);super(e?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,r;return this==t||t instanceof BU&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((r=t.attrs)===null||r===void 0?void 0:r.class))&&XS(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}};SO.prototype.point=!1;let DF=class RU extends ya{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof RU&&this.spec.class==t.spec.class&&XS(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}};DF.prototype.mapMode=md.TrackBefore,DF.prototype.point=!0;let Yw=class jU extends ya{constructor(t,e,r,i,a,s){super(e,r,a,t),this.block=i,this.isReplace=s,this.mapMode=i?e<=0?md.TrackBefore:md.TrackAfter:md.TrackDel}get type(){return this.startSide!=this.endSide?yd.WidgetRange:this.startSide<=0?yd.WidgetBefore:yd.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof jU&&function(e,r){return e==r||!!(e&&r&&e.compare(r))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}};function LU(n,t=!1){let{inclusiveStart:e,inclusiveEnd:r}=n;return e==null&&(e=n.inclusive),r==null&&(r=n.inclusive),{start:e??t,end:r??t}}function CF(n,t,e,r=0){let i=e.length-1;i>=0&&e[i]+r>=n?e[i]=Math.max(e[i],t):e.push(n,t)}Yw.prototype.point=!0;let pd=class qb extends yh{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,r,i,a,s){if(r){if(!(r instanceof qb))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),FU(this,t,e,r?r.children.slice():[],a,s),!0}split(t){let e=new qb;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i:r,off:i}=this.childPos(t);i&&(e.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let a=r;a<this.children.length;a++)e.append(this.children[a],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){XS(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){NU(this,t,e)}addLineDeco(t){let e=t.spec.attributes,r=t.spec.class;e&&(this.attrs=bF(e,this.attrs||{})),r&&(this.attrs=bF({class:r},this.attrs||{}))}domAtPos(t){return OU(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var r;this.dom?4&this.flags&&(_U(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(xF(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let i=this.dom.lastChild;for(;i&&yh.get(i)instanceof Gw;)i=i.lastChild;if(!(i&&this.length&&(i.nodeName=="BR"||((r=yh.get(i))===null||r===void 0?void 0:r.isEditable)!=0||ni.ios&&this.children.some(a=>a instanceof m0)))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t,e=0;for(let r of this.children){if(!(r instanceof m0)||/[^ -~]/.test(r.text))return null;let i=$x(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let r=IU(this,t,e);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,a=r.bottom-r.top;if(Math.abs(a-i.lineHeight)<2&&i.textHeight<a){let s=(a-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(t){return t instanceof qb&&this.children.length==0&&t.children.length==0&&XS(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let r=0,i=0;r<t.children.length;r++){let a=t.children[r],s=i+a.length;if(s>=e){if(a instanceof qb)return a;if(s>e)break}i=s+a.breakAfter}return null}},mx=class q_ extends yh{constructor(t,e,r){super(),this.widget=t,this.length=e,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(t,e,r,i,a,s){return!(r&&(!(r instanceof q_&&this.widget.compare(r.widget))||t>0&&a<=0||e<this.length&&s<=0)||(this.length=t+(r?r.length:0)+(this.length-e),0))}domAtPos(t){return t==0?Zd.before(this.dom):Zd.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let r=new q_(this.widget,e,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return CO}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Wc.empty}domBoundsAround(){return null}become(t){return t instanceof q_&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof _F?null:kE(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:r}=this.deco;return e!=r&&(t<0?e<0:r>0)}},_F=class extends A0{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}},VA=class zU{constructor(t,e,r,i){this.doc=t,this.pos=e,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof mx&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new pd),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(hC(new yF(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof mx||this.getLine()}buildText(t,e,r){for(;t>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:s,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=a,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-r)),this.getLine().append(hC(new m0(this.text.slice(this.textOff,this.textOff+i)),e),r),this.atCursorPos=!0,this.textOff+=i,t-=i,r=0}}span(t,e,r,i){this.buildText(e-t,r,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,r,i,a,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Yw){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=e-t;if(r instanceof Yw)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new mx(r.widget||fw.block,c,r));else{let f=_O.create(r.widget||fw.inline,c,c?0:r.startSide),d=this.atCursorPos&&!f.isEditable&&a<=i.length&&(t<e||r.startSide>0),h=!f.isEditable&&(t<e||a>i.length||r.startSide<=0),m=this.getLine();this.pendingBuffer!=2||d||f.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),d&&(m.append(hC(new yF(1),i),a),a=i.length+Math.max(0,a-i.length)),m.append(hC(f,i),a),this.atCursorPos=h,this.pendingBuffer=h?t<e||a>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=a)}static build(t,e,r,i,a){let s=new zU(t,e,r,a);return s.openEnd=wh.spans(i,e,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}};function hC(n,t){for(let e of t)n=new Gw(e,[n],n.length);return n}let fw=class extends A0{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}};fw.inline=new fw("span"),fw.block=new fw("div");var ah=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(ah||(ah={}));const my=ah.LTR,EO=ah.RTL;function UU(n){let t=[];for(let e=0;e<n.length;e++)t.push(1<<+n[e]);return t}const d3=UU("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),g3=UU("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),SF=Object.create(null),pm=[];for(let n of["()","[]","{}"]){let t=n.charCodeAt(0),e=n.charCodeAt(1);SF[t]=e,SF[e]=-t}function $U(n){return n<=247?d3[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?g3[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const m3=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;let Vv=class{get dir(){return this.level%2?EO:my}constructor(t,e,r){this.from=t,this.to=e,this.level=r}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,r,i){let a=-1;for(let s=0;s<t.length;s++){let c=t[s];if(c.from<=e&&c.to>=e){if(c.level==r)return s;(a<0||(i!=0?i<0?c.from<e:c.to>e:t[a].level>c.level))&&(a=s)}}if(a<0)throw new RangeError("Index out of range");return a}};function WU(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++){let r=n[e],i=t[e];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!WU(r.inner,i.inner))return!1}return!0}const _f=[];function EF(n,t,e,r,i,a,s){let c=r%2?2:1;if(r%2==i%2)for(let f=t,d=0;f<e;){let h=!0,m=!1;if(d==a.length||f<a[d].from){let k=_f[f];k!=c&&(h=!1,m=k==16)}let y=h||c!=1?null:[],w=h?r:r+1,C=f;t:for(;;)if(d<a.length&&C==a[d].from){if(m)break t;let k=a[d];if(!h)for(let M=k.to,N=d+1;;){if(M==e)break t;if(!(N<a.length&&a[N].from==M)){if(_f[M]==c)break t;break}M=a[N++].to}d++,y?y.push(k):(k.from>f&&s.push(new Vv(f,k.from,w)),AF(n,k.direction==my!=!(w%2)?r+1:r,i,k.inner,k.from,k.to,s),f=k.to),C=k.to}else{if(C==e||(h?_f[C]!=c:_f[C]==c))break;C++}y?EF(n,f,C,r+1,i,y,s):f<C&&s.push(new Vv(f,C,w)),f=C}else for(let f=e,d=a.length;f>t;){let h=!0,m=!1;if(!d||f>a[d-1].to){let k=_f[f-1];k!=c&&(h=!1,m=k==16)}let y=h||c!=1?null:[],w=h?r:r+1,C=f;t:for(;;)if(d&&C==a[d-1].to){if(m)break t;let k=a[--d];if(!h)for(let M=k.from,N=d;;){if(M==t)break t;if(!N||a[N-1].to!=M){if(_f[M-1]==c)break t;break}M=a[--N].from}y?y.push(k):(k.to<f&&s.push(new Vv(k.to,f,w)),AF(n,k.direction==my!=!(w%2)?r+1:r,i,k.inner,k.from,k.to,s),f=k.from),C=k.from}else{if(C==t||(h?_f[C-1]!=c:_f[C-1]==c))break;C--}y?EF(n,C,f,r+1,i,y,s):C<f&&s.push(new Vv(C,f,w)),f=C}}function AF(n,t,e,r,i,a,s){let c=t%2?2:1;(function(f,d,h,m,y){for(let w=0;w<=m.length;w++){let C=w?m[w-1].to:d,k=w<m.length?m[w].from:h,M=w?256:y;for(let N=C,B=M,L=M;N<k;N++){let z=$U(f.charCodeAt(N));z==512?z=B:z==8&&L==4&&(z=16),_f[N]=z==4?2:z,7&z&&(L=z),B=z}for(let N=C,B=M,L=M;N<k;N++){let z=_f[N];if(z==128)N<k-1&&B==_f[N+1]&&24&B?z=_f[N]=B:_f[N]=256;else if(z==64){let q=N+1;for(;q<k&&_f[q]==64;)q++;let V=N&&B==8||q<h&&_f[q]==8?L==1?1:8:256;for(let X=N;X<q;X++)_f[X]=V;N=q-1}else z==8&&L==1&&(_f[N]=1);B=z,7&z&&(L=z)}}})(n,i,a,r,c),function(f,d,h,m,y){let w=y==1?2:1;for(let C=0,k=0,M=0;C<=m.length;C++){let N=C?m[C-1].to:d,B=C<m.length?m[C].from:h;for(let L,z,q,V=N;V<B;V++)if(z=SF[L=f.charCodeAt(V)])if(z<0){for(let X=k-3;X>=0;X-=3)if(pm[X+1]==-z){let nt=pm[X+2],it=2&nt?y:4&nt?1&nt?w:y:0;it&&(_f[V]=_f[pm[X]]=it),k=X;break}}else{if(pm.length==189)break;pm[k++]=V,pm[k++]=L,pm[k++]=M}else if((q=_f[V])==2||q==1){let X=q==y;M=X?0:1;for(let nt=k-3;nt>=0;nt-=3){let it=pm[nt+2];if(2&it)break;if(X)pm[nt+2]|=2;else{if(4&it)break;pm[nt+2]|=4}}}}}(n,i,a,r,c),function(f,d,h,m){for(let y=0,w=m;y<=h.length;y++){let C=y?h[y-1].to:f,k=y<h.length?h[y].from:d;for(let M=C;M<k;){let N=_f[M];if(N==256){let B=M+1;for(;;)if(B==k){if(y==h.length)break;B=h[y++].to,k=y<h.length?h[y].from:d}else{if(_f[B]!=256)break;B++}let L=w==1,z=L==((B<d?_f[B]:m)==1)?L?1:2:m;for(let q=B,V=y,X=V?h[V-1].to:f;q>M;)q==X&&(q=h[--V].from,X=V?h[V-1].to:f),_f[--q]=z;M=B}else w=N,M++}}}(i,a,r,c),EF(n,i,a,t,e,r,s)}function NB(n){return[new Vv(0,n,0)]}let HU="";function v3(n,t,e,r,i){var a;let s=r.head-n.from,c=Vv.find(t,s,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),f=t[c],d=f.side(i,e);if(s==d){let y=c+=i?1:-1;if(y<0||y>=t.length)return null;f=t[c=y],s=f.side(!i,e),d=f.side(i,e)}let h=Lp(n.text,s,f.forward(i,e));(h<f.from||h>f.to)&&(h=d),HU=n.text.slice(Math.min(s,h),Math.max(s,h));let m=c==(i?t.length-1:0)?null:t[c+(i?1:-1)];return m&&h==d&&m.level+(i?0:1)<f.level?Sn.cursor(m.side(!i,e)+n.from,m.forward(i,e)?1:-1,m.level):Sn.cursor(h+n.from,f.forward(i,e)?-1:1,f.level)}function y3(n,t,e){for(let r=t;r<e;r++){let i=$U(n.charCodeAt(r));if(i==1)return my;if(i==2||i==4)return EO}return my}const VU=Gr.define(),qU=Gr.define(),KU=Gr.define(),GU=Gr.define(),kF=Gr.define(),YU=Gr.define(),XU=Gr.define(),AO=Gr.define(),kO=Gr.define(),JU=Gr.define({combine:n=>n.some(t=>t)}),QU=Gr.define({combine:n=>n.some(t=>t)}),ZU=Gr.define();let qA=class MF{constructor(t,e="nearest",r="nearest",i=5,a=5,s=!1){this.range=t,this.y=e,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=s}map(t){return t.empty?this:new MF(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new MF(Sn.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}};const pC=mu.define({map:(n,t)=>n.map(t)}),t$=mu.define();function Rd(n,t,e){let r=n.facet(GU);r.length?r[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const jv=Gr.define({combine:n=>!n.length||n[0]});let w3=0;const Kb=Gr.define();let Wp=class FF{constructor(t,e,r,i,a){this.id=t,this.create=e,this.domEventHandlers=r,this.domEventObservers=i,this.extension=a(this)}static define(t,e){const{eventHandlers:r,eventObservers:i,provide:a,decorations:s}=e||{};return new FF(w3++,t,r,i,c=>{let f=[Kb.of(c)];return s&&f.push(Wx.of(d=>{let h=d.plugin(c);return h?s(h):ya.none})),a&&f.push(a(c)),f})}static fromClass(t,e){return FF.define(r=>new t(r),e)}},KA=class{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(r){if(Rd(e.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Rd(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(r){Rd(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}};const e$=Gr.define(),MO=Gr.define(),Wx=Gr.define(),n$=Gr.define(),FO=Gr.define(),r$=Gr.define();function IB(n,t){let e=n.state.facet(r$);if(!e.length)return e;let r=e.map(a=>a instanceof Function?a(n):a),i=[];return wh.spans(r,t.from,t.to,{point(){},span(a,s,c,f){let d=a-t.from,h=s-t.from,m=i;for(let y=c.length-1;y>=0;y--,f--){let w,C=c[y].spec.bidiIsolate;if(C==null&&(C=y3(t.text,d,h)),f>0&&m.length&&(w=m[m.length-1]).to==d&&w.direction==C)w.to=h,m=w.inner;else{let k={from:d,to:h,direction:C,inner:[]};m.push(k),m=k.inner}}}}),i}const i$=Gr.define();function o$(n){let t=0,e=0,r=0,i=0;for(let a of n.state.facet(i$)){let s=a(n);s&&(s.left!=null&&(t=Math.max(t,s.left)),s.right!=null&&(e=Math.max(e,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:t,right:e,top:r,bottom:i}}const Gb=Gr.define();let qv=class K_{constructor(t,e,r,i){this.fromA=t,this.toA=e,this.fromB=r,this.toB=i}join(t){return new K_(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,r=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),t.splice(e-1,1)}}return t.splice(e,0,r),t}static extendWithRanges(t,e){if(e.length==0)return t;let r=[];for(let i=0,a=0,s=0,c=0;;i++){let f=i==t.length?null:t[i],d=s-c,h=f?f.fromB:1e9;for(;a<e.length&&e[a]<h;){let m=e[a],y=e[a+1],w=Math.max(c,m),C=Math.min(h,y);if(w<=C&&new K_(w+d,C+d,w,C).addToSet(r),y>h)break;a+=2}if(!f)return r;new K_(f.fromA,f.toA,f.fromB,f.toB).addToSet(r),s=f.toA,c=f.toB}}},BB=class a${constructor(t,e,r){this.view=t,this.state=e,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=um.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,s,c,f)=>i.push(new qv(a,s,c,f))),this.changedRanges=i}static create(t,e,r){return new a$(t,e,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}},RB=class extends yh{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=ya.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new pd],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new qv(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let r=t.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:f})=>f<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?i=this.domChanged.newSel.head:function(c,f){let d=!1;return f&&c.iterChangedRanges((h,m)=>{h<f.to&&m>f.from&&(d=!0)}),d}(t.changes,this.hasComposition)||t.selectionSet||(i=t.state.selection.main.head));let a=i>-1?function(c,f,d){let h=s$(c,d);if(!h)return null;let{node:m,from:y,to:w}=h,C=m.nodeValue;if(/[\n\r]/.test(C)||c.state.doc.sliceString(h.from,h.to)!=C)return null;let k=f.invertedDesc,M=new qv(k.mapPos(y),k.mapPos(w),y,w),N=[];for(let B=m.parentNode;;B=B.parentNode){let L=yh.get(B);if(L instanceof Gw)N.push({node:B,deco:L.mark});else{if(L instanceof pd||B.nodeName=="DIV"&&B.parentNode==c.contentDOM)return{range:M,text:m,marks:N,line:B};if(B==c.contentDOM)return null;N.push({node:B,deco:new SO({inclusive:!0,attributes:p3(B),tagName:B.tagName.toLowerCase()})})}}}(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:f}=this.hasComposition;r=new qv(c,f,t.changes.mapPos(c,-1),t.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ni.ie||ni.chrome)&&!a&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(c,f,d){let h=new b3;return wh.compare(c,f,d,h),h.changes}(this.decorations,this.updateDeco(),t.changes);return r=qv.extendWithRanges(r,s),!!(7&this.flags||r.length!=0)&&(this.updateInner(r,t.startState.doc.length,a),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ni.chrome||ni.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof mx&&s.widget instanceof _F&&a.push(s.dom);i.updateGaps(a)}updateChildren(t,e,r){let i=r?r.range.addToSet(t.slice()):t,a=this.childCursor(e);for(let s=i.length-1;;s--){let c=s>=0?i[s]:null;if(!c)break;let f,d,h,m,{fromA:y,toA:w,fromB:C,toB:k}=c;if(r&&r.range.fromB<k&&r.range.toB>C){let z=VA.build(this.view.state.doc,C,r.range.fromB,this.decorations,this.dynamicDecorationMap),q=VA.build(this.view.state.doc,r.range.toB,k,this.decorations,this.dynamicDecorationMap);d=z.breakAtStart,h=z.openStart,m=q.openEnd;let V=this.compositionView(r);q.breakAtStart?V.breakAfter=1:q.content.length&&V.merge(V.length,V.length,q.content[0],!1,q.openStart,0)&&(V.breakAfter=q.content[0].breakAfter,q.content.shift()),z.content.length&&V.merge(0,0,z.content[z.content.length-1],!0,0,z.openEnd)&&z.content.pop(),f=z.content.concat(V).concat(q.content)}else({content:f,breakAtStart:d,openStart:h,openEnd:m}=VA.build(this.view.state.doc,C,k,this.decorations,this.dynamicDecorationMap));let{i:M,off:N}=a.findPos(w,1),{i:B,off:L}=a.findPos(y,-1);MU(this,B,L,M,N,f,d,h,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let r of e.effects)r.is(t$)&&(this.editContextFormatting=r.value)}compositionView(t){let e=new m0(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new Gw(i,[e],e.length);let r=new pd;return r.append(e,0),r}fixCompositionDOM(t){let e=(a,s)=>{s.flags|=8|(s.children.some(f=>7&f.flags)?1:0),this.markedForComposition.add(s);let c=yh.get(a);c&&c!=s&&(c.dom=null),s.setDOM(a)},r=this.childPos(t.range.fromB,1),i=this.children[r.i];e(t.line,i);for(let a=t.marks.length-1;a>=-1;a--)r=i.childPos(r.off,1),i=i.children[r.i],e(a>=0?t.marks[a].node:t.text,i)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,a=!i&&V_(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||e||a))return;let s=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?f:this.moveToLine(this.domAtPos(c.head));if(ni.gecko&&c.empty&&!this.hasComposition&&function(m){return m.node.nodeType==1&&m.node.firstChild&&(m.offset==0||m.node.childNodes[m.offset-1].contentEditable=="false")&&(m.offset==m.node.childNodes.length||m.node.childNodes[m.offset].contentEditable=="false")}(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=d=new Zd(m,0),s=!0}let h=this.view.observer.selectionRange;!s&&h.focusNode&&(gx(f.node,f.offset,h.anchorNode,h.anchorOffset)&&gx(d.node,d.offset,h.focusNode,h.focusOffset)||this.suppressWidgetCursorChange(h,c))||(this.view.observer.ignore(()=>{ni.android&&ni.chrome&&this.dom.contains(h.focusNode)&&function(y,w){for(let C=y;C&&C!=w;C=C.assignedSlot||C.parentNode)if(C.nodeType==1&&C.contentEditable=="false")return!0;return!1}(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=Ux(this.view.root);if(m)if(c.empty){if(ni.gecko){let y=function(w,C){return w.nodeType!=1?0:(C&&w.childNodes[C-1].contentEditable=="false"?1:0)|(C<w.childNodes.length&&w.childNodes[C].contentEditable=="false"?2:0)}(f.node,f.offset);if(y&&y!=3){let w=(y==1?EU:AU)(f.node,f.offset);w&&(f=new Zd(w.node,w.offset))}}m.collapse(f.node,f.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();c.anchor>c.head&&([f,d]=[d,f]),y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(y)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new Zd(h.anchorNode,h.anchorOffset),this.impreciseHead=d.precise?null:new Zd(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&gx(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,r=Ux(t.root),{anchorNode:i,anchorOffset:a}=t.observer.selectionRange;if(!(r&&e.empty&&e.assoc&&r.modify))return;let s=pd.find(this,e.head);if(!s)return;let c=s.posAtStart;if(e.head==c||e.head==c+s.length)return;let f=this.coordsAt(e.head,-1),d=this.coordsAt(e.head,1);if(!f||!d||f.bottom>d.top)return;let h=this.domAtPos(e.head+e.assoc);r.collapse(h.node,h.offset),r.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let m=t.observer.selectionRange;t.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=e.from&&r.collapse(i,a)}moveToLine(t){let e,r=this.dom;if(t.node!=r)return t;for(let i=t.offset;!e&&i<r.childNodes.length;i++){let a=yh.get(r.childNodes[i]);a instanceof pd&&(e=a.domAtPos(0))}for(let i=t.offset-1;!e&&i>=0;i--){let a=yh.get(r.childNodes[i]);a instanceof pd&&(e=a.domAtPos(a.length))}return e?new Zd(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let r=yh.get(e);if(r&&r.rootView==this)return r;e=e.parentNode}return null}posFromDOM(t,e){let r=this.nearest(t);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,e)+r.posAtStart}domAtPos(t){let{i:e,off:r}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let i=this.children[e];if(r<i.length||i instanceof pd)break;e++,r=0}return this.children[e].domAtPos(r)}coordsAt(t,e){let r=null,i=0;for(let a=this.length,s=this.children.length-1;s>=0;s--){let c=this.children[s],f=a-c.breakAfter,d=f-c.length;if(f<t)break;if(d<=t&&(d<t||c.covers(-1))&&(f>t||c.covers(1))&&(!r||c instanceof pd&&!(r instanceof pd&&e>=0)))r=c,i=d;else if(r&&d==t&&f==t&&c instanceof mx&&Math.abs(e)<2){if(c.deco.startSide<0)break;s&&(r=null)}a=d}return r?r.coordsAt(t-i,e):null}coordsForChar(t){let{i:e,off:r}=this.childPos(t,1),i=this.children[e];if(!(i instanceof pd))return null;for(;i.children.length;){let{i:c,off:f}=i.childPos(r,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}r=f}if(!(i instanceof m0))return null;let a=Lp(i.text,r);if(a==r)return null;let s=gy(i.dom,r,a).getClientRects();for(let c=0;c<s.length;c++){let f=s[c];if(c==s.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(t){let e=[],{from:r,to:i}=t,a=this.view.contentDOM.clientWidth,s=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==ah.LTR;for(let d=0,h=0;h<this.children.length;h++){let m=this.children[h],y=d+m.length;if(y>i)break;if(d>=r){let w=m.dom.getBoundingClientRect();if(e.push(w.height),s){let C=m.dom.lastChild,k=C?$x(C):[];if(k.length){let M=k[k.length-1],N=f?M.right-w.left:w.right-M.left;N>c&&(c=N,this.minWidth=a,this.minWidthFrom=d,this.minWidthTo=y)}}}d=y+m.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?ah.RTL:ah.LTR}measureTextSize(){for(let a of this.children)if(a instanceof pd){let s=a.measureTextSize();if(s)return s}let t,e,r,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let a=$x(i.firstChild)[0];t=i.getBoundingClientRect().height,e=a?a.width/27:7,r=a?a.height:t,i.remove()}),{lineHeight:t,charWidth:e,textHeight:r}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new kU(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let r=0,i=0;;i++){let a=i==e.viewports.length?null:e.viewports[i],s=a?a.from-1:this.length;if(s>r){let c=(e.lineBlockAt(s).bottom-e.lineBlockAt(r).top)/this.view.scaleY;t.push(ya.replace({widget:new _F(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!a)break;r=a.to+1}return ya.set(t)}updateDeco(){let t=1,e=this.view.state.facet(Wx).map(a=>(this.dynamicDecorationMap[t++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(n$).map((a,s)=>{let c=typeof a=="function";return c&&(r=!0),c?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[t++]=r,e.push(wh.join(i))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let d=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=d.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let d of this.view.state.facet(ZU))try{if(d(this.view,t.range,t))return!0}catch(h){Rd(this.view.state,h,"scroll handler")}let e,{range:r}=t,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!i)return;!r.empty&&(e=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,e.left),top:Math.min(i.top,e.top),right:Math.max(i.right,e.right),bottom:Math.max(i.bottom,e.bottom)});let a=o$(this.view),s={left:i.left-a.left,top:i.top-a.top,right:i.right+a.right,bottom:i.bottom+a.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;(function(d,h,m,y,w,C,k,M){let N=d.ownerDocument,B=N.defaultView||window;for(let L=d,z=!1;L&&!z;)if(L.nodeType==1){let q,V=L==N.body,X=1,nt=1;if(V)q=f3(B);else{if(/^(fixed|sticky)$/.test(getComputedStyle(L).position)&&(z=!0),L.scrollHeight<=L.clientHeight&&L.scrollWidth<=L.clientWidth){L=L.assignedSlot||L.parentNode;continue}let ft=L.getBoundingClientRect();({scaleX:X,scaleY:nt}=DU(L,ft)),q={left:ft.left,right:ft.left+L.clientWidth*X,top:ft.top,bottom:ft.top+L.clientHeight*nt}}let it=0,ct=0;if(w=="nearest")h.top<q.top?(ct=-(q.top-h.top+k),m>0&&h.bottom>q.bottom+ct&&(ct=h.bottom-q.bottom+ct+k)):h.bottom>q.bottom&&(ct=h.bottom-q.bottom+k,m<0&&h.top-ct<q.top&&(ct=-(q.top+ct-h.top+k)));else{let ft=h.bottom-h.top,gt=q.bottom-q.top;ct=(w=="center"&&ft<=gt?h.top+ft/2-gt/2:w=="start"||w=="center"&&m<0?h.top-k:h.bottom-gt+k)-q.top}if(y=="nearest"?h.left<q.left?(it=-(q.left-h.left+C),m>0&&h.right>q.right+it&&(it=h.right-q.right+it+C)):h.right>q.right&&(it=h.right-q.right+C,m<0&&h.left<q.left+it&&(it=-(q.left+it-h.left+C))):it=(y=="center"?h.left+(h.right-h.left)/2-(q.right-q.left)/2:y=="start"==M?h.left-C:h.right-(q.right-q.left)+C)-q.left,it||ct)if(V)B.scrollBy(it,ct);else{let ft=0,gt=0;if(ct){let Ct=L.scrollTop;L.scrollTop+=ct/nt,gt=(L.scrollTop-Ct)*nt}if(it){let Ct=L.scrollLeft;L.scrollLeft+=it/X,ft=(L.scrollLeft-Ct)*X}h={left:h.left-ft,top:h.top-gt,right:h.right-ft,bottom:h.bottom-gt},ft&&Math.abs(ft-it)<1&&(y="nearest"),gt&&Math.abs(gt-ct)<1&&(w="nearest")}if(V)break;L=L.assignedSlot||L.parentNode}else{if(L.nodeType!=11)break;L=L.host}})(this.view.scrollDOM,s,r.head<r.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,c),-c),Math.max(Math.min(t.yMargin,f),-f),this.view.textDirection==ah.LTR)}};function s$(n,t){let e=n.observer.selectionRange;if(!e.focusNode)return null;let r=EU(e.focusNode,e.focusOffset),i=AU(e.focusNode,e.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let c=yh.get(i.node);if(!c||c instanceof m0&&c.text!=i.node.nodeValue)a=i;else if(n.docView.lastCompositionAfterCursor){let f=yh.get(r.node);!f||f instanceof m0&&f.text!=r.node.nodeValue||(a=i)}}if(n.docView.lastCompositionAfterCursor=a!=r,!a)return null;let s=t-a.offset;return{from:s,to:s+a.node.nodeValue.length,node:a.node}}let b3=class{constructor(){this.changes=[]}compareRange(t,e){CF(t,e,this.changes)}comparePoint(t,e){CF(t,e,this.changes)}};function x3(n,t){return t.left>n?t.left-n:Math.max(0,n-t.right)}function D3(n,t){return t.top>n?t.top-n:Math.max(0,n-t.bottom)}function GA(n,t){return n.top<t.bottom-1&&n.bottom>t.top+1}function jB(n,t){return t<n.top?{top:t,left:n.left,right:n.right,bottom:n.bottom}:n}function LB(n,t){return t>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:t}:n}function PF(n,t,e){let r,i,a,s,c,f,d,h,m=!1;for(let w=n.firstChild;w;w=w.nextSibling){let C=$x(w);for(let k=0;k<C.length;k++){let M=C[k];i&&GA(i,M)&&(M=jB(LB(M,i.bottom),i.top));let N=x3(t,M),B=D3(e,M);if(N==0&&B==0)return w.nodeType==3?zB(w,t,e):PF(w,t,e);if(!r||s>B||s==B&&a>N){r=w,i=M,a=N,s=B;let L=B?e<M.top?-1:1:N?t<M.left?-1:1:0;m=!L||(L>0?k<C.length-1:k>0)}N==0?e>M.bottom&&(!d||d.bottom<M.bottom)?(c=w,d=M):e<M.top&&(!h||h.top>M.top)&&(f=w,h=M):d&&GA(d,M)?d=LB(d,M.bottom):h&&GA(h,M)&&(h=jB(h,M.top))}}if(d&&d.bottom>=e?(r=c,i=d):h&&h.top<=e&&(r=f,i=h),!r)return{node:n,offset:0};let y=Math.max(i.left,Math.min(i.right,t));return r.nodeType==3?zB(r,y,e):m&&r.contentEditable!="false"?PF(r,y,e):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function zB(n,t,e){let r=n.nodeValue.length,i=-1,a=1e9,s=0;for(let c=0;c<r;c++){let f=gy(n,c,c+1).getClientRects();for(let d=0;d<f.length;d++){let h=f[d];if(h.top==h.bottom)continue;s||(s=t-h.left);let m=(h.top>e?h.top-e:e-h.bottom)-1;if(h.left-1<=t&&h.right+1>=t&&m<a){let y=t>=(h.left+h.right)/2,w=y;if((ni.chrome||ni.gecko)&&gy(n,c).getBoundingClientRect().left==h.right&&(w=!y),m<=0)return{node:n,offset:c+(w?1:0)};i=c+(w?1:0),a=m}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function UB(n,t,e,r=-1){var i,a;let s,c=n.contentDOM.getBoundingClientRect(),f=c.top+n.viewState.paddingTop,{docHeight:d}=n.viewState,{x:h,y:m}=t,y=m-f;if(y<0)return 0;if(y>d)return n.state.doc.length;for(let z=n.viewState.heightOracle.textHeight/2,q=!1;s=n.elementAtHeight(y),s.type!=yd.Text;)for(;y=r>0?s.bottom+z:s.top-z,!(y>=0&&y<=d);){if(q)return e?null:0;q=!0,r=-r}m=f+y;let w=s.from;if(w<n.viewport.from)return n.viewport.from==0?0:e?null:$B(n,c,s,h,m);if(w>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:e?null:$B(n,c,s,h,m);let C=n.dom.ownerDocument,k=n.root.elementFromPoint?n.root:C,M=k.elementFromPoint(h,m);M&&!n.contentDOM.contains(M)&&(M=null),M||(h=Math.max(c.left+1,Math.min(c.right-1,h)),M=k.elementFromPoint(h,m),M&&!n.contentDOM.contains(M)&&(M=null));let N,B=-1;if(M&&((i=n.docView.nearest(M))===null||i===void 0?void 0:i.isEditable)!=0){if(C.caretPositionFromPoint){let z=C.caretPositionFromPoint(h,m);z&&({offsetNode:N,offset:B}=z)}else if(C.caretRangeFromPoint){let z=C.caretRangeFromPoint(h,m);z&&({startContainer:N,startOffset:B}=z,(!n.contentDOM.contains(N)||ni.safari&&function(q,V,X){let nt;if(q.nodeType!=3||V!=(nt=q.nodeValue.length))return!1;for(let it=q.nextSibling;it;it=it.nextSibling)if(it.nodeType!=1||it.nodeName!="BR")return!1;return gy(q,nt-1,nt).getBoundingClientRect().left>X}(N,B,h)||ni.chrome&&function(q,V,X){if(V!=0)return!1;for(let nt=q;;){let it=nt.parentNode;if(!it||it.nodeType!=1||it.firstChild!=nt)return!1;if(it.classList.contains("cm-line"))break;nt=it}return X-(q.nodeType==1?q.getBoundingClientRect():gy(q,0,Math.max(q.nodeValue.length,1)).getBoundingClientRect()).left>5}(N,B,h))&&(N=void 0))}N&&(B=Math.min(Hm(N),B))}if(!N||!n.docView.dom.contains(N)){let z=pd.find(n.docView,w);if(!z)return y>s.top+s.height/2?s.to:s.from;({node:N,offset:B}=PF(z.dom,h,m))}let L=n.docView.nearest(N);if(!L)return null;if(L.isWidget&&((a=L.dom)===null||a===void 0?void 0:a.nodeType)==1){let z=L.dom.getBoundingClientRect();return t.y<z.top||t.y<=z.bottom&&t.x<=(z.left+z.right)/2?L.posAtStart:L.posAtEnd}return L.localPosFromDOM(N,B)+L.posAtStart}function $B(n,t,e,r,i){let a=Math.round((r-t.left)*n.defaultCharacterWidth);if(n.lineWrapping&&e.height>1.5*n.defaultLineHeight){let c=n.viewState.heightOracle.textHeight;a+=Math.floor((i-e.top-.5*(n.defaultLineHeight-c))/c)*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(e.from,e.to);return e.from+uF(s,a,n.state.tabSize)}function TF(n,t){let e=n.lineBlockAt(t);if(Array.isArray(e.type)){for(let r of e.type)if(r.to>t||r.to==t&&(r.to==e.to||r.type==yd.Text))return r}return e}function WB(n,t,e,r){let i=n.state.doc.lineAt(t.head),a=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let c=t,f=null;;){let d=v3(i,a,s,c,e),h=HU;if(!d){if(i.number==(e?n.state.doc.lines:1))return c;h=`
`,i=n.state.doc.line(i.number+(e?1:-1)),a=n.bidiSpans(i),d=n.visualLineSide(i,!e)}if(f){if(!f(h))return c}else{if(!r)return d;f=r(h)}c=d}}function G_(n,t,e){for(;;){let r=0;for(let i of n)i.between(t-1,t+1,(a,s,c)=>{if(t>a&&t<s){let f=r||e||(t-a<s-t?-1:1);t=f<0?a:s,r=f}});if(!r)return t}}function YA(n,t,e){let r=G_(n.state.facet(FO).map(i=>i(n)),e.from,t.head>e.from?-1:1);return r==e.from?e:Sn.cursor(r,r<e.from?1:-1)}const Yb="";let C3=class{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(jh.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=Yb}readRange(t,e){if(!t)return this;let r=t.parentNode;for(let i=t;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==e)break;let c=yh.get(i),f=yh.get(s);(c&&f?c.breakAfter:(c?c.breakAfter:YS(i))||YS(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>a)&&this.lineBreak(),i=s}return this.findPointBefore(r,e),this}readTextNode(t){let e=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,e.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a,s=-1,c=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,r),c=this.lineSeparator.length):(a=i.exec(e))&&(s=a.index,c=a[0].length),this.append(e.slice(r,s<0?e.length:s)),s<0)break;if(this.lineBreak(),c>1)for(let f of this.points)f.node==t&&f.pos>this.text.length&&(f.pos-=c-1);r=s+c}}readNode(t){if(t.cmIgnore)return;let e=yh.get(t),r=e&&e.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==e&&(r.pos=this.text.length)}findPointInside(t,e){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(_3(t,r.node,r.offset)?e:0))}};function _3(n,t,e){for(;;){if(!t||e<Hm(t))return!1;if(t==n)return!0;e=dy(t)+1,t=t.parentNode}}let HB=class{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}},S3=class{constructor(t,e,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:a,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,r,0))){let c=a||s?[]:function(d){let h=[];if(d.root.activeElement!=d.contentDOM)return h;let{anchorNode:m,anchorOffset:y,focusNode:w,focusOffset:C}=d.observer.selectionRange;return m&&(h.push(new HB(m,y)),w==m&&C==y||h.push(new HB(w,C))),h}(t),f=new C3(c,t.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=function(d,h){if(d.length==0)return null;let m=d[0].pos,y=d.length==2?d[1].pos:m;return m>-1&&y>-1?Sn.single(m+h,y+h):null}(c,this.bounds.from)}else{let c=t.observer.selectionRange,f=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!cF(t.contentDOM,c.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(c.focusNode,c.focusOffset),d=s&&s.node==c.anchorNode&&s.offset==c.anchorOffset||!cF(t.contentDOM,c.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(c.anchorNode,c.anchorOffset),h=t.viewport;if((ni.ios||ni.chrome)&&t.state.selection.main.empty&&f!=d&&(h.from>0||h.to<t.state.doc.length)){let m=Math.min(f,d),y=Math.max(f,d),w=h.from-m,C=h.to-y;w!=0&&w!=1&&m!=0||C!=0&&C!=-1&&y!=t.state.doc.length||(f=0,d=t.state.doc.length)}this.newSel=Sn.single(d,f)}}};function u$(n,t){let e,{newSel:r}=t,i=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:c}=t.bounds,f=i.from,d=null;(a===8||ni.android&&t.text.length<c-s)&&(f=i.to,d="end");let h=function(m,y,w,C){let k=Math.min(m.length,y.length),M=0;for(;M<k&&m.charCodeAt(M)==y.charCodeAt(M);)M++;if(M==k&&m.length==y.length)return null;let N=m.length,B=y.length;for(;N>0&&B>0&&m.charCodeAt(N-1)==y.charCodeAt(B-1);)N--,B--;return C=="end"&&(w-=N+Math.max(0,M-Math.min(N,B))-M),N<M&&m.length<y.length?(M-=w<=M&&w>=N?M-w:0,B=M+(B-N),N=M):B<M&&(M-=w<=M&&w>=B?M-w:0,N=M+(N-B),B=M),{from:M,toA:N,toB:B}}(n.state.doc.sliceString(s,c,Yb),t.text,f-s,d);h&&(ni.chrome&&a==13&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==Yb+Yb&&h.toB--,e={from:s+h.from,to:s+h.toA,insert:Wc.of(t.text.slice(h.from,h.toB).split(Yb))})}else r&&(!n.hasFocus&&n.state.facet(jv)||r.main.eq(i))&&(r=null);if(!e&&!r)return!1;if(!e&&t.typeOver&&!i.empty&&r&&r.main.empty?e={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:e&&e.from>=i.from&&e.to<=i.to&&(e.from!=i.from||e.to!=i.to)&&i.to-i.from-(e.to-e.from)<=4?e={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,e.from).append(e.insert).append(n.state.doc.slice(e.to,i.to))}:(ni.mac||ni.android)&&e&&e.from==e.to&&e.from==i.head-1&&/^\. ?$/.test(e.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&e.insert.length==2&&(r=Sn.single(r.main.anchor-1,r.main.head-1)),e={from:i.from,to:i.to,insert:Wc.of([" "])}):ni.chrome&&e&&e.from==e.to&&e.from==i.head&&e.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=Sn.single(r.main.anchor-1,r.main.head-1)),e={from:i.from,to:i.to,insert:Wc.of([" "])}),e)return PO(n,e,r,a);if(r&&!r.main.eq(i)){let s=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),c=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:c}),!0}return!1}function PO(n,t,e,r=-1){if(ni.ios&&n.inputState.flushIOSKey(t))return!0;let i=n.state.selection.main;if(ni.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&n.state.sliceDoc(t.from,i.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Sw(n.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from&&t.to>i.head)&&Sw(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&Sw(n.contentDOM,"Delete",46)))return!0;let a,s=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let c=()=>a||(a=function(f,d,h){let m,y=f.state,w=y.selection.main;if(d.from>=w.from&&d.to<=w.to&&d.to-d.from>=(w.to-w.from)/3&&(!h||h.main.empty&&h.main.from==d.from+d.insert.length)&&f.inputState.composing<0){let k=w.from<d.from?y.sliceDoc(w.from,d.from):"",M=w.to>d.to?y.sliceDoc(d.to,w.to):"";m=y.replaceSelection(f.state.toText(k+d.insert.sliceString(0,void 0,f.state.lineBreak)+M))}else{let k=y.changes(d),M=h&&h.main.to<=k.newLength?h.main:void 0;if(y.selection.ranges.length>1&&f.inputState.composing>=0&&d.to<=w.to&&d.to>=w.to-10){let N,B=f.state.sliceDoc(d.from,d.to),L=h&&s$(f,h.main.head);if(L){let V=d.insert.length-(d.to-d.from);N={from:L.from,to:L.to-V}}else N=f.state.doc.lineAt(w.head);let z=w.to-d.to,q=w.to-w.from;m=y.changeByRange(V=>{if(V.from==w.from&&V.to==w.to)return{changes:k,range:M||V.map(k)};let X=V.to-z,nt=X-B.length;if(V.to-V.from!=q||f.state.sliceDoc(nt,X)!=B||V.to>=N.from&&V.from<=N.to)return{range:V};let it=y.changes({from:nt,to:X,insert:d.insert}),ct=V.to-w.to;return{changes:it,range:M?Sn.range(Math.max(0,M.anchor+ct),Math.max(0,M.head+ct)):V.map(it)}})}else m={changes:k,selection:M&&y.selection.replaceRange(M)}}let C="input.type";return(f.composing||f.inputState.compositionPendingChange&&f.inputState.compositionEndedAt>Date.now()-50)&&(f.inputState.compositionPendingChange=!1,C+=".compose",f.inputState.compositionFirstChange&&(C+=".start",f.inputState.compositionFirstChange=!1)),y.update(m,{userEvent:C,scrollIntoView:!0})}(n,t,e));return n.state.facet(YU).some(f=>f(n,t.from,t.to,s,c))||n.dispatch(c()),!0}let E3=class{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,ni.safari&&t.contentDOM.addEventListener("input",()=>null),ni.gecko&&function(e){eR.has(e)||(eR.add(e),e.addEventListener("copy",()=>{}),e.addEventListener("cut",()=>{}))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(e,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(let i,a=r.target;a!=e.contentDOM;a=a.parentNode)if(!a||a.nodeType==11||(i=yh.get(a))&&i.ignoreEvent(r))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&(t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let r=this.handlers[t];if(r){for(let i of r.observers)i(this.view,e);for(let i of r.handlers){if(e.defaultPrevented)break;if(i(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=function(a){let s=Object.create(null);function c(f){return s[f]||(s[f]={observers:[],handlers:[]})}for(let f of a){let d=f.spec;if(d&&d.domEventHandlers)for(let h in d.domEventHandlers){let m=d.domEventHandlers[h];m&&c(h).handlers.push(VB(f.value,m))}if(d&&d.domEventObservers)for(let h in d.domEventObservers){let m=d.domEventObservers[h];m&&c(h).observers.push(VB(f.value,m))}}for(let f in Zg)c(f).handlers.push(Zg[f]);for(let f in yg)c(f).observers.push(yg[f]);return s}(t),r=this.handlers,i=this.view.contentDOM;for(let a in e)if(a!="scroll"){let s=!e[a].handlers.length,c=r[a];c&&s!=!c.handlers.length&&(i.removeEventListener(a,this.handleEvent),c=null),c||i.addEventListener(a,this.handleEvent,{passive:s})}for(let a in r)a=="scroll"||e[a]||i.removeEventListener(a,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&c$.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),ni.android&&ni.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!ni.ios||t.synthetic||t.altKey||t.metaKey||!((e=l$.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||A3.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(t.keyCode!=229&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!(e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,Sw(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(ni.safari&&!ni.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}};function VB(n,t){return(e,r)=>{try{return t.call(n,r,e)}catch(i){Rd(e.state,i)}}}const l$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],A3="dthko",c$=[16,17,18,20,91,92,224,225];function dC(n){return .7*Math.max(0,n)+8}let k3=class{constructor(t,e,r,i){this.view=t,this.startEvent=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(s){let c,f,d=s.ownerDocument;for(let h=s.parentNode;h&&!(h==d.body||c&&f);)if(h.nodeType==1)!f&&h.scrollHeight>h.clientHeight&&(f=h),!c&&h.scrollWidth>h.clientWidth&&(c=h),h=h.assignedSlot||h.parentNode;else{if(h.nodeType!=11)break;h=h.host}return{x:c,y:f}}(t.contentDOM),this.atoms=t.state.facet(FO).map(s=>s(t));let a=t.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(jh.allowMultipleSelections)&&function(s,c){let f=s.state.facet(VU);return f.length?f[0](c):ni.mac?c.metaKey:c.ctrlKey}(t,e),this.dragging=!(!function(s,c){let{main:f}=s.state.selection;if(f.empty)return!1;let d=Ux(s.root);if(!d||d.rangeCount==0)return!0;let h=d.getRangeAt(0).getClientRects();for(let m=0;m<h.length;m++){let y=h[m];if(y.left<=c.clientX&&y.right>=c.clientX&&y.top<=c.clientY&&y.bottom>=c.clientY)return!0}return!1}(t,e)||h$(e)!=1)&&null}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&function(d,h){return Math.max(Math.abs(d.clientX-h.clientX),Math.abs(d.clientY-h.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,r=0,i=0,a=0,s=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=o$(this.view);t.clientX-f.left<=i+6?e=-dC(i-t.clientX):t.clientX+f.right>=s-6&&(e=dC(t.clientX-s)),t.clientY-f.top<=a+6?r=-dC(a-t.clientY):t.clientY+f.bottom>=c-6&&(r=dC(t.clientY-c)),this.setScrollSpeed(e,r)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],a=null;if(i.empty){let s=G_(this.atoms,i.from,0);s!=i.from&&(a=Sn.cursor(s,-1))}else{let s=G_(this.atoms,i.from,-1),c=G_(this.atoms,i.to,1);s==i.from&&c==i.to||(a=Sn.range(i.from==i.anchor?s:c,i.from==i.head?s:c))}a&&(e||(e=t.ranges.slice()),e[r]=a)}return e?Sn.create(e,t.mainIndex):t}select(t){let{view:e}=this,r=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&r.eq(e.state.selection,this.dragging===!1)||this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}};const Zg=Object.create(null),yg=Object.create(null),f$=ni.ie&&ni.ie_version<15||ni.ios&&ni.webkit_version<604;function FE(n,t,e){for(let r of n.facet(t))e=r(e,n);return e}function qB(n,t){t=FE(n.state,AO,t);let e,{state:r}=n,i=1,a=r.toText(t),s=a.lines==r.selection.ranges.length;if(OF!=null&&r.selection.ranges.every(f=>f.empty)&&OF==a.toString()){let f=-1;e=r.changeByRange(d=>{let h=r.doc.lineAt(d.from);if(h.from==f)return{range:d};f=h.from;let m=r.toText((s?a.line(i++).text:t)+r.lineBreak);return{changes:{from:h.from,insert:m},range:Sn.cursor(d.from+m.length)}})}else e=s?r.changeByRange(f=>{let d=a.line(i++);return{changes:{from:f.from,to:f.to,insert:d.text},range:Sn.cursor(f.from+d.length)}}):r.replaceSelection(a);n.dispatch(e,{userEvent:"input.paste",scrollIntoView:!0})}function KB(n,t,e,r){if(r==1)return Sn.cursor(t,e);if(r==2)return function(i,a,s=1){let c=i.charCategorizer(a),f=i.doc.lineAt(a),d=a-f.from;if(f.length==0)return Sn.cursor(a);d==0?s=1:d==f.length&&(s=-1);let h=d,m=d;s<0?h=Lp(f.text,d,!1):m=Lp(f.text,d);let y=c(f.text.slice(h,m));for(;h>0;){let w=Lp(f.text,h,!1);if(c(f.text.slice(w,h))!=y)break;h=w}for(;m<f.length;){let w=Lp(f.text,m);if(c(f.text.slice(m,w))!=y)break;m=w}return Sn.range(h+f.from,m+f.from)}(n.state,t,e);{let i=pd.find(n.docView,t),a=n.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:a.from,c=i?i.posAtEnd:a.to;return c<n.state.doc.length&&c==a.to&&c++,Sn.range(s,c)}}yg.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft},Zg.keydown=(n,t)=>(n.inputState.setSelectionOrigin("select"),t.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1),yg.touchstart=(n,t)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},yg.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},Zg.mousedown=(n,t)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let r of n.state.facet(KU))if(e=r(n,t),e)break;if(e||t.button!=0||(e=function(r,i){let a=YB(r,i),s=h$(i),c=r.state.selection;return{update(f){f.docChanged&&(a.pos=f.changes.mapPos(a.pos),c=c.map(f.changes))},get(f,d,h){let m,y=YB(r,f),w=KB(r,y.pos,y.bias,s);if(a.pos!=y.pos&&!d){let C=KB(r,a.pos,a.bias,s),k=Math.min(C.from,w.from),M=Math.max(C.to,w.to);w=k<w.from?Sn.range(k,M):Sn.range(M,k)}return d?c.replaceRange(c.main.extend(w.from,w.to)):h&&s==1&&c.ranges.length>1&&(m=function(C,k){for(let M=0;M<C.ranges.length;M++){let{from:N,to:B}=C.ranges[M];if(N<=k&&B>=k)return Sn.create(C.ranges.slice(0,M).concat(C.ranges.slice(M+1)),C.mainIndex==M?0:C.mainIndex-(C.mainIndex>M?1:0))}return null}(c,y.pos))?m:h?c.addRange(w):Sn.create([w])}}}(n,t)),e){let r=!n.hasFocus;n.inputState.startMouseSelection(new k3(n,t,e,r)),r&&n.observer.ignore(()=>{CU(n.contentDOM);let a=n.root.activeElement;a&&!a.contains(n.contentDOM)&&a.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}return!1};let GB=(n,t,e)=>t>=e.top&&t<=e.bottom&&n>=e.left&&n<=e.right;function M3(n,t,e,r){let i=pd.find(n.docView,t);if(!i)return 1;let a=t-i.posAtStart;if(a==0)return 1;if(a==i.length)return-1;let s=i.coordsAt(a,-1);if(s&&GB(e,r,s))return-1;let c=i.coordsAt(a,1);return c&&GB(e,r,c)?1:s&&s.bottom>=r?-1:1}function YB(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:M3(n,e,t.clientX,t.clientY)}}const F3=ni.ie&&ni.ie_version<=11;let XB=null,JB=0,QB=0;function h$(n){if(!F3)return n.detail;let t=XB,e=QB;return XB=n,QB=Date.now(),JB=!t||e>Date.now()-400&&Math.abs(t.clientX-n.clientX)<2&&Math.abs(t.clientY-n.clientY)<2?(JB+1)%3:1}function ZB(n,t,e,r){if(!(e=FE(n.state,AO,e)))return;let i=n.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:a}=n.inputState,s=r&&a&&function(d,h){let m=d.state.facet(qU);return m.length?m[0](h):ni.mac?!h.altKey:!h.ctrlKey}(n,t)?{from:a.from,to:a.to}:null,c={from:i,insert:e},f=n.state.changes(s?[s,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}Zg.dragstart=(n,t)=>{let{selection:{main:e}}=n.state;if(t.target.draggable){let i=n.docView.nearest(t.target);if(i&&i.isWidget){let a=i.posAtStart,s=a+i.length;(a>=e.to||s<=e.from)&&(e=Sn.range(a,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",FE(n.state,kO,n.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1},Zg.dragend=n=>(n.inputState.draggedContent=null,!1),Zg.drop=(n,t)=>{if(!t.dataTransfer)return!1;if(n.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let r=Array(e.length),i=0,a=()=>{++i==e.length&&ZB(n,t,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<e.length;s++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[s]=c.result),a()},c.readAsText(e[s])}return!0}{let r=t.dataTransfer.getData("Text");if(r)return ZB(n,t,r,!0),!0}return!1},Zg.paste=(n,t)=>{if(n.state.readOnly)return!0;n.observer.flush();let e=f$?null:t.clipboardData;return e?(qB(n,e.getData("text/plain")||e.getData("text/uri-list")),!0):(function(r){let i=r.dom.parentNode;if(!i)return;let a=i.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout(()=>{r.focus(),a.remove(),qB(r,a.value)},50)}(n),!1)};let OF=null;Zg.copy=Zg.cut=(n,t)=>{let{text:e,ranges:r,linewise:i}=function(s){let c=[],f=[],d=!1;for(let h of s.selection.ranges)h.empty||(c.push(s.sliceDoc(h.from,h.to)),f.push(h));if(!c.length){let h=-1;for(let{from:m}of s.selection.ranges){let y=s.doc.lineAt(m);y.number>h&&(c.push(y.text),f.push({from:y.from,to:Math.min(s.doc.length,y.to+1)})),h=y.number}d=!0}return{text:FE(s,kO,c.join(s.lineBreak)),ranges:f,linewise:d}}(n.state);if(!e&&!i)return!1;OF=i?e:null,t.type!="cut"||n.state.readOnly||n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=f$?null:t.clipboardData;return a?(a.clearData(),a.setData("text/plain",e),!0):(function(s,c){let f=s.dom.parentNode;if(!f)return;let d=f.appendChild(document.createElement("textarea"));d.style.cssText="position: fixed; left: -10000px; top: 10px",d.value=c,d.focus(),d.selectionEnd=c.length,d.selectionStart=0,setTimeout(()=>{d.remove(),s.focus()},50)}(n,e),!1)};const p$=hv.define();function d$(n,t){let e=[];for(let r of n.facet(XU)){let i=r(n,t);i&&e.push(i)}return e?n.update({effects:e,annotations:p$.of(!0)}):null}function tR(n){setTimeout(()=>{let t=n.hasFocus;if(t!=n.inputState.notifiedFocused){let e=d$(n.state,t);e?n.dispatch(e):n.update([])}},10)}yg.focus=n=>{n.inputState.lastFocusTime=Date.now(),n.scrollDOM.scrollTop||!n.inputState.lastScrollTop&&!n.inputState.lastScrollLeft||(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),tR(n)},yg.blur=n=>{n.observer.clearSelectionRange(),tR(n)},yg.compositionstart=yg.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))},yg.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ni.chrome&&ni.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))},yg.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},Zg.beforeinput=(n,t)=>{var e,r;if(t.inputType=="insertReplacementText"&&n.observer.editContext){let a=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),s=t.getTargetRanges();if(a&&s.length){let c=s[0],f=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return PO(n,{from:f,to:d,insert:n.state.toText(a)},null),!0}}let i;if(ni.chrome&&ni.android&&(i=l$.find(a=>a.inputType==t.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>a+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ni.ios&&t.inputType=="deleteContentForward"&&n.observer.flushSoon(),ni.safari&&t.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>yg.compositionend(n,t),20),!1};const eR=new Set,nR=["pre-wrap","normal","pre-line","break-spaces"];let Xw=!1;function rR(){Xw=!1}class P3{constructor(t){this.lineWrapping=t,this.doc=Wc.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let r=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((e-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return nR.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let r=0;r<t.length;r++){let i=t[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(e=!0,this.heightSamples[Math.floor(10*i)]=!0)}return e}refresh(t,e,r,i,a,s){let c=nR.indexOf(t)>-1,f=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=e,this.charWidth=r,this.textHeight=i,this.lineLength=a,f){this.heightSamples={};for(let d=0;d<s.length;d++){let h=s[d];h<0?d++:this.heightSamples[Math.floor(10*h)]=!0}}return f}}let T3=class{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}};class Mm{constructor(t,e,r,i,a){this.from=t,this.length=e,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?yd.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Yw?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Mm(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var ih=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(ih||(ih={}));const Y_=.001;let im=class X_{constructor(t,e,r=2){this.length=t,this.height=e,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>Y_&&(Xw=!0),this.height=t)}replace(t,e,r){return X_.of(r)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,r,i){let a=this,s=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:d,fromB:h,toB:m}=i[c],y=a.lineAt(f,ih.ByPosNoHeight,r.setDoc(e),0,0),w=y.to>=d?y:a.lineAt(d,ih.ByPosNoHeight,r,0,0);for(m+=w.to-d,d=w.to;c>0&&y.from<=i[c-1].toA;)f=i[c-1].fromA,h=i[c-1].fromB,c--,f<y.from&&(y=a.lineAt(f,ih.ByPosNoHeight,r,0,0));h+=y.from-f,f=y.from;let C=N3.build(r.setDoc(s),t,h,m);a=JS(a,a.replace(f,d,C))}return a.updateHeight(r,0)}static empty(){return new Cm(0,0)}static of(t){if(t.length==1)return t[0];let e=0,r=t.length,i=0,a=0;for(;;)if(e==r)if(i>2*a){let c=t[e-1];c.break?t.splice(--e,1,c.left,null,c.right):t.splice(--e,1,c.left,c.right),r+=1+c.break,i-=c.size}else{if(!(a>2*i))break;{let c=t[r];c.break?t.splice(r,1,c.left,null,c.right):t.splice(r,1,c.left,c.right),r+=2+c.break,a-=c.size}}else if(i<a){let c=t[e++];c&&(i+=c.size)}else{let c=t[--r];c&&(a+=c.size)}let s=0;return t[e-1]==null?(s=1,e--):t[e]==null&&(s=1,r++),new O3(X_.of(t.slice(0,e)),s,X_.of(t.slice(r)))}};function JS(n,t){return n==t?n:(n.constructor!=t.constructor&&(Xw=!0),t)}im.prototype.size=1;class g$ extends im{constructor(t,e,r){super(t,e),this.deco=r}blockAt(t,e,r,i){return new Mm(i,this.length,r,this.height,this.deco||0)}lineAt(t,e,r,i,a){return this.blockAt(0,r,i,a)}forEachLine(t,e,r,i,a,s){t<=a+this.length&&e>=a&&s(this.blockAt(0,r,i,a))}updateHeight(t,e=0,r=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}let Cm=class NF extends g${constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,r,i){return new Mm(i,this.length,r,this.height,this.breaks)}replace(t,e,r){let i=r[0];return r.length==1&&(i instanceof NF||i instanceof Ep&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof Ep?i=new NF(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):im.of(r)}updateHeight(t,e=0,r=!1,i){return i&&i.from<=e&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}};class Ep extends im{constructor(t){super(t,0)}heightMetrics(t,e){let r,i=t.doc.lineAt(e).number,a=t.doc.lineAt(e+this.length).number,s=a-i+1,c=0;if(t.lineWrapping){let f=Math.min(this.height,t.lineHeight*s);r=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else r=this.height/s;return{firstLine:i,lastLine:a,perLine:r,perChar:c}}blockAt(t,e,r,i){let{firstLine:a,lastLine:s,perLine:c,perChar:f}=this.heightMetrics(e,i);if(e.lineWrapping){let d=i+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length)),h=e.doc.lineAt(d),m=c+h.length*f,y=Math.max(r,t-m/2);return new Mm(h.from,h.length,y,m,0)}{let d=Math.max(0,Math.min(s-a,Math.floor((t-r)/c))),{from:h,length:m}=e.doc.line(a+d);return new Mm(h,m,r+c*d,c,0)}}lineAt(t,e,r,i,a){if(e==ih.ByHeight)return this.blockAt(t,r,i,a);if(e==ih.ByPosNoHeight){let{from:w,to:C}=r.doc.lineAt(t);return new Mm(w,C-w,0,0,0)}let{firstLine:s,perLine:c,perChar:f}=this.heightMetrics(r,a),d=r.doc.lineAt(t),h=c+d.length*f,m=d.number-s,y=i+c*m+f*(d.from-a-m);return new Mm(d.from,d.length,Math.max(i,Math.min(y,i+this.height-h)),h,0)}forEachLine(t,e,r,i,a,s){t=Math.max(t,a),e=Math.min(e,a+this.length);let{firstLine:c,perLine:f,perChar:d}=this.heightMetrics(r,a);for(let h=t,m=i;h<=e;){let y=r.doc.lineAt(h);if(h==t){let C=y.number-c;m+=f*C+d*(t-a-C)}let w=f+d*y.length;s(new Mm(y.from,y.length,m,w,0)),m+=w,h=y.to+1}}replace(t,e,r){let i=this.length-e;if(i>0){let a=r[r.length-1];a instanceof Ep?r[r.length-1]=new Ep(a.length+i):r.push(null,new Ep(i-1))}if(t>0){let a=r[0];a instanceof Ep?r[0]=new Ep(t+a.length):r.unshift(new Ep(t-1),null)}return im.of(r)}decomposeLeft(t,e){e.push(new Ep(t-1),null)}decomposeRight(t,e){e.push(null,new Ep(this.length-t-1))}updateHeight(t,e=0,r=!1,i){let a=e+this.length;if(i&&i.from<=e+this.length&&i.more){let s=[],c=Math.max(e,i.from),f=-1;for(i.from>e&&s.push(new Ep(i.from-e-1).updateHeight(t,e));c<=a&&i.more;){let h=t.doc.lineAt(c).length;s.length&&s.push(null);let m=i.heights[i.index++];f==-1?f=m:Math.abs(m-f)>=Y_&&(f=-2);let y=new Cm(h,m);y.outdated=!1,s.push(y),c+=h+1}c<=a&&s.push(null,new Ep(a-c).updateHeight(t,c));let d=im.of(s);return(f<0||Math.abs(d.height-this.height)>=Y_||Math.abs(f-this.heightMetrics(t,e).perLine)>=Y_)&&(Xw=!0),JS(this,d)}return(r||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}let O3=class extends im{constructor(t,e,r){super(t.length+e+r.length,t.height+r.height,e|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return 1&this.flags}blockAt(t,e,r,i){let a=r+this.left.height;return t<a?this.left.blockAt(t,e,r,i):this.right.blockAt(t,e,a,i+this.left.length+this.break)}lineAt(t,e,r,i,a){let s=i+this.left.height,c=a+this.left.length+this.break,f=e==ih.ByHeight?t<s:t<c,d=f?this.left.lineAt(t,e,r,i,a):this.right.lineAt(t,e,r,s,c);if(this.break||(f?d.to<c:d.from>c))return d;let h=e==ih.ByPosNoHeight?ih.ByPosNoHeight:ih.ByPos;return f?d.join(this.right.lineAt(c,h,r,s,c)):this.left.lineAt(c,h,r,i,a).join(d)}forEachLine(t,e,r,i,a,s){let c=i+this.left.height,f=a+this.left.length+this.break;if(this.break)t<f&&this.left.forEachLine(t,e,r,i,a,s),e>=f&&this.right.forEachLine(t,e,r,c,f,s);else{let d=this.lineAt(f,ih.ByPos,r,i,a);t<d.from&&this.left.forEachLine(t,d.from-1,r,i,a,s),d.to>=t&&d.from<=e&&s(d),e>d.to&&this.right.forEachLine(d.to+1,e,r,c,f,s)}}replace(t,e,r){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,r));let a=[];t>0&&this.decomposeLeft(t,a);let s=a.length;for(let c of r)a.push(c);if(t>0&&iR(a,s-1),e<this.length){let c=a.length;this.decomposeRight(e,a),iR(a,c)}return im.of(a)}decomposeLeft(t,e){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(r++,t>=r&&e.push(null)),t>r&&this.right.decomposeLeft(t-r,e)}decomposeRight(t,e){let r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<r&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?im.of(this.break?[t,null,e]:[t,e]):(this.left=JS(this.left,t),this.right=JS(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,r=!1,i){let{left:a,right:s}=this,c=e+a.length+this.break,f=null;return i&&i.from<=e+a.length&&i.more?f=a=a.updateHeight(t,e,r,i):a.updateHeight(t,e,r),i&&i.from<=c+s.length&&i.more?f=s=s.updateHeight(t,c,r,i):s.updateHeight(t,c,r),f?this.balanced(a,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}};function iR(n,t){let e,r;n[t]==null&&(e=n[t-1])instanceof Ep&&(r=n[t+1])instanceof Ep&&n.splice(t-1,3,new Ep(e.length+1+r.length))}let N3=class m${constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let r=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Cm?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Cm(r-this.pos,-1)),this.writtenTo=r,e>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,r){if(t<e||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=e-t;r.block?this.addBlock(new g$(s,i,r)):(s||a||i>=5)&&this.addLineDeco(i,a,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Cm(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let r=new Ep(e-t);return this.oracle.doc.lineAt(t).to==e&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Cm)return t;let e=new Cm(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=e,this.writtenTo=this.pos=this.pos+r}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Cm||this.isCovered?(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Cm(0,-1));let r=t;for(let i of this.nodes)i instanceof Cm&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(t,e,r,i){let a=new m$(r,t);return wh.spans(e,r,i,a,0),a.finish(r)}},I3=class{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,r,i){(t<e||r&&r.heightRelevant||i&&i.heightRelevant)&&CF(t,e,this.changes,5)}};function B3(n,t){let e=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,a=Math.max(0,e.left),s=Math.min(i.innerWidth,e.right),c=Math.max(0,e.top),f=Math.min(i.innerHeight,e.bottom);for(let d=n.parentNode;d&&d!=r.body;)if(d.nodeType==1){let h=d,m=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&m.overflow!="visible"){let y=h.getBoundingClientRect();a=Math.max(a,y.left),s=Math.min(s,y.right),c=Math.max(c,y.top),f=Math.min(d==n.parentNode?i.innerHeight:f,y.bottom)}d=m.position=="absolute"||m.position=="fixed"?h.offsetParent:h.parentNode}else{if(d.nodeType!=11)break;d=d.host}return{left:a-e.left,right:Math.max(a,s)-e.left,top:c-(e.top+t),bottom:Math.max(c,f)-(e.top+t)}}function R3(n,t){let e=n.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class XA{constructor(t,e,r,i){this.from=t,this.to=e,this.size=r,this.displaySize=i}static same(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],a=e[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(t,e){return ya.replace({widget:new j3(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}let j3=class extends A0{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}},oR=class{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=aR,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=ah.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(MO).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new P3(e),this.stateDeco=t.facet(Wx).filter(r=>typeof r!="function"),this.heightMap=im.empty().applyChanges(this.stateDeco,Wc.empty,this.heightOracle.setDoc(t.doc),[new qv(0,0,0,t.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=ya.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let r=0;r<=1;r++){let i=r?e.head:e.anchor;if(!t.some(({from:a,to:s})=>i>=a&&i<=s)){let{from:a,to:s}=this.lineBlockAt(i);t.push(new gC(a,s))}}return this.viewports=t.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?aR:new L3(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(Xb(t,this.scaler))})}update(t,e=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Wx).filter(h=>typeof h!="function");let i=t.changedRanges,a=qv.extendWithRanges(i,function(h,m,y){let w=new I3;return wh.compare(h,m,y,w,0),w.changes}(r,this.stateDeco,t?t.changes:um.empty(this.state.doc.length))),s=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);rR(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=s||Xw)&&(t.flags|=2),c?(this.scrollAnchorPos=t.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let f=a.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<f.from||e.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,e));let d=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,t.flags|=this.updateForViewport(),(d||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(QU)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?ah.RTL:ah.LTR;let s=this.heightOracle.mustRefreshForWrapping(a),c=e.getBoundingClientRect(),f=s||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,h=0;if(c.width&&c.height){let{scaleX:z,scaleY:q}=DU(e,c);(z>.005&&Math.abs(this.scaleX-z)>.005||q>.005&&Math.abs(this.scaleY-q)>.005)&&(this.scaleX=z,this.scaleY=q,d|=8,s=f=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==m&&this.paddingBottom==y||(this.paddingTop=m,this.paddingBottom=y,d|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=t.scrollDOM.clientWidth,d|=8);let w=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=w&&(this.scrollAnchorHeight=-1,this.scrollTop=w),this.scrolledToBottom=SU(t.scrollDOM);let C=(this.printing?R3:B3)(e,this.paddingTop),k=C.top-this.pixelViewport.top,M=C.bottom-this.pixelViewport.bottom;this.pixelViewport=C;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView&&(this.inView=N,N&&(f=!0)),!this.inView&&!this.scrollTarget)return 0;let B=c.width;if(this.contentDOMWidth==B&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=c.width,this.editorHeight=t.scrollDOM.clientHeight,d|=8),f){let z=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(z)&&(s=!0),s||i.lineWrapping&&Math.abs(B-this.contentDOMWidth)>i.charWidth){let{lineHeight:q,charWidth:V,textHeight:X}=t.docView.measureTextSize();s=q>0&&i.refresh(a,q,V,X,B/V,z),s&&(t.docView.minWidth=0,d|=8)}k>0&&M>0?h=Math.max(k,M):k<0&&M<0&&(h=Math.min(k,M)),rR();for(let q of this.viewports){let V=q.from==this.viewport.from?z:t.docView.measureVisibleLineHeights(q);this.heightMap=(s?im.empty().applyChanges(this.stateDeco,Wc.empty,this.heightOracle,[new qv(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new T3(q.from,V))}Xw&&(d|=2)}let L=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return L&&(2&d&&(d|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),d|=this.updateForViewport()),(2&d||L)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:s,visibleBottom:c}=this,f=new gC(i.lineAt(s-1e3*r,ih.ByHeight,a,0,0).from,i.lineAt(c+1e3*(1-r),ih.ByHeight,a,0,0).to);if(e){let{head:d}=e.range;if(d<f.from||d>f.to){let h,m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(d,ih.ByPos,a,0,0);h=e.y=="center"?(y.top+y.bottom)/2-m/2:e.y=="start"||e.y=="nearest"&&d<f.from?y.top:y.bottom-m,f=new gC(i.lineAt(h-500,ih.ByHeight,a,0,0).from,i.lineAt(h+m+500,ih.ByHeight,a,0,0).to)}}return f}mapViewport(t,e){let r=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new gC(this.heightMap.lineAt(r,ih.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,ih.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,ih.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(e,ih.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:c}=this;return(t==0||i<=s-Math.max(10,Math.min(-r,250)))&&(e==this.state.doc.length||a>=c+Math.max(10,Math.min(r,250)))&&i>s-2e3&&a<c+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let r=[];for(let i of t)e.touchesRange(i.from,i.to)||r.push(new XA(e.mapPos(i.from),e.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(t,e){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,s=i<<1;if(this.defaultTextDirection!=ah.LTR&&!r)return[];let c=[],f=(h,m,y,w)=>{if(m-h<a)return;let C=this.state.selection.main,k=[C.from];C.empty||k.push(C.to);for(let N of k)if(N>h&&N<m)return f(h,N-10,y,w),void f(N+10,m,y,w);let M=function(N,B){for(let L of N)if(B(L))return L}(t,N=>N.from>=y.from&&N.to<=y.to&&Math.abs(N.from-h)<a&&Math.abs(N.to-m)<a&&!k.some(B=>N.from<B&&N.to>B));if(!M){if(m<y.to&&e&&r&&e.visibleRanges.some(B=>B.from<=m&&B.to>=m)){let B=e.moveToLineBoundary(Sn.cursor(m),!1,!0).head;B>h&&(m=B)}let N=this.gapSize(y,h,m,w);M=new XA(h,m,N,r||N<2e6?N:2e6)}c.push(M)},d=h=>{if(h.length<s||h.type!=yd.Text)return;let m=function(k,M,N){let B=[],L=k,z=0;return wh.spans(N,k,M,{span(){},point(q,V){q>L&&(B.push({from:L,to:q}),z+=q-L),L=V}},20),L<M&&(B.push({from:L,to:M}),z+=M-L),{total:z,ranges:B}}(h.from,h.to,this.stateDeco);if(m.total<s)return;let y,w,C=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let k,M,N=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(C!=null){let B=vC(m,C),L=((this.visibleBottom-this.visibleTop)/2+N)/h.height;k=B-L,M=B+L}else k=(this.visibleTop-h.top-N)/h.height,M=(this.visibleBottom-h.top+N)/h.height;y=mC(m,k),w=mC(m,M)}else{let k=m.total*this.heightOracle.charWidth,M=i*this.heightOracle.charWidth,N=0;if(k>2e6)for(let V of t)V.from>=h.from&&V.from<h.to&&V.size!=V.displaySize&&V.from*this.heightOracle.charWidth+N<this.pixelViewport.left&&(N=V.size-V.displaySize);let B,L,z=this.pixelViewport.left+N,q=this.pixelViewport.right+N;if(C!=null){let V=vC(m,C),X=((q-z)/2+M)/k;B=V-X,L=V+X}else B=(z-M)/k,L=(q+M)/k;y=mC(m,B),w=mC(m,L)}y>h.from&&f(h.from,y,h,m),w<h.to&&f(w,h.to,h,m)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(d):d(h);return c}gapSize(t,e,r,i){let a=vC(i,r)-vC(i,e);return this.heightOracle.lineWrapping?t.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(t){XA.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=ya.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];wh.spans(t,this.viewport.from,this.viewport.to,{span(i,a){e.push({from:i,to:a})},point(){}},20);let r=e.length!=this.visibleRanges.length||this.visibleRanges.some((i,a)=>i.from!=e[a].from||i.to!=e[a].to);return this.visibleRanges=e,r?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||Xb(this.heightMap.lineAt(t,ih.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||Xb(this.heightMap.lineAt(this.scaler.fromDOM(t),ih.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return Xb(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}};class gC{constructor(t,e){this.from=t,this.to=e}}function mC({total:n,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let r=Math.floor(n*e);for(let i=0;;i++){let{from:a,to:s}=t[i],c=s-a;if(r<=c)return a+r;r-=c}}function vC(n,t){let e=0;for(let{from:r,to:i}of n.ranges){if(t<=i){e+=t-r;break}e+=i-r}return e/n.total}const aR={toDOM:n=>n,fromDOM:n=>n,scale:1,eq(n){return n==this}};let L3=class v${constructor(t,e,r){let i=0,a=0,s=0;this.viewports=r.map(({from:c,to:f})=>{let d=e.lineAt(c,ih.ByPos,t,0,0).top,h=e.lineAt(f,ih.ByPos,t,0,0).bottom;return i+=h-d,{from:c,to:f,top:d,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(e.height-i);for(let c of this.viewports)c.domTop=s+(c.top-a)*this.scale,s=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(t){for(let e=0,r=0,i=0;;e++){let a=e<this.viewports.length?this.viewports[e]:null;if(!a||t<a.top)return i+(t-r)*this.scale;if(t<=a.bottom)return a.domTop+(t-a.top);r=a.bottom,i=a.domBottom}}fromDOM(t){for(let e=0,r=0,i=0;;e++){let a=e<this.viewports.length?this.viewports[e]:null;if(!a||t<a.domTop)return r+(t-i)/this.scale;if(t<=a.domBottom)return a.top+(t-a.domTop);r=a.bottom,i=a.domBottom}}eq(t){return t instanceof v$&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,r)=>e.from==t.viewports[r].from&&e.to==t.viewports[r].to)}};function Xb(n,t){if(t.scale==1)return n;let e=t.toDOM(n.top),r=t.toDOM(n.bottom);return new Mm(n.from,n.length,e,r-e,Array.isArray(n._content)?n._content.map(i=>Xb(i,t)):n._content)}const yC=Gr.define({combine:n=>n.join(" ")}),IF=Gr.define({combine:n=>n.indexOf(!0)>-1}),BF=d0.newName(),y$=d0.newName(),w$=d0.newName(),b$={"&light":"."+y$,"&dark":"."+w$};function RF(n,t,e){return new d0(t,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!e||!e[i])throw new RangeError(`Unsupported selector: ${i}`);return e[i]}):n+" "+r})}const z3=RF("."+BF,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},b$),U3={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},JA=ni.ie&&ni.ie_version<=11;class $3{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new h3,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let r of e)this.queue.push(r);(ni.ie&&ni.ie_version<=11||ni.ios&&t.composing)&&e.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||t.constructor.EDIT_CONTEXT===!1||ni.chrome&&ni.chrome_version<126||(this.editContext=new W3(t),t.state.facet(jv)&&(t.contentDOM.editContext=this.editContext.editContext)),JA&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type!="change"&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,r)=>e!=t[r]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(jv)?r.root.activeElement!=this.dom:!V_(this.dom,i))return;let a=i.anchorNode&&r.docView.nearest(i.anchorNode);a&&a.ignoreEvent(t)?e||(this.selectionChanged=!1):(ni.ie&&ni.ie_version<=11||ni.android&&ni.chrome)&&!r.state.selection.main.empty&&i.focusNode&&gx(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=Ux(t.root);if(!e)return!1;let r=ni.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&function(a,s){if(s.getComposedRanges){let d=s.getComposedRanges(a.root)[0];if(d)return uR(a,d)}let c=null;function f(d){d.preventDefault(),d.stopImmediatePropagation(),c=d.getTargetRanges()[0]}return a.contentDOM.addEventListener("beforeinput",f,!0),a.dom.ownerDocument.execCommand("indent"),a.contentDOM.removeEventListener("beforeinput",f,!0),c?uR(a,c):null}(this.view,e)||e;if(!r||this.selectionRange.eq(r))return!1;let i=V_(this.dom,r);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(a,s){let c=s.focusNode,f=s.focusOffset;if(!c||s.anchorNode!=c||s.anchorOffset!=f)return!1;for(f=Math.min(f,Hm(c));;)if(f){if(c.nodeType!=1)return!1;let d=c.childNodes[f-1];d.contentEditable=="false"?f--:(c=d,f=Hm(c))}else{if(c==a)return!0;f=dy(c),c=c.parentNode}}(this.dom,r)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let r=this.dom;r;)if(r.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=e)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,U3),JA&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),JA&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Sw(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}this.delayedAndroidKey&&t!="Enter"||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,r=-1,i=!1;for(let a of t){let s=this.readMutation(a);s&&(s.typeOver&&(i=!0),e==-1?{from:e,to:r}=s:(e=Math.min(s.from,e),r=Math.max(s.to,r)))}return{from:e,to:r,typeOver:i}}readChange(){let{from:t,to:e,typeOver:r}=this.processRecords(),i=this.selectionChanged&&V_(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new S3(this.view,t,e,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let r=this.view.state,i=u$(this.view,e);return this.view.state==r&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let r=sR(e,t.previousSibling||t.target.previousSibling,-1),i=sR(e,t.nextSibling||t.target.nextSibling,1);return{from:r?e.posAfter(r):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(jv)!=t.state.facet(jv)&&(t.view.contentDOM.editContext=t.state.facet(jv)?this.editContext.editContext:null))}destroy(){var t,e,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function sR(n,t,e){for(;t;){let r=yh.get(t);if(r&&r.parent==n)return r;let i=t.parentNode;t=i!=n.dom?i:e>0?t.nextSibling:t.previousSibling}return null}function uR(n,t){let e=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return gx(s.node,s.offset,i,a)&&([e,r,i,a]=[i,a,e,r]),{anchorNode:e,anchorOffset:r,focusNode:i,focusOffset:a}}class W3{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=t.state.selection.main,a={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Wc.of(r.text.split(`
`))};a.from==this.from&&i<this.from?a.from=i:a.to==this.to&&i>this.to&&(a.to=i),(a.from!=a.to||a.insert.length)&&(this.pendingContextChange=a,t.state.readOnly||PO(t,a,Sn.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let s=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);s<c;s++){let f=t.coordsForChar(s);a=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||a||new DOMRect,i.push(a)}e.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let s=a.underlineStyle,c=a.underlineThickness;if(s!="None"&&c!="None"){let f=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${c=="Thin"?1:2}px`;i.push(ya.mark({attributes:{style:f}}).range(this.toEditorPos(a.rangeStart),this.toEditorPos(a.rangeEnd)))}}t.dispatch({effects:t$.of(ya.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let r in this.handlers)e.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Ux(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,r=!1,i=this.pendingContextChange;return t.changes.iterChanges((a,s,c,f,d)=>{if(r)return;let h=d.length-(s-a);if(i&&s>=i.to){if(i.from==a&&i.to==s&&i.insert.eq(d))return i=this.pendingContextChange=null,e+=h,void(this.to+=h);i=null,this.revertPending(t.state)}if(a+=e,(s+=e)<=this.from)this.from+=h,this.to+=h;else if(a<this.to){if(a<this.from||s>this.to||this.to-this.from+d.length>3e4)return void(r=!0);this.editContext.updateText(this.toContextPos(a),this.toContextPos(s),d.toString()),this.to+=h}e+=h}),i&&!r&&this.revertPending(t.state),!r}update(t){let e=this.pendingContextChange;this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),i=this.toContextPos(e.head);this.editContext.selectionStart==r&&this.editContext.selectionEnd==i||this.editContext.updateSelection(r,i)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class $r{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:r}=t;this.dispatchTransactions=t.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(i){for(;i;){if(i&&(i.nodeType==9||i.nodeType==11&&i.host))return i;i=i.assignedSlot||i.parentNode}return null}(t.parent)||document,this.viewState=new oR(t.state||jh.create(t)),t.scrollTo&&t.scrollTo.is(pC)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Kb).map(i=>new KA(i));for(let i of this.plugins)i.update(this);this.observer=new $3(this),this.inputState=new E3(this),this.inputState.ensureHandlers(this.plugins),this.docView=new RB(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof Bd?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,r=!1,i=!1,a=this.state;for(let y of t){if(y.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=y.state}if(this.destroyed)return void(this.viewState.state=a);let s=this.hasFocus,c=0,f=null;t.some(y=>y.annotation(p$))?(this.inputState.notifiedFocused=s,c=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,f=d$(a,s),f||(c=1));let d=this.observer.delayedAndroidKey,h=null;if(d?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(h=null)):this.observer.clear(),a.facet(jh.phrases)!=this.state.facet(jh.phrases))return this.setState(a);e=BB.create(this,a,t),e.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let y of t){if(m&&(m=m.map(y.changes)),y.scrollIntoView){let{main:w}=y.state.selection;m=new qA(w.empty?w:Sn.cursor(w.head,w.head>w.anchor?-1:1))}for(let w of y.effects)w.is(pC)&&(m=w.value.clip(this.state))}this.viewState.update(e,m),this.bidiCache=QS.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),r=this.docView.update(e),this.state.facet(Gb)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(r,t.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(e.startState.facet(yC)!=e.state.facet(yC)&&(this.viewState.mustMeasureContent=!0),(r||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!e.empty)for(let y of this.state.facet(kF))try{y(e)}catch(w){Rd(this.state,w,"update listener")}(f||h)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),h&&!u$(this,h)&&d.force&&Sw(this.contentDOM,d.key,d.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new oR(t),this.plugins=t.facet(Kb).map(r=>new KA(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new RB(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(Kb),r=t.state.facet(Kb);if(e!=r){let i=[];for(let a of r){let s=e.indexOf(a);if(s<0)i.push(new KA(a));else{let c=this.plugins[s];c.mustUpdate=t,i.push(c)}}for(let a of this.plugins)a.mustUpdate!=t&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);e!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(r){Rd(this.state,r,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(s<0)if(SU(r))a=-1,s=this.viewState.heightMap.height;else{let w=this.viewState.scrollAnchorAt(i);a=w.from,s=w.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];4&f||([this.measureRequests,d]=[d,this.measureRequests]);let h=d.map(w=>{try{return w.read(this)}catch(C){return Rd(this.state,C),lR}}),m=BB.create(this,this.state,[]),y=!1;m.flags|=f,e?e.flags|=f:e=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),y=this.docView.update(m),y&&this.docViewUpdate());for(let w=0;w<d.length;w++)if(h[w]!=lR)try{let C=d[w];C.write&&C.write(h[w],this)}catch(C){Rd(this.state,C)}if(y&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-s;if(w>1||w<-1){i+=w,r.scrollTop=i/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let c of this.state.facet(kF))c(e)}get themeClasses(){return BF+" "+(this.state.facet(IF)?w$:y$)+" "+this.state.facet(yC)}updateAttrs(){let t=cR(this,e$,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(jv)?"true":"false",class:"cm-content",style:`${ni.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),cR(this,MO,e);let r=this.observer.ignore(()=>{let i=xF(this.contentDOM,this.contentAttrs,e),a=xF(this.dom,this.editorAttrs,t);return i||a});return this.editorAttrs=t,this.contentAttrs=e,r}showAnnouncements(t){let e=!0;for(let r of t)for(let i of r.effects)i.is($r.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=i.value)}mountStyles(){this.styleModules=this.state.facet(Gb);let t=this.state.facet($r.cspNonce);d0.mount(this.root,this.styleModules.concat(z3).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t)}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(r=>r.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,r){return YA(this,t,WB(this,t,e,r))}moveByGroup(t,e){return YA(this,t,WB(this,t,e,r=>function(i,a,s){let c=i.state.charCategorizer(a),f=c(s);return d=>{let h=c(d);return f==vh.Space&&(f=h),f==h}}(this,t.head,r)))}visualLineSide(t,e){let r=this.bidiSpans(t),i=this.textDirectionAt(t.from),a=r[e?r.length-1:0];return Sn.cursor(a.side(e,i)+t.from,a.forward(!e,i)?1:-1)}moveToLineBoundary(t,e,r=!0){return function(i,a,s,c){let f=TF(i,a.head),d=c&&f.type==yd.Text&&(i.lineWrapping||f.widgetLineBreaks)?i.coordsAtPos(a.assoc<0&&a.head>f.from?a.head-1:a.head):null;if(d){let h=i.dom.getBoundingClientRect(),m=i.textDirectionAt(f.from),y=i.posAtCoords({x:s==(m==ah.LTR)?h.right-1:h.left+1,y:(d.top+d.bottom)/2});if(y!=null)return Sn.cursor(y,s?-1:1)}return Sn.cursor(s?f.to:f.from,s?-1:1)}(this,t,e,r)}moveVertically(t,e,r){return YA(this,t,function(i,a,s,c){let f=a.head,d=s?1:-1;if(f==(s?i.state.doc.length:0))return Sn.cursor(f,a.assoc);let h,m=a.goalColumn,y=i.contentDOM.getBoundingClientRect(),w=i.coordsAtPos(f,a.assoc||-1),C=i.documentTop;if(w)m==null&&(m=w.left-y.left),h=d<0?w.top:w.bottom;else{let N=i.viewState.lineBlockAt(f);m==null&&(m=Math.min(y.right-y.left,i.defaultCharacterWidth*(f-N.from))),h=(d<0?N.top:N.bottom)+C}let k=y.left+m,M=c??i.viewState.heightOracle.textHeight>>1;for(let N=0;;N+=10){let B=h+(M+N)*d,L=UB(i,{x:k,y:B},!1,d);if(B<y.top||B>y.bottom||(d<0?L<f:L>f)){let z=i.docView.coordsForChar(L),q=!z||B<z.top?-1:1;return Sn.cursor(L,q,void 0,m)}}}(this,t,e,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),UB(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let r=this.docView.coordsAt(t,e);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(t),a=this.bidiSpans(i);return kE(r,a[Vv.find(a,t-i.from,-1,e)].dir==ah.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(JU)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>H3)return NB(t.length);let e,r=this.textDirectionAt(t.from);for(let a of this.bidiCache)if(a.from==t.from&&a.dir==r&&(a.fresh||WU(a.isolates,e=IB(this,t))))return a.order;e||(e=IB(this,t));let i=function(a,s,c){if(!a)return[new Vv(0,0,s==EO?1:0)];if(s==my&&!c.length&&!m3.test(a))return NB(a.length);if(c.length)for(;a.length>_f.length;)_f[_f.length]=256;let f=[],d=s==my?0:1;return AF(a,d,d,c,0,a.length,f),f}(t.text,r,e);return this.bidiCache.push(new QS(t.from,t.to,r,e,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||ni.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{CU(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return pC.of(new qA(typeof t=="number"?Sn.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return pC.of(new qA(Sn.cursor(r.from),"start","start",r.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return Wp.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return Wp.define(()=>({}),{eventObservers:t})}static theme(t,e){let r=d0.newName(),i=[yC.of(r),Gb.of(RF(`.${r}`,t))];return e&&e.dark&&i.push(IF.of(!0)),i}static baseTheme(t){return Fy.lowest(Gb.of(RF("."+BF,t,b$)))}static findFromDOM(t){var e;let r=t.querySelector(".cm-content"),i=r&&yh.get(r)||yh.get(t);return((e=i==null?void 0:i.rootView)===null||e===void 0?void 0:e.view)||null}}$r.styleModule=Gb,$r.inputHandler=YU,$r.clipboardInputFilter=AO,$r.clipboardOutputFilter=kO,$r.scrollHandler=ZU,$r.focusChangeEffect=XU,$r.perLineTextDirection=JU,$r.exceptionSink=GU,$r.updateListener=kF,$r.editable=jv,$r.mouseSelectionStyle=KU,$r.dragMovesSelection=qU,$r.clickAddsSelectionRange=VU,$r.decorations=Wx,$r.outerDecorations=n$,$r.atomicRanges=FO,$r.bidiIsolatedRanges=r$,$r.scrollMargins=i$,$r.darkTheme=IF,$r.cspNonce=Gr.define({combine:n=>n.length?n[0]:""}),$r.contentAttributes=MO,$r.editorAttributes=e$,$r.lineWrapping=$r.contentAttributes.of({class:"cm-lineWrapping"}),$r.announce=mu.define();const H3=4096,lR={};class QS{constructor(t,e,r,i,a,s){this.from=t,this.to=e,this.dir=r,this.isolates=i,this.fresh=a,this.order=s}static update(t,e){if(e.empty&&!t.some(a=>a.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:ah.LTR;for(let a=Math.max(0,t.length-10);a<t.length;a++){let s=t[a];s.dir!=i||e.touchesRange(s.from,s.to)||r.push(new QS(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function cR(n,t,e){for(let r=n.state.facet(t),i=r.length-1;i>=0;i--){let a=r[i],s=typeof a=="function"?a(n):a;s&&bF(s,e)}return e}const V3=ni.mac?"mac":ni.windows?"win":ni.linux?"linux":"key";function wC(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e!==!1&&t.shiftKey&&(n="Shift-"+n),n}const TO=Gr.define({enables:Fy.default($r.domEventHandlers({keydown:(n,t)=>D$(x$(t.state),n,t,"editor")}))}),fR=new WeakMap;function x$(n){let t=n.facet(TO),e=fR.get(t);return e||fR.set(t,e=function(r,i=V3){let a=Object.create(null),s=Object.create(null),c=(d,h)=>{let m=s[d];if(m==null)s[d]=h;else if(m!=h)throw new Error("Key binding "+d+" is used both as a regular binding and as a multi-stroke prefix")},f=(d,h,m,y,w)=>{var C,k;let M=a[d]||(a[d]=Object.create(null)),N=h.split(/ (?!$)/).map(z=>function(q,V){const X=q.split(/-(?!$)/);let nt,it,ct,ft,gt=X[X.length-1];gt=="Space"&&(gt=" ");for(let Ct=0;Ct<X.length-1;++Ct){const kt=X[Ct];if(/^(cmd|meta|m)$/i.test(kt))ft=!0;else if(/^a(lt)?$/i.test(kt))nt=!0;else if(/^(c|ctrl|control)$/i.test(kt))it=!0;else if(/^s(hift)?$/i.test(kt))ct=!0;else{if(!/^mod$/i.test(kt))throw new Error("Unrecognized modifier name: "+kt);V=="mac"?ft=!0:it=!0}}return nt&&(gt="Alt-"+gt),it&&(gt="Ctrl-"+gt),ft&&(gt="Meta-"+gt),ct&&(gt="Shift-"+gt),gt}(z,i));for(let z=1;z<N.length;z++){let q=N.slice(0,z).join(" ");c(q,!0),M[q]||(M[q]={preventDefault:!0,stopPropagation:!1,run:[V=>{let X=Lv={view:V,prefix:q,scope:d};return setTimeout(()=>{Lv==X&&(Lv=null)},q3),!0}]})}let B=N.join(" ");c(B,!1);let L=M[B]||(M[B]={preventDefault:!1,stopPropagation:!1,run:((k=(C=M._any)===null||C===void 0?void 0:C.run)===null||k===void 0?void 0:k.slice())||[]});m&&L.run.push(m),y&&(L.preventDefault=!0),w&&(L.stopPropagation=!0)};for(let d of r){let h=d.scope?d.scope.split(" "):["editor"];if(d.any)for(let y of h){let w=a[y]||(a[y]=Object.create(null));w._any||(w._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:C}=d;for(let k in w)w[k].run.push(M=>C(M,jF))}let m=d[i]||d.key;if(m)for(let y of h)f(y,m,d.run,d.preventDefault,d.stopPropagation),d.shift&&f(y,"Shift-"+m,d.shift,d.preventDefault,d.stopPropagation)}return a}(t.reduce((r,i)=>r.concat(i),[]))),e}let Lv=null;const q3=4e3;let jF=null;function D$(n,t,e,r){jF=t;let i=function(k){var M=!(l3&&k.metaKey&&k.shiftKey&&!k.ctrlKey&&!k.altKey||c3&&k.shiftKey&&k.key&&k.key.length==1||k.key=="Unidentified")&&k.key||(k.shiftKey?zx:g0)[k.keyCode]||k.key||"Unidentified";return M=="Esc"&&(M="Escape"),M=="Del"&&(M="Delete"),M=="Left"&&(M="ArrowLeft"),M=="Up"&&(M="ArrowUp"),M=="Right"&&(M="ArrowRight"),M=="Down"&&(M="ArrowDown"),M}(t),a=Dg(Tp(i,0))==i.length&&i!=" ",s="",c=!1,f=!1,d=!1;Lv&&Lv.view==e&&Lv.scope==r&&(s=Lv.prefix+" ",c$.indexOf(t.keyCode)<0&&(f=!0,Lv=null));let h,m,y=new Set,w=k=>{if(k){for(let M of k.run)if(!y.has(M)&&(y.add(M),M(e)))return k.stopPropagation&&(d=!0),!0;k.preventDefault&&(k.stopPropagation&&(d=!0),f=!0)}return!1},C=n[r];return C&&(w(C[s+wC(i,t,!a)])?c=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(ni.windows&&t.ctrlKey&&t.altKey)&&(h=g0[t.keyCode])&&h!=i?(w(C[s+wC(h,t,!0)])||t.shiftKey&&(m=zx[t.keyCode])!=i&&m!=h&&w(C[s+wC(m,t,!1)]))&&(c=!0):a&&t.shiftKey&&w(C[s+wC(i,t,!0)])&&(c=!0),!c&&w(C._any)&&(c=!0)),f&&(c=!0),c&&d&&t.stopPropagation(),jF=null,c}class Hx{constructor(t,e,r,i,a){this.className=t,this.left=e,this.top=r,this.width=i,this.height=a}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=hR(t);return[new Hx(e,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}return function(i,a,s){if(s.to<=i.viewport.from||s.from>=i.viewport.to)return[];let c=Math.max(s.from,i.viewport.from),f=Math.min(s.to,i.viewport.to),d=i.textDirection==ah.LTR,h=i.contentDOM,m=h.getBoundingClientRect(),y=hR(i),w=h.querySelector(".cm-line"),C=w&&window.getComputedStyle(w),k=m.left+(C?parseInt(C.paddingLeft)+Math.min(0,parseInt(C.textIndent)):0),M=m.right-(C?parseInt(C.paddingRight):0),N=TF(i,c),B=TF(i,f),L=N.type==yd.Text?N:null,z=B.type==yd.Text?B:null;if(L&&(i.lineWrapping||N.widgetLineBreaks)&&(L=pR(i,c,1,L)),z&&(i.lineWrapping||B.widgetLineBreaks)&&(z=pR(i,f,-1,z)),L&&z&&L.from==z.from&&L.to==z.to)return V(X(s.from,s.to,L));{let it=L?X(s.from,null,L):nt(N,!1),ct=z?X(null,s.to,z):nt(B,!0),ft=[];return(L||N).to<(z||B).from-(L&&z?1:0)||N.widgetLineBreaks>1&&it.bottom+i.defaultLineHeight/2<ct.top?ft.push(q(k,it.bottom,M,ct.top)):it.bottom<ct.top&&i.elementAtHeight((it.bottom+ct.top)/2).type==yd.Text&&(it.bottom=ct.top=(it.bottom+ct.top)/2),V(it).concat(ft).concat(V(ct))}function q(it,ct,ft,gt){return new Hx(a,it-y.left,ct-y.top-.01,ft-it,gt-ct+.01)}function V({top:it,bottom:ct,horizontal:ft}){let gt=[];for(let Ct=0;Ct<ft.length;Ct+=2)gt.push(q(ft[Ct],it,ft[Ct+1],ct));return gt}function X(it,ct,ft){let gt=1e9,Ct=-1e9,kt=[];function Tt(_t,Et,mt,vt,Lt){let ee=i.coordsAtPos(_t,_t==ft.to?-2:2),pe=i.coordsAtPos(mt,mt==ft.from?2:-2);ee&&pe&&(gt=Math.min(ee.top,pe.top,gt),Ct=Math.max(ee.bottom,pe.bottom,Ct),Lt==ah.LTR?kt.push(d&&Et?k:ee.left,d&&vt?M:pe.right):kt.push(!d&&vt?k:pe.left,!d&&Et?M:ee.right))}let At=it??ft.from,Zt=ct??ft.to;for(let _t of i.visibleRanges)if(_t.to>At&&_t.from<Zt)for(let Et=Math.max(_t.from,At),mt=Math.min(_t.to,Zt);;){let vt=i.state.doc.lineAt(Et);for(let Lt of i.bidiSpans(vt)){let ee=Lt.from+vt.from,pe=Lt.to+vt.from;if(ee>=mt)break;pe>Et&&Tt(Math.max(ee,Et),it==null&&ee<=At,Math.min(pe,mt),ct==null&&pe>=Zt,Lt.dir)}if(Et=vt.to+1,Et>=mt)break}return kt.length==0&&Tt(At,it==null,Zt,ct==null,i.textDirection),{top:gt,bottom:Ct,horizontal:kt}}function nt(it,ct){let ft=m.top+(ct?it.top:it.bottom);return{top:ft,bottom:ft,horizontal:[]}}}(t,e,r)}}function hR(n){let t=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==ah.LTR?t.left:t.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:t.top-n.scrollDOM.scrollTop*n.scaleY}}function pR(n,t,e,r){let i=n.coordsAtPos(t,2*e);if(!i)return r;let a=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,c=n.posAtCoords({x:a.left+1,y:s}),f=n.posAtCoords({x:a.right-1,y:s});return c==null||f==null?r:{from:Math.max(r.from,Math.min(c,f)),to:Math.min(r.to,Math.max(c,f))}}class K3{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(J_)!=t.state.facet(J_)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,r=t.facet(J_);for(;e<r.length&&r[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,r)=>!function(i,a){return i.constructor==a.constructor&&i.eq(a)}(e,this.drawn[r]))){let e=this.dom.firstChild,r=0;for(let i of t)i.update&&e&&i.constructor&&this.drawn[r].constructor&&i.update(e,this.drawn[r])?(e=e.nextSibling,r++):this.dom.insertBefore(i.draw(),e);for(;e;){let i=e.nextSibling;e.remove(),e=i}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const J_=Gr.define();function C$(n){return[Wp.define(t=>new K3(t,n)),J_.of(n)]}const _$=!ni.ios,Vx=Gr.define({combine:n=>Jm(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function G3(n={}){return[Vx.of(n),Y3,X3,J3,QU.of(!0)]}function S$(n){return n.startState.facet(Vx)!=n.state.facet(Vx)}const Y3=C$({above:!0,markers(n){let{state:t}=n,e=t.facet(Vx),r=[];for(let i of t.selection.ranges){let a=i==t.selection.main;if(i.empty?!a||_$:e.drawRangeCursor){let s=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:Sn.cursor(i.head,i.head>i.anchor?-1:1);for(let f of Hx.forRange(n,s,c))r.push(f)}}return r},update(n,t){n.transactions.some(r=>r.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=S$(n);return e&&dR(n.state,t),n.docChanged||n.selectionSet||e},mount(n,t){dR(t.state,n)},class:"cm-cursorLayer"});function dR(n,t){t.style.animationDuration=n.facet(Vx).cursorBlinkRate+"ms"}const X3=C$({above:!1,markers:n=>n.state.selection.ranges.map(t=>t.empty?[]:Hx.forRange(n,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e)),update:(n,t)=>n.docChanged||n.selectionSet||n.viewportChanged||S$(n),class:"cm-selectionLayer"}),LF={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};_$&&(LF[".cm-line"].caretColor=LF[".cm-content"].caretColor="transparent !important");const J3=Fy.highest($r.theme(LF)),E$=mu.define({map:(n,t)=>n==null?null:t.mapPos(n)}),Jb=xd.define({create:()=>null,update:(n,t)=>(n!=null&&(n=t.changes.mapPos(n)),t.effects.reduce((e,r)=>r.is(E$)?r.value:e,n))}),Q3=Wp.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var t;let e=n.state.field(Jb);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Jb)!=e||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,t=n.state.field(Jb),e=t!=null&&n.coordsAtPos(t);if(!e)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:e.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:e.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:e.bottom-e.top}}drawCursor(n){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;n?(this.cursor.style.left=n.left/t+"px",this.cursor.style.top=n.top/e+"px",this.cursor.style.height=n.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Jb)!=n&&this.view.dispatch({effects:E$.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){n.target!=this.view.contentDOM&&this.view.contentDOM.contains(n.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function gR(n,t,e,r,i){t.lastIndex=0;for(let a,s=n.iterRange(e,r),c=e;!s.next().done;c+=s.value.length)if(!s.lineBreak)for(;a=t.exec(s.value);)i(c+a.index,a)}class Z3{constructor(t){const{regexp:e,decoration:r,decorate:i,boundary:a,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,i)this.addMatch=(c,f,d,h)=>i(h,d,d+c[0].length,c,f);else if(typeof r=="function")this.addMatch=(c,f,d,h)=>{let m=r(c,f,d);m&&h(d,d+c[0].length,m)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(c,f,d,h)=>h(d,d+c[0].length,r)}this.boundary=a,this.maxLength=s}createDeco(t){let e=new Kw,r=e.add.bind(e);for(let{from:i,to:a}of function(s,c){let f=s.visibleRanges;if(f.length==1&&f[0].from==s.viewport.from&&f[0].to==s.viewport.to)return f;let d=[];for(let{from:h,to:m}of f)h=Math.max(s.state.doc.lineAt(h).from,h-c),m=Math.min(s.state.doc.lineAt(m).to,m+c),d.length&&d[d.length-1].to>=h?d[d.length-1].to=m:d.push({from:h,to:m});return d}(t,this.maxLength))gR(t.state.doc,this.regexp,i,a,(s,c)=>this.addMatch(c,t,s,r));return e.finish()}updateDeco(t,e){let r=1e9,i=-1;return t.docChanged&&t.changes.iterChanges((a,s,c,f)=>{f>t.view.viewport.from&&c<t.view.viewport.to&&(r=Math.min(c,r),i=Math.max(f,i))}),t.viewportChanged||i-r>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,e.map(t.changes),r,i):e}updateRange(t,e,r,i){for(let a of t.visibleRanges){let s=Math.max(a.from,r),c=Math.min(a.to,i);if(c>s){let f=t.state.doc.lineAt(s),d=f.to<c?t.state.doc.lineAt(c):f,h=Math.max(a.from,f.from),m=Math.min(a.to,d.to);if(this.boundary){for(;s>f.from;s--)if(this.boundary.test(f.text[s-1-f.from])){h=s;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){m=c;break}}let y,w=[],C=(k,M,N)=>w.push(N.range(k,M));if(f==d)for(this.regexp.lastIndex=h-f.from;(y=this.regexp.exec(f.text))&&y.index<m-f.from;)this.addMatch(y,t,y.index+f.from,C);else gR(t.state.doc,this.regexp,h,m,(k,M)=>this.addMatch(M,t,k,C));e=e.update({filterFrom:h,filterTo:m,filter:(k,M)=>k<h||M>m,add:w})}}return e}}const zF=/x/.unicode!=null?"gu":"g",ttt=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,zF),ett={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let QA=null;const bC=Gr.define({combine(n){let t=Jm(n,{render:null,specialChars:ttt,addSpecialChars:null});return(t.replaceTabs=!function(){var e;if(QA==null&&typeof document<"u"&&document.body){let r=document.body.style;QA=((e=r.tabSize)!==null&&e!==void 0?e:r.MozTabSize)!=null}return QA||!1}())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,zF)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,zF)),t}});function ntt(n={}){return[bC.of(n),mR||(mR=Wp.fromClass(class{constructor(t){this.view=t,this.decorations=ya.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(bC)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Z3({regexp:t.specialChars,decoration:(e,r,i)=>{let{doc:a}=r.state,s=Tp(e[0],0);if(s==9){let c=a.lineAt(i),f=r.state.tabSize,d=pb(c.text,f,i-c.from);return ya.replace({widget:new itt((f-d%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=ya.replace({widget:new rtt(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(bC);t.startState.facet(bC)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let mR=null;class rtt extends A0{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(s){return s>=32?"":s==10?"":String.fromCharCode(9216+s)}(this.code),r=t.state.phrase("Control character")+" "+(ett[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,e);if(i)return i;let a=document.createElement("span");return a.textContent=e,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class itt extends A0{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const ott=ya.line({class:"cm-activeLine"}),att=Wp.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=-1,e=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>t&&(e.push(ott.range(i.from)),t=i.from)}return ya.set(e)}},{decorations:n=>n.decorations}),UF=2e3;function vR(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1),r=n.state.doc.lineAt(e),i=e-r.from,a=i>UF?-1:i==r.length?function(s,c){let f=s.coordsAtPos(s.viewport.from);return f?Math.round(Math.abs((f.left-c)/s.defaultCharacterWidth)):-1}(n,t.clientX):pb(r.text,n.state.tabSize,e-r.from);return{line:r.number,col:a,off:i}}const stt={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},utt={style:"cursor: crosshair"};function ltt(n={}){let[t,e]=stt[n.key||"Alt"],r=Wp.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==t||e(i))},keyup(i){i.keyCode!=t&&e(i)||this.set(!1)},mousemove(i){this.set(e(i))}}});return[r,$r.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?utt:null})]}const Mb="-10000px";let A$=class{constructor(t,e,r,i){this.facet=e,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(e),this.tooltips=this.input.filter(s=>s);let a=null;this.tooltipViews=this.tooltips.map(s=>a=r(s,a))}update(t,e){var r;let i=t.state.facet(this.facet),a=i.filter(f=>f);if(i===this.input){for(let f of this.tooltipViews)f.update&&f.update(t);return!1}let s=[],c=e?[]:null;for(let f=0;f<a.length;f++){let d=a[f],h=-1;if(d){for(let m=0;m<this.tooltips.length;m++){let y=this.tooltips[m];y&&y.create==d.create&&(h=m)}if(h<0)s[f]=this.createTooltipView(d,f?s[f-1]:null),c&&(c[f]=!!d.above);else{let m=s[f]=this.tooltipViews[h];c&&(c[f]=e[h]),m.update&&m.update(t)}}}for(let f of this.tooltipViews)s.indexOf(f)<0&&(this.removeTooltipView(f),(r=f.destroy)===null||r===void 0||r.call(f));return e&&(c.forEach((f,d)=>e[d]=f),e.length=c.length),this.input=i,this.tooltips=a,this.tooltipViews=s,!0}};function ctt(n){let{win:t}=n;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const ZA=Gr.define({combine:n=>{var t,e,r;return{position:ni.ios?"absolute":((t=n.find(i=>i.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=n.find(i=>i.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||ctt}}}),yR=new WeakMap,OO=Wp.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(ZA);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new A$(n,NO,(e,r)=>this.createTooltip(e,r),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(n,this.above);t&&this.observeIntersection();let e=t||n.geometryChanged,r=n.state.facet(ZA);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;e=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(n,t){let e=n.create(this.view),r=t?t.dom:null;if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",e.dom.appendChild(i)}return e.dom.style.position=this.position,e.dom.style.top=Mb,e.dom.style.left="0px",this.container.insertBefore(e.dom,r),e.mount&&e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(e.dom),e}destroy(){var n,t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(ni.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Mb&&i.style.left=="0px"){let a=i.getBoundingClientRect();r=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((i,a)=>{let s=this.manager.tooltipViews[a];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(ZA).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(n){var t;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{editor:e,space:r,scaleX:i,scaleY:a}=n,s=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],d=this.manager.tooltipViews[c],{dom:h}=d,m=n.pos[c],y=n.size[c];if(!m||m.bottom<=Math.max(e.top,r.top)||m.top>=Math.min(e.bottom,r.bottom)||m.right<Math.max(e.left,r.left)-.1||m.left>Math.min(e.right,r.right)+.1){h.style.top=Mb;continue}let w=f.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,C=w?7:0,k=y.right-y.left,M=(t=yR.get(d))!==null&&t!==void 0?t:y.bottom-y.top,N=d.offset||ftt,B=this.view.textDirection==ah.LTR,L=y.width>r.right-r.left?B?r.left:r.right-y.width:B?Math.max(r.left,Math.min(m.left-(w?14:0)+N.x,r.right-k)):Math.min(Math.max(r.left,m.left-k+(w?14:0)-N.x),r.right-k),z=this.above[c];!f.strictSide&&(z?m.top-(y.bottom-y.top)-N.y<r.top:m.bottom+(y.bottom-y.top)+N.y>r.bottom)&&z==r.bottom-m.bottom>m.top-r.top&&(z=this.above[c]=!z);let q=(z?m.top-r.top:r.bottom-m.bottom)-C;if(q<M&&d.resize!==!1){if(q<this.view.defaultLineHeight){h.style.top=Mb;continue}yR.set(d,M),h.style.height=(M=q)/a+"px"}else h.style.height&&(h.style.height="");let V=z?m.top-M-C-N.y:m.bottom+C+N.y,X=L+k;if(d.overlap!==!0)for(let nt of s)nt.left<X&&nt.right>L&&nt.top<V+M&&nt.bottom>V&&(V=z?nt.top-M-2-C:nt.bottom+C+2);if(this.position=="absolute"?(h.style.top=(V-n.parent.top)/a+"px",h.style.left=(L-n.parent.left)/i+"px"):(h.style.top=V/a+"px",h.style.left=L/i+"px"),w){let nt=m.left+(B?N.x:-N.x)-(L+14-7);w.style.left=nt/i+"px"}d.overlap!==!0&&s.push({left:L,top:V,right:X,bottom:V+M}),h.classList.toggle("cm-tooltip-above",z),h.classList.toggle("cm-tooltip-below",!z),d.positioned&&d.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Mb}},{eventObservers:{scroll(){this.maybeMeasure()}}}),ftt={x:0,y:0},NO=Gr.define({enables:[OO,$r.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),ZS=Gr.define({combine:n=>n.reduce((t,e)=>t.concat(e),[])});let k$=class M${static create(t){return new M$(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new A$(t,ZS,(e,r)=>this.createHostedView(e,r),e=>e.dom.remove())}createHostedView(t,e){let r=t.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}passProp(t){let e;for(let r of this.manager.tooltipViews){let i=r[t];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}};const htt=NO.compute([ZS],n=>{let t=n.facet(ZS);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var r;return(r=e.end)!==null&&r!==void 0?r:e.pos})),create:k$.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});let ptt=class{constructor(t,e,r,i,a){this.view=t,this.source=e,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,r=t.docView.nearest(e.target);if(!r)return;let i,a=1;if(r instanceof _O)i=r.posAtStart;else{if(i=t.posAtCoords(e),i==null)return;let c=t.coordsAtPos(i);if(!c||e.y<c.top||e.y>c.bottom||e.x<c.left-t.defaultCharacterWidth||e.x>c.right+t.defaultCharacterWidth)return;let f=t.bidiSpans(t.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),d=f&&f.dir==ah.RTL?-1:1;a=e.x<c.left?-d:d}let s=this.source(t,i,a);if(s!=null&&s.then){let c=this.pending={pos:i};s.then(f=>{this.pending==c&&(this.pending=null,!f||Array.isArray(f)&&!f.length||t.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Rd(t.state,f,"hover tooltip"))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(OO),e=t?t.manager.tooltips.findIndex(r=>r.create==k$.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,r;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!function(s,c){let f,{left:d,right:h,top:m,bottom:y}=s.getBoundingClientRect();if(f=s.querySelector(".cm-tooltip-arrow")){let w=f.getBoundingClientRect();m=Math.min(w.top,m),y=Math.max(w.bottom,y)}return c.clientX>=d-xC&&c.clientX<=h+xC&&c.clientY>=m-xC&&c.clientY<=y+xC}(a.dom,t)||this.pending){let{pos:s}=i[0]||this.pending,c=(r=(e=i[0])===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:s;(s==c?this.view.posAtCoords(this.lastMove)==s:function(f,d,h,m,y){let w=f.scrollDOM.getBoundingClientRect(),C=f.documentTop+f.documentPadding.top+f.contentHeight;if(w.left>m||w.right<m||w.top>y||Math.min(w.bottom,C)<y)return!1;let k=f.posAtCoords({x:m,y},!1);return k>=d&&k<=h}(this.view,s,c,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:r}=this;r&&r.dom.contains(t.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=r=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}};const xC=4;function F$(n,t){let e=n.plugin(OO);if(!e)return null;let r=e.manager.tooltips.indexOf(t);return r<0?null:e.manager.tooltipViews[r]}const dtt=mu.define(),wR=Gr.define({combine(n){let t,e;for(let r of n)t=t||r.topContainer,e=e||r.bottomContainer;return{topContainer:t,bottomContainer:e}}});function qx(n,t){let e=n.plugin(P$),r=e?e.specs.indexOf(t):-1;return r>-1?e.panels[r]:null}const P$=Wp.fromClass(class{constructor(n){this.input=n.state.facet(Kx),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(n));let t=n.state.facet(wR);this.top=new DC(n,!0,t.topContainer),this.bottom=new DC(n,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(n){let t=n.state.facet(wR);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new DC(n.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new DC(n.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=n.state.facet(Kx);if(e!=this.input){let r=e.filter(f=>f),i=[],a=[],s=[],c=[];for(let f of r){let d,h=this.specs.indexOf(f);h<0?(d=f(n.view),c.push(d)):(d=this.panels[h],d.update&&d.update(n)),i.push(d),(d.top?a:s).push(d)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(s);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>$r.scrollMargins.of(t=>{let e=t.plugin(n);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});let DC=class{constructor(t,e,r){this.view=t,this.top=e,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=bR(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=bR(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}};function bR(n){let t=n.nextSibling;return n.remove(),t}const Kx=Gr.define({enables:P$});let av=class extends G0{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}};av.prototype.elementClass="",av.prototype.toDOM=void 0,av.prototype.mapMode=md.TrackBefore,av.prototype.startSide=av.prototype.endSide=-1,av.prototype.point=!0;const Q_=Gr.define(),gtt=Gr.define(),mtt={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>wh.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},vx=Gr.define();function vtt(n){return[T$(),vx.of(Object.assign(Object.assign({},mtt),n))]}const xR=Gr.define({combine:n=>n.some(t=>t)});function T$(n){return[ytt]}const ytt=Wp.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(vx).map(t=>new CR(n,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!n.state.facet(xR),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let t=this.prevViewport,e=n.view.viewport,r=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(r<.8*(e.to-e.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(xR)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let t=this.dom.nextSibling;n&&this.dom.remove();let e=wh.iter(this.view.state.facet(Q_),this.view.viewport.from),r=[],i=this.gutters.map(a=>new wtt(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let s=!0;for(let c of a.type)if(c.type==yd.Text&&s){$F(e,r,c.from);for(let f of i)f.line(this.view,c,r);s=!1}else if(c.widget)for(let f of i)f.widget(this.view,c)}else if(a.type==yd.Text){$F(e,r,a.from);for(let s of i)s.line(this.view,a,r)}else if(a.widget)for(let s of i)s.widget(this.view,a);for(let a of i)a.finish();n&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(n){let t=n.startState.facet(vx),e=n.state.facet(vx),r=n.docChanged||n.heightChanged||n.viewportChanged||!wh.eq(n.startState.facet(Q_),n.state.facet(Q_),n.view.viewport.from,n.view.viewport.to);if(t==e)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let a of e){let s=t.indexOf(a);s<0?i.push(new CR(this.view,a)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>$r.scrollMargins.of(t=>{let e=t.plugin(n);return e&&e.gutters.length!=0&&e.fixed?t.textDirection==ah.LTR?{left:e.dom.offsetWidth*t.scaleX}:{right:e.dom.offsetWidth*t.scaleX}:null})});function DR(n){return Array.isArray(n)?n:[n]}function $F(n,t,e){for(;n.value&&n.from<=e;)n.from==e&&t.push(n.value),n.next()}let wtt=class{constructor(t,e,r){this.gutter=t,this.height=r,this.i=0,this.cursor=wh.iter(t.markers,e.from)}addElement(t,e,r){let{gutter:i}=this,a=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==i.elements.length){let c=new O$(t,s,a,r);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(t,s,a,r);this.height=e.bottom,this.i++}line(t,e,r){let i=[];$F(this.cursor,i,e.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(t,e,i);a&&i.unshift(a);let s=this.gutter;(i.length!=0||s.config.renderEmptyElements)&&this.addElement(t,e,i)}widget(t,e){let r=this.gutter.config.widgetMarker(t,e.widget,e),i=r?[r]:null;for(let a of t.state.facet(gtt)){let s=a(t,e.widget,e);s&&(i||(i=[])).push(s)}i&&this.addElement(t,e,i)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}},CR=class{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in e.domEventHandlers)this.dom.addEventListener(r,i=>{let a,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();a=(f.top+f.bottom)/2}else a=i.clientY;let c=t.lineBlockAtHeight(a-t.documentTop);e.domEventHandlers[r](t,c,i)&&i.preventDefault()});this.markers=DR(e.markers(t)),e.initialSpacer&&(this.spacer=new O$(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=DR(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i])}let r=t.view.viewport;return!wh.eq(this.markers,e,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}},O$=class{constructor(t,e,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,r,i)}update(t,e,r,i){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(a,s){if(a.length!=s.length)return!1;for(let c=0;c<a.length;c++)if(!a[c].compare(s[c]))return!1;return!0}(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,e){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,s=0;;){let c=s,f=a<e.length?e[a++]:null,d=!1;if(f){let h=f.elementClass;h&&(r+=" "+h);for(let m=s;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,d=!0;break}}else c=this.markers.length;for(;s<c;){let h=this.markers[s++];if(h.toDOM){h.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!f)break;f.toDOM&&(d?i=i.nextSibling:this.dom.insertBefore(f.toDOM(t),i)),d&&s++}this.dom.className=r,this.markers=e}destroy(){this.setMarkers(null,[])}};const btt=Gr.define(),xtt=Gr.define(),hw=Gr.define({combine:n=>Jm(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let r=Object.assign({},t);for(let i in e){let a=r[i],s=e[i];r[i]=a?(c,f,d)=>a(c,f,d)||s(c,f,d):s}return r}})});let tk=class extends av{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}};function ek(n,t){return n.state.facet(hw).formatNumber(t,n.state)}const Dtt=vx.compute([hw],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(btt),lineMarker:(t,e,r)=>r.some(i=>i.toDOM)?null:new tk(ek(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,r)=>{for(let i of t.state.facet(xtt)){let a=i(t,e,r);if(a)return a}return null},lineMarkerChange:t=>t.startState.facet(hw)!=t.state.facet(hw),initialSpacer:t=>new tk(ek(t,_R(t.state.doc.lines))),updateSpacer(t,e){let r=ek(e.view,_R(e.view.state.doc.lines));return r==t.number?t:new tk(r)},domEventHandlers:n.facet(hw).domEventHandlers}));function Ctt(n={}){return[hw.of(n),T$(),Dtt]}function _R(n){let t=9;for(;t<n;)t=10*t+9;return t}const _tt=new class extends av{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Stt=Q_.compute(["selection"],n=>{let t=[],e=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>e&&(e=i,t.push(_tt.range(i)))}return wh.of(t)}),Ett=1024;let Att=0,nk=class{constructor(t,e){this.from=t,this.to=e}},Uc=class{constructor(t={}){this.id=Att++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=Vm.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}};Uc.closedBy=new Uc({deserialize:n=>n.split(" ")}),Uc.openedBy=new Uc({deserialize:n=>n.split(" ")}),Uc.group=new Uc({deserialize:n=>n.split(" ")}),Uc.isolate=new Uc({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),Uc.contextHash=new Uc({perNode:!0}),Uc.lookAhead=new Uc({perNode:!0}),Uc.mounted=new Uc({perNode:!0});let t2=class{constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}static get(t){return t&&t.props&&t.props[Uc.mounted.id]}};const ktt=Object.create(null);let Vm=class N${constructor(t,e,r,i=0){this.name=t,this.props=e,this.id=r,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):ktt,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new N$(t.name||"",e,t.id,r);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Uc.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let i of r.split(" "))e[i]=t[r];return r=>{for(let i=r.prop(Uc.group),a=-1;a<(i?i.length:0);a++){let s=e[a<0?r.name:i[a]];if(s)return s}}}};Vm.none=new Vm("",Object.create(null),0,8);const CC=new WeakMap,SR=new WeakMap;var Op;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Op||(Op={}));class od{constructor(t,e,r,i,a){if(this.type=t,this.children=e,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[s,c]of a)this.props[typeof s=="number"?s:s.id]=c}}toString(){let t=t2.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let r of this.children){let i=r.toString();i&&(e&&(e+=","),e+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new HF(this.topNode,t)}cursorAt(t,e=0,r=0){let i=CC.get(this)||this.topNode,a=new HF(i);return a.moveTo(t,e),CC.set(this,a._tree),a}get topNode(){return new Tg(this,0,0,null)}resolve(t,e=0){let r=yx(CC.get(this)||this.topNode,t,e,!1);return CC.set(this,r),r}resolveInner(t,e=0){let r=yx(SR.get(this)||this.topNode,t,e,!0);return SR.set(this,r),r}resolveStack(t,e=0){return function(r,i,a){let s=r.resolveInner(i,a),c=null;for(let f=s instanceof Tg?s:s.context.parent;f;f=f.parent)if(f.index<0){let d=f.parent;(c||(c=[s])).push(d.resolve(i,a)),f=d}else{let d=t2.get(f.tree);if(d&&d.overlay&&d.overlay[0].from<=i&&d.overlay[d.overlay.length-1].to>=i){let h=new Tg(d.tree,d.overlay[0].from+f.from,-1,f);(c||(c=[s])).push(yx(h,i,a,!1))}}return c?R$(c):s}(this,t,e)}iterate(t){let{enter:e,leave:r,from:i=0,to:a=this.length}=t,s=t.mode||0,c=(s&Op.IncludeAnonymous)>0;for(let f=this.cursor(s|Op.IncludeAnonymous);;){let d=!1;if(f.from<=a&&f.to>=i&&(!c&&f.type.isAnonymous||e(f)!==!1)){if(f.firstChild())continue;d=!0}for(;d&&r&&(c||!f.type.isAnonymous)&&r(f),!f.nextSibling();){if(!f.parent())return;d=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:VF(Vm.none,this.children,this.positions,0,this.children.length,0,this.length,(e,r,i)=>new od(this.type,e,r,i,this.propValues),t.makeTree||((e,r,i)=>new od(Vm.none,e,r,i)))}static build(t){return function(e){var r;let{buffer:i,nodeSet:a,maxBufferLength:s=Ett,reused:c=[],minRepeatType:f=a.types.length}=e,d=Array.isArray(i)?new IO(i,i.length):i,h=a.types,m=0,y=0;function w(q,V,X,nt,it,ct){let{id:ft,start:gt,end:Ct,size:kt}=d,Tt=y,At=m;for(;kt<0;){if(d.next(),kt==-1){let vt=c[ft];return X.push(vt),void nt.push(gt-q)}if(kt==-3)return void(m=ft);if(kt==-4)return void(y=ft);throw new RangeError(`Unrecognized record size: ${kt}`)}let Zt,_t,Et=h[ft],mt=gt-q;if(Ct-gt<=s&&(_t=function(vt,Lt){let ee=d.fork(),pe=0,ve=0,Oe=0,qe=ee.end-s,He={size:0,start:0,skip:0};t:for(let wn=ee.pos-vt;ee.pos>wn;){let nn=ee.size;if(ee.id==Lt&&nn>=0){He.size=pe,He.start=ve,He.skip=Oe,Oe+=4,pe+=4,ee.next();continue}let cr=ee.pos-nn;if(nn<0||cr<wn||ee.start<qe)break;let bi=ee.id>=f?4:0,Vt=ee.start;for(ee.next();ee.pos>cr;){if(ee.size<0){if(ee.size!=-3)break t;bi+=4}else ee.id>=f&&(bi+=4);ee.next()}ve=Vt,pe+=nn,Oe+=bi}return(Lt<0||pe==vt)&&(He.size=pe,He.start=ve,He.skip=Oe),He.size>4?He:void 0}(d.pos-V,it))){let vt=new Uint16Array(_t.size-_t.skip),Lt=d.pos-_t.size,ee=vt.length;for(;d.pos>Lt;)ee=N(_t.start,vt,ee);Zt=new v0(vt,Ct-_t.start,a),mt=_t.start-q}else{let vt=d.pos-kt;d.next();let Lt=[],ee=[],pe=ft>=f?ft:-1,ve=0,Oe=Ct;for(;d.pos>vt;)pe>=0&&d.id==pe&&d.size>=0?(d.end<=Oe-s&&(k(Lt,ee,gt,ve,d.end,Oe,pe,Tt,At),ve=Lt.length,Oe=d.end),d.next()):ct>2500?C(gt,vt,Lt,ee):w(gt,vt,Lt,ee,pe,ct+1);if(pe>=0&&ve>0&&ve<Lt.length&&k(Lt,ee,gt,ve,gt,Oe,pe,Tt,At),Lt.reverse(),ee.reverse(),pe>-1&&ve>0){let qe=function(He,wn){return(nn,cr,bi)=>{let Vt,rt,dt=0,bt=nn.length-1;if(bt>=0&&(Vt=nn[bt])instanceof od){if(!bt&&Vt.type==He&&Vt.length==bi)return Vt;(rt=Vt.prop(Uc.lookAhead))&&(dt=cr[bt]+Vt.length+rt)}return M(He,nn,cr,bi,dt,wn)}}(Et,At);Zt=VF(Et,Lt,ee,0,Lt.length,0,Ct-gt,qe,qe)}else Zt=M(Et,Lt,ee,Ct-gt,Tt-Ct,At)}X.push(Zt),nt.push(mt)}function C(q,V,X,nt){let it=[],ct=0,ft=-1;for(;d.pos>V;){let{id:gt,start:Ct,end:kt,size:Tt}=d;if(Tt>4)d.next();else{if(ft>-1&&Ct<ft)break;ft<0&&(ft=kt-s),it.push(gt,Ct,kt),ct++,d.next()}}if(ct){let gt=new Uint16Array(4*ct),Ct=it[it.length-2];for(let kt=it.length-3,Tt=0;kt>=0;kt-=3)gt[Tt++]=it[kt],gt[Tt++]=it[kt+1]-Ct,gt[Tt++]=it[kt+2]-Ct,gt[Tt++]=Tt;X.push(new v0(gt,it[2]-Ct,a)),nt.push(Ct-q)}}function k(q,V,X,nt,it,ct,ft,gt,Ct){let kt=[],Tt=[];for(;q.length>nt;)kt.push(q.pop()),Tt.push(V.pop()+X-it);q.push(M(a.types[ft],kt,Tt,ct-it,gt-ct,Ct)),V.push(it-X)}function M(q,V,X,nt,it,ct,ft){if(ct){let gt=[Uc.contextHash,ct];ft=ft?[gt].concat(ft):[gt]}if(it>25){let gt=[Uc.lookAhead,it];ft=ft?[gt].concat(ft):[gt]}return new od(q,V,X,nt,ft)}function N(q,V,X){let{id:nt,start:it,end:ct,size:ft}=d;if(d.next(),ft>=0&&nt<f){let gt=X;if(ft>4){let Ct=d.pos-(ft-4);for(;d.pos>Ct;)X=N(q,V,X)}V[--X]=gt,V[--X]=ct-q,V[--X]=it-q,V[--X]=nt}else ft==-3?m=nt:ft==-4&&(y=nt);return X}let B=[],L=[];for(;d.pos>0;)w(e.start||0,e.bufferStart||0,B,L,-1,0);let z=(r=e.length)!==null&&r!==void 0?r:B.length?L[0]+B[0].length:0;return new od(h[e.topID],B.reverse(),L.reverse(),z)}(t)}}od.empty=new od(Vm.none,[],[],0);class IO{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new IO(this.buffer,this.index)}}class v0{constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}get type(){return Vm.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],i=this.set.types[e],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),r==(t+=4))return a;let s=[];for(;t<r;)s.push(this.childString(t)),t=this.buffer[t+3];return a+"("+s.join(",")+")"}findChild(t,e,r,i,a){let{buffer:s}=this,c=-1;for(let f=t;f!=e&&!(I$(a,i,s[f+1],s[f+2])&&(c=f,r>0));f=s[f+3]);return c}slice(t,e,r){let i=this.buffer,a=new Uint16Array(e-t),s=0;for(let c=t,f=0;c<e;){a[f++]=i[c++],a[f++]=i[c++]-r;let d=a[f++]=i[c++]-r;a[f++]=i[c++]-t,s=Math.max(s,d)}return new v0(a,s,this.set)}}function I$(n,t,e,r){switch(n){case-2:return e<t;case-1:return r>=t&&e<t;case 0:return e<t&&r>t;case 1:return e<=t&&r>t;case 2:return r>t;case 4:return!0}}function yx(n,t,e,r){for(var i;n.from==n.to||(e<1?n.from>=t:n.from>t)||(e>-1?n.to<=t:n.to<t);){let s=!r&&n instanceof Tg&&n.index<0?null:n.parent;if(!s)return n;n=s}let a=r?0:Op.IgnoreOverlays;if(r)for(let s=n,c=s.parent;c;s=c,c=s.parent)s instanceof Tg&&s.index<0&&((i=c.enter(t,e,a))===null||i===void 0?void 0:i.from)!=s.from&&(n=c);for(;;){let s=n.enter(t,e,a);if(!s)return n;n=s}}class B${cursor(t=0){return new HF(this,t)}getChild(t,e=null,r=null){let i=ER(this,t,e,r);return i.length?i[0]:null}getChildren(t,e=null,r=null){return ER(this,t,e,r)}resolve(t,e=0){return yx(this,t,e,!1)}resolveInner(t,e=0){return yx(this,t,e,!0)}matchContext(t){return WF(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let i=e.lastChild;if(!i||i.to!=e.to)break;i.type.isError&&i.from==i.to?(r=e,e=i.prevSibling):e=i}return r}get node(){return this}get next(){return this.parent}}class Tg extends B${constructor(t,e,r,i){super(),this._tree=t,this.from=e,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,i,a=0){for(let s=this;;){for(let{children:c,positions:f}=s._tree,d=e>0?c.length:-1;t!=d;t+=e){let h=c[t],m=f[t]+s.from;if(I$(i,r,m,m+h.length)){if(h instanceof v0){if(a&Op.ExcludeBuffers)continue;let y=h.findChild(0,h.buffer.length,e,r-m,i);if(y>-1)return new Kv(new Mtt(s,h,t,m),null,y)}else if(a&Op.IncludeAnonymous||!h.type.isAnonymous||BO(h)){let y;if(!(a&Op.IgnoreMounts)&&(y=t2.get(h))&&!y.overlay)return new Tg(y.tree,m,t,s);let w=new Tg(h,m,t,s);return a&Op.IncludeAnonymous||!w.type.isAnonymous?w:w.nextChild(e<0?h.children.length-1:0,e,r,i)}}}if(a&Op.IncludeAnonymous||!s.type.isAnonymous||(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let i;if(!(r&Op.IgnoreOverlays)&&(i=t2.get(this._tree))&&i.overlay){let a=t-this.from;for(let{from:s,to:c}of i.overlay)if((e>0?s<=a:s<a)&&(e<0?c>=a:c>a))return new Tg(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function ER(n,t,e,r){let i=n.cursor(),a=[];if(!i.firstChild())return a;if(e!=null){for(let s=!1;!s;)if(s=i.type.is(e),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function WF(n,t,e=t.length-1){for(let r=n;e>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[e]&&t[e]!=r.name)return!1;e--}}return!0}class Mtt{constructor(t,e,r,i){this.parent=t,this.buffer=e,this.index=r,this.start=i}}class Kv extends B${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,e,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,r);return a<0?null:new Kv(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Op.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return a<0?null:new Kv(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Kv(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Kv(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let s=r.buffer[this.index+1];t.push(r.slice(i,a,s)),e.push(0)}return new od(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function R$(n){if(!n.length)return null;let t=0,e=n[0];for(let a=1;a<n.length;a++){let s=n[a];(s.from>e.from||s.to<e.to)&&(e=s,t=a)}let r=e instanceof Tg&&e.index<0?null:e.parent,i=n.slice();return r?i[t]=r:i.splice(t,1),new Ftt(i,e)}class Ftt{constructor(t,e){this.heads=t,this.node=e}get next(){return R$(this.heads)}}class HF{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Tg)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=r+i.buffer[t+1],this.to=r+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Tg?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,r);return!(a<0)&&(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&Op.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Op.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Op.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(e.findChild(i,this.index,-1,0,4))}else{let i=e.buffer[this.index+3];if(i<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:e,parent:r}=i)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let a=e+t,s=t<0?-1:r._tree.children.length;a!=s;a+=t){let c=r._tree.children[a];if(this.mode&Op.IncludeAnonymous||c instanceof v0||!c.type.isAnonymous||BO(c))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)t:for(let i=this.index,a=this.stack.length;a>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,r=a+1;break t}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)e=new Kv(this.buffer,e,this.stack[i]);return this.bufferNode=new Kv(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(t){if(!this.buffer)return WF(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let i=t.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return WF(this._tree,t,i);let s=r[e.buffer[this.stack[a]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function BO(n){return n.children.some(t=>t instanceof v0||!t.type.isAnonymous||BO(t))}const AR=new WeakMap;function Z_(n,t){if(!n.isAnonymous||t instanceof v0||t.type!=n)return 1;let e=AR.get(t);if(e==null){e=1;for(let r of t.children){if(r.type!=n||!(r instanceof od)){e=1;break}e+=Z_(n,r)}AR.set(t,e)}return e}function VF(n,t,e,r,i,a,s,c,f){let d=0;for(let w=r;w<i;w++)d+=Z_(n,t[w]);let h=Math.ceil(1.5*d/8),m=[],y=[];return function w(C,k,M,N,B){for(let L=M;L<N;){let z=L,q=k[L],V=Z_(n,C[L]);for(L++;L<N;L++){let X=Z_(n,C[L]);if(V+X>=h)break;V+=X}if(L==z+1){if(V>h){let X=C[z];w(X.children,X.positions,0,X.children.length,k[z]+B);continue}m.push(C[z])}else{let X=k[L-1]+C[L-1].length-q;m.push(VF(n,C,k,z,L,q,X,null,f))}y.push(q+B-a)}}(t,e,r,i,0),(c||f)(m,y,s)}class iy{constructor(t,e,r,i,a=!1,s=!1){this.from=t,this.to=e,this.tree=r,this.offset=i,this.open=(a?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],r=!1){let i=[new iy(0,t.length,t,0,!1,r)];for(let a of e)a.to>t.length&&i.push(a);return i}static applyChanges(t,e,r=128){if(!e.length)return t;let i=[],a=1,s=t.length?t[0]:null;for(let c=0,f=0,d=0;;c++){let h=c<e.length?e[c]:null,m=h?h.fromA:1e9;if(m-f>=r)for(;s&&s.from<m;){let y=s;if(f>=y.from||m<=y.to||d){let w=Math.max(y.from,f)-d,C=Math.min(y.to,m)-d;y=w>=C?null:new iy(w,C,y.tree,y.offset+d,c>0,!!h)}if(y&&i.push(y),s.to>m)break;s=a<t.length?t[a++]:null}if(!h)break;f=h.toA,d=h.toA-h.toB}return i}}class Ptt{startParse(t,e,r){return typeof t=="string"&&(t=new Ttt(t)),r=r?r.length?r.map(i=>new nk(i.from,i.to)):[new nk(0,0)]:[new nk(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let i=this.startParse(t,e,r);for(;;){let a=i.advance();if(a)return a}}}class Ttt{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new Uc({perNode:!0});let Ott=0,ep=class{constructor(n={}){this.id=Ott++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=qF.match(n)),t=>{let e=n(t);return e===void 0?null:[this,e]}}};ep.closedBy=new ep({deserialize:n=>n.split(" ")}),ep.openedBy=new ep({deserialize:n=>n.split(" ")}),ep.group=new ep({deserialize:n=>n.split(" ")}),ep.isolate=new ep({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),ep.contextHash=new ep({perNode:!0}),ep.lookAhead=new ep({perNode:!0}),ep.mounted=new ep({perNode:!0});const Ntt=Object.create(null);let qF=class j${constructor(t,e,r,i=0){this.name=t,this.props=e,this.id=r,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):Ntt,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new j$(t.name||"",e,t.id,r);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(ep.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let i of r.split(" "))e[i]=t[r];return r=>{for(let i=r.prop(ep.group),a=-1;a<(i?i.length:0);a++){let s=e[a<0?r.name:i[a]];if(s)return s}}}};var kR;qF.none=new qF("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(kR||(kR={})),new ep({perNode:!0});let Itt=0;class bg{constructor(t,e,r,i){this.name=t,this.set=e,this.base=r,this.modified=i,this.id=Itt++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let r=typeof t=="string"?t:"?";if(t instanceof bg&&(e=t),e==null?void 0:e.base)throw new Error("Can not derive from a modified tag");let i=new bg(r,[],null,[]);if(i.set.push(i),e)for(let a of e.set)i.set.push(a);return i}static defineModifier(t){let e=new e2(t);return r=>r.modified.indexOf(e)>-1?r:e2.get(r.base||r,r.modified.concat(e).sort((i,a)=>i.id-a.id))}}let Btt=0;class e2{constructor(t){this.name=t,this.instances=[],this.id=Btt++}static get(t,e){if(!e.length)return t;let r=e[0].instances.find(c=>c.base==t&&function(f,d){return f.length==d.length&&f.every((h,m)=>h==d[m])}(e,c.modified));if(r)return r;let i=[],a=new bg(t.name,i,t,e);for(let c of e)c.instances.push(a);let s=function(c){let f=[[]];for(let d=0;d<c.length;d++)for(let h=0,m=f.length;h<m;h++)f.push(f[h].concat(c[d]));return f.sort((d,h)=>h.length-d.length)}(e);for(let c of t.set)if(!c.modified.length)for(let f of s)i.push(e2.get(c,f));return a}}function Rtt(n){let t=Object.create(null);for(let e in n){let r=n[e];Array.isArray(r)||(r=[r]);for(let i of e.split(" "))if(i){let a=[],s=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){s=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!y)throw new RangeError("Invalid path: "+i);if(a.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),m+=y[0].length,m==i.length)break;let w=i[m++];if(m==i.length&&w=="!"){s=0;break}if(w!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let f=a.length-1,d=a[f];if(!d)throw new RangeError("Invalid path: "+i);let h=new n2(r,s,f>0?a.slice(0,f):null);t[d]=h.sort(t[d])}}return L$.add(t)}const L$=new ep;class n2{constructor(t,e,r,i){this.tags=t,this.mode=e,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function z$(n,t){let e=Object.create(null);for(let a of n)if(Array.isArray(a.tag))for(let s of a.tag)e[s.id]=a.class;else e[a.tag.id]=a.class;let{scope:r,all:i=null}=t||{};return{style:a=>{let s=i;for(let c of a)for(let f of c.set){let d=e[f.id];if(d){s=s?s+" "+d:d;break}}return s},scope:r}}function jtt(n,t,e,r=0,i=n.length){let a=new Ltt(r,Array.isArray(t)?t:[t],e);a.highlightRange(n.cursor(),r,i,"",a.highlighters),a.flush(i)}n2.empty=new n2([],2,null);class Ltt{constructor(t,e,r){this.at=t,this.highlighters=e,this.span=r,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,r,i,a){let{type:s,from:c,to:f}=t;if(c>=r||f<=e)return;s.isTop&&(a=this.highlighters.filter(w=>!w.scope||w.scope(s)));let d=i,h=function(w){let C=w.type.prop(L$);for(;C&&C.context&&!w.matchContext(C.context);)C=C.next;return C||null}(t)||n2.empty,m=function(w,C){let k=null;for(let M of w){let N=M.style(C);N&&(k=k?k+" "+N:N)}return k}(a,h.tags);if(m&&(d&&(d+=" "),d+=m,h.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(e,c),d),h.opaque)return;let y=t.tree&&t.tree.prop(ep.mounted);if(y&&y.overlay){let w=t.node.enter(y.overlay[0].from+c,1),C=this.highlighters.filter(M=>!M.scope||M.scope(y.tree.type)),k=t.firstChild();for(let M=0,N=c;;M++){let B=M<y.overlay.length?y.overlay[M]:null,L=B?B.from+c:f,z=Math.max(e,N),q=Math.min(r,L);if(z<q&&k)for(;t.from<q&&(this.highlightRange(t,z,q,i,a),this.startSpan(Math.min(q,t.to),d),!(t.to>=L)&&t.nextSibling()););if(!B||L>r)break;N=B.to+c,N>e&&(this.highlightRange(w.cursor(),Math.max(e,B.from+c),Math.min(r,N),"",C),this.startSpan(Math.min(r,N),d))}k&&t.parent()}else if(t.firstChild()){y&&(i="");do if(!(t.to<=e)){if(t.from>=r)break;this.highlightRange(t,e,r,i,a),this.startSpan(Math.min(r,t.to),d)}while(t.nextSibling());t.parent()}}}const _r=bg.define,_C=_r(),Pv=_r(),MR=_r(Pv),FR=_r(Pv),Tv=_r(),SC=_r(Tv),rk=_r(Tv),bm=_r(),P0=_r(bm),dm=_r(),gm=_r(),KF=_r(),Fb=_r(KF),EC=_r(),Pr={comment:_C,lineComment:_r(_C),blockComment:_r(_C),docComment:_r(_C),name:Pv,variableName:_r(Pv),typeName:MR,tagName:_r(MR),propertyName:FR,attributeName:_r(FR),className:_r(Pv),labelName:_r(Pv),namespace:_r(Pv),macroName:_r(Pv),literal:Tv,string:SC,docString:_r(SC),character:_r(SC),attributeValue:_r(SC),number:rk,integer:_r(rk),float:_r(rk),bool:_r(Tv),regexp:_r(Tv),escape:_r(Tv),color:_r(Tv),url:_r(Tv),keyword:dm,self:_r(dm),null:_r(dm),atom:_r(dm),unit:_r(dm),modifier:_r(dm),operatorKeyword:_r(dm),controlKeyword:_r(dm),definitionKeyword:_r(dm),moduleKeyword:_r(dm),operator:gm,derefOperator:_r(gm),arithmeticOperator:_r(gm),logicOperator:_r(gm),bitwiseOperator:_r(gm),compareOperator:_r(gm),updateOperator:_r(gm),definitionOperator:_r(gm),typeOperator:_r(gm),controlOperator:_r(gm),punctuation:KF,separator:_r(KF),bracket:Fb,angleBracket:_r(Fb),squareBracket:_r(Fb),paren:_r(Fb),brace:_r(Fb),content:bm,heading:P0,heading1:_r(P0),heading2:_r(P0),heading3:_r(P0),heading4:_r(P0),heading5:_r(P0),heading6:_r(P0),contentSeparator:_r(bm),list:_r(bm),quote:_r(bm),emphasis:_r(bm),strong:_r(bm),link:_r(bm),monospace:_r(bm),strikethrough:_r(bm),inserted:_r(),deleted:_r(),changed:_r(),invalid:_r(),meta:EC,documentMeta:_r(EC),annotation:_r(EC),processingInstruction:_r(EC),definition:bg.defineModifier("definition"),constant:bg.defineModifier("constant"),function:bg.defineModifier("function"),standard:bg.defineModifier("standard"),local:bg.defineModifier("local"),special:bg.defineModifier("special")};for(let n in Pr){let t=Pr[n];t instanceof bg&&(t.name=n)}var ik;z$([{tag:Pr.link,class:"tok-link"},{tag:Pr.heading,class:"tok-heading"},{tag:Pr.emphasis,class:"tok-emphasis"},{tag:Pr.strong,class:"tok-strong"},{tag:Pr.keyword,class:"tok-keyword"},{tag:Pr.atom,class:"tok-atom"},{tag:Pr.bool,class:"tok-bool"},{tag:Pr.url,class:"tok-url"},{tag:Pr.labelName,class:"tok-labelName"},{tag:Pr.inserted,class:"tok-inserted"},{tag:Pr.deleted,class:"tok-deleted"},{tag:Pr.literal,class:"tok-literal"},{tag:Pr.string,class:"tok-string"},{tag:Pr.number,class:"tok-number"},{tag:[Pr.regexp,Pr.escape,Pr.special(Pr.string)],class:"tok-string2"},{tag:Pr.variableName,class:"tok-variableName"},{tag:Pr.local(Pr.variableName),class:"tok-variableName tok-local"},{tag:Pr.definition(Pr.variableName),class:"tok-variableName tok-definition"},{tag:Pr.special(Pr.variableName),class:"tok-variableName2"},{tag:Pr.definition(Pr.propertyName),class:"tok-propertyName tok-definition"},{tag:Pr.typeName,class:"tok-typeName"},{tag:Pr.namespace,class:"tok-namespace"},{tag:Pr.className,class:"tok-className"},{tag:Pr.macroName,class:"tok-macroName"},{tag:Pr.propertyName,class:"tok-propertyName"},{tag:Pr.operator,class:"tok-operator"},{tag:Pr.comment,class:"tok-comment"},{tag:Pr.meta,class:"tok-meta"},{tag:Pr.invalid,class:"tok-invalid"},{tag:Pr.punctuation,class:"tok-punctuation"}]);const Qb=new Uc,ztt=new Uc;class Om{constructor(t,e,r=[],i=""){this.data=t,this.name=i,jh.prototype.hasOwnProperty("tree")||Object.defineProperty(jh.prototype,"tree",{get(){return ld(this)}}),this.parser=e,this.extension=[y0.of(this),jh.languageData.of((a,s,c)=>{let f=PR(a,s,c),d=f.type.prop(Qb);if(!d)return[];let h=a.facet(d),m=f.type.prop(ztt);if(m){let y=f.resolve(s-f.from,c);for(let w of m)if(w.test(y,a)){let C=a.facet(w.facet);return w.type=="replace"?C:C.concat(h)}}return h})].concat(r)}isActiveAt(t,e,r=-1){return PR(t,e,r).type.prop(Qb)==this.data}findRegions(t){let e=t.facet(y0);if((e==null?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let r=[],i=(a,s)=>{if(a.prop(Qb)==this.data)return void r.push({from:s,to:s+a.length});let c=a.prop(Uc.mounted);if(c){if(c.tree.prop(Qb)==this.data){if(c.overlay)for(let f of c.overlay)r.push({from:f.from+s,to:f.to+s});else r.push({from:s,to:s+a.length});return}if(c.overlay){let f=r.length;if(i(c.tree,c.overlay[0].from+s),r.length>f)return}}for(let f=0;f<a.children.length;f++){let d=a.children[f];d instanceof od&&i(d,a.positions[f]+s)}};return i(ld(t),0),r}get allowsNesting(){return!0}}function PR(n,t,e){let r=n.facet(y0),i=ld(n).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(t,e,Op.ExcludeBuffers))a.type.isTop&&(i=a);return i}function ld(n){let t=n.field(Om.state,!1);return t?t.tree:od.empty}Om.setState=mu.define();class Utt{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let r=this.cursorPos-this.string.length;return t<r||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-r,e-r)}}let Pb=null;class r2{constructor(t,e,r=[],i,a,s,c,f){this.parser=t,this.state=e,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=s,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(t,e,r){return new r2(t,e,[],od.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Utt(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=od.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(iy.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(e??this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(iy.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Pb;Pb=this;try{return t()}finally{Pb=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=TR(t,e.from,e.to);return t}changes(t,e){let{fragments:r,tree:i,treeLen:a,viewport:s,skipped:c}=this;if(this.takeTree(),!t.empty){let f=[];if(t.iterChangedRanges((d,h,m,y)=>f.push({fromA:d,toA:h,fromB:m,toB:y})),r=iy.applyChanges(r,f),i=od.empty,a=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let h=t.mapPos(d.from,1),m=t.mapPos(d.to,-1);h<m&&c.push({from:h,to:m})}}}return new r2(this.parser,e,r,i,a,s,c,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<t.to&&a>t.from&&(this.fragments=TR(this.fragments,i,a),this.skipped.splice(r--,1))}return!(this.skipped.length>=e||(this.reset(),0))}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends Ptt{createParse(e,r,i){let a=i[0].from,s=i[i.length-1].to;return{parsedPos:a,advance(){let f=Pb;if(f){for(let d of i)f.tempSkipped.push(d);t&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,t]):t)}return this.parsedPos=s,new od(Vm.none,[],[],s-a)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Pb}}function TR(n,t,e){return iy.applyChanges(n,[{fromA:t,toA:e,fromB:t,toB:e}])}class Jw{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,r)||e.takeTree(),new Jw(e)}static init(t){let e=Math.min(3e3,t.doc.length),r=r2.create(t.facet(y0).parser,t,{from:0,to:e});return r.work(20,e)||r.takeTree(),new Jw(r)}}Om.state=xd.define({create:Jw.init,update(n,t){for(let e of t.effects)if(e.is(Om.setState))return e.value;return t.startState.facet(y0)!=t.state.facet(y0)?Jw.init(t.state):n.apply(t)}});let U$=n=>{let t=setTimeout(()=>n(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(U$=n=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(n,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const ok=typeof navigator<"u"&&(!((ik=navigator.scheduling)===null||ik===void 0)&&ik.isInputPending)?()=>navigator.scheduling.isInputPending():null,$tt=Wp.fromClass(class{constructor(n){this.view=n,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(n){let t=this.view.state.field(Om.state).context;(t.updateViewport(n.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(n.docChanged||n.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:n}=this.view,t=n.field(Om.state);t.tree==t.context.tree&&t.context.isDone(n.doc.length)||(this.working=U$(this.work))}work(n){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:e,viewport:{to:r}}=this.view,i=e.field(Om.state);if(i.tree==i.context.tree&&i.context.isDone(r+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,n&&!ok?Math.max(25,n.timeRemaining()-5):1e9),s=i.context.treeLen<r&&e.doc.length>r+1e3,c=i.context.work(()=>ok&&ok()||Date.now()>a,r+(s?0:1e5));this.chunkBudget-=Date.now()-t,(c||this.chunkBudget<=0)&&(i.context.takeTree(),this.view.dispatch({effects:Om.setState.of(new Jw(i.context))})),this.chunkBudget>0&&(!c||s)&&this.scheduleWork(),this.checkAsyncSchedule(i.context)}checkAsyncSchedule(n){n.scheduleOn&&(this.workScheduled++,n.scheduleOn.then(()=>this.scheduleWork()).catch(t=>Rd(this.view.state,t)).then(()=>this.workScheduled--),n.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),y0=Gr.define({combine:n=>n.length?n[0]:null,enables:n=>[Om.state,$tt,$r.contentAttributes.compute([n],t=>{let e=t.facet(n);return e&&e.name?{"data-language":e.name}:{}})]}),Wtt=Gr.define(),RO=Gr.define({combine:n=>{if(!n.length)return"  ";let t=n[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return t}});function i2(n){let t=n.facet(RO);return t.charCodeAt(0)==9?n.tabSize*t.length:t.length}function Gx(n,t){let e="",r=n.tabSize,i=n.facet(RO)[0];if(i=="	"){for(;t>=r;)e+="	",t-=r;i=" "}for(let a=0;a<t;a++)e+=i;return e}function jO(n,t){n instanceof jh&&(n=new PE(n));for(let r of n.state.facet(Wtt)){let i=r(n,t);if(i!==void 0)return i}let e=ld(n.state);return e.length>=t?function(r,i,a){let s=i.resolveStack(a),c=s.node.enterUnfinishedNodesBefore(a);if(c!=s.node){let f=[];for(let d=c;d!=s.node;d=d.parent)f.push(d);for(let d=f.length-1;d>=0;d--)s={node:f[d],next:s}}return $$(s,r,a)}(n,e,t):null}class PE{constructor(t,e={}){this.state=t,this.options=e,this.unit=i2(t)}lineAt(t,e=1){let r=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==t?{text:"",from:t}:(e<0?i<t:i<=t)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(t,e);return r.slice(t-i,Math.min(r.length,t+100-i))}column(t,e=1){let{text:r,from:i}=this.lineAt(t,e),a=this.countColumn(r,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(a+=s-this.countColumn(r,r.search(/\S|$/))),a}countColumn(t,e=t.length){return pb(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:r,from:i}=this.lineAt(t,e),a=this.options.overrideIndentation;if(a){let s=a(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Htt=new Uc;function $$(n,t,e){for(let r=n;r;r=r.next){let i=Vtt(r.node);if(i)return i(LO.create(t,e,r))}return 0}function Vtt(n){let t=n.type.prop(Htt);if(t)return t;let e,r=n.firstChild;if(r&&(e=r.type.prop(Uc.closedBy))){let i=n.lastChild,a=i&&e.indexOf(i.name)>-1;return s=>function(c,f,d,h,m){let y=c.textAfter.match(/^\s*/)[0].length,w=m==c.pos+y,C=function(k){let M=k.node,N=M.childAfter(M.from),B=M.lastChild;if(!N)return null;let L=k.options.simulateBreak,z=k.state.doc.lineAt(N.from),q=L==null||L<=z.from?z.to:Math.min(z.to,L);for(let V=N.to;;){let X=M.childAfter(V);if(!X||X==B)return null;if(!X.type.isSkipped){if(X.from>=q)return null;let nt=/^ */.exec(z.text.slice(N.to-z.from))[0].length;return{from:N.from,to:N.to+nt}}V=X.to}}(c);return C?w?c.column(C.from):c.column(C.to):c.baseIndent+(w?0:c.unit*d)}(s,0,1,0,a&&!function(c){return c.pos==c.options.simulateBreak&&c.options.simulateDoubleBreak}(s)?i.from:void 0)}return n.parent==null?qtt:null}function qtt(){return 0}class LO extends PE{constructor(t,e,r){super(t.state,t.options),this.base=t,this.pos=e,this.context=r}get node(){return this.context.node}static create(t,e,r){return new LO(t,e,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(e.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Ktt(r,t))break;e=this.state.doc.lineAt(r.from)}return this.lineIndent(e.from)}continue(){return $$(this.context.next,this.base,this.pos)}}function Ktt(n,t){for(let e=t;e;e=e.parent)if(n==e)return!0;return!1}const Gtt=Gr.define(),Ytt=new Uc;function Xtt(n){let t=n.lastChild;return t&&t.to==n.to&&t.type.isError}function o2(n,t,e){for(let r of n.facet(Gtt)){let i=r(n,t,e);if(i)return i}return function(r,i,a){let s=ld(r);if(s.length<a)return null;let c=null;for(let f=s.resolveStack(a,1);f;f=f.next){let d=f.node;if(d.to<=a||d.from>a)continue;if(c&&d.from<i)break;let h=d.type.prop(Ytt);if(h&&(d.to<s.length-50||s.length==r.doc.length||!Xtt(d))){let m=h(d,r);m&&m.from<=a&&m.from>=i&&m.to>a&&(c=m)}}return c}(n,t,e)}function W$(n,t){let e=t.mapPos(n.from,1),r=t.mapPos(n.to,-1);return e>=r?void 0:{from:e,to:r}}const a2=mu.define({map:W$}),Yx=mu.define({map:W$});function OR(n){let t=[];for(let{head:e}of n.state.selection.ranges)t.some(r=>r.from<=e&&r.to>=e)||t.push(n.lineBlockAt(e));return t}const vy=xd.define({create:()=>ya.none,update(n,t){n=n.map(t.changes);for(let e of t.effects)if(e.is(a2)&&!Jtt(n,e.value.from,e.value.to)){let{preparePlaceholder:r}=t.state.facet(H$),i=r?ya.replace({widget:new tet(r(t.state,e.value))}):BR;n=n.update({add:[i.range(e.value.from,e.value.to)]})}else e.is(Yx)&&(n=n.update({filter:(r,i)=>e.value.from!=r||e.value.to!=i,filterFrom:e.value.from,filterTo:e.value.to}));if(t.selection){let e=!1,{head:r}=t.selection.main;n.between(r,r,(i,a)=>{i<r&&a>r&&(e=!0)}),e&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,a)=>a<=r||i>=r}))}return n},provide:n=>$r.decorations.from(n),toJSON(n,t){let e=[];return n.between(0,t.doc.length,(r,i)=>{e.push(r,i)}),e},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<n.length;){let r=n[e++],i=n[e++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");t.push(BR.range(r,i))}return ya.set(t,!0)}});function s2(n,t,e){var r;let i=null;return(r=n.field(vy,!1))===null||r===void 0||r.between(t,e,(a,s)=>{(!i||i.from>a)&&(i={from:a,to:s})}),i}function Jtt(n,t,e){let r=!1;return n.between(t,t,(i,a)=>{i==t&&a==e&&(r=!0)}),r}function NR(n,t){return n.field(vy,!1)?t:t.concat(mu.appendConfig.of(V$()))}function IR(n,t,e=!0){let r=n.state.doc.lineAt(t.from).number,i=n.state.doc.lineAt(t.to).number;return $r.announce.of(`${n.state.phrase(e?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Qtt=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let t of OR(n)){let e=o2(n.state,t.from,t.to);if(e)return n.dispatch({effects:NR(n.state,[a2.of(e),IR(n,e)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(vy,!1))return!1;let t=[];for(let e of OR(n)){let r=s2(n.state,e.from,e.to);r&&t.push(Yx.of(r),IR(n,r,!1))}return t.length&&n.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:t}=n,e=[];for(let r=0;r<t.doc.length;){let i=n.lineBlockAt(r),a=o2(t,i.from,i.to);a&&e.push(a2.of(a)),r=(a?n.lineBlockAt(a.to):i).to+1}return e.length&&n.dispatch({effects:NR(n.state,e)}),!!e.length}},{key:"Ctrl-Alt-]",run:n=>{let t=n.state.field(vy,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,n.state.doc.length,(r,i)=>{e.push(Yx.of({from:r,to:i}))}),n.dispatch({effects:e}),!0}}],Ztt={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},H$=Gr.define({combine:n=>Jm(n,Ztt)});function V$(n){return[vy,ret]}function q$(n,t){let{state:e}=n,r=e.facet(H$),i=s=>{let c=n.lineBlockAt(n.posAtDOM(s.target)),f=s2(n.state,c.from,c.to);f&&n.dispatch({effects:Yx.of(f)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,t);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",e.phrase("folded code")),a.title=e.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const BR=ya.replace({widget:new class extends A0{toDOM(n){return q$(n,null)}}});class tet extends A0{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return q$(t,this.value)}}const eet={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class ak extends av{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function net(n={}){let t=Object.assign(Object.assign({},eet),n),e=new ak(t,!0),r=new ak(t,!1),i=Wp.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(y0)!=s.state.facet(y0)||s.startState.field(vy,!1)!=s.state.field(vy,!1)||ld(s.startState)!=ld(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let c=new Kw;for(let f of s.viewportLineBlocks){let d=s2(s.state,f.from,f.to)?r:o2(s.state,f.from,f.to)?e:null;d&&c.add(f.from,f.from,d)}return c.finish()}}),{domEventHandlers:a}=t;return[i,vtt({class:"cm-foldGutter",markers(s){var c;return((c=s.plugin(i))===null||c===void 0?void 0:c.markers)||wh.empty},initialSpacer:()=>new ak(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(s,c,f)=>{if(a.click&&a.click(s,c,f))return!0;let d=s2(s.state,c.from,c.to);if(d)return s.dispatch({effects:Yx.of(d)}),!0;let h=o2(s.state,c.from,c.to);return!!h&&(s.dispatch({effects:a2.of(h)}),!0)}})}),V$()]}const ret=$r.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class TE{constructor(t,e){let r;function i(c){let f=d0.newName();return(r||(r=Object.create(null)))["."+f]=c,f}this.specs=t;const a=typeof e.all=="string"?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof Om?c=>c.prop(Qb)==s.data:s?c=>c==s:void 0,this.style=z$(t.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=r?new d0(r):null,this.themeType=e.themeType}static define(t,e){return new TE(t,e||{})}}const GF=Gr.define(),K$=Gr.define({combine:n=>n.length?[n[0]]:null});function sk(n){let t=n.facet(GF);return t.length?t:n.facet(K$)}function iet(n,t){let e,r=[oet];return n instanceof TE&&(n.module&&r.push($r.styleModule.of(n.module)),e=n.themeType),t!=null&&t.fallback?r.push(K$.of(n)):e?r.push(GF.computeN([$r.darkTheme],i=>i.facet($r.darkTheme)==(e=="dark")?[n]:[])):r.push(GF.of(n)),r}const oet=Fy.high(Wp.fromClass(class{constructor(n){this.markCache=Object.create(null),this.tree=ld(n.state),this.decorations=this.buildDeco(n,sk(n.state)),this.decoratedTo=n.viewport.to}update(n){let t=ld(n.state),e=sk(n.state),r=e!=sk(n.startState),{viewport:i}=n.view,a=n.changes.mapPos(this.decoratedTo,1);t.length<i.to&&!r&&t.type==this.tree.type&&a>=i.to?(this.decorations=this.decorations.map(n.changes),this.decoratedTo=a):(t!=this.tree||n.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(n.view,e),this.decoratedTo=i.to)}buildDeco(n,t){if(!t||!this.tree.length)return ya.none;let e=new Kw;for(let{from:r,to:i}of n.visibleRanges)jtt(this.tree,t,(a,s,c)=>{e.add(a,s,this.markCache[c]||(this.markCache[c]=ya.mark({class:c})))},r,i);return e.finish()}},{decorations:n=>n.decorations})),aet=TE.define([{tag:Pr.meta,color:"#404740"},{tag:Pr.link,textDecoration:"underline"},{tag:Pr.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Pr.emphasis,fontStyle:"italic"},{tag:Pr.strong,fontWeight:"bold"},{tag:Pr.strikethrough,textDecoration:"line-through"},{tag:Pr.keyword,color:"#708"},{tag:[Pr.atom,Pr.bool,Pr.url,Pr.contentSeparator,Pr.labelName],color:"#219"},{tag:[Pr.literal,Pr.inserted],color:"#164"},{tag:[Pr.string,Pr.deleted],color:"#a11"},{tag:[Pr.regexp,Pr.escape,Pr.special(Pr.string)],color:"#e40"},{tag:Pr.definition(Pr.variableName),color:"#00f"},{tag:Pr.local(Pr.variableName),color:"#30a"},{tag:[Pr.typeName,Pr.namespace],color:"#085"},{tag:Pr.className,color:"#167"},{tag:[Pr.special(Pr.variableName),Pr.macroName],color:"#256"},{tag:Pr.definition(Pr.propertyName),color:"#00c"},{tag:Pr.comment,color:"#940"},{tag:Pr.invalid,color:"#f00"}]),set=$r.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),G$="()[]{}",Y$=Gr.define({combine:n=>Jm(n,{afterCursor:!0,brackets:G$,maxScanDistance:1e4,renderMatch:fet})}),uet=ya.mark({class:"cm-matchingBracket"}),cet=ya.mark({class:"cm-nonmatchingBracket"});function fet(n){let t=[],e=n.matched?uet:cet;return t.push(e.range(n.start.from,n.start.to)),n.end&&t.push(e.range(n.end.from,n.end.to)),t}const het=xd.define({create:()=>ya.none,update(n,t){if(!t.docChanged&&!t.selection)return n;let e=[],r=t.state.facet(Y$);for(let i of t.state.selection.ranges){if(!i.empty)continue;let a=Nm(t.state,i.head,-1,r)||i.head>0&&Nm(t.state,i.head-1,1,r)||r.afterCursor&&(Nm(t.state,i.head,1,r)||i.head<t.state.doc.length&&Nm(t.state,i.head+1,-1,r));a&&(e=e.concat(r.renderMatch(a,t.state)))}return ya.set(e,!0)},provide:n=>$r.decorations.from(n)}),pet=[het,set];function det(n={}){return[Y$.of(n),pet]}const get=new Uc;function YF(n,t,e){let r=n.prop(t<0?Uc.openedBy:Uc.closedBy);if(r)return r;if(n.name.length==1){let i=e.indexOf(n.name);if(i>-1&&i%2==(t<0?1:0))return[e[i+t]]}return null}function XF(n){let t=n.type.prop(get);return t?t(n.node):n}function Nm(n,t,e,r={}){let i=r.maxScanDistance||1e4,a=r.brackets||G$,s=ld(n),c=s.resolveInner(t,e);for(let f=c;f;f=f.parent){let d=YF(f.type,e,a);if(d&&f.from<f.to){let h=XF(f);if(h&&(e>0?t>=h.from&&t<h.to:t>h.from&&t<=h.to))return met(n,t,e,f,h,d,a)}}return function(f,d,h,m,y,w,C){let k=h<0?f.sliceDoc(d-1,d):f.sliceDoc(d,d+1),M=C.indexOf(k);if(M<0||M%2==0!=h>0)return null;let N={from:h<0?d-1:d,to:h>0?d+1:d},B=f.doc.iterRange(d,h>0?f.doc.length:0),L=0;for(let z=0;!B.next().done&&z<=w;){let q=B.value;h<0&&(z+=q.length);let V=d+z*h;for(let X=h>0?0:q.length-1,nt=h>0?q.length:-1;X!=nt;X+=h){let it=C.indexOf(q[X]);if(!(it<0||m.resolveInner(V+X,1).type!=y))if(it%2==0==h>0)L++;else{if(L==1)return{start:N,end:{from:V+X,to:V+X+1},matched:it>>1==M>>1};L--}}h>0&&(z+=q.length)}return B.done?{start:N,matched:!1}:null}(n,t,e,s,c.type,i,a)}function met(n,t,e,r,i,a,s){let c=r.parent,f={from:i.from,to:i.to},d=0,h=c==null?void 0:c.cursor();if(h&&(e<0?h.childBefore(r.from):h.childAfter(r.to)))do if(e<0?h.to<=r.from:h.from>=r.to){if(d==0&&a.indexOf(h.type.name)>-1&&h.from<h.to){let m=XF(h);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}if(YF(h.type,e,s))d++;else if(YF(h.type,-e,s)){if(d==0){let m=XF(h);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(e<0?h.prevSibling():h.nextSibling());return{start:f,matched:!1}}const vet=Object.create(null),RR=[Vm.none],jR=[],LR=Object.create(null),yet=Object.create(null);for(let[n,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])yet[n]=wet(vet,t);function uk(n,t){jR.indexOf(n)>-1||(jR.push(n),console.warn(t))}function wet(n,t){let e=[];for(let c of t.split(" ")){let f=[];for(let d of c.split(".")){let h=n[d]||Pr[d];h?typeof h=="function"?f.length?f=f.map(h):uk(d,`Modifier ${d} used at start of tag`):f.length?uk(d,`Tag ${d} used as modifier`):f=Array.isArray(h)?h:[h]:uk(d,`Unknown highlighting tag ${d}`)}for(let d of f)e.push(d)}if(!e.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+e.map(c=>c.id),a=LR[i];if(a)return a.id;let s=LR[i]=Vm.define({id:RR.length,name:r,props:[Rtt({[r]:e})]});return RR.push(s),s.id}ah.RTL,ah.LTR;let bet=0,qh=class{constructor(t={}){this.id=bet++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=JF.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}};qh.closedBy=new qh({deserialize:n=>n.split(" ")}),qh.openedBy=new qh({deserialize:n=>n.split(" ")}),qh.group=new qh({deserialize:n=>n.split(" ")}),qh.isolate=new qh({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),qh.contextHash=new qh({perNode:!0}),qh.lookAhead=new qh({perNode:!0}),qh.mounted=new qh({perNode:!0});const xet=Object.create(null);let JF=class X${constructor(t,e,r,i=0){this.name=t,this.props=e,this.id=r,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):xet,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new X$(t.name||"",e,t.id,r);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(qh.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let i of r.split(" "))e[i]=t[r];return r=>{for(let i=r.prop(qh.group),a=-1;a<(i?i.length:0);a++){let s=e[a<0?r.name:i[a]];if(s)return s}}}};var zR;function zO(n,t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=n(t,e);return!!i&&(r(e.update(i)),!0)}}JF.none=new JF("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(zR||(zR={})),new qh({perNode:!0});const Det=zO(function(n,t,e=t.selection.ranges){let r=[],i=-1;for(let{from:a,to:s}of e){let c=r.length,f=1e9,d=UO(t,a).line;if(d){for(let h=a;h<=s;){let m=t.doc.lineAt(h);if(m.from>i&&(a==s||s>m.from)){i=m.from;let y=/^\s*/.exec(m.text)[0].length,w=y==m.length,C=m.text.slice(y,y+d.length)==d?y:-1;y<m.text.length&&y<f&&(f=y),r.push({line:m,comment:C,token:d,indent:y,empty:w,single:!1})}h=m.to+1}if(f<1e9)for(let h=c;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=f);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:f,indent:d,empty:h,single:m}of r)!m&&h||a.push({from:c.from+d,insert:f+" "});let s=t.changes(a);return{changes:s,selection:t.selection.map(s,1)}}if(n!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:s,comment:c,token:f}of r)if(c>=0){let d=s.from+c,h=d+f.length;s.text[h-s.from]==" "&&h++,a.push({from:d,to:h})}return{changes:a}}return null},0),Cet=zO(J$,0),_et=zO((n,t)=>J$(n,t,function(e){let r=[];for(let i of e.selection.ranges){let a=e.doc.lineAt(i.from),s=i.to<=a.to?a:e.doc.lineAt(i.to);s.from>a.from&&s.from==i.to&&(s=i.to==a.to+1?a:e.doc.lineAt(i.to-1));let c=r.length-1;c>=0&&r[c].to>a.from?r[c].to=s.to:r.push({from:a.from+/^\s*/.exec(a.text)[0].length,to:s.to})}return r}(t)),0);function UO(n,t){let e=n.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const Tb=50;function J$(n,t,e=t.selection.ranges){let r=e.map(a=>UO(t,a.from).block);if(!r.every(a=>a))return null;let i=e.map((a,s)=>function(c,{open:f,close:d},h,m){let y,w,C=c.sliceDoc(h-Tb,h),k=c.sliceDoc(m,m+Tb),M=/\s*$/.exec(C)[0].length,N=/^\s*/.exec(k)[0].length,B=C.length-M;if(C.slice(B-f.length,B)==f&&k.slice(N,N+d.length)==d)return{open:{pos:h-M,margin:M&&1},close:{pos:m+N,margin:N&&1}};m-h<=2*Tb?y=w=c.sliceDoc(h,m):(y=c.sliceDoc(h,h+Tb),w=c.sliceDoc(m-Tb,m));let L=/^\s*/.exec(y)[0].length,z=/\s*$/.exec(w)[0].length,q=w.length-z-d.length;return y.slice(L,L+f.length)==f&&w.slice(q,q+d.length)==d?{open:{pos:h+L+f.length,margin:/\s/.test(y.charAt(L+f.length))?1:0},close:{pos:m-z-d.length,margin:/\s/.test(w.charAt(q-1))?1:0}}:null}(t,r[s],a.from,a.to));if(n!=2&&!i.every(a=>a))return{changes:t.changes(e.map((a,s)=>i[s]?[]:[{from:a.from,insert:r[s].open+" "},{from:a.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(a=>a)){let a=[];for(let s,c=0;c<i.length;c++)if(s=i[c]){let f=r[c],{open:d,close:h}=s;a.push({from:d.pos-f.open.length,to:d.pos+d.margin},{from:h.pos-h.margin,to:h.pos+f.close.length})}return{changes:a}}return null}const QF=hv.define(),Eet=hv.define(),Aet=Gr.define(),Q$=Gr.define({combine:n=>Jm(n,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(r,i)=>t(r,i)||e(r,i)})}),Z$=xd.define({create:()=>wx.empty,update(n,t){let e=t.state.facet(Q$),r=t.annotation(QF);if(r){let f=jd.fromTransaction(t,r.selection),d=r.side,h=d==0?n.undone:n.done;return h=f?u2(h,h.length,e.minDepth,f):nW(h,t.startState.selection),new wx(d==0?r.rest:h,d==0?h:r.rest)}let i=t.annotation(Eet);if(i!="full"&&i!="before"||(n=n.isolate()),t.annotation(Bd.addToHistory)===!1)return t.changes.empty?n:n.addMapping(t.changes.desc);let a=jd.fromTransaction(t),s=t.annotation(Bd.time),c=t.annotation(Bd.userEvent);return a?n=n.addChanges(a,s,c,e,t):t.selection&&(n=n.addSelection(t.startState.selection,s,c,e.newGroupDelay)),i!="full"&&i!="after"||(n=n.isolate()),n},toJSON:n=>({done:n.done.map(t=>t.toJSON()),undone:n.undone.map(t=>t.toJSON())}),fromJSON:n=>new wx(n.done.map(jd.fromJSON),n.undone.map(jd.fromJSON))});function ket(n={}){return[Z$,Q$.of(n),$r.domEventHandlers({beforeinput(t,e){let r=t.inputType=="historyUndo"?tW:t.inputType=="historyRedo"?ZF:null;return!!r&&(t.preventDefault(),r(e))}})]}function OE(n,t){return function({state:e,dispatch:r}){if(!t&&e.readOnly)return!1;let i=e.field(Z$,!1);if(!i)return!1;let a=i.pop(n,e,t);return!!a&&(r(a),!0)}}const tW=OE(0,!1),ZF=OE(1,!1),Met=OE(0,!0),Fet=OE(1,!0);class jd{constructor(t,e,r,i,a){this.changes=t,this.effects=e,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(t){return new jd(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,r;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(t){return new jd(t.changes&&um.fromJSON(t.changes),[],t.mapped&&zm.fromJSON(t.mapped),t.startSelection&&Sn.fromJSON(t.startSelection),t.selectionsAfter.map(Sn.fromJSON))}static fromTransaction(t,e){let r=_g;for(let i of t.startState.facet(Aet)){let a=i(t);a.length&&(r=r.concat(a))}return!r.length&&t.changes.empty?null:new jd(t.changes.invert(t.startState.doc),r,void 0,e||t.startState.selection,_g)}static selection(t){return new jd(void 0,_g,void 0,void 0,t)}}function u2(n,t,e,r){let i=t+1>e+20?t-e-1:0,a=n.slice(i,t);return a.push(r),a}function eW(n,t){return n.length?t.length?n.concat(t):n:t}const _g=[],Pet=200;function nW(n,t){if(n.length){let e=n[n.length-1],r=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-Pet));return r.length&&r[r.length-1].eq(t)?n:(r.push(t),u2(n,n.length-1,1e9,e.setSelAfter(r)))}return[jd.selection([t])]}function Tet(n){let t=n[n.length-1],e=n.slice();return e[n.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function lk(n,t){if(!n.length)return n;let e=n.length,r=_g;for(;e;){let i=Oet(n[e-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=n.slice(0,e);return a[e-1]=i,a}t=i.mapped,e--,r=i.selectionsAfter}return r.length?[jd.selection(r)]:_g}function Oet(n,t,e){let r=eW(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(t)):_g,e);if(!n.changes)return jd.selection(r);let i=n.changes.map(t),a=t.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(a):a;return new jd(i,mu.mapEffects(n.effects,t),s,n.startSelection.map(a),r)}const Net=/^(input\.type|delete)($|\.)/;let wx=class Zb{constructor(t,e,r=0,i=void 0){this.done=t,this.undone=e,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Zb(this.done,this.undone):this}addChanges(t,e,r,i,a){let s=this.done,c=s[s.length-1];return s=c&&c.changes&&!c.changes.empty&&t.changes&&(!r||Net.test(r))&&(!c.selectionsAfter.length&&e-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,function(f,d){let h=[],m=!1;return f.iterChangedRanges((y,w)=>h.push(y,w)),d.iterChangedRanges((y,w,C,k)=>{for(let M=0;M<h.length;){let N=h[M++],B=h[M++];k>=N&&C<=B&&(m=!0)}}),m}(c.changes,t.changes))||r=="input.type.compose")?u2(s,s.length-1,i.minDepth,new jd(t.changes.compose(c.changes),eW(mu.mapEffects(t.effects,c.changes),c.effects),c.mapped,c.startSelection,_g)):u2(s,s.length,i.minDepth,t),new Zb(s,_g,e,r)}addSelection(t,e,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:_g;return a.length>0&&e-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(s,c){return s.ranges.length==c.ranges.length&&s.ranges.filter((f,d)=>f.empty!=c.ranges[d].empty).length===0}(a[a.length-1],t)?this:new Zb(nW(this.done,t),this.undone,e,r)}addMapping(t){return new Zb(lk(this.done,t),lk(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,r){let i=t==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],s=a.selectionsAfter[0]||e.selection;if(r&&a.selectionsAfter.length)return e.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:QF.of({side:t,rest:Tet(i),selection:s}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=i.length==1?_g:i.slice(0,i.length-1);return a.mapped&&(c=lk(c,a.mapped)),e.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:QF.of({side:t,rest:c,selection:s}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}return null}};wx.empty=new wx(_g,_g);const Iet=[{key:"Mod-z",run:tW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ZF,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ZF,preventDefault:!0},{key:"Mod-u",run:Met,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Fet,preventDefault:!0}];function Ew(n,t){return Sn.create(n.ranges.map(t),n.mainIndex)}function Um(n,t){return n.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function tm({state:n,dispatch:t},e){let r=Ew(n.selection,e);return!r.eq(n.selection,!0)&&(t(Um(n,r)),!0)}function NE(n,t){return Sn.cursor(t?n.to:n.from)}function rW(n,t){return tm(n,e=>e.empty?n.moveByChar(e,t):NE(e,t))}function ed(n){return n.textDirectionAt(n.state.selection.main.head)==ah.LTR}const iW=n=>rW(n,!ed(n)),oW=n=>rW(n,ed(n));function UR(n,t){return tm(n,e=>e.empty?n.moveByGroup(e,t):NE(e,t))}function Bet(n,t,e){if(t.type.prop(e))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(t.from,t.to)))||t.firstChild}function AC(n,t,e){let r,i,a=ld(n).resolveInner(t.head),s=e?qh.closedBy:qh.openedBy;for(let c=t.head;;){let f=e?a.childAfter(c):a.childBefore(c);if(!f)break;Bet(n,f,s)?a=f:c=e?f.to:f.from}return i=a.type.prop(s)&&(r=e?Nm(n,a.from,1):Nm(n,a.to,-1))&&r.matched?e?r.end.to:r.end.from:e?a.to:a.from,Sn.cursor(i,e?-1:1)}function aW(n,t){return tm(n,e=>{if(!e.empty)return NE(e,t);let r=n.moveVertically(e,t);return r.head!=e.head?r:n.moveToLineBoundary(e,t)})}const sW=n=>aW(n,!1),uW=n=>aW(n,!0);function lW(n){let t,e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,i=0;if(e){for(let a of n.state.facet($r.scrollMargins)){let s=a(n);s!=null&&s.top&&(r=Math.max(s==null?void 0:s.top,r)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}t=n.scrollDOM.clientHeight-r-i}else t=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,t-5)}}function cW(n,t){let e,r=lW(n),{state:i}=n,a=Ew(i.selection,s=>s.empty?n.moveVertically(s,t,r.height):NE(s,t));if(a.eq(i.selection))return!1;if(r.selfScroll){let s=n.coordsAtPos(i.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+r.marginTop,d=c.bottom-r.marginBottom;s&&s.top>f&&s.bottom<d&&(e=$r.scrollIntoView(a.main.head,{y:"start",yMargin:s.top-f}))}return n.dispatch(Um(i,a),{effects:e}),!0}const $R=n=>cW(n,!1),tP=n=>cW(n,!0);function Dv(n,t,e){let r=n.lineBlockAt(t.head),i=n.moveToLineBoundary(t,e);if(i.head==t.head&&i.head!=(e?r.to:r.from)&&(i=n.moveToLineBoundary(t,e,!1)),!e&&i.head==r.from&&r.length){let a=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&t.head!=r.from+a&&(i=Sn.cursor(r.from+a))}return i}function Sg(n,t){let e=Ew(n.state.selection,r=>{let i=t(r);return Sn.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!e.eq(n.state.selection)&&(n.dispatch(Um(n.state,e)),!0)}function fW(n,t){return Sg(n,e=>n.moveByChar(e,t))}const hW=n=>fW(n,!ed(n)),pW=n=>fW(n,ed(n));function WR(n,t){return Sg(n,e=>n.moveByGroup(e,t))}function dW(n,t){return Sg(n,e=>n.moveVertically(e,t))}const gW=n=>dW(n,!1),mW=n=>dW(n,!0);function vW(n,t){return Sg(n,e=>n.moveVertically(e,t,lW(n).height))}const HR=n=>vW(n,!1),VR=n=>vW(n,!0),qR=({state:n,dispatch:t})=>(t(Um(n,{anchor:0})),!0),KR=({state:n,dispatch:t})=>(t(Um(n,{anchor:n.doc.length})),!0),GR=({state:n,dispatch:t})=>(t(Um(n,{anchor:n.selection.main.anchor,head:0})),!0),YR=({state:n,dispatch:t})=>(t(Um(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function Xx(n,t){if(n.state.readOnly)return!1;let e="delete.selection",{state:r}=n,i=r.changeByRange(a=>{let{from:s,to:c}=a;if(s==c){let f=t(a);f<s?(e="delete.backward",f=kC(n,f,!1)):f>s&&(e="delete.forward",f=kC(n,f,!0)),s=Math.min(s,f),c=Math.max(c,f)}else s=kC(n,s,!1),c=kC(n,c,!0);return s==c?{range:a}:{changes:{from:s,to:c},range:Sn.cursor(s,s<a.head?-1:1)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?$r.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function kC(n,t,e){if(n instanceof $r)for(let r of n.state.facet($r.atomicRanges).map(i=>i(n)))r.between(t,t,(i,a)=>{i<t&&a>t&&(t=e?a:i)});return t}const yW=(n,t,e)=>Xx(n,r=>{let i,a,s=r.from,{state:c}=n,f=c.doc.lineAt(s);if(e&&!t&&s>f.from&&s<f.from+200&&!/[^ \t]/.test(i=f.text.slice(0,s-f.from))){if(i[i.length-1]=="	")return s-1;let d=pb(i,c.tabSize)%i2(c)||i2(c);for(let h=0;h<d&&i[i.length-1-h]==" ";h++)s--;a=s}else a=Lp(f.text,s-f.from,t,t)+f.from,a==s&&f.number!=(t?c.doc.lines:1)?a+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(f.text.slice(a-f.from,s-f.from))&&(a=Lp(f.text,a-f.from,!1,!1)+f.from);return a}),eP=n=>yW(n,!1,!0),wW=n=>yW(n,!0,!1),bW=(n,t)=>Xx(n,e=>{let r=e.head,{state:i}=n,a=i.doc.lineAt(r),s=i.charCategorizer(r);for(let c=null;;){if(r==(t?a.to:a.from)){r==e.head&&a.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let f=Lp(a.text,r-a.from,t)+a.from,d=a.text.slice(Math.min(r,f)-a.from,Math.max(r,f)-a.from),h=s(d);if(c!=null&&h!=c)break;d==" "&&r==e.head||(c=h),r=f}return r}),xW=n=>bW(n,!1);function l2(n){let t=[],e=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),a=n.doc.lineAt(r.to);if(r.empty||r.to!=a.from||(a=n.doc.lineAt(r.to-1)),e>=i.number){let s=t[t.length-1];s.to=a.to,s.ranges.push(r)}else t.push({from:i.from,to:a.to,ranges:[r]});e=a.number+1}return t}function XR(n,t,e){if(n.readOnly)return!1;let r=[],i=[];for(let a of l2(n)){if(e?a.to==n.doc.length:a.from==0)continue;let s=n.doc.lineAt(e?a.to+1:a.from-1),c=s.length+1;if(e){r.push({from:a.to,to:s.to},{from:a.from,insert:s.text+n.lineBreak});for(let f of a.ranges)i.push(Sn.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{r.push({from:s.from,to:a.from},{from:a.to,insert:n.lineBreak+s.text});for(let f of a.ranges)i.push(Sn.range(f.anchor-c,f.head-c))}}return!!r.length&&(t(n.update({changes:r,scrollIntoView:!0,selection:Sn.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function JR(n,t,e){if(n.readOnly)return!1;let r=[];for(let i of l2(n))e?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return t(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const QR=DW(!1),Ret=DW(!0);function DW(n){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{let{from:a,to:s}=i,c=t.doc.lineAt(a),f=!n&&a==s&&function(y,w){if(/\(\)|\[\]|\{\}/.test(y.sliceDoc(w-1,w+1)))return{from:w,to:w};let C,k=ld(y).resolveInner(w),M=k.childBefore(w),N=k.childAfter(w);return M&&N&&M.to<=w&&N.from>=w&&(C=M.type.prop(qh.closedBy))&&C.indexOf(N.name)>-1&&y.doc.lineAt(M.to).from==y.doc.lineAt(N.from).from&&!/\S/.test(y.sliceDoc(M.to,N.from))?{from:M.to,to:N.from}:null}(t,a);n&&(a=s=(s<=c.to?c:t.doc.lineAt(s)).to);let d=new PE(t,{simulateBreak:a,simulateDoubleBreak:!!f}),h=jO(d,a);for(h==null&&(h=pb(/^\s*/.exec(t.doc.lineAt(a).text)[0],t.tabSize));s<c.to&&/\s/.test(c.text[s-c.from]);)s++;f?{from:a,to:s}=f:a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let m=["",Gx(t,h)];return f&&m.push(Gx(t,d.lineIndent(c.from,-1))),{changes:{from:a,to:s,insert:Wc.of(m)},range:Sn.cursor(a+1+m[1].length)}});return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function ck(n,t){let e=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let c=n.doc.lineAt(s);c.number>e&&(r.empty||r.to>c.from)&&(t(c,i,r),e=c.number),s=c.to+1}let a=n.changes(i);return{changes:i,range:Sn.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const jet=[{key:"Ctrl-b",run:iW,shift:hW,preventDefault:!0},{key:"Ctrl-f",run:oW,shift:pW},{key:"Ctrl-p",run:sW,shift:gW},{key:"Ctrl-n",run:uW,shift:mW},{key:"Ctrl-a",run:n=>tm(n,t=>Sn.cursor(n.lineBlockAt(t.head).from,1)),shift:n=>Sg(n,t=>Sn.cursor(n.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:n=>tm(n,t=>Sn.cursor(n.lineBlockAt(t.head).to,-1)),shift:n=>Sg(n,t=>Sn.cursor(n.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:wW},{key:"Ctrl-h",run:eP},{key:"Ctrl-k",run:n=>Xx(n,t=>{let e=n.lineBlockAt(t.head).to;return t.head<e?e:Math.min(n.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:xW},{key:"Ctrl-o",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Wc.of(["",""])},range:Sn.cursor(r.from)}));return t(n.update(e,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,a=n.doc.lineAt(i),s=i==a.from?i-1:Lp(a.text,i-a.from,!1)+a.from,c=i==a.to?i+1:Lp(a.text,i-a.from,!0)+a.from;return{changes:{from:s,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(s,i))},range:Sn.cursor(c)}});return!e.changes.empty&&(t(n.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:tP}],Let=[{key:"ArrowLeft",run:iW,shift:hW,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>UR(n,!ed(n)),shift:n=>WR(n,!ed(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>tm(n,t=>Dv(n,t,!ed(n))),shift:n=>Sg(n,t=>Dv(n,t,!ed(n))),preventDefault:!0},{key:"ArrowRight",run:oW,shift:pW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>UR(n,ed(n)),shift:n=>WR(n,ed(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>tm(n,t=>Dv(n,t,ed(n))),shift:n=>Sg(n,t=>Dv(n,t,ed(n))),preventDefault:!0},{key:"ArrowUp",run:sW,shift:gW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:qR,shift:GR},{mac:"Ctrl-ArrowUp",run:$R,shift:HR},{key:"ArrowDown",run:uW,shift:mW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:KR,shift:YR},{mac:"Ctrl-ArrowDown",run:tP,shift:VR},{key:"PageUp",run:$R,shift:HR},{key:"PageDown",run:tP,shift:VR},{key:"Home",run:n=>tm(n,t=>Dv(n,t,!1)),shift:n=>Sg(n,t=>Dv(n,t,!1)),preventDefault:!0},{key:"Mod-Home",run:qR,shift:GR},{key:"End",run:n=>tm(n,t=>Dv(n,t,!0)),shift:n=>Sg(n,t=>Dv(n,t,!0)),preventDefault:!0},{key:"Mod-End",run:KR,shift:YR},{key:"Enter",run:QR,shift:QR},{key:"Mod-a",run:({state:n,dispatch:t})=>(t(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:eP,shift:eP},{key:"Delete",run:wW},{key:"Mod-Backspace",mac:"Alt-Backspace",run:xW},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>bW(n,!0)},{mac:"Mod-Backspace",run:n=>Xx(n,t=>{let e=n.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)})},{mac:"Mod-Delete",run:n=>Xx(n,t=>{let e=n.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(n.state.doc.length,t.head+1)})}].concat(jet.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),zet=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>tm(n,t=>AC(n.state,t,!ed(n))),shift:n=>Sg(n,t=>AC(n.state,t,!ed(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>tm(n,t=>AC(n.state,t,ed(n))),shift:n=>Sg(n,t=>AC(n.state,t,ed(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:t})=>XR(n,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:t})=>JR(n,t,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:t})=>XR(n,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:t})=>JR(n,t,!0)},{key:"Escape",run:({state:n,dispatch:t})=>{let e=n.selection,r=null;return e.ranges.length>1?r=Sn.create([e.main]):e.main.empty||(r=Sn.create([Sn.cursor(e.main.head)])),!!r&&(t(Um(n,r)),!0)}},{key:"Mod-Enter",run:Ret},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:t})=>{let e=l2(n).map(({from:r,to:i})=>Sn.range(r,Math.min(i+1,n.doc.length)));return t(n.update({selection:Sn.create(e),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:t})=>{let e=Ew(n.selection,r=>{let i=ld(n),a=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=a.node.from&&s.node.to<=a.node.to&&(a=s)}for(let s=a;s;s=s.next){let{node:c}=s;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&s.next)return Sn.range(c.to,c.from)}return r});return!e.eq(n.selection)&&(t(Um(n,e)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:t})=>!n.readOnly&&(t(n.update(ck(n,(e,r)=>{let i=/^\s*/.exec(e.text)[0];if(!i)return;let a=pb(i,n.tabSize),s=0,c=Gx(n,Math.max(0,a-i2(n)));for(;s<i.length&&s<c.length&&i.charCodeAt(s)==c.charCodeAt(s);)s++;r.push({from:e.from+s,to:e.from+i.length,insert:c.slice(s)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:t})=>!n.readOnly&&(t(n.update(ck(n,(e,r)=>{r.push({from:e.from,insert:n.facet(RO)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=Object.create(null),r=new PE(n,{overrideIndentation:a=>{let s=e[a];return s??-1}}),i=ck(n,(a,s,c)=>{let f=jO(r,a.from);if(f==null)return;/\S/.test(a.text)||(f=0);let d=/^\s*/.exec(a.text)[0],h=Gx(n,f);(d!=h||c.from<a.from+d.length)&&(e[a.from]=f,s.push({from:a.from,to:a.from+d.length,insert:h}))});return i.changes.empty||t(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:t}=n,e=t.changes(l2(t).map(({from:i,to:a})=>(i>0?i--:a<t.doc.length&&a++,{from:i,to:a}))),r=Ew(t.selection,i=>{let a;if(n.lineWrapping){let s=n.lineBlockAt(i.head),c=n.coordsAtPos(i.head,i.assoc||1);c&&(a=s.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,a)}).map(e);return n.dispatch({changes:e,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:t})=>function(e,r){let i=!1,a=Ew(e.selection,s=>{let c=Nm(e,s.head,-1)||Nm(e,s.head,1)||s.head>0&&Nm(e,s.head-1,1)||s.head<e.doc.length&&Nm(e,s.head+1,-1);if(!c||!c.end)return s;i=!0;let f=c.start.from==s.head?c.end.to:c.end.from;return Sn.cursor(f)});return!!i&&(r(Um(e,a)),!0)}(n,t)},{key:"Mod-/",run:n=>{let{state:t}=n,e=t.doc.lineAt(t.selection.main.from),r=UO(n.state,e.from);return r.line?Det(n):!!r.block&&_et(n)}},{key:"Alt-A",run:Cet},{key:"Ctrl-m",mac:"Shift-Alt-m",run:n=>(n.setTabFocusMode(),!0)}].concat(Let);function Uf(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}t++}for(;t<arguments.length;t++)CW(n,arguments[t]);return n}function CW(n,t){if(typeof t=="string")n.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)n.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var e=0;e<t.length;e++)CW(n,t[e])}}const ZR=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Aw{constructor(t,e,r=0,i=t.length,a,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=a?c=>a(ZR(c)):ZR,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Tp(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=bO(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=Dg(t);let i=this.normalize(e);if(i.length)for(let a=0,s=r;;a++){let c=i.charCodeAt(a),f=this.match(c,s,this.bufferPos+this.bufferStart);if(a==i.length-1){if(f)return this.value=f,this;break}s==r&&a<e.length&&e.charCodeAt(a)==c&&s++}}}match(t,e,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let s=this.matches[a],c=!1;this.query.charCodeAt(s)==t&&(s==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?i={from:e,to:r}:this.matches.push(1,e)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Aw.prototype[Symbol.iterator]=function(){return this});const _W={from:-1,to:-1,match:/.*/.exec("")},$O="gm"+(/x/.unicode==null?"":"u");class SW{constructor(t,e,r,i=0,a=t.length){if(this.text=t,this.to=a,this.curLine="",this.done=!1,this.value=_W,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new EW(t,e,r,i,a);this.re=new RegExp(e,$O+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=c2(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let r=this.curLineStart+e.index,i=r+e[0].length;if(this.matchPos=c2(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,e)))return this.value={from:r,to:i,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const fk=new WeakMap;class kw{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,r){let i=fk.get(t);if(!i||i.from>=r||i.to<=e){let c=new kw(e,t.sliceString(e,r));return fk.set(t,c),c}if(i.from==e&&i.to==r)return i;let{text:a,from:s}=i;return s>e&&(a=t.sliceString(e,s)+a,s=e),i.to<r&&(a+=t.sliceString(i.to,r)),fk.set(t,new kw(s,a)),new kw(e,a.slice(e-s,r-s))}}class EW{constructor(t,e,r,i,a){this.text=t,this.to=a,this.done=!1,this.value=_W,this.matchPos=c2(t,i),this.re=new RegExp(e,$O+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=kw.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let r=this.flat.from+e.index,i=r+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,e)))return this.value={from:r,to:i,match:e},this.matchPos=c2(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=kw.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function c2(n,t){if(t>=n.length)return t;let e,r=n.lineAt(t);for(;t<r.to&&(e=r.text.charCodeAt(t-r.from))>=56320&&e<57344;)t++;return t}function nP(n){let t=Uf("input",{class:"cm-textfield",name:"line",value:String(n.state.doc.lineAt(n.state.selection.main.head).number)});function e(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:i}=n,a=i.doc.lineAt(i.selection.main.head),[,s,c,f,d]=r,h=f?+f.slice(1):0,m=c?+c:a.number;if(c&&d){let C=m/100;s&&(C=C*(s=="-"?-1:1)+a.number/i.doc.lines),m=Math.round(i.doc.lines*C)}else c&&s&&(m=m*(s=="-"?-1:1)+a.number);let y=i.doc.line(Math.max(1,Math.min(i.doc.lines,m))),w=Sn.cursor(y.from+Math.max(0,Math.min(h,y.length)));n.dispatch({effects:[f2.of(!1),$r.scrollIntoView(w.from,{y:"center"})],selection:w}),n.focus()}return{dom:Uf("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:f2.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),e())},onsubmit:r=>{r.preventDefault(),e()}},Uf("label",n.state.phrase("Go to line"),": ",t)," ",Uf("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(SW.prototype[Symbol.iterator]=EW.prototype[Symbol.iterator]=function(){return this});const f2=mu.define(),tj=xd.define({create:()=>!0,update(n,t){for(let e of t.effects)e.is(f2)&&(n=e.value);return n},provide:n=>Kx.from(n,t=>t?nP:null)}),Uet=$r.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),$et={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Wet=Gr.define({combine:n=>Jm(n,$et,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}),Het=ya.mark({class:"cm-selectionMatch"}),Vet=ya.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function ej(n,t,e,r){return!(e!=0&&n(t.sliceDoc(e-1,e))==vh.Word||r!=t.doc.length&&n(t.sliceDoc(r,r+1))==vh.Word)}const qet=Wp.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=n.state.facet(Wet),{state:e}=n,r=e.selection;if(r.ranges.length>1)return ya.none;let i,a=r.main,s=null;if(a.empty){if(!t.highlightWordAroundCursor)return ya.none;let f=e.wordAt(a.head);if(!f)return ya.none;s=e.charCategorizer(a.head),i=e.sliceDoc(f.from,f.to)}else{let f=a.to-a.from;if(f<t.minSelectionLength||f>200)return ya.none;if(t.wholeWords){if(i=e.sliceDoc(a.from,a.to),s=e.charCategorizer(a.head),!ej(s,e,a.from,a.to)||!function(d,h,m,y){return d(h.sliceDoc(m,m+1))==vh.Word&&d(h.sliceDoc(y-1,y))==vh.Word}(s,e,a.from,a.to))return ya.none}else if(i=e.sliceDoc(a.from,a.to),!i)return ya.none}let c=[];for(let f of n.visibleRanges){let d=new Aw(e.doc,i,f.from,f.to);for(;!d.next().done;){let{from:h,to:m}=d.value;if((!s||ej(s,e,h,m))&&(a.empty&&h<=a.from&&m>=a.to?c.push(Vet.range(h,m)):(h>=a.to||m<=a.from)&&c.push(Het.range(h,m)),c.length>t.maxMatches))return ya.none}}return ya.set(c)}},{decorations:n=>n.decorations}),Ket=$r.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),db=Gr.define({combine:n=>Jm(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new nnt(t),scrollToMatch:t=>$r.scrollIntoView(t)})});class AW{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(e){try{return new RegExp(e,$O),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new Yet(this):new Get(this)}getCursor(t,e=0,r){let i=t.doc?t:jh.create({doc:t});return r==null&&(r=i.doc.length),this.regexp?ew(this,i,e,r):tw(this,i,e,r)}}class kW{constructor(t){this.spec=t}}function tw(n,t,e,r){return new Aw(t.doc,n.unquoted,e,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function(i,a){return(s,c,f,d)=>((d>s||d+f.length<c)&&(d=Math.max(0,s-2),f=i.sliceString(d,Math.min(i.length,c+2))),!(a(h2(f,s-d))==vh.Word&&a(p2(f,s-d))==vh.Word||a(p2(f,c-d))==vh.Word&&a(h2(f,c-d))==vh.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class Get extends kW{constructor(t){super(t)}nextMatch(t,e,r){let i=tw(this.spec,t,r,t.doc.length).nextOverlapping();if(i.done){let a=Math.min(t.doc.length,e+this.spec.unquoted.length);i=tw(this.spec,t,0,a).nextOverlapping()}return i.done||i.value.from==e&&i.value.to==r?null:i.value}prevMatchInRange(t,e,r){for(let i=r;;){let a=Math.max(e,i-1e4-this.spec.unquoted.length),s=tw(this.spec,t,a,i),c=null;for(;!s.nextOverlapping().done;)c=s.value;if(c)return c;if(a==e)return null;i-=1e4}}prevMatch(t,e,r){let i=this.prevMatchInRange(t,0,e);return i||(i=this.prevMatchInRange(t,Math.max(0,r-this.spec.unquoted.length),t.doc.length)),!i||i.from==e&&i.to==r?null:i}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let r=tw(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=e)return null;i.push(r.value)}return i}highlight(t,e,r,i){let a=tw(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function ew(n,t,e,r){return new SW(t.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?(i=t.charCategorizer(t.selection.main.head),(a,s,c)=>!c[0].length||(i(h2(c.input,c.index))!=vh.Word||i(p2(c.input,c.index))!=vh.Word)&&(i(p2(c.input,c.index+c[0].length))!=vh.Word||i(h2(c.input,c.index+c[0].length))!=vh.Word)):void 0},e,r);var i}function h2(n,t){return n.slice(Lp(n,t,!1),t)}function p2(n,t){return n.slice(t,Lp(n,t))}class Yet extends kW{nextMatch(t,e,r){let i=ew(this.spec,t,r,t.doc.length).next();return i.done&&(i=ew(this.spec,t,0,e).next()),i.done?null:i.value}prevMatchInRange(t,e,r){for(let i=1;;i++){let a=Math.max(e,r-1e4*i),s=ew(this.spec,t,a,r),c=null;for(;!s.next().done;)c=s.value;if(c&&(a==e||c.from>a+10))return c;if(a==e)return null}}prevMatch(t,e,r){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(e,r)=>r=="$"?"$":r=="&"?t.match[0]:r!="0"&&+r<t.match.length?t.match[r]:e)}matchAll(t,e){let r=ew(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=e)return null;i.push(r.value)}return i}highlight(t,e,r,i){let a=ew(this.spec,t,Math.max(0,e-250),Math.min(r+250,t.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const Jx=mu.define(),WO=mu.define(),i0=xd.define({create:n=>new hk(rP(n).create(),null),update(n,t){for(let e of t.effects)e.is(Jx)?n=new hk(e.value.create(),n.panel):e.is(WO)&&(n=new hk(n.query,e.value?HO:null));return n},provide:n=>Kx.from(n,t=>t.panel)});class hk{constructor(t,e){this.query=t,this.panel=e}}const Xet=ya.mark({class:"cm-searchMatch"}),Jet=ya.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Qet=Wp.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(i0))}update(n){let t=n.state.field(i0);(t!=n.startState.field(i0)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:n,panel:t}){if(!t||!n.spec.valid)return ya.none;let{view:e}=this,r=new Kw;for(let i=0,a=e.visibleRanges,s=a.length;i<s;i++){let{from:c,to:f}=a[i];for(;i<s-1&&f>a[i+1].from-500;)f=a[++i].to;n.highlight(e.state,c,f,(d,h)=>{let m=e.state.selection.ranges.some(y=>y.from==d&&y.to==h);r.add(d,h,m?Jet:Xet)})}return r.finish()}},{decorations:n=>n.decorations});function ID(n){return t=>{let e=t.state.field(i0,!1);return e&&e.query.spec.valid?n(t,e):PW(t)}}const d2=ID((n,{query:t})=>{let{to:e}=n.state.selection.main,r=t.nextMatch(n.state,e,e);if(!r)return!1;let i=Sn.single(r.from,r.to),a=n.state.facet(db);return n.dispatch({selection:i,effects:[VO(n,r),a.scrollToMatch(i.main,n)],userEvent:"select.search"}),FW(n),!0}),g2=ID((n,{query:t})=>{let{state:e}=n,{from:r}=e.selection.main,i=t.prevMatch(e,r,r);if(!i)return!1;let a=Sn.single(i.from,i.to),s=n.state.facet(db);return n.dispatch({selection:a,effects:[VO(n,i),s.scrollToMatch(a.main,n)],userEvent:"select.search"}),FW(n),!0}),Zet=ID((n,{query:t})=>{let e=t.matchAll(n.state,1e3);return!(!e||!e.length||(n.dispatch({selection:Sn.create(e.map(r=>Sn.range(r.from,r.to))),userEvent:"select.search.matches"}),0))}),nj=ID((n,{query:t})=>{let{state:e}=n,{from:r,to:i}=e.selection.main;if(e.readOnly)return!1;let a=t.nextMatch(e,r,r);if(!a)return!1;let s,c,f=[],d=[];if(a.from==r&&a.to==i&&(c=e.toText(t.getReplacement(a)),f.push({from:a.from,to:a.to,insert:c}),a=t.nextMatch(e,a.from,a.to),d.push($r.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(r).number)+"."))),a){let h=f.length==0||f[0].from>=a.to?0:a.to-a.from-c.length;s=Sn.single(a.from-h,a.to-h),d.push(VO(n,a)),d.push(e.facet(db).scrollToMatch(s.main,n))}return n.dispatch({changes:f,selection:s,effects:d,userEvent:"input.replace"}),!0}),tnt=ID((n,{query:t})=>{if(n.state.readOnly)return!1;let e=t.matchAll(n.state,1e9).map(i=>{let{from:a,to:s}=i;return{from:a,to:s,insert:t.getReplacement(i)}});if(!e.length)return!1;let r=n.state.phrase("replaced $ matches",e.length)+".";return n.dispatch({changes:e,effects:$r.announce.of(r),userEvent:"input.replace.all"}),!0});function HO(n){return n.state.facet(db).createPanel(n)}function rP(n,t){var e,r,i,a,s;let c=n.selection.main,f=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(t&&!f)return t;let d=n.facet(db);return new AW({search:((e=t==null?void 0:t.literal)!==null&&e!==void 0?e:d.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(r=t==null?void 0:t.caseSensitive)!==null&&r!==void 0?r:d.caseSensitive,literal:(i=t==null?void 0:t.literal)!==null&&i!==void 0?i:d.literal,regexp:(a=t==null?void 0:t.regexp)!==null&&a!==void 0?a:d.regexp,wholeWord:(s=t==null?void 0:t.wholeWord)!==null&&s!==void 0?s:d.wholeWord})}function MW(n){let t=qx(n,HO);return t&&t.dom.querySelector("[main-field]")}function FW(n){let t=MW(n);t&&t==n.root.activeElement&&t.select()}const PW=n=>{let t=n.state.field(i0,!1);if(t&&t.panel){let e=MW(n);if(e&&e!=n.root.activeElement){let r=rP(n.state,t.query.spec);r.valid&&n.dispatch({effects:Jx.of(r)}),e.focus(),e.select()}}else n.dispatch({effects:[WO.of(!0),t?Jx.of(rP(n.state,t.query.spec)):mu.appendConfig.of(int)]});return!0},TW=n=>{let t=n.state.field(i0,!1);if(!t||!t.panel)return!1;let e=qx(n,HO);return e&&e.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:WO.of(!1)}),!0},ent=[{key:"Mod-f",run:PW,scope:"editor search-panel"},{key:"F3",run:d2,shift:g2,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:d2,shift:g2,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:TW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:t})=>{let e=n.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:r,to:i}=e.main,a=[],s=0;for(let c=new Aw(n.doc,n.sliceDoc(r,i));!c.next().done;){if(a.length>1e3)return!1;c.value.from==r&&(s=a.length),a.push(Sn.range(c.value.from,c.value.to))}return t(n.update({selection:Sn.create(a,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:n=>{let t=qx(n,nP);if(!t){let e=[f2.of(!0)];n.state.field(tj,!1)==null&&e.push(mu.appendConfig.of([tj,Uet])),n.dispatch({effects:e}),t=qx(n,nP)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:n,dispatch:t})=>{let{ranges:e}=n.selection;if(e.some(a=>a.from===a.to))return(({state:a,dispatch:s})=>{let{selection:c}=a,f=Sn.create(c.ranges.map(d=>a.wordAt(d.head)||Sn.cursor(d.head)),c.mainIndex);return!f.eq(c)&&(s(a.update({selection:f})),!0)})({state:n,dispatch:t});let r=n.sliceDoc(e[0].from,e[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=r))return!1;let i=function(a,s){let{main:c,ranges:f}=a.selection,d=a.wordAt(c.head),h=d&&d.from==c.from&&d.to==c.to;for(let m=!1,y=new Aw(a.doc,s,f[f.length-1].to);;){if(y.next(),!y.done){if(m&&f.some(w=>w.from==y.value.from))continue;if(h){let w=a.wordAt(y.value.from);if(!w||w.from!=y.value.from||w.to!=y.value.to)continue}return y.value}if(m)return null;y=new Aw(a.doc,s,0,Math.max(0,f[f.length-1].from-1)),m=!0}}(n,r);return!!i&&(t(n.update({selection:n.selection.addRange(Sn.range(i.from,i.to),!1),effects:$r.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class nnt{constructor(t){this.view=t;let e=this.query=t.state.field(i0).query.spec;function r(i,a,s){return Uf("button",{class:"cm-button",name:i,onclick:a,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=Uf("input",{value:e.search,placeholder:$d(t,"Find"),"aria-label":$d(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=Uf("input",{value:e.replace,placeholder:$d(t,"Replace"),"aria-label":$d(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=Uf("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=Uf("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=Uf("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=Uf("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>d2(t),[$d(t,"next")]),r("prev",()=>g2(t),[$d(t,"previous")]),r("select",()=>Zet(t),[$d(t,"all")]),Uf("label",null,[this.caseField,$d(t,"match case")]),Uf("label",null,[this.reField,$d(t,"regexp")]),Uf("label",null,[this.wordField,$d(t,"by word")]),...t.state.readOnly?[]:[Uf("br"),this.replaceField,r("replace",()=>nj(t),[$d(t,"replace")]),r("replaceAll",()=>tnt(t),[$d(t,"replace all")])],Uf("button",{name:"close",onclick:()=>TW(t),"aria-label":$d(t,"close"),type:"button"},[""])])}commit(){let t=new AW({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:Jx.of(t)}))}keydown(t){(function(e,r,i){return D$(x$(e.state),r,e,i)})(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?g2:d2)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),nj(this.view))}update(t){for(let e of t.transactions)for(let r of e.effects)r.is(Jx)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(db).top}}function $d(n,t){return n.state.phrase(t)}const MC=30,FC=/[\s\.,:;?!]/;function VO(n,{from:t,to:e}){let r=n.state.doc.lineAt(t),i=n.state.doc.lineAt(e).to,a=Math.max(r.from,t-MC),s=Math.min(i,e+MC),c=n.state.sliceDoc(a,s);if(a!=r.from){for(let f=0;f<MC;f++)if(!FC.test(c[f+1])&&FC.test(c[f])){c=c.slice(f);break}}if(s!=i){for(let f=c.length-1;f>c.length-MC;f--)if(!FC.test(c[f-1])&&FC.test(c[f])){c=c.slice(0,f);break}}return $r.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${r.number}.`)}const rnt=$r.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),int=[i0,Fy.low(Qet),rnt];class OW{constructor(t,e,r,i){this.state=t,this.pos=e,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=ld(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),r=Math.max(e.from,this.pos-250),i=e.text.slice(r-e.from,this.pos-e.from),a=i.search(NW(t,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(t,e,r){t=="abort"&&this.abortListeners&&(this.abortListeners.push(e),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function rj(n){let t=Object.keys(n).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}class ij{constructor(t,e,r,i){this.completion=t,this.source=e,this.match=r,this.score=i}}function oy(n){return n.selection.main.from}function NW(n,t){var e;let{source:r}=n,i=t&&r[0]!="^",a=r[r.length-1]!="$";return i||a?new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(e=n.flags)!==null&&e!==void 0?e:n.ignoreCase?"i":""):n}const IW=hv.define(),oj=new WeakMap;function ont(n){if(!Array.isArray(n))return n;let t=oj.get(n);return t||oj.set(n,t=function(e){let r=e.map(s=>typeof s=="string"?{label:s}:s),[i,a]=r.every(s=>/^\w+$/.test(s.label))?[/\w*$/,/\w+$/]:function(s){let c=Object.create(null),f=Object.create(null);for(let{label:h}of s){c[h[0]]=!0;for(let m=1;m<h.length;m++)f[h[m]]=!0}let d=rj(c)+rj(f)+"*$";return[new RegExp("^"+d),new RegExp(d)]}(r);return s=>{let c=s.matchBefore(a);return c||s.explicit?{from:c?c.from:s.pos,options:r,validFor:i}:null}}(n)),t}const m2=mu.define(),Qx=mu.define();class ant{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let r=Tp(t,e),i=Dg(r);this.chars.push(r);let a=t.slice(e,e+i),s=a.toUpperCase();this.folded.push(Tp(s==a?a.toLowerCase():s,0)),e+=i}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:r,any:i,precise:a,byWord:s}=this;if(e.length==1){let B=Tp(t,0),L=Dg(B),z=L==t.length?0:-100;if(B!=e[0]){if(B!=r[0])return null;z+=-200}return this.ret(z,[0,L])}let c=t.indexOf(this.pattern);if(c==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=e.length,d=0;if(c<0){for(let B=0,L=Math.min(t.length,200);B<L&&d<f;){let z=Tp(t,B);z!=e[d]&&z!=r[d]||(i[d++]=B),B+=Dg(z)}if(d<f)return null}let h=0,m=0,y=!1,w=0,C=-1,k=-1,M=/[a-z]/.test(t),N=!0;for(let B=0,L=Math.min(t.length,200),z=0;B<L&&m<f;){let q=Tp(t,B);c<0&&(h<f&&q==e[h]&&(a[h++]=B),w<f&&(q==e[w]||q==r[w]?(w==0&&(C=B),k=B+1,w++):w=0));let V,X=q<255?q>=48&&q<=57||q>=97&&q<=122?2:q>=65&&q<=90?1:0:(V=bO(q))!=V.toLowerCase()?1:V!=V.toUpperCase()?2:0;(!B||X==1&&M||z==0&&X!=0)&&(e[m]==q||r[m]==q&&(y=!0)?s[m++]=B:s.length&&(N=!1)),z=X,B+=Dg(q)}return m==f&&s[0]==0&&N?this.result((y?-200:0)-100,s,t):w==f&&C==0?this.ret(-200-t.length+(k==t.length?0:-100),[0,k]):c>-1?this.ret(-700-t.length,[c,c+this.pattern.length]):w==f?this.ret(-900-t.length,[C,k]):m==f?this.result((y?-200:0)-100-700+(N?0:-1100),s,t):e.length==2?null:this.result((i[0]?-700:0)-200-1100,i,t)}result(t,e,r){let i=[],a=0;for(let s of e){let c=s+(this.astral?Dg(Tp(r,s)):1);a&&i[a-1]==s?i[a-1]=c:(i[a++]=s,i[a++]=c)}return this.ret(t-r.length,i)}}class snt{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),r=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,e.length],this.score=r+(t.length==this.pattern.length?0:-100),this)}}const Dp=Gr.define({combine:n=>Jm(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:unt,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>r=>aj(t(r),e(r)),optionClass:(t,e)=>r=>aj(t(r),e(r)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function aj(n,t){return n?t?n+" "+t:n:t}function unt(n,t,e,r,i,a){let s,c,f=n.textDirection==ah.RTL,d=f,h=!1,m="top",y=t.left-i.left,w=i.right-t.right,C=r.right-r.left,k=r.bottom-r.top;if(d&&y<Math.min(C,w)?d=!1:!d&&w<Math.min(C,y)&&(d=!0),C<=(d?y:w))s=Math.max(i.top,Math.min(e.top,i.bottom-k))-t.top,c=Math.min(400,d?y:w);else{h=!0,c=Math.min(400,(f?t.right:i.right-t.left)-30);let M=i.bottom-t.bottom;M>=k||M>t.top?s=e.bottom-t.top:(m="bottom",s=t.bottom-e.top)}return{style:`${m}: ${s/((t.bottom-t.top)/a.offsetHeight)}px; max-width: ${c/((t.right-t.left)/a.offsetWidth)}px`,class:"cm-completionInfo-"+(h?f?"left-narrow":"right-narrow":d?"left":"right")}}function pk(n,t,e){if(n<=e)return{from:0,to:n};if(t<0&&(t=0),t<=n>>1){let i=Math.floor(t/e);return{from:i*e,to:(i+1)*e}}let r=Math.floor((n-t)/e);return{from:n-(r+1)*e,to:n-r*e}}class lnt{constructor(t,e,r){this.view=t,this.stateField=e,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let i=t.state.field(e),{options:a,selected:s}=i.open,c=t.state.facet(Dp);this.optionContent=function(f){let d=f.addToOptions.slice();return f.icons&&d.push({render(h){let m=document.createElement("div");return m.classList.add("cm-completionIcon"),h.type&&m.classList.add(...h.type.split(/\s+/g).map(y=>"cm-completionIcon-"+y)),m.setAttribute("aria-hidden","true"),m},position:20}),d.push({render(h,m,y,w){let C=document.createElement("span");C.className="cm-completionLabel";let k=h.displayLabel||h.label,M=0;for(let N=0;N<w.length;){let B=w[N++],L=w[N++];B>M&&C.appendChild(document.createTextNode(k.slice(M,B)));let z=C.appendChild(document.createElement("span"));z.appendChild(document.createTextNode(k.slice(B,L))),z.className="cm-completionMatchedText",M=L}return M<k.length&&C.appendChild(document.createTextNode(k.slice(M))),C},position:50},{render(h){if(!h.detail)return null;let m=document.createElement("span");return m.className="cm-completionDetail",m.textContent=h.detail,m},position:80}),d.sort((h,m)=>h.position-m.position).map(h=>h.render)}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=pk(a.length,s,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",f=>{let{options:d}=t.state.field(e).open;for(let h,m=f.target;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(h=/-(\d+)$/.exec(m.id))&&+h[1]<d.length)return this.applyCompletion(t,d[+h[1]]),void f.preventDefault()}),this.dom.addEventListener("focusout",f=>{let d=t.state.field(this.stateField,!1);d&&d.tooltip&&t.state.facet(Dp).closeOnBlur&&f.relatedTarget!=t.contentDOM&&t.dispatch({effects:Qx.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let r=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=i){let{options:a,selected:s,disabled:c}=r.open;i.open&&i.open.options==a||(this.range=pk(a.length,s,t.state.facet(Dp).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),c!=((e=i.open)===null||e===void 0?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of e.split(" "))r&&this.dom.classList.add(r);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=pk(e.options.length,e.selected,this.view.state.facet(Dp).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:r}=e.options[e.selected],{info:i}=r;if(!i)return;let a=typeof i=="string"?document.createTextNode(i):i(r);if(!a)return;"then"in a?a.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s,r)}).catch(s=>Rd(this.view.state,s,"completion info")):this.addInfoPane(a,r)}}addInfoPane(t,e){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",t.nodeType!=null)r.appendChild(t),this.infoDestroy=null;else{let{dom:i,destroy:a}=t;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName=="LI"&&r.id?i==t?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),e=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected"):i--;return e&&function(r,i){let a=r.getBoundingClientRect(),s=i.getBoundingClientRect(),c=a.height/r.offsetHeight;s.top<a.top?r.scrollTop-=(a.top-s.top)/c:s.bottom>a.bottom&&(r.scrollTop+=(s.bottom-a.bottom)/c)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),a=this.space;if(!a){let s=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(a.bottom,e.bottom)-10||i.bottom<Math.max(a.top,e.top)+10?null:this.view.state.facet(Dp).positionInfo(this.view,e,i,r,a,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,r){const i=document.createElement("ul");i.id=e,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let s=r.from;s<r.to;s++){let{completion:c,match:f}=t[s],{section:d}=c;if(d){let y=typeof d=="string"?d:d.name;y!=a&&(s>r.from||r.from==0)&&(a=y,typeof d!="string"&&d.header?i.appendChild(d.header(d)):i.appendChild(document.createElement("completion-section")).textContent=y)}const h=i.appendChild(document.createElement("li"));h.id=e+"-"+s,h.setAttribute("role","option");let m=this.optionClass(c);m&&(h.className=m);for(let y of this.optionContent){let w=y(c,this.view.state,this.view,f);w&&h.appendChild(w)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function sj(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class pw{constructor(t,e,r,i,a,s){this.options=t,this.attrs=e,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new pw(this.options,uj(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,r,i,a,s){if(i&&!s&&t.some(d=>d.isPending))return i.setDisabled();let c=function(d,h){let m=[],y=null,w=B=>{m.push(B);let{section:L}=B.completion;if(L){y||(y=[]);let z=typeof L=="string"?L:L.name;y.some(q=>q.name==z)||y.push(typeof L=="string"?{name:z}:L)}},C=h.facet(Dp);for(let B of d)if(B.hasResult()){let L=B.result.getMatch;if(B.result.filter===!1)for(let z of B.result.options)w(new ij(z,B.source,L?L(z):[],1e9-m.length));else{let z,q=h.sliceDoc(B.from,B.to),V=C.filterStrict?new snt(q):new ant(q);for(let X of B.result.options)if(z=V.match(X.label)){let nt=X.displayLabel?L?L(X,z.matched):[]:z.matched;w(new ij(X,B.source,nt,z.score+(X.boost||0)))}}}if(y){let B=Object.create(null),L=0,z=(q,V)=>{var X,nt;return((X=q.rank)!==null&&X!==void 0?X:1e9)-((nt=V.rank)!==null&&nt!==void 0?nt:1e9)||(q.name<V.name?-1:1)};for(let q of y.sort(z))L-=1e5,B[q.name]=L;for(let q of m){let{section:V}=q.completion;V&&(q.score+=B[typeof V=="string"?V:V.name])}}let k=[],M=null,N=C.compareCompletions;for(let B of m.sort((L,z)=>z.score-L.score||N(L.completion,z.completion))){let L=B.completion;!M||M.label!=L.label||M.detail!=L.detail||M.type!=null&&L.type!=null&&M.type!=L.type||M.apply!=L.apply||M.boost!=L.boost?k.push(B):sj(B.completion)>sj(M)&&(k[k.length-1]=B),M=B.completion}return k}(t,e);if(!c.length)return i&&t.some(d=>d.isPending)?i.setDisabled():null;let f=e.facet(Dp).selectOnOpen?0:-1;if(i&&i.selected!=f&&i.selected!=-1){let d=i.options[i.selected].completion;for(let h=0;h<c.length;h++)if(c[h].completion==d){f=h;break}}return new pw(c,uj(r,f),{pos:t.reduce((d,h)=>h.hasResult()?Math.min(d,h.from):d,1e8),create:pnt,above:a.aboveCursor},i?i.timestamp:Date.now(),f,!1)}map(t){return new pw(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new pw(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class v2{constructor(t,e,r){this.active=t,this.id=e,this.open=r}static start(){return new v2(hnt,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,r=e.facet(Dp),i=(r.override||e.languageDataAt("autocomplete",oy(e)).map(ont)).map(c=>(this.active.find(d=>d.source==c)||new Eg(c,this.active.some(d=>d.state!=0)?1:0)).update(t,r));i.length==this.active.length&&i.every((c,f)=>c==this.active[f])&&(i=this.active);let a=this.open,s=t.effects.some(c=>c.is(qO));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||i.some(c=>c.hasResult()&&t.changes.touchesRange(c.from,c.to))||!function(c,f){if(c==f)return!0;for(let d=0,h=0;;){for(;d<c.length&&!c[d].hasResult();)d++;for(;h<f.length&&!f[h].hasResult();)h++;let m=d==c.length,y=h==f.length;if(m||y)return m==y;if(c[d++].result!=f[h++].result)return!1}}(i,this.active)||s?a=pw.build(i,e,this.id,a,r,s):a&&a.disabled&&!i.some(c=>c.isPending)&&(a=null),!a&&i.every(c=>!c.isPending)&&i.some(c=>c.hasResult())&&(i=i.map(c=>c.hasResult()?new Eg(c.source,0):c));for(let c of t.effects)c.is(RW)&&(a=a&&a.setSelected(c.value,this.id));return i==this.active&&a==this.open?this:new v2(i,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?cnt:fnt}}const cnt={"aria-autocomplete":"list"},fnt={};function uj(n,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return t>-1&&(e["aria-activedescendant"]=n+"-"+t),e}const hnt=[];function BW(n,t){if(n.isUserEvent("input.complete")){let r=n.annotation(IW);if(r&&t.activateOnCompletion(r))return 12}let e=n.isUserEvent("input.type");return e&&t.activateOnTyping?5:e?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Eg{constructor(t,e,r=!1){this.source=t,this.state=e,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(t,e){let r=BW(t,e),i=this;(8&r||16&r&&this.touches(t))&&(i=new Eg(i.source,0)),4&r&&i.state==0&&(i=new Eg(this.source,1)),i=i.updateFor(t,r);for(let a of t.effects)if(a.is(m2))i=new Eg(i.source,1,a.value);else if(a.is(Qx))i=new Eg(i.source,0);else if(a.is(qO))for(let s of a.value)s.source==i.source&&(i=s);return i}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(oy(t.state))}}class Mw extends Eg{constructor(t,e,r,i,a,s){super(t,3,e),this.limit=r,this.result=i,this.from=a,this.to=s}hasResult(){return!0}updateFor(t,e){var r;if(!(3&e))return this.map(t.changes);let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let a=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),c=oy(t.state);if(c>s||!i||2&e&&(oy(t.startState)==this.from||c<this.limit))return new Eg(this.source,4&e?1:0);let f=t.changes.mapPos(this.limit);return function(d,h,m,y){if(!d)return!1;let w=h.sliceDoc(m,y);return typeof d=="function"?d(w,m,y,h):NW(d,!0).test(w)}(i.validFor,t.state,a,s)?new Mw(this.source,this.explicit,f,i,a,s):i.update&&(i=i.update(i,a,s,new OW(t.state,c,!1)))?new Mw(this.source,this.explicit,f,i,i.from,(r=i.to)!==null&&r!==void 0?r:oy(t.state)):new Eg(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new Mw(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Eg(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const qO=mu.define({map:(n,t)=>n.map(e=>e.map(t))}),RW=mu.define(),Od=xd.define({create:()=>v2.start(),update:(n,t)=>n.update(t),provide:n=>[NO.from(n,t=>t.tooltip),$r.contentAttributes.from(n,t=>t.attrs)]});function KO(n,t){const e=t.completion.apply||t.completion.label;let r=n.state.field(Od).active.find(i=>i.source==t.source);return r instanceof Mw&&(typeof e=="string"?n.dispatch(Object.assign(Object.assign({},function(i,a,s,c){let{main:f}=i.selection,d=s-f.from,h=c-f.from;return Object.assign(Object.assign({},i.changeByRange(m=>{if(m!=f&&s!=c&&i.sliceDoc(m.from+d,m.from+h)!=i.sliceDoc(s,c))return{range:m};let y=i.toText(a);return{changes:{from:m.from+d,to:c==f.from?m.to:m.from+h,insert:y},range:Sn.cursor(m.from+d+y.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(n.state,e,r.from,r.to)),{annotations:IW.of(t.completion)})):e(n,t.completion,r.from,r.to),!0)}const pnt=function(n,t){return e=>new lnt(e,n,t)}(Od,KO);function PC(n,t="option"){return e=>{let r=e.state.field(Od,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<e.state.facet(Dp).interactionDelay)return!1;let i,a=1;t=="page"&&(i=F$(e,r.open.tooltip))&&(a=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,c=r.open.selected>-1?r.open.selected+a*(n?1:-1):n?0:s-1;return c<0?c=t=="page"?0:s-1:c>=s&&(c=t=="page"?s-1:0),e.dispatch({effects:RW.of(c)}),!0}}const lj=n=>!!n.state.field(Od,!1)&&(n.dispatch({effects:m2.of(!0)}),!0);class dnt{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const gnt=Wp.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of n.state.field(Od).active)t.isPending&&this.startQuery(t)}update(n){let t=n.state.field(Od),e=n.state.facet(Dp);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Od)==t)return;let r=n.transactions.some(a=>{let s=BW(a,e);return 8&s||(a.selection||a.docChanged)&&!(3&s)});for(let a=0;a<this.running.length;a++){let s=this.running[a];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>50&&Date.now()-s.time>1e3){for(let c of s.context.abortListeners)try{c()}catch(f){Rd(this.view.state,f)}s.context.abortListeners=null,this.running.splice(a--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(s=>s.is(m2)))&&(this.pendingStart=!0);let i=this.pendingStart?50:e.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(a=>a.isPending&&!this.running.some(s=>s.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of n.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,t=n.field(Od);for(let e of t.active)e.isPending&&!this.running.some(r=>r.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Dp).updateSyncTime))}startQuery(n){let{state:t}=this.view,e=oy(t),r=new OW(t,e,n.explicit,this.view),i=new dnt(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:Qx.of(null)}),Rd(this.view.state,a)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Dp).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(Dp),r=this.view.state.field(Od);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let c=oy(a.updates.length?a.updates[0].startState:this.view.state),f=Math.min(c,a.done.from+(a.active.explicit?0:1)),d=new Mw(a.active.source,a.active.explicit,f,a.done,a.done.from,(n=a.done.to)!==null&&n!==void 0?n:c);for(let h of a.updates)d=d.update(h,e);if(d.hasResult()){t.push(d);continue}}let s=r.active.find(c=>c.source==a.active.source);if(s&&s.isPending)if(a.done==null){let c=new Eg(a.active.source,0);for(let f of a.updates)c=c.update(f,e);c.isPending||t.push(c)}else this.startQuery(s)}(t.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:qO.of(t)})}},{eventHandlers:{blur(n){let t=this.view.state.field(Od,!1);if(t&&t.tooltip&&this.view.state.facet(Dp).closeOnBlur){let e=t.open&&F$(this.view,t.open.tooltip);e&&e.dom.contains(n.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:Qx.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:m2.of(!1)}),20),this.composing=0}}}),mnt=typeof navigator=="object"&&/Win/.test(navigator.platform),vnt=Fy.highest($r.domEventHandlers({keydown(n,t){let e=t.state.field(Od,!1);if(!e||!e.open||e.open.disabled||e.open.selected<0||n.key.length>1||n.ctrlKey&&(!mnt||!n.altKey)||n.metaKey)return!1;let r=e.open.options[e.open.selected],i=e.active.find(s=>s.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&KO(t,r),!1}})),ynt=$r.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Zx={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Y0=mu.define({map(n,t){let e=t.mapPos(n,-1,md.TrackAfter);return e??void 0}}),iP=new class extends G0{};iP.startSide=1,iP.endSide=-1;const jW=xd.define({create:()=>wh.empty,update(n,t){if(n=n.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);n=n.update({filter:r=>r>=e.from&&r<=e.to})}for(let e of t.effects)e.is(Y0)&&(n=n.update({add:[iP.range(e.value,e.value+1)]}));return n}}),cj="()[]{}<>";function LW(n){for(let t=0;t<8;t+=2)if(cj.charCodeAt(t)==n)return cj.charAt(t+1);return bO(n<128?n:n+1)}function zW(n,t){return n.languageDataAt("closeBrackets",t)[0]||Zx}const wnt=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),bnt=$r.inputHandler.of((n,t,e,r)=>{if((wnt?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Dg(Tp(r,0))==1||t!=i.from||e!=i.to)return!1;let a=function(s,c){let f=zW(s,s.selection.main.head),d=f.brackets||Zx.brackets;for(let h of d){let m=LW(Tp(h,0));if(c==h)return m==h?_nt(s,h,d.indexOf(h+h+h)>-1,f):Dnt(s,h,m,f.before||Zx.before);if(c==m&&UW(s,s.selection.main.from))return Cnt(s,h,m)}return null}(n.state,r);return!!a&&(n.dispatch(a),!0)}),xnt=[{key:"Backspace",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=zW(n,n.selection.main.head).brackets||Zx.brackets,r=null,i=n.changeByRange(a=>{if(a.empty){let s=function(c,f){let d=c.sliceString(f-2,f);return Dg(Tp(d,0))==d.length?d:d.slice(1)}(n.doc,a.head);for(let c of e)if(c==s&&IE(n.doc,a.head)==LW(Tp(c,0)))return{changes:{from:a.head-c.length,to:a.head+c.length},range:Sn.cursor(a.head-c.length)}}return{range:r=a}});return r||t(n.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function UW(n,t){let e=!1;return n.field(jW).between(0,n.doc.length,r=>{r==t&&(e=!0)}),e}function IE(n,t){let e=n.sliceString(t,t+2);return e.slice(0,Dg(Tp(e,0)))}function Dnt(n,t,e,r){let i=null,a=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:e,from:s.to}],effects:Y0.of(s.to+t.length),range:Sn.range(s.anchor+t.length,s.head+t.length)};let c=IE(n.doc,s.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:t+e,from:s.head},effects:Y0.of(s.head+t.length),range:Sn.cursor(s.head+t.length)}:{range:i=s}});return i?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function Cnt(n,t,e){let r=null,i=n.changeByRange(a=>a.empty&&IE(n.doc,a.head)==e?{changes:{from:a.head,to:a.head+e.length,insert:e},range:Sn.cursor(a.head+e.length)}:r={range:a});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function _nt(n,t,e,r){let i=r.stringPrefixes||Zx.stringPrefixes,a=null,s=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:t,from:c.from},{insert:t,from:c.to}],effects:Y0.of(c.to+t.length),range:Sn.range(c.anchor+t.length,c.head+t.length)};let f,d=c.head,h=IE(n.doc,d);if(h==t){if(fj(n,d))return{changes:{insert:t+t,from:d},effects:Y0.of(d+t.length),range:Sn.cursor(d+t.length)};if(UW(n,d)){let m=e&&n.sliceDoc(d,d+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:d,to:d+m.length,insert:m},range:Sn.cursor(d+m.length)}}}else{if(e&&n.sliceDoc(d-2*t.length,d)==t+t&&(f=hj(n,d-2*t.length,i))>-1&&fj(n,f))return{changes:{insert:t+t+t+t,from:d},effects:Y0.of(d+t.length),range:Sn.cursor(d+t.length)};if(n.charCategorizer(d)(h)!=vh.Word&&hj(n,d,i)>-1&&!function(m,y,w,C){let k=ld(m).resolveInner(y,-1),M=C.reduce((N,B)=>Math.max(N,B.length),0);for(let N=0;N<5;N++){let B=m.sliceDoc(k.from,Math.min(k.to,k.from+w.length+M)),L=B.indexOf(w);if(!L||L>-1&&C.indexOf(B.slice(0,L))>-1){let q=k.firstChild;for(;q&&q.from==k.from&&q.to-q.from>w.length+L;){if(m.sliceDoc(q.to-w.length,q.to)==w)return!1;q=q.firstChild}return!0}let z=k.to==y&&k.parent;if(!z)break;k=z}return!1}(n,d,t,i))return{changes:{insert:t+t,from:d},effects:Y0.of(d+t.length),range:Sn.cursor(d+t.length)}}return{range:a=c}});return a?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function fj(n,t){let e=ld(n).resolveInner(t+1);return e.parent&&e.from==t}function hj(n,t,e){let r=n.charCategorizer(t);if(r(n.sliceDoc(t-1,t))!=vh.Word)return t;for(let i of e){let a=t-i.length;if(n.sliceDoc(a,t)==i&&r(n.sliceDoc(a-1,a))!=vh.Word)return a}return-1}function Snt(n={}){return[vnt,Od,Dp.of(n),gnt,Ent,ynt]}const $W=[{key:"Ctrl-Space",run:lj},{mac:"Alt-`",run:lj},{key:"Escape",run:n=>{let t=n.state.field(Od,!1);return!(!t||!t.active.some(e=>e.state!=0)||(n.dispatch({effects:Qx.of(null)}),0))}},{key:"ArrowDown",run:PC(!0)},{key:"ArrowUp",run:PC(!1)},{key:"PageDown",run:PC(!0,"page")},{key:"PageUp",run:PC(!1,"page")},{key:"Enter",run:n=>{let t=n.state.field(Od,!1);return!(n.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<n.state.facet(Dp).interactionDelay)&&KO(n,t.open.options[t.open.selected])}}],Ent=Fy.highest(TO.computeN([Dp],n=>n.facet(Dp).defaultKeymap?[$W]:[]));class Ant{constructor(t,e,r){this.from=t,this.to=e,this.diagnostic=r}}class W0{constructor(t,e,r){this.diagnostics=t,this.panel=e,this.selected=r}static init(t,e,r){let i=t,a=r.facet(tD).markerFilter;a&&(i=a(i,r));let s=ya.set(i.map(c=>c.from==c.to||c.from==c.to-1&&r.doc.lineAt(c.from).to==c.from?ya.widget({widget:new Pnt(c),diagnostic:c}).range(c.from):ya.mark({attributes:{class:"cm-lintRange cm-lintRange-"+c.severity+(c.markClass?" "+c.markClass:"")},diagnostic:c}).range(c.from,c.to)),!0);return new W0(s,e,Qw(s))}}function Qw(n,t=null,e=0){let r=null;return n.between(e,1e9,(i,a,{spec:s})=>{if(!t||s.diagnostic==t)return r=new Ant(i,a,s.diagnostic),!1}),r}const WW=mu.define(),GO=mu.define(),HW=mu.define(),ng=xd.define({create:()=>new W0(ya.none,null,null),update(n,t){if(t.docChanged&&n.diagnostics.size){let e=n.diagnostics.map(t.changes),r=null,i=n.panel;if(n.selected){let a=t.changes.mapPos(n.selected.from,1);r=Qw(e,n.selected.diagnostic,a)||Qw(e,null,a)}!e.size&&i&&t.state.facet(tD).autoPanel&&(i=null),n=new W0(e,i,r)}for(let e of t.effects)if(e.is(WW)){let r=t.state.facet(tD).autoPanel?e.value.length?eD.open:null:n.panel;n=W0.init(e.value,r,t.state)}else e.is(GO)?n=new W0(n.diagnostics,e.value?eD.open:null,n.selected):e.is(HW)&&(n=new W0(n.diagnostics,n.panel,e.value));return n},provide:n=>[Kx.from(n,t=>t.panel),$r.decorations.from(n,t=>t.diagnostics)]}),knt=ya.mark({class:"cm-lintRange cm-lintRange-active"});function Mnt(n,t){return Uf("ul",{class:"cm-tooltip-lint"},t.map(e=>qW(n,e,!1)))}const pj=n=>{let t=n.state.field(ng,!1);return!(!t||!t.panel||(n.dispatch({effects:GO.of(!1)}),0))},Fnt=[{key:"Mod-Shift-m",run:n=>{let t=n.state.field(ng,!1);var e,r;t&&t.panel||n.dispatch({effects:(e=n.state,r=[GO.of(!0)],e.field(ng,!1)?r:r.concat(mu.appendConfig.of(Ont)))});let i=qx(n,eD.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let t=n.state.field(ng,!1);if(!t)return!1;let e=n.state.selection.main,r=t.diagnostics.iter(e.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==e.from&&r.to==e.to)||(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),0))}}],tD=Gr.define({combine:n=>Object.assign({sources:n.map(t=>t.source).filter(t=>t!=null)},Jm(n.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?r=>t(r)||e(r):t:e}))});function VW(n){let t=[];if(n)t:for(let{name:e}of n){for(let r=0;r<e.length;r++){let i=e[r];if(/[a-zA-Z]/.test(i)&&!t.some(a=>a.toLowerCase()==i.toLowerCase())){t.push(i);continue t}}t.push("")}return t}function qW(n,t,e){var r;let i=e?VW(t.actions):[];return Uf("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},Uf("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(n):t.message),(r=t.actions)===null||r===void 0?void 0:r.map((a,s)=>{let c=!1,f=y=>{if(y.preventDefault(),c)return;c=!0;let w=Qw(n.state.field(ng).diagnostics,t);w&&a.apply(n,w.from,w.to)},{name:d}=a,h=i[s]?d.indexOf(i[s]):-1,m=h<0?d:[d.slice(0,h),Uf("u",d.slice(h,h+1)),d.slice(h+1)];return Uf("button",{type:"button",class:"cm-diagnosticAction",onclick:f,onmousedown:f,"aria-label":` Action: ${d}${h<0?"":` (access key "${i[s]})"`}.`},m)}),t.source&&Uf("div",{class:"cm-diagnosticSource"},t.source))}class Pnt extends A0{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return Uf("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class dj{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=qW(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class eD{constructor(t){this.view=t,this.items=[],this.list=Uf("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(e.keyCode==27)pj(this.view),this.view.focus();else if(e.keyCode==38||e.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(e.keyCode==40||e.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(e.keyCode==36)this.moveSelection(0);else if(e.keyCode==35)this.moveSelection(this.items.length-1);else if(e.keyCode==13)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],i=VW(r.actions);for(let a=0;a<i.length;a++)if(i[a].toUpperCase().charCodeAt(0)==e.keyCode){let s=Qw(this.view.state.field(ng).diagnostics,r);s&&r.actions[a].apply(t,s.from,s.to)}}}e.preventDefault()},onclick:e=>{for(let r=0;r<this.items.length;r++)this.items[r].dom.contains(e.target)&&this.moveSelection(r)}}),this.dom=Uf("div",{class:"cm-panel-lint"},this.list,Uf("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>pj(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(ng).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(ng),r=0,i=!1,a=null;for(t.between(0,this.view.state.doc.length,(s,c,{spec:f})=>{let d,h=-1;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==f.diagnostic){h=m;break}h<0?(d=new dj(this.view,f.diagnostic),this.items.splice(r,0,d),i=!0):(d=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),e&&d.diagnostic==e.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),a=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new dj(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:c})=>{let f=c.height/this.list.offsetHeight;s.top<c.top?this.list.scrollTop-=(c.top-s.top)/f:s.bottom>c.bottom&&(this.list.scrollTop+=(s.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function e(){let r=t;t=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)e();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=Qw(this.view.state.field(ng).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:HW.of(e)})}static open(t){return new eD(t)}}function TC(n){return function(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Tnt=$r.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:TC("#d11")},".cm-lintRange-warning":{backgroundImage:TC("orange")},".cm-lintRange-info":{backgroundImage:TC("#999")},".cm-lintRange-hint":{backgroundImage:TC("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Ont=[ng,$r.decorations.compute([ng],n=>{let{selected:t,panel:e}=n.field(ng);return t&&e&&t.from!=t.to?ya.set([knt.range(t.from,t.to)]):ya.none}),function(n,t={}){let e=mu.define(),r=xd.define({create:()=>[],update(i,a){if(i.length&&(t.hideOnChange&&(a.docChanged||a.selection)?i=[]:t.hideOn&&(i=i.filter(s=>!t.hideOn(a,s))),a.docChanged)){let s=[];for(let c of i){let f=a.changes.mapPos(c.pos,-1,md.TrackDel);if(f!=null){let d=Object.assign(Object.create(null),c);d.pos=f,d.end!=null&&(d.end=a.changes.mapPos(d.end)),s.push(d)}}i=s}for(let s of a.effects)s.is(e)&&(i=s.value),s.is(dtt)&&(i=[]);return i},provide:i=>ZS.from(i)});return{active:r,extension:[r,Wp.define(i=>new ptt(i,n,r,e,t.hoverTime||300)),htt]}}(function(n,t,e){let{diagnostics:r}=n.state.field(ng),i=[],a=2e8,s=0;r.between(t-(e<0?1:0),t+(e>0?1:0),(f,d,{spec:h})=>{t>=f&&t<=d&&(f==d||(t>f||e>0)&&(t<d||e<0))&&(i.push(h.diagnostic),a=Math.min(f,a),s=Math.max(d,s))});let c=n.state.facet(tD).tooltipFilter;return c&&(i=c(i,n.state)),i.length?{pos:a,end:s,above:n.state.doc.lineAt(a).to<s,create:()=>({dom:Mnt(n,i)})}:null},{hideOn:function(n,t){let e=t.pos,r=t.end||e,i=n.state.facet(tD).hideOn(n,e,r);if(i!=null)return i;let a=n.startState.doc.lineAt(t.pos);return!(!n.effects.some(s=>s.is(WW))&&!n.changes.touchesRange(a.from,Math.max(a.to,r)))}}),Tnt],Nnt=[Ctt(),Stt,ntt(),ket(),net(),G3(),[Jb,Q3],jh.allowMultipleSelections.of(!0),jh.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let t=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!t.length)return n;let e=n.newDoc,{head:r}=n.newSelection.main,i=e.lineAt(r);if(r>i.from+200)return n;let a=e.sliceString(i.from,r);if(!t.some(d=>d.test(a)))return n;let{state:s}=n,c=-1,f=[];for(let{head:d}of s.selection.ranges){let h=s.doc.lineAt(d);if(h.from==c)continue;c=h.from;let m=jO(s,h.from);if(m==null)continue;let y=/^\s*/.exec(h.text)[0],w=Gx(s,m);y!=w&&f.push({from:h.from,to:h.from+y.length,insert:w})}return f.length?[n,{changes:f,sequential:!0}]:n}),iet(aet,{fallback:!0}),det(),[bnt,jW],Snt(),$r.mouseSelectionStyle.of((n,t)=>(e=>e.altKey&&e.button==0)(t)?function(e,r){let i=vR(e,r),a=e.state.selection;return i?{update(s){if(s.docChanged){let c=s.changes.mapPos(s.startState.doc.line(i.line).from),f=s.state.doc.lineAt(c);i={line:f.number,col:i.col,off:Math.min(i.off,f.length)},a=a.map(s.changes)}},get(s,c,f){let d=vR(e,s);if(!d)return a;let h=function(m,y,w){let C=Math.min(y.line,w.line),k=Math.max(y.line,w.line),M=[];if(y.off>UF||w.off>UF||y.col<0||w.col<0){let N=Math.min(y.off,w.off),B=Math.max(y.off,w.off);for(let L=C;L<=k;L++){let z=m.doc.line(L);z.length<=B&&M.push(Sn.range(z.from+N,z.to+B))}}else{let N=Math.min(y.col,w.col),B=Math.max(y.col,w.col);for(let L=C;L<=k;L++){let z=m.doc.line(L),q=uF(z.text,N,m.tabSize,!0);if(q<0)M.push(Sn.cursor(z.to));else{let V=uF(z.text,B,m.tabSize);M.push(Sn.range(z.from+q,z.from+V))}}}return M}(e.state,i,d);return h.length?f?Sn.create(h.concat(a.ranges)):Sn.create(h):a}}:null}(n,t):null),ltt(),att,[Ket,qet],TO.of([...xnt,...zet,...ent,...Iet,...Qtt,...$W,...Fnt])];var Int=function(n){var t=n.project,e=n.activeEditor,r=n.interpolateSignalValue,i=n.functionString,a=re.useMemo(function(){var C=t.orgData.signalIds.find(function(ft){return t.signalData[ft].pinIds.includes(e.id)});if(!C)throw new Error("pin was not found");var k=t.signalData[C].pinTimes[e.id],M=Object.entries(t.signalData[C].pinTimes).sort(function(ft,gt){return ft[1]-gt[1]}),N=M.findIndex(function(ft){var gt=ft[0];return ft[1],gt===e.id}),B=N===0?null:M[N-1][0],L=0;B&&(L=t.signalData[C].pinTimes[B]);for(var z=L,q=k,V=[],X=!1,nt=z;nt<q;nt++){var it=r(C,nt);it[0];var ct=it[1];ct.length>0&&(X=!0),V.push(ct)}return{startFrame:z,endFrame:q,errorsExist:X,errorFrames:V}},[i]),s=a.startFrame,c=a.endFrame,f=a.errorsExist,d=a.errorFrames,h=re.useState(c-1),m=h[0],y=h[1],w=re.useRef(null);return f?fe.jsxs("div",{style:{backgroundColor:"red",color:"white",padding:"10px"},children:[fe.jsx("div",{children:fe.jsx("input",{ref:w,onChange:function(){if(w.current===null)throw new Error("sliderRef.current is null");y(parseInt(w.current.value))},type:"range",min:s,max:c-1,defaultValue:m,step:1})}),fe.jsxs("div",{children:["ERROR",d[m].map(function(C){return fe.jsxs("div",{children:[fe.jsxs("div",{children:["Signal id: ",C.signalId]}),fe.jsxs("div",{children:["Frame: ",C.frame]}),fe.jsxs("div",{children:["Error: ",C.error]})]})})]})]}):fe.jsx("div",{})},Bnt=function(n){var t=n.useProjectState,e=n.setFunctionString,r=n.activeEditor,i=n.interpolateSignalValue,a=re.useRef(null),s=re.useRef(null),c=t(),f=re.useState(!1),d=f[0],h=f[1],m=function(w){if(!w)return"";var C=c.orgData.signalIds.find(function(k){return c.signalData[k].pinIds.includes(w)});if(!C)throw new Error("pin was not found");return c.signalData[C].curves[w]}(r?r.id:void 0),y=$r.theme({".cm-scroller":{overflow:"auto"},"&":{color:"var(--yellow1)",backgroundColor:"var(--gray1)",height:"100%",fontSize:"16px"},".cm-content":{caretColor:"var(--green1)"},"&.cm-focused .cm-selectionBackground, ::selection":{backgroundColor:"#074"},".cm-gutters":{backgroundColor:"var(--gray2)",color:"var(--gray6)",border:"none"}});return re.useEffect(function(){var w=jh.create({doc:m,extensions:[Nnt,y,$r.updateListener.of(function(k){if(k.docChanged){var M=k.state.doc.toString();r&&M!==m&&h(!0)}})]});if(a.current===null)throw new Error("editor.current is null");var C=new $r({state:w,parent:a.current});return s.current=C,function(){C.destroy()}},[m]),fe.jsxs("div",{style:{display:"grid",gridTemplateRows:"1fr auto auto",height:"100%",width:"100%"},children:[fe.jsx("div",{style:{height:"100%",width:"100%"},ref:a}),r?fe.jsx(Int,{project:c,interpolateSignalValue:i,activeEditor:r,functionString:m}):fe.jsx("div",{}),fe.jsx("div",{style:{display:"flex",justifyContent:"flex-end",padding:"10px",backgroundColor:"var(--gray2)"},children:d?fe.jsx(wv,{bgColor:"var(--green1)",color:"var(--green4)",hoverBgColor:"var(--green2)",hoverColor:"white",iconName:"check",onClick:function(){if(s.current===null)throw new Error("editorView.current is null");var w=s.current.state.doc.toString();r&&e(r.id,w)}}):null})]})},gj=function(n){switch(n){case"pointer":return"arrow_selector_tool";case"add_pin":return"add";case"code_editor":return"code";default:return"home"}},dk=function(n){var t=n.toolName,e=n.currentTool,r=n.setActiveTool;return fe.jsx(wv,e===t?{iconName:gj(t),bgColor:"var(--yellow3)",color:"var(--gray1)",hoverBgColor:"var(--yellow2)",hoverColor:"var(--gray1)"}:{iconName:gj(t),bgColor:"var(--gray3)",color:"var(--gray7)",hoverBgColor:"var(--yellow1)",hoverColor:"var(--gray2)",onClick:function(){return r(t)}})};function Rnt(n){var t=n.setActiveTool,e=n.activeTool;return fe.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[fe.jsx(dk,{toolName:"pointer",currentTool:e,setActiveTool:t}),fe.jsx(dk,{toolName:"add_pin",currentTool:e,setActiveTool:t}),fe.jsx(dk,{toolName:"code_editor",currentTool:e,setActiveTool:t})]})}var oP=function(n,t){return oP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},oP(n,t)};function gh(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}oP(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var du=function(){return du=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},du.apply(this,arguments)};function Lg(n,t,e){for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}var mj=function(){function n(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100]},signalData:{},templateData:{}}}return n.prototype.addDiscreteSignal=function(t,e){this._project.orgData.signalIds.push(t),this._project.orgData.signalNames[t]=e,this._project.orgData.signalTypes[t]="discrete",this._project.signalData[t]={id:t,type:"discrete",pinIds:[],pinTimes:{},pinValues:{}}},n.prototype.addContinuousSignal=function(t,e,r){this._project.orgData.signalIds.push(t),this._project.orgData.signalNames[t]=e,this._project.orgData.signalTypes[t]="continuous",this._project.signalData[t]={id:t,type:"continuous",range:r,pinIds:[],pinTimes:{},pinValues:{},curves:{}}},n.prototype.addPin=function(t,e,r,i){var a=this._project.signalData[t],s=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(s),this._project.orgData.signalIdByPinId[s]=t,a.type==="continuous"){if(a.pinIds.push(s),a.pinTimes[s]=e,typeof r!="number")throw new Error("Continuous signal pin value must be a number");if(a.pinValues[s]=r,!i)throw new Error("Continuous signal pin must have a curve");i&&(a.curves[s]=i)}if(a.type==="discrete"){if(a.pinIds.push(s),a.pinTimes[s]=e,typeof r!="string")throw new Error("Discrete signal pin value must be a string");a.pinValues[s]=r}},n.prototype.setTimelineData=function(t,e,r){this._project.timelineData=du(du({},this._project.timelineData),{numberOfFrames:t,framesPerSecond:e,playheadPosition:r})},n.prototype.setSignalActiveStatus=function(t,e){e?this._project.orgData.activeSignalIds.push(t):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(r){return r!==t})},n.prototype.getProject=function(){return this._project},n.prototype.addCurveTemplate=function(t,e){this._project.templateData[t]=e},n}(),jnt=Object.freeze({__proto__:null,ProjectBuilder:mj,defaultProject:function(){var n=new mj;return n.addDiscreteSignal("signal1","Signal 1"),n.addContinuousSignal("signal2","Signal 2",[0,1]),n.addPin("signal1",100,"VALUE"),n.addPin("signal2",100,0,"return easyLinear();"),n.setSignalActiveStatus("signal1",!0),n.setSignalActiveStatus("signal2",!0),n.getProject()}}),aP=function(){function n(t,e,r){if(r===void 0&&(r=1e4),this.content=t,this.__transformer=e,typeof r=="number"){if(r<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:r}}else this.__internal=r;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return n.deserialize=function(t,e){var r=JSON.parse(t);return new n(r.content,e,r.__internal)},n.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},n.prototype.next=function(){var t=this.__internal.states[this.__internal.cursor].nextState;if(!t)return{success:!1,message:"No next state"};var e=this.__internal.cursor,r=this.__internal.states[e].forward;return this.__internal.cursor=t,this.content=this.__transformer(this.content,r),{success:!0,message:"Next state reached"}},n.prototype.previous=function(){var t=this.__internal.states[this.__internal.cursor].previousState;if(!t)return{success:!1,message:"No previous state"};var e=this.__internal.cursor,r=this.__internal.states[e].backward;return this.__internal.cursor=t,this.content=this.__transformer(this.content,r),{success:!0,message:"Previous state reached"}},n.prototype.goToNamedState=function(t){var e=this.__internal.namedStates[t];if(!e)return{success:!1,message:"Named state not found"};if(!this.__internal.states[e])throw new Error("Named state has no corresponding state");var r=this.__internal.cursor;if(e===r)return{success:!0,message:"Already at named state"};for(var i="forward",a=r,s=0;a&&s<this.__MAX_ITERATIONS;)s++,a===e&&(i="backward"),a=this.__internal.states[a].previousState;if(i==="forward"){for(s=0;this.__internal.cursor!==e&&s<this.__MAX_ITERATIONS;)if(s++,!(c=this.next()).success)throw new Error(c.message)}else for(s=0;this.__internal.cursor!==e&&s<this.__MAX_ITERATIONS;){var c;if(s++,!(c=this.previous()).success)throw new Error(c.message)}return{success:!0,message:"Moved to named state"}},n.prototype.saveAsNamedState=function(t){this.__internal.namedStates[t]=this.__internal.cursor},n.prototype.appendToCurrentState=function(t,e){this.content=this.__transformer(this.content,t);var r=this.__internal.cursor,i=this.__internal.states[r].forward,a=this.__internal.states[r].backward;this.__internal.states[r].forward=i.concat(t),this.__internal.states[r].backward=e.concat(a)},n.prototype.addNextState=function(t,e){for(var r=this,i=[],a=c=this.__internal.cursor,s=0;a&&s<this.__MAX_ITERATIONS;)s++,(a=this.__internal.states[a].nextState)&&i.push(a);i.forEach(function(y){delete r.__internal.states[y]});var c=this.__internal.cursor,f="state".concat(function(){for(var y="",w=0;w<10;w++)y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return y}());this.__internal.states[f]={forward:t,backward:e,nextState:void 0,previousState:c},this.__internal.states[c].nextState=f,this.__internal.cursor=f,this.content=this.__transformer(this.content,t);var d=1,h=(a=c=this.__internal.cursor,[c]);for(s=0;a&&d<this.__internal.maxSize&&s<this.__MAX_ITERATIONS;)s++,(a=this.__internal.states[a].previousState)&&h.push(a),d++;var m=Object.keys(this.__internal.states).filter(function(y){return!h.includes(y)});m.forEach(function(y){delete r.__internal.states[y]}),h.forEach(function(y,w){var C=r.__internal.states[y].previousState,k=r.__internal.states[y].nextState;C&&!r.__internal.states[C]&&(r.__internal.states[y].previousState=void 0),k&&!r.__internal.states[k]&&(r.__internal.states[y].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(y){var w=r.__internal.namedStates[y];if(!w)throw new Error("Named state has no corresponding state");r.__internal.states[w]||delete r.__internal.namedStates[y]})},n.prototype.executeCommand=function(t){switch(t.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(t.namedState);break;case"saveAsNamedState":this.saveAsNamedState(t.namedState);break;case"addNextState":this.addNextState(t.forward,t.backward);break;case"appendToCurrentState":this.appendToCurrentState(t.forward,t.backward);break;default:throw new Error("Invalid command")}},n.prototype.executeCommands=function(t){var e=this;t.forEach(function(r){return e.executeCommand(r)})},n}(),KW=function(){function n(t){this.subscribers=[],this.update=[],this.dispatch=t,this.authorId="a".concat(y2())}return n.prototype.subscribeToProjectUpdates=function(t){var e=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(t),function(){e.subscribers=e.subscribers.filter(function(r){return r!==t})}},n.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},n.prototype.pushCommand=function(t){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var e=t();this.worm.executeCommand(e),this.update.push(e)}catch(r){console.error(r)}},n.prototype.pushCommands=function(t){var e;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var r=t();this.worm.executeCommands(r),(e=this.update).push.apply(e,r)}catch(i){console.error(i)}},n.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var t=this.update;this.update=[];var e=this.projectStateId;this.projectStateId="ps".concat(y2()),this.subscribers.forEach(function(r){return r()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:t,lastAgreedProjectStateId:e,newProjectStateId:this.projectStateId})},n.prototype.processUpdate=function(t){if(this.worm&&this.projectStateId){var e=t.lastAgreedProjectStateId,r=t.newProjectStateId;(this.host?e===this.projectStateId&&t.authorIsHost===!1&&this.update.length===0:e===this.projectStateId)?(this.update=[],this.worm.executeCommands(t.instructions),this.projectStateId=r,this.subscribers.forEach(function(i){return i()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},n}(),Lnt=function(n){function t(e,r){var i=n.call(this,e.dispatch)||this;return i.host=!0,i.worm=r,i.projectStateId="ps".concat(y2()),i.dispatch({authorId:i.authorId,authorIsHost:!0,type:"hostIsConnected"}),i}return gh(t,n),Object.defineProperty(t.prototype,"initialized",{get:function(){return!0},enumerable:!1,configurable:!0}),t.fromProject=function(e,r){return new t(e,new aP(r,e.projectTransformer))},t.fromSerializedWorm=function(e,r){return new t(e,aP.deserialize(r,e.projectTransformer))},t.prototype.receive=function(e){if(e.authorId!==this.authorId)switch(e.type){case"requestProject":this.pushProject(e.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(e);break;default:throw new Error("Invalid event type")}},t.prototype.pushProject=function(e){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:e})},t}(KW),znt=function(n){function t(e){var r=n.call(this,e.dispatch)||this;return r.host=!1,r.projectRequestCallbacks={},r.__projectTransformer=e.projectTransformer,r}return gh(t,n),Object.defineProperty(t.prototype,"initialized",{get:function(){return this.worm!==void 0&&this.projectStateId!==void 0},enumerable:!1,configurable:!0}),t.prototype.receive=function(e){if(e.authorId!==this.authorId)switch(e.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=aP.deserialize(e.serializedWorm,this.__projectTransformer),this.projectStateId=e.initialProjectStateId,e.requestId&&this.projectRequestCallbacks[e.requestId]&&(this.projectRequestCallbacks[e.requestId](),delete this.projectRequestCallbacks[e.requestId]);break;case"pushUpdate":this.processUpdate(e);break;default:throw new Error("Invalid event type")}},t.prototype.requestProject=function(e){var r;e&&(r="r".concat(y2()),this.projectRequestCallbacks[r]=e),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:r})},t}(KW),y2=function(){for(var n="",t=0;t<10;t++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return n},GW=Symbol.for("immer-nothing"),vj=Symbol.for("immer-draftable"),ag=Symbol.for("immer-state");function qg(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Zw=Object.getPrototypeOf;function Fw(n){return!!n&&!!n[ag]}function yy(n){var t;return!!n&&(YW(n)||Array.isArray(n)||!!n[vj]||!!((t=n.constructor)!=null&&t[vj])||RE(n)||jE(n))}var Unt=Object.prototype.constructor.toString();function YW(n){if(!n||typeof n!="object")return!1;const t=Zw(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object||typeof e=="function"&&Function.toString.call(e)===Unt}function w2(n,t){BE(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,r)=>t(r,e,n))}function BE(n){const t=n[ag];return t?t.type_:Array.isArray(n)?1:RE(n)?2:jE(n)?3:0}function sP(n,t){return BE(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function XW(n,t,e){const r=BE(n);r===2?n.set(t,e):r===3?n.add(e):n[t]=e}function RE(n){return n instanceof Map}function jE(n){return n instanceof Set}function L0(n){return n.copy_||n.base_}function uP(n,t){if(RE(n))return new Map(n);if(jE(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=YW(n);if(t===!0||t==="class_only"&&!e){const r=Object.getOwnPropertyDescriptors(n);delete r[ag];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[s]})}return Object.create(Zw(n),r)}{const r=Zw(n);if(r!==null&&e)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function YO(n,t=!1){return LE(n)||Fw(n)||!yy(n)||(BE(n)>1&&(n.set=n.add=n.clear=n.delete=$nt),Object.freeze(n),t&&Object.entries(n).forEach(([e,r])=>YO(r,!0))),n}function $nt(){qg(2)}function LE(n){return Object.isFrozen(n)}var nD,Wnt={};function wy(n){const t=Wnt[n];return t||qg(0,n),t}function yj(){return nD}function wj(n,t){t&&(wy("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function lP(n){cP(n),n.drafts_.forEach(Hnt),n.drafts_=null}function cP(n){n===nD&&(nD=n.parent_)}function bj(n){return nD={drafts_:[],parent_:nD,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Hnt(n){const t=n[ag];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xj(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[ag].modified_&&(lP(t),qg(4)),yy(n)&&(n=b2(t,n),t.parent_||x2(t,n)),t.patches_&&wy("Patches").generateReplacementPatches_(e[ag].base_,n,t.patches_,t.inversePatches_)):n=b2(t,e,[]),lP(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==GW?n:void 0}function b2(n,t,e){if(LE(t))return t;const r=t[ag];if(!r)return w2(t,(i,a)=>Dj(n,r,t,i,a,e)),t;if(r.scope_!==n)return t;if(!r.modified_)return x2(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),w2(a,(c,f)=>Dj(n,r,i,c,f,e,s)),x2(n,i,!1),e&&n.patches_&&wy("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function Dj(n,t,e,r,i,a,s){if(Fw(i)){const c=b2(n,i,a&&t&&t.type_!==3&&!sP(t.assigned_,r)?a.concat(r):void 0);if(XW(e,r,c),!Fw(c))return;n.canAutoFreeze_=!1}else s&&e.add(i);if(yy(i)&&!LE(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;b2(n,i),t&&t.scope_.parent_||typeof r=="symbol"||!Object.prototype.propertyIsEnumerable.call(e,r)||x2(n,i)}}function x2(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&YO(t,e)}var fP={get(n,t){if(t===ag)return n;const e=L0(n);if(!sP(e,t))return function(i,a,s){var f;const c=Cj(a,s);return c?"value"in c?c.value:(f=c.get)==null?void 0:f.call(i.draft_):void 0}(n,e,t);const r=e[t];return n.finalized_||!yy(r)?r:r===gk(n.base_,t)?(mk(n),n.copy_[t]=pP(r,n)):r},has:(n,t)=>t in L0(n),ownKeys:n=>Reflect.ownKeys(L0(n)),set(n,t,e){const r=Cj(L0(n),t);if(r!=null&&r.set)return r.set.call(n.draft_,e),!0;if(!n.modified_){const s=gk(L0(n),t),c=s==null?void 0:s[ag];if(c&&c.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(((i=e)===(a=s)?i!==0||1/i==1/a:i!=i&&a!=a)&&(e!==void 0||sP(n.base_,t)))return!0;mk(n),hP(n)}var i,a;return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty:(n,t)=>(gk(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,mk(n),hP(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0),getOwnPropertyDescriptor(n,t){const e=L0(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty(){qg(11)},getPrototypeOf:n=>Zw(n.base_),setPrototypeOf(){qg(12)}},tx={};function gk(n,t){const e=n[ag];return(e?L0(e):n)[t]}function Cj(n,t){if(!(t in n))return;let e=Zw(n);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=Zw(e)}}function hP(n){n.modified_||(n.modified_=!0,n.parent_&&hP(n.parent_))}function mk(n){n.copy_||(n.copy_=uP(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function pP(n,t){const e=RE(n)?wy("MapSet").proxyMap_(n,t):jE(n)?wy("MapSet").proxySet_(n,t):function(r,i){const a=Array.isArray(r),s={type_:a?1:0,scope_:i?i.scope_:yj(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let c=s,f=fP;a&&(c=[s],f=tx);const{revoke:d,proxy:h}=Proxy.revocable(c,f);return s.draft_=h,s.revoke_=d,h}(n,t);return(t?t.scope_:yj()).drafts_.push(e),e}function JW(n){if(!yy(n)||LE(n))return n;const t=n[ag];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=uP(n,t.scope_.immer_.useStrictShallowCopy_)}else e=uP(n,!0);return w2(e,(r,i)=>{XW(e,r,JW(i))}),t&&(t.finalized_=!1),e}w2(fP,(n,t)=>{tx[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),tx.deleteProperty=function(n,t){return tx.set.call(this,n,t,void 0)},tx.set=function(n,t,e){return fP.set.call(this,n[0],t,e,n[0])};var Kd=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,r)=>{if(typeof t=="function"&&typeof e!="function"){const a=e;e=t;const s=this;return function(c=a,...f){return s.produce(c,d=>e.call(this,d,...f))}}let i;if(typeof e!="function"&&qg(6),r!==void 0&&typeof r!="function"&&qg(7),yy(t)){const a=bj(this),s=pP(t,void 0);let c=!0;try{i=e(s),c=!1}finally{c?lP(a):cP(a)}return wj(a,r),xj(i,a)}if(!t||typeof t!="object"){if(i=e(t),i===void 0&&(i=t),i===GW&&(i=void 0),this.autoFreeze_&&YO(i,!0),r){const a=[],s=[];wy("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}qg(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,c=>t(c,...s));let r,i;return[this.produce(t,e,(a,s)=>{r=a,i=s}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){yy(n)||qg(8),Fw(n)&&(n=function(r){return Fw(r)||qg(10,r),JW(r)}(n));const t=bj(this),e=pP(n,void 0);return e[ag].isManual_=!0,cP(t),e}finishDraft(n,t){const e=n&&n[ag];e&&e.isManual_||qg(9);const{scope_:r}=e;return wj(r,t),xj(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const i=t[e];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}e>-1&&(t=t.slice(e+1));const r=wy("Patches").applyPatches_;return Fw(n)?r(n,t):this.produce(n,i=>r(i,t))}},Vnt=Kd.produce;function _j(n,t){var e=t.pinId,r=!1;for(var i in n.signalData){var a=n.signalData[i],s=a.pinIds.indexOf(e);if(s!==-1){a.pinIds.splice(s,1),delete a.pinTimes[e],delete a.pinValues[e],a.type==="continuous"&&delete a.curves[e],r=!0;break}}if(!r)throw new Error("Pin with id ".concat(e," not found"));n.orgData.pinIds=n.orgData.pinIds.filter(function(c){return c!==e}),delete n.orgData.signalIdByPinId[e]}Kd.produceWithPatches.bind(Kd),Kd.setAutoFreeze.bind(Kd),Kd.setUseStrictShallowCopy.bind(Kd),Kd.applyPatches.bind(Kd),Kd.createDraft.bind(Kd),Kd.finishDraft.bind(Kd);var qnt={addPin:function(n,t){var e=t.signalId,r=t.pinId,i=t.pinTime,a=t.pinValue,s=t.functionString,c=n.signalData[e];if(!c)throw new Error("Signal with id ".concat(e," not found"));var f=c.type;if(f==="continuous"&&typeof a!="number")throw new Error("Pin value must be a number for continuous signals");if(f==="discrete"&&typeof a!="string")throw new Error("Pin value must be a string for discrete signals");for(var d in n.signalData)if(n.signalData[d].pinIds.includes(r))throw new Error("Pin with id ".concat(r," already exists"));if(Object.values(c.pinTimes).includes(i))throw new Error("Pin time must be unique within the signal");var h=n.timelineData.numberOfFrames;if(i<0||i>h)throw new Error("Pin time must be between 0 and ".concat(h));if(f==="continuous"){var m=c.range,y=m[0],w=m[1];if(a<y||a>w)throw new Error("Pin value must be between ".concat(y," and ").concat(w));if(!s)throw new Error("Curve is required for continuous signals")}var C=c.pinIds;if(C.length===0)c.pinIds.push(r);else{var k=C.findIndex(function(M){return c.pinTimes[M]>=i});k===-1&&(k=C.length),c.pinIds.splice(k,0,r)}c.pinTimes[r]=i,c.pinValues[r]=a,f==="continuous"&&(c.curves[r]=s),n.orgData.pinIds.push(r),n.orgData.signalIdByPinId[r]=e},deletePin:_j,updatePinTime:function(n,t){var e=t.pinId,r=t.pinTime,i=n.timelineData.numberOfFrames;if(r<0||r>i)throw new Error("Pin time must be between 0 and ".concat(i));var a=!1,s=function(f){var d=n.signalData[f];if(d.pinIds.includes(e)){d.pinTimes[e]=r;var h=d.pinIds,m=h.indexOf(e);h.splice(m,1);var y=h.findIndex(function(w){return d.pinTimes[w]>=r});return y===-1&&(y=h.length),h.splice(y,0,e),a=!0,"break"}};for(var c in n.signalData)if(s(c)==="break")break;if(!a)throw new Error("Pin with id ".concat(e," not found"))},updatePinValue:function(n,t){var e=t.pinId,r=t.pinValue,i=!1;for(var a in n.signalData){var s=n.signalData[a];if(s.pinIds.includes(e)){if(s.type==="continuous"&&typeof r!="number")throw new Error("Pin value must be a number for continuous signals");if(s.type==="discrete"&&typeof r!="string")throw new Error("Pin value must be a string for discrete signals");if(s.type==="continuous"){var c=s.range,f=c[0],d=c[1];if(r<f||r>d)throw new Error("Pin value must be between ".concat(f," and ").concat(d))}s.pinValues[e]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(e," not found"))},updatePins:function(n,t){for(var e=function(a){var s=a.pinId,c=a.pinTime,f=a.pinValue,d=a.functionString,h=n.orgData.signalIdByPinId[s];if(!h)throw new Error("Pin with id ".concat(s," not found"));var m=n.signalData[h];if(m.type==="continuous"&&typeof f!="number")throw new Error("Pin value must be a number for continuous signals");if(m.type==="discrete"&&typeof f!="string")throw new Error("Pin value must be a string for discrete signals");if(m.type==="continuous"){var y=m.range,w=y[0],C=y[1];if(f<w||f>C)throw new Error("Pin value must be between ".concat(w," and ").concat(C));if(!d)throw new Error("Curve is required for continuous signals")}m.pinTimes[s]=c,m.pinValues[s]=f;var k=m.pinIds,M=k.indexOf(s);k.splice(M,1);var N=k.findIndex(function(B){return m.pinTimes[B]>=c});N===-1&&(N=k.length),k.splice(N,0,s),m.type==="continuous"&&(m.curves[s]=d)},r=0,i=t.pins;r<i.length;r++)e(i[r])},updateCurve:function(n,t){var e=t.pinId,r=t.functionString,i=!1;for(var a in n.signalData){var s=n.signalData[a];if(s.type!=="discrete"&&s.pinIds.includes(e)){s.curves[e]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(e," not found"))},createSignal:function(n,t){var e,r=t.signalId,i=t.signalType,a=t.signalName,s=t.range;if(n.signalData[r])throw new Error("Signal with id ".concat(r," already exists"));if(i!=="continuous"&&i!=="discrete")throw new Error("Signal type must be continuous or discrete");if(i==="continuous"){if(!s)throw new Error("Range is required for continuous signals");if(s[0]>=s[1])throw new Error("Min value must be less than max value");e={id:r,type:i,range:s,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}i==="discrete"&&(e={id:r,type:i,pinIds:[],pinTimes:{},pinValues:{}}),n.signalData[r]=e,n.orgData.signalIds.push(r),n.orgData.signalNames[r]=a,n.orgData.signalTypes[r]=i,n.orgData.activeSignalIds.push(r)},deleteSignal:function(n,t){var e=t.signalId;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));delete n.signalData[e],n.orgData.signalIds=n.orgData.signalIds.filter(function(r){return r!==e}),delete n.orgData.signalNames[e],n.orgData.activeSignalIds=n.orgData.activeSignalIds.filter(function(r){return r!==e})},updateSignalName:function(n,t){var e=t.signalId,r=t.signalName;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));n.orgData.signalNames[e]=r},updateSignalRange:function(n,t){var e=t.signalId,r=t.range;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));if(n.signalData[e].type!=="continuous")throw new Error("Range can only be updated for continuous signals");if(r[0]>=r[1])throw new Error("Min value must be less than max value");n.signalData[e].range=r},updateSignalIndex:function(n,t){var e=t.signalId,r=t.index,i=n.orgData.signalIds,a=i.indexOf(e);if(a===-1)throw new Error("Signal with id ".concat(e," not found"));i.splice(a,1),i.splice(r,0,e)},updateSignalActiveStatus:function(n,t){var e=t.signalId,r=t.active;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));var i=n.orgData.activeSignalIds,a=i.indexOf(e);r&&a===-1&&i.push(e),r||a===-1||i.splice(a,1)},updateFramesPerSecond:function(n,t){var e=t.framesPerSecond;if(e<=0)throw new Error("Frames per second must be greater than 0");n.timelineData.framesPerSecond=e},updatePlayheadPosition:function(n,t){var e=t.playheadPosition;if(e<0||e>n.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(n.timelineData.numberOfFrames));n.timelineData.playheadPosition=e},updateNumberOfFrames:function(n,t){var e=t.numberOfFrames;if(e<=0)throw new Error("Number of frames must be greater than 0");for(var r in n.timelineData.numberOfFrames=e,n.signalData)for(var i=n.signalData[r],a=0,s=i.pinIds;a<s.length;a++){var c=s[a];i.pinTimes[c]>e&&_j(n,{type:"deletePin",pinId:c})}},updateProjectName:function(n,t){var e=t.projectName;n.metaData.name=e},updateFocusRange:function(n,t){var e=t.focusRange,r=e[0],i=e[1];if(r<0||i>n.timelineData.numberOfFrames||r>=i)throw new Error("Invalid focus range");n.timelineData.focusRange=e},updateCurveTemplate:function(n,t){var e=t.curveId,r=t.functionString;if(!n.templateData[e])throw new Error("Curve template with id ".concat(e," not found"));n.templateData[e]=r},addCurveTemplate:function(n,t){var e=t.curveId,r=t.functionString;if(n.templateData[e])throw new Error("Curve template with id ".concat(e," already exists"));n.templateData[e]=r},deleteCurveTemplate:function(n,t){var e=t.curveId;if(!n.templateData[e])throw new Error("Curve template with id ".concat(e," not found"));delete n.templateData[e]}};function Sj(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var Knt={type:"saveAsNamedState",namedState:"commit"},Gnt={type:"goToNamedState",namedState:"commit"};function nw(n,t,e,r,i){return{type:"addPin",signalId:n,pinId:t,pinTime:e,pinValue:r,functionString:i}}function Ej(n,t){var e=n(),r=Object.keys(e.signalData).find(function(f){var d;return(d=e.signalData[f])===null||d===void 0?void 0:d.pinIds.includes(t)});if(!r)throw new Error("Pin not found");var i=e.signalData[r].type,a=e.signalData[r].pinTimes[t],s=e.signalData[r].pinValues[t],c=i==="continuous"?e.signalData[r].curves[t]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:t}],backward:[nw(r,t,a,s,c)]}}var Aj=Lnt,Ynt=znt,vk=function(n,t){return Vnt(n,function(e){for(var r=0;r<t.length;r++){var i=t[r];(0,qnt[i.type])(e,i)}})},Xnt=function(){function n(t,e,r,i){if(e){if(!r&&!i)throw new Error("Project or worm must be provided to host project controller");var a=void 0;if(r&&(a=Aj.fromProject({dispatch:t,projectTransformer:vk},r)).worm.saveAsNamedState("commit"),i&&(a=Aj.fromSerializedWorm({dispatch:t,projectTransformer:vk},i)),!a)throw new Error("Project node not created");this.projectNode=a,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new Ynt({dispatch:t,projectTransformer:vk});var s=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=s}}return n.Host=function(t,e){return new n(t,!0,e)},n.HostFromProject=function(t,e){return new n(t,!0,e)},n.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},n.HostFromSerializedWorm=function(t,e){return new n(t,!0,void 0,e)},n.Client=function(t){return new n(t,!1,void 0)},n.prototype.receive=function(t){this.projectNode.receive(t)},Object.defineProperty(n.prototype,"projectTools",{get:function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var t=this.projectNode.pushUpdate.bind(this.projectNode),e=this.projectNode.getProject.bind(this.projectNode),r=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(i,a,s,c){function f(){a(function(){return Gnt})}function d(){a(function(){return Knt})}return{returnToLastCommit:function(){f()},pushUpdate:i,addPinContinuous:function(h,m,y,w,C,k){k&&f(),a(function(){var M=c().signalData[h],N=M.pinTimes,B=M.pinIds.findIndex(function(V){return N[V]===y}),L=[];B!==-1&&L.push({type:"deletePin",pinId:M.pinIds[B]}),L.push(nw(h,m,y,w,C));var z=[];if(z.push({type:"deletePin",pinId:m}),B!==-1){var q=M.pinIds[B];z.push(nw(h,q,M.pinTimes[q],M.pinValues[q],M.curves[q]))}return{type:"addNextState",forward:L,backward:z}}),k&&(d(),i())},addPinDiscrete:function(h,m,y,w,C){C&&f(),a(function(){var k=c().signalData[h],M=k.pinTimes,N=k.pinIds.findIndex(function(q){return M[q]===y}),B=[];N!==-1&&B.push({type:"deletePin",pinId:k.pinIds[N]}),B.push(nw(h,m,y,w));var L=[];if(L.push({type:"deletePin",pinId:m}),N!==-1){var z=k.pinIds[N];L.push(nw(h,z,k.pinTimes[z],k.pinValues[z]))}return{type:"addNextState",forward:B,backward:L}}),C&&(d(),i())},deletePin:function(h){f(),a(function(){return Ej(c,h)}),d(),i()},deletePins:function(h){f(),h.forEach(function(m){a(function(){return Ej(c,m)})}),d(),i()},updatePins:function(h,m){m&&f();var y=c(),w={type:"updatePins",pins:[]},C={type:"updatePins",pins:[]};h.forEach(function(k){var M=k.pinId,N=y.orgData.signalIdByPinId[M],B=k.pinTime,L=k.pinValue,z=k.pinType==="continuous"?k.functionString:void 0,q=y.signalData[N].pinTimes[M],V=y.signalData[N].pinValues[M],X=k.pinType==="continuous"?y.signalData[N].curves[M]:void 0,nt={pinId:M,pinTime:B??q,pinValue:L??V,functionString:z??X},it={pinId:M,pinTime:q,pinValue:V,functionString:X};w.pins.push(nt),C.pins.push(it)}),a(function(){return{type:"addNextState",forward:[w],backward:[C]}}),m&&d(),i()},updateCurve:function(h,m){f(),a(function(){var y=c(),w=Object.keys(y.signalData).find(function(C){var k;return(k=y.signalData[C])===null||k===void 0?void 0:k.pinIds.includes(h)});if(!w)throw new Error("Pin not found");if(y.signalData[w].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:h,functionString:m}],backward:[{type:"updateCurve",pinId:h,functionString:y.signalData[w].curves[h]}]}}),d(),i()},createSignal:function(h,m,y,w){f(),a(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:h,signalType:m,signalName:y,range:w}],backward:[{type:"deleteSignal",signalId:h}]}}),d(),i()},duplicateSignal:function(h){f();var m=Sj();a(function(){var y=c(),w=y.signalData[h];if(!w)throw new Error("Signal not found");var C=y.orgData.signalNames[h]+"_copy",k=w.type==="continuous"?w.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:m,signalType:w.type,signalName:C,range:k}],backward:[{type:"deleteSignal",signalId:m}]}}),a(function(){var y=c(),w=y.signalData[h].pinIds,C=y.signalData[h].type,k=w.map(function(M){var N,B=y.signalData[h].pinTimes[M],L=y.signalData[h].pinValues[M];return C==="continuous"&&(N=y.signalData[h].curves[M]),{pinTime:B,pinValue:L,functionString:N,pinId:Sj()}});return{type:"addNextState",forward:k.map(function(M){return nw(m,M.pinId,M.pinTime,M.pinValue,M.functionString)}),backward:k.map(function(M){return{type:"deletePin",pinId:M.pinId}})}}),d(),i()},deleteSignal:function(h){f(),a(function(){var m=c(),y=m.signalData[h];if(!y)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:h}],backward:[{type:"createSignal",signalId:h,signalType:y.type,signalName:m.orgData.signalNames[h],range:y.type==="continuous"?y.range:void 0}]}}),d(),i()},updateSignalName:function(h,m){f(),a(function(){var y=c();if(!y.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:h,signalName:m}],backward:[{type:"updateSignalName",signalId:h,signalName:y.orgData.signalNames[h]}]}}),d(),i()},updateSignalRange:function(h,m){f(),a(function(){var y=c().signalData[h];if(!y)throw new Error("Signal not found");if(y.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:h,range:m}],backward:[{type:"updateSignalRange",signalId:h,range:y.range}]}}),d(),i()},updateSignalIndex:function(h,m,y){y&&f(),a(function(){var w=c();if(!w.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:h,index:m}],backward:[{type:"updateSignalIndex",signalId:h,index:w.orgData.activeSignalIds.indexOf(h)}]}}),y&&d(),i()},updateSignalActiveStatus:function(h,m){f(),a(function(){var y=c();if(!y.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:h,active:m}],backward:[{type:"updateSignalActiveStatus",signalId:h,active:y.orgData.activeSignalIds.includes(h)}]}}),d(),i()},updateFramesPerSecond:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:h}],backward:[{type:"updateFramesPerSecond",framesPerSecond:m.timelineData.framesPerSecond}]}}),d(),i()},updatePlayheadPosition:function(h,m){m&&f(),a(function(){var y=c();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:h}],backward:[{type:"updatePlayheadPosition",playheadPosition:y.timelineData.playheadPosition}]}}),m&&d(),i()},updateFocusRange:function(h){var m=h[0],y=h[1];f(),a(function(){var w=c();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[m,y]}],backward:[{type:"updateFocusRange",focusRange:w.timelineData.focusRange}]}}),d(),i()},updateNumberOfFrames:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:h}],backward:[{type:"updateNumberOfFrames",numberOfFrames:m.timelineData.numberOfFrames}]}}),d(),i()},updateProjectName:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:h}],backward:[{type:"updateProjectName",projectName:m.metaData.name}]}}),d(),i()},undo:function(){f(),a(function(){return{type:"previous"}}),d(),i()},redo:function(){f(),a(function(){return{type:"next"}}),d(),i()},addCurveTemplate:function(h,m){a(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:h,functionString:m}],backward:[{type:"deleteCurveTemplate",curveId:h}]}}),i()},deleteCurveTemplate:function(h){a(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:h}],backward:[{type:"addCurveTemplate",curveId:h,functionString:c().templateData[h]}]}}),i()},updateCurveTemplate:function(h,m){a(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:h,functionString:m}],backward:[{type:"updateCurveTemplate",curveId:h,functionString:c().templateData[h]}]}}),i()}}}(t,r,0,e)},enumerable:!1,configurable:!0}),n.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},n.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},n.prototype.subscribeToProjectUpdates=function(t){return this.projectNode.subscribeToProjectUpdates(t)},n.prototype.interpolateSignalValueAtTime=function(t,e){if(!this.projectNode.initialized)throw new Error("Project not initialized");var r=this.projectNode.getProject();return QW(r,t,e)},n}(),Jnt=Object.freeze({__proto__:null,dispatchProjectEvent:function(n,t,e){return e===void 0&&(e="default"),function(r){var i={type:"projectNodeEvent",event:r,channel:e};n.postMessage(i,t)}},subscribeToProjectEvents:function(n,t){return t===void 0&&(t="default"),function(e){function r(i){if(i.origin===n&&i.data.type==="projectNodeEvent"&&i.data.channel===t){var a=i.data.event;e(a)}}return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}}}}),Qnt=Object.freeze({__proto__:null,dispatchProjectEvent:function(n){return n===void 0&&(n="default"),function(t){var e=new CustomEvent("projectNodeEvent",{detail:{event:t,channel:n}});window.dispatchEvent(e)}},subscribeToProjectEvents:function(n){return n===void 0&&(n="default"),function(t){function e(r){if(r.type==="projectNodeEvent"&&r.detail.channel===n){var i=r.detail.event;t(i)}}return window.addEventListener("projectNodeEvent",e),function(){return window.removeEventListener("projectNodeEvent",e)}}}}),Znt=Object.freeze({__proto__:null,CustomEventAPI:Qnt,PinsAndCurvesProjectController:Xnt,PostMessageAPI:Jnt});function trt(n,t,e){return n+(t-n)*e}function kj(n){return n*n*n}function Mj(n){return 1-Math.pow(1-n,3)}function Fj(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function Pj(n){var t=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*t)+1}var OC={},Tj={},Oj=1e-6,ert=function(n,t,e,r){var i=n.signalData[t],a=Object.entries(i.pinTimes).sort(function(c,f){return c[1]-f[1]}).find(function(c){return c[0],c[1]>=e});if(a===void 0)return"END VALUE";var s=a[0];return a[1],i.pinValues[s]},QW=function(n,t,e,r){if(r===void 0&&(r=0),++r>1e3)throw new Error("Exceeded maximum iteration count");var i=n.timelineData.numberOfFrames;if(e<0||e>i)throw new Error("Time out of range");var a=n.signalData[t].type;if(a==="discrete")return[ert(n,t,e),[]];if(a==="continuous")return function(s,c,f,d){var h=s.signalData[c],m=h.range,y=m[0],w=m[1],C=Object.entries(h.pinTimes).sort(function(mt,vt){return mt[1]-vt[1]}),k=C.find(function(mt){return mt[0],mt[1]>=f});if(k===void 0)return[y,[]];var M,N=k,B=N[0],L=N[1],z=h.pinValues[B],q=h.curves[B],V=y,X=0,nt=C.findIndex(function(mt){var vt=mt[0];return mt[1],vt===B});if(nt>0){var it=C[nt-1],ct=it[0],ft=it[1];V=h.pinValues[ct],X=ft}var gt=Tj[c+B];if(gt===void 0||gt.functionString!==q){var Ct=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;


            `.concat(q);M=new Function("context","templates",Ct),Tj[c+B]={functionString:q,cachedFunction:M}}else M=gt.cachedFunction;var kt=(f-X)/(L!==X?L-X:1),Tt=y,At=[];try{var Zt=function(mt){var vt=mt.nextPinTime,Lt=mt.project,ee=mt.range,pe=mt.pinId,ve=mt.frame,Oe=mt.numberOfFrames,qe=mt.framesPerSecond,He=mt.nextPinValue,wn=mt.previousPinTime,nn=mt.previousPinValue,cr=mt.relativeTime,bi=mt.interpolateSignalValueAtTime,Vt=ee[0],rt=ee[1];return{nextPinTime:vt,nextPinValue:He,project:Lt,previousPinTime:wn,previousPinValue:nn,relativeTime:cr,frame:ve,pinId:pe,numberOfFrames:Oe,framesPerSecond:qe,maxValue:rt,minValue:Vt,linearInterpolation:trt,easeInCubic:kj,easeOutCubic:Mj,easeInOutCubic:Fj,easeOutElastic:Pj,easyLinear:function(){return cr*(He-nn)+nn},easyStep:function(){return He},easyEaseIn:function(){return nn+kj(cr)*(He-nn)},easyEaseOut:function(){return nn+Mj(cr)*(He-nn)},easyEase:function(){return nn+Fj(cr)*(He-nn)},easyEaseOutElastic:function(){return nn+Pj(cr)*(He-nn)},interpolateSignalValueAtTime:bi}}({nextPinTime:L,nextPinValue:z,previousPinTime:X,project:s,previousPinValue:V,relativeTime:kt,pinId:B,frame:f,range:[y,w],numberOfFrames:s.timelineData.numberOfFrames,framesPerSecond:s.timelineData.framesPerSecond,interpolateSignalValueAtTime:function(mt,vt){var Lt=s.orgData.signalIds.find(function(Oe){return s.orgData.signalNames[Oe]===mt});if(Lt===void 0)throw new Error("Signal not found");var ee=QW(s,Lt,vt,d),pe=ee[0],ve=ee[1];if(typeof pe=="string")throw new Error("Interpolation function returned string");return At.push.apply(At,ve),pe}}),_t=function(mt){var vt={};return Object.entries(mt.templateData).forEach(function(Lt){var ee=Lt[0],pe=Lt[1];if(OC[ee]!==void 0){if(OC[ee].functionString===pe){var ve=OC[ee].cachedFunction;return void(vt[ee]=ve)}}else ve=new Function("return ".concat(pe,";"))(),vt[ee]=ve,OC[ee]={functionString:pe,cachedFunction:ve}}),vt}(s);Tt=M(Zt,_t)}catch(mt){At.push({signalId:c,frame:f,error:mt.message})}if(isNaN(Tt)&&(Tt=y,At.push({signalId:c,frame:f,error:"Interpolated value is NaN"})),Tt<y&&(Tt=y,Math.abs(Tt-y)>Oj&&At.push({signalId:c,frame:f,error:"Interpolated value below minimum"})),Tt>w){var Et=Tt;Tt=w,Math.abs(Et-w)>Oj&&At.push({signalId:c,frame:f,error:"Interpolated value above maximum: "+Et})}return[Tt,At]}(n,t,e,r);throw new Error("Invalid signal type")};function X0(n,t){return[n[0]+t[0],n[1]+t[1]]}function o0(n,t){return[n[0]-t[0],n[1]-t[1]]}function yk(n,t){return[n[0]*t[0],n[1]*t[1]]}function rD(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function a0(n,t){return[n[0]*t,n[1]*t]}function Ly(n,t){var e=[n[0][0],n[0][1],n[2][0],n[2][1]],r=e[0],i=e[1],a=e[2],s=e[3],c=[t[0][0],t[0][1],t[2][0],t[2][1]];return!(r>c[2]||a<c[0]||i>c[3]||s<c[1])}var Nj,NC,IC,Hf=function(){function n(t,e,r){t===void 0&&(t=[0,0]),e===void 0&&(e=0),r===void 0&&(r=0),this._o=t,this._w=e,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(t){this._o=t},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(t){var e={x:t[0],y:t[1]},r=e.x,i=e.y,a={oX:this.o[0],oY:this.o[1]},s=a.oX,c=a.oY;return!(r<s||r>s+this.w||i<c||i>c+this.h)},n.prototype.clone=function(){return new n(Lg([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,X0(this.o,[this.w,0]),X0(this.o,[this.w,this.h]),X0(this.o,[0,this.h])]},n.prototype.getCenter=function(){return X0(this.o,[this.w/2,this.h/2])},n}(),pv=function(n){function t(){var e=n.call(this)||this;return e.layer=0,e.children=[],e._isPrimaryCamera=!1,e._needsUpdate=!1,e._needsUpdate_root=!1,e.updateWhenCameraChanges=!1,e.state=void 0,e.context={},e.windowDidMountPrimitiveIsRunning=!1,e.childIndex=0,e.isCanvasRoot=!1,e.props={},e.globalPositioning=!1,e}return gh(t,n),Object.defineProperty(t.prototype,"_cameraSnapshot",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.canvas},enumerable:!1,configurable:!0}),t.prototype.setAsPrimaryCamera=function(){var e;(e=this._root)===null||e===void 0||e.installCamera(this)},t.prototype.setState=function(e){var r,i;if(this.state===e)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=e:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(a){a.updateWhenCameraChanges&&(a._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,e))},t.prototype.setContext=function(e,r){var i,a;this.windowDidMountPrimitiveIsRunning?this.context[e]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[e]=r,(a=this._root)===null||a===void 0||a.scheduleContextUpdate(this,e,r))},t.prototype.windowDidMountPrimitive=function(e){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(e),this.windowDidMountPrimitiveIsRunning=!1},t.prototype.windowDidMount=function(e){},t.prototype.windowDidUpdate=function(e){},t.prototype.cameraDidUpdate=function(){},t.prototype.windowWillUnmount=function(){},t.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var e=this.getBox();return this._boxSnapshot=e,e},t.prototype.getBox=function(){return new Hf([0,0],0,0)},Object.defineProperty(t.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),t.prototype.cameraPassUpdateSelf=function(){var e,r,i=this;this._isPrimaryCamera?(e=this._root)===null||e===void 0||e.windows.forEach(function(a){var s;(s=i._root)===null||s===void 0||s.taintLayer(a.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(du({},this.props)))},t.prototype.cameraPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(c){return c(e)}),i=this.children.filter(function(c){return!r.includes(c)}),a=r.filter(function(c){return!e.children.includes(c)});this.children=r,i.forEach(function(c){return c.windowWillUnmount()}),a.forEach(function(c){return c.windowDidMountPrimitive(c.props)});var s=this.children.find(function(c){return c._needsUpdate});this.children.forEach(function(c){c._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},t.prototype.regularPassUpdateSelf=function(){var e;this._boxSnapshot=void 0,(e=this._root)===null||e===void 0||e.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(du({},this.props))},t.prototype.regularPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(e)}),i=this.children.filter(function(s){return!r.includes(s)}),a=r.filter(function(s){return!e.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),a.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},t.prototype.getChildren=function(e){return[]},t.prototype.incChildIndex=function(){this.childIndex++},t.Node=function(e){var r=this,i=this.name;return function(a){if(a.isCanvasRoot){var s=void 0;return(s=new r)._root=a,s.setKey("root"),s.props=e||{},s.context=du({},s.context),s}var c=a.childIndex;e||(e={});var f=e.key?e.key:"".concat(i,"[").concat(c,"]");return s=void 0,a.children.findIndex(function(d){return d.key===f})!==-1?s=a.children.find(function(d){return d.key===f}):((s=new r)._parent=a,s._root=a._root,s.setKey(f)),s.props=du({},e),s.context=du(du({},s.context),a.context),a.incChildIndex(),s}},Object.defineProperty(t.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),t.prototype.getChildByKey=function(e){return this.children.find(function(r){return r.key===e})},t.prototype.getBoundingBox=function(){var e=this.globalO,r=e[0],i=e[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},t.prototype.pointInside=function(e){return n.prototype.pointInside.call(this,o0(e,this.parentO))},Object.defineProperty(t.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var e=this._parent.globalO,r=e[0],i=e[1],a=this.o;return[r+a[0],i+a[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),t.prototype.getLayer=function(){return this.layer},t.prototype.setLayer=function(e){this.layer=e},t.prototype.setKey=function(e){this.key=e},Object.defineProperty(t.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),t.prototype.absoluteToCanvasMeasure=function(e){return yk(e,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},t.prototype.canvasToAbsoluteMeasure=function(e){return yk(e,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(t.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),t.prototype.prepareHandlerProps=function(){var e=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),a=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,c=this.absoluteUnit,f=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:a,camera:e,canvasUnit:s,canvasO:f,absoluteUnit:c}},t.prototype.preparePostBoxHandlerProps=function(){var e=this,r=this._cameraSnapshot,i=this._canvas,a=function(c){var f=e.globalO,d=c[0],h=c[1],m=[f[0]+d,f[1]+h],y=m[0],w=m[1],C=r.o,k=[y-C[0],w-C[1]],M=k[1];return[k[0]*(i.width/r.w),M*(i.height/r.h)]},s=a([0,0]);return du(du({},this.prepareHandlerProps()),{localToCanvas:a,canvasToLocal:function(c){var f=e.globalO;return o0(X0(yk(c,[r.w/i.width,r.h/i.height]),r.o),f)},absoluteO:s})},t.prototype.prepareMouseHandlerProps=function(e,r){var i=this.preparePostBoxHandlerProps(),a=this.canvasUnit,s=a[0],c=a[1],f=this.canvasO,d=f[0],h=f[1],m=[d+e[0]*s,h+e[1]*c],y=o0(m,this.globalO),w=this.pointInside(m);return du(du({},i),{relativePos:y,canvasPos:e,absolutePos:m,pointInside:w,terminateEvent:r})},t.prototype.prepareWheelHandlerProps=function(e){var r=this.preparePostBoxHandlerProps();return du(du({},r),{terminateEvent:e})},t.prototype.renderPrimitive=function(e){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(du(du({},r),{ctx:e}))}},t.prototype.render=function(e){},t.prototype.onMouseDownPrimitive=function(e,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseDown=function(e,r){},t.prototype.onMouseMovePrimitive=function(e,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseMove=function(e,r){},t.prototype.onMouseUpPrimitive=function(e,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseUp=function(e,r){},t.prototype.onClickPrimitive=function(e,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onClick=function(e,r){},t.prototype.onWheelPrimitive=function(e,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(e),r)},t.prototype.onWheel=function(e,r){},t.prototype.strokeOutline=function(e,r){e.ctx.strokeStyle=r;var i=e.absoluteO,a=e.absoluteUnit,s=i[0],c=i[1],f=a[0],d=a[1];e.ctx.strokeRect(s,c,this.w*f,this.h*d)},t}(Hf),Ob={},BC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RC={exports:{}},nrt=(Nj||(Nj=1,NC=RC,IC=RC.exports,(function(){var n,t="Expected a function",e="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,a=128,s=1/0,c=9007199254740991,f=NaN,d=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],m="[object Arguments]",y="[object Array]",w="[object Boolean]",C="[object Date]",k="[object Error]",M="[object Function]",N="[object GeneratorFunction]",B="[object Map]",L="[object Number]",z="[object Object]",q="[object Promise]",V="[object RegExp]",X="[object Set]",nt="[object String]",it="[object Symbol]",ct="[object WeakMap]",ft="[object ArrayBuffer]",gt="[object DataView]",Ct="[object Float32Array]",kt="[object Float64Array]",Tt="[object Int8Array]",At="[object Int16Array]",Zt="[object Int32Array]",_t="[object Uint8Array]",Et="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",Lt=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,qe=RegExp(ve.source),He=RegExp(Oe.source),wn=/<%-([\s\S]+?)%>/g,nn=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(dt.source),Ot=/^\s+/,Bt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Kt=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,zi=/^\[object .+?Constructor\]$/,Yi=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,xo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ai=/($^)/,us=/['\n\r\u2028\u2029\\]/g,ko="\\ud800-\\udfff",vu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ja="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",yu="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ol="["+ko+"]",gl="["+Ns+"]",Pa="["+vu+"]",ml="\\d+",wu="["+ja+"]",Ou="["+ls+"]",Ks="[^"+ko+Ns+ml+ja+ls+yu+"]",Nu="\\ud83c[\\udffb-\\udfff]",ts="[^"+ko+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",ho="["+yu+"]",Iu="\\u200d",nu="(?:"+Ou+"|"+Ks+")",cs="(?:"+ho+"|"+Ks+")",nl="(?:['](?:d|ll|m|re|s|t|ve))?",Nl="(?:['](?:D|LL|M|RE|S|T|VE))?",vl="(?:"+Pa+"|"+Nu+")?",bu="["+dl+"]?",Gs=bu+vl+"(?:"+Iu+"(?:"+[ts,fa,ba].join("|")+")"+bu+vl+")*",kc="(?:"+[wu,fa,ba].join("|")+")"+Gs,hf="(?:"+[ts+Pa+"?",Pa,fa,ba,Ol].join("|")+")",Mc=RegExp("[']","g"),ln=RegExp(Pa,"g"),Vn=RegExp(Nu+"(?="+Nu+")|"+hf+Gs,"g"),hr=RegExp([ho+"?"+Ou+"+"+nl+"(?="+[gl,ho,"$"].join("|")+")",cs+"+"+Nl+"(?="+[gl,ho+nu,"$"].join("|")+")",ho+"?"+nu+"+"+nl,ho+"+"+Nl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml,kc].join("|"),"g"),Xi=RegExp("["+Iu+ko+vu+dl+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ru=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,De={};De[Ct]=De[kt]=De[Tt]=De[At]=De[Zt]=De[_t]=De[Et]=De[mt]=De[vt]=!0,De[m]=De[y]=De[ft]=De[w]=De[gt]=De[C]=De[k]=De[M]=De[B]=De[L]=De[z]=De[V]=De[X]=De[nt]=De[ct]=!1;var be={};be[m]=be[y]=be[ft]=be[gt]=be[w]=be[C]=be[Ct]=be[kt]=be[Tt]=be[At]=be[Zt]=be[B]=be[L]=be[z]=be[V]=be[X]=be[nt]=be[it]=be[_t]=be[Et]=be[mt]=be[vt]=!0,be[k]=be[M]=be[ct]=!1;var Xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xa=parseFloat,tp=parseInt,Kc=typeof BC=="object"&&BC&&BC.Object===Object&&BC,Tf=typeof self=="object"&&self&&self.Object===Object&&self,ze=Kc||Tf||Function("return this")(),$i=IC&&!IC.nodeType&&IC,kr=$i&&NC&&!NC.nodeType&&NC,Fc=kr&&kr.exports===$i,Bu=Fc&&Kc.process,pr=function(){try{return kr&&kr.require&&kr.require("util").types||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),Ru=pr&&pr.isArrayBuffer,Ji=pr&&pr.isDate,qn=pr&&pr.isMap,rl=pr&&pr.isRegExp,Zc=pr&&pr.isSet,wc=pr&&pr.isTypedArray;function Mn(J,st,et){switch(et.length){case 0:return J.call(st);case 1:return J.call(st,et[0]);case 2:return J.call(st,et[0],et[1]);case 3:return J.call(st,et[0],et[1],et[2])}return J.apply(st,et)}function uh(J,st,et,pt){for(var Nt=-1,Jt=J==null?0:J.length;++Nt<Jt;){var Fe=J[Nt];st(pt,Fe,et(Fe),J)}return pt}function Bn(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt&&st(J[et],et,J)!==!1;);return J}function tf(J,st){for(var et=J==null?0:J.length;et--&&st(J[et],et,J)!==!1;);return J}function Cs(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(!st(J[et],et,J))return!1;return!0}function Br(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];st(Fe,et,J)&&(Jt[Nt++]=Fe)}return Jt}function br(J,st){return!(J==null||!J.length)&&Ii(J,st,0)>-1}function xi(J,st,et){for(var pt=-1,Nt=J==null?0:J.length;++pt<Nt;)if(et(st,J[pt]))return!0;return!1}function Be(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=Array(pt);++et<pt;)Nt[et]=st(J[et],et,J);return Nt}function Er(J,st){for(var et=-1,pt=st.length,Nt=J.length;++et<pt;)J[Nt+et]=st[et];return J}function Jr(J,st,et,pt){var Nt=-1,Jt=J==null?0:J.length;for(pt&&Jt&&(et=J[++Nt]);++Nt<Jt;)et=st(et,J[Nt],Nt,J);return et}function ef(J,st,et,pt){var Nt=J==null?0:J.length;for(pt&&Nt&&(et=J[--Nt]);Nt--;)et=st(et,J[Nt],Nt,J);return et}function Is(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(st(J[et],et,J))return!0;return!1}var uc=Da("length");function ql(J,st,et){var pt;return et(J,function(Nt,Jt,Fe){if(st(Nt,Jt,Fe))return pt=Jt,!1}),pt}function jr(J,st,et,pt){for(var Nt=J.length,Jt=et+(pt?1:-1);pt?Jt--:++Jt<Nt;)if(st(J[Jt],Jt,J))return Jt;return-1}function Ii(J,st,et){return st==st?function(pt,Nt,Jt){for(var Fe=Jt-1,mn=pt.length;++Fe<mn;)if(pt[Fe]===Nt)return Fe;return-1}(J,st,et):jr(J,Bs,et)}function bc(J,st,et,pt){for(var Nt=et-1,Jt=J.length;++Nt<Jt;)if(pt(J[Nt],st))return Nt;return-1}function Bs(J){return J!=J}function xu(J,st){var et=J==null?0:J.length;return et?Ys(J,st)/et:f}function Da(J){return function(st){return st==null?n:st[J]}}function ju(J){return function(st){return J==null?n:J[st]}}function Pc(J,st,et,pt,Nt){return Nt(J,function(Jt,Fe,mn){et=pt?(pt=!1,Jt):st(et,Jt,Fe,mn)}),et}function Ys(J,st){for(var et,pt=-1,Nt=J.length;++pt<Nt;){var Jt=st(J[pt]);Jt!==n&&(et=et===n?Jt:et+Jt)}return et}function Il(J,st){for(var et=-1,pt=Array(J);++et<J;)pt[et]=st(et);return pt}function Bl(J){return J&&J.slice(0,La(J)+1).replace(Ot,"")}function Ln(J){return function(st){return J(st)}}function yl(J,st){return Be(st,function(et){return J[et]})}function fi(J,st){return J.has(st)}function wl(J,st){for(var et=-1,pt=J.length;++et<pt&&Ii(st,J[et],0)>-1;);return et}function Xs(J,st){for(var et=J.length;et--&&Ii(st,J[et],0)>-1;);return et}var Gc=ju({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Tc=ju({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lu(J){return"\\"+Xr[J]}function ha(J){return Xi.test(J)}function Gi(J){var st=-1,et=Array(J.size);return J.forEach(function(pt,Nt){et[++st]=[Nt,pt]}),et}function zu(J,st){return function(et){return J(st(et))}}function Di(J,st){for(var et=-1,pt=J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];Fe!==st&&Fe!==r||(J[et]=r,Jt[Nt++]=et)}return Jt}function ns(J){var st=-1,et=Array(J.size);return J.forEach(function(pt){et[++st]=pt}),et}function Wr(J){return ha(J)?function(st){for(var et=Vn.lastIndex=0;Vn.test(st);)++et;return et}(J):uc(J)}function xr(J){return ha(J)?function(st){return st.match(Vn)||[]}(J):function(st){return st.split("")}(J)}function La(J){for(var st=J.length;st--&&Bt.test(J.charAt(st)););return st}var lc=ju({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Co=function J(st){var et,pt=(st=st==null?ze:Co.defaults(ze.Object(),st,Co.pick(ze,ru))).Array,Nt=st.Date,Jt=st.Error,Fe=st.Function,mn=st.Math,zt=st.Object,Ne=st.RegExp,ke=st.String,Pe=st.TypeError,vr=pt.prototype,Ci=Fe.prototype,hi=zt.prototype,Ca=st["__core-js_shared__"],pi=Ci.toString,Ce=hi.hasOwnProperty,kh=0,_i=(et=/[^.]+$/.exec(Ca&&Ca.keys&&Ca.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"",Rs=hi.toString,Yc=pi.call(zt),pf=ze._,lh=Ne("^"+pi.call(Ce).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iu=Fc?st.Buffer:n,tr=st.Symbol,js=st.Uint8Array,Rl=iu?iu.allocUnsafe:n,ea=zu(zt.getPrototypeOf,zt),Yf=zt.create,Oc=hi.propertyIsEnumerable,Uu=vr.splice,jl=tr?tr.isConcatSpreadable:n,io=tr?tr.iterator:n,Bo=tr?tr.toStringTag:n,za=function(){try{var o=si(zt,"defineProperty");return o({},"",{}),o}catch{}}(),nf=st.clearTimeout!==ze.clearTimeout&&st.clearTimeout,Xf=Nt&&Nt.now!==ze.Date.now&&Nt.now,Of=st.setTimeout!==ze.setTimeout&&st.setTimeout,Ua=mn.ceil,$u=mn.floor,ou=zt.getOwnPropertySymbols,xc=iu?iu.isBuffer:n,Nc=st.isFinite,Wh=vr.join,Lh=zu(zt.keys,zt),sn=mn.max,on=mn.min,pa=Nt.now,Du=st.parseInt,df=mn.random,xh=vr.reverse,il=si(st,"DataView"),_a=si(st,"Map"),oa=si(st,"Promise"),ii=si(st,"Set"),Ko=si(st,"WeakMap"),aa=si(zt,"create"),sa=Ko&&new Ko,Mo={},gf=so(il),bl=so(_a),cc=so(oa),rf=so(ii),Jf=so(Ko),rs=tr?tr.prototype:n,is=rs?rs.valueOf:n,Ll=rs?rs.toString:n;function P(o){if(Le(o)&&!ie(o)&&!(o instanceof ce)){if(o instanceof or)return o;if(Ce.call(o,"__wrapped__"))return Au(o)}return new or(o)}var Go=function(){function o(){}return function(u){if(!We(u))return{};if(Yf)return Yf(u);o.prototype=u;var l=new o;return o.prototype=n,l}}();function Pt(){}function or(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}function ce(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function vn(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function Fr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function St(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new Fr;++u<l;)this.add(o[u])}function zn(o){var u=this.__data__=new vn(o);this.size=u.size}function Wu(o,u){var l=ie(o),g=!l&&Eo(o),b=!l&&!g&&Nr(o),E=!l&&!g&&!b&&xn(o),O=l||g||b||E,R=O?Il(o.length,ke):[],W=R.length;for(var A in o)!u&&!Ce.call(o,A)||O&&(A=="length"||b&&(A=="offset"||A=="parent")||E&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ur(A,W))||R.push(A);return R}function En(o){var u=o.length;return u?o[fs(0,u-1)]:n}function Bi(o,u){return Hs(An(o),Qi(u,0,o.length))}function Kl(o){return Hs(An(o))}function da(o,u,l){(l!==n&&!Mr(o[u],l)||l===n&&!(u in o))&&Rr(o,u,l)}function Fo(o,u,l){var g=o[u];Ce.call(o,u)&&Mr(g,l)&&(l!==n||u in o)||Rr(o,u,l)}function ga(o,u){for(var l=o.length;l--;)if(Mr(o[l][0],u))return l;return-1}function _s(o,u,l,g){return ki(o,function(b,E,O){u(g,b,l(b),O)}),g}function Hu(o,u){return o&&$n(u,en(u),o)}function Rr(o,u,l){u=="__proto__"&&za?za(o,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[u]=l}function Gl(o,u){for(var l=-1,g=u.length,b=pt(g),E=o==null;++l<g;)b[l]=E?n:rc(o,u[l]);return b}function Qi(o,u,l){return o==o&&(l!==n&&(o=o<=l?o:l),u!==n&&(o=o>=u?o:u)),o}function yr(o,u,l,g,b,E){var O,R=1&u,W=2&u,A=4&u;if(l&&(O=b?l(o,g,b,E):l(o)),O!==n)return O;if(!We(o))return o;var _=ie(o);if(_){if(O=function(K){var tt=K.length,ut=new K.constructor(tt);return tt&&typeof K[0]=="string"&&Ce.call(K,"index")&&(ut.index=K.index,ut.input=K.input),ut}(o),!R)return An(o,O)}else{var T=cn(o),U=T==M||T==N;if(Nr(o))return Cl(o,R);if(T==z||T==m||U&&!b){if(O=W||U?{}:Qo(o),!R)return W?function(K,tt){return $n(K,ua(K),tt)}(o,function(K,tt){return K&&$n(tt,Xn(tt),K)}(O,o)):function(K,tt){return $n(K,mr(K),tt)}(o,Hu(O,o))}else{if(!be[T])return b?o:{};O=function(K,tt,ut){var ot,wt=K.constructor;switch(tt){case ft:return Su(K);case w:case C:return new wt(+K);case gt:return function(yt,jt){var xt=jt?Su(yt.buffer):yt.buffer;return new yt.constructor(xt,yt.byteOffset,yt.byteLength)}(K,ut);case Ct:case kt:case Tt:case At:case Zt:case _t:case Et:case mt:case vt:return _l(K,ut);case B:return new wt;case L:case nt:return new wt(K);case V:return function(yt){var jt=new yt.constructor(yt.source,Se.exec(yt));return jt.lastIndex=yt.lastIndex,jt}(K);case X:return new wt;case it:return ot=K,is?zt(is.call(ot)):{}}}(o,T,R)}}E||(E=new zn);var G=E.get(o);if(G)return G;E.set(o,O),Qu(o)?o.forEach(function(K){O.add(yr(K,u,l,K,o,E))}):Qn(o)&&o.forEach(function(K,tt){O.set(tt,yr(K,u,l,tt,o,E))});var Z=_?n:(A?W?po:Ya:W?Xn:en)(o);return Bn(Z||o,function(K,tt){Z&&(K=o[tt=K]),Fo(O,tt,yr(K,u,l,tt,o,E))}),O}function Vu(o,u,l){var g=l.length;if(o==null)return!g;for(o=zt(o);g--;){var b=l[g],E=u[b],O=o[b];if(O===n&&!(b in o)||!E(O))return!1}return!0}function $a(o,u,l){if(typeof o!="function")throw new Pe(t);return gi(function(){o.apply(n,l)},u)}function Ro(o,u,l,g){var b=-1,E=br,O=!0,R=o.length,W=[],A=u.length;if(!R)return W;l&&(u=Be(u,Ln(l))),g?(E=xi,O=!1):u.length>=200&&(E=fi,O=!1,u=new St(u));t:for(;++b<R;){var _=o[b],T=l==null?_:l(_);if(_=g||_!==0?_:0,O&&T==T){for(var U=A;U--;)if(u[U]===T)continue t;W.push(_)}else E(u,T,g)||W.push(_)}return W}P.templateSettings={escape:wn,evaluate:nn,interpolate:cr,variable:"",imports:{_:P}},P.prototype=Pt.prototype,P.prototype.constructor=P,or.prototype=Go(Pt.prototype),or.prototype.constructor=or,ce.prototype=Go(Pt.prototype),ce.prototype.constructor=ce,Hr.prototype.clear=function(){this.__data__=aa?aa(null):{},this.size=0},Hr.prototype.delete=function(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u},Hr.prototype.get=function(o){var u=this.__data__;if(aa){var l=u[o];return l===e?n:l}return Ce.call(u,o)?u[o]:n},Hr.prototype.has=function(o){var u=this.__data__;return aa?u[o]!==n:Ce.call(u,o)},Hr.prototype.set=function(o,u){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=aa&&u===n?e:u,this},vn.prototype.clear=function(){this.__data__=[],this.size=0},vn.prototype.delete=function(o){var u=this.__data__,l=ga(u,o);return!(l<0||(l==u.length-1?u.pop():Uu.call(u,l,1),--this.size,0))},vn.prototype.get=function(o){var u=this.__data__,l=ga(u,o);return l<0?n:u[l][1]},vn.prototype.has=function(o){return ga(this.__data__,o)>-1},vn.prototype.set=function(o,u){var l=this.__data__,g=ga(l,o);return g<0?(++this.size,l.push([o,u])):l[g][1]=u,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(_a||vn),string:new Hr}},Fr.prototype.delete=function(o){var u=Jo(this,o).delete(o);return this.size-=u?1:0,u},Fr.prototype.get=function(o){return Jo(this,o).get(o)},Fr.prototype.has=function(o){return Jo(this,o).has(o)},Fr.prototype.set=function(o,u){var l=Jo(this,o),g=l.size;return l.set(o,u),this.size+=l.size==g?0:1,this},St.prototype.add=St.prototype.push=function(o){return this.__data__.set(o,e),this},St.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.clear=function(){this.__data__=new vn,this.size=0},zn.prototype.delete=function(o){var u=this.__data__,l=u.delete(o);return this.size=u.size,l},zn.prototype.get=function(o){return this.__data__.get(o)},zn.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.set=function(o,u){var l=this.__data__;if(l instanceof vn){var g=l.__data__;if(!_a||g.length<199)return g.push([o,u]),this.size=++l.size,this;l=this.__data__=new Fr(g)}return l.set(o,u),this.size=l.size,this};var ki=Aa(bn),Ss=Aa(Sa,!0);function fc(o,u){var l=!0;return ki(o,function(g,b,E){return l=!!u(g,b,E)}),l}function Wa(o,u,l){for(var g=-1,b=o.length;++g<b;){var E=o[g],O=u(E);if(O!=null&&(R===n?O==O&&!jn(O):l(O,R)))var R=O,W=E}return W}function au(o,u){var l=[];return ki(o,function(g,b,E){u(g,b,E)&&l.push(g)}),l}function gn(o,u,l,g,b){var E=-1,O=o.length;for(l||(l=sr),b||(b=[]);++E<O;){var R=o[E];u>0&&l(R)?u>1?gn(R,u-1,l,g,b):Er(b,R):g||(b[b.length]=R)}return b}var hc=Zs(),Ha=Zs(!0);function bn(o,u){return o&&hc(o,u,en)}function Sa(o,u){return o&&Ha(o,u,en)}function ma(o,u){return Br(u,function(l){return yi(o[l])})}function Vr(o,u){for(var l=0,g=(u=ai(u,o)).length;o!=null&&l<g;)o=o[Nn(u[l++])];return l&&l==g?o:n}function Ea(o,u,l){var g=u(o);return ie(o)?g:Er(g,l(o))}function tn(o){return o==null?o===n?"[object Undefined]":"[object Null]":Bo&&Bo in zt(o)?function(u){var l=Ce.call(u,Bo),g=u[Bo];try{u[Bo]=n;var b=!0}catch{}var E=Rs.call(u);return b&&(l?u[Bo]=g:delete u[Bo]),E}(o):function(u){return Rs.call(u)}(o)}function Ho(o,u){return o>u}function Ls(o,u){return o!=null&&Ce.call(o,u)}function xl(o,u){return o!=null&&u in zt(o)}function pc(o,u,l){for(var g=l?xi:br,b=o[0].length,E=o.length,O=E,R=pt(E),W=1/0,A=[];O--;){var _=o[O];O&&u&&(_=Be(_,Ln(u))),W=on(_.length,W),R[O]=!l&&(u||b>=120&&_.length>=120)?new St(O&&_):n}_=o[0];var T=-1,U=R[0];t:for(;++T<b&&A.length<W;){var G=_[T],Z=u?u(G):G;if(G=l||G!==0?G:0,!(U?fi(U,Z):g(A,Z,l))){for(O=E;--O;){var K=R[O];if(!(K?fi(K,Z):g(o[O],Z,l)))continue t}U&&U.push(Z),A.push(G)}}return A}function Po(o,u,l){var g=(o=Ws(o,u=ai(u,o)))==null?o:o[Nn(Ar(u))];return g==null?n:Mn(g,o,l)}function Js(o){return Le(o)&&tn(o)==m}function _o(o,u,l,g,b){return o===u||(o==null||u==null||!Le(o)&&!Le(u)?o!=o&&u!=u:function(E,O,R,W,A,_){var T=ie(E),U=ie(O),G=T?y:cn(E),Z=U?y:cn(O),K=(G=G==m?z:G)==z,tt=(Z=Z==m?z:Z)==z,ut=G==Z;if(ut&&Nr(E)){if(!Nr(O))return!1;T=!0,K=!1}if(ut&&!K)return _||(_=new zn),T||xn(E)?El(E,O,R,W,A,_):function(xt,It,ae,Ht,ye,oe,xe){switch(ae){case gt:if(xt.byteLength!=It.byteLength||xt.byteOffset!=It.byteOffset)return!1;xt=xt.buffer,It=It.buffer;case ft:return!(xt.byteLength!=It.byteLength||!oe(new js(xt),new js(It)));case w:case C:case L:return Mr(+xt,+It);case k:return xt.name==It.name&&xt.message==It.message;case V:case nt:return xt==It+"";case B:var Ve=Gi;case X:var an=1&Ht;if(Ve||(Ve=ns),xt.size!=It.size&&!an)return!1;var On=xe.get(xt);if(On)return On==It;Ht|=2,xe.set(xt,It);var Dn=El(Ve(xt),Ve(It),Ht,ye,oe,xe);return xe.delete(xt),Dn;case it:if(is)return is.call(xt)==is.call(It)}return!1}(E,O,G,R,W,A,_);if(!(1&R)){var ot=K&&Ce.call(E,"__wrapped__"),wt=tt&&Ce.call(O,"__wrapped__");if(ot||wt){var yt=ot?E.value():E,jt=wt?O.value():O;return _||(_=new zn),A(yt,jt,R,W,_)}}return!!ut&&(_||(_=new zn),function(xt,It,ae,Ht,ye,oe){var xe=1&ae,Ve=Ya(xt),an=Ve.length;if(an!=Ya(It).length&&!xe)return!1;for(var On=an;On--;){var Dn=Ve[On];if(!(xe?Dn in It:Ce.call(It,Dn)))return!1}var nr=oe.get(xt),Cr=oe.get(It);if(nr&&Cr)return nr==It&&Cr==xt;var Ao=!0;oe.set(xt,It),oe.set(It,xt);for(var ro=xe;++On<an;){var vo=xt[Dn=Ve[On]],Kr=It[Dn];if(Ht)var ss=xe?Ht(Kr,vo,Dn,It,xt,oe):Ht(vo,Kr,Dn,xt,It,oe);if(!(ss===n?vo===Kr||ye(vo,Kr,ae,Ht,oe):ss)){Ao=!1;break}ro||(ro=Dn=="constructor")}if(Ao&&!ro){var Lr=xt.constructor,Za=It.constructor;Lr==Za||!("constructor"in xt)||!("constructor"in It)||typeof Lr=="function"&&Lr instanceof Lr&&typeof Za=="function"&&Za instanceof Za||(Ao=!1)}return oe.delete(xt),oe.delete(It),Ao}(E,O,R,W,A,_))}(o,u,l,g,_o,b))}function jo(o,u,l,g){var b=l.length,E=b,O=!g;if(o==null)return!E;for(o=zt(o);b--;){var R=l[b];if(O&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++b<E;){var W=(R=l[b])[0],A=o[W],_=R[1];if(O&&R[2]){if(A===n&&!(W in o))return!1}else{var T=new zn;if(g)var U=g(A,_,W,o,u,T);if(!(U===n?_o(_,A,3,g,T):U))return!1}}return!0}function qu(o){return!(!We(o)||(u=o,_i&&_i in u))&&(yi(o)?lh:zi).test(so(o));var u}function Cu(o){return typeof o=="function"?o:o==null?_n:typeof o=="object"?ie(o)?Wi(o[0],o[1]):zs(o):Io(o)}function Ta(o){if(!Zr(o))return Lh(o);var u=[];for(var l in zt(o))Ce.call(o,l)&&l!="constructor"&&u.push(l);return u}function dr(o,u){return o<u}function ar(o,u){var l=-1,g=$e(o)?pt(o.length):[];return ki(o,function(b,E,O){g[++l]=u(b,E,O)}),g}function zs(o){var u=er(o);return u.length==1&&u[0][2]?dc(u[0][0],u[0][1]):function(l){return l===o||jo(l,o,u)}}function Wi(o,u){return Dr(o)&&Wl(u)?dc(Nn(o),u):function(l){var g=rc(l,o);return g===n&&g===u?Fi(l,o):_o(u,g,3)}}function Si(o,u,l,g,b){o!==u&&hc(u,function(E,O){if(b||(b=new zn),We(E))(function(W,A,_,T,U,G,Z){var K=ao(W,_),tt=ao(A,_),ut=Z.get(tt);if(ut)da(W,_,ut);else{var ot=G?G(K,tt,_+"",W,A,Z):n,wt=ot===n;if(wt){var yt=ie(tt),jt=!yt&&Nr(tt),xt=!yt&&!jt&&xn(tt);ot=tt,yt||jt||xt?ie(K)?ot=K:Je(K)?ot=An(K):jt?(wt=!1,ot=Cl(tt,!0)):xt?(wt=!1,ot=_l(tt,!0)):ot=[]:la(tt)||Eo(tt)?(ot=K,Eo(K)?ot=ys(K):We(K)&&!yi(K)||(ot=Qo(tt))):wt=!1}wt&&(Z.set(tt,ot),U(ot,tt,T,G,Z),Z.delete(tt)),da(W,_,ot)}})(o,u,O,l,Si,g,b);else{var R=g?g(ao(o,O),E,O+"",o,u,b):n;R===n&&(R=E),da(o,O,R)}},Xn)}function _u(o,u){var l=o.length;if(l)return ur(u+=u<0?l:0,l)?o[u]:n}function Qs(o,u,l){u=u.length?Be(u,function(E){return ie(E)?function(O){return Vr(O,E.length===1?E[0]:E)}:E}):[_n];var g=-1;u=Be(u,Ln(Yt()));var b=ar(o,function(E,O,R){var W=Be(u,function(A){return A(E)});return{criteria:W,index:++g,value:E}});return function(E,O){var R=E.length;for(E.sort(O);R--;)E[R]=E[R].value;return E}(b,function(E,O){return function(R,W,A){for(var _=-1,T=R.criteria,U=W.criteria,G=T.length,Z=A.length;++_<G;){var K=ps(T[_],U[_]);if(K)return _>=Z?K:K*(A[_]=="desc"?-1:1)}return R.index-W.index}(E,O,l)})}function Zi(o,u,l){for(var g=-1,b=u.length,E={};++g<b;){var O=u[g],R=Vr(o,O);l(R,O)&&os(E,ai(O,o),R)}return E}function Dl(o,u,l,g){var b=g?bc:Ii,E=-1,O=u.length,R=o;for(o===u&&(u=An(u)),l&&(R=Be(o,Ln(l)));++E<O;)for(var W=0,A=u[E],_=l?l(A):A;(W=b(R,_,W,g))>-1;)R!==o&&Uu.call(R,W,1),Uu.call(o,W,1);return o}function zl(o,u){for(var l=o?u.length:0,g=l-1;l--;){var b=u[l];if(l==g||b!==E){var E=b;ur(b)?Uu.call(o,b,1):oi(o,b)}}return o}function fs(o,u){return o+$u(df()*(u-o+1))}function Us(o,u){var l="";if(!o||u<1||u>c)return l;do u%2&&(l+=o),(u=$u(u/2))&&(o+=o);while(u);return l}function ue(o,u){return no(go(o,u,_n),o+"")}function Es(o){return En(Zn(o))}function mi(o,u){var l=Zn(o);return Hs(l,Qi(u,0,l.length))}function os(o,u,l,g){if(!We(o))return o;for(var b=-1,E=(u=ai(u,o)).length,O=E-1,R=o;R!=null&&++b<E;){var W=Nn(u[b]),A=l;if(W==="__proto__"||W==="constructor"||W==="prototype")return o;if(b!=O){var _=R[W];(A=g?g(_,W,R):n)===n&&(A=We(_)?_:ur(u[b+1])?[]:{})}Fo(R,W,A),R=R[W]}return o}var Yl=sa?function(o,u){return sa.set(o,u),o}:_n,hs=za?function(o,u){return za(o,"toString",{configurable:!0,enumerable:!1,value:Tl(u),writable:!0})}:_n;function ol(o){return Hs(Zn(o))}function Un(o,u,l){var g=-1,b=o.length;u<0&&(u=-u>b?0:b+u),(l=l>b?b:l)<0&&(l+=b),b=u>l?0:l-u>>>0,u>>>=0;for(var E=pt(b);++g<b;)E[g]=o[g+u];return E}function Xc(o,u){var l;return ki(o,function(g,b,E){return!(l=u(g,b,E))}),!!l}function Fn(o,u,l){var g=0,b=o==null?g:o.length;if(typeof u=="number"&&u==u&&b<=2147483647){for(;g<b;){var E=g+b>>>1,O=o[E];O!==null&&!jn(O)&&(l?O<=u:O<u)?g=E+1:b=E}return b}return to(o,u,_n,l)}function to(o,u,l,g){var b=0,E=o==null?0:o.length;if(E===0)return 0;for(var O=(u=l(u))!=u,R=u===null,W=jn(u),A=u===n;b<E;){var _=$u((b+E)/2),T=l(o[_]),U=T!==n,G=T===null,Z=T==T,K=jn(T);if(O)var tt=g||Z;else tt=A?Z&&(g||U):R?Z&&U&&(g||!G):W?Z&&U&&!G&&(g||!K):!G&&!K&&(g?T<=u:T<u);tt?b=_+1:E=_}return on(E,4294967294)}function Or(o,u){for(var l=-1,g=o.length,b=0,E=[];++l<g;){var O=o[l],R=u?u(O):O;if(!l||!Mr(R,W)){var W=R;E[b++]=O===0?0:O}}return E}function Qr(o){return typeof o=="number"?o:jn(o)?f:+o}function fn(o){if(typeof o=="string")return o;if(ie(o))return Be(o,fn)+"";if(jn(o))return Ll?Ll.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Yn(o,u,l){var g=-1,b=br,E=o.length,O=!0,R=[],W=R;if(l)O=!1,b=xi;else if(E>=200){var A=u?null:of(o);if(A)return ns(A);O=!1,b=fi,W=new St}else W=u?[]:R;t:for(;++g<E;){var _=o[g],T=u?u(_):_;if(_=l||_!==0?_:0,O&&T==T){for(var U=W.length;U--;)if(W[U]===T)continue t;u&&W.push(T),R.push(_)}else b(W,T,l)||(W!==R&&W.push(T),R.push(_))}return R}function oi(o,u){return(o=Ws(o,u=ai(u,o)))==null||delete o[Nn(Ar(u))]}function na(o,u,l,g){return os(o,u,l(Vr(o,u)),g)}function Va(o,u,l,g){for(var b=o.length,E=g?b:-1;(g?E--:++E<b)&&u(o[E],E,o););return l?Un(o,g?0:E,g?E+1:b):Un(o,g?E+1:0,g?b:E)}function qa(o,u){var l=o;return l instanceof ce&&(l=l.value()),Jr(u,function(g,b){return b.func.apply(b.thisArg,Er([g],b.args))},l)}function Ri(o,u,l){var g=o.length;if(g<2)return g?Yn(o[0]):[];for(var b=-1,E=pt(g);++b<g;)for(var O=o[b],R=-1;++R<g;)R!=b&&(E[b]=Ro(E[b]||O,o[R],u,l));return Yn(gn(E,1),u,l)}function Yo(o,u,l){for(var g=-1,b=o.length,E=u.length,O={};++g<b;){var R=g<E?u[g]:n;l(O,o[g],R)}return O}function wr(o){return Je(o)?o:[]}function di(o){return typeof o=="function"?o:_n}function ai(o,u){return ie(o)?o:Dr(o,u)?[o]:Ic(we(o))}var Xl=ue;function Ur(o,u,l){var g=o.length;return l=l===n?g:l,!u&&l>=g?o:Un(o,u,l)}var Jl=nf||function(o){return ze.clearTimeout(o)};function Cl(o,u){if(u)return o.slice();var l=o.length,g=Rl?Rl(l):new o.constructor(l);return o.copy(g),g}function Su(o){var u=new o.constructor(o.byteLength);return new js(u).set(new js(o)),u}function _l(o,u){var l=u?Su(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}function ps(o,u){if(o!==u){var l=o!==n,g=o===null,b=o==o,E=jn(o),O=u!==n,R=u===null,W=u==u,A=jn(u);if(!R&&!A&&!E&&o>u||E&&O&&W&&!R&&!A||g&&O&&W||!l&&W||!b)return 1;if(!g&&!E&&!A&&o<u||A&&l&&b&&!g&&!E||R&&l&&b||!O&&b||!W)return-1}return 0}function al(o,u,l,g){for(var b=-1,E=o.length,O=l.length,R=-1,W=u.length,A=sn(E-O,0),_=pt(W+A),T=!g;++R<W;)_[R]=u[R];for(;++b<O;)(T||b<E)&&(_[l[b]]=o[b]);for(;A--;)_[R++]=o[b++];return _}function Sl(o,u,l,g){for(var b=-1,E=o.length,O=-1,R=l.length,W=-1,A=u.length,_=sn(E-R,0),T=pt(_+A),U=!g;++b<_;)T[b]=o[b];for(var G=b;++W<A;)T[G+W]=u[W];for(;++O<R;)(U||b<E)&&(T[G+l[O]]=o[b++]);return T}function An(o,u){var l=-1,g=o.length;for(u||(u=pt(g));++l<g;)u[l]=o[l];return u}function $n(o,u,l,g){var b=!l;l||(l={});for(var E=-1,O=u.length;++E<O;){var R=u[E],W=g?g(l[R],o[R],R,l,o):n;W===n&&(W=o[R]),b?Rr(l,R,W):Fo(l,R,W)}return l}function ji(o,u){return function(l,g){var b=ie(l)?uh:_s,E=u?u():{};return b(l,o,Yt(g,2),E)}}function Mi(o){return ue(function(u,l){var g=-1,b=l.length,E=b>1?l[b-1]:n,O=b>2?l[2]:n;for(E=o.length>3&&typeof E=="function"?(b--,E):n,O&&Ue(l[0],l[1],O)&&(E=b<3?n:E,b=1),u=zt(u);++g<b;){var R=l[g];R&&o(u,R,g,E)}return u})}function Aa(o,u){return function(l,g){if(l==null)return l;if(!$e(l))return o(l,g);for(var b=l.length,E=u?b:-1,O=zt(l);(u?E--:++E<b)&&g(O[E],E,O)!==!1;);return l}}function Zs(o){return function(u,l,g){for(var b=-1,E=zt(u),O=g(u),R=O.length;R--;){var W=O[o?R:++b];if(l(E[W],W,E)===!1)break}return u}}function Eu(o){return function(u){var l=ha(u=we(u))?xr(u):n,g=l?l[0]:u.charAt(0),b=l?Ur(l,1).join(""):u.slice(1);return g[o]()+b}}function Lo(o){return function(u){return Jr(fu(li(u).replace(Mc,"")),o,"")}}function zo(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Go(o.prototype),g=o.apply(l,u);return We(g)?g:l}}function va(o){return function(u,l,g){var b=zt(u);if(!$e(u)){var E=Yt(l,3);u=en(u),l=function(R){return E(b[R],R,b)}}var O=o(u,l,g);return O>-1?b[E?u[O]:O]:n}}function Uo(o){return Ei(function(u){var l=u.length,g=l,b=or.prototype.thru;for(o&&u.reverse();g--;){var E=u[g];if(typeof E!="function")throw new Pe(t);if(b&&!O&&So(E)=="wrapper")var O=new or([],!0)}for(g=O?g:l;++g<l;){var R=So(E=u[g]),W=R=="wrapper"?gs(E):n;O=W&&Kn(W[0])&&W[1]==424&&!W[4].length&&W[9]==1?O[So(W[0])].apply(O,W[3]):E.length==1&&Kn(E)?O[R]():O.thru(E)}return function(){var A=arguments,_=A[0];if(O&&A.length==1&&ie(_))return O.plant(_).value();for(var T=0,U=l?u[T].apply(this,A):_;++T<l;)U=u[T].call(this,U);return U}})}function To(o,u,l,g,b,E,O,R,W,A){var _=u&a,T=1&u,U=2&u,G=24&u,Z=512&u,K=U?n:zo(o);return function tt(){for(var ut=arguments.length,ot=pt(ut),wt=ut;wt--;)ot[wt]=arguments[wt];if(G)var yt=vi(tt),jt=function(Ht,ye){for(var oe=Ht.length,xe=0;oe--;)Ht[oe]===ye&&++xe;return xe}(ot,yt);if(g&&(ot=al(ot,g,b,G)),E&&(ot=Sl(ot,E,O,G)),ut-=jt,G&&ut<A){var xt=Di(ot,yt);return ds(o,u,To,tt.placeholder,l,ot,xt,R,W,A-ut)}var It=T?l:this,ae=U?It[o]:o;return ut=ot.length,R?ot=function(Ht,ye){for(var oe=Ht.length,xe=on(ye.length,oe),Ve=An(Ht);xe--;){var an=ye[xe];Ht[xe]=ur(an,oe)?Ve[an]:n}return Ht}(ot,R):Z&&ut>1&&ot.reverse(),_&&W<ut&&(ot.length=W),this&&this!==ze&&this instanceof tt&&(ae=K||zo(ae)),ae.apply(It,ot)}}function oo(o,u){return function(l,g){return function(b,E,O,R){return bn(b,function(W,A,_){E(R,O(W),A,_)}),R}(l,o,u(g),{})}}function eo(o,u){return function(l,g){var b;if(l===n&&g===n)return u;if(l!==n&&(b=l),g!==n){if(b===n)return g;typeof l=="string"||typeof g=="string"?(l=fn(l),g=fn(g)):(l=Qr(l),g=Qr(g)),b=o(l,g)}return b}}function Oo(o){return Ei(function(u){return u=Be(u,Ln(Yt())),ue(function(l){var g=this;return o(u,function(b){return Mn(b,g,l)})})})}function Xo(o,u){var l=(u=u===n?" ":fn(u)).length;if(l<2)return l?Us(u,o):u;var g=Us(u,Ua(o/Wr(u)));return ha(u)?Ur(xr(g),0,o).join(""):g.slice(0,o)}function Ku(o){return function(u,l,g){return g&&typeof g!="number"&&Ue(u,l,g)&&(l=g=n),u=ui(u),l===n?(l=u,u=0):l=ui(l),function(b,E,O,R){for(var W=-1,A=sn(Ua((E-b)/(O||1)),0),_=pt(A);A--;)_[R?A:++W]=b,b+=O;return _}(u,l,g=g===n?u<l?1:-1:ui(g),o)}}function Ka(o){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Qe(u),l=Qe(l)),o(u,l)}}function ds(o,u,l,g,b,E,O,R,W,A){var _=8&u;u|=_?i:64,4&(u&=~(_?64:i))||(u&=-4);var T=[o,u,b,_?E:n,_?O:n,_?n:E,_?n:O,R,W,A],U=l.apply(n,T);return Kn(o)&&kl(U,T),U.placeholder=g,As(U,o,u)}function ra(o){var u=mn[o];return function(l,g){if(l=Qe(l),(g=g==null?0:on(se(g),292))&&Nc(l)){var b=(we(l)+"e").split("e");return+((b=(we(u(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return u(l)}}var of=ii&&1/ns(new ii([,-0]))[1]==s?function(o){return new ii(o)}:hl;function Ul(o){return function(u){var l=cn(u);return l==B?Gi(u):l==X?function(g){var b=-1,E=Array(g.size);return g.forEach(function(O){E[++b]=[O,O]}),E}(u):function(g,b){return Be(b,function(E){return[E,g[E]]})}(u,o(u))}}function gr(o,u,l,g,b,E,O,R){var W=2&u;if(!W&&typeof o!="function")throw new Pe(t);var A=g?g.length:0;if(A||(u&=-97,g=b=n),O=O===n?O:sn(se(O),0),R=R===n?R:se(R),A-=b?b.length:0,64&u){var _=g,T=b;g=b=n}var U=W?n:gs(o),G=[o,u,l,g,b,_,T,E,O,R];if(U&&function(K,tt){var ut=K[1],ot=tt[1],wt=ut|ot,yt=wt<131,jt=ot==a&&ut==8||ot==a&&ut==256&&K[7].length<=tt[8]||ot==384&&tt[7].length<=tt[8]&&ut==8;if(!yt&&!jt)return K;1&ot&&(K[2]=tt[2],wt|=1&ut?0:4);var xt=tt[3];if(xt){var It=K[3];K[3]=It?al(It,xt,tt[4]):xt,K[4]=It?Di(K[3],r):tt[4]}(xt=tt[5])&&(It=K[5],K[5]=It?Sl(It,xt,tt[6]):xt,K[6]=It?Di(K[5],r):tt[6]),(xt=tt[7])&&(K[7]=xt),ot&a&&(K[8]=K[8]==null?tt[8]:on(K[8],tt[8])),K[9]==null&&(K[9]=tt[9]),K[0]=tt[0],K[1]=wt}(G,U),o=G[0],u=G[1],l=G[2],g=G[3],b=G[4],!(R=G[9]=G[9]===n?W?0:o.length:sn(G[9]-A,0))&&24&u&&(u&=-25),u&&u!=1)Z=u==8||u==16?function(K,tt,ut){var ot=zo(K);return function wt(){for(var yt=arguments.length,jt=pt(yt),xt=yt,It=vi(wt);xt--;)jt[xt]=arguments[xt];var ae=yt<3&&jt[0]!==It&&jt[yt-1]!==It?[]:Di(jt,It);return(yt-=ae.length)<ut?ds(K,tt,To,wt.placeholder,n,jt,ae,n,n,ut-yt):Mn(this&&this!==ze&&this instanceof wt?ot:K,this,jt)}}(o,u,R):u!=i&&u!=33||b.length?To.apply(n,G):function(K,tt,ut,ot){var wt=1&tt,yt=zo(K);return function jt(){for(var xt=-1,It=arguments.length,ae=-1,Ht=ot.length,ye=pt(Ht+It),oe=this&&this!==ze&&this instanceof jt?yt:K;++ae<Ht;)ye[ae]=ot[ae];for(;It--;)ye[ae++]=arguments[++xt];return Mn(oe,wt?ut:this,ye)}}(o,u,l,g);else var Z=function(K,tt,ut){var ot=1&tt,wt=zo(K);return function yt(){return(this&&this!==ze&&this instanceof yt?wt:K).apply(ot?ut:this,arguments)}}(o,u,l);return As((U?Yl:kl)(Z,G),o,u)}function $s(o,u,l,g){return o===n||Mr(o,hi[l])&&!Ce.call(g,l)?u:o}function Ga(o,u,l,g,b,E){return We(o)&&We(u)&&(E.set(u,o),Si(o,u,n,Ga,E),E.delete(u)),o}function Nf(o){return la(o)?n:o}function El(o,u,l,g,b,E){var O=1&l,R=o.length,W=u.length;if(R!=W&&!(O&&W>R))return!1;var A=E.get(o),_=E.get(u);if(A&&_)return A==u&&_==o;var T=-1,U=!0,G=2&l?new St:n;for(E.set(o,u),E.set(u,o);++T<R;){var Z=o[T],K=u[T];if(g)var tt=O?g(K,Z,T,u,o,E):g(Z,K,T,o,u,E);if(tt!==n){if(tt)continue;U=!1;break}if(G){if(!Is(u,function(ut,ot){if(!fi(G,ot)&&(Z===ut||b(Z,ut,l,g,E)))return G.push(ot)})){U=!1;break}}else if(Z!==K&&!b(Z,K,l,g,E)){U=!1;break}}return E.delete(o),E.delete(u),U}function Ei(o){return no(go(o,n,Oa),o+"")}function Ya(o){return Ea(o,en,mr)}function po(o){return Ea(o,Xn,ua)}var gs=sa?function(o){return sa.get(o)}:hl;function So(o){for(var u=o.name+"",l=Mo[u],g=Ce.call(Mo,u)?l.length:0;g--;){var b=l[g],E=b.func;if(E==null||E==o)return b.name}return u}function vi(o){return(Ce.call(P,"placeholder")?P:o).placeholder}function Yt(){var o=P.iteratee||ic;return o=o===ic?Cu:o,arguments.length?o(arguments[0],arguments[1]):o}function Jo(o,u){var l,g,b=o.__data__;return((g=typeof(l=u))=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null)?b[typeof u=="string"?"string":"hash"]:b.map}function er(o){for(var u=en(o),l=u.length;l--;){var g=u[l],b=o[g];u[l]=[g,b,Wl(b)]}return u}function si(o,u){var l=function(g,b){return g==null?n:g[b]}(o,u);return qu(l)?l:n}var mr=ou?function(o){return o==null?[]:(o=zt(o),Br(ou(o),function(u){return Oc.call(o,u)}))}:qr,ua=ou?function(o){for(var u=[];o;)Er(u,mr(o)),o=ea(o);return u}:qr,cn=tn;function $l(o,u,l){for(var g=-1,b=(u=ai(u,o)).length,E=!1;++g<b;){var O=Nn(u[g]);if(!(E=o!=null&&l(o,O)))break;o=o[O]}return E||++g!=b?E:!!(b=o==null?0:o.length)&&Gn(b)&&ur(O,b)&&(ie(o)||Eo(o))}function Qo(o){return typeof o.constructor!="function"||Zr(o)?{}:Go(ea(o))}function sr(o){return ie(o)||Eo(o)||!!(jl&&o&&o[jl])}function ur(o,u){var l=typeof o;return!!(u=u??c)&&(l=="number"||l!="symbol"&&Ui.test(o))&&o>-1&&o%1==0&&o<u}function Ue(o,u,l){if(!We(l))return!1;var g=typeof u;return!!(g=="number"?$e(l)&&ur(u,l.length):g=="string"&&u in l)&&Mr(l[u],o)}function Dr(o,u){if(ie(o))return!1;var l=typeof o;return!(l!="number"&&l!="symbol"&&l!="boolean"&&o!=null&&!jn(o))||Vt.test(o)||!bi.test(o)||u!=null&&o in zt(u)}function Kn(o){var u=So(o),l=P[u];if(typeof l!="function"||!(u in ce.prototype))return!1;if(o===l)return!0;var g=gs(l);return!!g&&o===g[0]}(il&&cn(new il(new ArrayBuffer(1)))!=gt||_a&&cn(new _a)!=B||oa&&cn(oa.resolve())!=q||ii&&cn(new ii)!=X||Ko&&cn(new Ko)!=ct)&&(cn=function(o){var u=tn(o),l=u==z?o.constructor:n,g=l?so(l):"";if(g)switch(g){case gf:return gt;case bl:return B;case cc:return q;case rf:return X;case Jf:return ct}return u});var Al=Ca?yi:Ir;function Zr(o){var u=o&&o.constructor;return o===(typeof u=="function"&&u.prototype||hi)}function Wl(o){return o==o&&!We(o)}function dc(o,u){return function(l){return l!=null&&l[o]===u&&(u!==n||o in zt(l))}}function go(o,u,l){return u=sn(u===n?o.length-1:u,0),function(){for(var g=arguments,b=-1,E=sn(g.length-u,0),O=pt(E);++b<E;)O[b]=g[u+b];b=-1;for(var R=pt(u+1);++b<u;)R[b]=g[b];return R[u]=l(O),Mn(o,this,R)}}function Ws(o,u){return u.length<2?o:Vr(o,Un(u,0,-1))}function ao(o,u){if((u!=="constructor"||typeof o[u]!="function")&&u!="__proto__")return o[u]}var kl=sl(Yl),gi=Of||function(o,u){return ze.setTimeout(o,u)},no=sl(hs);function As(o,u,l){var g=u+"";return no(o,function(b,E){var O=E.length;if(!O)return b;var R=O-1;return E[R]=(O>1?"& ":"")+E[R],E=E.join(O>2?", ":" "),b.replace(Rt,`{
/* [wrapped with `+E+`] */
`)}(g,function(b,E){return Bn(h,function(O){var R="_."+O[0];E&O[1]&&!br(b,R)&&b.push(R)}),b.sort()}(function(b){var E=b.match(Xt);return E?E[1].split(Kt):[]}(g),l)))}function sl(o){var u=0,l=0;return function(){var g=pa(),b=16-(g-l);if(l=g,b>0){if(++u>=800)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Hs(o,u){var l=-1,g=o.length,b=g-1;for(u=u===n?g:u;++l<u;){var E=fs(l,b),O=o[E];o[E]=o[l],o[l]=O}return o.length=u,o}var Ic=function(){var o=Ju(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(rt,function(b,E,O,R){g.push(O?R.replace(Ze,"$1"):E||b)}),g},function(l){return u.size===500&&u.clear(),l}),u=o.cache;return o}();function Nn(o){if(typeof o=="string"||jn(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function so(o){if(o!=null){try{return pi.call(o)}catch{}try{return o+""}catch{}}return""}function Au(o){if(o instanceof ce)return o.clone();var u=new or(o.__wrapped__,o.__chain__);return u.__actions__=An(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var Ql=ue(function(o,u){return Je(o)?Ro(o,gn(u,1,Je,!0)):[]}),mf=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),Yt(l,2)):[]}),ch=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),n,l):[]});function Zl(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),jr(o,Yt(u,3),b)}function uo(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g-1;return l!==n&&(b=se(l),b=l<0?sn(g+b,0):on(b,g-1)),jr(o,Yt(u,3),b,!0)}function Oa(o){return o!=null&&o.length?gn(o,1):[]}function lo(o){return o&&o.length?o[0]:n}var Ml=ue(function(o){var u=Be(o,wr);return u.length&&u[0]===o[0]?pc(u):[]}),vf=ue(function(o){var u=Ar(o),l=Be(o,wr);return u===Ar(l)?u=n:l.pop(),l.length&&l[0]===o[0]?pc(l,Yt(u,2)):[]}),yf=ue(function(o){var u=Ar(o),l=Be(o,wr);return(u=typeof u=="function"?u:n)&&l.pop(),l.length&&l[0]===o[0]?pc(l,n,u):[]});function Ar(o){var u=o==null?0:o.length;return u?o[u-1]:n}var ul=ue(tu);function tu(o,u){return o&&o.length&&u&&u.length?Dl(o,u):o}var fh=Ei(function(o,u){var l=o==null?0:o.length,g=Gl(o,u);return zl(o,Be(u,function(b){return ur(b,l)?+b:b}).sort(ps)),g});function Gu(o){return o==null?o:xh.call(o)}var Dc=ue(function(o){return Yn(gn(o,1,Je,!0))}),Hl=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Yn(gn(o,1,Je,!0),Yt(u,2))}),Qf=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Yn(gn(o,1,Je,!0),n,u)});function Cc(o){if(!o||!o.length)return[];var u=0;return o=Br(o,function(l){if(Je(l))return u=sn(l.length,u),!0}),Il(u,function(l){return Be(o,Da(l))})}function su(o,u){if(!o||!o.length)return[];var l=Cc(o);return u==null?l:Be(l,function(g){return Mn(u,n,g)})}var Mh=ue(function(o,u){return Je(o)?Ro(o,u):[]}),Fh=ue(function(o){return Ri(Br(o,Je))}),Ph=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Ri(Br(o,Je),Yt(u,2))}),hh=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Ri(Br(o,Je),n,u)}),Th=ue(Cc),If=ue(function(o){var u=o.length,l=u>1?o[u-1]:n;return l=typeof l=="function"?(o.pop(),l):n,su(o,l)});function Zf(o){var u=P(o);return u.__chain__=!0,u}function Yu(o,u){return u(o)}var th=Ei(function(o){var u=o.length,l=u?o[0]:0,g=this.__wrapped__,b=function(E){return Gl(E,o)};return!(u>1||this.__actions__.length)&&g instanceof ce&&ur(l)?((g=g.slice(l,+l+(u?1:0))).__actions__.push({func:Yu,args:[b],thisArg:n}),new or(g,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E})):this.thru(b)}),ms=ji(function(o,u,l){Ce.call(o,l)?++o[l]:Rr(o,l,1)}),Bf=va(Zl),af=va(uo);function wf(o,u){return(ie(o)?Bn:ki)(o,Yt(u,3))}function sf(o,u){return(ie(o)?tf:Ss)(o,Yt(u,3))}var Dh=ji(function(o,u,l){Ce.call(o,l)?o[l].push(u):Rr(o,l,[u])}),Rf=ue(function(o,u,l){var g=-1,b=typeof u=="function",E=$e(o)?pt(o.length):[];return ki(o,function(O){E[++g]=b?Mn(u,O,l):Po(O,u,l)}),E}),tc=ji(function(o,u,l){Rr(o,l,u)});function uu(o,u){return(ie(o)?Be:ar)(o,Yt(u,3))}var eh=ji(function(o,u,l){o[l?0:1].push(u)},function(){return[[],[]]}),Ch=ue(function(o,u){if(o==null)return[];var l=u.length;return l>1&&Ue(o,u[0],u[1])?u=[]:l>2&&Ue(u[0],u[1],u[2])&&(u=[u[0]]),Qs(o,gn(u,1),[])}),Xu=Xf||function(){return ze.Date.now()};function uf(o,u,l){return u=l?n:u,u=o&&u==null?o.length:u,gr(o,a,n,n,n,n,u)}function Bc(o,u){var l;if(typeof u!="function")throw new Pe(t);return o=se(o),function(){return--o>0&&(l=u.apply(this,arguments)),o<=1&&(u=n),l}}var ec=ue(function(o,u,l){var g=1;if(l.length){var b=Di(l,vi(ec));g|=i}return gr(o,g,u,l,b)}),bf=ue(function(o,u,l){var g=3;if(l.length){var b=Di(l,vi(bf));g|=i}return gr(u,g,o,l,b)});function jf(o,u,l){var g,b,E,O,R,W,A=0,_=!1,T=!1,U=!0;if(typeof o!="function")throw new Pe(t);function G(ot){var wt=g,yt=b;return g=b=n,A=ot,O=o.apply(yt,wt)}function Z(ot){var wt=ot-W;return W===n||wt>=u||wt<0||T&&ot-A>=E}function K(){var ot=Xu();if(Z(ot))return tt(ot);R=gi(K,function(wt){var yt=u-(wt-W);return T?on(yt,E-(wt-A)):yt}(ot))}function tt(ot){return R=n,U&&g?G(ot):(g=b=n,O)}function ut(){var ot=Xu(),wt=Z(ot);if(g=arguments,b=this,W=ot,wt){if(R===n)return function(yt){return A=yt,R=gi(K,u),_?G(yt):O}(W);if(T)return Jl(R),R=gi(K,u),G(W)}return R===n&&(R=gi(K,u)),O}return u=Qe(u)||0,We(l)&&(_=!!l.leading,E=(T="maxWait"in l)?sn(Qe(l.maxWait)||0,u):E,U="trailing"in l?!!l.trailing:U),ut.cancel=function(){R!==n&&Jl(R),A=0,g=W=b=R=n},ut.flush=function(){return R===n?O:tt(Xu())},ut}var ia=ue(function(o,u){return $a(o,1,u)}),ka=ue(function(o,u,l){return $a(o,Qe(u)||0,l)});function Ju(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Pe(t);var l=function(){var g=arguments,b=u?u.apply(this,g):g[0],E=l.cache;if(E.has(b))return E.get(b);var O=o.apply(this,g);return l.cache=E.set(b,O)||E,O};return l.cache=new(Ju.Cache||Fr),l}function ks(o){if(typeof o!="function")throw new Pe(t);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}Ju.Cache=Fr;var nh=Xl(function(o,u){var l=(u=u.length==1&&ie(u[0])?Be(u[0],Ln(Yt())):Be(gn(u,1),Ln(Yt()))).length;return ue(function(g){for(var b=-1,E=on(g.length,l);++b<E;)g[b]=u[b].call(this,g[b]);return Mn(o,this,g)})}),Fl=ue(function(o,u){var l=Di(u,vi(Fl));return gr(o,i,n,u,l)}),lf=ue(function(o,u){var l=Di(u,vi(lf));return gr(o,64,n,u,l)}),ll=Ei(function(o,u){return gr(o,256,n,n,n,u)});function Mr(o,u){return o===u||o!=o&&u!=u}var Lf=Ka(Ho),gc=Ka(function(o,u){return o>=u}),Eo=Js(function(){return arguments}())?Js:function(o){return Le(o)&&Ce.call(o,"callee")&&!Oc.call(o,"callee")},ie=pt.isArray,_c=Ru?Ln(Ru):function(o){return Le(o)&&tn(o)==ft};function $e(o){return o!=null&&Gn(o.length)&&!yi(o)}function Je(o){return Le(o)&&$e(o)}var Nr=xc||Ir,$o=Ji?Ln(Ji):function(o){return Le(o)&&tn(o)==C};function lu(o){if(!Le(o))return!1;var u=tn(o);return u==k||u=="[object DOMException]"||typeof o.message=="string"&&typeof o.name=="string"&&!la(o)}function yi(o){if(!We(o))return!1;var u=tn(o);return u==M||u==N||u=="[object AsyncFunction]"||u=="[object Proxy]"}function cu(o){return typeof o=="number"&&o==se(o)}function Gn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function We(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Le(o){return o!=null&&typeof o=="object"}var Qn=qn?Ln(qn):function(o){return Le(o)&&cn(o)==B};function lr(o){return typeof o=="number"||Le(o)&&tn(o)==L}function la(o){if(!Le(o)||tn(o)!=z)return!1;var u=ea(o);if(u===null)return!0;var l=Ce.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&pi.call(l)==Yc}var Li=rl?Ln(rl):function(o){return Le(o)&&tn(o)==V},Qu=Zc?Ln(Zc):function(o){return Le(o)&&cn(o)==X};function ku(o){return typeof o=="string"||!ie(o)&&Le(o)&&tn(o)==nt}function jn(o){return typeof o=="symbol"||Le(o)&&tn(o)==it}var xn=wc?Ln(wc):function(o){return Le(o)&&Gn(o.length)&&!!De[tn(o)]},Wo=Ka(dr),Ae=Ka(function(o,u){return o<=u});function cl(o){if(!o)return[];if($e(o))return ku(o)?xr(o):An(o);if(io&&o[io])return function(l){for(var g,b=[];!(g=l.next()).done;)b.push(g.value);return b}(o[io]());var u=cn(o);return(u==B?Gi:u==X?ns:Zn)(o)}function ui(o){return o?(o=Qe(o))===s||o===-1/0?17976931348623157e292*(o<0?-1:1):o==o?o:0:o===0?o:0}function se(o){var u=ui(o),l=u%1;return u==u?l?u-l:u:0}function vs(o){return o?Qi(se(o),0,d):0}function Qe(o){if(typeof o=="number")return o;if(jn(o))return f;if(We(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=We(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Bl(o);var l=rn.test(o);return l||Yi.test(o)?tp(o.slice(2),l?2:8):je.test(o)?f:+o}function ys(o){return $n(o,Xn(o))}function we(o){return o==null?"":fn(o)}var Oh=Mi(function(o,u){if(Zr(u)||$e(u))$n(u,en(u),o);else for(var l in u)Ce.call(u,l)&&Fo(o,l,u[l])}),mo=Mi(function(o,u){$n(u,Xn(u),o)}),Vs=Mi(function(o,u,l,g){$n(u,Xn(u),o,g)}),nc=Mi(function(o,u,l,g){$n(u,en(u),o,g)}),Pn=Ei(Gl),Na=ue(function(o,u){o=zt(o);var l=-1,g=u.length,b=g>2?u[2]:n;for(b&&Ue(u[0],u[1],b)&&(g=1);++l<g;)for(var E=u[l],O=Xn(E),R=-1,W=O.length;++R<W;){var A=O[R],_=o[A];(_===n||Mr(_,hi[A])&&!Ce.call(o,A))&&(o[A]=E[A])}return o}),as=ue(function(o){return o.push(n,Ga),Mn(Fs,n,o)});function rc(o,u,l){var g=o==null?n:Vr(o,u);return g===n?l:g}function Fi(o,u){return o!=null&&$l(o,u,xl)}var eu=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),o[u]=l},Tl(_n)),rh=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),Ce.call(o,u)?o[u].push(l):o[u]=[l]},Yt),Ms=ue(Po);function en(o){return $e(o)?Wu(o):Ta(o)}function Xn(o){return $e(o)?Wu(o,!0):function(u){if(!We(u))return function(E){var O=[];if(E!=null)for(var R in zt(E))O.push(R);return O}(u);var l=Zr(u),g=[];for(var b in u)(b!="constructor"||!l&&Ce.call(u,b))&&g.push(b);return g}(o)}var Mu=Mi(function(o,u,l){Si(o,u,l)}),Fs=Mi(function(o,u,l,g){Si(o,u,l,g)}),Fu=Ei(function(o,u){var l={};if(o==null)return l;var g=!1;u=Be(u,function(E){return E=ai(E,o),g||(g=E.length>1),E}),$n(o,po(o),l),g&&(l=yr(l,7,Nf));for(var b=u.length;b--;)oi(l,u[b]);return l}),ph=Ei(function(o,u){return o==null?{}:function(l,g){return Zi(l,g,function(b,E){return Fi(l,E)})}(o,u)});function Wn(o,u){if(o==null)return{};var l=Be(po(o),function(g){return[g]});return u=Yt(u),Zi(o,l,function(g,b){return u(g,b[0])})}var Pl=Ul(en),Sc=Ul(Xn);function Zn(o){return o==null?[]:yl(o,en(o))}var Tn=Lo(function(o,u,l){return u=u.toLowerCase(),o+(l?ti(u):u)});function ti(o){return Zo(we(o).toLowerCase())}function li(o){return(o=we(o))&&o.replace(xo,Gc).replace(ln,"")}var No=Lo(function(o,u,l){return o+(l?"-":"")+u.toLowerCase()}),Xa=Lo(function(o,u,l){return o+(l?" ":"")+u.toLowerCase()}),Ec=Eu("toLowerCase"),co=Lo(function(o,u,l){return o+(l?"_":"")+u.toLowerCase()}),Rc=Lo(function(o,u,l){return o+(l?" ":"")+Zo(u)}),Pu=Lo(function(o,u,l){return o+(l?" ":"")+u.toUpperCase()}),Zo=Eu("toUpperCase");function fu(o,u,l){return o=we(o),(u=l?n:u)===n?function(g){return es.test(g)}(o)?function(g){return g.match(hr)||[]}(o):function(g){return g.match(ge)||[]}(o):o.match(u)||[]}var Ps=ue(function(o,u){try{return Mn(o,n,u)}catch(l){return lu(l)?l:new Jt(l)}}),Ja=Ei(function(o,u){return Bn(u,function(l){l=Nn(l),Rr(o,l,ec(o[l],o))}),o});function Tl(o){return function(){return o}}var hu=Uo(),fl=Uo(!0);function _n(o){return o}function ic(o){return Cu(typeof o=="function"?o:yr(o,1))}var ca=ue(function(o,u){return function(l){return Po(l,o,u)}}),Jc=ue(function(o,u){return function(l){return Po(o,l,u)}});function Qa(o,u,l){var g=en(u),b=ma(u,g);l!=null||We(u)&&(b.length||!g.length)||(l=u,u=o,o=this,b=ma(u,en(u)));var E=!(We(l)&&"chain"in l&&!l.chain),O=yi(o);return Bn(b,function(R){var W=u[R];o[R]=W,O&&(o.prototype[R]=function(){var A=this.__chain__;if(E||A){var _=o(this.__wrapped__);return(_.__actions__=An(this.__actions__)).push({func:W,args:arguments,thisArg:o}),_.__chain__=A,_}return W.apply(o,Er([this.value()],arguments))})}),o}function hl(){}var Ac=Oo(Be),cf=Oo(Cs),xf=Oo(Is);function Io(o){return Dr(o)?Da(Nn(o)):function(u){return function(l){return Vr(l,u)}}(o)}var fr=Ku(),ta=Ku(!0);function qr(){return[]}function Ir(){return!1}var Ma,jc=eo(function(o,u){return o+u},0),ws=ra("ceil"),Zu=eo(function(o,u){return o/u},1),ff=ra("floor"),zf=eo(function(o,u){return o*u},1),oc=ra("round"),Qc=eo(function(o,u){return o-u},0);return P.after=function(o,u){if(typeof u!="function")throw new Pe(t);return o=se(o),function(){if(--o<1)return u.apply(this,arguments)}},P.ary=uf,P.assign=Oh,P.assignIn=mo,P.assignInWith=Vs,P.assignWith=nc,P.at=Pn,P.before=Bc,P.bind=ec,P.bindAll=Ja,P.bindKey=bf,P.castArray=function(){if(!arguments.length)return[];var o=arguments[0];return ie(o)?o:[o]},P.chain=Zf,P.chunk=function(o,u,l){u=(l?Ue(o,u,l):u===n)?1:sn(se(u),0);var g=o==null?0:o.length;if(!g||u<1)return[];for(var b=0,E=0,O=pt(Ua(g/u));b<g;)O[E++]=Un(o,b,b+=u);return O},P.compact=function(o){for(var u=-1,l=o==null?0:o.length,g=0,b=[];++u<l;){var E=o[u];E&&(b[g++]=E)}return b},P.concat=function(){var o=arguments.length;if(!o)return[];for(var u=pt(o-1),l=arguments[0],g=o;g--;)u[g-1]=arguments[g];return Er(ie(l)?An(l):[l],gn(u,1))},P.cond=function(o){var u=o==null?0:o.length,l=Yt();return o=u?Be(o,function(g){if(typeof g[1]!="function")throw new Pe(t);return[l(g[0]),g[1]]}):[],ue(function(g){for(var b=-1;++b<u;){var E=o[b];if(Mn(E[0],this,g))return Mn(E[1],this,g)}})},P.conforms=function(o){return function(u){var l=en(u);return function(g){return Vu(g,u,l)}}(yr(o,1))},P.constant=Tl,P.countBy=ms,P.create=function(o,u){var l=Go(o);return u==null?l:Hu(l,u)},P.curry=function o(u,l,g){var b=gr(u,8,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.curryRight=function o(u,l,g){var b=gr(u,16,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.debounce=jf,P.defaults=Na,P.defaultsDeep=as,P.defer=ia,P.delay=ka,P.difference=Ql,P.differenceBy=mf,P.differenceWith=ch,P.drop=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=l||u===n?1:se(u))<0?0:u,g):[]},P.dropRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,0,(u=g-(u=l||u===n?1:se(u)))<0?0:u):[]},P.dropRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0,!0):[]},P.dropWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0):[]},P.fill=function(o,u,l,g){var b=o==null?0:o.length;return b?(l&&typeof l!="number"&&Ue(o,u,l)&&(l=0,g=b),function(E,O,R,W){var A=E.length;for((R=se(R))<0&&(R=-R>A?0:A+R),(W=W===n||W>A?A:se(W))<0&&(W+=A),W=R>W?0:vs(W);R<W;)E[R++]=O;return E}(o,u,l,g)):[]},P.filter=function(o,u){return(ie(o)?Br:au)(o,Yt(u,3))},P.flatMap=function(o,u){return gn(uu(o,u),1)},P.flatMapDeep=function(o,u){return gn(uu(o,u),s)},P.flatMapDepth=function(o,u,l){return l=l===n?1:se(l),gn(uu(o,u),l)},P.flatten=Oa,P.flattenDeep=function(o){return o!=null&&o.length?gn(o,s):[]},P.flattenDepth=function(o,u){return o!=null&&o.length?gn(o,u=u===n?1:se(u)):[]},P.flip=function(o){return gr(o,512)},P.flow=hu,P.flowRight=fl,P.fromPairs=function(o){for(var u=-1,l=o==null?0:o.length,g={};++u<l;){var b=o[u];g[b[0]]=b[1]}return g},P.functions=function(o){return o==null?[]:ma(o,en(o))},P.functionsIn=function(o){return o==null?[]:ma(o,Xn(o))},P.groupBy=Dh,P.initial=function(o){return o!=null&&o.length?Un(o,0,-1):[]},P.intersection=Ml,P.intersectionBy=vf,P.intersectionWith=yf,P.invert=eu,P.invertBy=rh,P.invokeMap=Rf,P.iteratee=ic,P.keyBy=tc,P.keys=en,P.keysIn=Xn,P.map=uu,P.mapKeys=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,u(g,b,E),g)}),l},P.mapValues=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,b,u(g,b,E))}),l},P.matches=function(o){return zs(yr(o,1))},P.matchesProperty=function(o,u){return Wi(o,yr(u,1))},P.memoize=Ju,P.merge=Mu,P.mergeWith=Fs,P.method=ca,P.methodOf=Jc,P.mixin=Qa,P.negate=ks,P.nthArg=function(o){return o=se(o),ue(function(u){return _u(u,o)})},P.omit=Fu,P.omitBy=function(o,u){return Wn(o,ks(Yt(u)))},P.once=function(o){return Bc(2,o)},P.orderBy=function(o,u,l,g){return o==null?[]:(ie(u)||(u=u==null?[]:[u]),ie(l=g?n:l)||(l=l==null?[]:[l]),Qs(o,u,l))},P.over=Ac,P.overArgs=nh,P.overEvery=cf,P.overSome=xf,P.partial=Fl,P.partialRight=lf,P.partition=eh,P.pick=ph,P.pickBy=Wn,P.property=Io,P.propertyOf=function(o){return function(u){return o==null?n:Vr(o,u)}},P.pull=ul,P.pullAll=tu,P.pullAllBy=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,Yt(l,2)):o},P.pullAllWith=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,n,l):o},P.pullAt=fh,P.range=fr,P.rangeRight=ta,P.rearg=ll,P.reject=function(o,u){return(ie(o)?Br:au)(o,ks(Yt(u,3)))},P.remove=function(o,u){var l=[];if(!o||!o.length)return l;var g=-1,b=[],E=o.length;for(u=Yt(u,3);++g<E;){var O=o[g];u(O,g,o)&&(l.push(O),b.push(g))}return zl(o,b),l},P.rest=function(o,u){if(typeof o!="function")throw new Pe(t);return ue(o,u=u===n?u:se(u))},P.reverse=Gu,P.sampleSize=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),(ie(o)?Bi:mi)(o,u)},P.set=function(o,u,l){return o==null?o:os(o,u,l)},P.setWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:os(o,u,l,g)},P.shuffle=function(o){return(ie(o)?Kl:ol)(o)},P.slice=function(o,u,l){var g=o==null?0:o.length;return g?(l&&typeof l!="number"&&Ue(o,u,l)?(u=0,l=g):(u=u==null?0:se(u),l=l===n?g:se(l)),Un(o,u,l)):[]},P.sortBy=Ch,P.sortedUniq=function(o){return o&&o.length?Or(o):[]},P.sortedUniqBy=function(o,u){return o&&o.length?Or(o,Yt(u,2)):[]},P.split=function(o,u,l){return l&&typeof l!="number"&&Ue(o,u,l)&&(u=l=n),(l=l===n?d:l>>>0)?(o=we(o))&&(typeof u=="string"||u!=null&&!Li(u))&&!(u=fn(u))&&ha(o)?Ur(xr(o),0,l):o.split(u,l):[]},P.spread=function(o,u){if(typeof o!="function")throw new Pe(t);return u=u==null?0:sn(se(u),0),ue(function(l){var g=l[u],b=Ur(l,0,u);return g&&Er(b,g),Mn(o,this,b)})},P.tail=function(o){var u=o==null?0:o.length;return u?Un(o,1,u):[]},P.take=function(o,u,l){return o&&o.length?Un(o,0,(u=l||u===n?1:se(u))<0?0:u):[]},P.takeRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=g-(u=l||u===n?1:se(u)))<0?0:u,g):[]},P.takeRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!1,!0):[]},P.takeWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3)):[]},P.tap=function(o,u){return u(o),o},P.throttle=function(o,u,l){var g=!0,b=!0;if(typeof o!="function")throw new Pe(t);return We(l)&&(g="leading"in l?!!l.leading:g,b="trailing"in l?!!l.trailing:b),jf(o,u,{leading:g,maxWait:u,trailing:b})},P.thru=Yu,P.toArray=cl,P.toPairs=Pl,P.toPairsIn=Sc,P.toPath=function(o){return ie(o)?Be(o,Nn):jn(o)?[o]:An(Ic(we(o)))},P.toPlainObject=ys,P.transform=function(o,u,l){var g=ie(o),b=g||Nr(o)||xn(o);if(u=Yt(u,4),l==null){var E=o&&o.constructor;l=b?g?new E:[]:We(o)&&yi(E)?Go(ea(o)):{}}return(b?Bn:bn)(o,function(O,R,W){return u(l,O,R,W)}),l},P.unary=function(o){return uf(o,1)},P.union=Dc,P.unionBy=Hl,P.unionWith=Qf,P.uniq=function(o){return o&&o.length?Yn(o):[]},P.uniqBy=function(o,u){return o&&o.length?Yn(o,Yt(u,2)):[]},P.uniqWith=function(o,u){return u=typeof u=="function"?u:n,o&&o.length?Yn(o,n,u):[]},P.unset=function(o,u){return o==null||oi(o,u)},P.unzip=Cc,P.unzipWith=su,P.update=function(o,u,l){return o==null?o:na(o,u,di(l))},P.updateWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:na(o,u,di(l),g)},P.values=Zn,P.valuesIn=function(o){return o==null?[]:yl(o,Xn(o))},P.without=Mh,P.words=fu,P.wrap=function(o,u){return Fl(di(u),o)},P.xor=Fh,P.xorBy=Ph,P.xorWith=hh,P.zip=Th,P.zipObject=function(o,u){return Yo(o||[],u||[],Fo)},P.zipObjectDeep=function(o,u){return Yo(o||[],u||[],os)},P.zipWith=If,P.entries=Pl,P.entriesIn=Sc,P.extend=mo,P.extendWith=Vs,Qa(P,P),P.add=jc,P.attempt=Ps,P.camelCase=Tn,P.capitalize=ti,P.ceil=ws,P.clamp=function(o,u,l){return l===n&&(l=u,u=n),l!==n&&(l=(l=Qe(l))==l?l:0),u!==n&&(u=(u=Qe(u))==u?u:0),Qi(Qe(o),u,l)},P.clone=function(o){return yr(o,4)},P.cloneDeep=function(o){return yr(o,5)},P.cloneDeepWith=function(o,u){return yr(o,5,u=typeof u=="function"?u:n)},P.cloneWith=function(o,u){return yr(o,4,u=typeof u=="function"?u:n)},P.conformsTo=function(o,u){return u==null||Vu(o,u,en(u))},P.deburr=li,P.defaultTo=function(o,u){return o==null||o!=o?u:o},P.divide=Zu,P.endsWith=function(o,u,l){o=we(o),u=fn(u);var g=o.length,b=l=l===n?g:Qi(se(l),0,g);return(l-=u.length)>=0&&o.slice(l,b)==u},P.eq=Mr,P.escape=function(o){return(o=we(o))&&He.test(o)?o.replace(Oe,Tc):o},P.escapeRegExp=function(o){return(o=we(o))&&bt.test(o)?o.replace(dt,"\\$&"):o},P.every=function(o,u,l){var g=ie(o)?Cs:fc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.find=Bf,P.findIndex=Zl,P.findKey=function(o,u){return ql(o,Yt(u,3),bn)},P.findLast=af,P.findLastIndex=uo,P.findLastKey=function(o,u){return ql(o,Yt(u,3),Sa)},P.floor=ff,P.forEach=wf,P.forEachRight=sf,P.forIn=function(o,u){return o==null?o:hc(o,Yt(u,3),Xn)},P.forInRight=function(o,u){return o==null?o:Ha(o,Yt(u,3),Xn)},P.forOwn=function(o,u){return o&&bn(o,Yt(u,3))},P.forOwnRight=function(o,u){return o&&Sa(o,Yt(u,3))},P.get=rc,P.gt=Lf,P.gte=gc,P.has=function(o,u){return o!=null&&$l(o,u,Ls)},P.hasIn=Fi,P.head=lo,P.identity=_n,P.includes=function(o,u,l,g){o=$e(o)?o:Zn(o),l=l&&!g?se(l):0;var b=o.length;return l<0&&(l=sn(b+l,0)),ku(o)?l<=b&&o.indexOf(u,l)>-1:!!b&&Ii(o,u,l)>-1},P.indexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),Ii(o,u,b)},P.inRange=function(o,u,l){return u=ui(u),l===n?(l=u,u=0):l=ui(l),function(g,b,E){return g>=on(b,E)&&g<sn(b,E)}(o=Qe(o),u,l)},P.invoke=Ms,P.isArguments=Eo,P.isArray=ie,P.isArrayBuffer=_c,P.isArrayLike=$e,P.isArrayLikeObject=Je,P.isBoolean=function(o){return o===!0||o===!1||Le(o)&&tn(o)==w},P.isBuffer=Nr,P.isDate=$o,P.isElement=function(o){return Le(o)&&o.nodeType===1&&!la(o)},P.isEmpty=function(o){if(o==null)return!0;if($e(o)&&(ie(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||xn(o)||Eo(o)))return!o.length;var u=cn(o);if(u==B||u==X)return!o.size;if(Zr(o))return!Ta(o).length;for(var l in o)if(Ce.call(o,l))return!1;return!0},P.isEqual=function(o,u){return _o(o,u)},P.isEqualWith=function(o,u,l){var g=(l=typeof l=="function"?l:n)?l(o,u):n;return g===n?_o(o,u,n,l):!!g},P.isError=lu,P.isFinite=function(o){return typeof o=="number"&&Nc(o)},P.isFunction=yi,P.isInteger=cu,P.isLength=Gn,P.isMap=Qn,P.isMatch=function(o,u){return o===u||jo(o,u,er(u))},P.isMatchWith=function(o,u,l){return l=typeof l=="function"?l:n,jo(o,u,er(u),l)},P.isNaN=function(o){return lr(o)&&o!=+o},P.isNative=function(o){if(Al(o))throw new Jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qu(o)},P.isNil=function(o){return o==null},P.isNull=function(o){return o===null},P.isNumber=lr,P.isObject=We,P.isObjectLike=Le,P.isPlainObject=la,P.isRegExp=Li,P.isSafeInteger=function(o){return cu(o)&&o>=-9007199254740991&&o<=c},P.isSet=Qu,P.isString=ku,P.isSymbol=jn,P.isTypedArray=xn,P.isUndefined=function(o){return o===n},P.isWeakMap=function(o){return Le(o)&&cn(o)==ct},P.isWeakSet=function(o){return Le(o)&&tn(o)=="[object WeakSet]"},P.join=function(o,u){return o==null?"":Wh.call(o,u)},P.kebabCase=No,P.last=Ar,P.lastIndexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g;return l!==n&&(b=(b=se(l))<0?sn(g+b,0):on(b,g-1)),u==u?function(E,O,R){for(var W=R+1;W--;)if(E[W]===O)return W;return W}(o,u,b):jr(o,Bs,b,!0)},P.lowerCase=Xa,P.lowerFirst=Ec,P.lt=Wo,P.lte=Ae,P.max=function(o){return o&&o.length?Wa(o,_n,Ho):n},P.maxBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),Ho):n},P.mean=function(o){return xu(o,_n)},P.meanBy=function(o,u){return xu(o,Yt(u,2))},P.min=function(o){return o&&o.length?Wa(o,_n,dr):n},P.minBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),dr):n},P.stubArray=qr,P.stubFalse=Ir,P.stubObject=function(){return{}},P.stubString=function(){return""},P.stubTrue=function(){return!0},P.multiply=zf,P.nth=function(o,u){return o&&o.length?_u(o,se(u)):n},P.noConflict=function(){return ze._===this&&(ze._=pf),this},P.noop=hl,P.now=Xu,P.pad=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;if(!u||g>=u)return o;var b=(u-g)/2;return Xo($u(b),l)+o+Xo(Ua(b),l)},P.padEnd=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?o+Xo(u-g,l):o},P.padStart=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?Xo(u-g,l)+o:o},P.parseInt=function(o,u,l){return l||u==null?u=0:u&&(u=+u),Du(we(o).replace(Ot,""),u||0)},P.random=function(o,u,l){if(l&&typeof l!="boolean"&&Ue(o,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof o=="boolean"&&(l=o,o=n)),o===n&&u===n?(o=0,u=1):(o=ui(o),u===n?(u=o,o=0):u=ui(u)),o>u){var g=o;o=u,u=g}if(l||o%1||u%1){var b=df();return on(o+b*(u-o+xa("1e-"+((b+"").length-1))),u)}return fs(o,u)},P.reduce=function(o,u,l){var g=ie(o)?Jr:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,ki)},P.reduceRight=function(o,u,l){var g=ie(o)?ef:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,Ss)},P.repeat=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),Us(we(o),u)},P.replace=function(){var o=arguments,u=we(o[0]);return o.length<3?u:u.replace(o[1],o[2])},P.result=function(o,u,l){var g=-1,b=(u=ai(u,o)).length;for(b||(b=1,o=n);++g<b;){var E=o==null?n:o[Nn(u[g])];E===n&&(g=b,E=l),o=yi(E)?E.call(o):E}return o},P.round=oc,P.runInContext=J,P.sample=function(o){return(ie(o)?En:Es)(o)},P.size=function(o){if(o==null)return 0;if($e(o))return ku(o)?Wr(o):o.length;var u=cn(o);return u==B||u==X?o.size:Ta(o).length},P.snakeCase=co,P.some=function(o,u,l){var g=ie(o)?Is:Xc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.sortedIndex=function(o,u){return Fn(o,u)},P.sortedIndexBy=function(o,u,l){return to(o,u,Yt(l,2))},P.sortedIndexOf=function(o,u){var l=o==null?0:o.length;if(l){var g=Fn(o,u);if(g<l&&Mr(o[g],u))return g}return-1},P.sortedLastIndex=function(o,u){return Fn(o,u,!0)},P.sortedLastIndexBy=function(o,u,l){return to(o,u,Yt(l,2),!0)},P.sortedLastIndexOf=function(o,u){if(o!=null&&o.length){var l=Fn(o,u,!0)-1;if(Mr(o[l],u))return l}return-1},P.startCase=Rc,P.startsWith=function(o,u,l){return o=we(o),l=l==null?0:Qi(se(l),0,o.length),u=fn(u),o.slice(l,l+u.length)==u},P.subtract=Qc,P.sum=function(o){return o&&o.length?Ys(o,_n):0},P.sumBy=function(o,u){return o&&o.length?Ys(o,Yt(u,2)):0},P.template=function(o,u,l){var g=P.templateSettings;l&&Ue(o,u,l)&&(u=n),o=we(o),u=Vs({},u,g,$s);var b,E,O=Vs({},u.imports,g.imports,$s),R=en(O),W=yl(O,R),A=0,_=u.interpolate||Ai,T="__p += '",U=Ne((u.escape||Ai).source+"|"+_.source+"|"+(_===cr?Xe:Ai).source+"|"+(u.evaluate||Ai).source+"|$","g"),G="//# sourceURL="+(Ce.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;o.replace(U,function(tt,ut,ot,wt,yt,jt){return ot||(ot=wt),T+=o.slice(A,jt).replace(us,Lu),ut&&(b=!0,T+=`' +
__e(`+ut+`) +
'`),yt&&(E=!0,T+=`';
`+yt+`;
__p += '`),ot&&(T+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),A=jt+tt.length,tt}),T+=`';
`;var Z=Ce.call(u,"variable")&&u.variable;if(Z){if(Ee.test(Z))throw new Jt("Invalid `variable` option passed into `_.template`")}else T=`with (obj) {
`+T+`
}
`;T=(E?T.replace(Lt,""):T).replace(ee,"$1").replace(pe,"$1;"),T="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var K=Ps(function(){return Fe(R,G+"return "+T).apply(n,W)});if(K.source=T,lu(K))throw K;return K},P.times=function(o,u){if((o=se(o))<1||o>c)return[];var l=d,g=on(o,d);u=Yt(u),o-=d;for(var b=Il(g,u);++l<o;)u(l);return b},P.toFinite=ui,P.toInteger=se,P.toLength=vs,P.toLower=function(o){return we(o).toLowerCase()},P.toNumber=Qe,P.toSafeInteger=function(o){return o?Qi(se(o),-9007199254740991,c):o===0?o:0},P.toString=we,P.toUpper=function(o){return we(o).toUpperCase()},P.trim=function(o,u,l){if((o=we(o))&&(l||u===n))return Bl(o);if(!o||!(u=fn(u)))return o;var g=xr(o),b=xr(u);return Ur(g,wl(g,b),Xs(g,b)+1).join("")},P.trimEnd=function(o,u,l){if((o=we(o))&&(l||u===n))return o.slice(0,La(o)+1);if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,0,Xs(g,xr(u))+1).join("")},P.trimStart=function(o,u,l){if((o=we(o))&&(l||u===n))return o.replace(Ot,"");if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,wl(g,xr(u))).join("")},P.truncate=function(o,u){var l=30,g="...";if(We(u)){var b="separator"in u?u.separator:b;l="length"in u?se(u.length):l,g="omission"in u?fn(u.omission):g}var E=(o=we(o)).length;if(ha(o)){var O=xr(o);E=O.length}if(l>=E)return o;var R=l-Wr(g);if(R<1)return g;var W=O?Ur(O,0,R).join(""):o.slice(0,R);if(b===n)return W+g;if(O&&(R+=W.length-R),Li(b)){if(o.slice(R).search(b)){var A,_=W;for(b.global||(b=Ne(b.source,we(Se.exec(b))+"g")),b.lastIndex=0;A=b.exec(_);)var T=A.index;W=W.slice(0,T===n?R:T)}}else if(o.indexOf(fn(b),R)!=R){var U=W.lastIndexOf(b);U>-1&&(W=W.slice(0,U))}return W+g},P.unescape=function(o){return(o=we(o))&&qe.test(o)?o.replace(ve,lc):o},P.uniqueId=function(o){var u=++kh;return we(o)+u},P.upperCase=Pu,P.upperFirst=Zo,P.each=wf,P.eachRight=sf,P.first=lo,Qa(P,(Ma={},bn(P,function(o,u){Ce.call(P.prototype,u)||(Ma[u]=o)}),Ma),{chain:!1}),P.VERSION="4.17.21",Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){P[o].placeholder=P}),Bn(["drop","take"],function(o,u){ce.prototype[o]=function(l){l=l===n?1:sn(se(l),0);var g=this.__filtered__&&!u?new ce(this):this.clone();return g.__filtered__?g.__takeCount__=on(l,g.__takeCount__):g.__views__.push({size:on(l,d),type:o+(g.__dir__<0?"Right":"")}),g},ce.prototype[o+"Right"]=function(l){return this.reverse()[o](l).reverse()}}),Bn(["filter","map","takeWhile"],function(o,u){var l=u+1,g=l==1||l==3;ce.prototype[o]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Yt(b,3),type:l}),E.__filtered__=E.__filtered__||g,E}}),Bn(["head","last"],function(o,u){var l="take"+(u?"Right":"");ce.prototype[o]=function(){return this[l](1).value()[0]}}),Bn(["initial","tail"],function(o,u){var l="drop"+(u?"":"Right");ce.prototype[o]=function(){return this.__filtered__?new ce(this):this[l](1)}}),ce.prototype.compact=function(){return this.filter(_n)},ce.prototype.find=function(o){return this.filter(o).head()},ce.prototype.findLast=function(o){return this.reverse().find(o)},ce.prototype.invokeMap=ue(function(o,u){return typeof o=="function"?new ce(this):this.map(function(l){return Po(l,o,u)})}),ce.prototype.reject=function(o){return this.filter(ks(Yt(o)))},ce.prototype.slice=function(o,u){o=se(o);var l=this;return l.__filtered__&&(o>0||u<0)?new ce(l):(o<0?l=l.takeRight(-o):o&&(l=l.drop(o)),u!==n&&(l=(u=se(u))<0?l.dropRight(-u):l.take(u-o)),l)},ce.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ce.prototype.toArray=function(){return this.take(d)},bn(ce.prototype,function(o,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),b=P[g?"take"+(u=="last"?"Right":""):u],E=g||/^find/.test(u);b&&(P.prototype[u]=function(){var O=this.__wrapped__,R=g?[1]:arguments,W=O instanceof ce,A=R[0],_=W||ie(O),T=function(ut){var ot=b.apply(P,Er([ut],R));return g&&U?ot[0]:ot};_&&l&&typeof A=="function"&&A.length!=1&&(W=_=!1);var U=this.__chain__,G=!!this.__actions__.length,Z=E&&!U,K=W&&!G;if(!E&&_){O=K?O:new ce(this);var tt=o.apply(O,R);return tt.__actions__.push({func:Yu,args:[T],thisArg:n}),new or(tt,U)}return Z&&K?o.apply(this,R):(tt=this.thru(T),Z?g?tt.value()[0]:tt.value():tt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var u=vr[o],l=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",g=/^(?:pop|shift)$/.test(o);P.prototype[o]=function(){var b=arguments;if(g&&!this.__chain__){var E=this.value();return u.apply(ie(E)?E:[],b)}return this[l](function(O){return u.apply(ie(O)?O:[],b)})}}),bn(ce.prototype,function(o,u){var l=P[u];if(l){var g=l.name+"";Ce.call(Mo,g)||(Mo[g]=[]),Mo[g].push({name:u,func:l})}}),Mo[To(n,2).name]=[{name:"wrapper",func:n}],ce.prototype.clone=function(){var o=new ce(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o},ce.prototype.reverse=function(){if(this.__filtered__){var o=new ce(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},ce.prototype.value=function(){var o=this.__wrapped__.value(),u=this.__dir__,l=ie(o),g=u<0,b=l?o.length:0,E=function(jt,xt,It){for(var ae=-1,Ht=It.length;++ae<Ht;){var ye=It[ae],oe=ye.size;switch(ye.type){case"drop":jt+=oe;break;case"dropRight":xt-=oe;break;case"take":xt=on(xt,jt+oe);break;case"takeRight":jt=sn(jt,xt-oe)}}return{start:jt,end:xt}}(0,b,this.__views__),O=E.start,R=E.end,W=R-O,A=g?R:O-1,_=this.__iteratees__,T=_.length,U=0,G=on(W,this.__takeCount__);if(!l||!g&&b==W&&G==W)return qa(o,this.__actions__);var Z=[];t:for(;W--&&U<G;){for(var K=-1,tt=o[A+=u];++K<T;){var ut=_[K],ot=ut.iteratee,wt=ut.type,yt=ot(tt);if(wt==2)tt=yt;else if(!yt){if(wt==1)continue t;break t}}Z[U++]=tt}return Z},P.prototype.at=th,P.prototype.chain=function(){return Zf(this)},P.prototype.commit=function(){return new or(this.value(),this.__chain__)},P.prototype.next=function(){this.__values__===n&&(this.__values__=cl(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?n:this.__values__[this.__index__++]}},P.prototype.plant=function(o){for(var u,l=this;l instanceof Pt;){var g=Au(l);g.__index__=0,g.__values__=n,u?b.__wrapped__=g:u=g;var b=g;l=l.__wrapped__}return b.__wrapped__=o,u},P.prototype.reverse=function(){var o=this.__wrapped__;if(o instanceof ce){var u=o;return this.__actions__.length&&(u=new ce(this)),(u=u.reverse()).__actions__.push({func:Yu,args:[Gu],thisArg:n}),new or(u,this.__chain__)}return this.thru(Gu)},P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=function(){return qa(this.__wrapped__,this.__actions__)},P.prototype.first=P.prototype.head,io&&(P.prototype[io]=function(){return this}),P}();kr?((kr.exports=Co)._=Co,$i._=Co):ze._=Co}).call(RC.exports)),RC.exports);function Ij(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function D2(){return D2=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},D2.apply(null,arguments)}(function(){function n(t,e){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=e,this.rootNode=t(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}Object.defineProperty(n.prototype,"windows",{get:function(){var t=function(e){return Lg([e],e.children.flatMap(t))};return nrt.orderBy(t(this.rootNode),function(e){return e.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var t=function(e){var r=e._boxSnapshot,i=[];if(i.push("KEY: ".concat(e.key)),e._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(e.getLayer())),i.push("BOX: [".concat(e.o[0],", ").concat(e.o[1],", ").concat(e.w,", ").concat(e.h,"]")),i.push("GLOBAL O: [".concat(e.globalO[0],", ").concat(e.globalO[1],"]")),i.push("CHILDREN:"),e.children.length>0){for(var a=e.children,s=[],c=0;c<a.length;c++){var f=a[c];s.push(t(f))}for(i.push(" |"),c=0;c<s.length;c++){for(var d=s[c],h=c===s.length-1?" ":" ",m=0;m<d.length;m++){var y=m===0?h:c===s.length-1?"   ":" | ",w=d[m];i.push("".concat(y,"  ").concat(w))}c<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("   (no children)");return e._boxSnapshot=r,i};console.log(t(this.rootNode).join(`
`))},n.prototype.onUpdate=function(t){this.onUpdateFunction=t},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Hf(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Hf([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(t,e){var r=this.scheduleUpdate(t);this.scheduledStateUpdates.push([r,function(){t.state=e}])},n.prototype.scheduleContextUpdate=function(t,e,r){var i=this.scheduleUpdate(t);this.scheduledStateUpdates.push([i,function(){t.context[e]=r}])},n.prototype.setSingleUpdateFlag=function(t,e){this.scheduledUpdateNodeMap[e]||(this.scheduledUpdateNodeMap[e]={}),this.scheduledUpdateNodeMap[e][t.globalKey]=!0},n.prototype.scheduleUpdate=function(t){var e=this,r=function(){e.DEBUG&&console.log("Scheduling update for ".concat(t.globalKey,". Received id ").concat(e.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=Ij();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(e.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(e.scheduledUpdateIds,null,2),`.
                    `)),e.updateRunning=!0;e.scheduledUpdateIds.length>0;)e.updateScheduled=!1,e.updateCurrentId();e.updateRunning=!1}),this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=Ij(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(t){console.error(t)}},n.prototype.propogateUpdateFlags=function(t){var e=this,r=function(i,a,s){e.scheduledUpdateNodeMap[a]||(e.scheduledUpdateNodeMap[a]={}),e.scheduledUpdateNodeMap[a][i.globalKey]&&(s=!0),e.scheduledUpdateNodeMap[a][i.globalKey]=s,i.children.forEach(function(c){return r(c,a,s)})};r(this.rootNode,t,!1)},n.prototype.updateCurrentId=function(){var t=this,e=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[e]).forEach(function(i){t.propogateUpdateFlags(e)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==e}),this.scheduledStateUpdates.filter(function(i){return i[0]===e}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==e});var r=this.scheduledUpdateNodeMap[e];this.update(r),delete this.scheduledUpdateNodeMap[e]},n.prototype.taintLayer=function(t){this.taintedLayers.includes(t)||this.taintedLayers.push(t)},n.prototype.findCameraPathRecursive=function(t,e){var r,i;if(t._isPrimaryCamera){var a=t.globalKey;return du(du({},e),((r={})[a]=!0,r))}for(var s=t.children,c=0;c<s.length;c++){var f=s[c],d=(a=f.globalKey,du(du({},e),((i={})[a]=!0,i))),h=this.findCameraPathRecursive(f,d);if(h)return h}},n.prototype.AND_updateMaps=function(t,e){var r={};for(var i in t)e[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(t,e){var r={};for(var i in t)e[i]||(r[i]=!0);for(var i in e)t[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(t,e){var r=this.AND_updateMaps(t,e);return[r,this.XOR_updateMaps(t,r)]},n.prototype.setNeedsUpdateToMap=function(t){var e=function(r){var i=r.globalKey;t[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(t){var e=function(r){var i=r.globalKey;t[i]&&(r._needsUpdate=!0),r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.installCamera=function(t){this.cameraNode!==t&&(this.scheduledCameraNode=t,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(t){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var e=this.findCameraPathRecursive(this.rootNode,{});if(!e)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(t,e),i=r[0],a=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(a),null,2),`
            `));var s=function(c,f){c._needsUpdate?f?c.cameraPassUpdateSelf():c.regularPassUpdateSelf():c.children.forEach(function(d){return s(d,f)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(a),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get 2d context from canvas");t.clearRect(0,0,this.canvas.width,this.canvas.height),function(e,r,i,a,s){var c=(e=new Hf(Lg([],e.o),e.w,e.h)).getBoundingBox(),f=r.filter(function(y){return Ly(y.getBoundingBox(),c)}),d=Array.from(new Set(f.map(function(y){return y.getLayer()}))).sort(function(y,w){return y-w});a.clearRect(0,0,i.width,i.height);for(var h=function(y){var w=d[y],C=f.filter(function(V){return V.getLayer()===d[y]});if(s.includes(w)){var k=w+"";if(Ob[k]===void 0){var M=document.createElement("canvas");M.width=i.width,M.height=i.height,Ob[k]=M}var N=Ob[k],B=N.getContext("2d");B.clearRect(0,0,N.width,N.height);for(var L=0,z=C;L<z.length;L++)z[L].renderPrimitive(B)}var q=w+"";Ob[q]&&a.drawImage(Ob[q],0,0)},m=0;m<d.length;m++)h(m)}(this.cameraSnapshot,this.windows,this.canvas,t,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Hf(Lg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ly(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseDownPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseMoveHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Hf(Lg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ly(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseMovePrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseUpHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Hf(Lg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ly(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onMouseUpPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseWheelHandler=function(t){(function(e,r,i,a){for(var s=(e=new Hf(Lg([],e.o),e.w,e.h)).getBoundingBox(),c=r.filter(function(y){return Ly(y.getBoundingBox(),s)}).reverse(),f=!0,d=function(){f=!1},h=0,m=c;h<m.length&&(m[h].onWheelPrimitive(d,a),f);h++);})(this.cameraSnapshot,this.windows,this.canvas,t)},n.prototype.clickHandler=function(t,e){(function(r,i,a,s,c){for(var f=(r=new Hf(Lg([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(C){return Ly(C.getBoundingBox(),f)}).reverse(),h=!0,m=function(){h=!1},y=0,w=d;y<w.length&&(w[y].onClickPrimitive(s,m,c),h);y++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)}})();var ZW={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function jC(n,t){return!(!function(e){return typeof e=="object"&&e&&e.constructor===Object}(n)&&!Array.isArray(n)||!iD(rrt,t)&&(t in Object.prototype||t in Function.prototype))}var rrt={length:!0,name:!0},irt={toString:!0,valueOf:!0,toLocaleString:!0};class ort{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return function(e,r){if(jC(e,r))return e[r];throw typeof e[r]=="function"&&function(i,a){return!(i==null||typeof i[a]!="function"||iD(i,a)&&Object.getPrototypeOf&&a in Object.getPrototypeOf(i)||!iD(irt,a)&&(a in Object.prototype||a in Function.prototype))}(e,r)?new Error('Cannot access method "'+r+'" as a property'):new Error('No access to property "'+r+'"')}(this.wrappedObject,t)}set(t,e){return function(r,i,a){if(jC(r,i))return r[i]=a,a;throw new Error('No access to property "'+i+'"')}(this.wrappedObject,t,e),this}has(t){return jC(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return t=this.keys(),e=r=>[r,this.get(r)],{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}};var t,e}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){jC(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Kf(n){return typeof n=="number"}function zp(n){return!(!n||typeof n!="object"||typeof n.constructor!="function")&&(n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0)}function art(n){return typeof n=="bigint"}function tH(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function eH(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function nH(n){return n&&n.constructor.prototype.isUnit===!0||!1}function Am(n){return typeof n=="string"}var Jh=Array.isArray;function Im(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function C2(n){return Array.isArray(n)||Im(n)}function srt(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function urt(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function lrt(n){return n&&n.constructor.prototype.isRange===!0||!1}function XO(n){return n&&n.constructor.prototype.isIndex===!0||!1}function crt(n){return typeof n=="boolean"}function frt(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function hrt(n){return n&&n.constructor.prototype.isHelp===!0||!1}function prt(n){return typeof n=="function"}function drt(n){return n instanceof Date}function grt(n){return n instanceof RegExp}function JO(n){return!(!n||typeof n!="object"||n.constructor!==Object||tH(n)||eH(n))}function mrt(n){return!!n&&(n instanceof Map||n instanceof ort||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function")}function vrt(n){return n===null}function yrt(n){return n===void 0}function wrt(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function brt(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function xrt(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function Drt(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function Crt(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function _rt(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function Srt(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function Ert(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function Art(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function krt(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function Mrt(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function Frt(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function Prt(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function Trt(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function Ort(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function Nrt(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function Irt(n){return n&&n.constructor.prototype.isChain===!0||!1}function ay(n){var t=typeof n;return t==="object"?n===null?"null":zp(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":t}function gp(n){var t=typeof n;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||n==null)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(e){return gp(e)});if(n instanceof Date)return new Date(n.valueOf());if(zp(n))return n;if(JO(n))return function(e,r){var i={};for(var a in e)iD(e,a)&&(i[a]=r(e[a]));return i}(n,gp);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function w0(n,t){var e,r,i;if(Array.isArray(n)){if(!Array.isArray(t)||n.length!==t.length)return!1;for(r=0,i=n.length;r<i;r++)if(!w0(n[r],t[r]))return!1;return!0}if(typeof n=="function")return n===t;if(n instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in n)if(!(e in t)||!w0(n[e],t[e]))return!1;for(e in t)if(!(e in n))return!1;return!0}return n===t}function iD(n,t){return n&&Object.hasOwnProperty.call(n,t)}var QO=function(n){if(n)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(ZW)};function Bj(){return!0}function hg(){return!1}function zy(){}D2(QO,ZW,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const Rj="Argument is not a typed-function.";var _2=function n(){function t(Vt){return typeof Vt=="object"&&Vt!==null&&Vt.constructor===Object}const e=[{name:"number",test:function(Vt){return typeof Vt=="number"}},{name:"string",test:function(Vt){return typeof Vt=="string"}},{name:"boolean",test:function(Vt){return typeof Vt=="boolean"}},{name:"Function",test:function(Vt){return typeof Vt=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(Vt){return Vt instanceof Date}},{name:"RegExp",test:function(Vt){return Vt instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(Vt){return Vt===null}},{name:"undefined",test:function(Vt){return Vt===void 0}}],r={name:"any",test:Bj,isAny:!0};let i,a,s=0,c={createCount:0};function f(Vt){const rt=i.get(Vt);if(rt)return rt;let dt='Unknown type "'+Vt+'"';const bt=Vt.toLowerCase();let Ot;for(Ot of a)if(Ot.toLowerCase()===bt){dt+='. Did you mean "'+Ot+'" ?';break}throw new TypeError(dt)}function d(Vt){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const dt=rt?f(rt).index:a.length,bt=[];for(let Bt=0;Bt<Vt.length;++Bt){if(!Vt[Bt]||typeof Vt[Bt].name!="string"||typeof Vt[Bt].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Rt=Vt[Bt].name;if(i.has(Rt))throw new TypeError('Duplicate type name "'+Rt+'"');bt.push(Rt),i.set(Rt,{name:Rt,test:Vt[Bt].test,isAny:Vt[Bt].isAny,index:dt+Bt,conversionsTo:[]})}const Ot=a.slice(dt);a=a.slice(0,dt).concat(bt).concat(Ot);for(let Bt=dt+bt.length;Bt<a.length;++Bt)i.get(a[Bt]).index=Bt}function h(){i=new Map,a=[],s=0,d([r],!1)}function m(Vt){const rt=a.filter(dt=>{const bt=i.get(dt);return!bt.isAny&&bt.test(Vt)});return rt.length?rt:["any"]}function y(Vt){return Vt&&typeof Vt=="function"&&"_typedFunctionData"in Vt}function w(Vt,rt,dt){if(!y(Vt))throw new TypeError(Rj);const bt=dt&&dt.exact,Ot=B(Array.isArray(rt)?rt.join(","):rt),Bt=C(Ot);if(!bt||Bt in Vt.signatures){const ge=Vt._typedFunctionData.signatureMap.get(Bt);if(ge)return ge}const Rt=Ot.length;let Xt,Kt;if(bt){let ge;for(ge in Xt=[],Vt.signatures)Xt.push(Vt._typedFunctionData.signatureMap.get(ge))}else Xt=Vt._typedFunctionData.signatures;for(let ge=0;ge<Rt;++ge){const Ee=Ot[ge],Ze=[];let Xe;for(Xe of Xt){const Se=V(Xe.params,ge);if(Se&&(!Ee.restParam||Se.restParam)){if(!Se.hasAny){const je=N(Se);if(Ee.types.some(rn=>!je.has(rn.name)))continue}Ze.push(Xe)}}if(Xt=Ze,Xt.length===0)break}for(Kt of Xt)if(Kt.params.length<=Rt)return Kt;throw new TypeError("Signature not found (signature: "+(Vt.name||"unnamed")+"("+C(Ot,", ")+"))")}function C(Vt){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return Vt.map(dt=>dt.name).join(rt)}function k(Vt){const rt=Vt.indexOf("...")===0,dt=(rt?Vt.length>3?Vt.slice(3):"any":Vt).split("|").map(Bt=>f(Bt.trim()));let bt=!1,Ot=rt?"...":"";return{types:dt.map(function(Bt){return bt=Bt.isAny||bt,Ot+=Bt.name+"|",{name:Bt.name,typeIndex:Bt.index,test:Bt.test,isAny:Bt.isAny,conversion:null,conversionIndex:-1}}),name:Ot.slice(0,-1),hasAny:bt,hasConversion:!1,restParam:rt}}function M(Vt){const rt=function(Bt){if(Bt.length===0)return[];const Rt=Bt.map(f);Bt.length>1&&Rt.sort((ge,Ee)=>ge.index-Ee.index);let Xt=Rt[0].conversionsTo;if(Bt.length===1)return Xt;Xt=Xt.concat([]);const Kt=new Set(Bt);for(let ge=1;ge<Rt.length;++ge){let Ee;for(Ee of Rt[ge].conversionsTo)Kt.has(Ee.from)||(Xt.push(Ee),Kt.add(Ee.from))}return Xt}(Vt.types.map(Bt=>Bt.name));let dt=Vt.hasAny,bt=Vt.name;const Ot=rt.map(function(Bt){const Rt=f(Bt.from);return dt=Rt.isAny||dt,bt+="|"+Bt.from,{name:Bt.from,typeIndex:Rt.index,test:Rt.test,isAny:Rt.isAny,conversion:Bt,conversionIndex:Bt.index}});return{types:Vt.types.concat(Ot),name:bt,hasAny:dt,hasConversion:Ot.length>0,restParam:Vt.restParam}}function N(Vt){return Vt.typeSet||(Vt.typeSet=new Set,Vt.types.forEach(rt=>Vt.typeSet.add(rt.name))),Vt.typeSet}function B(Vt){const rt=[];if(typeof Vt!="string")throw new TypeError("Signatures must be strings");const dt=Vt.trim();if(dt==="")return rt;const bt=dt.split(",");for(let Ot=0;Ot<bt.length;++Ot){const Bt=k(bt[Ot].trim());if(Bt.restParam&&Ot!==bt.length-1)throw new SyntaxError('Unexpected rest parameter "'+bt[Ot]+'": only allowed for the last parameter');if(Bt.types.length===0)return null;rt.push(Bt)}return rt}function L(Vt){const rt=Lt(Vt);return!!rt&&rt.restParam}function z(Vt){if(Vt&&Vt.types.length!==0){if(Vt.types.length===1)return f(Vt.types[0].name).test;if(Vt.types.length===2){const rt=f(Vt.types[0].name).test,dt=f(Vt.types[1].name).test;return function(bt){return rt(bt)||dt(bt)}}{const rt=Vt.types.map(function(dt){return f(dt.name).test});return function(dt){for(let bt=0;bt<rt.length;bt++)if(rt[bt](dt))return!0;return!1}}}return Bj}function q(Vt){let rt,dt,bt;if(L(Vt)){rt=vt(Vt).map(z);const Ot=rt.length,Bt=z(Lt(Vt)),Rt=function(Xt){for(let Kt=Ot;Kt<Xt.length;Kt++)if(!Bt(Xt[Kt]))return!1;return!0};return function(Xt){for(let Kt=0;Kt<rt.length;Kt++)if(!rt[Kt](Xt[Kt]))return!1;return Rt(Xt)&&Xt.length>=Ot+1}}return Vt.length===0?function(Ot){return Ot.length===0}:Vt.length===1?(dt=z(Vt[0]),function(Ot){return dt(Ot[0])&&Ot.length===1}):Vt.length===2?(dt=z(Vt[0]),bt=z(Vt[1]),function(Ot){return dt(Ot[0])&&bt(Ot[1])&&Ot.length===2}):(rt=Vt.map(z),function(Ot){for(let Bt=0;Bt<rt.length;Bt++)if(!rt[Bt](Ot[Bt]))return!1;return Ot.length===rt.length})}function V(Vt,rt){return rt<Vt.length?Vt[rt]:L(Vt)?Lt(Vt):null}function X(Vt,rt){const dt=V(Vt,rt);return dt?N(dt):new Set}function nt(Vt){return Vt.conversion===null||Vt.conversion===void 0}function it(Vt,rt){const dt=new Set;return Vt.forEach(bt=>{const Ot=X(bt.params,rt);let Bt;for(Bt of Ot)dt.add(Bt)}),dt.has("any")?["any"]:Array.from(dt)}function ct(Vt,rt,dt){let bt,Ot;const Bt=Vt||"unnamed";let Rt,Xt=dt;for(Rt=0;Rt<rt.length;Rt++){const Ze=[];if(Xt.forEach(Xe=>{const Se=z(V(Xe.params,Rt));(Rt<Xe.params.length||L(Xe.params))&&Se(rt[Rt])&&Ze.push(Xe)}),Ze.length===0){if(Ot=it(Xt,Rt),Ot.length>0){const Xe=m(rt[Rt]);return bt=new TypeError("Unexpected type of argument in function "+Bt+" (expected: "+Ot.join(" or ")+", actual: "+Xe.join(" | ")+", index: "+Rt+")"),bt.data={category:"wrongType",fn:Bt,index:Rt,actual:Xe,expected:Ot},bt}}else Xt=Ze}const Kt=Xt.map(function(Ze){return L(Ze.params)?1/0:Ze.params.length});if(rt.length<Math.min.apply(null,Kt))return Ot=it(Xt,Rt),bt=new TypeError("Too few arguments in function "+Bt+" (expected: "+Ot.join(" or ")+", index: "+rt.length+")"),bt.data={category:"tooFewArgs",fn:Bt,index:rt.length,expected:Ot},bt;const ge=Math.max.apply(null,Kt);if(rt.length>ge)return bt=new TypeError("Too many arguments in function "+Bt+" (expected: "+ge+", actual: "+rt.length+")"),bt.data={category:"tooManyArgs",fn:Bt,index:rt.length,expectedLength:ge},bt;const Ee=[];for(let Ze=0;Ze<rt.length;++Ze)Ee.push(m(rt[Ze]).join("|"));return bt=new TypeError('Arguments of type "'+Ee.join(", ")+'" do not match any of the defined signatures of function '+Bt+"."),bt.data={category:"mismatch",actual:Ee},bt}function ft(Vt){let rt=a.length+1;for(let dt=0;dt<Vt.types.length;dt++)nt(Vt.types[dt])&&(rt=Math.min(rt,Vt.types[dt].typeIndex));return rt}function gt(Vt){let rt=s+1;for(let dt=0;dt<Vt.types.length;dt++)nt(Vt.types[dt])||(rt=Math.min(rt,Vt.types[dt].conversionIndex));return rt}function Ct(Vt,rt){if(Vt.hasAny){if(!rt.hasAny)return 1}else if(rt.hasAny)return-1;if(Vt.restParam){if(!rt.restParam)return 1}else if(rt.restParam)return-1;if(Vt.hasConversion){if(!rt.hasConversion)return 1}else if(rt.hasConversion)return-1;const dt=ft(Vt)-ft(rt);if(dt<0)return-1;if(dt>0)return 1;const bt=gt(Vt)-gt(rt);return bt<0?-1:bt>0?1:0}function kt(Vt,rt){const dt=Vt.params,bt=rt.params,Ot=Lt(dt),Bt=Lt(bt),Rt=L(dt),Xt=L(bt);if(Rt&&Ot.hasAny){if(!Xt||!Bt.hasAny)return 1}else if(Xt&&Bt.hasAny)return-1;let Kt,ge=0,Ee=0;for(Kt of dt)Kt.hasAny&&++ge,Kt.hasConversion&&++Ee;let Ze=0,Xe=0;for(Kt of bt)Kt.hasAny&&++Ze,Kt.hasConversion&&++Xe;if(ge!==Ze)return ge-Ze;if(Rt&&Ot.hasConversion){if(!Xt||!Bt.hasConversion)return 1}else if(Xt&&Bt.hasConversion)return-1;if(Ee!==Xe)return Ee-Xe;if(Rt){if(!Xt)return 1}else if(Xt)return-1;const Se=(dt.length-bt.length)*(Rt?-1:1);if(Se!==0)return Se;const je=[];let rn,zi=0;for(let Yi=0;Yi<dt.length;++Yi){const Ui=Ct(dt[Yi],bt[Yi]);je.push(Ui),zi+=Ui}if(zi!==0)return zi;for(rn of je)if(rn!==0)return rn;return 0}function Tt(Vt,rt){let dt=rt;if(Vt.some(Ot=>Ot.hasConversion)){const Ot=L(Vt),Bt=Vt.map(At);dt=function(){const Rt=[],Xt=Ot?arguments.length-1:arguments.length;for(let Kt=0;Kt<Xt;Kt++)Rt[Kt]=Bt[Kt](arguments[Kt]);return Ot&&(Rt[Xt]=arguments[Xt].map(Bt[Xt])),rt.apply(this,Rt)}}let bt=dt;if(L(Vt)){const Ot=Vt.length-1;bt=function(){return dt.apply(this,ee(arguments,0,Ot).concat([ee(arguments,Ot)]))}}return bt}function At(Vt){let rt,dt,bt,Ot;const Bt=[],Rt=[];switch(Vt.types.forEach(function(Xt){Xt.conversion&&(Bt.push(f(Xt.conversion.from).test),Rt.push(Xt.conversion.convert))}),Rt.length){case 0:return function(Xt){return Xt};case 1:return rt=Bt[0],bt=Rt[0],function(Xt){return rt(Xt)?bt(Xt):Xt};case 2:return rt=Bt[0],dt=Bt[1],bt=Rt[0],Ot=Rt[1],function(Xt){return rt(Xt)?bt(Xt):dt(Xt)?Ot(Xt):Xt};default:return function(Xt){for(let Kt=0;Kt<Rt.length;Kt++)if(Bt[Kt](Xt))return Rt[Kt](Xt);return Xt}}}function Zt(Vt){return function rt(dt,bt,Ot){if(bt<dt.length){const Xt=dt[bt];let Kt=[];if(Xt.restParam){const ge=Xt.types.filter(nt);ge.length<Xt.types.length&&Kt.push({types:ge,name:"..."+ge.map(Ee=>Ee.name).join("|"),hasAny:ge.some(Ee=>Ee.isAny),hasConversion:!1,restParam:!0}),Kt.push(Xt)}else Kt=Xt.types.map(function(ge){return{types:[ge],name:ge.name,hasAny:ge.isAny,hasConversion:ge.conversion,restParam:!1}});return Bt=Kt,Rt=function(ge){return rt(dt,bt+1,Ot.concat([ge]))},Array.prototype.concat.apply([],Bt.map(Rt))}return[Ot];var Bt,Rt}(Vt,0,[])}function _t(Vt,rt){const dt=Math.max(Vt.length,rt.length);for(let Xt=0;Xt<dt;Xt++){const Kt=X(Vt,Xt),ge=X(rt,Xt);let Ee,Ze=!1;for(Ee of ge)if(Kt.has(Ee)){Ze=!0;break}if(!Ze)return!1}const bt=Vt.length,Ot=rt.length,Bt=L(Vt),Rt=L(rt);return Bt?Rt?bt===Ot:Ot>=bt:Rt?bt>=Ot:bt===Ot}function Et(Vt,rt,dt){const bt=[];let Ot;for(Ot of Vt){let Bt=dt[Ot];if(typeof Bt!="number")throw new TypeError('No definition for referenced signature "'+Ot+'"');if(Bt=rt[Bt],typeof Bt!="function")return!1;bt.push(Bt)}return bt}function mt(Vt,rt,dt){throw ct(Vt,rt,dt)}function vt(Vt){return ee(Vt,0,Vt.length-1)}function Lt(Vt){return Vt[Vt.length-1]}function ee(Vt,rt,dt){return Array.prototype.slice.call(Vt,rt,dt)}function pe(Vt,rt){return{referTo:{references:Vt,callback:rt}}}function ve(Vt){if(typeof Vt!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:Vt}}}function Oe(Vt){return Vt&&typeof Vt.referTo=="object"&&Array.isArray(Vt.referTo.references)&&typeof Vt.referTo.callback=="function"}function qe(Vt){return Vt&&typeof Vt.referToSelf=="object"&&typeof Vt.referToSelf.callback=="function"}function He(Vt,rt){if(!Vt)return rt;if(rt&&rt!==Vt){const dt=new Error("Function names do not match (expected: "+Vt+", actual: "+rt+")");throw dt.data={actual:rt,expected:Vt},dt}return Vt}function wn(Vt){let rt;for(const dt in Vt)Object.prototype.hasOwnProperty.call(Vt,dt)&&(y(Vt[dt])||typeof Vt[dt].signature=="string")&&(rt=He(rt,Vt[dt].name));return rt}function nn(Vt,rt){let dt;for(dt in rt)if(Object.prototype.hasOwnProperty.call(rt,dt)){if(dt in Vt&&rt[dt]!==Vt[dt]){const bt=new Error('Signature "'+dt+'" is defined twice');throw bt.data={signature:dt,sourceFunction:rt[dt],destFunction:Vt[dt]},bt}Vt[dt]=rt[dt]}}h(),d(e);const cr=c;function bi(Vt){if(!Vt||typeof Vt.from!="string"||typeof Vt.to!="string"||typeof Vt.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(Vt.to===Vt.from)throw new SyntaxError('Illegal to define conversion from "'+Vt.from+'" to itself.')}return c=function(Vt){const rt=typeof Vt=="string";let dt=rt?Vt:"";const bt={};for(let Ot=rt?1:0;Ot<arguments.length;++Ot){const Bt=arguments[Ot];let Rt,Xt={};if(typeof Bt=="function"?(Rt=Bt.name,typeof Bt.signature=="string"?Xt[Bt.signature]=Bt:y(Bt)&&(Xt=Bt.signatures)):t(Bt)&&(Xt=Bt,rt||(Rt=wn(Bt))),Object.keys(Xt).length===0){const Kt=new TypeError("Argument to 'typed' at index "+Ot+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Kt.data={index:Ot,argument:Bt},Kt}rt||(dt=He(dt,Rt)),nn(bt,Xt)}return function(Ot,Bt){if(c.createCount++,Object.keys(Bt).length===0)throw new SyntaxError("No signatures provided");c.warnAgainstDeprecatedThis&&function(ln){const Vn=/\bthis(\(|\.signatures\b)/;Object.keys(ln).forEach(hr=>{const Xi=ln[hr];if(Vn.test(Xi.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Bt);const Rt=[],Xt=[],Kt={},ge=[];let Ee;for(Ee in Bt){if(!Object.prototype.hasOwnProperty.call(Bt,Ee))continue;const ln=B(Ee);if(!ln)continue;Rt.forEach(function(es){if(_t(es,ln))throw new TypeError('Conflicting signatures "'+C(es)+'" and "'+C(ln)+'".')}),Rt.push(ln);const Vn=Xt.length;Xt.push(Bt[Ee]);const hr=ln.map(M);let Xi;for(Xi of Zt(hr)){const es=C(Xi);ge.push({params:Xi,name:es,fn:Vn}),Xi.every(ru=>!ru.hasConversion)&&(Kt[es]=Vn)}}ge.sort(kt);const Ze=function(ln,Vn,hr){const Xi=function(Do){return Do.map(De=>qe(De)?ve(De.referToSelf.callback):Oe(De)?pe(De.referTo.references,De.referTo.callback):De)}(ln),es=new Array(Xi.length).fill(!1);let ru=!0;for(;ru;){ru=!1;let Do=!0;for(let De=0;De<Xi.length;++De){if(es[De])continue;const be=Xi[De];if(qe(be))Xi[De]=be.referToSelf.callback(hr),Xi[De].referToSelf=be.referToSelf,es[De]=!0,Do=!1;else if(Oe(be)){const Xr=Et(be.referTo.references,Xi,Vn);Xr?(Xi[De]=be.referTo.callback.apply(this,Xr),Xi[De].referTo=be.referTo,es[De]=!0,Do=!1):ru=!0}}if(Do&&ru)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Xi}(Xt,Kt,Mc);let Xe;for(Xe in Kt)Object.prototype.hasOwnProperty.call(Kt,Xe)&&(Kt[Xe]=Ze[Kt[Xe]]);const Se=[],je=new Map;for(Xe of ge)je.has(Xe.name)||(Xe.fn=Ze[Xe.fn],Se.push(Xe),je.set(Xe.name,Xe));const rn=Se[0]&&Se[0].params.length<=2&&!L(Se[0].params),zi=Se[1]&&Se[1].params.length<=2&&!L(Se[1].params),Yi=Se[2]&&Se[2].params.length<=2&&!L(Se[2].params),Ui=Se[3]&&Se[3].params.length<=2&&!L(Se[3].params),xo=Se[4]&&Se[4].params.length<=2&&!L(Se[4].params),Ai=Se[5]&&Se[5].params.length<=2&&!L(Se[5].params),us=rn&&zi&&Yi&&Ui&&xo&&Ai;for(let ln=0;ln<Se.length;++ln)Se[ln].test=q(Se[ln].params);const ko=rn?z(Se[0].params[0]):hg,vu=zi?z(Se[1].params[0]):hg,ja=Yi?z(Se[2].params[0]):hg,ls=Ui?z(Se[3].params[0]):hg,yu=xo?z(Se[4].params[0]):hg,dl=Ai?z(Se[5].params[0]):hg,Ns=rn?z(Se[0].params[1]):hg,Ol=zi?z(Se[1].params[1]):hg,gl=Yi?z(Se[2].params[1]):hg,Pa=Ui?z(Se[3].params[1]):hg,ml=xo?z(Se[4].params[1]):hg,wu=Ai?z(Se[5].params[1]):hg;for(let ln=0;ln<Se.length;++ln)Se[ln].implementation=Tt(Se[ln].params,Se[ln].fn);const Ou=rn?Se[0].implementation:zy,Ks=zi?Se[1].implementation:zy,Nu=Yi?Se[2].implementation:zy,ts=Ui?Se[3].implementation:zy,fa=xo?Se[4].implementation:zy,ba=Ai?Se[5].implementation:zy,ho=rn?Se[0].params.length:-1,Iu=zi?Se[1].params.length:-1,nu=Yi?Se[2].params.length:-1,cs=Ui?Se[3].params.length:-1,nl=xo?Se[4].params.length:-1,Nl=Ai?Se[5].params.length:-1,vl=us?6:0,bu=Se.length,Gs=Se.map(ln=>ln.test),kc=Se.map(ln=>ln.implementation),hf=function(){for(let ln=vl;ln<bu;ln++)if(Gs[ln](arguments))return kc[ln].apply(this,arguments);return c.onMismatch(Ot,arguments,Se)};function Mc(ln,Vn){return arguments.length===ho&&ko(ln)&&Ns(Vn)?Ou.apply(this,arguments):arguments.length===Iu&&vu(ln)&&Ol(Vn)?Ks.apply(this,arguments):arguments.length===nu&&ja(ln)&&gl(Vn)?Nu.apply(this,arguments):arguments.length===cs&&ls(ln)&&Pa(Vn)?ts.apply(this,arguments):arguments.length===nl&&yu(ln)&&ml(Vn)?fa.apply(this,arguments):arguments.length===Nl&&dl(ln)&&wu(Vn)?ba.apply(this,arguments):hf.apply(this,arguments)}try{Object.defineProperty(Mc,"name",{value:Ot})}catch{}return Mc.signatures=Kt,Mc._typedFunctionData={signatures:Se,signatureMap:je},Mc}(dt||"",bt)},c.create=n,c.createCount=cr.createCount,c.onMismatch=mt,c.throwMismatchError=mt,c.createError=ct,c.clear=h,c.clearConversions=function(){let Vt;for(Vt of a)i.get(Vt).conversionsTo=[];s=0},c.addTypes=d,c._findType=f,c.referTo=function(){const Vt=vt(arguments).map(dt=>C(B(dt))),rt=Lt(arguments);if(typeof rt!="function")throw new TypeError("Callback function expected as last argument");return pe(Vt,rt)},c.referToSelf=ve,c.convert=function(Vt,rt){const dt=f(rt);if(dt.test(Vt))return Vt;const bt=dt.conversionsTo;if(bt.length===0)throw new Error("There are no conversions to "+rt+" defined.");for(let Ot=0;Ot<bt.length;Ot++)if(f(bt[Ot].from).test(Vt))return bt[Ot].convert(Vt);throw new Error("Cannot convert "+Vt+" to "+rt)},c.findSignature=w,c.find=function(Vt,rt,dt){return w(Vt,rt,dt).implementation},c.isTypedFunction=y,c.warnAgainstDeprecatedThis=!0,c.addType=function(Vt,rt){let dt="any";rt!==!1&&i.has("Object")&&(dt="Object"),c.addTypes([Vt],dt)},c.addConversion=function(Vt){let rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};bi(Vt);const dt=f(Vt.to),bt=dt.conversionsTo.find(Ot=>Ot.from===Vt.from);if(bt){if(!rt||!rt.override)throw new Error('There is already a conversion from "'+Vt.from+'" to "'+dt.name+'"');c.removeConversion({from:bt.from,to:Vt.to,convert:bt.convert})}dt.conversionsTo.push({from:Vt.from,convert:Vt.convert,index:s++})},c.addConversions=function(Vt,rt){Vt.forEach(dt=>c.addConversion(dt,rt))},c.removeConversion=function(Vt){bi(Vt);const rt=f(Vt.to),dt=function(Ot,Bt){for(let Rt=0;Rt<Ot.length;Rt++)if(Bt(Ot[Rt]))return Ot[Rt]}(rt.conversionsTo,Ot=>Ot.from===Vt.from);if(!dt)throw new Error("Attempt to remove nonexistent conversion from "+Vt.from+" to "+Vt.to);if(dt.convert!==Vt.convert)throw new Error("Conversion to remove does not match existing conversion");const bt=rt.conversionsTo.indexOf(dt);rt.conversionsTo.splice(bt,1)},c.resolve=function(Vt,rt){if(!y(Vt))throw new TypeError(Rj);const dt=Vt._typedFunctionData.signatures;for(let bt=0;bt<dt.length;++bt)if(dt[bt].test(rt))return dt[bt];return null},c}();function Ff(n,t,e,r){function i(a){var s=function(c,f){for(var d={},h=0;h<f.length;h++){var m=f[h],y=c[m];y!==void 0&&(d[m]=y)}return d}(a,t.map(Brt));return function(c,f,d){var h=f.filter(y=>!function(w){return w&&w[0]==="?"}(y)).every(y=>d[y]!==void 0);if(!h){var m=f.filter(y=>d[y]===void 0);throw new Error('Cannot create function "'.concat(c,'", ')+"some dependencies are missing: ".concat(m.map(y=>'"'.concat(y,'"')).join(", "),"."))}}(n,t,a),e(s)}return i.isFactory=!0,i.fn=n,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Brt(n){return n&&n[0]==="?"?n.slice(1):n}function yp(n){return typeof n=="boolean"||!!isFinite(n)&&n===Math.round(n)}function wk(n,t,e){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!yp(e))throw new Error("size must be an integer");if(n>2**(e-1)-1||n<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!yp(n))throw new Error("Value must be an integer");n<0&&(n+=2**e),i="i".concat(e)}var a="";return n<0&&(n=-n,a="-"),"".concat(a).concat(r).concat(n.toString(t)).concat(i)}function dP(n,t){if(typeof t=="function")return t(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:e,precision:r,wordSize:i}=rH(t);switch(e){case"fixed":return function(a,s){if(isNaN(a)||!isFinite(a))return String(a);var c=tS(a),f=typeof s=="number"?eS(c,c.exponent+1+s):c,d=f.coefficients,h=f.exponent+1,m=h+(s||0);return d.length<m&&(d=d.concat(rw(m-d.length))),h<0&&(d=rw(1-h).concat(d),h=1),h<d.length&&d.splice(h,0,h===0?"0.":"."),f.sign+d.join("")}(n,r);case"exponential":return jj(n,r);case"engineering":return function(a,s){if(isNaN(a)||!isFinite(a))return String(a);var c=eS(tS(a),s),f=c.exponent,d=c.coefficients,h=f%3==0?f:f<0?f-3-f%3:f-f%3;if(Kf(s))for(;s>d.length||f-h+1>d.length;)d.push(0);else for(var m=Math.abs(f-h)-(d.length-1),y=0;y<m;y++)d.push(0);for(var w=Math.abs(f-h),C=1;w>0;)C++,w--;var k=d.slice(C).join(""),M=Kf(s)&&k.length||k.match(/[1-9]/)?"."+k:"",N=d.slice(0,C).join("")+M+"e"+(f>=0?"+":"")+h.toString();return c.sign+N}(n,r);case"bin":return wk(n,2,i);case"oct":return wk(n,8,i);case"hex":return wk(n,16,i);case"auto":return function(a,s,c){if(isNaN(a)||!isFinite(a))return String(a);var f=zj(c==null?void 0:c.lowerExp,-3),d=zj(c==null?void 0:c.upperExp,5),h=tS(a),m=s?eS(h,s):h;if(m.exponent<f||m.exponent>=d)return jj(a,s);var y=m.coefficients,w=m.exponent;y.length<s&&(y=y.concat(rw(s-y.length))),y=y.concat(rw(w-y.length+1+(y.length<s?s-y.length:0)));var C=w>0?w:0;return C<(y=rw(-w).concat(y)).length-1&&y.splice(C+1,0,"."),m.sign+y.join("")}(n,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function rH(n){var t,e,r="auto";if(n!==void 0)if(Kf(n))t=n;else if(zp(n))t=n.toNumber();else{if(!JO(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");n.precision!==void 0&&(t=Lj(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(e=Lj(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation)}return{notation:r,precision:t,wordSize:e}}function tS(n){var t=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+n);var e=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return s.length===0&&(s.push(0),i++),{sign:e,coefficients:s,exponent:i}}function jj(n,t){if(isNaN(n)||!isFinite(n))return String(n);var e=tS(n),r=t?eS(e,t):e,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(rw(t-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function eS(n,t){for(var e={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=e.coefficients;t<=0;)r.unshift(0),e.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;r[i]===10;)r.pop(),i===0&&(r.unshift(0),e.exponent++,i++),r[--i]++}return e}function rw(n){for(var t=[],e=0;e<n;e++)t.push(0);return t}function nS(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(t)&&(isFinite(n)&&isFinite(t)?n===t||Math.abs(n-t)<=Math.max(e*Math.max(Math.abs(n),Math.abs(t)),r):n===t)}function Lj(n,t){return Kf(n)?n:zp(n)?n.toNumber():void t()}function zj(n,t){return Kf(n)?n:zp(n)?n.toNumber():t}var iH=function(){return iH=_2.create,_2},Rrt=Ff("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:t,Complex:e,DenseMatrix:r,Fraction:i}=n,a=iH();return a.clear(),a.addTypes([{name:"number",test:Kf},{name:"Complex",test:tH},{name:"BigNumber",test:zp},{name:"bigint",test:art},{name:"Fraction",test:eH},{name:"Unit",test:nH},{name:"identifier",test:s=>Am&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:Am},{name:"Chain",test:Irt},{name:"Array",test:Jh},{name:"Matrix",test:Im},{name:"DenseMatrix",test:srt},{name:"SparseMatrix",test:urt},{name:"Range",test:lrt},{name:"Index",test:XO},{name:"boolean",test:crt},{name:"ResultSet",test:frt},{name:"Help",test:hrt},{name:"function",test:prt},{name:"Date",test:drt},{name:"RegExp",test:grt},{name:"null",test:vrt},{name:"undefined",test:yrt},{name:"AccessorNode",test:wrt},{name:"ArrayNode",test:brt},{name:"AssignmentNode",test:xrt},{name:"BlockNode",test:Drt},{name:"ConditionalNode",test:Crt},{name:"ConstantNode",test:_rt},{name:"FunctionNode",test:Ert},{name:"FunctionAssignmentNode",test:Srt},{name:"IndexNode",test:Art},{name:"Node",test:krt},{name:"ObjectNode",test:Mrt},{name:"OperatorNode",test:Frt},{name:"ParenthesisNode",test:Prt},{name:"RangeNode",test:Trt},{name:"RelationalNode",test:Ort},{name:"SymbolNode",test:Nrt},{name:"Map",test:mrt},{name:"Object",test:JO}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||LC(s),s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return e||zC(s),new e(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return e||zC(s),new e(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return t||LC(s),new t(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return i||UC(s),new i(s.toString())}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return e||zC(s),new e(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||UC(s);var c=new i(s);if(c.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(s){var c=Number(s);if(isNaN(c))throw new Error('Cannot convert "'+s+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(s){t||LC(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){i||UC(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){e||zC(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||LC(s),new t(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||UC(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),a.onMismatch=(s,c,f)=>{var d=a.createError(s,c,f);if(["wrongType","mismatch"].includes(d.data.category)&&c.length===1&&C2(c[0])&&f.some(m=>!m.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=d.data,h}throw d},a.onMismatch=(s,c,f)=>{var d=a.createError(s,c,f);if(["wrongType","mismatch"].includes(d.data.category)&&c.length===1&&C2(c[0])&&f.some(m=>!m.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=d.data,h}throw d},a});function LC(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function zC(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function UC(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var oH,lv,dw=9e15,zv=1e9,gP="0123456789abcdef",S2="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",E2="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",mP={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-dw,maxE:dw,crypto:!1},Ba=!0,zE="[DecimalError] ",s0=zE+"Invalid argument: ",aH=zE+"Precision limit exceeded",sH=zE+"crypto unavailable",uH="[object Decimal]",Xp=Math.floor,ip=Math.pow,jrt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Lrt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,zrt=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Uj=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zg=1e7,Urt=S2.length-1,vP=E2.length-1,pn={toStringTag:uH};function Ap(n){var t,e,r,i=n.length-1,a="",s=n[0];if(i>0){for(a+=s,t=1;t<i;t++)(e=7-(r=n[t]+"").length)&&(a+=Ov(e)),a+=r;(e=7-(r=(s=n[t])+"").length)&&(a+=Ov(e))}else if(s===0)return"0";for(;s%10==0;)s/=10;return a+s}function Ad(n,t,e){if(n!==~~n||n<t||n>e)throw Error(s0+n)}function bx(n,t,e,r){var i,a,s,c;for(a=n[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=ip(10,7-t),c=n[i]%a|0,r==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),s=e<4&&c==99999||e>3&&c==49999||c==5e4||c==0):s=(e<4&&c+1==a||e>3&&c+1==a/2)&&(n[i+1]/a/100|0)==ip(10,t-2)-1||(c==a/2||c==0)&&!(n[i+1]/a/100|0):t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),s=(r||e<4)&&c==9999||!r&&e>3&&c==4999):s=((r||e<4)&&c+1==a||!r&&e>3&&c+1==a/2)&&(n[i+1]/a/1e3|0)==ip(10,t-3)-1,s}function rS(n,t,e){for(var r,i,a=[0],s=0,c=n.length;s<c;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=gP.indexOf(n.charAt(s++)),r=0;r<a.length;r++)a[r]>e-1&&(a[r+1]===void 0&&(a[r+1]=0),a[r+1]+=a[r]/e|0,a[r]%=e)}return a.reverse()}pn.absoluteValue=pn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),wo(n)},pn.ceil=function(){return wo(new this.constructor(this),this.e+1,2)},pn.clampedTo=pn.clamp=function(n,t){var e=this,r=e.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(s0+t);return e.cmp(n)<0?n:e.cmp(t)>0?t:new r(e)},pn.comparedTo=pn.cmp=function(n){var t,e,r,i,a=this,s=a.d,c=(n=new a.constructor(n)).d,f=a.s,d=n.s;if(!s||!c)return f&&d?f!==d?f:s===c?0:!s^f<0?1:-1:NaN;if(!s[0]||!c[0])return s[0]?f:c[0]?-d:0;if(f!==d)return f;if(a.e!==n.e)return a.e>n.e^f<0?1:-1;for(t=0,e=(r=s.length)<(i=c.length)?r:i;t<e;++t)if(s[t]!==c[t])return s[t]>c[t]^f<0?1:-1;return r===i?0:r>i^f<0?1:-1},pn.cosine=pn.cos=function(){var n,t,e=this,r=e.constructor;return e.d?e.d[0]?(n=r.precision,t=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(i,a){var s,c,f;if(a.isZero())return a;(c=a.d.length)<32?f=(1/$C(4,s=Math.ceil(c/3))).toString():(s=16,f="2.3283064365386962890625e-10"),i.precision+=s,a=Uy(i,1,a.times(f),new i(1));for(var d=s;d--;){var h=a.times(a);a=h.times(h).minus(h).times(8).plus(1)}return i.precision-=s,a}(r,Hj(r,e)),r.precision=n,r.rounding=t,wo(lv==2||lv==3?e.neg():e,n,t,!0)):new r(1):new r(NaN)},pn.cubeRoot=pn.cbrt=function(){var n,t,e,r,i,a,s,c,f,d,h=this,m=h.constructor;if(!h.isFinite()||h.isZero())return new m(h);for(Ba=!1,(a=h.s*ip(h.s*h,1/3))&&Math.abs(a)!=1/0?r=new m(a.toString()):(e=Ap(h.d),(a=((n=h.e)-e.length+1)%3)&&(e+=a==1||a==-2?"0":"00"),a=ip(e,1/3),n=Xp((n+1)/3)-(n%3==(n<0?-1:2)),(r=new m(e=a==1/0?"5e"+n:(e=a.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=h.s),s=(n=m.precision)+3;;)if(d=(f=(c=r).times(c).times(c)).plus(h),r=Sf(d.plus(h).times(c),d.plus(f),s+2,1),Ap(c.d).slice(0,s)===(e=Ap(r.d)).slice(0,s)){if((e=e.slice(s-3,s+1))!="9999"&&(i||e!="4999")){+e&&(+e.slice(1)||e.charAt(0)!="5")||(wo(r,n+1,1),t=!r.times(r).times(r).eq(h));break}if(!i&&(wo(c,n+1,0),c.times(c).times(c).eq(h))){r=c;break}s+=4,i=1}return Ba=!0,wo(r,n,m.rounding,t)},pn.decimalPlaces=pn.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-Xp(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},pn.dividedBy=pn.div=function(n){return Sf(this,new this.constructor(n))},pn.dividedToIntegerBy=pn.divToInt=function(n){var t=this.constructor;return wo(Sf(this,new t(n),0,1,1),t.precision,t.rounding)},pn.equals=pn.eq=function(n){return this.cmp(n)===0},pn.floor=function(){return wo(new this.constructor(this),this.e+1,3)},pn.greaterThan=pn.gt=function(n){return this.cmp(n)>0},pn.greaterThanOrEqualTo=pn.gte=function(n){var t=this.cmp(n);return t==1||t===0},pn.hyperbolicCosine=pn.cosh=function(){var n,t,e,r,i,a=this,s=a.constructor,c=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return c;e=s.precision,r=s.rounding,s.precision=e+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/$C(4,n=Math.ceil(i/3))).toString():(n=16,t="2.3283064365386962890625e-10"),a=Uy(s,1,a.times(t),new s(1),!0);for(var f,d=n,h=new s(8);d--;)f=a.times(a),a=c.minus(f.times(h.minus(f.times(h))));return wo(a,s.precision=e,s.rounding=r,!0)},pn.hyperbolicSine=pn.sinh=function(){var n,t,e,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,e=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=Uy(a,2,i,i,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,i=Uy(a,2,i=i.times(1/$C(5,n)),i,!0);for(var s,c=new a(5),f=new a(16),d=new a(20);n--;)s=i.times(i),i=i.times(c.plus(s.times(f.times(s).plus(d))))}return a.precision=t,a.rounding=e,wo(i,t,e,!0)},pn.hyperbolicTangent=pn.tanh=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+7,r.rounding=1,Sf(e.sinh(),e.cosh(),r.precision=n,r.rounding=t)):new r(e.s)},pn.inverseCosine=pn.acos=function(){var n,t=this,e=t.constructor,r=t.abs().cmp(1),i=e.precision,a=e.rounding;return r!==-1?r===0?t.isNeg()?Kg(e,i,a):new e(0):new e(NaN):t.isZero()?Kg(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),n=Kg(e,i+4,a).times(.5),e.precision=i,e.rounding=a,n.minus(t))},pn.inverseHyperbolicCosine=pn.acosh=function(){var n,t,e=this,r=e.constructor;return e.lte(1)?new r(e.eq(1)?0:NaN):e.isFinite()?(n=r.precision,t=r.rounding,r.precision=n+Math.max(Math.abs(e.e),e.sd())+4,r.rounding=1,Ba=!1,e=e.times(e).minus(1).sqrt().plus(e),Ba=!0,r.precision=n,r.rounding=t,e.ln()):new r(e)},pn.inverseHyperbolicSine=pn.asinh=function(){var n,t,e=this,r=e.constructor;return!e.isFinite()||e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+2*Math.max(Math.abs(e.e),e.sd())+6,r.rounding=1,Ba=!1,e=e.times(e).plus(1).sqrt().plus(e),Ba=!0,r.precision=n,r.rounding=t,e.ln())},pn.inverseHyperbolicTangent=pn.atanh=function(){var n,t,e,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=a.precision,t=a.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?wo(new a(i),n,t,!0):(a.precision=e=r-i.e,i=Sf(i.plus(1),new a(1).minus(i),e+n,1),a.precision=n+4,a.rounding=1,i=i.ln(),a.precision=n,a.rounding=t,i.times(.5))):new a(NaN)},pn.inverseSine=pn.asin=function(){var n,t,e,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),e=a.precision,r=a.rounding,t!==-1?t===0?((n=Kg(a,e+4,r).times(.5)).s=i.s,n):new a(NaN):(a.precision=e+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=e,a.rounding=r,i.times(2)))},pn.inverseTangent=pn.atan=function(){var n,t,e,r,i,a,s,c,f,d=this,h=d.constructor,m=h.precision,y=h.rounding;if(d.isFinite()){if(d.isZero())return new h(d);if(d.abs().eq(1)&&m+4<=vP)return(s=Kg(h,m+4,y).times(.25)).s=d.s,s}else{if(!d.s)return new h(NaN);if(m+4<=vP)return(s=Kg(h,m+4,y).times(.5)).s=d.s,s}for(h.precision=c=m+10,h.rounding=1,n=e=Math.min(28,c/7+2|0);n;--n)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Ba=!1,t=Math.ceil(c/7),r=1,f=d.times(d),s=new h(d),i=d;n!==-1;)if(i=i.times(f),a=s.minus(i.div(r+=2)),i=i.times(f),(s=a.plus(i.div(r+=2))).d[t]!==void 0)for(n=t;s.d[n]===a.d[n]&&n--;);return e&&(s=s.times(2<<e-1)),Ba=!0,wo(s,h.precision=m,h.rounding=y,!0)},pn.isFinite=function(){return!!this.d},pn.isInteger=pn.isInt=function(){return!!this.d&&Xp(this.e/7)>this.d.length-2},pn.isNaN=function(){return!this.s},pn.isNegative=pn.isNeg=function(){return this.s<0},pn.isPositive=pn.isPos=function(){return this.s>0},pn.isZero=function(){return!!this.d&&this.d[0]===0},pn.lessThan=pn.lt=function(n){return this.cmp(n)<0},pn.lessThanOrEqualTo=pn.lte=function(n){return this.cmp(n)<1},pn.logarithm=pn.log=function(n){var t,e,r,i,a,s,c,f,d=this,h=d.constructor,m=h.precision,y=h.rounding;if(n==null)n=new h(10),t=!0;else{if(e=(n=new h(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new h(NaN);t=n.eq(10)}if(e=d.d,d.s<0||!e||!e[0]||d.eq(1))return new h(e&&!e[0]?-1/0:d.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)a=!0;else{for(i=e[0];i%10==0;)i/=10;a=i!==1}if(Ba=!1,s=Av(d,c=m+5),r=t?A2(h,c+10):Av(n,c),bx((f=Sf(s,r,c,1)).d,i=m,y))do if(s=Av(d,c+=10),r=t?A2(h,c+10):Av(n,c),f=Sf(s,r,c,1),!a){+Ap(f.d).slice(i+1,i+15)+1==1e14&&(f=wo(f,m+1,0));break}while(bx(f.d,i+=10,y));return Ba=!0,wo(f,m,y)},pn.minus=pn.sub=function(n){var t,e,r,i,a,s,c,f,d,h,m,y,w=this,C=w.constructor;if(n=new C(n),!w.d||!n.d)return w.s&&n.s?w.d?n.s=-n.s:n=new C(n.d||w.s!==n.s?w:NaN):n=new C(NaN),n;if(w.s!=n.s)return n.s=-n.s,w.plus(n);if(d=w.d,y=n.d,c=C.precision,f=C.rounding,!d[0]||!y[0]){if(y[0])n.s=-n.s;else{if(!d[0])return new C(f===3?-0:0);n=new C(w)}return Ba?wo(n,c,f):n}if(e=Xp(n.e/7),h=Xp(w.e/7),d=d.slice(),a=h-e){for((m=a<0)?(t=d,a=-a,s=y.length):(t=y,e=h,s=d.length),a>(r=Math.max(Math.ceil(c/7),s)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((m=(r=d.length)<(s=y.length))&&(s=r),r=0;r<s;r++)if(d[r]!=y[r]){m=d[r]<y[r];break}a=0}for(m&&(t=d,d=y,y=t,n.s=-n.s),s=d.length,r=y.length-s;r>0;--r)d[s++]=0;for(r=y.length;r>a;){if(d[--r]<y[r]){for(i=r;i&&d[--i]===0;)d[i]=zg-1;--d[i],d[r]+=zg}d[r]-=y[r]}for(;d[--s]===0;)d.pop();for(;d[0]===0;d.shift())--e;return d[0]?(n.d=d,n.e=iS(d,e),Ba?wo(n,c,f):n):new C(f===3?-0:0)},pn.modulo=pn.mod=function(n){var t,e=this,r=e.constructor;return n=new r(n),!e.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||e.d&&!e.d[0]?wo(new r(e),r.precision,r.rounding):(Ba=!1,r.modulo==9?(t=Sf(e,n.abs(),0,3,1)).s*=n.s:t=Sf(e,n,0,r.modulo,1),t=t.times(n),Ba=!0,e.minus(t))},pn.naturalExponential=pn.exp=function(){return bk(this)},pn.naturalLogarithm=pn.ln=function(){return Av(this)},pn.negated=pn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,wo(n)},pn.plus=pn.add=function(n){var t,e,r,i,a,s,c,f,d,h,m=this,y=m.constructor;if(n=new y(n),!m.d||!n.d)return m.s&&n.s?m.d||(n=new y(n.d||m.s===n.s?m:NaN)):n=new y(NaN),n;if(m.s!=n.s)return n.s=-n.s,m.minus(n);if(d=m.d,h=n.d,c=y.precision,f=y.rounding,!d[0]||!h[0])return h[0]||(n=new y(m)),Ba?wo(n,c,f):n;if(a=Xp(m.e/7),r=Xp(n.e/7),d=d.slice(),i=a-r){for(i<0?(e=d,i=-i,s=h.length):(e=h,r=a,s=d.length),i>(s=(a=Math.ceil(c/7))>s?a+1:s+1)&&(i=s,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for((s=d.length)-(i=h.length)<0&&(i=s,e=h,h=d,d=e),t=0;i;)t=(d[--i]=d[i]+h[i]+t)/zg|0,d[i]%=zg;for(t&&(d.unshift(t),++r),s=d.length;d[--s]==0;)d.pop();return n.d=d,n.e=iS(d,r),Ba?wo(n,c,f):n},pn.precision=pn.sd=function(n){var t,e=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(s0+n);return e.d?(t=$j(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},pn.round=function(){var n=this,t=n.constructor;return wo(new t(n),n.e+1,t.rounding)},pn.sine=pn.sin=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(i,a){var s,c=a.d.length;if(c<3)return a.isZero()?a:Uy(i,2,a,a);s=(s=1.4*Math.sqrt(c))>16?16:0|s,a=Uy(i,2,a=a.times(1/$C(5,s)),a);for(var f,d=new i(5),h=new i(16),m=new i(20);s--;)f=a.times(a),a=a.times(d.plus(f.times(h.times(f).minus(m))));return a}(r,Hj(r,e)),r.precision=n,r.rounding=t,wo(lv>2?e.neg():e,n,t,!0)):new r(NaN)},pn.squareRoot=pn.sqrt=function(){var n,t,e,r,i,a,s=this,c=s.d,f=s.e,d=s.s,h=s.constructor;if(d!==1||!c||!c[0])return new h(!d||d<0&&(!c||c[0])?NaN:c?s:1/0);for(Ba=!1,(d=Math.sqrt(+s))==0||d==1/0?(((t=Ap(c)).length+f)%2==0&&(t+="0"),d=Math.sqrt(t),f=Xp((f+1)/2)-(f<0||f%2),r=new h(t=d==1/0?"5e"+f:(t=d.toExponential()).slice(0,t.indexOf("e")+1)+f)):r=new h(d.toString()),e=(f=h.precision)+3;;)if(r=(a=r).plus(Sf(s,a,e+2,1)).times(.5),Ap(a.d).slice(0,e)===(t=Ap(r.d)).slice(0,e)){if((t=t.slice(e-3,e+1))!="9999"&&(i||t!="4999")){+t&&(+t.slice(1)||t.charAt(0)!="5")||(wo(r,f+1,1),n=!r.times(r).eq(s));break}if(!i&&(wo(a,f+1,0),a.times(a).eq(s))){r=a;break}e+=4,i=1}return Ba=!0,wo(r,f,h.rounding,n)},pn.tangent=pn.tan=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+10,r.rounding=1,(e=e.sin()).s=1,e=Sf(e,new r(1).minus(e.times(e)).sqrt(),n+10,0),r.precision=n,r.rounding=t,wo(lv==2||lv==4?e.neg():e,n,t,!0)):new r(NaN)},pn.times=pn.mul=function(n){var t,e,r,i,a,s,c,f,d,h=this,m=h.constructor,y=h.d,w=(n=new m(n)).d;if(n.s*=h.s,!(y&&y[0]&&w&&w[0]))return new m(!n.s||y&&!y[0]&&!w||w&&!w[0]&&!y?NaN:y&&w?0*n.s:n.s/0);for(e=Xp(h.e/7)+Xp(n.e/7),(f=y.length)<(d=w.length)&&(a=y,y=w,w=a,s=f,f=d,d=s),a=[],r=s=f+d;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)c=a[i]+w[r]*y[i-r-1]+t,a[i--]=c%zg|0,t=c/zg|0;a[i]=(a[i]+t)%zg|0}for(;!a[--s];)a.pop();return t?++e:a.shift(),n.d=a,n.e=iS(a,e),Ba?wo(n,m.precision,m.rounding):n},pn.toBinary=function(n,t){return Dk(this,2,n,t)},pn.toDecimalPlaces=pn.toDP=function(n,t){var e=this,r=e.constructor;return e=new r(e),n===void 0?e:(Ad(n,0,zv),t===void 0?t=r.rounding:Ad(t,0,8),wo(e,n+e.e+1,t))},pn.toExponential=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=_m(r,!0):(Ad(n,0,zv),t===void 0?t=i.rounding:Ad(t,0,8),e=_m(r=wo(new i(r),n+1,t),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+e:e},pn.toFixed=function(n,t){var e,r,i=this,a=i.constructor;return n===void 0?e=_m(i):(Ad(n,0,zv),t===void 0?t=a.rounding:Ad(t,0,8),e=_m(r=wo(new a(i),n+i.e+1,t),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e},pn.toFraction=function(n){var t,e,r,i,a,s,c,f,d,h,m,y,w=this,C=w.d,k=w.constructor;if(!C)return new k(w);if(d=e=new k(1),r=f=new k(0),s=(a=(t=new k(r)).e=$j(C)-w.e-1)%7,t.d[0]=ip(10,s<0?7+s:s),n==null)n=a>0?t:d;else{if(!(c=new k(n)).isInt()||c.lt(d))throw Error(s0+c);n=c.gt(t)?a>0?t:d:c}for(Ba=!1,c=new k(Ap(C)),h=k.precision,k.precision=a=7*C.length*2;m=Sf(c,t,0,1,1),(i=e.plus(m.times(r))).cmp(n)!=1;)e=r,r=i,i=d,d=f.plus(m.times(i)),f=i,i=t,t=c.minus(m.times(i)),c=i;return i=Sf(n.minus(e),r,0,1,1),f=f.plus(i.times(d)),e=e.plus(i.times(r)),f.s=d.s=w.s,y=Sf(d,r,a,1).minus(w).abs().cmp(Sf(f,e,a,1).minus(w).abs())<1?[d,r]:[f,e],k.precision=h,Ba=!0,y},pn.toHexadecimal=pn.toHex=function(n,t){return Dk(this,16,n,t)},pn.toNearest=function(n,t){var e=this,r=e.constructor;if(e=new r(e),n==null){if(!e.d)return e;n=new r(1),t=r.rounding}else{if(n=new r(n),t===void 0?t=r.rounding:Ad(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(Ba=!1,e=Sf(e,n,0,t,1).times(n),Ba=!0,wo(e)):(n.s=e.s,e=n),e},pn.toNumber=function(){return+this},pn.toOctal=function(n,t){return Dk(this,8,n,t)},pn.toPower=pn.pow=function(n){var t,e,r,i,a,s,c=this,f=c.constructor,d=+(n=new f(n));if(!(c.d&&n.d&&c.d[0]&&n.d[0]))return new f(ip(+c,d));if((c=new f(c)).eq(1))return c;if(r=f.precision,a=f.rounding,n.eq(1))return wo(c,r,a);if((t=Xp(n.e/7))>=n.d.length-1&&(e=d<0?-d:d)<=9007199254740991)return i=lH(f,c,e,r),n.s<0?new f(1).div(i):wo(i,r,a);if((s=c.s)<0){if(t<n.d.length-1)return new f(NaN);if(1&n.d[t]||(s=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=s,c}return(t=(e=ip(+c,d))!=0&&isFinite(e)?new f(e+"").e:Xp(d*(Math.log("0."+Ap(c.d))/Math.LN10+c.e+1)))>f.maxE+1||t<f.minE-1?new f(t>0?s/0:0):(Ba=!1,f.rounding=c.s=1,e=Math.min(12,(t+"").length),(i=bk(n.times(Av(c,r+e)),r)).d&&bx((i=wo(i,r+5,1)).d,r,a)&&(t=r+10,+Ap((i=wo(bk(n.times(Av(c,t+e)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=wo(i,r+1,0))),i.s=s,Ba=!0,f.rounding=a,wo(i,r,a))},pn.toPrecision=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=_m(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Ad(n,1,zv),t===void 0?t=i.rounding:Ad(t,0,8),e=_m(r=wo(new i(r),n,t),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+e:e},pn.toSignificantDigits=pn.toSD=function(n,t){var e=this.constructor;return n===void 0?(n=e.precision,t=e.rounding):(Ad(n,1,zv),t===void 0?t=e.rounding:Ad(t,0,8)),wo(new e(this),n,t)},pn.toString=function(){var n=this,t=n.constructor,e=_m(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},pn.truncated=pn.trunc=function(){return wo(new this.constructor(this),this.e+1,1)},pn.valueOf=pn.toJSON=function(){var n=this,t=n.constructor,e=_m(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var Sf=function(){function n(r,i,a){var s,c=0,f=r.length;for(r=r.slice();f--;)s=r[f]*i+c,r[f]=s%a|0,c=s/a|0;return c&&r.unshift(c),r}function t(r,i,a,s){var c,f;if(a!=s)f=a>s?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function e(r,i,a,s){for(var c=0;a--;)r[a]-=c,c=r[a]<i[a]?1:0,r[a]=c*s+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s,c,f){var d,h,m,y,w,C,k,M,N,B,L,z,q,V,X,nt,it,ct,ft,gt,Ct=r.constructor,kt=r.s==i.s?1:-1,Tt=r.d,At=i.d;if(!(Tt&&Tt[0]&&At&&At[0]))return new Ct(r.s&&i.s&&(Tt?!At||Tt[0]!=At[0]:At)?Tt&&Tt[0]==0||!At?0*kt:kt/0:NaN);for(f?(w=1,h=r.e-i.e):(f=zg,w=7,h=Xp(r.e/w)-Xp(i.e/w)),ft=At.length,it=Tt.length,B=(N=new Ct(kt)).d=[],m=0;At[m]==(Tt[m]||0);m++);if(At[m]>(Tt[m]||0)&&h--,a==null?(V=a=Ct.precision,s=Ct.rounding):V=c?a+(r.e-i.e)+1:a,V<0)B.push(1),C=!0;else{if(V=V/w+2|0,m=0,ft==1){for(y=0,At=At[0],V++;(m<it||y)&&V--;m++)X=y*f+(Tt[m]||0),B[m]=X/At|0,y=X%At|0;C=y||m<it}else{for((y=f/(At[0]+1)|0)>1&&(At=n(At,y,f),Tt=n(Tt,y,f),ft=At.length,it=Tt.length),nt=ft,z=(L=Tt.slice(0,ft)).length;z<ft;)L[z++]=0;(gt=At.slice()).unshift(0),ct=At[0],At[1]>=f/2&&++ct;do y=0,(d=t(At,L,ft,z))<0?(q=L[0],ft!=z&&(q=q*f+(L[1]||0)),(y=q/ct|0)>1?(y>=f&&(y=f-1),(d=t(k=n(At,y,f),L,M=k.length,z=L.length))==1&&(y--,e(k,ft<M?gt:At,M,f))):(y==0&&(d=y=1),k=At.slice()),(M=k.length)<z&&k.unshift(0),e(L,k,z,f),d==-1&&(d=t(At,L,ft,z=L.length))<1&&(y++,e(L,ft<z?gt:At,z,f)),z=L.length):d===0&&(y++,L=[0]),B[m++]=y,d&&L[0]?L[z++]=Tt[nt]||0:(L=[Tt[nt]],z=1);while((nt++<it||L[0]!==void 0)&&V--);C=L[0]!==void 0}B[0]||B.shift()}if(w==1)N.e=h,oH=C;else{for(m=1,y=B[0];y>=10;y/=10)m++;N.e=m+h*w-1,wo(N,c?a+N.e+1:a,s,C)}return N}}();function wo(n,t,e,r){var i,a,s,c,f,d,h,m,y,w=n.constructor;t:if(t!=null){if(!(m=n.d))return n;for(i=1,c=m[0];c>=10;c/=10)i++;if((a=t-i)<0)a+=7,s=t,f=(h=m[y=0])/ip(10,i-s-1)%10|0;else if((y=Math.ceil((a+1)/7))>=(c=m.length)){if(!r)break t;for(;c++<=y;)m.push(0);h=f=0,i=1,s=(a%=7)-7+1}else{for(h=c=m[y],i=1;c>=10;c/=10)i++;f=(s=(a%=7)-7+i)<0?0:h/ip(10,i-s-1)%10|0}if(r=r||t<0||m[y+1]!==void 0||(s<0?h:h%ip(10,i-s-1)),d=e<4?(f||r)&&(e==0||e==(n.s<0?3:2)):f>5||f==5&&(e==4||r||e==6&&(a>0?s>0?h/ip(10,i-s):0:m[y-1])%10&1||e==(n.s<0?8:7)),t<1||!m[0])return m.length=0,d?(t-=n.e+1,m[0]=ip(10,(7-t%7)%7),n.e=-t||0):m[0]=n.e=0,n;if(a==0?(m.length=y,c=1,y--):(m.length=y+1,c=ip(10,7-a),m[y]=s>0?(h/ip(10,i-s)%ip(10,s)|0)*c:0),d)for(;;){if(y==0){for(a=1,s=m[0];s>=10;s/=10)a++;for(s=m[0]+=c,c=1;s>=10;s/=10)c++;a!=c&&(n.e++,m[0]==zg&&(m[0]=1));break}if(m[y]+=c,m[y]!=zg)break;m[y--]=0,c=1}for(a=m.length;m[--a]===0;)m.pop()}return Ba&&(n.e>w.maxE?(n.d=null,n.e=NaN):n.e<w.minE&&(n.e=0,n.d=[0])),n}function _m(n,t,e){if(!n.isFinite())return fH(n);var r,i=n.e,a=Ap(n.d),s=a.length;return t?(e&&(r=e-s)>0?a=a.charAt(0)+"."+a.slice(1)+Ov(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):i<0?(a="0."+Ov(-i-1)+a,e&&(r=e-s)>0&&(a+=Ov(r))):i>=s?(a+=Ov(i+1-s),e&&(r=e-i-1)>0&&(a=a+"."+Ov(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),e&&(r=e-s)>0&&(i+1===s&&(a+="."),a+=Ov(r))),a}function iS(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function A2(n,t,e){if(t>Urt)throw Ba=!0,e&&(n.precision=e),Error(aH);return wo(new n(S2),t,1,!0)}function Kg(n,t,e){if(t>vP)throw Error(aH);return wo(new n(E2),t,e,!0)}function $j(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function Ov(n){for(var t="";n--;)t+="0";return t}function lH(n,t,e,r){var i,a=new n(1),s=Math.ceil(r/7+4);for(Ba=!1;;){if(e%2&&Vj((a=a.times(t)).d,s)&&(i=!0),(e=Xp(e/2))===0){e=a.d.length-1,i&&a.d[e]===0&&++a.d[e];break}Vj((t=t.times(t)).d,s)}return Ba=!0,a}function Wj(n){return 1&n.d[n.d.length-1]}function cH(n,t,e){for(var r,i=new n(t[0]),a=0;++a<t.length;){if(!(r=new n(t[a])).s){i=r;break}i[e](r)&&(i=r)}return i}function bk(n,t){var e,r,i,a,s,c,f,d=0,h=0,m=0,y=n.constructor,w=y.rounding,C=y.precision;if(!n.d||!n.d[0]||n.e>17)return new y(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(t==null?(Ba=!1,f=C):f=t,c=new y(.03125);n.e>-2;)n=n.times(c),m+=5;for(f+=r=Math.log(ip(2,m))/Math.LN10*2+5|0,e=a=s=new y(1),y.precision=f;;){if(a=wo(a.times(n),f,1),e=e.times(++h),Ap((c=s.plus(Sf(a,e,f,1))).d).slice(0,f)===Ap(s.d).slice(0,f)){for(i=m;i--;)s=wo(s.times(s),f,1);if(t!=null)return y.precision=C,s;if(!(d<3&&bx(s.d,f-r,w,d)))return wo(s,y.precision=C,w,Ba=!0);y.precision=f+=10,e=a=c=new y(1),h=0,d++}s=c}}function Av(n,t){var e,r,i,a,s,c,f,d,h,m,y,w=1,C=n,k=C.d,M=C.constructor,N=M.rounding,B=M.precision;if(C.s<0||!k||!k[0]||!C.e&&k[0]==1&&k.length==1)return new M(k&&!k[0]?-1/0:C.s!=1?NaN:k?0:C);if(t==null?(Ba=!1,h=B):h=t,M.precision=h+=10,r=(e=Ap(k)).charAt(0),!(Math.abs(a=C.e)<15e14))return d=A2(M,h+2,B).times(a+""),C=Av(new M(r+"."+e.slice(1)),h-10).plus(d),M.precision=B,t==null?wo(C,B,N,Ba=!0):C;for(;r<7&&r!=1||r==1&&e.charAt(1)>3;)r=(e=Ap((C=C.times(n)).d)).charAt(0),w++;for(a=C.e,r>1?(C=new M("0."+e),a++):C=new M(r+"."+e.slice(1)),m=C,f=s=C=Sf(C.minus(1),C.plus(1),h,1),y=wo(C.times(C),h,1),i=3;;){if(s=wo(s.times(y),h,1),Ap((d=f.plus(Sf(s,new M(i),h,1))).d).slice(0,h)===Ap(f.d).slice(0,h)){if(f=f.times(2),a!==0&&(f=f.plus(A2(M,h+2,B).times(a+""))),f=Sf(f,new M(w),h,1),t!=null)return M.precision=B,f;if(!bx(f.d,h-10,N,c))return wo(f,M.precision=B,N,Ba=!0);M.precision=h+=10,d=s=C=Sf(m.minus(1),m.plus(1),h,1),y=wo(C.times(C),h,1),i=c=1}f=d,i+=2}}function fH(n){return String(n.s*n.s/0)}function xk(n,t){var e,r,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i)){if(i-=r,n.e=e=e-r-1,n.d=[],r=(e+1)%7,e<0&&(r+=7),r<i){for(r&&n.d.push(+t.slice(0,r)),i-=7;r<i;)n.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";n.d.push(+t),Ba&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Uy(n,t,e,r,i){var a,s,c,f,d=n.precision,h=Math.ceil(d/7);for(Ba=!1,f=e.times(e),c=new n(r);;){if(s=Sf(c.times(f),new n(t++*t++),d,1),c=i?r.plus(s):r.minus(s),r=Sf(s.times(f),new n(t++*t++),d,1),(s=c.plus(r)).d[h]!==void 0){for(a=h;s.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=r,r=s,s=a}return Ba=!0,s.d.length=h+1,s}function $C(n,t){for(var e=n;--t;)e*=n;return e}function Hj(n,t){var e,r=t.s<0,i=Kg(n,n.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return lv=r?4:1,t;if((e=t.divToInt(i)).isZero())lv=r?3:2;else{if((t=t.minus(e.times(i))).lte(a))return lv=Wj(e)?r?2:3:r?4:1,t;lv=Wj(e)?r?1:4:r?3:2}return t.minus(i).abs()}function Dk(n,t,e,r){var i,a,s,c,f,d,h,m,y,w=n.constructor,C=e!==void 0;if(C?(Ad(e,1,zv),r===void 0?r=w.rounding:Ad(r,0,8)):(e=w.precision,r=w.rounding),n.isFinite()){for(C?(i=2,t==16?e=4*e-3:t==8&&(e=3*e-2)):i=t,(s=(h=_m(n)).indexOf("."))>=0&&(h=h.replace(".",""),(y=new w(1)).e=h.length-s,y.d=rS(_m(y),10,i),y.e=y.d.length),a=f=(m=rS(h,10,i)).length;m[--f]==0;)m.pop();if(m[0]){if(s<0?a--:((n=new w(n)).d=m,n.e=a,m=(n=Sf(n,y,e,r,0,i)).d,a=n.e,d=oH),s=m[e],c=i/2,d=d||m[e+1]!==void 0,d=r<4?(s!==void 0||d)&&(r===0||r===(n.s<0?3:2)):s>c||s===c&&(r===4||d||r===6&&1&m[e-1]||r===(n.s<0?8:7)),m.length=e,d)for(;++m[--e]>i-1;)m[e]=0,e||(++a,m.unshift(1));for(f=m.length;!m[f-1];--f);for(s=0,h="";s<f;s++)h+=gP.charAt(m[s]);if(C){if(f>1)if(t==16||t==8){for(s=t==16?4:3,--f;f%s;f++)h+="0";for(f=(m=rS(h,i,t)).length;!m[f-1];--f);for(s=1,h="1.";s<f;s++)h+=gP.charAt(m[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>f)for(a-=f;a--;)h+="0";else a<f&&(h=h.slice(0,a)+"."+h.slice(a))}else h=C?"0p+0":"0";h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}else h=fH(n);return n.s<0?"-"+h:h}function Vj(n,t){if(n.length>t)return n.length=t,!0}function $rt(n){return new this(n).abs()}function Wrt(n){return new this(n).acos()}function Hrt(n){return new this(n).acosh()}function Vrt(n,t){return new this(n).plus(t)}function qrt(n){return new this(n).asin()}function Krt(n){return new this(n).asinh()}function Grt(n){return new this(n).atan()}function Yrt(n){return new this(n).atanh()}function Xrt(n,t){n=new this(n),t=new this(t);var e,r=this.precision,i=this.rounding,a=r+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Kg(this,r,i):new this(0)).s=n.s:!n.d||t.isZero()?(e=Kg(this,a,1).times(.5)).s=n.s:t.s<0?(this.precision=a,this.rounding=1,e=this.atan(Sf(n,t,a,1)),t=Kg(this,a,1),this.precision=r,this.rounding=i,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(Sf(n,t,a,1)):(e=Kg(this,a,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function Jrt(n){return new this(n).cbrt()}function Qrt(n){return wo(n=new this(n),n.e+1,2)}function Zrt(n,t,e){return new this(n).clamp(t,e)}function tit(n){if(!n||typeof n!="object")throw Error(zE+"Object expected");var t,e,r,i=n.defaults===!0,a=["precision",1,zv,"rounding",0,8,"toExpNeg",-dw,0,"toExpPos",0,dw,"maxE",0,dw,"minE",-dw,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(e=a[t],i&&(this[e]=mP[e]),(r=n[e])!==void 0){if(!(Xp(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(s0+e+": "+r);this[e]=r}if(e="crypto",i&&(this[e]=mP[e]),(r=n[e])!==void 0){if(r!==!0&&r!==!1&&r!==0&&r!==1)throw Error(s0+e+": "+r);if(r){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(sH);this[e]=!0}else this[e]=!1}return this}function eit(n){return new this(n).cos()}function nit(n){return new this(n).cosh()}function rit(n,t){return new this(n).div(t)}function iit(n){return new this(n).exp()}function oit(n){return wo(n=new this(n),n.e+1,3)}function ait(){var n,t,e=new this(0);for(Ba=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Ba=!0,new this(1/0);e=t}return Ba=!0,e.sqrt()}function qj(n){return n instanceof tb||n&&n.toStringTag===uH||!1}function sit(n){return new this(n).ln()}function uit(n,t){return new this(n).log(t)}function lit(n){return new this(n).log(2)}function cit(n){return new this(n).log(10)}function fit(){return cH(this,arguments,"lt")}function hit(){return cH(this,arguments,"gt")}function pit(n,t){return new this(n).mod(t)}function dit(n,t){return new this(n).mul(t)}function git(n,t){return new this(n).pow(t)}function mit(n){var t,e,r,i,a=0,s=new this(1),c=[];if(n===void 0?n=this.precision:Ad(n,1,zv),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(sH);for(t=crypto.randomBytes(r*=4);a<r;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(c.push(i%1e7),a+=4);a=r/4}else for(;a<r;)c[a++]=1e7*Math.random()|0;for(n%=7,(r=c[--a])&&n&&(i=ip(10,7-n),c[a]=(r/i|0)*i);c[a]===0;a--)c.pop();if(a<0)e=0,c=[0];else{for(e=-1;c[0]===0;e-=7)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<7&&(e-=7-r)}return s.e=e,s.d=c,s}function vit(n){return wo(n=new this(n),n.e+1,this.rounding)}function yit(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function wit(n){return new this(n).sin()}function bit(n){return new this(n).sinh()}function xit(n){return new this(n).sqrt()}function Dit(n,t){return new this(n).sub(t)}function Cit(){var n=0,t=arguments,e=new this(t[n]);for(Ba=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return Ba=!0,wo(e,this.precision,this.rounding)}function _it(n){return new this(n).tan()}function Sit(n){return new this(n).tanh()}function Eit(n){return wo(n=new this(n),n.e+1,1)}pn[Symbol.for("nodejs.util.inspect.custom")]=pn.toString,pn[Symbol.toStringTag]="Decimal";var tb=pn.constructor=function n(t){var e,r,i;function a(s){var c,f,d,h=this;if(!(h instanceof a))return new a(s);if(h.constructor=a,qj(s))return h.s=s.s,void(Ba?!s.d||s.e>a.maxE?(h.e=NaN,h.d=null):s.e<a.minE?(h.e=0,h.d=[0]):(h.e=s.e,h.d=s.d.slice()):(h.e=s.e,h.d=s.d?s.d.slice():s.d));if((d=typeof s)=="number"){if(s===0)return h.s=1/s<0?-1:1,h.e=0,void(h.d=[0]);if(s<0?(s=-s,h.s=-1):h.s=1,s===~~s&&s<1e7){for(c=0,f=s;f>=10;f/=10)c++;return void(Ba?c>a.maxE?(h.e=NaN,h.d=null):c<a.minE?(h.e=0,h.d=[0]):(h.e=c,h.d=[s]):(h.e=c,h.d=[s]))}return 0*s!=0?(s||(h.s=NaN),h.e=NaN,void(h.d=null)):xk(h,s.toString())}if(d!=="string")throw Error(s0+s);return(f=s.charCodeAt(0))===45?(s=s.slice(1),h.s=-1):(f===43&&(s=s.slice(1)),h.s=1),Uj.test(s)?xk(h,s):function(m,y){var w,C,k,M,N,B,L,z,q;if(y.indexOf("_")>-1){if(y=y.replace(/(\d)_(?=\d)/g,"$1"),Uj.test(y))return xk(m,y)}else if(y==="Infinity"||y==="NaN")return+y||(m.s=NaN),m.e=NaN,m.d=null,m;if(Lrt.test(y))w=16,y=y.toLowerCase();else if(jrt.test(y))w=2;else{if(!zrt.test(y))throw Error(s0+y);w=8}for((M=y.search(/p/i))>0?(L=+y.slice(M+1),y=y.substring(2,M)):y=y.slice(2),N=(M=y.indexOf("."))>=0,C=m.constructor,N&&(M=(B=(y=y.replace(".","")).length)-M,k=lH(C,new C(w),M,2*M)),M=q=(z=rS(y,w,zg)).length-1;z[M]===0;--M)z.pop();return M<0?new C(0*m.s):(m.e=iS(z,q),m.d=z,Ba=!1,N&&(m=Sf(m,k,4*B)),L&&(m=m.times(Math.abs(L)<54?ip(2,L):tb.pow(2,L))),Ba=!0,m)}(h,s)}if(a.prototype=pn,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=tit,a.clone=n,a.isDecimal=qj,a.abs=$rt,a.acos=Wrt,a.acosh=Hrt,a.add=Vrt,a.asin=qrt,a.asinh=Krt,a.atan=Grt,a.atanh=Yrt,a.atan2=Xrt,a.cbrt=Jrt,a.ceil=Qrt,a.clamp=Zrt,a.cos=eit,a.cosh=nit,a.div=rit,a.exp=iit,a.floor=oit,a.hypot=ait,a.ln=sit,a.log=uit,a.log10=cit,a.log2=lit,a.max=fit,a.min=hit,a.mod=pit,a.mul=dit,a.pow=git,a.random=mit,a.round=vit,a.sign=yit,a.sin=wit,a.sinh=bit,a.sqrt=xit,a.sub=Dit,a.sum=Cit,a.tan=_it,a.tanh=Sit,a.trunc=Eit,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(r=i[e++])||(t[r]=this[r]);return a.config(t),a}(mP);S2=new tb(S2),E2=new tb(E2);var Ait=Ff("BigNumber",["?on","config"],n=>{var{on:t,config:e}=n,r=tb.clone({precision:e.precision,modulo:tb.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Kp=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},pg=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},Ck=function(n,t){return(n=Math.abs(n))<(t=Math.abs(t))&&([n,t]=[t,n]),n<1e8?Math.sqrt(n*n+t*t):(t/=n,n*Math.sqrt(1+t*t))},$y=function(){throw SyntaxError("Invalid Param")};function _k(n,t){const e=Math.abs(n),r=Math.abs(t);return n===0?Math.log(r):t===0?Math.log(e):e<3e3&&r<3e3?.5*Math.log(n*n+t*t):(n*=.5,t*=.5,.5*Math.log(n*n+t*t)+Math.LN2)}const kit={re:0,im:0},z0=function(n,t){const e=kit;if(n==null)e.re=e.im=0;else if(t!==void 0)e.re=n,e.im=t;else switch(typeof n){case"object":if("im"in n&&"re"in n)e.re=n.re,e.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Ge.INFINITY;e.re=n.abs*Math.cos(n.arg),e.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Ge.INFINITY;e.re=n.r*Math.cos(n.phi),e.im=n.r*Math.sin(n.phi)}else n.length===2?(e.re=n[0],e.im=n[1]):$y();break;case"string":e.im=e.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;r===null&&$y();for(let s=0;s<r.length;s++){const c=r[s];c===" "||c==="	"||c===`
`||(c==="+"?i++:c==="-"?a++:c==="i"||c==="I"?(i+a===0&&$y(),r[s+1]===" "||isNaN(r[s+1])?e.im+=parseFloat((a%2?"-":"")+"1"):(e.im+=parseFloat((a%2?"-":"")+r[s+1]),s++),i=a=0):((i+a===0||isNaN(c))&&$y(),r[s+1]==="i"||r[s+1]==="I"?(e.im+=parseFloat((a%2?"-":"")+c),s++):e.re+=parseFloat((a%2?"-":"")+c),i=a=0))}i+a>0&&$y();break;case"number":e.im=0,e.re=n;break;default:$y()}return isNaN(e.re)||isNaN(e.im),e};function Ge(n,t){if(!(this instanceof Ge))return new Ge(n,t);const e=z0(n,t);this.re=e.re,this.im=e.im}Ge.prototype={re:0,im:0,sign:function(){const n=Ck(this.re,this.im);return new Ge(this.re/n,this.im/n)},add:function(n,t){const e=z0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return r||i?r&&i?Ge.NAN:Ge.INFINITY:new Ge(this.re+e.re,this.im+e.im)},sub:function(n,t){const e=z0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return r||i?r&&i?Ge.NAN:Ge.INFINITY:new Ge(this.re-e.re,this.im-e.im)},mul:function(n,t){const e=z0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),a=this.re===0&&this.im===0,s=e.re===0&&e.im===0;return r&&s||i&&a?Ge.NAN:r||i?Ge.INFINITY:e.im===0&&this.im===0?new Ge(this.re*e.re,0):new Ge(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(n,t){const e=z0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),a=this.re===0&&this.im===0,s=e.re===0&&e.im===0;if(a&&s||r&&i)return Ge.NAN;if(s||r)return Ge.INFINITY;if(a||i)return Ge.ZERO;if(e.im===0)return new Ge(this.re/e.re,this.im/e.re);if(Math.abs(e.re)<Math.abs(e.im)){const c=e.re/e.im,f=e.re*c+e.im;return new Ge((this.re*c+this.im)/f,(this.im*c-this.re)/f)}{const c=e.im/e.re,f=e.im*c+e.re;return new Ge((this.re+this.im*c)/f,(this.im-this.re*c)/f)}},pow:function(n,t){const e=z0(n,t),r=this.re===0&&this.im===0;if(e.re===0&&e.im===0)return Ge.ONE;if(e.im===0){if(this.im===0&&this.re>0)return new Ge(Math.pow(this.re,e.re),0);if(this.re===0)switch((e.re%4+4)%4){case 0:return new Ge(Math.pow(this.im,e.re),0);case 1:return new Ge(0,Math.pow(this.im,e.re));case 2:return new Ge(-Math.pow(this.im,e.re),0);case 3:return new Ge(0,-Math.pow(this.im,e.re))}}if(r&&e.re>0)return Ge.ZERO;const i=Math.atan2(this.im,this.re),a=_k(this.re,this.im);let s=Math.exp(e.re*a-e.im*i),c=e.im*a+e.re*i;return new Ge(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const n=this.re,t=this.im;if(t===0)return n>=0?new Ge(Math.sqrt(n),0):new Ge(0,Math.sqrt(-n));const e=Ck(n,t);let r=Math.sqrt(.5*(e+Math.abs(n))),i=Math.abs(t)/(2*r);return n>=0?new Ge(r,t<0?-i:i):new Ge(i,t<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Ge(n,0):new Ge(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,t=this.im;return new Ge(Math.expm1(n)*Math.cos(t)+function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const i=e*e;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(n)*Math.sin(t))},log:function(){const n=this.re,t=this.im;return t===0&&n>0?new Ge(Math.log(n),0):new Ge(_k(n,t),Math.atan2(t,n))},abs:function(){return Ck(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,t=this.im;return new Ge(Math.sin(n)*Kp(t),Math.cos(n)*pg(t))},cos:function(){const n=this.re,t=this.im;return new Ge(Math.cos(n)*Kp(t),-Math.sin(n)*pg(t))},tan:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)+Kp(t);return new Ge(Math.sin(n)/e,pg(t)/e)},cot:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)-Kp(t);return new Ge(-Math.sin(n)/e,pg(t)/e)},sec:function(){const n=this.re,t=this.im,e=.5*Kp(2*t)+.5*Math.cos(2*n);return new Ge(Math.cos(n)*Kp(t)/e,Math.sin(n)*pg(t)/e)},csc:function(){const n=this.re,t=this.im,e=.5*Kp(2*t)-.5*Math.cos(2*n);return new Ge(Math.sin(n)*Kp(t)/e,-Math.cos(n)*pg(t)/e)},asin:function(){const n=this.re,t=this.im,e=new Ge(t*t-n*n+1,-2*n*t).sqrt(),r=new Ge(e.re-t,e.im+n).log();return new Ge(r.im,-r.re)},acos:function(){const n=this.re,t=this.im,e=new Ge(t*t-n*n+1,-2*n*t).sqrt(),r=new Ge(e.re-t,e.im+n).log();return new Ge(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,t=this.im;if(n===0){if(t===1)return new Ge(0,1/0);if(t===-1)return new Ge(0,-1/0)}const e=n*n+(1-t)*(1-t),r=new Ge((1-t*t-n*n)/e,-2*n/e).log();return new Ge(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,t=this.im;if(t===0)return new Ge(Math.atan2(1,n),0);const e=n*n+t*t;return e!==0?new Ge(n/e,-t/e).atan():new Ge(n!==0?n/0:0,t!==0?-t/0:0).atan()},asec:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ge(0,1/0);const e=n*n+t*t;return e!==0?new Ge(n/e,-t/e).acos():new Ge(n!==0?n/0:0,t!==0?-t/0:0).acos()},acsc:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ge(Math.PI/2,1/0);const e=n*n+t*t;return e!==0?new Ge(n/e,-t/e).asin():new Ge(n!==0?n/0:0,t!==0?-t/0:0).asin()},sinh:function(){const n=this.re,t=this.im;return new Ge(pg(n)*Math.cos(t),Kp(n)*Math.sin(t))},cosh:function(){const n=this.re,t=this.im;return new Ge(Kp(n)*Math.cos(t),pg(n)*Math.sin(t))},tanh:function(){const n=2*this.re,t=2*this.im,e=Kp(n)+Math.cos(t);return new Ge(pg(n)/e,Math.sin(t)/e)},coth:function(){const n=2*this.re,t=2*this.im,e=Kp(n)-Math.cos(t);return new Ge(pg(n)/e,-Math.sin(t)/e)},csch:function(){const n=this.re,t=this.im,e=Math.cos(2*t)-Kp(2*n);return new Ge(-2*pg(n)*Math.cos(t)/e,2*Kp(n)*Math.sin(t)/e)},sech:function(){const n=this.re,t=this.im,e=Math.cos(2*t)+Kp(2*n);return new Ge(2*Kp(n)*Math.cos(t)/e,-2*pg(n)*Math.sin(t)/e)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const t=this.asin();return this.re=-this.im,this.im=n,n=t.re,t.re=-t.im,t.im=n,t},acosh:function(){const n=this.acos();if(n.im<=0){const t=n.re;n.re=-n.im,n.im=t}else{const t=n.im;n.im=-n.re,n.re=t}return n},atanh:function(){const n=this.re,t=this.im,e=n>1&&t===0,r=1-n,i=1+n,a=r*r+t*t,s=a!==0?new Ge((i*r-t*t)/a,(t*r+i*t)/a):new Ge(n!==-1?n/0:0,t!==0?t/0:0),c=s.re;return s.re=_k(s.re,s.im)/2,s.im=Math.atan2(s.im,c)/2,e&&(s.im=-s.im),s},acoth:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ge(0,Math.PI/2);const e=n*n+t*t;return e!==0?new Ge(n/e,-t/e).atanh():new Ge(n!==0?n/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const n=this.re,t=this.im;if(t===0)return new Ge(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const e=n*n+t*t;return e!==0?new Ge(n/e,-t/e).asinh():new Ge(n!==0?n/0:0,t!==0?-t/0:0).asinh()},asech:function(){const n=this.re,t=this.im;if(this.isZero())return Ge.INFINITY;const e=n*n+t*t;return e!==0?new Ge(n/e,-t/e).acosh():new Ge(n!==0?n/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return Ge.INFINITY;if(this.isInfinite())return Ge.ZERO;const n=this.re,t=this.im,e=n*n+t*t;return new Ge(n/e,-t/e)},conjugate:function(){return new Ge(this.re,-this.im)},neg:function(){return new Ge(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Ge(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Ge(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Ge(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,t){const e=z0(n,t);return Math.abs(e.re-this.re)<=Ge.EPSILON&&Math.abs(e.im-this.im)<=Ge.EPSILON},clone:function(){return new Ge(this.re,this.im)},toString:function(){let n=this.re,t=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Ge.EPSILON&&(n=0),Math.abs(t)<Ge.EPSILON&&(t=0),t===0?e+n:(n!==0?(e+=n,e+=" ",t<0?(t=-t,e+="-"):e+="+",e+=" "):t<0&&(t=-t,e+="-"),t!==1&&(e+=t),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Ge.ZERO=new Ge(0,0),Ge.ONE=new Ge(1,0),Ge.I=new Ge(0,1),Ge.PI=new Ge(Math.PI,0),Ge.E=new Ge(Math.E,0),Ge.INFINITY=new Ge(1/0,1/0),Ge.NAN=new Ge(NaN,NaN),Ge.EPSILON=1e-15;var Mit=Ff("Complex",[],()=>(Object.defineProperty(Ge,"name",{value:"Complex"}),Ge.prototype.constructor=Ge,Ge.prototype.type="Complex",Ge.prototype.isComplex=!0,Ge.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ge.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ge.prototype.format=function(n){var t=this.im,e=this.re,r=dP(this.re,n),i=dP(this.im,n),a=Kf(n)?n:n?n.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(e/t)<s&&(e=0),Math.abs(t/e)<s&&(t=0)}return t===0?r:e===0?t===1?"i":t===-1?"-i":i+"i":t<0?t===-1?r+" - i":r+" - "+i.substring(1)+"i":t===1?r+" + i":r+" + "+i+"i"},Ge.fromPolar=function(n){switch(arguments.length){case 1:var t=arguments[0];if(typeof t=="object")return Ge(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var e=arguments[0],r=arguments[1];if(Kf(e)){if(nH(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Kf(r))return new Ge({r:e,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ge.prototype.valueOf=Ge.prototype.toString,Ge.fromJSON=function(n){return new Ge(n)},Ge.compare=function(n,t){return n.re>t.re?1:n.re<t.re?-1:n.im>t.im?1:n.im<t.im?-1:0},Ge),{isClass:!0}),Oi={s:1,n:0,d:1};function rv(n,t){if(isNaN(n=parseInt(n,10)))throw oS();return n*t}function Sh(n,t){if(t===0)throw ZO();var e=Object.create(Zp.prototype);e.s=n<0?-1:1;var r=gw(n=n<0?-n:n,t);return e.n=n/r,e.d=t/r,e}function Kj(n){for(var t={},e=n,r=2,i=4;i<=e;){for(;e%r==0;)e/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return e!==n?e>1&&(t[e]=(t[e]||0)+1):t[n]=(t[n]||0)+1,t}var Gd=function(n,t){var e,r=0,i=1,a=1,s=0,c=0,f=0,d=1,h=1,m=0,y=1,w=1,C=1,k=1e7;if(n!=null)if(t!==void 0){if(a=(r=n)*(i=t),r%1!=0||i%1!=0)throw Fit()}else switch(typeof n){case"object":if("d"in n&&"n"in n)r=n.n,i=n.d,"s"in n&&(r*=n.s);else{if(!(0 in n))throw oS();r=n[0],1 in n&&(i=n[1])}a=r*i;break;case"number":if(n<0&&(a=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=h=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));y<=k&&C<=k;){if(n===(e=(m+w)/(y+C))){y+C<=k?(r=m+w,i=y+C):C>y?(r=w,i=C):(r=m,i=y);break}n>e?(m+=w,y+=C):(w+=m,C+=y),y>k?(r=w,i=C):(r=m,i=y)}r*=h}else(isNaN(n)||isNaN(t))&&(i=r=NaN);break;case"string":if((y=n.match(/\d+|./g))===null)throw oS();if(y[m]==="-"?(a=-1,m++):y[m]==="+"&&m++,y.length===m+1?c=rv(y[m++],a):y[m+1]==="."||y[m]==="."?(y[m]!=="."&&(s=rv(y[m++],a)),(1+ ++m===y.length||y[m+1]==="("&&y[m+3]===")"||y[m+1]==="'"&&y[m+3]==="'")&&(c=rv(y[m],a),d=Math.pow(10,y[m].length),m++),(y[m]==="("&&y[m+2]===")"||y[m]==="'"&&y[m+2]==="'")&&(f=rv(y[m+1],a),h=Math.pow(10,y[m+1].length)-1,m+=3)):y[m+1]==="/"||y[m+1]===":"?(c=rv(y[m],a),d=rv(y[m+2],1),m+=3):y[m+3]==="/"&&y[m+1]===" "&&(s=rv(y[m],a),c=rv(y[m+2],a),d=rv(y[m+4],1),m+=5),y.length<=m){a=r=f+(i=d*h)*s+h*c;break}default:throw oS()}if(i===0)throw ZO();Oi.s=a<0?-1:1,Oi.n=Math.abs(r),Oi.d=Math.abs(i)};function gw(n,t){if(!n)return t;if(!t)return n;for(;;){if(!(n%=t))return t;if(!(t%=n))return n}}function Zp(n,t){if(Gd(n,t),!(this instanceof Zp))return Sh(Oi.s*Oi.n,Oi.d);n=gw(Oi.d,Oi.n),this.s=Oi.s,this.n=Oi.n/n,this.d=Oi.d/n}var ZO=function(){return new Error("Division by Zero")},oS=function(){return new Error("Invalid argument")},Fit=function(){return new Error("Parameters must be integer")};Zp.prototype={s:1,n:0,d:1,abs:function(){return Sh(this.n,this.d)},neg:function(){return Sh(-this.s*this.n,this.d)},add:function(n,t){return Gd(n,t),Sh(this.s*this.n*Oi.d+Oi.s*this.d*Oi.n,this.d*Oi.d)},sub:function(n,t){return Gd(n,t),Sh(this.s*this.n*Oi.d-Oi.s*this.d*Oi.n,this.d*Oi.d)},mul:function(n,t){return Gd(n,t),Sh(this.s*Oi.s*this.n*Oi.n,this.d*Oi.d)},div:function(n,t){return Gd(n,t),Sh(this.s*Oi.s*this.n*Oi.d,this.d*Oi.n)},clone:function(){return Sh(this.s*this.n,this.d)},mod:function(n,t){if(isNaN(this.n)||isNaN(this.d))return new Zp(NaN);if(n===void 0)return Sh(this.s*this.n%this.d,1);if(Gd(n,t),Oi.n===0&&this.d===0)throw ZO();return Sh(this.s*(Oi.d*this.n)%(Oi.n*this.d),Oi.d*this.d)},gcd:function(n,t){return Gd(n,t),Sh(gw(Oi.n,this.n)*gw(Oi.d,this.d),Oi.d*this.d)},lcm:function(n,t){return Gd(n,t),Oi.n===0&&this.n===0?Sh(0,1):Sh(Oi.n*this.n,gw(Oi.n,this.n)*gw(Oi.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Zp(NaN):Sh(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Zp(NaN):Sh(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new Zp(NaN):Sh(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,t){return Gd(n,t),Sh(this.s*Math.round(this.n*Oi.d/(this.d*Oi.n))*Oi.n,Oi.d)},inverse:function(){return Sh(this.s*this.d,this.n)},pow:function(n,t){if(Gd(n,t),Oi.d===1)return Oi.s<0?Sh(Math.pow(this.s*this.d,Oi.n),Math.pow(this.n,Oi.n)):Sh(Math.pow(this.s*this.n,Oi.n),Math.pow(this.d,Oi.n));if(this.s<0)return null;var e=Kj(this.n),r=Kj(this.d),i=1,a=1;for(var s in e)if(s!=="1"){if(s==="0"){i=0;break}if(e[s]*=Oi.n,e[s]%Oi.d!=0)return null;e[s]/=Oi.d,i*=Math.pow(s,e[s])}for(var s in r)if(s!=="1"){if(r[s]*=Oi.n,r[s]%Oi.d!=0)return null;r[s]/=Oi.d,a*=Math.pow(s,r[s])}return Oi.s<0?Sh(a,i):Sh(i,a)},equals:function(n,t){return Gd(n,t),this.s*this.n*Oi.d==Oi.s*Oi.n*this.d},compare:function(n,t){Gd(n,t);var e=this.s*this.n*Oi.d-Oi.s*Oi.n*this.d;return(0<e)-(e<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var t=this.abs(),e=t.toContinued(),r=1;r<e.length;r++){for(var i=Sh(e[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(e[a]);if(Math.abs(i.sub(t).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,t){return Gd(n,t),!(!(Oi.n*this.d)||this.n*Oi.d%(Oi.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var t,e="",r=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=r:(n&&(t=Math.floor(r/i))>0&&(e+=t,e+=" ",r%=i),e+=r,e+="/",e+=i),e},toLatex:function(n){var t,e="",r=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=r:(n&&(t=Math.floor(r/i))>0&&(e+=t,r%=i),e+="\\frac{",e+=r,e+="}{",e+=i,e+="}"),e},toContinued:function(){var n,t=this.n,e=this.d,r=[];if(isNaN(t)||isNaN(e))return r;do r.push(Math.floor(t/e)),n=t%e,t=e,e=n;while(t!==1);return r},toString:function(n){var t=this.n,e=this.d;if(isNaN(t)||isNaN(e))return"NaN";n=n||15;var r=function(c,f){for(;f%2==0;f/=2);for(;f%5==0;f/=5);if(f===1)return 0;for(var d=10%f,h=1;d!==1;h++)if(d=10*d%f,h>2e3)return 0;return h}(0,e),i=function(c,f,d){for(var h=1,m=function(w,C,k){for(var M=1;C>0;w=w*w%k,C>>=1)1&C&&(M=M*w%k);return M}(10,d,f),y=0;y<300;y++){if(h===m)return y;h=10*h%f,m=10*m%f}return 0}(0,e,r),a=this.s<0?"-":"";if(a+=t/e|0,t%=e,(t*=10)&&(a+="."),r){for(var s=i;s--;)a+=t/e|0,t%=e,t*=10;for(a+="(",s=r;s--;)a+=t/e|0,t%=e,t*=10;a+=")"}else for(s=n;t&&s--;)a+=t/e|0,t%=e,t*=10;return a}};var Pit=Ff("Fraction",[],()=>(Object.defineProperty(Zp,"name",{value:"Fraction"}),Zp.prototype.constructor=Zp,Zp.prototype.type="Fraction",Zp.prototype.isFraction=!0,Zp.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},Zp.fromJSON=function(n){return new Zp(n)},Zp),{isClass:!0}),Tit=Ff("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function Sk(n,t,e){var r=new n.constructor(2),i="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!yp(e))throw new Error("size must be an integer");if(n.greaterThan(r.pow(e-1).sub(1))||n.lessThan(r.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(e))),i="i".concat(e)}switch(t){case 2:return"".concat(n.toBinary()).concat(i);case 8:return"".concat(n.toOctal()).concat(i);case 16:return"".concat(n.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function Gj(n,t){return t!==void 0?n.toExponential(t-1):n.toExponential()}function Yj(n,t){return Kf(n)?n:zp(n)?n.toNumber():t}function Fd(n,t){var e=function(r,i){return typeof r=="number"?dP(r,i):zp(r)?function(a,s){if(typeof s=="function")return s(a);if(!a.isFinite())return a.isNaN()?"NaN":a.gt(0)?"Infinity":"-Infinity";var{notation:c,precision:f,wordSize:d}=rH(s);switch(c){case"fixed":return function(C,k){return C.toFixed(k)}(a,f);case"exponential":return Gj(a,f);case"engineering":return function(C,k){var M=C.e,N=M%3==0?M:M<0?M-3-M%3:M-M%3,B=C.mul(Math.pow(10,-N)).toPrecision(k);return B.includes("e")&&(B=new C.constructor(B).toFixed()),B+"e"+(M>=0?"+":"")+N.toString()}(a,f);case"bin":return Sk(a,2,d);case"oct":return Sk(a,8,d);case"hex":return Sk(a,16,d);case"auto":var h=Yj(s==null?void 0:s.lowerExp,-3),m=Yj(s==null?void 0:s.upperExp,5);if(a.isZero())return"0";var y=a.toSignificantDigits(f),w=y.e;return(w>=h&&w<m?y.toFixed():Gj(a,f)).replace(/((\.\d*?)(0+))($|e)/,function(){var C=arguments[2],k=arguments[4];return C!=="."?C+k:k});default:throw new Error('Unknown notation "'+c+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(r,i):function(a){return a&&typeof a=="object"&&typeof a.s=="number"&&typeof a.n=="number"&&typeof a.d=="number"||!1}(r)?i&&i.fraction==="decimal"?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?hH(r,i):Am(r)?Xj(r):typeof r=="function"?r.syntax?String(r.syntax):"function":r&&typeof r=="object"?typeof r.format=="function"?r.format(i):r&&r.toString(i)!=={}.toString()?r.toString(i):"{"+Object.keys(r).map(a=>Xj(a)+": "+Fd(r[a],i)).join(", ")+"}":String(r)}(n,t);return t&&typeof t=="object"&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function Xj(n){for(var t=String(n),e="",r=0;r<t.length;){var i=t.charAt(r);e+=i in Jj?Jj[i]:i,r++}return'"'+e+'"'}var Jj={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function hH(n,t){if(Array.isArray(n)){for(var e="[",r=n.length,i=0;i<r;i++)i!==0&&(e+=", "),e+=hH(n[i],t);return e+"]"}return Fd(n,t)}function Vc(n,t,e){if(!(this instanceof Vc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}function J0(n,t,e){if(!(this instanceof J0))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function om(n){for(var t=[];Array.isArray(n);)t.push(n.length),n=n[0];return t}function pH(n,t,e){var r,i=n.length;if(i!==t[e])throw new Vc(i,t[e]);if(e<t.length-1){var a=e+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new Vc(t.length-1,t.length,"<");pH(n[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new Vc(t.length+1,t.length,">")}function Qj(n,t){if(t.length===0){if(Array.isArray(n))throw new Vc(n.length,0)}else pH(n,t,0)}function Bh(n,t){if(n!==void 0){if(!Kf(n)||!yp(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof t=="number"&&n>=t)throw new J0(n,t)}}function Zj(n,t,e){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");return t.forEach(function(r){if(!Kf(r)||!yp(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Fd(t)+")")}),(Kf(n)||zp(n))&&(n=[n]),yP(n,t,0,e!==void 0?e:0),n}function yP(n,t,e,r){var i,a,s=n.length,c=t[e],f=Math.min(s,c);if(n.length=c,e<t.length-1){var d=e+1;for(i=0;i<f;i++)a=n[i],Array.isArray(a)||(a=[a],n[i]=a),yP(a,t,d,r);for(i=f;i<c;i++)a=[],n[i]=a,yP(a,t,d,r)}else{for(i=0;i<f;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=f;i<c;i++)n[i]=r}}function dH(n,t){var e=function(a){if(!Array.isArray(a))return a;var s=[];return a.forEach(function c(f){Array.isArray(f)?f.forEach(c):s.push(f)}),s}(n),r=e.length;if(!Array.isArray(n)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Vc(0,r,"!=");var i=gH(t=tN(t,r));if(r!==i)throw new Vc(i,r,"!=");try{return function(a,s){for(var c,f=a,d=s.length-1;d>0;d--){var h=s[d];c=[];for(var m=f.length/h,y=0;y<m;y++)c.push(f.slice(y*h,(y+1)*h));f=c}return f}(e,t)}catch(a){throw a instanceof Vc?new Vc(i,r,"!="):a}}function tN(n,t){var e=gH(n),r=n.slice(),i=n.indexOf(-1);if(n.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(t%e!=0)throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);r[i]=-t/e}return r}function gH(n){return n.reduce((t,e)=>t*e,1)}function mH(n,t,e,r){var i=r||om(n);if(e)for(var a=0;a<e;a++)n=[n],i.unshift(1);for(n=vH(n,t,0);i.length<t;)i.push(1);return n}function vH(n,t,e){var r,i;if(Array.isArray(n)){var a=e+1;for(r=0,i=n.length;r<i;r++)n[r]=vH(n[r],t,a)}else for(var s=e;s<t;s++)n=[n];return n}function eN(n,t){for(var e,r=0,i=0;i<n.length;i++){var a=n[i],s=Array.isArray(a);if(i===0&&s&&(r=a.length),s&&a.length!==r)return;var c=s?eN(a,t):t(a);if(e===void 0)e=c;else if(e!==c)return"mixed"}return e}function yH(n,t,e,r){if(r<e){if(n.length!==t.length)throw new Vc(n.length,t.length);for(var i=[],a=0;a<n.length;a++)i[a]=yH(n[a],t[a],e,r+1);return i}return n.concat(t)}function wH(){var n=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(e,r){return yH(e,r,t,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function bH(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];for(var r=t.map(y=>y.length),i=Math.max(...r),a=new Array(i).fill(null),s=0;s<t.length;s++)for(var c=t[s],f=r[s],d=0;d<f;d++){var h=i-f+d;c[d]>a[h]&&(a[h]=c[d])}for(var m=0;m<t.length;m++)xH(t[m],a);return a}function xH(n,t){for(var e=t.length,r=n.length,i=0;i<r;i++){var a=e-r+i;if(n[i]<t[a]&&n[i]>1||n[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(t[a]))}}function wP(n,t){var e=om(n);if(w0(e,t))return n;xH(e,t);var r,i,a,s=bH(e,t),c=s.length,f=[...Array(c-e.length).fill(1),...e],d=function(m){return D2([],m)}(n);e.length<c&&(e=om(d=dH(d,f)));for(var h=0;h<c;h++)e[h]<s[h]&&(r=d,i=s[h],a=h,e=om(d=wH(...Array(i).fill(r),a)));return d}function DH(n,t){if(!Array.isArray(n))throw new Error("Array expected");var e=om(n);if(t.length!==e.length)throw new Vc(t.length,e.length);for(var r=0;r<t.length;r++)Bh(t[r],e[r]);return t.reduce((i,a)=>i[a],n)}function k2(n,t,e){if(_2.isTypedFunction(n)){var r=(t.isMatrix?t.size():om(t)).map(()=>0),i=t.isMatrix?t.get(r):DH(t,r),a=Object.keys(n.signatures).length===1,s=function(f,d,h,m){for(var y=[d,h,m],w=3;w>0;w--){var C=y.slice(0,w);if(_2.resolve(f,C)!==null)return w}}(n,i,r,t),c=a?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return t6(c,d.slice(0,s),e,n.name)}:function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return t6(c,d,e,n.name)}}return n}function t6(n,t,e,r){try{return n(...t)}catch(i){(function(a,s,c,f){var d;if(a instanceof TypeError&&((d=a.data)===null||d===void 0?void 0:d.category)==="wrongType"){var h=[];throw h.push("value: ".concat(ay(s[0]))),s.length>=2&&h.push("index: ".concat(ay(s[1]))),s.length>=3&&h.push("array: ".concat(ay(s[2]))),new TypeError("Function ".concat(c," cannot apply callback arguments ")+"".concat(f,"(").concat(h.join(", "),") at index ").concat(JSON.stringify(s[1])))}throw new TypeError("Function ".concat(c," cannot apply callback arguments ")+"to function ".concat(f,": ").concat(a.message))})(i,t,e,r)}}Vc.prototype=new RangeError,Vc.prototype.constructor=RangeError,Vc.prototype.name="DimensionError",Vc.prototype.isDimensionError=!0,J0.prototype=new RangeError,J0.prototype.constructor=RangeError,J0.prototype.name="IndexError",J0.prototype.isIndexError=!0;var Oit=Ff("DenseMatrix",["Matrix"],n=>{var{Matrix:t}=n;function e(f,d){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!Am(d))throw new Error("Invalid datatype: "+d);if(Im(f))f.type==="DenseMatrix"?(this._data=gp(f._data),this._size=gp(f._size),this._datatype=d||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=d||f._datatype);else if(f&&Jh(f.data)&&Jh(f.size))this._data=f.data,this._size=f.size,Qj(this._data,this._size),this._datatype=d||f.datatype;else if(Jh(f))this._data=c(f),this._size=om(this._data),Qj(this._data,this._size),this._datatype=d;else{if(f)throw new TypeError("Unsupported type of data ("+ay(f)+")");this._data=[],this._size=[0],this._datatype=d}}function r(f,d,h,m){var y=m===h-1,w=d.dimension(m);return y?w.map(function(C){return Bh(C,f.length),f[C]}).valueOf():w.map(function(C){return Bh(C,f.length),r(f[C],d,h,m+1)}).valueOf()}function i(f,d,h,m,y){var w=y===m-1,C=d.dimension(y);w?C.forEach(function(k,M){Bh(k),f[k]=h[M[0]]}):C.forEach(function(k,M){Bh(k),i(f[k],d,h[M[0]],m,y+1)})}function a(f,d,h){if(d.length===0){for(var m=f._data;Jh(m);)m=m[0];return m}return f._size=d.slice(0),f._data=Zj(f._data,f._size,h),f}function s(f,d,h){for(var m=f._size.slice(0),y=!1;m.length<d.length;)m.push(0),y=!0;for(var w=0,C=d.length;w<C;w++)d[w]>m[w]&&(m[w]=d[w],y=!0);y&&a(f,m,h)}function c(f){return Im(f)?c(f.valueOf()):Jh(f)?f.map(c):f}return e.prototype=new t,e.prototype.createDenseMatrix=function(f,d){return new e(f,d)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return eN(this._data,ay)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(f,d){return new e(f,d)},e.prototype.subset=function(f,d,h){switch(arguments.length){case 1:return function(m,y){if(!XO(y))throw new TypeError("Invalid index");if(y.isScalar())return m.get(y.min());var w=y.size();if(w.length!==m._size.length)throw new Vc(w.length,m._size.length);for(var C=y.min(),k=y.max(),M=0,N=m._size.length;M<N;M++)Bh(C[M],m._size[M]),Bh(k[M],m._size[M]);return new e(r(m._data,y,w.length,0),m._datatype)}(this,f);case 2:case 3:return function(m,y,w,C){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var k,M=y.size(),N=y.isScalar();if(Im(w)?(k=w.size(),w=w.valueOf()):k=om(w),N){if(k.length!==0)throw new TypeError("Scalar expected");m.set(y.min(),w,C)}else{if(!w0(k,M))try{k=om(w=k.length===0?wP([w],M):wP(w,M))}catch{}if(M.length<m._size.length)throw new Vc(M.length,m._size.length,"<");if(k.length<M.length){for(var B=0,L=0;M[B]===1&&k[B]===1;)B++;for(;M[B]===1;)L++,B++;w=mH(w,M.length,L,k)}if(!w0(M,k))throw new Vc(M,k,">");var z=y.max().map(function(V){return V+1});s(m,z,C);var q=M.length;i(m._data,y,w,q,0)}return m}(this,f,d,h);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(f){return DH(this._data,f)},e.prototype.set=function(f,d,h){if(!Jh(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new Vc(f.length,this._size.length,"<");var m,y,w;s(this,f.map(function(k){return k+1}),h);var C=this._data;for(m=0,y=f.length-1;m<y;m++)Bh(w=f[m],C.length),C=C[w];return Bh(w=f[f.length-1],C.length),C[w]=d,this},e.prototype.resize=function(f,d,h){if(!C2(f))throw new TypeError("Array or Matrix expected");var m=f.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);return a(h?this.clone():this,m,d)},e.prototype.reshape=function(f,d){var h=d?this.clone():this;h._data=dH(h._data,f);var m=h._size.reduce((y,w)=>y*w);return h._size=tN(f,m),h},e.prototype.clone=function(){return new e({data:gp(this._data),size:gp(this._size),datatype:this._datatype})},e.prototype.size=function(){return this._size.slice(0)},e.prototype._forEach=function(f){var d=this,h=d.size();if(h.length!==1){var m=Array(h.length).fill(0),y=Array(h.length-1),w=y.length-1;y[0]=d._data[0];for(var C=0;C<w;C++)y[C+1]=y[C][0];for(m[w]=-1;;){var k=void 0;for(k=w;k>=0;k--){if(m[k]++,m[k]!==h[k]){y[k]=k===0?d._data[m[k]]:y[k-1][m[k]];for(var M=k;M<w;M++)y[M+1]=y[M][0];for(var N=0;N<h[y.length];N++)m[y.length]=N,f(y[w],N,m.slice(0));break}m[k]=0}if(k===-1)break}}else for(var B=0;B<h[0];B++)f(d._data,B,[B])},e.prototype.map=function(f){var d=this,h=new e(d),m=k2(f,d._data,"map");return h._forEach(function(y,w,C){y[w]=m(y[w],C,d)}),h},e.prototype.forEach=function(f){var d=this,h=k2(f,d._data,"map");d._forEach(function(m,y,w){h(m[y],w,d)})},e.prototype[Symbol.iterator]=function*(){var f=function*(d,h){if(Jh(d))for(var m=0;m<d.length;m++)yield*f(d[m],h.concat(m));else yield{value:d,index:h}};yield*f(this._data,[])},e.prototype.rows=function(){var f=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var h of d)f.push(new e([h],this._datatype));return f},e.prototype.columns=function(){var f=this,d=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,y=function(C){var k=m.map(M=>[M[C]]);d.push(new e(k,f._datatype))},w=0;w<h[1];w++)y(w);return d},e.prototype.toArray=function(){return gp(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(f){return Fd(this._data,f)},e.prototype.toString=function(){return Fd(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(f){if(f){if(zp(f)&&(f=f.toNumber()),!Kf(f)||!yp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var d=f>0?f:0,h=f<0?-f:0,m=this._size[0],y=this._size[1],w=Math.min(m-h,y-d),C=[],k=0;k<w;k++)C[k]=this._data[k+h][k+d];return new e({data:C,size:[w],datatype:this._datatype})},e.diagonal=function(f,d,h,m){if(!Jh(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(q){if(zp(q)&&(q=q.toNumber()),!Kf(q)||!yp(q)||q<1)throw new Error("Size values must be positive integers");return q}),h){if(zp(h)&&(h=h.toNumber()),!Kf(h)||!yp(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var y,w=h>0?h:0,C=h<0?-h:0,k=f[0],M=f[1],N=Math.min(k-C,M-w);if(Jh(d)){if(d.length!==N)throw new Error("Invalid value array length");y=function(q){return d[q]}}else if(Im(d)){var B=d.size();if(B.length!==1||B[0]!==N)throw new Error("Invalid matrix length");y=function(q){return d.get([q])}}else y=function(){return d};m||(m=zp(y(0))?y(0).mul(0):0);var L=[];if(f.length>0){L=Zj(L,f,m);for(var z=0;z<N;z++)L[z+C][z+w]=y(z)}return new e({data:L,size:[k,M]})},e.fromJSON=function(f){return new e(f)},e.prototype.swapRows=function(f,d){if(!(Kf(f)&&yp(f)&&Kf(d)&&yp(d)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Bh(f,this._size[0]),Bh(d,this._size[0]),e._swapRows(f,d,this._data),this},e._swapRows=function(f,d,h){var m=h[f];h[f]=h[d],h[d]=m},e},{isClass:!0});function nN(n,t,e){return n&&typeof n.map=="function"?n.map(function(r){return nN(r,t)}):t(n)}var e6="isInteger",Nit=Ff(e6,["typed"],n=>{var{typed:t}=n;return t(e6,{number:yp,BigNumber:function(e){return e.isInt()},bigint:function(e){return!0},Fraction:function(e){return e.d===1&&isFinite(e.n)},"Array | Matrix":t.referToSelf(e=>r=>nN(r,e))})}),n6="number, number";function CH(n,t){return n+t}function _H(n,t){return n-t}function SH(n){return-n}CH.signature=n6,_H.signature=n6,SH.signature="number";var Iit=Ff("compareUnits",["typed"],n=>{var{typed:t}=n;return{"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(e,[r.valueType(),i.valueType()])(r.value,i.value)})}}),M2="equalScalar",Bit=Ff(M2,["typed","config"],n=>{var{typed:t,config:e}=n,r=Iit({typed:t});return t(M2,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return nS(i,a,e.relTol,e.absTol)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||function(s,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(f<=0)throw new Error("Relative tolerance must be greater than 0");if(d<0)throw new Error("Absolute tolerance must be at least 0");return!s.isNaN()&&!c.isNaN()&&(s.isFinite()&&c.isFinite()?!!s.eq(c)||s.minus(c).abs().lte(s.constructor.max(s.constructor.max(s.abs(),c.abs()).mul(f),d)):s.eq(c))}(i,a,e.relTol,e.absTol)},"bigint, bigint":function(i,a){return i===a},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return function(s,c,f,d){return nS(s.re,c.re,f,d)&&nS(s.im,c.im,f,d)}(i,a,e.relTol,e.absTol)}},r)});Ff(M2,["typed","config"],n=>{var{typed:t,config:e}=n;return t(M2,{"number, number":function(r,i){return nS(r,i,e.relTol,e.absTol)}})});var Rit=Ff("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:t,equalScalar:e,Matrix:r}=n;function i(h,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Am(m))throw new Error("Invalid datatype: "+m);if(Im(h))(function(y,w,C){w.type==="SparseMatrix"?(y._values=w._values?gp(w._values):void 0,y._index=gp(w._index),y._ptr=gp(w._ptr),y._size=gp(w._size),y._datatype=C||w._datatype):a(y,w.valueOf(),C||w._datatype)})(this,h,m);else if(h&&Jh(h.index)&&Jh(h.ptr)&&Jh(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=m||h.datatype;else if(Jh(h))a(this,h,m);else{if(h)throw new TypeError("Unsupported type of data ("+ay(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(h,m,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var w=m.length,C=0,k=e,M=0;if(Am(y)&&(k=t.find(e,[y,y])||e,M=t.convert(0,y)),w>0){var N=0;do{h._ptr.push(h._index.length);for(var B=0;B<w;B++){var L=m[B];if(Jh(L)){if(N===0&&C<L.length&&(C=L.length),N<L.length){var z=L[N];k(z,M)||(h._values.push(z),h._index.push(B))}}else N===0&&C<1&&(C=1),k(L,M)||(h._values.push(L),h._index.push(B))}N++}while(N<C)}h._ptr.push(h._index.length),h._size=[w,C]}function s(h,m,y,w){if(y-m==0)return y;for(var C=m;C<y;C++)if(w[C]===h)return C;return m}function c(h,m,y,w,C,k,M){C.splice(h,0,w),k.splice(h,0,m);for(var N=y+1;N<M.length;N++)M[N]++}function f(h,m,y,w){var C=w||0,k=e,M=0;Am(h._datatype)&&(k=t.find(e,[h._datatype,h._datatype])||e,M=t.convert(0,h._datatype),C=t.convert(C,h._datatype));var N,B,L,z=!k(C,M),q=h._size[0],V=h._size[1];if(y>V){for(B=V;B<y;B++)if(h._ptr[B]=h._values.length,z)for(N=0;N<q;N++)h._values.push(C),h._index.push(N);h._ptr[y]=h._values.length}else y<V&&(h._ptr.splice(y+1,V-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(V=y,m>q){if(z){var X=0;for(B=0;B<V;B++){h._ptr[B]=h._ptr[B]+X,L=h._ptr[B+1]+X;var nt=0;for(N=q;N<m;N++,nt++)h._values.splice(L+nt,0,C),h._index.splice(L+nt,0,N),X++}h._ptr[V]=h._values.length}}else if(m<q){var it=0;for(B=0;B<V;B++){h._ptr[B]=h._ptr[B]-it;var ct=h._ptr[B],ft=h._ptr[B+1]-it;for(L=ct;L<ft;L++)(N=h._index[L])>m-1&&(h._values.splice(L,1),h._index.splice(L,1),it++)}h._ptr[B]=h._values.length}return h._size[0]=m,h._size[1]=y,h}function d(h,m,y,w,C){var k,M,N=w[0],B=w[1],L=[];for(k=0;k<N;k++)for(L[k]=[],M=0;M<B;M++)L[k][M]=0;for(M=0;M<B;M++)for(var z=y[M],q=y[M+1],V=z;V<q;V++)L[k=m[V]][M]=h?C?gp(h[V]):h[V]:1;return L}return i.prototype=new r,i.prototype.createSparseMatrix=function(h,m){return new i(h,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return eN(this._values,ay)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,m){return new i(h,m)},i.prototype.density=function(){var h=this._size[0],m=this._size[1];return h!==0&&m!==0?this._index.length/(h*m):0},i.prototype.subset=function(h,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(w,C){if(!XO(C))throw new TypeError("Invalid index");if(C.isScalar())return w.get(C.min());var k,M,N,B,L=C.size();if(L.length!==w._size.length)throw new Vc(L.length,w._size.length);var z=C.min(),q=C.max();for(k=0,M=w._size.length;k<M;k++)Bh(z[k],w._size[k]),Bh(q[k],w._size[k]);var V=w._values,X=w._index,nt=w._ptr,it=C.dimension(0),ct=C.dimension(1),ft=[],gt=[];it.forEach(function(At,Zt){gt[At]=Zt[0],ft[At]=!0});var Ct=V?[]:void 0,kt=[],Tt=[];return ct.forEach(function(At){for(Tt.push(kt.length),N=nt[At],B=nt[At+1];N<B;N++)k=X[N],ft[k]===!0&&(kt.push(gt[k]),Ct&&Ct.push(V[N]))}),Tt.push(kt.length),new i({values:Ct,index:kt,ptr:Tt,size:L,datatype:w._datatype})}(this,h);case 2:case 3:return function(w,C,k,M){if(!C||C.isIndex!==!0)throw new TypeError("Invalid index");var N,B=C.size(),L=C.isScalar();if(Im(k)?(N=k.size(),k=k.toArray()):N=om(k),L){if(N.length!==0)throw new TypeError("Scalar expected");w.set(C.min(),k,M)}else{if(B.length!==1&&B.length!==2)throw new Vc(B.length,w._size.length,"<");if(N.length<B.length){for(var z=0,q=0;B[z]===1&&N[z]===1;)z++;for(;B[z]===1;)q++,z++;k=mH(k,B.length,q,N)}if(!w0(B,N))throw new Vc(B,N,">");if(B.length===1)C.dimension(0).forEach(function(nt,it){Bh(nt),w.set([nt,0],k[it[0]],M)});else{var V=C.dimension(0),X=C.dimension(1);V.forEach(function(nt,it){Bh(nt),X.forEach(function(ct,ft){Bh(ct),w.set([nt,ct],k[it[0]][ft[0]],M)})})}}return w}(this,h,m,y);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(h){if(!Jh(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Vc(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=h[0],y=h[1];Bh(m,this._size[0]),Bh(y,this._size[1]);var w=s(m,this._ptr[y],this._ptr[y+1],this._index);return w<this._ptr[y+1]&&this._index[w]===m?this._values[w]:0},i.prototype.set=function(h,m,y){if(!Jh(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Vc(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=h[0],C=h[1],k=this._size[0],M=this._size[1],N=e,B=0;Am(this._datatype)&&(N=t.find(e,[this._datatype,this._datatype])||e,B=t.convert(0,this._datatype)),(w>k-1||C>M-1)&&(f(this,Math.max(w+1,k),Math.max(C+1,M),y),k=this._size[0],M=this._size[1]),Bh(w,k),Bh(C,M);var L=s(w,this._ptr[C],this._ptr[C+1],this._index);return L<this._ptr[C+1]&&this._index[L]===w?N(m,B)?function(z,q,V,X,nt){V.splice(z,1),X.splice(z,1);for(var it=q+1;it<nt.length;it++)nt[it]--}(L,C,this._values,this._index,this._ptr):this._values[L]=m:N(m,B)||c(L,w,C,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(h,m,y){if(!C2(h))throw new TypeError("Array or Matrix expected");var w=h.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");return w.forEach(function(C){if(!Kf(C)||!yp(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Fd(w)+")")}),f(y?this.clone():this,w[0],w[1],m)},i.prototype.reshape=function(h,m){if(!Jh(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(gt){if(!Kf(gt)||!yp(gt)||gt<=-2||gt===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Fd(h)+")")});var y=this._size[0]*this._size[1];if(y!==(h=tN(h,y))[0]*h[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var C=[],k=0;k<w._ptr.length;k++)for(var M=0;M<w._ptr[k+1]-w._ptr[k];M++)C.push(k);for(var N=w._values.slice(),B=w._index.slice(),L=0;L<w._index.length;L++){var z=B[L],q=C[L],V=z*w._size[1]+q;C[L]=V%h[1],B[L]=Math.floor(V/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var X=0;X<w._ptr.length;X++)w._ptr[X]=0;for(var nt=0;nt<N.length;nt++){var it=B[nt],ct=C[nt],ft=N[nt];c(s(it,w._ptr[ct],w._ptr[ct+1],w._index),it,ct,ft,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){return new i({values:this._values?gp(this._values):void 0,index:gp(this._index),ptr:gp(this._ptr),size:gp(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,w=this._size[0],C=this._size[1],k=k2(h,y,"map");return function(M,N,B,L,z,q,V){var X=[],nt=[],it=[],ct=e,ft=0;Am(M._datatype)&&(ct=t.find(e,[M._datatype,M._datatype])||e,ft=t.convert(0,M._datatype));for(var gt=function(vt,Lt,ee){var pe=q(vt,Lt,ee);ct(pe,ft)||(X.push(pe),nt.push(Lt))},Ct=0;Ct<=z;Ct++){it.push(X.length);var kt=M._ptr[Ct],Tt=M._ptr[Ct+1];if(V)for(var At=kt;At<Tt;At++){var Zt=M._index[At];Zt>=0&&Zt<=B&&gt(M._values[At],Zt-0,Ct-0)}else{for(var _t={},Et=kt;Et<Tt;Et++)_t[M._index[Et]]=M._values[Et];for(var mt=0;mt<=B;mt++)gt(mt in _t?_t[mt]:0,mt-0,Ct-0)}}return it.push(X.length),new i({values:X,index:nt,ptr:it,size:[B-0+1,z-0+1]})}(this,0,w-1,0,C-1,function(M,N,B){return k(M,[N,B],y)},m)},i.prototype.forEach=function(h,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,w=this._size[0],C=this._size[1],k=k2(h,y,"forEach"),M=0;M<C;M++){var N=this._ptr[M],B=this._ptr[M+1];if(m)for(var L=N;L<B;L++){var z=this._index[L];k(this._values[L],[z,M],y)}else{for(var q={},V=N;V<B;V++)q[this._index[V]]=this._values[V];for(var X=0;X<w;X++)k(X in q?q[X]:0,[X,M],y)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],m=0;m<h;m++)for(var y=this._ptr[m],w=this._ptr[m+1],C=y;C<w;C++){var k=this._index[C];yield{value:this._values[C],index:[k,m]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(h){for(var m=this._size[0],y=this._size[1],w=this.density(),C="Sparse Matrix ["+Fd(m,h)+" x "+Fd(y,h)+"] density: "+Fd(w,h)+`
`,k=0;k<y;k++)for(var M=this._ptr[k],N=this._ptr[k+1],B=M;B<N;B++)C+=`
    (`+Fd(this._index[B],h)+", "+Fd(k,h)+") ==> "+(this._values?Fd(this._values[B],h):"X");return C},i.prototype.toString=function(){return Fd(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(zp(h)&&(h=h.toNumber()),!Kf(h)||!yp(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,y=h<0?-h:0,w=this._size[0],C=this._size[1],k=Math.min(w-y,C-m),M=[],N=[],B=[];B[0]=0;for(var L=m;L<C&&M.length<k;L++)for(var z=this._ptr[L],q=this._ptr[L+1],V=z;V<q;V++){var X=this._index[V];if(X===L-m+y){M.push(this._values[V]),N[M.length-1]=X-y;break}}return B.push(M.length),new i({values:M,index:N,ptr:B,size:[k,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,m,y,w,C){if(!Jh(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(kt){if(zp(kt)&&(kt=kt.toNumber()),!Kf(kt)||!yp(kt)||kt<1)throw new Error("Size values must be positive integers");return kt}),y){if(zp(y)&&(y=y.toNumber()),!Kf(y)||!yp(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var k=e,M=0;Am(C)&&(k=t.find(e,[C,C])||e,M=t.convert(0,C));var N,B=y>0?y:0,L=y<0?-y:0,z=h[0],q=h[1],V=Math.min(z-L,q-B);if(Jh(m)){if(m.length!==V)throw new Error("Invalid value array length");N=function(kt){return m[kt]}}else if(Im(m)){var X=m.size();if(X.length!==1||X[0]!==V)throw new Error("Invalid matrix length");N=function(kt){return m.get([kt])}}else N=function(){return m};for(var nt=[],it=[],ct=[],ft=0;ft<q;ft++){ct.push(nt.length);var gt=ft-B;if(gt>=0&&gt<V){var Ct=N(gt);k(Ct,M)||(it.push(gt+L),nt.push(Ct))}}return ct.push(nt.length),new i({values:nt,index:it,ptr:ct,size:[z,q]})},i.prototype.swapRows=function(h,m){if(!(Kf(h)&&yp(h)&&Kf(m)&&yp(m)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Bh(h,this._size[0]),Bh(m,this._size[0]),i._swapRows(h,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,m,y,w,C){for(var k=w[h],M=w[h+1],N=k;N<M;N++)C(y[N],m[N])},i._swapRows=function(h,m,y,w,C,k){for(var M=0;M<y;M++){var N=k[M],B=k[M+1],L=s(h,N,B,C),z=s(m,N,B,C);if(L<B&&z<B&&C[L]===h&&C[z]===m){if(w){var q=w[L];w[L]=w[z],w[z]=q}}else if(L<B&&C[L]===h&&(z>=B||C[z]!==m)){var V=w?w[L]:void 0;C.splice(z,0,m),w&&w.splice(z,0,V),C.splice(z<=L?L+1:L,1),w&&w.splice(z<=L?L+1:L,1)}else if(z<B&&C[z]===m&&(L>=B||C[L]!==h)){var X=w?w[z]:void 0;C.splice(L,0,h),w&&w.splice(L,0,X),C.splice(L<=z?z+1:z,1),w&&w.splice(L<=z?z+1:z,1)}}},i},{isClass:!0}),r6="matrix",jit=Ff(r6,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:t,Matrix:e,DenseMatrix:r,SparseMatrix:i}=n;return t(r6,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,c){return a([],s,c)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,c,f){if(c==="dense"||c==="default"||c===void 0)return new r(s,f);if(c==="sparse")return new i(s,f);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),i6="unaryMinus",Lit=Ff(i6,["typed"],n=>{var{typed:t}=n;return t(i6,{number:SH,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>r=>{var i=r.clone();return i.value=t.find(e,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(e=>r=>nN(r,e))})}),o6="addScalar",zit=Ff(o6,["typed"],n=>{var{typed:t}=n;return t(o6,{"number, number":CH,"Complex, Complex":function(e,r){return e.add(r)},"BigNumber, BigNumber":function(e,r){return e.plus(r)},"bigint, bigint":function(e,r){return e+r},"Fraction, Fraction":function(e,r){return e.add(r)},"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),a6="subtractScalar",Uit=Ff(a6,["typed"],n=>{var{typed:t}=n;return t(a6,{"number, number":_H,"Complex, Complex":function(e,r){return e.sub(r)},"BigNumber, BigNumber":function(e,r){return e.minus(r)},"bigint, bigint":function(e,r){return e-r},"Fraction, Fraction":function(e,r){return e.sub(r)},"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),$it=Ff("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,i,a,s){var c=r._values,f=r._index,d=r._ptr,h=r._size,m=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,w=h[0],C=h[1],k=a;typeof m=="string"&&(y=m,i=t.convert(i,y),k=t.find(a,[y,y]));for(var M=[],N=[],B=[],L=0;L<C;L++){for(var z=L+1,q=d[L],V=d[L+1],X=q;X<V;X++){var nt=f[X];N[nt]=c[X],B[nt]=z}for(var it=0;it<w;it++)L===0&&(M[it]=[]),B[it]===z?M[it][L]=s?k(i,N[it]):k(N[it],i):M[it][L]=s?k(i,0):k(0,i)}return new e({data:M,size:[w,C],datatype:y})}}),Wit=Ff("matAlgo14xDs",["typed"],n=>{var{typed:t}=n;return function(r,i,a,s){var c,f=r._data,d=r._size,h=r._datatype,m=a;typeof h=="string"&&(c=h,i=t.convert(i,c),m=t.find(a,[c,c]));var y=d.length>0?e(m,0,d,d[0],f,i,s):[];return r.createDenseMatrix({data:y,size:gp(d),datatype:c})};function e(r,i,a,s,c,f,d){var h=[];if(i===a.length-1)for(var m=0;m<s;m++)h[m]=d?r(f,c[m]):r(c[m],f);else for(var y=0;y<s;y++)h[y]=e(r,i+1,a,a[i+1],c[y],f,d);return h}}),Hit=Ff("matAlgo03xDSf",["typed"],n=>{var{typed:t}=n;return function(e,r,i,a){var s=e._data,c=e._size,f=e._datatype||e.getDataType(),d=r._values,h=r._index,m=r._ptr,y=r._size,w=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(c.length!==y.length)throw new Vc(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,k=c[0],M=c[1],N=0,B=i;typeof f=="string"&&f===w&&f!=="mixed"&&(C=f,N=t.convert(0,C),B=t.find(i,[C,C]));for(var L=[],z=0;z<k;z++)L[z]=[];for(var q=[],V=[],X=0;X<M;X++){for(var nt=X+1,it=m[X],ct=m[X+1],ft=it;ft<ct;ft++){var gt=h[ft];q[gt]=a?B(d[ft],s[gt][X]):B(s[gt][X],d[ft]),V[gt]=nt}for(var Ct=0;Ct<k;Ct++)V[Ct]===nt?L[Ct][X]=q[Ct]:L[Ct][X]=a?B(N,s[Ct][X]):B(s[Ct][X],N)}return e.createDenseMatrix({data:L,size:[k,M],datatype:f===e._datatype&&w===r._datatype?C:void 0})}}),Vit=Ff("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,i,a){var s=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype||r._data===void 0?r._datatype:r.getDataType(),m=i._values,y=i._index,w=i._ptr,C=i._size,k=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(d.length!==C.length)throw new Vc(d.length,C.length);if(d[0]!==C[0]||d[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+C+")");var M,N=d[0],B=d[1],L=e,z=0,q=a;typeof h=="string"&&h===k&&h!=="mixed"&&(M=h,L=t.find(e,[M,M]),z=t.convert(0,M),q=t.find(a,[M,M]));var V,X,nt,it,ct=s&&m?[]:void 0,ft=[],gt=[],Ct=ct?[]:void 0,kt=ct?[]:void 0,Tt=[],At=[];for(X=0;X<B;X++){gt[X]=ft.length;var Zt=X+1;for(nt=f[X],it=f[X+1];nt<it;nt++)V=c[nt],ft.push(V),Tt[V]=Zt,Ct&&(Ct[V]=s[nt]);for(nt=w[X],it=w[X+1];nt<it;nt++)Tt[V=y[nt]]!==Zt&&ft.push(V),At[V]=Zt,kt&&(kt[V]=m[nt]);if(ct)for(nt=gt[X];nt<ft.length;){var _t=Tt[V=ft[nt]],Et=At[V];if(_t===Zt||Et===Zt){var mt=q(_t===Zt?Ct[V]:z,Et===Zt?kt[V]:z);L(mt,z)?ft.splice(nt,1):(ct.push(mt),nt++)}}}return gt[B]=ft.length,r.createSparseMatrix({values:ct,index:ft,ptr:gt,size:[N,B],datatype:h===r._datatype&&k===i._datatype?M:void 0})}}),qit=Ff("matAlgo13xDD",["typed"],n=>{var{typed:t}=n;return function(r,i,a){var s,c=r._data,f=r._size,d=r._datatype,h=i._data,m=i._size,y=i._datatype,w=[];if(f.length!==m.length)throw new Vc(f.length,m.length);for(var C=0;C<f.length;C++){if(f[C]!==m[C])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");w[C]=f[C]}var k=a;typeof d=="string"&&d===y&&(s=d,k=t.find(a,[s,s]));var M=w.length>0?e(k,0,w,w[0],c,h):[];return r.createDenseMatrix({data:M,size:w,datatype:s})};function e(r,i,a,s,c,f){var d=[];if(i===a.length-1)for(var h=0;h<s;h++)d[h]=r(c[h],f[h]);else for(var m=0;m<s;m++)d[m]=e(r,i+1,a,a[i+1],c[m],f[m]);return d}});function hp(n,t){if(w0(n.size(),t.size()))return[n,t];var e=bH(n.size(),t.size());return[n,t].map(r=>function(i,a){return w0(i.size(),a)?i:i.create(wP(i.valueOf(),a),i.datatype())}(r,e))}var EH=Ff("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:t,matrix:e}=n,r=qit({typed:t}),i=Wit({typed:t});return function(a){var s,c=a.elop,f=a.SD||a.DS;c?(s={"DenseMatrix, DenseMatrix":(m,y)=>r(...hp(m,y),c),"Array, Array":(m,y)=>r(...hp(e(m),e(y)),c).valueOf(),"Array, DenseMatrix":(m,y)=>r(...hp(e(m),y),c),"DenseMatrix, Array":(m,y)=>r(...hp(m,e(y)),c)},a.SS&&(s["SparseMatrix, SparseMatrix"]=(m,y)=>a.SS(...hp(m,y),c,!1)),a.DS&&(s["DenseMatrix, SparseMatrix"]=(m,y)=>a.DS(...hp(m,y),c,!1),s["Array, SparseMatrix"]=(m,y)=>a.DS(...hp(e(m),y),c,!1)),f&&(s["SparseMatrix, DenseMatrix"]=(m,y)=>f(...hp(y,m),c,!0),s["SparseMatrix, Array"]=(m,y)=>f(...hp(e(y),m),c,!0))):(s={"DenseMatrix, DenseMatrix":t.referToSelf(m=>(y,w)=>r(...hp(y,w),m)),"Array, Array":t.referToSelf(m=>(y,w)=>r(...hp(e(y),e(w)),m).valueOf()),"Array, DenseMatrix":t.referToSelf(m=>(y,w)=>r(...hp(e(y),w),m)),"DenseMatrix, Array":t.referToSelf(m=>(y,w)=>r(...hp(y,e(w)),m))},a.SS&&(s["SparseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.SS(...hp(y,w),m,!1))),a.DS&&(s["DenseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.DS(...hp(y,w),m,!1)),s["Array, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.DS(...hp(e(y),w),m,!1))),f&&(s["SparseMatrix, DenseMatrix"]=t.referToSelf(m=>(y,w)=>f(...hp(w,y),m,!0)),s["SparseMatrix, Array"]=t.referToSelf(m=>(y,w)=>f(...hp(e(w),y),m,!0))));var d=a.scalar||"any";(a.Ds||a.Ss)&&(c?(s["DenseMatrix,"+d]=(m,y)=>i(m,y,c,!1),s[d+", DenseMatrix"]=(m,y)=>i(y,m,c,!0),s["Array,"+d]=(m,y)=>i(e(m),y,c,!1).valueOf(),s[d+", Array"]=(m,y)=>i(e(y),m,c,!0).valueOf()):(s["DenseMatrix,"+d]=t.referToSelf(m=>(y,w)=>i(y,w,m,!1)),s[d+", DenseMatrix"]=t.referToSelf(m=>(y,w)=>i(w,y,m,!0)),s["Array,"+d]=t.referToSelf(m=>(y,w)=>i(e(y),w,m,!1).valueOf()),s[d+", Array"]=t.referToSelf(m=>(y,w)=>i(e(w),y,m,!0).valueOf())));var h=a.sS!==void 0?a.sS:a.Ss;return c?(a.Ss&&(s["SparseMatrix,"+d]=(m,y)=>a.Ss(m,y,c,!1)),h&&(s[d+", SparseMatrix"]=(m,y)=>h(y,m,c,!0))):(a.Ss&&(s["SparseMatrix,"+d]=t.referToSelf(m=>(y,w)=>a.Ss(y,w,m,!1))),h&&(s[d+", SparseMatrix"]=t.referToSelf(m=>(y,w)=>h(w,y,m,!0)))),c&&c.signatures&&function(m,y){for(var w in y)iD(y,w)&&(m[w]=y[w])}(s,c.signatures),s}}),AH=Ff("matAlgo01xDSid",["typed"],n=>{var{typed:t}=n;return function(e,r,i,a){var s=e._data,c=e._size,f=e._datatype||e.getDataType(),d=r._values,h=r._index,m=r._ptr,y=r._size,w=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(c.length!==y.length)throw new Vc(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,k,M=c[0],N=c[1],B=typeof f=="string"&&f!=="mixed"&&f===w?f:void 0,L=B?t.find(i,[B,B]):i,z=[];for(C=0;C<M;C++)z[C]=[];var q=[],V=[];for(k=0;k<N;k++){for(var X=k+1,nt=m[k],it=m[k+1],ct=nt;ct<it;ct++)q[C=h[ct]]=a?L(d[ct],s[C][k]):L(s[C][k],d[ct]),V[C]=X;for(C=0;C<M;C++)V[C]===X?z[C][k]=q[C]:z[C][k]=s[C][k]}return e.createDenseMatrix({data:z,size:[M,N],datatype:f===e._datatype&&w===r._datatype?B:void 0})}}),Kit=Ff("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,i,a){var s=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype||r._data===void 0?r._datatype:r.getDataType(),m=i._values,y=i._index,w=i._ptr,C=i._size,k=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(d.length!==C.length)throw new Vc(d.length,C.length);if(d[0]!==C[0]||d[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+C+")");var M,N=d[0],B=d[1],L=e,z=0,q=a;typeof h=="string"&&h===k&&h!=="mixed"&&(M=h,L=t.find(e,[M,M]),z=t.convert(0,M),q=t.find(a,[M,M]));var V,X,nt,it,ct,ft=s&&m?[]:void 0,gt=[],Ct=[],kt=s&&m?[]:void 0,Tt=s&&m?[]:void 0,At=[],Zt=[];for(X=0;X<B;X++){Ct[X]=gt.length;var _t=X+1;for(it=f[X],ct=f[X+1],nt=it;nt<ct;nt++)V=c[nt],gt.push(V),At[V]=_t,kt&&(kt[V]=s[nt]);for(it=w[X],ct=w[X+1],nt=it;nt<ct;nt++)if(At[V=y[nt]]===_t){if(kt){var Et=q(kt[V],m[nt]);L(Et,z)?At[V]=null:kt[V]=Et}}else gt.push(V),Zt[V]=_t,Tt&&(Tt[V]=m[nt]);if(kt&&Tt)for(nt=Ct[X];nt<gt.length;)At[V=gt[nt]]===_t?(ft[nt]=kt[V],nt++):Zt[V]===_t?(ft[nt]=Tt[V],nt++):gt.splice(nt,1)}return Ct[B]=gt.length,r.createSparseMatrix({values:ft,index:gt,ptr:Ct,size:[N,B],datatype:h===r._datatype&&k===i._datatype?M:void 0})}}),kH=Ff("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,i,a,s){var c=r._values,f=r._index,d=r._ptr,h=r._size,m=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,w=h[0],C=h[1],k=a;typeof m=="string"&&(y=m,i=t.convert(i,y),k=t.find(a,[y,y]));for(var M=[],N=[],B=[],L=0;L<C;L++){for(var z=L+1,q=d[L],V=d[L+1],X=q;X<V;X++){var nt=f[X];N[nt]=c[X],B[nt]=z}for(var it=0;it<w;it++)L===0&&(M[it]=[]),B[it]===z?M[it][L]=s?k(i,N[it]):k(N[it],i):M[it][L]=i}return new e({data:M,size:[w,C],datatype:y})}}),s6="subtract",Git=Ff(s6,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:c}=n,f=AH({typed:t}),d=Hit({typed:t}),h=Vit({typed:t,equalScalar:r}),m=kH({typed:t,DenseMatrix:s}),y=$it({typed:t,DenseMatrix:s}),w=EH({typed:t,matrix:e,concat:c});return t(s6,{"any, any":i},w({elop:i,SS:h,DS:f,SD:d,Ss:y,sS:m}))}),u6="concat",Yit=Ff(u6,["typed","matrix","isInteger"],n=>{var{typed:t,matrix:e,isInteger:r}=n;return t(u6,{"...Array | Matrix | number | BigNumber":function(i){var a,s,c=i.length,f=-1,d=!1,h=[];for(a=0;a<c;a++){var m=i[a];if(Im(m)&&(d=!0),Kf(m)||zp(m)){if(a!==c-1)throw new Error("Dimension must be specified as last argument");if(s=f,f=m.valueOf(),!r(f))throw new TypeError("Integer number expected for dimension");if(f<0||a>0&&f>s)throw new J0(f,s+1)}else{var y=gp(m).valueOf(),w=om(y);if(h[a]=y,s=f,f=w.length-1,a>0&&f!==s)throw new Vc(s+1,f+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var C=h.shift();h.length;)C=wH(C,h.shift(),f);return d?e(C):C},"...string":function(i){return i.join("")}})}),Xit=Ff("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:t,matrix:e,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:c}=n,f=AH({typed:t}),d=Kit({typed:t,equalScalar:i}),h=kH({typed:t,DenseMatrix:a}),m=EH({typed:t,matrix:e,concat:c});return t("add",{"any, any":r,"any, any, ...any":t.referToSelf(y=>(w,C,k)=>{for(var M=y(w,C),N=0;N<k.length;N++)M=y(M,k[N]);return M})},m({elop:r,DS:f,SS:d,Ss:h}))}),Jit=Ait({config:QO}),Qit=Mit({}),Zit=Pit({}),rN=Tit({}),UE=Oit({Matrix:rN}),Qm=Rrt({BigNumber:Jit,Complex:Qit,DenseMatrix:UE,Fraction:Zit}),tot=zit({typed:Qm}),iN=Bit({config:QO,typed:Qm}),eot=Nit({typed:Qm}),MH=Rit({Matrix:rN,equalScalar:iN,typed:Qm}),not=Uit({typed:Qm}),rot=Lit({typed:Qm}),oN=jit({DenseMatrix:UE,Matrix:rN,SparseMatrix:MH,typed:Qm}),FH=Yit({isInteger:eot,matrix:oN,typed:Qm}),PH=Git({DenseMatrix:UE,concat:FH,equalScalar:iN,matrix:oN,subtractScalar:not,typed:Qm,unaryMinus:rot}),Wy=Xit({DenseMatrix:UE,SparseMatrix:MH,addScalar:tot,concat:FH,equalScalar:iN,matrix:oN,typed:Qm}),iot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gh(t,n),Object.defineProperty(t.prototype,"displayDimensions",{get:function(){var e,r;return[((e=this._root)===null||e===void 0?void 0:e.canvas.width)||0,((r=this._root)===null||r===void 0?void 0:r.canvas.height)||0]},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(t.prototype,"canvasDimensions",{get:function(){return this.context.workingCanvasDimensions},enumerable:!1,configurable:!0}),t.prototype.translate=function(e,r){var i=this.canvasDimensions,a=i[0],s=i[1],c=Lg([],e.o),f=e.w,d=e.h,h=[c=Wy(c,r),Wy(c,[f,0]),Wy(c,[0,d]),Wy(c,[f,d])],m=Math.min.apply(Math,h.map(function(M){return M[0]})),y=Math.max.apply(Math,h.map(function(M){return M[0]})),w=Math.min.apply(Math,h.map(function(M){return M[1]})),C=Math.max.apply(Math,h.map(function(M){return M[1]})),k=[0,0];return m<0?k[0]=-m:y>a&&(k[0]=a-y),w<0?k[1]=-w:C>s&&(k[1]=s-C),Lg([],c),c=Wy(c,k),new Hf(c,f,d)},t.prototype.withinBounds=function(e,r,i,a){return a===void 0&&(a=1e-10),e>=r-a&&e<=i+a},t.prototype.updateDimensions=function(e,r,i){this.setState(du(du({},this.state),{cameraBox:new Hf(e,r,i)})),this.checkBounds()},t.prototype.checkBounds=function(){var e,r,i,a=this.canvasDimensions,s=a[0],c=a[1];e=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,e[0]=Math.max(Math.min(e[0],s),0),e[1]=Math.max(Math.min(e[1],c),0),r=Math.max(Math.min(r,s-e[0]),0),i=Math.max(Math.min(i,c-e[1]),0),this.setState(du(du({},this.state),{cameraBox:new Hf(e,r,i)}))},t.prototype.onGlobalWindowChange=function(){},t.prototype.scale=function(e,r,i){var a,s,c,f=this.canvasDimensions,d=f[0],h=f[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");a=e.o;var m=d/(s=e.w),y=h/(c=e.h),w=Math.min(m,y),C=s*(r=[Math.min(r[0],w),Math.min(r[1],w)])[0],k=c*r[1],M=[i[0]-a[0],i[1]-a[1]],N=M[0],B=M[1],L=this.canvasUnit,z=L[0],q=L[1],V=[N*z,B*q],X=V[0],nt=V[1],it=[N*r[0],B*r[1]],ct=[it[0]*z,it[1]*q],ft=[X-ct[0],nt-ct[1]],gt=ft[0],Ct=ft[1],kt=this.absoluteUnit,Tt=[gt*kt[0],Ct*kt[1]],At=[a[0]+N*r[0],a[1]+B*r[1]];return PH(i,At),console.log(N,B),s=C,c=k,this.translate(new Hf(a,s,c),Tt)},t.prototype.getCenter=function(){return Wy(this.o,[this.w/2,this.h/2])},t.prototype.getBox=function(){return this.state.cameraBox},t}(pv),oot=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isInteractiveCamera=!0,e.layer=-100,e.scaleAnchor=[0,0],e}return gh(t,n),t.prototype.windowDidMount=function(){var e=this;n.prototype.windowDidMount.call(this);var r=this.displayDimensions,i=r[0],a=r[1],s=this.canvasDimensions,c=s[0],f=s[1],d=new Hf([c/2-i/2,f/2-a/2],i,a);console.log(d);var h=this.translate(d,[0,0]);this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:h}),this.props.subscribeToCanvasResize(function(){var m=e.state.cameraBox.clone().o,y=e.state.cameraBox.w,w=e.state.cameraBox.h,C=e.displayDimensions,k=w*(C[0]/C[1]),M=k-y,N=e.translate(new Hf(m,k,w),[-M/2,0]);e.setState({cameraBox:N})})},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e,r){if(r.button===1){var i=e.terminateEvent,a=e.canvasPos;this.setState(du(du({},this.state),{lastMousePosition:a,isPanning:!0})),i()}},t.prototype.onMouseMove=function(e,r){var i=e.terminateEvent,a=e.canvasPos,s=e.absolutePos,c=e.canvasUnit,f=c[0],d=c[1],h=du({},this.state);if(this.scaleAnchor=s,this.state.isPanning){i();var m=PH(a,this.state.lastMousePosition),y=m[0],w=m[1],C=this.translate(this.state.cameraBox.clone(),[-y*f,-w*d]);h=du(du({},h),{lastMousePosition:a,cameraBox:C}),this.setState(h)}},t.prototype.onMouseUp=function(e,r){this.setState(du(du({},this.state),{isPanning:!1}))},t.prototype.onWheel=function(e,r){var i=e.terminateEvent,a=e.canvasToAbsoluteMeasure,s=r.deltaX,c=r.deltaY,f=r.ctrlKey,d=r.altKey;if(f){var h;if(h=s!==0?1+.01*s:1-.01*c,!d){if(this.w*h<50)return;var m=this.scale(this.state.cameraBox.clone(),[Math.max(.1,h),Math.max(.1,h)],this.scaleAnchor);this.setState(du(du({},this.state),{cameraBox:m}))}}else{var y=a([s,c]),w=y[0],C=y[1];m=this.translate(this.state.cameraBox.clone(),[w,C]),this.setState(du(du({},this.state),{cameraBox:m}))}i()},t.prototype.render=function(e){},t}(iot),aot=[1e4,1e4],sot=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}return gh(t,n),t.prototype.getBox=function(){var e=this.context.workingCanvasDimensions,r=e[0],i=e[1];return new Hf([r/2,i/2],0,0)},t.prototype.getChildren=function(){return this.props.objects},t.prototype.render=function(e){if(this.context.mode!=="view"){var r=e.ctx,i=e.absoluteO,a=i[0],s=i[1],c=[[a,s+13],[a,s-13],[a+13,s],[a-13,s]];r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(c[0][0],c[0][1]),r.lineTo(c[1][0],c[1][1]),r.moveTo(c[2][0],c[2][1]),r.lineTo(c[3][0],c[3][1]),r.stroke()}},t}(pv);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.windowDidMount=function(e){var r=this,i=this.props.controller;this.setContext("controller",i),this.setContext("project",i.getProject()),this.setContext("projectTools",i.projectTools),i.subscribeToProjectUpdates(function(){var a=i.getProject();r.setContext("project",a)}),this.setContext("workingCanvasDimensions",aot),this.props.modeManager.subscribeToModeUpdates(function(a){r.setContext("mode",a)}),this.setContext("setMode",function(a){r.props.modeManager.setMode(a)})},t.prototype.getChildren=function(e){var r=[];r.push(oot.Node({subscribeToCanvasResize:this.props.subscribeToCanvasResize}));var i={mode:this.props.mode};return r.push(sot.Node({objects:this.props.getObjects(i)})),r}})(pv);var WC=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},uot=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return gh(t,n),t.prototype.getBox=function(){return new Hf([0,0],this.parentW,this.parentH)},t.prototype.render=function(e){this.strokeOutline(e,"green")},t}(pv),Gg=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gh(t,n),t.prototype.evaluateSignal=function(e,r){var i=this.context.controller.interpolateSignalValueAtTime(e,r),a=i[0],s=i[1];return s.length>0&&console.error(s),a},Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this.context.project.timelineData.playheadPosition||0},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){return this.context.mode==="edit"||this.context.mode==="record"?[uot.Node()]:[]},t.prototype.useSignal=function(e,r,i,a){return this.context.project.orgData.signalIds.findIndex(function(s){return s===e})===-1&&(r==="continuous"&&(this.context.projectTools.createSignal(e,r,e,i),this.context.projectTools.addPinContinuous(e,WC(),this.context.project.timelineData.numberOfFrames,i[1],"return easyLinear();",!0)),r==="discrete"&&(this.context.projectTools.createSignal(e,r,e),this.context.projectTools.addPinDiscrete(e,WC(),this.context.project.timelineData.numberOfFrames,"default",!0))),this.evaluateSignal(e,a||this.currentFrame)},t.prototype.setSignalValue=function(e,r,i,a,s){r==="continuous"&&this.context.projectTools.addPinContinuous(e,WC(),a,i,"return easyLinear();",s),r==="discrete"&&this.context.projectTools.addPinDiscrete(e,WC(),a,i,s)},t.prototype.setDiscreteSignalValue=function(e,r,i,a){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(s){return s===e})===-1&&this.context.projectTools.createSignal(e,"discrete",e),a=a||this.currentFrame,this.setSignalValue(e,"discrete",r,a,i)},t.prototype.setContinuousSignalValue=function(e,r,i,a,s){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(c){return c===e})===-1&&this.context.projectTools.createSignal(e,"continuous",e,a),s=s||this.currentFrame,this.setSignalValue(e,"continuous",r,s,i)},t.prototype.useContinuousSignal=function(e,r,i){return this.useSignal(e,"continuous",r,i)},t.prototype.useDiscreteSignal=function(e,r){return this.useSignal(e,"discrete",void 0,r)},t.prototype.render=function(e){this.context.mode==="edit"||this.context.mode;var r=du(du({},e),{useContinuousSignal:this.useContinuousSignal.bind(this),useDiscreteSignal:this.useDiscreteSignal.bind(this)});this.draw(r)},t.prototype.draw=function(e){},t}(pv);function T0(n,t,e){return Math.min(Math.max(n,t),e)}var bP=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return gh(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1];return new Hf(this.props.o,25*r,25*i)},t.prototype.render=function(e){var r=this.context.mode,i=this.absoluteUnit,a=i[0],s=i[1],c=e.absoluteO,f=c[0],d=c[1],h=[f+this.w/2*a,d+this.h/2*s],m=h[0],y=h[1];e.ctx.globalAlpha=this.props.alpha?this.props.alpha:1,e.ctx.beginPath(),e.ctx.ellipse(m,y,this.w/2*a,this.h/2*s,0,0,2*Math.PI),this.props.color?e.ctx.strokeStyle=this.props.color:e.ctx.strokeStyle=r==="edit"?"green":this.props.dragging?"red":"pink",e.ctx.lineWidth=2,e.ctx.stroke(),e.ctx.beginPath(),e.ctx.moveTo(m-this.w/2*a,y),e.ctx.lineTo(m+this.w/2*a,y),e.ctx.moveTo(m,y-this.h/2*s),e.ctx.lineTo(m,y+this.h/2*s),e.ctx.stroke(),e.ctx.globalAlpha=1},t}(Gg),lot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gh(t,n),t.prototype.windowDidMount=function(e){this.setState({dragging:!1})},t.prototype.getChildren=function(e){return[bP.Node({o:[0,0],dragging:this.state.dragging,anchor:this.props.anchor})]},t.prototype.getBox=function(e){var r=this.canvasUnit,i=r[0],a=r[1];return new Hf([-12.5*i,-12.5*a],25*i,25*a)},t.prototype.onMouseDown=function(e,r){e.pointInside&&this.context.mode==="record"&&this.setState({dragging:!0})},t.prototype.chooseSetSignalValueFunction=function(e,r,i){var a=this.props.topProps.type,s=r.angle,c=r.magnitude,f=r.vector,d=r.range,h=r.rangeX,m=r.rangeY;switch(s=s&&Number(s.toFixed(2)),c=c&&Number(c.toFixed(2)),f=f&&f.map(function(B){return Number(B.toFixed(2))}),this.props.topProps.degreesOfFreedom){case"1-angular":if(a==="discrete")this.setDiscreteSignalValue(e,JSON.stringify({angle:s}),i);else{var y=d[0],w=d[1];this.setContinuousSignalValue(e,T0(s,y,w),i,d)}break;case"1-normal":a==="discrete"?this.setDiscreteSignalValue(e,JSON.stringify({magnitude:c}),i):(y=d[0],w=d[1],this.setContinuousSignalValue(e,T0(c,y,w),i,d));break;case"2-cartesian":if(a==="discrete")this.setDiscreteSignalValue(e,JSON.stringify({vector:f}),i);else{var C=h[0],k=h[1],M=m[0],N=m[1];this.setContinuousSignalValue(e+"_x",T0(f[0],C,k),i,h),this.setContinuousSignalValue(e+"_y",T0(f[1],M,N),i,m)}}},t.prototype.moveHandle=function(e,r){var i;this.context.projectTools.returnToLastCommit();var a={};switch(this.props.topProps.degreesOfFreedom){case"1-angular":var s=this.props.anchor,c=s[0],f=s[1],d=e.absolutePos,h=d[0]-c,m=d[1]-f;a={angle:Math.atan2(m,h),range:[-Math.PI,Math.PI]};break;case"1-normal":var y=o0(e.absolutePos,this.props.anchor);if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var w=this.props.topProps.initialDirection,C=function(z,q){return z[0]*q[0]+z[1]*q[1]}(y,a0(w,1/rD(w))),k=a0(w,C);if(!(L=this.props.topProps.range))throw new Error("Range not defined for 1-normal handle");a={magnitude:T0(Math.sign(C)*rD(k),L[0],L[1]),range:L};break;case"2-cartesian":var M=o0(e.absolutePos,this.props.anchor),N=(h=M[0],m=M[1],this.props.topProps.rangeX),B=this.props.topProps.rangeY;if(!N||!B){var L;if(!(L=this.props.topProps.range))throw new Error("Range not defined for 2-cartesian handle");N=L,B=L}a={vector:[h=(i=[T0(h,N[0],N[1]),T0(m,B[0],B[1])])[0],m=i[1]],rangeX:N,rangeY:B}}this.chooseSetSignalValueFunction(this.props.topProps.id,a,r),this.context.projectTools.pushUpdate()},t.prototype.onMouseMove=function(e,r){this.state.dragging&&this.moveHandle(e,!1)},t.prototype.onMouseUp=function(e,r){this.state.dragging&&(this.moveHandle(e,!0),this.setState({dragging:!1}))},t.prototype.render=function(e){},t}(Gg),cot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gh(t,n),t.prototype.getChildren=function(e){var r=this.getOnionSkinCrosshairPositions(),i=r[0],a=r[1],s=this.canvasUnit,c=[12.5*s[0],12.5*s[1]];return[bP.Node({o:o0(i,c),alpha:.5,color:"#d0e681",anchor:this.props.anchor}),bP.Node({o:o0(a,c),alpha:.5,color:"#77d4cd",anchor:this.props.anchor})]},t.prototype.getPreviousNextPinValues=function(){var e,r,i=this,a=this.props.topProps.id,s=Object.entries(this.context.project.signalData[a].pinTimes).sort(function(w,C){return w[1]-C[1]}),c=(e=s.find(function(w){return w[0],w[1]>=i.context.project.timelineData.playheadPosition}))===null||e===void 0?void 0:e[0],f=s.findIndex(function(w){var C=w[0];return w[1],C===c});try{r=JSON.parse(this.useDiscreteSignal(a,this.context.project.timelineData.playheadPosition))}catch{r={angle:0,magnitude:0,vector:[0,0]}}var d=f>0,h=f<s.length-1,m=r,y=r;if(d)try{m=JSON.parse(this.context.project.signalData[a].pinValues[s[f-1][0]])}catch{}if(h)try{y=JSON.parse(this.context.project.signalData[a].pinValues[s[f+1][0]])}catch{}return[m,y]},t.prototype.getOnionSkinCrosshairPositions=function(){var e,r,i=this.getPreviousNextPinValues(),a=i[0],s=i[1],c=a.magnitude,f=a.angle,d=a.vector,h=s.magnitude,m=s.angle,y=s.vector;switch(this.props.topProps.degreesOfFreedom){case"1-angular":if(!this.props.topProps.initialLength)throw new Error("Initial length not defined for 1-angular handle");var w=this.props.initialLength;e=[w*Math.cos(f),w*Math.sin(f)],r=[w*Math.cos(m),w*Math.sin(m)];break;case"1-normal":if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var C=a0(this.props.topProps.initialDirection,1/rD(this.props.topProps.initialDirection)),k=C[0],M=C[1];e=a0([k,M],c),r=a0([k,M],h);break;case"2-cartesian":e=d,r=y;break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}var N=o0(this.parentO,this.props.anchor);return[e=X0(e,N),r=X0(r,N)]},t}(Gg),fot=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gh(t,n),t.prototype.getChildren=function(e){var r=this.props.children?Lg([],this.props.children):[],i={id:this.props.id,topProps:this.props,anchor:this.parentO},a=lot.Node(i);return r.push(a),r},t.prototype.retrieveSignalValue=function(e){if(this.props.type==="discrete"){var r=this.useDiscreteSignal(e,this.context.project.timelineData.playheadPosition),i={angle:0,magnitude:0,vector:[0,0]};try{i=JSON.parse(r)}catch{}switch(this.props.degreesOfFreedom){case"1-angular":return i.angle;case"1-normal":return i.magnitude;case"2-cartesian":return i.vector;default:throw new Error("Degrees of freedom not defined for VectorHandle")}}else switch(this.props.degreesOfFreedom){case"1-angular":return this.useContinuousSignal(e,[-Math.PI,Math.PI]);case"1-normal":return this.useContinuousSignal(e,this.props.range);case"2-cartesian":var a=this.props.rangeX,s=this.props.rangeY;if(!a||!s){var c=this.props.range;if(!c)throw new Error("Range not defined for 2-cartesian handle");a=c,s=c}return[this.useContinuousSignal(e+"_x",a),this.useContinuousSignal(e+"_y",s)];default:throw new Error("Degrees of freedom not defined for VectorHandle")}},t.prototype.getBox=function(){var e,r,i,a,s;switch(this.props.degreesOfFreedom){case"1-angular":var c=this.retrieveSignalValue(this.props.id);if(!this.props.initialLength)throw new Error("Initial length not defined for 1-angular handle");var f=this.props.initialLength;a=(e=[f*Math.cos(c),f*Math.sin(c)])[0],s=e[1];break;case"1-normal":var d=this.retrieveSignalValue(this.props.id);if(!this.props.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var h=a0(this.props.initialDirection,1/rD(this.props.initialDirection));a=(r=[h[0]*d,h[1]*d])[0],s=r[1];break;case"2-cartesian":a=(i=this.retrieveSignalValue(this.props.id))[0],s=i[1];break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}return new Hf([a,s],0,0)},t.prototype.render=function(e){var r=this.context.mode;if(r==="edit"||r==="record"){var i=e.absoluteO,a=i[0],s=i[1],c=this.absoluteUnit,f=c[0],d=c[1],h=[a+this.w/2*f,s+this.h/2*d],m=h[0],y=h[1];if(this.props.displayLine){e.ctx.beginPath(),e.ctx.strokeStyle="green",e.ctx.lineWidth=2,e.ctx.setLineDash([3,1]);var w=e.localToCanvas(a0(this.o,-1)),C=w[0],k=w[1];e.ctx.moveTo(C,k),e.ctx.lineTo(m,y),e.ctx.stroke()}if(this.props.displayCircle){e.ctx.beginPath(),e.ctx.strokeStyle="green",e.ctx.lineWidth=2,e.ctx.setLineDash([3,1]);var M=rD(this.o),N=e.localToCanvas(a0(this.o,-1));C=N[0],k=N[1],e.ctx.ellipse(C,k,M*f,M*d,0,0,2*Math.PI),e.ctx.stroke()}e.ctx.setLineDash([]),e.ctx.font="20px Arial",e.ctx.fillStyle=r==="edit"?"green":"pink",e.ctx.fillText(this.props.id,m,y-17)}},t}(Gg),Ek=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return gh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(fot.Node(this.props)),this.props.onionSkin&&r.push(cot.Node({id:this.props.id,topProps:this.props,anchor:this.parentO})),r},t}(Gg);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(Ek.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"2-cartesian",rangeX:e.rangeX,rangeY:e.rangeY,range:e.range,children:e.children,displayLine:e.displayLine,onionSkin:e.onionSkin})),r}})(pv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(Ek.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"1-angular",children:e.children,initialLength:e.initialLength,displayCircle:e.displayCircle,onionSkin:e.onionSkin})),r}}(pv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(Ek.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"1-normal",initialDirection:e.initialDirection,range:e.range,children:e.children,displayLine:e.displayLine,onionSkin:e.onionSkin})),r}}(pv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.getChildren=function(){var e=this,r={continuous:this.useContinuousSignal.bind(this),discrete:this.useDiscreteSignal.bind(this),frame:function(){return e.currentFrame},project:function(){return e.context.project},setDiscreteSignal:function(i,a,s){return e.setDiscreteSignalValue(i,a,!0,s)},setContinuousSignal:function(i,a,s,c){return e.setContinuousSignalValue(i,a,!0,c,s)}};return this.props.getChildren(r)}}(Gg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){return new Hf([this.props.x,this.props.y],this.props.w,this.props.h)},t.prototype.draw=function(e){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){e.ctx.save();var i=e.absoluteO,a=i[0],s=i[1];e.ctx.translate(a,s);var c=e.ctx;this.absoluteToCanvasMeasure;var f=this.absoluteUnit,d=f[0],h=f[1],m={moveTo:function(w,C){c.moveTo(w*d,C*h)},lineTo:function(w,C){c.lineTo(w*d,C*h)},arc:function(w,C,k,M,N,B){c.arc(w*d,C*h,k*d,M,N,B)},fillRect:function(w,C,k,M){c.fillRect(w*d,C*h,k*d,M*h)},strokeRect:function(w,C,k,M){c.strokeRect(w*d,C*h,k*d,M*h)},fillText:function(w,C,k){c.fillText(w,C*d,k*h)},strokeText:function(w,C,k){c.strokeText(w,C*d,k*h)},arcTo:function(w,C,k,M,N){c.arcTo(w*d,C*h,k*d,M*h,N*d)},bezierCurveTo:function(w,C,k,M,N,B){c.bezierCurveTo(w*d,C*h,k*d,M*h,N*d,B*h)},quadraticCurveTo:function(w,C,k,M){c.quadraticCurveTo(w*d,C*h,k*d,M*h)},rect:function(w,C,k,M){c.rect(w*d,C*h,k*d,M*h)},clearRect:function(w,C,k,M){c.clearRect(w*d,C*h,k*d,M*h)},translate:function(w,C){c.translate(w*d,C*h)},transform:function(w,C,k,M,N,B){c.transform(w,C,k,M,N*d,B*h)},setTransform:function(w,C,k,M,N,B){c.setTransform(w,C,k,M,N*d,B*h)},createRadialGradient:function(w,C,k,M,N,B){return c.createRadialGradient(w*d,C*h,k*d,M*d,N*h,B*d)}},y=new Proxy(e.ctx,{get:function(w,C){if(C in m)return m[C];var k=Reflect.get(w,C);return typeof k=="function"?k.bind(w):k},set:function(w,C,k){return Reflect.set(w,C,k)}});y.beginPath(),y.rect(0,0,this.props.w,this.props.h),y.clip(),this.props.draw(y),e.ctx.restore()}}}(Gg),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.globalPositioning=!0,e}gh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){var e=this.context.workingCanvasDimensions[0],r=this.context.workingCanvasDimensions[1];return new Hf([0,0],e,r)},t.prototype.draw=function(e){var r=this.context.mode;this.props.modes&&!this.props.modes.includes(r)||this.props.draw(e.ctx)}}(Gg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.getBox=function(){return new Hf([this.props.x,this.props.y],this.props.w,this.props.h)},t.prototype.getChildren=function(){return this.props.children}}(Gg),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._img=null,e}gh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){return new Hf([this.props.x,this.props.y],this.props.w,this.props.h)},Object.defineProperty(t.prototype,"img",{get:function(){var e=this;if(!this._img){var r=new Image;return r.src=this.props.src,r.onload=function(){e._img=r},r}return this._img},enumerable:!1,configurable:!0}),t.prototype.draw=function(e){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){e.ctx.save();var i=e.absoluteO,a=i[0],s=i[1],c=this.absoluteUnit,f=c[0],d=c[1];e.ctx.translate(a,s),e.ctx.drawImage(this.img,0,0,this.props.w*f,this.props.h*d),e.ctx.restore()}}}(Gg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}gh(t,n),t.prototype.windowDidMount=function(e){this.props.onMount()}}(pv),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isSceneCamera=!0,e}gh(t,n),t.prototype.getChildren=function(){return this.props.children},t.prototype.getBox=function(){return new Hf([this.props.x||0,this.props.y||0],this.props.w||500,this.props.h||500)},t.prototype.render=function(e){this.strokeOutline(e,"white")}}(Gg),Znt.PinsAndCurvesProjectController,jnt.defaultProject;var l6=function(n){var t=n.signalType,e=n.currentSignalType,r=n.setSignalType;return fe.jsx(wv,{text:t,onClick:function(){return r(t)},bgColor:t===e?"var(--yellow1)":"var(--gray4)",color:t===e?"var(--gray1)":"var(--gray7)"})},hot=function(n){n.id;var t=n.closeModal,e=n.useProjectTools,r=re.useState("New Signal"),i=r[0],a=r[1],s=re.useState("discrete"),c=s[0],f=s[1],d=re.useState(0),h=d[0],m=d[1],y=re.useState(1),w=y[0],C=y[1],k=e();return fe.jsx("div",{onClick:t,style:{display:"grid",placeItems:"center",backgroundColor:"rgba(0, 0, 0, 0.5)",width:"100%",height:"100%",padding:"20px"},children:fe.jsxs("div",{onClick:function(M){return M.stopPropagation()},style:{backgroundColor:"var(--gray2)",color:"var(--gray7)",padding:"20px",borderRadius:"var(--borderRadiusSmall)",maxWidth:"400px",width:"100%",boxSizing:"border-box"},children:[fe.jsx("h2",{children:"Create Signal"}),fe.jsx("br",{}),fe.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px"},children:[fe.jsx("div",{children:"Signal Name:"}),fe.jsx(vv,{initialValue:i,onCommit:function(M){return a(M)},isValid:function(M){return M.length>0},charSize:20})]}),fe.jsx("br",{}),fe.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px",alignContent:"center"},children:[fe.jsx("div",{children:"Signal Type:"}),fe.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[fe.jsx(l6,{currentSignalType:c,signalType:"discrete",setSignalType:f}),fe.jsx(l6,{currentSignalType:c,signalType:"continuous",setSignalType:f})]})]}),c==="continuous"&&fe.jsxs(fe.Fragment,{children:[fe.jsx("hr",{}),fe.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",gap:"10px",alignContent:"center"},children:["Start:",fe.jsx(vv,{initialValue:h.toString(),onCommit:function(M){return m(parseFloat(M))},isValid:function(M){return!isNaN(parseFloat(M))}}),"End:",fe.jsx(vv,{initialValue:w.toString(),onCommit:function(M){return C(parseFloat(M))},isValid:function(M){return!isNaN(parseFloat(M))&&parseFloat(M)>h}})]}),fe.jsx("hr",{})]}),fe.jsx("br",{}),fe.jsxs("div",{style:{display:"flex",justifyContent:"flex-end"},children:[fe.jsx(wv,{onClick:t,text:"Cancel"}),fe.jsx(wv,{onClick:function(){var M=Math.random().toString(36).substring(7);i&&c==="discrete"?(k.createSignal(M,c,i),t()):i&&c==="continuous"&&(k.createSignal(M,c,i,[h,w]),t())},text:"Create",bgColor:"var(--gray5)",hoverBgColor:"var(--gray6)"})]})]})})},pot=function(n){return fe.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",fillRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:"1.5",clipRule:"evenodd",viewBox:"0 0 1383 1383",children:fe.jsx("g",{transform:"translate(-11367.9 -51917.4)",children:fe.jsxs("g",{id:"Artboard10",children:[fe.jsx("path",{fill:"none",d:"M11367.913 51917.246h1382.825v1382.824h-1382.825z"}),fe.jsx("path",{fill:"none",stroke:"#E6C61E",strokeWidth:"179.17",d:"M11714.478 52998.225s-129.7-164.1-129.7-390.899 126.3-407.598 126.3-407.598"}),fe.jsx("path",{fill:"none",stroke:"#E6C61E",strokeWidth:"187.5",d:"M12049.47 53046.486v-827.096"}),fe.jsx("path",{fill:"#E6C61E",d:"m12283.778 52369.52 174.425-174.425 174.426 174.425-174.426 174.426z"})]})})})};function dot(n){n.project;var t=n.projectTools;return fe.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"5px"},children:[fe.jsx("div",{style:{width:"45px",height:"45px"},children:fe.jsx(pot,{})}),fe.jsx("div",{style:{width:"0px",height:"45px",borderLeft:"1px solid var(--gray3)",marginLeft:"25px",marginRight:"25px"}}),fe.jsx(wv,{iconName:"undo",onClick:function(){return t.undo()}}),fe.jsx(wv,{iconName:"redo",onClick:function(){return t.redo()}})]})}Ng.PinsAndCurvesProjectController,PD.defaultProject;var got={create_signal:function(n){var t=n.id,e=n.closeModal,r=yE(),i=r[0];return r[1]?fe.jsx(hot,{id:t,closeModal:e,useProjectTools:function(){return i.projectTools}}):null},update_signal:function(){return fe.jsx("div",{children:"Update Signal"})}};function mot(n){var t=n.modalType,e=n.modalId,r=n.closeModal;return fe.jsx(uX,{modalTypes:got,modalType:t,modalId:e,closeModal:r})}var eb=function(){return eb=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},eb.apply(this,arguments)};function vot(n){var t=n.useProject,e=n.useProjectTools,r=n.openCreateSignalModal;return n.ComposeSignalListAndToolbar(fe.jsx(n.SignalList,{project:t(),projectTools:e()}),fe.jsx(n.Toolbar,{openCreateSignalModal:r}))}function yot(n){var t=n.children,e=n.projectHasLoaded,r=n.LoadingFallback;return e?fe.jsx(fe.Fragment,{children:t}):fe.jsx(r,{})}function wot(n){var t=n.openCreateSignalModal;return fe.jsx("div",{style:{padding:"10px",backgroundColor:"#282E34",display:"flex",justifyContent:"right"},children:fe.jsx(wv,{text:"create signal",onClick:t})})}function bot(){var n,t=yE(),e=t[0],r=t[1],i=function(){var a=re.useContext(rL);if(a===void 0)throw new Error("useSetProjectLayout must be used within a SetProjectLayoutContext.Provider");return a}();return n={ComposeSignalListAndToolbar:function(a,s){return fe.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"1fr auto",height:"100%",width:"100%"},children:[a,s]})},projectHasLoaded:r,LoadingFallback:function(){return fe.jsx("div",{children:"Loading..."})},SignalList:W4,useProject:function(){return re.useSyncExternalStore(e.subscribeToProjectUpdates.bind(e),function(){return e.getProject.bind(e)()})},useProjectTools:function(){return e.projectTools},openCreateSignalModal:function(){i({type:"modal",modalType:"create_signal"})},Toolbar:wot},fe.jsx(yot,{projectHasLoaded:n.projectHasLoaded,LoadingFallback:n.LoadingFallback,children:fe.jsx(vot,eb({},n))})}function xot(n){var t=n.useProjectState,e=n.useProjectTools,r=n.useInterpolateSignalValue,i=n.EditingAreaCanvasContent,a=n.EditingAreaCanvasTools,s=n.EditingAreaCanvasCodeEditor,c=n.EditingAreaCanvasTimelineTools,f=n.ComposeEditingAreaCanvas,d=n.useSetFunctionString,h=re.useState("pointer"),m=h[0],y=h[1],w=re.useState(),C=w[0],k=w[1],M=e(),N=r(),B=d();return f(fe.jsx(i,{activeTool:m,setActiveEditor:k,useProjectState:t,projectTools:M,interpolateSignalValue:N}),fe.jsx(a,{activeTool:m,setActiveTool:y,useProjectState:t}),fe.jsx(c,{useProjectState:t,projectTools:M}),fe.jsx(s,{useProjectState:t,activeEditor:C,setFunctionString:B,interpolateSignalValue:N}),m)}function Dot(n){var t=n.projectIsLoaded,e=n.LoadingFallback,r=n.children;return t?fe.jsx(fe.Fragment,{children:r}):fe.jsx(e,{})}function Cot(n){return fe.jsx(Dot,{projectIsLoaded:n.projectIsLoaded,LoadingFallback:n.LoadingFallback,children:fe.jsx(xot,eb({},n))})}typeof SuppressedError=="function"&&SuppressedError,PD.defaultProject,Ng.PinsAndCurvesProjectController;var _ot=function(n){var t=n.useProjectState,e=n.projectTools;return function(r){var i=r.project,a=r.projectTools,s=Vi.useState(!1),c=s[0],f=s[1],d=i.timelineData.playheadPosition,h=function(M,N){a.returnToLastCommit(),a.updatePlayheadPosition(M,N)},m=i.timelineData.numberOfFrames,y=i.timelineData.framesPerSecond,w=i.timelineData.focusRange,C=w[0],k=w[1];return re.useLayoutEffect(function(){var M,N=Date.now(),B=N,L=k-C,z=function(V,X,nt){return Math.min(Math.max(V,X),nt)}(d,C,k)-C,q=function(){if(c){var V=Date.now();if(V-B>1e3/y){var X=V-N,nt=Math.floor(X/(1e3/y));B=V,h(C+(z+nt)%L,!1)}M=requestAnimationFrame(q)}};return M=requestAnimationFrame(q),function(){return cancelAnimationFrame(M)}},[c]),fe.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"10px"},children:[fe.jsx(wv,{onClick:function(){c&&h(d,!0),f(!c)},iconName:c?"pause":"play_arrow",bgColor:c?"var(--green2)":"var(--gray4)",hoverBgColor:c?"var(--green1)":"var(--gray5)",color:c?"white":"var(--gray7)",hoverColor:c?"white":"var(--gray7)"}),fe.jsx("div",{style:{color:"var(--gray6)"},children:"Frame:"}),fe.jsx(vv,{initialValue:d.toString(),onCommit:function(M){return h(parseInt(M),!0)},isValid:function(M){if(M==="")return!1;var N=M.split(""),B=!1;if(N.forEach(function(z){"0123456789".split("").includes(z)||(B=!0)}),B)return!1;var L=parseInt(M,10);return!isNaN(L)&&L>=0&&L<m}},d),fe.jsx("div",{style:{height:"40px",width:"0px",marginLeft:"15px",marginRight:"15px"}}),fe.jsx("div",{style:{color:"var(--gray6)"},children:"Range:"}),fe.jsx(vv,{initialValue:i.timelineData.focusRange[0].toString(),onCommit:function(M){return a.updateFocusRange([parseInt(M),i.timelineData.focusRange[1]])},isValid:function(M){if(M==="")return!1;var N=M.split(""),B=!1;if(N.forEach(function(z){"0123456789".split("").includes(z)||(B=!0)}),B)return!1;var L=parseInt(M,10);return!isNaN(L)&&L>=0&&L<m&&L<i.timelineData.focusRange[1]}}),fe.jsx(vv,{initialValue:i.timelineData.focusRange[1].toString(),onCommit:function(M){return a.updateFocusRange([i.timelineData.focusRange[0],parseInt(M)])},isValid:function(M){if(M==="")return!1;var N=M.split(""),B=!1;if(N.forEach(function(z){"0123456789".split("").includes(z)||(B=!0)}),B)return!1;var L=parseInt(M,10);return!isNaN(L)&&L>=0&&L<m&&L>i.timelineData.focusRange[0]}})]})}({project:t(),projectTools:e})};Ng.PinsAndCurvesProjectController,PD.defaultProject;var Sot=function(n,t,e,r,i){return fe.jsxs("div",{style:{display:"grid",height:"60vh",width:"100%",backgroundColor:"#282E34",gridTemplateRows:"60px calc(60vh - 60px) ",borderTop:"1px solid #3A424B",boxSizing:"border-box"},children:[fe.jsxs("div",{style:{display:"flex",justifyContent:"center",backgroundColor:"var(--gray2)",borderBottom:"2px solid #3A424B"},children:[e,fe.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:fe.jsx("div",{style:{height:"40px",width:"1px",backgroundColor:"var(--gray5)",marginLeft:"30px",marginRight:"30px"}})}),t]}),fe.jsxs("div",{style:i==="code_editor"?{display:"grid",gridTemplateColumns:"30% 1fr",gridTemplateRows:"calc(60vh - 100px)",position:"relative"}:{display:"grid",gridTemplateColumns:"0% 1fr",gridTemplateRows:"100%",position:"relative"},children:[i==="code_editor"?r:fe.jsx("div",{style:{height:"calc(60vh - 100px)",width:"10px",backgroundColor:"blue"}}),n]})]})},Eot=function(n){var t=n.activeTool,e=n.setActiveTool;return fe.jsx(Rnt,{activeTool:t,setActiveTool:e})};function Aot(){return fe.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"white"},children:"Loading..."})}var kot=function(){var n=yE(),t=n[0],e=n[1],r=function(){return t.projectTools};return fe.jsx(Cot,{LoadingFallback:Aot,projectIsLoaded:e,EditingAreaCanvasContent:function(i){return console.log(i.activeTool),fe.jsx(Y1,eb({},i))},EditingAreaCanvasTools:Eot,EditingAreaCanvasTimelineTools:_ot,EditingAreaCanvasCodeEditor:Bnt,ComposeEditingAreaCanvas:Sot,useProjectState:function(){return i=function(a){return a},re.useSyncExternalStore(t.subscribeToProjectUpdates.bind(t),function(){return i(t.getProject.bind(t)())});var i},useProjectTools:r,useInterpolateSignalValue:function(){return t.interpolateSignalValueAtTime.bind(t)},useSetFunctionString:function(){var i=r();return function(a,s){i.updateCurve(a,s)}}})};function Mot(n){var t=n.useServerURL,e=n.LocalRenderer,r=t();return fe.jsx("div",{style:{width:"100%",height:"100%"},children:r==="DEBUG_SERVER"?fe.jsx(e,{serverURL:r}):fe.jsx("iframe",{style:{width:"100%",height:"100%",border:"none"},src:r})})}var Fot=Ng.PinsAndCurvesProjectController,Pot=Ng.CustomEventAPI.dispatchProjectEvent(),Tot=Ng.CustomEventAPI.subscribeToProjectEvents(),Oot=PD.defaultProject;function Not(){var n=re.useRef(Fot.Host(Pot,Oot())).current;re.useEffect(function(){var r=Tot(n.receive.bind(n));return function(){r()}},[]);var t=re.useSyncExternalStore(n.subscribeToProjectUpdates.bind(n),n.getProject.bind(n)),e=JSON.stringify(t,null,2);return fe.jsx("div",{style:{overflow:"scroll",height:"300px"},children:fe.jsx("pre",{children:e})})}function Iot(){return fe.jsx(Mot,{useServerURL:eL,LocalRenderer:Not})}function Bot(n){var t=n.useProjectState,e=n.useProjectTools;n.LoadingFallback;var r=n.NavBarContent,i=n.ComposeNavBar,a=e(),s=t();return i(fe.jsx(r,{project:s,projectTools:a}))}function Rot(n){var t=n.projectIsLoaded,e=n.LoadingFallback,r=n.children;return t?fe.jsx(fe.Fragment,{children:r}):fe.jsx(e,{})}function jot(n){return fe.jsx(Rot,{projectIsLoaded:n.projectIsLoaded,LoadingFallback:n.LoadingFallback,children:fe.jsx(Bot,eb({},n))})}function Lot(){return fe.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"white"},children:"Loading..."})}function zot(n){return fe.jsx("div",{style:{backgroundColor:"var(--gray2)",borderBottom:"2px solid var(--gray5)",display:"flex",justifyContent:"flex-start"},children:fe.jsx("div",{style:{marginLeft:"15px"},children:n})})}function Uot(){var n=yE(),t=n[0],e=n[1];return fe.jsx(jot,{NavBarContent:dot,LoadingFallback:Lot,projectIsLoaded:e,useProjectState:function(){return r=function(i){return i},re.useSyncExternalStore(t.subscribeToProjectUpdates.bind(t),function(){return r(t.getProject.bind(t)())});var r},useProjectTools:function(){return t.projectTools},ComposeNavBar:zot})}Ng.PinsAndCurvesProjectController,PD.defaultProject;var $ot=function(n){var t=n.children,e=n.normalOrFullscreen;return fe.jsx("div",{style:e==="normal"?{display:"grid",gridTemplateColumns:" 500px 1fr",gridTemplateRows:"45px calc(40vh - 45px) 60vh",gridTemplateAreas:`
            "nav nav"
            "orgArea playback"
            "editingArea editingArea"
        `,width:"100%",height:"100%"}:{display:"grid",gridTemplateColumns:"1fr",gridTemplateRows:"45px 1fr",gridTemplateAreas:`
            "nav"
            "playback"
        `,width:"100%",height:"100%",overflow:"hidden"},children:t})},Wot=function(){return fe.jsx(sX,{ProjectModalOverlay:mot,NavBar:Uot,OrgArea:bot,Playback:Iot,EditingArea:kot,ComposeGridLayout:$ot})},Hot=Ng.PostMessageAPI.dispatchProjectEvent,Vot=Ng.CustomEventAPI.dispatchProjectEvent,qot=Ng.CustomEventAPI.subscribeToProjectEvents,Kot=Ng.PostMessageAPI.subscribeToProjectEvents,Got=Ng.PinsAndCurvesProjectController;function Yot(n,t){var e=re.useRef();return re.useEffect(function(){var r=document.querySelector('iframe[src*="'.concat(n,'"]')),i=function(){var d=Vot(),h=qot();if(n!=="DEBUG_SERVER"){if(!r)throw new Error("Target iframe not found");var m=r.contentWindow;if(!m)throw new Error("Target iframe not found");var y=Hot(m,n);d=function(w){y(w)},h=Kot(n)}return{dispatch:d,subscribe:h}}(),a=i.dispatch,s=i.subscribe;function c(){e.current=Got.Client(a);var d=e.current,h=d.receive.bind(d),m=s(function(y){h(y)});return d.connectToHost(function(){console.log("Connected to host"),t()}),m}if(!r){var f=c();return function(){f()}}r.addEventListener("load",function(){var d=c();return function(){d()}})},[n]),e.current}var Xot=function(){return fe.jsx("div",{children:"ProjectLoadErrorMock"})},Jot=function(){return fe.jsx(aX,{ProjectLoadError:Xot,ActiveProject:Wot,useServerUrl:eL,useLoadProject:Yot,TIMEOUT:5e3})},Qot=function(n){var t=n.serverUrl;return fe.jsx(oX,{serverUrlIsValid:function(e){return!0},serverUrl:t,ProjectScreen:Jot,ErrorScreen:function(){return fe.jsx("div",{children:"ErrorScreenMock"})}})};const Zot=()=>{const{serverUrl:n}=lY(),t=WT();return n||t("/"),fe.jsx(Qot,{serverUrl:decodeURIComponent(n)})};var xP=function(n,t){return xP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},xP(n,t)};function Ki(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}xP(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var pl=function(){return pl=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},pl.apply(this,arguments)};function lm(n,t,e){if(e||arguments.length===2)for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}var HC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tat(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var c6,f6={exports:{}},Sd={},h6={exports:{}},p6={},d6,g6;function eat(){return d6||(d6=1,h6.exports=function(){return c6||(c6=1,function(t){function e(Et,mt){var vt=Et.length;Et.push(mt);t:for(;0<vt;){var Lt=vt-1>>>1,ee=Et[Lt];if(!(0<a(ee,mt)))break t;Et[Lt]=mt,Et[vt]=ee,vt=Lt}}function r(Et){return Et.length===0?null:Et[0]}function i(Et){if(Et.length===0)return null;var mt=Et[0],vt=Et.pop();if(vt!==mt){Et[0]=vt;t:for(var Lt=0,ee=Et.length,pe=ee>>>1;Lt<pe;){var ve=2*(Lt+1)-1,Oe=Et[ve],qe=ve+1,He=Et[qe];if(0>a(Oe,vt))qe<ee&&0>a(He,Oe)?(Et[Lt]=He,Et[qe]=vt,Lt=qe):(Et[Lt]=Oe,Et[ve]=vt,Lt=ve);else{if(!(qe<ee&&0>a(He,vt)))break t;Et[Lt]=He,Et[qe]=vt,Lt=qe}}}return mt}function a(Et,mt){var vt=Et.sortIndex-mt.sortIndex;return vt!==0?vt:Et.id-mt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var d=[],h=[],m=1,y=null,w=3,C=!1,k=!1,M=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function z(Et){for(var mt=r(h);mt!==null;){if(mt.callback===null)i(h);else{if(!(mt.startTime<=Et))break;i(h),mt.sortIndex=mt.expirationTime,e(d,mt)}mt=r(h)}}function q(Et){if(M=!1,z(Et),!k)if(r(d)!==null)k=!0,Zt(V);else{var mt=r(h);mt!==null&&_t(q,mt.startTime-Et)}}function V(Et,mt){k=!1,M&&(M=!1,B(ct),ct=-1),C=!0;var vt=w;try{for(z(mt),y=r(d);y!==null&&(!(y.expirationTime>mt)||Et&&!Ct());){var Lt=y.callback;if(typeof Lt=="function"){y.callback=null,w=y.priorityLevel;var ee=Lt(y.expirationTime<=mt);mt=t.unstable_now(),typeof ee=="function"?y.callback=ee:y===r(d)&&i(d),z(mt)}else i(d);y=r(d)}if(y!==null)var pe=!0;else{var ve=r(h);ve!==null&&_t(q,ve.startTime-mt),pe=!1}return pe}finally{y=null,w=vt,C=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var X,nt=!1,it=null,ct=-1,ft=5,gt=-1;function Ct(){return!(t.unstable_now()-gt<ft)}function kt(){if(it!==null){var Et=t.unstable_now();gt=Et;var mt=!0;try{mt=it(!0,Et)}finally{mt?X():(nt=!1,it=null)}}else nt=!1}if(typeof L=="function")X=function(){L(kt)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,At=Tt.port2;Tt.port1.onmessage=kt,X=function(){At.postMessage(null)}}else X=function(){N(kt,0)};function Zt(Et){it=Et,nt||(nt=!0,X())}function _t(Et,mt){ct=N(function(){Et(t.unstable_now())},mt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Et){Et.callback=null},t.unstable_continueExecution=function(){k||C||(k=!0,Zt(V))},t.unstable_forceFrameRate=function(Et){0>Et||125<Et?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<Et?Math.floor(1e3/Et):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(Et){switch(w){case 1:case 2:case 3:var mt=3;break;default:mt=w}var vt=w;w=mt;try{return Et()}finally{w=vt}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Et,mt){switch(Et){case 1:case 2:case 3:case 4:case 5:break;default:Et=3}var vt=w;w=Et;try{return mt()}finally{w=vt}},t.unstable_scheduleCallback=function(Et,mt,vt){var Lt=t.unstable_now();switch(vt=typeof vt=="object"&&vt!==null&&typeof(vt=vt.delay)=="number"&&0<vt?Lt+vt:Lt,Et){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return Et={id:m++,callback:mt,priorityLevel:Et,startTime:vt,expirationTime:ee=vt+ee,sortIndex:-1},vt>Lt?(Et.sortIndex=vt,e(h,Et),r(d)===null&&Et===r(h)&&(M?(B(ct),ct=-1):M=!0,_t(q,vt-Lt))):(Et.sortIndex=ee,e(d,Et),k||C||(k=!0,Zt(V))),Et},t.unstable_shouldYield=Ct,t.unstable_wrapCallback=function(Et){var mt=w;return function(){var vt=w;w=mt;try{return Et.apply(this,arguments)}finally{w=vt}}}}(p6)),p6}()),h6.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function nat(){if(g6)return Sd;g6=1;var n=Vi,t=eat();function e(p){for(var v="https://reactjs.org/docs/error-decoder.html?invariant="+p,D=1;D<arguments.length;D++)v+="&args[]="+encodeURIComponent(arguments[D]);return"Minified React error #"+p+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(p,v){s(p,v),s(p+"Capture",v)}function s(p,v){for(i[p]=v,p=0;p<v.length;p++)r.add(v[p])}var c=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},m={};function y(p,v,D,F,j,$,Y){this.acceptsBooleans=v===2||v===3||v===4,this.attributeName=F,this.attributeNamespace=j,this.mustUseProperty=D,this.propertyName=p,this.type=v,this.sanitizeURL=$,this.removeEmptyString=Y}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(p){w[p]=new y(p,0,!1,p,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(p){var v=p[0];w[v]=new y(v,1,!1,p[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(p){w[p]=new y(p,2,!1,p.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(p){w[p]=new y(p,2,!1,p,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(p){w[p]=new y(p,3,!1,p.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(p){w[p]=new y(p,3,!0,p,null,!1,!1)}),["capture","download"].forEach(function(p){w[p]=new y(p,4,!1,p,null,!1,!1)}),["cols","rows","size","span"].forEach(function(p){w[p]=new y(p,6,!1,p,null,!1,!1)}),["rowSpan","start"].forEach(function(p){w[p]=new y(p,5,!1,p.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function k(p){return p[1].toUpperCase()}function M(p,v,D,F){var j=w.hasOwnProperty(v)?w[v]:null;(j!==null?j.type!==0:F||!(2<v.length)||v[0]!=="o"&&v[0]!=="O"||v[1]!=="n"&&v[1]!=="N")&&(function(Y,lt,ht,Mt){if(lt==null||function(Gt,qt,Qt,de){if(Qt!==null&&Qt.type===0)return!1;switch(typeof qt){case"function":case"symbol":return!0;case"boolean":return!de&&(Qt!==null?!Qt.acceptsBooleans:(Gt=Gt.toLowerCase().slice(0,5))!=="data-"&&Gt!=="aria-");default:return!1}}(Y,lt,ht,Mt))return!0;if(Mt)return!1;if(ht!==null)switch(ht.type){case 3:return!lt;case 4:return lt===!1;case 5:return isNaN(lt);case 6:return isNaN(lt)||1>lt}return!1}(v,D,j,F)&&(D=null),F||j===null?function(Y){return!!f.call(m,Y)||!f.call(h,Y)&&(d.test(Y)?m[Y]=!0:(h[Y]=!0,!1))}(v)&&(D===null?p.removeAttribute(v):p.setAttribute(v,""+D)):j.mustUseProperty?p[j.propertyName]=D===null?j.type!==3&&"":D:(v=j.attributeName,F=j.attributeNamespace,D===null?p.removeAttribute(v):(D=(j=j.type)===3||j===4&&D===!0?"":""+D,F?p.setAttributeNS(F,v,D):p.setAttribute(v,D))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(p){var v=p.replace(C,k);w[v]=new y(v,1,!1,p,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(p){var v=p.replace(C,k);w[v]=new y(v,1,!1,p,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(p){var v=p.replace(C,k);w[v]=new y(v,1,!1,p,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(p){w[p]=new y(p,1,!1,p.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(p){w[p]=new y(p,1,!1,p.toLowerCase(),null,!0,!0)});var N=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),nt=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),ft=Symbol.for("react.suspense_list"),gt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),kt=Symbol.for("react.offscreen"),Tt=Symbol.iterator;function At(p){return p===null||typeof p!="object"?null:typeof(p=Tt&&p[Tt]||p["@@iterator"])=="function"?p:null}var Zt,_t=Object.assign;function Et(p){if(Zt===void 0)try{throw Error()}catch(D){var v=D.stack.trim().match(/\n( *(at )?)/);Zt=v&&v[1]||""}return`
`+Zt+p}var mt=!1;function vt(p,v){if(!p||mt)return"";mt=!0;var D=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(v)if(v=function(){throw Error()},Object.defineProperty(v.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(v,[])}catch(Mt){var F=Mt}Reflect.construct(p,[],v)}else{try{v.call()}catch(Mt){F=Mt}p.call(v.prototype)}else{try{throw Error()}catch(Mt){F=Mt}p()}}catch(Mt){if(Mt&&F&&typeof Mt.stack=="string"){for(var j=Mt.stack.split(`
`),$=F.stack.split(`
`),Y=j.length-1,lt=$.length-1;1<=Y&&0<=lt&&j[Y]!==$[lt];)lt--;for(;1<=Y&&0<=lt;Y--,lt--)if(j[Y]!==$[lt]){if(Y!==1||lt!==1)do if(Y--,0>--lt||j[Y]!==$[lt]){var ht=`
`+j[Y].replace(" at new "," at ");return p.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",p.displayName)),ht}while(1<=Y&&0<=lt);break}}}finally{mt=!1,Error.prepareStackTrace=D}return(p=p?p.displayName||p.name:"")?Et(p):""}function Lt(p){switch(p.tag){case 5:return Et(p.type);case 16:return Et("Lazy");case 13:return Et("Suspense");case 19:return Et("SuspenseList");case 0:case 2:case 15:return p=vt(p.type,!1);case 11:return p=vt(p.type.render,!1);case 1:return p=vt(p.type,!0);default:return""}}function ee(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case z:return"Fragment";case L:return"Portal";case V:return"Profiler";case q:return"StrictMode";case ct:return"Suspense";case ft:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case nt:return(p.displayName||"Context")+".Consumer";case X:return(p._context.displayName||"Context")+".Provider";case it:var v=p.render;return(p=p.displayName)||(p=(p=v.displayName||v.name||"")!==""?"ForwardRef("+p+")":"ForwardRef"),p;case gt:return(v=p.displayName||null)!==null?v:ee(p.type)||"Memo";case Ct:v=p._payload,p=p._init;try{return ee(p(v))}catch{}}return null}function pe(p){var v=p.type;switch(p.tag){case 24:return"Cache";case 9:return(v.displayName||"Context")+".Consumer";case 10:return(v._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=(p=v.render).displayName||p.name||"",v.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return v;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(v);case 8:return v===q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof v=="function")return v.displayName||v.name||null;if(typeof v=="string")return v}return null}function ve(p){switch(typeof p){case"boolean":case"number":case"string":case"undefined":case"object":return p;default:return""}}function Oe(p){var v=p.type;return(p=p.nodeName)&&p.toLowerCase()==="input"&&(v==="checkbox"||v==="radio")}function qe(p){p._valueTracker||(p._valueTracker=function(D){var F=Oe(D)?"checked":"value",j=Object.getOwnPropertyDescriptor(D.constructor.prototype,F),$=""+D[F];if(!D.hasOwnProperty(F)&&j!==void 0&&typeof j.get=="function"&&typeof j.set=="function"){var Y=j.get,lt=j.set;return Object.defineProperty(D,F,{configurable:!0,get:function(){return Y.call(this)},set:function(ht){$=""+ht,lt.call(this,ht)}}),Object.defineProperty(D,F,{enumerable:j.enumerable}),{getValue:function(){return $},setValue:function(ht){$=""+ht},stopTracking:function(){D._valueTracker=null,delete D[F]}}}}(p))}function He(p){if(!p)return!1;var v=p._valueTracker;if(!v)return!0;var D=v.getValue(),F="";return p&&(F=Oe(p)?p.checked?"true":"false":p.value),(p=F)!==D&&(v.setValue(p),!0)}function wn(p){if((p=p||(typeof document<"u"?document:void 0))===void 0)return null;try{return p.activeElement||p.body}catch{return p.body}}function nn(p,v){var D=v.checked;return _t({},v,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:D??p._wrapperState.initialChecked})}function cr(p,v){var D=v.defaultValue==null?"":v.defaultValue,F=v.checked!=null?v.checked:v.defaultChecked;D=ve(v.value!=null?v.value:D),p._wrapperState={initialChecked:F,initialValue:D,controlled:v.type==="checkbox"||v.type==="radio"?v.checked!=null:v.value!=null}}function bi(p,v){(v=v.checked)!=null&&M(p,"checked",v,!1)}function Vt(p,v){bi(p,v);var D=ve(v.value),F=v.type;if(D!=null)F==="number"?(D===0&&p.value===""||p.value!=D)&&(p.value=""+D):p.value!==""+D&&(p.value=""+D);else if(F==="submit"||F==="reset")return void p.removeAttribute("value");v.hasOwnProperty("value")?dt(p,v.type,D):v.hasOwnProperty("defaultValue")&&dt(p,v.type,ve(v.defaultValue)),v.checked==null&&v.defaultChecked!=null&&(p.defaultChecked=!!v.defaultChecked)}function rt(p,v,D){if(v.hasOwnProperty("value")||v.hasOwnProperty("defaultValue")){var F=v.type;if(!(F!=="submit"&&F!=="reset"||v.value!==void 0&&v.value!==null))return;v=""+p._wrapperState.initialValue,D||v===p.value||(p.value=v),p.defaultValue=v}(D=p.name)!==""&&(p.name=""),p.defaultChecked=!!p._wrapperState.initialChecked,D!==""&&(p.name=D)}function dt(p,v,D){v==="number"&&wn(p.ownerDocument)===p||(D==null?p.defaultValue=""+p._wrapperState.initialValue:p.defaultValue!==""+D&&(p.defaultValue=""+D))}var bt=Array.isArray;function Ot(p,v,D,F){if(p=p.options,v){v={};for(var j=0;j<D.length;j++)v["$"+D[j]]=!0;for(D=0;D<p.length;D++)j=v.hasOwnProperty("$"+p[D].value),p[D].selected!==j&&(p[D].selected=j),j&&F&&(p[D].defaultSelected=!0)}else{for(D=""+ve(D),v=null,j=0;j<p.length;j++){if(p[j].value===D)return p[j].selected=!0,void(F&&(p[j].defaultSelected=!0));v!==null||p[j].disabled||(v=p[j])}v!==null&&(v.selected=!0)}}function Bt(p,v){if(v.dangerouslySetInnerHTML!=null)throw Error(e(91));return _t({},v,{value:void 0,defaultValue:void 0,children:""+p._wrapperState.initialValue})}function Rt(p,v){var D=v.value;if(D==null){if(D=v.children,v=v.defaultValue,D!=null){if(v!=null)throw Error(e(92));if(bt(D)){if(1<D.length)throw Error(e(93));D=D[0]}v=D}v==null&&(v=""),D=v}p._wrapperState={initialValue:ve(D)}}function Xt(p,v){var D=ve(v.value),F=ve(v.defaultValue);D!=null&&((D=""+D)!==p.value&&(p.value=D),v.defaultValue==null&&p.defaultValue!==D&&(p.defaultValue=D)),F!=null&&(p.defaultValue=""+F)}function Kt(p){var v=p.textContent;v===p._wrapperState.initialValue&&v!==""&&v!==null&&(p.value=v)}function ge(p){switch(p){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ee(p,v){return p==null||p==="http://www.w3.org/1999/xhtml"?ge(v):p==="http://www.w3.org/2000/svg"&&v==="foreignObject"?"http://www.w3.org/1999/xhtml":p}var Ze,Xe=function(p){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(v,D,F,j){MSApp.execUnsafeLocalFunction(function(){return p(v,D)})}:p}(function(p,v){if(p.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in p)p.innerHTML=v;else{for((Ze=Ze||document.createElement("div")).innerHTML="<svg>"+v.valueOf().toString()+"</svg>",v=Ze.firstChild;p.firstChild;)p.removeChild(p.firstChild);for(;v.firstChild;)p.appendChild(v.firstChild)}});function Se(p,v){if(v){var D=p.firstChild;if(D&&D===p.lastChild&&D.nodeType===3)return void(D.nodeValue=v)}p.textContent=v}var je={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];function zi(p,v,D){return v==null||typeof v=="boolean"||v===""?"":D||typeof v!="number"||v===0||je.hasOwnProperty(p)&&je[p]?(""+v).trim():v+"px"}function Yi(p,v){for(var D in p=p.style,v)if(v.hasOwnProperty(D)){var F=D.indexOf("--")===0,j=zi(D,v[D],F);D==="float"&&(D="cssFloat"),F?p.setProperty(D,j):p[D]=j}}Object.keys(je).forEach(function(p){rn.forEach(function(v){v=v+p.charAt(0).toUpperCase()+p.substring(1),je[v]=je[p]})});var Ui=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xo(p,v){if(v){if(Ui[p]&&(v.children!=null||v.dangerouslySetInnerHTML!=null))throw Error(e(137,p));if(v.dangerouslySetInnerHTML!=null){if(v.children!=null)throw Error(e(60));if(typeof v.dangerouslySetInnerHTML!="object"||!("__html"in v.dangerouslySetInnerHTML))throw Error(e(61))}if(v.style!=null&&typeof v.style!="object")throw Error(e(62))}}function Ai(p,v){if(p.indexOf("-")===-1)return typeof v.is=="string";switch(p){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var us=null;function ko(p){return(p=p.target||p.srcElement||window).correspondingUseElement&&(p=p.correspondingUseElement),p.nodeType===3?p.parentNode:p}var vu=null,ja=null,ls=null;function yu(p){if(p=Js(p)){if(typeof vu!="function")throw Error(e(280));var v=p.stateNode;v&&(v=jo(v),vu(p.stateNode,p.type,v))}}function dl(p){ja?ls?ls.push(p):ls=[p]:ja=p}function Ns(){if(ja){var p=ja,v=ls;if(ls=ja=null,yu(p),v)for(p=0;p<v.length;p++)yu(v[p])}}function Ol(p,v){return p(v)}function gl(){}var Pa=!1;function ml(p,v,D){if(Pa)return p(v,D);Pa=!0;try{return Ol(p,v,D)}finally{Pa=!1,(ja!==null||ls!==null)&&(gl(),Ns())}}function wu(p,v){var D=p.stateNode;if(D===null)return null;var F=jo(D);if(F===null)return null;D=F[v];t:switch(v){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(F=!((p=p.type)==="button"||p==="input"||p==="select"||p==="textarea")),p=!F;break t;default:p=!1}if(p)return null;if(D&&typeof D!="function")throw Error(e(231,v,typeof D));return D}var Ou=!1;if(c)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Ou=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Ou=!1}function Nu(p,v,D,F,j,$,Y,lt,ht){var Mt=Array.prototype.slice.call(arguments,3);try{v.apply(D,Mt)}catch($t){this.onError($t)}}var ts=!1,fa=null,ba=!1,ho=null,Iu={onError:function(p){ts=!0,fa=p}};function nu(p,v,D,F,j,$,Y,lt,ht){ts=!1,fa=null,Nu.apply(Iu,arguments)}function cs(p){var v=p,D=p;if(p.alternate)for(;v.return;)v=v.return;else{p=v;do 4098&(v=p).flags&&(D=v.return),p=v.return;while(p)}return v.tag===3?D:null}function nl(p){if(p.tag===13){var v=p.memoizedState;if(v===null&&(p=p.alternate)!==null&&(v=p.memoizedState),v!==null)return v.dehydrated}return null}function Nl(p){if(cs(p)!==p)throw Error(e(188))}function vl(p){return p=function(D){var F=D.alternate;if(!F){if((F=cs(D))===null)throw Error(e(188));return F!==D?null:D}for(var j=D,$=F;;){var Y=j.return;if(Y===null)break;var lt=Y.alternate;if(lt===null){if(($=Y.return)!==null){j=$;continue}break}if(Y.child===lt.child){for(lt=Y.child;lt;){if(lt===j)return Nl(Y),D;if(lt===$)return Nl(Y),F;lt=lt.sibling}throw Error(e(188))}if(j.return!==$.return)j=Y,$=lt;else{for(var ht=!1,Mt=Y.child;Mt;){if(Mt===j){ht=!0,j=Y,$=lt;break}if(Mt===$){ht=!0,$=Y,j=lt;break}Mt=Mt.sibling}if(!ht){for(Mt=lt.child;Mt;){if(Mt===j){ht=!0,j=lt,$=Y;break}if(Mt===$){ht=!0,$=lt,j=Y;break}Mt=Mt.sibling}if(!ht)throw Error(e(189))}}if(j.alternate!==$)throw Error(e(190))}if(j.tag!==3)throw Error(e(188));return j.stateNode.current===j?D:F}(p),p!==null?bu(p):null}function bu(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var v=bu(p);if(v!==null)return v;p=p.sibling}return null}var Gs=t.unstable_scheduleCallback,kc=t.unstable_cancelCallback,hf=t.unstable_shouldYield,Mc=t.unstable_requestPaint,ln=t.unstable_now,Vn=t.unstable_getCurrentPriorityLevel,hr=t.unstable_ImmediatePriority,Xi=t.unstable_UserBlockingPriority,es=t.unstable_NormalPriority,ru=t.unstable_LowPriority,Do=t.unstable_IdlePriority,De=null,be=null,Xr=Math.clz32?Math.clz32:function(v){return v>>>=0,v===0?32:31-(xa(v)/tp|0)|0},xa=Math.log,tp=Math.LN2,Kc=64,Tf=4194304;function ze(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&p;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&p;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function $i(p,v){var D=p.pendingLanes;if(D===0)return 0;var F=0,j=p.suspendedLanes,$=p.pingedLanes,Y=268435455&D;if(Y!==0){var lt=Y&~j;lt!==0?F=ze(lt):($&=Y)!==0&&(F=ze($))}else(Y=D&~j)!==0?F=ze(Y):$!==0&&(F=ze($));if(F===0)return 0;if(v!==0&&v!==F&&!(v&j)&&((j=F&-F)>=($=v&-v)||j===16&&4194240&$))return v;if(4&F&&(F|=16&D),(v=p.entangledLanes)!==0)for(p=p.entanglements,v&=F;0<v;)j=1<<(D=31-Xr(v)),F|=p[D],v&=~j;return F}function kr(p,v){switch(p){case 1:case 2:case 4:return v+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;default:return-1}}function Fc(p){return(p=-1073741825&p.pendingLanes)!==0?p:1073741824&p?1073741824:0}function Bu(){var p=Kc;return!(4194240&(Kc<<=1))&&(Kc=64),p}function pr(p){for(var v=[],D=0;31>D;D++)v.push(p);return v}function Ru(p,v,D){p.pendingLanes|=v,v!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),(p=p.eventTimes)[v=31-Xr(v)]=D}function Ji(p,v){var D=p.entangledLanes|=v;for(p=p.entanglements;D;){var F=31-Xr(D),j=1<<F;j&v|p[F]&v&&(p[F]|=v),D&=~j}}var qn=0;function rl(p){return 1<(p&=-p)?4<p?268435455&p?16:536870912:4:1}var Zc,wc,Mn,uh,Bn,tf=!1,Cs=[],Br=null,br=null,xi=null,Be=new Map,Er=new Map,Jr=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Is(p,v){switch(p){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":br=null;break;case"mouseover":case"mouseout":xi=null;break;case"pointerover":case"pointerout":Be.delete(v.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(v.pointerId)}}function uc(p,v,D,F,j,$){return p===null||p.nativeEvent!==$?(p={blockedOn:v,domEventName:D,eventSystemFlags:F,nativeEvent:$,targetContainers:[j]},v!==null&&(v=Js(v))!==null&&wc(v),p):(p.eventSystemFlags|=F,v=p.targetContainers,j!==null&&v.indexOf(j)===-1&&v.push(j),p)}function ql(p){var v=Po(p.target);if(v!==null){var D=cs(v);if(D!==null){if((v=D.tag)===13){if((v=nl(D))!==null)return p.blockedOn=v,void Bn(p.priority,function(){Mn(D)})}else if(v===3&&D.stateNode.current.memoizedState.isDehydrated)return void(p.blockedOn=D.tag===3?D.stateNode.containerInfo:null)}}p.blockedOn=null}function jr(p){if(p.blockedOn!==null)return!1;for(var v=p.targetContainers;0<v.length;){var D=Ln(p.domEventName,p.eventSystemFlags,v[0],p.nativeEvent);if(D!==null)return(v=Js(D))!==null&&wc(v),p.blockedOn=D,!1;var F=new(D=p.nativeEvent).constructor(D.type,D);us=F,D.target.dispatchEvent(F),us=null,v.shift()}return!0}function Ii(p,v,D){jr(p)&&D.delete(v)}function bc(){tf=!1,Br!==null&&jr(Br)&&(Br=null),br!==null&&jr(br)&&(br=null),xi!==null&&jr(xi)&&(xi=null),Be.forEach(Ii),Er.forEach(Ii)}function Bs(p,v){p.blockedOn===v&&(p.blockedOn=null,tf||(tf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,bc)))}function xu(p){function v(j){return Bs(j,p)}if(0<Cs.length){Bs(Cs[0],p);for(var D=1;D<Cs.length;D++){var F=Cs[D];F.blockedOn===p&&(F.blockedOn=null)}}for(Br!==null&&Bs(Br,p),br!==null&&Bs(br,p),xi!==null&&Bs(xi,p),Be.forEach(v),Er.forEach(v),D=0;D<Jr.length;D++)(F=Jr[D]).blockedOn===p&&(F.blockedOn=null);for(;0<Jr.length&&(D=Jr[0]).blockedOn===null;)ql(D),D.blockedOn===null&&Jr.shift()}var Da=N.ReactCurrentBatchConfig,ju=!0;function Pc(p,v,D,F){var j=qn,$=Da.transition;Da.transition=null;try{qn=1,Il(p,v,D,F)}finally{qn=j,Da.transition=$}}function Ys(p,v,D,F){var j=qn,$=Da.transition;Da.transition=null;try{qn=4,Il(p,v,D,F)}finally{qn=j,Da.transition=$}}function Il(p,v,D,F){if(ju){var j=Ln(p,v,D,F);if(j===null)ga(p,v,F,Bl,D),Is(p,F);else if(function(lt,ht,Mt,$t,Gt){switch(ht){case"focusin":return Br=uc(Br,lt,ht,Mt,$t,Gt),!0;case"dragenter":return br=uc(br,lt,ht,Mt,$t,Gt),!0;case"mouseover":return xi=uc(xi,lt,ht,Mt,$t,Gt),!0;case"pointerover":var qt=Gt.pointerId;return Be.set(qt,uc(Be.get(qt)||null,lt,ht,Mt,$t,Gt)),!0;case"gotpointercapture":return qt=Gt.pointerId,Er.set(qt,uc(Er.get(qt)||null,lt,ht,Mt,$t,Gt)),!0}return!1}(j,p,v,D,F))F.stopPropagation();else if(Is(p,F),4&v&&-1<ef.indexOf(p)){for(;j!==null;){var $=Js(j);if($!==null&&Zc($),($=Ln(p,v,D,F))===null&&ga(p,v,F,Bl,D),$===j)break;j=$}j!==null&&F.stopPropagation()}else ga(p,v,F,null,D)}}var Bl=null;function Ln(p,v,D,F){if(Bl=null,(p=Po(p=ko(F)))!==null)if((v=cs(p))===null)p=null;else if((D=v.tag)===13){if((p=nl(v))!==null)return p;p=null}else if(D===3){if(v.stateNode.current.memoizedState.isDehydrated)return v.tag===3?v.stateNode.containerInfo:null;p=null}else v!==p&&(p=null);return Bl=p,null}function yl(p){switch(p){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vn()){case hr:return 1;case Xi:return 4;case es:case ru:return 16;case Do:return 536870912;default:return 16}default:return 16}}var fi=null,wl=null,Xs=null;function Gc(){if(Xs)return Xs;var p,v,D=wl,F=D.length,j="value"in fi?fi.value:fi.textContent,$=j.length;for(p=0;p<F&&D[p]===j[p];p++);var Y=F-p;for(v=1;v<=Y&&D[F-v]===j[$-v];v++);return Xs=j.slice(p,1<v?1-v:void 0)}function Tc(p){var v=p.keyCode;return"charCode"in p?(p=p.charCode)===0&&v===13&&(p=13):p=v,p===10&&(p=13),32<=p||p===13?p:0}function Lu(){return!0}function ha(){return!1}function Gi(p){function v(D,F,j,$,Y){for(var lt in this._reactName=D,this._targetInst=j,this.type=F,this.nativeEvent=$,this.target=Y,this.currentTarget=null,p)p.hasOwnProperty(lt)&&(D=p[lt],this[lt]=D?D($):$[lt]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Lu:ha,this.isPropagationStopped=ha,this}return _t(v.prototype,{preventDefault:function(){this.defaultPrevented=!0;var D=this.nativeEvent;D&&(D.preventDefault?D.preventDefault():typeof D.returnValue!="unknown"&&(D.returnValue=!1),this.isDefaultPrevented=Lu)},stopPropagation:function(){var D=this.nativeEvent;D&&(D.stopPropagation?D.stopPropagation():typeof D.cancelBubble!="unknown"&&(D.cancelBubble=!0),this.isPropagationStopped=Lu)},persist:function(){},isPersistent:Lu}),v}var zu,Di,ns,Wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(p){return p.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=Gi(Wr),La=_t({},Wr,{view:0,detail:0}),lc=Gi(La),Co=_t({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pe,button:0,buttons:0,relatedTarget:function(p){return p.relatedTarget===void 0?p.fromElement===p.srcElement?p.toElement:p.fromElement:p.relatedTarget},movementX:function(p){return"movementX"in p?p.movementX:(p!==ns&&(ns&&p.type==="mousemove"?(zu=p.screenX-ns.screenX,Di=p.screenY-ns.screenY):Di=zu=0,ns=p),zu)},movementY:function(p){return"movementY"in p?p.movementY:Di}}),J=Gi(Co),st=Gi(_t({},Co,{dataTransfer:0})),et=Gi(_t({},La,{relatedTarget:0})),pt=Gi(_t({},Wr,{animationName:0,elapsedTime:0,pseudoElement:0})),Nt=_t({},Wr,{clipboardData:function(p){return"clipboardData"in p?p.clipboardData:window.clipboardData}}),Jt=Gi(Nt),Fe=Gi(_t({},Wr,{data:0})),mn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(p){var v=this.nativeEvent;return v.getModifierState?v.getModifierState(p):!!(p=Ne[p])&&!!v[p]}function Pe(){return ke}var vr=_t({},La,{key:function(p){if(p.key){var v=mn[p.key]||p.key;if(v!=="Unidentified")return v}return p.type==="keypress"?(p=Tc(p))===13?"Enter":String.fromCharCode(p):p.type==="keydown"||p.type==="keyup"?zt[p.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pe,charCode:function(p){return p.type==="keypress"?Tc(p):0},keyCode:function(p){return p.type==="keydown"||p.type==="keyup"?p.keyCode:0},which:function(p){return p.type==="keypress"?Tc(p):p.type==="keydown"||p.type==="keyup"?p.keyCode:0}}),Ci=Gi(vr),hi=Gi(_t({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ca=Gi(_t({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pe})),pi=Gi(_t({},Wr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ce=_t({},Co,{deltaX:function(p){return"deltaX"in p?p.deltaX:"wheelDeltaX"in p?-p.wheelDeltaX:0},deltaY:function(p){return"deltaY"in p?p.deltaY:"wheelDeltaY"in p?-p.wheelDeltaY:"wheelDelta"in p?-p.wheelDelta:0},deltaZ:0,deltaMode:0}),kh=Gi(Ce),_i=[9,13,27,32],Rs=c&&"CompositionEvent"in window,Yc=null;c&&"documentMode"in document&&(Yc=document.documentMode);var pf=c&&"TextEvent"in window&&!Yc,lh=c&&(!Rs||Yc&&8<Yc&&11>=Yc),iu=" ",tr=!1;function js(p,v){switch(p){case"keyup":return _i.indexOf(v.keyCode)!==-1;case"keydown":return v.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rl(p){return typeof(p=p.detail)=="object"&&"data"in p?p.data:null}var ea=!1,Yf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v==="input"?!!Yf[p.type]:v==="textarea"}function Uu(p,v,D,F){dl(F),0<(v=Hu(v,"onChange")).length&&(D=new xr("onChange","change",null,D,F),p.push({event:D,listeners:v}))}var jl=null,io=null;function Bo(p){Wu(p,0)}function za(p){if(He(_o(p)))return p}function nf(p,v){if(p==="change")return v}var Xf=!1;if(c){var Of;if(c){var Ua="oninput"in document;if(!Ua){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Ua=typeof $u.oninput=="function"}Of=Ua}else Of=!1;Xf=Of&&(!document.documentMode||9<document.documentMode)}function ou(){jl&&(jl.detachEvent("onpropertychange",xc),io=jl=null)}function xc(p){if(p.propertyName==="value"&&za(io)){var v=[];Uu(v,io,p,ko(p)),ml(Bo,v)}}function Nc(p,v,D){p==="focusin"?(ou(),io=D,(jl=v).attachEvent("onpropertychange",xc)):p==="focusout"&&ou()}function Wh(p){if(p==="selectionchange"||p==="keyup"||p==="keydown")return za(io)}function Lh(p,v){if(p==="click")return za(v)}function sn(p,v){if(p==="input"||p==="change")return za(v)}var on=typeof Object.is=="function"?Object.is:function(v,D){return v===D&&(v!==0||1/v==1/D)||v!=v&&D!=D};function pa(p,v){if(on(p,v))return!0;if(typeof p!="object"||p===null||typeof v!="object"||v===null)return!1;var D=Object.keys(p),F=Object.keys(v);if(D.length!==F.length)return!1;for(F=0;F<D.length;F++){var j=D[F];if(!f.call(v,j)||!on(p[j],v[j]))return!1}return!0}function Du(p){for(;p&&p.firstChild;)p=p.firstChild;return p}function df(p,v){var D,F=Du(p);for(p=0;F;){if(F.nodeType===3){if(D=p+F.textContent.length,p<=v&&D>=v)return{node:F,offset:v-p};p=D}t:{for(;F;){if(F.nextSibling){F=F.nextSibling;break t}F=F.parentNode}F=void 0}F=Du(F)}}function xh(p,v){return!(!p||!v)&&(p===v||(!p||p.nodeType!==3)&&(v&&v.nodeType===3?xh(p,v.parentNode):"contains"in p?p.contains(v):!!p.compareDocumentPosition&&!!(16&p.compareDocumentPosition(v))))}function il(){for(var p=window,v=wn();v instanceof p.HTMLIFrameElement;){try{var D=typeof v.contentWindow.location.href=="string"}catch{D=!1}if(!D)break;v=wn((p=v.contentWindow).document)}return v}function _a(p){var v=p&&p.nodeName&&p.nodeName.toLowerCase();return v&&(v==="input"&&(p.type==="text"||p.type==="search"||p.type==="tel"||p.type==="url"||p.type==="password")||v==="textarea"||p.contentEditable==="true")}function oa(p){var v=il(),D=p.focusedElem,F=p.selectionRange;if(v!==D&&D&&D.ownerDocument&&xh(D.ownerDocument.documentElement,D)){if(F!==null&&_a(D)){if(v=F.start,(p=F.end)===void 0&&(p=v),"selectionStart"in D)D.selectionStart=v,D.selectionEnd=Math.min(p,D.value.length);else if((p=(v=D.ownerDocument||document)&&v.defaultView||window).getSelection){p=p.getSelection();var j=D.textContent.length,$=Math.min(F.start,j);F=F.end===void 0?$:Math.min(F.end,j),!p.extend&&$>F&&(j=F,F=$,$=j),j=df(D,$);var Y=df(D,F);j&&Y&&(p.rangeCount!==1||p.anchorNode!==j.node||p.anchorOffset!==j.offset||p.focusNode!==Y.node||p.focusOffset!==Y.offset)&&((v=v.createRange()).setStart(j.node,j.offset),p.removeAllRanges(),$>F?(p.addRange(v),p.extend(Y.node,Y.offset)):(v.setEnd(Y.node,Y.offset),p.addRange(v)))}}for(v=[],p=D;p=p.parentNode;)p.nodeType===1&&v.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<v.length;D++)(p=v[D]).element.scrollLeft=p.left,p.element.scrollTop=p.top}}var ii=c&&"documentMode"in document&&11>=document.documentMode,Ko=null,aa=null,sa=null,Mo=!1;function gf(p,v,D){var F=D.window===D?D.document:D.nodeType===9?D:D.ownerDocument;Mo||Ko==null||Ko!==wn(F)||("selectionStart"in(F=Ko)&&_a(F)?F={start:F.selectionStart,end:F.selectionEnd}:F={anchorNode:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset},sa&&pa(sa,F)||(sa=F,0<(F=Hu(aa,"onSelect")).length&&(v=new xr("onSelect","select",null,v,D),p.push({event:v,listeners:F}),v.target=Ko)))}function bl(p,v){var D={};return D[p.toLowerCase()]=v.toLowerCase(),D["Webkit"+p]="webkit"+v,D["Moz"+p]="moz"+v,D}var cc={animationend:bl("Animation","AnimationEnd"),animationiteration:bl("Animation","AnimationIteration"),animationstart:bl("Animation","AnimationStart"),transitionend:bl("Transition","TransitionEnd")},rf={},Jf={};function rs(p){if(rf[p])return rf[p];if(!cc[p])return p;var v,D=cc[p];for(v in D)if(D.hasOwnProperty(v)&&v in Jf)return rf[p]=D[v];return p}c&&(Jf=document.createElement("div").style,"AnimationEvent"in window||(delete cc.animationend.animation,delete cc.animationiteration.animation,delete cc.animationstart.animation),"TransitionEvent"in window||delete cc.transitionend.transition);var is=rs("animationend"),Ll=rs("animationiteration"),P=rs("animationstart"),Go=rs("transitionend"),Pt=new Map,or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ce(p,v){Pt.set(p,v),a(v,[p])}for(var Hr=0;Hr<or.length;Hr++){var vn=or[Hr];ce(vn.toLowerCase(),"on"+(vn[0].toUpperCase()+vn.slice(1)))}ce(is,"onAnimationEnd"),ce(Ll,"onAnimationIteration"),ce(P,"onAnimationStart"),ce("dblclick","onDoubleClick"),ce("focusin","onFocus"),ce("focusout","onBlur"),ce(Go,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),St=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fr));function zn(p,v,D){var F=p.type||"unknown-event";p.currentTarget=D,function($,Y,lt,ht,Mt,$t,Gt,qt,Qt){if(nu.apply(this,arguments),ts){if(!ts)throw Error(e(198));var de=fa;ts=!1,fa=null,ba||(ba=!0,ho=de)}}(F,v,void 0,p),p.currentTarget=null}function Wu(p,v){v=!!(4&v);for(var D=0;D<p.length;D++){var F=p[D],j=F.event;F=F.listeners;t:{var $=void 0;if(v)for(var Y=F.length-1;0<=Y;Y--){var lt=F[Y],ht=lt.instance,Mt=lt.currentTarget;if(lt=lt.listener,ht!==$&&j.isPropagationStopped())break t;zn(j,lt,Mt),$=ht}else for(Y=0;Y<F.length;Y++){if(ht=(lt=F[Y]).instance,Mt=lt.currentTarget,lt=lt.listener,ht!==$&&j.isPropagationStopped())break t;zn(j,lt,Mt),$=ht}}}if(ba)throw p=ho,ba=!1,ho=null,p}function En(p,v){var D=v[Ls];D===void 0&&(D=v[Ls]=new Set);var F=p+"__bubble";D.has(F)||(Fo(v,p,2,!1),D.add(F))}function Bi(p,v,D){var F=0;v&&(F|=4),Fo(D,p,F,v)}var Kl="_reactListening"+Math.random().toString(36).slice(2);function da(p){if(!p[Kl]){p[Kl]=!0,r.forEach(function(D){D!=="selectionchange"&&(St.has(D)||Bi(D,!1,p),Bi(D,!0,p))});var v=p.nodeType===9?p:p.ownerDocument;v===null||v[Kl]||(v[Kl]=!0,Bi("selectionchange",!1,v))}}function Fo(p,v,D,F){switch(yl(v)){case 1:var j=Pc;break;case 4:j=Ys;break;default:j=Il}D=j.bind(null,v,D,p),j=void 0,!Ou||v!=="touchstart"&&v!=="touchmove"&&v!=="wheel"||(j=!0),F?j!==void 0?p.addEventListener(v,D,{capture:!0,passive:j}):p.addEventListener(v,D,!0):j!==void 0?p.addEventListener(v,D,{passive:j}):p.addEventListener(v,D,!1)}function ga(p,v,D,F,j){var $=F;if(!(1&v||2&v||F===null))t:for(;;){if(F===null)return;var Y=F.tag;if(Y===3||Y===4){var lt=F.stateNode.containerInfo;if(lt===j||lt.nodeType===8&&lt.parentNode===j)break;if(Y===4)for(Y=F.return;Y!==null;){var ht=Y.tag;if((ht===3||ht===4)&&((ht=Y.stateNode.containerInfo)===j||ht.nodeType===8&&ht.parentNode===j))return;Y=Y.return}for(;lt!==null;){if((Y=Po(lt))===null)return;if((ht=Y.tag)===5||ht===6){F=$=Y;continue t}lt=lt.parentNode}}F=F.return}ml(function(){var Mt=$,$t=ko(D),Gt=[];t:{var qt=Pt.get(p);if(qt!==void 0){var Qt=xr,de=p;switch(p){case"keypress":if(Tc(D)===0)break t;case"keydown":case"keyup":Qt=Ci;break;case"focusin":de="focus",Qt=et;break;case"focusout":de="blur",Qt=et;break;case"beforeblur":case"afterblur":Qt=et;break;case"click":if(D.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Qt=J;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Qt=st;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Qt=Ca;break;case is:case Ll:case P:Qt=pt;break;case Go:Qt=pi;break;case"scroll":Qt=lc;break;case"wheel":Qt=kh;break;case"copy":case"cut":case"paste":Qt=Jt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Qt=hi}var le=!!(4&v),Wt=!le&&p==="scroll",Dt=le?qt!==null?qt+"Capture":null:qt;le=[];for(var Ut,ne=Mt;ne!==null;){var Ie=(Ut=ne).stateNode;if(Ut.tag===5&&Ie!==null&&(Ut=Ie,Dt!==null&&(Ie=wu(ne,Dt))!=null&&le.push(_s(ne,Ie,Ut))),Wt)break;ne=ne.return}0<le.length&&(qt=new Qt(qt,de,null,D,$t),Gt.push({event:qt,listeners:le}))}}if(!(7&v)){if(Qt=p==="mouseout"||p==="pointerout",(!(qt=p==="mouseover"||p==="pointerover")||D===us||!(de=D.relatedTarget||D.fromElement)||!Po(de)&&!de[Ho])&&(Qt||qt)&&(qt=$t.window===$t?$t:(qt=$t.ownerDocument)?qt.defaultView||qt.parentWindow:window,Qt?(Qt=Mt,(de=(de=D.relatedTarget||D.toElement)?Po(de):null)!==null&&(de!==(Wt=cs(de))||de.tag!==5&&de.tag!==6)&&(de=null)):(Qt=null,de=Mt),Qt!==de)){if(le=J,Ie="onMouseLeave",Dt="onMouseEnter",ne="mouse",p!=="pointerout"&&p!=="pointerover"||(le=hi,Ie="onPointerLeave",Dt="onPointerEnter",ne="pointer"),Wt=Qt==null?qt:_o(Qt),Ut=de==null?qt:_o(de),(qt=new le(Ie,ne+"leave",Qt,D,$t)).target=Wt,qt.relatedTarget=Ut,Ie=null,Po($t)===Mt&&((le=new le(Dt,ne+"enter",de,D,$t)).target=Ut,le.relatedTarget=Wt,Ie=le),Wt=Ie,Qt&&de)t:{for(Dt=de,ne=0,Ut=le=Qt;Ut;Ut=Rr(Ut))ne++;for(Ut=0,Ie=Dt;Ie;Ie=Rr(Ie))Ut++;for(;0<ne-Ut;)le=Rr(le),ne--;for(;0<Ut-ne;)Dt=Rr(Dt),Ut--;for(;ne--;){if(le===Dt||Dt!==null&&le===Dt.alternate)break t;le=Rr(le),Dt=Rr(Dt)}le=null}else le=null;Qt!==null&&Gl(Gt,qt,Qt,le,!1),de!==null&&Wt!==null&&Gl(Gt,Wt,de,le,!0)}if((Qt=(qt=Mt?_o(Mt):window).nodeName&&qt.nodeName.toLowerCase())==="select"||Qt==="input"&&qt.type==="file")var Rn=nf;else if(Oc(qt))if(Xf)Rn=sn;else{Rn=Wh;var Te=Nc}else(Qt=qt.nodeName)&&Qt.toLowerCase()==="input"&&(qt.type==="checkbox"||qt.type==="radio")&&(Rn=Lh);switch(Rn&&(Rn=Rn(p,Mt))?Uu(Gt,Rn,D,$t):(Te&&Te(p,qt,Mt),p==="focusout"&&(Te=qt._wrapperState)&&Te.controlled&&qt.type==="number"&&dt(qt,"number",qt.value)),Te=Mt?_o(Mt):window,p){case"focusin":(Oc(Te)||Te.contentEditable==="true")&&(Ko=Te,aa=Mt,sa=null);break;case"focusout":sa=aa=Ko=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,gf(Gt,D,$t);break;case"selectionchange":if(ii)break;case"keydown":case"keyup":gf(Gt,D,$t)}var In;if(Rs)t:{switch(p){case"compositionstart":var rr="onCompositionStart";break t;case"compositionend":rr="onCompositionEnd";break t;case"compositionupdate":rr="onCompositionUpdate";break t}rr=void 0}else ea?js(p,D)&&(rr="onCompositionEnd"):p==="keydown"&&D.keyCode===229&&(rr="onCompositionStart");rr&&(lh&&D.locale!=="ko"&&(ea||rr!=="onCompositionStart"?rr==="onCompositionEnd"&&ea&&(In=Gc()):(wl="value"in(fi=$t)?fi.value:fi.textContent,ea=!0)),0<(Te=Hu(Mt,rr)).length&&(rr=new Fe(rr,p,null,D,$t),Gt.push({event:rr,listeners:Te}),(In||(In=Rl(D))!==null)&&(rr.data=In))),(In=pf?function(ei,Vl){switch(ei){case"compositionend":return Rl(Vl);case"keypress":return Vl.which!==32?null:(tr=!0,iu);case"textInput":return(ei=Vl.data)===iu&&tr?null:ei;default:return null}}(p,D):function(ei,Vl){if(ea)return ei==="compositionend"||!Rs&&js(ei,Vl)?(ei=Gc(),Xs=wl=fi=null,ea=!1,ei):null;switch(ei){case"paste":default:return null;case"keypress":if(!(Vl.ctrlKey||Vl.altKey||Vl.metaKey)||Vl.ctrlKey&&Vl.altKey){if(Vl.char&&1<Vl.char.length)return Vl.char;if(Vl.which)return String.fromCharCode(Vl.which)}return null;case"compositionend":return lh&&Vl.locale!=="ko"?null:Vl.data}}(p,D))&&0<(Mt=Hu(Mt,"onBeforeInput")).length&&($t=new Fe("onBeforeInput","beforeinput",null,D,$t),Gt.push({event:$t,listeners:Mt}),$t.data=In)}Wu(Gt,v)})}function _s(p,v,D){return{instance:p,listener:v,currentTarget:D}}function Hu(p,v){for(var D=v+"Capture",F=[];p!==null;){var j=p,$=j.stateNode;j.tag===5&&$!==null&&(j=$,($=wu(p,D))!=null&&F.unshift(_s(p,$,j)),($=wu(p,v))!=null&&F.push(_s(p,$,j))),p=p.return}return F}function Rr(p){if(p===null)return null;do p=p.return;while(p&&p.tag!==5);return p||null}function Gl(p,v,D,F,j){for(var $=v._reactName,Y=[];D!==null&&D!==F;){var lt=D,ht=lt.alternate,Mt=lt.stateNode;if(ht!==null&&ht===F)break;lt.tag===5&&Mt!==null&&(lt=Mt,j?(ht=wu(D,$))!=null&&Y.unshift(_s(D,ht,lt)):j||(ht=wu(D,$))!=null&&Y.push(_s(D,ht,lt))),D=D.return}Y.length!==0&&p.push({event:v,listeners:Y})}var Qi=/\r\n?/g,yr=/\u0000|\uFFFD/g;function Vu(p){return(typeof p=="string"?p:""+p).replace(Qi,`
`).replace(yr,"")}function $a(p,v,D){if(v=Vu(v),Vu(p)!==v&&D)throw Error(e(425))}function Ro(){}var ki=null,Ss=null;function fc(p,v){return p==="textarea"||p==="noscript"||typeof v.children=="string"||typeof v.children=="number"||typeof v.dangerouslySetInnerHTML=="object"&&v.dangerouslySetInnerHTML!==null&&v.dangerouslySetInnerHTML.__html!=null}var Wa=typeof setTimeout=="function"?setTimeout:void 0,au=typeof clearTimeout=="function"?clearTimeout:void 0,gn=typeof Promise=="function"?Promise:void 0,hc=typeof queueMicrotask=="function"?queueMicrotask:gn!==void 0?function(p){return gn.resolve(null).then(p).catch(Ha)}:Wa;function Ha(p){setTimeout(function(){throw p})}function bn(p,v){var D=v,F=0;do{var j=D.nextSibling;if(p.removeChild(D),j&&j.nodeType===8)if((D=j.data)==="/$"){if(F===0)return p.removeChild(j),void xu(v);F--}else D!=="$"&&D!=="$?"&&D!=="$!"||F++;D=j}while(D);xu(v)}function Sa(p){for(;p!=null;p=p.nextSibling){var v=p.nodeType;if(v===1||v===3)break;if(v===8){if((v=p.data)==="$"||v==="$!"||v==="$?")break;if(v==="/$")return null}}return p}function ma(p){p=p.previousSibling;for(var v=0;p;){if(p.nodeType===8){var D=p.data;if(D==="$"||D==="$!"||D==="$?"){if(v===0)return p;v--}else D==="/$"&&v++}p=p.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),Ea="__reactFiber$"+Vr,tn="__reactProps$"+Vr,Ho="__reactContainer$"+Vr,Ls="__reactEvents$"+Vr,xl="__reactListeners$"+Vr,pc="__reactHandles$"+Vr;function Po(p){var v=p[Ea];if(v)return v;for(var D=p.parentNode;D;){if(v=D[Ho]||D[Ea]){if(D=v.alternate,v.child!==null||D!==null&&D.child!==null)for(p=ma(p);p!==null;){if(D=p[Ea])return D;p=ma(p)}return v}D=(p=D).parentNode}return null}function Js(p){return!(p=p[Ea]||p[Ho])||p.tag!==5&&p.tag!==6&&p.tag!==13&&p.tag!==3?null:p}function _o(p){if(p.tag===5||p.tag===6)return p.stateNode;throw Error(e(33))}function jo(p){return p[tn]||null}var qu=[],Cu=-1;function Ta(p){return{current:p}}function dr(p){0>Cu||(p.current=qu[Cu],qu[Cu]=null,Cu--)}function ar(p,v){Cu++,qu[Cu]=p.current,p.current=v}var zs={},Wi=Ta(zs),Si=Ta(!1),_u=zs;function Qs(p,v){var D=p.type.contextTypes;if(!D)return zs;var F=p.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===v)return F.__reactInternalMemoizedMaskedChildContext;var j,$={};for(j in D)$[j]=v[j];return F&&((p=p.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,p.__reactInternalMemoizedMaskedChildContext=$),$}function Zi(p){return(p=p.childContextTypes)!=null}function Dl(){dr(Si),dr(Wi)}function zl(p,v,D){if(Wi.current!==zs)throw Error(e(168));ar(Wi,v),ar(Si,D)}function fs(p,v,D){var F=p.stateNode;if(v=v.childContextTypes,typeof F.getChildContext!="function")return D;for(var j in F=F.getChildContext())if(!(j in v))throw Error(e(108,pe(p)||"Unknown",j));return _t({},D,F)}function Us(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||zs,_u=Wi.current,ar(Wi,p),ar(Si,Si.current),!0}function ue(p,v,D){var F=p.stateNode;if(!F)throw Error(e(169));D?(p=fs(p,v,_u),F.__reactInternalMemoizedMergedChildContext=p,dr(Si),dr(Wi),ar(Wi,p)):dr(Si),ar(Si,D)}var Es=null,mi=!1,os=!1;function Yl(p){Es===null?Es=[p]:Es.push(p)}function hs(){if(!os&&Es!==null){os=!0;var p=0,v=qn;try{var D=Es;for(qn=1;p<D.length;p++){var F=D[p];do F=F(!0);while(F!==null)}Es=null,mi=!1}catch(j){throw Es!==null&&(Es=Es.slice(p+1)),Gs(hr,hs),j}finally{qn=v,os=!1}}return null}var ol=[],Un=0,Xc=null,Fn=0,to=[],Or=0,Qr=null,fn=1,Yn="";function oi(p,v){ol[Un++]=Fn,ol[Un++]=Xc,Xc=p,Fn=v}function na(p,v,D){to[Or++]=fn,to[Or++]=Yn,to[Or++]=Qr,Qr=p;var F=fn;p=Yn;var j=32-Xr(F)-1;F&=~(1<<j),D+=1;var $=32-Xr(v)+j;if(30<$){var Y=j-j%5;$=(F&(1<<Y)-1).toString(32),F>>=Y,j-=Y,fn=1<<32-Xr(v)+j|D<<j|F,Yn=$+p}else fn=1<<$|D<<j|F,Yn=p}function Va(p){p.return!==null&&(oi(p,1),na(p,1,0))}function qa(p){for(;p===Xc;)Xc=ol[--Un],ol[Un]=null,Fn=ol[--Un],ol[Un]=null;for(;p===Qr;)Qr=to[--Or],to[Or]=null,Yn=to[--Or],to[Or]=null,fn=to[--Or],to[Or]=null}var Ri=null,Yo=null,wr=!1,di=null;function ai(p,v){var D=wt(5,null,null,0);D.elementType="DELETED",D.stateNode=v,D.return=p,(v=p.deletions)===null?(p.deletions=[D],p.flags|=16):v.push(D)}function Xl(p,v){switch(p.tag){case 5:var D=p.type;return(v=v.nodeType!==1||D.toLowerCase()!==v.nodeName.toLowerCase()?null:v)!==null&&(p.stateNode=v,Ri=p,Yo=Sa(v.firstChild),!0);case 6:return(v=p.pendingProps===""||v.nodeType!==3?null:v)!==null&&(p.stateNode=v,Ri=p,Yo=null,!0);case 13:return(v=v.nodeType!==8?null:v)!==null&&(D=Qr!==null?{id:fn,overflow:Yn}:null,p.memoizedState={dehydrated:v,treeContext:D,retryLane:1073741824},(D=wt(18,null,null,0)).stateNode=v,D.return=p,p.child=D,Ri=p,Yo=null,!0);default:return!1}}function Ur(p){return!(!(1&p.mode)||128&p.flags)}function Jl(p){if(wr){var v=Yo;if(v){var D=v;if(!Xl(p,v)){if(Ur(p))throw Error(e(418));v=Sa(D.nextSibling);var F=Ri;v&&Xl(p,v)?ai(F,D):(p.flags=-4097&p.flags|2,wr=!1,Ri=p)}}else{if(Ur(p))throw Error(e(418));p.flags=-4097&p.flags|2,wr=!1,Ri=p}}}function Cl(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Ri=p}function Su(p){if(p!==Ri)return!1;if(!wr)return Cl(p),wr=!0,!1;var v;if((v=p.tag!==3)&&!(v=p.tag!==5)&&(v=(v=p.type)!=="head"&&v!=="body"&&!fc(p.type,p.memoizedProps)),v&&(v=Yo)){if(Ur(p))throw _l(),Error(e(418));for(;v;)ai(p,v),v=Sa(v.nextSibling)}if(Cl(p),p.tag===13){if(!(p=(p=p.memoizedState)!==null?p.dehydrated:null))throw Error(e(317));t:{for(p=p.nextSibling,v=0;p;){if(p.nodeType===8){var D=p.data;if(D==="/$"){if(v===0){Yo=Sa(p.nextSibling);break t}v--}else D!=="$"&&D!=="$!"&&D!=="$?"||v++}p=p.nextSibling}Yo=null}}else Yo=Ri?Sa(p.stateNode.nextSibling):null;return!0}function _l(){for(var p=Yo;p;)p=Sa(p.nextSibling)}function ps(){Yo=Ri=null,wr=!1}function al(p){di===null?di=[p]:di.push(p)}var Sl=N.ReactCurrentBatchConfig;function An(p,v,D){if((p=D.ref)!==null&&typeof p!="function"&&typeof p!="object"){if(D._owner){if(D=D._owner){if(D.tag!==1)throw Error(e(309));var F=D.stateNode}if(!F)throw Error(e(147,p));var j=F,$=""+p;return v!==null&&v.ref!==null&&typeof v.ref=="function"&&v.ref._stringRef===$?v.ref:(v=function(Y){var lt=j.refs;Y===null?delete lt[$]:lt[$]=Y},v._stringRef=$,v)}if(typeof p!="string")throw Error(e(284));if(!D._owner)throw Error(e(290,p))}return p}function $n(p,v){throw p=Object.prototype.toString.call(v),Error(e(31,p==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":p))}function ji(p){return(0,p._init)(p._payload)}function Mi(p){function v(Wt,Dt){if(p){var Ut=Wt.deletions;Ut===null?(Wt.deletions=[Dt],Wt.flags|=16):Ut.push(Dt)}}function D(Wt,Dt){if(!p)return null;for(;Dt!==null;)v(Wt,Dt),Dt=Dt.sibling;return null}function F(Wt,Dt){for(Wt=new Map;Dt!==null;)Dt.key!==null?Wt.set(Dt.key,Dt):Wt.set(Dt.index,Dt),Dt=Dt.sibling;return Wt}function j(Wt,Dt){return(Wt=jt(Wt,Dt)).index=0,Wt.sibling=null,Wt}function $(Wt,Dt,Ut){return Wt.index=Ut,p?(Ut=Wt.alternate)!==null?(Ut=Ut.index)<Dt?(Wt.flags|=2,Dt):Ut:(Wt.flags|=2,Dt):(Wt.flags|=1048576,Dt)}function Y(Wt){return p&&Wt.alternate===null&&(Wt.flags|=2),Wt}function lt(Wt,Dt,Ut,ne){return Dt===null||Dt.tag!==6?((Dt=Ht(Ut,Wt.mode,ne)).return=Wt,Dt):((Dt=j(Dt,Ut)).return=Wt,Dt)}function ht(Wt,Dt,Ut,ne){var Ie=Ut.type;return Ie===z?$t(Wt,Dt,Ut.props.children,ne,Ut.key):Dt!==null&&(Dt.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===Ct&&ji(Ie)===Dt.type)?((ne=j(Dt,Ut.props)).ref=An(Wt,Dt,Ut),ne.return=Wt,ne):((ne=xt(Ut.type,Ut.key,Ut.props,null,Wt.mode,ne)).ref=An(Wt,Dt,Ut),ne.return=Wt,ne)}function Mt(Wt,Dt,Ut,ne){return Dt===null||Dt.tag!==4||Dt.stateNode.containerInfo!==Ut.containerInfo||Dt.stateNode.implementation!==Ut.implementation?((Dt=ye(Ut,Wt.mode,ne)).return=Wt,Dt):((Dt=j(Dt,Ut.children||[])).return=Wt,Dt)}function $t(Wt,Dt,Ut,ne,Ie){return Dt===null||Dt.tag!==7?((Dt=It(Ut,Wt.mode,ne,Ie)).return=Wt,Dt):((Dt=j(Dt,Ut)).return=Wt,Dt)}function Gt(Wt,Dt,Ut){if(typeof Dt=="string"&&Dt!==""||typeof Dt=="number")return(Dt=Ht(""+Dt,Wt.mode,Ut)).return=Wt,Dt;if(typeof Dt=="object"&&Dt!==null){switch(Dt.$$typeof){case B:return(Ut=xt(Dt.type,Dt.key,Dt.props,null,Wt.mode,Ut)).ref=An(Wt,null,Dt),Ut.return=Wt,Ut;case L:return(Dt=ye(Dt,Wt.mode,Ut)).return=Wt,Dt;case Ct:return Gt(Wt,(0,Dt._init)(Dt._payload),Ut)}if(bt(Dt)||At(Dt))return(Dt=It(Dt,Wt.mode,Ut,null)).return=Wt,Dt;$n(Wt,Dt)}return null}function qt(Wt,Dt,Ut,ne){var Ie=Dt!==null?Dt.key:null;if(typeof Ut=="string"&&Ut!==""||typeof Ut=="number")return Ie!==null?null:lt(Wt,Dt,""+Ut,ne);if(typeof Ut=="object"&&Ut!==null){switch(Ut.$$typeof){case B:return Ut.key===Ie?ht(Wt,Dt,Ut,ne):null;case L:return Ut.key===Ie?Mt(Wt,Dt,Ut,ne):null;case Ct:return qt(Wt,Dt,(Ie=Ut._init)(Ut._payload),ne)}if(bt(Ut)||At(Ut))return Ie!==null?null:$t(Wt,Dt,Ut,ne,null);$n(Wt,Ut)}return null}function Qt(Wt,Dt,Ut,ne,Ie){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return lt(Dt,Wt=Wt.get(Ut)||null,""+ne,Ie);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:return ht(Dt,Wt=Wt.get(ne.key===null?Ut:ne.key)||null,ne,Ie);case L:return Mt(Dt,Wt=Wt.get(ne.key===null?Ut:ne.key)||null,ne,Ie);case Ct:return Qt(Wt,Dt,Ut,(0,ne._init)(ne._payload),Ie)}if(bt(ne)||At(ne))return $t(Dt,Wt=Wt.get(Ut)||null,ne,Ie,null);$n(Dt,ne)}return null}function de(Wt,Dt,Ut,ne){for(var Ie=null,Rn=null,Te=Dt,In=Dt=0,rr=null;Te!==null&&In<Ut.length;In++){Te.index>In?(rr=Te,Te=null):rr=Te.sibling;var Jn=qt(Wt,Te,Ut[In],ne);if(Jn===null){Te===null&&(Te=rr);break}p&&Te&&Jn.alternate===null&&v(Wt,Te),Dt=$(Jn,Dt,In),Rn===null?Ie=Jn:Rn.sibling=Jn,Rn=Jn,Te=rr}if(In===Ut.length)return D(Wt,Te),wr&&oi(Wt,In),Ie;if(Te===null){for(;In<Ut.length;In++)(Te=Gt(Wt,Ut[In],ne))!==null&&(Dt=$(Te,Dt,In),Rn===null?Ie=Te:Rn.sibling=Te,Rn=Te);return wr&&oi(Wt,In),Ie}for(Te=F(Wt,Te);In<Ut.length;In++)(rr=Qt(Te,Wt,In,Ut[In],ne))!==null&&(p&&rr.alternate!==null&&Te.delete(rr.key===null?In:rr.key),Dt=$(rr,Dt,In),Rn===null?Ie=rr:Rn.sibling=rr,Rn=rr);return p&&Te.forEach(function(ei){return v(Wt,ei)}),wr&&oi(Wt,In),Ie}function le(Wt,Dt,Ut,ne){var Ie=At(Ut);if(typeof Ie!="function")throw Error(e(150));if((Ut=Ie.call(Ut))==null)throw Error(e(151));for(var Rn=Ie=null,Te=Dt,In=Dt=0,rr=null,Jn=Ut.next();Te!==null&&!Jn.done;In++,Jn=Ut.next()){Te.index>In?(rr=Te,Te=null):rr=Te.sibling;var ei=qt(Wt,Te,Jn.value,ne);if(ei===null){Te===null&&(Te=rr);break}p&&Te&&ei.alternate===null&&v(Wt,Te),Dt=$(ei,Dt,In),Rn===null?Ie=ei:Rn.sibling=ei,Rn=ei,Te=rr}if(Jn.done)return D(Wt,Te),wr&&oi(Wt,In),Ie;if(Te===null){for(;!Jn.done;In++,Jn=Ut.next())(Jn=Gt(Wt,Jn.value,ne))!==null&&(Dt=$(Jn,Dt,In),Rn===null?Ie=Jn:Rn.sibling=Jn,Rn=Jn);return wr&&oi(Wt,In),Ie}for(Te=F(Wt,Te);!Jn.done;In++,Jn=Ut.next())(Jn=Qt(Te,Wt,In,Jn.value,ne))!==null&&(p&&Jn.alternate!==null&&Te.delete(Jn.key===null?In:Jn.key),Dt=$(Jn,Dt,In),Rn===null?Ie=Jn:Rn.sibling=Jn,Rn=Jn);return p&&Te.forEach(function(Vl){return v(Wt,Vl)}),wr&&oi(Wt,In),Ie}return function Wt(Dt,Ut,ne,Ie){if(typeof ne=="object"&&ne!==null&&ne.type===z&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case B:t:{for(var Rn=ne.key,Te=Ut;Te!==null;){if(Te.key===Rn){if((Rn=ne.type)===z){if(Te.tag===7){D(Dt,Te.sibling),(Ut=j(Te,ne.props.children)).return=Dt,Dt=Ut;break t}}else if(Te.elementType===Rn||typeof Rn=="object"&&Rn!==null&&Rn.$$typeof===Ct&&ji(Rn)===Te.type){D(Dt,Te.sibling),(Ut=j(Te,ne.props)).ref=An(Dt,Te,ne),Ut.return=Dt,Dt=Ut;break t}D(Dt,Te);break}v(Dt,Te),Te=Te.sibling}ne.type===z?((Ut=It(ne.props.children,Dt.mode,Ie,ne.key)).return=Dt,Dt=Ut):((Ie=xt(ne.type,ne.key,ne.props,null,Dt.mode,Ie)).ref=An(Dt,Ut,ne),Ie.return=Dt,Dt=Ie)}return Y(Dt);case L:t:{for(Te=ne.key;Ut!==null;){if(Ut.key===Te){if(Ut.tag===4&&Ut.stateNode.containerInfo===ne.containerInfo&&Ut.stateNode.implementation===ne.implementation){D(Dt,Ut.sibling),(Ut=j(Ut,ne.children||[])).return=Dt,Dt=Ut;break t}D(Dt,Ut);break}v(Dt,Ut),Ut=Ut.sibling}(Ut=ye(ne,Dt.mode,Ie)).return=Dt,Dt=Ut}return Y(Dt);case Ct:return Wt(Dt,Ut,(Te=ne._init)(ne._payload),Ie)}if(bt(ne))return de(Dt,Ut,ne,Ie);if(At(ne))return le(Dt,Ut,ne,Ie);$n(Dt,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Ut!==null&&Ut.tag===6?(D(Dt,Ut.sibling),(Ut=j(Ut,ne)).return=Dt,Dt=Ut):(D(Dt,Ut),(Ut=Ht(ne,Dt.mode,Ie)).return=Dt,Dt=Ut),Y(Dt)):D(Dt,Ut)}}var Aa=Mi(!0),Zs=Mi(!1),Eu=Ta(null),Lo=null,zo=null,va=null;function Uo(){va=zo=Lo=null}function To(p){var v=Eu.current;dr(Eu),p._currentValue=v}function oo(p,v,D){for(;p!==null;){var F=p.alternate;if((p.childLanes&v)!==v?(p.childLanes|=v,F!==null&&(F.childLanes|=v)):F!==null&&(F.childLanes&v)!==v&&(F.childLanes|=v),p===D)break;p=p.return}}function eo(p,v){Lo=p,va=zo=null,(p=p.dependencies)!==null&&p.firstContext!==null&&(p.lanes&v&&(ia=!0),p.firstContext=null)}function Oo(p){var v=p._currentValue;if(va!==p)if(p={context:p,memoizedValue:v,next:null},zo===null){if(Lo===null)throw Error(e(308));zo=p,Lo.dependencies={lanes:0,firstContext:p}}else zo=zo.next=p;return v}var Xo=null;function Ku(p){Xo===null?Xo=[p]:Xo.push(p)}function Ka(p,v,D,F){var j=v.interleaved;return j===null?(D.next=D,Ku(v)):(D.next=j.next,j.next=D),v.interleaved=D,ds(p,F)}function ds(p,v){p.lanes|=v;var D=p.alternate;for(D!==null&&(D.lanes|=v),D=p,p=p.return;p!==null;)p.childLanes|=v,(D=p.alternate)!==null&&(D.childLanes|=v),D=p,p=p.return;return D.tag===3?D.stateNode:null}var ra=!1;function of(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ul(p,v){p=p.updateQueue,v.updateQueue===p&&(v.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function gr(p,v){return{eventTime:p,lane:v,tag:0,payload:null,callback:null,next:null}}function $s(p,v,D){var F=p.updateQueue;if(F===null)return null;if(F=F.shared,2&Tn){var j=F.pending;return j===null?v.next=v:(v.next=j.next,j.next=v),F.pending=v,ds(p,D)}return(j=F.interleaved)===null?(v.next=v,Ku(F)):(v.next=j.next,j.next=v),F.interleaved=v,ds(p,D)}function Ga(p,v,D){if((v=v.updateQueue)!==null&&(v=v.shared,4194240&D)){var F=v.lanes;D|=F&=p.pendingLanes,v.lanes=D,Ji(p,D)}}function Nf(p,v){var D=p.updateQueue,F=p.alternate;if(F!==null&&D===(F=F.updateQueue)){var j=null,$=null;if((D=D.firstBaseUpdate)!==null){do{var Y={eventTime:D.eventTime,lane:D.lane,tag:D.tag,payload:D.payload,callback:D.callback,next:null};$===null?j=$=Y:$=$.next=Y,D=D.next}while(D!==null);$===null?j=$=v:$=$.next=v}else j=$=v;return D={baseState:F.baseState,firstBaseUpdate:j,lastBaseUpdate:$,shared:F.shared,effects:F.effects},void(p.updateQueue=D)}(p=D.lastBaseUpdate)===null?D.firstBaseUpdate=v:p.next=v,D.lastBaseUpdate=v}function El(p,v,D,F){var j=p.updateQueue;ra=!1;var $=j.firstBaseUpdate,Y=j.lastBaseUpdate,lt=j.shared.pending;if(lt!==null){j.shared.pending=null;var ht=lt,Mt=ht.next;ht.next=null,Y===null?$=Mt:Y.next=Mt,Y=ht;var $t=p.alternate;$t!==null&&(lt=($t=$t.updateQueue).lastBaseUpdate)!==Y&&(lt===null?$t.firstBaseUpdate=Mt:lt.next=Mt,$t.lastBaseUpdate=ht)}if($!==null){var Gt=j.baseState;for(Y=0,$t=Mt=ht=null,lt=$;;){var qt=lt.lane,Qt=lt.eventTime;if((F&qt)===qt){$t!==null&&($t=$t.next={eventTime:Qt,lane:0,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null});t:{var de=p,le=lt;switch(qt=v,Qt=D,le.tag){case 1:if(typeof(de=le.payload)=="function"){Gt=de.call(Qt,Gt,qt);break t}Gt=de;break t;case 3:de.flags=-65537&de.flags|128;case 0:if((qt=typeof(de=le.payload)=="function"?de.call(Qt,Gt,qt):de)==null)break t;Gt=_t({},Gt,qt);break t;case 2:ra=!0}}lt.callback!==null&&lt.lane!==0&&(p.flags|=64,(qt=j.effects)===null?j.effects=[lt]:qt.push(lt))}else Qt={eventTime:Qt,lane:qt,tag:lt.tag,payload:lt.payload,callback:lt.callback,next:null},$t===null?(Mt=$t=Qt,ht=Gt):$t=$t.next=Qt,Y|=qt;if((lt=lt.next)===null){if((lt=j.shared.pending)===null)break;lt=(qt=lt).next,qt.next=null,j.lastBaseUpdate=qt,j.shared.pending=null}}if($t===null&&(ht=Gt),j.baseState=ht,j.firstBaseUpdate=Mt,j.lastBaseUpdate=$t,(v=j.shared.interleaved)!==null){j=v;do Y|=j.lane,j=j.next;while(j!==v)}else $===null&&(j.shared.lanes=0);Pu|=Y,p.lanes=Y,p.memoizedState=Gt}}function Ei(p,v,D){if(p=v.effects,v.effects=null,p!==null)for(v=0;v<p.length;v++){var F=p[v],j=F.callback;if(j!==null){if(F.callback=null,F=D,typeof j!="function")throw Error(e(191,j));j.call(F)}}}var Ya={},po=Ta(Ya),gs=Ta(Ya),So=Ta(Ya);function vi(p){if(p===Ya)throw Error(e(174));return p}function Yt(p,v){switch(ar(So,v),ar(gs,p),ar(po,Ya),p=v.nodeType){case 9:case 11:v=(v=v.documentElement)?v.namespaceURI:Ee(null,"");break;default:v=Ee(v=(p=p===8?v.parentNode:v).namespaceURI||null,p=p.tagName)}dr(po),ar(po,v)}function Jo(){dr(po),dr(gs),dr(So)}function er(p){vi(So.current);var v=vi(po.current),D=Ee(v,p.type);v!==D&&(ar(gs,p),ar(po,D))}function si(p){gs.current===p&&(dr(po),dr(gs))}var mr=Ta(0);function ua(p){for(var v=p;v!==null;){if(v.tag===13){var D=v.memoizedState;if(D!==null&&((D=D.dehydrated)===null||D.data==="$?"||D.data==="$!"))return v}else if(v.tag===19&&v.memoizedProps.revealOrder!==void 0){if(128&v.flags)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}var cn=[];function $l(){for(var p=0;p<cn.length;p++)cn[p]._workInProgressVersionPrimary=null;cn.length=0}var Qo=N.ReactCurrentDispatcher,sr=N.ReactCurrentBatchConfig,ur=0,Ue=null,Dr=null,Kn=null,Al=!1,Zr=!1,Wl=0,dc=0;function go(){throw Error(e(321))}function Ws(p,v){if(v===null)return!1;for(var D=0;D<v.length&&D<p.length;D++)if(!on(p[D],v[D]))return!1;return!0}function ao(p,v,D,F,j,$){if(ur=$,Ue=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,Qo.current=p===null||p.memoizedState===null?Zf:Yu,p=D(F,j),Zr){$=0;do{if(Zr=!1,Wl=0,25<=$)throw Error(e(301));$+=1,Kn=Dr=null,v.updateQueue=null,Qo.current=th,p=D(F,j)}while(Zr)}if(Qo.current=If,v=Dr!==null&&Dr.next!==null,ur=0,Kn=Dr=Ue=null,Al=!1,v)throw Error(e(300));return p}function kl(){var p=Wl!==0;return Wl=0,p}function gi(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Ue.memoizedState=Kn=p:Kn=Kn.next=p,Kn}function no(){if(Dr===null){var p=Ue.alternate;p=p!==null?p.memoizedState:null}else p=Dr.next;var v=Kn===null?Ue.memoizedState:Kn.next;if(v!==null)Kn=v,Dr=p;else{if(p===null)throw Error(e(310));p={memoizedState:(Dr=p).memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Kn===null?Ue.memoizedState=Kn=p:Kn=Kn.next=p}return Kn}function As(p,v){return typeof v=="function"?v(p):v}function sl(p){var v=no(),D=v.queue;if(D===null)throw Error(e(311));D.lastRenderedReducer=p;var F=Dr,j=F.baseQueue,$=D.pending;if($!==null){if(j!==null){var Y=j.next;j.next=$.next,$.next=Y}F.baseQueue=j=$,D.pending=null}if(j!==null){$=j.next,F=F.baseState;var lt=Y=null,ht=null,Mt=$;do{var $t=Mt.lane;if((ur&$t)===$t)ht!==null&&(ht=ht.next={lane:0,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null}),F=Mt.hasEagerState?Mt.eagerState:p(F,Mt.action);else{var Gt={lane:$t,action:Mt.action,hasEagerState:Mt.hasEagerState,eagerState:Mt.eagerState,next:null};ht===null?(lt=ht=Gt,Y=F):ht=ht.next=Gt,Ue.lanes|=$t,Pu|=$t}Mt=Mt.next}while(Mt!==null&&Mt!==$);ht===null?Y=F:ht.next=lt,on(F,v.memoizedState)||(ia=!0),v.memoizedState=F,v.baseState=Y,v.baseQueue=ht,D.lastRenderedState=F}if((p=D.interleaved)!==null){j=p;do $=j.lane,Ue.lanes|=$,Pu|=$,j=j.next;while(j!==p)}else j===null&&(D.lanes=0);return[v.memoizedState,D.dispatch]}function Hs(p){var v=no(),D=v.queue;if(D===null)throw Error(e(311));D.lastRenderedReducer=p;var F=D.dispatch,j=D.pending,$=v.memoizedState;if(j!==null){D.pending=null;var Y=j=j.next;do $=p($,Y.action),Y=Y.next;while(Y!==j);on($,v.memoizedState)||(ia=!0),v.memoizedState=$,v.baseQueue===null&&(v.baseState=$),D.lastRenderedState=$}return[$,F]}function Ic(){}function Nn(p,v){var D=Ue,F=no(),j=v(),$=!on(F.memoizedState,j);if($&&(F.memoizedState=j,ia=!0),F=F.queue,yf(Ql.bind(null,D,F,p),[p]),F.getSnapshot!==v||$||Kn!==null&&1&Kn.memoizedState.tag){if(D.flags|=2048,uo(9,Au.bind(null,D,F,j,v),void 0,null),ti===null)throw Error(e(349));30&ur||so(D,v,j)}return j}function so(p,v,D){p.flags|=16384,p={getSnapshot:v,value:D},(v=Ue.updateQueue)===null?(v={lastEffect:null,stores:null},Ue.updateQueue=v,v.stores=[p]):(D=v.stores)===null?v.stores=[p]:D.push(p)}function Au(p,v,D,F){v.value=D,v.getSnapshot=F,mf(v)&&ch(p)}function Ql(p,v,D){return D(function(){mf(v)&&ch(p)})}function mf(p){var v=p.getSnapshot;p=p.value;try{var D=v();return!on(p,D)}catch{return!0}}function ch(p){var v=ds(p,1);v!==null&&qr(v,p,1,-1)}function Zl(p){var v=gi();return typeof p=="function"&&(p=p()),v.memoizedState=v.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:p},v.queue=p,p=p.dispatch=Fh.bind(null,Ue,p),[v.memoizedState,p]}function uo(p,v,D,F){return p={tag:p,create:v,destroy:D,deps:F,next:null},(v=Ue.updateQueue)===null?(v={lastEffect:null,stores:null},Ue.updateQueue=v,v.lastEffect=p.next=p):(D=v.lastEffect)===null?v.lastEffect=p.next=p:(F=D.next,D.next=p,p.next=F,v.lastEffect=p),p}function Oa(){return no().memoizedState}function lo(p,v,D,F){var j=gi();Ue.flags|=p,j.memoizedState=uo(1|v,D,void 0,F===void 0?null:F)}function Ml(p,v,D,F){var j=no();F=F===void 0?null:F;var $=void 0;if(Dr!==null){var Y=Dr.memoizedState;if($=Y.destroy,F!==null&&Ws(F,Y.deps))return void(j.memoizedState=uo(v,D,$,F))}Ue.flags|=p,j.memoizedState=uo(1|v,D,$,F)}function vf(p,v){return lo(8390656,8,p,v)}function yf(p,v){return Ml(2048,8,p,v)}function Ar(p,v){return Ml(4,2,p,v)}function ul(p,v){return Ml(4,4,p,v)}function tu(p,v){return typeof v=="function"?(p=p(),v(p),function(){v(null)}):v!=null?(p=p(),v.current=p,function(){v.current=null}):void 0}function fh(p,v,D){return D=D!=null?D.concat([p]):null,Ml(4,4,tu.bind(null,v,p),D)}function Gu(){}function Dc(p,v){var D=no();v=v===void 0?null:v;var F=D.memoizedState;return F!==null&&v!==null&&Ws(v,F[1])?F[0]:(D.memoizedState=[p,v],p)}function Hl(p,v){var D=no();v=v===void 0?null:v;var F=D.memoizedState;return F!==null&&v!==null&&Ws(v,F[1])?F[0]:(p=p(),D.memoizedState=[p,v],p)}function Qf(p,v,D){return 21&ur?(on(D,v)||(D=Bu(),Ue.lanes|=D,Pu|=D,p.baseState=!0),v):(p.baseState&&(p.baseState=!1,ia=!0),p.memoizedState=D)}function Cc(p,v){var D=qn;qn=D!==0&&4>D?D:4,p(!0);var F=sr.transition;sr.transition={};try{p(!1),v()}finally{qn=D,sr.transition=F}}function su(){return no().memoizedState}function Mh(p,v,D){var F=ta(p);D={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null},Ph(p)?hh(v,D):(D=Ka(p,v,D,F))!==null&&(qr(D,p,F,fr()),Th(D,v,F))}function Fh(p,v,D){var F=ta(p),j={lane:F,action:D,hasEagerState:!1,eagerState:null,next:null};if(Ph(p))hh(v,j);else{var $=p.alternate;if(p.lanes===0&&($===null||$.lanes===0)&&($=v.lastRenderedReducer)!==null)try{var Y=v.lastRenderedState,lt=$(Y,D);if(j.hasEagerState=!0,j.eagerState=lt,on(lt,Y)){var ht=v.interleaved;return ht===null?(j.next=j,Ku(v)):(j.next=ht.next,ht.next=j),void(v.interleaved=j)}}catch{}(D=Ka(p,v,j,F))!==null&&(qr(D,p,F,j=fr()),Th(D,v,F))}}function Ph(p){var v=p.alternate;return p===Ue||v!==null&&v===Ue}function hh(p,v){Zr=Al=!0;var D=p.pending;D===null?v.next=v:(v.next=D.next,D.next=v),p.pending=v}function Th(p,v,D){if(4194240&D){var F=v.lanes;D|=F&=p.pendingLanes,v.lanes=D,Ji(p,D)}}var If={readContext:Oo,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},Zf={readContext:Oo,useCallback:function(p,v){return gi().memoizedState=[p,v===void 0?null:v],p},useContext:Oo,useEffect:vf,useImperativeHandle:function(p,v,D){return D=D!=null?D.concat([p]):null,lo(4194308,4,tu.bind(null,v,p),D)},useLayoutEffect:function(p,v){return lo(4194308,4,p,v)},useInsertionEffect:function(p,v){return lo(4,2,p,v)},useMemo:function(p,v){var D=gi();return v=v===void 0?null:v,p=p(),D.memoizedState=[p,v],p},useReducer:function(p,v,D){var F=gi();return v=D!==void 0?D(v):v,F.memoizedState=F.baseState=v,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:v},F.queue=p,p=p.dispatch=Mh.bind(null,Ue,p),[F.memoizedState,p]},useRef:function(p){return p={current:p},gi().memoizedState=p},useState:Zl,useDebugValue:Gu,useDeferredValue:function(p){return gi().memoizedState=p},useTransition:function(){var p=Zl(!1),v=p[0];return p=Cc.bind(null,p[1]),gi().memoizedState=p,[v,p]},useMutableSource:function(){},useSyncExternalStore:function(p,v,D){var F=Ue,j=gi();if(wr){if(D===void 0)throw Error(e(407));D=D()}else{if(D=v(),ti===null)throw Error(e(349));30&ur||so(F,v,D)}j.memoizedState=D;var $={value:D,getSnapshot:v};return j.queue=$,vf(Ql.bind(null,F,$,p),[p]),F.flags|=2048,uo(9,Au.bind(null,F,$,D,v),void 0,null),D},useId:function(){var p=gi(),v=ti.identifierPrefix;if(wr){var D=Yn;v=":"+v+"R"+(D=(fn&~(1<<32-Xr(fn)-1)).toString(32)+D),0<(D=Wl++)&&(v+="H"+D.toString(32)),v+=":"}else v=":"+v+"r"+(D=dc++).toString(32)+":";return p.memoizedState=v},unstable_isNewReconciler:!1},Yu={readContext:Oo,useCallback:Dc,useContext:Oo,useEffect:yf,useImperativeHandle:fh,useInsertionEffect:Ar,useLayoutEffect:ul,useMemo:Hl,useReducer:sl,useRef:Oa,useState:function(){return sl(As)},useDebugValue:Gu,useDeferredValue:function(p){return Qf(no(),Dr.memoizedState,p)},useTransition:function(){return[sl(As)[0],no().memoizedState]},useMutableSource:Ic,useSyncExternalStore:Nn,useId:su,unstable_isNewReconciler:!1},th={readContext:Oo,useCallback:Dc,useContext:Oo,useEffect:yf,useImperativeHandle:fh,useInsertionEffect:Ar,useLayoutEffect:ul,useMemo:Hl,useReducer:Hs,useRef:Oa,useState:function(){return Hs(As)},useDebugValue:Gu,useDeferredValue:function(p){var v=no();return Dr===null?v.memoizedState=p:Qf(v,Dr.memoizedState,p)},useTransition:function(){return[Hs(As)[0],no().memoizedState]},useMutableSource:Ic,useSyncExternalStore:Nn,useId:su,unstable_isNewReconciler:!1};function ms(p,v){if(p&&p.defaultProps){for(var D in v=_t({},v),p=p.defaultProps)v[D]===void 0&&(v[D]=p[D]);return v}return v}function Bf(p,v,D,F){D=(D=D(F,v=p.memoizedState))==null?v:_t({},v,D),p.memoizedState=D,p.lanes===0&&(p.updateQueue.baseState=D)}var af={isMounted:function(p){return!!(p=p._reactInternals)&&cs(p)===p},enqueueSetState:function(p,v,D){p=p._reactInternals;var F=fr(),j=ta(p),$=gr(F,j);$.payload=v,D!=null&&($.callback=D),(v=$s(p,$,j))!==null&&(qr(v,p,j,F),Ga(v,p,j))},enqueueReplaceState:function(p,v,D){p=p._reactInternals;var F=fr(),j=ta(p),$=gr(F,j);$.tag=1,$.payload=v,D!=null&&($.callback=D),(v=$s(p,$,j))!==null&&(qr(v,p,j,F),Ga(v,p,j))},enqueueForceUpdate:function(p,v){p=p._reactInternals;var D=fr(),F=ta(p),j=gr(D,F);j.tag=2,v!=null&&(j.callback=v),(v=$s(p,j,F))!==null&&(qr(v,p,F,D),Ga(v,p,F))}};function wf(p,v,D,F,j,$,Y){return typeof(p=p.stateNode).shouldComponentUpdate=="function"?p.shouldComponentUpdate(F,$,Y):!v.prototype||!v.prototype.isPureReactComponent||!pa(D,F)||!pa(j,$)}function sf(p,v,D){var F=!1,j=zs,$=v.contextType;return typeof $=="object"&&$!==null?$=Oo($):(j=Zi(v)?_u:Wi.current,$=(F=(F=v.contextTypes)!=null)?Qs(p,j):zs),v=new v(D,$),p.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=af,p.stateNode=v,v._reactInternals=p,F&&((p=p.stateNode).__reactInternalMemoizedUnmaskedChildContext=j,p.__reactInternalMemoizedMaskedChildContext=$),v}function Dh(p,v,D,F){p=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(D,F),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(D,F),v.state!==p&&af.enqueueReplaceState(v,v.state,null)}function Rf(p,v,D,F){var j=p.stateNode;j.props=D,j.state=p.memoizedState,j.refs={},of(p);var $=v.contextType;typeof $=="object"&&$!==null?j.context=Oo($):($=Zi(v)?_u:Wi.current,j.context=Qs(p,$)),j.state=p.memoizedState,typeof($=v.getDerivedStateFromProps)=="function"&&(Bf(p,v,$,D),j.state=p.memoizedState),typeof v.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(v=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),v!==j.state&&af.enqueueReplaceState(j,j.state,null),El(p,D,j,F),j.state=p.memoizedState),typeof j.componentDidMount=="function"&&(p.flags|=4194308)}function tc(p,v){try{var D="",F=v;do D+=Lt(F),F=F.return;while(F);var j=D}catch($){j=`
Error generating stack: `+$.message+`
`+$.stack}return{value:p,source:v,stack:j,digest:null}}function uu(p,v,D){return{value:p,source:null,stack:D??null,digest:v??null}}function eh(p,v){try{console.error(v.value)}catch(D){setTimeout(function(){throw D})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function Xu(p,v,D){(D=gr(-1,D)).tag=3,D.payload={element:null};var F=v.value;return D.callback=function(){_n||(_n=!0,ic=F),eh(0,v)},D}function uf(p,v,D){(D=gr(-1,D)).tag=3;var F=p.type.getDerivedStateFromError;if(typeof F=="function"){var j=v.value;D.payload=function(){return F(j)},D.callback=function(){eh(0,v)}}var $=p.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(D.callback=function(){eh(0,v),typeof F!="function"&&(ca===null?ca=new Set([this]):ca.add(this));var Y=v.stack;this.componentDidCatch(v.value,{componentStack:Y!==null?Y:""})}),D}function Bc(p,v,D){var F=p.pingCache;if(F===null){F=p.pingCache=new Ch;var j=new Set;F.set(v,j)}else(j=F.get(v))===void 0&&(j=new Set,F.set(v,j));j.has(D)||(j.add(D),p=G.bind(null,p,v,D),v.then(p,p))}function ec(p){do{var v;if((v=p.tag===13)&&(v=(v=p.memoizedState)===null||v.dehydrated!==null),v)return p;p=p.return}while(p!==null);return null}function bf(p,v,D,F,j){return 1&p.mode?(p.flags|=65536,p.lanes=j,p):(p===v?p.flags|=65536:(p.flags|=128,D.flags|=131072,D.flags&=-52805,D.tag===1&&(D.alternate===null?D.tag=17:((v=gr(-1,1)).tag=2,$s(D,v,1))),D.lanes|=1),p)}var jf=N.ReactCurrentOwner,ia=!1;function ka(p,v,D,F){v.child=p===null?Zs(v,null,D,F):Aa(v,p.child,D,F)}function Ju(p,v,D,F,j){D=D.render;var $=v.ref;return eo(v,j),F=ao(p,v,D,F,$,j),D=kl(),p===null||ia?(wr&&D&&Va(v),v.flags|=1,ka(p,v,F,j),v.child):(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~j,lr(p,v,j))}function ks(p,v,D,F,j){if(p===null){var $=D.type;return typeof $!="function"||yt($)||$.defaultProps!==void 0||D.compare!==null||D.defaultProps!==void 0?((p=xt(D.type,null,F,v,v.mode,j)).ref=v.ref,p.return=v,v.child=p):(v.tag=15,v.type=$,nh(p,v,$,F,j))}if($=p.child,!(p.lanes&j)){var Y=$.memoizedProps;if((D=(D=D.compare)!==null?D:pa)(Y,F)&&p.ref===v.ref)return lr(p,v,j)}return v.flags|=1,(p=jt($,F)).ref=v.ref,p.return=v,v.child=p}function nh(p,v,D,F,j){if(p!==null){var $=p.memoizedProps;if(pa($,F)&&p.ref===v.ref){if(ia=!1,v.pendingProps=F=$,!(p.lanes&j))return v.lanes=p.lanes,lr(p,v,j);131072&p.flags&&(ia=!0)}}return ll(p,v,D,F,j)}function Fl(p,v,D){var F=v.pendingProps,j=F.children,$=p!==null?p.memoizedState:null;if(F.mode==="hidden")if(1&v.mode){if(!(1073741824&D))return p=$!==null?$.baseLanes|D:D,v.lanes=v.childLanes=1073741824,v.memoizedState={baseLanes:p,cachePool:null,transitions:null},v.updateQueue=null,ar(Ec,Xa),Xa|=p,null;v.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=$!==null?$.baseLanes:D,ar(Ec,Xa),Xa|=F}else v.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Ec,Xa),Xa|=D;else $!==null?(F=$.baseLanes|D,v.memoizedState=null):F=D,ar(Ec,Xa),Xa|=F;return ka(p,v,j,D),v.child}function lf(p,v){var D=v.ref;(p===null&&D!==null||p!==null&&p.ref!==D)&&(v.flags|=512,v.flags|=2097152)}function ll(p,v,D,F,j){var $=Zi(D)?_u:Wi.current;return $=Qs(v,$),eo(v,j),D=ao(p,v,D,F,$,j),F=kl(),p===null||ia?(wr&&F&&Va(v),v.flags|=1,ka(p,v,D,j),v.child):(v.updateQueue=p.updateQueue,v.flags&=-2053,p.lanes&=~j,lr(p,v,j))}function Mr(p,v,D,F,j){if(Zi(D)){var $=!0;Us(v)}else $=!1;if(eo(v,j),v.stateNode===null)Qn(p,v),sf(v,D,F),Rf(v,D,F,j),F=!0;else if(p===null){var Y=v.stateNode,lt=v.memoizedProps;Y.props=lt;var ht=Y.context,Mt=D.contextType;typeof Mt=="object"&&Mt!==null?Mt=Oo(Mt):Mt=Qs(v,Mt=Zi(D)?_u:Wi.current);var $t=D.getDerivedStateFromProps,Gt=typeof $t=="function"||typeof Y.getSnapshotBeforeUpdate=="function";Gt||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(lt!==F||ht!==Mt)&&Dh(v,Y,F,Mt),ra=!1;var qt=v.memoizedState;Y.state=qt,El(v,F,Y,j),ht=v.memoizedState,lt!==F||qt!==ht||Si.current||ra?(typeof $t=="function"&&(Bf(v,D,$t,F),ht=v.memoizedState),(lt=ra||wf(v,D,lt,F,qt,ht,Mt))?(Gt||typeof Y.UNSAFE_componentWillMount!="function"&&typeof Y.componentWillMount!="function"||(typeof Y.componentWillMount=="function"&&Y.componentWillMount(),typeof Y.UNSAFE_componentWillMount=="function"&&Y.UNSAFE_componentWillMount()),typeof Y.componentDidMount=="function"&&(v.flags|=4194308)):(typeof Y.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=F,v.memoizedState=ht),Y.props=F,Y.state=ht,Y.context=Mt,F=lt):(typeof Y.componentDidMount=="function"&&(v.flags|=4194308),F=!1)}else{Y=v.stateNode,Ul(p,v),lt=v.memoizedProps,Mt=v.type===v.elementType?lt:ms(v.type,lt),Y.props=Mt,Gt=v.pendingProps,qt=Y.context,typeof(ht=D.contextType)=="object"&&ht!==null?ht=Oo(ht):ht=Qs(v,ht=Zi(D)?_u:Wi.current);var Qt=D.getDerivedStateFromProps;($t=typeof Qt=="function"||typeof Y.getSnapshotBeforeUpdate=="function")||typeof Y.UNSAFE_componentWillReceiveProps!="function"&&typeof Y.componentWillReceiveProps!="function"||(lt!==Gt||qt!==ht)&&Dh(v,Y,F,ht),ra=!1,qt=v.memoizedState,Y.state=qt,El(v,F,Y,j);var de=v.memoizedState;lt!==Gt||qt!==de||Si.current||ra?(typeof Qt=="function"&&(Bf(v,D,Qt,F),de=v.memoizedState),(Mt=ra||wf(v,D,Mt,F,qt,de,ht)||!1)?($t||typeof Y.UNSAFE_componentWillUpdate!="function"&&typeof Y.componentWillUpdate!="function"||(typeof Y.componentWillUpdate=="function"&&Y.componentWillUpdate(F,de,ht),typeof Y.UNSAFE_componentWillUpdate=="function"&&Y.UNSAFE_componentWillUpdate(F,de,ht)),typeof Y.componentDidUpdate=="function"&&(v.flags|=4),typeof Y.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof Y.componentDidUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=1024),v.memoizedProps=F,v.memoizedState=de),Y.props=F,Y.state=de,Y.context=ht,F=Mt):(typeof Y.componentDidUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=4),typeof Y.getSnapshotBeforeUpdate!="function"||lt===p.memoizedProps&&qt===p.memoizedState||(v.flags|=1024),F=!1)}return Lf(p,v,D,F,$,j)}function Lf(p,v,D,F,j,$){lf(p,v);var Y=!!(128&v.flags);if(!F&&!Y)return j&&ue(v,D,!1),lr(p,v,$);F=v.stateNode,jf.current=v;var lt=Y&&typeof D.getDerivedStateFromError!="function"?null:F.render();return v.flags|=1,p!==null&&Y?(v.child=Aa(v,p.child,null,$),v.child=Aa(v,null,lt,$)):ka(p,v,lt,$),v.memoizedState=F.state,j&&ue(v,D,!0),v.child}function gc(p){var v=p.stateNode;v.pendingContext?zl(0,v.pendingContext,v.pendingContext!==v.context):v.context&&zl(0,v.context,!1),Yt(p,v.containerInfo)}function Eo(p,v,D,F,j){return ps(),al(j),v.flags|=256,ka(p,v,D,F),v.child}var ie,_c,$e,Je,Nr={dehydrated:null,treeContext:null,retryLane:0};function $o(p){return{baseLanes:p,cachePool:null,transitions:null}}function lu(p,v,D){var F,j=v.pendingProps,$=mr.current,Y=!1,lt=!!(128&v.flags);if((F=lt)||(F=(p===null||p.memoizedState!==null)&&!!(2&$)),F?(Y=!0,v.flags&=-129):p!==null&&p.memoizedState===null||($|=1),ar(mr,1&$),p===null)return Jl(v),(p=v.memoizedState)!==null&&(p=p.dehydrated)!==null?(1&v.mode?p.data==="$!"?v.lanes=8:v.lanes=1073741824:v.lanes=1,null):(lt=j.children,p=j.fallback,Y?(j=v.mode,Y=v.child,lt={mode:"hidden",children:lt},1&j||Y===null?Y=ae(lt,j,0,null):(Y.childLanes=0,Y.pendingProps=lt),p=It(p,j,D,null),Y.return=v,p.return=v,Y.sibling=p,v.child=Y,v.child.memoizedState=$o(D),v.memoizedState=Nr,p):yi(v,lt));if(($=p.memoizedState)!==null&&(F=$.dehydrated)!==null)return function($t,Gt,qt,Qt,de,le,Wt){if(qt)return 256&Gt.flags?(Gt.flags&=-257,cu($t,Gt,Wt,Qt=uu(Error(e(422))))):Gt.memoizedState!==null?(Gt.child=$t.child,Gt.flags|=128,null):(le=Qt.fallback,de=Gt.mode,Qt=ae({mode:"visible",children:Qt.children},de,0,null),(le=It(le,de,Wt,null)).flags|=2,Qt.return=Gt,le.return=Gt,Qt.sibling=le,Gt.child=Qt,1&Gt.mode&&Aa(Gt,$t.child,null,Wt),Gt.child.memoizedState=$o(Wt),Gt.memoizedState=Nr,le);if(!(1&Gt.mode))return cu($t,Gt,Wt,null);if(de.data==="$!"){if(Qt=de.nextSibling&&de.nextSibling.dataset)var Dt=Qt.dgst;return Qt=Dt,cu($t,Gt,Wt,Qt=uu(le=Error(e(419)),Qt,void 0))}if(Dt=!!(Wt&$t.childLanes),ia||Dt){if((Qt=ti)!==null){switch(Wt&-Wt){case 4:de=2;break;case 16:de=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:de=32;break;case 536870912:de=268435456;break;default:de=0}(de=de&(Qt.suspendedLanes|Wt)?0:de)!==0&&de!==le.retryLane&&(le.retryLane=de,ds($t,de),qr(Qt,$t,de,-1))}return g(),cu($t,Gt,Wt,Qt=uu(Error(e(421))))}return de.data==="$?"?(Gt.flags|=128,Gt.child=$t.child,Gt=K.bind(null,$t),de._reactRetry=Gt,null):($t=le.treeContext,Yo=Sa(de.nextSibling),Ri=Gt,wr=!0,di=null,$t!==null&&(to[Or++]=fn,to[Or++]=Yn,to[Or++]=Qr,fn=$t.id,Yn=$t.overflow,Qr=Gt),Gt=yi(Gt,Qt.children),Gt.flags|=4096,Gt)}(p,v,lt,j,F,$,D);if(Y){Y=j.fallback,lt=v.mode,F=($=p.child).sibling;var ht={mode:"hidden",children:j.children};return 1&lt||v.child===$?(j=jt($,ht)).subtreeFlags=14680064&$.subtreeFlags:((j=v.child).childLanes=0,j.pendingProps=ht,v.deletions=null),F!==null?Y=jt(F,Y):(Y=It(Y,lt,D,null)).flags|=2,Y.return=v,j.return=v,j.sibling=Y,v.child=j,j=Y,Y=v.child,lt=(lt=p.child.memoizedState)===null?$o(D):{baseLanes:lt.baseLanes|D,cachePool:null,transitions:lt.transitions},Y.memoizedState=lt,Y.childLanes=p.childLanes&~D,v.memoizedState=Nr,j}return p=(Y=p.child).sibling,j=jt(Y,{mode:"visible",children:j.children}),!(1&v.mode)&&(j.lanes=D),j.return=v,j.sibling=null,p!==null&&((D=v.deletions)===null?(v.deletions=[p],v.flags|=16):D.push(p)),v.child=j,v.memoizedState=null,j}function yi(p,v){return(v=ae({mode:"visible",children:v},p.mode,0,null)).return=p,p.child=v}function cu(p,v,D,F){return F!==null&&al(F),Aa(v,p.child,null,D),(p=yi(v,v.pendingProps.children)).flags|=2,v.memoizedState=null,p}function Gn(p,v,D){p.lanes|=v;var F=p.alternate;F!==null&&(F.lanes|=v),oo(p.return,v,D)}function We(p,v,D,F,j){var $=p.memoizedState;$===null?p.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:F,tail:D,tailMode:j}:($.isBackwards=v,$.rendering=null,$.renderingStartTime=0,$.last=F,$.tail=D,$.tailMode=j)}function Le(p,v,D){var F=v.pendingProps,j=F.revealOrder,$=F.tail;if(ka(p,v,F.children,D),2&(F=mr.current))F=1&F|2,v.flags|=128;else{if(p!==null&&128&p.flags)t:for(p=v.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Gn(p,D,v);else if(p.tag===19)Gn(p,D,v);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===v)break t;for(;p.sibling===null;){if(p.return===null||p.return===v)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}F&=1}if(ar(mr,F),1&v.mode)switch(j){case"forwards":for(D=v.child,j=null;D!==null;)(p=D.alternate)!==null&&ua(p)===null&&(j=D),D=D.sibling;(D=j)===null?(j=v.child,v.child=null):(j=D.sibling,D.sibling=null),We(v,!1,j,D,$);break;case"backwards":for(D=null,j=v.child,v.child=null;j!==null;){if((p=j.alternate)!==null&&ua(p)===null){v.child=j;break}p=j.sibling,j.sibling=D,D=j,j=p}We(v,!0,D,null,$);break;case"together":We(v,!1,null,null,void 0);break;default:v.memoizedState=null}else v.memoizedState=null;return v.child}function Qn(p,v){!(1&v.mode)&&p!==null&&(p.alternate=null,v.alternate=null,v.flags|=2)}function lr(p,v,D){if(p!==null&&(v.dependencies=p.dependencies),Pu|=v.lanes,!(D&v.childLanes))return null;if(p!==null&&v.child!==p.child)throw Error(e(153));if(v.child!==null){for(D=jt(p=v.child,p.pendingProps),v.child=D,D.return=v;p.sibling!==null;)p=p.sibling,(D=D.sibling=jt(p,p.pendingProps)).return=v;D.sibling=null}return v.child}function la(p,v){if(!wr)switch(p.tailMode){case"hidden":v=p.tail;for(var D=null;v!==null;)v.alternate!==null&&(D=v),v=v.sibling;D===null?p.tail=null:D.sibling=null;break;case"collapsed":D=p.tail;for(var F=null;D!==null;)D.alternate!==null&&(F=D),D=D.sibling;F===null?v||p.tail===null?p.tail=null:p.tail.sibling=null:F.sibling=null}}function Li(p){var v=p.alternate!==null&&p.alternate.child===p.child,D=0,F=0;if(v)for(var j=p.child;j!==null;)D|=j.lanes|j.childLanes,F|=14680064&j.subtreeFlags,F|=14680064&j.flags,j.return=p,j=j.sibling;else for(j=p.child;j!==null;)D|=j.lanes|j.childLanes,F|=j.subtreeFlags,F|=j.flags,j.return=p,j=j.sibling;return p.subtreeFlags|=F,p.childLanes=D,v}function Qu(p,v,D){var F=v.pendingProps;switch(qa(v),v.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(v),null;case 1:case 17:return Zi(v.type)&&Dl(),Li(v),null;case 3:return F=v.stateNode,Jo(),dr(Si),dr(Wi),$l(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),p!==null&&p.child!==null||(Su(v)?v.flags|=4:p===null||p.memoizedState.isDehydrated&&!(256&v.flags)||(v.flags|=1024,di!==null&&(ws(di),di=null))),_c(p,v),Li(v),null;case 5:si(v);var j=vi(So.current);if(D=v.type,p!==null&&v.stateNode!=null)$e(p,v,D,F,j),p.ref!==v.ref&&(v.flags|=512,v.flags|=2097152);else{if(!F){if(v.stateNode===null)throw Error(e(166));return Li(v),null}if(p=vi(po.current),Su(v)){F=v.stateNode,D=v.type;var $=v.memoizedProps;switch(F[Ea]=v,F[tn]=$,p=!!(1&v.mode),D){case"dialog":En("cancel",F),En("close",F);break;case"iframe":case"object":case"embed":En("load",F);break;case"video":case"audio":for(j=0;j<Fr.length;j++)En(Fr[j],F);break;case"source":En("error",F);break;case"img":case"image":case"link":En("error",F),En("load",F);break;case"details":En("toggle",F);break;case"input":cr(F,$),En("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!$.multiple},En("invalid",F);break;case"textarea":Rt(F,$),En("invalid",F)}for(var Y in xo(D,$),j=null,$)if($.hasOwnProperty(Y)){var lt=$[Y];Y==="children"?typeof lt=="string"?F.textContent!==lt&&($.suppressHydrationWarning!==!0&&$a(F.textContent,lt,p),j=["children",lt]):typeof lt=="number"&&F.textContent!==""+lt&&($.suppressHydrationWarning!==!0&&$a(F.textContent,lt,p),j=["children",""+lt]):i.hasOwnProperty(Y)&&lt!=null&&Y==="onScroll"&&En("scroll",F)}switch(D){case"input":qe(F),rt(F,$,!0);break;case"textarea":qe(F),Kt(F);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(F.onclick=Ro)}F=j,v.updateQueue=F,F!==null&&(v.flags|=4)}else{Y=j.nodeType===9?j:j.ownerDocument,p==="http://www.w3.org/1999/xhtml"&&(p=ge(D)),p==="http://www.w3.org/1999/xhtml"?D==="script"?((p=Y.createElement("div")).innerHTML="<script><\/script>",p=p.removeChild(p.firstChild)):typeof F.is=="string"?p=Y.createElement(D,{is:F.is}):(p=Y.createElement(D),D==="select"&&(Y=p,F.multiple?Y.multiple=!0:F.size&&(Y.size=F.size))):p=Y.createElementNS(p,D),p[Ea]=v,p[tn]=F,ie(p,v,!1,!1),v.stateNode=p;t:{switch(Y=Ai(D,F),D){case"dialog":En("cancel",p),En("close",p),j=F;break;case"iframe":case"object":case"embed":En("load",p),j=F;break;case"video":case"audio":for(j=0;j<Fr.length;j++)En(Fr[j],p);j=F;break;case"source":En("error",p),j=F;break;case"img":case"image":case"link":En("error",p),En("load",p),j=F;break;case"details":En("toggle",p),j=F;break;case"input":cr(p,F),j=nn(p,F),En("invalid",p);break;case"option":default:j=F;break;case"select":p._wrapperState={wasMultiple:!!F.multiple},j=_t({},F,{value:void 0}),En("invalid",p);break;case"textarea":Rt(p,F),j=Bt(p,F),En("invalid",p)}for($ in xo(D,j),lt=j)if(lt.hasOwnProperty($)){var ht=lt[$];$==="style"?Yi(p,ht):$==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0)!=null&&Xe(p,ht):$==="children"?typeof ht=="string"?(D!=="textarea"||ht!=="")&&Se(p,ht):typeof ht=="number"&&Se(p,""+ht):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ht!=null&&$==="onScroll"&&En("scroll",p):ht!=null&&M(p,$,ht,Y))}switch(D){case"input":qe(p),rt(p,F,!1);break;case"textarea":qe(p),Kt(p);break;case"option":F.value!=null&&p.setAttribute("value",""+ve(F.value));break;case"select":p.multiple=!!F.multiple,($=F.value)!=null?Ot(p,!!F.multiple,$,!1):F.defaultValue!=null&&Ot(p,!!F.multiple,F.defaultValue,!0);break;default:typeof j.onClick=="function"&&(p.onclick=Ro)}switch(D){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break t;case"img":F=!0;break t;default:F=!1}}F&&(v.flags|=4)}v.ref!==null&&(v.flags|=512,v.flags|=2097152)}return Li(v),null;case 6:if(p&&v.stateNode!=null)Je(p,v,p.memoizedProps,F);else{if(typeof F!="string"&&v.stateNode===null)throw Error(e(166));if(D=vi(So.current),vi(po.current),Su(v)){if(F=v.stateNode,D=v.memoizedProps,F[Ea]=v,($=F.nodeValue!==D)&&(p=Ri)!==null)switch(p.tag){case 3:$a(F.nodeValue,D,!!(1&p.mode));break;case 5:p.memoizedProps.suppressHydrationWarning!==!0&&$a(F.nodeValue,D,!!(1&p.mode))}$&&(v.flags|=4)}else(F=(D.nodeType===9?D:D.ownerDocument).createTextNode(F))[Ea]=v,v.stateNode=F}return Li(v),null;case 13:if(dr(mr),F=v.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(wr&&Yo!==null&&1&v.mode&&!(128&v.flags))_l(),ps(),v.flags|=98560,$=!1;else if($=Su(v),F!==null&&F.dehydrated!==null){if(p===null){if(!$)throw Error(e(318));if(!($=($=v.memoizedState)!==null?$.dehydrated:null))throw Error(e(317));$[Ea]=v}else ps(),!(128&v.flags)&&(v.memoizedState=null),v.flags|=4;Li(v),$=!1}else di!==null&&(ws(di),di=null),$=!0;if(!$)return 65536&v.flags?v:null}return 128&v.flags?(v.lanes=D,v):((F=F!==null)!=(p!==null&&p.memoizedState!==null)&&F&&(v.child.flags|=8192,1&v.mode&&(p===null||1&mr.current?co===0&&(co=3):g())),v.updateQueue!==null&&(v.flags|=4),Li(v),null);case 4:return Jo(),_c(p,v),p===null&&da(v.stateNode.containerInfo),Li(v),null;case 10:return To(v.type._context),Li(v),null;case 19:if(dr(mr),($=v.memoizedState)===null)return Li(v),null;if(F=!!(128&v.flags),(Y=$.rendering)===null)if(F)la($,!1);else{if(co!==0||p!==null&&128&p.flags)for(p=v.child;p!==null;){if((Y=ua(p))!==null){for(v.flags|=128,la($,!1),(F=Y.updateQueue)!==null&&(v.updateQueue=F,v.flags|=4),v.subtreeFlags=0,F=D,D=v.child;D!==null;)p=F,($=D).flags&=14680066,(Y=$.alternate)===null?($.childLanes=0,$.lanes=p,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=Y.childLanes,$.lanes=Y.lanes,$.child=Y.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=Y.memoizedProps,$.memoizedState=Y.memoizedState,$.updateQueue=Y.updateQueue,$.type=Y.type,p=Y.dependencies,$.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),D=D.sibling;return ar(mr,1&mr.current|2),v.child}p=p.sibling}$.tail!==null&&ln()>hu&&(v.flags|=128,F=!0,la($,!1),v.lanes=4194304)}else{if(!F)if((p=ua(Y))!==null){if(v.flags|=128,F=!0,(D=p.updateQueue)!==null&&(v.updateQueue=D,v.flags|=4),la($,!0),$.tail===null&&$.tailMode==="hidden"&&!Y.alternate&&!wr)return Li(v),null}else 2*ln()-$.renderingStartTime>hu&&D!==1073741824&&(v.flags|=128,F=!0,la($,!1),v.lanes=4194304);$.isBackwards?(Y.sibling=v.child,v.child=Y):((D=$.last)!==null?D.sibling=Y:v.child=Y,$.last=Y)}return $.tail!==null?(v=$.tail,$.rendering=v,$.tail=v.sibling,$.renderingStartTime=ln(),v.sibling=null,D=mr.current,ar(mr,F?1&D|2:1&D),v):(Li(v),null);case 22:case 23:return Qc(),F=v.memoizedState!==null,p!==null&&p.memoizedState!==null!==F&&(v.flags|=8192),F&&1&v.mode?1073741824&Xa&&(Li(v),6&v.subtreeFlags&&(v.flags|=8192)):Li(v),null;case 24:case 25:return null}throw Error(e(156,v.tag))}function ku(p,v){switch(qa(v),v.tag){case 1:return Zi(v.type)&&Dl(),65536&(p=v.flags)?(v.flags=-65537&p|128,v):null;case 3:return Jo(),dr(Si),dr(Wi),$l(),65536&(p=v.flags)&&!(128&p)?(v.flags=-65537&p|128,v):null;case 5:return si(v),null;case 13:if(dr(mr),(p=v.memoizedState)!==null&&p.dehydrated!==null){if(v.alternate===null)throw Error(e(340));ps()}return 65536&(p=v.flags)?(v.flags=-65537&p|128,v):null;case 19:return dr(mr),null;case 4:return Jo(),null;case 10:return To(v.type._context),null;case 22:case 23:return Qc(),null;default:return null}}ie=function(p,v){for(var D=v.child;D!==null;){if(D.tag===5||D.tag===6)p.appendChild(D.stateNode);else if(D.tag!==4&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===v)break;for(;D.sibling===null;){if(D.return===null||D.return===v)return;D=D.return}D.sibling.return=D.return,D=D.sibling}},_c=function(){},$e=function(p,v,D,F){var j=p.memoizedProps;if(j!==F){p=v.stateNode,vi(po.current);var $,Y=null;switch(D){case"input":j=nn(p,j),F=nn(p,F),Y=[];break;case"select":j=_t({},j,{value:void 0}),F=_t({},F,{value:void 0}),Y=[];break;case"textarea":j=Bt(p,j),F=Bt(p,F),Y=[];break;default:typeof j.onClick!="function"&&typeof F.onClick=="function"&&(p.onclick=Ro)}for(Mt in xo(D,F),D=null,j)if(!F.hasOwnProperty(Mt)&&j.hasOwnProperty(Mt)&&j[Mt]!=null)if(Mt==="style"){var lt=j[Mt];for($ in lt)lt.hasOwnProperty($)&&(D||(D={}),D[$]="")}else Mt!=="dangerouslySetInnerHTML"&&Mt!=="children"&&Mt!=="suppressContentEditableWarning"&&Mt!=="suppressHydrationWarning"&&Mt!=="autoFocus"&&(i.hasOwnProperty(Mt)?Y||(Y=[]):(Y=Y||[]).push(Mt,null));for(Mt in F){var ht=F[Mt];if(lt=j!=null?j[Mt]:void 0,F.hasOwnProperty(Mt)&&ht!==lt&&(ht!=null||lt!=null))if(Mt==="style")if(lt){for($ in lt)!lt.hasOwnProperty($)||ht&&ht.hasOwnProperty($)||(D||(D={}),D[$]="");for($ in ht)ht.hasOwnProperty($)&&lt[$]!==ht[$]&&(D||(D={}),D[$]=ht[$])}else D||(Y||(Y=[]),Y.push(Mt,D)),D=ht;else Mt==="dangerouslySetInnerHTML"?(ht=ht?ht.__html:void 0,lt=lt?lt.__html:void 0,ht!=null&&lt!==ht&&(Y=Y||[]).push(Mt,ht)):Mt==="children"?typeof ht!="string"&&typeof ht!="number"||(Y=Y||[]).push(Mt,""+ht):Mt!=="suppressContentEditableWarning"&&Mt!=="suppressHydrationWarning"&&(i.hasOwnProperty(Mt)?(ht!=null&&Mt==="onScroll"&&En("scroll",p),Y||lt===ht||(Y=[])):(Y=Y||[]).push(Mt,ht))}D&&(Y=Y||[]).push("style",D);var Mt=Y;(v.updateQueue=Mt)&&(v.flags|=4)}},Je=function(p,v,D,F){D!==F&&(v.flags|=4)};var jn=!1,xn=!1,Wo=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function cl(p,v){var D=p.ref;if(D!==null)if(typeof D=="function")try{D(null)}catch(F){U(p,v,F)}else D.current=null}function ui(p,v,D){try{D()}catch(F){U(p,v,F)}}var se=!1;function vs(p,v,D){var F=v.updateQueue;if((F=F!==null?F.lastEffect:null)!==null){var j=F=F.next;do{if((j.tag&p)===p){var $=j.destroy;j.destroy=void 0,$!==void 0&&ui(v,D,$)}j=j.next}while(j!==F)}}function Qe(p,v){if((v=(v=v.updateQueue)!==null?v.lastEffect:null)!==null){var D=v=v.next;do{if((D.tag&p)===p){var F=D.create;D.destroy=F()}D=D.next}while(D!==v)}}function ys(p){var v=p.ref;if(v!==null){var D=p.stateNode;p.tag,p=D,typeof v=="function"?v(p):v.current=p}}function we(p){var v=p.alternate;v!==null&&(p.alternate=null,we(v)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(v=p.stateNode)!==null&&(delete v[Ea],delete v[tn],delete v[Ls],delete v[xl],delete v[pc]),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Oh(p){return p.tag===5||p.tag===3||p.tag===4}function mo(p){t:for(;;){for(;p.sibling===null;){if(p.return===null||Oh(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(2&p.flags||p.child===null||p.tag===4)continue t;p.child.return=p,p=p.child}if(!(2&p.flags))return p.stateNode}}function Vs(p,v,D){var F=p.tag;if(F===5||F===6)p=p.stateNode,v?D.nodeType===8?D.parentNode.insertBefore(p,v):D.insertBefore(p,v):(D.nodeType===8?(v=D.parentNode).insertBefore(p,D):(v=D).appendChild(p),(D=D._reactRootContainer)!=null||v.onclick!==null||(v.onclick=Ro));else if(F!==4&&(p=p.child)!==null)for(Vs(p,v,D),p=p.sibling;p!==null;)Vs(p,v,D),p=p.sibling}function nc(p,v,D){var F=p.tag;if(F===5||F===6)p=p.stateNode,v?D.insertBefore(p,v):D.appendChild(p);else if(F!==4&&(p=p.child)!==null)for(nc(p,v,D),p=p.sibling;p!==null;)nc(p,v,D),p=p.sibling}var Pn=null,Na=!1;function as(p,v,D){for(D=D.child;D!==null;)rc(p,v,D),D=D.sibling}function rc(p,v,D){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(De,D)}catch{}switch(D.tag){case 5:xn||cl(D,v);case 6:var F=Pn,j=Na;Pn=null,as(p,v,D),Na=j,(Pn=F)!==null&&(Na?(p=Pn,D=D.stateNode,p.nodeType===8?p.parentNode.removeChild(D):p.removeChild(D)):Pn.removeChild(D.stateNode));break;case 18:Pn!==null&&(Na?(p=Pn,D=D.stateNode,p.nodeType===8?bn(p.parentNode,D):p.nodeType===1&&bn(p,D),xu(p)):bn(Pn,D.stateNode));break;case 4:F=Pn,j=Na,Pn=D.stateNode.containerInfo,Na=!0,as(p,v,D),Pn=F,Na=j;break;case 0:case 11:case 14:case 15:if(!xn&&(F=D.updateQueue)!==null&&(F=F.lastEffect)!==null){j=F=F.next;do{var $=j,Y=$.destroy;$=$.tag,Y!==void 0&&(2&$||4&$)&&ui(D,v,Y),j=j.next}while(j!==F)}as(p,v,D);break;case 1:if(!xn&&(cl(D,v),typeof(F=D.stateNode).componentWillUnmount=="function"))try{F.props=D.memoizedProps,F.state=D.memoizedState,F.componentWillUnmount()}catch(lt){U(D,v,lt)}as(p,v,D);break;case 21:as(p,v,D);break;case 22:1&D.mode?(xn=(F=xn)||D.memoizedState!==null,as(p,v,D),xn=F):as(p,v,D);break;default:as(p,v,D)}}function Fi(p){var v=p.updateQueue;if(v!==null){p.updateQueue=null;var D=p.stateNode;D===null&&(D=p.stateNode=new Wo),v.forEach(function(F){var j=tt.bind(null,p,F);D.has(F)||(D.add(F),F.then(j,j))})}}function eu(p,v){var D=v.deletions;if(D!==null)for(var F=0;F<D.length;F++){var j=D[F];try{var $=p,Y=v,lt=Y;t:for(;lt!==null;){switch(lt.tag){case 5:Pn=lt.stateNode,Na=!1;break t;case 3:case 4:Pn=lt.stateNode.containerInfo,Na=!0;break t}lt=lt.return}if(Pn===null)throw Error(e(160));rc($,Y,j),Pn=null,Na=!1;var ht=j.alternate;ht!==null&&(ht.return=null),j.return=null}catch(Mt){U(j,v,Mt)}}if(12854&v.subtreeFlags)for(v=v.child;v!==null;)rh(v,p),v=v.sibling}function rh(p,v){var D=p.alternate,F=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:if(eu(v,p),Ms(p),4&F){try{vs(3,p,p.return),Qe(3,p)}catch(le){U(p,p.return,le)}try{vs(5,p,p.return)}catch(le){U(p,p.return,le)}}break;case 1:eu(v,p),Ms(p),512&F&&D!==null&&cl(D,D.return);break;case 5:if(eu(v,p),Ms(p),512&F&&D!==null&&cl(D,D.return),32&p.flags){var j=p.stateNode;try{Se(j,"")}catch(le){U(p,p.return,le)}}if(4&F&&(j=p.stateNode)!=null){var $=p.memoizedProps,Y=D!==null?D.memoizedProps:$,lt=p.type,ht=p.updateQueue;if(p.updateQueue=null,ht!==null)try{lt==="input"&&$.type==="radio"&&$.name!=null&&bi(j,$),Ai(lt,Y);var Mt=Ai(lt,$);for(Y=0;Y<ht.length;Y+=2){var $t=ht[Y],Gt=ht[Y+1];$t==="style"?Yi(j,Gt):$t==="dangerouslySetInnerHTML"?Xe(j,Gt):$t==="children"?Se(j,Gt):M(j,$t,Gt,Mt)}switch(lt){case"input":Vt(j,$);break;case"textarea":Xt(j,$);break;case"select":var qt=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!$.multiple;var Qt=$.value;Qt!=null?Ot(j,!!$.multiple,Qt,!1):qt!==!!$.multiple&&($.defaultValue!=null?Ot(j,!!$.multiple,$.defaultValue,!0):Ot(j,!!$.multiple,$.multiple?[]:"",!1))}j[tn]=$}catch(le){U(p,p.return,le)}}break;case 6:if(eu(v,p),Ms(p),4&F){if(p.stateNode===null)throw Error(e(162));j=p.stateNode,$=p.memoizedProps;try{j.nodeValue=$}catch(le){U(p,p.return,le)}}break;case 3:if(eu(v,p),Ms(p),4&F&&D!==null&&D.memoizedState.isDehydrated)try{xu(v.containerInfo)}catch(le){U(p,p.return,le)}break;case 4:default:eu(v,p),Ms(p);break;case 13:eu(v,p),Ms(p),8192&(j=p.child).flags&&($=j.memoizedState!==null,j.stateNode.isHidden=$,!$||j.alternate!==null&&j.alternate.memoizedState!==null||(Tl=ln())),4&F&&Fi(p);break;case 22:if($t=D!==null&&D.memoizedState!==null,1&p.mode?(xn=(Mt=xn)||$t,eu(v,p),xn=Mt):eu(v,p),Ms(p),8192&F){if(Mt=p.memoizedState!==null,(p.stateNode.isHidden=Mt)&&!$t&&1&p.mode)for(Ae=p,$t=p.child;$t!==null;){for(Gt=Ae=$t;Ae!==null;){switch(Qt=(qt=Ae).child,qt.tag){case 0:case 11:case 14:case 15:vs(4,qt,qt.return);break;case 1:cl(qt,qt.return);var de=qt.stateNode;if(typeof de.componentWillUnmount=="function"){F=qt,D=qt.return;try{v=F,de.props=v.memoizedProps,de.state=v.memoizedState,de.componentWillUnmount()}catch(le){U(F,D,le)}}break;case 5:cl(qt,qt.return);break;case 22:if(qt.memoizedState!==null){Fs(Gt);continue}}Qt!==null?(Qt.return=qt,Ae=Qt):Fs(Gt)}$t=$t.sibling}t:for($t=null,Gt=p;;){if(Gt.tag===5){if($t===null){$t=Gt;try{j=Gt.stateNode,Mt?typeof($=j.style).setProperty=="function"?$.setProperty("display","none","important"):$.display="none":(lt=Gt.stateNode,Y=(ht=Gt.memoizedProps.style)!=null&&ht.hasOwnProperty("display")?ht.display:null,lt.style.display=zi("display",Y))}catch(le){U(p,p.return,le)}}}else if(Gt.tag===6){if($t===null)try{Gt.stateNode.nodeValue=Mt?"":Gt.memoizedProps}catch(le){U(p,p.return,le)}}else if((Gt.tag!==22&&Gt.tag!==23||Gt.memoizedState===null||Gt===p)&&Gt.child!==null){Gt.child.return=Gt,Gt=Gt.child;continue}if(Gt===p)break t;for(;Gt.sibling===null;){if(Gt.return===null||Gt.return===p)break t;$t===Gt&&($t=null),Gt=Gt.return}$t===Gt&&($t=null),Gt.sibling.return=Gt.return,Gt=Gt.sibling}}break;case 19:eu(v,p),Ms(p),4&F&&Fi(p);case 21:}}function Ms(p){var v=p.flags;if(2&v){try{t:{for(var D=p.return;D!==null;){if(Oh(D)){var F=D;break t}D=D.return}throw Error(e(160))}switch(F.tag){case 5:var j=F.stateNode;32&F.flags&&(Se(j,""),F.flags&=-33),nc(p,mo(p),j);break;case 3:case 4:var $=F.stateNode.containerInfo;Vs(p,mo(p),$);break;default:throw Error(e(161))}}catch(Y){U(p,p.return,Y)}p.flags&=-3}4096&v&&(p.flags&=-4097)}function en(p,v,D){Ae=p,Xn(p)}function Xn(p,v,D){for(var F=!!(1&p.mode);Ae!==null;){var j=Ae,$=j.child;if(j.tag===22&&F){var Y=j.memoizedState!==null||jn;if(!Y){var lt=j.alternate,ht=lt!==null&&lt.memoizedState!==null||xn;lt=jn;var Mt=xn;if(jn=Y,(xn=ht)&&!Mt)for(Ae=j;Ae!==null;)ht=(Y=Ae).child,Y.tag===22&&Y.memoizedState!==null?Fu(j):ht!==null?(ht.return=Y,Ae=ht):Fu(j);for(;$!==null;)Ae=$,Xn($),$=$.sibling;Ae=j,jn=lt,xn=Mt}Mu(p)}else 8772&j.subtreeFlags&&$!==null?($.return=j,Ae=$):Mu(p)}}function Mu(p){for(;Ae!==null;){var v=Ae;if(8772&v.flags){var D=v.alternate;try{if(8772&v.flags)switch(v.tag){case 0:case 11:case 15:xn||Qe(5,v);break;case 1:var F=v.stateNode;if(4&v.flags&&!xn)if(D===null)F.componentDidMount();else{var j=v.elementType===v.type?D.memoizedProps:ms(v.type,D.memoizedProps);F.componentDidUpdate(j,D.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var $=v.updateQueue;$!==null&&Ei(v,$,F);break;case 3:var Y=v.updateQueue;if(Y!==null){if(D=null,v.child!==null)switch(v.child.tag){case 5:case 1:D=v.child.stateNode}Ei(v,Y,D)}break;case 5:var lt=v.stateNode;if(D===null&&4&v.flags){D=lt;var ht=v.memoizedProps;switch(v.type){case"button":case"input":case"select":case"textarea":ht.autoFocus&&D.focus();break;case"img":ht.src&&(D.src=ht.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(v.memoizedState===null){var Mt=v.alternate;if(Mt!==null){var $t=Mt.memoizedState;if($t!==null){var Gt=$t.dehydrated;Gt!==null&&xu(Gt)}}}break;default:throw Error(e(163))}xn||512&v.flags&&ys(v)}catch(qt){U(v,v.return,qt)}}if(v===p){Ae=null;break}if((D=v.sibling)!==null){D.return=v.return,Ae=D;break}Ae=v.return}}function Fs(p){for(;Ae!==null;){var v=Ae;if(v===p){Ae=null;break}var D=v.sibling;if(D!==null){D.return=v.return,Ae=D;break}Ae=v.return}}function Fu(p){for(;Ae!==null;){var v=Ae;try{switch(v.tag){case 0:case 11:case 15:var D=v.return;try{Qe(4,v)}catch(ht){U(v,D,ht)}break;case 1:var F=v.stateNode;if(typeof F.componentDidMount=="function"){var j=v.return;try{F.componentDidMount()}catch(ht){U(v,j,ht)}}var $=v.return;try{ys(v)}catch(ht){U(v,$,ht)}break;case 5:var Y=v.return;try{ys(v)}catch(ht){U(v,Y,ht)}}}catch(ht){U(v,v.return,ht)}if(v===p){Ae=null;break}var lt=v.sibling;if(lt!==null){lt.return=v.return,Ae=lt;break}Ae=v.return}}var ph,Wn=Math.ceil,Pl=N.ReactCurrentDispatcher,Sc=N.ReactCurrentOwner,Zn=N.ReactCurrentBatchConfig,Tn=0,ti=null,li=null,No=0,Xa=0,Ec=Ta(0),co=0,Rc=null,Pu=0,Zo=0,fu=0,Ps=null,Ja=null,Tl=0,hu=1/0,fl=null,_n=!1,ic=null,ca=null,Jc=!1,Qa=null,hl=0,Ac=0,cf=null,xf=-1,Io=0;function fr(){return 6&Tn?ln():xf!==-1?xf:xf=ln()}function ta(p){return 1&p.mode?2&Tn&&No!==0?No&-No:Sl.transition!==null?(Io===0&&(Io=Bu()),Io):(p=qn)!==0?p:p=(p=window.event)===void 0?16:yl(p.type):1}function qr(p,v,D,F){if(50<Ac)throw Ac=0,cf=null,Error(e(185));Ru(p,D,F),2&Tn&&p===ti||(p===ti&&(!(2&Tn)&&(Zo|=D),co===4&&Zu(p,No)),Ir(p,F),D===1&&Tn===0&&!(1&v.mode)&&(hu=ln()+500,mi&&hs()))}function Ir(p,v){var D=p.callbackNode;(function($,Y){for(var lt=$.suspendedLanes,ht=$.pingedLanes,Mt=$.expirationTimes,$t=$.pendingLanes;0<$t;){var Gt=31-Xr($t),qt=1<<Gt,Qt=Mt[Gt];Qt===-1?qt&lt&&!(qt&ht)||(Mt[Gt]=kr(qt,Y)):Qt<=Y&&($.expiredLanes|=qt),$t&=~qt}})(p,v);var F=$i(p,p===ti?No:0);if(F===0)D!==null&&kc(D),p.callbackNode=null,p.callbackPriority=0;else if(v=F&-F,p.callbackPriority!==v){if(D!=null&&kc(D),v===1)p.tag===0?function($){mi=!0,Yl($)}(ff.bind(null,p)):Yl(ff.bind(null,p)),hc(function(){!(6&Tn)&&hs()}),D=null;else{switch(rl(F)){case 1:D=hr;break;case 4:D=Xi;break;case 16:default:D=es;break;case 536870912:D=Do}D=ut(D,Ma.bind(null,p))}p.callbackPriority=v,p.callbackNode=D}}function Ma(p,v){if(xf=-1,Io=0,6&Tn)throw Error(e(327));var D=p.callbackNode;if(_()&&p.callbackNode!==D)return null;var F=$i(p,p===ti?No:0);if(F===0)return null;if(30&F||F&p.expiredLanes||v)v=b(p,F);else{v=F;var j=Tn;Tn|=2;var $=l();for(ti===p&&No===v||(fl=null,hu=ln()+500,o(p,v));;)try{O();break}catch(lt){u(p,lt)}Uo(),Pl.current=$,Tn=j,li!==null?v=0:(ti=null,No=0,v=co)}if(v!==0){if(v===2&&(j=Fc(p))!==0&&(F=j,v=jc(p,j)),v===1)throw D=Rc,o(p,0),Zu(p,F),Ir(p,ln()),D;if(v===6)Zu(p,F);else{if(j=p.current.alternate,!(30&F||function(ht){for(var Mt=ht;;){if(16384&Mt.flags){var $t=Mt.updateQueue;if($t!==null&&($t=$t.stores)!==null)for(var Gt=0;Gt<$t.length;Gt++){var qt=$t[Gt],Qt=qt.getSnapshot;qt=qt.value;try{if(!on(Qt(),qt))return!1}catch{return!1}}}if($t=Mt.child,16384&Mt.subtreeFlags&&$t!==null)$t.return=Mt,Mt=$t;else{if(Mt===ht)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===ht)return!0;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}}return!0}(j)||(v=b(p,F),v===2&&($=Fc(p),$!==0&&(F=$,v=jc(p,$))),v!==1)))throw D=Rc,o(p,0),Zu(p,F),Ir(p,ln()),D;switch(p.finishedWork=j,p.finishedLanes=F,v){case 0:case 1:throw Error(e(345));case 2:case 5:A(p,Ja,fl);break;case 3:if(Zu(p,F),(130023424&F)===F&&10<(v=Tl+500-ln())){if($i(p,0)!==0)break;if(((j=p.suspendedLanes)&F)!==F){fr(),p.pingedLanes|=p.suspendedLanes&j;break}p.timeoutHandle=Wa(A.bind(null,p,Ja,fl),v);break}A(p,Ja,fl);break;case 4:if(Zu(p,F),(4194240&F)===F)break;for(v=p.eventTimes,j=-1;0<F;){var Y=31-Xr(F);$=1<<Y,(Y=v[Y])>j&&(j=Y),F&=~$}if(F=j,10<(F=(120>(F=ln()-F)?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*Wn(F/1960))-F)){p.timeoutHandle=Wa(A.bind(null,p,Ja,fl),F);break}A(p,Ja,fl);break;default:throw Error(e(329))}}}return Ir(p,ln()),p.callbackNode===D?Ma.bind(null,p):null}function jc(p,v){var D=Ps;return p.current.memoizedState.isDehydrated&&(o(p,v).flags|=256),(p=b(p,v))!==2&&(v=Ja,Ja=D,v!==null&&ws(v)),p}function ws(p){Ja===null?Ja=p:Ja.push.apply(Ja,p)}function Zu(p,v){for(v&=~fu,v&=~Zo,p.suspendedLanes|=v,p.pingedLanes&=~v,p=p.expirationTimes;0<v;){var D=31-Xr(v),F=1<<D;p[D]=-1,v&=~F}}function ff(p){if(6&Tn)throw Error(e(327));_();var v=$i(p,0);if(!(1&v))return Ir(p,ln()),null;var D=b(p,v);if(p.tag!==0&&D===2){var F=Fc(p);F!==0&&(v=F,D=jc(p,F))}if(D===1)throw D=Rc,o(p,0),Zu(p,v),Ir(p,ln()),D;if(D===6)throw Error(e(345));return p.finishedWork=p.current.alternate,p.finishedLanes=v,A(p,Ja,fl),Ir(p,ln()),null}function zf(p,v){var D=Tn;Tn|=1;try{return p(v)}finally{(Tn=D)===0&&(hu=ln()+500,mi&&hs())}}function oc(p){Qa!==null&&Qa.tag===0&&!(6&Tn)&&_();var v=Tn;Tn|=1;var D=Zn.transition,F=qn;try{if(Zn.transition=null,qn=1,p)return p()}finally{qn=F,Zn.transition=D,!(6&(Tn=v))&&hs()}}function Qc(){Xa=Ec.current,dr(Ec)}function o(p,v){p.finishedWork=null,p.finishedLanes=0;var D=p.timeoutHandle;if(D!==-1&&(p.timeoutHandle=-1,au(D)),li!==null)for(D=li.return;D!==null;){var F=D;switch(qa(F),F.tag){case 1:(F=F.type.childContextTypes)!=null&&Dl();break;case 3:Jo(),dr(Si),dr(Wi),$l();break;case 5:si(F);break;case 4:Jo();break;case 13:case 19:dr(mr);break;case 10:To(F.type._context);break;case 22:case 23:Qc()}D=D.return}if(ti=p,li=p=jt(p.current,null),No=Xa=v,co=0,Rc=null,fu=Zo=Pu=0,Ja=Ps=null,Xo!==null){for(v=0;v<Xo.length;v++)if((F=(D=Xo[v]).interleaved)!==null){D.interleaved=null;var j=F.next,$=D.pending;if($!==null){var Y=$.next;$.next=j,F.next=Y}D.pending=F}Xo=null}return p}function u(p,v){for(;;){var D=li;try{if(Uo(),Qo.current=If,Al){for(var F=Ue.memoizedState;F!==null;){var j=F.queue;j!==null&&(j.pending=null),F=F.next}Al=!1}if(ur=0,Kn=Dr=Ue=null,Zr=!1,Wl=0,Sc.current=null,D===null||D.return===null){co=1,Rc=v,li=null;break}t:{var $=p,Y=D.return,lt=D,ht=v;if(v=No,lt.flags|=32768,ht!==null&&typeof ht=="object"&&typeof ht.then=="function"){var Mt=ht,$t=lt,Gt=$t.tag;if(!(1&$t.mode||Gt!==0&&Gt!==11&&Gt!==15)){var qt=$t.alternate;qt?($t.updateQueue=qt.updateQueue,$t.memoizedState=qt.memoizedState,$t.lanes=qt.lanes):($t.updateQueue=null,$t.memoizedState=null)}var Qt=ec(Y);if(Qt!==null){Qt.flags&=-257,bf(Qt,Y,lt,0,v),1&Qt.mode&&Bc($,Mt,v),ht=Mt;var de=(v=Qt).updateQueue;if(de===null){var le=new Set;le.add(ht),v.updateQueue=le}else de.add(ht);break t}if(!(1&v)){Bc($,Mt,v),g();break t}ht=Error(e(426))}else if(wr&&1&lt.mode){var Wt=ec(Y);if(Wt!==null){!(65536&Wt.flags)&&(Wt.flags|=256),bf(Wt,Y,lt,0,v),al(tc(ht,lt));break t}}$=ht=tc(ht,lt),co!==4&&(co=2),Ps===null?Ps=[$]:Ps.push($),$=Y;do{switch($.tag){case 3:$.flags|=65536,v&=-v,$.lanes|=v,Nf($,Xu(0,ht,v));break t;case 1:lt=ht;var Dt=$.type,Ut=$.stateNode;if(!(128&$.flags||typeof Dt.getDerivedStateFromError!="function"&&(Ut===null||typeof Ut.componentDidCatch!="function"||ca!==null&&ca.has(Ut)))){$.flags|=65536,v&=-v,$.lanes|=v,Nf($,uf($,lt,v));break t}}$=$.return}while($!==null)}W(D)}catch(ne){v=ne,li===D&&D!==null&&(li=D=D.return);continue}break}}function l(){var p=Pl.current;return Pl.current=If,p===null?If:p}function g(){co!==0&&co!==3&&co!==2||(co=4),ti===null||!(268435455&Pu)&&!(268435455&Zo)||Zu(ti,No)}function b(p,v){var D=Tn;Tn|=2;var F=l();for(ti===p&&No===v||(fl=null,o(p,v));;)try{E();break}catch(j){u(p,j)}if(Uo(),Tn=D,Pl.current=F,li!==null)throw Error(e(261));return ti=null,No=0,co}function E(){for(;li!==null;)R(li)}function O(){for(;li!==null&&!hf();)R(li)}function R(p){var v=ph(p.alternate,p,Xa);p.memoizedProps=p.pendingProps,v===null?W(p):li=v,Sc.current=null}function W(p){var v=p;do{var D=v.alternate;if(p=v.return,32768&v.flags){if((D=ku(D,v))!==null)return D.flags&=32767,void(li=D);if(p===null)return co=6,void(li=null);p.flags|=32768,p.subtreeFlags=0,p.deletions=null}else if((D=Qu(D,v,Xa))!==null)return void(li=D);if((v=v.sibling)!==null)return void(li=v);li=v=p}while(v!==null);co===0&&(co=5)}function A(p,v,D){var F=qn,j=Zn.transition;try{Zn.transition=null,qn=1,function(Y,lt,ht,Mt){do _();while(Qa!==null);if(6&Tn)throw Error(e(327));ht=Y.finishedWork;var $t=Y.finishedLanes;if(ht===null)return null;if(Y.finishedWork=null,Y.finishedLanes=0,ht===Y.current)throw Error(e(177));Y.callbackNode=null,Y.callbackPriority=0;var Gt=ht.lanes|ht.childLanes;if(function(le,Wt){var Dt=le.pendingLanes&~Wt;le.pendingLanes=Wt,le.suspendedLanes=0,le.pingedLanes=0,le.expiredLanes&=Wt,le.mutableReadLanes&=Wt,le.entangledLanes&=Wt,Wt=le.entanglements;var Ut=le.eventTimes;for(le=le.expirationTimes;0<Dt;){var ne=31-Xr(Dt),Ie=1<<ne;Wt[ne]=0,Ut[ne]=-1,le[ne]=-1,Dt&=~Ie}}(Y,Gt),Y===ti&&(li=ti=null,No=0),!(2064&ht.subtreeFlags)&&!(2064&ht.flags)||Jc||(Jc=!0,ut(es,function(){return _(),null})),Gt=!!(15990&ht.flags),!!(15990&ht.subtreeFlags)||Gt){Gt=Zn.transition,Zn.transition=null;var qt=qn;qn=1;var Qt=Tn;Tn|=4,Sc.current=null,function(le,Wt){if(ki=ju,_a(le=il())){if("selectionStart"in le)var Dt={start:le.selectionStart,end:le.selectionEnd};else t:{var Ut=(Dt=(Dt=le.ownerDocument)&&Dt.defaultView||window).getSelection&&Dt.getSelection();if(Ut&&Ut.rangeCount!==0){Dt=Ut.anchorNode;var ne=Ut.anchorOffset,Ie=Ut.focusNode;Ut=Ut.focusOffset;try{Dt.nodeType,Ie.nodeType}catch{Dt=null;break t}var Rn=0,Te=-1,In=-1,rr=0,Jn=0,ei=le,Vl=null;e:for(;;){for(var ug;ei!==Dt||ne!==0&&ei.nodeType!==3||(Te=Rn+ne),ei!==Ie||Ut!==0&&ei.nodeType!==3||(In=Rn+Ut),ei.nodeType===3&&(Rn+=ei.nodeValue.length),(ug=ei.firstChild)!==null;)Vl=ei,ei=ug;for(;;){if(ei===le)break e;if(Vl===Dt&&++rr===ne&&(Te=Rn),Vl===Ie&&++Jn===Ut&&(In=Rn),(ug=ei.nextSibling)!==null)break;Vl=(ei=Vl).parentNode}ei=ug}Dt=Te===-1||In===-1?null:{start:Te,end:In}}else Dt=null}Dt=Dt||{start:0,end:0}}else Dt=null;for(Ss={focusedElem:le,selectionRange:Dt},ju=!1,Ae=Wt;Ae!==null;)if(le=(Wt=Ae).child,1028&Wt.subtreeFlags&&le!==null)le.return=Wt,Ae=le;else for(;Ae!==null;){Wt=Ae;try{var ev=Wt.alternate;if(1024&Wt.flags)switch(Wt.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ev!==null){var Ig=ev.memoizedProps,yb=ev.memoizedState,Dd=Wt.stateNode,x=Dd.getSnapshotBeforeUpdate(Wt.elementType===Wt.type?Ig:ms(Wt.type,Ig),yb);Dd.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=Wt.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;default:throw Error(e(163))}}catch(I){U(Wt,Wt.return,I)}if((le=Wt.sibling)!==null){le.return=Wt.return,Ae=le;break}Ae=Wt.return}return ev=se,se=!1,ev}(Y,ht),rh(ht,Y),oa(Ss),ju=!!ki,Ss=ki=null,Y.current=ht,en(ht),Mc(),Tn=Qt,qn=qt,Zn.transition=Gt}else Y.current=ht;if(Jc&&(Jc=!1,Qa=Y,hl=$t),Gt=Y.pendingLanes,Gt===0&&(ca=null),function(le){if(be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(De,le,void 0,!(128&~le.current.flags))}catch{}}(ht.stateNode),Ir(Y,ln()),lt!==null)for(Mt=Y.onRecoverableError,ht=0;ht<lt.length;ht++)$t=lt[ht],Mt($t.value,{componentStack:$t.stack,digest:$t.digest});if(_n)throw _n=!1,Y=ic,ic=null,Y;return 1&hl&&Y.tag!==0&&_(),Gt=Y.pendingLanes,1&Gt?Y===cf?Ac++:(Ac=0,cf=Y):Ac=0,hs(),null}(p,v,D,F)}finally{Zn.transition=j,qn=F}return null}function _(){if(Qa!==null){var p=rl(hl),v=Zn.transition,D=qn;try{if(Zn.transition=null,qn=16>p?16:p,Qa===null)var F=!1;else{if(p=Qa,Qa=null,hl=0,6&Tn)throw Error(e(331));var j=Tn;for(Tn|=4,Ae=p.current;Ae!==null;){var $=Ae,Y=$.child;if(16&Ae.flags){var lt=$.deletions;if(lt!==null){for(var ht=0;ht<lt.length;ht++){var Mt=lt[ht];for(Ae=Mt;Ae!==null;){var $t=Ae;switch($t.tag){case 0:case 11:case 15:vs(8,$t,$)}var Gt=$t.child;if(Gt!==null)Gt.return=$t,Ae=Gt;else for(;Ae!==null;){var qt=($t=Ae).sibling,Qt=$t.return;if(we($t),$t===Mt){Ae=null;break}if(qt!==null){qt.return=Qt,Ae=qt;break}Ae=Qt}}}var de=$.alternate;if(de!==null){var le=de.child;if(le!==null){de.child=null;do{var Wt=le.sibling;le.sibling=null,le=Wt}while(le!==null)}}Ae=$}}if(2064&$.subtreeFlags&&Y!==null)Y.return=$,Ae=Y;else t:for(;Ae!==null;){if(2048&($=Ae).flags)switch($.tag){case 0:case 11:case 15:vs(9,$,$.return)}var Dt=$.sibling;if(Dt!==null){Dt.return=$.return,Ae=Dt;break t}Ae=$.return}}var Ut=p.current;for(Ae=Ut;Ae!==null;){var ne=(Y=Ae).child;if(2064&Y.subtreeFlags&&ne!==null)ne.return=Y,Ae=ne;else t:for(Y=Ut;Ae!==null;){if(2048&(lt=Ae).flags)try{switch(lt.tag){case 0:case 11:case 15:Qe(9,lt)}}catch(Rn){U(lt,lt.return,Rn)}if(lt===Y){Ae=null;break t}var Ie=lt.sibling;if(Ie!==null){Ie.return=lt.return,Ae=Ie;break t}Ae=lt.return}}if(Tn=j,hs(),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(De,p)}catch{}F=!0}return F}finally{qn=D,Zn.transition=v}}return!1}function T(p,v,D){p=$s(p,v=Xu(0,v=tc(D,v),1),1),v=fr(),p!==null&&(Ru(p,1,v),Ir(p,v))}function U(p,v,D){if(p.tag===3)T(p,p,D);else for(;v!==null;){if(v.tag===3){T(v,p,D);break}if(v.tag===1){var F=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(ca===null||!ca.has(F))){v=$s(v,p=uf(v,p=tc(D,p),1),1),p=fr(),v!==null&&(Ru(v,1,p),Ir(v,p));break}}v=v.return}}function G(p,v,D){var F=p.pingCache;F!==null&&F.delete(v),v=fr(),p.pingedLanes|=p.suspendedLanes&D,ti===p&&(No&D)===D&&(co===4||co===3&&(130023424&No)===No&&500>ln()-Tl?o(p,0):fu|=D),Ir(p,v)}function Z(p,v){v===0&&(1&p.mode?(v=Tf,!(130023424&(Tf<<=1))&&(Tf=4194304)):v=1);var D=fr();(p=ds(p,v))!==null&&(Ru(p,v,D),Ir(p,D))}function K(p){var v=p.memoizedState,D=0;v!==null&&(D=v.retryLane),Z(p,D)}function tt(p,v){var D=0;switch(p.tag){case 13:var F=p.stateNode,j=p.memoizedState;j!==null&&(D=j.retryLane);break;case 19:F=p.stateNode;break;default:throw Error(e(314))}F!==null&&F.delete(v),Z(p,D)}function ut(p,v){return Gs(p,v)}function ot(p,v,D,F){this.tag=p,this.key=D,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(p,v,D,F){return new ot(p,v,D,F)}function yt(p){return!(!(p=p.prototype)||!p.isReactComponent)}function jt(p,v){var D=p.alternate;return D===null?((D=wt(p.tag,v,p.key,p.mode)).elementType=p.elementType,D.type=p.type,D.stateNode=p.stateNode,D.alternate=p,p.alternate=D):(D.pendingProps=v,D.type=p.type,D.flags=0,D.subtreeFlags=0,D.deletions=null),D.flags=14680064&p.flags,D.childLanes=p.childLanes,D.lanes=p.lanes,D.child=p.child,D.memoizedProps=p.memoizedProps,D.memoizedState=p.memoizedState,D.updateQueue=p.updateQueue,v=p.dependencies,D.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},D.sibling=p.sibling,D.index=p.index,D.ref=p.ref,D}function xt(p,v,D,F,j,$){var Y=2;if(F=p,typeof p=="function")yt(p)&&(Y=1);else if(typeof p=="string")Y=5;else t:switch(p){case z:return It(D.children,j,$,v);case q:Y=8,j|=8;break;case V:return(p=wt(12,D,v,2|j)).elementType=V,p.lanes=$,p;case ct:return(p=wt(13,D,v,j)).elementType=ct,p.lanes=$,p;case ft:return(p=wt(19,D,v,j)).elementType=ft,p.lanes=$,p;case kt:return ae(D,j,$,v);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case X:Y=10;break t;case nt:Y=9;break t;case it:Y=11;break t;case gt:Y=14;break t;case Ct:Y=16,F=null;break t}throw Error(e(130,p==null?p:typeof p,""))}return(v=wt(Y,D,v,j)).elementType=p,v.type=F,v.lanes=$,v}function It(p,v,D,F){return(p=wt(7,p,F,v)).lanes=D,p}function ae(p,v,D,F){return(p=wt(22,p,F,v)).elementType=kt,p.lanes=D,p.stateNode={isHidden:!1},p}function Ht(p,v,D){return(p=wt(6,p,null,v)).lanes=D,p}function ye(p,v,D){return(v=wt(4,p.children!==null?p.children:[],p.key,v)).lanes=D,v.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},v}function oe(p,v,D,F,j){this.tag=v,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pr(0),this.expirationTimes=pr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pr(0),this.identifierPrefix=F,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function xe(p,v,D,F,j,$,Y,lt,ht){return p=new oe(p,v,D,lt,ht),v===1?(v=1,$===!0&&(v|=8)):v=0,$=wt(3,null,null,v),p.current=$,$.stateNode=p,$.memoizedState={element:F,isDehydrated:D,cache:null,transitions:null,pendingSuspenseBoundaries:null},of($),p}function Ve(p){if(!p)return zs;t:{if(cs(p=p._reactInternals)!==p||p.tag!==1)throw Error(e(170));var v=p;do{switch(v.tag){case 3:v=v.stateNode.context;break t;case 1:if(Zi(v.type)){v=v.stateNode.__reactInternalMemoizedMergedChildContext;break t}}v=v.return}while(v!==null);throw Error(e(171))}if(p.tag===1){var D=p.type;if(Zi(D))return fs(p,D,v)}return v}function an(p,v,D,F,j,$,Y,lt,ht){return(p=xe(D,F,!0,p,0,$,0,lt,ht)).context=Ve(null),D=p.current,($=gr(F=fr(),j=ta(D))).callback=v??null,$s(D,$,j),p.current.lanes=j,Ru(p,j,F),Ir(p,F),p}function On(p,v,D,F){var j=v.current,$=fr(),Y=ta(j);return D=Ve(D),v.context===null?v.context=D:v.pendingContext=D,(v=gr($,Y)).payload={element:p},(F=F===void 0?null:F)!==null&&(v.callback=F),(p=$s(j,v,Y))!==null&&(qr(p,j,Y,$),Ga(p,j,Y)),Y}function Dn(p){return(p=p.current).child?(p.child.tag,p.child.stateNode):null}function nr(p,v){if((p=p.memoizedState)!==null&&p.dehydrated!==null){var D=p.retryLane;p.retryLane=D!==0&&D<v?D:v}}function Cr(p,v){nr(p,v),(p=p.alternate)&&nr(p,v)}ph=function(p,v,D){if(p!==null)if(p.memoizedProps!==v.pendingProps||Si.current)ia=!0;else{if(!(p.lanes&D||128&v.flags))return ia=!1,function(qt,Qt,de){switch(Qt.tag){case 3:gc(Qt),ps();break;case 5:er(Qt);break;case 1:Zi(Qt.type)&&Us(Qt);break;case 4:Yt(Qt,Qt.stateNode.containerInfo);break;case 10:var le=Qt.type._context,Wt=Qt.memoizedProps.value;ar(Eu,le._currentValue),le._currentValue=Wt;break;case 13:if((le=Qt.memoizedState)!==null)return le.dehydrated!==null?(ar(mr,1&mr.current),Qt.flags|=128,null):de&Qt.child.childLanes?lu(qt,Qt,de):(ar(mr,1&mr.current),(qt=lr(qt,Qt,de))!==null?qt.sibling:null);ar(mr,1&mr.current);break;case 19:if(le=!!(de&Qt.childLanes),128&qt.flags){if(le)return Le(qt,Qt,de);Qt.flags|=128}if((Wt=Qt.memoizedState)!==null&&(Wt.rendering=null,Wt.tail=null,Wt.lastEffect=null),ar(mr,mr.current),le)break;return null;case 22:case 23:return Qt.lanes=0,Fl(qt,Qt,de)}return lr(qt,Qt,de)}(p,v,D);ia=!!(131072&p.flags)}else ia=!1,wr&&1048576&v.flags&&na(v,Fn,v.index);switch(v.lanes=0,v.tag){case 2:var F=v.type;Qn(p,v),p=v.pendingProps;var j=Qs(v,Wi.current);eo(v,D),j=ao(null,v,F,p,j,D);var $=kl();return v.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(v.tag=1,v.memoizedState=null,v.updateQueue=null,Zi(F)?($=!0,Us(v)):$=!1,v.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,of(v),j.updater=af,v.stateNode=j,j._reactInternals=v,Rf(v,F,p,D),v=Lf(null,v,F,!0,$,D)):(v.tag=0,wr&&$&&Va(v),ka(null,v,j,D),v=v.child),v;case 16:F=v.elementType;t:{switch(Qn(p,v),p=v.pendingProps,F=(j=F._init)(F._payload),v.type=F,j=v.tag=function(qt){if(typeof qt=="function")return yt(qt)?1:0;if(qt!=null){if((qt=qt.$$typeof)===it)return 11;if(qt===gt)return 14}return 2}(F),p=ms(F,p),j){case 0:v=ll(null,v,F,p,D);break t;case 1:v=Mr(null,v,F,p,D);break t;case 11:v=Ju(null,v,F,p,D);break t;case 14:v=ks(null,v,F,ms(F.type,p),D);break t}throw Error(e(306,F,""))}return v;case 0:return F=v.type,j=v.pendingProps,ll(p,v,F,j=v.elementType===F?j:ms(F,j),D);case 1:return F=v.type,j=v.pendingProps,Mr(p,v,F,j=v.elementType===F?j:ms(F,j),D);case 3:t:{if(gc(v),p===null)throw Error(e(387));F=v.pendingProps,j=($=v.memoizedState).element,Ul(p,v),El(v,F,null,D);var Y=v.memoizedState;if(F=Y.element,$.isDehydrated){if($={element:F,isDehydrated:!1,cache:Y.cache,pendingSuspenseBoundaries:Y.pendingSuspenseBoundaries,transitions:Y.transitions},v.updateQueue.baseState=$,v.memoizedState=$,256&v.flags){v=Eo(p,v,F,D,j=tc(Error(e(423)),v));break t}if(F!==j){v=Eo(p,v,F,D,j=tc(Error(e(424)),v));break t}for(Yo=Sa(v.stateNode.containerInfo.firstChild),Ri=v,wr=!0,di=null,D=Zs(v,null,F,D),v.child=D;D;)D.flags=-3&D.flags|4096,D=D.sibling}else{if(ps(),F===j){v=lr(p,v,D);break t}ka(p,v,F,D)}v=v.child}return v;case 5:return er(v),p===null&&Jl(v),F=v.type,j=v.pendingProps,$=p!==null?p.memoizedProps:null,Y=j.children,fc(F,j)?Y=null:$!==null&&fc(F,$)&&(v.flags|=32),lf(p,v),ka(p,v,Y,D),v.child;case 6:return p===null&&Jl(v),null;case 13:return lu(p,v,D);case 4:return Yt(v,v.stateNode.containerInfo),F=v.pendingProps,p===null?v.child=Aa(v,null,F,D):ka(p,v,F,D),v.child;case 11:return F=v.type,j=v.pendingProps,Ju(p,v,F,j=v.elementType===F?j:ms(F,j),D);case 7:return ka(p,v,v.pendingProps,D),v.child;case 8:case 12:return ka(p,v,v.pendingProps.children,D),v.child;case 10:t:{if(F=v.type._context,j=v.pendingProps,$=v.memoizedProps,Y=j.value,ar(Eu,F._currentValue),F._currentValue=Y,$!==null)if(on($.value,Y)){if($.children===j.children&&!Si.current){v=lr(p,v,D);break t}}else for(($=v.child)!==null&&($.return=v);$!==null;){var lt=$.dependencies;if(lt!==null){Y=$.child;for(var ht=lt.firstContext;ht!==null;){if(ht.context===F){if($.tag===1){(ht=gr(-1,D&-D)).tag=2;var Mt=$.updateQueue;if(Mt!==null){var $t=(Mt=Mt.shared).pending;$t===null?ht.next=ht:(ht.next=$t.next,$t.next=ht),Mt.pending=ht}}$.lanes|=D,(ht=$.alternate)!==null&&(ht.lanes|=D),oo($.return,D,v),lt.lanes|=D;break}ht=ht.next}}else if($.tag===10)Y=$.type===v.type?null:$.child;else if($.tag===18){if((Y=$.return)===null)throw Error(e(341));Y.lanes|=D,(lt=Y.alternate)!==null&&(lt.lanes|=D),oo(Y,D,v),Y=$.sibling}else Y=$.child;if(Y!==null)Y.return=$;else for(Y=$;Y!==null;){if(Y===v){Y=null;break}if(($=Y.sibling)!==null){$.return=Y.return,Y=$;break}Y=Y.return}$=Y}ka(p,v,j.children,D),v=v.child}return v;case 9:return j=v.type,F=v.pendingProps.children,eo(v,D),F=F(j=Oo(j)),v.flags|=1,ka(p,v,F,D),v.child;case 14:return j=ms(F=v.type,v.pendingProps),ks(p,v,F,j=ms(F.type,j),D);case 15:return nh(p,v,v.type,v.pendingProps,D);case 17:return F=v.type,j=v.pendingProps,j=v.elementType===F?j:ms(F,j),Qn(p,v),v.tag=1,Zi(F)?(p=!0,Us(v)):p=!1,eo(v,D),sf(v,F,j),Rf(v,F,j,D),Lf(null,v,F,!0,p,D);case 19:return Le(p,v,D);case 22:return Fl(p,v,D)}throw Error(e(156,v.tag))};var Ao=typeof reportError=="function"?reportError:function(p){console.error(p)};function ro(p){this._internalRoot=p}function vo(p){this._internalRoot=p}function Kr(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)}function ss(p){return!(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11&&(p.nodeType!==8||p.nodeValue!==" react-mount-point-unstable "))}function Lr(){}function Za(p,v,D,F,j){var $=D._reactRootContainer;if($){var Y=$;if(typeof j=="function"){var lt=j;j=function(){var ht=Dn(Y);lt.call(ht)}}On(v,Y,p,j)}else Y=function(Mt,$t,Gt,qt,Qt){if(Qt){if(typeof qt=="function"){var de=qt;qt=function(){var Ut=Dn(le);de.call(Ut)}}var le=an($t,qt,Mt,0,null,!1,0,"",Lr);return Mt._reactRootContainer=le,Mt[Ho]=le.current,da(Mt.nodeType===8?Mt.parentNode:Mt),oc(),le}for(;Qt=Mt.lastChild;)Mt.removeChild(Qt);if(typeof qt=="function"){var Wt=qt;qt=function(){var Ut=Dn(Dt);Wt.call(Ut)}}var Dt=xe(Mt,0,!1,null,0,!1,0,"",Lr);return Mt._reactRootContainer=Dt,Mt[Ho]=Dt.current,da(Mt.nodeType===8?Mt.parentNode:Mt),oc(function(){On($t,Dt,Gt,qt)}),Dt}(D,v,p,j,F);return Dn(Y)}vo.prototype.render=ro.prototype.render=function(p){var v=this._internalRoot;if(v===null)throw Error(e(409));On(p,v,null,null)},vo.prototype.unmount=ro.prototype.unmount=function(){var p=this._internalRoot;if(p!==null){this._internalRoot=null;var v=p.containerInfo;oc(function(){On(null,p,null,null)}),v[Ho]=null}},vo.prototype.unstable_scheduleHydration=function(p){if(p){var v=uh();p={blockedOn:null,target:p,priority:v};for(var D=0;D<Jr.length&&v!==0&&v<Jr[D].priority;D++);Jr.splice(D,0,p),D===0&&ql(p)}},Zc=function(p){switch(p.tag){case 3:var v=p.stateNode;if(v.current.memoizedState.isDehydrated){var D=ze(v.pendingLanes);D!==0&&(Ji(v,1|D),Ir(v,ln()),!(6&Tn)&&(hu=ln()+500,hs()))}break;case 13:oc(function(){var F=ds(p,1);if(F!==null){var j=fr();qr(F,p,1,j)}}),Cr(p,1)}},wc=function(p){if(p.tag===13){var v=ds(p,134217728);v!==null&&qr(v,p,134217728,fr()),Cr(p,134217728)}},Mn=function(p){if(p.tag===13){var v=ta(p),D=ds(p,v);D!==null&&qr(D,p,v,fr()),Cr(p,v)}},uh=function(){return qn},Bn=function(p,v){var D=qn;try{return qn=p,v()}finally{qn=D}},vu=function(p,v,D){switch(v){case"input":if(Vt(p,D),v=D.name,D.type==="radio"&&v!=null){for(D=p;D.parentNode;)D=D.parentNode;for(D=D.querySelectorAll("input[name="+JSON.stringify(""+v)+'][type="radio"]'),v=0;v<D.length;v++){var F=D[v];if(F!==p&&F.form===p.form){var j=jo(F);if(!j)throw Error(e(90));He(F),Vt(F,j)}}}break;case"textarea":Xt(p,D);break;case"select":(v=D.value)!=null&&Ot(p,!!D.multiple,v,!1)}},Ol=zf,gl=oc;var Vp={usingClientEntryPoint:!1,Events:[Js,_o,jo,dl,Ns,zf]},Nh={findFiberByHostInstance:Po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:N.ReactCurrentDispatcher,findHostInstanceByFiber:function(p){return(p=vl(p))===null?null:p.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{De=Hh.inject(fm),be=Hh}catch{}}return Sd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vp,Sd.createPortal=function(p,v){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kr(v))throw Error(e(200));return function(j,$,Y){var lt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:lt==null?null:""+lt,children:j,containerInfo:$,implementation:Y}}(p,v,null,D)},Sd.createRoot=function(p,v){if(!Kr(p))throw Error(e(299));var D=!1,F="",j=Ao;return v!=null&&(v.unstable_strictMode===!0&&(D=!0),v.identifierPrefix!==void 0&&(F=v.identifierPrefix),v.onRecoverableError!==void 0&&(j=v.onRecoverableError)),v=xe(p,1,!1,null,0,D,0,F,j),p[Ho]=v.current,da(p.nodeType===8?p.parentNode:p),new ro(v)},Sd.findDOMNode=function(p){if(p==null)return null;if(p.nodeType===1)return p;var v=p._reactInternals;if(v===void 0)throw typeof p.render=="function"?Error(e(188)):(p=Object.keys(p).join(","),Error(e(268,p)));return p=(p=vl(v))===null?null:p.stateNode},Sd.flushSync=function(p){return oc(p)},Sd.hydrate=function(p,v,D){if(!ss(v))throw Error(e(200));return Za(null,p,v,!0,D)},Sd.hydrateRoot=function(p,v,D){if(!Kr(p))throw Error(e(405));var F=D!=null&&D.hydratedSources||null,j=!1,$="",Y=Ao;if(D!=null&&(D.unstable_strictMode===!0&&(j=!0),D.identifierPrefix!==void 0&&($=D.identifierPrefix),D.onRecoverableError!==void 0&&(Y=D.onRecoverableError)),v=an(v,null,p,1,D??null,j,0,$,Y),p[Ho]=v.current,da(p),F)for(p=0;p<F.length;p++)j=(j=(D=F[p])._getVersion)(D._source),v.mutableSourceEagerHydrationData==null?v.mutableSourceEagerHydrationData=[D,j]:v.mutableSourceEagerHydrationData.push(D,j);return new vo(v)},Sd.render=function(p,v,D){if(!ss(v))throw Error(e(200));return Za(null,p,v,!1,D)},Sd.unmountComponentAtNode=function(p){if(!ss(p))throw Error(e(40));return!!p._reactRootContainer&&(oc(function(){Za(null,null,p,!1,function(){p._reactRootContainer=null,p[Ho]=null})}),!0)},Sd.unstable_batchedUpdates=zf,Sd.unstable_renderSubtreeIntoContainer=function(p,v,D,F){if(!ss(D))throw Error(e(200));if(p==null||p._reactInternals===void 0)throw Error(e(38));return Za(p,v,D,!1,F)},Sd.version="18.3.1-next-f1338f8080-20240426",Sd}var m6,TH=function(){return m6||(m6=1,function t(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),f6.exports=nat()),f6.exports}(),rat=tat(TH),Ak=()=>Math.random().toString(36).substring(7).split("").join(".");`${Ak()}`,`${Ak()}`;var v6,y6={exports:{}},kk={},w6;/**
 * @license React
 * use-sync-external-store-with-selector.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){return w6||(w6=1,y6.exports=function(){if(v6)return kk;v6=1;var e=Vi,r=typeof Object.is=="function"?Object.is:function(h,m){return h===m&&(h!==0||1/h==1/m)||h!=h&&m!=m},i=e.useSyncExternalStore,a=e.useRef,s=e.useEffect,c=e.useMemo,f=e.useDebugValue;return kk.useSyncExternalStoreWithSelector=function(d,h,m,y,w){var C=a(null);if(C.current===null){var k={hasValue:!1,value:null};C.current=k}else k=C.current;C=c(function(){function N(V){if(!z){if(z=!0,B=V,V=y(V),w!==void 0&&k.hasValue){var X=k.value;if(w(X,V))return L=X}return L=V}if(X=L,r(B,V))return X;var nt=y(V);return w!==void 0&&w(X,nt)?X:(B=V,L=nt)}var B,L,z=!1,q=m===void 0?null:m;return[function(){return N(h())},q===null?void 0:function(){return N(q())}]},[h,m,y,w]);var M=i(d,C[0],C[1]);return s(function(){k.hasValue=!0,k.value=M},[M]),f(M),M},kk}()),y6.exports})();var Df="default"in _S?Vi:_S,b6=Symbol.for("react-redux-context"),x6=typeof globalThis<"u"?globalThis:{};function iat(){if(!Df.createContext)return{};const n=x6[b6]??(x6[b6]=new Map);let t=n.get(Df.createContext);return t||(t=Df.createContext(null),n.set(Df.createContext,t)),t}var oat=iat(),aat=Symbol.for("react.element"),sat=Symbol.for("react.portal"),uat=Symbol.for("react.fragment"),lat=Symbol.for("react.strict_mode"),cat=Symbol.for("react.profiler"),fat=Symbol.for("react.provider"),hat=Symbol.for("react.context"),pat=Symbol.for("react.server_context"),OH=Symbol.for("react.forward_ref"),dat=Symbol.for("react.suspense"),gat=Symbol.for("react.suspense_list"),aN=Symbol.for("react.memo"),mat=Symbol.for("react.lazy"),vat=OH,yat=aN;function wat(n){if(typeof n=="object"&&n!==null){const t=n.$$typeof;switch(t){case aat:{const e=n.type;switch(e){case uat:case cat:case lat:case dat:case gat:return e;default:{const r=e&&e.$$typeof;switch(r){case pat:case hat:case OH:case mat:case aN:case fat:return r;default:return t}}}}case sat:return t}}}function bat(n,t,e,r,{areStatesEqual:i,areOwnPropsEqual:a,areStatePropsEqual:s}){let c,f,d,h,m,y=!1;function w(C,k){const M=!a(k,f),N=!i(C,c,k,f);return c=C,f=k,M&&N?function(){return d=n(c,f),t.dependsOnOwnProps&&(h=t(r,f)),m=e(d,h,f),m}():M?function(){return n.dependsOnOwnProps&&(d=n(c,f)),t.dependsOnOwnProps&&(h=t(r,f)),m=e(d,h,f),m}():N?function(){const L=n(c,f),z=!s(L,d);return d=L,z&&(m=e(d,h,f)),m}():m}return function(k,M){return y?w(k,M):function(B,L){return c=B,f=L,d=n(c,f),h=t(r,f),m=e(d,h,f),y=!0,m}(k,M)}}function xat(n,{initMapStateToProps:t,initMapDispatchToProps:e,initMergeProps:r,...i}){const a=t(n,i),s=e(n,i),c=r(n,i);return bat(a,s,c,n,i)}function Mk(n){return function(e){const r=n(e);function i(){return r}return i.dependsOnOwnProps=!1,i}}function D6(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function C6(n,t){return function(r,{displayName:i}){const a=function(c,f){return a.dependsOnOwnProps?a.mapToProps(c,f):a.mapToProps(c,void 0)};return a.dependsOnOwnProps=!0,a.mapToProps=function(c,f){a.mapToProps=n,a.dependsOnOwnProps=D6(n);let d=a(c,f);return typeof d=="function"&&(a.mapToProps=d,a.dependsOnOwnProps=D6(d),d=a(c,f)),d},a}}function DP(n,t){return(e,r)=>{throw new Error(`Invalid value of type ${typeof n} for ${t} argument when connecting component ${r.wrappedComponentName}.`)}}function Dat(n,t,e){return{...e,...n,...t}}function Cat(n){return n?typeof n=="function"?function(e){return function(i,{displayName:a,areMergedPropsEqual:s}){let c,f=!1;return function(h,m,y){const w=e(h,m,y);return f?s(w,c)||(c=w):(f=!0,c=w),c}}}(n):DP(n,"mergeProps"):()=>Dat}var _6={notify(){},get:()=>[]};function _at(n,t){let e,r=_6,i=0,a=!1;function s(){d.onStateChange&&d.onStateChange()}function c(){i++,e||(e=t?t.addNestedSub(s):n.subscribe(s),r=function(){let m=null,y=null;return{clear(){m=null,y=null},notify(){(function(C){C()})(()=>{let w=m;for(;w;)w.callback(),w=w.next})},get(){const w=[];let C=m;for(;C;)w.push(C),C=C.next;return w},subscribe(w){let C=!0;const k=y={callback:w,next:null,prev:y};return k.prev?k.prev.next=k:m=k,function(){C&&m!==null&&(C=!1,k.next?k.next.prev=k.prev:y=k.prev,k.prev?k.prev.next=k.next:m=k.next)}}}}())}function f(){i--,e&&i===0&&(e(),e=void 0,r.clear(),r=_6)}const d={addNestedSub:function(m){c();const y=r.subscribe(m);let w=!1;return()=>{w||(w=!0,y(),f())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,c())},tryUnsubscribe:function(){a&&(a=!1,f())},getListeners:()=>r};return d}var Sat=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),Eat=typeof navigator<"u"&&navigator.product==="ReactNative",Fk=Sat||Eat?Df.useLayoutEffect:Df.useEffect;function S6(n,t){return n===t?n!==0||t!==0||1/n==1/t:n!=n&&t!=t}function Pk(n,t){if(S6(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),r=Object.keys(t);if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(!Object.prototype.hasOwnProperty.call(t,e[i])||!S6(n[e[i]],t[e[i]]))return!1;return!0}var Aat={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kat={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},NH={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Mat={[vat]:{$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},[yat]:NH};function E6(n){return function(e){return wat(e)===aN}(n)?NH:Mat[n.$$typeof]||Aat}var Fat=Object.defineProperty,Pat=Object.getOwnPropertyNames,A6=Object.getOwnPropertySymbols,Tat=Object.getOwnPropertyDescriptor,Oat=Object.getPrototypeOf,k6=Object.prototype;function CP(n,t){if(typeof t!="string"){if(k6){const a=Oat(t);a&&a!==k6&&CP(n,a)}let e=Pat(t);A6&&(e=e.concat(A6(t)));const r=E6(n),i=E6(t);for(let a=0;a<e.length;++a){const s=e[a];if(!(kat[s]||i&&i[s]||r&&r[s])){const c=Tat(t,s);try{Fat(n,s,c)}catch{}}}}return n}var IH=()=>{throw new Error("uSES not initialized!")},Nat=[null,null];function Iat(n,t,e,r,i,a){n.current=r,e.current=!1,i.current&&(i.current=null,a())}function Bat(n,t){return n===t}var BH=function(t,e,r,{pure:i,areStatesEqual:a=Bat,areOwnPropsEqual:s=Pk,areStatePropsEqual:c=Pk,areMergedPropsEqual:f=Pk,forwardRef:d=!1,context:h=oat}={}){const m=h,y=function(N){return N?typeof N=="function"?C6(N):DP(N,"mapStateToProps"):Mk(()=>({}))}(t),w=function(N){return N&&typeof N=="object"?Mk(B=>function(z,q){const V={};for(const X in z){const nt=z[X];typeof nt=="function"&&(V[X]=(...it)=>q(nt(...it)))}return V}(N,B)):N?typeof N=="function"?C6(N):DP(N,"mapDispatchToProps"):Mk(B=>({dispatch:B}))}(e),C=Cat(r),k=!!t;return M=>{const N=M.displayName||M.name||"Component",B=`Connect(${N})`,L={shouldHandleStateChanges:k,displayName:B,wrappedComponentName:N,WrappedComponent:M,initMapStateToProps:y,initMapDispatchToProps:w,initMergeProps:C,areStatesEqual:a,areStatePropsEqual:c,areOwnPropsEqual:s,areMergedPropsEqual:f};function z(V){const[X,nt,it]=Df.useMemo(()=>{const{reactReduxForwardedRef:nn,...cr}=V;return[V.context,nn,cr]},[V]),ct=Df.useMemo(()=>{let nn=m;return X!=null&&X.Consumer,nn},[X,m]),ft=Df.useContext(ct),gt=!!V.store&&!!V.store.getState&&!!V.store.dispatch,Ct=!!ft&&!!ft.store,kt=gt?V.store:ft.store,Tt=Ct?ft.getServerState:kt.getState,At=Df.useMemo(()=>xat(kt.dispatch,L),[kt]),[Zt,_t]=Df.useMemo(()=>{if(!k)return Nat;const nn=_at(kt,gt?void 0:ft.subscription),cr=nn.notifyNestedSubs.bind(nn);return[nn,cr]},[kt,gt,ft]),Et=Df.useMemo(()=>gt?ft:{...ft,subscription:Zt},[gt,ft,Zt]),mt=Df.useRef(void 0),vt=Df.useRef(it),Lt=Df.useRef(void 0),ee=Df.useRef(!1),pe=Df.useRef(!1),ve=Df.useRef(void 0);Fk(()=>(pe.current=!0,()=>{pe.current=!1}),[]);const Oe=Df.useMemo(()=>()=>Lt.current&&it===vt.current?Lt.current:At(kt.getState(),it),[kt,it]),qe=Df.useMemo(()=>nn=>Zt?function(bi,Vt,rt,dt,bt,Ot,Bt,Rt,Xt,Kt,ge){if(!bi)return()=>{};let Ee=!1,Ze=null;const Xe=()=>{if(Ee||!Rt.current)return;const Se=Vt.getState();let je,rn;try{je=dt(Se,bt.current)}catch(zi){rn=zi,Ze=zi}rn||(Ze=null),je===Ot.current?Bt.current||Kt():(Ot.current=je,Xt.current=je,Bt.current=!0,ge())};return rt.onStateChange=Xe,rt.trySubscribe(),Xe(),()=>{if(Ee=!0,rt.tryUnsubscribe(),rt.onStateChange=null,Ze)throw Ze}}(k,kt,Zt,At,vt,mt,ee,pe,Lt,_t,nn):()=>{},[Zt]);let He;(function(cr,bi,Vt){Fk(()=>cr(...bi),Vt)})(Iat,[vt,mt,ee,it,Lt,_t]);try{He=IH(qe,Oe,Tt?()=>At(Tt(),it):Oe)}catch(nn){throw ve.current&&(nn.message+=`
The error may be correlated with this previous error:
${ve.current.stack}

`),nn}Fk(()=>{ve.current=void 0,Lt.current=void 0,mt.current=He});const wn=Df.useMemo(()=>Df.createElement(M,{...He,ref:nt}),[nt,M,He]);return Df.useMemo(()=>k?Df.createElement(ct.Provider,{value:Et},wn):wn,[ct,wn,Et])}const q=Df.memo(z);if(q.WrappedComponent=M,q.displayName=z.displayName=B,d){const V=Df.forwardRef(function(nt,it){return Df.createElement(q,{...nt,reactReduxForwardedRef:it})});return V.displayName=B,V.WrappedComponent=M,CP(V,M)}return CP(q,M)}};function RH(n,t){var e=re.useState(function(){return{inputs:t,result:n()}})[0],r=re.useRef(!0),i=re.useRef(e),a=r.current||!!(t&&i.current.inputs&&function(f,d){if(f.length!==d.length)return!1;for(var h=0;h<f.length;h++)if(f[h]!==d[h])return!1;return!0}(t,i.current.inputs)),s=a?i.current:{inputs:t,result:n()};return re.useEffect(function(){r.current=!1,i.current=s},[s]),s.result}(n=>{IH=n})(re.useSyncExternalStore);var ad=RH,wp=function(t,e){return RH(function(){return t},e)},Rat="Invariant failed";function jat(n,t){throw new Error(Rat)}var mw=function(t){var e=t.top,r=t.right,i=t.bottom,a=t.left;return{top:e,right:r,bottom:i,left:a,width:r-a,height:i-e,x:a,y:e,center:{x:(r+a)/2,y:(i+e)/2}}},jH=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},M6=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},Tk={top:0,right:0,bottom:0,left:0},sN=function(t){var e=t.borderBox,r=t.margin,i=r===void 0?Tk:r,a=t.border,s=a===void 0?Tk:a,c=t.padding,f=c===void 0?Tk:c,d=mw(jH(e,i)),h=mw(M6(e,s)),m=mw(M6(h,f));return{marginBox:d,borderBox:mw(e),paddingBox:h,contentBox:m,margin:i,border:s,padding:f}},dg=function(t){var e=t.slice(0,-2);if(t.slice(-2)!=="px")return 0;var r=Number(e);return isNaN(r)&&jat(),r},Lat=function(t,e){var r=t.borderBox,i=t.border,a=t.margin,s=t.padding,c=function(d,h){return{top:d.top+h.y,left:d.left+h.x,bottom:d.bottom+h.y,right:d.right+h.x}}(r,e);return sN({borderBox:c,border:i,margin:a,padding:s})},_P=function(t,e){return e===void 0&&(e=function(){return{x:window.pageXOffset,y:window.pageYOffset}}()),Lat(t,e)},LH=function(t,e){var r={top:dg(e.marginTop),right:dg(e.marginRight),bottom:dg(e.marginBottom),left:dg(e.marginLeft)},i={top:dg(e.paddingTop),right:dg(e.paddingRight),bottom:dg(e.paddingBottom),left:dg(e.paddingLeft)},a={top:dg(e.borderTopWidth),right:dg(e.borderRightWidth),bottom:dg(e.borderBottomWidth),left:dg(e.borderLeftWidth)};return sN({borderBox:t,margin:r,padding:i,border:a})},F6=function(t){var e=t.getBoundingClientRect(),r=window.getComputedStyle(t);return LH(e,r)},P6=Number.isNaN||function(t){return typeof t=="number"&&t!=t};function zat(n,t){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(r=n[e],i=t[e],!(r===i||P6(r)&&P6(i)))return!1;var r,i;return!0}function Np(n,t){t===void 0&&(t=zat);var e=null;function r(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];if(e&&e.lastThis===this&&t(i,e.lastArgs))return e.lastResult;var s=n.apply(this,i);return e={lastResult:s,lastArgs:i,lastThis:this},s}return r.clear=function(){e=null},r}var Uat=function(t){var e=[],r=null,i=function(){for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];e=c,r||(r=requestAnimationFrame(function(){r=null,t.apply(void 0,e)}))};return i.cancel=function(){r&&(cancelAnimationFrame(r),r=null)},i};function zH(n,t){}zH.bind(null,"warn");zH.bind(null,"error");function $at(){}function Wat(n,t,e){const r=t.map(i=>{const a=function(c,f){return{...c,...f}}(e,i.options);return n.addEventListener(i.eventName,i.fn,a),function(){n.removeEventListener(i.eventName,i.fn,a)}});return function(){r.forEach(a=>{a()})}}const Hat="Invariant failed";class F2 extends Error{}function Jd(n,t){throw new F2(Hat)}F2.prototype.toString=function(){return this.message};class Kgt extends Vi.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=$at,this.onWindowError=e=>{const r=this.getCallbacks();r.isDragging()&&r.tryAbort(),e.error instanceof F2&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Wat(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof F2)return void this.setState({});throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const by={x:0,y:0},Vat=(n,t)=>({x:n.x-t.x,y:n.y-t.y}),qat=(n,t)=>n.x===t.x&&n.y===t.y,Kat=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),Gat=(n,t,e=0)=>n==="x"?{x:t,y:e}:{x:e,y:t},Yat=(n,t)=>({top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}),Xat=(n,t)=>t&&t.shouldClipSubject?((e,r)=>{const i=mw({top:Math.max(r.top,e.top),right:Math.min(r.right,e.right),bottom:Math.min(r.bottom,e.bottom),left:Math.max(r.left,e.left)});return i.width<=0||i.height<=0?null:i})(t.pageMarginBox,n):mw(n);var Jat=({page:n,withPlaceholder:t,axis:e,frame:r})=>{const i=((s,c)=>c?Yat(s,c.scroll.diff.displacement):s)(n.marginBox,r),a=((s,c,f)=>f&&f.increasedBy?{...s,[c.end]:s[c.end]+f.increasedBy[c.line]}:s)(i,e,t);return{page:n,withPlaceholder:t,active:Xat(a,r)}};Np(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{}));Np(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{}));const Qat=Np(n=>Object.values(n)),Zat=Np(n=>Object.values(n));Np((n,t)=>Zat(t).filter(r=>n===r.descriptor.droppableId).sort((r,i)=>r.descriptor.index-i.descriptor.index));function tst(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}Np((n,t)=>t.filter(e=>e.descriptor.id!==n.descriptor.id));const est={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},nst={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};Np(function(t,e){const r=e[t.line];return{value:r,point:Gat(t.line,r)}});var aS=n=>{const t=n.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const rst=()=>({type:"DROP_ANIMATION_FINISHED",payload:null}),UH="cubic-bezier(.2,1,.1,1)",SP={drop:0,combining:.7},$H={drop:.75},ist={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},O0=`${ist.outOfTheWay}s cubic-bezier(0.2, 0, 0, 1)`,sS={fluid:`opacity ${O0}`,snap:`transform ${O0}, opacity ${O0}`,drop:n=>{const t=`${n}s ${UH}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${O0}`,placeholder:`height ${O0}, width ${O0}, margin ${O0}`},WH=n=>qat(n,by)?void 0:`translate(${n.x}px, ${n.y}px)`,T6=WH,ost=(n,t)=>{const e=WH(n);if(e)return t?`${e} scale(${$H.drop})`:e};var HH=({scrollHeight:n,scrollWidth:t,height:e,width:r})=>{const i=Vat({x:t,y:n},{x:r,y:e});return{x:Math.max(0,i.x),y:Math.max(0,i.y)}},ast=()=>{const n=document.documentElement;return n||Jd(),n},sst=()=>{const n=ast();return HH({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})};Np(n=>Qat(n).filter(t=>!!t.isEnabled&&!!t.frame));const ust="data-rfd",O6={contextId:`${ust}-scroll-container-context-id`},xx=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?re.useLayoutEffect:re.useEffect;var VH=Vi.createContext(null);const lst={separator:"::"};function qH(n,t=lst){const e=Vi.useId();return ad(()=>`${n}${t.separator}${e}`,[t.separator,n,e])}var uN=Vi.createContext(null);function cst(n){const t=re.useRef(n);return re.useEffect(()=>{t.current=n}),t}function EP(n){return n.phase!=="IDLE"&&n.phase!=="DROP_ANIMATING"&&n.isDragging}const fst=5e3,hst=4500,pst=(n,t)=>t?sS.drop(t.duration):n?sS.snap:sS.fluid,dst=(n,t)=>{if(n)return t?SP.drop:SP.combining};function gst(n){return n.type==="DRAGGING"?function(e){const r=e.dimension.client,{offset:i,combineWith:a,dropping:s}=e,c=!!a,f=(m=>m.forceShouldAnimate!=null?m.forceShouldAnimate:m.mode==="SNAP")(e),d=!!s,h=d?ost(i,c):T6(i);return{position:"fixed",top:r.marginBox.top,left:r.marginBox.left,boxSizing:"border-box",width:r.borderBox.width,height:r.borderBox.height,transition:pst(f,s),transform:h,opacity:dst(c,d),zIndex:d?hst:fst,pointerEvents:"none"}}(n):function(e){return{transform:T6(e.offset),transition:e.shouldAnimateDisplacement?void 0:"none"}}(n)}function mst(n){const t=qH("draggable"),{descriptor:e,registry:r,getDraggableRef:i,canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}=n,f=ad(()=>({canDragInteractiveElements:a,shouldRespectForcePress:s,isEnabled:c}),[a,c,s]),d=wp(w=>{const C=i();return C||Jd(),function(M,N,B=by){const L=window.getComputedStyle(N),z=N.getBoundingClientRect(),q=LH(z,L),V=_P(q,B);return{descriptor:M,placeholder:{client:q,tagName:N.tagName.toLowerCase(),display:L.display},displaceBy:{x:q.marginBox.width,y:q.marginBox.height},client:q,page:V}}(e,C,w)},[e,i]),h=ad(()=>({uniqueId:t,descriptor:e,options:f,getDimension:d}),[e,d,f,t]),m=re.useRef(h),y=re.useRef(!0);xx(()=>(r.draggable.register(m.current),()=>r.draggable.unregister(m.current)),[r.draggable]),xx(()=>{if(y.current)return void(y.current=!1);const w=m.current;m.current=h,r.draggable.update(h,w)},[h,r.draggable])}var lN=Vi.createContext(null);function P2(n){const t=re.useContext(n);return t||Jd(),t}function vst(n){n.preventDefault()}var KH=(n,t)=>n===t,GH=n=>{const{combine:t,destination:e}=n;return e?e.droppableId:t?t.droppableId:null};function YH(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const yst={mapped:{type:"SECONDARY",offset:by,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:YH(null)}},wst=BH(()=>{const n=function(){const r=Np((s,c)=>({x:s,y:c})),i=Np((s,c,f=null,d=null,h=null)=>({isDragging:!0,isClone:c,isDropAnimating:!!h,dropAnimation:h,mode:s,draggingOver:f,combineWith:d,combineTargetFor:null})),a=Np((s,c,f,d,h=null,m=null,y=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:h,combineWith:m,mode:c,offset:s,dimension:f,forceShouldAnimate:y,snapshot:i(c,d,h,m,null)}}));return(s,c)=>{if(EP(s)){if(s.critical.draggable.id!==c.draggableId)return null;const d=s.current.client.offset,h=s.dimensions.draggables[c.draggableId],m=aS(s.impact),y=(f=s.impact).at&&f.at.type==="COMBINE"?f.at.combine.draggableId:null,w=s.forceShouldAnimate;return a(r(d.x,d.y),s.movementMode,h,c.isClone,m,y,w)}var f;if(s.phase==="DROP_ANIMATING"){const d=s.completed;if(d.result.draggableId!==c.draggableId)return null;const h=c.isClone,m=s.dimensions.draggables[c.draggableId],y=d.result,w=y.mode,C=GH(y),k=(N=>N.combine?N.combine.draggableId:null)(y),M={duration:s.dropDuration,curve:UH,moveTo:s.newHomeClientOffset,opacity:k?SP.drop:null,scale:k?$H.drop:null};return{mapped:{type:"DRAGGING",offset:s.newHomeClientOffset,dimension:m,dropping:M,draggingOver:C,combineWith:k,mode:w,forceShouldAnimate:null,snapshot:i(w,h,C,k,M)}}}return null}}(),t=function(){const r=Np((f,d)=>({x:f,y:d})),i=Np(YH),a=Np((f,d=null,h)=>({mapped:{type:"SECONDARY",offset:f,combineTargetFor:d,shouldAnimateDisplacement:h,snapshot:i(d)}})),s=f=>f?a(by,f,!0):null,c=(f,d,h,m)=>{const y=h.displaced.visible[f],w=!!(m.inVirtualList&&m.effected[f]),C=tst(h),k=C&&C.draggableId===f?d:null;if(!y){if(!w)return s(k);if(h.displaced.invisible[f])return null;const B=Kat(m.displacedBy.point),L=r(B.x,B.y);return a(L,k,!0)}if(w)return s(k);const M=h.displacedBy.point,N=r(M.x,M.y);return a(N,k,y.shouldAnimate)};return(f,d)=>{if(EP(f))return f.critical.draggable.id===d.draggableId?null:c(d.draggableId,f.critical.draggable.id,f.impact,f.afterCritical);if(f.phase==="DROP_ANIMATING"){const h=f.completed;return h.result.draggableId===d.draggableId?null:c(d.draggableId,h.result.draggableId,h.impact,h.afterCritical)}return null}}();return(e,r)=>n(e,r)||t(e,r)||yst},{dropAnimationFinished:rst},null,{context:VH,areStatePropsEqual:KH})(n=>{const t=re.useRef(null),e=wp((V=null)=>{t.current=V},[]),r=wp(()=>t.current,[]),{contextId:i,dragHandleUsageInstructionsId:a,registry:s}=P2(uN),{type:c,droppableId:f}=P2(lN),d=ad(()=>({id:n.draggableId,index:n.index,type:c,droppableId:f}),[n.draggableId,n.index,c,f]),{children:h,draggableId:m,isEnabled:y,shouldRespectForcePress:w,canDragInteractiveElements:C,isClone:k,mapped:M,dropAnimationFinished:N}=n;k||mst(ad(()=>({descriptor:d,registry:s,getDraggableRef:r,canDragInteractiveElements:C,shouldRespectForcePress:w,isEnabled:y}),[d,s,r,C,w,y]));const B=ad(()=>y?{tabIndex:0,role:"button","aria-describedby":a,"data-rfd-drag-handle-draggable-id":m,"data-rfd-drag-handle-context-id":i,draggable:!1,onDragStart:vst}:null,[i,a,m,y]),L=wp(V=>{M.type==="DRAGGING"&&M.dropping&&V.propertyName==="transform"&&TH.flushSync(N)},[N,M]),z=ad(()=>{const V=gst(M),X=M.type==="DRAGGING"&&M.dropping?L:void 0;return{innerRef:e,draggableProps:{"data-rfd-draggable-context-id":i,"data-rfd-draggable-id":m,style:V,onTransitionEnd:X},dragHandleProps:B}},[i,B,m,M,L,e]),q=ad(()=>({draggableId:d.id,type:d.type,source:{index:d.index,droppableId:d.droppableId}}),[d.droppableId,d.id,d.index,d.type]);return Vi.createElement(Vi.Fragment,null,h(z,M.snapshot,q))});function bst(n){return P2(lN).isUsingCloneFor!==n.draggableId||n.isClone?Vi.createElement(wst,n):null}const XH=n=>t=>n===t,xst=XH("scroll"),Dst=XH("auto"),N6=(n,t)=>t(n.overflowX)||t(n.overflowY),Cst=n=>{const t=window.getComputedStyle(n),e={overflowX:t.overflowX,overflowY:t.overflowY};return N6(e,xst)||N6(e,Dst)},JH=n=>n==null?null:n===document.body?!1?n:null:n===document.documentElement?null:Cst(n)?n:JH(n.parentElement);var AP=n=>({x:n.scrollLeft,y:n.scrollTop});const QH=n=>n?window.getComputedStyle(n).position==="fixed"||QH(n.parentElement):!1;var _st=({ref:n,descriptor:t,env:e,windowScroll:r,direction:i,isDropDisabled:a,isCombineEnabled:s,shouldClipSubject:c})=>{const f=e.closestScrollable,d=((w,C)=>{const k=F6(w);if(!C||w!==C)return k;const M=k.paddingBox.top-C.scrollTop,N=k.paddingBox.left-C.scrollLeft,B=M+C.scrollHeight,L=N+C.scrollWidth,z=jH({top:M,right:L,bottom:B,left:N},k.border);return sN({borderBox:z,margin:k.margin,border:k.border,padding:k.padding})})(n,f),h=_P(d,r),m=(()=>{if(!f)return null;const w=F6(f),C={scrollHeight:f.scrollHeight,scrollWidth:f.scrollWidth};return{client:w,page:_P(w,r),scroll:AP(f),scrollSize:C,shouldClipSubject:c}})();return(({descriptor:w,isEnabled:C,isCombineEnabled:k,isFixedOnPage:M,direction:N,client:B,page:L,closest:z})=>{const q=(()=>{if(!z)return null;const{scrollSize:X,client:nt}=z,it=HH({scrollHeight:X.scrollHeight,scrollWidth:X.scrollWidth,height:nt.paddingBox.height,width:nt.paddingBox.width});return{pageMarginBox:z.page.marginBox,frameClient:nt,scrollSize:X,shouldClipSubject:z.shouldClipSubject,scroll:{initial:z.scroll,current:z.scroll,max:it,diff:{value:by,displacement:by}}}})(),V=N==="vertical"?est:nst;return{descriptor:w,isCombineEnabled:k,isFixedOnPage:M,axis:V,isEnabled:C,client:B,page:L,frame:q,subject:Jat({page:L,withPlaceholder:null,axis:V,frame:q})}})({descriptor:t,isEnabled:!a,isCombineEnabled:s,isFixedOnPage:e.isFixedOnPage,direction:i,client:d,page:h,closest:m})};const Sst={passive:!1},Est={passive:!0};var I6=n=>n.shouldPublishImmediately?Sst:Est;const VC=n=>n&&n.env.closestScrollable||null;function Ast(n){const t=re.useRef(null),e=P2(uN),r=qH("droppable"),{registry:i,marshal:a}=e,s=cst(n),c=ad(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),f=re.useRef(c),d=ad(()=>Np((z,q)=>{t.current||Jd();const V={x:z,y:q};a.updateDroppableScroll(c.id,V)}),[c.id,a]),h=wp(()=>{const z=t.current;return z&&z.env.closestScrollable?AP(z.env.closestScrollable):by},[]),m=wp(()=>{const z=h();d(z.x,z.y)},[h,d]),y=ad(()=>Uat(m),[m]),w=wp(()=>{const z=t.current,q=VC(z);z&&q||Jd(),z.scrollOptions.shouldPublishImmediately?m():y()},[y,m]),C=wp((z,q)=>{t.current&&Jd();const V=s.current,X=V.getDroppableRef();X||Jd();const nt=(gt=>({closestScrollable:JH(gt),isFixedOnPage:QH(gt)}))(X),it={ref:X,descriptor:c,env:nt,scrollOptions:q};t.current=it;const ct=_st({ref:X,descriptor:c,env:nt,windowScroll:z,direction:V.direction,isDropDisabled:V.isDropDisabled,isCombineEnabled:V.isCombineEnabled,shouldClipSubject:!V.ignoreContainerClipping}),ft=nt.closestScrollable;return ft&&(ft.setAttribute(O6.contextId,e.contextId),ft.addEventListener("scroll",w,I6(it.scrollOptions))),ct},[e.contextId,c,w,s]),k=wp(()=>{const z=t.current,q=VC(z);return z&&q||Jd(),AP(q)},[]),M=wp(()=>{const z=t.current;z||Jd();const q=VC(z);t.current=null,q&&(y.cancel(),q.removeAttribute(O6.contextId),q.removeEventListener("scroll",w,I6(z.scrollOptions)))},[w,y]),N=wp(z=>{const q=t.current;q||Jd();const V=VC(q);V||Jd(),V.scrollTop+=z.y,V.scrollLeft+=z.x},[]),B=ad(()=>({getDimensionAndWatchScroll:C,getScrollWhileDragging:k,dragStopped:M,scroll:N}),[M,C,k,N]),L=ad(()=>({uniqueId:r,descriptor:c,callbacks:B}),[B,c,r]);xx(()=>(f.current=L.descriptor,i.droppable.register(L),()=>{t.current&&M(),i.droppable.unregister(L)}),[B,c,M,L,a,i.droppable]),xx(()=>{t.current&&a.updateDroppableIsEnabled(f.current.id,!n.isDropDisabled)},[n.isDropDisabled,a]),xx(()=>{t.current&&a.updateDroppableIsCombineEnabled(f.current.id,n.isCombineEnabled)},[n.isCombineEnabled,a])}function Ok(){}const kst={width:0,height:0,margin:{top:0,right:0,bottom:0,left:0}},Mst=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>{const r=(({isAnimatingOpenOnMount:i,placeholder:a,animate:s})=>i||s==="close"?kst:{height:a.client.borderBox.height,width:a.client.borderBox.width,margin:a.client.margin})({isAnimatingOpenOnMount:n,placeholder:t,animate:e});return{display:t.display,boxSizing:"border-box",width:r.width,height:r.height,marginTop:r.margin.top,marginRight:r.margin.right,marginBottom:r.margin.bottom,marginLeft:r.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:e!=="none"?sS.placeholder:null}};var Fst=Vi.memo(n=>{const t=re.useRef(null),e=wp(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:r,onTransitionEnd:i,onClose:a,contextId:s}=n,[c,f]=re.useState(n.animate==="open");re.useEffect(()=>c?r!=="open"?(e(),f(!1),Ok):t.current?Ok:(t.current=setTimeout(()=>{t.current=null,f(!1)}),e):Ok,[r,c,e]);const d=wp(m=>{m.propertyName==="height"&&(i(),r==="close"&&a())},[r,a,i]),h=Mst({isAnimatingOpenOnMount:c,animate:n.animate,placeholder:n.placeholder});return Vi.createElement(n.placeholder.tagName,{style:h,"data-rfd-placeholder-context-id":s,onTransitionEnd:d,ref:n.innerRef})});class Pst extends Vi.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const B6={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:function(){return document.body||Jd(),document.body}},R6=n=>{let t,e={...n};for(t in B6)n[t]===void 0&&(e={...e,[t]:B6[t]});return e},Nk=(n,t)=>n===t.droppable.type,j6=(n,t)=>t.draggables[n.draggable.id];BH(()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...n,shouldAnimatePlaceholder:!1},e=Np(i=>({draggableId:i.id,type:i.type,source:{index:i.index,droppableId:i.droppableId}})),r=Np((i,a,s,c,f,d)=>{const h=f.descriptor.id;if(f.descriptor.droppableId===i){const y=d?{render:d,dragging:e(f.descriptor)}:null,w={isDraggingOver:s,draggingOverWith:s?h:null,draggingFromThisWith:h,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:w,useClone:y}}if(!a)return t;if(!c)return n;const m={isDraggingOver:s,draggingOverWith:h,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:m,useClone:null}});return(i,a)=>{const s=R6(a),c=s.droppableId,f=s.type,d=!s.isDropDisabled,h=s.renderClone;if(EP(i)){const m=i.critical;if(!Nk(f,m))return t;const y=j6(m,i.dimensions),w=aS(i.impact)===c;return r(c,d,w,w,y,h)}if(i.phase==="DROP_ANIMATING"){const m=i.completed;if(!Nk(f,m.critical))return t;const y=j6(m.critical,i.dimensions);return r(c,d,GH(m.result)===c,aS(m.impact)===c,y,h)}if(i.phase==="IDLE"&&i.completed&&!i.shouldFlush){const m=i.completed;if(!Nk(f,m.critical))return t;const y=aS(m.impact)===c,w=!!(m.impact.at&&m.impact.at.type==="COMBINE"),C=m.critical.droppable.id===c;return y?w?n:t:C?n:t}return t}},{updateViewportMaxScroll:n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n})},(n,t,e)=>({...R6(e),...n,...t}),{context:VH,areStatePropsEqual:KH})(n=>{const t=re.useContext(uN);t||Jd();const{contextId:e,isMovementAllowed:r}=t,i=re.useRef(null),a=re.useRef(null),{children:s,droppableId:c,type:f,mode:d,direction:h,ignoreContainerClipping:m,isDropDisabled:y,isCombineEnabled:w,snapshot:C,useClone:k,updateViewportMaxScroll:M,getContainerForClone:N}=n,B=wp(()=>i.current,[]),L=wp((ct=null)=>{i.current=ct},[]);wp(()=>a.current,[]);const z=wp((ct=null)=>{a.current=ct},[]),q=wp(()=>{r()&&M({maxScroll:sst()})},[r,M]);Ast({droppableId:c,type:f,mode:d,direction:h,isDropDisabled:y,isCombineEnabled:w,ignoreContainerClipping:m,getDroppableRef:B});const V=ad(()=>Vi.createElement(Pst,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:ct,data:ft,animate:gt})=>Vi.createElement(Fst,{placeholder:ft,onClose:ct,innerRef:z,animate:gt,contextId:e,onTransitionEnd:q})),[e,q,n.placeholder,n.shouldAnimatePlaceholder,z]),X=ad(()=>({innerRef:L,placeholder:V,droppableProps:{"data-rfd-droppable-id":c,"data-rfd-droppable-context-id":e}}),[e,c,V,L]),nt=k?k.dragging.draggableId:null,it=ad(()=>({droppableId:c,type:f,isUsingCloneFor:nt}),[c,nt,f]);return Vi.createElement(lN.Provider,{value:it},s(X,C),function(){if(!k)return null;const{dragging:ft,render:gt}=k,Ct=Vi.createElement(bst,{draggableId:ft.draggableId,index:ft.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(kt,Tt)=>gt(kt,Tt,ft));return rat.createPortal(Ct,N())}())});function Tst(n){var t=n.onCommit,e=t===void 0?function(Et){}:t,r=n.isValid,i=r===void 0?function(Et){return!0}:r,a=n.initialValue,s=a===void 0?"":a,c=n.color,f=c===void 0?"var(--gray7)":c,d=n.bgColor,h=d===void 0?"var(--gray3)":d,m=n.bgActive,y=m===void 0?"var(--gray4)":m,w=n.bgInvalidInput,C=w===void 0?"var(--danger)":w,k=n.invalidInputColor,M=k===void 0?"var(--gray2)":k,N=n.charSize,B=N===void 0?void 0:N,L=n.maxCharSize,z=L===void 0?30:L,q=Vi.useState(!1),V=q[0],X=q[1],nt=Vi.useState(!0),it=nt[0],ct=nt[1],ft=function(){return Math.random().toString(36).substring(7)},gt=Vi.useState(ft()),Ct=gt[0],kt=gt[1],Tt=Vi.useState(B||s.length),At=Tt[0],Zt=Tt[1],_t=function(){X(!1),ct(!0),kt(ft())};return fe.jsx("input",{type:"text",defaultValue:s,size:At,style:{backgroundColor:V?it?y:C:h,color:it?f:M,border:"none",padding:"5px",paddingLeft:"10px",borderRadius:"var(--borderRadiusSmall)",minWidth:"100px",fontSize:"16px"},readOnly:!V,onFocus:function(){return X(!0)},onChange:function(Et){ct(i(Et.target.value)),B||(Et.target.value.length<=z?Zt(Et.target.value.length):Zt(z))},onBlur:function(Et){it?(_t(),e(Et.target.value)):(Et.target.value=s,_t())},onKeyDown:function(Et){Et.key==="Enter"&&(it?(_t(),e(Et.target.value)):_t())}},Ct)}function Ost(n){var t=n.iconName,e=t===void 0?"home":t,r=n.bgColor,i=r===void 0?"transparent":r,a=n.hoverBgColor,s=a===void 0?"var(--gray3)":a,c=n.color,f=c===void 0?"var(--gray6)":c,d=n.hoverColor,h=d===void 0?"var(--gray7)":d,m=n.cursor,y=m===void 0?"pointer":m,w=n.onClick,C=w===void 0?function(){}:w,k=Vi.useState(!1),M=k[0],N=k[1];return fe.jsx("div",{style:{userSelect:"none",width:"35px",height:"35px",margin:"5px",cursor:y,borderRadius:"50%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",textAlign:"center",backgroundColor:M?s:i,transition:"background-color 0.2s",fontSize:"20px",color:M?h:f},className:"materialSymbols",onMouseOver:function(){return N(!0)},onMouseOut:function(){return N(!1)},onClick:C,children:fe.jsxs("div",{children:[" ",e]})})}function Nst(n){var t=n.text,e=t===void 0?void 0:t,r=n.iconName,i=r===void 0?void 0:r,a=n.bgColor,s=a===void 0?"var(--gray3)":a,c=n.hoverBgColor,f=c===void 0?"var(--gray4)":c,d=n.color,h=d===void 0?"var(--gray7)":d,m=n.hoverColor,y=m===void 0?"var(--gray8)":m,w=n.cursor,C=w===void 0?"pointer":w,k=n.onClick,M=k===void 0?function(){}:k,N=Vi.useState(!1),B=N[0],L=N[1];return fe.jsxs("button",{onMouseOver:function(){return L(!0)},onMouseOut:function(){return L(!1)},onClick:M,style:{overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center",padding:"0px",cursor:C,height:"35px",margin:"5px",userSelect:"none",backgroundColor:B?f:s,transition:"background-color 0.2s",fontSize:"var(--defaultFontSize)",color:B?y:h,border:"none",borderRadius:"5px"},children:[e?fe.jsx("div",{style:{marginTop:"2px",marginRight:i?"2px":"15px",marginLeft:"15px"},children:e}):null,i?fe.jsx("div",{style:{marginRight:e?"0px":"10px",marginLeft:e?"0px":"10px"},children:fe.jsx(Ost,{iconName:i,color:B?y:h,hoverColor:B?y:h,bgColor:"transparent",hoverBgColor:"transparent"})}):null]})}(function(t,e){e===void 0&&(e={});var r=e.insertAt;if(typeof document<"u"){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&i.firstChild?i.insertBefore(a,i.firstChild):i.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}})(`
/* Box sizing rules */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Prevent font size inflation */
html {
  -moz-text-size-adjust: none;
  -webkit-text-size-adjust: none;
  text-size-adjust: none;
}

/* Remove default margin in favour of better control in authored CSS */
body, h1, h2, h3, h4, p,
figure, blockquote, dl, dd {
  margin-block-end: 0;
}

/* Remove list styles on ul, ol elements with a list role, which suggests default styling will be removed */
ul[role='list'],
ol[role='list'] {
  list-style: none;
}

/* Set core body defaults */
body {
  min-height: 100vh;
  line-height: 1.5;
}

/* Set shorter line heights on headings and interactive elements */
h1, h2, h3, h4,
button, input, label {
  line-height: 1.1;
}

/* Balance text wrapping on headings */
h1, h2,
h3, h4 {
  text-wrap: balance;
}

/* A elements that don't have a class get default styles */
a:not([class]) {
  text-decoration-skip-ink: auto;
  color: currentColor;
}

/* Make images easier to work with */
img,
picture {
  max-width: 100%;
  display: block;
}

/* Inherit fonts for inputs and buttons */
input, button,
textarea, select {
  font-family: inherit;
  font-size: inherit;
}

input:focus {
    outline: none;
  }
  

/* Make sure textareas without a rows attribute are not tiny */
textarea:not([rows]) {
  min-height: 10em;
}

/* Anything that has been anchored to should have extra scroll margin */
:target {
  scroll-margin-block: 5ex;
}




@font-face {
    font-family: 'Material Symbols';
    src: url('https://storage.googleapis.com/pinsandcurvesfontservice/MaterialSymbolsSharp%5BFILL%2CGRAD%2Copsz%2Cwght%5D.woff2') format('woff');
    font-weight: normal;
    font-style: normal;
}

.materialSymbols {
    font-family: 'Material Symbols';
    font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 48;
}

:root {
    --gray1: #1D2126;
    --gray2: #2C333A;
    --gray3: #3B434B;
    --gray4: #49525B;
    --gray5: #59646E;
    --gray6: #708090;
    --gray7 : #C6D6E6;
    --gray8 : white;
    --danger: pink;

    --green2: #6EBD6F;
    --green1: #84D585;
    --green3: #429A44;
    --green4: #1D471E;

    --yellow1: #FFF8D3;
    --yellow2: #FFF1A8;
    --yellow3: #E6C622;
    --yellow4: #A48E20;

    --borderRadiusSmall: 5px;

    --defaultFontSize: 16px;


    font-family: 'Roboto', sans-serif;
}

hr {
    border: none;
    border-top: 2px solid var(--gray3);
    margin: 1em 0;
  
}`);var kP=function(n,t){return kP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},kP(n,t)},Kh=function(){return Kh=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},Kh.apply(this,arguments)};function kv(n,t,e){for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}function gd(n,t){return[n[0]+t[0],n[1]+t[1]]}function up(n,t){return[n[0]-t[0],n[1]-t[1]]}function uS(n,t){return[n[0]*t[0],n[1]*t[1]]}function xy(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function L6(n,t){return n[0]*t[0]+n[1]*t[1]}function qC(n,t){return[n[0]*t,n[1]*t]}function Hy(n,t){var e=[n[0][0],n[0][1],n[2][0],n[2][1]],r=e[0],i=e[1],a=e[2],s=e[3],c=[t[0][0],t[0][1],t[2][0],t[2][1]];return!(r>c[2]||a<c[0]||i>c[3]||s<c[1])}var xs=function(){function n(t,e,r){t===void 0&&(t=[0,0]),e===void 0&&(e=0),r===void 0&&(r=0),this._o=t,this._w=e,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(t){this._o=t},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(t){var e={x:t[0],y:t[1]},r=e.x,i=e.y,a={oX:this.o[0],oY:this.o[1]},s=a.oX,c=a.oY;return!(r<s||r>s+this.w||i<c||i>c+this.h)},n.prototype.clone=function(){return new n(kv([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,gd(this.o,[this.w,0]),gd(this.o,[this.w,this.h]),gd(this.o,[0,this.h])]},n.prototype.getCenter=function(){return gd(this.o,[this.w/2,this.h/2])},n}(),el=function(n){function t(){var e=n.call(this)||this;return e.layer=0,e.children=[],e._isPrimaryCamera=!1,e._needsUpdate=!1,e._needsUpdate_root=!1,e.updateWhenCameraChanges=!1,e.state=void 0,e.context={},e.windowDidMountPrimitiveIsRunning=!1,e.childIndex=0,e.isCanvasRoot=!1,e.props={},e.globalPositioning=!1,e}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=e}kP(e,r),e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}(t,n),Object.defineProperty(t.prototype,"_cameraSnapshot",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.canvas},enumerable:!1,configurable:!0}),t.prototype.setAsPrimaryCamera=function(){var e;(e=this._root)===null||e===void 0||e.installCamera(this)},t.prototype.setState=function(e){var r,i;if(this.state===e)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=e:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(a){a.updateWhenCameraChanges&&(a._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,e))},t.prototype.setContext=function(e,r){var i,a;this.windowDidMountPrimitiveIsRunning?this.context[e]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[e]=r,(a=this._root)===null||a===void 0||a.scheduleContextUpdate(this,e,r))},t.prototype.windowDidMountPrimitive=function(e){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(e),this.windowDidMountPrimitiveIsRunning=!1},t.prototype.windowDidMount=function(e){},t.prototype.windowDidUpdate=function(e){},t.prototype.cameraDidUpdate=function(){},t.prototype.windowWillUnmount=function(){},t.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var e=this.getBox();return this._boxSnapshot=e,e},t.prototype.getBox=function(){return new xs([0,0],0,0)},Object.defineProperty(t.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),t.prototype.cameraPassUpdateSelf=function(){var e,r,i=this;this._isPrimaryCamera?(e=this._root)===null||e===void 0||e.windows.forEach(function(a){var s;(s=i._root)===null||s===void 0||s.taintLayer(a.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(Kh({},this.props)))},t.prototype.cameraPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(c){return c(e)}),i=this.children.filter(function(c){return!r.includes(c)}),a=r.filter(function(c){return!e.children.includes(c)});this.children=r,i.forEach(function(c){return c.windowWillUnmount()}),a.forEach(function(c){return c.windowDidMountPrimitive(c.props)});var s=this.children.find(function(c){return c._needsUpdate});this.children.forEach(function(c){c._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},t.prototype.regularPassUpdateSelf=function(){var e;this._boxSnapshot=void 0,(e=this._root)===null||e===void 0||e.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(Kh({},this.props))},t.prototype.regularPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(e)}),i=this.children.filter(function(s){return!r.includes(s)}),a=r.filter(function(s){return!e.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),a.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},t.prototype.getChildren=function(e){return[]},t.prototype.incChildIndex=function(){this.childIndex++},t.Node=function(e){var r=this,i=this.name;return function(a){if(a.isCanvasRoot){var s=void 0;return(s=new r)._root=a,s.setKey("root"),s.props=e||{},s.context=Kh({},s.context),s}var c=a.childIndex;e||(e={});var f=e.key?e.key:"".concat(i,"[").concat(c,"]");return s=void 0,a.children.findIndex(function(d){return d.key===f})!==-1?s=a.children.find(function(d){return d.key===f}):((s=new r)._parent=a,s._root=a._root,s.setKey(f)),s.props=Kh({},e),s.context=Kh(Kh({},s.context),a.context),a.incChildIndex(),s}},Object.defineProperty(t.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),t.prototype.getChildByKey=function(e){return this.children.find(function(r){return r.key===e})},t.prototype.getBoundingBox=function(){var e=this.globalO,r=e[0],i=e[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},t.prototype.pointInside=function(e){return n.prototype.pointInside.call(this,up(e,this.parentO))},Object.defineProperty(t.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var e=this._parent.globalO,r=e[0],i=e[1],a=this.o;return[r+a[0],i+a[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),t.prototype.getLayer=function(){return this.layer},t.prototype.setLayer=function(e){this.layer=e},t.prototype.setKey=function(e){this.key=e},Object.defineProperty(t.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),t.prototype.absoluteToCanvasMeasure=function(e){return uS(e,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},t.prototype.canvasToAbsoluteMeasure=function(e){return uS(e,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(t.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),t.prototype.prepareHandlerProps=function(){var e=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),a=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,c=this.absoluteUnit,f=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:a,camera:e,canvasUnit:s,canvasO:f,absoluteUnit:c}},t.prototype.preparePostBoxHandlerProps=function(){var e=this,r=this._cameraSnapshot,i=this._canvas,a=function(c){var f=e.globalO,d=c[0],h=c[1],m=[f[0]+d,f[1]+h],y=m[0],w=m[1],C=r.o,k=[y-C[0],w-C[1]],M=k[1];return[k[0]*(i.width/r.w),M*(i.height/r.h)]},s=a([0,0]);return Kh(Kh({},this.prepareHandlerProps()),{localToCanvas:a,canvasToLocal:function(c){var f=e.globalO;return up(gd(uS(c,[r.w/i.width,r.h/i.height]),r.o),f)},absoluteO:s})},t.prototype.prepareMouseHandlerProps=function(e,r){var i=this.preparePostBoxHandlerProps(),a=this.canvasUnit,s=a[0],c=a[1],f=this.canvasO,d=f[0],h=f[1],m=[d+e[0]*s,h+e[1]*c],y=up(m,this.globalO),w=this.pointInside(m);return Kh(Kh({},i),{relativePos:y,canvasPos:e,absolutePos:m,pointInside:w,terminateEvent:r})},t.prototype.prepareWheelHandlerProps=function(e){var r=this.preparePostBoxHandlerProps();return Kh(Kh({},r),{terminateEvent:e})},t.prototype.renderPrimitive=function(e){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(Kh(Kh({},r),{ctx:e}))}},t.prototype.render=function(e){},t.prototype.onMouseDownPrimitive=function(e,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseDown=function(e,r){},t.prototype.onMouseMovePrimitive=function(e,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseMove=function(e,r){},t.prototype.onMouseUpPrimitive=function(e,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseUp=function(e,r){},t.prototype.onClickPrimitive=function(e,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onClick=function(e,r){},t.prototype.onWheelPrimitive=function(e,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(e),r)},t.prototype.onWheel=function(e,r){},t.prototype.strokeOutline=function(e,r){e.ctx.strokeStyle=r;var i=e.absoluteO,a=e.absoluteUnit,s=i[0],c=i[1],f=a[0],d=a[1];e.ctx.strokeRect(s,c,this.w*f,this.h*d)},t}(xs),Nb={},z6,KC,GC,YC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},XC={exports:{}},Ist=(z6||(z6=1,KC=XC,GC=XC.exports,(function(){var n,t="Expected a function",e="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,a=128,s=1/0,c=9007199254740991,f=NaN,d=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],m="[object Arguments]",y="[object Array]",w="[object Boolean]",C="[object Date]",k="[object Error]",M="[object Function]",N="[object GeneratorFunction]",B="[object Map]",L="[object Number]",z="[object Object]",q="[object Promise]",V="[object RegExp]",X="[object Set]",nt="[object String]",it="[object Symbol]",ct="[object WeakMap]",ft="[object ArrayBuffer]",gt="[object DataView]",Ct="[object Float32Array]",kt="[object Float64Array]",Tt="[object Int8Array]",At="[object Int16Array]",Zt="[object Int32Array]",_t="[object Uint8Array]",Et="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",Lt=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,qe=RegExp(ve.source),He=RegExp(Oe.source),wn=/<%-([\s\S]+?)%>/g,nn=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(dt.source),Ot=/^\s+/,Bt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Kt=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,zi=/^\[object .+?Constructor\]$/,Yi=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,xo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ai=/($^)/,us=/['\n\r\u2028\u2029\\]/g,ko="\\ud800-\\udfff",vu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ja="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",yu="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ol="["+ko+"]",gl="["+Ns+"]",Pa="["+vu+"]",ml="\\d+",wu="["+ja+"]",Ou="["+ls+"]",Ks="[^"+ko+Ns+ml+ja+ls+yu+"]",Nu="\\ud83c[\\udffb-\\udfff]",ts="[^"+ko+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",ho="["+yu+"]",Iu="\\u200d",nu="(?:"+Ou+"|"+Ks+")",cs="(?:"+ho+"|"+Ks+")",nl="(?:['](?:d|ll|m|re|s|t|ve))?",Nl="(?:['](?:D|LL|M|RE|S|T|VE))?",vl="(?:"+Pa+"|"+Nu+")?",bu="["+dl+"]?",Gs=bu+vl+"(?:"+Iu+"(?:"+[ts,fa,ba].join("|")+")"+bu+vl+")*",kc="(?:"+[wu,fa,ba].join("|")+")"+Gs,hf="(?:"+[ts+Pa+"?",Pa,fa,ba,Ol].join("|")+")",Mc=RegExp("[']","g"),ln=RegExp(Pa,"g"),Vn=RegExp(Nu+"(?="+Nu+")|"+hf+Gs,"g"),hr=RegExp([ho+"?"+Ou+"+"+nl+"(?="+[gl,ho,"$"].join("|")+")",cs+"+"+Nl+"(?="+[gl,ho+nu,"$"].join("|")+")",ho+"?"+nu+"+"+nl,ho+"+"+Nl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml,kc].join("|"),"g"),Xi=RegExp("["+Iu+ko+vu+dl+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ru=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,De={};De[Ct]=De[kt]=De[Tt]=De[At]=De[Zt]=De[_t]=De[Et]=De[mt]=De[vt]=!0,De[m]=De[y]=De[ft]=De[w]=De[gt]=De[C]=De[k]=De[M]=De[B]=De[L]=De[z]=De[V]=De[X]=De[nt]=De[ct]=!1;var be={};be[m]=be[y]=be[ft]=be[gt]=be[w]=be[C]=be[Ct]=be[kt]=be[Tt]=be[At]=be[Zt]=be[B]=be[L]=be[z]=be[V]=be[X]=be[nt]=be[it]=be[_t]=be[Et]=be[mt]=be[vt]=!0,be[k]=be[M]=be[ct]=!1;var Xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xa=parseFloat,tp=parseInt,Kc=typeof YC=="object"&&YC&&YC.Object===Object&&YC,Tf=typeof self=="object"&&self&&self.Object===Object&&self,ze=Kc||Tf||Function("return this")(),$i=GC&&!GC.nodeType&&GC,kr=$i&&KC&&!KC.nodeType&&KC,Fc=kr&&kr.exports===$i,Bu=Fc&&Kc.process,pr=function(){try{return kr&&kr.require&&kr.require("util").types||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),Ru=pr&&pr.isArrayBuffer,Ji=pr&&pr.isDate,qn=pr&&pr.isMap,rl=pr&&pr.isRegExp,Zc=pr&&pr.isSet,wc=pr&&pr.isTypedArray;function Mn(J,st,et){switch(et.length){case 0:return J.call(st);case 1:return J.call(st,et[0]);case 2:return J.call(st,et[0],et[1]);case 3:return J.call(st,et[0],et[1],et[2])}return J.apply(st,et)}function uh(J,st,et,pt){for(var Nt=-1,Jt=J==null?0:J.length;++Nt<Jt;){var Fe=J[Nt];st(pt,Fe,et(Fe),J)}return pt}function Bn(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt&&st(J[et],et,J)!==!1;);return J}function tf(J,st){for(var et=J==null?0:J.length;et--&&st(J[et],et,J)!==!1;);return J}function Cs(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(!st(J[et],et,J))return!1;return!0}function Br(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];st(Fe,et,J)&&(Jt[Nt++]=Fe)}return Jt}function br(J,st){return!(J==null||!J.length)&&Ii(J,st,0)>-1}function xi(J,st,et){for(var pt=-1,Nt=J==null?0:J.length;++pt<Nt;)if(et(st,J[pt]))return!0;return!1}function Be(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=Array(pt);++et<pt;)Nt[et]=st(J[et],et,J);return Nt}function Er(J,st){for(var et=-1,pt=st.length,Nt=J.length;++et<pt;)J[Nt+et]=st[et];return J}function Jr(J,st,et,pt){var Nt=-1,Jt=J==null?0:J.length;for(pt&&Jt&&(et=J[++Nt]);++Nt<Jt;)et=st(et,J[Nt],Nt,J);return et}function ef(J,st,et,pt){var Nt=J==null?0:J.length;for(pt&&Nt&&(et=J[--Nt]);Nt--;)et=st(et,J[Nt],Nt,J);return et}function Is(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(st(J[et],et,J))return!0;return!1}var uc=Da("length");function ql(J,st,et){var pt;return et(J,function(Nt,Jt,Fe){if(st(Nt,Jt,Fe))return pt=Jt,!1}),pt}function jr(J,st,et,pt){for(var Nt=J.length,Jt=et+(pt?1:-1);pt?Jt--:++Jt<Nt;)if(st(J[Jt],Jt,J))return Jt;return-1}function Ii(J,st,et){return st==st?function(pt,Nt,Jt){for(var Fe=Jt-1,mn=pt.length;++Fe<mn;)if(pt[Fe]===Nt)return Fe;return-1}(J,st,et):jr(J,Bs,et)}function bc(J,st,et,pt){for(var Nt=et-1,Jt=J.length;++Nt<Jt;)if(pt(J[Nt],st))return Nt;return-1}function Bs(J){return J!=J}function xu(J,st){var et=J==null?0:J.length;return et?Ys(J,st)/et:f}function Da(J){return function(st){return st==null?n:st[J]}}function ju(J){return function(st){return J==null?n:J[st]}}function Pc(J,st,et,pt,Nt){return Nt(J,function(Jt,Fe,mn){et=pt?(pt=!1,Jt):st(et,Jt,Fe,mn)}),et}function Ys(J,st){for(var et,pt=-1,Nt=J.length;++pt<Nt;){var Jt=st(J[pt]);Jt!==n&&(et=et===n?Jt:et+Jt)}return et}function Il(J,st){for(var et=-1,pt=Array(J);++et<J;)pt[et]=st(et);return pt}function Bl(J){return J&&J.slice(0,La(J)+1).replace(Ot,"")}function Ln(J){return function(st){return J(st)}}function yl(J,st){return Be(st,function(et){return J[et]})}function fi(J,st){return J.has(st)}function wl(J,st){for(var et=-1,pt=J.length;++et<pt&&Ii(st,J[et],0)>-1;);return et}function Xs(J,st){for(var et=J.length;et--&&Ii(st,J[et],0)>-1;);return et}var Gc=ju({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Tc=ju({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lu(J){return"\\"+Xr[J]}function ha(J){return Xi.test(J)}function Gi(J){var st=-1,et=Array(J.size);return J.forEach(function(pt,Nt){et[++st]=[Nt,pt]}),et}function zu(J,st){return function(et){return J(st(et))}}function Di(J,st){for(var et=-1,pt=J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];Fe!==st&&Fe!==r||(J[et]=r,Jt[Nt++]=et)}return Jt}function ns(J){var st=-1,et=Array(J.size);return J.forEach(function(pt){et[++st]=pt}),et}function Wr(J){return ha(J)?function(st){for(var et=Vn.lastIndex=0;Vn.test(st);)++et;return et}(J):uc(J)}function xr(J){return ha(J)?function(st){return st.match(Vn)||[]}(J):function(st){return st.split("")}(J)}function La(J){for(var st=J.length;st--&&Bt.test(J.charAt(st)););return st}var lc=ju({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Co=function J(st){var et,pt=(st=st==null?ze:Co.defaults(ze.Object(),st,Co.pick(ze,ru))).Array,Nt=st.Date,Jt=st.Error,Fe=st.Function,mn=st.Math,zt=st.Object,Ne=st.RegExp,ke=st.String,Pe=st.TypeError,vr=pt.prototype,Ci=Fe.prototype,hi=zt.prototype,Ca=st["__core-js_shared__"],pi=Ci.toString,Ce=hi.hasOwnProperty,kh=0,_i=(et=/[^.]+$/.exec(Ca&&Ca.keys&&Ca.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"",Rs=hi.toString,Yc=pi.call(zt),pf=ze._,lh=Ne("^"+pi.call(Ce).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iu=Fc?st.Buffer:n,tr=st.Symbol,js=st.Uint8Array,Rl=iu?iu.allocUnsafe:n,ea=zu(zt.getPrototypeOf,zt),Yf=zt.create,Oc=hi.propertyIsEnumerable,Uu=vr.splice,jl=tr?tr.isConcatSpreadable:n,io=tr?tr.iterator:n,Bo=tr?tr.toStringTag:n,za=function(){try{var o=si(zt,"defineProperty");return o({},"",{}),o}catch{}}(),nf=st.clearTimeout!==ze.clearTimeout&&st.clearTimeout,Xf=Nt&&Nt.now!==ze.Date.now&&Nt.now,Of=st.setTimeout!==ze.setTimeout&&st.setTimeout,Ua=mn.ceil,$u=mn.floor,ou=zt.getOwnPropertySymbols,xc=iu?iu.isBuffer:n,Nc=st.isFinite,Wh=vr.join,Lh=zu(zt.keys,zt),sn=mn.max,on=mn.min,pa=Nt.now,Du=st.parseInt,df=mn.random,xh=vr.reverse,il=si(st,"DataView"),_a=si(st,"Map"),oa=si(st,"Promise"),ii=si(st,"Set"),Ko=si(st,"WeakMap"),aa=si(zt,"create"),sa=Ko&&new Ko,Mo={},gf=so(il),bl=so(_a),cc=so(oa),rf=so(ii),Jf=so(Ko),rs=tr?tr.prototype:n,is=rs?rs.valueOf:n,Ll=rs?rs.toString:n;function P(o){if(Le(o)&&!ie(o)&&!(o instanceof ce)){if(o instanceof or)return o;if(Ce.call(o,"__wrapped__"))return Au(o)}return new or(o)}var Go=function(){function o(){}return function(u){if(!We(u))return{};if(Yf)return Yf(u);o.prototype=u;var l=new o;return o.prototype=n,l}}();function Pt(){}function or(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}function ce(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function vn(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function Fr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function St(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new Fr;++u<l;)this.add(o[u])}function zn(o){var u=this.__data__=new vn(o);this.size=u.size}function Wu(o,u){var l=ie(o),g=!l&&Eo(o),b=!l&&!g&&Nr(o),E=!l&&!g&&!b&&xn(o),O=l||g||b||E,R=O?Il(o.length,ke):[],W=R.length;for(var A in o)!u&&!Ce.call(o,A)||O&&(A=="length"||b&&(A=="offset"||A=="parent")||E&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ur(A,W))||R.push(A);return R}function En(o){var u=o.length;return u?o[fs(0,u-1)]:n}function Bi(o,u){return Hs(An(o),Qi(u,0,o.length))}function Kl(o){return Hs(An(o))}function da(o,u,l){(l!==n&&!Mr(o[u],l)||l===n&&!(u in o))&&Rr(o,u,l)}function Fo(o,u,l){var g=o[u];Ce.call(o,u)&&Mr(g,l)&&(l!==n||u in o)||Rr(o,u,l)}function ga(o,u){for(var l=o.length;l--;)if(Mr(o[l][0],u))return l;return-1}function _s(o,u,l,g){return ki(o,function(b,E,O){u(g,b,l(b),O)}),g}function Hu(o,u){return o&&$n(u,en(u),o)}function Rr(o,u,l){u=="__proto__"&&za?za(o,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[u]=l}function Gl(o,u){for(var l=-1,g=u.length,b=pt(g),E=o==null;++l<g;)b[l]=E?n:rc(o,u[l]);return b}function Qi(o,u,l){return o==o&&(l!==n&&(o=o<=l?o:l),u!==n&&(o=o>=u?o:u)),o}function yr(o,u,l,g,b,E){var O,R=1&u,W=2&u,A=4&u;if(l&&(O=b?l(o,g,b,E):l(o)),O!==n)return O;if(!We(o))return o;var _=ie(o);if(_){if(O=function(K){var tt=K.length,ut=new K.constructor(tt);return tt&&typeof K[0]=="string"&&Ce.call(K,"index")&&(ut.index=K.index,ut.input=K.input),ut}(o),!R)return An(o,O)}else{var T=cn(o),U=T==M||T==N;if(Nr(o))return Cl(o,R);if(T==z||T==m||U&&!b){if(O=W||U?{}:Qo(o),!R)return W?function(K,tt){return $n(K,ua(K),tt)}(o,function(K,tt){return K&&$n(tt,Xn(tt),K)}(O,o)):function(K,tt){return $n(K,mr(K),tt)}(o,Hu(O,o))}else{if(!be[T])return b?o:{};O=function(K,tt,ut){var ot,wt=K.constructor;switch(tt){case ft:return Su(K);case w:case C:return new wt(+K);case gt:return function(yt,jt){var xt=jt?Su(yt.buffer):yt.buffer;return new yt.constructor(xt,yt.byteOffset,yt.byteLength)}(K,ut);case Ct:case kt:case Tt:case At:case Zt:case _t:case Et:case mt:case vt:return _l(K,ut);case B:return new wt;case L:case nt:return new wt(K);case V:return function(yt){var jt=new yt.constructor(yt.source,Se.exec(yt));return jt.lastIndex=yt.lastIndex,jt}(K);case X:return new wt;case it:return ot=K,is?zt(is.call(ot)):{}}}(o,T,R)}}E||(E=new zn);var G=E.get(o);if(G)return G;E.set(o,O),Qu(o)?o.forEach(function(K){O.add(yr(K,u,l,K,o,E))}):Qn(o)&&o.forEach(function(K,tt){O.set(tt,yr(K,u,l,tt,o,E))});var Z=_?n:(A?W?po:Ya:W?Xn:en)(o);return Bn(Z||o,function(K,tt){Z&&(K=o[tt=K]),Fo(O,tt,yr(K,u,l,tt,o,E))}),O}function Vu(o,u,l){var g=l.length;if(o==null)return!g;for(o=zt(o);g--;){var b=l[g],E=u[b],O=o[b];if(O===n&&!(b in o)||!E(O))return!1}return!0}function $a(o,u,l){if(typeof o!="function")throw new Pe(t);return gi(function(){o.apply(n,l)},u)}function Ro(o,u,l,g){var b=-1,E=br,O=!0,R=o.length,W=[],A=u.length;if(!R)return W;l&&(u=Be(u,Ln(l))),g?(E=xi,O=!1):u.length>=200&&(E=fi,O=!1,u=new St(u));t:for(;++b<R;){var _=o[b],T=l==null?_:l(_);if(_=g||_!==0?_:0,O&&T==T){for(var U=A;U--;)if(u[U]===T)continue t;W.push(_)}else E(u,T,g)||W.push(_)}return W}P.templateSettings={escape:wn,evaluate:nn,interpolate:cr,variable:"",imports:{_:P}},P.prototype=Pt.prototype,P.prototype.constructor=P,or.prototype=Go(Pt.prototype),or.prototype.constructor=or,ce.prototype=Go(Pt.prototype),ce.prototype.constructor=ce,Hr.prototype.clear=function(){this.__data__=aa?aa(null):{},this.size=0},Hr.prototype.delete=function(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u},Hr.prototype.get=function(o){var u=this.__data__;if(aa){var l=u[o];return l===e?n:l}return Ce.call(u,o)?u[o]:n},Hr.prototype.has=function(o){var u=this.__data__;return aa?u[o]!==n:Ce.call(u,o)},Hr.prototype.set=function(o,u){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=aa&&u===n?e:u,this},vn.prototype.clear=function(){this.__data__=[],this.size=0},vn.prototype.delete=function(o){var u=this.__data__,l=ga(u,o);return!(l<0||(l==u.length-1?u.pop():Uu.call(u,l,1),--this.size,0))},vn.prototype.get=function(o){var u=this.__data__,l=ga(u,o);return l<0?n:u[l][1]},vn.prototype.has=function(o){return ga(this.__data__,o)>-1},vn.prototype.set=function(o,u){var l=this.__data__,g=ga(l,o);return g<0?(++this.size,l.push([o,u])):l[g][1]=u,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(_a||vn),string:new Hr}},Fr.prototype.delete=function(o){var u=Jo(this,o).delete(o);return this.size-=u?1:0,u},Fr.prototype.get=function(o){return Jo(this,o).get(o)},Fr.prototype.has=function(o){return Jo(this,o).has(o)},Fr.prototype.set=function(o,u){var l=Jo(this,o),g=l.size;return l.set(o,u),this.size+=l.size==g?0:1,this},St.prototype.add=St.prototype.push=function(o){return this.__data__.set(o,e),this},St.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.clear=function(){this.__data__=new vn,this.size=0},zn.prototype.delete=function(o){var u=this.__data__,l=u.delete(o);return this.size=u.size,l},zn.prototype.get=function(o){return this.__data__.get(o)},zn.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.set=function(o,u){var l=this.__data__;if(l instanceof vn){var g=l.__data__;if(!_a||g.length<199)return g.push([o,u]),this.size=++l.size,this;l=this.__data__=new Fr(g)}return l.set(o,u),this.size=l.size,this};var ki=Aa(bn),Ss=Aa(Sa,!0);function fc(o,u){var l=!0;return ki(o,function(g,b,E){return l=!!u(g,b,E)}),l}function Wa(o,u,l){for(var g=-1,b=o.length;++g<b;){var E=o[g],O=u(E);if(O!=null&&(R===n?O==O&&!jn(O):l(O,R)))var R=O,W=E}return W}function au(o,u){var l=[];return ki(o,function(g,b,E){u(g,b,E)&&l.push(g)}),l}function gn(o,u,l,g,b){var E=-1,O=o.length;for(l||(l=sr),b||(b=[]);++E<O;){var R=o[E];u>0&&l(R)?u>1?gn(R,u-1,l,g,b):Er(b,R):g||(b[b.length]=R)}return b}var hc=Zs(),Ha=Zs(!0);function bn(o,u){return o&&hc(o,u,en)}function Sa(o,u){return o&&Ha(o,u,en)}function ma(o,u){return Br(u,function(l){return yi(o[l])})}function Vr(o,u){for(var l=0,g=(u=ai(u,o)).length;o!=null&&l<g;)o=o[Nn(u[l++])];return l&&l==g?o:n}function Ea(o,u,l){var g=u(o);return ie(o)?g:Er(g,l(o))}function tn(o){return o==null?o===n?"[object Undefined]":"[object Null]":Bo&&Bo in zt(o)?function(u){var l=Ce.call(u,Bo),g=u[Bo];try{u[Bo]=n;var b=!0}catch{}var E=Rs.call(u);return b&&(l?u[Bo]=g:delete u[Bo]),E}(o):function(u){return Rs.call(u)}(o)}function Ho(o,u){return o>u}function Ls(o,u){return o!=null&&Ce.call(o,u)}function xl(o,u){return o!=null&&u in zt(o)}function pc(o,u,l){for(var g=l?xi:br,b=o[0].length,E=o.length,O=E,R=pt(E),W=1/0,A=[];O--;){var _=o[O];O&&u&&(_=Be(_,Ln(u))),W=on(_.length,W),R[O]=!l&&(u||b>=120&&_.length>=120)?new St(O&&_):n}_=o[0];var T=-1,U=R[0];t:for(;++T<b&&A.length<W;){var G=_[T],Z=u?u(G):G;if(G=l||G!==0?G:0,!(U?fi(U,Z):g(A,Z,l))){for(O=E;--O;){var K=R[O];if(!(K?fi(K,Z):g(o[O],Z,l)))continue t}U&&U.push(Z),A.push(G)}}return A}function Po(o,u,l){var g=(o=Ws(o,u=ai(u,o)))==null?o:o[Nn(Ar(u))];return g==null?n:Mn(g,o,l)}function Js(o){return Le(o)&&tn(o)==m}function _o(o,u,l,g,b){return o===u||(o==null||u==null||!Le(o)&&!Le(u)?o!=o&&u!=u:function(E,O,R,W,A,_){var T=ie(E),U=ie(O),G=T?y:cn(E),Z=U?y:cn(O),K=(G=G==m?z:G)==z,tt=(Z=Z==m?z:Z)==z,ut=G==Z;if(ut&&Nr(E)){if(!Nr(O))return!1;T=!0,K=!1}if(ut&&!K)return _||(_=new zn),T||xn(E)?El(E,O,R,W,A,_):function(xt,It,ae,Ht,ye,oe,xe){switch(ae){case gt:if(xt.byteLength!=It.byteLength||xt.byteOffset!=It.byteOffset)return!1;xt=xt.buffer,It=It.buffer;case ft:return!(xt.byteLength!=It.byteLength||!oe(new js(xt),new js(It)));case w:case C:case L:return Mr(+xt,+It);case k:return xt.name==It.name&&xt.message==It.message;case V:case nt:return xt==It+"";case B:var Ve=Gi;case X:var an=1&Ht;if(Ve||(Ve=ns),xt.size!=It.size&&!an)return!1;var On=xe.get(xt);if(On)return On==It;Ht|=2,xe.set(xt,It);var Dn=El(Ve(xt),Ve(It),Ht,ye,oe,xe);return xe.delete(xt),Dn;case it:if(is)return is.call(xt)==is.call(It)}return!1}(E,O,G,R,W,A,_);if(!(1&R)){var ot=K&&Ce.call(E,"__wrapped__"),wt=tt&&Ce.call(O,"__wrapped__");if(ot||wt){var yt=ot?E.value():E,jt=wt?O.value():O;return _||(_=new zn),A(yt,jt,R,W,_)}}return!!ut&&(_||(_=new zn),function(xt,It,ae,Ht,ye,oe){var xe=1&ae,Ve=Ya(xt),an=Ve.length;if(an!=Ya(It).length&&!xe)return!1;for(var On=an;On--;){var Dn=Ve[On];if(!(xe?Dn in It:Ce.call(It,Dn)))return!1}var nr=oe.get(xt),Cr=oe.get(It);if(nr&&Cr)return nr==It&&Cr==xt;var Ao=!0;oe.set(xt,It),oe.set(It,xt);for(var ro=xe;++On<an;){var vo=xt[Dn=Ve[On]],Kr=It[Dn];if(Ht)var ss=xe?Ht(Kr,vo,Dn,It,xt,oe):Ht(vo,Kr,Dn,xt,It,oe);if(!(ss===n?vo===Kr||ye(vo,Kr,ae,Ht,oe):ss)){Ao=!1;break}ro||(ro=Dn=="constructor")}if(Ao&&!ro){var Lr=xt.constructor,Za=It.constructor;Lr==Za||!("constructor"in xt)||!("constructor"in It)||typeof Lr=="function"&&Lr instanceof Lr&&typeof Za=="function"&&Za instanceof Za||(Ao=!1)}return oe.delete(xt),oe.delete(It),Ao}(E,O,R,W,A,_))}(o,u,l,g,_o,b))}function jo(o,u,l,g){var b=l.length,E=b,O=!g;if(o==null)return!E;for(o=zt(o);b--;){var R=l[b];if(O&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++b<E;){var W=(R=l[b])[0],A=o[W],_=R[1];if(O&&R[2]){if(A===n&&!(W in o))return!1}else{var T=new zn;if(g)var U=g(A,_,W,o,u,T);if(!(U===n?_o(_,A,3,g,T):U))return!1}}return!0}function qu(o){return!(!We(o)||(u=o,_i&&_i in u))&&(yi(o)?lh:zi).test(so(o));var u}function Cu(o){return typeof o=="function"?o:o==null?_n:typeof o=="object"?ie(o)?Wi(o[0],o[1]):zs(o):Io(o)}function Ta(o){if(!Zr(o))return Lh(o);var u=[];for(var l in zt(o))Ce.call(o,l)&&l!="constructor"&&u.push(l);return u}function dr(o,u){return o<u}function ar(o,u){var l=-1,g=$e(o)?pt(o.length):[];return ki(o,function(b,E,O){g[++l]=u(b,E,O)}),g}function zs(o){var u=er(o);return u.length==1&&u[0][2]?dc(u[0][0],u[0][1]):function(l){return l===o||jo(l,o,u)}}function Wi(o,u){return Dr(o)&&Wl(u)?dc(Nn(o),u):function(l){var g=rc(l,o);return g===n&&g===u?Fi(l,o):_o(u,g,3)}}function Si(o,u,l,g,b){o!==u&&hc(u,function(E,O){if(b||(b=new zn),We(E))(function(W,A,_,T,U,G,Z){var K=ao(W,_),tt=ao(A,_),ut=Z.get(tt);if(ut)da(W,_,ut);else{var ot=G?G(K,tt,_+"",W,A,Z):n,wt=ot===n;if(wt){var yt=ie(tt),jt=!yt&&Nr(tt),xt=!yt&&!jt&&xn(tt);ot=tt,yt||jt||xt?ie(K)?ot=K:Je(K)?ot=An(K):jt?(wt=!1,ot=Cl(tt,!0)):xt?(wt=!1,ot=_l(tt,!0)):ot=[]:la(tt)||Eo(tt)?(ot=K,Eo(K)?ot=ys(K):We(K)&&!yi(K)||(ot=Qo(tt))):wt=!1}wt&&(Z.set(tt,ot),U(ot,tt,T,G,Z),Z.delete(tt)),da(W,_,ot)}})(o,u,O,l,Si,g,b);else{var R=g?g(ao(o,O),E,O+"",o,u,b):n;R===n&&(R=E),da(o,O,R)}},Xn)}function _u(o,u){var l=o.length;if(l)return ur(u+=u<0?l:0,l)?o[u]:n}function Qs(o,u,l){u=u.length?Be(u,function(E){return ie(E)?function(O){return Vr(O,E.length===1?E[0]:E)}:E}):[_n];var g=-1;u=Be(u,Ln(Yt()));var b=ar(o,function(E,O,R){var W=Be(u,function(A){return A(E)});return{criteria:W,index:++g,value:E}});return function(E,O){var R=E.length;for(E.sort(O);R--;)E[R]=E[R].value;return E}(b,function(E,O){return function(R,W,A){for(var _=-1,T=R.criteria,U=W.criteria,G=T.length,Z=A.length;++_<G;){var K=ps(T[_],U[_]);if(K)return _>=Z?K:K*(A[_]=="desc"?-1:1)}return R.index-W.index}(E,O,l)})}function Zi(o,u,l){for(var g=-1,b=u.length,E={};++g<b;){var O=u[g],R=Vr(o,O);l(R,O)&&os(E,ai(O,o),R)}return E}function Dl(o,u,l,g){var b=g?bc:Ii,E=-1,O=u.length,R=o;for(o===u&&(u=An(u)),l&&(R=Be(o,Ln(l)));++E<O;)for(var W=0,A=u[E],_=l?l(A):A;(W=b(R,_,W,g))>-1;)R!==o&&Uu.call(R,W,1),Uu.call(o,W,1);return o}function zl(o,u){for(var l=o?u.length:0,g=l-1;l--;){var b=u[l];if(l==g||b!==E){var E=b;ur(b)?Uu.call(o,b,1):oi(o,b)}}return o}function fs(o,u){return o+$u(df()*(u-o+1))}function Us(o,u){var l="";if(!o||u<1||u>c)return l;do u%2&&(l+=o),(u=$u(u/2))&&(o+=o);while(u);return l}function ue(o,u){return no(go(o,u,_n),o+"")}function Es(o){return En(Zn(o))}function mi(o,u){var l=Zn(o);return Hs(l,Qi(u,0,l.length))}function os(o,u,l,g){if(!We(o))return o;for(var b=-1,E=(u=ai(u,o)).length,O=E-1,R=o;R!=null&&++b<E;){var W=Nn(u[b]),A=l;if(W==="__proto__"||W==="constructor"||W==="prototype")return o;if(b!=O){var _=R[W];(A=g?g(_,W,R):n)===n&&(A=We(_)?_:ur(u[b+1])?[]:{})}Fo(R,W,A),R=R[W]}return o}var Yl=sa?function(o,u){return sa.set(o,u),o}:_n,hs=za?function(o,u){return za(o,"toString",{configurable:!0,enumerable:!1,value:Tl(u),writable:!0})}:_n;function ol(o){return Hs(Zn(o))}function Un(o,u,l){var g=-1,b=o.length;u<0&&(u=-u>b?0:b+u),(l=l>b?b:l)<0&&(l+=b),b=u>l?0:l-u>>>0,u>>>=0;for(var E=pt(b);++g<b;)E[g]=o[g+u];return E}function Xc(o,u){var l;return ki(o,function(g,b,E){return!(l=u(g,b,E))}),!!l}function Fn(o,u,l){var g=0,b=o==null?g:o.length;if(typeof u=="number"&&u==u&&b<=2147483647){for(;g<b;){var E=g+b>>>1,O=o[E];O!==null&&!jn(O)&&(l?O<=u:O<u)?g=E+1:b=E}return b}return to(o,u,_n,l)}function to(o,u,l,g){var b=0,E=o==null?0:o.length;if(E===0)return 0;for(var O=(u=l(u))!=u,R=u===null,W=jn(u),A=u===n;b<E;){var _=$u((b+E)/2),T=l(o[_]),U=T!==n,G=T===null,Z=T==T,K=jn(T);if(O)var tt=g||Z;else tt=A?Z&&(g||U):R?Z&&U&&(g||!G):W?Z&&U&&!G&&(g||!K):!G&&!K&&(g?T<=u:T<u);tt?b=_+1:E=_}return on(E,4294967294)}function Or(o,u){for(var l=-1,g=o.length,b=0,E=[];++l<g;){var O=o[l],R=u?u(O):O;if(!l||!Mr(R,W)){var W=R;E[b++]=O===0?0:O}}return E}function Qr(o){return typeof o=="number"?o:jn(o)?f:+o}function fn(o){if(typeof o=="string")return o;if(ie(o))return Be(o,fn)+"";if(jn(o))return Ll?Ll.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Yn(o,u,l){var g=-1,b=br,E=o.length,O=!0,R=[],W=R;if(l)O=!1,b=xi;else if(E>=200){var A=u?null:of(o);if(A)return ns(A);O=!1,b=fi,W=new St}else W=u?[]:R;t:for(;++g<E;){var _=o[g],T=u?u(_):_;if(_=l||_!==0?_:0,O&&T==T){for(var U=W.length;U--;)if(W[U]===T)continue t;u&&W.push(T),R.push(_)}else b(W,T,l)||(W!==R&&W.push(T),R.push(_))}return R}function oi(o,u){return(o=Ws(o,u=ai(u,o)))==null||delete o[Nn(Ar(u))]}function na(o,u,l,g){return os(o,u,l(Vr(o,u)),g)}function Va(o,u,l,g){for(var b=o.length,E=g?b:-1;(g?E--:++E<b)&&u(o[E],E,o););return l?Un(o,g?0:E,g?E+1:b):Un(o,g?E+1:0,g?b:E)}function qa(o,u){var l=o;return l instanceof ce&&(l=l.value()),Jr(u,function(g,b){return b.func.apply(b.thisArg,Er([g],b.args))},l)}function Ri(o,u,l){var g=o.length;if(g<2)return g?Yn(o[0]):[];for(var b=-1,E=pt(g);++b<g;)for(var O=o[b],R=-1;++R<g;)R!=b&&(E[b]=Ro(E[b]||O,o[R],u,l));return Yn(gn(E,1),u,l)}function Yo(o,u,l){for(var g=-1,b=o.length,E=u.length,O={};++g<b;){var R=g<E?u[g]:n;l(O,o[g],R)}return O}function wr(o){return Je(o)?o:[]}function di(o){return typeof o=="function"?o:_n}function ai(o,u){return ie(o)?o:Dr(o,u)?[o]:Ic(we(o))}var Xl=ue;function Ur(o,u,l){var g=o.length;return l=l===n?g:l,!u&&l>=g?o:Un(o,u,l)}var Jl=nf||function(o){return ze.clearTimeout(o)};function Cl(o,u){if(u)return o.slice();var l=o.length,g=Rl?Rl(l):new o.constructor(l);return o.copy(g),g}function Su(o){var u=new o.constructor(o.byteLength);return new js(u).set(new js(o)),u}function _l(o,u){var l=u?Su(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}function ps(o,u){if(o!==u){var l=o!==n,g=o===null,b=o==o,E=jn(o),O=u!==n,R=u===null,W=u==u,A=jn(u);if(!R&&!A&&!E&&o>u||E&&O&&W&&!R&&!A||g&&O&&W||!l&&W||!b)return 1;if(!g&&!E&&!A&&o<u||A&&l&&b&&!g&&!E||R&&l&&b||!O&&b||!W)return-1}return 0}function al(o,u,l,g){for(var b=-1,E=o.length,O=l.length,R=-1,W=u.length,A=sn(E-O,0),_=pt(W+A),T=!g;++R<W;)_[R]=u[R];for(;++b<O;)(T||b<E)&&(_[l[b]]=o[b]);for(;A--;)_[R++]=o[b++];return _}function Sl(o,u,l,g){for(var b=-1,E=o.length,O=-1,R=l.length,W=-1,A=u.length,_=sn(E-R,0),T=pt(_+A),U=!g;++b<_;)T[b]=o[b];for(var G=b;++W<A;)T[G+W]=u[W];for(;++O<R;)(U||b<E)&&(T[G+l[O]]=o[b++]);return T}function An(o,u){var l=-1,g=o.length;for(u||(u=pt(g));++l<g;)u[l]=o[l];return u}function $n(o,u,l,g){var b=!l;l||(l={});for(var E=-1,O=u.length;++E<O;){var R=u[E],W=g?g(l[R],o[R],R,l,o):n;W===n&&(W=o[R]),b?Rr(l,R,W):Fo(l,R,W)}return l}function ji(o,u){return function(l,g){var b=ie(l)?uh:_s,E=u?u():{};return b(l,o,Yt(g,2),E)}}function Mi(o){return ue(function(u,l){var g=-1,b=l.length,E=b>1?l[b-1]:n,O=b>2?l[2]:n;for(E=o.length>3&&typeof E=="function"?(b--,E):n,O&&Ue(l[0],l[1],O)&&(E=b<3?n:E,b=1),u=zt(u);++g<b;){var R=l[g];R&&o(u,R,g,E)}return u})}function Aa(o,u){return function(l,g){if(l==null)return l;if(!$e(l))return o(l,g);for(var b=l.length,E=u?b:-1,O=zt(l);(u?E--:++E<b)&&g(O[E],E,O)!==!1;);return l}}function Zs(o){return function(u,l,g){for(var b=-1,E=zt(u),O=g(u),R=O.length;R--;){var W=O[o?R:++b];if(l(E[W],W,E)===!1)break}return u}}function Eu(o){return function(u){var l=ha(u=we(u))?xr(u):n,g=l?l[0]:u.charAt(0),b=l?Ur(l,1).join(""):u.slice(1);return g[o]()+b}}function Lo(o){return function(u){return Jr(fu(li(u).replace(Mc,"")),o,"")}}function zo(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Go(o.prototype),g=o.apply(l,u);return We(g)?g:l}}function va(o){return function(u,l,g){var b=zt(u);if(!$e(u)){var E=Yt(l,3);u=en(u),l=function(R){return E(b[R],R,b)}}var O=o(u,l,g);return O>-1?b[E?u[O]:O]:n}}function Uo(o){return Ei(function(u){var l=u.length,g=l,b=or.prototype.thru;for(o&&u.reverse();g--;){var E=u[g];if(typeof E!="function")throw new Pe(t);if(b&&!O&&So(E)=="wrapper")var O=new or([],!0)}for(g=O?g:l;++g<l;){var R=So(E=u[g]),W=R=="wrapper"?gs(E):n;O=W&&Kn(W[0])&&W[1]==424&&!W[4].length&&W[9]==1?O[So(W[0])].apply(O,W[3]):E.length==1&&Kn(E)?O[R]():O.thru(E)}return function(){var A=arguments,_=A[0];if(O&&A.length==1&&ie(_))return O.plant(_).value();for(var T=0,U=l?u[T].apply(this,A):_;++T<l;)U=u[T].call(this,U);return U}})}function To(o,u,l,g,b,E,O,R,W,A){var _=u&a,T=1&u,U=2&u,G=24&u,Z=512&u,K=U?n:zo(o);return function tt(){for(var ut=arguments.length,ot=pt(ut),wt=ut;wt--;)ot[wt]=arguments[wt];if(G)var yt=vi(tt),jt=function(Ht,ye){for(var oe=Ht.length,xe=0;oe--;)Ht[oe]===ye&&++xe;return xe}(ot,yt);if(g&&(ot=al(ot,g,b,G)),E&&(ot=Sl(ot,E,O,G)),ut-=jt,G&&ut<A){var xt=Di(ot,yt);return ds(o,u,To,tt.placeholder,l,ot,xt,R,W,A-ut)}var It=T?l:this,ae=U?It[o]:o;return ut=ot.length,R?ot=function(Ht,ye){for(var oe=Ht.length,xe=on(ye.length,oe),Ve=An(Ht);xe--;){var an=ye[xe];Ht[xe]=ur(an,oe)?Ve[an]:n}return Ht}(ot,R):Z&&ut>1&&ot.reverse(),_&&W<ut&&(ot.length=W),this&&this!==ze&&this instanceof tt&&(ae=K||zo(ae)),ae.apply(It,ot)}}function oo(o,u){return function(l,g){return function(b,E,O,R){return bn(b,function(W,A,_){E(R,O(W),A,_)}),R}(l,o,u(g),{})}}function eo(o,u){return function(l,g){var b;if(l===n&&g===n)return u;if(l!==n&&(b=l),g!==n){if(b===n)return g;typeof l=="string"||typeof g=="string"?(l=fn(l),g=fn(g)):(l=Qr(l),g=Qr(g)),b=o(l,g)}return b}}function Oo(o){return Ei(function(u){return u=Be(u,Ln(Yt())),ue(function(l){var g=this;return o(u,function(b){return Mn(b,g,l)})})})}function Xo(o,u){var l=(u=u===n?" ":fn(u)).length;if(l<2)return l?Us(u,o):u;var g=Us(u,Ua(o/Wr(u)));return ha(u)?Ur(xr(g),0,o).join(""):g.slice(0,o)}function Ku(o){return function(u,l,g){return g&&typeof g!="number"&&Ue(u,l,g)&&(l=g=n),u=ui(u),l===n?(l=u,u=0):l=ui(l),function(b,E,O,R){for(var W=-1,A=sn(Ua((E-b)/(O||1)),0),_=pt(A);A--;)_[R?A:++W]=b,b+=O;return _}(u,l,g=g===n?u<l?1:-1:ui(g),o)}}function Ka(o){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Qe(u),l=Qe(l)),o(u,l)}}function ds(o,u,l,g,b,E,O,R,W,A){var _=8&u;u|=_?i:64,4&(u&=~(_?64:i))||(u&=-4);var T=[o,u,b,_?E:n,_?O:n,_?n:E,_?n:O,R,W,A],U=l.apply(n,T);return Kn(o)&&kl(U,T),U.placeholder=g,As(U,o,u)}function ra(o){var u=mn[o];return function(l,g){if(l=Qe(l),(g=g==null?0:on(se(g),292))&&Nc(l)){var b=(we(l)+"e").split("e");return+((b=(we(u(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return u(l)}}var of=ii&&1/ns(new ii([,-0]))[1]==s?function(o){return new ii(o)}:hl;function Ul(o){return function(u){var l=cn(u);return l==B?Gi(u):l==X?function(b){var E=-1,O=Array(b.size);return b.forEach(function(R){O[++E]=[R,R]}),O}(u):function(g,b){return Be(b,function(E){return[E,g[E]]})}(u,o(u))}}function gr(o,u,l,g,b,E,O,R){var W=2&u;if(!W&&typeof o!="function")throw new Pe(t);var A=g?g.length:0;if(A||(u&=-97,g=b=n),O=O===n?O:sn(se(O),0),R=R===n?R:se(R),A-=b?b.length:0,64&u){var _=g,T=b;g=b=n}var U=W?n:gs(o),G=[o,u,l,g,b,_,T,E,O,R];if(U&&function(K,tt){var ut=K[1],ot=tt[1],wt=ut|ot,yt=wt<131,jt=ot==a&&ut==8||ot==a&&ut==256&&K[7].length<=tt[8]||ot==384&&tt[7].length<=tt[8]&&ut==8;if(!yt&&!jt)return K;1&ot&&(K[2]=tt[2],wt|=1&ut?0:4);var xt=tt[3];if(xt){var It=K[3];K[3]=It?al(It,xt,tt[4]):xt,K[4]=It?Di(K[3],r):tt[4]}(xt=tt[5])&&(It=K[5],K[5]=It?Sl(It,xt,tt[6]):xt,K[6]=It?Di(K[5],r):tt[6]),(xt=tt[7])&&(K[7]=xt),ot&a&&(K[8]=K[8]==null?tt[8]:on(K[8],tt[8])),K[9]==null&&(K[9]=tt[9]),K[0]=tt[0],K[1]=wt}(G,U),o=G[0],u=G[1],l=G[2],g=G[3],b=G[4],!(R=G[9]=G[9]===n?W?0:o.length:sn(G[9]-A,0))&&24&u&&(u&=-25),u&&u!=1)Z=u==8||u==16?function(K,tt,ut){var ot=zo(K);return function wt(){for(var yt=arguments.length,jt=pt(yt),xt=yt,It=vi(wt);xt--;)jt[xt]=arguments[xt];var ae=yt<3&&jt[0]!==It&&jt[yt-1]!==It?[]:Di(jt,It);return(yt-=ae.length)<ut?ds(K,tt,To,wt.placeholder,n,jt,ae,n,n,ut-yt):Mn(this&&this!==ze&&this instanceof wt?ot:K,this,jt)}}(o,u,R):u!=i&&u!=33||b.length?To.apply(n,G):function(K,tt,ut,ot){var wt=1&tt,yt=zo(K);return function jt(){for(var xt=-1,It=arguments.length,ae=-1,Ht=ot.length,ye=pt(Ht+It),oe=this&&this!==ze&&this instanceof jt?yt:K;++ae<Ht;)ye[ae]=ot[ae];for(;It--;)ye[ae++]=arguments[++xt];return Mn(oe,wt?ut:this,ye)}}(o,u,l,g);else var Z=function(K,tt,ut){var ot=1&tt,wt=zo(K);return function yt(){return(this&&this!==ze&&this instanceof yt?wt:K).apply(ot?ut:this,arguments)}}(o,u,l);return As((U?Yl:kl)(Z,G),o,u)}function $s(o,u,l,g){return o===n||Mr(o,hi[l])&&!Ce.call(g,l)?u:o}function Ga(o,u,l,g,b,E){return We(o)&&We(u)&&(E.set(u,o),Si(o,u,n,Ga,E),E.delete(u)),o}function Nf(o){return la(o)?n:o}function El(o,u,l,g,b,E){var O=1&l,R=o.length,W=u.length;if(R!=W&&!(O&&W>R))return!1;var A=E.get(o),_=E.get(u);if(A&&_)return A==u&&_==o;var T=-1,U=!0,G=2&l?new St:n;for(E.set(o,u),E.set(u,o);++T<R;){var Z=o[T],K=u[T];if(g)var tt=O?g(K,Z,T,u,o,E):g(Z,K,T,o,u,E);if(tt!==n){if(tt)continue;U=!1;break}if(G){if(!Is(u,function(ut,ot){if(!fi(G,ot)&&(Z===ut||b(Z,ut,l,g,E)))return G.push(ot)})){U=!1;break}}else if(Z!==K&&!b(Z,K,l,g,E)){U=!1;break}}return E.delete(o),E.delete(u),U}function Ei(o){return no(go(o,n,Oa),o+"")}function Ya(o){return Ea(o,en,mr)}function po(o){return Ea(o,Xn,ua)}var gs=sa?function(o){return sa.get(o)}:hl;function So(o){for(var u=o.name+"",l=Mo[u],g=Ce.call(Mo,u)?l.length:0;g--;){var b=l[g],E=b.func;if(E==null||E==o)return b.name}return u}function vi(o){return(Ce.call(P,"placeholder")?P:o).placeholder}function Yt(){var o=P.iteratee||ic;return o=o===ic?Cu:o,arguments.length?o(arguments[0],arguments[1]):o}function Jo(o,u){var l,g,b=o.__data__;return((g=typeof(l=u))=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null)?b[typeof u=="string"?"string":"hash"]:b.map}function er(o){for(var u=en(o),l=u.length;l--;){var g=u[l],b=o[g];u[l]=[g,b,Wl(b)]}return u}function si(o,u){var l=function(g,b){return g==null?n:g[b]}(o,u);return qu(l)?l:n}var mr=ou?function(o){return o==null?[]:(o=zt(o),Br(ou(o),function(u){return Oc.call(o,u)}))}:qr,ua=ou?function(o){for(var u=[];o;)Er(u,mr(o)),o=ea(o);return u}:qr,cn=tn;function $l(o,u,l){for(var g=-1,b=(u=ai(u,o)).length,E=!1;++g<b;){var O=Nn(u[g]);if(!(E=o!=null&&l(o,O)))break;o=o[O]}return E||++g!=b?E:!!(b=o==null?0:o.length)&&Gn(b)&&ur(O,b)&&(ie(o)||Eo(o))}function Qo(o){return typeof o.constructor!="function"||Zr(o)?{}:Go(ea(o))}function sr(o){return ie(o)||Eo(o)||!!(jl&&o&&o[jl])}function ur(o,u){var l=typeof o;return!!(u=u??c)&&(l=="number"||l!="symbol"&&Ui.test(o))&&o>-1&&o%1==0&&o<u}function Ue(o,u,l){if(!We(l))return!1;var g=typeof u;return!!(g=="number"?$e(l)&&ur(u,l.length):g=="string"&&u in l)&&Mr(l[u],o)}function Dr(o,u){if(ie(o))return!1;var l=typeof o;return!(l!="number"&&l!="symbol"&&l!="boolean"&&o!=null&&!jn(o))||Vt.test(o)||!bi.test(o)||u!=null&&o in zt(u)}function Kn(o){var u=So(o),l=P[u];if(typeof l!="function"||!(u in ce.prototype))return!1;if(o===l)return!0;var g=gs(l);return!!g&&o===g[0]}(il&&cn(new il(new ArrayBuffer(1)))!=gt||_a&&cn(new _a)!=B||oa&&cn(oa.resolve())!=q||ii&&cn(new ii)!=X||Ko&&cn(new Ko)!=ct)&&(cn=function(o){var u=tn(o),l=u==z?o.constructor:n,g=l?so(l):"";if(g)switch(g){case gf:return gt;case bl:return B;case cc:return q;case rf:return X;case Jf:return ct}return u});var Al=Ca?yi:Ir;function Zr(o){var u=o&&o.constructor;return o===(typeof u=="function"&&u.prototype||hi)}function Wl(o){return o==o&&!We(o)}function dc(o,u){return function(l){return l!=null&&l[o]===u&&(u!==n||o in zt(l))}}function go(o,u,l){return u=sn(u===n?o.length-1:u,0),function(){for(var g=arguments,b=-1,E=sn(g.length-u,0),O=pt(E);++b<E;)O[b]=g[u+b];b=-1;for(var R=pt(u+1);++b<u;)R[b]=g[b];return R[u]=l(O),Mn(o,this,R)}}function Ws(o,u){return u.length<2?o:Vr(o,Un(u,0,-1))}function ao(o,u){if((u!=="constructor"||typeof o[u]!="function")&&u!="__proto__")return o[u]}var kl=sl(Yl),gi=Of||function(o,u){return ze.setTimeout(o,u)},no=sl(hs);function As(o,u,l){var g=u+"";return no(o,function(b,E){var O=E.length;if(!O)return b;var R=O-1;return E[R]=(O>1?"& ":"")+E[R],E=E.join(O>2?", ":" "),b.replace(Rt,`{
/* [wrapped with `+E+`] */
`)}(g,function(b,E){return Bn(h,function(O){var R="_."+O[0];E&O[1]&&!br(b,R)&&b.push(R)}),b.sort()}(function(b){var E=b.match(Xt);return E?E[1].split(Kt):[]}(g),l)))}function sl(o){var u=0,l=0;return function(){var g=pa(),b=16-(g-l);if(l=g,b>0){if(++u>=800)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Hs(o,u){var l=-1,g=o.length,b=g-1;for(u=u===n?g:u;++l<u;){var E=fs(l,b),O=o[E];o[E]=o[l],o[l]=O}return o.length=u,o}var Ic=function(){var o=Ju(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(rt,function(b,E,O,R){g.push(O?R.replace(Ze,"$1"):E||b)}),g},function(l){return u.size===500&&u.clear(),l}),u=o.cache;return o}();function Nn(o){if(typeof o=="string"||jn(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function so(o){if(o!=null){try{return pi.call(o)}catch{}try{return o+""}catch{}}return""}function Au(o){if(o instanceof ce)return o.clone();var u=new or(o.__wrapped__,o.__chain__);return u.__actions__=An(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var Ql=ue(function(o,u){return Je(o)?Ro(o,gn(u,1,Je,!0)):[]}),mf=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),Yt(l,2)):[]}),ch=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),n,l):[]});function Zl(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),jr(o,Yt(u,3),b)}function uo(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g-1;return l!==n&&(b=se(l),b=l<0?sn(g+b,0):on(b,g-1)),jr(o,Yt(u,3),b,!0)}function Oa(o){return o!=null&&o.length?gn(o,1):[]}function lo(o){return o&&o.length?o[0]:n}var Ml=ue(function(o){var u=Be(o,wr);return u.length&&u[0]===o[0]?pc(u):[]}),vf=ue(function(o){var u=Ar(o),l=Be(o,wr);return u===Ar(l)?u=n:l.pop(),l.length&&l[0]===o[0]?pc(l,Yt(u,2)):[]}),yf=ue(function(o){var u=Ar(o),l=Be(o,wr);return(u=typeof u=="function"?u:n)&&l.pop(),l.length&&l[0]===o[0]?pc(l,n,u):[]});function Ar(o){var u=o==null?0:o.length;return u?o[u-1]:n}var ul=ue(tu);function tu(o,u){return o&&o.length&&u&&u.length?Dl(o,u):o}var fh=Ei(function(o,u){var l=o==null?0:o.length,g=Gl(o,u);return zl(o,Be(u,function(b){return ur(b,l)?+b:b}).sort(ps)),g});function Gu(o){return o==null?o:xh.call(o)}var Dc=ue(function(o){return Yn(gn(o,1,Je,!0))}),Hl=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Yn(gn(o,1,Je,!0),Yt(u,2))}),Qf=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Yn(gn(o,1,Je,!0),n,u)});function Cc(o){if(!o||!o.length)return[];var u=0;return o=Br(o,function(l){if(Je(l))return u=sn(l.length,u),!0}),Il(u,function(l){return Be(o,Da(l))})}function su(o,u){if(!o||!o.length)return[];var l=Cc(o);return u==null?l:Be(l,function(g){return Mn(u,n,g)})}var Mh=ue(function(o,u){return Je(o)?Ro(o,u):[]}),Fh=ue(function(o){return Ri(Br(o,Je))}),Ph=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Ri(Br(o,Je),Yt(u,2))}),hh=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Ri(Br(o,Je),n,u)}),Th=ue(Cc),If=ue(function(o){var u=o.length,l=u>1?o[u-1]:n;return l=typeof l=="function"?(o.pop(),l):n,su(o,l)});function Zf(o){var u=P(o);return u.__chain__=!0,u}function Yu(o,u){return u(o)}var th=Ei(function(o){var u=o.length,l=u?o[0]:0,g=this.__wrapped__,b=function(E){return Gl(E,o)};return!(u>1||this.__actions__.length)&&g instanceof ce&&ur(l)?((g=g.slice(l,+l+(u?1:0))).__actions__.push({func:Yu,args:[b],thisArg:n}),new or(g,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E})):this.thru(b)}),ms=ji(function(o,u,l){Ce.call(o,l)?++o[l]:Rr(o,l,1)}),Bf=va(Zl),af=va(uo);function wf(o,u){return(ie(o)?Bn:ki)(o,Yt(u,3))}function sf(o,u){return(ie(o)?tf:Ss)(o,Yt(u,3))}var Dh=ji(function(o,u,l){Ce.call(o,l)?o[l].push(u):Rr(o,l,[u])}),Rf=ue(function(o,u,l){var g=-1,b=typeof u=="function",E=$e(o)?pt(o.length):[];return ki(o,function(O){E[++g]=b?Mn(u,O,l):Po(O,u,l)}),E}),tc=ji(function(o,u,l){Rr(o,l,u)});function uu(o,u){return(ie(o)?Be:ar)(o,Yt(u,3))}var eh=ji(function(o,u,l){o[l?0:1].push(u)},function(){return[[],[]]}),Ch=ue(function(o,u){if(o==null)return[];var l=u.length;return l>1&&Ue(o,u[0],u[1])?u=[]:l>2&&Ue(u[0],u[1],u[2])&&(u=[u[0]]),Qs(o,gn(u,1),[])}),Xu=Xf||function(){return ze.Date.now()};function uf(o,u,l){return u=l?n:u,u=o&&u==null?o.length:u,gr(o,a,n,n,n,n,u)}function Bc(o,u){var l;if(typeof u!="function")throw new Pe(t);return o=se(o),function(){return--o>0&&(l=u.apply(this,arguments)),o<=1&&(u=n),l}}var ec=ue(function(o,u,l){var g=1;if(l.length){var b=Di(l,vi(ec));g|=i}return gr(o,g,u,l,b)}),bf=ue(function(o,u,l){var g=3;if(l.length){var b=Di(l,vi(bf));g|=i}return gr(u,g,o,l,b)});function jf(o,u,l){var g,b,E,O,R,W,A=0,_=!1,T=!1,U=!0;if(typeof o!="function")throw new Pe(t);function G(ot){var wt=g,yt=b;return g=b=n,A=ot,O=o.apply(yt,wt)}function Z(ot){var wt=ot-W;return W===n||wt>=u||wt<0||T&&ot-A>=E}function K(){var ot=Xu();if(Z(ot))return tt(ot);R=gi(K,function(wt){var yt=u-(wt-W);return T?on(yt,E-(wt-A)):yt}(ot))}function tt(ot){return R=n,U&&g?G(ot):(g=b=n,O)}function ut(){var ot=Xu(),wt=Z(ot);if(g=arguments,b=this,W=ot,wt){if(R===n)return function(yt){return A=yt,R=gi(K,u),_?G(yt):O}(W);if(T)return Jl(R),R=gi(K,u),G(W)}return R===n&&(R=gi(K,u)),O}return u=Qe(u)||0,We(l)&&(_=!!l.leading,E=(T="maxWait"in l)?sn(Qe(l.maxWait)||0,u):E,U="trailing"in l?!!l.trailing:U),ut.cancel=function(){R!==n&&Jl(R),A=0,g=W=b=R=n},ut.flush=function(){return R===n?O:tt(Xu())},ut}var ia=ue(function(o,u){return $a(o,1,u)}),ka=ue(function(o,u,l){return $a(o,Qe(u)||0,l)});function Ju(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Pe(t);var l=function(){var g=arguments,b=u?u.apply(this,g):g[0],E=l.cache;if(E.has(b))return E.get(b);var O=o.apply(this,g);return l.cache=E.set(b,O)||E,O};return l.cache=new(Ju.Cache||Fr),l}function ks(o){if(typeof o!="function")throw new Pe(t);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}Ju.Cache=Fr;var nh=Xl(function(o,u){var l=(u=u.length==1&&ie(u[0])?Be(u[0],Ln(Yt())):Be(gn(u,1),Ln(Yt()))).length;return ue(function(g){for(var b=-1,E=on(g.length,l);++b<E;)g[b]=u[b].call(this,g[b]);return Mn(o,this,g)})}),Fl=ue(function(o,u){var l=Di(u,vi(Fl));return gr(o,i,n,u,l)}),lf=ue(function(o,u){var l=Di(u,vi(lf));return gr(o,64,n,u,l)}),ll=Ei(function(o,u){return gr(o,256,n,n,n,u)});function Mr(o,u){return o===u||o!=o&&u!=u}var Lf=Ka(Ho),gc=Ka(function(o,u){return o>=u}),Eo=Js(function(){return arguments}())?Js:function(o){return Le(o)&&Ce.call(o,"callee")&&!Oc.call(o,"callee")},ie=pt.isArray,_c=Ru?Ln(Ru):function(o){return Le(o)&&tn(o)==ft};function $e(o){return o!=null&&Gn(o.length)&&!yi(o)}function Je(o){return Le(o)&&$e(o)}var Nr=xc||Ir,$o=Ji?Ln(Ji):function(o){return Le(o)&&tn(o)==C};function lu(o){if(!Le(o))return!1;var u=tn(o);return u==k||u=="[object DOMException]"||typeof o.message=="string"&&typeof o.name=="string"&&!la(o)}function yi(o){if(!We(o))return!1;var u=tn(o);return u==M||u==N||u=="[object AsyncFunction]"||u=="[object Proxy]"}function cu(o){return typeof o=="number"&&o==se(o)}function Gn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function We(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Le(o){return o!=null&&typeof o=="object"}var Qn=qn?Ln(qn):function(o){return Le(o)&&cn(o)==B};function lr(o){return typeof o=="number"||Le(o)&&tn(o)==L}function la(o){if(!Le(o)||tn(o)!=z)return!1;var u=ea(o);if(u===null)return!0;var l=Ce.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&pi.call(l)==Yc}var Li=rl?Ln(rl):function(o){return Le(o)&&tn(o)==V},Qu=Zc?Ln(Zc):function(o){return Le(o)&&cn(o)==X};function ku(o){return typeof o=="string"||!ie(o)&&Le(o)&&tn(o)==nt}function jn(o){return typeof o=="symbol"||Le(o)&&tn(o)==it}var xn=wc?Ln(wc):function(o){return Le(o)&&Gn(o.length)&&!!De[tn(o)]},Wo=Ka(dr),Ae=Ka(function(o,u){return o<=u});function cl(o){if(!o)return[];if($e(o))return ku(o)?xr(o):An(o);if(io&&o[io])return function(l){for(var g,b=[];!(g=l.next()).done;)b.push(g.value);return b}(o[io]());var u=cn(o);return(u==B?Gi:u==X?ns:Zn)(o)}function ui(o){return o?(o=Qe(o))===s||o===-1/0?17976931348623157e292*(o<0?-1:1):o==o?o:0:o===0?o:0}function se(o){var u=ui(o),l=u%1;return u==u?l?u-l:u:0}function vs(o){return o?Qi(se(o),0,d):0}function Qe(o){if(typeof o=="number")return o;if(jn(o))return f;if(We(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=We(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Bl(o);var l=rn.test(o);return l||Yi.test(o)?tp(o.slice(2),l?2:8):je.test(o)?f:+o}function ys(o){return $n(o,Xn(o))}function we(o){return o==null?"":fn(o)}var Oh=Mi(function(o,u){if(Zr(u)||$e(u))$n(u,en(u),o);else for(var l in u)Ce.call(u,l)&&Fo(o,l,u[l])}),mo=Mi(function(o,u){$n(u,Xn(u),o)}),Vs=Mi(function(o,u,l,g){$n(u,Xn(u),o,g)}),nc=Mi(function(o,u,l,g){$n(u,en(u),o,g)}),Pn=Ei(Gl),Na=ue(function(o,u){o=zt(o);var l=-1,g=u.length,b=g>2?u[2]:n;for(b&&Ue(u[0],u[1],b)&&(g=1);++l<g;)for(var E=u[l],O=Xn(E),R=-1,W=O.length;++R<W;){var A=O[R],_=o[A];(_===n||Mr(_,hi[A])&&!Ce.call(o,A))&&(o[A]=E[A])}return o}),as=ue(function(o){return o.push(n,Ga),Mn(Fs,n,o)});function rc(o,u,l){var g=o==null?n:Vr(o,u);return g===n?l:g}function Fi(o,u){return o!=null&&$l(o,u,xl)}var eu=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),o[u]=l},Tl(_n)),rh=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),Ce.call(o,u)?o[u].push(l):o[u]=[l]},Yt),Ms=ue(Po);function en(o){return $e(o)?Wu(o):Ta(o)}function Xn(o){return $e(o)?Wu(o,!0):function(l){if(!We(l))return function(O){var R=[];if(O!=null)for(var W in zt(O))R.push(W);return R}(l);var g=Zr(l),b=[];for(var E in l)(E!="constructor"||!g&&Ce.call(l,E))&&b.push(E);return b}(o)}var Mu=Mi(function(o,u,l){Si(o,u,l)}),Fs=Mi(function(o,u,l,g){Si(o,u,l,g)}),Fu=Ei(function(o,u){var l={};if(o==null)return l;var g=!1;u=Be(u,function(E){return E=ai(E,o),g||(g=E.length>1),E}),$n(o,po(o),l),g&&(l=yr(l,7,Nf));for(var b=u.length;b--;)oi(l,u[b]);return l}),ph=Ei(function(o,u){return o==null?{}:function(l,g){return Zi(l,g,function(b,E){return Fi(l,E)})}(o,u)});function Wn(o,u){if(o==null)return{};var l=Be(po(o),function(g){return[g]});return u=Yt(u),Zi(o,l,function(g,b){return u(g,b[0])})}var Pl=Ul(en),Sc=Ul(Xn);function Zn(o){return o==null?[]:yl(o,en(o))}var Tn=Lo(function(o,u,l){return u=u.toLowerCase(),o+(l?ti(u):u)});function ti(o){return Zo(we(o).toLowerCase())}function li(o){return(o=we(o))&&o.replace(xo,Gc).replace(ln,"")}var No=Lo(function(o,u,l){return o+(l?"-":"")+u.toLowerCase()}),Xa=Lo(function(o,u,l){return o+(l?" ":"")+u.toLowerCase()}),Ec=Eu("toLowerCase"),co=Lo(function(o,u,l){return o+(l?"_":"")+u.toLowerCase()}),Rc=Lo(function(o,u,l){return o+(l?" ":"")+Zo(u)}),Pu=Lo(function(o,u,l){return o+(l?" ":"")+u.toUpperCase()}),Zo=Eu("toUpperCase");function fu(o,u,l){return o=we(o),(u=l?n:u)===n?function(g){return es.test(g)}(o)?function(g){return g.match(hr)||[]}(o):function(g){return g.match(ge)||[]}(o):o.match(u)||[]}var Ps=ue(function(o,u){try{return Mn(o,n,u)}catch(l){return lu(l)?l:new Jt(l)}}),Ja=Ei(function(o,u){return Bn(u,function(l){l=Nn(l),Rr(o,l,ec(o[l],o))}),o});function Tl(o){return function(){return o}}var hu=Uo(),fl=Uo(!0);function _n(o){return o}function ic(o){return Cu(typeof o=="function"?o:yr(o,1))}var ca=ue(function(o,u){return function(l){return Po(l,o,u)}}),Jc=ue(function(o,u){return function(l){return Po(o,l,u)}});function Qa(o,u,l){var g=en(u),b=ma(u,g);l!=null||We(u)&&(b.length||!g.length)||(l=u,u=o,o=this,b=ma(u,en(u)));var E=!(We(l)&&"chain"in l&&!l.chain),O=yi(o);return Bn(b,function(R){var W=u[R];o[R]=W,O&&(o.prototype[R]=function(){var A=this.__chain__;if(E||A){var _=o(this.__wrapped__);return(_.__actions__=An(this.__actions__)).push({func:W,args:arguments,thisArg:o}),_.__chain__=A,_}return W.apply(o,Er([this.value()],arguments))})}),o}function hl(){}var Ac=Oo(Be),cf=Oo(Cs),xf=Oo(Is);function Io(o){return Dr(o)?Da(Nn(o)):function(u){return function(l){return Vr(l,u)}}(o)}var fr=Ku(),ta=Ku(!0);function qr(){return[]}function Ir(){return!1}var Ma,jc=eo(function(o,u){return o+u},0),ws=ra("ceil"),Zu=eo(function(o,u){return o/u},1),ff=ra("floor"),zf=eo(function(o,u){return o*u},1),oc=ra("round"),Qc=eo(function(o,u){return o-u},0);return P.after=function(o,u){if(typeof u!="function")throw new Pe(t);return o=se(o),function(){if(--o<1)return u.apply(this,arguments)}},P.ary=uf,P.assign=Oh,P.assignIn=mo,P.assignInWith=Vs,P.assignWith=nc,P.at=Pn,P.before=Bc,P.bind=ec,P.bindAll=Ja,P.bindKey=bf,P.castArray=function(){if(!arguments.length)return[];var o=arguments[0];return ie(o)?o:[o]},P.chain=Zf,P.chunk=function(o,u,l){u=(l?Ue(o,u,l):u===n)?1:sn(se(u),0);var g=o==null?0:o.length;if(!g||u<1)return[];for(var b=0,E=0,O=pt(Ua(g/u));b<g;)O[E++]=Un(o,b,b+=u);return O},P.compact=function(o){for(var u=-1,l=o==null?0:o.length,g=0,b=[];++u<l;){var E=o[u];E&&(b[g++]=E)}return b},P.concat=function(){var o=arguments.length;if(!o)return[];for(var u=pt(o-1),l=arguments[0],g=o;g--;)u[g-1]=arguments[g];return Er(ie(l)?An(l):[l],gn(u,1))},P.cond=function(o){var u=o==null?0:o.length,l=Yt();return o=u?Be(o,function(g){if(typeof g[1]!="function")throw new Pe(t);return[l(g[0]),g[1]]}):[],ue(function(g){for(var b=-1;++b<u;){var E=o[b];if(Mn(E[0],this,g))return Mn(E[1],this,g)}})},P.conforms=function(o){return function(u){var l=en(u);return function(g){return Vu(g,u,l)}}(yr(o,1))},P.constant=Tl,P.countBy=ms,P.create=function(o,u){var l=Go(o);return u==null?l:Hu(l,u)},P.curry=function o(u,l,g){var b=gr(u,8,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.curryRight=function o(u,l,g){var b=gr(u,16,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.debounce=jf,P.defaults=Na,P.defaultsDeep=as,P.defer=ia,P.delay=ka,P.difference=Ql,P.differenceBy=mf,P.differenceWith=ch,P.drop=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=l||u===n?1:se(u))<0?0:u,g):[]},P.dropRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,0,(u=g-(u=l||u===n?1:se(u)))<0?0:u):[]},P.dropRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0,!0):[]},P.dropWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0):[]},P.fill=function(o,u,l,g){var b=o==null?0:o.length;return b?(l&&typeof l!="number"&&Ue(o,u,l)&&(l=0,g=b),function(E,O,R,W){var A=E.length;for((R=se(R))<0&&(R=-R>A?0:A+R),(W=W===n||W>A?A:se(W))<0&&(W+=A),W=R>W?0:vs(W);R<W;)E[R++]=O;return E}(o,u,l,g)):[]},P.filter=function(o,u){return(ie(o)?Br:au)(o,Yt(u,3))},P.flatMap=function(o,u){return gn(uu(o,u),1)},P.flatMapDeep=function(o,u){return gn(uu(o,u),s)},P.flatMapDepth=function(o,u,l){return l=l===n?1:se(l),gn(uu(o,u),l)},P.flatten=Oa,P.flattenDeep=function(o){return o!=null&&o.length?gn(o,s):[]},P.flattenDepth=function(o,u){return o!=null&&o.length?gn(o,u=u===n?1:se(u)):[]},P.flip=function(o){return gr(o,512)},P.flow=hu,P.flowRight=fl,P.fromPairs=function(o){for(var u=-1,l=o==null?0:o.length,g={};++u<l;){var b=o[u];g[b[0]]=b[1]}return g},P.functions=function(o){return o==null?[]:ma(o,en(o))},P.functionsIn=function(o){return o==null?[]:ma(o,Xn(o))},P.groupBy=Dh,P.initial=function(o){return o!=null&&o.length?Un(o,0,-1):[]},P.intersection=Ml,P.intersectionBy=vf,P.intersectionWith=yf,P.invert=eu,P.invertBy=rh,P.invokeMap=Rf,P.iteratee=ic,P.keyBy=tc,P.keys=en,P.keysIn=Xn,P.map=uu,P.mapKeys=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,u(g,b,E),g)}),l},P.mapValues=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,b,u(g,b,E))}),l},P.matches=function(o){return zs(yr(o,1))},P.matchesProperty=function(o,u){return Wi(o,yr(u,1))},P.memoize=Ju,P.merge=Mu,P.mergeWith=Fs,P.method=ca,P.methodOf=Jc,P.mixin=Qa,P.negate=ks,P.nthArg=function(o){return o=se(o),ue(function(u){return _u(u,o)})},P.omit=Fu,P.omitBy=function(o,u){return Wn(o,ks(Yt(u)))},P.once=function(o){return Bc(2,o)},P.orderBy=function(o,u,l,g){return o==null?[]:(ie(u)||(u=u==null?[]:[u]),ie(l=g?n:l)||(l=l==null?[]:[l]),Qs(o,u,l))},P.over=Ac,P.overArgs=nh,P.overEvery=cf,P.overSome=xf,P.partial=Fl,P.partialRight=lf,P.partition=eh,P.pick=ph,P.pickBy=Wn,P.property=Io,P.propertyOf=function(o){return function(u){return o==null?n:Vr(o,u)}},P.pull=ul,P.pullAll=tu,P.pullAllBy=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,Yt(l,2)):o},P.pullAllWith=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,n,l):o},P.pullAt=fh,P.range=fr,P.rangeRight=ta,P.rearg=ll,P.reject=function(o,u){return(ie(o)?Br:au)(o,ks(Yt(u,3)))},P.remove=function(o,u){var l=[];if(!o||!o.length)return l;var g=-1,b=[],E=o.length;for(u=Yt(u,3);++g<E;){var O=o[g];u(O,g,o)&&(l.push(O),b.push(g))}return zl(o,b),l},P.rest=function(o,u){if(typeof o!="function")throw new Pe(t);return ue(o,u=u===n?u:se(u))},P.reverse=Gu,P.sampleSize=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),(ie(o)?Bi:mi)(o,u)},P.set=function(o,u,l){return o==null?o:os(o,u,l)},P.setWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:os(o,u,l,g)},P.shuffle=function(o){return(ie(o)?Kl:ol)(o)},P.slice=function(o,u,l){var g=o==null?0:o.length;return g?(l&&typeof l!="number"&&Ue(o,u,l)?(u=0,l=g):(u=u==null?0:se(u),l=l===n?g:se(l)),Un(o,u,l)):[]},P.sortBy=Ch,P.sortedUniq=function(o){return o&&o.length?Or(o):[]},P.sortedUniqBy=function(o,u){return o&&o.length?Or(o,Yt(u,2)):[]},P.split=function(o,u,l){return l&&typeof l!="number"&&Ue(o,u,l)&&(u=l=n),(l=l===n?d:l>>>0)?(o=we(o))&&(typeof u=="string"||u!=null&&!Li(u))&&!(u=fn(u))&&ha(o)?Ur(xr(o),0,l):o.split(u,l):[]},P.spread=function(o,u){if(typeof o!="function")throw new Pe(t);return u=u==null?0:sn(se(u),0),ue(function(l){var g=l[u],b=Ur(l,0,u);return g&&Er(b,g),Mn(o,this,b)})},P.tail=function(o){var u=o==null?0:o.length;return u?Un(o,1,u):[]},P.take=function(o,u,l){return o&&o.length?Un(o,0,(u=l||u===n?1:se(u))<0?0:u):[]},P.takeRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=g-(u=l||u===n?1:se(u)))<0?0:u,g):[]},P.takeRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!1,!0):[]},P.takeWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3)):[]},P.tap=function(o,u){return u(o),o},P.throttle=function(o,u,l){var g=!0,b=!0;if(typeof o!="function")throw new Pe(t);return We(l)&&(g="leading"in l?!!l.leading:g,b="trailing"in l?!!l.trailing:b),jf(o,u,{leading:g,maxWait:u,trailing:b})},P.thru=Yu,P.toArray=cl,P.toPairs=Pl,P.toPairsIn=Sc,P.toPath=function(o){return ie(o)?Be(o,Nn):jn(o)?[o]:An(Ic(we(o)))},P.toPlainObject=ys,P.transform=function(o,u,l){var g=ie(o),b=g||Nr(o)||xn(o);if(u=Yt(u,4),l==null){var E=o&&o.constructor;l=b?g?new E:[]:We(o)&&yi(E)?Go(ea(o)):{}}return(b?Bn:bn)(o,function(O,R,W){return u(l,O,R,W)}),l},P.unary=function(o){return uf(o,1)},P.union=Dc,P.unionBy=Hl,P.unionWith=Qf,P.uniq=function(o){return o&&o.length?Yn(o):[]},P.uniqBy=function(o,u){return o&&o.length?Yn(o,Yt(u,2)):[]},P.uniqWith=function(o,u){return u=typeof u=="function"?u:n,o&&o.length?Yn(o,n,u):[]},P.unset=function(o,u){return o==null||oi(o,u)},P.unzip=Cc,P.unzipWith=su,P.update=function(o,u,l){return o==null?o:na(o,u,di(l))},P.updateWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:na(o,u,di(l),g)},P.values=Zn,P.valuesIn=function(o){return o==null?[]:yl(o,Xn(o))},P.without=Mh,P.words=fu,P.wrap=function(o,u){return Fl(di(u),o)},P.xor=Fh,P.xorBy=Ph,P.xorWith=hh,P.zip=Th,P.zipObject=function(o,u){return Yo(o||[],u||[],Fo)},P.zipObjectDeep=function(o,u){return Yo(o||[],u||[],os)},P.zipWith=If,P.entries=Pl,P.entriesIn=Sc,P.extend=mo,P.extendWith=Vs,Qa(P,P),P.add=jc,P.attempt=Ps,P.camelCase=Tn,P.capitalize=ti,P.ceil=ws,P.clamp=function(o,u,l){return l===n&&(l=u,u=n),l!==n&&(l=(l=Qe(l))==l?l:0),u!==n&&(u=(u=Qe(u))==u?u:0),Qi(Qe(o),u,l)},P.clone=function(o){return yr(o,4)},P.cloneDeep=function(o){return yr(o,5)},P.cloneDeepWith=function(o,u){return yr(o,5,u=typeof u=="function"?u:n)},P.cloneWith=function(o,u){return yr(o,4,u=typeof u=="function"?u:n)},P.conformsTo=function(o,u){return u==null||Vu(o,u,en(u))},P.deburr=li,P.defaultTo=function(o,u){return o==null||o!=o?u:o},P.divide=Zu,P.endsWith=function(o,u,l){o=we(o),u=fn(u);var g=o.length,b=l=l===n?g:Qi(se(l),0,g);return(l-=u.length)>=0&&o.slice(l,b)==u},P.eq=Mr,P.escape=function(o){return(o=we(o))&&He.test(o)?o.replace(Oe,Tc):o},P.escapeRegExp=function(o){return(o=we(o))&&bt.test(o)?o.replace(dt,"\\$&"):o},P.every=function(o,u,l){var g=ie(o)?Cs:fc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.find=Bf,P.findIndex=Zl,P.findKey=function(o,u){return ql(o,Yt(u,3),bn)},P.findLast=af,P.findLastIndex=uo,P.findLastKey=function(o,u){return ql(o,Yt(u,3),Sa)},P.floor=ff,P.forEach=wf,P.forEachRight=sf,P.forIn=function(o,u){return o==null?o:hc(o,Yt(u,3),Xn)},P.forInRight=function(o,u){return o==null?o:Ha(o,Yt(u,3),Xn)},P.forOwn=function(o,u){return o&&bn(o,Yt(u,3))},P.forOwnRight=function(o,u){return o&&Sa(o,Yt(u,3))},P.get=rc,P.gt=Lf,P.gte=gc,P.has=function(o,u){return o!=null&&$l(o,u,Ls)},P.hasIn=Fi,P.head=lo,P.identity=_n,P.includes=function(o,u,l,g){o=$e(o)?o:Zn(o),l=l&&!g?se(l):0;var b=o.length;return l<0&&(l=sn(b+l,0)),ku(o)?l<=b&&o.indexOf(u,l)>-1:!!b&&Ii(o,u,l)>-1},P.indexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),Ii(o,u,b)},P.inRange=function(o,u,l){return u=ui(u),l===n?(l=u,u=0):l=ui(l),function(g,b,E){return g>=on(b,E)&&g<sn(b,E)}(o=Qe(o),u,l)},P.invoke=Ms,P.isArguments=Eo,P.isArray=ie,P.isArrayBuffer=_c,P.isArrayLike=$e,P.isArrayLikeObject=Je,P.isBoolean=function(o){return o===!0||o===!1||Le(o)&&tn(o)==w},P.isBuffer=Nr,P.isDate=$o,P.isElement=function(o){return Le(o)&&o.nodeType===1&&!la(o)},P.isEmpty=function(o){if(o==null)return!0;if($e(o)&&(ie(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||xn(o)||Eo(o)))return!o.length;var u=cn(o);if(u==B||u==X)return!o.size;if(Zr(o))return!Ta(o).length;for(var l in o)if(Ce.call(o,l))return!1;return!0},P.isEqual=function(o,u){return _o(o,u)},P.isEqualWith=function(o,u,l){var g=(l=typeof l=="function"?l:n)?l(o,u):n;return g===n?_o(o,u,n,l):!!g},P.isError=lu,P.isFinite=function(o){return typeof o=="number"&&Nc(o)},P.isFunction=yi,P.isInteger=cu,P.isLength=Gn,P.isMap=Qn,P.isMatch=function(o,u){return o===u||jo(o,u,er(u))},P.isMatchWith=function(o,u,l){return l=typeof l=="function"?l:n,jo(o,u,er(u),l)},P.isNaN=function(o){return lr(o)&&o!=+o},P.isNative=function(o){if(Al(o))throw new Jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qu(o)},P.isNil=function(o){return o==null},P.isNull=function(o){return o===null},P.isNumber=lr,P.isObject=We,P.isObjectLike=Le,P.isPlainObject=la,P.isRegExp=Li,P.isSafeInteger=function(o){return cu(o)&&o>=-9007199254740991&&o<=c},P.isSet=Qu,P.isString=ku,P.isSymbol=jn,P.isTypedArray=xn,P.isUndefined=function(o){return o===n},P.isWeakMap=function(o){return Le(o)&&cn(o)==ct},P.isWeakSet=function(o){return Le(o)&&tn(o)=="[object WeakSet]"},P.join=function(o,u){return o==null?"":Wh.call(o,u)},P.kebabCase=No,P.last=Ar,P.lastIndexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g;return l!==n&&(b=(b=se(l))<0?sn(g+b,0):on(b,g-1)),u==u?function(E,O,R){for(var W=R+1;W--;)if(E[W]===O)return W;return W}(o,u,b):jr(o,Bs,b,!0)},P.lowerCase=Xa,P.lowerFirst=Ec,P.lt=Wo,P.lte=Ae,P.max=function(o){return o&&o.length?Wa(o,_n,Ho):n},P.maxBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),Ho):n},P.mean=function(o){return xu(o,_n)},P.meanBy=function(o,u){return xu(o,Yt(u,2))},P.min=function(o){return o&&o.length?Wa(o,_n,dr):n},P.minBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),dr):n},P.stubArray=qr,P.stubFalse=Ir,P.stubObject=function(){return{}},P.stubString=function(){return""},P.stubTrue=function(){return!0},P.multiply=zf,P.nth=function(o,u){return o&&o.length?_u(o,se(u)):n},P.noConflict=function(){return ze._===this&&(ze._=pf),this},P.noop=hl,P.now=Xu,P.pad=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;if(!u||g>=u)return o;var b=(u-g)/2;return Xo($u(b),l)+o+Xo(Ua(b),l)},P.padEnd=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?o+Xo(u-g,l):o},P.padStart=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?Xo(u-g,l)+o:o},P.parseInt=function(o,u,l){return l||u==null?u=0:u&&(u=+u),Du(we(o).replace(Ot,""),u||0)},P.random=function(o,u,l){if(l&&typeof l!="boolean"&&Ue(o,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof o=="boolean"&&(l=o,o=n)),o===n&&u===n?(o=0,u=1):(o=ui(o),u===n?(u=o,o=0):u=ui(u)),o>u){var g=o;o=u,u=g}if(l||o%1||u%1){var b=df();return on(o+b*(u-o+xa("1e-"+((b+"").length-1))),u)}return fs(o,u)},P.reduce=function(o,u,l){var g=ie(o)?Jr:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,ki)},P.reduceRight=function(o,u,l){var g=ie(o)?ef:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,Ss)},P.repeat=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),Us(we(o),u)},P.replace=function(){var o=arguments,u=we(o[0]);return o.length<3?u:u.replace(o[1],o[2])},P.result=function(o,u,l){var g=-1,b=(u=ai(u,o)).length;for(b||(b=1,o=n);++g<b;){var E=o==null?n:o[Nn(u[g])];E===n&&(g=b,E=l),o=yi(E)?E.call(o):E}return o},P.round=oc,P.runInContext=J,P.sample=function(o){return(ie(o)?En:Es)(o)},P.size=function(o){if(o==null)return 0;if($e(o))return ku(o)?Wr(o):o.length;var u=cn(o);return u==B||u==X?o.size:Ta(o).length},P.snakeCase=co,P.some=function(o,u,l){var g=ie(o)?Is:Xc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.sortedIndex=function(o,u){return Fn(o,u)},P.sortedIndexBy=function(o,u,l){return to(o,u,Yt(l,2))},P.sortedIndexOf=function(o,u){var l=o==null?0:o.length;if(l){var g=Fn(o,u);if(g<l&&Mr(o[g],u))return g}return-1},P.sortedLastIndex=function(o,u){return Fn(o,u,!0)},P.sortedLastIndexBy=function(o,u,l){return to(o,u,Yt(l,2),!0)},P.sortedLastIndexOf=function(o,u){if(o!=null&&o.length){var l=Fn(o,u,!0)-1;if(Mr(o[l],u))return l}return-1},P.startCase=Rc,P.startsWith=function(o,u,l){return o=we(o),l=l==null?0:Qi(se(l),0,o.length),u=fn(u),o.slice(l,l+u.length)==u},P.subtract=Qc,P.sum=function(o){return o&&o.length?Ys(o,_n):0},P.sumBy=function(o,u){return o&&o.length?Ys(o,Yt(u,2)):0},P.template=function(o,u,l){var g=P.templateSettings;l&&Ue(o,u,l)&&(u=n),o=we(o),u=Vs({},u,g,$s);var b,E,O=Vs({},u.imports,g.imports,$s),R=en(O),W=yl(O,R),A=0,_=u.interpolate||Ai,T="__p += '",U=Ne((u.escape||Ai).source+"|"+_.source+"|"+(_===cr?Xe:Ai).source+"|"+(u.evaluate||Ai).source+"|$","g"),G="//# sourceURL="+(Ce.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;o.replace(U,function(tt,ut,ot,wt,yt,jt){return ot||(ot=wt),T+=o.slice(A,jt).replace(us,Lu),ut&&(b=!0,T+=`' +
__e(`+ut+`) +
'`),yt&&(E=!0,T+=`';
`+yt+`;
__p += '`),ot&&(T+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),A=jt+tt.length,tt}),T+=`';
`;var Z=Ce.call(u,"variable")&&u.variable;if(Z){if(Ee.test(Z))throw new Jt("Invalid `variable` option passed into `_.template`")}else T=`with (obj) {
`+T+`
}
`;T=(E?T.replace(Lt,""):T).replace(ee,"$1").replace(pe,"$1;"),T="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var K=Ps(function(){return Fe(R,G+"return "+T).apply(n,W)});if(K.source=T,lu(K))throw K;return K},P.times=function(o,u){if((o=se(o))<1||o>c)return[];var l=d,g=on(o,d);u=Yt(u),o-=d;for(var b=Il(g,u);++l<o;)u(l);return b},P.toFinite=ui,P.toInteger=se,P.toLength=vs,P.toLower=function(o){return we(o).toLowerCase()},P.toNumber=Qe,P.toSafeInteger=function(o){return o?Qi(se(o),-9007199254740991,c):o===0?o:0},P.toString=we,P.toUpper=function(o){return we(o).toUpperCase()},P.trim=function(o,u,l){if((o=we(o))&&(l||u===n))return Bl(o);if(!o||!(u=fn(u)))return o;var g=xr(o),b=xr(u);return Ur(g,wl(g,b),Xs(g,b)+1).join("")},P.trimEnd=function(o,u,l){if((o=we(o))&&(l||u===n))return o.slice(0,La(o)+1);if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,0,Xs(g,xr(u))+1).join("")},P.trimStart=function(o,u,l){if((o=we(o))&&(l||u===n))return o.replace(Ot,"");if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,wl(g,xr(u))).join("")},P.truncate=function(o,u){var l=30,g="...";if(We(u)){var b="separator"in u?u.separator:b;l="length"in u?se(u.length):l,g="omission"in u?fn(u.omission):g}var E=(o=we(o)).length;if(ha(o)){var O=xr(o);E=O.length}if(l>=E)return o;var R=l-Wr(g);if(R<1)return g;var W=O?Ur(O,0,R).join(""):o.slice(0,R);if(b===n)return W+g;if(O&&(R+=W.length-R),Li(b)){if(o.slice(R).search(b)){var A,_=W;for(b.global||(b=Ne(b.source,we(Se.exec(b))+"g")),b.lastIndex=0;A=b.exec(_);)var T=A.index;W=W.slice(0,T===n?R:T)}}else if(o.indexOf(fn(b),R)!=R){var U=W.lastIndexOf(b);U>-1&&(W=W.slice(0,U))}return W+g},P.unescape=function(o){return(o=we(o))&&qe.test(o)?o.replace(ve,lc):o},P.uniqueId=function(o){var u=++kh;return we(o)+u},P.upperCase=Pu,P.upperFirst=Zo,P.each=wf,P.eachRight=sf,P.first=lo,Qa(P,(Ma={},bn(P,function(o,u){Ce.call(P.prototype,u)||(Ma[u]=o)}),Ma),{chain:!1}),P.VERSION="4.17.21",Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){P[o].placeholder=P}),Bn(["drop","take"],function(o,u){ce.prototype[o]=function(l){l=l===n?1:sn(se(l),0);var g=this.__filtered__&&!u?new ce(this):this.clone();return g.__filtered__?g.__takeCount__=on(l,g.__takeCount__):g.__views__.push({size:on(l,d),type:o+(g.__dir__<0?"Right":"")}),g},ce.prototype[o+"Right"]=function(l){return this.reverse()[o](l).reverse()}}),Bn(["filter","map","takeWhile"],function(o,u){var l=u+1,g=l==1||l==3;ce.prototype[o]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Yt(b,3),type:l}),E.__filtered__=E.__filtered__||g,E}}),Bn(["head","last"],function(o,u){var l="take"+(u?"Right":"");ce.prototype[o]=function(){return this[l](1).value()[0]}}),Bn(["initial","tail"],function(o,u){var l="drop"+(u?"":"Right");ce.prototype[o]=function(){return this.__filtered__?new ce(this):this[l](1)}}),ce.prototype.compact=function(){return this.filter(_n)},ce.prototype.find=function(o){return this.filter(o).head()},ce.prototype.findLast=function(o){return this.reverse().find(o)},ce.prototype.invokeMap=ue(function(o,u){return typeof o=="function"?new ce(this):this.map(function(l){return Po(l,o,u)})}),ce.prototype.reject=function(o){return this.filter(ks(Yt(o)))},ce.prototype.slice=function(o,u){o=se(o);var l=this;return l.__filtered__&&(o>0||u<0)?new ce(l):(o<0?l=l.takeRight(-o):o&&(l=l.drop(o)),u!==n&&(l=(u=se(u))<0?l.dropRight(-u):l.take(u-o)),l)},ce.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ce.prototype.toArray=function(){return this.take(d)},bn(ce.prototype,function(o,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),b=P[g?"take"+(u=="last"?"Right":""):u],E=g||/^find/.test(u);b&&(P.prototype[u]=function(){var O=this.__wrapped__,R=g?[1]:arguments,W=O instanceof ce,A=R[0],_=W||ie(O),T=function(ut){var ot=b.apply(P,Er([ut],R));return g&&U?ot[0]:ot};_&&l&&typeof A=="function"&&A.length!=1&&(W=_=!1);var U=this.__chain__,G=!!this.__actions__.length,Z=E&&!U,K=W&&!G;if(!E&&_){O=K?O:new ce(this);var tt=o.apply(O,R);return tt.__actions__.push({func:Yu,args:[T],thisArg:n}),new or(tt,U)}return Z&&K?o.apply(this,R):(tt=this.thru(T),Z?g?tt.value()[0]:tt.value():tt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var u=vr[o],l=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",g=/^(?:pop|shift)$/.test(o);P.prototype[o]=function(){var b=arguments;if(g&&!this.__chain__){var E=this.value();return u.apply(ie(E)?E:[],b)}return this[l](function(O){return u.apply(ie(O)?O:[],b)})}}),bn(ce.prototype,function(o,u){var l=P[u];if(l){var g=l.name+"";Ce.call(Mo,g)||(Mo[g]=[]),Mo[g].push({name:u,func:l})}}),Mo[To(n,2).name]=[{name:"wrapper",func:n}],ce.prototype.clone=function(){var o=new ce(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o},ce.prototype.reverse=function(){if(this.__filtered__){var o=new ce(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},ce.prototype.value=function(){var o=this.__wrapped__.value(),u=this.__dir__,l=ie(o),g=u<0,b=l?o.length:0,E=function(jt,xt,It){for(var ae=-1,Ht=It.length;++ae<Ht;){var ye=It[ae],oe=ye.size;switch(ye.type){case"drop":jt+=oe;break;case"dropRight":xt-=oe;break;case"take":xt=on(xt,jt+oe);break;case"takeRight":jt=sn(jt,xt-oe)}}return{start:jt,end:xt}}(0,b,this.__views__),O=E.start,R=E.end,W=R-O,A=g?R:O-1,_=this.__iteratees__,T=_.length,U=0,G=on(W,this.__takeCount__);if(!l||!g&&b==W&&G==W)return qa(o,this.__actions__);var Z=[];t:for(;W--&&U<G;){for(var K=-1,tt=o[A+=u];++K<T;){var ut=_[K],ot=ut.iteratee,wt=ut.type,yt=ot(tt);if(wt==2)tt=yt;else if(!yt){if(wt==1)continue t;break t}}Z[U++]=tt}return Z},P.prototype.at=th,P.prototype.chain=function(){return Zf(this)},P.prototype.commit=function(){return new or(this.value(),this.__chain__)},P.prototype.next=function(){this.__values__===n&&(this.__values__=cl(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?n:this.__values__[this.__index__++]}},P.prototype.plant=function(o){for(var u,l=this;l instanceof Pt;){var g=Au(l);g.__index__=0,g.__values__=n,u?b.__wrapped__=g:u=g;var b=g;l=l.__wrapped__}return b.__wrapped__=o,u},P.prototype.reverse=function(){var o=this.__wrapped__;if(o instanceof ce){var u=o;return this.__actions__.length&&(u=new ce(this)),(u=u.reverse()).__actions__.push({func:Yu,args:[Gu],thisArg:n}),new or(u,this.__chain__)}return this.thru(Gu)},P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=function(){return qa(this.__wrapped__,this.__actions__)},P.prototype.first=P.prototype.head,io&&(P.prototype[io]=function(){return this}),P}();kr?((kr.exports=Co)._=Co,$i._=Co):ze._=Co}).call(XC.exports)),XC.exports);function U6(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}(function(){function n(t,e){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=e,this.rootNode=t(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}return Object.defineProperty(n.prototype,"windows",{get:function(){var t=function(e){return kv([e],e.children.flatMap(t))};return Ist.orderBy(t(this.rootNode),function(e){return e.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var t=function(e){var r=e._boxSnapshot,i=[];if(i.push("KEY: ".concat(e.key)),e._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(e.getLayer())),i.push("BOX: [".concat(e.o[0],", ").concat(e.o[1],", ").concat(e.w,", ").concat(e.h,"]")),i.push("GLOBAL O: [".concat(e.globalO[0],", ").concat(e.globalO[1],"]")),i.push("CHILDREN:"),e.children.length>0){for(var a=e.children,s=[],c=0;c<a.length;c++){var f=a[c];s.push(t(f))}for(i.push(" |"),c=0;c<s.length;c++){for(var d=s[c],h=c===s.length-1?" ":" ",m=0;m<d.length;m++){var y=m===0?h:c===s.length-1?"   ":" | ",w=d[m];i.push("".concat(y,"  ").concat(w))}c<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("   (no children)");return e._boxSnapshot=r,i};console.log(t(this.rootNode).join(`
`))},n.prototype.onUpdate=function(t){this.onUpdateFunction=t},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new xs(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new xs([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(t,e){var r=this.scheduleUpdate(t);this.scheduledStateUpdates.push([r,function(){t.state=e}])},n.prototype.scheduleContextUpdate=function(t,e,r){var i=this.scheduleUpdate(t);this.scheduledStateUpdates.push([i,function(){t.context[e]=r}])},n.prototype.setSingleUpdateFlag=function(t,e){this.scheduledUpdateNodeMap[e]||(this.scheduledUpdateNodeMap[e]={}),this.scheduledUpdateNodeMap[e][t.globalKey]=!0},n.prototype.scheduleUpdate=function(t){var e=this,r=function(){e.DEBUG&&console.log("Scheduling update for ".concat(t.globalKey,". Received id ").concat(e.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=U6();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(e.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(e.scheduledUpdateIds,null,2),`.
                    `)),e.updateRunning=!0;e.scheduledUpdateIds.length>0;)e.updateScheduled=!1,e.updateCurrentId();e.updateRunning=!1}),this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=U6(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(t){console.error(t)}},n.prototype.propogateUpdateFlags=function(t){var e=this,r=function(i,a,s){e.scheduledUpdateNodeMap[a]||(e.scheduledUpdateNodeMap[a]={}),e.scheduledUpdateNodeMap[a][i.globalKey]&&(s=!0),e.scheduledUpdateNodeMap[a][i.globalKey]=s,i.children.forEach(function(c){return r(c,a,s)})};r(this.rootNode,t,!1)},n.prototype.updateCurrentId=function(){var t=this,e=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[e]).forEach(function(i){t.propogateUpdateFlags(e)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==e}),this.scheduledStateUpdates.filter(function(i){return i[0]===e}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==e});var r=this.scheduledUpdateNodeMap[e];this.update(r),delete this.scheduledUpdateNodeMap[e]},n.prototype.taintLayer=function(t){this.taintedLayers.includes(t)||this.taintedLayers.push(t)},n.prototype.findCameraPathRecursive=function(t,e){var r,i;if(t._isPrimaryCamera){var a=t.globalKey;return Kh(Kh({},e),((r={})[a]=!0,r))}for(var s=t.children,c=0;c<s.length;c++){var f=s[c],d=(a=f.globalKey,Kh(Kh({},e),((i={})[a]=!0,i))),h=this.findCameraPathRecursive(f,d);if(h)return h}},n.prototype.AND_updateMaps=function(t,e){var r={};for(var i in t)e[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(t,e){var r={};for(var i in t)e[i]||(r[i]=!0);for(var i in e)t[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(t,e){var r=this.AND_updateMaps(t,e);return[r,this.XOR_updateMaps(t,r)]},n.prototype.setNeedsUpdateToMap=function(t){var e=function(r){var i=r.globalKey;t[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(t){var e=function(r){var i=r.globalKey;t[i]&&(r._needsUpdate=!0),r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.installCamera=function(t){this.cameraNode!==t&&(this.scheduledCameraNode=t,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(t){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var e=this.findCameraPathRecursive(this.rootNode,{});if(!e)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(t,e),i=r[0],a=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(a),null,2),`
            `));var s=function(c,f){c._needsUpdate?f?c.cameraPassUpdateSelf():c.regularPassUpdateSelf():c.children.forEach(function(d){return s(d,f)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(a),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get 2d context from canvas");t.clearRect(0,0,this.canvas.width,this.canvas.height),function(r,i,a,s,c){var f=(r=new xs(kv([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(w){return Hy(w.getBoundingBox(),f)}),h=Array.from(new Set(d.map(function(w){return w.getLayer()}))).sort(function(w,C){return w-C});s.clearRect(0,0,a.width,a.height);for(var m=function(w){var C=h[w],k=d.filter(function(X){return X.getLayer()===h[w]});if(c.includes(C)){var M=C+"";if(Nb[M]===void 0){var N=document.createElement("canvas");N.width=a.width,N.height=a.height,Nb[M]=N}var B=Nb[M],L=B.getContext("2d");L.clearRect(0,0,B.width,B.height);for(var z=0,q=k;z<q.length;z++)q[z].renderPrimitive(L)}var V=C+"";Nb[V]&&s.drawImage(Nb[V],0,0)},y=0;y<h.length;y++)m(y)}(this.cameraSnapshot,this.windows,this.canvas,t,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new xs(kv([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return Hy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onMouseDownPrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseMoveHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new xs(kv([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return Hy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onMouseMovePrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseUpHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new xs(kv([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return Hy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onMouseUpPrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseWheelHandler=function(t){(function(r,i,a,s){for(var c=(r=new xs(kv([],r.o),r.w,r.h)).getBoundingBox(),f=i.filter(function(w){return Hy(w.getBoundingBox(),c)}).reverse(),d=!0,h=function(){d=!1},m=0,y=f;m<y.length&&(y[m].onWheelPrimitive(h,s),d);m++);})(this.cameraSnapshot,this.windows,this.canvas,t)},n.prototype.clickHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new xs(kv([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return Hy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onClickPrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n})();var Os={TrackPadding:15,OffsetX:15,OffsetY:45,PinDiameter:15,TrackMinHeight:50,TrackMaxHeight:500,PixelsPerFrame:10,TimelineHeight:50,PinTransformerPadding:15},Bst=10,ZH=19,Rst=20,jst=21,gb=29,Lst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),Object.defineProperty(t.prototype,"displayDimensions",{get:function(){var e=this.context.p.displayDimensions;return[e.width,e.height]},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(t.prototype,"canvasDimensions",{get:function(){var e=this.context.p.signalHeights,r=Object.entries(e).reduce(function(f,d){return d[0],f+d[1]},0)+2*Os.OffsetY,i=this.context.p.project.timelineData.numberOfFrames*Os.PixelsPerFrame+2*Os.OffsetX,a=this.displayDimensions,s=a[0],c=a[1];return[Math.max(i,s),Math.max(r,c)]},enumerable:!1,configurable:!0}),t.prototype.translate=function(e,r){var i=this.canvasDimensions,a=i[0],s=i[1],c=lm([],e.o,!0),f=e.w,d=e.h,h=[c=gd(c,r),gd(c,[f,0]),gd(c,[0,d]),gd(c,[f,d])],m=Math.min.apply(Math,h.map(function(M){return M[0]})),y=Math.max.apply(Math,h.map(function(M){return M[0]})),w=Math.min.apply(Math,h.map(function(M){return M[1]})),C=Math.max.apply(Math,h.map(function(M){return M[1]})),k=[0,0];return m<0?k[0]=-m:y>a&&(k[0]=a-y),w<0?k[1]=-w:C>s&&(k[1]=s-C),lm([],c,!0),c=gd(c,k),new xs(c,f,d)},t.prototype.withinBounds=function(e,r,i,a){return a===void 0&&(a=1e-10),e>=r-a&&e<=i+a},t.prototype.updateDimensions=function(e,r,i){this.setState(pl(pl({},this.state),{cameraBox:new xs(e,r,i)})),this.checkBounds()},t.prototype.checkBounds=function(){var e,r,i,a=this.canvasDimensions,s=a[0],c=a[1];e=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,e[0]=Math.max(Math.min(e[0],s),0),e[1]=Math.max(Math.min(e[1],c),0),r=Math.max(Math.min(r,s-e[0]),0),i=Math.max(Math.min(i,c-e[1]),0),this.setState(pl(pl({},this.state),{cameraBox:new xs(e,r,i)}))},t.prototype.onGlobalWindowChange=function(){},t.prototype.scale=function(e,r,i){var a,s,c,f=this.canvasDimensions,d=f[0],h=f[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");a=e.o;var m=d/(s=e.w),y=h/(c=e.h),w=s*(r=[Math.min(r[0],m),Math.min(r[1],y)])[0],C=c*r[1],k=[i[0]-a[0],i[1]-a[1]],M=k[0],N=k[1],B=up(i,[a[0]+M*r[0],a[1]+N*r[1]]);return s=w,c=C,this.translate(new xs(a,s,c),B)},t.prototype.getCenter=function(){return gd(this.o,[this.w/2,this.h/2])},t.prototype.getBox=function(){return this.state.cameraBox},t}(el),zst=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=Rst,e.scaleAnchor=[0,0],e}return Ki(t,n),t.prototype.windowDidMount=function(){n.prototype.windowDidMount.call(this),this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:new xs([0,0],this.displayDimensions[0],this.displayDimensions[1])})},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e,r){if(r.button===1){var i=e.terminateEvent,a=e.canvasPos;this.setState(pl(pl({},this.state),{lastMousePosition:a,isPanning:!0})),i()}},t.prototype.onMouseMove=function(e,r){var i=e.terminateEvent,a=e.canvasPos;e.absolutePos;var s=e.canvasUnit,c=s[0],f=s[1],d=pl({},this.state);if(this.scaleAnchor=a,this.state.isPanning){i();var h=up(a,this.state.lastMousePosition),m=h[0],y=h[1],w=this.translate(this.state.cameraBox.clone(),[-m*c,-y*f]);d=pl(pl({},d),{lastMousePosition:a,cameraBox:w}),this.setState(d)}},t.prototype.onMouseUp=function(e,r){this.setState(pl(pl({},this.state),{isPanning:!1}))},t.prototype.onWheel=function(e,r){var i=e.terminateEvent,a=e.canvasToAbsoluteMeasure,s=r.deltaX,c=r.deltaY,f=r.ctrlKey,d=r.altKey;if(f){var h=1;if(h=s!==0?1+.01*s:1-.01*c,!d){if(this.w*h<5*Os.PixelsPerFrame)return;var m=this.scale(this.state.cameraBox.clone(),[Math.max(.1,h),1],this.scaleAnchor);this.setState(pl(pl({},this.state),{cameraBox:m}))}}else{var y=a([s,c]),w=y[0],C=y[1];m=this.translate(this.state.cameraBox.clone(),[w,C]),this.setState(pl(pl({},this.state),{cameraBox:m}))}i()},t.prototype.render=function(e){},t}(Lst),BD=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=Os.PinDiameter/2*r,s=Os.PinDiameter/2*i,c=this.parentW-Os.PinDiameter*r,f=this.parentH-Os.PinDiameter*i;return new xs([a,s],c,f)},t}(el),RD=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){this.setContext("signalId",e.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[e.signalId])},t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=this.context.p.signalStartHeights,s=this.context.p.signalHeights,c=a[this.props.signalId],f=Os.OffsetX*r,d=Os.OffsetY*i+c,h=this.context.p.project.timelineData.numberOfFrames*Os.PixelsPerFrame,m=s[this.props.signalId]-Os.TrackPadding*i;return new xs([f,d],h,m)},t}(el),cN=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){this.setContext("pinId",e.pinId);var r=this.pinCoords;r.frame;var i=r.value,a=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5,this.context.p.project.timelineData.numberOfFrames,a[0],a[1],a[0],this.parentW,this.parentH},Object.defineProperty(t.prototype,"pinCoords",{get:function(){return{frame:this.context.p.project.signalData[this.context.signalId].pinTimes[this.props.pinId],value:this.context.p.project.orgData.signalTypes[this.context.signalId]==="continuous"?this.context.p.project.signalData[this.context.signalId].pinValues[this.props.pinId]:void 0}},enumerable:!1,configurable:!0}),t.prototype.getBox=function(){var e=this.pinCoords,r=e.frame,i=e.value,a=this.context.signalType==="continuous"?this.context.p.project.signalData[this.context.signalId].range:[0,1];i=this.context.signalType==="continuous"?i:.5;var s=r/this.context.p.project.timelineData.numberOfFrames,c=(i-a[0])/(a[1]-a[0]),f=s*this.parentW,d=(1-c)*this.parentH;return new xs([f,d],0,0)},t}(el),tV=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=-Os.PinDiameter/2*r,s=-Os.PinDiameter/2*i,c=Os.PinDiameter*r,f=Os.PinDiameter*i;return new xs([a,s],c,f)},t}(el),Ust=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.render=function(e){var r,i,a=this.w,s=this.h,c=[[a/2,0],[a,s/2],[a/2,s],[0,s/2]];e.ctx.beginPath(),(r=e.ctx).moveTo.apply(r,e.localToCanvas(c[0]));for(var f=1;f<c.length;f++)(i=e.ctx).lineTo.apply(i,e.localToCanvas(c[f]));e.ctx.closePath(),e.ctx.fillStyle="yellow",e.ctx.fill()},t}(tV),$st=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){return[Ust.Node()]},t}(cN),eV=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){this.setContext("pinId",e.pinId)},t.prototype.calculateSegmentAttributes=function(){var e=pl({},this.context.p.project.signalData[this.context.signalId].pinTimes);e.__start__=-1;var r=Object.keys(e).sort(function(s,c){return e[s]-e[c]}),i=r.indexOf(this.props.pinId),a=r[i-1];return e[a]=Math.max(0,e[a]),e[this.props.pinId],e[a],{startFrame:e[a],endFrame:e[this.props.pinId]}},t.prototype.getBox=function(){var e=this.calculateSegmentAttributes(),r=e.startFrame,i=e.endFrame,a=this.context.p.project.timelineData.numberOfFrames,s=r/a,c=i/a,f=s*this.parentW,d=(c-s)*this.parentW,h=this.parentH;return new xs([f,0],d,h)},t}(el),Wst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0];e[1];var i=[0,this.parentH/2+5*r],a=this.parentW;return new xs(i,a,5*r)},t.prototype.render=function(e){var r=e.ctx;e.localToCanvas,e.canvasToLocal;var i=e.absoluteToCanvasMeasure,a=e.canvasToAbsoluteMeasure,s=this.context.p.project.signalData[this.context.signalId].pinValues[this.context.pinId],c=i([this.w,0]),f=c[0];c[1],r.fillStyle="white",r.font="20px Sans-serif";for(var d=s;r.measureText(d).width+15>f&&d!=="";){var h=d.split("");h.pop(),d=h.join("")}var m=a([r.measureText(d).width+15,0]),y=m[0];m[1];var w=e.absoluteO,C=w[0],k=w[1],M=this.absoluteUnit,N=M[0];M[1];var B=[C+(this.w-y)*N,k],L=B[0],z=B[1];r.fillText(d,L,z)},t}(el),Hst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return e.push(Wst.Node()),e},t.prototype.getBox=function(){return new xs([0,0],this.parentW,this.parentH)},t}(el),Vst=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.pinCoordinatePoints=[],e}return Ki(t,n),t.prototype.getBox=function(){return new xs([0,0],this.parentW,this.parentH)},t.prototype.windowDidUpdate=function(e){this.pinCoordinatePoints=this.calculatePinCoordinatePoints()},t.prototype.calculatePinCoordinatePoints=function(){var e=this.context.pinId,r=this.context.signalId,i=this.context.p,a=i.project,s=i.interpolateSignalValue,c=a.signalData[r].pinTimes,f=Object.entries(c).sort(function(L,z){return L[1]-z[1]}),d=f.findIndex(function(L){var z=L[0];return L[1],z===e}),h=d-1>=0?d-1:void 0,m=h!==void 0?f[h][1]:0,y=a.signalData[r].pinTimes[e];y=y<m?m:y;for(var w=[],C=m;C<=y;C++){var k=s(r,C),M=k[0],N=k[1],B=N.length>0;B&&console.error(N),w.push([C,M,B])}return w},t.prototype.render=function(e){var r=this,i=e.ctx,a=e.localToCanvas;e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure;var s=a,c=this.pinCoordinatePoints;this.context.p;for(var f=this.context.signalId,d=c.map(function(w){var C=w[0],k=w[1],M=w[2],N=up(r.context.PinPositionMeasurementHelper.getImaginaryPinPosition(f,C,k),r.globalO);return lm(lm([],s(N),!0),[M],!1)}),h=0;h<d.length-1;h++){var m=d[h],y=d[h+1];i.beginPath(),i.arc(m[0],m[1],2,0,2*Math.PI),i.fillStyle=m[2]?"red":"yellow",i.fill(),i.beginPath(),i.moveTo(m[0],m[1]),i.lineTo(y[0],y[1]),i.strokeStyle=y[2]?"red":"yellow",i.stroke()}},t}(el),qst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return this.context.signalType==="continuous"?e.push(Vst.Node()):e.push(Hst.Node()),e},t.prototype.render=function(e){var r,i=e.localToCanvas,a=this.absoluteUnit,s=a[0],c=a[1],f=this.context.signalType==="continuous"?"4A5F9D":"915050";e.ctx.beginPath(),(r=e.ctx).roundRect.apply(r,lm(lm([],i([0,0]),!1),[this.w*s,this.h*c,[15,0,0,15]],!1)),e.ctx.strokeStyle="#".concat(f),e.ctx.lineWidth=1,e.ctx.stroke(),e.ctx.closePath()},t}(eV),Kst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){for(var e,r=[],i=(e=this.context.p.project.signalData[this.context.signalId])===null||e===void 0?void 0:e.pinIds,a=0,s=i;a<s.length;a++){var c=s[a],f=qst.Node({pinId:c,key:"s"+c});r.push(f)}for(var d=0,h=i;d<h.length;d++){c=h[d];var m=$st.Node({pinId:c,key:"p"+c});r.push(m)}return r},t.prototype.render=function(e){var r=e.ctx,i=this.context.p.project.timelineData.focusRange,a=i[0],s=i[1],c=this.context.p.project.timelineData.numberOfFrames,f=[a/c,s/c],d=f[0],h=f[1]-d;r.fillStyle="rgba(255,255,255,0.05)";var m=e.absoluteO,y=m[0],w=m[1],C=e.absoluteUnit,k=C[0],M=C[1];r.fillRect(y+d*this.w*k,w,h*this.w*k,this.h*M)},t}(BD),Gst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this.parentW,r=this.parentH;return new xs([0,0],e,r)},t.prototype.render=function(e){var r=e.ctx;e.localToCanvas,e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure,r.fillStyle="#ffffff80",r.font="".concat(14,"px Sans-serif");var i=this.context.signalId,a=e.absoluteO;a[0];var s=[5,a[1]+14+5],c=s[0],f=s[1];r.fillText(i,c,f)},t}(el),Yst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),Object.defineProperty(t.prototype,"p",{get:function(){return this.context.externalProjectAPI},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){var e=[];return e.push(Kst.Node()),e.push(Gst.Node()),e},t.prototype.render=function(e){var r,i,a=this.context.signalType==="continuous"?"243157":"562F2F",s=this.absoluteUnit;s[0];var c=s[1],f=e.absoluteO;f[0];var d=f[1],h=e.canvasDimensions[0],m=[[0,d],[h,d],[h,d+this.h*c],[0,d+this.h*c]];e.ctx.fillStyle="#".concat(a),e.ctx.beginPath(),(r=e.ctx).moveTo.apply(r,m[0]);for(var y=1;y<m.length;y++)(i=e.ctx).lineTo.apply(i,m[y]);e.ctx.fill()},t}(RD),Xst=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=gb,e.side=30,e.dragging=!1,e}return Ki(t,n),t.prototype.getBox=function(){var e=this.context.p.project.timelineData,r=e.numberOfFrames,i=e.playheadPosition/r*this.parentW,a=this.canvasO;a[0],a[1];var s=this.canvasUnit,c=s[0],f=s[1],d=this.side*c,h=this.side*f;return new xs([i-d/2,0],d,h)},t.prototype.onMouseDown=function(e){e.pointInside&&(this.dragging=!0,e.terminateEvent())},t.prototype.onMouseMove=function(e){if(this.dragging){e.terminateEvent();var r=e.absolutePos,i=r[0];r[1];var a=(0,e.canvasToAbsoluteMeasure)([Os.OffsetX,0]),s=a[0];a[1];var c=i-s,f=Math.floor(c/Os.PixelsPerFrame);f=Math.min(Math.max(f,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(f)}},t.prototype.onMouseUp=function(e){if(this.dragging){e.terminateEvent();var r=e.absolutePos,i=r[0];r[1];var a=(0,e.canvasToAbsoluteMeasure)([Os.OffsetX,0]),s=a[0];a[1];var c=i-s,f=Math.floor(c/Os.PixelsPerFrame);f=Math.min(Math.max(f,0),this.context.p.project.timelineData.numberOfFrames),this.context.p.projectTools.updatePlayheadPosition(f,!0)}this.dragging=!1},t.prototype.render=function(e){e.canvasToLocal,e.canvasToAbsoluteMeasure,e.absoluteToCanvasMeasure;var r=e.localToCanvas,i=e.ctx,a=r,s=[[0,0],[this.w,0],[this.w/2,this.h]].map(function(c){return a(c)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineTo.apply(i,s[2]),i.lineTo.apply(i,s[0]),i.fillStyle="aquamarine",i.lineWidth=2,i.fill(),i.closePath()},t}(el),Jst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this.context.p.project.timelineData,r=e.numberOfFrames,i=e.playheadPosition/r*this.parentW,a=this.canvasO;a[0],a[1];var s=this.canvasUnit;s[0],s[1];var c=this._cameraSnapshot.h;return new xs([i-0,0],0,c)},t.prototype.render=function(e){var r=e.localToCanvas,i=e.ctx,a=r,s=[[0,0],[0,this.h]].map(function(c){return a(c)});i.beginPath(),i.moveTo.apply(i,s[0]),i.lineTo.apply(i,s[1]),i.lineWidth=2,i.strokeStyle="aquamarine",i.stroke()},t}(el),Qst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){return new xs([0,0],this.parentW,20)},t.prototype.itemsOnScreen=function(e){var r=this.parentW/e;return Math.floor(this._cameraSnapshot.w/r)},t.prototype.render=function(e){for(var r=this,i=e.ctx,a=this.context.p.project.timelineData.numberOfFrames,s=this.context.p.project.timelineData.framesPerSecond,c=function(M){var N=[];return N.push(1),M%2==0&&(N.push(2),N.push(M/2)),M%3==0&&(N.push(3),N.push(M/3)),M%5==0&&(N.push(5),N.push(M/5)),M%10==0&&(N.push(10),N.push(M/10)),N.push(M),N.push(2*M),N.push(5*M),N.push(10*M),N}(s),f=c.map(function(M){var N=Math.floor(a/M);return[M,r.itemsOnScreen(N)]}),d=f.map(function(M){var N=M[0],B=M[1];return[N,Math.abs(B-10)]}).sort(function(M,N){return M[1]-N[1]})[0][0],h=f.map(function(M){var N=M[0],B=M[1];return[N,Math.abs(B-100)]}).sort(function(M,N){return M[1]-N[1]})[0][0],m=e.absoluteO[0],y=0;y<=a;y+=d){var w=m+y/a*this.w*this.absoluteUnit[0];i.beginPath(),i.strokeStyle="white",i.moveTo(w,0),i.lineTo(w,7),i.stroke(),i.fillStyle="white";var C="".concat(y),k=i.measureText(C).width;i.fillText(C,w-k/2,18)}for(y=0;y<=a;y+=h)w=m+y/a*this.w*this.absoluteUnit[0],i.beginPath(),i.strokeStyle="white",i.moveTo(w,0),i.lineTo(w,3),i.stroke()},t}(el),Zst=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){return new xs([0,0],this.parentW,20)},t.prototype.itemsOnScreen=function(e){var r=this.parentW/e;return Math.floor(this._cameraSnapshot.w/r)},t.prototype.render=function(e){var r=e.ctx,i=this.context.p.project.timelineData.focusRange,a=i[0],s=i[1],c=this.context.p.project.timelineData.numberOfFrames,f=[a/c,s/c],d=f[0],h=f[1]-d;r.fillStyle="#3B434B";var m=e.absoluteO[0],y=e.absoluteUnit,w=y[0],C=y[1];r.fillRect(m+d*this.w*w,0,h*this.w*w,this.h*C)},t}(el),tut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return e.push(Zst.Node()),e.push(Qst.Node()),e.push(Xst.Node()),e.push(Jst.Node()),e},t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0];e[1];var i=(Os.OffsetX+Os.PinDiameter/2)*r,a=this.canvasO;a[0];var s=a[1],c=this.context.p.project.timelineData.numberOfFrames*Os.PixelsPerFrame-Os.PinDiameter*r;return new xs([i,s],c,20)},t.prototype.render=function(e){e.ctx.fillStyle="#282E34";var r=this.absoluteUnit,i=r[0];r[1],e.ctx.fillRect(0,0,this._cameraSnapshot.w*i,22)},t}(el),eut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.key="permanentWindows",e}return Ki(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r],s=Yst.Node({signalId:a,key:a});e.push(s)}return e.push(tut.Node()),e},t}(el),fN=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),Object.defineProperty(t.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),t}(el),nut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=ZH,e}return Ki(t,n),t.prototype.onMouseDown=function(e){var r=this.context,i=r.dispatchPointerModeMachineEvent;r.pointerModeMachineState;var a=i;e.relativePos;var s=e.terminateEvent,c=e.pointInside;c&&a({type:"mousedown_resizebar",selectedPinIds:[]}),c&&s()},t.prototype.onMouseMove=function(e){e.relativePos;var r=e.terminateEvent;e.pointInside&&r()},t}(fN),rut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=jst,e}return Ki(t,n),Object.defineProperty(t.prototype,"mouseover",{get:function(){return this.state.mouseover},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mousedown",{get:function(){return this.state.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dragging",{get:function(){return this.context.pointerModeMachineState.type==="change_signal_height"&&this.mousedown},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hover",{get:function(){return this.context.pointerModeMachineState.type==="start"&&this.mouseover},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.setState({mouseover:!1,mousedown:!1})},t.prototype.onMouseDown=function(e){e.relativePos,e.pointInside&&this.setState(pl(pl({},this.state),{mousedown:!0}))},t.prototype.onMouseMove=function(e){e.relativePos;var r=e.absolutePos;e.pointInside?this.setState(pl(pl({},this.state),{mouseover:!0})):this.setState(pl(pl({},this.state),{mouseover:!1}));var i=this.context.p;i.project;var a=i.signalStartHeights;i.projectTools,i.signalHeights;var s=i.setSignalHeight;if(this.dragging){var c=a[this.context.signalId],f=(0,e.canvasToAbsoluteMeasure)([Os.OffsetX,Os.OffsetY]);f[0];var d=f[1],h=r[1]-(c+d),m=(0,e.absoluteToCanvasMeasure)([0,h]);m[0];var y=m[1];if(y<Os.TrackMinHeight||y>Os.TrackMaxHeight)return;s(this.context.signalId,h)}},t.prototype.onMouseUp=function(e){this.setState(pl(pl({},this.state),{mousedown:!1}))},t.prototype.render=function(e){(this.hover||this.dragging)&&(this.dragging?this.strokeOutline(e,"red"):this.strokeOutline(e,"cyan"))},t}(fN),iut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){this.setContext("signalId",e.signalId)},Object.defineProperty(t.prototype,"o",{get:function(){var e=this.context.p;e.project;var r=e.signalStartHeights;e.projectTools;var i=e.signalHeights,a=this.prepareHandlerProps(),s=a.canvasToAbsoluteMeasure,c=(0,a.canvasToAbsoluteMeasure)([Os.OffsetX,Os.OffsetY]);c[0];var f=c[1];return up([0,r[this.context.signalId]+i[this.context.signalId]+f],s([0,Os.TrackPadding]))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){var e=this.prepareHandlerProps(),r=Os.TrackPadding;return(0,e.canvasToAbsoluteMeasure)([0,r])[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){var e=this.context.p,r=e.project;return e.signalStartHeights,e.projectTools,e.signalHeights,r.timelineData.numberOfFrames*Os.PixelsPerFrame+2*Os.OffsetX},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){var e=[];return e.push(rut.Node()),e.push(nut.Node()),e},t}(fN),out=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.selectedPinIds=[],e.layer=Bst,e}return Ki(t,n),Object.defineProperty(t.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.setState({startPoint:void 0,endPoint:void 0})},t.prototype.getSelectedPins=function(e){var r=this,i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(s){var c,f=r.context.PinPositionMeasurementHelper.getExistingPinPosition(s),d=r.context.p.project.orgData.activeSignalIds.flatMap(function(h){return r.context.p.project.signalData[h].pinIds.map(function(m){return[h,m]})});return{signalId:(c=d.find(function(h){h[0];var m=h[1];return s===m}))===null||c===void 0?void 0:c[0],pinId:s,pos:f}}),a=i.filter(function(s){s.signalId,s.pinId;var c=s.pos;return e.pointInside(c)}).map(function(s){var c=s.signalId,f=s.pinId;return s.pos,[c,f]});return a},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent][1];e.relativePos;var a=e.terminateEvent,s=e.pointInside,c=e.absolutePos;i({type:"mousedown_selectionoverlay",selectedPinIds:[]}),this.selectedPinIds=[],this.setState(pl(pl({},this.state),{startPoint:c})),s&&a()},t.prototype.onMouseMove=function(e){var r=this;if(this.startPoint){var i=this.context,a=[i.pointerModeMachineState,i.dispatchPointerModeMachineEvent][1];e.relativePos;var s=e.absolutePos,c=e.pointInside,f=e.terminateEvent;this.setState(pl(pl({},this.state),{endPoint:s}));var d=this.startPoint,h=d[0],m=d[1],y=s[0],w=s[1],C=Math.min(h,y),k=Math.min(m,w),M=Math.abs(h-y),N=Math.abs(m-w),B=new xs([C,k],M,N),L=this.getSelectedPins(B).map(function(z){return z[0],z[1]});(L.some(function(z){return!r.selectedPinIds.includes(z)})||this.selectedPinIds.some(function(z){return!L.includes(z)}))&&(this.selectedPinIds=L,a({type:"mousemove_selectionoverlayCONDselection_changed",selectedPinIds:L})),c&&f()}},t.prototype.onMouseUp=function(e){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent][1];e.relativePos;var a=e.terminateEvent,s=e.pointInside;this.setState({startPoint:void 0,endPoint:void 0}),i({type:"mouseup_selectionoverlay"}),s&&a()},t.prototype.getBox=function(){var e=this._cameraSnapshot;return new xs(e.o,e.w,e.h)},t}(el),aut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=gb,e}return Ki(t,n),Object.defineProperty(t.prototype,"startPoint",{get:function(){return this.state.startPoint},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endPoint",{get:function(){return this.state.endPoint},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.setState({startPoint:void 0,endPoint:void 0})},t.prototype.getBox=function(){var e,r=this.startPoint,i=this.endPoint;if(r&&i){var a=r[0],s=r[1],c=i[0],f=i[1],d=Math.min(a,c),h=Math.min(s,f),m=Math.abs(a-c),y=Math.abs(s-f);e=new xs([d,h],m,y)}else{var w=this._cameraSnapshot;e=new xs(w.o,w.w,w.h)}return e},t.prototype.onMouseDown=function(e){e.relativePos;var r=e.absolutePos;e.canvasPos,this.setState(pl(pl({},this.state),{startPoint:r}))},t.prototype.onMouseMove=function(e){var r=e.absolutePos;this.startPoint&&this.setState(pl(pl({},this.state),{endPoint:r}))},t.prototype.onMouseUp=function(e){this.setState({startPoint:void 0,endPoint:void 0})},Object.defineProperty(t.prototype,"active",{get:function(){return this.context.pointerModeMachineState.type==="make_selection"},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r=e.ctx,i=e.localToCanvas;e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure;var a=e.absoluteUnit,s=i,c=a[0],f=a[1];r.save(),r.setLineDash([3,3]),r.strokeStyle="white",r.lineWidth=2,this.startPoint&&this.endPoint&&this.active&&r.strokeRect.apply(r,lm(lm([],s([0,0]),!1),[this.w*c,this.h*f],!1)),r.setLineDash([]),r.closePath(),r.restore()},t}(el),sut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return e.push(aut.Node()),e.push(out.Node()),e},t}(el),nV=function(){function n(){this.pinMeasureHooks={},this.signalMeasureHooks={},this.signalContentBoxMeasureHooks={},this.absoluteCoordsToSignalCoordsMeasureHooks={}}return n.prototype.getSignalCoordsFromAbsoluteCoords=function(t,e){return this.absoluteCoordsToSignalCoordsMeasureHooks[t](e)},n.prototype.getSignalContentBox=function(t){return this.signalContentBoxMeasureHooks[t]()},n.prototype.getExistingPinPosition=function(t){return this.pinMeasureHooks[t]()},n.prototype.getImaginaryPinPosition=function(t,e,r){return this.signalMeasureHooks[t](e,r)},n.prototype.attachAbsoluteCoordsToSignalCoordsMeasureHook=function(t,e){var r=this;return this.absoluteCoordsToSignalCoordsMeasureHooks[t]=e,function(){delete r.absoluteCoordsToSignalCoordsMeasureHooks[t]}},n.prototype.attachSignalContentBoxMeasureHook=function(t,e){var r=this;return this.signalContentBoxMeasureHooks[t]=e,function(){delete r.signalContentBoxMeasureHooks[t]}},n.prototype.attachPinMeasureHook=function(t,e){var r=this;return this.pinMeasureHooks[t]=e,function(){delete r.pinMeasureHooks[t]}},n.prototype.attachSignalMeasureHook=function(t,e){var r=this;return this.signalMeasureHooks[t]=e,function(){delete r.signalMeasureHooks[t]}},n}(),rV=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r],s=uut.Node({signalId:a,key:a});e.push(s)}return e},t}(el),uut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){this.setContext("signalId",e.signalId),this.setContext("signalType",this.context.p.project.orgData.signalTypes[e.signalId])},t.prototype.getChildren=function(){return[cut.Node()]},t}(RD),lut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.unsubscribe=function(){},e}return Ki(t,n),t.prototype.windowDidMount=function(e){var r=this;this.setContext("pinId",e.pinId),this.unsubscribe=this.context.PinPositionMeasurementHelper.attachPinMeasureHook(e.pinId,function(){return r.globalO})},t.prototype.windowWillUnmount=function(){this.unsubscribe()},t.prototype.render=function(e){},t}(cN),cut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.unsubscribe1=function(){},e.unsubscribe2=function(){},e.unsubscribe3=function(){},e}return Ki(t,n),t.prototype.windowDidMount=function(e){var r=this;this.setContext("pinId",e.pinId),this.unsubscribe1=this.context.PinPositionMeasurementHelper.attachSignalMeasureHook(this.context.signalId,function(i,a){var s=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];a=r.context.signalType==="continuous"?a:.5;var c=i/r.context.p.project.timelineData.numberOfFrames,f=(a-s[0])/(s[1]-s[0]),d=c*r.w,h=(1-f)*r.h;return gd(r.globalO,[d,h])}),this.unsubscribe2=this.context.PinPositionMeasurementHelper.attachSignalContentBoxMeasureHook(this.context.signalId,function(){return new xs(r.globalO,r.w,r.h)}),this.unsubscribe3=this.context.PinPositionMeasurementHelper.attachAbsoluteCoordsToSignalCoordsMeasureHook(this.context.signalId,function(i){var a=up(i,r.globalO),s=a[0],c=a[1],f=r.context.p.project.timelineData.numberOfFrames;s=Math.max(0,Math.min(r.w,s)),s=Math.round(s/r.w*f);var d=r.context.signalType==="continuous"?r.context.p.project.signalData[r.context.signalId].range:[0,1];return c=Math.max(0,Math.min(r.h,c)),[s,c=(c=r.h-c)/r.h*(d[1]-d[0])+d[0]]})},t.prototype.windowWillUnmount=function(){this.unsubscribe1(),this.unsubscribe2(),this.unsubscribe3()},t.prototype.getChildren=function(){for(var e,r=[],i=0,a=(e=this.context.p.project.signalData[this.context.signalId])===null||e===void 0?void 0:e.pinIds;i<a.length;i++){var s=a[i],c=lut.Node({pinId:s,key:s});r.push(c)}return r},t}(BD),fut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=ZH,e}return Ki(t,n),Object.defineProperty(t.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),t.prototype.onMouseDown=function(e){var r=this.context,i=[r.pointerModeMachineState,r.dispatchPointerModeMachineEvent],a=i[0],s=i[1];e.absolutePos;var c=e.terminateEvent,f=e.pointInside;a.selectedPinIds.length>0&&f&&(s({type:"mousedown_transformer_overlayCONDpin_in_selection"}),f&&c())},t}(el),iV=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this,r=this.context.pointerModeMachineState.selectedPinIds;if(r.length===0)return new xs([0,0],0,0);var i=Object.keys(this.context.PinPositionMeasurementHelper.pinMeasureHooks).map(function(M){var N,B=e.context.PinPositionMeasurementHelper.getExistingPinPosition(M),L=e.context.p.project.orgData.activeSignalIds.flatMap(function(z){return e.context.p.project.signalData[z].pinIds.map(function(q){return[z,q]})});return{signalId:(N=L.find(function(z){z[0];var q=z[1];return M===q}))===null||N===void 0?void 0:N[0],pinId:M,pos:B}}),a=i.filter(function(M){return r.includes(M.pinId)}).map(function(M){return M.pos}),s=[Math.min.apply(Math,a.map(function(M){return M[0]})),Math.min.apply(Math,a.map(function(M){return M[1]}))],c=s[0],f=s[1],d=[Math.max.apply(Math,a.map(function(M){return M[0]})),Math.max.apply(Math,a.map(function(M){return M[1]}))],h=[c,f],m=h[0],y=h[1],w=d[0]-c,C=d[1]-f,k=this.canvasUnit;return k[0],k[1],new xs([m,y],w,C)},t}(el),hut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=gb,e.unsubscribe=function(){},e}return Ki(t,n),Object.defineProperty(t.prototype,"o",{get:function(){return[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.parentW},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.parentH},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(e){this.unsubscribe=this.context.PinTransformerCorners.attachCornerHook(this.props.anchor,this.getCornerPosition.bind(this))},t.prototype.getCornerPosition=function(){return gd(this.parentO,[Os.PinDiameter/2,Os.PinDiameter/2])},t.prototype.windowWillUnmount=function(){this.unsubscribe()},t.prototype.onMouseDown=function(e,r){e.pointInside&&this.context.SetTransformationType({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})},t}(el),put=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e4,e}return Ki(t,n),t.prototype.getChildren=function(){return[fut.Node(),hut.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=[-Os.PinDiameter/2*r,-Os.PinDiameter/2*i],s=this.parentW+Os.PinDiameter*r,c=this.parentH+Os.PinDiameter*i;return new xs(a,s,c)},t.prototype.render=function(e){if(this.props.category!=="translate"){var r=this.w,i=this.h,a=[[r/4,i/4],[3*r/4,i/4],[3*r/4,3*i/4],[r/4,3*i/4]],s=e.ctx,c=e.localToCanvas;s.save(),s.beginPath(),s.moveTo.apply(s,c(a[0]));for(var f=1;f<a.length;f++)s.lineTo.apply(s,c(a[f]));s.closePath(),s.fillStyle="white",s.fill(),s.restore()}},t}(el),mm=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){return[put.Node({category:this.props.category,axes:this.props.axes,anchor:this.props.anchor})]},t.prototype.getBox=function(){var e,r,i,a,s,c,f,d,h,m=this.props.anchor,y={w:this.parentW,h:this.parentH},w=y.w,C=y.h;switch(m){case"top-left":h=[0,0],w=(e=[0,0])[0],C=e[1];break;case"top-right":h=[w,0],w=(r=[0,0])[0],C=r[1];break;case"bottom-left":h=[0,C],w=(i=[0,0])[0],C=i[1];break;case"bottom-right":h=[w,C],w=(a=[0,0])[0],C=a[1];break;case"left":h=[0,C/2],w=(s=[0,0])[0],C=s[1];break;case"right":h=[w,C/2],w=(c=[0,0])[0],C=c[1];break;case"bottom":h=[w/2,C],w=(f=[0,0])[0],C=f[1];break;case"top":h=[w/2,0],w=(d=[0,0])[0],C=d[1];break;case"start-point":h=[0,0];break;default:throw new Error("Invalid type")}return new xs(h,w,C)},t}(el),dut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=gb,e}return Ki(t,n),t.prototype.windowDidMount=function(e){},Object.defineProperty(t.prototype,"spansMoreThanOneSignal",{get:function(){var e=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return e.context.p.project.orgData.activeSignalIds.find(function(a){return e.context.p.project.signalData[a].pinIds.includes(i)})});return Array.from(new Set(r)).length>1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includesDiscreteSignal",{get:function(){var e=this,r=this.context.pointerModeMachineState.selectedPinIds.map(function(i){return e.context.p.project.orgData.activeSignalIds.find(function(a){return e.context.p.project.signalData[a].pinIds.includes(i)})});return Array.from(new Set(r)).some(function(i){return e.context.p.project.orgData.signalTypes[i]==="discrete"})},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){var e=[];return this.active&&this.context.pointerModeMachineState.selectedPinIds.length>1&&(this.spansMoreThanOneSignal||(e.push(mm.Node({category:"scale",axes:"x-y",anchor:"bottom-left"})),e.push(mm.Node({category:"scale",axes:"x-y",anchor:"bottom-right"})),e.push(mm.Node({category:"scale",axes:"x-y",anchor:"top-left"})),e.push(mm.Node({category:"scale",axes:"x-y",anchor:"top-right"})),e.push(mm.Node({category:"scale",axes:"y",anchor:"bottom"})),e.push(mm.Node({category:"scale",axes:"y",anchor:"top"}))),e.push(mm.Node({category:"scale",axes:"x",anchor:"left"})),e.push(mm.Node({category:"scale",axes:"x",anchor:"right"}))),this.active&&(this.spansMoreThanOneSignal||this.includesDiscreteSignal?e.push(mm.Node({category:"translate",axes:"x",anchor:"start-point"})):e.push(mm.Node({category:"translate",axes:"x-y",anchor:"start-point"}))),e},Object.defineProperty(t.prototype,"active",{get:function(){var e=this.context.pointerModeMachineState;return e.type==="transform_pins"||e.type==="start"&&e.selectedPinIds.length>0},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r=e.ctx,i=e.localToCanvas;e.canvasToLocal,e.absoluteToCanvasMeasure,e.canvasToAbsoluteMeasure;var a=i;if(r.save(),r.beginPath(),r.strokeStyle="rgba(255,255,255,0.5)",r.lineWidth=2,this.active){var s=[[0,0],[this.w,0],[this.w,this.h],[0,this.h],[0,0]].map(function(c){return a(c)});r.moveTo.apply(r,s[0]),r.lineTo.apply(r,s[1]),r.lineTo.apply(r,s[2]),r.lineTo.apply(r,s[3]),r.lineTo.apply(r,s[4]),r.stroke()}r.restore()},t}(iV);function ex(n,t,e,r){var i=up(r,e);if(t[0]===0&&t[1]===0){var a=ex(n,[-i[1],i[0]],e,r);if(a===void 0)throw new Error("Unexpected undefined intersection");return Number(xy(up(a,n)))<1e-7?a:void 0}var s=t[0]*i[1]-t[1]*i[0];if(s!==0){var c=((e[0]-n[0])*i[1]-(e[1]-n[1])*i[0])/s,f=((e[0]-n[0])*t[1]-(e[1]-n[1])*t[0])/s;return f>=0&&f<=1?[n[0]+c*t[0],n[1]+c*t[1]]:void 0}}var $6={"scale-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){return[-t*s+t+s*i,-e*s+e+s*a]}}},"scale-x":function(n){var t=n[0];return n[1],function(e){var r=e[0],i=e[1];return function(a){return[-t*a+t+a*r,i]}}},"scale-y":function(n){n[0];var t=n[1];return function(e){var r=e[0],i=e[1];return function(a){return[r,-t*a+t+a*i]}}},"translate-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){return[t*s+i,e*s+a]}}},"translate-x":function(n){var t=n[0];return n[1],function(e){var r=e[0],i=e[1];return function(a){return[t*a+r,i]}}},"translate-y":function(n){n[0];var t=n[1];return function(e){var r=e[0],i=e[1];return function(a){return[r,t*a+i]}}}},Ik=function(n,t,e,r){var i=up(e,n),a=up(t,n);if(Number(xy(a))<1e-7){var s=up(e,t);if(Number(xy(s))<1e-7)return 0;throw new Error("No parameter exists")}var c=i[0],f=i[1],d=a[0],h=a[1],m=r[0],y=r[1];if(d*m!==0)return c/(d*m);if(h*y!==0)return f/(h*y);throw new Error("No parameter exists")},Bk=function(n,t,e){var r=up(e,t);if(Number(xy(n))<1e-7){if(Number(xy(r))<1e-7)return 0;throw console.log("direction",n,"point",t,"targetPoint",e),new Error("No parameter exists")}var i=r[0],a=r[1],s=n[0],c=n[1];if(s!==0)return i/s;if(c!==0)return a/c;throw new Error("No parameter exists")},W6={"scale-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return Ik([t,e],[i,a],[c,f],[1,1])}}},"scale-x":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return Ik([t,e],[i,a],[c,f],[1,0])}}},"scale-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return Ik([t,e],[i,a],[c,f],[0,1])}}},"translate-x-y":function(n){var t=n[0],e=n[1];return function(r){var i=r[0],a=r[1];return function(s){var c=s[0],f=s[1];return Bk([t,e],[i,a],[c,f])}}},"translate-x":function(n){var t=n[0];return n[1],function(e){var r=e[0],i=e[1];return function(a){var s=a[0],c=a[1];return Bk([t,0],[r,i],[s,c])}}},"translate-y":function(n){n[0];var t=n[1];return function(e){var r=e[0],i=e[1];return function(a){var s=a[0],c=a[1];return Bk([0,t],[r,i],[s,c])}}}},gut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=gb,e.state={initialised:!1},e.appropriateRounding=function(r){var i=r[0],a=r[1];return[Math.round(i/Os.PixelsPerFrame)*Os.PixelsPerFrame,a]},e.shiftKeyPressed=!1,e.altKeyPressed=!1,e}return Ki(t,n),t.prototype.getPinIdsGroupedBySignal=function(){var e=this;return this.context.pointerModeMachineState.selectedPinIds.reduce(function(r,i){var a=e.context.p.project.orgData.activeSignalIds.find(function(s){return e.context.p.project.signalData[s].pinIds.includes(i)});return r[a]||(r[a]=[]),r[a].push(i),r},{})},t.prototype.getPinPositions=function(){var e=this;return this.context.pointerModeMachineState.selectedPinIds.map(function(r){return[r,e.context.PinPositionMeasurementHelper.getExistingPinPosition(r)]})},t.prototype.getSignalBoundingBoxes=function(){for(var e=[],r=this.getPinIdsGroupedBySignal(),i=function(f){var d=a.getPinPositions().filter(function(M){var N=M[0];return M[1],r[f].includes(N)}).map(function(M){return M[0],M[1]}),h=Math.min.apply(Math,d.map(function(M){return M[0]})),m=Math.min.apply(Math,d.map(function(M){return M[1]})),y=Math.max.apply(Math,d.map(function(M){return M[0]})),w=Math.max.apply(Math,d.map(function(M){return M[1]})),C=new xs([h,m],Math.abs(y-h),Math.abs(w-m)),k=a.context.PinPositionMeasurementHelper.getSignalContentBox(f);e.push([f,C,k])},a=this,s=0,c=Object.keys(r);s<c.length;s++)i(c[s]);return e},t.prototype.computeTransformation=function(){if(!this.state.initialised)throw new Error("State not initialised");var e,r,i,a,s,c,f=this.context.TransformationType.category,d=this.context.TransformationType.axes,h=this.context.TransformationType.anchor;if(this.shiftKeyPressed&&d==="x-y"&&f==="translate"&&(d="x"),this.altKeyPressed&&d==="x-y"&&f==="translate"&&(d="y"),h==="start-point"){e=this.state.startPos;var m=xy(w=uS(w=up(this.state.currentPos,e),[d==="y"?0:1,d==="x"?0:1]));r=m!==0?qC(w,1/m):w,i=gd(e,qC(r,L6(r,up(this.state.currentPos,e)))),a=e}else{var y={"top-left":"bottom-right","top-right":"bottom-left","bottom-left":"top-right","bottom-right":"top-left",left:"right",right:"left",top:"bottom",bottom:"top"}[h];e=this.state.cornerPositions[y];var w,C=xy(w=up(this.state.cornerPositions[h],e));r=C!==0?qC(w,1/C):w,i=gd(e,qC(r,L6(r,up(this.state.currentPos,e)))),a=this.state.cornerPositions[h]}f==="translate"?(s=$6["translate-".concat(d)](r),c=W6["translate-".concat(d)](r)):(s=$6["scale-".concat(d)](e),c=W6["scale-".concat(d)](e));var k=c(a)(i);return{transformation:s,inverseTransformation:c,initialParameter:k}},t.prototype.parameterIsLegal=function(e){if(this.context.TransformationType.category==="translate"){if(e===0)return!1}else if(e===1)return!1;return!0},t.prototype.getTransformationQueue=function(e){var r;if(!this.state.initialised)throw new Error("State not initialised");var i=this.computeTransformation(),a=i.transformation,s=i.inverseTransformation,c=i.initialParameter;if(!this.parameterIsLegal(c))return[];for(var f=this.getPinIdsGroupedBySignal(),d=this.state.pinPositions,h=this.state.signalBoundingBoxes.map(function(V){return V[0],function(nt,it,ct,ft){for(var gt=[lm([],nt.o,!0),[nt.o[0]+nt.w,nt.o[1]],[nt.o[0]+nt.w,nt.o[1]+nt.h],[nt.o[0],nt.o[1]+nt.h]],Ct=gt.map(function(Et){return ct(Et)(2)}),kt=gt.map(function(Et,mt){return[Et,up(Et,Ct[mt])]}),Tt=[lm([],it.o,!0),[it.o[0]+it.w,it.o[1]],[it.o[0]+it.w,it.o[1]+it.h],[it.o[0],it.o[1]+it.h]],At=[],Zt=function(Et){var mt=kt[Et],vt=mt[0],Lt=mt[1],ee=[ex(vt,Lt,Tt[0],Tt[1]),ex(vt,Lt,Tt[1],Tt[2]),ex(vt,Lt,Tt[2],Tt[3]),ex(vt,Lt,Tt[3],Tt[0])].filter(function(qe){return qe!==void 0}),pe=ee.map(function(qe){return ft(vt)(qe)});if(pe.length===0||pe.length===1)return At.push([-1/0,1/0]),"continue";if(pe.length===2){var ve=pe.sort(function(qe,He){return qe-He}),Oe=[ve[0],ve[1]];return At.push(Oe),"continue"}throw new Error("Unexpected number of intersections")},_t=0;_t<4;_t++)Zt(_t);if(At.length===0)throw new Error("None of the vertices could possibly intersect the parent box under transformation. This means a pathological transformation was supplied.");return At.reduce(function(Et,mt){return[Math.max(Et[0],mt[0]),Math.min(Et[1],mt[1])]},At[0])}(V[1],V[2],a,s)}),m=h.reduce(function(V,X){return[Math.max(V[0],X[0]),Math.min(V[1],X[1])]},h[0]),y=Math.max(m[0],Math.min(m[1],c)),w=[],C=0,k=Object.keys(f);C<k.length;C++)for(var M=k[C],N=this.context.p.project.orgData.signalTypes[M],B=function(V){var X=(r=d.find(function(gt){var Ct=gt[0];return gt[1],Ct===V}))===null||r===void 0?void 0:r[1];if(!X)throw new Error("Pin position not found");var nt=a(X)(y),it=L.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords(M,nt),ct=it[0],ft=it[1];N==="continuous"?w.push({pinId:V,pinType:"continuous",pinTime:ct,pinValue:ft,functionString:void 0}):w.push({pinId:V,pinType:"discrete",pinTime:ct,pinValue:void 0})},L=this,z=0,q=f[M];z<q.length;z++)B(q[z]);return w},t.prototype.getCornerPositions=function(){return{"top-left":this.context.PinTransformerCorners.getCornerPosition("top-left"),"top-right":this.context.PinTransformerCorners.getCornerPosition("top-right"),"bottom-left":this.context.PinTransformerCorners.getCornerPosition("bottom-left"),"bottom-right":this.context.PinTransformerCorners.getCornerPosition("bottom-right"),left:this.context.PinTransformerCorners.getCornerPosition("left"),right:this.context.PinTransformerCorners.getCornerPosition("right"),top:this.context.PinTransformerCorners.getCornerPosition("top"),bottom:this.context.PinTransformerCorners.getCornerPosition("bottom")}},t.prototype.initialiseState=function(e){this.setState({startPos:this.appropriateRounding(e.absolutePos),currentPos:this.appropriateRounding(e.absolutePos),pinPositions:this.getPinPositions(),signalBoundingBoxes:this.getSignalBoundingBoxes(),cornerPositions:this.getCornerPositions(),initialised:!0})},t.prototype.updatePins=function(e,r){var i=this.appropriateRounding;if(this.state.initialised){r||this.setState(pl(pl({},this.state),{currentPos:i(e.absolutePos)}));var a=this.getTransformationQueue(e);(a.findIndex(function(s){return s.pinTime!==void 0||s.pinValue!==void 0})!==-1||r)&&(this.context.p.projectTools.returnToLastCommit(),this.context.p.projectTools.updatePins(a,r))}else this.initialiseState(e)},t.prototype.onMouseMove=function(e,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,a=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=a,this.updatePins(e,!1)}},t.prototype.onMouseUp=function(e,r){if(this.context.pointerModeMachineState.type==="transform_pins"){var i=r.shiftKey,a=r.altKey;this.shiftKeyPressed=i,this.altKeyPressed=a,this.updatePins(e,!0),this.setState({anchor:void 0,pinPositions:void 0,signalBoundingBoxes:void 0,currentPos:void 0,initialised:!1})}},t}(iV),mut=function(){function n(){this.cornerHooks={}}return n.prototype.getCornerPosition=function(t){if(this.cornerHooks[t])return this.cornerHooks[t]()},n.prototype.attachCornerHook=function(t,e){var r=this;return this.cornerHooks[t]=e,function(){delete r.cornerHooks[t]}},n}(),vut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.setTransformationType=function(e){var r=e.category,i=e.axes,a=e.anchor;this.setContext("TransformationType",{category:r,axes:i,anchor:a})},t.prototype.windowDidMount=function(e){this.setContext("PinPositionMeasurementHelper",new nV),this.setContext("SetTransformationType",this.setTransformationType.bind(this)),this.setContext("PinTransformerCorners",new mut)},t.prototype.getChildren=function(){var e=[];return e.push(rV.Node()),e.push(dut.Node()),e.push(gut.Node()),e},t}(el),yut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=gb,e}return Ki(t,n),Object.defineProperty(t.prototype,"selected",{get:function(){return this.context.pointerModeMachineState.selectedPinIds.includes(this.context.pinId)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var r,i;if(this.selected){var a=this.w,s=this.h,c=[[a/2,0],[a,s/2],[a/2,s],[0,s/2]];e.ctx.beginPath(),(r=e.ctx).moveTo.apply(r,e.localToCanvas(c[0]));for(var f=1;f<c.length;f++)(i=e.ctx).lineTo.apply(i,e.localToCanvas(c[f]));e.ctx.closePath(),e.ctx.fillStyle="cyan",e.ctx.fill()}},t}(tV),wut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){return[yut.Node()]},t}(cN),but=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var a=i[r];e.push(wut.Node({pinId:a,key:a}))}return e},t}(BD),xut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return e.push(but.Node()),e},t}(RD),Dut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r];e.push(xut.Node({signalId:a,key:a}))}return e},t}(el),Cut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){var r=this;this.setContext("pointerModeMachineState",{type:"start",selectedPinIds:[]}),this.setContext("dispatchPointerModeMachineEvent",function(i){i.selectedPinIds&&r.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:i.selectedPinIds,dispatchPointerModeMachineEvent:function(s){r.context.dispatchPointerModeMachineEvent(s)}}});var a=function(s,c){var f={start:{mousedown_resizebar:"change_signal_height",mousedown_selectionoverlay:"make_selection",mousedown_transformer_overlayCONDpin_in_selection:"transform_pins",mousedown_pinCONDpin_not_in_selection:"transform_pins",delete_selected_pins:"start"},make_selection:{mousemove_selectionoverlayCONDselection_changed:"make_selection",mouseup_selectionoverlay:"start"},change_signal_height:{mouseup_selectionoverlay:"start"},transform_pins:{mouseup_selectionoverlay:"start"}}[s.type][c.type];return f?{type:f,selectedPinIds:c.selectedPinIds||lm([],s.selectedPinIds,!0)}:s}(r.context.pointerModeMachineState,i);r.setContext("pointerModeMachineState",a)}),this.context.contextBridge.setContext({type:"pointer",payload:{selectedPinIds:[],dispatchPointerModeMachineEvent:function(i){r.context.dispatchPointerModeMachineEvent(i)}}})},t.prototype.windowWillUnmount=function(){this.context.contextBridge.setContext({type:"default"})},t.prototype.getChildren=function(){var e=this.context.p,r=[],i=sut.Node();r.push(i);var a=vut.Node();r.push(a);var s=Dut.Node();return r.push(s),function(f,d){for(var h=0,m=f.project.orgData.activeSignalIds;h<m.length;h++)d(m[h])}(e,function(c){var f=iut.Node({signalId:c});r.push(f)}),r},t}(el),_ut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){return this._cameraSnapshot.clone()},t.prototype.onMouseMove=function(){this.context.p.projectTools.returnToLastCommit()},t}(el),Sut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=10,e.lastPinId="",e}return Ki(t,n),t.prototype.updatePinValue=function(e,r,i){var a=Object.entries(this.context.p.project.signalData[this.context.signalId].pinTimes).find(function(c){return c[0],c[1]===e});if(!a)throw new Error("Pin not found");var s=[{pinId:a[0],pinType:"continuous",pinTime:void 0,pinValue:r,functionString:void 0}];this.context.p.projectTools.updatePins(s,i)},t.prototype.addPin=function(e,r){if(e.pointInside){e.terminateEvent();var i=function(){return Math.random().toString(36).substring(7)}(),a=this.context.PinPositionMeasurementHelper.getSignalCoordsFromAbsoluteCoords.bind(this.context.PinPositionMeasurementHelper),s=this.context.signalId,c=a(s,e.absolutePos),f=c[0],d=c[1],h="return easyLinear();",m=this.context.signalType,y=Object.entries(this.context.p.project.signalData[s].pinTimes).findIndex(function(M){return M[0],M[1]===f})!==-1;if(y){var w=Object.entries(this.context.p.project.signalData[s].pinTimes).find(function(M){return M[0],M[1]===f});if(!w)throw new Error("Pin not found");var C=w[0];if(C!==this.lastPinId)return;var k=this.context.p.project.signalData[s].pinValues[C];m==="discrete"&&(d=k),m==="continuous"&&(h=this.context.p.project.signalData[s].curves[C])}this.context.p.projectTools.returnToLastCommit(),r||(this.lastPinId=i),m==="discrete"?(this.context.p.projectTools.updatePlayheadPosition(f,r),this.context.p.projectTools.addPinDiscrete(s,i,f,"NEW PIN",r),this.context.p.projectTools.pushUpdate()):(this.context.p.projectTools.updatePlayheadPosition(f,r),this.context.p.projectTools.addPinContinuous(s,i,f,d,h,r),this.context.p.projectTools.pushUpdate())}},t.prototype.onMouseMove=function(e){this.addPin(e,!1)},t.prototype.onClick=function(e){this.addPin(e,!0)},t}(BD),Eut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return e.push(Sut.Node()),e},t}(RD),Aut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r];e.push(Eut.Node({signalId:a,key:a}))}return e.push(_ut.Node()),e},t}(el),H6=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}return Ki(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=this.props.o;return new xs(a,20*r,20*i)},t.prototype.windowDidMount=function(e){this.setState({hover:!1})},Object.defineProperty(t.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),t.prototype.onMouseMove=function(e,r){this.setState({hover:e.pointInside})},t.prototype.onClick=function(e){e.pointInside&&(this.props.onClick(),e.terminateEvent())},t.prototype.render=function(e){var r=e.absoluteO,i=r[0],a=r[1],s=this.absoluteUnit,c=s[0],f=s[1];e.ctx.beginPath(),e.ctx.fillStyle="#3D5498",e.ctx.roundRect(i,a,this.w*c,this.h*f,[5,5,5,5]),e.ctx.strokeStyle="#243157",e.ctx.lineWidth=4,e.ctx.stroke(),e.ctx.fill(),e.ctx.font="".concat(Math.floor(.8*this.h*f),"px Material Symbols"),e.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),e.ctx.fillText(this.props.iconName,i+.1*this.w*c,a+this.h*f-this.h*f*.1)},t}(el);(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}Ki(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=[this.parentW-25*r,5*i];return new xs(a,20*r,20*i)},t.prototype.windowDidMount=function(e){this.setState({hover:!1})},Object.defineProperty(t.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),t.prototype.onMouseMove=function(e,r){this.setState({hover:e.pointInside})},t.prototype.onClick=function(e){e.pointInside&&(navigator.clipboard.writeText(this.context.functionString),e.terminateEvent())},t.prototype.render=function(e){var r=e.absoluteO,i=r[0],a=r[1],s=this.absoluteUnit,c=s[0],f=s[1];e.ctx.beginPath(),e.ctx.fillStyle="#3D5498",e.ctx.roundRect(i,a,this.w*c,this.h*f,[5,5,5,5]),e.ctx.strokeStyle="#243157",e.ctx.lineWidth=4,e.ctx.stroke(),e.ctx.fill(),e.ctx.font="".concat(Math.floor(.8*this.h*f),"px Material Symbols"),e.ctx.fillStyle="rgba(255,255,255,".concat(this.hover?"1":"0.5",")"),e.ctx.fillText("content_copy",i+.1*this.w*c,a+this.h*f-this.h*f*.1)}})(el);var kut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1],a=[15*r,15*i],s=this.parentW-50*r,c=this.parentH-30*i;return new xs(a,s,c)},t.prototype.windowDidMount=function(e){this.setState({hover:!1})},Object.defineProperty(t.prototype,"hover",{get:function(){return this.state.hover},enumerable:!1,configurable:!0}),t.prototype.onMouseMove=function(e){this.setState({hover:e.pointInside})},t.prototype.onClick=function(e,r){if(e.pointInside){var i=this.context.clipboard.functionString;i&&(this.context.p.projectTools.updateCurve(this.context.pinId,i),this.context.clipboard.functionString=void 0,this.context.clipboard.pinId=void 0)}},t.prototype.render=function(e){var r=e.absoluteO,i=r[0],a=r[1];e.ctx.fillStyle="white",e.ctx.font="12px monospace";for(var s=this.absoluteUnit,c=s[0],f=s[1],d=function(m,y,w,C,k){for(var M=m.split(`
`).map(function(Ct){return Ct.split(" ")}),N=[],B=function(Ct){for(var kt=[],Tt="",At=0,Zt=Ct;At<Zt.length;At++){var _t=Zt[At],Et=Tt+_t;y.measureText(Et).width>w&&Tt.length?(kt.push(Tt),Tt=_t):Tt=Et}return Tt&&kt.push(Tt),kt},L=function(Ct){for(var kt="",Tt=0,At=Ct;Tt<At.length;Tt++)for(var Zt=At[Tt],_t=0,Et=y.measureText(Zt).width>w?B(Zt):[Zt];_t<Et.length;_t++){var mt=Et[_t],vt=kt.length?kt+" "+mt:mt;y.measureText(vt).width>w&&kt.length?(N.push(kt),kt=mt):kt=vt}kt&&N.push(kt)},z=0,q=M;z<q.length;z++)L(q[z]);var V=Math.floor(k/C);if(N.length>V){N.splice(V,N.length-V);for(var X=N[V-1],nt=w-y.measureText("...").width,it="",ct=0,ft=X;ct<ft.length;ct++){var gt=it+ft[ct];if(y.measureText(gt).width>nt)break;it=gt}N[V-1]=it+"..."}return N}(this.context.functionString,e.ctx,this.w*c,12,this.h*f),h=0;h<d.length;h++)e.ctx.fillText(d[h],i,a+12*f+15*h*f);e.ctx.fillStyle="rgba(0,0,0,0.3)",e.ctx.fillRect(i,a,this.w*c,this.h*f),this.hover&&(e.ctx.beginPath(),e.ctx.strokeStyle="rgba(255,255,255,0.5)",e.ctx.lineWidth=1,e.ctx.strokeRect(i,a,this.w*c,this.h*f))},t}(el),Mut=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.updateWhenCameraChanges=!0,e.layer=100,e}return Ki(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.setContext("functionString",this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId])},t.prototype.windowDidUpdate=function(e){this.context.functionString=this.context.p.project.signalData[this.context.signalId].curves[this.context.pinId]},t.prototype.getChildren=function(){var e=this,r=[],i=this.absoluteUnit,a=i[0];return i[1],this.w*a>100&&r.push(kut.Node()),this.w*a>50&&(r.push(H6.Node({iconName:"code",onClick:function(){e.context.p.setActiveEditor({type:"pin",id:e.context.pinId})},o:[this.w-25,5]})),r.push(H6.Node({iconName:"content_copy",onClick:function(){e.context.clipboard.functionString=e.context.functionString,e.context.clipboard.pinId=e.context.pinId},o:[this.w-25,30]}))),r},t}(eV),Fut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.signalData[this.context.signalId].pinIds;r<i.length;r++){var a=i[r];e.push(Mut.Node({pinId:a,key:a}))}return e},t}(BD),Put=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.getChildren=function(){var e=[];return e.push(Fut.Node()),e},t}(RD),Tut=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return Ki(t,n),t.prototype.windowDidMount=function(e){this.setContext("clipboard",{functionString:void 0,pinId:void 0})},t.prototype.getChildren=function(){for(var e=[],r=0,i=this.context.p.project.orgData.activeSignalIds;r<i.length;r++){var a=i[r];this.context.p.project.orgData.signalTypes[a]==="continuous"&&e.push(Put.Node({signalId:a,key:a}))}return e},t}(el),Out=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return Ki(t,n),t.prototype.getBox=function(){return new xs([0,0],100,100)},t.prototype.windowDidMount=function(e){console.log("mounted",e)},t}(el);(function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.unsubscribe=function(){},e}return Ki(t,n),t.prototype.windowDidMount=function(e){var r=this,i=e.extendedProjectAPIBridge,a=e.contextBridge;this.setContext("externalState",i.data),this.setContext("p",i.data),this.unsubscribe=i.subscribe(function(s){r.setContext("externalState",s),r.setContext("p",s)}),this.setContext("PinPositionMeasurementHelper",new nV),this.setContext("contextBridge",a)},t.prototype.getChildren=function(){var e=this.context.p.activeTool,r=[];switch(r.push(zst.Node()),r.push(rV.Node()),r.push(eut.Node()),e){case"pointer":r.push(Cut.Node());break;case"code_editor":r.push(Tut.Node());break;case"add_pin":r.push(Aut.Node());break;default:r.push(Out.Node())}return r},t})(el);re.forwardRef(function(n,t){var e=n.animationFrameFunc,r=re.useRef(null),i=re.useRef(null),a=re.useState(null),s=a[0],c=a[1];return re.useImperativeHandle(t,function(){return{getCanvas:function(){return r.current}}}),re.useLayoutEffect(function(){if(!s&&i.current){var f=i.current.getBoundingClientRect(),d=f.width,h=f.height;c({width:d,height:h})}var m=new ResizeObserver(function(y){if(y[0]){var w=y[0].contentRect,C=w.width,k=w.height;c({width:C,height:k})}});return i.current&&m.observe(i.current),function(){return m.disconnect()}},[]),re.useLayoutEffect(function(){var f;if(s){var d={W:s.width,H:s.height},h=function(){if(r){var m=r.current;if(!m)throw new Error("Canvas not found");var y=m.getContext("2d");if(!y)throw new Error("2d context not found");m.width=d.W,m.height=d.H,e(m,y),f=requestAnimationFrame(h)}};return f=requestAnimationFrame(h),function(){return cancelAnimationFrame(f)}}},[s,e]),fe.jsx("div",{ref:i,style:{width:"100%",height:"100%"},children:fe.jsx("canvas",{style:{width:"100%",height:"100%",display:"block"},width:300,height:100,ref:r})})});var V6,lS={exports:{}},Nut=lS.exports;/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){return V6||(V6=1,t=lS,e=lS.exports,(function(){var r,i="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",c=16,f=32,d=64,h=128,m=256,y=1/0,w=9007199254740991,C=NaN,k=4294967295,M=[["ary",h],["bind",1],["bindKey",2],["curry",8],["curryRight",c],["flip",512],["partial",f],["partialRight",d],["rearg",m]],N="[object Arguments]",B="[object Array]",L="[object Boolean]",z="[object Date]",q="[object Error]",V="[object Function]",X="[object GeneratorFunction]",nt="[object Map]",it="[object Number]",ct="[object Object]",ft="[object Promise]",gt="[object RegExp]",Ct="[object Set]",kt="[object String]",Tt="[object Symbol]",At="[object WeakMap]",Zt="[object ArrayBuffer]",_t="[object DataView]",Et="[object Float32Array]",mt="[object Float64Array]",vt="[object Int8Array]",Lt="[object Int16Array]",ee="[object Int32Array]",pe="[object Uint8Array]",ve="[object Uint8ClampedArray]",Oe="[object Uint16Array]",qe="[object Uint32Array]",He=/\b__p \+= '';/g,wn=/\b(__p \+=) '' \+/g,nn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,cr=/&(?:amp|lt|gt|quot|#39);/g,bi=/[&<>"']/g,Vt=RegExp(cr.source),rt=RegExp(bi.source),dt=/<%-([\s\S]+?)%>/g,bt=/<%([\s\S]+?)%>/g,Ot=/<%=([\s\S]+?)%>/g,Bt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Rt=/^\w*$/,Xt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kt=/[\\^$.*+?()[\]{}|]/g,ge=RegExp(Kt.source),Ee=/^\s+/,Ze=/\s/,Xe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Se=/\{\n\/\* \[wrapped with (.+)\] \*/,je=/,? & /,rn=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,zi=/[()=,{}\[\]\/\s]/,Yi=/\\(\\)?/g,Ui=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xo=/\w*$/,Ai=/^[-+]0x[0-9a-f]+$/i,us=/^0b[01]+$/i,ko=/^\[object .+?Constructor\]$/,vu=/^0o[0-7]+$/i,ja=/^(?:0|[1-9]\d*)$/,ls=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yu=/($^)/,dl=/['\n\r\u2028\u2029\\]/g,Ns="\\ud800-\\udfff",Ol="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",gl="\\u2700-\\u27bf",Pa="a-z\\xdf-\\xf6\\xf8-\\xff",ml="A-Z\\xc0-\\xd6\\xd8-\\xde",wu="\\ufe0e\\ufe0f",Ou="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ks="[']",Nu="["+Ns+"]",ts="["+Ou+"]",fa="["+Ol+"]",ba="\\d+",ho="["+gl+"]",Iu="["+Pa+"]",nu="[^"+Ns+Ou+ba+gl+Pa+ml+"]",cs="\\ud83c[\\udffb-\\udfff]",nl="[^"+Ns+"]",Nl="(?:\\ud83c[\\udde6-\\uddff]){2}",vl="[\\ud800-\\udbff][\\udc00-\\udfff]",bu="["+ml+"]",Gs="\\u200d",kc="(?:"+Iu+"|"+nu+")",hf="(?:"+bu+"|"+nu+")",Mc="(?:['](?:d|ll|m|re|s|t|ve))?",ln="(?:['](?:D|LL|M|RE|S|T|VE))?",Vn="(?:"+fa+"|"+cs+")?",hr="["+wu+"]?",Xi=hr+Vn+"(?:"+Gs+"(?:"+[nl,Nl,vl].join("|")+")"+hr+Vn+")*",es="(?:"+[ho,Nl,vl].join("|")+")"+Xi,ru="(?:"+[nl+fa+"?",fa,Nl,vl,Nu].join("|")+")",Do=RegExp(Ks,"g"),De=RegExp(fa,"g"),be=RegExp(cs+"(?="+cs+")|"+ru+Xi,"g"),Xr=RegExp([bu+"?"+Iu+"+"+Mc+"(?="+[ts,bu,"$"].join("|")+")",hf+"+"+ln+"(?="+[ts,bu+kc,"$"].join("|")+")",bu+"?"+kc+"+"+Mc,bu+"+"+ln,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ba,es].join("|"),"g"),xa=RegExp("["+Gs+Ns+Ol+wu+"]"),tp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Tf=-1,ze={};ze[Et]=ze[mt]=ze[vt]=ze[Lt]=ze[ee]=ze[pe]=ze[ve]=ze[Oe]=ze[qe]=!0,ze[N]=ze[B]=ze[Zt]=ze[L]=ze[_t]=ze[z]=ze[q]=ze[V]=ze[nt]=ze[it]=ze[ct]=ze[gt]=ze[Ct]=ze[kt]=ze[At]=!1;var $i={};$i[N]=$i[B]=$i[Zt]=$i[_t]=$i[L]=$i[z]=$i[Et]=$i[mt]=$i[vt]=$i[Lt]=$i[ee]=$i[nt]=$i[it]=$i[ct]=$i[gt]=$i[Ct]=$i[kt]=$i[Tt]=$i[pe]=$i[ve]=$i[Oe]=$i[qe]=!0,$i[q]=$i[V]=$i[At]=!1;var kr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fc=parseFloat,Bu=parseInt,pr=typeof HC=="object"&&HC&&HC.Object===Object&&HC,Ru=typeof self=="object"&&self&&self.Object===Object&&self,Ji=pr||Ru||Function("return this")(),qn=e&&!e.nodeType&&e,rl=qn&&t&&!t.nodeType&&t,Zc=rl&&rl.exports===qn,wc=Zc&&pr.process,Mn=function(){try{var zt=rl&&rl.require&&rl.require("util").types;return zt||wc&&wc.binding&&wc.binding("util")}catch{}}(),uh=Mn&&Mn.isArrayBuffer,Bn=Mn&&Mn.isDate,tf=Mn&&Mn.isMap,Cs=Mn&&Mn.isRegExp,Br=Mn&&Mn.isSet,br=Mn&&Mn.isTypedArray;function xi(zt,Ne,ke){switch(ke.length){case 0:return zt.call(Ne);case 1:return zt.call(Ne,ke[0]);case 2:return zt.call(Ne,ke[0],ke[1]);case 3:return zt.call(Ne,ke[0],ke[1],ke[2])}return zt.apply(Ne,ke)}function Be(zt,Ne,ke,Pe){for(var vr=-1,Ci=zt==null?0:zt.length;++vr<Ci;){var hi=zt[vr];Ne(Pe,hi,ke(hi),zt)}return Pe}function Er(zt,Ne){for(var ke=-1,Pe=zt==null?0:zt.length;++ke<Pe&&Ne(zt[ke],ke,zt)!==!1;);return zt}function Jr(zt,Ne){for(var ke=zt==null?0:zt.length;ke--&&Ne(zt[ke],ke,zt)!==!1;);return zt}function ef(zt,Ne){for(var ke=-1,Pe=zt==null?0:zt.length;++ke<Pe;)if(!Ne(zt[ke],ke,zt))return!1;return!0}function Is(zt,Ne){for(var ke=-1,Pe=zt==null?0:zt.length,vr=0,Ci=[];++ke<Pe;){var hi=zt[ke];Ne(hi,ke,zt)&&(Ci[vr++]=hi)}return Ci}function uc(zt,Ne){return!(zt==null||!zt.length)&&Ys(zt,Ne,0)>-1}function ql(zt,Ne,ke){for(var Pe=-1,vr=zt==null?0:zt.length;++Pe<vr;)if(ke(Ne,zt[Pe]))return!0;return!1}function jr(zt,Ne){for(var ke=-1,Pe=zt==null?0:zt.length,vr=Array(Pe);++ke<Pe;)vr[ke]=Ne(zt[ke],ke,zt);return vr}function Ii(zt,Ne){for(var ke=-1,Pe=Ne.length,vr=zt.length;++ke<Pe;)zt[vr+ke]=Ne[ke];return zt}function bc(zt,Ne,ke,Pe){var vr=-1,Ci=zt==null?0:zt.length;for(Pe&&Ci&&(ke=zt[++vr]);++vr<Ci;)ke=Ne(ke,zt[vr],vr,zt);return ke}function Bs(zt,Ne,ke,Pe){var vr=zt==null?0:zt.length;for(Pe&&vr&&(ke=zt[--vr]);vr--;)ke=Ne(ke,zt[vr],vr,zt);return ke}function xu(zt,Ne){for(var ke=-1,Pe=zt==null?0:zt.length;++ke<Pe;)if(Ne(zt[ke],ke,zt))return!0;return!1}var Da=yl("length");function ju(zt,Ne,ke){var Pe;return ke(zt,function(vr,Ci,hi){if(Ne(vr,Ci,hi))return Pe=Ci,!1}),Pe}function Pc(zt,Ne,ke,Pe){for(var vr=zt.length,Ci=ke+(Pe?1:-1);Pe?Ci--:++Ci<vr;)if(Ne(zt[Ci],Ci,zt))return Ci;return-1}function Ys(zt,Ne,ke){return Ne==Ne?function(vr,Ci,hi){for(var Ca=hi-1,pi=vr.length;++Ca<pi;)if(vr[Ca]===Ci)return Ca;return-1}(zt,Ne,ke):Pc(zt,Bl,ke)}function Il(zt,Ne,ke,Pe){for(var vr=ke-1,Ci=zt.length;++vr<Ci;)if(Pe(zt[vr],Ne))return vr;return-1}function Bl(zt){return zt!=zt}function Ln(zt,Ne){var ke=zt==null?0:zt.length;return ke?Xs(zt,Ne)/ke:C}function yl(zt){return function(Ne){return Ne==null?r:Ne[zt]}}function fi(zt){return function(Ne){return zt==null?r:zt[Ne]}}function wl(zt,Ne,ke,Pe,vr){return vr(zt,function(Ci,hi,Ca){ke=Pe?(Pe=!1,Ci):Ne(ke,Ci,hi,Ca)}),ke}function Xs(zt,Ne){for(var ke,Pe=-1,vr=zt.length;++Pe<vr;){var Ci=Ne(zt[Pe]);Ci!==r&&(ke=ke===r?Ci:ke+Ci)}return ke}function Gc(zt,Ne){for(var ke=-1,Pe=Array(zt);++ke<zt;)Pe[ke]=Ne(ke);return Pe}function Tc(zt){return zt&&zt.slice(0,Jt(zt)+1).replace(Ee,"")}function Lu(zt){return function(Ne){return zt(Ne)}}function ha(zt,Ne){return jr(Ne,function(ke){return zt[ke]})}function Gi(zt,Ne){return zt.has(Ne)}function zu(zt,Ne){for(var ke=-1,Pe=zt.length;++ke<Pe&&Ys(Ne,zt[ke],0)>-1;);return ke}function Di(zt,Ne){for(var ke=zt.length;ke--&&Ys(Ne,zt[ke],0)>-1;);return ke}var ns=fi({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Wr=fi({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function xr(zt){return"\\"+kr[zt]}function La(zt){return xa.test(zt)}function lc(zt){var Ne=-1,ke=Array(zt.size);return zt.forEach(function(Pe,vr){ke[++Ne]=[vr,Pe]}),ke}function Co(zt,Ne){return function(ke){return zt(Ne(ke))}}function J(zt,Ne){for(var ke=-1,Pe=zt.length,vr=0,Ci=[];++ke<Pe;){var hi=zt[ke];hi!==Ne&&hi!==s||(zt[ke]=s,Ci[vr++]=ke)}return Ci}function st(zt){var Ne=-1,ke=Array(zt.size);return zt.forEach(function(Pe){ke[++Ne]=Pe}),ke}function et(zt){var Ne=-1,ke=Array(zt.size);return zt.forEach(function(Pe){ke[++Ne]=[Pe,Pe]}),ke}function pt(zt){return La(zt)?function(ke){for(var Pe=be.lastIndex=0;be.test(ke);)++Pe;return Pe}(zt):Da(zt)}function Nt(zt){return La(zt)?function(ke){return ke.match(be)||[]}(zt):function(ke){return ke.split("")}(zt)}function Jt(zt){for(var Ne=zt.length;Ne--&&Ze.test(zt.charAt(Ne)););return Ne}var Fe=fi({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mn=function zt(Ne){var ke,Pe=(Ne=Ne==null?Ji:mn.defaults(Ji.Object(),Ne,mn.pick(Ji,Kc))).Array,vr=Ne.Date,Ci=Ne.Error,hi=Ne.Function,Ca=Ne.Math,pi=Ne.Object,Ce=Ne.RegExp,kh=Ne.String,_i=Ne.TypeError,Rs=Pe.prototype,Yc=hi.prototype,pf=pi.prototype,lh=Ne["__core-js_shared__"],iu=Yc.toString,tr=pf.hasOwnProperty,js=0,Rl=(ke=/[^.]+$/.exec(lh&&lh.keys&&lh.keys.IE_PROTO||""))?"Symbol(src)_1."+ke:"",ea=pf.toString,Yf=iu.call(pi),Oc=Ji._,Uu=Ce("^"+iu.call(tr).replace(Kt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jl=Zc?Ne.Buffer:r,io=Ne.Symbol,Bo=Ne.Uint8Array,za=jl?jl.allocUnsafe:r,nf=Co(pi.getPrototypeOf,pi),Xf=pi.create,Of=pf.propertyIsEnumerable,Ua=Rs.splice,$u=io?io.isConcatSpreadable:r,ou=io?io.iterator:r,xc=io?io.toStringTag:r,Nc=function(){try{var A=Dr(pi,"defineProperty");return A({},"",{}),A}catch{}}(),Wh=Ne.clearTimeout!==Ji.clearTimeout&&Ne.clearTimeout,Lh=vr&&vr.now!==Ji.Date.now&&vr.now,sn=Ne.setTimeout!==Ji.setTimeout&&Ne.setTimeout,on=Ca.ceil,pa=Ca.floor,Du=pi.getOwnPropertySymbols,df=jl?jl.isBuffer:r,xh=Ne.isFinite,il=Rs.join,_a=Co(pi.keys,pi),oa=Ca.max,ii=Ca.min,Ko=vr.now,aa=Ne.parseInt,sa=Ca.random,Mo=Rs.reverse,gf=Dr(Ne,"DataView"),bl=Dr(Ne,"Map"),cc=Dr(Ne,"Promise"),rf=Dr(Ne,"Set"),Jf=Dr(Ne,"WeakMap"),rs=Dr(pi,"create"),is=Jf&&new Jf,Ll={},P=Ml(gf),Go=Ml(bl),Pt=Ml(cc),or=Ml(rf),ce=Ml(Jf),Hr=io?io.prototype:r,vn=Hr?Hr.valueOf:r,Fr=Hr?Hr.toString:r;function St(A){if(Wo(A)&&!Gn(A)&&!(A instanceof Bi)){if(A instanceof En)return A;if(tr.call(A,"__wrapped__"))return vf(A)}return new En(A)}var zn=function(){function A(){}return function(_){if(!xn(_))return{};if(Xf)return Xf(_);A.prototype=_;var T=new A;return A.prototype=r,T}}();function Wu(){}function En(A,_){this.__wrapped__=A,this.__actions__=[],this.__chain__=!!_,this.__index__=0,this.__values__=r}function Bi(A){this.__wrapped__=A,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=k,this.__views__=[]}function Kl(A){var _=-1,T=A==null?0:A.length;for(this.clear();++_<T;){var U=A[_];this.set(U[0],U[1])}}function da(A){var _=-1,T=A==null?0:A.length;for(this.clear();++_<T;){var U=A[_];this.set(U[0],U[1])}}function Fo(A){var _=-1,T=A==null?0:A.length;for(this.clear();++_<T;){var U=A[_];this.set(U[0],U[1])}}function ga(A){var _=-1,T=A==null?0:A.length;for(this.__data__=new Fo;++_<T;)this.add(A[_])}function _s(A){var _=this.__data__=new da(A);this.size=_.size}function Hu(A,_){var T=Gn(A),U=!T&&cu(A),G=!T&&!U&&lr(A),Z=!T&&!U&&!G&&we(A),K=T||U||G||Z,tt=K?Gc(A.length,kh):[],ut=tt.length;for(var ot in A)!_&&!tr.call(A,ot)||K&&(ot=="length"||G&&(ot=="offset"||ot=="parent")||Z&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||Ws(ot,ut))||tt.push(ot);return tt}function Rr(A){var _=A.length;return _?A[Un(0,_-1)]:r}function Gl(A,_){return uo(va(A),Wa(_,0,A.length))}function Qi(A){return uo(va(A))}function yr(A,_,T){(T!==r&&!$o(A[_],T)||T===r&&!(_ in A))&&Ss(A,_,T)}function Vu(A,_,T){var U=A[_];tr.call(A,_)&&$o(U,T)&&(T!==r||_ in A)||Ss(A,_,T)}function $a(A,_){for(var T=A.length;T--;)if($o(A[T][0],_))return T;return-1}function Ro(A,_,T,U){return bn(A,function(G,Z,K){_(U,G,T(G),K)}),U}function ki(A,_){return A&&Uo(_,Zn(_),A)}function Ss(A,_,T){_=="__proto__"&&Nc?Nc(A,_,{configurable:!0,enumerable:!0,value:T,writable:!0}):A[_]=T}function fc(A,_){for(var T=-1,U=_.length,G=Pe(U),Z=A==null;++T<U;)G[T]=Z?r:Fu(A,_[T]);return G}function Wa(A,_,T){return A==A&&(T!==r&&(A=A<=T?A:T),_!==r&&(A=A>=_?A:_)),A}function au(A,_,T,U,G,Z){var K,tt=1&_,ut=2&_,ot=4&_;if(T&&(K=G?T(A,U,G,Z):T(A)),K!==r)return K;if(!xn(A))return A;var wt=Gn(A);if(wt){if(K=function(Ht){var ye=Ht.length,oe=new Ht.constructor(ye);return ye&&typeof Ht[0]=="string"&&tr.call(Ht,"index")&&(oe.index=Ht.index,oe.input=Ht.input),oe}(A),!tt)return va(A,K)}else{var yt=Zr(A),jt=yt==V||yt==X;if(lr(A))return Mi(A,tt);if(yt==ct||yt==N||jt&&!G){if(K=ut||jt?{}:dc(A),!tt)return ut?function(Ht,ye){return Uo(Ht,Al(Ht),ye)}(A,function(Ht,ye){return Ht&&Uo(ye,Tn(ye),Ht)}(K,A)):function(Ht,ye){return Uo(Ht,Kn(Ht),ye)}(A,ki(K,A))}else{if(!$i[yt])return G?A:{};K=function(Ht,ye,oe){var xe=Ht.constructor;switch(ye){case Zt:return Aa(Ht);case L:case z:return new xe(+Ht);case _t:return function(an,On){var Dn=On?Aa(an.buffer):an.buffer;return new an.constructor(Dn,an.byteOffset,an.byteLength)}(Ht,oe);case Et:case mt:case vt:case Lt:case ee:case pe:case ve:case Oe:case qe:return Zs(Ht,oe);case nt:return new xe;case it:case kt:return new xe(Ht);case gt:return function(an){var On=new an.constructor(an.source,xo.exec(an));return On.lastIndex=an.lastIndex,On}(Ht);case Ct:return new xe;case Tt:return function(an){return vn?pi(vn.call(an)):{}}(Ht)}}(A,yt,tt)}}Z||(Z=new _s);var xt=Z.get(A);if(xt)return xt;Z.set(A,K),vs(A)?A.forEach(function(ae){K.add(au(ae,_,T,ae,A,Z))}):Ae(A)&&A.forEach(function(ae,Ht){K.set(Ht,au(ae,_,T,Ht,A,Z))});var It=wt?r:(ot?ut?ua:mr:ut?Tn:Zn)(A);return Er(It||A,function(ae,Ht){It&&(ae=A[Ht=ae]),Vu(K,Ht,au(ae,_,T,Ht,A,Z))}),K}function gn(A,_,T){var U=T.length;if(A==null)return!U;for(A=pi(A);U--;){var G=T[U],Z=_[G],K=A[G];if(K===r&&!(G in A)||!Z(K))return!1}return!0}function hc(A,_,T){if(typeof A!="function")throw new _i(i);return Ql(function(){A.apply(r,T)},_)}function Ha(A,_,T,U){var G=-1,Z=uc,K=!0,tt=A.length,ut=[],ot=_.length;if(!tt)return ut;T&&(_=jr(_,Lu(T))),U?(Z=ql,K=!1):_.length>=200&&(Z=Gi,K=!1,_=new ga(_));t:for(;++G<tt;){var wt=A[G],yt=T==null?wt:T(wt);if(wt=U||wt!==0?wt:0,K&&yt==yt){for(var jt=ot;jt--;)if(_[jt]===yt)continue t;ut.push(wt)}else Z(_,yt,U)||ut.push(wt)}return ut}St.templateSettings={escape:dt,evaluate:bt,interpolate:Ot,variable:"",imports:{_:St}},St.prototype=Wu.prototype,St.prototype.constructor=St,En.prototype=zn(Wu.prototype),En.prototype.constructor=En,Bi.prototype=zn(Wu.prototype),Bi.prototype.constructor=Bi,Kl.prototype.clear=function(){this.__data__=rs?rs(null):{},this.size=0},Kl.prototype.delete=function(_){var T=this.has(_)&&delete this.__data__[_];return this.size-=T?1:0,T},Kl.prototype.get=function(_){var T=this.__data__;if(rs){var U=T[_];return U===a?r:U}return tr.call(T,_)?T[_]:r},Kl.prototype.has=function(_){var T=this.__data__;return rs?T[_]!==r:tr.call(T,_)},Kl.prototype.set=function(_,T){var U=this.__data__;return this.size+=this.has(_)?0:1,U[_]=rs&&T===r?a:T,this},da.prototype.clear=function(){this.__data__=[],this.size=0},da.prototype.delete=function(_){var T=this.__data__,U=$a(T,_);return!(U<0||(U==T.length-1?T.pop():Ua.call(T,U,1),--this.size,0))},da.prototype.get=function(_){var T=this.__data__,U=$a(T,_);return U<0?r:T[U][1]},da.prototype.has=function(_){return $a(this.__data__,_)>-1},da.prototype.set=function(_,T){var U=this.__data__,G=$a(U,_);return G<0?(++this.size,U.push([_,T])):U[G][1]=T,this},Fo.prototype.clear=function(){this.size=0,this.__data__={hash:new Kl,map:new(bl||da),string:new Kl}},Fo.prototype.delete=function(_){var T=ur(this,_).delete(_);return this.size-=T?1:0,T},Fo.prototype.get=function(_){return ur(this,_).get(_)},Fo.prototype.has=function(_){return ur(this,_).has(_)},Fo.prototype.set=function(_,T){var U=ur(this,_),G=U.size;return U.set(_,T),this.size+=U.size==G?0:1,this},ga.prototype.add=ga.prototype.push=function(_){return this.__data__.set(_,a),this},ga.prototype.has=function(_){return this.__data__.has(_)},_s.prototype.clear=function(){this.__data__=new da,this.size=0},_s.prototype.delete=function(_){var T=this.__data__,U=T.delete(_);return this.size=T.size,U},_s.prototype.get=function(_){return this.__data__.get(_)},_s.prototype.has=function(_){return this.__data__.has(_)},_s.prototype.set=function(_,T){var U=this.__data__;if(U instanceof da){var G=U.__data__;if(!bl||G.length<199)return G.push([_,T]),this.size=++U.size,this;U=this.__data__=new Fo(G)}return U.set(_,T),this.size=U.size,this};var bn=eo(xl),Sa=eo(pc,!0);function ma(A,_){var T=!0;return bn(A,function(U,G,Z){return T=!!_(U,G,Z)}),T}function Vr(A,_,T){for(var U=-1,G=A.length;++U<G;){var Z=A[U],K=_(Z);if(K!=null&&(tt===r?K==K&&!ys(K):T(K,tt)))var tt=K,ut=Z}return ut}function Ea(A,_){var T=[];return bn(A,function(U,G,Z){_(U,G,Z)&&T.push(U)}),T}function tn(A,_,T,U,G){var Z=-1,K=A.length;for(T||(T=go),G||(G=[]);++Z<K;){var tt=A[Z];_>0&&T(tt)?_>1?tn(tt,_-1,T,U,G):Ii(G,tt):U||(G[G.length]=tt)}return G}var Ho=Oo(),Ls=Oo(!0);function xl(A,_){return A&&Ho(A,_,Zn)}function pc(A,_){return A&&Ls(A,_,Zn)}function Po(A,_){return Is(_,function(T){return Qu(A[T])})}function Js(A,_){for(var T=0,U=(_=Sl(_,A)).length;A!=null&&T<U;)A=A[lo(_[T++])];return T&&T==U?A:r}function _o(A,_,T){var U=_(A);return Gn(A)?U:Ii(U,T(A))}function jo(A){return A==null?A===r?"[object Undefined]":"[object Null]":xc&&xc in pi(A)?function(T){var U=tr.call(T,xc),G=T[xc];try{T[xc]=r;var Z=!0}catch{}var K=ea.call(T);return Z&&(U?T[xc]=G:delete T[xc]),K}(A):function(T){return ea.call(T)}(A)}function qu(A,_){return A>_}function Cu(A,_){return A!=null&&tr.call(A,_)}function Ta(A,_){return A!=null&&_ in pi(A)}function dr(A,_,T){for(var U=T?ql:uc,G=A[0].length,Z=A.length,K=Z,tt=Pe(Z),ut=1/0,ot=[];K--;){var wt=A[K];K&&_&&(wt=jr(wt,Lu(_))),ut=ii(wt.length,ut),tt[K]=!T&&(_||G>=120&&wt.length>=120)?new ga(K&&wt):r}wt=A[0];var yt=-1,jt=tt[0];t:for(;++yt<G&&ot.length<ut;){var xt=wt[yt],It=_?_(xt):xt;if(xt=T||xt!==0?xt:0,!(jt?Gi(jt,It):U(ot,It,T))){for(K=Z;--K;){var ae=tt[K];if(!(ae?Gi(ae,It):U(A[K],It,T)))continue t}jt&&jt.push(It),ot.push(xt)}}return ot}function ar(A,_,T){var U=(A=Nn(A,_=Sl(_,A)))==null?A:A[lo(su(_))];return U==null?r:xi(U,A,T)}function zs(A){return Wo(A)&&jo(A)==N}function Wi(A,_,T,U,G){return A===_||(A==null||_==null||!Wo(A)&&!Wo(_)?A!=A&&_!=_:function(K,tt,ut,ot,wt,yt){var jt=Gn(K),xt=Gn(tt),It=jt?B:Zr(K),ae=xt?B:Zr(tt),Ht=(It=It==N?ct:It)==ct,ye=(ae=ae==N?ct:ae)==ct,oe=It==ae;if(oe&&lr(K)){if(!lr(tt))return!1;jt=!0,Ht=!1}if(oe&&!Ht)return yt||(yt=new _s),jt||we(K)?er(K,tt,ut,ot,wt,yt):function(nr,Cr,Ao,ro,vo,Kr,ss){switch(Ao){case _t:if(nr.byteLength!=Cr.byteLength||nr.byteOffset!=Cr.byteOffset)return!1;nr=nr.buffer,Cr=Cr.buffer;case Zt:return!(nr.byteLength!=Cr.byteLength||!Kr(new Bo(nr),new Bo(Cr)));case L:case z:case it:return $o(+nr,+Cr);case q:return nr.name==Cr.name&&nr.message==Cr.message;case gt:case kt:return nr==Cr+"";case nt:var Lr=lc;case Ct:var Za=1&ro;if(Lr||(Lr=st),nr.size!=Cr.size&&!Za)return!1;var Vp=ss.get(nr);if(Vp)return Vp==Cr;ro|=2,ss.set(nr,Cr);var Nh=er(Lr(nr),Lr(Cr),ro,vo,Kr,ss);return ss.delete(nr),Nh;case Tt:if(vn)return vn.call(nr)==vn.call(Cr)}return!1}(K,tt,It,ut,ot,wt,yt);if(!(1&ut)){var xe=Ht&&tr.call(K,"__wrapped__"),Ve=ye&&tr.call(tt,"__wrapped__");if(xe||Ve){var an=xe?K.value():K,On=Ve?tt.value():tt;return yt||(yt=new _s),wt(an,On,ut,ot,yt)}}return!!oe&&(yt||(yt=new _s),function(nr,Cr,Ao,ro,vo,Kr){var ss=1&Ao,Lr=mr(nr),Za=Lr.length,Vp=mr(Cr),Nh=Vp.length;if(Za!=Nh&&!ss)return!1;for(var fm=Za;fm--;){var Hh=Lr[fm];if(!(ss?Hh in Cr:tr.call(Cr,Hh)))return!1}var p=Kr.get(nr),v=Kr.get(Cr);if(p&&v)return p==Cr&&v==nr;var D=!0;Kr.set(nr,Cr),Kr.set(Cr,nr);for(var F=ss;++fm<Za;){var j=nr[Hh=Lr[fm]],$=Cr[Hh];if(ro)var Y=ss?ro($,j,Hh,Cr,nr,Kr):ro(j,$,Hh,nr,Cr,Kr);if(!(Y===r?j===$||vo(j,$,Ao,ro,Kr):Y)){D=!1;break}F||(F=Hh=="constructor")}if(D&&!F){var lt=nr.constructor,ht=Cr.constructor;lt==ht||!("constructor"in nr)||!("constructor"in Cr)||typeof lt=="function"&&lt instanceof lt&&typeof ht=="function"&&ht instanceof ht||(D=!1)}return Kr.delete(nr),Kr.delete(Cr),D}(K,tt,ut,ot,wt,yt))}(A,_,T,U,Wi,G))}function Si(A,_,T,U){var G=T.length,Z=G,K=!U;if(A==null)return!Z;for(A=pi(A);G--;){var tt=T[G];if(K&&tt[2]?tt[1]!==A[tt[0]]:!(tt[0]in A))return!1}for(;++G<Z;){var ut=(tt=T[G])[0],ot=A[ut],wt=tt[1];if(K&&tt[2]){if(ot===r&&!(ut in A))return!1}else{var yt=new _s;if(U)var jt=U(ot,wt,ut,A,_,yt);if(!(jt===r?Wi(wt,ot,3,U,yt):jt))return!1}}return!0}function _u(A){return!(!xn(A)||function(T){return!!Rl&&Rl in T}(A))&&(Qu(A)?Uu:ko).test(Ml(A))}function Qs(A){return typeof A=="function"?A:A==null?Io:typeof A=="object"?Gn(A)?ue(A[0],A[1]):Us(A):ff(A)}function Zi(A){if(!As(A))return _a(A);var _=[];for(var T in pi(A))tr.call(A,T)&&T!="constructor"&&_.push(T);return _}function Dl(A){if(!xn(A))return function(Z){var K=[];if(Z!=null)for(var tt in pi(Z))K.push(tt);return K}(A);var _=As(A),T=[];for(var U in A)(U!="constructor"||!_&&tr.call(A,U))&&T.push(U);return T}function zl(A,_){return A<_}function fs(A,_){var T=-1,U=Le(A)?Pe(A.length):[];return bn(A,function(G,Z,K){U[++T]=_(G,Z,K)}),U}function Us(A){var _=Ue(A);return _.length==1&&_[0][2]?Hs(_[0][0],_[0][1]):function(T){return T===A||Si(T,A,_)}}function ue(A,_){return kl(A)&&sl(_)?Hs(lo(A),_):function(T){var U=Fu(T,A);return U===r&&U===_?ph(T,A):Wi(_,U,3)}}function Es(A,_,T,U,G){A!==_&&Ho(_,function(Z,K){if(G||(G=new _s),xn(Z))(function(ot,wt,yt,jt,xt,It,ae){var Ht=so(ot,yt),ye=so(wt,yt),oe=ae.get(ye);if(oe)yr(ot,yt,oe);else{var xe=It?It(Ht,ye,yt+"",ot,wt,ae):r,Ve=xe===r;if(Ve){var an=Gn(ye),On=!an&&lr(ye),Dn=!an&&!On&&we(ye);xe=ye,an||On||Dn?Gn(Ht)?xe=Ht:Qn(Ht)?xe=va(Ht):On?(Ve=!1,xe=Mi(ye,!0)):Dn?(Ve=!1,xe=Zs(ye,!0)):xe=[]:ui(ye)||cu(ye)?(xe=Ht,cu(Ht)?xe=rc(Ht):xn(Ht)&&!Qu(Ht)||(xe=dc(ye))):Ve=!1}Ve&&(ae.set(ye,xe),xt(xe,ye,jt,It,ae),ae.delete(ye)),yr(ot,yt,xe)}})(A,_,K,T,Es,U,G);else{var tt=U?U(so(A,K),Z,K+"",A,_,G):r;tt===r&&(tt=Z),yr(A,K,tt)}},Tn)}function mi(A,_){var T=A.length;if(T)return Ws(_+=_<0?T:0,T)?A[_]:r}function os(A,_,T){_=_.length?jr(_,function(Z){return Gn(Z)?function(K){return Js(K,Z.length===1?Z[0]:Z)}:Z}):[Io];var U=-1;_=jr(_,Lu(sr()));var G=fs(A,function(Z,K,tt){var ut=jr(_,function(ot){return ot(Z)});return{criteria:ut,index:++U,value:Z}});return function(K,tt){var ut=K.length;for(K.sort(tt);ut--;)K[ut]=K[ut].value;return K}(G,function(Z,K){return function(ut,ot,wt){for(var yt=-1,jt=ut.criteria,xt=ot.criteria,It=jt.length,ae=wt.length;++yt<It;){var Ht=Eu(jt[yt],xt[yt]);if(Ht)return yt>=ae?Ht:Ht*(wt[yt]=="desc"?-1:1)}return ut.index-ot.index}(Z,K,T)})}function Yl(A,_,T){for(var U=-1,G=_.length,Z={};++U<G;){var K=_[U],tt=Js(A,K);T(tt,K)&&Qr(Z,Sl(K,A),tt)}return Z}function hs(A,_,T,U){var G=U?Il:Ys,Z=-1,K=_.length,tt=A;for(A===_&&(_=va(_)),T&&(tt=jr(A,Lu(T)));++Z<K;)for(var ut=0,ot=_[Z],wt=T?T(ot):ot;(ut=G(tt,wt,ut,U))>-1;)tt!==A&&Ua.call(tt,ut,1),Ua.call(A,ut,1);return A}function ol(A,_){for(var T=A?_.length:0,U=T-1;T--;){var G=_[T];if(T==U||G!==Z){var Z=G;Ws(G)?Ua.call(A,G,1):Xl(A,G)}}return A}function Un(A,_){return A+pa(sa()*(_-A+1))}function Xc(A,_){var T="";if(!A||_<1||_>w)return T;do _%2&&(T+=A),(_=pa(_/2))&&(A+=A);while(_);return T}function Fn(A,_){return mf(Ic(A,_,Io),A+"")}function to(A){return Rr(Pu(A))}function Or(A,_){var T=Pu(A);return uo(T,Wa(_,0,T.length))}function Qr(A,_,T,U){if(!xn(A))return A;for(var G=-1,Z=(_=Sl(_,A)).length,K=Z-1,tt=A;tt!=null&&++G<Z;){var ut=lo(_[G]),ot=T;if(ut==="__proto__"||ut==="constructor"||ut==="prototype")return A;if(G!=K){var wt=tt[ut];(ot=U?U(wt,ut,tt):r)===r&&(ot=xn(wt)?wt:Ws(_[G+1])?[]:{})}Vu(tt,ut,ot),tt=tt[ut]}return A}var fn=is?function(A,_){return is.set(A,_),A}:Io,Yn=Nc?function(A,_){return Nc(A,"toString",{configurable:!0,enumerable:!1,value:Ac(_),writable:!0})}:Io;function oi(A){return uo(Pu(A))}function na(A,_,T){var U=-1,G=A.length;_<0&&(_=-_>G?0:G+_),(T=T>G?G:T)<0&&(T+=G),G=_>T?0:T-_>>>0,_>>>=0;for(var Z=Pe(G);++U<G;)Z[U]=A[U+_];return Z}function Va(A,_){var T;return bn(A,function(U,G,Z){return!(T=_(U,G,Z))}),!!T}function qa(A,_,T){var U=0,G=A==null?U:A.length;if(typeof _=="number"&&_==_&&G<=2147483647){for(;U<G;){var Z=U+G>>>1,K=A[Z];K!==null&&!ys(K)&&(T?K<=_:K<_)?U=Z+1:G=Z}return G}return Ri(A,_,Io,T)}function Ri(A,_,T,U){var G=0,Z=A==null?0:A.length;if(Z===0)return 0;for(var K=(_=T(_))!=_,tt=_===null,ut=ys(_),ot=_===r;G<Z;){var wt=pa((G+Z)/2),yt=T(A[wt]),jt=yt!==r,xt=yt===null,It=yt==yt,ae=ys(yt);if(K)var Ht=U||It;else Ht=ot?It&&(U||jt):tt?It&&jt&&(U||!xt):ut?It&&jt&&!xt&&(U||!ae):!xt&&!ae&&(U?yt<=_:yt<_);Ht?G=wt+1:Z=wt}return ii(Z,4294967294)}function Yo(A,_){for(var T=-1,U=A.length,G=0,Z=[];++T<U;){var K=A[T],tt=_?_(K):K;if(!T||!$o(tt,ut)){var ut=tt;Z[G++]=K===0?0:K}}return Z}function wr(A){return typeof A=="number"?A:ys(A)?C:+A}function di(A){if(typeof A=="string")return A;if(Gn(A))return jr(A,di)+"";if(ys(A))return Fr?Fr.call(A):"";var _=A+"";return _=="0"&&1/A==-1/0?"-0":_}function ai(A,_,T){var U=-1,G=uc,Z=A.length,K=!0,tt=[],ut=tt;if(T)K=!1,G=ql;else if(Z>=200){var ot=_?null:po(A);if(ot)return st(ot);K=!1,G=Gi,ut=new ga}else ut=_?[]:tt;t:for(;++U<Z;){var wt=A[U],yt=_?_(wt):wt;if(wt=T||wt!==0?wt:0,K&&yt==yt){for(var jt=ut.length;jt--;)if(ut[jt]===yt)continue t;_&&ut.push(yt),tt.push(wt)}else G(ut,yt,T)||(ut!==tt&&ut.push(yt),tt.push(wt))}return tt}function Xl(A,_){return(A=Nn(A,_=Sl(_,A)))==null||delete A[lo(su(_))]}function Ur(A,_,T,U){return Qr(A,_,T(Js(A,_)),U)}function Jl(A,_,T,U){for(var G=A.length,Z=U?G:-1;(U?Z--:++Z<G)&&_(A[Z],Z,A););return T?na(A,U?0:Z,U?Z+1:G):na(A,U?Z+1:0,U?G:Z)}function Cl(A,_){var T=A;return T instanceof Bi&&(T=T.value()),bc(_,function(U,G){return G.func.apply(G.thisArg,Ii([U],G.args))},T)}function Su(A,_,T){var U=A.length;if(U<2)return U?ai(A[0]):[];for(var G=-1,Z=Pe(U);++G<U;)for(var K=A[G],tt=-1;++tt<U;)tt!=G&&(Z[G]=Ha(Z[G]||K,A[tt],_,T));return ai(tn(Z,1),_,T)}function _l(A,_,T){for(var U=-1,G=A.length,Z=_.length,K={};++U<G;){var tt=U<Z?_[U]:r;T(K,A[U],tt)}return K}function ps(A){return Qn(A)?A:[]}function al(A){return typeof A=="function"?A:Io}function Sl(A,_){return Gn(A)?A:kl(A,_)?[A]:Oa(Fi(A))}var An=Fn;function $n(A,_,T){var U=A.length;return T=T===r?U:T,!_&&T>=U?A:na(A,_,T)}var ji=Wh||function(A){return Ji.clearTimeout(A)};function Mi(A,_){if(_)return A.slice();var T=A.length,U=za?za(T):new A.constructor(T);return A.copy(U),U}function Aa(A){var _=new A.constructor(A.byteLength);return new Bo(_).set(new Bo(A)),_}function Zs(A,_){var T=_?Aa(A.buffer):A.buffer;return new A.constructor(T,A.byteOffset,A.length)}function Eu(A,_){if(A!==_){var T=A!==r,U=A===null,G=A==A,Z=ys(A),K=_!==r,tt=_===null,ut=_==_,ot=ys(_);if(!tt&&!ot&&!Z&&A>_||Z&&K&&ut&&!tt&&!ot||U&&K&&ut||!T&&ut||!G)return 1;if(!U&&!Z&&!ot&&A<_||ot&&T&&G&&!U&&!Z||tt&&T&&G||!K&&G||!ut)return-1}return 0}function Lo(A,_,T,U){for(var G=-1,Z=A.length,K=T.length,tt=-1,ut=_.length,ot=oa(Z-K,0),wt=Pe(ut+ot),yt=!U;++tt<ut;)wt[tt]=_[tt];for(;++G<K;)(yt||G<Z)&&(wt[T[G]]=A[G]);for(;ot--;)wt[tt++]=A[G++];return wt}function zo(A,_,T,U){for(var G=-1,Z=A.length,K=-1,tt=T.length,ut=-1,ot=_.length,wt=oa(Z-tt,0),yt=Pe(wt+ot),jt=!U;++G<wt;)yt[G]=A[G];for(var xt=G;++ut<ot;)yt[xt+ut]=_[ut];for(;++K<tt;)(jt||G<Z)&&(yt[xt+T[K]]=A[G++]);return yt}function va(A,_){var T=-1,U=A.length;for(_||(_=Pe(U));++T<U;)_[T]=A[T];return _}function Uo(A,_,T,U){var G=!T;T||(T={});for(var Z=-1,K=_.length;++Z<K;){var tt=_[Z],ut=U?U(T[tt],A[tt],tt,T,A):r;ut===r&&(ut=A[tt]),G?Ss(T,tt,ut):Vu(T,tt,ut)}return T}function To(A,_){return function(T,U){var G=Gn(T)?Be:Ro,Z=_?_():{};return G(T,A,sr(U,2),Z)}}function oo(A){return Fn(function(_,T){var U=-1,G=T.length,Z=G>1?T[G-1]:r,K=G>2?T[2]:r;for(Z=A.length>3&&typeof Z=="function"?(G--,Z):r,K&&ao(T[0],T[1],K)&&(Z=G<3?r:Z,G=1),_=pi(_);++U<G;){var tt=T[U];tt&&A(_,tt,U,Z)}return _})}function eo(A,_){return function(T,U){if(T==null)return T;if(!Le(T))return A(T,U);for(var G=T.length,Z=_?G:-1,K=pi(T);(_?Z--:++Z<G)&&U(K[Z],Z,K)!==!1;);return T}}function Oo(A){return function(_,T,U){for(var G=-1,Z=pi(_),K=U(_),tt=K.length;tt--;){var ut=K[A?tt:++G];if(T(Z[ut],ut,Z)===!1)break}return _}}function Xo(A){return function(_){var T=La(_=Fi(_))?Nt(_):r,U=T?T[0]:_.charAt(0),G=T?$n(T,1).join(""):_.slice(1);return U[A]()+G}}function Ku(A){return function(_){return bc(Jc(Ps(_).replace(Do,"")),A,"")}}function Ka(A){return function(){var _=arguments;switch(_.length){case 0:return new A;case 1:return new A(_[0]);case 2:return new A(_[0],_[1]);case 3:return new A(_[0],_[1],_[2]);case 4:return new A(_[0],_[1],_[2],_[3]);case 5:return new A(_[0],_[1],_[2],_[3],_[4]);case 6:return new A(_[0],_[1],_[2],_[3],_[4],_[5]);case 7:return new A(_[0],_[1],_[2],_[3],_[4],_[5],_[6])}var T=zn(A.prototype),U=A.apply(T,_);return xn(U)?U:T}}function ds(A){return function(_,T,U){var G=pi(_);if(!Le(_)){var Z=sr(T,3);_=Zn(_),T=function(tt){return Z(G[tt],tt,G)}}var K=A(_,T,U);return K>-1?G[Z?_[K]:K]:r}}function ra(A){return si(function(_){var T=_.length,U=T,G=En.prototype.thru;for(A&&_.reverse();U--;){var Z=_[U];if(typeof Z!="function")throw new _i(i);if(G&&!K&&$l(Z)=="wrapper")var K=new En([],!0)}for(U=K?U:T;++U<T;){var tt=$l(Z=_[U]),ut=tt=="wrapper"?cn(Z):r;K=ut&&gi(ut[0])&&ut[1]==424&&!ut[4].length&&ut[9]==1?K[$l(ut[0])].apply(K,ut[3]):Z.length==1&&gi(Z)?K[tt]():K.thru(Z)}return function(){var ot=arguments,wt=ot[0];if(K&&ot.length==1&&Gn(wt))return K.plant(wt).value();for(var yt=0,jt=T?_[yt].apply(this,ot):wt;++yt<T;)jt=_[yt].call(this,jt);return jt}})}function of(A,_,T,U,G,Z,K,tt,ut,ot){var wt=_&h,yt=1&_,jt=2&_,xt=24&_,It=512&_,ae=jt?r:Ka(A);return function Ht(){for(var ye=arguments.length,oe=Pe(ye),xe=ye;xe--;)oe[xe]=arguments[xe];if(xt)var Ve=Qo(Ht),an=function(Ao,ro){for(var vo=Ao.length,Kr=0;vo--;)Ao[vo]===ro&&++Kr;return Kr}(oe,Ve);if(U&&(oe=Lo(oe,U,G,xt)),Z&&(oe=zo(oe,Z,K,xt)),ye-=an,xt&&ye<ot){var On=J(oe,Ve);return Ei(A,_,of,Ht.placeholder,T,oe,On,tt,ut,ot-ye)}var Dn=yt?T:this,nr=jt?Dn[A]:A;return ye=oe.length,tt?oe=function(Ao,ro){for(var vo=Ao.length,Kr=ii(ro.length,vo),ss=va(Ao);Kr--;){var Lr=ro[Kr];Ao[Kr]=Ws(Lr,vo)?ss[Lr]:r}return Ao}(oe,tt):It&&ye>1&&oe.reverse(),wt&&ut<ye&&(oe.length=ut),this&&this!==Ji&&this instanceof Ht&&(nr=ae||Ka(nr)),nr.apply(Dn,oe)}}function Ul(A,_){return function(T,U){return function(Z,K,tt,ut){return xl(Z,function(ot,wt,yt){K(ut,tt(ot),wt,yt)}),ut}(T,A,_(U),{})}}function gr(A,_){return function(T,U){var G;if(T===r&&U===r)return _;if(T!==r&&(G=T),U!==r){if(G===r)return U;typeof T=="string"||typeof U=="string"?(T=di(T),U=di(U)):(T=wr(T),U=wr(U)),G=A(T,U)}return G}}function $s(A){return si(function(_){return _=jr(_,Lu(sr())),Fn(function(T){var U=this;return A(_,function(G){return xi(G,U,T)})})})}function Ga(A,_){var T=(_=_===r?" ":di(_)).length;if(T<2)return T?Xc(_,A):_;var U=Xc(_,on(A/pt(_)));return La(_)?$n(Nt(U),0,A).join(""):U.slice(0,A)}function Nf(A){return function(_,T,U){return U&&typeof U!="number"&&ao(_,T,U)&&(T=U=r),_=nc(_),T===r?(T=_,_=0):T=nc(T),function(Z,K,tt,ut){for(var ot=-1,wt=oa(on((K-Z)/(tt||1)),0),yt=Pe(wt);wt--;)yt[ut?wt:++ot]=Z,Z+=tt;return yt}(_,T,U=U===r?_<T?1:-1:nc(U),A)}}function El(A){return function(_,T){return typeof _=="string"&&typeof T=="string"||(_=as(_),T=as(T)),A(_,T)}}function Ei(A,_,T,U,G,Z,K,tt,ut,ot){var wt=8&_;_|=wt?f:d,4&(_&=~(wt?d:f))||(_&=-4);var yt=[A,_,G,wt?Z:r,wt?K:r,wt?r:Z,wt?r:K,tt,ut,ot],jt=T.apply(r,yt);return gi(A)&&Au(jt,yt),jt.placeholder=U,ch(jt,A,_)}function Ya(A){var _=Ca[A];return function(T,U){if(T=as(T),(U=U==null?0:ii(Pn(U),292))&&xh(T)){var G=(Fi(T)+"e").split("e");return+((G=(Fi(_(G[0]+"e"+(+G[1]+U)))+"e").split("e"))[0]+"e"+(+G[1]-U))}return _(T)}}var po=rf&&1/st(new rf([,-0]))[1]==y?function(A){return new rf(A)}:Ma;function gs(A){return function(_){var T=Zr(_);return T==nt?lc(_):T==Ct?et(_):function(G,Z){return jr(Z,function(K){return[K,G[K]]})}(_,A(_))}}function So(A,_,T,U,G,Z,K,tt){var ut=2&_;if(!ut&&typeof A!="function")throw new _i(i);var ot=U?U.length:0;if(ot||(_&=-97,U=G=r),K=K===r?K:oa(Pn(K),0),tt=tt===r?tt:Pn(tt),ot-=G?G.length:0,_&d){var wt=U,yt=G;U=G=r}var jt=ut?r:cn(A),xt=[A,_,T,U,G,wt,yt,Z,K,tt];if(jt&&function(Ht,ye){var oe=Ht[1],xe=ye[1],Ve=oe|xe,an=Ve<131,On=xe==h&&oe==8||xe==h&&oe==m&&Ht[7].length<=ye[8]||xe==384&&ye[7].length<=ye[8]&&oe==8;if(!an&&!On)return Ht;1&xe&&(Ht[2]=ye[2],Ve|=1&oe?0:4);var Dn=ye[3];if(Dn){var nr=Ht[3];Ht[3]=nr?Lo(nr,Dn,ye[4]):Dn,Ht[4]=nr?J(Ht[3],s):ye[4]}return(Dn=ye[5])&&(nr=Ht[5],Ht[5]=nr?zo(nr,Dn,ye[6]):Dn,Ht[6]=nr?J(Ht[5],s):ye[6]),(Dn=ye[7])&&(Ht[7]=Dn),xe&h&&(Ht[8]=Ht[8]==null?ye[8]:ii(Ht[8],ye[8])),Ht[9]==null&&(Ht[9]=ye[9]),Ht[0]=ye[0],Ht[1]=Ve,Ht}(xt,jt),A=xt[0],_=xt[1],T=xt[2],U=xt[3],G=xt[4],!(tt=xt[9]=xt[9]===r?ut?0:A.length:oa(xt[9]-ot,0))&&24&_&&(_&=-25),_&&_!=1)It=_==8||_==c?function(Ht,ye,oe){var xe=Ka(Ht);return function Ve(){for(var an=arguments.length,On=Pe(an),Dn=an,nr=Qo(Ve);Dn--;)On[Dn]=arguments[Dn];var Cr=an<3&&On[0]!==nr&&On[an-1]!==nr?[]:J(On,nr);return(an-=Cr.length)<oe?Ei(Ht,ye,of,Ve.placeholder,r,On,Cr,r,r,oe-an):xi(this&&this!==Ji&&this instanceof Ve?xe:Ht,this,On)}}(A,_,tt):_!=f&&_!=33||G.length?of.apply(r,xt):function(Ht,ye,oe,xe){var Ve=1&ye,an=Ka(Ht);return function On(){for(var Dn=-1,nr=arguments.length,Cr=-1,Ao=xe.length,ro=Pe(Ao+nr),vo=this&&this!==Ji&&this instanceof On?an:Ht;++Cr<Ao;)ro[Cr]=xe[Cr];for(;nr--;)ro[Cr++]=arguments[++Dn];return xi(vo,Ve?oe:this,ro)}}(A,_,T,U);else var It=function(Ht,ye,oe){var xe=1&ye,Ve=Ka(Ht);return function an(){return(this&&this!==Ji&&this instanceof an?Ve:Ht).apply(xe?oe:this,arguments)}}(A,_,T);return ch((jt?fn:Au)(It,xt),A,_)}function vi(A,_,T,U){return A===r||$o(A,pf[T])&&!tr.call(U,T)?_:A}function Yt(A,_,T,U,G,Z){return xn(A)&&xn(_)&&(Z.set(_,A),Es(A,_,r,Yt,Z),Z.delete(_)),A}function Jo(A){return ui(A)?r:A}function er(A,_,T,U,G,Z){var K=1&T,tt=A.length,ut=_.length;if(tt!=ut&&!(K&&ut>tt))return!1;var ot=Z.get(A),wt=Z.get(_);if(ot&&wt)return ot==_&&wt==A;var yt=-1,jt=!0,xt=2&T?new ga:r;for(Z.set(A,_),Z.set(_,A);++yt<tt;){var It=A[yt],ae=_[yt];if(U)var Ht=K?U(ae,It,yt,_,A,Z):U(It,ae,yt,A,_,Z);if(Ht!==r){if(Ht)continue;jt=!1;break}if(xt){if(!xu(_,function(ye,oe){if(!Gi(xt,oe)&&(It===ye||G(It,ye,T,U,Z)))return xt.push(oe)})){jt=!1;break}}else if(It!==ae&&!G(It,ae,T,U,Z)){jt=!1;break}}return Z.delete(A),Z.delete(_),jt}function si(A){return mf(Ic(A,r,Gu),A+"")}function mr(A){return _o(A,Zn,Kn)}function ua(A){return _o(A,Tn,Al)}var cn=is?function(A){return is.get(A)}:Ma;function $l(A){for(var _=A.name+"",T=Ll[_],U=tr.call(Ll,_)?T.length:0;U--;){var G=T[U],Z=G.func;if(Z==null||Z==A)return G.name}return _}function Qo(A){return(tr.call(St,"placeholder")?St:A).placeholder}function sr(){var A=St.iteratee||fr;return A=A===fr?Qs:A,arguments.length?A(arguments[0],arguments[1]):A}function ur(A,_){var T=A.__data__;return function(G){var Z=typeof G;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?G!=="__proto__":G===null}(_)?T[typeof _=="string"?"string":"hash"]:T.map}function Ue(A){for(var _=Zn(A),T=_.length;T--;){var U=_[T],G=A[U];_[T]=[U,G,sl(G)]}return _}function Dr(A,_){var T=function(G,Z){return G==null?r:G[Z]}(A,_);return _u(T)?T:r}var Kn=Du?function(A){return A==null?[]:(A=pi(A),Is(Du(A),function(_){return Of.call(A,_)}))}:Qc,Al=Du?function(A){for(var _=[];A;)Ii(_,Kn(A)),A=nf(A);return _}:Qc,Zr=jo;function Wl(A,_,T){for(var U=-1,G=(_=Sl(_,A)).length,Z=!1;++U<G;){var K=lo(_[U]);if(!(Z=A!=null&&T(A,K)))break;A=A[K]}return Z||++U!=G?Z:!!(G=A==null?0:A.length)&&jn(G)&&Ws(K,G)&&(Gn(A)||cu(A))}function dc(A){return typeof A.constructor!="function"||As(A)?{}:zn(nf(A))}function go(A){return Gn(A)||cu(A)||!!($u&&A&&A[$u])}function Ws(A,_){var T=typeof A;return!!(_=_??w)&&(T=="number"||T!="symbol"&&ja.test(A))&&A>-1&&A%1==0&&A<_}function ao(A,_,T){if(!xn(T))return!1;var U=typeof _;return!!(U=="number"?Le(T)&&Ws(_,T.length):U=="string"&&_ in T)&&$o(T[_],A)}function kl(A,_){if(Gn(A))return!1;var T=typeof A;return!(T!="number"&&T!="symbol"&&T!="boolean"&&A!=null&&!ys(A))||Rt.test(A)||!Bt.test(A)||_!=null&&A in pi(_)}function gi(A){var _=$l(A),T=St[_];if(typeof T!="function"||!(_ in Bi.prototype))return!1;if(A===T)return!0;var U=cn(T);return!!U&&A===U[0]}(gf&&Zr(new gf(new ArrayBuffer(1)))!=_t||bl&&Zr(new bl)!=nt||cc&&Zr(cc.resolve())!=ft||rf&&Zr(new rf)!=Ct||Jf&&Zr(new Jf)!=At)&&(Zr=function(A){var _=jo(A),T=_==ct?A.constructor:r,U=T?Ml(T):"";if(U)switch(U){case P:return _t;case Go:return nt;case Pt:return ft;case or:return Ct;case ce:return At}return _});var no=lh?Qu:o;function As(A){var _=A&&A.constructor;return A===(typeof _=="function"&&_.prototype||pf)}function sl(A){return A==A&&!xn(A)}function Hs(A,_){return function(T){return T!=null&&T[A]===_&&(_!==r||A in pi(T))}}function Ic(A,_,T){return _=oa(_===r?A.length-1:_,0),function(){for(var U=arguments,G=-1,Z=oa(U.length-_,0),K=Pe(Z);++G<Z;)K[G]=U[_+G];G=-1;for(var tt=Pe(_+1);++G<_;)tt[G]=U[G];return tt[_]=T(K),xi(A,this,tt)}}function Nn(A,_){return _.length<2?A:Js(A,na(_,0,-1))}function so(A,_){if((_!=="constructor"||typeof A[_]!="function")&&_!="__proto__")return A[_]}var Au=Zl(fn),Ql=sn||function(A,_){return Ji.setTimeout(A,_)},mf=Zl(Yn);function ch(A,_,T){var U=_+"";return mf(A,function(Z,K){var tt=K.length;if(!tt)return Z;var ut=tt-1;return K[ut]=(tt>1?"& ":"")+K[ut],K=K.join(tt>2?", ":" "),Z.replace(Xe,`{
/* [wrapped with `+K+`] */
`)}(U,function(Z,K){return Er(M,function(tt){var ut="_."+tt[0];K&tt[1]&&!uc(Z,ut)&&Z.push(ut)}),Z.sort()}(function(Z){var K=Z.match(Se);return K?K[1].split(je):[]}(U),T)))}function Zl(A){var _=0,T=0;return function(){var U=Ko(),G=16-(U-T);if(T=U,G>0){if(++_>=800)return arguments[0]}else _=0;return A.apply(r,arguments)}}function uo(A,_){var T=-1,U=A.length,G=U-1;for(_=_===r?U:_;++T<_;){var Z=Un(T,G),K=A[Z];A[Z]=A[T],A[T]=K}return A.length=_,A}var Oa=function(_){var T=Eo(_,function(G){return U.size===500&&U.clear(),G}),U=T.cache;return T}(function(A){var _=[];return A.charCodeAt(0)===46&&_.push(""),A.replace(Xt,function(T,U,G,Z){_.push(G?Z.replace(Yi,"$1"):U||T)}),_});function lo(A){if(typeof A=="string"||ys(A))return A;var _=A+"";return _=="0"&&1/A==-1/0?"-0":_}function Ml(A){if(A!=null){try{return iu.call(A)}catch{}try{return A+""}catch{}}return""}function vf(A){if(A instanceof Bi)return A.clone();var _=new En(A.__wrapped__,A.__chain__);return _.__actions__=va(A.__actions__),_.__index__=A.__index__,_.__values__=A.__values__,_}var yf=Fn(function(A,_){return Qn(A)?Ha(A,tn(_,1,Qn,!0)):[]}),Ar=Fn(function(A,_){var T=su(_);return Qn(T)&&(T=r),Qn(A)?Ha(A,tn(_,1,Qn,!0),sr(T,2)):[]}),ul=Fn(function(A,_){var T=su(_);return Qn(T)&&(T=r),Qn(A)?Ha(A,tn(_,1,Qn,!0),r,T):[]});function tu(A,_,T){var U=A==null?0:A.length;if(!U)return-1;var G=T==null?0:Pn(T);return G<0&&(G=oa(U+G,0)),Pc(A,sr(_,3),G)}function fh(A,_,T){var U=A==null?0:A.length;if(!U)return-1;var G=U-1;return T!==r&&(G=Pn(T),G=T<0?oa(U+G,0):ii(G,U-1)),Pc(A,sr(_,3),G,!0)}function Gu(A){return A!=null&&A.length?tn(A,1):[]}function Dc(A){return A&&A.length?A[0]:r}var Hl=Fn(function(A){var _=jr(A,ps);return _.length&&_[0]===A[0]?dr(_):[]}),Qf=Fn(function(A){var _=su(A),T=jr(A,ps);return _===su(T)?_=r:T.pop(),T.length&&T[0]===A[0]?dr(T,sr(_,2)):[]}),Cc=Fn(function(A){var _=su(A),T=jr(A,ps);return(_=typeof _=="function"?_:r)&&T.pop(),T.length&&T[0]===A[0]?dr(T,r,_):[]});function su(A){var _=A==null?0:A.length;return _?A[_-1]:r}var Mh=Fn(Fh);function Fh(A,_){return A&&A.length&&_&&_.length?hs(A,_):A}var Ph=si(function(A,_){var T=A==null?0:A.length,U=fc(A,_);return ol(A,jr(_,function(G){return Ws(G,T)?+G:G}).sort(Eu)),U});function hh(A){return A==null?A:Mo.call(A)}var Th=Fn(function(A){return ai(tn(A,1,Qn,!0))}),If=Fn(function(A){var _=su(A);return Qn(_)&&(_=r),ai(tn(A,1,Qn,!0),sr(_,2))}),Zf=Fn(function(A){var _=su(A);return _=typeof _=="function"?_:r,ai(tn(A,1,Qn,!0),r,_)});function Yu(A){if(!A||!A.length)return[];var _=0;return A=Is(A,function(T){if(Qn(T))return _=oa(T.length,_),!0}),Gc(_,function(T){return jr(A,yl(T))})}function th(A,_){if(!A||!A.length)return[];var T=Yu(A);return _==null?T:jr(T,function(U){return xi(_,r,U)})}var ms=Fn(function(A,_){return Qn(A)?Ha(A,_):[]}),Bf=Fn(function(A){return Su(Is(A,Qn))}),af=Fn(function(A){var _=su(A);return Qn(_)&&(_=r),Su(Is(A,Qn),sr(_,2))}),wf=Fn(function(A){var _=su(A);return _=typeof _=="function"?_:r,Su(Is(A,Qn),r,_)}),sf=Fn(Yu),Dh=Fn(function(A){var _=A.length,T=_>1?A[_-1]:r;return T=typeof T=="function"?(A.pop(),T):r,th(A,T)});function Rf(A){var _=St(A);return _.__chain__=!0,_}function tc(A,_){return _(A)}var uu=si(function(A){var _=A.length,T=_?A[0]:0,U=this.__wrapped__,G=function(Z){return fc(Z,A)};return!(_>1||this.__actions__.length)&&U instanceof Bi&&Ws(T)?((U=U.slice(T,+T+(_?1:0))).__actions__.push({func:tc,args:[G],thisArg:r}),new En(U,this.__chain__).thru(function(Z){return _&&!Z.length&&Z.push(r),Z})):this.thru(G)}),eh=To(function(A,_,T){tr.call(A,T)?++A[T]:Ss(A,T,1)}),Ch=ds(tu),Xu=ds(fh);function uf(A,_){return(Gn(A)?Er:bn)(A,sr(_,3))}function Bc(A,_){return(Gn(A)?Jr:Sa)(A,sr(_,3))}var ec=To(function(A,_,T){tr.call(A,T)?A[T].push(_):Ss(A,T,[_])}),bf=Fn(function(A,_,T){var U=-1,G=typeof _=="function",Z=Le(A)?Pe(A.length):[];return bn(A,function(K){Z[++U]=G?xi(_,K,T):ar(K,_,T)}),Z}),jf=To(function(A,_,T){Ss(A,T,_)});function ia(A,_){return(Gn(A)?jr:fs)(A,sr(_,3))}var ka=To(function(A,_,T){A[T?0:1].push(_)},function(){return[[],[]]}),Ju=Fn(function(A,_){if(A==null)return[];var T=_.length;return T>1&&ao(A,_[0],_[1])?_=[]:T>2&&ao(_[0],_[1],_[2])&&(_=[_[0]]),os(A,tn(_,1),[])}),ks=Lh||function(){return Ji.Date.now()};function nh(A,_,T){return _=T?r:_,_=A&&_==null?A.length:_,So(A,h,r,r,r,r,_)}function Fl(A,_){var T;if(typeof _!="function")throw new _i(i);return A=Pn(A),function(){return--A>0&&(T=_.apply(this,arguments)),A<=1&&(_=r),T}}var lf=Fn(function(A,_,T){var U=1;if(T.length){var G=J(T,Qo(lf));U|=f}return So(A,U,_,T,G)}),ll=Fn(function(A,_,T){var U=3;if(T.length){var G=J(T,Qo(ll));U|=f}return So(_,U,A,T,G)});function Mr(A,_,T){var U,G,Z,K,tt,ut,ot=0,wt=!1,yt=!1,jt=!0;if(typeof A!="function")throw new _i(i);function xt(oe){var xe=U,Ve=G;return U=G=r,ot=oe,K=A.apply(Ve,xe)}function It(oe){var xe=oe-ut;return ut===r||xe>=_||xe<0||yt&&oe-ot>=Z}function ae(){var oe=ks();if(It(oe))return Ht(oe);tt=Ql(ae,function(Ve){var an=_-(Ve-ut);return yt?ii(an,Z-(Ve-ot)):an}(oe))}function Ht(oe){return tt=r,jt&&U?xt(oe):(U=G=r,K)}function ye(){var oe=ks(),xe=It(oe);if(U=arguments,G=this,ut=oe,xe){if(tt===r)return function(an){return ot=an,tt=Ql(ae,_),wt?xt(an):K}(ut);if(yt)return ji(tt),tt=Ql(ae,_),xt(ut)}return tt===r&&(tt=Ql(ae,_)),K}return _=as(_)||0,xn(T)&&(wt=!!T.leading,Z=(yt="maxWait"in T)?oa(as(T.maxWait)||0,_):Z,jt="trailing"in T?!!T.trailing:jt),ye.cancel=function(){tt!==r&&ji(tt),ot=0,U=ut=G=tt=r},ye.flush=function(){return tt===r?K:Ht(ks())},ye}var Lf=Fn(function(A,_){return hc(A,1,_)}),gc=Fn(function(A,_,T){return hc(A,as(_)||0,T)});function Eo(A,_){if(typeof A!="function"||_!=null&&typeof _!="function")throw new _i(i);var T=function(){var U=arguments,G=_?_.apply(this,U):U[0],Z=T.cache;if(Z.has(G))return Z.get(G);var K=A.apply(this,U);return T.cache=Z.set(G,K)||Z,K};return T.cache=new(Eo.Cache||Fo),T}function ie(A){if(typeof A!="function")throw new _i(i);return function(){var _=arguments;switch(_.length){case 0:return!A.call(this);case 1:return!A.call(this,_[0]);case 2:return!A.call(this,_[0],_[1]);case 3:return!A.call(this,_[0],_[1],_[2])}return!A.apply(this,_)}}Eo.Cache=Fo;var _c=An(function(A,_){var T=(_=_.length==1&&Gn(_[0])?jr(_[0],Lu(sr())):jr(tn(_,1),Lu(sr()))).length;return Fn(function(U){for(var G=-1,Z=ii(U.length,T);++G<Z;)U[G]=_[G].call(this,U[G]);return xi(A,this,U)})}),$e=Fn(function(A,_){var T=J(_,Qo($e));return So(A,f,r,_,T)}),Je=Fn(function(A,_){var T=J(_,Qo(Je));return So(A,d,r,_,T)}),Nr=si(function(A,_){return So(A,m,r,r,r,_)});function $o(A,_){return A===_||A!=A&&_!=_}var lu=El(qu),yi=El(function(A,_){return A>=_}),cu=zs(function(){return arguments}())?zs:function(A){return Wo(A)&&tr.call(A,"callee")&&!Of.call(A,"callee")},Gn=Pe.isArray,We=uh?Lu(uh):function(_){return Wo(_)&&jo(_)==Zt};function Le(A){return A!=null&&jn(A.length)&&!Qu(A)}function Qn(A){return Wo(A)&&Le(A)}var lr=df||o,la=Bn?Lu(Bn):function(_){return Wo(_)&&jo(_)==z};function Li(A){if(!Wo(A))return!1;var _=jo(A);return _==q||_=="[object DOMException]"||typeof A.message=="string"&&typeof A.name=="string"&&!ui(A)}function Qu(A){if(!xn(A))return!1;var _=jo(A);return _==V||_==X||_=="[object AsyncFunction]"||_=="[object Proxy]"}function ku(A){return typeof A=="number"&&A==Pn(A)}function jn(A){return typeof A=="number"&&A>-1&&A%1==0&&A<=w}function xn(A){var _=typeof A;return A!=null&&(_=="object"||_=="function")}function Wo(A){return A!=null&&typeof A=="object"}var Ae=tf?Lu(tf):function(_){return Wo(_)&&Zr(_)==nt};function cl(A){return typeof A=="number"||Wo(A)&&jo(A)==it}function ui(A){if(!Wo(A)||jo(A)!=ct)return!1;var _=nf(A);if(_===null)return!0;var T=tr.call(_,"constructor")&&_.constructor;return typeof T=="function"&&T instanceof T&&iu.call(T)==Yf}var se=Cs?Lu(Cs):function(_){return Wo(_)&&jo(_)==gt},vs=Br?Lu(Br):function(_){return Wo(_)&&Zr(_)==Ct};function Qe(A){return typeof A=="string"||!Gn(A)&&Wo(A)&&jo(A)==kt}function ys(A){return typeof A=="symbol"||Wo(A)&&jo(A)==Tt}var we=br?Lu(br):function(_){return Wo(_)&&jn(_.length)&&!!ze[jo(_)]},Oh=El(zl),mo=El(function(A,_){return A<=_});function Vs(A){if(!A)return[];if(Le(A))return Qe(A)?Nt(A):va(A);if(ou&&A[ou])return function(U){for(var G,Z=[];!(G=U.next()).done;)Z.push(G.value);return Z}(A[ou]());var _=Zr(A);return(_==nt?lc:_==Ct?st:Pu)(A)}function nc(A){return A?(A=as(A))===y||A===-1/0?17976931348623157e292*(A<0?-1:1):A==A?A:0:A===0?A:0}function Pn(A){var _=nc(A),T=_%1;return _==_?T?_-T:_:0}function Na(A){return A?Wa(Pn(A),0,k):0}function as(A){if(typeof A=="number")return A;if(ys(A))return C;if(xn(A)){var _=typeof A.valueOf=="function"?A.valueOf():A;A=xn(_)?_+"":_}if(typeof A!="string")return A===0?A:+A;A=Tc(A);var T=us.test(A);return T||vu.test(A)?Bu(A.slice(2),T?2:8):Ai.test(A)?C:+A}function rc(A){return Uo(A,Tn(A))}function Fi(A){return A==null?"":di(A)}var eu=oo(function(A,_){if(As(_)||Le(_))Uo(_,Zn(_),A);else for(var T in _)tr.call(_,T)&&Vu(A,T,_[T])}),rh=oo(function(A,_){Uo(_,Tn(_),A)}),Ms=oo(function(A,_,T,U){Uo(_,Tn(_),A,U)}),en=oo(function(A,_,T,U){Uo(_,Zn(_),A,U)}),Xn=si(fc),Mu=Fn(function(A,_){A=pi(A);var T=-1,U=_.length,G=U>2?_[2]:r;for(G&&ao(_[0],_[1],G)&&(U=1);++T<U;)for(var Z=_[T],K=Tn(Z),tt=-1,ut=K.length;++tt<ut;){var ot=K[tt],wt=A[ot];(wt===r||$o(wt,pf[ot])&&!tr.call(A,ot))&&(A[ot]=Z[ot])}return A}),Fs=Fn(function(A){return A.push(r,Yt),xi(li,r,A)});function Fu(A,_,T){var U=A==null?r:Js(A,_);return U===r?T:U}function ph(A,_){return A!=null&&Wl(A,_,Ta)}var Wn=Ul(function(A,_,T){_!=null&&typeof _.toString!="function"&&(_=ea.call(_)),A[_]=T},Ac(Io)),Pl=Ul(function(A,_,T){_!=null&&typeof _.toString!="function"&&(_=ea.call(_)),tr.call(A,_)?A[_].push(T):A[_]=[T]},sr),Sc=Fn(ar);function Zn(A){return Le(A)?Hu(A):Zi(A)}function Tn(A){return Le(A)?Hu(A,!0):Dl(A)}var ti=oo(function(A,_,T){Es(A,_,T)}),li=oo(function(A,_,T,U){Es(A,_,T,U)}),No=si(function(A,_){var T={};if(A==null)return T;var U=!1;_=jr(_,function(Z){return Z=Sl(Z,A),U||(U=Z.length>1),Z}),Uo(A,ua(A),T),U&&(T=au(T,7,Jo));for(var G=_.length;G--;)Xl(T,_[G]);return T}),Xa=si(function(A,_){return A==null?{}:function(U,G){return Yl(U,G,function(Z,K){return ph(U,K)})}(A,_)});function Ec(A,_){if(A==null)return{};var T=jr(ua(A),function(U){return[U]});return _=sr(_),Yl(A,T,function(U,G){return _(U,G[0])})}var co=gs(Zn),Rc=gs(Tn);function Pu(A){return A==null?[]:ha(A,Zn(A))}var Zo=Ku(function(A,_,T){return _=_.toLowerCase(),A+(T?fu(_):_)});function fu(A){return ca(Fi(A).toLowerCase())}function Ps(A){return(A=Fi(A))&&A.replace(ls,ns).replace(De,"")}var Ja=Ku(function(A,_,T){return A+(T?"-":"")+_.toLowerCase()}),Tl=Ku(function(A,_,T){return A+(T?" ":"")+_.toLowerCase()}),hu=Xo("toLowerCase"),fl=Ku(function(A,_,T){return A+(T?"_":"")+_.toLowerCase()}),_n=Ku(function(A,_,T){return A+(T?" ":"")+ca(_)}),ic=Ku(function(A,_,T){return A+(T?" ":"")+_.toUpperCase()}),ca=Xo("toUpperCase");function Jc(A,_,T){return A=Fi(A),(_=T?r:_)===r?function(G){return tp.test(G)}(A)?function(G){return G.match(Xr)||[]}(A):function(G){return G.match(rn)||[]}(A):A.match(_)||[]}var Qa=Fn(function(A,_){try{return xi(A,r,_)}catch(T){return Li(T)?T:new Ci(T)}}),hl=si(function(A,_){return Er(_,function(T){T=lo(T),Ss(A,T,lf(A[T],A))}),A});function Ac(A){return function(){return A}}var cf=ra(),xf=ra(!0);function Io(A){return A}function fr(A){return Qs(typeof A=="function"?A:au(A,1))}var ta=Fn(function(A,_){return function(T){return ar(T,A,_)}}),qr=Fn(function(A,_){return function(T){return ar(A,T,_)}});function Ir(A,_,T){var U=Zn(_),G=Po(_,U);T!=null||xn(_)&&(G.length||!U.length)||(T=_,_=A,A=this,G=Po(_,Zn(_)));var Z=!(xn(T)&&"chain"in T&&!T.chain),K=Qu(A);return Er(G,function(tt){var ut=_[tt];A[tt]=ut,K&&(A.prototype[tt]=function(){var ot=this.__chain__;if(Z||ot){var wt=A(this.__wrapped__);return(wt.__actions__=va(this.__actions__)).push({func:ut,args:arguments,thisArg:A}),wt.__chain__=ot,wt}return ut.apply(A,Ii([this.value()],arguments))})}),A}function Ma(){}var jc=$s(jr),ws=$s(ef),Zu=$s(xu);function ff(A){return kl(A)?yl(lo(A)):function(T){return function(U){return Js(U,T)}}(A)}var zf=Nf(),oc=Nf(!0);function Qc(){return[]}function o(){return!1}var u,l=gr(function(A,_){return A+_},0),g=Ya("ceil"),b=gr(function(A,_){return A/_},1),E=Ya("floor"),O=gr(function(A,_){return A*_},1),R=Ya("round"),W=gr(function(A,_){return A-_},0);return St.after=function(_,T){if(typeof T!="function")throw new _i(i);return _=Pn(_),function(){if(--_<1)return T.apply(this,arguments)}},St.ary=nh,St.assign=eu,St.assignIn=rh,St.assignInWith=Ms,St.assignWith=en,St.at=Xn,St.before=Fl,St.bind=lf,St.bindAll=hl,St.bindKey=ll,St.castArray=function(){if(!arguments.length)return[];var _=arguments[0];return Gn(_)?_:[_]},St.chain=Rf,St.chunk=function(_,T,U){T=(U?ao(_,T,U):T===r)?1:oa(Pn(T),0);var G=_==null?0:_.length;if(!G||T<1)return[];for(var Z=0,K=0,tt=Pe(on(G/T));Z<G;)tt[K++]=na(_,Z,Z+=T);return tt},St.compact=function(_){for(var T=-1,U=_==null?0:_.length,G=0,Z=[];++T<U;){var K=_[T];K&&(Z[G++]=K)}return Z},St.concat=function(){var _=arguments.length;if(!_)return[];for(var T=Pe(_-1),U=arguments[0],G=_;G--;)T[G-1]=arguments[G];return Ii(Gn(U)?va(U):[U],tn(T,1))},St.cond=function(_){var T=_==null?0:_.length,U=sr();return _=T?jr(_,function(G){if(typeof G[1]!="function")throw new _i(i);return[U(G[0]),G[1]]}):[],Fn(function(G){for(var Z=-1;++Z<T;){var K=_[Z];if(xi(K[0],this,G))return xi(K[1],this,G)}})},St.conforms=function(_){return function(U){var G=Zn(U);return function(Z){return gn(Z,U,G)}}(au(_,1))},St.constant=Ac,St.countBy=eh,St.create=function(_,T){var U=zn(_);return T==null?U:ki(U,T)},St.curry=function A(_,T,U){var G=So(_,8,r,r,r,r,r,T=U?r:T);return G.placeholder=A.placeholder,G},St.curryRight=function A(_,T,U){var G=So(_,c,r,r,r,r,r,T=U?r:T);return G.placeholder=A.placeholder,G},St.debounce=Mr,St.defaults=Mu,St.defaultsDeep=Fs,St.defer=Lf,St.delay=gc,St.difference=yf,St.differenceBy=Ar,St.differenceWith=ul,St.drop=function(_,T,U){var G=_==null?0:_.length;return G?na(_,(T=U||T===r?1:Pn(T))<0?0:T,G):[]},St.dropRight=function(_,T,U){var G=_==null?0:_.length;return G?na(_,0,(T=G-(T=U||T===r?1:Pn(T)))<0?0:T):[]},St.dropRightWhile=function(_,T){return _&&_.length?Jl(_,sr(T,3),!0,!0):[]},St.dropWhile=function(_,T){return _&&_.length?Jl(_,sr(T,3),!0):[]},St.fill=function(_,T,U,G){var Z=_==null?0:_.length;return Z?(U&&typeof U!="number"&&ao(_,T,U)&&(U=0,G=Z),function(tt,ut,ot,wt){var yt=tt.length;for((ot=Pn(ot))<0&&(ot=-ot>yt?0:yt+ot),(wt=wt===r||wt>yt?yt:Pn(wt))<0&&(wt+=yt),wt=ot>wt?0:Na(wt);ot<wt;)tt[ot++]=ut;return tt}(_,T,U,G)):[]},St.filter=function(_,T){return(Gn(_)?Is:Ea)(_,sr(T,3))},St.flatMap=function(_,T){return tn(ia(_,T),1)},St.flatMapDeep=function(_,T){return tn(ia(_,T),y)},St.flatMapDepth=function(_,T,U){return U=U===r?1:Pn(U),tn(ia(_,T),U)},St.flatten=Gu,St.flattenDeep=function(_){return _!=null&&_.length?tn(_,y):[]},St.flattenDepth=function(_,T){return _!=null&&_.length?tn(_,T=T===r?1:Pn(T)):[]},St.flip=function(_){return So(_,512)},St.flow=cf,St.flowRight=xf,St.fromPairs=function(_){for(var T=-1,U=_==null?0:_.length,G={};++T<U;){var Z=_[T];G[Z[0]]=Z[1]}return G},St.functions=function(_){return _==null?[]:Po(_,Zn(_))},St.functionsIn=function(_){return _==null?[]:Po(_,Tn(_))},St.groupBy=ec,St.initial=function(_){return _!=null&&_.length?na(_,0,-1):[]},St.intersection=Hl,St.intersectionBy=Qf,St.intersectionWith=Cc,St.invert=Wn,St.invertBy=Pl,St.invokeMap=bf,St.iteratee=fr,St.keyBy=jf,St.keys=Zn,St.keysIn=Tn,St.map=ia,St.mapKeys=function(_,T){var U={};return T=sr(T,3),xl(_,function(G,Z,K){Ss(U,T(G,Z,K),G)}),U},St.mapValues=function(_,T){var U={};return T=sr(T,3),xl(_,function(G,Z,K){Ss(U,Z,T(G,Z,K))}),U},St.matches=function(_){return Us(au(_,1))},St.matchesProperty=function(_,T){return ue(_,au(T,1))},St.memoize=Eo,St.merge=ti,St.mergeWith=li,St.method=ta,St.methodOf=qr,St.mixin=Ir,St.negate=ie,St.nthArg=function(_){return _=Pn(_),Fn(function(T){return mi(T,_)})},St.omit=No,St.omitBy=function(_,T){return Ec(_,ie(sr(T)))},St.once=function(_){return Fl(2,_)},St.orderBy=function(_,T,U,G){return _==null?[]:(Gn(T)||(T=T==null?[]:[T]),Gn(U=G?r:U)||(U=U==null?[]:[U]),os(_,T,U))},St.over=jc,St.overArgs=_c,St.overEvery=ws,St.overSome=Zu,St.partial=$e,St.partialRight=Je,St.partition=ka,St.pick=Xa,St.pickBy=Ec,St.property=ff,St.propertyOf=function(_){return function(T){return _==null?r:Js(_,T)}},St.pull=Mh,St.pullAll=Fh,St.pullAllBy=function(_,T,U){return _&&_.length&&T&&T.length?hs(_,T,sr(U,2)):_},St.pullAllWith=function(_,T,U){return _&&_.length&&T&&T.length?hs(_,T,r,U):_},St.pullAt=Ph,St.range=zf,St.rangeRight=oc,St.rearg=Nr,St.reject=function(_,T){return(Gn(_)?Is:Ea)(_,ie(sr(T,3)))},St.remove=function(_,T){var U=[];if(!_||!_.length)return U;var G=-1,Z=[],K=_.length;for(T=sr(T,3);++G<K;){var tt=_[G];T(tt,G,_)&&(U.push(tt),Z.push(G))}return ol(_,Z),U},St.rest=function(_,T){if(typeof _!="function")throw new _i(i);return Fn(_,T=T===r?T:Pn(T))},St.reverse=hh,St.sampleSize=function(_,T,U){return T=(U?ao(_,T,U):T===r)?1:Pn(T),(Gn(_)?Gl:Or)(_,T)},St.set=function(_,T,U){return _==null?_:Qr(_,T,U)},St.setWith=function(_,T,U,G){return G=typeof G=="function"?G:r,_==null?_:Qr(_,T,U,G)},St.shuffle=function(_){return(Gn(_)?Qi:oi)(_)},St.slice=function(_,T,U){var G=_==null?0:_.length;return G?(U&&typeof U!="number"&&ao(_,T,U)?(T=0,U=G):(T=T==null?0:Pn(T),U=U===r?G:Pn(U)),na(_,T,U)):[]},St.sortBy=Ju,St.sortedUniq=function(_){return _&&_.length?Yo(_):[]},St.sortedUniqBy=function(_,T){return _&&_.length?Yo(_,sr(T,2)):[]},St.split=function(_,T,U){return U&&typeof U!="number"&&ao(_,T,U)&&(T=U=r),(U=U===r?k:U>>>0)?(_=Fi(_))&&(typeof T=="string"||T!=null&&!se(T))&&!(T=di(T))&&La(_)?$n(Nt(_),0,U):_.split(T,U):[]},St.spread=function(_,T){if(typeof _!="function")throw new _i(i);return T=T==null?0:oa(Pn(T),0),Fn(function(U){var G=U[T],Z=$n(U,0,T);return G&&Ii(Z,G),xi(_,this,Z)})},St.tail=function(_){var T=_==null?0:_.length;return T?na(_,1,T):[]},St.take=function(_,T,U){return _&&_.length?na(_,0,(T=U||T===r?1:Pn(T))<0?0:T):[]},St.takeRight=function(_,T,U){var G=_==null?0:_.length;return G?na(_,(T=G-(T=U||T===r?1:Pn(T)))<0?0:T,G):[]},St.takeRightWhile=function(_,T){return _&&_.length?Jl(_,sr(T,3),!1,!0):[]},St.takeWhile=function(_,T){return _&&_.length?Jl(_,sr(T,3)):[]},St.tap=function(_,T){return T(_),_},St.throttle=function(_,T,U){var G=!0,Z=!0;if(typeof _!="function")throw new _i(i);return xn(U)&&(G="leading"in U?!!U.leading:G,Z="trailing"in U?!!U.trailing:Z),Mr(_,T,{leading:G,maxWait:T,trailing:Z})},St.thru=tc,St.toArray=Vs,St.toPairs=co,St.toPairsIn=Rc,St.toPath=function(_){return Gn(_)?jr(_,lo):ys(_)?[_]:va(Oa(Fi(_)))},St.toPlainObject=rc,St.transform=function(_,T,U){var G=Gn(_),Z=G||lr(_)||we(_);if(T=sr(T,4),U==null){var K=_&&_.constructor;U=Z?G?new K:[]:xn(_)&&Qu(K)?zn(nf(_)):{}}return(Z?Er:xl)(_,function(tt,ut,ot){return T(U,tt,ut,ot)}),U},St.unary=function(_){return nh(_,1)},St.union=Th,St.unionBy=If,St.unionWith=Zf,St.uniq=function(_){return _&&_.length?ai(_):[]},St.uniqBy=function(_,T){return _&&_.length?ai(_,sr(T,2)):[]},St.uniqWith=function(_,T){return T=typeof T=="function"?T:r,_&&_.length?ai(_,r,T):[]},St.unset=function(_,T){return _==null||Xl(_,T)},St.unzip=Yu,St.unzipWith=th,St.update=function(_,T,U){return _==null?_:Ur(_,T,al(U))},St.updateWith=function(_,T,U,G){return G=typeof G=="function"?G:r,_==null?_:Ur(_,T,al(U),G)},St.values=Pu,St.valuesIn=function(_){return _==null?[]:ha(_,Tn(_))},St.without=ms,St.words=Jc,St.wrap=function(_,T){return $e(al(T),_)},St.xor=Bf,St.xorBy=af,St.xorWith=wf,St.zip=sf,St.zipObject=function(_,T){return _l(_||[],T||[],Vu)},St.zipObjectDeep=function(_,T){return _l(_||[],T||[],Qr)},St.zipWith=Dh,St.entries=co,St.entriesIn=Rc,St.extend=rh,St.extendWith=Ms,Ir(St,St),St.add=l,St.attempt=Qa,St.camelCase=Zo,St.capitalize=fu,St.ceil=g,St.clamp=function(_,T,U){return U===r&&(U=T,T=r),U!==r&&(U=(U=as(U))==U?U:0),T!==r&&(T=(T=as(T))==T?T:0),Wa(as(_),T,U)},St.clone=function(_){return au(_,4)},St.cloneDeep=function(_){return au(_,5)},St.cloneDeepWith=function(_,T){return au(_,5,T=typeof T=="function"?T:r)},St.cloneWith=function(_,T){return au(_,4,T=typeof T=="function"?T:r)},St.conformsTo=function(_,T){return T==null||gn(_,T,Zn(T))},St.deburr=Ps,St.defaultTo=function(_,T){return _==null||_!=_?T:_},St.divide=b,St.endsWith=function(_,T,U){_=Fi(_),T=di(T);var G=_.length,Z=U=U===r?G:Wa(Pn(U),0,G);return(U-=T.length)>=0&&_.slice(U,Z)==T},St.eq=$o,St.escape=function(_){return(_=Fi(_))&&rt.test(_)?_.replace(bi,Wr):_},St.escapeRegExp=function(_){return(_=Fi(_))&&ge.test(_)?_.replace(Kt,"\\$&"):_},St.every=function(_,T,U){var G=Gn(_)?ef:ma;return U&&ao(_,T,U)&&(T=r),G(_,sr(T,3))},St.find=Ch,St.findIndex=tu,St.findKey=function(_,T){return ju(_,sr(T,3),xl)},St.findLast=Xu,St.findLastIndex=fh,St.findLastKey=function(_,T){return ju(_,sr(T,3),pc)},St.floor=E,St.forEach=uf,St.forEachRight=Bc,St.forIn=function(_,T){return _==null?_:Ho(_,sr(T,3),Tn)},St.forInRight=function(_,T){return _==null?_:Ls(_,sr(T,3),Tn)},St.forOwn=function(_,T){return _&&xl(_,sr(T,3))},St.forOwnRight=function(_,T){return _&&pc(_,sr(T,3))},St.get=Fu,St.gt=lu,St.gte=yi,St.has=function(_,T){return _!=null&&Wl(_,T,Cu)},St.hasIn=ph,St.head=Dc,St.identity=Io,St.includes=function(_,T,U,G){_=Le(_)?_:Pu(_),U=U&&!G?Pn(U):0;var Z=_.length;return U<0&&(U=oa(Z+U,0)),Qe(_)?U<=Z&&_.indexOf(T,U)>-1:!!Z&&Ys(_,T,U)>-1},St.indexOf=function(_,T,U){var G=_==null?0:_.length;if(!G)return-1;var Z=U==null?0:Pn(U);return Z<0&&(Z=oa(G+Z,0)),Ys(_,T,Z)},St.inRange=function(_,T,U){return T=nc(T),U===r?(U=T,T=0):U=nc(U),function(Z,K,tt){return Z>=ii(K,tt)&&Z<oa(K,tt)}(_=as(_),T,U)},St.invoke=Sc,St.isArguments=cu,St.isArray=Gn,St.isArrayBuffer=We,St.isArrayLike=Le,St.isArrayLikeObject=Qn,St.isBoolean=function(_){return _===!0||_===!1||Wo(_)&&jo(_)==L},St.isBuffer=lr,St.isDate=la,St.isElement=function(_){return Wo(_)&&_.nodeType===1&&!ui(_)},St.isEmpty=function(_){if(_==null)return!0;if(Le(_)&&(Gn(_)||typeof _=="string"||typeof _.splice=="function"||lr(_)||we(_)||cu(_)))return!_.length;var T=Zr(_);if(T==nt||T==Ct)return!_.size;if(As(_))return!Zi(_).length;for(var U in _)if(tr.call(_,U))return!1;return!0},St.isEqual=function(_,T){return Wi(_,T)},St.isEqualWith=function(_,T,U){var G=(U=typeof U=="function"?U:r)?U(_,T):r;return G===r?Wi(_,T,r,U):!!G},St.isError=Li,St.isFinite=function(_){return typeof _=="number"&&xh(_)},St.isFunction=Qu,St.isInteger=ku,St.isLength=jn,St.isMap=Ae,St.isMatch=function(_,T){return _===T||Si(_,T,Ue(T))},St.isMatchWith=function(_,T,U){return U=typeof U=="function"?U:r,Si(_,T,Ue(T),U)},St.isNaN=function(_){return cl(_)&&_!=+_},St.isNative=function(_){if(no(_))throw new Ci("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return _u(_)},St.isNil=function(_){return _==null},St.isNull=function(_){return _===null},St.isNumber=cl,St.isObject=xn,St.isObjectLike=Wo,St.isPlainObject=ui,St.isRegExp=se,St.isSafeInteger=function(_){return ku(_)&&_>=-9007199254740991&&_<=w},St.isSet=vs,St.isString=Qe,St.isSymbol=ys,St.isTypedArray=we,St.isUndefined=function(_){return _===r},St.isWeakMap=function(_){return Wo(_)&&Zr(_)==At},St.isWeakSet=function(_){return Wo(_)&&jo(_)=="[object WeakSet]"},St.join=function(_,T){return _==null?"":il.call(_,T)},St.kebabCase=Ja,St.last=su,St.lastIndexOf=function(_,T,U){var G=_==null?0:_.length;if(!G)return-1;var Z=G;return U!==r&&(Z=(Z=Pn(U))<0?oa(G+Z,0):ii(Z,G-1)),T==T?function(tt,ut,ot){for(var wt=ot+1;wt--;)if(tt[wt]===ut)return wt;return wt}(_,T,Z):Pc(_,Bl,Z,!0)},St.lowerCase=Tl,St.lowerFirst=hu,St.lt=Oh,St.lte=mo,St.max=function(_){return _&&_.length?Vr(_,Io,qu):r},St.maxBy=function(_,T){return _&&_.length?Vr(_,sr(T,2),qu):r},St.mean=function(_){return Ln(_,Io)},St.meanBy=function(_,T){return Ln(_,sr(T,2))},St.min=function(_){return _&&_.length?Vr(_,Io,zl):r},St.minBy=function(_,T){return _&&_.length?Vr(_,sr(T,2),zl):r},St.stubArray=Qc,St.stubFalse=o,St.stubObject=function(){return{}},St.stubString=function(){return""},St.stubTrue=function(){return!0},St.multiply=O,St.nth=function(_,T){return _&&_.length?mi(_,Pn(T)):r},St.noConflict=function(){return Ji._===this&&(Ji._=Oc),this},St.noop=Ma,St.now=ks,St.pad=function(_,T,U){_=Fi(_);var G=(T=Pn(T))?pt(_):0;if(!T||G>=T)return _;var Z=(T-G)/2;return Ga(pa(Z),U)+_+Ga(on(Z),U)},St.padEnd=function(_,T,U){_=Fi(_);var G=(T=Pn(T))?pt(_):0;return T&&G<T?_+Ga(T-G,U):_},St.padStart=function(_,T,U){_=Fi(_);var G=(T=Pn(T))?pt(_):0;return T&&G<T?Ga(T-G,U)+_:_},St.parseInt=function(_,T,U){return U||T==null?T=0:T&&(T=+T),aa(Fi(_).replace(Ee,""),T||0)},St.random=function(_,T,U){if(U&&typeof U!="boolean"&&ao(_,T,U)&&(T=U=r),U===r&&(typeof T=="boolean"?(U=T,T=r):typeof _=="boolean"&&(U=_,_=r)),_===r&&T===r?(_=0,T=1):(_=nc(_),T===r?(T=_,_=0):T=nc(T)),_>T){var G=_;_=T,T=G}if(U||_%1||T%1){var Z=sa();return ii(_+Z*(T-_+Fc("1e-"+((Z+"").length-1))),T)}return Un(_,T)},St.reduce=function(_,T,U){var G=Gn(_)?bc:wl,Z=arguments.length<3;return G(_,sr(T,4),U,Z,bn)},St.reduceRight=function(_,T,U){var G=Gn(_)?Bs:wl,Z=arguments.length<3;return G(_,sr(T,4),U,Z,Sa)},St.repeat=function(_,T,U){return T=(U?ao(_,T,U):T===r)?1:Pn(T),Xc(Fi(_),T)},St.replace=function(){var _=arguments,T=Fi(_[0]);return _.length<3?T:T.replace(_[1],_[2])},St.result=function(_,T,U){var G=-1,Z=(T=Sl(T,_)).length;for(Z||(Z=1,_=r);++G<Z;){var K=_==null?r:_[lo(T[G])];K===r&&(G=Z,K=U),_=Qu(K)?K.call(_):K}return _},St.round=R,St.runInContext=zt,St.sample=function(_){return(Gn(_)?Rr:to)(_)},St.size=function(_){if(_==null)return 0;if(Le(_))return Qe(_)?pt(_):_.length;var T=Zr(_);return T==nt||T==Ct?_.size:Zi(_).length},St.snakeCase=fl,St.some=function(_,T,U){var G=Gn(_)?xu:Va;return U&&ao(_,T,U)&&(T=r),G(_,sr(T,3))},St.sortedIndex=function(_,T){return qa(_,T)},St.sortedIndexBy=function(_,T,U){return Ri(_,T,sr(U,2))},St.sortedIndexOf=function(_,T){var U=_==null?0:_.length;if(U){var G=qa(_,T);if(G<U&&$o(_[G],T))return G}return-1},St.sortedLastIndex=function(_,T){return qa(_,T,!0)},St.sortedLastIndexBy=function(_,T,U){return Ri(_,T,sr(U,2),!0)},St.sortedLastIndexOf=function(_,T){if(_!=null&&_.length){var U=qa(_,T,!0)-1;if($o(_[U],T))return U}return-1},St.startCase=_n,St.startsWith=function(_,T,U){return _=Fi(_),U=U==null?0:Wa(Pn(U),0,_.length),T=di(T),_.slice(U,U+T.length)==T},St.subtract=W,St.sum=function(_){return _&&_.length?Xs(_,Io):0},St.sumBy=function(_,T){return _&&_.length?Xs(_,sr(T,2)):0},St.template=function(_,T,U){var G=St.templateSettings;U&&ao(_,T,U)&&(T=r),_=Fi(_),T=Ms({},T,G,vi);var Z,K,tt=Ms({},T.imports,G.imports,vi),ut=Zn(tt),ot=ha(tt,ut),wt=0,yt=T.interpolate||yu,jt="__p += '",xt=Ce((T.escape||yu).source+"|"+yt.source+"|"+(yt===Ot?Ui:yu).source+"|"+(T.evaluate||yu).source+"|$","g"),It="//# sourceURL="+(tr.call(T,"sourceURL")?(T.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Tf+"]")+`
`;_.replace(xt,function(ye,oe,xe,Ve,an,On){return xe||(xe=Ve),jt+=_.slice(wt,On).replace(dl,xr),oe&&(Z=!0,jt+=`' +
__e(`+oe+`) +
'`),an&&(K=!0,jt+=`';
`+an+`;
__p += '`),xe&&(jt+=`' +
((__t = (`+xe+`)) == null ? '' : __t) +
'`),wt=On+ye.length,ye}),jt+=`';
`;var ae=tr.call(T,"variable")&&T.variable;if(ae){if(zi.test(ae))throw new Ci("Invalid `variable` option passed into `_.template`")}else jt=`with (obj) {
`+jt+`
}
`;jt=(K?jt.replace(He,""):jt).replace(wn,"$1").replace(nn,"$1;"),jt="function("+(ae||"obj")+`) {
`+(ae?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Z?", __e = _.escape":"")+(K?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+jt+`return __p
}`;var Ht=Qa(function(){return hi(ut,It+"return "+jt).apply(r,ot)});if(Ht.source=jt,Li(Ht))throw Ht;return Ht},St.times=function(_,T){if((_=Pn(_))<1||_>w)return[];var U=k,G=ii(_,k);T=sr(T),_-=k;for(var Z=Gc(G,T);++U<_;)T(U);return Z},St.toFinite=nc,St.toInteger=Pn,St.toLength=Na,St.toLower=function(_){return Fi(_).toLowerCase()},St.toNumber=as,St.toSafeInteger=function(_){return _?Wa(Pn(_),-9007199254740991,w):_===0?_:0},St.toString=Fi,St.toUpper=function(_){return Fi(_).toUpperCase()},St.trim=function(_,T,U){if((_=Fi(_))&&(U||T===r))return Tc(_);if(!_||!(T=di(T)))return _;var G=Nt(_),Z=Nt(T);return $n(G,zu(G,Z),Di(G,Z)+1).join("")},St.trimEnd=function(_,T,U){if((_=Fi(_))&&(U||T===r))return _.slice(0,Jt(_)+1);if(!_||!(T=di(T)))return _;var G=Nt(_);return $n(G,0,Di(G,Nt(T))+1).join("")},St.trimStart=function(_,T,U){if((_=Fi(_))&&(U||T===r))return _.replace(Ee,"");if(!_||!(T=di(T)))return _;var G=Nt(_);return $n(G,zu(G,Nt(T))).join("")},St.truncate=function(_,T){var U=30,G="...";if(xn(T)){var Z="separator"in T?T.separator:Z;U="length"in T?Pn(T.length):U,G="omission"in T?di(T.omission):G}var K=(_=Fi(_)).length;if(La(_)){var tt=Nt(_);K=tt.length}if(U>=K)return _;var ut=U-pt(G);if(ut<1)return G;var ot=tt?$n(tt,0,ut).join(""):_.slice(0,ut);if(Z===r)return ot+G;if(tt&&(ut+=ot.length-ut),se(Z)){if(_.slice(ut).search(Z)){var wt,yt=ot;for(Z.global||(Z=Ce(Z.source,Fi(xo.exec(Z))+"g")),Z.lastIndex=0;wt=Z.exec(yt);)var jt=wt.index;ot=ot.slice(0,jt===r?ut:jt)}}else if(_.indexOf(di(Z),ut)!=ut){var xt=ot.lastIndexOf(Z);xt>-1&&(ot=ot.slice(0,xt))}return ot+G},St.unescape=function(_){return(_=Fi(_))&&Vt.test(_)?_.replace(cr,Fe):_},St.uniqueId=function(_){var T=++js;return Fi(_)+T},St.upperCase=ic,St.upperFirst=ca,St.each=uf,St.eachRight=Bc,St.first=Dc,Ir(St,(u={},xl(St,function(A,_){tr.call(St.prototype,_)||(u[_]=A)}),u),{chain:!1}),St.VERSION="4.17.21",Er(["bind","bindKey","curry","curryRight","partial","partialRight"],function(A){St[A].placeholder=St}),Er(["drop","take"],function(A,_){Bi.prototype[A]=function(T){T=T===r?1:oa(Pn(T),0);var U=this.__filtered__&&!_?new Bi(this):this.clone();return U.__filtered__?U.__takeCount__=ii(T,U.__takeCount__):U.__views__.push({size:ii(T,k),type:A+(U.__dir__<0?"Right":"")}),U},Bi.prototype[A+"Right"]=function(T){return this.reverse()[A](T).reverse()}}),Er(["filter","map","takeWhile"],function(A,_){var T=_+1,U=T==1||T==3;Bi.prototype[A]=function(G){var Z=this.clone();return Z.__iteratees__.push({iteratee:sr(G,3),type:T}),Z.__filtered__=Z.__filtered__||U,Z}}),Er(["head","last"],function(A,_){var T="take"+(_?"Right":"");Bi.prototype[A]=function(){return this[T](1).value()[0]}}),Er(["initial","tail"],function(A,_){var T="drop"+(_?"":"Right");Bi.prototype[A]=function(){return this.__filtered__?new Bi(this):this[T](1)}}),Bi.prototype.compact=function(){return this.filter(Io)},Bi.prototype.find=function(A){return this.filter(A).head()},Bi.prototype.findLast=function(A){return this.reverse().find(A)},Bi.prototype.invokeMap=Fn(function(A,_){return typeof A=="function"?new Bi(this):this.map(function(T){return ar(T,A,_)})}),Bi.prototype.reject=function(A){return this.filter(ie(sr(A)))},Bi.prototype.slice=function(A,_){A=Pn(A);var T=this;return T.__filtered__&&(A>0||_<0)?new Bi(T):(A<0?T=T.takeRight(-A):A&&(T=T.drop(A)),_!==r&&(T=(_=Pn(_))<0?T.dropRight(-_):T.take(_-A)),T)},Bi.prototype.takeRightWhile=function(A){return this.reverse().takeWhile(A).reverse()},Bi.prototype.toArray=function(){return this.take(k)},xl(Bi.prototype,function(A,_){var T=/^(?:filter|find|map|reject)|While$/.test(_),U=/^(?:head|last)$/.test(_),G=St[U?"take"+(_=="last"?"Right":""):_],Z=U||/^find/.test(_);G&&(St.prototype[_]=function(){var K=this.__wrapped__,tt=U?[1]:arguments,ut=K instanceof Bi,ot=tt[0],wt=ut||Gn(K),yt=function(ye){var oe=G.apply(St,Ii([ye],tt));return U&&jt?oe[0]:oe};wt&&T&&typeof ot=="function"&&ot.length!=1&&(ut=wt=!1);var jt=this.__chain__,xt=!!this.__actions__.length,It=Z&&!jt,ae=ut&&!xt;if(!Z&&wt){K=ae?K:new Bi(this);var Ht=A.apply(K,tt);return Ht.__actions__.push({func:tc,args:[yt],thisArg:r}),new En(Ht,jt)}return It&&ae?A.apply(this,tt):(Ht=this.thru(yt),It?U?Ht.value()[0]:Ht.value():Ht)})}),Er(["pop","push","shift","sort","splice","unshift"],function(A){var _=Rs[A],T=/^(?:push|sort|unshift)$/.test(A)?"tap":"thru",U=/^(?:pop|shift)$/.test(A);St.prototype[A]=function(){var G=arguments;if(U&&!this.__chain__){var Z=this.value();return _.apply(Gn(Z)?Z:[],G)}return this[T](function(K){return _.apply(Gn(K)?K:[],G)})}}),xl(Bi.prototype,function(A,_){var T=St[_];if(T){var U=T.name+"";tr.call(Ll,U)||(Ll[U]=[]),Ll[U].push({name:_,func:T})}}),Ll[of(r,2).name]=[{name:"wrapper",func:r}],Bi.prototype.clone=function(){var _=new Bi(this.__wrapped__);return _.__actions__=va(this.__actions__),_.__dir__=this.__dir__,_.__filtered__=this.__filtered__,_.__iteratees__=va(this.__iteratees__),_.__takeCount__=this.__takeCount__,_.__views__=va(this.__views__),_},Bi.prototype.reverse=function(){if(this.__filtered__){var _=new Bi(this);_.__dir__=-1,_.__filtered__=!0}else(_=this.clone()).__dir__*=-1;return _},Bi.prototype.value=function(){var _=this.__wrapped__.value(),T=this.__dir__,U=Gn(_),G=T<0,Z=U?_.length:0,K=function(Dn,nr,Cr){for(var Ao=-1,ro=Cr.length;++Ao<ro;){var vo=Cr[Ao],Kr=vo.size;switch(vo.type){case"drop":Dn+=Kr;break;case"dropRight":nr-=Kr;break;case"take":nr=ii(nr,Dn+Kr);break;case"takeRight":Dn=oa(Dn,nr-Kr)}}return{start:Dn,end:nr}}(0,Z,this.__views__),tt=K.start,ut=K.end,ot=ut-tt,wt=G?ut:tt-1,yt=this.__iteratees__,jt=yt.length,xt=0,It=ii(ot,this.__takeCount__);if(!U||!G&&Z==ot&&It==ot)return Cl(_,this.__actions__);var ae=[];t:for(;ot--&&xt<It;){for(var Ht=-1,ye=_[wt+=T];++Ht<jt;){var oe=yt[Ht],xe=oe.iteratee,Ve=oe.type,an=xe(ye);if(Ve==2)ye=an;else if(!an){if(Ve==1)continue t;break t}}ae[xt++]=ye}return ae},St.prototype.at=uu,St.prototype.chain=function(){return Rf(this)},St.prototype.commit=function(){return new En(this.value(),this.__chain__)},St.prototype.next=function(){this.__values__===r&&(this.__values__=Vs(this.value()));var _=this.__index__>=this.__values__.length;return{done:_,value:_?r:this.__values__[this.__index__++]}},St.prototype.plant=function(_){for(var T,U=this;U instanceof Wu;){var G=vf(U);G.__index__=0,G.__values__=r,T?Z.__wrapped__=G:T=G;var Z=G;U=U.__wrapped__}return Z.__wrapped__=_,T},St.prototype.reverse=function(){var _=this.__wrapped__;if(_ instanceof Bi){var T=_;return this.__actions__.length&&(T=new Bi(this)),(T=T.reverse()).__actions__.push({func:tc,args:[hh],thisArg:r}),new En(T,this.__chain__)}return this.thru(hh)},St.prototype.toJSON=St.prototype.valueOf=St.prototype.value=function(){return Cl(this.__wrapped__,this.__actions__)},St.prototype.first=St.prototype.head,ou&&(St.prototype[ou]=function(){return this}),St}();rl?((rl.exports=mn)._=mn,qn._=mn):Ji._=mn}).call(Nut)),lS.exports;var t,e})();class yc{lineAt(t){if(t<0||t>this.length)throw new RangeError(`Invalid position ${t} in document of length ${this.length}`);return this.lineInner(t,!1,1,0)}line(t){if(t<1||t>this.lines)throw new RangeError(`Invalid line number ${t} in ${this.lines}-line document`);return this.lineInner(t,!0,1,0)}replace(t,e,r){[t,e]=nb(this,t,e);let i=[];return this.decompose(0,t,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(e,this.length,i,1),Fm.from(i,this.length-(e-t)+r.length)}append(t){return this.replace(this.length,this.length,t)}slice(t,e=this.length){[t,e]=nb(this,t,e);let r=[];return this.decompose(t,e,r,0),Fm.from(r,e-t)}eq(t){if(t==this)return!0;if(t.length!=this.length||t.lines!=this.lines)return!1;let e=this.scanIdentical(t,1),r=this.length-this.scanIdentical(t,-1),i=new Dx(this),a=new Dx(t);for(let s=e,c=e;;){if(i.next(s),a.next(s),s=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(c+=i.value.length,i.done||c>=r)return!0}}iter(t=1){return new Dx(this,t)}iterRange(t,e=this.length){return new oV(this,t,e)}iterLines(t,e){let r;if(t==null)r=this.iter();else{e==null&&(e=this.lines+1);let i=this.line(t).from;r=this.iterRange(i,Math.max(i,e==this.lines+1?this.length:e<=1?0:this.line(e-1).to))}return new aV(r)}toString(){return this.sliceString(0)}toJSON(){let t=[];return this.flatten(t),t}constructor(){}static of(t){if(t.length==0)throw new RangeError("A document must have at least one line");return t.length!=1||t[0]?t.length<=32?new $h(t):Fm.from($h.split(t,[])):yc.empty}}class $h extends yc{constructor(t,e=function(i){let a=-1;for(let s of i)a+=s.length+1;return a}(t)){super(),this.text=t,this.length=e}get lines(){return this.text.length}get children(){return null}lineInner(t,e,r,i){for(let a=0;;a++){let s=this.text[a],c=i+s.length;if((e?r:c)>=t)return new Iut(i,c,r,s);i=c+1,r++}}decompose(t,e,r,i){let a=t<=0&&e>=this.length?this:new $h(q6(this.text,t,e),Math.min(e,this.length)-Math.max(0,t));if(1&i){let s=r.pop(),c=cS(a.text,s.text.slice(),0,a.length);if(c.length<=32)r.push(new $h(c,s.length+a.length));else{let f=c.length>>1;r.push(new $h(c.slice(0,f)),new $h(c.slice(f)))}}else r.push(a)}replace(t,e,r){if(!(r instanceof $h))return super.replace(t,e,r);[t,e]=nb(this,t,e);let i=cS(this.text,cS(r.text,q6(this.text,0,t)),e),a=this.length+r.length-(e-t);return i.length<=32?new $h(i,a):Fm.from($h.split(i,[]),a)}sliceString(t,e=this.length,r=`
`){[t,e]=nb(this,t,e);let i="";for(let a=0,s=0;a<=e&&s<this.text.length;s++){let c=this.text[s],f=a+c.length;a>t&&s&&(i+=r),t<f&&e>a&&(i+=c.slice(Math.max(0,t-a),e-a)),a=f+1}return i}flatten(t){for(let e of this.text)t.push(e)}scanIdentical(){return 0}static split(t,e){let r=[],i=-1;for(let a of t)r.push(a),i+=a.length+1,r.length==32&&(e.push(new $h(r,i)),r=[],i=-1);return i>-1&&e.push(new $h(r,i)),e}}class Fm extends yc{constructor(t,e){super(),this.children=t,this.length=e,this.lines=0;for(let r of t)this.lines+=r.lines}lineInner(t,e,r,i){for(let a=0;;a++){let s=this.children[a],c=i+s.length,f=r+s.lines-1;if((e?f:c)>=t)return s.lineInner(t,e,r,i);i=c+1,r=f+1}}decompose(t,e,r,i){for(let a=0,s=0;s<=e&&a<this.children.length;a++){let c=this.children[a],f=s+c.length;if(t<=f&&e>=s){let d=i&((s<=t?1:0)|(f>=e?2:0));s>=t&&f<=e&&!d?r.push(c):c.decompose(t-s,e-s,r,d)}s=f+1}}replace(t,e,r){if([t,e]=nb(this,t,e),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let s=this.children[i],c=a+s.length;if(t>=a&&e<=c){let f=s.replace(t-a,e-a,r),d=this.lines-s.lines+f.lines;if(f.lines<d>>4&&f.lines>d>>6){let h=this.children.slice();return h[i]=f,new Fm(h,this.length-(e-t)+r.length)}return super.replace(a,c,f)}a=c+1}return super.replace(t,e,r)}sliceString(t,e=this.length,r=`
`){[t,e]=nb(this,t,e);let i="";for(let a=0,s=0;a<this.children.length&&s<=e;a++){let c=this.children[a],f=s+c.length;s>t&&a&&(i+=r),t<f&&e>s&&(i+=c.sliceString(t-s,e-s,r)),s=f+1}return i}flatten(t){for(let e of this.children)e.flatten(t)}scanIdentical(t,e){if(!(t instanceof Fm))return 0;let r=0,[i,a,s,c]=e>0?[0,0,this.children.length,t.children.length]:[this.children.length-1,t.children.length-1,-1,-1];for(;;i+=e,a+=e){if(i==s||a==c)return r;let f=this.children[i],d=t.children[a];if(f!=d)return r+f.scanIdentical(d,e);r+=f.length+1}}static from(t,e=t.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let w of t)r+=w.lines;if(r<32){let w=[];for(let C of t)C.flatten(w);return new $h(w,e)}let i=Math.max(32,r>>5),a=i<<1,s=i>>1,c=[],f=0,d=-1,h=[];function m(w){let C;if(w.lines>a&&w instanceof Fm)for(let k of w.children)m(k);else w.lines>s&&(f>s||!f)?(y(),c.push(w)):w instanceof $h&&f&&(C=h[h.length-1])instanceof $h&&w.lines+C.lines<=32?(f+=w.lines,d+=w.length+1,h[h.length-1]=new $h(C.text.concat(w.text),C.length+1+w.length)):(f+w.lines>i&&y(),f+=w.lines,d+=w.length+1,h.push(w))}function y(){f!=0&&(c.push(h.length==1?h[0]:Fm.from(h,d)),d=-1,f=h.length=0)}for(let w of t)m(w);return y(),c.length==1?c[0]:new Fm(c,e)}}function cS(n,t,e=0,r=1e9){for(let i=0,a=0,s=!0;a<n.length&&i<=r;a++){let c=n[a],f=i+c.length;f>=e&&(f>r&&(c=c.slice(0,r-i)),i<e&&(c=c.slice(e-i)),s?(t[t.length-1]+=c,s=!1):t.push(c)),i=f+1}return t}function q6(n,t,e){return cS(n,[""],t,e)}yc.empty=new $h([""],0);class Dx{constructor(t,e=1){this.dir=e,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[t],this.offsets=[e>0?1:(t instanceof $h?t.text.length:t.children.length)<<1]}nextInner(t,e){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],s=a>>1,c=i instanceof $h?i.text.length:i.children.length;if(s==(e>0?c:0)){if(r==0)return this.done=!0,this.value="",this;e>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((1&a)==(e>0?0:1)){if(this.offsets[r]+=e,t==0)return this.lineBreak=!0,this.value=`
`,this;t--}else if(i instanceof $h){let f=i.text[s+(e<0?-1:0)];if(this.offsets[r]+=e,f.length>Math.max(0,t))return this.value=t==0?f:e>0?f.slice(t):f.slice(0,f.length-t),this;t-=f.length}else{let f=i.children[s+(e<0?-1:0)];t>f.length?(t-=f.length,this.offsets[r]+=e):(e<0&&this.offsets[r]--,this.nodes.push(f),this.offsets.push(e>0?1:(f instanceof $h?f.text.length:f.children.length)<<1))}}}next(t=0){return t<0&&(this.nextInner(-t,-this.dir),t=this.value.length),this.nextInner(t,this.dir)}}class oV{constructor(t,e,r){this.value="",this.done=!1,this.cursor=new Dx(t,e>r?-1:1),this.pos=e>r?t.length:0,this.from=Math.min(e,r),this.to=Math.max(e,r)}nextInner(t,e){if(e<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;t+=Math.max(0,e<0?this.pos-this.to:this.from-this.pos);let r=e<0?this.pos-this.from:this.to-this.pos;t>r&&(t=r),r-=t;let{value:i}=this.cursor.next(t);return this.pos+=(i.length+t)*e,this.value=i.length<=r?i:e<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(t=0){return t<0?t=Math.max(t,this.from-this.pos):t>0&&(t=Math.min(t,this.to-this.pos)),this.nextInner(t,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class aV{constructor(t){this.inner=t,this.afterBreak=!0,this.value="",this.done=!1}next(t=0){let{done:e,lineBreak:r,value:i}=this.inner.next(t);return e&&this.afterBreak?(this.value="",this.afterBreak=!1):e?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(yc.prototype[Symbol.iterator]=function(){return this.iter()},Dx.prototype[Symbol.iterator]=oV.prototype[Symbol.iterator]=aV.prototype[Symbol.iterator]=function(){return this});class Iut{constructor(t,e,r,i){this.from=t,this.to=e,this.number=r,this.text=i}get length(){return this.to-this.from}}function nb(n,t,e){return[t=Math.max(0,Math.min(n.length,t)),Math.max(t,Math.min(n.length,e))]}let Pw="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<Pw.length;n++)Pw[n]+=Pw[n-1];function But(n){for(let t=1;t<Pw.length;t+=2)if(Pw[t]>n)return Pw[t-1]<=n;return!1}function K6(n){return n>=127462&&n<=127487}function Up(n,t,e=!0,r=!0){return(e?sV:Rut)(n,t,r)}function sV(n,t,e){if(t==n.length)return t;t&&uV(n.charCodeAt(t))&&lV(n.charCodeAt(t-1))&&t--;let r=Ip(n,t);for(t+=Cg(r);t<n.length;){let i=Ip(n,t);if(r==8205||i==8205||e&&But(i))t+=Cg(i),r=i;else{if(!K6(i))break;{let a=0,s=t-2;for(;s>=0&&K6(Ip(n,s));)a++,s-=2;if(a%2==0)break;t+=2}}}return t}function Rut(n,t,e){for(;t>0;){let r=sV(n,t-2,e);if(r<t)return r;t--}return 0}function uV(n){return n>=56320&&n<57344}function lV(n){return n>=55296&&n<56320}function Ip(n,t){let e=n.charCodeAt(t);if(!lV(e)||t+1==n.length)return e;let r=n.charCodeAt(t+1);return uV(r)?r-56320+(e-55296<<10)+65536:e}function hN(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n)))}function Cg(n){return n<65536?1:2}const MP=/\r\n?|\n/;var vd=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(vd||(vd={}));class $m{constructor(t){this.sections=t}get length(){let t=0;for(let e=0;e<this.sections.length;e+=2)t+=this.sections[e];return t}get newLength(){let t=0;for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e+1];t+=r<0?this.sections[e]:r}return t}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(t){for(let e=0,r=0,i=0;e<this.sections.length;){let a=this.sections[e++],s=this.sections[e++];s<0?(t(r,i,a),i+=a):i+=s,r+=a}}iterChangedRanges(t,e=!1){FP(this,t,e)}get invertedDesc(){let t=[];for(let e=0;e<this.sections.length;){let r=this.sections[e++],i=this.sections[e++];i<0?t.push(r,i):t.push(i,r)}return new $m(t)}composeDesc(t){return this.empty?t:t.empty?this:cV(this,t)}mapDesc(t,e=!1){return t.empty?this:PP(this,t,e)}mapPos(t,e=-1,r=vd.Simple){let i=0,a=0;for(let s=0;s<this.sections.length;){let c=this.sections[s++],f=this.sections[s++],d=i+c;if(f<0){if(d>t)return a+(t-i);a+=c}else{if(r!=vd.Simple&&d>=t&&(r==vd.TrackDel&&i<t&&d>t||r==vd.TrackBefore&&i<t||r==vd.TrackAfter&&d>t))return null;if(d>t||d==t&&e<0&&!c)return t==i||e<0?a:a+f;a+=f}i=d}if(t>i)throw new RangeError(`Position ${t} is out of range for changeset of length ${i}`);return a}touchesRange(t,e=t){for(let r=0,i=0;r<this.sections.length&&i<=e;){let a=i+this.sections[r++];if(this.sections[r++]>=0&&i<=e&&a>=t)return!(i<t&&a>e)||"cover";i=a}return!1}toString(){let t="";for(let e=0;e<this.sections.length;){let r=this.sections[e++],i=this.sections[e++];t+=(t?" ":"")+r+(i>=0?":"+i:"")}return t}toJSON(){return this.sections}static fromJSON(t){if(!Array.isArray(t)||t.length%2||t.some(e=>typeof e!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new $m(t)}static create(t){return new $m(t)}}class ap extends $m{constructor(t,e){super(t),this.inserted=e}apply(t){if(this.length!=t.length)throw new RangeError("Applying change set to a document with the wrong length");return FP(this,(e,r,i,a,s)=>t=t.replace(i,i+(r-e),s),!1),t}mapDesc(t,e=!1){return PP(this,t,e,!0)}invert(t){let e=this.sections.slice(),r=[];for(let i=0,a=0;i<e.length;i+=2){let s=e[i],c=e[i+1];if(c>=0){e[i]=c,e[i+1]=s;let f=i>>1;for(;r.length<f;)r.push(yc.empty);r.push(s?t.slice(a,a+s):yc.empty)}a+=s}return new ap(e,r)}compose(t){return this.empty?t:t.empty?this:cV(this,t,!0)}map(t,e=!1){return t.empty?this:PP(this,t,e,!0)}iterChanges(t,e=!1){FP(this,t,e)}get desc(){return $m.create(this.sections)}filter(t){let e=[],r=[],i=[],a=new oD(this);t:for(let s=0,c=0;;){let f=s==t.length?1e9:t[s++];for(;c<f||c==f&&a.len==0;){if(a.done)break t;let h=Math.min(a.len,f-c);id(i,h,-1);let m=a.ins==-1?-1:a.off==0?a.ins:0;id(e,h,m),m>0&&Gv(r,e,a.text),a.forward(h),c+=h}let d=t[s++];for(;c<d;){if(a.done)break t;let h=Math.min(a.len,d-c);id(e,h,-1),id(i,h,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(h),c+=h}}return{changes:new ap(e,r),filtered:$m.create(i)}}toJSON(){let t=[];for(let e=0;e<this.sections.length;e+=2){let r=this.sections[e],i=this.sections[e+1];i<0?t.push(r):i==0?t.push([r]):t.push([r].concat(this.inserted[e>>1].toJSON()))}return t}static of(t,e,r){let i=[],a=[],s=0,c=null;function f(d=!1){if(!d&&!i.length)return;s<e&&id(i,e-s,-1);let h=new ap(i,a);c=c?c.compose(h.map(c)):h,i=[],a=[],s=0}return function d(h){if(Array.isArray(h))for(let m of h)d(m);else if(h instanceof ap){if(h.length!=e)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${e})`);f(),c=c?c.compose(h.map(c)):h}else{let{from:m,to:y=m,insert:w}=h;if(m>y||m<0||y>e)throw new RangeError(`Invalid change range ${m} to ${y} (in doc of length ${e})`);let C=w?typeof w=="string"?yc.of(w.split(r||MP)):w:yc.empty,k=C.length;if(m==y&&k==0)return;m<s&&f(),m>s&&id(i,m-s,-1),id(i,y-m,k),Gv(a,i,C),s=y}}(t),f(!c),c}static empty(t){return new ap(t?[t,-1]:[],[])}static fromJSON(t){if(!Array.isArray(t))throw new RangeError("Invalid JSON representation of ChangeSet");let e=[],r=[];for(let i=0;i<t.length;i++){let a=t[i];if(typeof a=="number")e.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((s,c)=>c&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)e.push(a[0],0);else{for(;r.length<i;)r.push(yc.empty);r[i]=yc.of(a.slice(1)),e.push(a[0],r[i].length)}}}return new ap(e,r)}static createSet(t,e){return new ap(t,e)}}function id(n,t,e,r=!1){if(t==0&&e<=0)return;let i=n.length-2;i>=0&&e<=0&&e==n[i+1]?n[i]+=t:t==0&&n[i]==0?n[i+1]+=e:r?(n[i]+=t,n[i+1]+=e):n.push(t,e)}function Gv(n,t,e){if(e.length==0)return;let r=t.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(e);else{for(;n.length<r;)n.push(yc.empty);n.push(e)}}function FP(n,t,e){let r=n.inserted;for(let i=0,a=0,s=0;s<n.sections.length;){let c=n.sections[s++],f=n.sections[s++];if(f<0)i+=c,a+=c;else{let d=i,h=a,m=yc.empty;for(;d+=c,h+=f,f&&r&&(m=m.append(r[s-2>>1])),!(e||s==n.sections.length||n.sections[s+1]<0);)c=n.sections[s++],f=n.sections[s++];t(i,d,a,h,m),i=d,a=h}}}function PP(n,t,e,r=!1){let i=[],a=r?[]:null,s=new oD(n),c=new oD(t);for(let f=-1;;)if(s.ins==-1&&c.ins==-1){let d=Math.min(s.len,c.len);id(i,d,-1),s.forward(d),c.forward(d)}else if(c.ins>=0&&(s.ins<0||f==s.i||s.off==0&&(c.len<s.len||c.len==s.len&&!e))){let d=c.len;for(id(i,c.ins,-1);d;){let h=Math.min(s.len,d);s.ins>=0&&f<s.i&&s.len<=h&&(id(i,0,s.ins),a&&Gv(a,i,s.text),f=s.i),s.forward(h),d-=h}c.next()}else{if(!(s.ins>=0)){if(s.done&&c.done)return a?ap.createSet(i,a):$m.create(i);throw new Error("Mismatched change set lengths")}{let d=0,h=s.len;for(;h;)if(c.ins==-1){let m=Math.min(h,c.len);d+=m,h-=m,c.forward(m)}else{if(!(c.ins==0&&c.len<h))break;h-=c.len,c.next()}id(i,d,f<s.i?s.ins:0),a&&f<s.i&&Gv(a,i,s.text),f=s.i,s.forward(s.len-h)}}}function cV(n,t,e=!1){let r=[],i=e?[]:null,a=new oD(n),s=new oD(t);for(let c=!1;;){if(a.done&&s.done)return i?ap.createSet(r,i):$m.create(r);if(a.ins==0)id(r,a.len,0,c),a.next();else if(s.len!=0||s.done){if(a.done||s.done)throw new Error("Mismatched change set lengths");{let f=Math.min(a.len2,s.len),d=r.length;if(a.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;id(r,f,h,c),i&&h&&Gv(i,r,s.text)}else s.ins==-1?(id(r,a.off?0:a.len,f,c),i&&Gv(i,r,a.textBit(f))):(id(r,a.off?0:a.len,s.off?0:s.ins,c),i&&!s.off&&Gv(i,r,s.text));c=(a.ins>f||s.ins>=0&&s.len>f)&&(c||r.length>d),a.forward2(f),s.forward(f)}}else id(r,0,s.ins,c),i&&Gv(i,r,s.text),s.next()}}class oD{constructor(t){this.set=t,this.i=0,this.next()}next(){let{sections:t}=this.set;this.i<t.length?(this.len=t[this.i++],this.ins=t[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:t}=this.set,e=this.i-2>>1;return e>=t.length?yc.empty:t[e]}textBit(t){let{inserted:e}=this.set,r=this.i-2>>1;return r>=e.length&&!t?yc.empty:e[r].slice(this.off,t==null?void 0:this.off+t)}forward(t){t==this.len?this.next():(this.len-=t,this.off+=t)}forward2(t){this.ins==-1?this.forward(t):t==this.ins?this.next():(this.ins-=t,this.off+=t)}}class Q0{constructor(t,e,r){this.from=t,this.to=e,this.flags=r}get anchor(){return 32&this.flags?this.to:this.from}get head(){return 32&this.flags?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return 8&this.flags?-1:16&this.flags?1:0}get bidiLevel(){let t=7&this.flags;return t==7?null:t}get goalColumn(){let t=this.flags>>6;return t==16777215?void 0:t}map(t,e=-1){let r,i;return this.empty?r=i=t.mapPos(this.from,e):(r=t.mapPos(this.from,1),i=t.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Q0(r,i,this.flags)}extend(t,e=t){if(t<=this.anchor&&e>=this.anchor)return un.range(t,e);let r=Math.abs(t-this.anchor)>Math.abs(e-this.anchor)?t:e;return un.range(this.anchor,r)}eq(t,e=!1){return!(this.anchor!=t.anchor||this.head!=t.head||e&&this.empty&&this.assoc!=t.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(t){if(!t||typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return un.range(t.anchor,t.head)}static create(t,e,r){return new Q0(t,e,r)}}class un{constructor(t,e){this.ranges=t,this.mainIndex=e}map(t,e=-1){return t.empty?this:un.create(this.ranges.map(r=>r.map(t,e)),this.mainIndex)}eq(t,e=!1){if(this.ranges.length!=t.ranges.length||this.mainIndex!=t.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(t.ranges[r],e))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new un([this.main],0)}addRange(t,e=!0){return un.create([t].concat(this.ranges),e?0:this.mainIndex+1)}replaceRange(t,e=this.mainIndex){let r=this.ranges.slice();return r[e]=t,un.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(t=>t.toJSON()),main:this.mainIndex}}static fromJSON(t){if(!t||!Array.isArray(t.ranges)||typeof t.main!="number"||t.main>=t.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new un(t.ranges.map(e=>Q0.fromJSON(e)),t.main)}static single(t,e=t){return new un([un.range(t,e)],0)}static create(t,e=0){if(t.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<t.length;i++){let a=t[i];if(a.empty?a.from<=r:a.from<r)return un.normalized(t.slice(),e);r=a.to}return new un(t,e)}static cursor(t,e=0,r,i){return Q0.create(t,t,(e==0?0:e<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(t,e,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return e<t?Q0.create(e,t,48|a):Q0.create(t,e,(e>t?8:0)|a)}static normalized(t,e=0){let r=t[e];t.sort((i,a)=>i.from-a.from),e=t.indexOf(r);for(let i=1;i<t.length;i++){let a=t[i],s=t[i-1];if(a.empty?a.from<=s.to:a.from<s.to){let c=s.from,f=Math.max(a.to,s.to);i<=e&&e--,t.splice(--i,2,a.anchor>a.head?un.range(f,c):un.range(c,f))}}return new un(t,e)}}function fV(n,t){for(let e of n.ranges)if(e.to>t)throw new RangeError("Selection points outside of document")}let pN=0;class Yr{constructor(t,e,r,i,a){this.combine=t,this.compareInput=e,this.compare=r,this.isStatic=i,this.id=pN++,this.default=t([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(t={}){return new Yr(t.combine||(e=>e),t.compareInput||((e,r)=>e===r),t.compare||(t.combine?(e,r)=>e===r:dN),!!t.static,t.enables)}of(t){return new fS([],this,0,t)}compute(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new fS(t,this,1,e)}computeN(t,e){if(this.isStatic)throw new Error("Can't compute a static facet");return new fS(t,this,2,e)}from(t,e){return e||(e=r=>r),this.compute([t],r=>e(r.field(t)))}}function dN(n,t){return n==t||n.length==t.length&&n.every((e,r)=>e===t[r])}class fS{constructor(t,e,r,i){this.dependencies=t,this.facet=e,this.type=r,this.value=i,this.id=pN++}dynamicSlot(t){var e;let r=this.value,i=this.facet.compareInput,a=this.id,s=t[a]>>1,c=this.type==2,f=!1,d=!1,h=[];for(let m of this.dependencies)m=="doc"?f=!0:m=="selection"?d=!0:1&((e=t[m.id])!==null&&e!==void 0?e:1)||h.push(t[m.id]);return{create:m=>(m.values[s]=r(m),1),update(m,y){if(f&&y.docChanged||d&&(y.docChanged||y.selection)||TP(m,h)){let w=r(m);if(c?!G6(w,m.values[s],i):!i(w,m.values[s]))return m.values[s]=w,1}return 0},reconfigure:(m,y)=>{let w,C=y.config.address[a];if(C!=null){let k=O2(y,C);if(this.dependencies.every(M=>M instanceof Yr?y.facet(M)===m.facet(M):!(M instanceof Hp)||y.field(M,!1)==m.field(M,!1))||(c?G6(w=r(m),k,i):i(w=r(m),k)))return m.values[s]=k,0}else w=r(m);return m.values[s]=w,1}}}}function G6(n,t,e){if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(!e(n[r],t[r]))return!1;return!0}function TP(n,t){let e=!1;for(let r of t)1&Cx(n,r)&&(e=!0);return e}function jut(n,t,e){let r=e.map(f=>n[f.id]),i=e.map(f=>f.type),a=r.filter(f=>!(1&f)),s=n[t.id]>>1;function c(f){let d=[];for(let h=0;h<r.length;h++){let m=O2(f,r[h]);if(i[h]==2)for(let y of m)d.push(y);else d.push(m)}return t.combine(d)}return{create(f){for(let d of r)Cx(f,d);return f.values[s]=c(f),1},update(f,d){if(!TP(f,a))return 0;let h=c(f);return t.compare(h,f.values[s])?0:(f.values[s]=h,1)},reconfigure(f,d){let h=TP(f,r),m=d.config.facets[t.id],y=d.facet(t);if(m&&!h&&dN(e,m))return f.values[s]=y,0;let w=c(f);return t.compare(w,y)?(f.values[s]=y,0):(f.values[s]=w,1)}}}const Y6=Yr.define({static:!0});class Hp{constructor(t,e,r,i,a){this.id=t,this.createF=e,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(t){let e=new Hp(pN++,t.create,t.update,t.compare||((r,i)=>r===i),t);return t.provide&&(e.provides=t.provide(e)),e}create(t){let e=t.facet(Y6).find(r=>r.field==this);return((e==null?void 0:e.create)||this.createF)(t)}slot(t){let e=t[this.id]>>1;return{create:r=>(r.values[e]=this.create(r),1),update:(r,i)=>{let a=r.values[e],s=this.updateF(a,i);return this.compareF(a,s)?0:(r.values[e]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[e]=i.field(this),0):(r.values[e]=this.create(r),1)}}init(t){return[this,Y6.of({field:this,create:t})]}get extension(){return this}}const Lut=4,zut=3,OP=2,Uut=1;function Ib(n){return t=>new hV(t,n)}const Py={highest:Ib(0),high:Ib(Uut),default:Ib(OP),low:Ib(zut),lowest:Ib(Lut)};class hV{constructor(t,e){this.inner=t,this.prec=e}}class $E{of(t){return new NP(this,t)}reconfigure(t){return $E.reconfigure.of({compartment:this,extension:t})}get(t){return t.config.compartments.get(this)}}class NP{constructor(t,e){this.compartment=t,this.inner=e}}class T2{constructor(t,e,r,i,a,s){for(this.base=t,this.compartments=e,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(t){let e=this.address[t.id];return e==null?t.default:this.staticValues[e>>1]}static resolve(t,e,r){let i=[],a=Object.create(null),s=new Map;for(let y of function(C,k,M){let N=[[],[],[],[],[]],B=new Map;function L(z,q){let V=B.get(z);if(V!=null){if(V<=q)return;let X=N[V].indexOf(z);X>-1&&N[V].splice(X,1),z instanceof NP&&M.delete(z.compartment)}if(B.set(z,q),Array.isArray(z))for(let X of z)L(X,q);else if(z instanceof NP){if(M.has(z.compartment))throw new RangeError("Duplicate use of compartment in extensions");let X=k.get(z.compartment)||z.inner;M.set(z.compartment,X),L(X,q)}else if(z instanceof hV)L(z.inner,z.prec);else if(z instanceof Hp)N[q].push(z),z.provides&&L(z.provides,q);else if(z instanceof fS)N[q].push(z),z.facet.extensions&&L(z.facet.extensions,OP);else{let X=z.extension;if(!X)throw new Error(`Unrecognized extension value in extension set (${z}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);L(X,q)}}return L(C,OP),N.reduce((z,q)=>z.concat(q))}(t,e,s))y instanceof Hp?i.push(y):(a[y.facet.id]||(a[y.facet.id]=[])).push(y);let c=Object.create(null),f=[],d=[];for(let y of i)c[y.id]=d.length<<1,d.push(w=>y.slot(w));let h=r==null?void 0:r.config.facets;for(let y in a){let w=a[y],C=w[0].facet,k=h&&h[y]||[];if(w.every(M=>M.type==0))if(c[C.id]=f.length<<1|1,dN(k,w))f.push(r.facet(C));else{let M=C.combine(w.map(N=>N.value));f.push(r&&C.compare(M,r.facet(C))?r.facet(C):M)}else{for(let M of w)M.type==0?(c[M.id]=f.length<<1|1,f.push(M.value)):(c[M.id]=d.length<<1,d.push(N=>M.dynamicSlot(N)));c[C.id]=d.length<<1,d.push(M=>jut(M,C,w))}}let m=d.map(y=>y(c));return new T2(t,s,m,c,f,a)}}function Cx(n,t){if(1&t)return 2;let e=t>>1,r=n.status[e];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(2&r)return r;n.status[e]=4;let i=n.computeSlot(n,n.config.dynamicSlots[e]);return n.status[e]=2|i}function O2(n,t){return 1&t?n.config.staticValues[t>>1]:n.values[t>>1]}const pV=Yr.define(),IP=Yr.define({combine:n=>n.some(t=>t),static:!0}),dV=Yr.define({combine:n=>n.length?n[0]:void 0,static:!0}),gV=Yr.define(),mV=Yr.define(),vV=Yr.define(),yV=Yr.define({combine:n=>!!n.length&&n[0]});class dv{constructor(t,e){this.type=t,this.value=e}static define(){return new $ut}}class $ut{of(t){return new dv(this,t)}}class Wut{constructor(t){this.map=t}of(t){return new qs(this,t)}}class qs{constructor(t,e){this.type=t,this.value=e}map(t){let e=this.type.map(this.value,t);return e===void 0?void 0:e==this.value?this:new qs(this.type,e)}is(t){return this.type==t}static define(t={}){return new Wut(t.map||(e=>e))}static mapEffects(t,e){if(!t.length)return t;let r=[];for(let i of t){let a=i.map(e);a&&r.push(a)}return r}}qs.reconfigure=qs.define(),qs.appendConfig=qs.define();class lp{constructor(t,e,r,i,a,s){this.startState=t,this.changes=e,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=s,this._doc=null,this._state=null,r&&fV(r,e.newLength),a.some(c=>c.type==lp.time)||(this.annotations=a.concat(lp.time.of(Date.now())))}static create(t,e,r,i,a,s){return new lp(t,e,r,i,a,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(t){for(let e of this.annotations)if(e.type==t)return e.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(t){let e=this.annotation(lp.userEvent);return!(!e||!(e==t||e.length>t.length&&e.slice(0,t.length)==t&&e[t.length]=="."))}}function Hut(n,t){let e=[];for(let r=0,i=0;;){let a,s;if(r<n.length&&(i==t.length||t[i]>=n[r]))a=n[r++],s=n[r++];else{if(!(i<t.length))return e;a=t[i++],s=t[i++]}!e.length||e[e.length-1]<a?e.push(a,s):e[e.length-1]<s&&(e[e.length-1]=s)}}function X6(n,t,e){var r;let i,a,s;return e?(i=t.changes,a=ap.empty(t.changes.length),s=n.changes.compose(t.changes)):(i=t.changes.map(n.changes),a=n.changes.mapDesc(t.changes,!0),s=n.changes.compose(i)),{changes:s,selection:t.selection?t.selection.map(a):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:qs.mapEffects(n.effects,i).concat(qs.mapEffects(t.effects,a)),annotations:n.annotations.length?n.annotations.concat(t.annotations):t.annotations,scrollIntoView:n.scrollIntoView||t.scrollIntoView}}function Rk(n,t,e){let r=t.selection,i=Tw(t.annotations);return t.userEvent&&(i=i.concat(lp.userEvent.of(t.userEvent))),{changes:t.changes instanceof ap?t.changes:ap.of(t.changes||[],e,n.facet(dV)),selection:r&&(r instanceof un?r:un.single(r.anchor,r.head)),effects:Tw(t.effects),annotations:i,scrollIntoView:!!t.scrollIntoView}}function wV(n,t,e){let r=Rk(n,t.length?t[0]:{},n.doc.length);t.length&&t[0].filter===!1&&(e=!1);for(let a=1;a<t.length;a++){t[a].filter===!1&&(e=!1);let s=!!t[a].sequential;r=X6(r,Rk(n,t[a],s?r.changes.newLength:n.doc.length),s)}let i=lp.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return function(s){let c=s.startState,f=c.facet(vV),d=s;for(let h=f.length-1;h>=0;h--){let m=f[h](s);m&&Object.keys(m).length&&(d=X6(d,Rk(c,m,s.changes.newLength),!0))}return d==s?s:lp.create(c,s.changes,s.selection,d.effects,d.annotations,d.scrollIntoView)}(e?function(s){let c=s.startState,f=!0;for(let h of c.facet(gV)){let m=h(s);if(m===!1){f=!1;break}Array.isArray(m)&&(f=f===!0?m:Hut(f,m))}if(f!==!0){let h,m;if(f===!1)m=s.changes.invertedDesc,h=ap.empty(c.doc.length);else{let y=s.changes.filter(f);h=y.changes,m=y.filtered.mapDesc(y.changes).invertedDesc}s=lp.create(c,h,s.selection&&s.selection.map(m),qs.mapEffects(s.effects,m),s.annotations,s.scrollIntoView)}let d=c.facet(mV);for(let h=d.length-1;h>=0;h--){let m=d[h](s);s=m instanceof lp?m:Array.isArray(m)&&m.length==1&&m[0]instanceof lp?m[0]:wV(c,Tw(m),!1)}return s}(i):i)}lp.time=dv.define(),lp.userEvent=dv.define(),lp.addToHistory=dv.define(),lp.remote=dv.define();const Vut=[];function Tw(n){return n==null?Vut:Array.isArray(n)?n:[n]}var bh=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(bh||(bh={}));const qut=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let BP;try{BP=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Kut(n){return t=>{if(!/\S/.test(t))return bh.Space;if(function(r){if(BP)return BP.test(r);for(let i=0;i<r.length;i++){let a=r[i];if(/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||qut.test(a)))return!0}return!1}(t))return bh.Word;for(let e=0;e<n.length;e++)if(t.indexOf(n[e])>-1)return bh.Word;return bh.Other}}class vc{constructor(t,e,r,i,a,s){this.config=t,this.doc=e,this.selection=r,this.values=i,this.status=t.statusTemplate.slice(),this.computeSlot=a,s&&(s._state=this);for(let c=0;c<this.config.dynamicSlots.length;c++)Cx(this,c<<1);this.computeSlot=null}field(t,e=!0){let r=this.config.address[t.id];if(r!=null)return Cx(this,r),O2(this,r);if(e)throw new RangeError("Field is not present in this state")}update(...t){return wV(this,t,!0)}applyTransaction(t){let e,r=this.config,{base:i,compartments:a}=r;for(let c of t.effects)c.is($E.reconfigure)?(r&&(a=new Map,r.compartments.forEach((f,d)=>a.set(d,f)),r=null),a.set(c.value.compartment,c.value.extension)):c.is(qs.reconfigure)?(r=null,i=c.value):c.is(qs.appendConfig)&&(r=null,i=Tw(i).concat(c.value));r?e=t.startState.values.slice():(r=T2.resolve(i,a,this),e=new vc(r,this.doc,this.selection,r.dynamicSlots.map(()=>null),(c,f)=>f.reconfigure(c,this),null).values);let s=t.startState.facet(IP)?t.newSelection:t.newSelection.asSingle();new vc(r,t.newDoc,s,e,(c,f)=>f.update(c,t),t)}replaceSelection(t){return typeof t=="string"&&(t=this.toText(t)),this.changeByRange(e=>({changes:{from:e.from,to:e.to,insert:t},range:un.cursor(e.from+t.length)}))}changeByRange(t){let e=this.selection,r=t(e.ranges[0]),i=this.changes(r.changes),a=[r.range],s=Tw(r.effects);for(let c=1;c<e.ranges.length;c++){let f=t(e.ranges[c]),d=this.changes(f.changes),h=d.map(i);for(let y=0;y<c;y++)a[y]=a[y].map(h);let m=i.mapDesc(d,!0);a.push(f.range.map(m)),i=i.compose(h),s=qs.mapEffects(s,h).concat(qs.mapEffects(Tw(f.effects),m))}return{changes:i,selection:un.create(a,e.mainIndex),effects:s}}changes(t=[]){return t instanceof ap?t:ap.of(t,this.doc.length,this.facet(vc.lineSeparator))}toText(t){return yc.of(t.split(this.facet(vc.lineSeparator)||MP))}sliceDoc(t=0,e=this.doc.length){return this.doc.sliceString(t,e,this.lineBreak)}facet(t){let e=this.config.address[t.id];return e==null?t.default:(Cx(this,e),O2(this,e))}toJSON(t){let e={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(t)for(let r in t){let i=t[r];i instanceof Hp&&this.config.address[i.id]!=null&&(e[r]=i.spec.toJSON(this.field(t[r]),this))}return e}static fromJSON(t,e={},r){if(!t||typeof t.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(t,a)){let s=r[a],c=t[a];i.push(s.init(f=>s.spec.fromJSON(c,f)))}}return vc.create({doc:t.doc,selection:un.fromJSON(t.selection),extensions:e.extensions?i.concat([e.extensions]):i})}static create(t={}){let e=T2.resolve(t.extensions||[],new Map),r=t.doc instanceof yc?t.doc:yc.of((t.doc||"").split(e.staticFacet(vc.lineSeparator)||MP)),i=t.selection?t.selection instanceof un?t.selection:un.single(t.selection.anchor,t.selection.head):un.single(0);return fV(i,r.length),e.staticFacet(IP)||(i=i.asSingle()),new vc(e,r,i,e.dynamicSlots.map(()=>null),(a,s)=>s.create(a),null)}get tabSize(){return this.facet(vc.tabSize)}get lineBreak(){return this.facet(vc.lineSeparator)||`
`}get readOnly(){return this.facet(yV)}phrase(t,...e){for(let r of this.facet(vc.phrases))if(Object.prototype.hasOwnProperty.call(r,t)){t=r[t];break}return e.length&&(t=t.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>e.length?r:e[a-1]})),t}languageDataAt(t,e,r=-1){let i=[];for(let a of this.facet(pV))for(let s of a(this,e,r))Object.prototype.hasOwnProperty.call(s,t)&&i.push(s[t]);return i}charCategorizer(t){return Kut(this.languageDataAt("wordChars",t).join(""))}wordAt(t){let{text:e,from:r,length:i}=this.doc.lineAt(t),a=this.charCategorizer(t),s=t-r,c=t-r;for(;s>0;){let f=Up(e,s,!1);if(a(e.slice(f,s))!=bh.Word)break;s=f}for(;c<i;){let f=Up(e,c);if(a(e.slice(c,f))!=bh.Word)break;c=f}return s==c?null:un.range(s+r,c+r)}}function Zm(n,t,e={}){let r={};for(let i of n)for(let a of Object.keys(i)){let s=i[a],c=r[a];if(c===void 0)r[a]=s;else if(!(c===s||s===void 0)){if(!Object.hasOwnProperty.call(e,a))throw new Error("Config merge conflict for field "+a);r[a]=e[a](c,s)}}for(let i in t)r[i]===void 0&&(r[i]=t[i]);return r}vc.allowMultipleSelections=IP,vc.tabSize=Yr.define({combine:n=>n.length?n[0]:4}),vc.lineSeparator=dV,vc.readOnly=yV,vc.phrases=Yr.define({compare(n,t){let e=Object.keys(n),r=Object.keys(t);return e.length==r.length&&e.every(i=>n[i]==t[i])}}),vc.languageData=pV,vc.changeFilter=gV,vc.transactionFilter=mV,vc.transactionExtender=vV,$E.reconfigure=qs.define();class Z0{eq(t){return this==t}range(t,e=t){return RP.create(t,e,this)}}Z0.prototype.startSide=Z0.prototype.endSide=0,Z0.prototype.point=!1,Z0.prototype.mapMode=vd.TrackDel;let RP=class bV{constructor(t,e,r){this.from=t,this.to=e,this.value=r}static create(t,e,r){return new bV(t,e,r)}};function jk(n,t){return n.from-t.from||n.value.startSide-t.value.startSide}class gN{constructor(t,e,r,i){this.from=t,this.to=e,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(t,e,r,i=0){let a=r?this.to:this.from;for(let s=i,c=a.length;;){if(s==c)return s;let f=s+c>>1,d=a[f]-t||(r?this.value[f].endSide:this.value[f].startSide)-e;if(f==s)return d>=0?s:c;d>=0?c=f:s=f+1}}between(t,e,r,i){for(let a=this.findIndex(e,-1e9,!0),s=this.findIndex(r,1e9,!1,a);a<s;a++)if(i(this.from[a]+t,this.to[a]+t,this.value[a])===!1)return!1}map(t,e){let r=[],i=[],a=[],s=-1,c=-1;for(let f=0;f<this.value.length;f++){let d,h,m=this.value[f],y=this.from[f]+t,w=this.to[f]+t;if(y==w){let C=e.mapPos(y,m.startSide,m.mapMode);if(C==null||(d=h=C,m.startSide!=m.endSide&&(h=e.mapPos(y,m.endSide),h<d)))continue}else if(d=e.mapPos(y,m.startSide),h=e.mapPos(w,m.endSide),d>h||d==h&&m.startSide>0&&m.endSide<=0)continue;(h-d||m.endSide-m.startSide)<0||(s<0&&(s=d),m.point&&(c=Math.max(c,h-d)),r.push(m),i.push(d-s),a.push(h-s))}return{mapped:r.length?new gN(i,a,r,c):null,pos:s}}}class sc{constructor(t,e,r,i){this.chunkPos=t,this.chunk=e,this.nextLayer=r,this.maxPoint=i}static create(t,e,r,i){return new sc(t,e,r,i)}get length(){let t=this.chunk.length-1;return t<0?0:Math.max(this.chunkEnd(t),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let t=this.nextLayer.size;for(let e of this.chunk)t+=e.value.length;return t}chunkEnd(t){return this.chunkPos[t]+this.chunk[t].length}update(t){let{add:e=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=t,s=t.filter;if(e.length==0&&!s)return this;if(r&&(e=e.slice().sort(jk)),this.isEmpty)return e.length?sc.of(e):this;let c=new xV(this,null,-1).goto(0),f=0,d=[],h=new b0;for(;c.value||f<e.length;)if(f<e.length&&(c.from-e[f].from||c.startSide-e[f].value.startSide)>=0){let m=e[f++];h.addInner(m.from,m.to,m.value)||d.push(m)}else c.rangeIndex==1&&c.chunkIndex<this.chunk.length&&(f==e.length||this.chunkEnd(c.chunkIndex)<e[f].from)&&(!s||i>this.chunkEnd(c.chunkIndex)||a<this.chunkPos[c.chunkIndex])&&h.addChunk(this.chunkPos[c.chunkIndex],this.chunk[c.chunkIndex])?c.nextChunk():((!s||i>c.to||a<c.from||s(c.from,c.to,c.value))&&(h.addInner(c.from,c.to,c.value)||d.push(RP.create(c.from,c.to,c.value))),c.next());return h.finishInner(this.nextLayer.isEmpty&&!d.length?sc.empty:this.nextLayer.update({add:d,filter:s,filterFrom:i,filterTo:a}))}map(t){if(t.empty||this.isEmpty)return this;let e=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let c=this.chunkPos[s],f=this.chunk[s],d=t.touchesRange(c,c+f.length);if(d===!1)i=Math.max(i,f.maxPoint),e.push(f),r.push(t.mapPos(c));else if(d===!0){let{mapped:h,pos:m}=f.map(c,t);h&&(i=Math.max(i,h.maxPoint),e.push(h),r.push(m))}}let a=this.nextLayer.map(t);return e.length==0?a:new sc(r,e,a||sc.empty,i)}between(t,e,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],s=this.chunk[i];if(e>=a&&t<=a+s.length&&s.between(a,t-a,e-a,r)===!1)return}this.nextLayer.between(t,e,r)}}iter(t=0){return aD.from([this]).goto(t)}get isEmpty(){return this.nextLayer==this}static iter(t,e=0){return aD.from(t).goto(e)}static compare(t,e,r,i,a=-1){let s=t.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),c=e.filter(m=>m.maxPoint>0||!m.isEmpty&&m.maxPoint>=a),f=J6(s,c,r),d=new Bb(s,f,a),h=new Bb(c,f,a);r.iterGaps((m,y,w)=>Q6(d,m,h,y,w,i)),r.empty&&r.length==0&&Q6(d,0,h,0,0,i)}static eq(t,e,r=0,i){i==null&&(i=999999999);let a=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0),s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0);if(a.length!=s.length)return!1;if(!a.length)return!0;let c=J6(a,s),f=new Bb(a,c,0).goto(r),d=new Bb(s,c,0).goto(r);for(;;){if(f.to!=d.to||!jP(f.active,d.active)||f.point&&(!d.point||!f.point.eq(d.point)))return!1;if(f.to>i)return!0;f.next(),d.next()}}static spans(t,e,r,i,a=-1){let s=new Bb(t,null,a).goto(e),c=e,f=s.openStart;for(;;){let d=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),m=s.pointFrom<e?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,f);i.point(c,d,s.point,h,m,s.pointRank),f=Math.min(s.openEnd(d),h.length)}else d>c&&(i.span(c,d,s.active,f),f=s.openEnd(d));if(s.to>r)return f+(s.point&&s.to>r?1:0);c=s.to,s.next()}}static of(t,e=!1){let r=new b0;for(let i of t instanceof RP?[t]:e?function(s){if(s.length>1)for(let c=s[0],f=1;f<s.length;f++){let d=s[f];if(jk(c,d)>0)return s.slice().sort(jk);c=d}return s}(t):t)r.add(i.from,i.to,i.value);return r.finish()}static join(t){if(!t.length)return sc.empty;let e=t[t.length-1];for(let r=t.length-2;r>=0;r--)for(let i=t[r];i!=sc.empty;i=i.nextLayer)e=new sc(i.chunkPos,i.chunk,e,Math.max(i.maxPoint,e.maxPoint));return e}}sc.empty=new sc([],[],null,-1),sc.empty.nextLayer=sc.empty;class b0{finishChunk(t){this.chunks.push(new gN(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,t&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(t,e,r){this.addInner(t,e,r)||(this.nextLayer||(this.nextLayer=new b0)).add(t,e,r)}addInner(t,e,r){let i=t-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(t-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return!(i<0)&&(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=t),this.from.push(t-this.chunkStart),this.to.push(e-this.chunkStart),this.last=r,this.lastFrom=t,this.lastTo=e,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,e-t)),!0)}addChunk(t,e){if((t-this.lastTo||e.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,e.maxPoint),this.chunks.push(e),this.chunkPos.push(t);let r=e.value.length-1;return this.last=e.value[r],this.lastFrom=e.from[r]+t,this.lastTo=e.to[r]+t,!0}finish(){return this.finishInner(sc.empty)}finishInner(t){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return t;let e=sc.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(t):t,this.setMaxPoint);return this.from=null,e}}function J6(n,t,e){let r=new Map;for(let a of n)for(let s=0;s<a.chunk.length;s++)a.chunk[s].maxPoint<=0&&r.set(a.chunk[s],a.chunkPos[s]);let i=new Set;for(let a of t)for(let s=0;s<a.chunk.length;s++){let c=r.get(a.chunk[s]);c==null||(e?e.mapPos(c):c)!=a.chunkPos[s]||e!=null&&e.touchesRange(c,c+a.chunk[s].length)||i.add(a.chunk[s])}return i}class xV{constructor(t,e,r,i=0){this.layer=t,this.skip=e,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(t,e=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(t,e,!1),this}gotoInner(t,e,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<t||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(t-this.layer.chunkPos[this.chunkIndex],e,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(t,e){(this.to-t||this.endSide-e)<0&&this.gotoInner(t,e,!0)}next(){for(;;){if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}{let t=this.layer.chunkPos[this.chunkIndex],e=this.layer.chunk[this.chunkIndex],r=t+e.from[this.rangeIndex];if(this.from=r,this.to=t+e.to[this.rangeIndex],this.value=e.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}}setRangeIndex(t){if(t==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=t}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(t){return this.from-t.from||this.startSide-t.startSide||this.rank-t.rank||this.to-t.to||this.endSide-t.endSide}}class aD{constructor(t){this.heap=t}static from(t,e=null,r=-1){let i=[];for(let a=0;a<t.length;a++)for(let s=t[a];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new xV(s,e,r,a));return i.length==1?i[0]:new aD(i)}get startSide(){return this.value?this.value.startSide:0}goto(t,e=-1e9){for(let r of this.heap)r.goto(t,e);for(let r=this.heap.length>>1;r>=0;r--)Lk(this.heap,r);return this.next(),this}forward(t,e){for(let r of this.heap)r.forward(t,e);for(let r=this.heap.length>>1;r>=0;r--)Lk(this.heap,r);(this.to-t||this.value.endSide-e)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let t=this.heap[0];this.from=t.from,this.to=t.to,this.value=t.value,this.rank=t.rank,t.value&&t.next(),Lk(this.heap,0)}}}function Lk(n,t){for(let e=n[t];;){let r=1+(t<<1);if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),e.compare(i)<0)break;n[r]=e,n[t]=i,t=r}}class Bb{constructor(t,e,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=aD.from(t,e,r)}goto(t,e=-1e9){return this.cursor.goto(t,e),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=t,this.endSide=e,this.openStart=-1,this.next(),this}forward(t,e){for(;this.minActive>-1&&(this.activeTo[this.minActive]-t||this.active[this.minActive].endSide-e)<0;)this.removeActive(this.minActive);this.cursor.forward(t,e)}removeActive(t){JC(this.active,t),JC(this.activeTo,t),JC(this.activeRank,t),this.minActive=Z6(this.active,this.activeTo)}addActive(t){let e=0,{value:r,to:i,rank:a}=this.cursor;for(;e<this.activeRank.length&&(a-this.activeRank[e]||i-this.activeTo[e])>0;)e++;QC(this.active,e,r),QC(this.activeTo,e,i),QC(this.activeRank,e,a),t&&QC(t,e,this.cursor.from),this.minActive=Z6(this.active,this.activeTo)}next(){let t=this.to,e=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>t){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&JC(r,i)}else{if(!this.cursor.value){this.to=this.endSide=1e9;break}if(this.cursor.from>t){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}{let a=this.cursor.value;if(a.point){if(!(e&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)){this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}this.cursor.next()}else this.addActive(r),this.cursor.next()}}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<t;i--)this.openStart++}}activeForPoint(t){if(!this.active.length)return this.active;let e=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>t||this.activeTo[r]==t&&this.active[r].endSide>=this.point.endSide)&&e.push(this.active[r]);return e.reverse()}openEnd(t){let e=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>t;r--)e++;return e}}function Q6(n,t,e,r,i,a){n.goto(t),e.goto(r);let s=r+i,c=r,f=r-t;for(;;){let d=n.to+f-e.to||n.endSide-e.endSide,h=d<0?n.to+f:e.to,m=Math.min(h,s);if(n.point||e.point?n.point&&e.point&&(n.point==e.point||n.point.eq(e.point))&&jP(n.activeForPoint(n.to),e.activeForPoint(e.to))||a.comparePoint(c,m,n.point,e.point):m>c&&!jP(n.active,e.active)&&a.compareRange(c,m,n.active,e.active),h>s)break;c=h,d<=0&&n.next(),d>=0&&e.next()}}function jP(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!=t[e]&&!n[e].eq(t[e]))return!1;return!0}function JC(n,t){for(let e=t,r=n.length-1;e<r;e++)n[e]=n[e+1];n.pop()}function QC(n,t,e){for(let r=n.length-1;r>=t;r--)n[r+1]=n[r];n[t]=e}function Z6(n,t){let e=-1,r=1e9;for(let i=0;i<t.length;i++)(t[i]-r||n[i].endSide-n[e].endSide)<0&&(e=i,r=t[i]);return e}function mb(n,t,e=n.length){let r=0;for(let i=0;i<e;)n.charCodeAt(i)==9?(r+=t-r%t,i++):(r++,i=Up(n,i));return r}function LP(n,t,e,r){for(let i=0,a=0;;){if(a>=t)return i;if(i==n.length)break;a+=n.charCodeAt(i)==9?e-a%e:1,i=Up(n,i)}return r===!0?-1:n.length}const t9=typeof Symbol>"u"?"__":Symbol.for(""),zP=typeof Symbol>"u"?"__styleSet"+Math.floor(1e8*Math.random()):Symbol("styleSet"),e9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class x0{constructor(t,e){this.rules=[];let{finish:r}=e||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function a(s,c,f,d){let h=[],m=/^@(\w+)\b/.exec(s[0]),y=m&&m[1]=="keyframes";if(m&&c==null)return f.push(s[0]+";");for(let w in c){let C=c[w];if(/&/.test(w))a(w.split(/,\s*/).map(k=>s.map(M=>k.replace(/&/,M))).reduce((k,M)=>k.concat(M)),C,f);else if(C&&typeof C=="object"){if(!m)throw new RangeError("The value of a property ("+w+") should be a primitive value.");a(i(w),C,h,y)}else C!=null&&h.push(w.replace(/_.*/,"").replace(/[A-Z]/g,k=>"-"+k.toLowerCase())+": "+C+";")}(h.length||y)&&f.push((!r||m||d?s:s.map(r)).join(", ")+" {"+h.join(" ")+"}")}for(let s in t)a(i(s),t[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let t=e9[t9]||1;return e9[t9]=t+1,""+t.toString(36)}static mount(t,e,r){let i=t[zP],a=r&&r.nonce;i?a&&i.setNonce(a):i=new Gut(t,a),i.mount(Array.isArray(e)?e:[e],t)}}let n9=new Map;class Gut{constructor(t,e){let r=t.ownerDocument||t,i=r.defaultView;if(!t.head&&t.adoptedStyleSheets&&i.CSSStyleSheet){let a=n9.get(r);if(a)return t[zP]=a;this.sheet=new i.CSSStyleSheet,n9.set(r,this)}else this.styleTag=r.createElement("style"),e&&this.styleTag.setAttribute("nonce",e);this.modules=[],t[zP]=this}mount(t,e){let r=this.sheet,i=0,a=0;for(let s=0;s<t.length;s++){let c=t[s],f=this.modules.indexOf(c);if(f<a&&f>-1&&(this.modules.splice(f,1),a--,f=-1),f==-1){if(this.modules.splice(a++,0,c),r)for(let d=0;d<c.rules.length;d++)r.insertRule(c.rules[d],i++)}else{for(;a<f;)i+=this.modules[a++].rules.length;i+=c.rules.length,a++}}if(r)e.adoptedStyleSheets.indexOf(this.sheet)<0&&(e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets]);else{let s="";for(let f=0;f<this.modules.length;f++)s+=this.modules[f].getRules()+`
`;this.styleTag.textContent=s;let c=e.head||e;this.styleTag.parentNode!=c&&c.insertBefore(this.styleTag,c.firstChild)}}setNonce(t){this.styleTag&&this.styleTag.getAttribute("nonce")!=t&&this.styleTag.setAttribute("nonce",t)}}for(var D0={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},sD={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Yut=typeof navigator<"u"&&/Mac/.test(navigator.platform),Xut=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Pp=0;Pp<10;Pp++)D0[48+Pp]=D0[96+Pp]=String(Pp);for(Pp=1;Pp<=24;Pp++)D0[Pp+111]="F"+Pp;for(Pp=65;Pp<=90;Pp++)D0[Pp]=String.fromCharCode(Pp+32),sD[Pp]=String.fromCharCode(Pp);for(var zk in D0)sD.hasOwnProperty(zk)||(sD[zk]=D0[zk]);function uD(n){let t;return t=n.nodeType==11?n.getSelection?n:n.ownerDocument:n,t.getSelection()}function UP(n,t){return!!t&&(n==t||n.contains(t.nodeType!=1?t.parentNode:t))}function hS(n,t){if(!t.anchorNode)return!1;try{return UP(n,t.anchorNode)}catch{return!1}}function lD(n){return n.nodeType==3?Cy(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function _x(n,t,e,r){return!!e&&(r9(n,t,e,r,-1)||r9(n,t,e,r,1))}function Dy(n){for(var t=0;;t++)if(!(n=n.previousSibling))return t}function N2(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function r9(n,t,e,r,i){for(;;){if(n==e&&t==r)return!0;if(t==(i<0?0:qm(n))){if(n.nodeName=="DIV")return!1;let a=n.parentNode;if(!a||a.nodeType!=1)return!1;t=Dy(n)+(i<0?0:1),n=a}else{if(n.nodeType!=1||(n=n.childNodes[t+(i<0?-1:0)]).nodeType==1&&n.contentEditable=="false")return!1;t=i<0?qm(n):0}}}function qm(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function WE(n,t){let e=t?n.left:n.right;return{left:e,right:e,top:n.top,bottom:n.bottom}}function Jut(n){let t=n.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function DV(n,t){let e=t.width/n.offsetWidth,r=t.height/n.offsetHeight;return(e>.995&&e<1.005||!isFinite(e)||Math.abs(t.width-n.offsetWidth)<1)&&(e=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(t.height-n.offsetHeight)<1)&&(r=1),{scaleX:e,scaleY:r}}class Qut{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(t){return this.anchorNode==t.anchorNode&&this.anchorOffset==t.anchorOffset&&this.focusNode==t.focusNode&&this.focusOffset==t.focusOffset}setRange(t){let{anchorNode:e,focusNode:r}=t;this.set(e,Math.min(t.anchorOffset,e?qm(e):0),r,Math.min(t.focusOffset,r?qm(r):0))}set(t,e,r,i){this.anchorNode=t,this.anchorOffset=e,this.focusNode=r,this.focusOffset=i}}let i9,Vy=null;function CV(n){if(n.setActive)return n.setActive();if(Vy)return n.focus(Vy);let t=[];for(let e=n;e&&(t.push(e,e.scrollTop,e.scrollLeft),e!=e.ownerDocument);e=e.parentNode);if(n.focus(Vy==null?{get preventScroll(){return Vy={preventScroll:!0},!0}}:void 0),!Vy){Vy=!1;for(let e=0;e<t.length;){let r=t[e++],i=t[e++],a=t[e++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}function Cy(n,t,e=t){let r=i9||(i9=document.createRange());return r.setEnd(n,e),r.setStart(n,t),r}function Ow(n,t,e,r){let i={key:t,code:t,keyCode:e,which:e,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,n.dispatchEvent(a);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),a.defaultPrevented||s.defaultPrevented}function _V(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function SV(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function EV(n,t){for(let e=n,r=t;;){if(e.nodeType==3&&r>0)return{node:e,offset:r};if(e.nodeType==1&&r>0){if(e.contentEditable=="false")return null;e=e.childNodes[r-1],r=qm(e)}else{if(!e.parentNode||N2(e))return null;r=Dy(e),e=e.parentNode}}}function AV(n,t){for(let e=n,r=t;;){if(e.nodeType==3&&r<e.nodeValue.length)return{node:e,offset:r};if(e.nodeType==1&&r<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[r],r=0}else{if(!e.parentNode||N2(e))return null;r=Dy(e)+1,e=e.parentNode}}}class sd{constructor(t,e,r=!0){this.node=t,this.offset=e,this.precise=r}static before(t,e){return new sd(t.parentNode,Dy(t),e)}static after(t,e){return new sd(t.parentNode,Dy(t)+1,e)}}const mN=[];class kf{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(t){let e=this.posAtStart;for(let r of this.children){if(r==t)return e;e+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(t){return this.posBefore(t)+t.length}sync(t,e){if(2&this.flags){let r,i=this.dom,a=null;for(let s of this.children){if(7&s.flags){if(!s.dom&&(r=a?a.nextSibling:i.firstChild)){let c=kf.get(r);(!c||!c.parent&&c.canReuseDOM(s))&&s.reuseDOM(r)}s.sync(t,e),s.flags&=-8}if(r=a?a.nextSibling:i.firstChild,e&&!e.written&&e.node==i&&r!=s.dom&&(e.written=!0),s.dom.parentNode==i)for(;r&&r!=s.dom;)r=o9(r);else i.insertBefore(s.dom,r);a=s.dom}for(r=a?a.nextSibling:i.firstChild,r&&e&&e.node==i&&(e.written=!0);r;)r=o9(r)}else if(1&this.flags)for(let r of this.children)7&r.flags&&(r.sync(t,e),r.flags&=-8)}reuseDOM(t){}localPosFromDOM(t,e){let r;if(t==this.dom)r=this.dom.childNodes[e];else{let i=qm(t)==0?0:e==0?-1:1;for(;;){let a=t.parentNode;if(a==this.dom)break;i==0&&a.firstChild!=a.lastChild&&(i=t==a.firstChild?-1:1),t=a}r=i<0?t:t.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!kf.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,a=0;;i++){let s=this.children[i];if(s.dom==r)return a;a+=s.length+s.breakAfter}}domBoundsAround(t,e,r=0){let i=-1,a=-1,s=-1,c=-1;for(let f=0,d=r,h=r;f<this.children.length;f++){let m=this.children[f],y=d+m.length;if(d<t&&y>e)return m.domBoundsAround(t,e,d);if(y>=t&&i==-1&&(i=f,a=d),d>e&&m.dom.parentNode==this.dom){s=f,c=h;break}h=y,d=y+m.breakAfter}return{from:a,to:c<0?r+this.length:c,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(t=!1){this.flags|=2,this.markParentsDirty(t)}markParentsDirty(t){for(let e=this.parent;e;e=e.parent){if(t&&(e.flags|=2),1&e.flags)return;e.flags|=1,t=!1}}setParent(t){this.parent!=t&&(this.parent=t,7&this.flags&&this.markParentsDirty(!0))}setDOM(t){this.dom!=t&&(this.dom&&(this.dom.cmView=null),this.dom=t,t.cmView=this)}get rootView(){for(let t=this;;){let e=t.parent;if(!e)return t;t=e}}replaceChildren(t,e,r=mN){this.markDirty();for(let i=t;i<e;i++){let a=this.children[i];a.parent==this&&r.indexOf(a)<0&&a.destroy()}r.length<250?this.children.splice(t,e-t,...r):this.children=[].concat(this.children.slice(0,t),r,this.children.slice(e));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(t){return!1}ignoreEvent(t){return!1}childCursor(t=this.length){return new kV(this.children,t,this.children.length)}childPos(t,e=1){return this.childCursor().findPos(t,e)}toString(){let t=this.constructor.name.replace("View","");return t+(this.children.length?"("+this.children.join()+")":this.length?"["+(t=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(t){return t.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(t,e,r,i,a,s){return!1}become(t){return!1}canReuseDOM(t){return t.constructor==this.constructor&&!(8&(this.flags|t.flags))}getSide(){return 0}destroy(){for(let t of this.children)t.parent==this&&t.destroy();this.parent=null}}function o9(n){let t=n.nextSibling;return n.parentNode.removeChild(n),t}kf.prototype.breakAfter=0;class kV{constructor(t,e,r){this.children=t,this.pos=e,this.i=r,this.off=0}findPos(t,e=1){for(;;){if(t>this.pos||t==this.pos&&(e>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=t-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function MV(n,t,e,r,i,a,s,c,f){let{children:d}=n,h=d.length?d[t]:null,m=a.length?a[a.length-1]:null,y=m?m.breakAfter:s;if(!(t==r&&h&&!s&&!y&&a.length<2&&h.merge(e,i,a.length?m:null,e==0,c,f))){if(r<d.length){let w=d[r];w&&(i<w.length||w.breakAfter&&(m!=null&&m.breakAfter))?(t==r&&(w=w.split(i),i=0),!y&&m&&w.merge(0,i,m,!0,0,f)?a[a.length-1]=w:((i||w.children.length&&!w.children[0].length)&&w.merge(0,i,null,!1,0,f),a.push(w))):w!=null&&w.breakAfter&&(m?m.breakAfter=1:s=1),r++}for(h&&(h.breakAfter=s,e>0&&(!s&&a.length&&h.merge(e,h.length,a[0],!1,c,0)?h.breakAfter=a.shift().breakAfter:(e<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(e,h.length,null,!1,c,0),t++));t<r&&a.length;)if(d[r-1].become(a[a.length-1]))r--,a.pop(),f=a.length?0:c;else{if(!d[t].become(a[0]))break;t++,a.shift(),c=a.length?0:f}!a.length&&t&&r<d.length&&!d[t-1].breakAfter&&d[r].merge(0,0,d[t-1],!1,c,f)&&t--,(t<r||a.length)&&n.replaceChildren(t,r,a)}}function FV(n,t,e,r,i,a){let s=n.childCursor(),{i:c,off:f}=s.findPos(e,1),{i:d,off:h}=s.findPos(t,-1),m=t-e;for(let y of r)m+=y.length;n.length+=m,MV(n,d,h,c,f,r,0,i,a)}let Nd=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},$P=typeof document<"u"?document:{documentElement:{style:{}}};const WP=/Edge\/(\d+)/.exec(Nd.userAgent),PV=/MSIE \d/.test(Nd.userAgent),HP=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Nd.userAgent),HE=!!(PV||HP||WP),a9=!HE&&/gecko\/(\d+)/i.test(Nd.userAgent),Uk=!HE&&/Chrome\/(\d+)/.exec(Nd.userAgent),s9="webkitFontSmoothing"in $P.documentElement.style,TV=!HE&&/Apple Computer/.test(Nd.vendor),u9=TV&&(/Mobile\/\w+/.test(Nd.userAgent)||Nd.maxTouchPoints>2);var ri={mac:u9||/Mac/.test(Nd.platform),windows:/Win/.test(Nd.platform),linux:/Linux|X11/.test(Nd.platform),ie:HE,ie_version:PV?$P.documentMode||6:HP?+HP[1]:WP?+WP[1]:0,gecko:a9,gecko_version:a9?+(/Firefox\/(\d+)/.exec(Nd.userAgent)||[0,0])[1]:0,chrome:!!Uk,chrome_version:Uk?+Uk[1]:0,ios:u9,android:/Android\b/.test(Nd.userAgent),webkit:s9,safari:TV,webkit_version:s9?+(/\bAppleWebKit\/(\d+)/.exec(Nd.userAgent)||[0,0])[1]:0,tabSize:$P.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};class cm extends kf{constructor(t){super(),this.text=t}get length(){return this.text.length}createDOM(t){this.setDOM(t||document.createTextNode(this.text))}sync(t,e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(t){t.nodeType==3&&this.createDOM(t)}merge(t,e,r){return!(8&this.flags||r&&(!(r instanceof cm)||this.length-(e-t)+r.length>256||8&r.flags))&&(this.text=this.text.slice(0,t)+(r?r.text:"")+this.text.slice(e),this.markDirty(),!0)}split(t){let e=new cm(this.text.slice(t));return this.text=this.text.slice(0,t),this.markDirty(),e.flags|=8&this.flags,e}localPosFromDOM(t,e){return t==this.dom?e:e?this.text.length:0}domAtPos(t){return new sd(this.dom,t)}domBoundsAround(t,e,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(t,e){return function(i,a,s){let c=i.nodeValue.length;a>c&&(a=c);let f=a,d=a,h=0;a==0&&s<0||a==c&&s>=0?ri.chrome||ri.gecko||(a?(f--,h=1):d<c&&(d++,h=-1)):s<0?f--:d<c&&d++;let m=Cy(i,f,d).getClientRects();if(!m.length)return null;let y=m[(h?h<0:s>=0)?0:m.length-1];return ri.safari&&!h&&y.width==0&&(y=Array.prototype.find.call(m,w=>w.width)||y),h?WE(y,h<0):y||null}(this.dom,t,e)}}class bv extends kf{constructor(t,e=[],r=0){super(),this.mark=t,this.children=e,this.length=r;for(let i of e)i.setParent(this)}setAttrs(t){if(_V(t),this.mark.class&&(t.className=this.mark.class),this.mark.attrs)for(let e in this.mark.attrs)t.setAttribute(e,this.mark.attrs[e]);return t}canReuseDOM(t){return super.canReuseDOM(t)&&!(8&(this.flags|t.flags))}reuseDOM(t){t.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(t),this.flags|=6)}sync(t,e){this.dom?4&this.flags&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(t,e)}merge(t,e,r,i,a,s){return(!r||!(!(r instanceof bv&&r.mark.eq(this.mark))||t&&a<=0||e<this.length&&s<=0))&&(FV(this,t,e,r?r.children.slice():[],a-1,s-1),this.markDirty(),!0)}split(t){let e=[],r=0,i=-1,a=0;for(let c of this.children){let f=r+c.length;f>t&&e.push(r<t?c.split(t-r):c),i<0&&r>=t&&(i=a),r=f,a++}let s=this.length-t;return this.length=t,i>-1&&(this.children.length=i,this.markDirty()),new bv(this.mark,e,s)}domAtPos(t){return OV(this,t)}coordsAt(t,e){return IV(this,t,e)}}class Yv extends kf{static create(t,e,r){return new Yv(t,e,r)}constructor(t,e,r){super(),this.widget=t,this.length=e,this.side=r,this.prevWidget=null}split(t){let e=Yv.create(this.widget,this.length-t,this.side);return this.length-=t,e}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(t,e,r,i,a,s){return!(r&&(!(r instanceof Yv&&this.widget.compare(r.widget))||t>0&&a<=0||e<this.length&&s<=0))&&(this.length=t+(r?r.length:0)+(this.length-e),!0)}become(t){return t instanceof Yv&&t.side==this.side&&this.widget.constructor==t.widget.constructor&&(this.widget.compare(t.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get overrideDOMText(){if(this.length==0)return yc.empty;let t=this;for(;t.parent;)t=t.parent;let{view:e}=t,r=e&&e.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):yc.empty}domAtPos(t){return(this.length?t==0:this.side>0)?sd.before(this.dom):sd.after(this.dom,t==this.length)}domBoundsAround(){return null}coordsAt(t,e){let r=this.widget.coordsAt(this.dom,t,e);if(r)return r;let i=this.dom.getClientRects(),a=null;if(!i.length)return null;let s=this.side?this.side<0:t>0;for(let c=s?i.length-1:0;a=i[c],!(t>0?c==0:c==i.length-1||a.top<a.bottom);c+=s?-1:1);return WE(a,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class rb extends kf{constructor(t){super(),this.side=t}get length(){return 0}merge(){return!1}become(t){return t instanceof rb&&t.side==this.side}split(){return new rb(this.side)}sync(){if(!this.dom){let t=document.createElement("img");t.className="cm-widgetBuffer",t.setAttribute("aria-hidden","true"),this.setDOM(t)}}getSide(){return this.side}domAtPos(t){return this.side>0?sd.before(this.dom):sd.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(t){return this.dom.getBoundingClientRect()}get overrideDOMText(){return yc.empty}get isHidden(){return!0}}function OV(n,t){let e=n.dom,{children:r}=n,i=0;for(let a=0;i<r.length;i++){let s=r[i],c=a+s.length;if(!(c==a&&s.getSide()<=0)){if(t>a&&t<c&&s.dom.parentNode==e)return s.domAtPos(t-a);if(t<=a)break;a=c}}for(let a=i;a>0;a--){let s=r[a-1];if(s.dom.parentNode==e)return s.domAtPos(s.length)}for(let a=i;a<r.length;a++){let s=r[a];if(s.dom.parentNode==e)return s.domAtPos(0)}return new sd(e,0)}function NV(n,t,e){let r,{children:i}=n;e>0&&t instanceof bv&&i.length&&(r=i[i.length-1])instanceof bv&&r.mark.eq(t.mark)?NV(r,t.children[0],e-1):(i.push(t),t.setParent(n)),n.length+=t.length}function IV(n,t,e){let r=null,i=-1,a=null,s=-1;(function f(d,h){for(let m=0,y=0;m<d.children.length&&y<=h;m++){let w=d.children[m],C=y+w.length;C>=h&&(w.children.length?f(w,h-y):(!a||a.isHidden&&e>0)&&(C>h||y==C&&w.getSide()>0)?(a=w,s=h-y):(y<h||y==C&&w.getSide()<0&&!w.isHidden)&&(r=w,i=h-y)),y=C}})(n,t);let c=(e<0?r:a)||r||a;return c?c.coordsAt(Math.max(0,c==r?i:s),e):function(d){let h=d.dom.lastChild;if(!h)return d.dom.getBoundingClientRect();let m=lD(h);return m[m.length-1]||null}(n)}function VP(n,t){for(let e in n)e=="class"&&t.class?t.class+=" "+n.class:e=="style"&&t.style?t.style+=";"+n.style:t[e]=n[e];return t}cm.prototype.children=Yv.prototype.children=rb.prototype.children=mN;const l9=Object.create(null);function I2(n,t,e){if(n==t)return!0;n||(n=l9),t||(t=l9);let r=Object.keys(n),i=Object.keys(t);if(r.length-(e&&r.indexOf(e)>-1?1:0)!=i.length-(e&&i.indexOf(e)>-1?1:0))return!1;for(let a of r)if(a!=e&&(i.indexOf(a)==-1||n[a]!==t[a]))return!1;return!0}function qP(n,t,e){let r=!1;if(t)for(let i in t)e&&i in e||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(e)for(let i in e)t&&t[i]==e[i]||(r=!0,i=="style"?n.style.cssText=e[i]:n.setAttribute(i,e[i]));return r}function Zut(n){let t=Object.create(null);for(let e=0;e<n.attributes.length;e++){let r=n.attributes[e];t[r.name]=r.value}return t}class k0{eq(t){return!1}updateDOM(t,e){return!1}compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(t){return!0}coordsAt(t,e,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(t){}}var wd=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(wd||(wd={}));class wa extends Z0{constructor(t,e,r,i){super(),this.startSide=t,this.endSide=e,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(t){return new jD(t)}static widget(t){let e=Math.max(-1e4,Math.min(1e4,t.side||0)),r=!!t.block;return e+=r&&!t.inlineOrder?e>0?3e8:-4e8:e>0?1e8:-1e8,new C0(t,e,e,r,t.widget||null,!1)}static replace(t){let e,r,i=!!t.block;if(t.isBlockGap)e=-5e8,r=4e8;else{let{start:a,end:s}=BV(t,i);e=(a?i?-3e8:-1:5e8)-1,r=1+(s?i?2e8:1:-6e8)}return new C0(t,e,r,i,t.widget||null,!0)}static line(t){return new cD(t)}static set(t,e=!1){return sc.of(t,e)}hasHeight(){return!!this.widget&&this.widget.estimatedHeight>-1}}wa.none=sc.empty;class jD extends wa{constructor(t){let{start:e,end:r}=BV(t);super(e?-1:5e8,r?1:-6e8,null,t),this.tagName=t.tagName||"span",this.class=t.class||"",this.attrs=t.attributes||null}eq(t){var e,r;return this==t||t instanceof jD&&this.tagName==t.tagName&&(this.class||((e=this.attrs)===null||e===void 0?void 0:e.class))==(t.class||((r=t.attrs)===null||r===void 0?void 0:r.class))&&I2(this.attrs,t.attrs,"class")}range(t,e=t){if(t>=e)throw new RangeError("Mark decorations may not be empty");return super.range(t,e)}}jD.prototype.point=!1;class cD extends wa{constructor(t){super(-2e8,-2e8,null,t)}eq(t){return t instanceof cD&&this.spec.class==t.spec.class&&I2(this.spec.attributes,t.spec.attributes)}range(t,e=t){if(e!=t)throw new RangeError("Line decoration ranges must be zero-length");return super.range(t,e)}}cD.prototype.mapMode=vd.TrackBefore,cD.prototype.point=!0;class C0 extends wa{constructor(t,e,r,i,a,s){super(e,r,a,t),this.block=i,this.isReplace=s,this.mapMode=i?e<=0?vd.TrackBefore:vd.TrackAfter:vd.TrackDel}get type(){return this.startSide!=this.endSide?wd.WidgetRange:this.startSide<=0?wd.WidgetBefore:wd.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(t){return t instanceof C0&&function(r,i){return r==i||!!(r&&i&&r.compare(i))}(this.widget,t.widget)&&this.block==t.block&&this.startSide==t.startSide&&this.endSide==t.endSide}range(t,e=t){if(this.isReplace&&(t>e||t==e&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&e!=t)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(t,e)}}function BV(n,t=!1){let{inclusiveStart:e,inclusiveEnd:r}=n;return e==null&&(e=n.inclusive),r==null&&(r=n.inclusive),{start:e??t,end:r??t}}function KP(n,t,e,r=0){let i=e.length-1;i>=0&&e[i]+r>=n?e[i]=Math.max(e[i],t):e.push(n,t)}C0.prototype.point=!0;class Yh extends kf{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(t,e,r,i,a,s){if(r){if(!(r instanceof Yh))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),FV(this,t,e,r?r.children.slice():[],a,s),!0}split(t){let e=new Yh;if(e.breakAfter=this.breakAfter,this.length==0)return e;let{i:r,off:i}=this.childPos(t);i&&(e.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let a=r;a<this.children.length;a++)e.append(this.children[a],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=t,e}transferDOM(t){this.dom&&(this.markDirty(),t.setDOM(this.dom),t.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(t){I2(this.attrs,t)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=t)}append(t,e){NV(this,t,e)}addLineDeco(t){let e=t.spec.attributes,r=t.spec.class;e&&(this.attrs=VP(e,this.attrs||{})),r&&(this.attrs=VP({class:r},this.attrs||{}))}domAtPos(t){return OV(this,t)}reuseDOM(t){t.nodeName=="DIV"&&(this.setDOM(t),this.flags|=6)}sync(t,e){var r;this.dom?4&this.flags&&(_V(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(qP(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(t,e);let i=this.dom.lastChild;for(;i&&kf.get(i)instanceof bv;)i=i.lastChild;if(!(i&&this.length&&(i.nodeName=="BR"||((r=kf.get(i))===null||r===void 0?void 0:r.isEditable)!=0||ri.ios&&this.children.some(a=>a instanceof cm)))){let a=document.createElement("BR");a.cmIgnore=!0,this.dom.appendChild(a)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let t,e=0;for(let r of this.children){if(!(r instanceof cm)||/[^ -~]/.test(r.text))return null;let i=lD(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(t,e){let r=IV(this,t,e);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,a=r.bottom-r.top;if(Math.abs(a-i.lineHeight)<2&&i.textHeight<a){let s=(a-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(t){return t instanceof Yh&&this.children.length==0&&t.children.length==0&&I2(this.attrs,t.attrs)&&this.breakAfter==t.breakAfter}covers(){return!0}static find(t,e){for(let r=0,i=0;r<t.children.length;r++){let a=t.children[r],s=i+a.length;if(s>=e){if(a instanceof Yh)return a;if(s>e)break}i=s+a.breakAfter}return null}}class yv extends kf{constructor(t,e,r){super(),this.widget=t,this.length=e,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(t,e,r,i,a,s){return!(r&&(!(r instanceof yv&&this.widget.compare(r.widget))||t>0&&a<=0||e<this.length&&s<=0))&&(this.length=t+(r?r.length:0)+(this.length-e),!0)}domAtPos(t){return t==0?sd.before(this.dom):sd.after(this.dom,t==this.length)}split(t){let e=this.length-t;this.length=t;let r=new yv(this.widget,e,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return mN}sync(t){this.dom&&this.widget.updateDOM(this.dom,t)||(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(t)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):yc.empty}domBoundsAround(){return null}become(t){return t instanceof yv&&t.widget.constructor==this.widget.constructor&&(t.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=t.widget,this.length=t.length,this.deco=t.deco,this.breakAfter=t.breakAfter,!0)}ignoreMutation(){return!0}ignoreEvent(t){return this.widget.ignoreEvent(t)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(t,e){return this.widget.coordsAt(this.dom,t,e)||(this.widget instanceof GP?null:WE(this.dom.getBoundingClientRect(),this.length?t==0:e<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(t){let{startSide:e,endSide:r}=this.deco;return e!=r&&(t<0?e<0:r>0)}}class GP extends k0{constructor(t){super(),this.height=t}toDOM(){let t=document.createElement("div");return t.className="cm-gap",this.updateDOM(t),t}eq(t){return t.height==this.height}updateDOM(t){return t.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Sx{constructor(t,e,r,i){this.doc=t,this.pos=e,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=t.iter(),this.skip=e}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let t=this.content[this.content.length-1];return!(t.breakAfter||t instanceof yv&&t.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Yh),this.atCursorPos=!0),this.curLine}flushBuffer(t=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(ZC(new rb(-1),t),t.length),this.pendingBuffer=0)}addBlockWidget(t){this.flushBuffer(),this.curLine=null,this.content.push(t)}finish(t){this.pendingBuffer&&t<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,this.posCovered()||t&&this.content.length&&this.content[this.content.length-1]instanceof yv||this.getLine()}buildText(t,e,r){for(;t>0;){if(this.textOff==this.text.length){let{value:a,lineBreak:s,done:c}=this.cursor.next(this.skip);if(this.skip=0,c)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,t--;continue}this.text=a,this.textOff=0}let i=Math.min(this.text.length-this.textOff,t,512);this.flushBuffer(e.slice(e.length-r)),this.getLine().append(ZC(new cm(this.text.slice(this.textOff,this.textOff+i)),e),r),this.atCursorPos=!0,this.textOff+=i,t-=i,r=0}}span(t,e,r,i){this.buildText(e-t,r,i),this.pos=e,this.openStart<0&&(this.openStart=i)}point(t,e,r,i,a,s){if(this.disallowBlockEffectsFor[s]&&r instanceof C0){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(e>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let c=e-t;if(r instanceof C0)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new yv(r.widget||vw.block,c,r));else{let f=Yv.create(r.widget||vw.inline,c,c?0:r.startSide),d=this.atCursorPos&&!f.isEditable&&a<=i.length&&(t<e||r.startSide>0),h=!f.isEditable&&(t<e||a>i.length||r.startSide<=0),m=this.getLine();this.pendingBuffer!=2||d||f.isEditable||(this.pendingBuffer=0),this.flushBuffer(i),d&&(m.append(ZC(new rb(1),i),a),a=i.length+Math.max(0,a-i.length)),m.append(ZC(f,i),a),this.atCursorPos=h,this.pendingBuffer=h?t<e||a>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);c&&(this.textOff+c<=this.text.length?this.textOff+=c:(this.skip+=c-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=e),this.openStart<0&&(this.openStart=a)}static build(t,e,r,i,a){let s=new Sx(t,e,r,a);return s.openEnd=sc.spans(i,e,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function ZC(n,t){for(let e of t)n=new bv(e,[n],n.length);return n}class vw extends k0{constructor(t){super(),this.tag=t}eq(t){return t.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(t){return t.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}vw.inline=new vw("span"),vw.block=new vw("div");var sh=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(sh||(sh={}));const _y=sh.LTR,vN=sh.RTL;function RV(n){let t=[];for(let e=0;e<n.length;e++)t.push(1<<+n[e]);return t}const tlt=RV("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),elt=RV("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),YP=Object.create(null),vm=[];for(let n of["()","[]","{}"]){let t=n.charCodeAt(0),e=n.charCodeAt(1);YP[t]=e,YP[e]=-t}function jV(n){return n<=247?tlt[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?elt[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const nlt=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Xv{get dir(){return this.level%2?vN:_y}constructor(t,e,r){this.from=t,this.to=e,this.level=r}side(t,e){return this.dir==e==t?this.to:this.from}forward(t,e){return t==(this.dir==e)}static find(t,e,r,i){let a=-1;for(let s=0;s<t.length;s++){let c=t[s];if(c.from<=e&&c.to>=e){if(c.level==r)return s;(a<0||(i!=0?i<0?c.from<e:c.to>e:t[a].level>c.level))&&(a=s)}}if(a<0)throw new RangeError("Index out of range");return a}}function LV(n,t){if(n.length!=t.length)return!1;for(let e=0;e<n.length;e++){let r=n[e],i=t[e];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!LV(r.inner,i.inner))return!1}return!0}const Ef=[];function XP(n,t,e,r,i,a,s){let c=r%2?2:1;if(r%2==i%2)for(let f=t,d=0;f<e;){let h=!0,m=!1;if(d==a.length||f<a[d].from){let k=Ef[f];k!=c&&(h=!1,m=k==16)}let y=h||c!=1?null:[],w=h?r:r+1,C=f;t:for(;;)if(d<a.length&&C==a[d].from){if(m)break t;let k=a[d];if(!h)for(let M=k.to,N=d+1;;){if(M==e)break t;if(!(N<a.length&&a[N].from==M)){if(Ef[M]==c)break t;break}M=a[N++].to}d++,y?y.push(k):(k.from>f&&s.push(new Xv(f,k.from,w)),JP(n,k.direction==_y!=!(w%2)?r+1:r,i,k.inner,k.from,k.to,s),f=k.to),C=k.to}else{if(C==e||(h?Ef[C]!=c:Ef[C]==c))break;C++}y?XP(n,f,C,r+1,i,y,s):f<C&&s.push(new Xv(f,C,w)),f=C}else for(let f=e,d=a.length;f>t;){let h=!0,m=!1;if(!d||f>a[d-1].to){let k=Ef[f-1];k!=c&&(h=!1,m=k==16)}let y=h||c!=1?null:[],w=h?r:r+1,C=f;t:for(;;)if(d&&C==a[d-1].to){if(m)break t;let k=a[--d];if(!h)for(let M=k.from,N=d;;){if(M==t)break t;if(!N||a[N-1].to!=M){if(Ef[M-1]==c)break t;break}M=a[--N].from}y?y.push(k):(k.to<f&&s.push(new Xv(k.to,f,w)),JP(n,k.direction==_y!=!(w%2)?r+1:r,i,k.inner,k.from,k.to,s),f=k.from),C=k.from}else{if(C==t||(h?Ef[C-1]!=c:Ef[C-1]==c))break;C--}y?XP(n,C,f,r+1,i,y,s):C<f&&s.push(new Xv(C,f,w)),f=C}}function JP(n,t,e,r,i,a,s){let c=t%2?2:1;(function(d,h,m,y,w){for(let C=0;C<=y.length;C++){let k=C?y[C-1].to:h,M=C<y.length?y[C].from:m,N=C?256:w;for(let B=k,L=N,z=N;B<M;B++){let q=jV(d.charCodeAt(B));q==512?q=L:q==8&&z==4&&(q=16),Ef[B]=q==4?2:q,7&q&&(z=q),L=q}for(let B=k,L=N,z=N;B<M;B++){let q=Ef[B];if(q==128)B<M-1&&L==Ef[B+1]&&24&L?q=Ef[B]=L:Ef[B]=256;else if(q==64){let V=B+1;for(;V<M&&Ef[V]==64;)V++;let X=B&&L==8||V<m&&Ef[V]==8?z==1?1:8:256;for(let nt=B;nt<V;nt++)Ef[nt]=X;B=V-1}else q==8&&z==1&&(Ef[B]=1);L=q,7&q&&(z=q)}}})(n,i,a,r,c),function(d,h,m,y,w){let C=w==1?2:1;for(let k=0,M=0,N=0;k<=y.length;k++){let B=k?y[k-1].to:h,L=k<y.length?y[k].from:m;for(let z,q,V,X=B;X<L;X++)if(q=YP[z=d.charCodeAt(X)])if(q<0){for(let nt=M-3;nt>=0;nt-=3)if(vm[nt+1]==-q){let it=vm[nt+2],ct=2&it?w:4&it?1&it?C:w:0;ct&&(Ef[X]=Ef[vm[nt]]=ct),M=nt;break}}else{if(vm.length==189)break;vm[M++]=X,vm[M++]=z,vm[M++]=N}else if((V=Ef[X])==2||V==1){let nt=V==w;N=nt?0:1;for(let it=M-3;it>=0;it-=3){let ct=vm[it+2];if(2&ct)break;if(nt)vm[it+2]|=2;else{if(4&ct)break;vm[it+2]|=4}}}}}(n,i,a,r,c),function(d,h,m,y){for(let w=0,C=y;w<=m.length;w++){let k=w?m[w-1].to:d,M=w<m.length?m[w].from:h;for(let N=k;N<M;){let B=Ef[N];if(B==256){let L=N+1;for(;;)if(L==M){if(w==m.length)break;L=m[w++].to,M=w<m.length?m[w].from:h}else{if(Ef[L]!=256)break;L++}let z=C==1,q=z==((L<h?Ef[L]:y)==1)?z?1:2:y;for(let V=L,X=w,nt=X?m[X-1].to:d;V>N;)V==nt&&(V=m[--X].from,nt=X?m[X-1].to:d),Ef[--V]=q;N=L}else C=B,N++}}}(i,a,r,c),XP(n,i,a,t,e,r,s)}function c9(n){return[new Xv(0,n,0)]}let zV="";function rlt(n,t,e,r,i){var a;let s=r.head-n.from,c=Xv.find(t,s,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),f=t[c],d=f.side(i,e);if(s==d){let y=c+=i?1:-1;if(y<0||y>=t.length)return null;f=t[c=y],s=f.side(!i,e),d=f.side(i,e)}let h=Up(n.text,s,f.forward(i,e));(h<f.from||h>f.to)&&(h=d),zV=n.text.slice(Math.min(s,h),Math.max(s,h));let m=c==(i?t.length-1:0)?null:t[c+(i?1:-1)];return m&&h==d&&m.level+(i?0:1)<f.level?un.cursor(m.side(!i,e)+n.from,m.forward(i,e)?1:-1,m.level):un.cursor(h+n.from,f.forward(i,e)?-1:1,f.level)}function ilt(n,t,e){for(let r=t;r<e;r++){let i=jV(n.charCodeAt(r));if(i==1)return _y;if(i==2||i==4)return vN}return _y}const UV=Yr.define(),$V=Yr.define(),WV=Yr.define(),HV=Yr.define(),QP=Yr.define(),VV=Yr.define(),qV=Yr.define(),yN=Yr.define(),wN=Yr.define(),KV=Yr.define({combine:n=>n.some(t=>t)}),GV=Yr.define({combine:n=>n.some(t=>t)}),YV=Yr.define();class Nw{constructor(t,e="nearest",r="nearest",i=5,a=5,s=!1){this.range=t,this.y=e,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=s}map(t){return t.empty?this:new Nw(this.range.map(t),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(t){return this.range.to<=t.doc.length?this:new Nw(un.cursor(t.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const t_=qs.define({map:(n,t)=>n.map(t)}),XV=qs.define();function Ld(n,t,e){let r=n.facet(HV);r.length?r[0](t):window.onerror?window.onerror(String(t),e,void 0,void 0,t):e?console.error(e+":",t):console.error(t)}const Uv=Yr.define({combine:n=>!n.length||n[0]});let olt=0;const nx=Yr.define();class Zh{constructor(t,e,r,i,a){this.id=t,this.create=e,this.domEventHandlers=r,this.domEventObservers=i,this.extension=a(this)}static define(t,e){const{eventHandlers:r,eventObservers:i,provide:a,decorations:s}=e||{};return new Zh(olt++,t,r,i,c=>{let f=[nx.of(c)];return s&&f.push(fD.of(d=>{let h=d.plugin(c);return h?s(h):wa.none})),a&&f.push(a(c)),f})}static fromClass(t,e){return Zh.define(r=>new t(r),e)}}class $k{constructor(t){this.spec=t,this.mustUpdate=null,this.value=null}update(t){if(this.value){if(this.mustUpdate){let e=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(e)}catch(r){if(Ld(e.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(t)}catch(e){Ld(t.state,e,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(t){var e;if(!((e=this.value)===null||e===void 0)&&e.destroy)try{this.value.destroy()}catch(r){Ld(t.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const JV=Yr.define(),bN=Yr.define(),fD=Yr.define(),QV=Yr.define(),xN=Yr.define(),ZV=Yr.define();function f9(n,t){let e=n.state.facet(ZV);if(!e.length)return e;let r=e.map(a=>a instanceof Function?a(n):a),i=[];return sc.spans(r,t.from,t.to,{point(){},span(a,s,c,f){let d=a-t.from,h=s-t.from,m=i;for(let y=c.length-1;y>=0;y--,f--){let w,C=c[y].spec.bidiIsolate;if(C==null&&(C=ilt(t.text,d,h)),f>0&&m.length&&(w=m[m.length-1]).to==d&&w.direction==C)w.to=h,m=w.inner;else{let k={from:d,to:h,direction:C,inner:[]};m.push(k),m=k.inner}}}}),i}const tq=Yr.define();function eq(n){let t=0,e=0,r=0,i=0;for(let a of n.state.facet(tq)){let s=a(n);s&&(s.left!=null&&(t=Math.max(t,s.left)),s.right!=null&&(e=Math.max(e,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:t,right:e,top:r,bottom:i}}const rx=Yr.define();class Ag{constructor(t,e,r,i){this.fromA=t,this.toA=e,this.fromB=r,this.toB=i}join(t){return new Ag(Math.min(this.fromA,t.fromA),Math.max(this.toA,t.toA),Math.min(this.fromB,t.fromB),Math.max(this.toB,t.toB))}addToSet(t){let e=t.length,r=this;for(;e>0;e--){let i=t[e-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),t.splice(e-1,1)}}return t.splice(e,0,r),t}static extendWithRanges(t,e){if(e.length==0)return t;let r=[];for(let i=0,a=0,s=0,c=0;;i++){let f=i==t.length?null:t[i],d=s-c,h=f?f.fromB:1e9;for(;a<e.length&&e[a]<h;){let m=e[a],y=e[a+1],w=Math.max(c,m),C=Math.min(h,y);if(w<=C&&new Ag(w+d,C+d,w,C).addToSet(r),y>h)break;a+=2}if(!f)return r;new Ag(f.fromA,f.toA,f.fromB,f.toB).addToSet(r),s=f.toA,c=f.toB}}}class B2{constructor(t,e,r){this.view=t,this.state=e,this.transactions=r,this.flags=0,this.startState=t.state,this.changes=ap.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,s,c,f)=>i.push(new Ag(a,s,c,f))),this.changedRanges=i}static create(t,e,r){return new B2(t,e,r)}get viewportChanged(){return(4&this.flags)>0}get heightChanged(){return(2&this.flags)>0}get geometryChanged(){return this.docChanged||(10&this.flags)>0}get focusChanged(){return(1&this.flags)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(t=>t.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class h9 extends kf{get length(){return this.view.state.doc.length}constructor(t){super(),this.view=t,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=wa.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(t.contentDOM),this.children=[new Yh],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Ag(0,0,0,t.state.doc.length)],0,null)}update(t){var e;let r=t.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:f})=>f<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=t.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=t.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(t);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((e=this.domChanged)===null||e===void 0)&&e.newSel?i=this.domChanged.newSel.head:function(f,d){let h=!1;return d&&f.iterChangedRanges((m,y)=>{m<d.to&&y>d.from&&(h=!0)}),h}(t.changes,this.hasComposition)||t.selectionSet||(i=t.state.selection.main.head));let a=i>-1?function(f,d,h){let m=nq(f,h);if(!m)return null;let{node:y,from:w,to:C}=m,k=y.nodeValue;if(/[\n\r]/.test(k)||f.state.doc.sliceString(m.from,m.to)!=k)return null;let M=d.invertedDesc,N=new Ag(M.mapPos(w),M.mapPos(C),w,C),B=[];for(let L=y.parentNode;;L=L.parentNode){let z=kf.get(L);if(z instanceof bv)B.push({node:L,deco:z.mark});else{if(z instanceof Yh||L.nodeName=="DIV"&&L.parentNode==f.contentDOM)return{range:N,text:y,marks:B,line:L};if(L==f.contentDOM)return null;B.push({node:L,deco:new jD({inclusive:!0,attributes:Zut(L),tagName:L.tagName.toLowerCase()})})}}}(this.view,t.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:f}=this.hasComposition;r=new Ag(c,f,t.changes.mapPos(c,-1),t.changes.mapPos(f,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ri.ie||ri.chrome)&&!a&&t&&t.state.doc.lines!=t.startState.doc.lines&&(this.forceSelection=!0);let s=function(f,d,h){let m=new alt;return sc.compare(f,d,h,m),m.changes}(this.decorations,this.updateDeco(),t.changes);return r=Ag.extendWithRanges(r,s),!!(7&this.flags||r.length!=0)&&(this.updateInner(r,t.startState.doc.length,a),t.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(t,e,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(t,e,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=ri.chrome||ri.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let a=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof yv&&s.widget instanceof GP&&a.push(s.dom);i.updateGaps(a)}updateChildren(t,e,r){let i=r?r.range.addToSet(t.slice()):t,a=this.childCursor(e);for(let s=i.length-1;;s--){let c=s>=0?i[s]:null;if(!c)break;let f,d,h,m,{fromA:y,toA:w,fromB:C,toB:k}=c;if(r&&r.range.fromB<k&&r.range.toB>C){let z=Sx.build(this.view.state.doc,C,r.range.fromB,this.decorations,this.dynamicDecorationMap),q=Sx.build(this.view.state.doc,r.range.toB,k,this.decorations,this.dynamicDecorationMap);d=z.breakAtStart,h=z.openStart,m=q.openEnd;let V=this.compositionView(r);q.breakAtStart?V.breakAfter=1:q.content.length&&V.merge(V.length,V.length,q.content[0],!1,q.openStart,0)&&(V.breakAfter=q.content[0].breakAfter,q.content.shift()),z.content.length&&V.merge(0,0,z.content[z.content.length-1],!0,0,z.openEnd)&&z.content.pop(),f=z.content.concat(V).concat(q.content)}else({content:f,breakAtStart:d,openStart:h,openEnd:m}=Sx.build(this.view.state.doc,C,k,this.decorations,this.dynamicDecorationMap));let{i:M,off:N}=a.findPos(w,1),{i:B,off:L}=a.findPos(y,-1);MV(this,B,L,M,N,f,d,h,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(t){this.editContextFormatting=this.editContextFormatting.map(t.changes);for(let e of t.transactions)for(let r of e.effects)r.is(XV)&&(this.editContextFormatting=r.value)}compositionView(t){let e=new cm(t.text.nodeValue);e.flags|=8;for(let{deco:i}of t.marks)e=new bv(i,[e],e.length);let r=new Yh;return r.append(e,0),r}fixCompositionDOM(t){let e=(a,s)=>{s.flags|=8|(s.children.some(f=>7&f.flags)?1:0),this.markedForComposition.add(s);let c=kf.get(a);c&&c!=s&&(c.dom=null),s.setDOM(a)},r=this.childPos(t.range.fromB,1),i=this.children[r.i];e(t.line,i);for(let a=t.marks.length-1;a>=-1;a--)r=i.childPos(r.off,1),i=i.children[r.i],e(a>=0?t.marks[a].node:t.text,i)}updateSelection(t=!1,e=!1){!t&&this.view.observer.selectionRange.focusNode||this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,a=!i&&hS(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||e||a))return;let s=this.forceSelection;this.forceSelection=!1;let c=this.view.state.selection.main,f=this.moveToLine(this.domAtPos(c.anchor)),d=c.empty?f:this.moveToLine(this.domAtPos(c.head));if(ri.gecko&&c.empty&&!this.hasComposition&&function(y){return y.node.nodeType==1&&y.node.firstChild&&(y.offset==0||y.node.childNodes[y.offset-1].contentEditable=="false")&&(y.offset==y.node.childNodes.length||y.node.childNodes[y.offset].contentEditable=="false")}(f)){let m=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(m,f.node.childNodes[f.offset]||null)),f=d=new sd(m,0),s=!0}let h=this.view.observer.selectionRange;!s&&h.focusNode&&(_x(f.node,f.offset,h.anchorNode,h.anchorOffset)&&_x(d.node,d.offset,h.focusNode,h.focusOffset)||this.suppressWidgetCursorChange(h,c))||(this.view.observer.ignore(()=>{ri.android&&ri.chrome&&this.dom.contains(h.focusNode)&&function(w,C){for(let k=w;k&&k!=C;k=k.assignedSlot||k.parentNode)if(k.nodeType==1&&k.contentEditable=="false")return!0;return!1}(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let m=uD(this.view.root);if(m)if(c.empty){if(ri.gecko){let y=function(C,k){return C.nodeType!=1?0:(k&&C.childNodes[k-1].contentEditable=="false"?1:0)|(k<C.childNodes.length&&C.childNodes[k].contentEditable=="false"?2:0)}(f.node,f.offset);if(y&&y!=3){let w=(y==1?EV:AV)(f.node,f.offset);w&&(f=new sd(w.node,w.offset))}}m.collapse(f.node,f.offset),c.bidiLevel!=null&&m.caretBidiLevel!==void 0&&(m.caretBidiLevel=c.bidiLevel)}else if(m.extend){m.collapse(f.node,f.offset);try{m.extend(d.node,d.offset)}catch{}}else{let y=document.createRange();c.anchor>c.head&&([f,d]=[d,f]),y.setEnd(d.node,d.offset),y.setStart(f.node,f.offset),m.removeAllRanges(),m.addRange(y)}a&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(f,d)),this.impreciseAnchor=f.precise?null:new sd(h.anchorNode,h.anchorOffset),this.impreciseHead=d.precise?null:new sd(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(t,e){return this.hasComposition&&e.empty&&_x(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)&&this.posFromDOM(t.focusNode,t.focusOffset)==e.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:t}=this,e=t.state.selection.main,r=uD(t.root),{anchorNode:i,anchorOffset:a}=t.observer.selectionRange;if(!(r&&e.empty&&e.assoc&&r.modify))return;let s=Yh.find(this,e.head);if(!s)return;let c=s.posAtStart;if(e.head==c||e.head==c+s.length)return;let f=this.coordsAt(e.head,-1),d=this.coordsAt(e.head,1);if(!f||!d||f.bottom>d.top)return;let h=this.domAtPos(e.head+e.assoc);r.collapse(h.node,h.offset),r.modify("move",e.assoc<0?"forward":"backward","lineboundary"),t.observer.readSelectionRange();let m=t.observer.selectionRange;t.docView.posFromDOM(m.anchorNode,m.anchorOffset)!=e.from&&r.collapse(i,a)}moveToLine(t){let e,r=this.dom;if(t.node!=r)return t;for(let i=t.offset;!e&&i<r.childNodes.length;i++){let a=kf.get(r.childNodes[i]);a instanceof Yh&&(e=a.domAtPos(0))}for(let i=t.offset-1;!e&&i>=0;i--){let a=kf.get(r.childNodes[i]);a instanceof Yh&&(e=a.domAtPos(a.length))}return e?new sd(e.node,e.offset,!0):t}nearest(t){for(let e=t;e;){let r=kf.get(e);if(r&&r.rootView==this)return r;e=e.parentNode}return null}posFromDOM(t,e){let r=this.nearest(t);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(t,e)+r.posAtStart}domAtPos(t){let{i:e,off:r}=this.childCursor().findPos(t,-1);for(;e<this.children.length-1;){let i=this.children[e];if(r<i.length||i instanceof Yh)break;e++,r=0}return this.children[e].domAtPos(r)}coordsAt(t,e){let r=null,i=0;for(let a=this.length,s=this.children.length-1;s>=0;s--){let c=this.children[s],f=a-c.breakAfter,d=f-c.length;if(f<t)break;if(d<=t&&(d<t||c.covers(-1))&&(f>t||c.covers(1))&&(!r||c instanceof Yh&&!(r instanceof Yh&&e>=0)))r=c,i=d;else if(r&&d==t&&f==t&&c instanceof yv&&Math.abs(e)<2){if(c.deco.startSide<0)break;s&&(r=null)}a=d}return r?r.coordsAt(t-i,e):null}coordsForChar(t){let{i:e,off:r}=this.childPos(t,1),i=this.children[e];if(!(i instanceof Yh))return null;for(;i.children.length;){let{i:c,off:f}=i.childPos(r,1);for(;;c++){if(c==i.children.length)return null;if((i=i.children[c]).length)break}r=f}if(!(i instanceof cm))return null;let a=Up(i.text,r);if(a==r)return null;let s=Cy(i.dom,r,a).getClientRects();for(let c=0;c<s.length;c++){let f=s[c];if(c==s.length-1||f.top<f.bottom&&f.left<f.right)return f}return null}measureVisibleLineHeights(t){let e=[],{from:r,to:i}=t,a=this.view.contentDOM.clientWidth,s=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,c=-1,f=this.view.textDirection==sh.LTR;for(let d=0,h=0;h<this.children.length;h++){let m=this.children[h],y=d+m.length;if(y>i)break;if(d>=r){let w=m.dom.getBoundingClientRect();if(e.push(w.height),s){let C=m.dom.lastChild,k=C?lD(C):[];if(k.length){let M=k[k.length-1],N=f?M.right-w.left:w.right-M.left;N>c&&(c=N,this.minWidth=a,this.minWidthFrom=d,this.minWidthTo=y)}}}d=y+m.breakAfter}return e}textDirectionAt(t){let{i:e}=this.childPos(t,1);return getComputedStyle(this.children[e].dom).direction=="rtl"?sh.RTL:sh.LTR}measureTextSize(){for(let a of this.children)if(a instanceof Yh){let s=a.measureTextSize();if(s)return s}let t,e,r,i=document.createElement("div");return i.className="cm-line",i.style.width="99999px",i.style.position="absolute",i.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(i);let a=lD(i.firstChild)[0];t=i.getBoundingClientRect().height,e=a?a.width/27:7,r=a?a.height:t,i.remove()}),{lineHeight:t,charWidth:e,textHeight:r}}childCursor(t=this.length){let e=this.children.length;return e&&(t-=this.children[--e].length),new kV(this.children,t,e)}computeBlockGapDeco(){let t=[],e=this.view.viewState;for(let r=0,i=0;;i++){let a=i==e.viewports.length?null:e.viewports[i],s=a?a.from-1:this.length;if(s>r){let c=(e.lineBlockAt(s).bottom-e.lineBlockAt(r).top)/this.view.scaleY;t.push(wa.replace({widget:new GP(c),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!a)break;r=a.to+1}return wa.set(t)}updateDeco(){let t=1,e=this.view.state.facet(fD).map(a=>(this.dynamicDecorationMap[t++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(QV).map((a,s)=>{let c=typeof a=="function";return c&&(r=!0),c?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[t++]=r,e.push(sc.join(i))),this.decorations=[this.editContextFormatting,...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];t<this.decorations.length;)this.dynamicDecorationMap[t++]=!1;return this.decorations}scrollIntoView(t){if(t.isSnapshot){let d=this.view.viewState.lineBlockAt(t.range.head);return this.view.scrollDOM.scrollTop=d.top-t.yMargin,void(this.view.scrollDOM.scrollLeft=t.xMargin)}for(let d of this.view.state.facet(YV))try{if(d(this.view,t.range,t))return!0}catch(h){Ld(this.view.state,h,"scroll handler")}let e,{range:r}=t,i=this.coordsAt(r.head,r.empty?r.assoc:r.head>r.anchor?-1:1);if(!i)return;!r.empty&&(e=this.coordsAt(r.anchor,r.anchor>r.head?-1:1))&&(i={left:Math.min(i.left,e.left),top:Math.min(i.top,e.top),right:Math.max(i.right,e.right),bottom:Math.max(i.bottom,e.bottom)});let a=eq(this.view),s={left:i.left-a.left,top:i.top-a.top,right:i.right+a.right,bottom:i.bottom+a.bottom},{offsetWidth:c,offsetHeight:f}=this.view.scrollDOM;(function(h,m,y,w,C,k,M,N){let B=h.ownerDocument,L=B.defaultView||window;for(let z=h,q=!1;z&&!q;)if(z.nodeType==1){let V,X=z==B.body,nt=1,it=1;if(X)V=Jut(L);else{if(/^(fixed|sticky)$/.test(getComputedStyle(z).position)&&(q=!0),z.scrollHeight<=z.clientHeight&&z.scrollWidth<=z.clientWidth){z=z.assignedSlot||z.parentNode;continue}let gt=z.getBoundingClientRect();({scaleX:nt,scaleY:it}=DV(z,gt)),V={left:gt.left,right:gt.left+z.clientWidth*nt,top:gt.top,bottom:gt.top+z.clientHeight*it}}let ct=0,ft=0;if(C=="nearest")m.top<V.top?(ft=-(V.top-m.top+M),y>0&&m.bottom>V.bottom+ft&&(ft=m.bottom-V.bottom+ft+M)):m.bottom>V.bottom&&(ft=m.bottom-V.bottom+M,y<0&&m.top-ft<V.top&&(ft=-(V.top+ft-m.top+M)));else{let gt=m.bottom-m.top,Ct=V.bottom-V.top;ft=(C=="center"&&gt<=Ct?m.top+gt/2-Ct/2:C=="start"||C=="center"&&y<0?m.top-M:m.bottom-Ct+M)-V.top}if(w=="nearest"?m.left<V.left?(ct=-(V.left-m.left+k),y>0&&m.right>V.right+ct&&(ct=m.right-V.right+ct+k)):m.right>V.right&&(ct=m.right-V.right+k,y<0&&m.left<V.left+ct&&(ct=-(V.left+ct-m.left+k))):ct=(w=="center"?m.left+(m.right-m.left)/2-(V.right-V.left)/2:w=="start"==N?m.left-k:m.right-(V.right-V.left)+k)-V.left,ct||ft)if(X)L.scrollBy(ct,ft);else{let gt=0,Ct=0;if(ft){let kt=z.scrollTop;z.scrollTop+=ft/it,Ct=(z.scrollTop-kt)*it}if(ct){let kt=z.scrollLeft;z.scrollLeft+=ct/nt,gt=(z.scrollLeft-kt)*nt}m={left:m.left-gt,top:m.top-Ct,right:m.right-gt,bottom:m.bottom-Ct},gt&&Math.abs(gt-ct)<1&&(w="nearest"),Ct&&Math.abs(Ct-ft)<1&&(C="nearest")}if(X)break;z=z.assignedSlot||z.parentNode}else{if(z.nodeType!=11)break;z=z.host}})(this.view.scrollDOM,s,r.head<r.anchor?-1:1,t.x,t.y,Math.max(Math.min(t.xMargin,c),-c),Math.max(Math.min(t.yMargin,f),-f),this.view.textDirection==sh.LTR)}}function nq(n,t){let e=n.observer.selectionRange;if(!e.focusNode)return null;let r=EV(e.focusNode,e.focusOffset),i=AV(e.focusNode,e.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let c=kf.get(i.node);if(!c||c instanceof cm&&c.text!=i.node.nodeValue)a=i;else if(n.docView.lastCompositionAfterCursor){let f=kf.get(r.node);!f||f instanceof cm&&f.text!=r.node.nodeValue||(a=i)}}if(n.docView.lastCompositionAfterCursor=a!=r,!a)return null;let s=t-a.offset;return{from:s,to:s+a.node.nodeValue.length,node:a.node}}let alt=class{constructor(){this.changes=[]}compareRange(t,e){KP(t,e,this.changes)}comparePoint(t,e){KP(t,e,this.changes)}};function slt(n,t){return t.left>n?t.left-n:Math.max(0,n-t.right)}function ult(n,t){return t.top>n?t.top-n:Math.max(0,n-t.bottom)}function Wk(n,t){return n.top<t.bottom-1&&n.bottom>t.top+1}function p9(n,t){return t<n.top?{top:t,left:n.left,right:n.right,bottom:n.bottom}:n}function d9(n,t){return t>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:t}:n}function ZP(n,t,e){let r,i,a,s,c,f,d,h,m=!1;for(let w=n.firstChild;w;w=w.nextSibling){let C=lD(w);for(let k=0;k<C.length;k++){let M=C[k];i&&Wk(i,M)&&(M=p9(d9(M,i.bottom),i.top));let N=slt(t,M),B=ult(e,M);if(N==0&&B==0)return w.nodeType==3?g9(w,t,e):ZP(w,t,e);if(!r||s>B||s==B&&a>N){r=w,i=M,a=N,s=B;let L=B?e<M.top?-1:1:N?t<M.left?-1:1:0;m=!L||(L>0?k<C.length-1:k>0)}N==0?e>M.bottom&&(!d||d.bottom<M.bottom)?(c=w,d=M):e<M.top&&(!h||h.top>M.top)&&(f=w,h=M):d&&Wk(d,M)?d=d9(d,M.bottom):h&&Wk(h,M)&&(h=p9(h,M.top))}}if(d&&d.bottom>=e?(r=c,i=d):h&&h.top<=e&&(r=f,i=h),!r)return{node:n,offset:0};let y=Math.max(i.left,Math.min(i.right,t));return r.nodeType==3?g9(r,y,e):m&&r.contentEditable!="false"?ZP(r,y,e):{node:n,offset:Array.prototype.indexOf.call(n.childNodes,r)+(t>=(i.left+i.right)/2?1:0)}}function g9(n,t,e){let r=n.nodeValue.length,i=-1,a=1e9,s=0;for(let c=0;c<r;c++){let f=Cy(n,c,c+1).getClientRects();for(let d=0;d<f.length;d++){let h=f[d];if(h.top==h.bottom)continue;s||(s=t-h.left);let m=(h.top>e?h.top-e:e-h.bottom)-1;if(h.left-1<=t&&h.right+1>=t&&m<a){let y=t>=(h.left+h.right)/2,w=y;if((ri.chrome||ri.gecko)&&Cy(n,c).getBoundingClientRect().left==h.right&&(w=!y),m<=0)return{node:n,offset:c+(w?1:0)};i=c+(w?1:0),a=m}}}return{node:n,offset:i>-1?i:s>0?n.nodeValue.length:0}}function m9(n,t,e,r=-1){var i,a;let s,c=n.contentDOM.getBoundingClientRect(),f=c.top+n.viewState.paddingTop,{docHeight:d}=n.viewState,{x:h,y:m}=t,y=m-f;if(y<0)return 0;if(y>d)return n.state.doc.length;for(let z=n.viewState.heightOracle.textHeight/2,q=!1;s=n.elementAtHeight(y),s.type!=wd.Text;)for(;y=r>0?s.bottom+z:s.top-z,!(y>=0&&y<=d);){if(q)return e?null:0;q=!0,r=-r}m=f+y;let w=s.from;if(w<n.viewport.from)return n.viewport.from==0?0:e?null:v9(n,c,s,h,m);if(w>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:e?null:v9(n,c,s,h,m);let C=n.dom.ownerDocument,k=n.root.elementFromPoint?n.root:C,M=k.elementFromPoint(h,m);M&&!n.contentDOM.contains(M)&&(M=null),M||(h=Math.max(c.left+1,Math.min(c.right-1,h)),M=k.elementFromPoint(h,m),M&&!n.contentDOM.contains(M)&&(M=null));let N,B=-1;if(M&&((i=n.docView.nearest(M))===null||i===void 0?void 0:i.isEditable)!=0){if(C.caretPositionFromPoint){let z=C.caretPositionFromPoint(h,m);z&&({offsetNode:N,offset:B}=z)}else if(C.caretRangeFromPoint){let z=C.caretRangeFromPoint(h,m);z&&({startContainer:N,startOffset:B}=z,(!n.contentDOM.contains(N)||ri.safari&&function(V,X,nt){let it;if(V.nodeType!=3||X!=(it=V.nodeValue.length))return!1;for(let ct=V.nextSibling;ct;ct=ct.nextSibling)if(ct.nodeType!=1||ct.nodeName!="BR")return!1;return Cy(V,it-1,it).getBoundingClientRect().left>nt}(N,B,h)||ri.chrome&&function(V,X,nt){if(X!=0)return!1;for(let ct=V;;){let ft=ct.parentNode;if(!ft||ft.nodeType!=1||ft.firstChild!=ct)return!1;if(ft.classList.contains("cm-line"))break;ct=ft}let it=V.nodeType==1?V.getBoundingClientRect():Cy(V,0,Math.max(V.nodeValue.length,1)).getBoundingClientRect();return nt-it.left>5}(N,B,h))&&(N=void 0))}N&&(B=Math.min(qm(N),B))}if(!N||!n.docView.dom.contains(N)){let z=Yh.find(n.docView,w);if(!z)return y>s.top+s.height/2?s.to:s.from;({node:N,offset:B}=ZP(z.dom,h,m))}let L=n.docView.nearest(N);if(!L)return null;if(L.isWidget&&((a=L.dom)===null||a===void 0?void 0:a.nodeType)==1){let z=L.dom.getBoundingClientRect();return t.y<z.top||t.y<=z.bottom&&t.x<=(z.left+z.right)/2?L.posAtStart:L.posAtEnd}return L.localPosFromDOM(N,B)+L.posAtStart}function v9(n,t,e,r,i){let a=Math.round((r-t.left)*n.defaultCharacterWidth);if(n.lineWrapping&&e.height>1.5*n.defaultLineHeight){let c=n.viewState.heightOracle.textHeight;a+=Math.floor((i-e.top-.5*(n.defaultLineHeight-c))/c)*n.viewState.heightOracle.lineLength}let s=n.state.sliceDoc(e.from,e.to);return e.from+LP(s,a,n.state.tabSize)}function tT(n,t){let e=n.lineBlockAt(t);if(Array.isArray(e.type)){for(let r of e.type)if(r.to>t||r.to==t&&(r.to==e.to||r.type==wd.Text))return r}return e}function y9(n,t,e,r){let i=n.state.doc.lineAt(t.head),a=n.bidiSpans(i),s=n.textDirectionAt(i.from);for(let c=t,f=null;;){let d=rlt(i,a,s,c,e),h=zV;if(!d){if(i.number==(e?n.state.doc.lines:1))return c;h=`
`,i=n.state.doc.line(i.number+(e?1:-1)),a=n.bidiSpans(i),d=n.visualLineSide(i,!e)}if(f){if(!f(h))return c}else{if(!r)return d;f=r(h)}c=d}}function pS(n,t,e){for(;;){let r=0;for(let i of n)i.between(t-1,t+1,(a,s,c)=>{if(t>a&&t<s){let f=r||e||(t-a<s-t?-1:1);t=f<0?a:s,r=f}});if(!r)return t}}function Hk(n,t,e){let r=pS(n.state.facet(xN).map(i=>i(n)),e.from,t.head>e.from?-1:1);return r==e.from?e:un.cursor(r,r<e.from?1:-1)}const ix="";class llt{constructor(t,e){this.points=t,this.text="",this.lineSeparator=e.facet(vc.lineSeparator)}append(t){this.text+=t}lineBreak(){this.text+=ix}readRange(t,e){if(!t)return this;let r=t.parentNode;for(let i=t;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==e)break;let c=kf.get(i),f=kf.get(s);(c&&f?c.breakAfter:(c?c.breakAfter:N2(i))||N2(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>a)&&this.lineBreak(),i=s}return this.findPointBefore(r,e),this}readTextNode(t){let e=t.nodeValue;for(let r of this.points)r.node==t&&(r.pos=this.text.length+Math.min(r.offset,e.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a,s=-1,c=1;if(this.lineSeparator?(s=e.indexOf(this.lineSeparator,r),c=this.lineSeparator.length):(a=i.exec(e))&&(s=a.index,c=a[0].length),this.append(e.slice(r,s<0?e.length:s)),s<0)break;if(this.lineBreak(),c>1)for(let f of this.points)f.node==t&&f.pos>this.text.length&&(f.pos-=c-1);r=s+c}}readNode(t){if(t.cmIgnore)return;let e=kf.get(t),r=e&&e.overrideDOMText;if(r!=null){this.findPointInside(t,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else t.nodeType==3?this.readTextNode(t):t.nodeName=="BR"?t.nextSibling&&this.lineBreak():t.nodeType==1&&this.readRange(t.firstChild,null)}findPointBefore(t,e){for(let r of this.points)r.node==t&&t.childNodes[r.offset]==e&&(r.pos=this.text.length)}findPointInside(t,e){for(let r of this.points)(t.nodeType==3?r.node==t:t.contains(r.node))&&(r.pos=this.text.length+(clt(t,r.node,r.offset)?e:0))}}function clt(n,t,e){for(;;){if(!t||e<qm(t))return!1;if(t==n)return!0;e=Dy(t)+1,t=t.parentNode}}class w9{constructor(t,e){this.node=t,this.offset=e,this.pos=-1}}class flt{constructor(t,e,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=e>-1;let{impreciseHead:a,impreciseAnchor:s}=t.docView;if(t.state.readOnly&&e>-1)this.newSel=null;else if(e>-1&&(this.bounds=t.docView.domBoundsAround(e,r,0))){let c=a||s?[]:function(h){let m=[];if(h.root.activeElement!=h.contentDOM)return m;let{anchorNode:y,anchorOffset:w,focusNode:C,focusOffset:k}=h.observer.selectionRange;return y&&(m.push(new w9(y,w)),C==y&&k==w||m.push(new w9(C,k))),m}(t),f=new llt(c,t.state);f.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=f.text,this.newSel=function(h,m){if(h.length==0)return null;let y=h[0].pos,w=h.length==2?h[1].pos:y;return y>-1&&w>-1?un.single(y+m,w+m):null}(c,this.bounds.from)}else{let c=t.observer.selectionRange,f=a&&a.node==c.focusNode&&a.offset==c.focusOffset||!UP(t.contentDOM,c.focusNode)?t.state.selection.main.head:t.docView.posFromDOM(c.focusNode,c.focusOffset),d=s&&s.node==c.anchorNode&&s.offset==c.anchorOffset||!UP(t.contentDOM,c.anchorNode)?t.state.selection.main.anchor:t.docView.posFromDOM(c.anchorNode,c.anchorOffset),h=t.viewport;if((ri.ios||ri.chrome)&&t.state.selection.main.empty&&f!=d&&(h.from>0||h.to<t.state.doc.length)){let m=Math.min(f,d),y=Math.max(f,d),w=h.from-m,C=h.to-y;w!=0&&w!=1&&m!=0||C!=0&&C!=-1&&y!=t.state.doc.length||(f=0,d=t.state.doc.length)}this.newSel=un.single(d,f)}}}function rq(n,t){let e,{newSel:r}=t,i=n.state.selection.main,a=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(t.bounds){let{from:s,to:c}=t.bounds,f=i.from,d=null;(a===8||ri.android&&t.text.length<c-s)&&(f=i.to,d="end");let h=function(y,w,C,k){let M=Math.min(y.length,w.length),N=0;for(;N<M&&y.charCodeAt(N)==w.charCodeAt(N);)N++;if(N==M&&y.length==w.length)return null;let B=y.length,L=w.length;for(;B>0&&L>0&&y.charCodeAt(B-1)==w.charCodeAt(L-1);)B--,L--;return k=="end"&&(C-=B+Math.max(0,N-Math.min(B,L))-N),B<N&&y.length<w.length?(N-=C<=N&&C>=B?N-C:0,L=N+(L-B),B=N):L<N&&(N-=C<=N&&C>=L?N-C:0,B=N+(B-L),L=N),{from:N,toA:B,toB:L}}(n.state.doc.sliceString(s,c,ix),t.text,f-s,d);h&&(ri.chrome&&a==13&&h.toB==h.from+2&&t.text.slice(h.from,h.toB)==ix+ix&&h.toB--,e={from:s+h.from,to:s+h.toA,insert:yc.of(t.text.slice(h.from,h.toB).split(ix))})}else r&&(!n.hasFocus&&n.state.facet(Uv)||r.main.eq(i))&&(r=null);if(!e&&!r)return!1;if(!e&&t.typeOver&&!i.empty&&r&&r.main.empty?e={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:e&&e.from>=i.from&&e.to<=i.to&&(e.from!=i.from||e.to!=i.to)&&i.to-i.from-(e.to-e.from)<=4?e={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,e.from).append(e.insert).append(n.state.doc.slice(e.to,i.to))}:(ri.mac||ri.android)&&e&&e.from==e.to&&e.from==i.head-1&&/^\. ?$/.test(e.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&e.insert.length==2&&(r=un.single(r.main.anchor-1,r.main.head-1)),e={from:i.from,to:i.to,insert:yc.of([" "])}):ri.chrome&&e&&e.from==e.to&&e.from==i.head&&e.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=un.single(r.main.anchor-1,r.main.head-1)),e={from:i.from,to:i.to,insert:yc.of([" "])}),e)return DN(n,e,r,a);if(r&&!r.main.eq(i)){let s=!1,c="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(s=!0),c=n.inputState.lastSelectionOrigin),n.dispatch({selection:r,scrollIntoView:s,userEvent:c}),!0}return!1}function DN(n,t,e,r=-1){if(ri.ios&&n.inputState.flushIOSKey(t))return!0;let i=n.state.selection.main;if(ri.android&&(t.to==i.to&&(t.from==i.from||t.from==i.from-1&&n.state.sliceDoc(t.from,i.from)==" ")&&t.insert.length==1&&t.insert.lines==2&&Ow(n.contentDOM,"Enter",13)||(t.from==i.from-1&&t.to==i.to&&t.insert.length==0||r==8&&t.insert.length<t.to-t.from&&t.to>i.head)&&Ow(n.contentDOM,"Backspace",8)||t.from==i.from&&t.to==i.to+1&&t.insert.length==0&&Ow(n.contentDOM,"Delete",46)))return!0;let a,s=t.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let c=()=>a||(a=function(d,h,m){let y,w=d.state,C=w.selection.main;if(h.from>=C.from&&h.to<=C.to&&h.to-h.from>=(C.to-C.from)/3&&(!m||m.main.empty&&m.main.from==h.from+h.insert.length)&&d.inputState.composing<0){let M=C.from<h.from?w.sliceDoc(C.from,h.from):"",N=C.to>h.to?w.sliceDoc(h.to,C.to):"";y=w.replaceSelection(d.state.toText(M+h.insert.sliceString(0,void 0,d.state.lineBreak)+N))}else{let M=w.changes(h),N=m&&m.main.to<=M.newLength?m.main:void 0;if(w.selection.ranges.length>1&&d.inputState.composing>=0&&h.to<=C.to&&h.to>=C.to-10){let B,L=d.state.sliceDoc(h.from,h.to),z=m&&nq(d,m.main.head);if(z){let X=h.insert.length-(h.to-h.from);B={from:z.from,to:z.to-X}}else B=d.state.doc.lineAt(C.head);let q=C.to-h.to,V=C.to-C.from;y=w.changeByRange(X=>{if(X.from==C.from&&X.to==C.to)return{changes:M,range:N||X.map(M)};let nt=X.to-q,it=nt-L.length;if(X.to-X.from!=V||d.state.sliceDoc(it,nt)!=L||X.to>=B.from&&X.from<=B.to)return{range:X};let ct=w.changes({from:it,to:nt,insert:h.insert}),ft=X.to-C.to;return{changes:ct,range:N?un.range(Math.max(0,N.anchor+ft),Math.max(0,N.head+ft)):X.map(ct)}})}else y={changes:M,selection:N&&w.selection.replaceRange(N)}}let k="input.type";return(d.composing||d.inputState.compositionPendingChange&&d.inputState.compositionEndedAt>Date.now()-50)&&(d.inputState.compositionPendingChange=!1,k+=".compose",d.inputState.compositionFirstChange&&(k+=".start",d.inputState.compositionFirstChange=!1)),w.update(y,{userEvent:k,scrollIntoView:!0})}(n,t,e));return n.state.facet(VV).some(f=>f(n,t.from,t.to,s,c))||n.dispatch(c()),!0}class hlt{setSelectionOrigin(t){this.lastSelectionOrigin=t,this.lastSelectionTime=Date.now()}constructor(t){this.view=t,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=t.hasFocus,ri.safari&&t.contentDOM.addEventListener("input",()=>null),ri.gecko&&function(r){F9.has(r)||(F9.add(r),r.addEventListener("copy",()=>{}),r.addEventListener("cut",()=>{}))}(t.contentDOM.ownerDocument)}handleEvent(t){(function(r,i){if(!i.bubbles)return!0;if(i.defaultPrevented)return!1;for(let a,s=i.target;s!=r.contentDOM;s=s.parentNode)if(!s||s.nodeType==11||(a=kf.get(s))&&a.ignoreEvent(i))return!1;return!0})(this.view,t)&&!this.ignoreDuringComposition(t)&&(t.type=="keydown"&&this.keydown(t)||this.runHandlers(t.type,t))}runHandlers(t,e){let r=this.handlers[t];if(r){for(let i of r.observers)i(this.view,e);for(let i of r.handlers){if(e.defaultPrevented)break;if(i(this.view,e)){e.preventDefault();break}}}}ensureHandlers(t){let e=plt(t),r=this.handlers,i=this.view.contentDOM;for(let a in e)if(a!="scroll"){let s=!e[a].handlers.length,c=r[a];c&&s!=!c.handlers.length&&(i.removeEventListener(a,this.handleEvent),c=null),c||i.addEventListener(a,this.handleEvent,{passive:s})}for(let a in r)a=="scroll"||e[a]||i.removeEventListener(a,this.handleEvent);this.handlers=e}keydown(t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&t.keyCode!=27&&oq.indexOf(t.keyCode)<0&&(this.tabFocusMode=-1),ri.android&&ri.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return this.view.observer.delayAndroidKey(t.key,t.keyCode),!0;let e;return!ri.ios||t.synthetic||t.altKey||t.metaKey||!((e=iq.find(r=>r.keyCode==t.keyCode))&&!t.ctrlKey||dlt.indexOf(t.key)>-1&&t.ctrlKey&&!t.shiftKey)?(t.keyCode!=229&&this.view.observer.forceFlush(),!1):(this.pendingIOSKey=e||t,setTimeout(()=>this.flushIOSKey(),250),!0)}flushIOSKey(t){let e=this.pendingIOSKey;return!!e&&!(e.key=="Enter"&&t&&t.from<t.to&&/^\S+$/.test(t.insert.toString()))&&(this.pendingIOSKey=void 0,Ow(this.view.contentDOM,e.key,e.keyCode,e instanceof KeyboardEvent?e:void 0))}ignoreDuringComposition(t){return!!/^key/.test(t.type)&&(this.composing>0||!!(ri.safari&&!ri.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100)&&(this.compositionPendingKey=!1,!0))}startMouseSelection(t){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=t}update(t){this.view.observer.update(t),this.mouseSelection&&this.mouseSelection.update(t),this.draggedContent&&t.docChanged&&(this.draggedContent=this.draggedContent.map(t.changes)),t.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function b9(n,t){return(e,r)=>{try{return t.call(n,r,e)}catch(i){Ld(e.state,i)}}}function plt(n){let t=Object.create(null);function e(r){return t[r]||(t[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec;if(i&&i.domEventHandlers)for(let a in i.domEventHandlers){let s=i.domEventHandlers[a];s&&e(a).handlers.push(b9(r.value,s))}if(i&&i.domEventObservers)for(let a in i.domEventObservers){let s=i.domEventObservers[a];s&&e(a).observers.push(b9(r.value,s))}}for(let r in em)e(r).handlers.push(em[r]);for(let r in wg)e(r).observers.push(wg[r]);return t}const iq=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],dlt="dthko",oq=[16,17,18,20,91,92,224,225];function e_(n){return .7*Math.max(0,n)+8}class glt{constructor(t,e,r,i){this.view=t,this.startEvent=e,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=e,this.scrollParents=function(c){let f,d,h=c.ownerDocument;for(let m=c.parentNode;m&&!(m==h.body||f&&d);)if(m.nodeType==1)!d&&m.scrollHeight>m.clientHeight&&(d=m),!f&&m.scrollWidth>m.clientWidth&&(f=m),m=m.assignedSlot||m.parentNode;else{if(m.nodeType!=11)break;m=m.host}return{x:f,y:d}}(t.contentDOM),this.atoms=t.state.facet(xN).map(s=>s(t));let a=t.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=e.shiftKey,this.multiple=t.state.facet(vc.allowMultipleSelections)&&function(c,f){let d=c.state.facet(UV);return d.length?d[0](f):ri.mac?f.metaKey:f.ctrlKey}(t,e),this.dragging=!(!function(c,f){let{main:d}=c.state.selection;if(d.empty)return!1;let h=uD(c.root);if(!h||h.rangeCount==0)return!0;let m=h.getRangeAt(0).getClientRects();for(let y=0;y<m.length;y++){let w=m[y];if(w.left<=f.clientX&&w.right>=f.clientX&&w.top<=f.clientY&&w.bottom>=f.clientY)return!0}return!1}(t,e)||sq(e)!=1)&&null}start(t){this.dragging===!1&&this.select(t)}move(t){if(t.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&function(h,m){return Math.max(Math.abs(h.clientX-m.clientX),Math.abs(h.clientY-m.clientY))}(this.startEvent,t)<10)return;this.select(this.lastEvent=t);let e=0,r=0,i=0,a=0,s=this.view.win.innerWidth,c=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:c}=this.scrollParents.y.getBoundingClientRect());let f=eq(this.view);t.clientX-f.left<=i+6?e=-e_(i-t.clientX):t.clientX+f.right>=s-6&&(e=e_(t.clientX-s)),t.clientY-f.top<=a+6?r=-e_(a-t.clientY):t.clientY+f.bottom>=c-6&&(r=e_(t.clientY-c)),this.setScrollSpeed(e,r)}up(t){this.dragging==null&&this.select(this.lastEvent),this.dragging||t.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let t=this.view.contentDOM.ownerDocument;t.removeEventListener("mousemove",this.move),t.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(t,e){this.scrollSpeed={x:t,y:e},t||e?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:t,y:e}=this.scrollSpeed;t&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=t,t=0),e&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=e,e=0),(t||e)&&this.view.win.scrollBy(t,e),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(t){let e=null;for(let r=0;r<t.ranges.length;r++){let i=t.ranges[r],a=null;if(i.empty){let s=pS(this.atoms,i.from,0);s!=i.from&&(a=un.cursor(s,-1))}else{let s=pS(this.atoms,i.from,-1),c=pS(this.atoms,i.to,1);s==i.from&&c==i.to||(a=un.range(i.from==i.anchor?s:c,i.from==i.head?s:c))}a&&(e||(e=t.ranges.slice()),e[r]=a)}return e?un.create(e,t.mainIndex):t}select(t){let{view:e}=this,r=this.skipAtoms(this.style.get(t,this.extend,this.multiple));!this.mustSelect&&r.eq(e.state.selection,this.dragging===!1)||this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(t){t.transactions.some(e=>e.isUserEvent("input.type"))?this.destroy():this.style.update(t)&&setTimeout(()=>this.select(this.lastEvent),20)}}const em=Object.create(null),wg=Object.create(null),aq=ri.ie&&ri.ie_version<15||ri.ios&&ri.webkit_version<604;function VE(n,t,e){for(let r of n.facet(t))e=r(e,n);return e}function x9(n,t){t=VE(n.state,yN,t);let e,{state:r}=n,i=1,a=r.toText(t),s=a.lines==r.selection.ranges.length;if(eT!=null&&r.selection.ranges.every(f=>f.empty)&&eT==a.toString()){let f=-1;e=r.changeByRange(d=>{let h=r.doc.lineAt(d.from);if(h.from==f)return{range:d};f=h.from;let m=r.toText((s?a.line(i++).text:t)+r.lineBreak);return{changes:{from:h.from,insert:m},range:un.cursor(d.from+m.length)}})}else e=s?r.changeByRange(f=>{let d=a.line(i++);return{changes:{from:f.from,to:f.to,insert:d.text},range:un.cursor(f.from+d.length)}}):r.replaceSelection(a);n.dispatch(e,{userEvent:"input.paste",scrollIntoView:!0})}function D9(n,t,e,r){if(r==1)return un.cursor(t,e);if(r==2)return function(a,s,c=1){let f=a.charCategorizer(s),d=a.doc.lineAt(s),h=s-d.from;if(d.length==0)return un.cursor(s);h==0?c=1:h==d.length&&(c=-1);let m=h,y=h;c<0?m=Up(d.text,h,!1):y=Up(d.text,h);let w=f(d.text.slice(m,y));for(;m>0;){let C=Up(d.text,m,!1);if(f(d.text.slice(C,m))!=w)break;m=C}for(;y<d.length;){let C=Up(d.text,y);if(f(d.text.slice(y,C))!=w)break;y=C}return un.range(m+d.from,y+d.from)}(n.state,t,e);{let i=Yh.find(n.docView,t),a=n.state.doc.lineAt(i?i.posAtEnd:t),s=i?i.posAtStart:a.from,c=i?i.posAtEnd:a.to;return c<n.state.doc.length&&c==a.to&&c++,un.range(s,c)}}wg.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft},em.keydown=(n,t)=>(n.inputState.setSelectionOrigin("select"),t.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1),wg.touchstart=(n,t)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")},wg.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")},em.mousedown=(n,t)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let e=null;for(let r of n.state.facet(WV))if(e=r(n,t),e)break;if(e||t.button!=0||(e=function(i,a){let s=_9(i,a),c=sq(a),f=i.state.selection;return{update(d){d.docChanged&&(s.pos=d.changes.mapPos(s.pos),f=f.map(d.changes))},get(d,h,m){let y,w=_9(i,d),C=D9(i,w.pos,w.bias,c);if(s.pos!=w.pos&&!h){let k=D9(i,s.pos,s.bias,c),M=Math.min(k.from,C.from),N=Math.max(k.to,C.to);C=M<C.from?un.range(M,N):un.range(N,M)}return h?f.replaceRange(f.main.extend(C.from,C.to)):m&&c==1&&f.ranges.length>1&&(y=function(M,N){for(let B=0;B<M.ranges.length;B++){let{from:L,to:z}=M.ranges[B];if(L<=N&&z>=N)return un.create(M.ranges.slice(0,B).concat(M.ranges.slice(B+1)),M.mainIndex==B?0:M.mainIndex-(M.mainIndex>B?1:0))}return null}(f,w.pos))?y:m?f.addRange(C):un.create([C])}}}(n,t)),e){let r=!n.hasFocus;n.inputState.startMouseSelection(new glt(n,t,e,r)),r&&n.observer.ignore(()=>{CV(n.contentDOM);let a=n.root.activeElement;a&&!a.contains(n.contentDOM)&&a.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(t),i.dragging===!1}return!1};let C9=(n,t,e)=>t>=e.top&&t<=e.bottom&&n>=e.left&&n<=e.right;function mlt(n,t,e,r){let i=Yh.find(n.docView,t);if(!i)return 1;let a=t-i.posAtStart;if(a==0)return 1;if(a==i.length)return-1;let s=i.coordsAt(a,-1);if(s&&C9(e,r,s))return-1;let c=i.coordsAt(a,1);return c&&C9(e,r,c)?1:s&&s.bottom>=r?-1:1}function _9(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1);return{pos:e,bias:mlt(n,e,t.clientX,t.clientY)}}const vlt=ri.ie&&ri.ie_version<=11;let S9=null,E9=0,A9=0;function sq(n){if(!vlt)return n.detail;let t=S9,e=A9;return S9=n,A9=Date.now(),E9=!t||e>Date.now()-400&&Math.abs(t.clientX-n.clientX)<2&&Math.abs(t.clientY-n.clientY)<2?(E9+1)%3:1}function k9(n,t,e,r){if(!(e=VE(n.state,yN,e)))return;let i=n.posAtCoords({x:t.clientX,y:t.clientY},!1),{draggedContent:a}=n.inputState,s=r&&a&&function(h,m){let y=h.state.facet($V);return y.length?y[0](m):ri.mac?!m.altKey:!m.ctrlKey}(n,t)?{from:a.from,to:a.to}:null,c={from:i,insert:e},f=n.state.changes(s?[s,c]:c);n.focus(),n.dispatch({changes:f,selection:{anchor:f.mapPos(i,-1),head:f.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),n.inputState.draggedContent=null}em.dragstart=(n,t)=>{let{selection:{main:e}}=n.state;if(t.target.draggable){let i=n.docView.nearest(t.target);if(i&&i.isWidget){let a=i.posAtStart,s=a+i.length;(a>=e.to||s<=e.from)&&(e=un.range(a,s))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=e,t.dataTransfer&&(t.dataTransfer.setData("Text",VE(n.state,wN,n.state.sliceDoc(e.from,e.to))),t.dataTransfer.effectAllowed="copyMove"),!1},em.dragend=n=>(n.inputState.draggedContent=null,!1),em.drop=(n,t)=>{if(!t.dataTransfer)return!1;if(n.state.readOnly)return!0;let e=t.dataTransfer.files;if(e&&e.length){let r=Array(e.length),i=0,a=()=>{++i==e.length&&k9(n,t,r.filter(s=>s!=null).join(n.state.lineBreak),!1)};for(let s=0;s<e.length;s++){let c=new FileReader;c.onerror=a,c.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(c.result)||(r[s]=c.result),a()},c.readAsText(e[s])}return!0}{let r=t.dataTransfer.getData("Text");if(r)return k9(n,t,r,!0),!0}return!1},em.paste=(n,t)=>{if(n.state.readOnly)return!0;n.observer.flush();let e=aq?null:t.clipboardData;return e?(x9(n,e.getData("text/plain")||e.getData("text/uri-list")),!0):(function(i){let a=i.dom.parentNode;if(!a)return;let s=a.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{i.focus(),s.remove(),x9(i,s.value)},50)}(n),!1)};let eT=null;em.copy=em.cut=(n,t)=>{let{text:e,ranges:r,linewise:i}=function(c){let f=[],d=[],h=!1;for(let m of c.selection.ranges)m.empty||(f.push(c.sliceDoc(m.from,m.to)),d.push(m));if(!f.length){let m=-1;for(let{from:y}of c.selection.ranges){let w=c.doc.lineAt(y);w.number>m&&(f.push(w.text),d.push({from:w.from,to:Math.min(c.doc.length,w.to+1)})),m=w.number}h=!0}return{text:VE(c,wN,f.join(c.lineBreak)),ranges:d,linewise:h}}(n.state);if(!e&&!i)return!1;eT=i?e:null,t.type!="cut"||n.state.readOnly||n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=aq?null:t.clipboardData;return a?(a.clearData(),a.setData("text/plain",e),!0):(function(c,f){let d=c.dom.parentNode;if(!d)return;let h=d.appendChild(document.createElement("textarea"));h.style.cssText="position: fixed; left: -10000px; top: 10px",h.value=f,h.focus(),h.selectionEnd=f.length,h.selectionStart=0,setTimeout(()=>{h.remove(),c.focus()},50)}(n,e),!1)};const uq=dv.define();function lq(n,t){let e=[];for(let r of n.facet(qV)){let i=r(n,t);i&&e.push(i)}return e?n.update({effects:e,annotations:uq.of(!0)}):null}function M9(n){setTimeout(()=>{let t=n.hasFocus;if(t!=n.inputState.notifiedFocused){let e=lq(n.state,t);e?n.dispatch(e):n.update([])}},10)}wg.focus=n=>{n.inputState.lastFocusTime=Date.now(),n.scrollDOM.scrollTop||!n.inputState.lastScrollTop&&!n.inputState.lastScrollLeft||(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),M9(n)},wg.blur=n=>{n.observer.clearSelectionRange(),M9(n)},wg.compositionstart=wg.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))},wg.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,ri.chrome&&ri.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))},wg.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()},em.beforeinput=(n,t)=>{var e,r;if(t.inputType=="insertReplacementText"&&n.observer.editContext){let a=(e=t.dataTransfer)===null||e===void 0?void 0:e.getData("text/plain"),s=t.getTargetRanges();if(a&&s.length){let c=s[0],f=n.posAtDOM(c.startContainer,c.startOffset),d=n.posAtDOM(c.endContainer,c.endOffset);return DN(n,{from:f,to:d,insert:n.state.toText(a)},null),!0}}let i;if(ri.chrome&&ri.android&&(i=iq.find(a=>a.inputType==t.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>a+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return ri.ios&&t.inputType=="deleteContentForward"&&n.observer.flushSoon(),ri.safari&&t.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>wg.compositionend(n,t),20),!1};const F9=new Set,P9=["pre-wrap","normal","pre-line","break-spaces"];let ib=!1;function T9(){ib=!1}class ylt{constructor(t){this.lineWrapping=t,this.doc=yc.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(t,e){let r=this.doc.lineAt(e).number-this.doc.lineAt(t).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((e-t-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(t){return this.lineWrapping?(1+Math.max(0,Math.ceil((t-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(t){return this.doc=t,this}mustRefreshForWrapping(t){return P9.indexOf(t)>-1!=this.lineWrapping}mustRefreshForHeights(t){let e=!1;for(let r=0;r<t.length;r++){let i=t[r];i<0?r++:this.heightSamples[Math.floor(10*i)]||(e=!0,this.heightSamples[Math.floor(10*i)]=!0)}return e}refresh(t,e,r,i,a,s){let c=P9.indexOf(t)>-1,f=Math.round(e)!=Math.round(this.lineHeight)||this.lineWrapping!=c;if(this.lineWrapping=c,this.lineHeight=e,this.charWidth=r,this.textHeight=i,this.lineLength=a,f){this.heightSamples={};for(let d=0;d<s.length;d++){let h=s[d];h<0?d++:this.heightSamples[Math.floor(10*h)]=!0}}return f}}class wlt{constructor(t,e){this.from=t,this.heights=e,this.index=0}get more(){return this.index<this.heights.length}}class Pm{constructor(t,e,r,i,a){this.from=t,this.length=e,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?wd.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof C0?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(t){let e=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(t._content)?t._content:[t]);return new Pm(this.from,this.length+t.length,this.top,this.height+t.height,e)}}var oh=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(oh||(oh={}));const dS=.001;class bd{constructor(t,e,r=2){this.length=t,this.height=e,this.flags=r}get outdated(){return(2&this.flags)>0}set outdated(t){this.flags=(t?2:0)|-3&this.flags}setHeight(t){this.height!=t&&(Math.abs(this.height-t)>dS&&(ib=!0),this.height=t)}replace(t,e,r){return bd.of(r)}decomposeLeft(t,e){e.push(this)}decomposeRight(t,e){e.push(this)}applyChanges(t,e,r,i){let a=this,s=r.doc;for(let c=i.length-1;c>=0;c--){let{fromA:f,toA:d,fromB:h,toB:m}=i[c],y=a.lineAt(f,oh.ByPosNoHeight,r.setDoc(e),0,0),w=y.to>=d?y:a.lineAt(d,oh.ByPosNoHeight,r,0,0);for(m+=w.to-d,d=w.to;c>0&&y.from<=i[c-1].toA;)f=i[c-1].fromA,h=i[c-1].fromB,c--,f<y.from&&(y=a.lineAt(f,oh.ByPosNoHeight,r,0,0));h+=y.from-f,f=y.from;let C=CN.build(r.setDoc(s),t,h,m);a=R2(a,a.replace(f,d,C))}return a.updateHeight(r,0)}static empty(){return new Qd(0,0)}static of(t){if(t.length==1)return t[0];let e=0,r=t.length,i=0,a=0;for(;;)if(e==r)if(i>2*a){let c=t[e-1];c.break?t.splice(--e,1,c.left,null,c.right):t.splice(--e,1,c.left,c.right),r+=1+c.break,i-=c.size}else{if(!(a>2*i))break;{let c=t[r];c.break?t.splice(r,1,c.left,null,c.right):t.splice(r,1,c.left,c.right),r+=2+c.break,a-=c.size}}else if(i<a){let c=t[e++];c&&(i+=c.size)}else{let c=t[--r];c&&(a+=c.size)}let s=0;return t[e-1]==null?(s=1,e--):t[e]==null&&(s=1,r++),new blt(bd.of(t.slice(0,e)),s,bd.of(t.slice(r)))}}function R2(n,t){return n==t?n:(n.constructor!=t.constructor&&(ib=!0),t)}bd.prototype.size=1;class cq extends bd{constructor(t,e,r){super(t,e),this.deco=r}blockAt(t,e,r,i){return new Pm(i,this.length,r,this.height,this.deco||0)}lineAt(t,e,r,i,a){return this.blockAt(0,r,i,a)}forEachLine(t,e,r,i,a,s){t<=a+this.length&&e>=a&&s(this.blockAt(0,r,i,a))}updateHeight(t,e=0,r=!1,i){return i&&i.from<=e&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Qd extends cq{constructor(t,e){super(t,e,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(t,e,r,i){return new Pm(i,this.length,r,this.height,this.breaks)}replace(t,e,r){let i=r[0];return r.length==1&&(i instanceof Qd||i instanceof kp&&4&i.flags)&&Math.abs(this.length-i.length)<10?(i instanceof kp?i=new Qd(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):bd.of(r)}updateHeight(t,e=0,r=!1,i){return i&&i.from<=e&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,t.heightForLine(this.length-this.collapsed))+this.breaks*t.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class kp extends bd{constructor(t){super(t,0)}heightMetrics(t,e){let r,i=t.doc.lineAt(e).number,a=t.doc.lineAt(e+this.length).number,s=a-i+1,c=0;if(t.lineWrapping){let f=Math.min(this.height,t.lineHeight*s);r=f/s,this.length>s+1&&(c=(this.height-f)/(this.length-s-1))}else r=this.height/s;return{firstLine:i,lastLine:a,perLine:r,perChar:c}}blockAt(t,e,r,i){let{firstLine:a,lastLine:s,perLine:c,perChar:f}=this.heightMetrics(e,i);if(e.lineWrapping){let d=i+(t<e.lineHeight?0:Math.round(Math.max(0,Math.min(1,(t-r)/this.height))*this.length)),h=e.doc.lineAt(d),m=c+h.length*f,y=Math.max(r,t-m/2);return new Pm(h.from,h.length,y,m,0)}{let d=Math.max(0,Math.min(s-a,Math.floor((t-r)/c))),{from:h,length:m}=e.doc.line(a+d);return new Pm(h,m,r+c*d,c,0)}}lineAt(t,e,r,i,a){if(e==oh.ByHeight)return this.blockAt(t,r,i,a);if(e==oh.ByPosNoHeight){let{from:w,to:C}=r.doc.lineAt(t);return new Pm(w,C-w,0,0,0)}let{firstLine:s,perLine:c,perChar:f}=this.heightMetrics(r,a),d=r.doc.lineAt(t),h=c+d.length*f,m=d.number-s,y=i+c*m+f*(d.from-a-m);return new Pm(d.from,d.length,Math.max(i,Math.min(y,i+this.height-h)),h,0)}forEachLine(t,e,r,i,a,s){t=Math.max(t,a),e=Math.min(e,a+this.length);let{firstLine:c,perLine:f,perChar:d}=this.heightMetrics(r,a);for(let h=t,m=i;h<=e;){let y=r.doc.lineAt(h);if(h==t){let C=y.number-c;m+=f*C+d*(t-a-C)}let w=f+d*y.length;s(new Pm(y.from,y.length,m,w,0)),m+=w,h=y.to+1}}replace(t,e,r){let i=this.length-e;if(i>0){let a=r[r.length-1];a instanceof kp?r[r.length-1]=new kp(a.length+i):r.push(null,new kp(i-1))}if(t>0){let a=r[0];a instanceof kp?r[0]=new kp(t+a.length):r.unshift(new kp(t-1),null)}return bd.of(r)}decomposeLeft(t,e){e.push(new kp(t-1),null)}decomposeRight(t,e){e.push(null,new kp(this.length-t-1))}updateHeight(t,e=0,r=!1,i){let a=e+this.length;if(i&&i.from<=e+this.length&&i.more){let s=[],c=Math.max(e,i.from),f=-1;for(i.from>e&&s.push(new kp(i.from-e-1).updateHeight(t,e));c<=a&&i.more;){let h=t.doc.lineAt(c).length;s.length&&s.push(null);let m=i.heights[i.index++];f==-1?f=m:Math.abs(m-f)>=dS&&(f=-2);let y=new Qd(h,m);y.outdated=!1,s.push(y),c+=h+1}c<=a&&s.push(null,new kp(a-c).updateHeight(t,c));let d=bd.of(s);return(f<0||Math.abs(d.height-this.height)>=dS||Math.abs(f-this.heightMetrics(t,e).perLine)>=dS)&&(ib=!0),R2(this,d)}return(r||this.outdated)&&(this.setHeight(t.heightForGap(e,e+this.length)),this.outdated=!1),this}toString(){return`gap(${this.length})`}}class blt extends bd{constructor(t,e,r){super(t.length+e+r.length,t.height+r.height,e|(t.outdated||r.outdated?2:0)),this.left=t,this.right=r,this.size=t.size+r.size}get break(){return 1&this.flags}blockAt(t,e,r,i){let a=r+this.left.height;return t<a?this.left.blockAt(t,e,r,i):this.right.blockAt(t,e,a,i+this.left.length+this.break)}lineAt(t,e,r,i,a){let s=i+this.left.height,c=a+this.left.length+this.break,f=e==oh.ByHeight?t<s:t<c,d=f?this.left.lineAt(t,e,r,i,a):this.right.lineAt(t,e,r,s,c);if(this.break||(f?d.to<c:d.from>c))return d;let h=e==oh.ByPosNoHeight?oh.ByPosNoHeight:oh.ByPos;return f?d.join(this.right.lineAt(c,h,r,s,c)):this.left.lineAt(c,h,r,i,a).join(d)}forEachLine(t,e,r,i,a,s){let c=i+this.left.height,f=a+this.left.length+this.break;if(this.break)t<f&&this.left.forEachLine(t,e,r,i,a,s),e>=f&&this.right.forEachLine(t,e,r,c,f,s);else{let d=this.lineAt(f,oh.ByPos,r,i,a);t<d.from&&this.left.forEachLine(t,d.from-1,r,i,a,s),d.to>=t&&d.from<=e&&s(d),e>d.to&&this.right.forEachLine(d.to+1,e,r,c,f,s)}}replace(t,e,r){let i=this.left.length+this.break;if(e<i)return this.balanced(this.left.replace(t,e,r),this.right);if(t>this.left.length)return this.balanced(this.left,this.right.replace(t-i,e-i,r));let a=[];t>0&&this.decomposeLeft(t,a);let s=a.length;for(let c of r)a.push(c);if(t>0&&O9(a,s-1),e<this.length){let c=a.length;this.decomposeRight(e,a),O9(a,c)}return bd.of(a)}decomposeLeft(t,e){let r=this.left.length;if(t<=r)return this.left.decomposeLeft(t,e);e.push(this.left),this.break&&(r++,t>=r&&e.push(null)),t>r&&this.right.decomposeLeft(t-r,e)}decomposeRight(t,e){let r=this.left.length,i=r+this.break;if(t>=i)return this.right.decomposeRight(t-i,e);t<r&&this.left.decomposeRight(t,e),this.break&&t<i&&e.push(null),e.push(this.right)}balanced(t,e){return t.size>2*e.size||e.size>2*t.size?bd.of(this.break?[t,null,e]:[t,e]):(this.left=R2(this.left,t),this.right=R2(this.right,e),this.setHeight(t.height+e.height),this.outdated=t.outdated||e.outdated,this.size=t.size+e.size,this.length=t.length+this.break+e.length,this)}updateHeight(t,e=0,r=!1,i){let{left:a,right:s}=this,c=e+a.length+this.break,f=null;return i&&i.from<=e+a.length&&i.more?f=a=a.updateHeight(t,e,r,i):a.updateHeight(t,e,r),i&&i.from<=c+s.length&&i.more?f=s=s.updateHeight(t,c,r,i):s.updateHeight(t,c,r),f?this.balanced(a,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function O9(n,t){let e,r;n[t]==null&&(e=n[t-1])instanceof kp&&(r=n[t+1])instanceof kp&&n.splice(t-1,3,new kp(e.length+1+r.length))}class CN{constructor(t,e){this.pos=t,this.oracle=e,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=t}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(t,e){if(this.lineStart>-1){let r=Math.min(e,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Qd?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Qd(r-this.pos,-1)),this.writtenTo=r,e>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=e}point(t,e,r){if(t<e||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=e-t;r.block?this.addBlock(new cq(s,i,r)):(s||a||i>=5)&&this.addLineDeco(i,a,s)}else e>t&&this.span(t,e);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:t,to:e}=this.oracle.doc.lineAt(this.pos);this.lineStart=t,this.lineEnd=e,this.writtenTo<t&&((this.writtenTo<t-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,t-1)),this.nodes.push(null)),this.pos>t&&this.nodes.push(new Qd(this.pos-t,-1)),this.writtenTo=this.pos}blankContent(t,e){let r=new kp(e-t);return this.oracle.doc.lineAt(t).to==e&&(r.flags|=4),r}ensureLine(){this.enterLine();let t=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(t instanceof Qd)return t;let e=new Qd(0,-1);return this.nodes.push(e),e}addBlock(t){this.enterLine();let e=t.deco;e&&e.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(t),this.writtenTo=this.pos=this.pos+t.length,e&&e.endSide>0&&(this.covering=t)}addLineDeco(t,e,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,t),i.breaks+=e,this.writtenTo=this.pos=this.pos+r}finish(t){let e=this.nodes.length==0?null:this.nodes[this.nodes.length-1];!(this.lineStart>-1)||e instanceof Qd||this.isCovered?(this.writtenTo<this.pos||e==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos)):this.nodes.push(new Qd(0,-1));let r=t;for(let i of this.nodes)i instanceof Qd&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(t,e,r,i){let a=new CN(r,t);return sc.spans(e,r,i,a,0),a.finish(r)}}class xlt{constructor(){this.changes=[]}compareRange(){}comparePoint(t,e,r,i){(t<e||r&&r.heightRelevant||i&&i.heightRelevant)&&KP(t,e,this.changes,5)}}function Dlt(n,t){let e=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,a=Math.max(0,e.left),s=Math.min(i.innerWidth,e.right),c=Math.max(0,e.top),f=Math.min(i.innerHeight,e.bottom);for(let d=n.parentNode;d&&d!=r.body;)if(d.nodeType==1){let h=d,m=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&m.overflow!="visible"){let y=h.getBoundingClientRect();a=Math.max(a,y.left),s=Math.min(s,y.right),c=Math.max(c,y.top),f=Math.min(d==n.parentNode?i.innerHeight:f,y.bottom)}d=m.position=="absolute"||m.position=="fixed"?h.offsetParent:h.parentNode}else{if(d.nodeType!=11)break;d=d.host}return{left:a-e.left,right:Math.max(a,s)-e.left,top:c-(e.top+t),bottom:Math.max(c,f)-(e.top+t)}}function Clt(n,t){let e=n.getBoundingClientRect();return{left:0,right:e.right-e.left,top:t,bottom:e.bottom-(e.top+t)}}class Vk{constructor(t,e,r,i){this.from=t,this.to=e,this.size=r,this.displaySize=i}static same(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],a=e[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(t,e){return wa.replace({widget:new _lt(this.displaySize*(e?t.scaleY:t.scaleX),e)}).range(this.from,this.to)}}class _lt extends k0{constructor(t,e){super(),this.size=t,this.vertical=e}eq(t){return t.size==this.size&&t.vertical==this.vertical}toDOM(){let t=document.createElement("div");return this.vertical?t.style.height=this.size+"px":(t.style.width=this.size+"px",t.style.height="2px",t.style.display="inline-block"),t}get estimatedHeight(){return this.vertical?this.size:-1}}class N9{constructor(t){this.state=t,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=I9,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=sh.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let e=t.facet(bN).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new ylt(e),this.stateDeco=t.facet(fD).filter(r=>typeof r!="function"),this.heightMap=bd.empty().applyChanges(this.stateDeco,yc.empty,this.heightOracle.setDoc(t.doc),[new Ag(0,0,0,t.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=wa.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let t=[this.viewport],{main:e}=this.state.selection;for(let r=0;r<=1;r++){let i=r?e.head:e.anchor;if(!t.some(({from:a,to:s})=>i>=a&&i<=s)){let{from:a,to:s}=this.lineBlockAt(i);t.push(new n_(a,s))}}return this.viewports=t.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let t=this.scaler;return this.scaler=this.heightMap.height<=7e6?I9:new _N(this.heightOracle,this.heightMap,this.viewports),t.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,t=>{this.viewportLines.push(ox(t,this.scaler))})}update(t,e=null){this.state=t.state;let r=this.stateDeco;this.stateDeco=this.state.facet(fD).filter(h=>typeof h!="function");let i=t.changedRanges,a=Ag.extendWithRanges(i,function(m,y,w){let C=new xlt;return sc.compare(m,y,w,C,0),C.changes}(r,this.stateDeco,t?t.changes:ap.empty(this.state.doc.length))),s=this.heightMap.height,c=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);T9(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,t.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=s||ib)&&(t.flags|=2),c?(this.scrollAnchorPos=t.changes.mapPos(c.from,-1),this.scrollAnchorHeight=c.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let f=a.length?this.mapViewport(this.viewport,t.changes):this.viewport;(e&&(e.range.head<f.from||e.range.head>f.to)||!this.viewportIsAppropriate(f))&&(f=this.getViewport(0,e));let d=f.from!=this.viewport.from||f.to!=this.viewport.to;this.viewport=f,t.flags|=this.updateForViewport(),(d||!t.changes.empty||2&t.flags)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,t.changes))),t.flags|=this.computeVisibleRanges(),e&&(this.scrollTarget=e),!this.mustEnforceCursorAssoc&&t.selectionSet&&t.view.lineWrapping&&t.state.selection.main.empty&&t.state.selection.main.assoc&&!t.state.facet(GV)&&(this.mustEnforceCursorAssoc=!0)}measure(t){let e=t.contentDOM,r=window.getComputedStyle(e),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?sh.RTL:sh.LTR;let s=this.heightOracle.mustRefreshForWrapping(a),c=e.getBoundingClientRect(),f=s||this.mustMeasureContent||this.contentDOMHeight!=c.height;this.contentDOMHeight=c.height,this.mustMeasureContent=!1;let d=0,h=0;if(c.width&&c.height){let{scaleX:z,scaleY:q}=DV(e,c);(z>.005&&Math.abs(this.scaleX-z)>.005||q>.005&&Math.abs(this.scaleY-q)>.005)&&(this.scaleX=z,this.scaleY=q,d|=8,s=f=!0)}let m=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;this.paddingTop==m&&this.paddingBottom==y||(this.paddingTop=m,this.paddingBottom=y,d|=10),this.editorWidth!=t.scrollDOM.clientWidth&&(i.lineWrapping&&(f=!0),this.editorWidth=t.scrollDOM.clientWidth,d|=8);let w=t.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=w&&(this.scrollAnchorHeight=-1,this.scrollTop=w),this.scrolledToBottom=SV(t.scrollDOM);let C=(this.printing?Clt:Dlt)(e,this.paddingTop),k=C.top-this.pixelViewport.top,M=C.bottom-this.pixelViewport.bottom;this.pixelViewport=C;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView&&(this.inView=N,N&&(f=!0)),!this.inView&&!this.scrollTarget)return 0;let B=c.width;if(this.contentDOMWidth==B&&this.editorHeight==t.scrollDOM.clientHeight||(this.contentDOMWidth=c.width,this.editorHeight=t.scrollDOM.clientHeight,d|=8),f){let z=t.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(z)&&(s=!0),s||i.lineWrapping&&Math.abs(B-this.contentDOMWidth)>i.charWidth){let{lineHeight:q,charWidth:V,textHeight:X}=t.docView.measureTextSize();s=q>0&&i.refresh(a,q,V,X,B/V,z),s&&(t.docView.minWidth=0,d|=8)}k>0&&M>0?h=Math.max(k,M):k<0&&M<0&&(h=Math.min(k,M)),T9();for(let q of this.viewports){let V=q.from==this.viewport.from?z:t.docView.measureVisibleLineHeights(q);this.heightMap=(s?bd.empty().applyChanges(this.stateDeco,yc.empty,this.heightOracle,[new Ag(0,0,0,t.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new wlt(q.from,V))}ib&&(d|=2)}let L=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return L&&(2&d&&(d|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),d|=this.updateForViewport()),(2&d||L)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,t)),d|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,t.docView.enforceCursorAssoc()),d}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(t,e){let r=.5-Math.max(-.5,Math.min(.5,t/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:s,visibleBottom:c}=this,f=new n_(i.lineAt(s-1e3*r,oh.ByHeight,a,0,0).from,i.lineAt(c+1e3*(1-r),oh.ByHeight,a,0,0).to);if(e){let{head:d}=e.range;if(d<f.from||d>f.to){let h,m=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),y=i.lineAt(d,oh.ByPos,a,0,0);h=e.y=="center"?(y.top+y.bottom)/2-m/2:e.y=="start"||e.y=="nearest"&&d<f.from?y.top:y.bottom-m,f=new n_(i.lineAt(h-500,oh.ByHeight,a,0,0).from,i.lineAt(h+m+500,oh.ByHeight,a,0,0).to)}}return f}mapViewport(t,e){let r=e.mapPos(t.from,-1),i=e.mapPos(t.to,1);return new n_(this.heightMap.lineAt(r,oh.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,oh.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:t,to:e},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(t,oh.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(e,oh.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:c}=this;return(t==0||i<=s-Math.max(10,Math.min(-r,250)))&&(e==this.state.doc.length||a>=c+Math.max(10,Math.min(r,250)))&&i>s-2e3&&a<c+2e3}mapLineGaps(t,e){if(!t.length||e.empty)return t;let r=[];for(let i of t)e.touchesRange(i.from,i.to)||r.push(new Vk(e.mapPos(i.from),e.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(t,e){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,s=i<<1;if(this.defaultTextDirection!=sh.LTR&&!r)return[];let c=[],f=(h,m,y,w)=>{if(m-h<a)return;let C=this.state.selection.main,k=[C.from];C.empty||k.push(C.to);for(let N of k)if(N>h&&N<m)return f(h,N-10,y,w),void f(N+10,m,y,w);let M=function(B,L){for(let z of B)if(L(z))return z}(t,N=>N.from>=y.from&&N.to<=y.to&&Math.abs(N.from-h)<a&&Math.abs(N.to-m)<a&&!k.some(B=>N.from<B&&N.to>B));if(!M){if(m<y.to&&e&&r&&e.visibleRanges.some(B=>B.from<=m&&B.to>=m)){let B=e.moveToLineBoundary(un.cursor(m),!1,!0).head;B>h&&(m=B)}let N=this.gapSize(y,h,m,w);M=new Vk(h,m,N,r||N<2e6?N:2e6)}c.push(M)},d=h=>{if(h.length<s||h.type!=wd.Text)return;let m=function(M,N,B){let L=[],z=M,q=0;return sc.spans(B,M,N,{span(){},point(V,X){V>z&&(L.push({from:z,to:V}),q+=V-z),z=X}},20),z<N&&(L.push({from:z,to:N}),q+=N-z),{total:q,ranges:L}}(h.from,h.to,this.stateDeco);if(m.total<s)return;let y,w,C=this.scrollTarget?this.scrollTarget.range.head:null;if(r){let k,M,N=i/this.heightOracle.lineLength*this.heightOracle.lineHeight;if(C!=null){let B=i_(m,C),L=((this.visibleBottom-this.visibleTop)/2+N)/h.height;k=B-L,M=B+L}else k=(this.visibleTop-h.top-N)/h.height,M=(this.visibleBottom-h.top+N)/h.height;y=r_(m,k),w=r_(m,M)}else{let k=m.total*this.heightOracle.charWidth,M=i*this.heightOracle.charWidth,N=0;if(k>2e6)for(let V of t)V.from>=h.from&&V.from<h.to&&V.size!=V.displaySize&&V.from*this.heightOracle.charWidth+N<this.pixelViewport.left&&(N=V.size-V.displaySize);let B,L,z=this.pixelViewport.left+N,q=this.pixelViewport.right+N;if(C!=null){let V=i_(m,C),X=((q-z)/2+M)/k;B=V-X,L=V+X}else B=(z-M)/k,L=(q+M)/k;y=r_(m,B),w=r_(m,L)}y>h.from&&f(h.from,y,h,m),w<h.to&&f(w,h.to,h,m)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(d):d(h);return c}gapSize(t,e,r,i){let a=i_(i,r)-i_(i,e);return this.heightOracle.lineWrapping?t.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(t){Vk.same(t,this.lineGaps)||(this.lineGaps=t,this.lineGapDeco=wa.set(t.map(e=>e.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let e=[];sc.spans(t,this.viewport.from,this.viewport.to,{span(i,a){e.push({from:i,to:a})},point(){}},20);let r=e.length!=this.visibleRanges.length||this.visibleRanges.some((i,a)=>i.from!=e[a].from||i.to!=e[a].to);return this.visibleRanges=e,r?4:0}lineBlockAt(t){return t>=this.viewport.from&&t<=this.viewport.to&&this.viewportLines.find(e=>e.from<=t&&e.to>=t)||ox(this.heightMap.lineAt(t,oh.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(t){return t>=this.viewportLines[0].top&&t<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(e=>e.top<=t&&e.bottom>=t)||ox(this.heightMap.lineAt(this.scaler.fromDOM(t),oh.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(t){let e=this.lineBlockAtHeight(t+8);return e.from>=this.viewport.from||this.viewportLines[0].top-t>200?e:this.viewportLines[0]}elementAtHeight(t){return ox(this.heightMap.blockAt(this.scaler.fromDOM(t),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class n_{constructor(t,e){this.from=t,this.to=e}}function r_({total:n,ranges:t},e){if(e<=0)return t[0].from;if(e>=1)return t[t.length-1].to;let r=Math.floor(n*e);for(let i=0;;i++){let{from:a,to:s}=t[i],c=s-a;if(r<=c)return a+r;r-=c}}function i_(n,t){let e=0;for(let{from:r,to:i}of n.ranges){if(t<=i){e+=t-r;break}e+=i-r}return e/n.total}const I9={toDOM:n=>n,fromDOM:n=>n,scale:1,eq(n){return n==this}};class _N{constructor(t,e,r){let i=0,a=0,s=0;this.viewports=r.map(({from:c,to:f})=>{let d=e.lineAt(c,oh.ByPos,t,0,0).top,h=e.lineAt(f,oh.ByPos,t,0,0).bottom;return i+=h-d,{from:c,to:f,top:d,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(e.height-i);for(let c of this.viewports)c.domTop=s+(c.top-a)*this.scale,s=c.domBottom=c.domTop+(c.bottom-c.top),a=c.bottom}toDOM(t){for(let e=0,r=0,i=0;;e++){let a=e<this.viewports.length?this.viewports[e]:null;if(!a||t<a.top)return i+(t-r)*this.scale;if(t<=a.bottom)return a.domTop+(t-a.top);r=a.bottom,i=a.domBottom}}fromDOM(t){for(let e=0,r=0,i=0;;e++){let a=e<this.viewports.length?this.viewports[e]:null;if(!a||t<a.domTop)return r+(t-i)/this.scale;if(t<=a.domBottom)return a.top+(t-a.domTop);r=a.bottom,i=a.domBottom}}eq(t){return t instanceof _N&&this.scale==t.scale&&this.viewports.length==t.viewports.length&&this.viewports.every((e,r)=>e.from==t.viewports[r].from&&e.to==t.viewports[r].to)}}function ox(n,t){if(t.scale==1)return n;let e=t.toDOM(n.top),r=t.toDOM(n.bottom);return new Pm(n.from,n.length,e,r-e,Array.isArray(n._content)?n._content.map(i=>ox(i,t)):n._content)}const o_=Yr.define({combine:n=>n.join(" ")}),nT=Yr.define({combine:n=>n.indexOf(!0)>-1}),rT=x0.newName(),fq=x0.newName(),hq=x0.newName(),pq={"&light":"."+fq,"&dark":"."+hq};function iT(n,t,e){return new x0(t,{finish:r=>/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!e||!e[i])throw new RangeError(`Unsupported selector: ${i}`);return e[i]}):n+" "+r})}const Slt=iT("."+rT,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},pq),Elt={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},qk=ri.ie&&ri.ie_version<=11;class Alt{constructor(t){this.view=t,this.active=!1,this.editContext=null,this.selectionRange=new Qut,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=t.contentDOM,this.observer=new MutationObserver(e=>{for(let r of e)this.queue.push(r);(ri.ie&&ri.ie_version<=11||ri.ios&&t.composing)&&e.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),!window.EditContext||t.constructor.EDIT_CONTEXT===!1||ri.chrome&&ri.chrome_version<126||(this.editContext=new klt(t),t.state.facet(Uv)&&(t.contentDOM.editContext=this.editContext.editContext)),qk&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var e;((e=this.view.docView)===null||e===void 0?void 0:e.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(t.scrollDOM)),this.addWindowListeners(this.win=t.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(e=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),e.length>0&&e[e.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(e=>{e.length>0&&e[e.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(t){this.view.inputState.runHandlers("scroll",t),this.intersecting&&this.view.measure()}onScroll(t){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(t)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(t){(t.type!="change"&&t.type||t.matches)&&(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(t){if(this.gapIntersection&&(t.length!=this.gaps.length||this.gaps.some((e,r)=>e!=t[r]))){this.gapIntersection.disconnect();for(let e of t)this.gapIntersection.observe(e);this.gaps=t}}onSelectionChange(t){let e=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(Uv)?r.root.activeElement!=this.dom:!hS(this.dom,i))return;let a=i.anchorNode&&r.docView.nearest(i.anchorNode);a&&a.ignoreEvent(t)?e||(this.selectionChanged=!1):(ri.ie&&ri.ie_version<=11||ri.android&&ri.chrome)&&!r.state.selection.main.empty&&i.focusNode&&_x(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:t}=this,e=uD(t.root);if(!e)return!1;let r=ri.safari&&t.root.nodeType==11&&t.root.activeElement==this.dom&&function(s,c){if(c.getComposedRanges){let h=c.getComposedRanges(s.root)[0];if(h)return R9(s,h)}let f=null;function d(h){h.preventDefault(),h.stopImmediatePropagation(),f=h.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",d,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",d,!0),f?R9(s,f):null}(this.view,e)||e;if(!r||this.selectionRange.eq(r))return!1;let i=hS(this.dom,r);return i&&!this.selectionChanged&&t.inputState.lastFocusTime>Date.now()-200&&t.inputState.lastTouchTime<Date.now()-300&&function(s,c){let f=c.focusNode,d=c.focusOffset;if(!f||c.anchorNode!=f||c.anchorOffset!=d)return!1;for(d=Math.min(d,qm(f));;)if(d){if(f.nodeType!=1)return!1;let h=f.childNodes[d-1];h.contentEditable=="false"?d--:(f=h,d=qm(f))}else{if(f==s)return!0;d=Dy(f),f=f.parentNode}}(this.dom,r)?(this.view.inputState.lastFocusTime=0,t.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(t,e){this.selectionRange.set(t.node,t.offset,e.node,e.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let t=0,e=null;for(let r=this.dom;r;)if(r.nodeType==1)!e&&t<this.scrollTargets.length&&this.scrollTargets[t]==r?t++:e||(e=this.scrollTargets.slice(0,t)),e&&e.push(r),r=r.assignedSlot||r.parentNode;else{if(r.nodeType!=11)break;r=r.host}if(t<this.scrollTargets.length&&!e&&(e=this.scrollTargets.slice(0,t)),e){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=e)r.addEventListener("scroll",this.onScroll)}}ignore(t){if(!this.active)return t();try{return this.stop(),t()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Elt),qk&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),qk&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(t,e){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&Ow(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}this.delayedAndroidKey&&t!="Enter"||(this.delayedAndroidKey={key:t,keyCode:e,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}processRecords(){let t=this.pendingRecords();t.length&&(this.queue=[]);let e=-1,r=-1,i=!1;for(let a of t){let s=this.readMutation(a);s&&(s.typeOver&&(i=!0),e==-1?{from:e,to:r}=s:(e=Math.min(s.from,e),r=Math.max(s.to,r)))}return{from:e,to:r,typeOver:i}}readChange(){let{from:t,to:e,typeOver:r}=this.processRecords(),i=this.selectionChanged&&hS(this.dom,this.selectionRange);if(t<0&&!i)return null;t>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new flt(this.view,t,e,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(t=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;t&&this.readSelectionRange();let e=this.readChange();if(!e)return this.view.requestMeasure(),!1;let r=this.view.state,i=rq(this.view,e);return this.view.state==r&&(e.domChanged||e.newSel&&!e.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(t){let e=this.view.docView.nearest(t.target);if(!e||e.ignoreMutation(t))return null;if(e.markDirty(t.type=="attributes"),t.type=="attributes"&&(e.flags|=4),t.type=="childList"){let r=B9(e,t.previousSibling||t.target.previousSibling,-1),i=B9(e,t.nextSibling||t.target.nextSibling,1);return{from:r?e.posAfter(r):e.posAtStart,to:i?e.posBefore(i):e.posAtEnd,typeOver:!1}}return t.type=="characterData"?{from:e.posAtStart,to:e.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}:null}setWindow(t){t!=this.win&&(this.removeWindowListeners(this.win),this.win=t,this.addWindowListeners(this.win))}addWindowListeners(t){t.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):t.addEventListener("beforeprint",this.onPrint),t.addEventListener("scroll",this.onScroll),t.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(t){t.removeEventListener("scroll",this.onScroll),t.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):t.removeEventListener("beforeprint",this.onPrint),t.document.removeEventListener("selectionchange",this.onSelectionChange)}update(t){this.editContext&&(this.editContext.update(t),t.startState.facet(Uv)!=t.state.facet(Uv)&&(t.view.contentDOM.editContext=t.state.facet(Uv)?this.editContext.editContext:null))}destroy(){var t,e,r;this.stop(),(t=this.intersection)===null||t===void 0||t.disconnect(),(e=this.gapIntersection)===null||e===void 0||e.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function B9(n,t,e){for(;t;){let r=kf.get(t);if(r&&r.parent==n)return r;let i=t.parentNode;t=i!=n.dom?i:e>0?t.nextSibling:t.previousSibling}return null}function R9(n,t){let e=t.startContainer,r=t.startOffset,i=t.endContainer,a=t.endOffset,s=n.docView.domAtPos(n.state.selection.main.anchor);return _x(s.node,s.offset,i,a)&&([e,r,i,a]=[i,a,e,r]),{anchorNode:e,anchorOffset:r,focusNode:i,focusOffset:a}}class klt{constructor(t){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(t.state);let e=this.editContext=new window.EditContext({text:t.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,t.state.selection.main.anchor))),selectionEnd:this.toContextPos(t.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=t.state.selection.main,a={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:yc.of(r.text.split(`
`))};a.from==this.from&&i<this.from?a.from=i:a.to==this.to&&i>this.to&&(a.to=i),(a.from!=a.to||a.insert.length)&&(this.pendingContextChange=a,t.state.readOnly||DN(t,a,un.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(t.state),this.setSelection(t.state)))},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let s=this.toEditorPos(r.rangeStart),c=this.toEditorPos(r.rangeEnd);s<c;s++){let f=t.coordsForChar(s);a=f&&new DOMRect(f.left,f.top,f.right-f.left,f.bottom-f.top)||a||new DOMRect,i.push(a)}e.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let s=a.underlineStyle,c=a.underlineThickness;if(s!="None"&&c!="None"){let f=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${c=="Thin"?1:2}px`;i.push(wa.mark({attributes:{style:f}}).range(this.toEditorPos(a.rangeStart),this.toEditorPos(a.rangeEnd)))}}t.dispatch({effects:XV.of(wa.set(i))})},this.handlers.compositionstart=()=>{t.inputState.composing<0&&(t.inputState.composing=0,t.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{t.inputState.composing=-1,t.inputState.compositionFirstChange=null};for(let r in this.handlers)e.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=uD(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(t){let e=0,r=!1,i=this.pendingContextChange;return t.changes.iterChanges((a,s,c,f,d)=>{if(r)return;let h=d.length-(s-a);if(i&&s>=i.to){if(i.from==a&&i.to==s&&i.insert.eq(d))return i=this.pendingContextChange=null,e+=h,void(this.to+=h);i=null,this.revertPending(t.state)}if(a+=e,(s+=e)<=this.from)this.from+=h,this.to+=h;else if(a<this.to){if(a<this.from||s>this.to||this.to-this.from+d.length>3e4)return void(r=!0);this.editContext.updateText(this.toContextPos(a),this.toContextPos(s),d.toString()),this.to+=h}e+=h}),i&&!r&&this.revertPending(t.state),!r}update(t){let e=this.pendingContextChange;this.applyEdits(t)&&this.rangeIsValid(t.state)?(t.docChanged||t.selectionSet||e)&&this.setSelection(t.state):(this.pendingContextChange=null,this.resetRange(t.state),this.editContext.updateText(0,this.editContext.text.length,t.state.doc.sliceString(this.from,this.to)),this.setSelection(t.state)),(t.geometryChanged||t.docChanged||t.selectionSet)&&t.view.requestMeasure(this.measureReq)}resetRange(t){let{head:e}=t.selection.main;this.from=Math.max(0,e-1e4),this.to=Math.min(t.doc.length,e+1e4)}revertPending(t){let e=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(e.from),this.toContextPos(e.from+e.insert.length),t.doc.sliceString(e.from,e.to))}setSelection(t){let{main:e}=t.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,e.anchor))),i=this.toContextPos(e.head);this.editContext.selectionStart==r&&this.editContext.selectionEnd==i||this.editContext.updateSelection(r,i)}rangeIsValid(t){let{head:e}=t.selection.main;return!(this.from>0&&e-this.from<500||this.to<t.doc.length&&this.to-e<500||this.to-this.from>3e4)}toEditorPos(t){return t+this.from}toContextPos(t){return t-this.from}destroy(){for(let t in this.handlers)this.editContext.removeEventListener(t,this.handlers[t])}}class ci{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(t={}){var e;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),t.parent&&t.parent.appendChild(this.dom);let{dispatch:r}=t;this.dispatchTransactions=t.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=t.root||function(a){for(;a;){if(a&&(a.nodeType==9||a.nodeType==11&&a.host))return a;a=a.assignedSlot||a.parentNode}return null}(t.parent)||document,this.viewState=new N9(t.state||vc.create(t)),t.scrollTo&&t.scrollTo.is(t_)&&(this.viewState.scrollTarget=t.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(nx).map(i=>new $k(i));for(let i of this.plugins)i.update(this);this.observer=new Alt(this),this.inputState=new hlt(this),this.inputState.ensureHandlers(this.plugins),this.docView=new h9(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((e=document.fonts)===null||e===void 0)&&e.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...t){let e=t.length==1&&t[0]instanceof lp?t:t.length==1&&Array.isArray(t[0])?t[0]:[this.state.update(...t)];this.dispatchTransactions(e,this)}update(t){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let e,r=!1,i=!1,a=this.state;for(let y of t){if(y.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=y.state}if(this.destroyed)return void(this.viewState.state=a);let s=this.hasFocus,c=0,f=null;t.some(y=>y.annotation(uq))?(this.inputState.notifiedFocused=s,c=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,f=lq(a,s),f||(c=1));let d=this.observer.delayedAndroidKey,h=null;if(d?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(h=null)):this.observer.clear(),a.facet(vc.phrases)!=this.state.facet(vc.phrases))return this.setState(a);e=B2.create(this,a,t),e.flags|=c;let m=this.viewState.scrollTarget;try{this.updateState=2;for(let y of t){if(m&&(m=m.map(y.changes)),y.scrollIntoView){let{main:w}=y.state.selection;m=new Nw(w.empty?w:un.cursor(w.head,w.head>w.anchor?-1:1))}for(let w of y.effects)w.is(t_)&&(m=w.value.clip(this.state))}this.viewState.update(e,m),this.bidiCache=j2.update(this.bidiCache,e.changes),e.empty||(this.updatePlugins(e),this.inputState.update(e)),r=this.docView.update(e),this.state.facet(rx)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(t),this.docView.updateSelection(r,t.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(e.startState.facet(o_)!=e.state.facet(o_)&&(this.viewState.mustMeasureContent=!0),(r||i||m||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),r&&this.docViewUpdate(),!e.empty)for(let y of this.state.facet(QP))try{y(e)}catch(w){Ld(this.state,w,"update listener")}(f||h)&&Promise.resolve().then(()=>{f&&this.state==f.startState&&this.dispatch(f),h&&!rq(this,h)&&d.force&&Ow(this.contentDOM,d.key,d.keyCode)})}setState(t){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed)return void(this.viewState.state=t);this.updateState=2;let e=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new N9(t),this.plugins=t.facet(nx).map(r=>new $k(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new h9(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}e&&this.focus(),this.requestMeasure()}updatePlugins(t){let e=t.startState.facet(nx),r=t.state.facet(nx);if(e!=r){let i=[];for(let a of r){let s=e.indexOf(a);if(s<0)i.push(new $k(a));else{let c=this.plugins[s];c.mustUpdate=t,i.push(c)}}for(let a of this.plugins)a.mustUpdate!=t&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=t;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);e!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let t of this.plugins){let e=t.value;if(e&&e.docViewUpdate)try{e.docViewUpdate(this)}catch(r){Ld(this.state,r,"doc view update listener")}}}measure(t=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey)return this.measureScheduled=-1,void this.requestMeasure();this.measureScheduled=0,t&&this.observer.forceFlush();let e=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let c=0;;c++){if(s<0)if(SV(r))a=-1,s=this.viewState.heightMap.height;else{let w=this.viewState.scrollAnchorAt(i);a=w.from,s=w.top}this.updateState=1;let f=this.viewState.measure(this);if(!f&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(c>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let d=[];4&f||([this.measureRequests,d]=[d,this.measureRequests]);let h=d.map(w=>{try{return w.read(this)}catch(C){return Ld(this.state,C),j9}}),m=B2.create(this,this.state,[]),y=!1;m.flags|=f,e?e.flags|=f:e=m,this.updateState=2,m.empty||(this.updatePlugins(m),this.inputState.update(m),this.updateAttrs(),y=this.docView.update(m),y&&this.docViewUpdate());for(let w=0;w<d.length;w++)if(h[w]!=j9)try{let C=d[w];C.write&&C.write(h[w],this)}catch(C){Ld(this.state,C)}if(y&&this.docView.updateSelection(!0),!m.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight){if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}{let w=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-s;if(w>1||w<-1){i+=w,r.scrollTop=i/this.scaleY,s=-1;continue}}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(e&&!e.empty)for(let c of this.state.facet(QP))c(e)}get themeClasses(){return rT+" "+(this.state.facet(nT)?hq:fq)+" "+this.state.facet(o_)}updateAttrs(){let t=L9(this,JV,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),e={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Uv)?"true":"false",class:"cm-content",style:`${ri.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(e["aria-readonly"]="true"),L9(this,bN,e);let r=this.observer.ignore(()=>{let i=qP(this.contentDOM,this.contentAttrs,e),a=qP(this.dom,this.editorAttrs,t);return i||a});return this.editorAttrs=t,this.contentAttrs=e,r}showAnnouncements(t){let e=!0;for(let r of t)for(let i of r.effects)i.is(ci.announce)&&(e&&(this.announceDOM.textContent=""),e=!1,this.announceDOM.appendChild(document.createElement("div")).textContent=i.value)}mountStyles(){this.styleModules=this.state.facet(rx);let t=this.state.facet(ci.cspNonce);x0.mount(this.root,this.styleModules.concat(Slt).reverse(),t?{nonce:t}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(t){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),t){if(this.measureRequests.indexOf(t)>-1)return;if(t.key!=null){for(let e=0;e<this.measureRequests.length;e++)if(this.measureRequests[e].key===t.key)return void(this.measureRequests[e]=t)}this.measureRequests.push(t)}}plugin(t){let e=this.pluginMap.get(t);return(e===void 0||e&&e.spec!=t)&&this.pluginMap.set(t,e=this.plugins.find(r=>r.spec==t)||null),e&&e.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(t){return this.readMeasured(),this.viewState.elementAtHeight(t)}lineBlockAtHeight(t){return this.readMeasured(),this.viewState.lineBlockAtHeight(t)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(t){return this.viewState.lineBlockAt(t)}get contentHeight(){return this.viewState.contentHeight}moveByChar(t,e,r){return Hk(this,t,y9(this,t,e,r))}moveByGroup(t,e){return Hk(this,t,y9(this,t,e,r=>function(a,s,c){let f=a.state.charCategorizer(s),d=f(c);return h=>{let m=f(h);return d==bh.Space&&(d=m),d==m}}(this,t.head,r)))}visualLineSide(t,e){let r=this.bidiSpans(t),i=this.textDirectionAt(t.from),a=r[e?r.length-1:0];return un.cursor(a.side(e,i)+t.from,a.forward(!e,i)?1:-1)}moveToLineBoundary(t,e,r=!0){return function(a,s,c,f){let d=tT(a,s.head),h=f&&d.type==wd.Text&&(a.lineWrapping||d.widgetLineBreaks)?a.coordsAtPos(s.assoc<0&&s.head>d.from?s.head-1:s.head):null;if(h){let m=a.dom.getBoundingClientRect(),y=a.textDirectionAt(d.from),w=a.posAtCoords({x:c==(y==sh.LTR)?m.right-1:m.left+1,y:(h.top+h.bottom)/2});if(w!=null)return un.cursor(w,c?-1:1)}return un.cursor(c?d.to:d.from,c?-1:1)}(this,t,e,r)}moveVertically(t,e,r){return Hk(this,t,function(a,s,c,f){let d=s.head,h=c?1:-1;if(d==(c?a.state.doc.length:0))return un.cursor(d,s.assoc);let m,y=s.goalColumn,w=a.contentDOM.getBoundingClientRect(),C=a.coordsAtPos(d,s.assoc||-1),k=a.documentTop;if(C)y==null&&(y=C.left-w.left),m=h<0?C.top:C.bottom;else{let B=a.viewState.lineBlockAt(d);y==null&&(y=Math.min(w.right-w.left,a.defaultCharacterWidth*(d-B.from))),m=(h<0?B.top:B.bottom)+k}let M=w.left+y,N=f??a.viewState.heightOracle.textHeight>>1;for(let B=0;;B+=10){let L=m+(N+B)*h,z=m9(a,{x:M,y:L},!1,h);if(L<w.top||L>w.bottom||(h<0?z<d:z>d)){let q=a.docView.coordsForChar(z),V=!q||L<q.top?-1:1;return un.cursor(z,V,void 0,y)}}}(this,t,e,r))}domAtPos(t){return this.docView.domAtPos(t)}posAtDOM(t,e=0){return this.docView.posFromDOM(t,e)}posAtCoords(t,e=!0){return this.readMeasured(),m9(this,t,e)}coordsAtPos(t,e=1){this.readMeasured();let r=this.docView.coordsAt(t,e);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(t),a=this.bidiSpans(i);return WE(r,a[Xv.find(a,t-i.from,-1,e)].dir==sh.LTR==e>0)}coordsForChar(t){return this.readMeasured(),this.docView.coordsForChar(t)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(t){return!this.state.facet(KV)||t<this.viewport.from||t>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(t))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(t){if(t.length>Mlt)return c9(t.length);let e,r=this.textDirectionAt(t.from);for(let a of this.bidiCache)if(a.from==t.from&&a.dir==r&&(a.fresh||LV(a.isolates,e=f9(this,t))))return a.order;e||(e=f9(this,t));let i=function(s,c,f){if(!s)return[new Xv(0,0,c==vN?1:0)];if(c==_y&&!f.length&&!nlt.test(s))return c9(s.length);if(f.length)for(;s.length>Ef.length;)Ef[Ef.length]=256;let d=[],h=c==_y?0:1;return JP(s,h,h,f,0,s.length,d),d}(t.text,r,e);return this.bidiCache.push(new j2(t.from,t.to,r,e,!0,i)),i}get hasFocus(){var t;return(this.dom.ownerDocument.hasFocus()||ri.safari&&((t=this.inputState)===null||t===void 0?void 0:t.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{CV(this.contentDOM),this.docView.updateSelection()})}setRoot(t){this._root!=t&&(this._root=t,this.observer.setWindow((t.nodeType==9?t:t.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let t of this.plugins)t.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(t,e={}){return t_.of(new Nw(typeof t=="number"?un.cursor(t):t,e.y,e.x,e.yMargin,e.xMargin))}scrollSnapshot(){let{scrollTop:t,scrollLeft:e}=this.scrollDOM,r=this.viewState.scrollAnchorAt(t);return t_.of(new Nw(un.cursor(r.from),"start","start",r.top-t,e,!0))}setTabFocusMode(t){t==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof t=="boolean"?this.inputState.tabFocusMode=t?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+t)}static domEventHandlers(t){return Zh.define(()=>({}),{eventHandlers:t})}static domEventObservers(t){return Zh.define(()=>({}),{eventObservers:t})}static theme(t,e){let r=x0.newName(),i=[o_.of(r),rx.of(iT(`.${r}`,t))];return e&&e.dark&&i.push(nT.of(!0)),i}static baseTheme(t){return Py.lowest(rx.of(iT("."+rT,t,pq)))}static findFromDOM(t){var e;let r=t.querySelector(".cm-content"),i=r&&kf.get(r)||kf.get(t);return((e=i==null?void 0:i.rootView)===null||e===void 0?void 0:e.view)||null}}ci.styleModule=rx,ci.inputHandler=VV,ci.clipboardInputFilter=yN,ci.clipboardOutputFilter=wN,ci.scrollHandler=YV,ci.focusChangeEffect=qV,ci.perLineTextDirection=KV,ci.exceptionSink=HV,ci.updateListener=QP,ci.editable=Uv,ci.mouseSelectionStyle=WV,ci.dragMovesSelection=$V,ci.clickAddsSelectionRange=UV,ci.decorations=fD,ci.outerDecorations=QV,ci.atomicRanges=xN,ci.bidiIsolatedRanges=ZV,ci.scrollMargins=tq,ci.darkTheme=nT,ci.cspNonce=Yr.define({combine:n=>n.length?n[0]:""}),ci.contentAttributes=bN,ci.editorAttributes=JV,ci.lineWrapping=ci.contentAttributes.of({class:"cm-lineWrapping"}),ci.announce=qs.define();const Mlt=4096,j9={};class j2{constructor(t,e,r,i,a,s){this.from=t,this.to=e,this.dir=r,this.isolates=i,this.fresh=a,this.order=s}static update(t,e){if(e.empty&&!t.some(a=>a.fresh))return t;let r=[],i=t.length?t[t.length-1].dir:sh.LTR;for(let a=Math.max(0,t.length-10);a<t.length;a++){let s=t[a];s.dir!=i||e.touchesRange(s.from,s.to)||r.push(new j2(e.mapPos(s.from,1),e.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function L9(n,t,e){for(let r=n.state.facet(t),i=r.length-1;i>=0;i--){let a=r[i],s=typeof a=="function"?a(n):a;s&&VP(s,e)}return e}const Flt=ri.mac?"mac":ri.windows?"win":ri.linux?"linux":"key";function a_(n,t,e){return t.altKey&&(n="Alt-"+n),t.ctrlKey&&(n="Ctrl-"+n),t.metaKey&&(n="Meta-"+n),e!==!1&&t.shiftKey&&(n="Shift-"+n),n}const SN=Yr.define({enables:Py.default(ci.domEventHandlers({keydown:(n,t)=>gq(dq(t.state),n,t,"editor")}))}),z9=new WeakMap;function dq(n){let t=n.facet(SN),e=z9.get(t);return e||z9.set(t,e=function(i,a=Flt){let s=Object.create(null),c=Object.create(null),f=(h,m)=>{let y=c[h];if(y==null)c[h]=m;else if(y!=m)throw new Error("Key binding "+h+" is used both as a regular binding and as a multi-stroke prefix")},d=(h,m,y,w,C)=>{var k,M;let N=s[h]||(s[h]=Object.create(null)),B=m.split(/ (?!$)/).map(q=>function(X,nt){const it=X.split(/-(?!$)/);let ct,ft,gt,Ct,kt=it[it.length-1];kt=="Space"&&(kt=" ");for(let Tt=0;Tt<it.length-1;++Tt){const At=it[Tt];if(/^(cmd|meta|m)$/i.test(At))Ct=!0;else if(/^a(lt)?$/i.test(At))ct=!0;else if(/^(c|ctrl|control)$/i.test(At))ft=!0;else if(/^s(hift)?$/i.test(At))gt=!0;else{if(!/^mod$/i.test(At))throw new Error("Unrecognized modifier name: "+At);nt=="mac"?Ct=!0:ft=!0}}return ct&&(kt="Alt-"+kt),ft&&(kt="Ctrl-"+kt),Ct&&(kt="Meta-"+kt),gt&&(kt="Shift-"+kt),kt}(q,a));for(let q=1;q<B.length;q++){let V=B.slice(0,q).join(" ");f(V,!0),N[V]||(N[V]={preventDefault:!0,stopPropagation:!1,run:[X=>{let nt=$v={view:X,prefix:V,scope:h};return setTimeout(()=>{$v==nt&&($v=null)},Plt),!0}]})}let L=B.join(" ");f(L,!1);let z=N[L]||(N[L]={preventDefault:!1,stopPropagation:!1,run:((M=(k=N._any)===null||k===void 0?void 0:k.run)===null||M===void 0?void 0:M.slice())||[]});y&&z.run.push(y),w&&(z.preventDefault=!0),C&&(z.stopPropagation=!0)};for(let h of i){let m=h.scope?h.scope.split(" "):["editor"];if(h.any)for(let w of m){let C=s[w]||(s[w]=Object.create(null));C._any||(C._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:k}=h;for(let M in C)C[M].run.push(N=>k(N,oT))}let y=h[a]||h.key;if(y)for(let w of m)d(w,y,h.run,h.preventDefault,h.stopPropagation),h.shift&&d(w,"Shift-"+y,h.shift,h.preventDefault,h.stopPropagation)}return s}(t.reduce((r,i)=>r.concat(i),[]))),e}let $v=null;const Plt=4e3;let oT=null;function gq(n,t,e,r){oT=t;let i=function(M){var N=!(Yut&&M.metaKey&&M.shiftKey&&!M.ctrlKey&&!M.altKey||Xut&&M.shiftKey&&M.key&&M.key.length==1||M.key=="Unidentified")&&M.key||(M.shiftKey?sD:D0)[M.keyCode]||M.key||"Unidentified";return N=="Esc"&&(N="Escape"),N=="Del"&&(N="Delete"),N=="Left"&&(N="ArrowLeft"),N=="Up"&&(N="ArrowUp"),N=="Right"&&(N="ArrowRight"),N=="Down"&&(N="ArrowDown"),N}(t),a=Cg(Ip(i,0))==i.length&&i!=" ",s="",c=!1,f=!1,d=!1;$v&&$v.view==e&&$v.scope==r&&(s=$v.prefix+" ",oq.indexOf(t.keyCode)<0&&(f=!0,$v=null));let h,m,y=new Set,w=k=>{if(k){for(let M of k.run)if(!y.has(M)&&(y.add(M),M(e)))return k.stopPropagation&&(d=!0),!0;k.preventDefault&&(k.stopPropagation&&(d=!0),f=!0)}return!1},C=n[r];return C&&(w(C[s+a_(i,t,!a)])?c=!0:a&&(t.altKey||t.metaKey||t.ctrlKey)&&!(ri.windows&&t.ctrlKey&&t.altKey)&&(h=D0[t.keyCode])&&h!=i?(w(C[s+a_(h,t,!0)])||t.shiftKey&&(m=sD[t.keyCode])!=i&&m!=h&&w(C[s+a_(m,t,!1)]))&&(c=!0):a&&t.shiftKey&&w(C[s+a_(i,t,!0)])&&(c=!0),!c&&w(C._any)&&(c=!0)),f&&(c=!0),c&&d&&t.stopPropagation(),oT=null,c}class hD{constructor(t,e,r,i,a){this.className=t,this.left=e,this.top=r,this.width=i,this.height=a}draw(){let t=document.createElement("div");return t.className=this.className,this.adjust(t),t}update(t,e){return e.className==this.className&&(this.adjust(t),!0)}adjust(t){t.style.left=this.left+"px",t.style.top=this.top+"px",this.width!=null&&(t.style.width=this.width+"px"),t.style.height=this.height+"px"}eq(t){return this.left==t.left&&this.top==t.top&&this.width==t.width&&this.height==t.height&&this.className==t.className}static forRange(t,e,r){if(r.empty){let i=t.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=U9(t);return[new hD(e,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}return function(a,s,c){if(c.to<=a.viewport.from||c.from>=a.viewport.to)return[];let f=Math.max(c.from,a.viewport.from),d=Math.min(c.to,a.viewport.to),h=a.textDirection==sh.LTR,m=a.contentDOM,y=m.getBoundingClientRect(),w=U9(a),C=m.querySelector(".cm-line"),k=C&&window.getComputedStyle(C),M=y.left+(k?parseInt(k.paddingLeft)+Math.min(0,parseInt(k.textIndent)):0),N=y.right-(k?parseInt(k.paddingRight):0),B=tT(a,f),L=tT(a,d),z=B.type==wd.Text?B:null,q=L.type==wd.Text?L:null;if(z&&(a.lineWrapping||B.widgetLineBreaks)&&(z=$9(a,f,1,z)),q&&(a.lineWrapping||L.widgetLineBreaks)&&(q=$9(a,d,-1,q)),z&&q&&z.from==q.from&&z.to==q.to)return X(nt(c.from,c.to,z));{let ct=z?nt(c.from,null,z):it(B,!1),ft=q?nt(null,c.to,q):it(L,!0),gt=[];return(z||B).to<(q||L).from-(z&&q?1:0)||B.widgetLineBreaks>1&&ct.bottom+a.defaultLineHeight/2<ft.top?gt.push(V(M,ct.bottom,N,ft.top)):ct.bottom<ft.top&&a.elementAtHeight((ct.bottom+ft.top)/2).type==wd.Text&&(ct.bottom=ft.top=(ct.bottom+ft.top)/2),X(ct).concat(gt).concat(X(ft))}function V(ct,ft,gt,Ct){return new hD(s,ct-w.left,ft-w.top-.01,gt-ct,Ct-ft+.01)}function X({top:ct,bottom:ft,horizontal:gt}){let Ct=[];for(let kt=0;kt<gt.length;kt+=2)Ct.push(V(gt[kt],ct,gt[kt+1],ft));return Ct}function nt(ct,ft,gt){let Ct=1e9,kt=-1e9,Tt=[];function At(Et,mt,vt,Lt,ee){let pe=a.coordsAtPos(Et,Et==gt.to?-2:2),ve=a.coordsAtPos(vt,vt==gt.from?2:-2);pe&&ve&&(Ct=Math.min(pe.top,ve.top,Ct),kt=Math.max(pe.bottom,ve.bottom,kt),ee==sh.LTR?Tt.push(h&&mt?M:pe.left,h&&Lt?N:ve.right):Tt.push(!h&&Lt?M:ve.left,!h&&mt?N:pe.right))}let Zt=ct??gt.from,_t=ft??gt.to;for(let Et of a.visibleRanges)if(Et.to>Zt&&Et.from<_t)for(let mt=Math.max(Et.from,Zt),vt=Math.min(Et.to,_t);;){let Lt=a.state.doc.lineAt(mt);for(let ee of a.bidiSpans(Lt)){let pe=ee.from+Lt.from,ve=ee.to+Lt.from;if(pe>=vt)break;ve>mt&&At(Math.max(pe,mt),ct==null&&pe<=Zt,Math.min(ve,vt),ft==null&&ve>=_t,ee.dir)}if(mt=Lt.to+1,mt>=vt)break}return Tt.length==0&&At(Zt,ct==null,_t,ft==null,a.textDirection),{top:Ct,bottom:kt,horizontal:Tt}}function it(ct,ft){let gt=y.top+(ft?ct.top:ct.bottom);return{top:gt,bottom:gt,horizontal:[]}}}(t,e,r)}}function U9(n){let t=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==sh.LTR?t.left:t.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:t.top-n.scrollDOM.scrollTop*n.scaleY}}function $9(n,t,e,r){let i=n.coordsAtPos(t,2*e);if(!i)return r;let a=n.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,c=n.posAtCoords({x:a.left+1,y:s}),f=n.posAtCoords({x:a.right-1,y:s});return c==null||f==null?r:{from:Math.max(r.from,Math.min(c,f)),to:Math.min(r.to,Math.max(c,f))}}class Tlt{constructor(t,e){this.view=t,this.layer=e,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=t.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),e.above&&this.dom.classList.add("cm-layer-above"),e.class&&this.dom.classList.add(e.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(t.state),t.requestMeasure(this.measureReq),e.mount&&e.mount(this.dom,t)}update(t){t.startState.facet(gS)!=t.state.facet(gS)&&this.setOrder(t.state),(this.layer.update(t,this.dom)||t.geometryChanged)&&(this.scale(),t.view.requestMeasure(this.measureReq))}docViewUpdate(t){this.layer.updateOnDocViewUpdate!==!1&&t.requestMeasure(this.measureReq)}setOrder(t){let e=0,r=t.facet(gS);for(;e<r.length&&r[e]!=this.layer;)e++;this.dom.style.zIndex=String((this.layer.above?150:-1)-e)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:t,scaleY:e}=this.view;t==this.scaleX&&e==this.scaleY||(this.scaleX=t,this.scaleY=e,this.dom.style.transform=`scale(${1/t}, ${1/e})`)}draw(t){if(t.length!=this.drawn.length||t.some((e,r)=>!function(a,s){return a.constructor==s.constructor&&a.eq(s)}(e,this.drawn[r]))){let e=this.dom.firstChild,r=0;for(let i of t)i.update&&e&&i.constructor&&this.drawn[r].constructor&&i.update(e,this.drawn[r])?(e=e.nextSibling,r++):this.dom.insertBefore(i.draw(),e);for(;e;){let i=e.nextSibling;e.remove(),e=i}this.drawn=t}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const gS=Yr.define();function mq(n){return[Zh.define(t=>new Tlt(t,n)),gS.of(n)]}const vq=!ri.ios,pD=Yr.define({combine:n=>Zm(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(t,e)=>Math.min(t,e),drawRangeCursor:(t,e)=>t||e})});function Olt(n={}){return[pD.of(n),Nlt,Ilt,Blt,GV.of(!0)]}function yq(n){return n.startState.facet(pD)!=n.state.facet(pD)}const Nlt=mq({above:!0,markers(n){let{state:t}=n,e=t.facet(pD),r=[];for(let i of t.selection.ranges){let a=i==t.selection.main;if(i.empty?!a||vq:e.drawRangeCursor){let s=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",c=i.empty?i:un.cursor(i.head,i.head>i.anchor?-1:1);for(let f of hD.forRange(n,s,c))r.push(f)}}return r},update(n,t){n.transactions.some(r=>r.selection)&&(t.style.animationName=t.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let e=yq(n);return e&&W9(n.state,t),n.docChanged||n.selectionSet||e},mount(n,t){W9(t.state,n)},class:"cm-cursorLayer"});function W9(n,t){t.style.animationDuration=n.facet(pD).cursorBlinkRate+"ms"}const Ilt=mq({above:!1,markers:n=>n.state.selection.ranges.map(t=>t.empty?[]:hD.forRange(n,"cm-selectionBackground",t)).reduce((t,e)=>t.concat(e)),update:(n,t)=>n.docChanged||n.selectionSet||n.viewportChanged||yq(n),class:"cm-selectionLayer"}),aT={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};vq&&(aT[".cm-line"].caretColor=aT[".cm-content"].caretColor="transparent !important");const Blt=Py.highest(ci.theme(aT)),wq=qs.define({map:(n,t)=>n==null?null:t.mapPos(n)}),ax=Hp.define({create:()=>null,update:(n,t)=>(n!=null&&(n=t.changes.mapPos(n)),t.effects.reduce((e,r)=>r.is(wq)?r.value:e,n))}),Rlt=Zh.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var t;let e=n.state.field(ax);e==null?this.cursor!=null&&((t=this.cursor)===null||t===void 0||t.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(ax)!=e||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,t=n.state.field(ax),e=t!=null&&n.coordsAtPos(t);if(!e)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:e.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:e.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:e.bottom-e.top}}drawCursor(n){if(this.cursor){let{scaleX:t,scaleY:e}=this.view;n?(this.cursor.style.left=n.left/t+"px",this.cursor.style.top=n.top/e+"px",this.cursor.style.height=n.height/e+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(ax)!=n&&this.view.dispatch({effects:wq.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){n.target!=this.view.contentDOM&&this.view.contentDOM.contains(n.relatedTarget)||this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function H9(n,t,e,r,i){t.lastIndex=0;for(let a,s=n.iterRange(e,r),c=e;!s.next().done;c+=s.value.length)if(!s.lineBreak)for(;a=t.exec(s.value);)i(c+a.index,a)}class jlt{constructor(t){const{regexp:e,decoration:r,decorate:i,boundary:a,maxLength:s=1e3}=t;if(!e.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=e,i)this.addMatch=(c,f,d,h)=>i(h,d,d+c[0].length,c,f);else if(typeof r=="function")this.addMatch=(c,f,d,h)=>{let m=r(c,f,d);m&&h(d,d+c[0].length,m)};else{if(!r)throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.addMatch=(c,f,d,h)=>h(d,d+c[0].length,r)}this.boundary=a,this.maxLength=s}createDeco(t){let e=new b0,r=e.add.bind(e);for(let{from:i,to:a}of function(c,f){let d=c.visibleRanges;if(d.length==1&&d[0].from==c.viewport.from&&d[0].to==c.viewport.to)return d;let h=[];for(let{from:m,to:y}of d)m=Math.max(c.state.doc.lineAt(m).from,m-f),y=Math.min(c.state.doc.lineAt(y).to,y+f),h.length&&h[h.length-1].to>=m?h[h.length-1].to=y:h.push({from:m,to:y});return h}(t,this.maxLength))H9(t.state.doc,this.regexp,i,a,(s,c)=>this.addMatch(c,t,s,r));return e.finish()}updateDeco(t,e){let r=1e9,i=-1;return t.docChanged&&t.changes.iterChanges((a,s,c,f)=>{f>t.view.viewport.from&&c<t.view.viewport.to&&(r=Math.min(c,r),i=Math.max(f,i))}),t.viewportChanged||i-r>1e3?this.createDeco(t.view):i>-1?this.updateRange(t.view,e.map(t.changes),r,i):e}updateRange(t,e,r,i){for(let a of t.visibleRanges){let s=Math.max(a.from,r),c=Math.min(a.to,i);if(c>s){let f=t.state.doc.lineAt(s),d=f.to<c?t.state.doc.lineAt(c):f,h=Math.max(a.from,f.from),m=Math.min(a.to,d.to);if(this.boundary){for(;s>f.from;s--)if(this.boundary.test(f.text[s-1-f.from])){h=s;break}for(;c<d.to;c++)if(this.boundary.test(d.text[c-d.from])){m=c;break}}let y,w=[],C=(k,M,N)=>w.push(N.range(k,M));if(f==d)for(this.regexp.lastIndex=h-f.from;(y=this.regexp.exec(f.text))&&y.index<m-f.from;)this.addMatch(y,t,y.index+f.from,C);else H9(t.state.doc,this.regexp,h,m,(k,M)=>this.addMatch(M,t,k,C));e=e.update({filterFrom:h,filterTo:m,filter:(k,M)=>k<h||M>m,add:w})}}return e}}const sT=/x/.unicode!=null?"gu":"g",Llt=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,sT),zlt={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Kk=null;const s_=Yr.define({combine(n){let t=Zm(n,{render:null,specialChars:Llt,addSpecialChars:null});return(t.replaceTabs=!function(){var r;if(Kk==null&&typeof document<"u"&&document.body){let i=document.body.style;Kk=((r=i.tabSize)!==null&&r!==void 0?r:i.MozTabSize)!=null}return Kk||!1}())&&(t.specialChars=new RegExp("	|"+t.specialChars.source,sT)),t.addSpecialChars&&(t.specialChars=new RegExp(t.specialChars.source+"|"+t.addSpecialChars.source,sT)),t}});function Ult(n={}){return[s_.of(n),V9||(V9=Zh.fromClass(class{constructor(t){this.view=t,this.decorations=wa.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(s_)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new jlt({regexp:t.specialChars,decoration:(e,r,i)=>{let{doc:a}=r.state,s=Ip(e[0],0);if(s==9){let c=a.lineAt(i),f=r.state.tabSize,d=mb(c.text,f,i-c.from);return wa.replace({widget:new Wlt((f-d%f)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=wa.replace({widget:new $lt(t,s)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(s_);t.startState.facet(s_)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))]}let V9=null;class $lt extends k0{constructor(t,e){super(),this.options=t,this.code=e}eq(t){return t.code==this.code}toDOM(t){let e=function(c){return c>=32?"":c==10?"":String.fromCharCode(9216+c)}(this.code),r=t.state.phrase("Control character")+" "+(zlt[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,e);if(i)return i;let a=document.createElement("span");return a.textContent=e,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class Wlt extends k0{constructor(t){super(),this.width=t}eq(t){return t.width==this.width}toDOM(){let t=document.createElement("span");return t.textContent="	",t.className="cm-tab",t.style.width=this.width+"px",t}ignoreEvent(){return!1}}const Hlt=wa.line({class:"cm-activeLine"}),Vlt=Zh.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=-1,e=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>t&&(e.push(Hlt.range(i.from)),t=i.from)}return wa.set(e)}},{decorations:n=>n.decorations}),uT=2e3;function q9(n,t){let e=n.posAtCoords({x:t.clientX,y:t.clientY},!1),r=n.state.doc.lineAt(e),i=e-r.from,a=i>uT?-1:i==r.length?function(c,f){let d=c.coordsAtPos(c.viewport.from);return d?Math.round(Math.abs((d.left-f)/c.defaultCharacterWidth)):-1}(n,t.clientX):mb(r.text,n.state.tabSize,e-r.from);return{line:r.number,col:a,off:i}}function qlt(n,t){let e=q9(n,t),r=n.state.selection;return e?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(e.line).from),s=i.state.doc.lineAt(a);e={line:s.number,col:e.col,off:Math.min(e.off,s.length)},r=r.map(i.changes)}},get(i,a,s){let c=q9(n,i);if(!c)return r;let f=function(h,m,y){let w=Math.min(m.line,y.line),C=Math.max(m.line,y.line),k=[];if(m.off>uT||y.off>uT||m.col<0||y.col<0){let M=Math.min(m.off,y.off),N=Math.max(m.off,y.off);for(let B=w;B<=C;B++){let L=h.doc.line(B);L.length<=N&&k.push(un.range(L.from+M,L.to+N))}}else{let M=Math.min(m.col,y.col),N=Math.max(m.col,y.col);for(let B=w;B<=C;B++){let L=h.doc.line(B),z=LP(L.text,M,h.tabSize,!0);if(z<0)k.push(un.cursor(L.to));else{let q=LP(L.text,N,h.tabSize);k.push(un.range(L.from+z,L.from+q))}}}return k}(n.state,e,c);return f.length?s?un.create(f.concat(r.ranges)):un.create(f):r}}:null}const Klt={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},Glt={style:"cursor: crosshair"};function Ylt(n={}){let[t,e]=Klt[n.key||"Alt"],r=Zh.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==t||e(i))},keyup(i){i.keyCode!=t&&e(i)||this.set(!1)},mousemove(i){this.set(e(i))}}});return[r,ci.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?Glt:null})]}const Rb="-10000px";class bq{constructor(t,e,r,i){this.facet=e,this.createTooltipView=r,this.removeTooltipView=i,this.input=t.state.facet(e),this.tooltips=this.input.filter(s=>s);let a=null;this.tooltipViews=this.tooltips.map(s=>a=r(s,a))}update(t,e){var r;let i=t.state.facet(this.facet),a=i.filter(f=>f);if(i===this.input){for(let f of this.tooltipViews)f.update&&f.update(t);return!1}let s=[],c=e?[]:null;for(let f=0;f<a.length;f++){let d=a[f],h=-1;if(d){for(let m=0;m<this.tooltips.length;m++){let y=this.tooltips[m];y&&y.create==d.create&&(h=m)}if(h<0)s[f]=this.createTooltipView(d,f?s[f-1]:null),c&&(c[f]=!!d.above);else{let m=s[f]=this.tooltipViews[h];c&&(c[f]=e[h]),m.update&&m.update(t)}}}for(let f of this.tooltipViews)s.indexOf(f)<0&&(this.removeTooltipView(f),(r=f.destroy)===null||r===void 0||r.call(f));return e&&(c.forEach((f,d)=>e[d]=f),e.length=c.length),this.input=i,this.tooltips=a,this.tooltipViews=s,!0}}function Xlt(n){let{win:t}=n;return{top:0,left:0,bottom:t.innerHeight,right:t.innerWidth}}const Gk=Yr.define({combine:n=>{var t,e,r;return{position:ri.ios?"absolute":((t=n.find(i=>i.position))===null||t===void 0?void 0:t.position)||"fixed",parent:((e=n.find(i=>i.parent))===null||e===void 0?void 0:e.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||Xlt}}}),K9=new WeakMap,EN=Zh.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(Gk);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new bq(n,AN,(e,r)=>this.createTooltip(e,r),e=>{this.resizeObserver&&this.resizeObserver.unobserve(e.dom),e.dom.remove()}),this.above=this.manager.tooltips.map(e=>!!e.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(e=>{Date.now()>this.lastTransaction-50&&e.length>0&&e[e.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let t=this.manager.update(n,this.above);t&&this.observeIntersection();let e=t||n.geometryChanged,r=n.state.facet(Gk);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;e=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);e=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);e&&this.maybeMeasure()}createTooltip(n,t){let e=n.create(this.view),r=t?t.dom:null;if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",e.dom.appendChild(i)}return e.dom.style.position=this.position,e.dom.style.top=Rb,e.dom.style.left="0px",this.container.insertBefore(e.dom,r),e.mount&&e.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(e.dom),e}destroy(){var n,t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(t=this.resizeObserver)===null||t===void 0||t.disconnect(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect(),t=1,e=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(ri.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Rb&&i.style.left=="0px"){let a=i.getBoundingClientRect();r=Math.abs(a.top+1e4)>1||Math.abs(a.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(t=i.width/this.parent.offsetWidth,e=i.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((i,a)=>{let s=this.manager.tooltipViews[a];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(Gk).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:r}}writeMeasure(n){var t;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let c of this.manager.tooltipViews)c.dom.style.position="absolute"}let{editor:e,space:r,scaleX:i,scaleY:a}=n,s=[];for(let c=0;c<this.manager.tooltips.length;c++){let f=this.manager.tooltips[c],d=this.manager.tooltipViews[c],{dom:h}=d,m=n.pos[c],y=n.size[c];if(!m||m.bottom<=Math.max(e.top,r.top)||m.top>=Math.min(e.bottom,r.bottom)||m.right<Math.max(e.left,r.left)-.1||m.left>Math.min(e.right,r.right)+.1){h.style.top=Rb;continue}let w=f.arrow?d.dom.querySelector(".cm-tooltip-arrow"):null,C=w?7:0,k=y.right-y.left,M=(t=K9.get(d))!==null&&t!==void 0?t:y.bottom-y.top,N=d.offset||Jlt,B=this.view.textDirection==sh.LTR,L=y.width>r.right-r.left?B?r.left:r.right-y.width:B?Math.max(r.left,Math.min(m.left-(w?14:0)+N.x,r.right-k)):Math.min(Math.max(r.left,m.left-k+(w?14:0)-N.x),r.right-k),z=this.above[c];!f.strictSide&&(z?m.top-(y.bottom-y.top)-N.y<r.top:m.bottom+(y.bottom-y.top)+N.y>r.bottom)&&z==r.bottom-m.bottom>m.top-r.top&&(z=this.above[c]=!z);let q=(z?m.top-r.top:r.bottom-m.bottom)-C;if(q<M&&d.resize!==!1){if(q<this.view.defaultLineHeight){h.style.top=Rb;continue}K9.set(d,M),h.style.height=(M=q)/a+"px"}else h.style.height&&(h.style.height="");let V=z?m.top-M-C-N.y:m.bottom+C+N.y,X=L+k;if(d.overlap!==!0)for(let nt of s)nt.left<X&&nt.right>L&&nt.top<V+M&&nt.bottom>V&&(V=z?nt.top-M-2-C:nt.bottom+C+2);if(this.position=="absolute"?(h.style.top=(V-n.parent.top)/a+"px",h.style.left=(L-n.parent.left)/i+"px"):(h.style.top=V/a+"px",h.style.left=L/i+"px"),w){let nt=m.left+(B?N.x:-N.x)-(L+14-7);w.style.left=nt/i+"px"}d.overlap!==!0&&s.push({left:L,top:V,right:X,bottom:V+M}),h.classList.toggle("cm-tooltip-above",z),h.classList.toggle("cm-tooltip-below",!z),d.positioned&&d.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Rb}},{eventObservers:{scroll(){this.maybeMeasure()}}}),Jlt={x:0,y:0},AN=Yr.define({enables:[EN,ci.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}})]}),L2=Yr.define({combine:n=>n.reduce((t,e)=>t.concat(e),[])});class qE{static create(t){return new qE(t)}constructor(t){this.view=t,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new bq(t,L2,(e,r)=>this.createHostedView(e,r),e=>e.dom.remove())}createHostedView(t,e){let r=t.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,e?e.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(t){for(let e of this.manager.tooltipViews)e.mount&&e.mount(t);this.mounted=!0}positioned(t){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned(t)}update(t){this.manager.update(t)}destroy(){var t;for(let e of this.manager.tooltipViews)(t=e.destroy)===null||t===void 0||t.call(e)}passProp(t){let e;for(let r of this.manager.tooltipViews){let i=r[t];if(i!==void 0){if(e===void 0)e=i;else if(e!==i)return}}return e}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const Qlt=AN.compute([L2],n=>{let t=n.facet(L2);return t.length===0?null:{pos:Math.min(...t.map(e=>e.pos)),end:Math.max(...t.map(e=>{var r;return(r=e.end)!==null&&r!==void 0?r:e.pos})),create:qE.create,above:t[0].above,arrow:t.some(e=>e.arrow)}});class Zlt{constructor(t,e,r,i,a){this.view=t,this.source=e,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:t.dom,time:0},this.checkHover=this.checkHover.bind(this),t.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),t.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let t=Date.now()-this.lastMove.time;t<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-t):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:t,lastMove:e}=this,r=t.docView.nearest(e.target);if(!r)return;let i,a=1;if(r instanceof Yv)i=r.posAtStart;else{if(i=t.posAtCoords(e),i==null)return;let c=t.coordsAtPos(i);if(!c||e.y<c.top||e.y>c.bottom||e.x<c.left-t.defaultCharacterWidth||e.x>c.right+t.defaultCharacterWidth)return;let f=t.bidiSpans(t.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),d=f&&f.dir==sh.RTL?-1:1;a=e.x<c.left?-d:d}let s=this.source(t,i,a);if(s!=null&&s.then){let c=this.pending={pos:i};s.then(f=>{this.pending==c&&(this.pending=null,!f||Array.isArray(f)&&!f.length||t.dispatch({effects:this.setHover.of(Array.isArray(f)?f:[f])}))},f=>Ld(t.state,f,"hover tooltip"))}else!s||Array.isArray(s)&&!s.length||t.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let t=this.view.plugin(EN),e=t?t.manager.tooltips.findIndex(r=>r.create==qE.create):-1;return e>-1?t.manager.tooltipViews[e]:null}mousemove(t){var e,r;this.lastMove={x:t.clientX,y:t.clientY,target:t.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!function(c,f){let d,{left:h,right:m,top:y,bottom:w}=c.getBoundingClientRect();if(d=c.querySelector(".cm-tooltip-arrow")){let C=d.getBoundingClientRect();y=Math.min(C.top,y),w=Math.max(C.bottom,w)}return f.clientX>=h-u_&&f.clientX<=m+u_&&f.clientY>=y-u_&&f.clientY<=w+u_}(a.dom,t)||this.pending){let{pos:s}=i[0]||this.pending,c=(r=(e=i[0])===null||e===void 0?void 0:e.end)!==null&&r!==void 0?r:s;(s==c?this.view.posAtCoords(this.lastMove)==s:function(d,h,m,y,w,C){let k=d.scrollDOM.getBoundingClientRect(),M=d.documentTop+d.documentPadding.top+d.contentHeight;if(k.left>y||k.right<y||k.top>w||Math.min(k.bottom,M)<w)return!1;let N=d.posAtCoords({x:y,y:w},!1);return N>=h&&N<=m}(this.view,s,c,t.clientX,t.clientY))||(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(t){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:e}=this;if(e.length){let{tooltip:r}=this;r&&r.dom.contains(t.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(t){let e=r=>{t.removeEventListener("mouseleave",e),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};t.addEventListener("mouseleave",e)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const u_=4;function tct(n,t={}){let e=qs.define(),r=Hp.define({create:()=>[],update(i,a){if(i.length&&(t.hideOnChange&&(a.docChanged||a.selection)?i=[]:t.hideOn&&(i=i.filter(s=>!t.hideOn(a,s))),a.docChanged)){let s=[];for(let c of i){let f=a.changes.mapPos(c.pos,-1,vd.TrackDel);if(f!=null){let d=Object.assign(Object.create(null),c);d.pos=f,d.end!=null&&(d.end=a.changes.mapPos(d.end)),s.push(d)}}i=s}for(let s of a.effects)s.is(e)&&(i=s.value),s.is(ect)&&(i=[]);return i},provide:i=>L2.from(i)});return{active:r,extension:[r,Zh.define(i=>new Zlt(i,n,r,e,t.hoverTime||300)),Qlt]}}function xq(n,t){let e=n.plugin(EN);if(!e)return null;let r=e.manager.tooltips.indexOf(t);return r<0?null:e.manager.tooltipViews[r]}const ect=qs.define(),G9=Yr.define({combine(n){let t,e;for(let r of n)t=t||r.topContainer,e=e||r.bottomContainer;return{topContainer:t,bottomContainer:e}}});function dD(n,t){let e=n.plugin(Dq),r=e?e.specs.indexOf(t):-1;return r>-1?e.panels[r]:null}const Dq=Zh.fromClass(class{constructor(n){this.input=n.state.facet(gD),this.specs=this.input.filter(e=>e),this.panels=this.specs.map(e=>e(n));let t=n.state.facet(G9);this.top=new l_(n,!0,t.topContainer),this.bottom=new l_(n,!1,t.bottomContainer),this.top.sync(this.panels.filter(e=>e.top)),this.bottom.sync(this.panels.filter(e=>!e.top));for(let e of this.panels)e.dom.classList.add("cm-panel"),e.mount&&e.mount()}update(n){let t=n.state.facet(G9);this.top.container!=t.topContainer&&(this.top.sync([]),this.top=new l_(n.view,!0,t.topContainer)),this.bottom.container!=t.bottomContainer&&(this.bottom.sync([]),this.bottom=new l_(n.view,!1,t.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let e=n.state.facet(gD);if(e!=this.input){let r=e.filter(f=>f),i=[],a=[],s=[],c=[];for(let f of r){let d,h=this.specs.indexOf(f);h<0?(d=f(n.view),c.push(d)):(d=this.panels[h],d.update&&d.update(n)),i.push(d),(d.top?a:s).push(d)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(s);for(let f of c)f.dom.classList.add("cm-panel"),f.mount&&f.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ci.scrollMargins.of(t=>{let e=t.plugin(n);return e&&{top:e.top.scrollMargin(),bottom:e.bottom.scrollMargin()}})});class l_{constructor(t,e,r){this.view=t,this.top=e,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(t){for(let e of this.panels)e.destroy&&t.indexOf(e)<0&&e.destroy();this.panels=t,this.syncDOM()}syncDOM(){if(this.panels.length==0)return void(this.dom&&(this.dom.remove(),this.dom=void 0));if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let e=this.container||this.view.dom;e.insertBefore(this.dom,this.top?e.firstChild:null)}let t=this.dom.firstChild;for(let e of this.panels)if(e.dom.parentNode==this.dom){for(;t!=e.dom;)t=Y9(t);t=t.nextSibling}else this.dom.insertBefore(e.dom,t);for(;t;)t=Y9(t)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(this.container&&this.classes!=this.view.themeClasses){for(let t of this.classes.split(" "))t&&this.container.classList.remove(t);for(let t of(this.classes=this.view.themeClasses).split(" "))t&&this.container.classList.add(t)}}}function Y9(n){let t=n.nextSibling;return n.remove(),t}const gD=Yr.define({enables:Dq});class sv extends Z0{compare(t){return this==t||this.constructor==t.constructor&&this.eq(t)}eq(t){return!1}destroy(t){}}sv.prototype.elementClass="",sv.prototype.toDOM=void 0,sv.prototype.mapMode=vd.TrackBefore,sv.prototype.startSide=sv.prototype.endSide=-1,sv.prototype.point=!0;const mS=Yr.define(),nct=Yr.define(),rct={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>sc.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Ex=Yr.define();function ict(n){return[Cq(),Ex.of(Object.assign(Object.assign({},rct),n))]}const X9=Yr.define({combine:n=>n.some(t=>t)});function Cq(n){return[oct]}const oct=Zh.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(Ex).map(t=>new Q9(n,t));for(let t of this.gutters)this.dom.appendChild(t.dom);this.fixed=!n.state.facet(X9),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let t=this.prevViewport,e=n.view.viewport,r=Math.min(t.to,e.to)-Math.max(t.from,e.from);this.syncGutters(r<.8*(e.to-e.from))}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(X9)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let t=this.dom.nextSibling;n&&this.dom.remove();let e=sc.iter(this.view.state.facet(mS),this.view.viewport.from),r=[],i=this.gutters.map(a=>new act(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let s=!0;for(let c of a.type)if(c.type==wd.Text&&s){lT(e,r,c.from);for(let f of i)f.line(this.view,c,r);s=!1}else if(c.widget)for(let f of i)f.widget(this.view,c)}else if(a.type==wd.Text){lT(e,r,a.from);for(let s of i)s.line(this.view,a,r)}else if(a.widget)for(let s of i)s.widget(this.view,a);for(let a of i)a.finish();n&&this.view.scrollDOM.insertBefore(this.dom,t)}updateGutters(n){let t=n.startState.facet(Ex),e=n.state.facet(Ex),r=n.docChanged||n.heightChanged||n.viewportChanged||!sc.eq(n.startState.facet(mS),n.state.facet(mS),n.view.viewport.from,n.view.viewport.to);if(t==e)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let a of e){let s=t.indexOf(a);s<0?i.push(new Q9(this.view,a)):(this.gutters[s].update(n),i.push(this.gutters[s]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>ci.scrollMargins.of(t=>{let e=t.plugin(n);return e&&e.gutters.length!=0&&e.fixed?t.textDirection==sh.LTR?{left:e.dom.offsetWidth*t.scaleX}:{right:e.dom.offsetWidth*t.scaleX}:null})});function J9(n){return Array.isArray(n)?n:[n]}function lT(n,t,e){for(;n.value&&n.from<=e;)n.from==e&&t.push(n.value),n.next()}class act{constructor(t,e,r){this.gutter=t,this.height=r,this.i=0,this.cursor=sc.iter(t.markers,e.from)}addElement(t,e,r){let{gutter:i}=this,a=(e.top-this.height)/t.scaleY,s=e.height/t.scaleY;if(this.i==i.elements.length){let c=new _q(t,s,a,r);i.elements.push(c),i.dom.appendChild(c.dom)}else i.elements[this.i].update(t,s,a,r);this.height=e.bottom,this.i++}line(t,e,r){let i=[];lT(this.cursor,i,e.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(t,e,i);a&&i.unshift(a);let s=this.gutter;(i.length!=0||s.config.renderEmptyElements)&&this.addElement(t,e,i)}widget(t,e){let r=this.gutter.config.widgetMarker(t,e.widget,e),i=r?[r]:null;for(let a of t.state.facet(nct)){let s=a(t,e.widget,e);s&&(i||(i=[])).push(s)}i&&this.addElement(t,e,i)}finish(){let t=this.gutter;for(;t.elements.length>this.i;){let e=t.elements.pop();t.dom.removeChild(e.dom),e.destroy()}}}class Q9{constructor(t,e){this.view=t,this.config=e,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in e.domEventHandlers)this.dom.addEventListener(r,i=>{let a,s=i.target;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let f=s.getBoundingClientRect();a=(f.top+f.bottom)/2}else a=i.clientY;let c=t.lineBlockAtHeight(a-t.documentTop);e.domEventHandlers[r](t,c,i)&&i.preventDefault()});this.markers=J9(e.markers(t)),e.initialSpacer&&(this.spacer=new _q(t,0,0,[e.initialSpacer(t)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(t){let e=this.markers;if(this.markers=J9(this.config.markers(t.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],t);i!=this.spacer.markers[0]&&this.spacer.update(t.view,0,0,[i])}let r=t.view.viewport;return!sc.eq(this.markers,e,r.from,r.to)||!!this.config.lineMarkerChange&&this.config.lineMarkerChange(t)}destroy(){for(let t of this.elements)t.destroy()}}class _q{constructor(t,e,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(t,e,r,i)}update(t,e,r,i){this.height!=e&&(this.height=e,this.dom.style.height=e+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),function(s,c){if(s.length!=c.length)return!1;for(let f=0;f<s.length;f++)if(!s[f].compare(c[f]))return!1;return!0}(this.markers,i)||this.setMarkers(t,i)}setMarkers(t,e){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,s=0;;){let c=s,f=a<e.length?e[a++]:null,d=!1;if(f){let h=f.elementClass;h&&(r+=" "+h);for(let m=s;m<this.markers.length;m++)if(this.markers[m].compare(f)){c=m,d=!0;break}}else c=this.markers.length;for(;s<c;){let h=this.markers[s++];if(h.toDOM){h.destroy(i);let m=i.nextSibling;i.remove(),i=m}}if(!f)break;f.toDOM&&(d?i=i.nextSibling:this.dom.insertBefore(f.toDOM(t),i)),d&&s++}this.dom.className=r,this.markers=e}destroy(){this.setMarkers(null,[])}}const sct=Yr.define(),uct=Yr.define(),yw=Yr.define({combine:n=>Zm(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(t,e){let r=Object.assign({},t);for(let i in e){let a=r[i],s=e[i];r[i]=a?(c,f,d)=>a(c,f,d)||s(c,f,d):s}return r}})});class Yk extends sv{constructor(t){super(),this.number=t}eq(t){return this.number==t.number}toDOM(){return document.createTextNode(this.number)}}function Xk(n,t){return n.state.facet(yw).formatNumber(t,n.state)}const lct=Ex.compute([yw],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers:t=>t.state.facet(sct),lineMarker:(t,e,r)=>r.some(i=>i.toDOM)?null:new Yk(Xk(t,t.state.doc.lineAt(e.from).number)),widgetMarker:(t,e,r)=>{for(let i of t.state.facet(uct)){let a=i(t,e,r);if(a)return a}return null},lineMarkerChange:t=>t.startState.facet(yw)!=t.state.facet(yw),initialSpacer:t=>new Yk(Xk(t,Z9(t.state.doc.lines))),updateSpacer(t,e){let r=Xk(e.view,Z9(e.view.state.doc.lines));return r==t.number?t:new Yk(r)},domEventHandlers:n.facet(yw).domEventHandlers}));function cct(n={}){return[yw.of(n),Cq(),lct]}function Z9(n){let t=9;for(;t<n;)t=10*t+9;return t}const fct=new class extends sv{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},hct=mS.compute(["selection"],n=>{let t=[],e=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>e&&(e=i,t.push(fct.range(i)))}return sc.of(t)}),pct=1024;let dct=0;class Jk{constructor(t,e){this.from=t,this.to=e}}let $c=class{constructor(t={}){this.id=dct++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=Km.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}};$c.closedBy=new $c({deserialize:n=>n.split(" ")}),$c.openedBy=new $c({deserialize:n=>n.split(" ")}),$c.group=new $c({deserialize:n=>n.split(" ")}),$c.isolate=new $c({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),$c.contextHash=new $c({perNode:!0}),$c.lookAhead=new $c({perNode:!0}),$c.mounted=new $c({perNode:!0});class z2{constructor(t,e,r){this.tree=t,this.overlay=e,this.parser=r}static get(t){return t&&t.props&&t.props[$c.mounted.id]}}const gct=Object.create(null);let Km=class Sq{constructor(t,e,r,i=0){this.name=t,this.props=e,this.id=r,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):gct,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new Sq(t.name||"",e,t.id,r);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop($c.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let i of r.split(" "))e[i]=t[r];return r=>{for(let i=r.prop($c.group),a=-1;a<(i?i.length:0);a++){let s=e[a<0?r.name:i[a]];if(s)return s}}}};Km.none=new Km("",Object.create(null),0,8);const c_=new WeakMap,t5=new WeakMap;var Bp;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Bp||(Bp={}));class ud{constructor(t,e,r,i,a){if(this.type=t,this.children=e,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[s,c]of a)this.props[typeof s=="number"?s:s.id]=c}}toString(){let t=z2.get(this);if(t&&!t.overlay)return t.tree.toString();let e="";for(let r of this.children){let i=r.toString();i&&(e&&(e+=","),e+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(e.length?"("+e+")":""):e}cursor(t=0){return new fT(this.topNode,t)}cursorAt(t,e=0,r=0){let i=c_.get(this)||this.topNode,a=new fT(i);return a.moveTo(t,e),c_.set(this,a._tree),a}get topNode(){return new Og(this,0,0,null)}resolve(t,e=0){let r=Ax(c_.get(this)||this.topNode,t,e,!1);return c_.set(this,r),r}resolveInner(t,e=0){let r=Ax(t5.get(this)||this.topNode,t,e,!0);return t5.set(this,r),r}resolveStack(t,e=0){return function(i,a,s){let c=i.resolveInner(a,s),f=null;for(let d=c instanceof Og?c:c.context.parent;d;d=d.parent)if(d.index<0){let h=d.parent;(f||(f=[c])).push(h.resolve(a,s)),d=h}else{let h=z2.get(d.tree);if(h&&h.overlay&&h.overlay[0].from<=a&&h.overlay[h.overlay.length-1].to>=a){let m=new Og(h.tree,h.overlay[0].from+d.from,-1,d);(f||(f=[c])).push(Ax(m,a,s,!1))}}return f?kq(f):c}(this,t,e)}iterate(t){let{enter:e,leave:r,from:i=0,to:a=this.length}=t,s=t.mode||0,c=(s&Bp.IncludeAnonymous)>0;for(let f=this.cursor(s|Bp.IncludeAnonymous);;){let d=!1;if(f.from<=a&&f.to>=i&&(!c&&f.type.isAnonymous||e(f)!==!1)){if(f.firstChild())continue;d=!0}for(;d&&r&&(c||!f.type.isAnonymous)&&r(f),!f.nextSibling();){if(!f.parent())return;d=!0}}}prop(t){return t.perNode?this.props?this.props[t.id]:void 0:this.type.prop(t)}get propValues(){let t=[];if(this.props)for(let e in this.props)t.push([+e,this.props[e]]);return t}balance(t={}){return this.children.length<=8?this:hT(Km.none,this.children,this.positions,0,this.children.length,0,this.length,(e,r,i)=>new ud(this.type,e,r,i,this.propValues),t.makeTree||((e,r,i)=>new ud(Km.none,e,r,i)))}static build(t){return function(r){var i;let{buffer:a,nodeSet:s,maxBufferLength:c=pct,reused:f=[],minRepeatType:d=s.types.length}=r,h=Array.isArray(a)?new kN(a,a.length):a,m=s.types,y=0,w=0;function C(nt,it,ct,ft,gt,Ct){let{id:kt,start:Tt,end:At,size:Zt}=h,_t=w,Et=y;for(;Zt<0;){if(h.next(),Zt==-1){let pe=f[kt];return ct.push(pe),void ft.push(Tt-nt)}if(Zt==-3)return void(y=kt);if(Zt==-4)return void(w=kt);throw new RangeError(`Unrecognized record size: ${Zt}`)}let mt,vt,Lt=m[kt],ee=Tt-nt;if(At-Tt<=c&&(vt=L(h.pos-it,gt))){let pe=new Uint16Array(vt.size-vt.skip),ve=h.pos-vt.size,Oe=pe.length;for(;h.pos>ve;)Oe=z(vt.start,pe,Oe);mt=new _0(pe,At-vt.start,s),ee=vt.start-nt}else{let pe=h.pos-Zt;h.next();let ve=[],Oe=[],qe=kt>=d?kt:-1,He=0,wn=At;for(;h.pos>pe;)qe>=0&&h.id==qe&&h.size>=0?(h.end<=wn-c&&(N(ve,Oe,Tt,He,h.end,wn,qe,_t,Et),He=ve.length,wn=h.end),h.next()):Ct>2500?k(Tt,pe,ve,Oe):C(Tt,pe,ve,Oe,qe,Ct+1);if(qe>=0&&He>0&&He<ve.length&&N(ve,Oe,Tt,He,Tt,wn,qe,_t,Et),ve.reverse(),Oe.reverse(),qe>-1&&He>0){let nn=M(Lt,Et);mt=hT(Lt,ve,Oe,0,ve.length,0,At-Tt,nn,nn)}else mt=B(Lt,ve,Oe,At-Tt,_t-At,Et)}ct.push(mt),ft.push(ee)}function k(nt,it,ct,ft){let gt=[],Ct=0,kt=-1;for(;h.pos>it;){let{id:Tt,start:At,end:Zt,size:_t}=h;if(_t>4)h.next();else{if(kt>-1&&At<kt)break;kt<0&&(kt=Zt-c),gt.push(Tt,At,Zt),Ct++,h.next()}}if(Ct){let Tt=new Uint16Array(4*Ct),At=gt[gt.length-2];for(let Zt=gt.length-3,_t=0;Zt>=0;Zt-=3)Tt[_t++]=gt[Zt],Tt[_t++]=gt[Zt+1]-At,Tt[_t++]=gt[Zt+2]-At,Tt[_t++]=_t;ct.push(new _0(Tt,gt[2]-At,s)),ft.push(At-nt)}}function M(nt,it){return(ct,ft,gt)=>{let Ct,kt,Tt=0,At=ct.length-1;if(At>=0&&(Ct=ct[At])instanceof ud){if(!At&&Ct.type==nt&&Ct.length==gt)return Ct;(kt=Ct.prop($c.lookAhead))&&(Tt=ft[At]+Ct.length+kt)}return B(nt,ct,ft,gt,Tt,it)}}function N(nt,it,ct,ft,gt,Ct,kt,Tt,At){let Zt=[],_t=[];for(;nt.length>ft;)Zt.push(nt.pop()),_t.push(it.pop()+ct-gt);nt.push(B(s.types[kt],Zt,_t,Ct-gt,Tt-Ct,At)),it.push(gt-ct)}function B(nt,it,ct,ft,gt,Ct,kt){if(Ct){let Tt=[$c.contextHash,Ct];kt=kt?[Tt].concat(kt):[Tt]}if(gt>25){let Tt=[$c.lookAhead,gt];kt=kt?[Tt].concat(kt):[Tt]}return new ud(nt,it,ct,ft,kt)}function L(nt,it){let ct=h.fork(),ft=0,gt=0,Ct=0,kt=ct.end-c,Tt={size:0,start:0,skip:0};t:for(let At=ct.pos-nt;ct.pos>At;){let Zt=ct.size;if(ct.id==it&&Zt>=0){Tt.size=ft,Tt.start=gt,Tt.skip=Ct,Ct+=4,ft+=4,ct.next();continue}let _t=ct.pos-Zt;if(Zt<0||_t<At||ct.start<kt)break;let Et=ct.id>=d?4:0,mt=ct.start;for(ct.next();ct.pos>_t;){if(ct.size<0){if(ct.size!=-3)break t;Et+=4}else ct.id>=d&&(Et+=4);ct.next()}gt=mt,ft+=Zt,Ct+=Et}return(it<0||ft==nt)&&(Tt.size=ft,Tt.start=gt,Tt.skip=Ct),Tt.size>4?Tt:void 0}function z(nt,it,ct){let{id:ft,start:gt,end:Ct,size:kt}=h;if(h.next(),kt>=0&&ft<d){let Tt=ct;if(kt>4){let At=h.pos-(kt-4);for(;h.pos>At;)ct=z(nt,it,ct)}it[--ct]=Tt,it[--ct]=Ct-nt,it[--ct]=gt-nt,it[--ct]=ft}else kt==-3?y=ft:kt==-4&&(w=ft);return ct}let q=[],V=[];for(;h.pos>0;)C(r.start||0,r.bufferStart||0,q,V,-1,0);let X=(i=r.length)!==null&&i!==void 0?i:q.length?V[0]+q[0].length:0;return new ud(m[r.topID],q.reverse(),V.reverse(),X)}(t)}}ud.empty=new ud(Km.none,[],[],0);class kN{constructor(t,e){this.buffer=t,this.index=e}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new kN(this.buffer,this.index)}}class _0{constructor(t,e,r){this.buffer=t,this.length=e,this.set=r}get type(){return Km.none}toString(){let t=[];for(let e=0;e<this.buffer.length;)t.push(this.childString(e)),e=this.buffer[e+3];return t.join(",")}childString(t){let e=this.buffer[t],r=this.buffer[t+3],i=this.set.types[e],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),r==(t+=4))return a;let s=[];for(;t<r;)s.push(this.childString(t)),t=this.buffer[t+3];return a+"("+s.join(",")+")"}findChild(t,e,r,i,a){let{buffer:s}=this,c=-1;for(let f=t;f!=e&&!(Eq(a,i,s[f+1],s[f+2])&&(c=f,r>0));f=s[f+3]);return c}slice(t,e,r){let i=this.buffer,a=new Uint16Array(e-t),s=0;for(let c=t,f=0;c<e;){a[f++]=i[c++],a[f++]=i[c++]-r;let d=a[f++]=i[c++]-r;a[f++]=i[c++]-t,s=Math.max(s,d)}return new _0(a,s,this.set)}}function Eq(n,t,e,r){switch(n){case-2:return e<t;case-1:return r>=t&&e<t;case 0:return e<t&&r>t;case 1:return e<=t&&r>t;case 2:return r>t;case 4:return!0}}function Ax(n,t,e,r){for(var i;n.from==n.to||(e<1?n.from>=t:n.from>t)||(e>-1?n.to<=t:n.to<t);){let s=!r&&n instanceof Og&&n.index<0?null:n.parent;if(!s)return n;n=s}let a=r?0:Bp.IgnoreOverlays;if(r)for(let s=n,c=s.parent;c;s=c,c=s.parent)s instanceof Og&&s.index<0&&((i=c.enter(t,e,a))===null||i===void 0?void 0:i.from)!=s.from&&(n=c);for(;;){let s=n.enter(t,e,a);if(!s)return n;n=s}}class Aq{cursor(t=0){return new fT(this,t)}getChild(t,e=null,r=null){let i=e5(this,t,e,r);return i.length?i[0]:null}getChildren(t,e=null,r=null){return e5(this,t,e,r)}resolve(t,e=0){return Ax(this,t,e,!1)}resolveInner(t,e=0){return Ax(this,t,e,!0)}matchContext(t){return cT(this.parent,t)}enterUnfinishedNodesBefore(t){let e=this.childBefore(t),r=this;for(;e;){let i=e.lastChild;if(!i||i.to!=e.to)break;i.type.isError&&i.from==i.to?(r=e,e=i.prevSibling):e=i}return r}get node(){return this}get next(){return this.parent}}class Og extends Aq{constructor(t,e,r,i){super(),this._tree=t,this.from=e,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(t,e,r,i,a=0){for(let s=this;;){for(let{children:c,positions:f}=s._tree,d=e>0?c.length:-1;t!=d;t+=e){let h=c[t],m=f[t]+s.from;if(Eq(i,r,m,m+h.length)){if(h instanceof _0){if(a&Bp.ExcludeBuffers)continue;let y=h.findChild(0,h.buffer.length,e,r-m,i);if(y>-1)return new Jv(new mct(s,h,t,m),null,y)}else if(a&Bp.IncludeAnonymous||!h.type.isAnonymous||MN(h)){let y;if(!(a&Bp.IgnoreMounts)&&(y=z2.get(h))&&!y.overlay)return new Og(y.tree,m,t,s);let w=new Og(h,m,t,s);return a&Bp.IncludeAnonymous||!w.type.isAnonymous?w:w.nextChild(e<0?h.children.length-1:0,e,r,i)}}}if(a&Bp.IncludeAnonymous||!s.type.isAnonymous||(t=s.index>=0?s.index+e:e<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(t){return this.nextChild(0,1,t,2)}childBefore(t){return this.nextChild(this._tree.children.length-1,-1,t,-2)}enter(t,e,r=0){let i;if(!(r&Bp.IgnoreOverlays)&&(i=z2.get(this._tree))&&i.overlay){let a=t-this.from;for(let{from:s,to:c}of i.overlay)if((e>0?s<=a:s<a)&&(e<0?c>=a:c>a))return new Og(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,t,e,r)}nextSignificantParent(){let t=this;for(;t.type.isAnonymous&&t._parent;)t=t._parent;return t}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function e5(n,t,e,r){let i=n.cursor(),a=[];if(!i.firstChild())return a;if(e!=null){for(let s=!1;!s;)if(s=i.type.is(e),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(t)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function cT(n,t,e=t.length-1){for(let r=n;e>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(t[e]&&t[e]!=r.name)return!1;e--}}return!0}class mct{constructor(t,e,r,i){this.parent=t,this.buffer=e,this.index=r,this.start=i}}class Jv extends Aq{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(t,e,r){super(),this.context=t,this._parent=e,this.index=r,this.type=t.buffer.set.types[t.buffer.buffer[r]]}child(t,e,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.context.start,r);return a<0?null:new Jv(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(t){return this.child(1,t,2)}childBefore(t){return this.child(-1,t,-2)}enter(t,e,r=0){if(r&Bp.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e>0?1:-1,t-this.context.start,e);return a<0?null:new Jv(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(t){return this._parent?null:this.context.parent.nextChild(this.context.index+t,t,0,4)}get nextSibling(){let{buffer:t}=this.context,e=t.buffer[this.index+3];return e<(this._parent?t.buffer[this._parent.index+3]:t.buffer.length)?new Jv(this.context,this._parent,e):this.externalSibling(1)}get prevSibling(){let{buffer:t}=this.context,e=this._parent?this._parent.index+4:0;return this.index==e?this.externalSibling(-1):new Jv(this.context,this._parent,t.findChild(e,this.index,-1,0,4))}get tree(){return null}toTree(){let t=[],e=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let s=r.buffer[this.index+1];t.push(r.slice(i,a,s)),e.push(0)}return new ud(this.type,t,e,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function kq(n){if(!n.length)return null;let t=0,e=n[0];for(let a=1;a<n.length;a++){let s=n[a];(s.from>e.from||s.to<e.to)&&(e=s,t=a)}let r=e instanceof Og&&e.index<0?null:e.parent,i=n.slice();return r?i[t]=r:i.splice(t,1),new vct(i,e)}class vct{constructor(t,e){this.heads=t,this.node=e}get next(){return kq(this.heads)}}class fT{get name(){return this.type.name}constructor(t,e=0){if(this.mode=e,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,t instanceof Og)this.yieldNode(t);else{this._tree=t.context.parent,this.buffer=t.context;for(let r=t._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=t,this.yieldBuf(t.index)}}yieldNode(t){return!!t&&(this._tree=t,this.type=t.type,this.from=t.from,this.to=t.to,!0)}yieldBuf(t,e){this.index=t;let{start:r,buffer:i}=this.buffer;return this.type=e||i.set.types[i.buffer[t]],this.from=r+i.buffer[t+1],this.to=r+i.buffer[t+2],!0}yield(t){return!!t&&(t instanceof Og?(this.buffer=null,this.yieldNode(t)):(this.buffer=t.context,this.yieldBuf(t.index,t.type)))}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(t,e,r){if(!this.buffer)return this.yield(this._tree.nextChild(t<0?this._tree._tree.children.length-1:0,t,e,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],t,e-this.buffer.start,r);return!(a<0)&&(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(t){return this.enterChild(1,t,2)}childBefore(t){return this.enterChild(-1,t,-2)}enter(t,e,r=this.mode){return this.buffer?!(r&Bp.ExcludeBuffers)&&this.enterChild(1,t,e):this.yield(this._tree.enter(t,e,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Bp.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let t=this.mode&Bp.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(t)}sibling(t){if(!this.buffer)return!!this._tree._parent&&this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+t,t,0,4,this.mode));let{buffer:e}=this.buffer,r=this.stack.length-1;if(t<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(e.findChild(i,this.index,-1,0,4))}else{let i=e.buffer[this.index+3];if(i<(r<0?e.buffer.length:e.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0&&this.yield(this.buffer.parent.nextChild(this.buffer.index+t,t,0,4,this.mode))}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(t){let e,r,{buffer:i}=this;if(i){if(t>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:e,parent:r}=i)}else({index:e,_parent:r}=this._tree);for(;r;{index:e,_parent:r}=r)if(e>-1)for(let a=e+t,s=t<0?-1:r._tree.children.length;a!=s;a+=t){let c=r._tree.children[a];if(this.mode&Bp.IncludeAnonymous||c instanceof _0||!c.type.isAnonymous||MN(c))return!1}return!0}move(t,e){if(e&&this.enterChild(t,0,4))return!0;for(;;){if(this.sibling(t))return!0;if(this.atLastNode(t)||!this.parent())return!1}}next(t=!0){return this.move(1,t)}prev(t=!0){return this.move(-1,t)}moveTo(t,e=0){for(;(this.from==this.to||(e<1?this.from>=t:this.from>t)||(e>-1?this.to<=t:this.to<t))&&this.parent(););for(;this.enterChild(1,t,e););return this}get node(){if(!this.buffer)return this._tree;let t=this.bufferNode,e=null,r=0;if(t&&t.context==this.buffer)t:for(let i=this.index,a=this.stack.length;a>=0;){for(let s=t;s;s=s._parent)if(s.index==i){if(i==this.index)return s;e=s,r=a+1;break t}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)e=new Jv(this.buffer,e,this.stack[i]);return this.bufferNode=new Jv(this.buffer,e,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(t,e){for(let r=0;;){let i=!1;if(this.type.isAnonymous||t(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&e&&e(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(t){if(!this.buffer)return cT(this.node.parent,t);let{buffer:e}=this.buffer,{types:r}=e.set;for(let i=t.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return cT(this._tree,t,i);let s=r[e.buffer[this.stack[a]]];if(!s.isAnonymous){if(t[i]&&t[i]!=s.name)return!1;i--}}return!0}}function MN(n){return n.children.some(t=>t instanceof _0||!t.type.isAnonymous||MN(t))}const n5=new WeakMap;function vS(n,t){if(!n.isAnonymous||t instanceof _0||t.type!=n)return 1;let e=n5.get(t);if(e==null){e=1;for(let r of t.children){if(r.type!=n||!(r instanceof ud)){e=1;break}e+=vS(n,r)}n5.set(t,e)}return e}function hT(n,t,e,r,i,a,s,c,f){let d=0;for(let w=r;w<i;w++)d+=vS(n,t[w]);let h=Math.ceil(1.5*d/8),m=[],y=[];return function w(C,k,M,N,B){for(let L=M;L<N;){let z=L,q=k[L],V=vS(n,C[L]);for(L++;L<N;L++){let X=vS(n,C[L]);if(V+X>=h)break;V+=X}if(L==z+1){if(V>h){let X=C[z];w(X.children,X.positions,0,X.children.length,k[z]+B);continue}m.push(C[z])}else{let X=k[L-1]+C[L-1].length-q;m.push(hT(n,C,k,z,L,q,X,null,f))}y.push(q+B-a)}}(t,e,r,i,0),(c||f)(m,y,s)}class sy{constructor(t,e,r,i,a=!1,s=!1){this.from=t,this.to=e,this.tree=r,this.offset=i,this.open=(a?1:0)|(s?2:0)}get openStart(){return(1&this.open)>0}get openEnd(){return(2&this.open)>0}static addTree(t,e=[],r=!1){let i=[new sy(0,t.length,t,0,!1,r)];for(let a of e)a.to>t.length&&i.push(a);return i}static applyChanges(t,e,r=128){if(!e.length)return t;let i=[],a=1,s=t.length?t[0]:null;for(let c=0,f=0,d=0;;c++){let h=c<e.length?e[c]:null,m=h?h.fromA:1e9;if(m-f>=r)for(;s&&s.from<m;){let y=s;if(f>=y.from||m<=y.to||d){let w=Math.max(y.from,f)-d,C=Math.min(y.to,m)-d;y=w>=C?null:new sy(w,C,y.tree,y.offset+d,c>0,!!h)}if(y&&i.push(y),s.to>m)break;s=a<t.length?t[a++]:null}if(!h)break;f=h.toA,d=h.toA-h.toB}return i}}class yct{startParse(t,e,r){return typeof t=="string"&&(t=new wct(t)),r=r?r.length?r.map(i=>new Jk(i.from,i.to)):[new Jk(0,0)]:[new Jk(0,t.length)],this.createParse(t,e||[],r)}parse(t,e,r){let i=this.startParse(t,e,r);for(;;){let a=i.advance();if(a)return a}}}class wct{constructor(t){this.string=t}get length(){return this.string.length}chunk(t){return this.string.slice(t)}get lineChunks(){return!1}read(t,e){return this.string.slice(t,e)}}new $c({perNode:!0});let bct=0,np=class{constructor(t={}){this.id=bct++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=pT.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}};np.closedBy=new np({deserialize:n=>n.split(" ")}),np.openedBy=new np({deserialize:n=>n.split(" ")}),np.group=new np({deserialize:n=>n.split(" ")}),np.isolate=new np({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),np.contextHash=new np({perNode:!0}),np.lookAhead=new np({perNode:!0}),np.mounted=new np({perNode:!0});const xct=Object.create(null);let pT=class Mq{constructor(t,e,r,i=0){this.name=t,this.props=e,this.id=r,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):xct,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new Mq(t.name||"",e,t.id,r);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(np.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let i of r.split(" "))e[i]=t[r];return r=>{for(let i=r.prop(np.group),a=-1;a<(i?i.length:0);a++){let s=e[a<0?r.name:i[a]];if(s)return s}}}};var r5;pT.none=new pT("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(r5||(r5={})),new np({perNode:!0});let Dct=0;class xg{constructor(t,e,r,i){this.name=t,this.set=e,this.base=r,this.modified=i,this.id=Dct++}toString(){let{name:t}=this;for(let e of this.modified)e.name&&(t=`${e.name}(${t})`);return t}static define(t,e){let r=typeof t=="string"?t:"?";if(t instanceof xg&&(e=t),e==null?void 0:e.base)throw new Error("Can not derive from a modified tag");let i=new xg(r,[],null,[]);if(i.set.push(i),e)for(let a of e.set)i.set.push(a);return i}static defineModifier(t){let e=new U2(t);return r=>r.modified.indexOf(e)>-1?r:U2.get(r.base||r,r.modified.concat(e).sort((i,a)=>i.id-a.id))}}let Cct=0;class U2{constructor(t){this.name=t,this.instances=[],this.id=Cct++}static get(t,e){if(!e.length)return t;let r=e[0].instances.find(c=>c.base==t&&function(d,h){return d.length==h.length&&d.every((m,y)=>m==h[y])}(e,c.modified));if(r)return r;let i=[],a=new xg(t.name,i,t,e);for(let c of e)c.instances.push(a);let s=function(f){let d=[[]];for(let h=0;h<f.length;h++)for(let m=0,y=d.length;m<y;m++)d.push(d[m].concat(f[h]));return d.sort((h,m)=>m.length-h.length)}(e);for(let c of t.set)if(!c.modified.length)for(let f of s)i.push(U2.get(c,f));return a}}function _ct(n){let t=Object.create(null);for(let e in n){let r=n[e];Array.isArray(r)||(r=[r]);for(let i of e.split(" "))if(i){let a=[],s=2,c=i;for(let m=0;;){if(c=="..."&&m>0&&m+3==i.length){s=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(c);if(!y)throw new RangeError("Invalid path: "+i);if(a.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),m+=y[0].length,m==i.length)break;let w=i[m++];if(m==i.length&&w=="!"){s=0;break}if(w!="/")throw new RangeError("Invalid path: "+i);c=i.slice(m)}let f=a.length-1,d=a[f];if(!d)throw new RangeError("Invalid path: "+i);let h=new $2(r,s,f>0?a.slice(0,f):null);t[d]=h.sort(t[d])}}return Fq.add(t)}const Fq=new np;class $2{constructor(t,e,r,i){this.tags=t,this.mode=e,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(t){return!t||t.depth<this.depth?(this.next=t,this):(t.next=this.sort(t.next),t)}get depth(){return this.context?this.context.length:0}}function Pq(n,t){let e=Object.create(null);for(let a of n)if(Array.isArray(a.tag))for(let s of a.tag)e[s.id]=a.class;else e[a.tag.id]=a.class;let{scope:r,all:i=null}=t||{};return{style:a=>{let s=i;for(let c of a)for(let f of c.set){let d=e[f.id];if(d){s=s?s+" "+d:d;break}}return s},scope:r}}function Sct(n,t,e,r=0,i=n.length){let a=new Ect(r,Array.isArray(t)?t:[t],e);a.highlightRange(n.cursor(),r,i,"",a.highlighters),a.flush(i)}$2.empty=new $2([],2,null);class Ect{constructor(t,e,r){this.at=t,this.highlighters=e,this.span=r,this.class=""}startSpan(t,e){e!=this.class&&(this.flush(t),t>this.at&&(this.at=t),this.class=e)}flush(t){t>this.at&&this.class&&this.span(this.at,t,this.class)}highlightRange(t,e,r,i,a){let{type:s,from:c,to:f}=t;if(c>=r||f<=e)return;s.isTop&&(a=this.highlighters.filter(w=>!w.scope||w.scope(s)));let d=i,h=function(C){let k=C.type.prop(Fq);for(;k&&k.context&&!C.matchContext(k.context);)k=k.next;return k||null}(t)||$2.empty,m=function(C,k){let M=null;for(let N of C){let B=N.style(k);B&&(M=M?M+" "+B:B)}return M}(a,h.tags);if(m&&(d&&(d+=" "),d+=m,h.mode==1&&(i+=(i?" ":"")+m)),this.startSpan(Math.max(e,c),d),h.opaque)return;let y=t.tree&&t.tree.prop(np.mounted);if(y&&y.overlay){let w=t.node.enter(y.overlay[0].from+c,1),C=this.highlighters.filter(M=>!M.scope||M.scope(y.tree.type)),k=t.firstChild();for(let M=0,N=c;;M++){let B=M<y.overlay.length?y.overlay[M]:null,L=B?B.from+c:f,z=Math.max(e,N),q=Math.min(r,L);if(z<q&&k)for(;t.from<q&&(this.highlightRange(t,z,q,i,a),this.startSpan(Math.min(q,t.to),d),!(t.to>=L)&&t.nextSibling()););if(!B||L>r)break;N=B.to+c,N>e&&(this.highlightRange(w.cursor(),Math.max(e,B.from+c),Math.min(r,N),"",C),this.startSpan(Math.min(r,N),d))}k&&t.parent()}else if(t.firstChild()){y&&(i="");do if(!(t.to<=e)){if(t.from>=r)break;this.highlightRange(t,e,r,i,a),this.startSpan(Math.min(r,t.to),d)}while(t.nextSibling());t.parent()}}}const Sr=xg.define,f_=Sr(),Nv=Sr(),i5=Sr(Nv),o5=Sr(Nv),Iv=Sr(),h_=Sr(Iv),Qk=Sr(Iv),xm=Sr(),N0=Sr(xm),ym=Sr(),wm=Sr(),dT=Sr(),jb=Sr(dT),p_=Sr(),Tr={comment:f_,lineComment:Sr(f_),blockComment:Sr(f_),docComment:Sr(f_),name:Nv,variableName:Sr(Nv),typeName:i5,tagName:Sr(i5),propertyName:o5,attributeName:Sr(o5),className:Sr(Nv),labelName:Sr(Nv),namespace:Sr(Nv),macroName:Sr(Nv),literal:Iv,string:h_,docString:Sr(h_),character:Sr(h_),attributeValue:Sr(h_),number:Qk,integer:Sr(Qk),float:Sr(Qk),bool:Sr(Iv),regexp:Sr(Iv),escape:Sr(Iv),color:Sr(Iv),url:Sr(Iv),keyword:ym,self:Sr(ym),null:Sr(ym),atom:Sr(ym),unit:Sr(ym),modifier:Sr(ym),operatorKeyword:Sr(ym),controlKeyword:Sr(ym),definitionKeyword:Sr(ym),moduleKeyword:Sr(ym),operator:wm,derefOperator:Sr(wm),arithmeticOperator:Sr(wm),logicOperator:Sr(wm),bitwiseOperator:Sr(wm),compareOperator:Sr(wm),updateOperator:Sr(wm),definitionOperator:Sr(wm),typeOperator:Sr(wm),controlOperator:Sr(wm),punctuation:dT,separator:Sr(dT),bracket:jb,angleBracket:Sr(jb),squareBracket:Sr(jb),paren:Sr(jb),brace:Sr(jb),content:xm,heading:N0,heading1:Sr(N0),heading2:Sr(N0),heading3:Sr(N0),heading4:Sr(N0),heading5:Sr(N0),heading6:Sr(N0),contentSeparator:Sr(xm),list:Sr(xm),quote:Sr(xm),emphasis:Sr(xm),strong:Sr(xm),link:Sr(xm),monospace:Sr(xm),strikethrough:Sr(xm),inserted:Sr(),deleted:Sr(),changed:Sr(),invalid:Sr(),meta:p_,documentMeta:Sr(p_),annotation:Sr(p_),processingInstruction:Sr(p_),definition:xg.defineModifier("definition"),constant:xg.defineModifier("constant"),function:xg.defineModifier("function"),standard:xg.defineModifier("standard"),local:xg.defineModifier("local"),special:xg.defineModifier("special")};for(let n in Tr){let t=Tr[n];t instanceof xg&&(t.name=n)}var Zk;Pq([{tag:Tr.link,class:"tok-link"},{tag:Tr.heading,class:"tok-heading"},{tag:Tr.emphasis,class:"tok-emphasis"},{tag:Tr.strong,class:"tok-strong"},{tag:Tr.keyword,class:"tok-keyword"},{tag:Tr.atom,class:"tok-atom"},{tag:Tr.bool,class:"tok-bool"},{tag:Tr.url,class:"tok-url"},{tag:Tr.labelName,class:"tok-labelName"},{tag:Tr.inserted,class:"tok-inserted"},{tag:Tr.deleted,class:"tok-deleted"},{tag:Tr.literal,class:"tok-literal"},{tag:Tr.string,class:"tok-string"},{tag:Tr.number,class:"tok-number"},{tag:[Tr.regexp,Tr.escape,Tr.special(Tr.string)],class:"tok-string2"},{tag:Tr.variableName,class:"tok-variableName"},{tag:Tr.local(Tr.variableName),class:"tok-variableName tok-local"},{tag:Tr.definition(Tr.variableName),class:"tok-variableName tok-definition"},{tag:Tr.special(Tr.variableName),class:"tok-variableName2"},{tag:Tr.definition(Tr.propertyName),class:"tok-propertyName tok-definition"},{tag:Tr.typeName,class:"tok-typeName"},{tag:Tr.namespace,class:"tok-namespace"},{tag:Tr.className,class:"tok-className"},{tag:Tr.macroName,class:"tok-macroName"},{tag:Tr.propertyName,class:"tok-propertyName"},{tag:Tr.operator,class:"tok-operator"},{tag:Tr.comment,class:"tok-comment"},{tag:Tr.meta,class:"tok-meta"},{tag:Tr.invalid,class:"tok-invalid"},{tag:Tr.punctuation,class:"tok-punctuation"}]);const sx=new $c,Act=new $c;class Bm{constructor(t,e,r=[],i=""){this.data=t,this.name=i,vc.prototype.hasOwnProperty("tree")||Object.defineProperty(vc.prototype,"tree",{get(){return cd(this)}}),this.parser=e,this.extension=[S0.of(this),vc.languageData.of((a,s,c)=>{let f=a5(a,s,c),d=f.type.prop(sx);if(!d)return[];let h=a.facet(d),m=f.type.prop(Act);if(m){let y=f.resolve(s-f.from,c);for(let w of m)if(w.test(y,a)){let C=a.facet(w.facet);return w.type=="replace"?C:C.concat(h)}}return h})].concat(r)}isActiveAt(t,e,r=-1){return a5(t,e,r).type.prop(sx)==this.data}findRegions(t){let e=t.facet(S0);if((e==null?void 0:e.data)==this.data)return[{from:0,to:t.doc.length}];if(!e||!e.allowsNesting)return[];let r=[],i=(a,s)=>{if(a.prop(sx)==this.data)return void r.push({from:s,to:s+a.length});let c=a.prop($c.mounted);if(c){if(c.tree.prop(sx)==this.data){if(c.overlay)for(let f of c.overlay)r.push({from:f.from+s,to:f.to+s});else r.push({from:s,to:s+a.length});return}if(c.overlay){let f=r.length;if(i(c.tree,c.overlay[0].from+s),r.length>f)return}}for(let f=0;f<a.children.length;f++){let d=a.children[f];d instanceof ud&&i(d,a.positions[f]+s)}};return i(cd(t),0),r}get allowsNesting(){return!0}}function a5(n,t,e){let r=n.facet(S0),i=cd(n).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(t,e,Bp.ExcludeBuffers))a.type.isTop&&(i=a);return i}function cd(n){let t=n.field(Bm.state,!1);return t?t.tree:ud.empty}Bm.setState=qs.define();class kct{constructor(t){this.doc=t,this.cursorPos=0,this.string="",this.cursor=t.iter()}get length(){return this.doc.length}syncTo(t){return this.string=this.cursor.next(t-this.cursorPos).value,this.cursorPos=t+this.string.length,this.cursorPos-this.string.length}chunk(t){return this.syncTo(t),this.string}get lineChunks(){return!0}read(t,e){let r=this.cursorPos-this.string.length;return t<r||e>=this.cursorPos?this.doc.sliceString(t,e):this.string.slice(t-r,e-r)}}let Lb=null;class W2{constructor(t,e,r=[],i,a,s,c,f){this.parser=t,this.state=e,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=s,this.skipped=c,this.scheduleOn=f,this.parse=null,this.tempSkipped=[]}static create(t,e,r){return new W2(t,e,[],ud.empty,0,r,[],null)}startParse(){return this.parser.startParse(new kct(this.state.doc),this.fragments)}work(t,e){return e!=null&&e>=this.state.doc.length&&(e=void 0),this.tree!=ud.empty&&this.isDone(e??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof t=="number"){let i=Date.now()+t;t=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),e!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&e<this.state.doc.length&&this.parse.stopAt(e);;){let i=this.parse.advance();if(i){if(this.fragments=this.withoutTempSkipped(sy.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,!(this.treeLen<(e??this.state.doc.length)))return!0;this.parse=this.startParse()}if(t())return!1}})}takeTree(){let t,e;this.parse&&(t=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&this.parse.stopAt(t),this.withContext(()=>{for(;!(e=this.parse.advance()););}),this.treeLen=t,this.tree=e,this.fragments=this.withoutTempSkipped(sy.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(t){let e=Lb;Lb=this;try{return t()}finally{Lb=e}}withoutTempSkipped(t){for(let e;e=this.tempSkipped.pop();)t=s5(t,e.from,e.to);return t}changes(t,e){let{fragments:r,tree:i,treeLen:a,viewport:s,skipped:c}=this;if(this.takeTree(),!t.empty){let f=[];if(t.iterChangedRanges((d,h,m,y)=>f.push({fromA:d,toA:h,fromB:m,toB:y})),r=sy.applyChanges(r,f),i=ud.empty,a=0,s={from:t.mapPos(s.from,-1),to:t.mapPos(s.to,1)},this.skipped.length){c=[];for(let d of this.skipped){let h=t.mapPos(d.from,1),m=t.mapPos(d.to,-1);h<m&&c.push({from:h,to:m})}}}return new W2(this.parser,e,r,i,a,s,c,this.scheduleOn)}updateViewport(t){if(this.viewport.from==t.from&&this.viewport.to==t.to)return!1;this.viewport=t;let e=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<t.to&&a>t.from&&(this.fragments=s5(this.fragments,i,a),this.skipped.splice(r--,1))}return!(this.skipped.length>=e)&&(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(t,e){this.skipped.push({from:t,to:e})}static getSkippingParser(t){return new class extends yct{createParse(e,r,i){let a=i[0].from,s=i[i.length-1].to;return{parsedPos:a,advance(){let f=Lb;if(f){for(let d of i)f.tempSkipped.push(d);t&&(f.scheduleOn=f.scheduleOn?Promise.all([f.scheduleOn,t]):t)}return this.parsedPos=s,new ud(Km.none,[],[],s-a)},stoppedAt:null,stopAt(){}}}}}isDone(t){t=Math.min(t,this.state.doc.length);let e=this.fragments;return this.treeLen>=t&&e.length&&e[0].from==0&&e[0].to>=t}static get(){return Lb}}function s5(n,t,e){return sy.applyChanges(n,[{fromA:t,toA:e,fromB:t,toB:e}])}class ob{constructor(t){this.context=t,this.tree=t.tree}apply(t){if(!t.docChanged&&this.tree==this.context.tree)return this;let e=this.context.changes(t.changes,t.state),r=this.context.treeLen==t.startState.doc.length?void 0:Math.max(t.changes.mapPos(this.context.treeLen),e.viewport.to);return e.work(20,r)||e.takeTree(),new ob(e)}static init(t){let e=Math.min(3e3,t.doc.length),r=W2.create(t.facet(S0).parser,t,{from:0,to:e});return r.work(20,e)||r.takeTree(),new ob(r)}}Bm.state=Hp.define({create:ob.init,update(n,t){for(let e of t.effects)if(e.is(Bm.setState))return e.value;return t.startState.facet(S0)!=t.state.facet(S0)?ob.init(t.state):n.apply(t)}});let Tq=n=>{let t=setTimeout(()=>n(),500);return()=>clearTimeout(t)};typeof requestIdleCallback<"u"&&(Tq=n=>{let t=-1,e=setTimeout(()=>{t=requestIdleCallback(n,{timeout:400})},100);return()=>t<0?clearTimeout(e):cancelIdleCallback(t)});const tM=typeof navigator<"u"&&(!((Zk=navigator.scheduling)===null||Zk===void 0)&&Zk.isInputPending)?()=>navigator.scheduling.isInputPending():null,Mct=Zh.fromClass(class{constructor(t){this.view=t,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(t){let e=this.view.state.field(Bm.state).context;(e.updateViewport(t.view.viewport)||this.view.viewport.to>e.treeLen)&&this.scheduleWork(),(t.docChanged||t.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(e)}scheduleWork(){if(this.working)return;let{state:t}=this.view,e=t.field(Bm.state);e.tree==e.context.tree&&e.context.isDone(t.doc.length)||(this.working=Tq(this.work))}work(t){this.working=null;let e=Date.now();if(this.chunkEnd<e&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=e+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,a=r.field(Bm.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,t&&!tM?Math.max(25,t.timeRemaining()-5):1e9),c=a.context.treeLen<i&&r.doc.length>i+1e3,f=a.context.work(()=>tM&&tM()||Date.now()>s,i+(c?0:1e5));this.chunkBudget-=Date.now()-e,(f||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:Bm.setState.of(new ob(a.context))})),this.chunkBudget>0&&(!f||c)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(t){t.scheduleOn&&(this.workScheduled++,t.scheduleOn.then(()=>this.scheduleWork()).catch(e=>Ld(this.view.state,e)).then(()=>this.workScheduled--),t.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),S0=Yr.define({combine:n=>n.length?n[0]:null,enables:n=>[Bm.state,Mct,ci.contentAttributes.compute([n],t=>{let e=t.facet(n);return e&&e.name?{"data-language":e.name}:{}})]}),Fct=Yr.define(),FN=Yr.define({combine:n=>{if(!n.length)return"  ";let t=n[0];if(!t||/\S/.test(t)||Array.from(t).some(e=>e!=t[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return t}});function H2(n){let t=n.facet(FN);return t.charCodeAt(0)==9?n.tabSize*t.length:t.length}function mD(n,t){let e="",r=n.tabSize,i=n.facet(FN)[0];if(i=="	"){for(;t>=r;)e+="	",t-=r;i=" "}for(let a=0;a<t;a++)e+=i;return e}function PN(n,t){n instanceof vc&&(n=new KE(n));for(let r of n.state.facet(Fct)){let i=r(n,t);if(i!==void 0)return i}let e=cd(n.state);return e.length>=t?function(i,a,s){let c=a.resolveStack(s),f=c.node.enterUnfinishedNodesBefore(s);if(f!=c.node){let d=[];for(let h=f;h!=c.node;h=h.parent)d.push(h);for(let h=d.length-1;h>=0;h--)c={node:d[h],next:c}}return Oq(c,i,s)}(n,e,t):null}class KE{constructor(t,e={}){this.state=t,this.options=e,this.unit=H2(t)}lineAt(t,e=1){let r=this.state.doc.lineAt(t),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==t?{text:"",from:t}:(e<0?i<t:i<=t)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(t,e=1){if(this.options.simulateDoubleBreak&&t==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(t,e);return r.slice(t-i,Math.min(r.length,t+100-i))}column(t,e=1){let{text:r,from:i}=this.lineAt(t,e),a=this.countColumn(r,t-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(a+=s-this.countColumn(r,r.search(/\S|$/))),a}countColumn(t,e=t.length){return mb(t,this.state.tabSize,e)}lineIndent(t,e=1){let{text:r,from:i}=this.lineAt(t,e),a=this.options.overrideIndentation;if(a){let s=a(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Pct=new $c;function Oq(n,t,e){for(let r=n;r;r=r.next){let i=Tct(r.node);if(i)return i(TN.create(t,e,r))}return 0}function Tct(n){let t=n.type.prop(Pct);if(t)return t;let e,r=n.firstChild;if(r&&(e=r.type.prop($c.closedBy))){let i=n.lastChild,a=i&&e.indexOf(i.name)>-1;return s=>function(f,d,h,m,y){let w=f.textAfter.match(/^\s*/)[0].length,C=y==f.pos+w,k=function(N){let B=N.node,L=B.childAfter(B.from),z=B.lastChild;if(!L)return null;let q=N.options.simulateBreak,V=N.state.doc.lineAt(L.from),X=q==null||q<=V.from?V.to:Math.min(V.to,q);for(let nt=L.to;;){let it=B.childAfter(nt);if(!it||it==z)return null;if(!it.type.isSkipped){if(it.from>=X)return null;let ct=/^ */.exec(V.text.slice(L.to-V.from))[0].length;return{from:L.from,to:L.to+ct}}nt=it.to}}(f);return k?C?f.column(k.from):f.column(k.to):f.baseIndent+(C?0:f.unit*h)}(s,0,1,0,a&&!function(f){return f.pos==f.options.simulateBreak&&f.options.simulateDoubleBreak}(s)?i.from:void 0)}return n.parent==null?Oct:null}function Oct(){return 0}class TN extends KE{constructor(t,e,r){super(t.state,t.options),this.base=t,this.pos=e,this.context=r}get node(){return this.context.node}static create(t,e,r){return new TN(t,e,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(t){let e=this.state.doc.lineAt(t.from);for(;;){let r=t.resolve(e.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Nct(r,t))break;e=this.state.doc.lineAt(r.from)}return this.lineIndent(e.from)}continue(){return Oq(this.context.next,this.base,this.pos)}}function Nct(n,t){for(let e=t;e;e=e.parent)if(n==e)return!0;return!1}const Ict=Yr.define(),Bct=new $c;function Rct(n){let t=n.lastChild;return t&&t.to==n.to&&t.type.isError}function V2(n,t,e){for(let r of n.facet(Ict)){let i=r(n,t,e);if(i)return i}return function(i,a,s){let c=cd(i);if(c.length<s)return null;let f=null;for(let d=c.resolveStack(s,1);d;d=d.next){let h=d.node;if(h.to<=s||h.from>s)continue;if(f&&h.from<a)break;let m=h.type.prop(Bct);if(m&&(h.to<c.length-50||c.length==i.doc.length||!Rct(h))){let y=m(h,i);y&&y.from<=s&&y.from>=a&&y.to>s&&(f=y)}}return f}(n,t,e)}function Nq(n,t){let e=t.mapPos(n.from,1),r=t.mapPos(n.to,-1);return e>=r?void 0:{from:e,to:r}}const q2=qs.define({map:Nq}),vD=qs.define({map:Nq});function u5(n){let t=[];for(let{head:e}of n.state.selection.ranges)t.some(r=>r.from<=e&&r.to>=e)||t.push(n.lineBlockAt(e));return t}const Sy=Hp.define({create:()=>wa.none,update(n,t){n=n.map(t.changes);for(let e of t.effects)if(e.is(q2)&&!jct(n,e.value.from,e.value.to)){let{preparePlaceholder:r}=t.state.facet(Iq),i=r?wa.replace({widget:new Uct(r(t.state,e.value))}):f5;n=n.update({add:[i.range(e.value.from,e.value.to)]})}else e.is(vD)&&(n=n.update({filter:(r,i)=>e.value.from!=r||e.value.to!=i,filterFrom:e.value.from,filterTo:e.value.to}));if(t.selection){let e=!1,{head:r}=t.selection.main;n.between(r,r,(i,a)=>{i<r&&a>r&&(e=!0)}),e&&(n=n.update({filterFrom:r,filterTo:r,filter:(i,a)=>a<=r||i>=r}))}return n},provide:n=>ci.decorations.from(n),toJSON(n,t){let e=[];return n.between(0,t.doc.length,(r,i)=>{e.push(r,i)}),e},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let t=[];for(let e=0;e<n.length;){let r=n[e++],i=n[e++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");t.push(f5.range(r,i))}return wa.set(t,!0)}});function K2(n,t,e){var r;let i=null;return(r=n.field(Sy,!1))===null||r===void 0||r.between(t,e,(a,s)=>{(!i||i.from>a)&&(i={from:a,to:s})}),i}function jct(n,t,e){let r=!1;return n.between(t,t,(i,a)=>{i==t&&a==e&&(r=!0)}),r}function l5(n,t){return n.field(Sy,!1)?t:t.concat(qs.appendConfig.of(Bq()))}function c5(n,t,e=!0){let r=n.state.doc.lineAt(t.from).number,i=n.state.doc.lineAt(t.to).number;return ci.announce.of(`${n.state.phrase(e?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const Lct=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:n=>{for(let t of u5(n)){let e=V2(n.state,t.from,t.to);if(e)return n.dispatch({effects:l5(n.state,[q2.of(e),c5(n,e)])}),!0}return!1}},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:n=>{if(!n.state.field(Sy,!1))return!1;let t=[];for(let e of u5(n)){let r=K2(n.state,e.from,e.to);r&&t.push(vD.of(r),c5(n,r,!1))}return t.length&&n.dispatch({effects:t}),t.length>0}},{key:"Ctrl-Alt-[",run:n=>{let{state:t}=n,e=[];for(let r=0;r<t.doc.length;){let i=n.lineBlockAt(r),a=V2(t,i.from,i.to);a&&e.push(q2.of(a)),r=(a?n.lineBlockAt(a.to):i).to+1}return e.length&&n.dispatch({effects:l5(n.state,e)}),!!e.length}},{key:"Ctrl-Alt-]",run:n=>{let t=n.state.field(Sy,!1);if(!t||!t.size)return!1;let e=[];return t.between(0,n.state.doc.length,(r,i)=>{e.push(vD.of({from:r,to:i}))}),n.dispatch({effects:e}),!0}}],zct={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Iq=Yr.define({combine:n=>Zm(n,zct)});function Bq(n){return[Sy,Hct]}function Rq(n,t){let{state:e}=n,r=e.facet(Iq),i=s=>{let c=n.lineBlockAt(n.posAtDOM(s.target)),f=K2(n.state,c.from,c.to);f&&n.dispatch({effects:vD.of(f)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,t);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",e.phrase("folded code")),a.title=e.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const f5=wa.replace({widget:new class extends k0{toDOM(n){return Rq(n,null)}}});class Uct extends k0{constructor(t){super(),this.value=t}eq(t){return this.value==t.value}toDOM(t){return Rq(t,this.value)}}const $ct={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class eM extends sv{constructor(t,e){super(),this.config=t,this.open=e}eq(t){return this.config==t.config&&this.open==t.open}toDOM(t){if(this.config.markerDOM)return this.config.markerDOM(this.open);let e=document.createElement("span");return e.textContent=this.open?this.config.openText:this.config.closedText,e.title=t.state.phrase(this.open?"Fold line":"Unfold line"),e}}function Wct(n={}){let t=Object.assign(Object.assign({},$ct),n),e=new eM(t,!0),r=new eM(t,!1),i=Zh.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(S0)!=s.state.facet(S0)||s.startState.field(Sy,!1)!=s.state.field(Sy,!1)||cd(s.startState)!=cd(s.state)||t.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let c=new b0;for(let f of s.viewportLineBlocks){let d=K2(s.state,f.from,f.to)?r:V2(s.state,f.from,f.to)?e:null;d&&c.add(f.from,f.from,d)}return c.finish()}}),{domEventHandlers:a}=t;return[i,ict({class:"cm-foldGutter",markers(s){var c;return((c=s.plugin(i))===null||c===void 0?void 0:c.markers)||sc.empty},initialSpacer:()=>new eM(t,!1),domEventHandlers:Object.assign(Object.assign({},a),{click:(s,c,f)=>{if(a.click&&a.click(s,c,f))return!0;let d=K2(s.state,c.from,c.to);if(d)return s.dispatch({effects:vD.of(d)}),!0;let h=V2(s.state,c.from,c.to);return!!h&&(s.dispatch({effects:q2.of(h)}),!0)}})}),Bq()]}const Hct=ci.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class GE{constructor(t,e){let r;function i(c){let f=x0.newName();return(r||(r=Object.create(null)))["."+f]=c,f}this.specs=t;const a=typeof e.all=="string"?e.all:e.all?i(e.all):void 0,s=e.scope;this.scope=s instanceof Bm?c=>c.prop(sx)==s.data:s?c=>c==s:void 0,this.style=Pq(t.map(c=>({tag:c.tag,class:c.class||i(Object.assign({},c,{tag:null}))})),{all:a}).style,this.module=r?new x0(r):null,this.themeType=e.themeType}static define(t,e){return new GE(t,e||{})}}const gT=Yr.define(),jq=Yr.define({combine:n=>n.length?[n[0]]:null});function nM(n){let t=n.facet(gT);return t.length?t:n.facet(jq)}function Vct(n,t){let e,r=[Kct];return n instanceof GE&&(n.module&&r.push(ci.styleModule.of(n.module)),e=n.themeType),t!=null&&t.fallback?r.push(jq.of(n)):e?r.push(gT.computeN([ci.darkTheme],i=>i.facet(ci.darkTheme)==(e=="dark")?[n]:[])):r.push(gT.of(n)),r}class qct{constructor(t){this.markCache=Object.create(null),this.tree=cd(t.state),this.decorations=this.buildDeco(t,nM(t.state)),this.decoratedTo=t.viewport.to}update(t){let e=cd(t.state),r=nM(t.state),i=r!=nM(t.startState),{viewport:a}=t.view,s=t.changes.mapPos(this.decoratedTo,1);e.length<a.to&&!i&&e.type==this.tree.type&&s>=a.to?(this.decorations=this.decorations.map(t.changes),this.decoratedTo=s):(e!=this.tree||t.viewportChanged||i)&&(this.tree=e,this.decorations=this.buildDeco(t.view,r),this.decoratedTo=a.to)}buildDeco(t,e){if(!e||!this.tree.length)return wa.none;let r=new b0;for(let{from:i,to:a}of t.visibleRanges)Sct(this.tree,e,(s,c,f)=>{r.add(s,c,this.markCache[f]||(this.markCache[f]=wa.mark({class:f})))},i,a);return r.finish()}}const Kct=Py.high(Zh.fromClass(qct,{decorations:n=>n.decorations})),Gct=GE.define([{tag:Tr.meta,color:"#404740"},{tag:Tr.link,textDecoration:"underline"},{tag:Tr.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Tr.emphasis,fontStyle:"italic"},{tag:Tr.strong,fontWeight:"bold"},{tag:Tr.strikethrough,textDecoration:"line-through"},{tag:Tr.keyword,color:"#708"},{tag:[Tr.atom,Tr.bool,Tr.url,Tr.contentSeparator,Tr.labelName],color:"#219"},{tag:[Tr.literal,Tr.inserted],color:"#164"},{tag:[Tr.string,Tr.deleted],color:"#a11"},{tag:[Tr.regexp,Tr.escape,Tr.special(Tr.string)],color:"#e40"},{tag:Tr.definition(Tr.variableName),color:"#00f"},{tag:Tr.local(Tr.variableName),color:"#30a"},{tag:[Tr.typeName,Tr.namespace],color:"#085"},{tag:Tr.className,color:"#167"},{tag:[Tr.special(Tr.variableName),Tr.macroName],color:"#256"},{tag:Tr.definition(Tr.propertyName),color:"#00c"},{tag:Tr.comment,color:"#940"},{tag:Tr.invalid,color:"#f00"}]),Yct=ci.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Lq="()[]{}",zq=Yr.define({combine:n=>Zm(n,{afterCursor:!0,brackets:Lq,maxScanDistance:1e4,renderMatch:Qct})}),Xct=wa.mark({class:"cm-matchingBracket"}),Jct=wa.mark({class:"cm-nonmatchingBracket"});function Qct(n){let t=[],e=n.matched?Xct:Jct;return t.push(e.range(n.start.from,n.start.to)),n.end&&t.push(e.range(n.end.from,n.end.to)),t}const Zct=Hp.define({create:()=>wa.none,update(n,t){if(!t.docChanged&&!t.selection)return n;let e=[],r=t.state.facet(zq);for(let i of t.state.selection.ranges){if(!i.empty)continue;let a=Rm(t.state,i.head,-1,r)||i.head>0&&Rm(t.state,i.head-1,1,r)||r.afterCursor&&(Rm(t.state,i.head,1,r)||i.head<t.state.doc.length&&Rm(t.state,i.head+1,-1,r));a&&(e=e.concat(r.renderMatch(a,t.state)))}return wa.set(e,!0)},provide:n=>ci.decorations.from(n)}),tft=[Zct,Yct];function eft(n={}){return[zq.of(n),tft]}const nft=new $c;function mT(n,t,e){let r=n.prop(t<0?$c.openedBy:$c.closedBy);if(r)return r;if(n.name.length==1){let i=e.indexOf(n.name);if(i>-1&&i%2==(t<0?1:0))return[e[i+t]]}return null}function vT(n){let t=n.type.prop(nft);return t?t(n.node):n}function Rm(n,t,e,r={}){let i=r.maxScanDistance||1e4,a=r.brackets||Lq,s=cd(n),c=s.resolveInner(t,e);for(let f=c;f;f=f.parent){let d=mT(f.type,e,a);if(d&&f.from<f.to){let h=vT(f);if(h&&(e>0?t>=h.from&&t<h.to:t>h.from&&t<=h.to))return rft(n,t,e,f,h,d,a)}}return function(d,h,m,y,w,C,k){let M=m<0?d.sliceDoc(h-1,h):d.sliceDoc(h,h+1),N=k.indexOf(M);if(N<0||N%2==0!=m>0)return null;let B={from:m<0?h-1:h,to:m>0?h+1:h},L=d.doc.iterRange(h,m>0?d.doc.length:0),z=0;for(let q=0;!L.next().done&&q<=C;){let V=L.value;m<0&&(q+=V.length);let X=h+q*m;for(let nt=m>0?0:V.length-1,it=m>0?V.length:-1;nt!=it;nt+=m){let ct=k.indexOf(V[nt]);if(!(ct<0||y.resolveInner(X+nt,1).type!=w))if(ct%2==0==m>0)z++;else{if(z==1)return{start:B,end:{from:X+nt,to:X+nt+1},matched:ct>>1==N>>1};z--}}m>0&&(q+=V.length)}return L.done?{start:B,matched:!1}:null}(n,t,e,s,c.type,i,a)}function rft(n,t,e,r,i,a,s){let c=r.parent,f={from:i.from,to:i.to},d=0,h=c==null?void 0:c.cursor();if(h&&(e<0?h.childBefore(r.from):h.childAfter(r.to)))do if(e<0?h.to<=r.from:h.from>=r.to){if(d==0&&a.indexOf(h.type.name)>-1&&h.from<h.to){let m=vT(h);return{start:f,end:m?{from:m.from,to:m.to}:void 0,matched:!0}}if(mT(h.type,e,s))d++;else if(mT(h.type,-e,s)){if(d==0){let m=vT(h);return{start:f,end:m&&m.from<m.to?{from:m.from,to:m.to}:void 0,matched:!1}}d--}}while(e<0?h.prevSibling():h.nextSibling());return{start:f,matched:!1}}const ift=Object.create(null),h5=[Km.none],p5=[],d5=Object.create(null),oft=Object.create(null);for(let[n,t]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])oft[n]=aft(ift,t);function rM(n,t){p5.indexOf(n)>-1||(p5.push(n),console.warn(t))}function aft(n,t){let e=[];for(let c of t.split(" ")){let f=[];for(let d of c.split(".")){let h=n[d]||Tr[d];h?typeof h=="function"?f.length?f=f.map(h):rM(d,`Modifier ${d} used at start of tag`):f.length?rM(d,`Tag ${d} used as modifier`):f=Array.isArray(h)?h:[h]:rM(d,`Unknown highlighting tag ${d}`)}for(let d of f)e.push(d)}if(!e.length)return 0;let r=t.replace(/ /g,"_"),i=r+" "+e.map(c=>c.id),a=d5[i];if(a)return a.id;let s=d5[i]=Km.define({id:h5.length,name:r,props:[_ct({[r]:e})]});return h5.push(s),s.id}sh.RTL,sh.LTR;let sft=0;class Gh{constructor(t={}){this.id=sft++,this.perNode=!!t.perNode,this.deserialize=t.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(t){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof t!="function"&&(t=yD.match(t)),e=>{let r=t(e);return r===void 0?null:[this,r]}}}Gh.closedBy=new Gh({deserialize:n=>n.split(" ")}),Gh.openedBy=new Gh({deserialize:n=>n.split(" ")}),Gh.group=new Gh({deserialize:n=>n.split(" ")}),Gh.isolate=new Gh({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}}),Gh.contextHash=new Gh({perNode:!0}),Gh.lookAhead=new Gh({perNode:!0}),Gh.mounted=new Gh({perNode:!0});const uft=Object.create(null);class yD{constructor(t,e,r,i=0){this.name=t,this.props=e,this.id=r,this.flags=i}static define(t){let e=t.props&&t.props.length?Object.create(null):uft,r=(t.top?1:0)|(t.skipped?2:0)|(t.error?4:0)|(t.name==null?8:0),i=new yD(t.name||"",e,t.id,r);if(t.props){for(let a of t.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");e[a[0].id]=a[1]}}return i}prop(t){return this.props[t.id]}get isTop(){return(1&this.flags)>0}get isSkipped(){return(2&this.flags)>0}get isError(){return(4&this.flags)>0}get isAnonymous(){return(8&this.flags)>0}is(t){if(typeof t=="string"){if(this.name==t)return!0;let e=this.prop(Gh.group);return!!e&&e.indexOf(t)>-1}return this.id==t}static match(t){let e=Object.create(null);for(let r in t)for(let i of r.split(" "))e[i]=t[r];return r=>{for(let i=r.prop(Gh.group),a=-1;a<(i?i.length:0);a++){let s=e[a<0?r.name:i[a]];if(s)return s}}}}var g5;yD.none=new yD("",Object.create(null),0,8),function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"}(g5||(g5={})),new Gh({perNode:!0});function ON(n,t){return({state:e,dispatch:r})=>{if(e.readOnly)return!1;let i=n(t,e);return!!i&&(r(e.update(i)),!0)}}const lft=ON(hft,0),cft=ON(Uq,0),fft=ON((n,t)=>Uq(n,t,function(r){let i=[];for(let a of r.selection.ranges){let s=r.doc.lineAt(a.from),c=a.to<=s.to?s:r.doc.lineAt(a.to);c.from>s.from&&c.from==a.to&&(c=a.to==s.to+1?s:r.doc.lineAt(a.to-1));let f=i.length-1;f>=0&&i[f].to>s.from?i[f].to=c.to:i.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:c.to})}return i}(t)),0);function NN(n,t){let e=n.languageDataAt("commentTokens",t);return e.length?e[0]:{}}const zb=50;function Uq(n,t,e=t.selection.ranges){let r=e.map(a=>NN(t,a.from).block);if(!r.every(a=>a))return null;let i=e.map((a,s)=>function(f,{open:d,close:h},m,y){let w,C,k=f.sliceDoc(m-zb,m),M=f.sliceDoc(y,y+zb),N=/\s*$/.exec(k)[0].length,B=/^\s*/.exec(M)[0].length,L=k.length-N;if(k.slice(L-d.length,L)==d&&M.slice(B,B+h.length)==h)return{open:{pos:m-N,margin:N&&1},close:{pos:y+B,margin:B&&1}};y-m<=2*zb?w=C=f.sliceDoc(m,y):(w=f.sliceDoc(m,m+zb),C=f.sliceDoc(y-zb,y));let z=/^\s*/.exec(w)[0].length,q=/\s*$/.exec(C)[0].length,V=C.length-q-h.length;return w.slice(z,z+d.length)==d&&C.slice(V,V+h.length)==h?{open:{pos:m+z+d.length,margin:/\s/.test(w.charAt(z+d.length))?1:0},close:{pos:y-q-h.length,margin:/\s/.test(C.charAt(V-1))?1:0}}:null}(t,r[s],a.from,a.to));if(n!=2&&!i.every(a=>a))return{changes:t.changes(e.map((a,s)=>i[s]?[]:[{from:a.from,insert:r[s].open+" "},{from:a.to,insert:" "+r[s].close}]))};if(n!=1&&i.some(a=>a)){let a=[];for(let s,c=0;c<i.length;c++)if(s=i[c]){let f=r[c],{open:d,close:h}=s;a.push({from:d.pos-f.open.length,to:d.pos+d.margin},{from:h.pos-h.margin,to:h.pos+f.close.length})}return{changes:a}}return null}function hft(n,t,e=t.selection.ranges){let r=[],i=-1;for(let{from:a,to:s}of e){let c=r.length,f=1e9,d=NN(t,a).line;if(d){for(let h=a;h<=s;){let m=t.doc.lineAt(h);if(m.from>i&&(a==s||s>m.from)){i=m.from;let y=/^\s*/.exec(m.text)[0].length,w=y==m.length,C=m.text.slice(y,y+d.length)==d?y:-1;y<m.text.length&&y<f&&(f=y),r.push({line:m,comment:C,token:d,indent:y,empty:w,single:!1})}h=m.to+1}if(f<1e9)for(let h=c;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=f);r.length==c+1&&(r[c].single=!0)}}if(n!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:c,token:f,indent:d,empty:h,single:m}of r)!m&&h||a.push({from:c.from+d,insert:f+" "});let s=t.changes(a);return{changes:s,selection:t.selection.map(s,1)}}if(n!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:s,comment:c,token:f}of r)if(c>=0){let d=s.from+c,h=d+f.length;s.text[h-s.from]==" "&&h++,a.push({from:d,to:h})}return{changes:a}}return null}const yT=dv.define(),pft=dv.define(),dft=Yr.define(),$q=Yr.define({combine:n=>Zm(n,{minDepth:100,newGroupDelay:500,joinToEvent:(t,e)=>e},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(t,e)=>(r,i)=>t(r,i)||e(r,i)})}),Wq=Hp.define({create:()=>jm.empty,update(n,t){let e=t.state.facet($q),r=t.annotation(yT);if(r){let f=zd.fromTransaction(t,r.selection),d=r.side,h=d==0?n.undone:n.done;return h=f?G2(h,h.length,e.minDepth,f):qq(h,t.startState.selection),new jm(d==0?r.rest:h,d==0?h:r.rest)}let i=t.annotation(pft);if(i!="full"&&i!="before"||(n=n.isolate()),t.annotation(lp.addToHistory)===!1)return t.changes.empty?n:n.addMapping(t.changes.desc);let a=zd.fromTransaction(t),s=t.annotation(lp.time),c=t.annotation(lp.userEvent);return a?n=n.addChanges(a,s,c,e,t):t.selection&&(n=n.addSelection(t.startState.selection,s,c,e.newGroupDelay)),i!="full"&&i!="after"||(n=n.isolate()),n},toJSON:n=>({done:n.done.map(t=>t.toJSON()),undone:n.undone.map(t=>t.toJSON())}),fromJSON:n=>new jm(n.done.map(zd.fromJSON),n.undone.map(zd.fromJSON))});function gft(n={}){return[Wq,$q.of(n),ci.domEventHandlers({beforeinput(t,e){let r=t.inputType=="historyUndo"?Hq:t.inputType=="historyRedo"?wT:null;return!!r&&(t.preventDefault(),r(e))}})]}function YE(n,t){return function({state:e,dispatch:r}){if(!t&&e.readOnly)return!1;let i=e.field(Wq,!1);if(!i)return!1;let a=i.pop(n,e,t);return!!a&&(r(a),!0)}}const Hq=YE(0,!1),wT=YE(1,!1),mft=YE(0,!0),vft=YE(1,!0);class zd{constructor(t,e,r,i,a){this.changes=t,this.effects=e,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(t){return new zd(this.changes,this.effects,this.mapped,this.startSelection,t)}toJSON(){var t,e,r;return{changes:(t=this.changes)===null||t===void 0?void 0:t.toJSON(),mapped:(e=this.mapped)===null||e===void 0?void 0:e.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(t){return new zd(t.changes&&ap.fromJSON(t.changes),[],t.mapped&&$m.fromJSON(t.mapped),t.startSelection&&un.fromJSON(t.startSelection),t.selectionsAfter.map(un.fromJSON))}static fromTransaction(t,e){let r=kg;for(let i of t.startState.facet(dft)){let a=i(t);a.length&&(r=r.concat(a))}return!r.length&&t.changes.empty?null:new zd(t.changes.invert(t.startState.doc),r,void 0,e||t.startState.selection,kg)}static selection(t){return new zd(void 0,kg,void 0,void 0,t)}}function G2(n,t,e,r){let i=t+1>e+20?t-e-1:0,a=n.slice(i,t);return a.push(r),a}function Vq(n,t){return n.length?t.length?n.concat(t):n:t}const kg=[],yft=200;function qq(n,t){if(n.length){let e=n[n.length-1],r=e.selectionsAfter.slice(Math.max(0,e.selectionsAfter.length-yft));return r.length&&r[r.length-1].eq(t)?n:(r.push(t),G2(n,n.length-1,1e9,e.setSelAfter(r)))}return[zd.selection([t])]}function wft(n){let t=n[n.length-1],e=n.slice();return e[n.length-1]=t.setSelAfter(t.selectionsAfter.slice(0,t.selectionsAfter.length-1)),e}function iM(n,t){if(!n.length)return n;let e=n.length,r=kg;for(;e;){let i=bft(n[e-1],t,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=n.slice(0,e);return a[e-1]=i,a}t=i.mapped,e--,r=i.selectionsAfter}return r.length?[zd.selection(r)]:kg}function bft(n,t,e){let r=Vq(n.selectionsAfter.length?n.selectionsAfter.map(c=>c.map(t)):kg,e);if(!n.changes)return zd.selection(r);let i=n.changes.map(t),a=t.mapDesc(n.changes,!0),s=n.mapped?n.mapped.composeDesc(a):a;return new zd(i,qs.mapEffects(n.effects,t),s,n.startSelection.map(a),r)}const xft=/^(input\.type|delete)($|\.)/;class jm{constructor(t,e,r=0,i=void 0){this.done=t,this.undone=e,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new jm(this.done,this.undone):this}addChanges(t,e,r,i,a){let s=this.done,c=s[s.length-1];return s=c&&c.changes&&!c.changes.empty&&t.changes&&(!r||xft.test(r))&&(!c.selectionsAfter.length&&e-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,function(d,h){let m=[],y=!1;return d.iterChangedRanges((w,C)=>m.push(w,C)),h.iterChangedRanges((w,C,k,M)=>{for(let N=0;N<m.length;){let B=m[N++],L=m[N++];M>=B&&k<=L&&(y=!0)}}),y}(c.changes,t.changes))||r=="input.type.compose")?G2(s,s.length-1,i.minDepth,new zd(t.changes.compose(c.changes),Vq(qs.mapEffects(t.effects,c.changes),c.effects),c.mapped,c.startSelection,kg)):G2(s,s.length,i.minDepth,t),new jm(s,kg,e,r)}addSelection(t,e,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:kg;return a.length>0&&e-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&function(c,f){return c.ranges.length==f.ranges.length&&c.ranges.filter((d,h)=>d.empty!=f.ranges[h].empty).length===0}(a[a.length-1],t)?this:new jm(qq(this.done,t),this.undone,e,r)}addMapping(t){return new jm(iM(this.done,t),iM(this.undone,t),this.prevTime,this.prevUserEvent)}pop(t,e,r){let i=t==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],s=a.selectionsAfter[0]||e.selection;if(r&&a.selectionsAfter.length)return e.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:yT.of({side:t,rest:wft(i),selection:s}),userEvent:t==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let c=i.length==1?kg:i.slice(0,i.length-1);return a.mapped&&(c=iM(c,a.mapped)),e.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:yT.of({side:t,rest:c,selection:s}),filter:!1,userEvent:t==0?"undo":"redo",scrollIntoView:!0})}return null}}jm.empty=new jm(kg,kg);const Dft=[{key:"Mod-z",run:Hq,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:wT,preventDefault:!0},{linux:"Ctrl-Shift-z",run:wT,preventDefault:!0},{key:"Mod-u",run:mft,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:vft,preventDefault:!0}];function Iw(n,t){return un.create(n.ranges.map(t),n.mainIndex)}function Wm(n,t){return n.update({selection:t,scrollIntoView:!0,userEvent:"select"})}function nm({state:n,dispatch:t},e){let r=Iw(n.selection,e);return!r.eq(n.selection,!0)&&(t(Wm(n,r)),!0)}function XE(n,t){return un.cursor(t?n.to:n.from)}function Kq(n,t){return nm(n,e=>e.empty?n.moveByChar(e,t):XE(e,t))}function nd(n){return n.textDirectionAt(n.state.selection.main.head)==sh.LTR}const Gq=n=>Kq(n,!nd(n)),Yq=n=>Kq(n,nd(n));function m5(n,t){return nm(n,e=>e.empty?n.moveByGroup(e,t):XE(e,t))}function Cft(n,t,e){if(t.type.prop(e))return!0;let r=t.to-t.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(t.from,t.to)))||t.firstChild}function d_(n,t,e){let r,i,a=cd(n).resolveInner(t.head),s=e?Gh.closedBy:Gh.openedBy;for(let c=t.head;;){let f=e?a.childAfter(c):a.childBefore(c);if(!f)break;Cft(n,f,s)?a=f:c=e?f.to:f.from}return i=a.type.prop(s)&&(r=e?Rm(n,a.from,1):Rm(n,a.to,-1))&&r.matched?e?r.end.to:r.end.from:e?a.to:a.from,un.cursor(i,e?-1:1)}function Xq(n,t){return nm(n,e=>{if(!e.empty)return XE(e,t);let r=n.moveVertically(e,t);return r.head!=e.head?r:n.moveToLineBoundary(e,t)})}const Jq=n=>Xq(n,!1),Qq=n=>Xq(n,!0);function Zq(n){let t,e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,r=0,i=0;if(e){for(let a of n.state.facet(ci.scrollMargins)){let s=a(n);s!=null&&s.top&&(r=Math.max(s==null?void 0:s.top,r)),s!=null&&s.bottom&&(i=Math.max(s==null?void 0:s.bottom,i))}t=n.scrollDOM.clientHeight-r-i}else t=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:r,marginBottom:i,selfScroll:e,height:Math.max(n.defaultLineHeight,t-5)}}function tK(n,t){let e,r=Zq(n),{state:i}=n,a=Iw(i.selection,s=>s.empty?n.moveVertically(s,t,r.height):XE(s,t));if(a.eq(i.selection))return!1;if(r.selfScroll){let s=n.coordsAtPos(i.selection.main.head),c=n.scrollDOM.getBoundingClientRect(),f=c.top+r.marginTop,d=c.bottom-r.marginBottom;s&&s.top>f&&s.bottom<d&&(e=ci.scrollIntoView(a.main.head,{y:"start",yMargin:s.top-f}))}return n.dispatch(Wm(i,a),{effects:e}),!0}const v5=n=>tK(n,!1),bT=n=>tK(n,!0);function Cv(n,t,e){let r=n.lineBlockAt(t.head),i=n.moveToLineBoundary(t,e);if(i.head==t.head&&i.head!=(e?r.to:r.from)&&(i=n.moveToLineBoundary(t,e,!1)),!e&&i.head==r.from&&r.length){let a=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&t.head!=r.from+a&&(i=un.cursor(r.from+a))}return i}function Mg(n,t){let e=Iw(n.state.selection,r=>{let i=t(r);return un.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return!e.eq(n.state.selection)&&(n.dispatch(Wm(n.state,e)),!0)}function eK(n,t){return Mg(n,e=>n.moveByChar(e,t))}const nK=n=>eK(n,!nd(n)),rK=n=>eK(n,nd(n));function y5(n,t){return Mg(n,e=>n.moveByGroup(e,t))}function iK(n,t){return Mg(n,e=>n.moveVertically(e,t))}const oK=n=>iK(n,!1),aK=n=>iK(n,!0);function sK(n,t){return Mg(n,e=>n.moveVertically(e,t,Zq(n).height))}const w5=n=>sK(n,!1),b5=n=>sK(n,!0),x5=({state:n,dispatch:t})=>(t(Wm(n,{anchor:0})),!0),D5=({state:n,dispatch:t})=>(t(Wm(n,{anchor:n.doc.length})),!0),C5=({state:n,dispatch:t})=>(t(Wm(n,{anchor:n.selection.main.anchor,head:0})),!0),_5=({state:n,dispatch:t})=>(t(Wm(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0);function wD(n,t){if(n.state.readOnly)return!1;let e="delete.selection",{state:r}=n,i=r.changeByRange(a=>{let{from:s,to:c}=a;if(s==c){let f=t(a);f<s?(e="delete.backward",f=g_(n,f,!1)):f>s&&(e="delete.forward",f=g_(n,f,!0)),s=Math.min(s,f),c=Math.max(c,f)}else s=g_(n,s,!1),c=g_(n,c,!0);return s==c?{range:a}:{changes:{from:s,to:c},range:un.cursor(s,s<a.head?-1:1)}});return!i.changes.empty&&(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:e,effects:e=="delete.selection"?ci.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function g_(n,t,e){if(n instanceof ci)for(let r of n.state.facet(ci.atomicRanges).map(i=>i(n)))r.between(t,t,(i,a)=>{i<t&&a>t&&(t=e?a:i)});return t}const uK=(n,t,e)=>wD(n,r=>{let i,a,s=r.from,{state:c}=n,f=c.doc.lineAt(s);if(e&&!t&&s>f.from&&s<f.from+200&&!/[^ \t]/.test(i=f.text.slice(0,s-f.from))){if(i[i.length-1]=="	")return s-1;let d=mb(i,c.tabSize)%H2(c)||H2(c);for(let h=0;h<d&&i[i.length-1-h]==" ";h++)s--;a=s}else a=Up(f.text,s-f.from,t,t)+f.from,a==s&&f.number!=(t?c.doc.lines:1)?a+=t?1:-1:!t&&/[\ufe00-\ufe0f]/.test(f.text.slice(a-f.from,s-f.from))&&(a=Up(f.text,a-f.from,!1,!1)+f.from);return a}),xT=n=>uK(n,!1,!0),lK=n=>uK(n,!0,!1),cK=(n,t)=>wD(n,e=>{let r=e.head,{state:i}=n,a=i.doc.lineAt(r),s=i.charCategorizer(r);for(let c=null;;){if(r==(t?a.to:a.from)){r==e.head&&a.number!=(t?i.doc.lines:1)&&(r+=t?1:-1);break}let f=Up(a.text,r-a.from,t)+a.from,d=a.text.slice(Math.min(r,f)-a.from,Math.max(r,f)-a.from),h=s(d);if(c!=null&&h!=c)break;d==" "&&r==e.head||(c=h),r=f}return r}),fK=n=>cK(n,!1);function Y2(n){let t=[],e=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),a=n.doc.lineAt(r.to);if(r.empty||r.to!=a.from||(a=n.doc.lineAt(r.to-1)),e>=i.number){let s=t[t.length-1];s.to=a.to,s.ranges.push(r)}else t.push({from:i.from,to:a.to,ranges:[r]});e=a.number+1}return t}function S5(n,t,e){if(n.readOnly)return!1;let r=[],i=[];for(let a of Y2(n)){if(e?a.to==n.doc.length:a.from==0)continue;let s=n.doc.lineAt(e?a.to+1:a.from-1),c=s.length+1;if(e){r.push({from:a.to,to:s.to},{from:a.from,insert:s.text+n.lineBreak});for(let f of a.ranges)i.push(un.range(Math.min(n.doc.length,f.anchor+c),Math.min(n.doc.length,f.head+c)))}else{r.push({from:s.from,to:a.from},{from:a.to,insert:n.lineBreak+s.text});for(let f of a.ranges)i.push(un.range(f.anchor-c,f.head-c))}}return!!r.length&&(t(n.update({changes:r,scrollIntoView:!0,selection:un.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0)}function E5(n,t,e){if(n.readOnly)return!1;let r=[];for(let i of Y2(n))e?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return t(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const A5=hK(!1),_ft=hK(!0);function hK(n){return({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=t.changeByRange(i=>{let{from:a,to:s}=i,c=t.doc.lineAt(a),f=!n&&a==s&&function(w,C){if(/\(\)|\[\]|\{\}/.test(w.sliceDoc(C-1,C+1)))return{from:C,to:C};let k,M=cd(w).resolveInner(C),N=M.childBefore(C),B=M.childAfter(C);return N&&B&&N.to<=C&&B.from>=C&&(k=N.type.prop(Gh.closedBy))&&k.indexOf(B.name)>-1&&w.doc.lineAt(N.to).from==w.doc.lineAt(B.from).from&&!/\S/.test(w.sliceDoc(N.to,B.from))?{from:N.to,to:B.from}:null}(t,a);n&&(a=s=(s<=c.to?c:t.doc.lineAt(s)).to);let d=new KE(t,{simulateBreak:a,simulateDoubleBreak:!!f}),h=PN(d,a);for(h==null&&(h=mb(/^\s*/.exec(t.doc.lineAt(a).text)[0],t.tabSize));s<c.to&&/\s/.test(c.text[s-c.from]);)s++;f?{from:a,to:s}=f:a>c.from&&a<c.from+100&&!/\S/.test(c.text.slice(0,a))&&(a=c.from);let m=["",mD(t,h)];return f&&m.push(mD(t,d.lineIndent(c.from,-1))),{changes:{from:a,to:s,insert:yc.of(m)},range:un.cursor(a+1+m[1].length)}});return e(t.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function oM(n,t){let e=-1;return n.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let c=n.doc.lineAt(s);c.number>e&&(r.empty||r.to>c.from)&&(t(c,i,r),e=c.number),s=c.to+1}let a=n.changes(i);return{changes:i,range:un.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const Sft=[{key:"Ctrl-b",run:Gq,shift:nK,preventDefault:!0},{key:"Ctrl-f",run:Yq,shift:rK},{key:"Ctrl-p",run:Jq,shift:oK},{key:"Ctrl-n",run:Qq,shift:aK},{key:"Ctrl-a",run:n=>nm(n,t=>un.cursor(n.lineBlockAt(t.head).from,1)),shift:n=>Mg(n,t=>un.cursor(n.lineBlockAt(t.head).from))},{key:"Ctrl-e",run:n=>nm(n,t=>un.cursor(n.lineBlockAt(t.head).to,-1)),shift:n=>Mg(n,t=>un.cursor(n.lineBlockAt(t.head).to))},{key:"Ctrl-d",run:lK},{key:"Ctrl-h",run:xT},{key:"Ctrl-k",run:n=>wD(n,t=>{let e=n.lineBlockAt(t.head).to;return t.head<e?e:Math.min(n.state.doc.length,t.head+1)})},{key:"Ctrl-Alt-h",run:fK},{key:"Ctrl-o",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:yc.of(["",""])},range:un.cursor(r.from)}));return t(n.update(e,{scrollIntoView:!0,userEvent:"input"})),!0}},{key:"Ctrl-t",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,a=n.doc.lineAt(i),s=i==a.from?i-1:Up(a.text,i-a.from,!1)+a.from,c=i==a.to?i+1:Up(a.text,i-a.from,!0)+a.from;return{changes:{from:s,to:c,insert:n.doc.slice(i,c).append(n.doc.slice(s,i))},range:un.cursor(c)}});return!e.changes.empty&&(t(n.update(e,{scrollIntoView:!0,userEvent:"move.character"})),!0)}},{key:"Ctrl-v",run:bT}],Eft=[{key:"ArrowLeft",run:Gq,shift:nK,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:n=>m5(n,!nd(n)),shift:n=>y5(n,!nd(n)),preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n=>nm(n,t=>Cv(n,t,!nd(n))),shift:n=>Mg(n,t=>Cv(n,t,!nd(n))),preventDefault:!0},{key:"ArrowRight",run:Yq,shift:rK,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:n=>m5(n,nd(n)),shift:n=>y5(n,nd(n)),preventDefault:!0},{mac:"Cmd-ArrowRight",run:n=>nm(n,t=>Cv(n,t,nd(n))),shift:n=>Mg(n,t=>Cv(n,t,nd(n))),preventDefault:!0},{key:"ArrowUp",run:Jq,shift:oK,preventDefault:!0},{mac:"Cmd-ArrowUp",run:x5,shift:C5},{mac:"Ctrl-ArrowUp",run:v5,shift:w5},{key:"ArrowDown",run:Qq,shift:aK,preventDefault:!0},{mac:"Cmd-ArrowDown",run:D5,shift:_5},{mac:"Ctrl-ArrowDown",run:bT,shift:b5},{key:"PageUp",run:v5,shift:w5},{key:"PageDown",run:bT,shift:b5},{key:"Home",run:n=>nm(n,t=>Cv(n,t,!1)),shift:n=>Mg(n,t=>Cv(n,t,!1)),preventDefault:!0},{key:"Mod-Home",run:x5,shift:C5},{key:"End",run:n=>nm(n,t=>Cv(n,t,!0)),shift:n=>Mg(n,t=>Cv(n,t,!0)),preventDefault:!0},{key:"Mod-End",run:D5,shift:_5},{key:"Enter",run:A5,shift:A5},{key:"Mod-a",run:({state:n,dispatch:t})=>(t(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0)},{key:"Backspace",run:xT,shift:xT},{key:"Delete",run:lK},{key:"Mod-Backspace",mac:"Alt-Backspace",run:fK},{key:"Mod-Delete",mac:"Alt-Delete",run:n=>cK(n,!0)},{mac:"Mod-Backspace",run:n=>wD(n,t=>{let e=n.moveToLineBoundary(t,!1).head;return t.head>e?e:Math.max(0,t.head-1)})},{mac:"Mod-Delete",run:n=>wD(n,t=>{let e=n.moveToLineBoundary(t,!0).head;return t.head<e?e:Math.min(n.state.doc.length,t.head+1)})}].concat(Sft.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),Aft=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:n=>nm(n,t=>d_(n.state,t,!nd(n))),shift:n=>Mg(n,t=>d_(n.state,t,!nd(n)))},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:n=>nm(n,t=>d_(n.state,t,nd(n))),shift:n=>Mg(n,t=>d_(n.state,t,nd(n)))},{key:"Alt-ArrowUp",run:({state:n,dispatch:t})=>S5(n,t,!1)},{key:"Shift-Alt-ArrowUp",run:({state:n,dispatch:t})=>E5(n,t,!1)},{key:"Alt-ArrowDown",run:({state:n,dispatch:t})=>S5(n,t,!0)},{key:"Shift-Alt-ArrowDown",run:({state:n,dispatch:t})=>E5(n,t,!0)},{key:"Escape",run:({state:n,dispatch:t})=>{let e=n.selection,r=null;return e.ranges.length>1?r=un.create([e.main]):e.main.empty||(r=un.create([un.cursor(e.main.head)])),!!r&&(t(Wm(n,r)),!0)}},{key:"Mod-Enter",run:_ft},{key:"Alt-l",mac:"Ctrl-l",run:({state:n,dispatch:t})=>{let e=Y2(n).map(({from:r,to:i})=>un.range(r,Math.min(i+1,n.doc.length)));return t(n.update({selection:un.create(e),userEvent:"select"})),!0}},{key:"Mod-i",run:({state:n,dispatch:t})=>{let e=Iw(n.selection,r=>{let i=cd(n),a=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=a.node.from&&s.node.to<=a.node.to&&(a=s)}for(let s=a;s;s=s.next){let{node:c}=s;if((c.from<r.from&&c.to>=r.to||c.to>r.to&&c.from<=r.from)&&s.next)return un.range(c.to,c.from)}return r});return!e.eq(n.selection)&&(t(Wm(n,e)),!0)},preventDefault:!0},{key:"Mod-[",run:({state:n,dispatch:t})=>!n.readOnly&&(t(n.update(oM(n,(e,r)=>{let i=/^\s*/.exec(e.text)[0];if(!i)return;let a=mb(i,n.tabSize),s=0,c=mD(n,Math.max(0,a-H2(n)));for(;s<i.length&&s<c.length&&i.charCodeAt(s)==c.charCodeAt(s);)s++;r.push({from:e.from+s,to:e.from+i.length,insert:c.slice(s)})}),{userEvent:"delete.dedent"})),!0)},{key:"Mod-]",run:({state:n,dispatch:t})=>!n.readOnly&&(t(n.update(oM(n,(e,r)=>{r.push({from:e.from,insert:n.facet(FN)})}),{userEvent:"input.indent"})),!0)},{key:"Mod-Alt-\\",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=Object.create(null),r=new KE(n,{overrideIndentation:a=>{let s=e[a];return s??-1}}),i=oM(n,(a,s,c)=>{let f=PN(r,a.from);if(f==null)return;/\S/.test(a.text)||(f=0);let d=/^\s*/.exec(a.text)[0],h=mD(n,f);(d!=h||c.from<a.from+d.length)&&(e[a.from]=f,s.push({from:a.from,to:a.from+d.length,insert:h}))});return i.changes.empty||t(n.update(i,{userEvent:"indent"})),!0}},{key:"Shift-Mod-k",run:n=>{if(n.state.readOnly)return!1;let{state:t}=n,e=t.changes(Y2(t).map(({from:i,to:a})=>(i>0?i--:a<t.doc.length&&a++,{from:i,to:a}))),r=Iw(t.selection,i=>{let a;if(n.lineWrapping){let s=n.lineBlockAt(i.head),c=n.coordsAtPos(i.head,i.assoc||1);c&&(a=s.bottom+n.documentTop-c.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,a)}).map(e);return n.dispatch({changes:e,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0}},{key:"Shift-Mod-\\",run:({state:n,dispatch:t})=>function(r,i,a){let s=!1,c=Iw(r.selection,f=>{let d=Rm(r,f.head,-1)||Rm(r,f.head,1)||f.head>0&&Rm(r,f.head-1,1)||f.head<r.doc.length&&Rm(r,f.head+1,-1);if(!d||!d.end)return f;s=!0;let h=d.start.from==f.head?d.end.to:d.end.from;return un.cursor(h)});return!!s&&(i(Wm(r,c)),!0)}(n,t)},{key:"Mod-/",run:n=>{let{state:t}=n,e=t.doc.lineAt(t.selection.main.from),r=NN(n.state,e.from);return r.line?lft(n):!!r.block&&fft(n)}},{key:"Alt-A",run:cft},{key:"Ctrl-m",mac:"Shift-Alt-m",run:n=>(n.setTabFocusMode(),!0)}].concat(Eft);function $f(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var t=1,e=arguments[1];if(e&&typeof e=="object"&&e.nodeType==null&&!Array.isArray(e)){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=e[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}t++}for(;t<arguments.length;t++)pK(n,arguments[t]);return n}function pK(n,t){if(typeof t=="string")n.appendChild(document.createTextNode(t));else if(t!=null)if(t.nodeType!=null)n.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var e=0;e<t.length;e++)pK(n,t[e])}}const k5=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class Bw{constructor(t,e,r=0,i=t.length,a,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=t.iterRange(r,i),this.bufferStart=r,this.normalize=a?c=>a(k5(c)):k5,this.query=this.normalize(e)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Ip(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let t=this.peek();if(t<0)return this.done=!0,this;let e=hN(t),r=this.bufferStart+this.bufferPos;this.bufferPos+=Cg(t);let i=this.normalize(e);if(i.length)for(let a=0,s=r;;a++){let c=i.charCodeAt(a),f=this.match(c,s,this.bufferPos+this.bufferStart);if(a==i.length-1){if(f)return this.value=f,this;break}s==r&&a<e.length&&e.charCodeAt(a)==c&&s++}}}match(t,e,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let s=this.matches[a],c=!1;this.query.charCodeAt(s)==t&&(s==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,c=!0)),c||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==t&&(this.query.length==1?i={from:e,to:r}:this.matches.push(1,e)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Bw.prototype[Symbol.iterator]=function(){return this});const dK={from:-1,to:-1,match:/.*/.exec("")},IN="gm"+(/x/.unicode==null?"":"u");class gK{constructor(t,e,r,i=0,a=t.length){if(this.text=t,this.to=a,this.curLine="",this.done=!1,this.value=dK,/\\[sWDnr]|\n|\r|\[\^/.test(e))return new mK(t,e,r,i,a);this.re=new RegExp(e,IN+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=t.iter();let s=t.lineAt(i);this.curLineStart=s.from,this.matchPos=X2(t,i),this.getLine(this.curLineStart)}getLine(t){this.iter.next(t),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let t=this.matchPos-this.curLineStart;;){this.re.lastIndex=t;let e=this.matchPos<=this.to&&this.re.exec(this.curLine);if(e){let r=this.curLineStart+e.index,i=r+e[0].length;if(this.matchPos=X2(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,e)))return this.value={from:r,to:i,match:e},this;t=this.matchPos-this.curLineStart}else{if(!(this.curLineStart+this.curLine.length<this.to))return this.done=!0,this;this.nextLine(),t=0}}}}const aM=new WeakMap;class Rw{constructor(t,e){this.from=t,this.text=e}get to(){return this.from+this.text.length}static get(t,e,r){let i=aM.get(t);if(!i||i.from>=r||i.to<=e){let c=new Rw(e,t.sliceString(e,r));return aM.set(t,c),c}if(i.from==e&&i.to==r)return i;let{text:a,from:s}=i;return s>e&&(a=t.sliceString(e,s)+a,s=e),i.to<r&&(a+=t.sliceString(i.to,r)),aM.set(t,new Rw(s,a)),new Rw(e,a.slice(e-s,r-s))}}class mK{constructor(t,e,r,i,a){this.text=t,this.to=a,this.done=!1,this.value=dK,this.matchPos=X2(t,i),this.re=new RegExp(e,IN+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Rw.get(t,i,this.chunkEnd(i+5e3))}chunkEnd(t){return t>=this.to?this.to:this.text.lineAt(t).to}next(){for(;;){let t=this.re.lastIndex=this.matchPos-this.flat.from,e=this.re.exec(this.flat.text);if(e&&!e[0]&&e.index==t&&(this.re.lastIndex=t+1,e=this.re.exec(this.flat.text)),e){let r=this.flat.from+e.index,i=r+e[0].length;if((this.flat.to>=this.to||e.index+e[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,e)))return this.value={from:r,to:i,match:e},this.matchPos=X2(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Rw.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+2*this.flat.text.length))}}}function X2(n,t){if(t>=n.length)return t;let e,r=n.lineAt(t);for(;t<r.to&&(e=r.text.charCodeAt(t-r.from))>=56320&&e<57344;)t++;return t}function DT(n){let t=$f("input",{class:"cm-textfield",name:"line",value:String(n.state.doc.lineAt(n.state.selection.main.head).number)});function e(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!r)return;let{state:i}=n,a=i.doc.lineAt(i.selection.main.head),[,s,c,f,d]=r,h=f?+f.slice(1):0,m=c?+c:a.number;if(c&&d){let C=m/100;s&&(C=C*(s=="-"?-1:1)+a.number/i.doc.lines),m=Math.round(i.doc.lines*C)}else c&&s&&(m=m*(s=="-"?-1:1)+a.number);let y=i.doc.line(Math.max(1,Math.min(i.doc.lines,m))),w=un.cursor(y.from+Math.max(0,Math.min(h,y.length)));n.dispatch({effects:[J2.of(!1),ci.scrollIntoView(w.from,{y:"center"})],selection:w}),n.focus()}return{dom:$f("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:J2.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),e())},onsubmit:r=>{r.preventDefault(),e()}},$f("label",n.state.phrase("Go to line"),": ",t)," ",$f("button",{class:"cm-button",type:"submit"},n.state.phrase("go")))}}typeof Symbol<"u"&&(gK.prototype[Symbol.iterator]=mK.prototype[Symbol.iterator]=function(){return this});const J2=qs.define(),M5=Hp.define({create:()=>!0,update(n,t){for(let e of t.effects)e.is(J2)&&(n=e.value);return n},provide:n=>gD.from(n,t=>t?DT:null)}),kft=ci.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Mft={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Fft=Yr.define({combine:n=>Zm(n,Mft,{highlightWordAroundCursor:(t,e)=>t||e,minSelectionLength:Math.min,maxMatches:Math.min})}),Pft=wa.mark({class:"cm-selectionMatch"}),Tft=wa.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function F5(n,t,e,r){return!(e!=0&&n(t.sliceDoc(e-1,e))==bh.Word||r!=t.doc.length&&n(t.sliceDoc(r,r+1))==bh.Word)}const Oft=Zh.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let t=n.state.facet(Fft),{state:e}=n,r=e.selection;if(r.ranges.length>1)return wa.none;let i,a=r.main,s=null;if(a.empty){if(!t.highlightWordAroundCursor)return wa.none;let f=e.wordAt(a.head);if(!f)return wa.none;s=e.charCategorizer(a.head),i=e.sliceDoc(f.from,f.to)}else{let f=a.to-a.from;if(f<t.minSelectionLength||f>200)return wa.none;if(t.wholeWords){if(i=e.sliceDoc(a.from,a.to),s=e.charCategorizer(a.head),!F5(s,e,a.from,a.to)||!function(h,m,y,w){return h(m.sliceDoc(y,y+1))==bh.Word&&h(m.sliceDoc(w-1,w))==bh.Word}(s,e,a.from,a.to))return wa.none}else if(i=e.sliceDoc(a.from,a.to),!i)return wa.none}let c=[];for(let f of n.visibleRanges){let d=new Bw(e.doc,i,f.from,f.to);for(;!d.next().done;){let{from:h,to:m}=d.value;if((!s||F5(s,e,h,m))&&(a.empty&&h<=a.from&&m>=a.to?c.push(Tft.range(h,m)):(h>=a.to||m<=a.from)&&c.push(Pft.range(h,m)),c.length>t.maxMatches))return wa.none}}return wa.set(c)}},{decorations:n=>n.decorations}),Nft=ci.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),vb=Yr.define({combine:n=>Zm(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:t=>new Wft(t),scrollToMatch:t=>ci.scrollIntoView(t)})});class vK{constructor(t){this.search=t.search,this.caseSensitive=!!t.caseSensitive,this.literal=!!t.literal,this.regexp=!!t.regexp,this.replace=t.replace||"",this.valid=!!this.search&&(!this.regexp||function(r){try{return new RegExp(r,IN),!0}catch{return!1}}(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!t.wholeWord}unquote(t){return this.literal?t:t.replace(/\\([nrt\\])/g,(e,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(t){return this.search==t.search&&this.replace==t.replace&&this.caseSensitive==t.caseSensitive&&this.regexp==t.regexp&&this.wholeWord==t.wholeWord}create(){return this.regexp?new Bft(this):new Ift(this)}getCursor(t,e=0,r){let i=t.doc?t:vc.create({doc:t});return r==null&&(r=i.doc.length),this.regexp?ow(this,i,e,r):iw(this,i,e,r)}}class yK{constructor(t){this.spec=t}}function iw(n,t,e,r){return new Bw(t.doc,n.unquoted,e,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?function(a,s){return(c,f,d,h)=>((h>c||h+d.length<f)&&(h=Math.max(0,c-2),d=a.sliceString(h,Math.min(a.length,f+2))),!(s(Q2(d,c-h))==bh.Word&&s(Z2(d,c-h))==bh.Word||s(Z2(d,f-h))==bh.Word&&s(Q2(d,f-h))==bh.Word))}(t.doc,t.charCategorizer(t.selection.main.head)):void 0)}class Ift extends yK{constructor(t){super(t)}nextMatch(t,e,r){let i=iw(this.spec,t,r,t.doc.length).nextOverlapping();if(i.done){let a=Math.min(t.doc.length,e+this.spec.unquoted.length);i=iw(this.spec,t,0,a).nextOverlapping()}return i.done||i.value.from==e&&i.value.to==r?null:i.value}prevMatchInRange(t,e,r){for(let i=r;;){let a=Math.max(e,i-1e4-this.spec.unquoted.length),s=iw(this.spec,t,a,i),c=null;for(;!s.nextOverlapping().done;)c=s.value;if(c)return c;if(a==e)return null;i-=1e4}}prevMatch(t,e,r){let i=this.prevMatchInRange(t,0,e);return i||(i=this.prevMatchInRange(t,Math.max(0,r-this.spec.unquoted.length),t.doc.length)),!i||i.from==e&&i.to==r?null:i}getReplacement(t){return this.spec.unquote(this.spec.replace)}matchAll(t,e){let r=iw(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=e)return null;i.push(r.value)}return i}highlight(t,e,r,i){let a=iw(this.spec,t,Math.max(0,e-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,t.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function ow(n,t,e,r){return new gK(t.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?(i=t.charCategorizer(t.selection.main.head),(a,s,c)=>!c[0].length||(i(Q2(c.input,c.index))!=bh.Word||i(Z2(c.input,c.index))!=bh.Word)&&(i(Z2(c.input,c.index+c[0].length))!=bh.Word||i(Q2(c.input,c.index+c[0].length))!=bh.Word)):void 0},e,r);var i}function Q2(n,t){return n.slice(Up(n,t,!1),t)}function Z2(n,t){return n.slice(t,Up(n,t))}class Bft extends yK{nextMatch(t,e,r){let i=ow(this.spec,t,r,t.doc.length).next();return i.done&&(i=ow(this.spec,t,0,e).next()),i.done?null:i.value}prevMatchInRange(t,e,r){for(let i=1;;i++){let a=Math.max(e,r-1e4*i),s=ow(this.spec,t,a,r),c=null;for(;!s.next().done;)c=s.value;if(c&&(a==e||c.from>a+10))return c;if(a==e)return null}}prevMatch(t,e,r){return this.prevMatchInRange(t,0,e)||this.prevMatchInRange(t,r,t.doc.length)}getReplacement(t){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(e,r)=>r=="$"?"$":r=="&"?t.match[0]:r!="0"&&+r<t.match.length?t.match[r]:e)}matchAll(t,e){let r=ow(this.spec,t,0,t.doc.length),i=[];for(;!r.next().done;){if(i.length>=e)return null;i.push(r.value)}return i}highlight(t,e,r,i){let a=ow(this.spec,t,Math.max(0,e-250),Math.min(r+250,t.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const bD=qs.define(),BN=qs.define(),u0=Hp.define({create:n=>new sM(CT(n).create(),null),update(n,t){for(let e of t.effects)e.is(bD)?n=new sM(e.value.create(),n.panel):e.is(BN)&&(n=new sM(n.query,e.value?RN:null));return n},provide:n=>gD.from(n,t=>t.panel)});class sM{constructor(t,e){this.query=t,this.panel=e}}const Rft=wa.mark({class:"cm-searchMatch"}),jft=wa.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Lft=Zh.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(u0))}update(n){let t=n.state.field(u0);(t!=n.startState.field(u0)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(t))}highlight({query:n,panel:t}){if(!t||!n.spec.valid)return wa.none;let{view:e}=this,r=new b0;for(let i=0,a=e.visibleRanges,s=a.length;i<s;i++){let{from:c,to:f}=a[i];for(;i<s-1&&f>a[i+1].from-500;)f=a[++i].to;n.highlight(e.state,c,f,(d,h)=>{let m=e.state.selection.ranges.some(y=>y.from==d&&y.to==h);r.add(d,h,m?jft:Rft)})}return r.finish()}},{decorations:n=>n.decorations});function LD(n){return t=>{let e=t.state.field(u0,!1);return e&&e.query.spec.valid?n(t,e):xK(t)}}const tE=LD((n,{query:t})=>{let{to:e}=n.state.selection.main,r=t.nextMatch(n.state,e,e);if(!r)return!1;let i=un.single(r.from,r.to),a=n.state.facet(vb);return n.dispatch({selection:i,effects:[jN(n,r),a.scrollToMatch(i.main,n)],userEvent:"select.search"}),bK(n),!0}),eE=LD((n,{query:t})=>{let{state:e}=n,{from:r}=e.selection.main,i=t.prevMatch(e,r,r);if(!i)return!1;let a=un.single(i.from,i.to),s=n.state.facet(vb);return n.dispatch({selection:a,effects:[jN(n,i),s.scrollToMatch(a.main,n)],userEvent:"select.search"}),bK(n),!0}),zft=LD((n,{query:t})=>{let e=t.matchAll(n.state,1e3);return!(!e||!e.length)&&(n.dispatch({selection:un.create(e.map(r=>un.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),P5=LD((n,{query:t})=>{let{state:e}=n,{from:r,to:i}=e.selection.main;if(e.readOnly)return!1;let a=t.nextMatch(e,r,r);if(!a)return!1;let s,c,f=[],d=[];if(a.from==r&&a.to==i&&(c=e.toText(t.getReplacement(a)),f.push({from:a.from,to:a.to,insert:c}),a=t.nextMatch(e,a.from,a.to),d.push(ci.announce.of(e.phrase("replaced match on line $",e.doc.lineAt(r).number)+"."))),a){let h=f.length==0||f[0].from>=a.to?0:a.to-a.from-c.length;s=un.single(a.from-h,a.to-h),d.push(jN(n,a)),d.push(e.facet(vb).scrollToMatch(s.main,n))}return n.dispatch({changes:f,selection:s,effects:d,userEvent:"input.replace"}),!0}),Uft=LD((n,{query:t})=>{if(n.state.readOnly)return!1;let e=t.matchAll(n.state,1e9).map(i=>{let{from:a,to:s}=i;return{from:a,to:s,insert:t.getReplacement(i)}});if(!e.length)return!1;let r=n.state.phrase("replaced $ matches",e.length)+".";return n.dispatch({changes:e,effects:ci.announce.of(r),userEvent:"input.replace.all"}),!0});function RN(n){return n.state.facet(vb).createPanel(n)}function CT(n,t){var e,r,i,a,s;let c=n.selection.main,f=c.empty||c.to>c.from+100?"":n.sliceDoc(c.from,c.to);if(t&&!f)return t;let d=n.facet(vb);return new vK({search:((e=t==null?void 0:t.literal)!==null&&e!==void 0?e:d.literal)?f:f.replace(/\n/g,"\\n"),caseSensitive:(r=t==null?void 0:t.caseSensitive)!==null&&r!==void 0?r:d.caseSensitive,literal:(i=t==null?void 0:t.literal)!==null&&i!==void 0?i:d.literal,regexp:(a=t==null?void 0:t.regexp)!==null&&a!==void 0?a:d.regexp,wholeWord:(s=t==null?void 0:t.wholeWord)!==null&&s!==void 0?s:d.wholeWord})}function wK(n){let t=dD(n,RN);return t&&t.dom.querySelector("[main-field]")}function bK(n){let t=wK(n);t&&t==n.root.activeElement&&t.select()}const xK=n=>{let t=n.state.field(u0,!1);if(t&&t.panel){let e=wK(n);if(e&&e!=n.root.activeElement){let r=CT(n.state,t.query.spec);r.valid&&n.dispatch({effects:bD.of(r)}),e.focus(),e.select()}}else n.dispatch({effects:[BN.of(!0),t?bD.of(CT(n.state,t.query.spec)):qs.appendConfig.of(Vft)]});return!0},DK=n=>{let t=n.state.field(u0,!1);if(!t||!t.panel)return!1;let e=dD(n,RN);return e&&e.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:BN.of(!1)}),!0},$ft=[{key:"Mod-f",run:xK,scope:"editor search-panel"},{key:"F3",run:tE,shift:eE,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:tE,shift:eE,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:DK,scope:"editor search-panel"},{key:"Mod-Shift-l",run:({state:n,dispatch:t})=>{let e=n.selection;if(e.ranges.length>1||e.main.empty)return!1;let{from:r,to:i}=e.main,a=[],s=0;for(let c=new Bw(n.doc,n.sliceDoc(r,i));!c.next().done;){if(a.length>1e3)return!1;c.value.from==r&&(s=a.length),a.push(un.range(c.value.from,c.value.to))}return t(n.update({selection:un.create(a,s),userEvent:"select.search.matches"})),!0}},{key:"Mod-Alt-g",run:n=>{let t=dD(n,DT);if(!t){let e=[J2.of(!0)];n.state.field(M5,!1)==null&&e.push(qs.appendConfig.of([M5,kft])),n.dispatch({effects:e}),t=dD(n,DT)}return t&&t.dom.querySelector("input").select(),!0}},{key:"Mod-d",run:({state:n,dispatch:t})=>{let{ranges:e}=n.selection;if(e.some(a=>a.from===a.to))return(({state:a,dispatch:s})=>{let{selection:c}=a,f=un.create(c.ranges.map(d=>a.wordAt(d.head)||un.cursor(d.head)),c.mainIndex);return!f.eq(c)&&(s(a.update({selection:f})),!0)})({state:n,dispatch:t});let r=n.sliceDoc(e[0].from,e[0].to);if(n.selection.ranges.some(a=>n.sliceDoc(a.from,a.to)!=r))return!1;let i=function(s,c){let{main:f,ranges:d}=s.selection,h=s.wordAt(f.head),m=h&&h.from==f.from&&h.to==f.to;for(let y=!1,w=new Bw(s.doc,c,d[d.length-1].to);;){if(w.next(),!w.done){if(y&&d.some(C=>C.from==w.value.from))continue;if(m){let C=s.wordAt(w.value.from);if(!C||C.from!=w.value.from||C.to!=w.value.to)continue}return w.value}if(y)return null;w=new Bw(s.doc,c,0,Math.max(0,d[d.length-1].from-1)),y=!0}}(n,r);return!!i&&(t(n.update({selection:n.selection.addRange(un.range(i.from,i.to),!1),effects:ci.scrollIntoView(i.to)})),!0)},preventDefault:!0}];class Wft{constructor(t){this.view=t;let e=this.query=t.state.field(u0).query.spec;function r(i,a,s){return $f("button",{class:"cm-button",name:i,onclick:a,type:"button"},s)}this.commit=this.commit.bind(this),this.searchField=$f("input",{value:e.search,placeholder:Wd(t,"Find"),"aria-label":Wd(t,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$f("input",{value:e.replace,placeholder:Wd(t,"Replace"),"aria-label":Wd(t,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$f("input",{type:"checkbox",name:"case",form:"",checked:e.caseSensitive,onchange:this.commit}),this.reField=$f("input",{type:"checkbox",name:"re",form:"",checked:e.regexp,onchange:this.commit}),this.wordField=$f("input",{type:"checkbox",name:"word",form:"",checked:e.wholeWord,onchange:this.commit}),this.dom=$f("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>tE(t),[Wd(t,"next")]),r("prev",()=>eE(t),[Wd(t,"previous")]),r("select",()=>zft(t),[Wd(t,"all")]),$f("label",null,[this.caseField,Wd(t,"match case")]),$f("label",null,[this.reField,Wd(t,"regexp")]),$f("label",null,[this.wordField,Wd(t,"by word")]),...t.state.readOnly?[]:[$f("br"),this.replaceField,r("replace",()=>P5(t),[Wd(t,"replace")]),r("replaceAll",()=>Uft(t),[Wd(t,"replace all")])],$f("button",{name:"close",onclick:()=>DK(t),"aria-label":Wd(t,"close"),type:"button"},[""])])}commit(){let t=new vK({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});t.eq(this.query)||(this.query=t,this.view.dispatch({effects:bD.of(t)}))}keydown(t){(function(r,i,a){return gq(dq(r.state),i,r,a)})(this.view,t,"search-panel")?t.preventDefault():t.keyCode==13&&t.target==this.searchField?(t.preventDefault(),(t.shiftKey?eE:tE)(this.view)):t.keyCode==13&&t.target==this.replaceField&&(t.preventDefault(),P5(this.view))}update(t){for(let e of t.transactions)for(let r of e.effects)r.is(bD)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(t){this.query=t,this.searchField.value=t.search,this.replaceField.value=t.replace,this.caseField.checked=t.caseSensitive,this.reField.checked=t.regexp,this.wordField.checked=t.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(vb).top}}function Wd(n,t){return n.state.phrase(t)}const m_=30,v_=/[\s\.,:;?!]/;function jN(n,{from:t,to:e}){let r=n.state.doc.lineAt(t),i=n.state.doc.lineAt(e).to,a=Math.max(r.from,t-m_),s=Math.min(i,e+m_),c=n.state.sliceDoc(a,s);if(a!=r.from){for(let f=0;f<m_;f++)if(!v_.test(c[f+1])&&v_.test(c[f])){c=c.slice(f);break}}if(s!=i){for(let f=c.length-1;f>c.length-m_;f--)if(!v_.test(c[f-1])&&v_.test(c[f])){c=c.slice(0,f);break}}return ci.announce.of(`${n.state.phrase("current match")}. ${c} ${n.state.phrase("on line")} ${r.number}.`)}const Hft=ci.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Vft=[u0,Py.low(Lft),Hft];class CK{constructor(t,e,r,i){this.state=t,this.pos=e,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(t){let e=cd(this.state).resolveInner(this.pos,-1);for(;e&&t.indexOf(e.name)<0;)e=e.parent;return e?{from:e.from,to:this.pos,text:this.state.sliceDoc(e.from,this.pos),type:e.type}:null}matchBefore(t){let e=this.state.doc.lineAt(this.pos),r=Math.max(e.from,this.pos-250),i=e.text.slice(r-e.from,this.pos-e.from),a=i.search(_K(t,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(t,e,r){t=="abort"&&this.abortListeners&&(this.abortListeners.push(e),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function T5(n){let t=Object.keys(n).join(""),e=/\w/.test(t);return e&&(t=t.replace(/\w/g,"")),`[${e?"\\w":""}${t.replace(/[^\w\s]/g,"\\$&")}]`}function qft(n){let t=n.map(i=>typeof i=="string"?{label:i}:i),[e,r]=t.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:function(a){let s=Object.create(null),c=Object.create(null);for(let{label:d}of a){s[d[0]]=!0;for(let h=1;h<d.length;h++)c[d[h]]=!0}let f=T5(s)+T5(c)+"*$";return[new RegExp("^"+f),new RegExp(f)]}(t);return i=>{let a=i.matchBefore(r);return a||i.explicit?{from:a?a.from:i.pos,options:t,validFor:e}:null}}class O5{constructor(t,e,r,i){this.completion=t,this.source=e,this.match=r,this.score=i}}function uy(n){return n.selection.main.from}function _K(n,t){var e;let{source:r}=n,i=t&&r[0]!="^",a=r[r.length-1]!="$";return i||a?new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(e=n.flags)!==null&&e!==void 0?e:n.ignoreCase?"i":""):n}const SK=dv.define(),N5=new WeakMap;function Kft(n){if(!Array.isArray(n))return n;let t=N5.get(n);return t||N5.set(n,t=qft(n)),t}const nE=qs.define(),xD=qs.define();class Gft{constructor(t){this.pattern=t,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let e=0;e<t.length;){let r=Ip(t,e),i=Cg(r);this.chars.push(r);let a=t.slice(e,e+i),s=a.toUpperCase();this.folded.push(Ip(s==a?a.toLowerCase():s,0)),e+=i}this.astral=t.length!=this.chars.length}ret(t,e){return this.score=t,this.matched=e,this}match(t){if(this.pattern.length==0)return this.ret(-100,[]);if(t.length<this.pattern.length)return null;let{chars:e,folded:r,any:i,precise:a,byWord:s}=this;if(e.length==1){let B=Ip(t,0),L=Cg(B),z=L==t.length?0:-100;if(B!=e[0]){if(B!=r[0])return null;z+=-200}return this.ret(z,[0,L])}let c=t.indexOf(this.pattern);if(c==0)return this.ret(t.length==this.pattern.length?0:-100,[0,this.pattern.length]);let f=e.length,d=0;if(c<0){for(let B=0,L=Math.min(t.length,200);B<L&&d<f;){let z=Ip(t,B);z!=e[d]&&z!=r[d]||(i[d++]=B),B+=Cg(z)}if(d<f)return null}let h=0,m=0,y=!1,w=0,C=-1,k=-1,M=/[a-z]/.test(t),N=!0;for(let B=0,L=Math.min(t.length,200),z=0;B<L&&m<f;){let q=Ip(t,B);c<0&&(h<f&&q==e[h]&&(a[h++]=B),w<f&&(q==e[w]||q==r[w]?(w==0&&(C=B),k=B+1,w++):w=0));let V,X=q<255?q>=48&&q<=57||q>=97&&q<=122?2:q>=65&&q<=90?1:0:(V=hN(q))!=V.toLowerCase()?1:V!=V.toUpperCase()?2:0;(!B||X==1&&M||z==0&&X!=0)&&(e[m]==q||r[m]==q&&(y=!0)?s[m++]=B:s.length&&(N=!1)),z=X,B+=Cg(q)}return m==f&&s[0]==0&&N?this.result((y?-200:0)-100,s,t):w==f&&C==0?this.ret(-200-t.length+(k==t.length?0:-100),[0,k]):c>-1?this.ret(-700-t.length,[c,c+this.pattern.length]):w==f?this.ret(-900-t.length,[C,k]):m==f?this.result((y?-200:0)-100-700+(N?0:-1100),s,t):e.length==2?null:this.result((i[0]?-700:0)-200-1100,i,t)}result(t,e,r){let i=[],a=0;for(let s of e){let c=s+(this.astral?Cg(Ip(r,s)):1);a&&i[a-1]==s?i[a-1]=c:(i[a++]=s,i[a++]=c)}return this.ret(t-r.length,i)}}class Yft{constructor(t){this.pattern=t,this.matched=[],this.score=0,this.folded=t.toLowerCase()}match(t){if(t.length<this.pattern.length)return null;let e=t.slice(0,this.pattern.length),r=e==this.pattern?0:e.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,e.length],this.score=r+(t.length==this.pattern.length?0:-100),this)}}const Cp=Yr.define({combine:n=>Zm(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Xft,filterStrict:!1,compareCompletions:(t,e)=>t.label.localeCompare(e.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(t,e)=>t&&e,closeOnBlur:(t,e)=>t&&e,icons:(t,e)=>t&&e,tooltipClass:(t,e)=>r=>I5(t(r),e(r)),optionClass:(t,e)=>r=>I5(t(r),e(r)),addToOptions:(t,e)=>t.concat(e),filterStrict:(t,e)=>t||e})});function I5(n,t){return n?t?n+" "+t:n:t}function Xft(n,t,e,r,i,a){let s,c,f=n.textDirection==sh.RTL,d=f,h=!1,m="top",y=t.left-i.left,w=i.right-t.right,C=r.right-r.left,k=r.bottom-r.top;if(d&&y<Math.min(C,w)?d=!1:!d&&w<Math.min(C,y)&&(d=!0),C<=(d?y:w))s=Math.max(i.top,Math.min(e.top,i.bottom-k))-t.top,c=Math.min(400,d?y:w);else{h=!0,c=Math.min(400,(f?t.right:i.right-t.left)-30);let M=i.bottom-t.bottom;M>=k||M>t.top?s=e.bottom-t.top:(m="bottom",s=t.bottom-e.top)}return{style:`${m}: ${s/((t.bottom-t.top)/a.offsetHeight)}px; max-width: ${c/((t.right-t.left)/a.offsetWidth)}px`,class:"cm-completionInfo-"+(h?f?"left-narrow":"right-narrow":d?"left":"right")}}function uM(n,t,e){if(n<=e)return{from:0,to:n};if(t<0&&(t=0),t<=n>>1){let i=Math.floor(t/e);return{from:i*e,to:(i+1)*e}}let r=Math.floor((n-t)/e);return{from:n-(r+1)*e,to:n-r*e}}class Jft{constructor(t,e,r){this.view=t,this.stateField=e,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:f=>this.placeInfo(f),key:this},this.space=null,this.currentClass="";let i=t.state.field(e),{options:a,selected:s}=i.open,c=t.state.facet(Cp);this.optionContent=function(d){let h=d.addToOptions.slice();return d.icons&&h.push({render(m){let y=document.createElement("div");return y.classList.add("cm-completionIcon"),m.type&&y.classList.add(...m.type.split(/\s+/g).map(w=>"cm-completionIcon-"+w)),y.setAttribute("aria-hidden","true"),y},position:20}),h.push({render(m,y,w,C){let k=document.createElement("span");k.className="cm-completionLabel";let M=m.displayLabel||m.label,N=0;for(let B=0;B<C.length;){let L=C[B++],z=C[B++];L>N&&k.appendChild(document.createTextNode(M.slice(N,L)));let q=k.appendChild(document.createElement("span"));q.appendChild(document.createTextNode(M.slice(L,z))),q.className="cm-completionMatchedText",N=z}return N<M.length&&k.appendChild(document.createTextNode(M.slice(N))),k},position:50},{render(m){if(!m.detail)return null;let y=document.createElement("span");return y.className="cm-completionDetail",y.textContent=m.detail,y},position:80}),h.sort((m,y)=>m.position-y.position).map(m=>m.render)}(c),this.optionClass=c.optionClass,this.tooltipClass=c.tooltipClass,this.range=uM(a.length,s,c.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(t.state),this.dom.addEventListener("mousedown",f=>{let{options:d}=t.state.field(e).open;for(let h,m=f.target;m&&m!=this.dom;m=m.parentNode)if(m.nodeName=="LI"&&(h=/-(\d+)$/.exec(m.id))&&+h[1]<d.length)return this.applyCompletion(t,d[+h[1]]),void f.preventDefault()}),this.dom.addEventListener("focusout",f=>{let d=t.state.field(this.stateField,!1);d&&d.tooltip&&t.state.facet(Cp).closeOnBlur&&f.relatedTarget!=t.contentDOM&&t.dispatch({effects:xD.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(t,e){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t,e,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(t){var e;let r=t.state.field(this.stateField),i=t.startState.field(this.stateField);if(this.updateTooltipClass(t.state),r!=i){let{options:a,selected:s,disabled:c}=r.open;i.open&&i.open.options==a||(this.range=uM(a.length,s,t.state.facet(Cp).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),c!=((e=i.open)===null||e===void 0?void 0:e.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!c)}}updateTooltipClass(t){let e=this.tooltipClass(t);if(e!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of e.split(" "))r&&this.dom.classList.add(r);this.currentClass=e}}positioned(t){this.space=t,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let t=this.view.state.field(this.stateField),e=t.open;if((e.selected>-1&&e.selected<this.range.from||e.selected>=this.range.to)&&(this.range=uM(e.options.length,e.selected,this.view.state.facet(Cp).maxRenderedOptions),this.showOptions(e.options,t.id)),this.updateSelectedOption(e.selected)){this.destroyInfo();let{completion:r}=e.options[e.selected],{info:i}=r;if(!i)return;let a=typeof i=="string"?document.createTextNode(i):i(r);if(!a)return;"then"in a?a.then(s=>{s&&this.view.state.field(this.stateField,!1)==t&&this.addInfoPane(s,r)}).catch(s=>Ld(this.view.state,s,"completion info")):this.addInfoPane(a,r)}}addInfoPane(t,e){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",t.nodeType!=null)r.appendChild(t),this.infoDestroy=null;else{let{dom:i,destroy:a}=t;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(t){let e=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName=="LI"&&r.id?i==t?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),e=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected"):i--;return e&&function(i,a){let s=i.getBoundingClientRect(),c=a.getBoundingClientRect(),f=s.height/i.offsetHeight;c.top<s.top?i.scrollTop-=(s.top-c.top)/f:c.bottom>s.bottom&&(i.scrollTop+=(c.bottom-s.bottom)/f)}(this.list,e),e}measureInfo(){let t=this.dom.querySelector("[aria-selected]");if(!t||!this.info)return null;let e=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=t.getBoundingClientRect(),a=this.space;if(!a){let s=this.dom.ownerDocument.defaultView||window;a={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(a.bottom,e.bottom)-10||i.bottom<Math.max(a.top,e.top)+10?null:this.view.state.facet(Cp).positionInfo(this.view,e,i,r,a,this.dom)}placeInfo(t){this.info&&(t?(t.style&&(this.info.style.cssText=t.style),this.info.className="cm-tooltip cm-completionInfo "+(t.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(t,e,r){const i=document.createElement("ul");i.id=e,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let a=null;for(let s=r.from;s<r.to;s++){let{completion:c,match:f}=t[s],{section:d}=c;if(d){let y=typeof d=="string"?d:d.name;y!=a&&(s>r.from||r.from==0)&&(a=y,typeof d!="string"&&d.header?i.appendChild(d.header(d)):i.appendChild(document.createElement("completion-section")).textContent=y)}const h=i.appendChild(document.createElement("li"));h.id=e+"-"+s,h.setAttribute("role","option");let m=this.optionClass(c);m&&(h.className=m);for(let y of this.optionContent){let w=y(c,this.view.state,this.view,f);w&&h.appendChild(w)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<t.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Qft(n,t){return e=>new Jft(e,n,t)}function B5(n){return 100*(n.boost||0)+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}class ww{constructor(t,e,r,i,a,s){this.options=t,this.attrs=e,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=s}setSelected(t,e){return t==this.selected||t>=this.options.length?this:new ww(this.options,R5(e,t),this.tooltip,this.timestamp,t,this.disabled)}static build(t,e,r,i,a,s){if(i&&!s&&t.some(d=>d.isPending))return i.setDisabled();let c=function(h,m){let y=[],w=null,C=L=>{y.push(L);let{section:z}=L.completion;if(z){w||(w=[]);let q=typeof z=="string"?z:z.name;w.some(V=>V.name==q)||w.push(typeof z=="string"?{name:q}:z)}},k=m.facet(Cp);for(let L of h)if(L.hasResult()){let z=L.result.getMatch;if(L.result.filter===!1)for(let q of L.result.options)C(new O5(q,L.source,z?z(q):[],1e9-y.length));else{let q,V=m.sliceDoc(L.from,L.to),X=k.filterStrict?new Yft(V):new Gft(V);for(let nt of L.result.options)if(q=X.match(nt.label)){let it=nt.displayLabel?z?z(nt,q.matched):[]:q.matched;C(new O5(nt,L.source,it,q.score+(nt.boost||0)))}}}if(w){let L=Object.create(null),z=0,q=(V,X)=>{var nt,it;return((nt=V.rank)!==null&&nt!==void 0?nt:1e9)-((it=X.rank)!==null&&it!==void 0?it:1e9)||(V.name<X.name?-1:1)};for(let V of w.sort(q))z-=1e5,L[V.name]=z;for(let V of y){let{section:X}=V.completion;X&&(V.score+=L[typeof X=="string"?X:X.name])}}let M=[],N=null,B=k.compareCompletions;for(let L of y.sort((z,q)=>q.score-z.score||B(z.completion,q.completion))){let z=L.completion;!N||N.label!=z.label||N.detail!=z.detail||N.type!=null&&z.type!=null&&N.type!=z.type||N.apply!=z.apply||N.boost!=z.boost?M.push(L):B5(L.completion)>B5(N)&&(M[M.length-1]=L),N=L.completion}return M}(t,e);if(!c.length)return i&&t.some(d=>d.isPending)?i.setDisabled():null;let f=e.facet(Cp).selectOnOpen?0:-1;if(i&&i.selected!=f&&i.selected!=-1){let d=i.options[i.selected].completion;for(let h=0;h<c.length;h++)if(c[h].completion==d){f=h;break}}return new ww(c,R5(r,f),{pos:t.reduce((d,h)=>h.hasResult()?Math.min(d,h.from):d,1e8),create:nht,above:a.aboveCursor},i?i.timestamp:Date.now(),f,!1)}map(t){return new ww(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:t.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}setDisabled(){return new ww(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class rE{constructor(t,e,r){this.active=t,this.id=e,this.open=r}static start(){return new rE(eht,"cm-ac-"+Math.floor(2e6*Math.random()).toString(36),null)}update(t){let{state:e}=t,r=e.facet(Cp),i=(r.override||e.languageDataAt("autocomplete",uy(e)).map(Kft)).map(c=>(this.active.find(d=>d.source==c)||new Fg(c,this.active.some(d=>d.state!=0)?1:0)).update(t,r));i.length==this.active.length&&i.every((c,f)=>c==this.active[f])&&(i=this.active);let a=this.open,s=t.effects.some(c=>c.is(LN));a&&t.docChanged&&(a=a.map(t.changes)),t.selection||i.some(c=>c.hasResult()&&t.changes.touchesRange(c.from,c.to))||!function(f,d){if(f==d)return!0;for(let h=0,m=0;;){for(;h<f.length&&!f[h].hasResult();)h++;for(;m<d.length&&!d[m].hasResult();)m++;let y=h==f.length,w=m==d.length;if(y||w)return y==w;if(f[h++].result!=d[m++].result)return!1}}(i,this.active)||s?a=ww.build(i,e,this.id,a,r,s):a&&a.disabled&&!i.some(c=>c.isPending)&&(a=null),!a&&i.every(c=>!c.isPending)&&i.some(c=>c.hasResult())&&(i=i.map(c=>c.hasResult()?new Fg(c.source,0):c));for(let c of t.effects)c.is(AK)&&(a=a&&a.setSelected(c.value,this.id));return i==this.active&&a==this.open?this:new rE(i,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Zft:tht}}const Zft={"aria-autocomplete":"list"},tht={};function R5(n,t){let e={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return t>-1&&(e["aria-activedescendant"]=n+"-"+t),e}const eht=[];function EK(n,t){if(n.isUserEvent("input.complete")){let r=n.annotation(SK);if(r&&t.activateOnCompletion(r))return 12}let e=n.isUserEvent("input.type");return e&&t.activateOnTyping?5:e?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Fg{constructor(t,e,r=!1){this.source=t,this.state=e,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(t,e){let r=EK(t,e),i=this;(8&r||16&r&&this.touches(t))&&(i=new Fg(i.source,0)),4&r&&i.state==0&&(i=new Fg(this.source,1)),i=i.updateFor(t,r);for(let a of t.effects)if(a.is(nE))i=new Fg(i.source,1,a.value);else if(a.is(xD))i=new Fg(i.source,0);else if(a.is(LN))for(let s of a.value)s.source==i.source&&(i=s);return i}updateFor(t,e){return this.map(t.changes)}map(t){return this}touches(t){return t.changes.touchesRange(uy(t.state))}}class jw extends Fg{constructor(t,e,r,i,a,s){super(t,3,e),this.limit=r,this.result=i,this.from=a,this.to=s}hasResult(){return!0}updateFor(t,e){var r;if(!(3&e))return this.map(t.changes);let i=this.result;i.map&&!t.changes.empty&&(i=i.map(i,t.changes));let a=t.changes.mapPos(this.from),s=t.changes.mapPos(this.to,1),c=uy(t.state);if(c>s||!i||2&e&&(uy(t.startState)==this.from||c<this.limit))return new Fg(this.source,4&e?1:0);let f=t.changes.mapPos(this.limit);return function(h,m,y,w){if(!h)return!1;let C=m.sliceDoc(y,w);return typeof h=="function"?h(C,y,w,m):_K(h,!0).test(C)}(i.validFor,t.state,a,s)?new jw(this.source,this.explicit,f,i,a,s):i.update&&(i=i.update(i,a,s,new CK(t.state,c,!1)))?new jw(this.source,this.explicit,f,i,i.from,(r=i.to)!==null&&r!==void 0?r:uy(t.state)):new Fg(this.source,1,this.explicit)}map(t){return t.empty?this:(this.result.map?this.result.map(this.result,t):this.result)?new jw(this.source,this.explicit,t.mapPos(this.limit),this.result,t.mapPos(this.from),t.mapPos(this.to,1)):new Fg(this.source,0)}touches(t){return t.changes.touchesRange(this.from,this.to)}}const LN=qs.define({map:(n,t)=>n.map(e=>e.map(t))}),AK=qs.define(),Id=Hp.define({create:()=>rE.start(),update:(n,t)=>n.update(t),provide:n=>[AN.from(n,t=>t.tooltip),ci.contentAttributes.from(n,t=>t.attrs)]});function zN(n,t){const e=t.completion.apply||t.completion.label;let r=n.state.field(Id).active.find(i=>i.source==t.source);return r instanceof jw&&(typeof e=="string"?n.dispatch(Object.assign(Object.assign({},function(a,s,c,f){let{main:d}=a.selection,h=c-d.from,m=f-d.from;return Object.assign(Object.assign({},a.changeByRange(y=>{if(y!=d&&c!=f&&a.sliceDoc(y.from+h,y.from+m)!=a.sliceDoc(c,f))return{range:y};let w=a.toText(s);return{changes:{from:y.from+h,to:f==d.from?y.to:y.from+m,insert:w},range:un.cursor(y.from+h+w.length)}})),{scrollIntoView:!0,userEvent:"input.complete"})}(n.state,e,r.from,r.to)),{annotations:SK.of(t.completion)})):e(n,t.completion,r.from,r.to),!0)}const nht=Qft(Id,zN);function y_(n,t="option"){return e=>{let r=e.state.field(Id,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<e.state.facet(Cp).interactionDelay)return!1;let i,a=1;t=="page"&&(i=xq(e,r.open.tooltip))&&(a=Math.max(2,Math.floor(i.dom.offsetHeight/i.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,c=r.open.selected>-1?r.open.selected+a*(n?1:-1):n?0:s-1;return c<0?c=t=="page"?0:s-1:c>=s&&(c=t=="page"?s-1:0),e.dispatch({effects:AK.of(c)}),!0}}const j5=n=>!!n.state.field(Id,!1)&&(n.dispatch({effects:nE.of(!0)}),!0);class rht{constructor(t,e){this.active=t,this.context=e,this.time=Date.now(),this.updates=[],this.done=void 0}}const iht=Zh.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let t of n.state.field(Id).active)t.isPending&&this.startQuery(t)}update(n){let t=n.state.field(Id),e=n.state.facet(Cp);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Id)==t)return;let r=n.transactions.some(a=>{let s=EK(a,e);return 8&s||(a.selection||a.docChanged)&&!(3&s)});for(let a=0;a<this.running.length;a++){let s=this.running[a];if(r||s.context.abortOnDocChange&&n.docChanged||s.updates.length+n.transactions.length>50&&Date.now()-s.time>1e3){for(let c of s.context.abortListeners)try{c()}catch(f){Ld(this.view.state,f)}s.context.abortListeners=null,this.running.splice(a--,1)}else s.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(a=>a.effects.some(s=>s.is(nE)))&&(this.pendingStart=!0);let i=this.pendingStart?50:e.activateOnTypingDelay;if(this.debounceUpdate=t.active.some(a=>a.isPending&&!this.running.some(s=>s.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of n.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,t=n.field(Id);for(let e of t.active)e.isPending&&!this.running.some(r=>r.active.source==e.source)&&this.startQuery(e);this.running.length&&t.open&&t.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cp).updateSyncTime))}startQuery(n){let{state:t}=this.view,e=uy(t),r=new CK(t,e,n.explicit,this.view),i=new rht(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:xD.of(null)}),Ld(this.view.state,a)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(Cp).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let t=[],e=this.view.state.facet(Cp),r=this.view.state.field(Id);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let c=uy(a.updates.length?a.updates[0].startState:this.view.state),f=Math.min(c,a.done.from+(a.active.explicit?0:1)),d=new jw(a.active.source,a.active.explicit,f,a.done,a.done.from,(n=a.done.to)!==null&&n!==void 0?n:c);for(let h of a.updates)d=d.update(h,e);if(d.hasResult()){t.push(d);continue}}let s=r.active.find(c=>c.source==a.active.source);if(s&&s.isPending)if(a.done==null){let c=new Fg(a.active.source,0);for(let f of a.updates)c=c.update(f,e);c.isPending||t.push(c)}else this.startQuery(s)}(t.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:LN.of(t)})}},{eventHandlers:{blur(n){let t=this.view.state.field(Id,!1);if(t&&t.tooltip&&this.view.state.facet(Cp).closeOnBlur){let e=t.open&&xq(this.view,t.open.tooltip);e&&e.dom.contains(n.relatedTarget)||setTimeout(()=>this.view.dispatch({effects:xD.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:nE.of(!1)}),20),this.composing=0}}}),oht=typeof navigator=="object"&&/Win/.test(navigator.platform),aht=Py.highest(ci.domEventHandlers({keydown(n,t){let e=t.state.field(Id,!1);if(!e||!e.open||e.open.disabled||e.open.selected<0||n.key.length>1||n.ctrlKey&&(!oht||!n.altKey)||n.metaKey)return!1;let r=e.open.options[e.open.selected],i=e.active.find(s=>s.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(n.key)>-1&&zN(t,r),!1}})),sht=ci.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),DD={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},ty=qs.define({map(n,t){let e=t.mapPos(n,-1,vd.TrackAfter);return e??void 0}}),_T=new class extends Z0{};_T.startSide=1,_T.endSide=-1;const kK=Hp.define({create:()=>sc.empty,update(n,t){if(n=n.map(t.changes),t.selection){let e=t.state.doc.lineAt(t.selection.main.head);n=n.update({filter:r=>r>=e.from&&r<=e.to})}for(let e of t.effects)e.is(ty)&&(n=n.update({add:[_T.range(e.value,e.value+1)]}));return n}}),L5="()[]{}<>";function MK(n){for(let t=0;t<8;t+=2)if(L5.charCodeAt(t)==n)return L5.charAt(t+1);return hN(n<128?n:n+1)}function FK(n,t){return n.languageDataAt("closeBrackets",t)[0]||DD}const uht=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),lht=ci.inputHandler.of((n,t,e,r)=>{if((uht?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&Cg(Ip(r,0))==1||t!=i.from||e!=i.to)return!1;let a=function(c,f){let d=FK(c,c.selection.main.head),h=d.brackets||DD.brackets;for(let m of h){let y=MK(Ip(m,0));if(f==m)return y==m?pht(c,m,h.indexOf(m+m+m)>-1,d):fht(c,m,y,d.before||DD.before);if(f==y&&PK(c,c.selection.main.from))return hht(c,m,y)}return null}(n.state,r);return!!a&&(n.dispatch(a),!0)}),cht=[{key:"Backspace",run:({state:n,dispatch:t})=>{if(n.readOnly)return!1;let e=FK(n,n.selection.main.head).brackets||DD.brackets,r=null,i=n.changeByRange(a=>{if(a.empty){let s=function(f,d){let h=f.sliceString(d-2,d);return Cg(Ip(h,0))==h.length?h:h.slice(1)}(n.doc,a.head);for(let c of e)if(c==s&&JE(n.doc,a.head)==MK(Ip(c,0)))return{changes:{from:a.head-c.length,to:a.head+c.length},range:un.cursor(a.head-c.length)}}return{range:r=a}});return r||t(n.update(i,{scrollIntoView:!0,userEvent:"delete.backward"})),!r}}];function PK(n,t){let e=!1;return n.field(kK).between(0,n.doc.length,r=>{r==t&&(e=!0)}),e}function JE(n,t){let e=n.sliceString(t,t+2);return e.slice(0,Cg(Ip(e,0)))}function fht(n,t,e,r){let i=null,a=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:t,from:s.from},{insert:e,from:s.to}],effects:ty.of(s.to+t.length),range:un.range(s.anchor+t.length,s.head+t.length)};let c=JE(n.doc,s.head);return!c||/\s/.test(c)||r.indexOf(c)>-1?{changes:{insert:t+e,from:s.head},effects:ty.of(s.head+t.length),range:un.cursor(s.head+t.length)}:{range:i=s}});return i?null:n.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function hht(n,t,e){let r=null,i=n.changeByRange(a=>a.empty&&JE(n.doc,a.head)==e?{changes:{from:a.head,to:a.head+e.length,insert:e},range:un.cursor(a.head+e.length)}:r={range:a});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function pht(n,t,e,r){let i=r.stringPrefixes||DD.stringPrefixes,a=null,s=n.changeByRange(c=>{if(!c.empty)return{changes:[{insert:t,from:c.from},{insert:t,from:c.to}],effects:ty.of(c.to+t.length),range:un.range(c.anchor+t.length,c.head+t.length)};let f,d=c.head,h=JE(n.doc,d);if(h==t){if(z5(n,d))return{changes:{insert:t+t,from:d},effects:ty.of(d+t.length),range:un.cursor(d+t.length)};if(PK(n,d)){let m=e&&n.sliceDoc(d,d+3*t.length)==t+t+t?t+t+t:t;return{changes:{from:d,to:d+m.length,insert:m},range:un.cursor(d+m.length)}}}else{if(e&&n.sliceDoc(d-2*t.length,d)==t+t&&(f=U5(n,d-2*t.length,i))>-1&&z5(n,f))return{changes:{insert:t+t+t+t,from:d},effects:ty.of(d+t.length),range:un.cursor(d+t.length)};if(n.charCategorizer(d)(h)!=bh.Word&&U5(n,d,i)>-1&&!function(y,w,C,k){let M=cd(y).resolveInner(w,-1),N=k.reduce((B,L)=>Math.max(B,L.length),0);for(let B=0;B<5;B++){let L=y.sliceDoc(M.from,Math.min(M.to,M.from+C.length+N)),z=L.indexOf(C);if(!z||z>-1&&k.indexOf(L.slice(0,z))>-1){let V=M.firstChild;for(;V&&V.from==M.from&&V.to-V.from>C.length+z;){if(y.sliceDoc(V.to-C.length,V.to)==C)return!1;V=V.firstChild}return!0}let q=M.to==w&&M.parent;if(!q)break;M=q}return!1}(n,d,t,i))return{changes:{insert:t+t,from:d},effects:ty.of(d+t.length),range:un.cursor(d+t.length)}}return{range:a=c}});return a?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function z5(n,t){let e=cd(n).resolveInner(t+1);return e.parent&&e.from==t}function U5(n,t,e){let r=n.charCategorizer(t);if(r(n.sliceDoc(t-1,t))!=bh.Word)return t;for(let i of e){let a=t-i.length;if(n.sliceDoc(a,t)==i&&r(n.sliceDoc(a-1,a))!=bh.Word)return a}return-1}function dht(n={}){return[aht,Id,Cp.of(n),iht,ght,sht]}const TK=[{key:"Ctrl-Space",run:j5},{mac:"Alt-`",run:j5},{key:"Escape",run:n=>{let t=n.state.field(Id,!1);return!(!t||!t.active.some(e=>e.state!=0))&&(n.dispatch({effects:xD.of(null)}),!0)}},{key:"ArrowDown",run:y_(!0)},{key:"ArrowUp",run:y_(!1)},{key:"PageDown",run:y_(!0,"page")},{key:"PageUp",run:y_(!1,"page")},{key:"Enter",run:n=>{let t=n.state.field(Id,!1);return!(n.state.readOnly||!t||!t.open||t.open.selected<0||t.open.disabled||Date.now()-t.open.timestamp<n.state.facet(Cp).interactionDelay)&&zN(n,t.open.options[t.open.selected])}}],ght=Py.highest(SN.computeN([Cp],n=>n.facet(Cp).defaultKeymap?[TK]:[]));class mht{constructor(t,e,r){this.from=t,this.to=e,this.diagnostic=r}}class H0{constructor(t,e,r){this.diagnostics=t,this.panel=e,this.selected=r}static init(t,e,r){let i=t,a=r.facet(CD).markerFilter;a&&(i=a(i,r));let s=wa.set(i.map(c=>c.from==c.to||c.from==c.to-1&&r.doc.lineAt(c.from).to==c.from?wa.widget({widget:new xht(c),diagnostic:c}).range(c.from):wa.mark({attributes:{class:"cm-lintRange cm-lintRange-"+c.severity+(c.markClass?" "+c.markClass:"")},diagnostic:c}).range(c.from,c.to)),!0);return new H0(s,e,ab(s))}}function ab(n,t=null,e=0){let r=null;return n.between(e,1e9,(i,a,{spec:s})=>{if(!t||s.diagnostic==t)return r=new mht(i,a,s.diagnostic),!1}),r}const OK=qs.define(),UN=qs.define(),NK=qs.define(),rg=Hp.define({create:()=>new H0(wa.none,null,null),update(n,t){if(t.docChanged&&n.diagnostics.size){let e=n.diagnostics.map(t.changes),r=null,i=n.panel;if(n.selected){let a=t.changes.mapPos(n.selected.from,1);r=ab(e,n.selected.diagnostic,a)||ab(e,null,a)}!e.size&&i&&t.state.facet(CD).autoPanel&&(i=null),n=new H0(e,i,r)}for(let e of t.effects)if(e.is(OK)){let r=t.state.facet(CD).autoPanel?e.value.length?_D.open:null:n.panel;n=H0.init(e.value,r,t.state)}else e.is(UN)?n=new H0(n.diagnostics,e.value?_D.open:null,n.selected):e.is(NK)&&(n=new H0(n.diagnostics,n.panel,e.value));return n},provide:n=>[gD.from(n,t=>t.panel),ci.decorations.from(n,t=>t.diagnostics)]}),vht=wa.mark({class:"cm-lintRange cm-lintRange-active"});function yht(n,t,e){let{diagnostics:r}=n.state.field(rg),i=[],a=2e8,s=0;r.between(t-(e<0?1:0),t+(e>0?1:0),(f,d,{spec:h})=>{t>=f&&t<=d&&(f==d||(t>f||e>0)&&(t<d||e<0))&&(i.push(h.diagnostic),a=Math.min(f,a),s=Math.max(d,s))});let c=n.state.facet(CD).tooltipFilter;return c&&(i=c(i,n.state)),i.length?{pos:a,end:s,above:n.state.doc.lineAt(a).to<s,create:()=>({dom:wht(n,i)})}:null}function wht(n,t){return $f("ul",{class:"cm-tooltip-lint"},t.map(e=>BK(n,e,!1)))}const $5=n=>{let t=n.state.field(rg,!1);return!(!t||!t.panel)&&(n.dispatch({effects:UN.of(!1)}),!0)},bht=[{key:"Mod-Shift-m",run:n=>{let t=n.state.field(rg,!1);var e,r;t&&t.panel||n.dispatch({effects:(e=n.state,r=[UN.of(!0)],e.field(rg,!1)?r:r.concat(qs.appendConfig.of(Cht)))});let i=dD(n,_D.open);return i&&i.dom.querySelector(".cm-panel-lint ul").focus(),!0},preventDefault:!0},{key:"F8",run:n=>{let t=n.state.field(rg,!1);if(!t)return!1;let e=n.state.selection.main,r=t.diagnostics.iter(e.to+1);return!(!r.value&&(r=t.diagnostics.iter(0),!r.value||r.from==e.from&&r.to==e.to))&&(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)}}],CD=Yr.define({combine:n=>Object.assign({sources:n.map(t=>t.source).filter(t=>t!=null)},Zm(n.map(t=>t.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(t,e)=>t?e?r=>t(r)||e(r):t:e}))});function IK(n){let t=[];if(n)t:for(let{name:e}of n){for(let r=0;r<e.length;r++){let i=e[r];if(/[a-zA-Z]/.test(i)&&!t.some(a=>a.toLowerCase()==i.toLowerCase())){t.push(i);continue t}}t.push("")}return t}function BK(n,t,e){var r;let i=e?IK(t.actions):[];return $f("li",{class:"cm-diagnostic cm-diagnostic-"+t.severity},$f("span",{class:"cm-diagnosticText"},t.renderMessage?t.renderMessage(n):t.message),(r=t.actions)===null||r===void 0?void 0:r.map((a,s)=>{let c=!1,f=y=>{if(y.preventDefault(),c)return;c=!0;let w=ab(n.state.field(rg).diagnostics,t);w&&a.apply(n,w.from,w.to)},{name:d}=a,h=i[s]?d.indexOf(i[s]):-1,m=h<0?d:[d.slice(0,h),$f("u",d.slice(h,h+1)),d.slice(h+1)];return $f("button",{type:"button",class:"cm-diagnosticAction",onclick:f,onmousedown:f,"aria-label":` Action: ${d}${h<0?"":` (access key "${i[s]})"`}.`},m)}),t.source&&$f("div",{class:"cm-diagnosticSource"},t.source))}class xht extends k0{constructor(t){super(),this.diagnostic=t}eq(t){return t.diagnostic==this.diagnostic}toDOM(){return $f("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class W5{constructor(t,e){this.diagnostic=e,this.id="item_"+Math.floor(4294967295*Math.random()).toString(16),this.dom=BK(t,e,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class _D{constructor(t){this.view=t,this.items=[],this.list=$f("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:e=>{if(e.keyCode==27)$5(this.view),this.view.focus();else if(e.keyCode==38||e.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(e.keyCode==40||e.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(e.keyCode==36)this.moveSelection(0);else if(e.keyCode==35)this.moveSelection(this.items.length-1);else if(e.keyCode==13)this.view.focus();else{if(!(e.keyCode>=65&&e.keyCode<=90&&this.selectedIndex>=0))return;{let{diagnostic:r}=this.items[this.selectedIndex],i=IK(r.actions);for(let a=0;a<i.length;a++)if(i[a].toUpperCase().charCodeAt(0)==e.keyCode){let s=ab(this.view.state.field(rg).diagnostics,r);s&&r.actions[a].apply(t,s.from,s.to)}}}e.preventDefault()},onclick:e=>{for(let r=0;r<this.items.length;r++)this.items[r].dom.contains(e.target)&&this.moveSelection(r)}}),this.dom=$f("div",{class:"cm-panel-lint"},this.list,$f("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$5(this.view)},"")),this.update()}get selectedIndex(){let t=this.view.state.field(rg).selected;if(!t)return-1;for(let e=0;e<this.items.length;e++)if(this.items[e].diagnostic==t.diagnostic)return e;return-1}update(){let{diagnostics:t,selected:e}=this.view.state.field(rg),r=0,i=!1,a=null;for(t.between(0,this.view.state.doc.length,(s,c,{spec:f})=>{let d,h=-1;for(let m=r;m<this.items.length;m++)if(this.items[m].diagnostic==f.diagnostic){h=m;break}h<0?(d=new W5(this.view,f.diagnostic),this.items.splice(r,0,d),i=!0):(d=this.items[h],h>r&&(this.items.splice(r,h-r),i=!0)),e&&d.diagnostic==e.diagnostic?d.dom.hasAttribute("aria-selected")||(d.dom.setAttribute("aria-selected","true"),a=d):d.dom.hasAttribute("aria-selected")&&d.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new W5(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:c})=>{let f=c.height/this.list.offsetHeight;s.top<c.top?this.list.scrollTop-=(c.top-s.top)/f:s.bottom>c.bottom&&(this.list.scrollTop+=(s.bottom-c.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let t=this.list.firstChild;function e(){let r=t;t=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;t!=r.dom;)e();t=r.dom.nextSibling}else this.list.insertBefore(r.dom,t);for(;t;)e()}moveSelection(t){if(this.selectedIndex<0)return;let e=ab(this.view.state.field(rg).diagnostics,this.items[t].diagnostic);e&&this.view.dispatch({selection:{anchor:e.from,head:e.to},scrollIntoView:!0,effects:NK.of(e)})}static open(t){return new _D(t)}}function w_(n){return function(e,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(e)}</svg>')`}(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Dht=ci.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:w_("#d11")},".cm-lintRange-warning":{backgroundImage:w_("orange")},".cm-lintRange-info":{backgroundImage:w_("#999")},".cm-lintRange-hint":{backgroundImage:w_("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),Cht=[rg,ci.decorations.compute([rg],n=>{let{selected:t,panel:e}=n.field(rg);return t&&e&&t.from!=t.to?wa.set([vht.range(t.from,t.to)]):wa.none}),tct(yht,{hideOn:function(t,e){let r=e.pos,i=e.end||r,a=t.state.facet(CD).hideOn(t,r,i);if(a!=null)return a;let s=t.startState.doc.lineAt(e.pos);return!(!t.effects.some(c=>c.is(OK))&&!t.changes.touchesRange(s.from,Math.max(s.to,i)))}}),Dht];[cct(),hct,Ult(),gft(),Wct(),Olt(),[ax,Rlt],vc.allowMultipleSelections.of(!0),vc.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let t=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!t.length)return n;let e=n.newDoc,{head:r}=n.newSelection.main,i=e.lineAt(r);if(r>i.from+200)return n;let a=e.sliceString(i.from,r);if(!t.some(d=>d.test(a)))return n;let{state:s}=n,c=-1,f=[];for(let{head:d}of s.selection.ranges){let h=s.doc.lineAt(d);if(h.from==c)continue;c=h.from;let m=PN(s,h.from);if(m==null)continue;let y=/^\s*/.exec(h.text)[0],w=mD(s,m);y!=w&&f.push({from:h.from,to:h.from+y.length,insert:w})}return f.length?[n,{changes:f,sequential:!0}]:n}),Vct(Gct,{fallback:!0}),eft(),[lht,kK],dht(),ci.mouseSelectionStyle.of((n,t)=>(e=>e.altKey&&e.button==0)(t)?qlt(n,t):null),Ylt(),Vlt,[Nft,Oft],SN.of([...cht,...Aft,...$ft,...Dft,...Lct,...TK,...bht])];var ST=function(n,t){return ST=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])},ST(n,t)};function mh(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}ST(n,t),n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var gu=function(){return gu=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},gu.apply(this,arguments)};function Ug(n,t,e){for(var r,i=0,a=t.length;i<a;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}var H5=function(){function n(){this._project={metaData:{name:"Empty Project",pinsAndCurvesVersion:"0.0.1"},orgData:{signalIds:[],signalIdByPinId:{},pinIds:[],signalNames:{},signalTypes:{},activeSignalIds:[]},timelineData:{numberOfFrames:100,framesPerSecond:30,playheadPosition:0,focusRange:[0,100]},signalData:{},templateData:{}}}return n.prototype.addDiscreteSignal=function(t,e){this._project.orgData.signalIds.push(t),this._project.orgData.signalNames[t]=e,this._project.orgData.signalTypes[t]="discrete",this._project.signalData[t]={id:t,type:"discrete",pinIds:[],pinTimes:{},pinValues:{}}},n.prototype.addContinuousSignal=function(t,e,r){this._project.orgData.signalIds.push(t),this._project.orgData.signalNames[t]=e,this._project.orgData.signalTypes[t]="continuous",this._project.signalData[t]={id:t,type:"continuous",range:r,pinIds:[],pinTimes:{},pinValues:{},curves:{}}},n.prototype.addPin=function(t,e,r,i){var a=this._project.signalData[t],s=Math.random().toString(36).substring(7);if(this._project.orgData.pinIds.push(s),this._project.orgData.signalIdByPinId[s]=t,a.type==="continuous"){if(a.pinIds.push(s),a.pinTimes[s]=e,typeof r!="number")throw new Error("Continuous signal pin value must be a number");if(a.pinValues[s]=r,!i)throw new Error("Continuous signal pin must have a curve");i&&(a.curves[s]=i)}if(a.type==="discrete"){if(a.pinIds.push(s),a.pinTimes[s]=e,typeof r!="string")throw new Error("Discrete signal pin value must be a string");a.pinValues[s]=r}},n.prototype.setTimelineData=function(t,e,r){this._project.timelineData=gu(gu({},this._project.timelineData),{numberOfFrames:t,framesPerSecond:e,playheadPosition:r})},n.prototype.setSignalActiveStatus=function(t,e){e?this._project.orgData.activeSignalIds.push(t):this._project.orgData.activeSignalIds=this._project.orgData.activeSignalIds.filter(function(r){return r!==t})},n.prototype.getProject=function(){return this._project},n.prototype.addCurveTemplate=function(t,e){this._project.templateData[t]=e},n}(),_ht=Object.freeze({__proto__:null,ProjectBuilder:H5,defaultProject:function(){var n=new H5;return n.addDiscreteSignal("signal1","Signal 1"),n.addContinuousSignal("signal2","Signal 2",[0,1]),n.addPin("signal1",100,"VALUE"),n.addPin("signal2",100,0,"return easyLinear();"),n.setSignalActiveStatus("signal1",!0),n.setSignalActiveStatus("signal2",!0),n.getProject()}}),ET=function(){function n(t,e,r){if(r===void 0&&(r=1e4),this.content=t,this.__transformer=e,typeof r=="number"){if(r<1)throw new Error("Max size must be greater than 0");this.__internal={namedStates:{},states:{initial:{forward:[],backward:[],nextState:void 0,previousState:void 0}},cursor:"initial",maxSize:r}}else this.__internal=r;this.__MAX_ITERATIONS=this.__internal.maxSize+1}return n.deserialize=function(t,e){var r=JSON.parse(t);return new n(r.content,e,r.__internal)},n.prototype.serialize=function(){return JSON.stringify({content:this.content,__internal:this.__internal})},n.prototype.next=function(){var t=this.__internal.states[this.__internal.cursor].nextState;if(!t)return{success:!1,message:"No next state"};var e=this.__internal.cursor,r=this.__internal.states[e].forward;return this.__internal.cursor=t,this.content=this.__transformer(this.content,r),{success:!0,message:"Next state reached"}},n.prototype.previous=function(){var t=this.__internal.states[this.__internal.cursor].previousState;if(!t)return{success:!1,message:"No previous state"};var e=this.__internal.cursor,r=this.__internal.states[e].backward;return this.__internal.cursor=t,this.content=this.__transformer(this.content,r),{success:!0,message:"Previous state reached"}},n.prototype.goToNamedState=function(t){var e=this.__internal.namedStates[t];if(!e)return{success:!1,message:"Named state not found"};if(!this.__internal.states[e])throw new Error("Named state has no corresponding state");var r=this.__internal.cursor;if(e===r)return{success:!0,message:"Already at named state"};for(var i="forward",a=r,s=0;a&&s<this.__MAX_ITERATIONS;)s++,a===e&&(i="backward"),a=this.__internal.states[a].previousState;if(i==="forward"){for(s=0;this.__internal.cursor!==e&&s<this.__MAX_ITERATIONS;)if(s++,!(c=this.next()).success)throw new Error(c.message)}else for(s=0;this.__internal.cursor!==e&&s<this.__MAX_ITERATIONS;){var c;if(s++,!(c=this.previous()).success)throw new Error(c.message)}return{success:!0,message:"Moved to named state"}},n.prototype.saveAsNamedState=function(t){this.__internal.namedStates[t]=this.__internal.cursor},n.prototype.appendToCurrentState=function(t,e){this.content=this.__transformer(this.content,t);var r=this.__internal.cursor,i=this.__internal.states[r].forward,a=this.__internal.states[r].backward;this.__internal.states[r].forward=i.concat(t),this.__internal.states[r].backward=e.concat(a)},n.prototype.addNextState=function(t,e){for(var r=this,i=[],a=c=this.__internal.cursor,s=0;a&&s<this.__MAX_ITERATIONS;)s++,(a=this.__internal.states[a].nextState)&&i.push(a);i.forEach(function(y){delete r.__internal.states[y]});var c=this.__internal.cursor,f="state".concat(function(){for(var y="",w=0;w<10;w++)y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return y}());this.__internal.states[f]={forward:t,backward:e,nextState:void 0,previousState:c},this.__internal.states[c].nextState=f,this.__internal.cursor=f,this.content=this.__transformer(this.content,t);var d=1,h=(a=c=this.__internal.cursor,[c]);for(s=0;a&&d<this.__internal.maxSize&&s<this.__MAX_ITERATIONS;)s++,(a=this.__internal.states[a].previousState)&&h.push(a),d++;var m=Object.keys(this.__internal.states).filter(function(y){return!h.includes(y)});m.forEach(function(y){delete r.__internal.states[y]}),h.forEach(function(y,w){var C=r.__internal.states[y].previousState,k=r.__internal.states[y].nextState;C&&!r.__internal.states[C]&&(r.__internal.states[y].previousState=void 0),k&&!r.__internal.states[k]&&(r.__internal.states[y].nextState=void 0)}),Object.keys(this.__internal.namedStates).forEach(function(y){var w=r.__internal.namedStates[y];if(!w)throw new Error("Named state has no corresponding state");r.__internal.states[w]||delete r.__internal.namedStates[y]})},n.prototype.executeCommand=function(t){switch(t.type){case"next":this.next();break;case"previous":this.previous();break;case"goToNamedState":this.goToNamedState(t.namedState);break;case"saveAsNamedState":this.saveAsNamedState(t.namedState);break;case"addNextState":this.addNextState(t.forward,t.backward);break;case"appendToCurrentState":this.appendToCurrentState(t.forward,t.backward);break;default:throw new Error("Invalid command")}},n.prototype.executeCommands=function(t){var e=this;t.forEach(function(r){return e.executeCommand(r)})},n}(),RK=function(){function n(t){this.subscribers=[],this.update=[],this.dispatch=t,this.authorId="a".concat(iE())}return n.prototype.subscribeToProjectUpdates=function(t){var e=this;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.subscribers.push(t),function(){e.subscribers=e.subscribers.filter(function(r){return r!==t})}},n.prototype.getProject=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");return this.worm.content},n.prototype.pushCommand=function(t){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var e=t();this.worm.executeCommand(e),this.update.push(e)}catch(r){console.error(r)}},n.prototype.pushCommands=function(t){var e;if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");try{var r=t();this.worm.executeCommands(r),(e=this.update).push.apply(e,r)}catch(i){console.error(i)}},n.prototype.pushUpdate=function(){if(!this.worm||!this.projectStateId)throw new Error("Worm not initialized");var t=this.update;this.update=[];var e=this.projectStateId;this.projectStateId="ps".concat(iE()),this.subscribers.forEach(function(r){return r()}),this.dispatch({authorId:this.authorId,authorIsHost:this.host,type:"pushUpdate",instructions:t,lastAgreedProjectStateId:e,newProjectStateId:this.projectStateId})},n.prototype.processUpdate=function(t){if(this.worm&&this.projectStateId){var e=t.lastAgreedProjectStateId,r=t.newProjectStateId;(this.host?e===this.projectStateId&&t.authorIsHost===!1&&this.update.length===0:e===this.projectStateId)?(this.update=[],this.worm.executeCommands(t.instructions),this.projectStateId=r,this.subscribers.forEach(function(i){return i()})):this.host||this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject"})}},n}(),Sht=function(n){function t(e,r){var i=n.call(this,e.dispatch)||this;return i.host=!0,i.worm=r,i.projectStateId="ps".concat(iE()),i.dispatch({authorId:i.authorId,authorIsHost:!0,type:"hostIsConnected"}),i}return mh(t,n),Object.defineProperty(t.prototype,"initialized",{get:function(){return!0},enumerable:!1,configurable:!0}),t.fromProject=function(e,r){return new t(e,new ET(r,e.projectTransformer))},t.fromSerializedWorm=function(e,r){return new t(e,ET.deserialize(r,e.projectTransformer))},t.prototype.receive=function(e){if(e.authorId!==this.authorId)switch(e.type){case"requestProject":this.pushProject(e.requestId);break;case"hostIsConnected":case"pushProject":break;case"pushUpdate":this.processUpdate(e);break;default:throw new Error("Invalid event type")}},t.prototype.pushProject=function(e){this.dispatch({authorId:this.authorId,authorIsHost:!0,type:"pushProject",serializedWorm:this.worm.serialize(),initialProjectStateId:this.projectStateId,requestId:e})},t}(RK),Eht=function(n){function t(e){var r=n.call(this,e.dispatch)||this;return r.host=!1,r.projectRequestCallbacks={},r.__projectTransformer=e.projectTransformer,r}return mh(t,n),Object.defineProperty(t.prototype,"initialized",{get:function(){return this.worm!==void 0&&this.projectStateId!==void 0},enumerable:!1,configurable:!0}),t.prototype.receive=function(e){if(e.authorId!==this.authorId)switch(e.type){case"requestProject":break;case"hostIsConnected":this.requestProject();break;case"pushProject":this.worm=ET.deserialize(e.serializedWorm,this.__projectTransformer),this.projectStateId=e.initialProjectStateId,e.requestId&&this.projectRequestCallbacks[e.requestId]&&(this.projectRequestCallbacks[e.requestId](),delete this.projectRequestCallbacks[e.requestId]);break;case"pushUpdate":this.processUpdate(e);break;default:throw new Error("Invalid event type")}},t.prototype.requestProject=function(e){var r;e&&(r="r".concat(iE()),this.projectRequestCallbacks[r]=e),this.dispatch({authorId:this.authorId,authorIsHost:!1,type:"requestProject",requestId:r})},t}(RK),iE=function(){for(var n="",t=0;t<10;t++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return n},jK=Symbol.for("immer-nothing"),V5=Symbol.for("immer-draftable"),sg=Symbol.for("immer-state");function Yg(n,...t){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var sb=Object.getPrototypeOf;function Lw(n){return!!n&&!!n[sg]}function Ey(n){var t;return!!n&&(LK(n)||Array.isArray(n)||!!n[V5]||!!((t=n.constructor)!=null&&t[V5])||ZE(n)||tA(n))}var Aht=Object.prototype.constructor.toString();function LK(n){if(!n||typeof n!="object")return!1;const t=sb(n);if(t===null)return!0;const e=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return e===Object||typeof e=="function"&&Function.toString.call(e)===Aht}function oE(n,t){QE(n)===0?Reflect.ownKeys(n).forEach(e=>{t(e,n[e],n)}):n.forEach((e,r)=>t(r,e,n))}function QE(n){const t=n[sg];return t?t.type_:Array.isArray(n)?1:ZE(n)?2:tA(n)?3:0}function AT(n,t){return QE(n)===2?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function zK(n,t,e){const r=QE(n);r===2?n.set(t,e):r===3?n.add(e):n[t]=e}function ZE(n){return n instanceof Map}function tA(n){return n instanceof Set}function U0(n){return n.copy_||n.base_}function kT(n,t){if(ZE(n))return new Map(n);if(tA(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const e=LK(n);if(t===!0||t==="class_only"&&!e){const r=Object.getOwnPropertyDescriptors(n);delete r[sg];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],c=r[s];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(r[s]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[s]})}return Object.create(sb(n),r)}{const r=sb(n);if(r!==null&&e)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function $N(n,t=!1){return eA(n)||Lw(n)||!Ey(n)||(QE(n)>1&&(n.set=n.add=n.clear=n.delete=kht),Object.freeze(n),t&&Object.entries(n).forEach(([e,r])=>$N(r,!0))),n}function kht(){Yg(2)}function eA(n){return Object.isFrozen(n)}var SD,Mht={};function Ay(n){const t=Mht[n];return t||Yg(0,n),t}function q5(){return SD}function K5(n,t){t&&(Ay("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=t)}function MT(n){FT(n),n.drafts_.forEach(Fht),n.drafts_=null}function FT(n){n===SD&&(SD=n.parent_)}function G5(n){return SD={drafts_:[],parent_:SD,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Fht(n){const t=n[sg];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Y5(n,t){t.unfinalizedDrafts_=t.drafts_.length;const e=t.drafts_[0];return n!==void 0&&n!==e?(e[sg].modified_&&(MT(t),Yg(4)),Ey(n)&&(n=aE(t,n),t.parent_||sE(t,n)),t.patches_&&Ay("Patches").generateReplacementPatches_(e[sg].base_,n,t.patches_,t.inversePatches_)):n=aE(t,e,[]),MT(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),n!==jK?n:void 0}function aE(n,t,e){if(eA(t))return t;const r=t[sg];if(!r)return oE(t,(i,a)=>X5(n,r,t,i,a,e)),t;if(r.scope_!==n)return t;if(!r.modified_)return sE(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let a=i,s=!1;r.type_===3&&(a=new Set(i),i.clear(),s=!0),oE(a,(c,f)=>X5(n,r,i,c,f,e,s)),sE(n,i,!1),e&&n.patches_&&Ay("Patches").generatePatches_(r,e,n.patches_,n.inversePatches_)}return r.copy_}function X5(n,t,e,r,i,a,s){if(Lw(i)){const c=aE(n,i,a&&t&&t.type_!==3&&!AT(t.assigned_,r)?a.concat(r):void 0);if(zK(e,r,c),!Lw(c))return;n.canAutoFreeze_=!1}else s&&e.add(i);if(Ey(i)&&!eA(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;aE(n,i),t&&t.scope_.parent_||typeof r=="symbol"||!Object.prototype.propertyIsEnumerable.call(e,r)||sE(n,i)}}function sE(n,t,e=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&$N(t,e)}var PT={get(n,t){if(t===sg)return n;const e=U0(n);if(!AT(e,t))return function(i,a,s){var f;const c=J5(a,s);return c?"value"in c?c.value:(f=c.get)==null?void 0:f.call(i.draft_):void 0}(n,e,t);const r=e[t];return n.finalized_||!Ey(r)?r:r===lM(n.base_,t)?(cM(n),n.copy_[t]=OT(r,n)):r},has:(n,t)=>t in U0(n),ownKeys:n=>Reflect.ownKeys(U0(n)),set(n,t,e){const r=J5(U0(n),t);if(r!=null&&r.set)return r.set.call(n.draft_,e),!0;if(!n.modified_){const s=lM(U0(n),t),c=s==null?void 0:s[sg];if(c&&c.base_===e)return n.copy_[t]=e,n.assigned_[t]=!1,!0;if(((i=e)===(a=s)?i!==0||1/i==1/a:i!=i&&a!=a)&&(e!==void 0||AT(n.base_,t)))return!0;cM(n),TT(n)}var i,a;return n.copy_[t]===e&&(e!==void 0||t in n.copy_)||Number.isNaN(e)&&Number.isNaN(n.copy_[t])||(n.copy_[t]=e,n.assigned_[t]=!0),!0},deleteProperty:(n,t)=>(lM(n.base_,t)!==void 0||t in n.base_?(n.assigned_[t]=!1,cM(n),TT(n)):delete n.assigned_[t],n.copy_&&delete n.copy_[t],!0),getOwnPropertyDescriptor(n,t){const e=U0(n),r=Reflect.getOwnPropertyDescriptor(e,t);return r&&{writable:!0,configurable:n.type_!==1||t!=="length",enumerable:r.enumerable,value:e[t]}},defineProperty(){Yg(11)},getPrototypeOf:n=>sb(n.base_),setPrototypeOf(){Yg(12)}},ux={};function lM(n,t){const e=n[sg];return(e?U0(e):n)[t]}function J5(n,t){if(!(t in n))return;let e=sb(n);for(;e;){const r=Object.getOwnPropertyDescriptor(e,t);if(r)return r;e=sb(e)}}function TT(n){n.modified_||(n.modified_=!0,n.parent_&&TT(n.parent_))}function cM(n){n.copy_||(n.copy_=kT(n.base_,n.scope_.immer_.useStrictShallowCopy_))}function OT(n,t){const e=ZE(n)?Ay("MapSet").proxyMap_(n,t):tA(n)?Ay("MapSet").proxySet_(n,t):function(r,i){const a=Array.isArray(r),s={type_:a?1:0,scope_:i?i.scope_:q5(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let c=s,f=PT;a&&(c=[s],f=ux);const{revoke:d,proxy:h}=Proxy.revocable(c,f);return s.draft_=h,s.revoke_=d,h}(n,t);return(t?t.scope_:q5()).drafts_.push(e),e}function UK(n){if(!Ey(n)||eA(n))return n;const t=n[sg];let e;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,e=kT(n,t.scope_.immer_.useStrictShallowCopy_)}else e=kT(n,!0);return oE(e,(r,i)=>{zK(e,r,UK(i))}),t&&(t.finalized_=!1),e}oE(PT,(n,t)=>{ux[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ux.deleteProperty=function(n,t){return ux.set.call(this,n,t,void 0)},ux.set=function(n,t,e){return PT.set.call(this,n[0],t,e,n[0])};var Yd=new class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,r)=>{if(typeof t=="function"&&typeof e!="function"){const a=e;e=t;const s=this;return function(c=a,...f){return s.produce(c,d=>e.call(this,d,...f))}}let i;if(typeof e!="function"&&Yg(6),r!==void 0&&typeof r!="function"&&Yg(7),Ey(t)){const a=G5(this),s=OT(t,void 0);let c=!0;try{i=e(s),c=!1}finally{c?MT(a):FT(a)}return K5(a,r),Y5(i,a)}if(!t||typeof t!="object"){if(i=e(t),i===void 0&&(i=t),i===jK&&(i=void 0),this.autoFreeze_&&$N(i,!0),r){const a=[],s=[];Ay("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}Yg(1,t)},this.produceWithPatches=(t,e)=>{if(typeof t=="function")return(a,...s)=>this.produceWithPatches(a,c=>t(c,...s));let r,i;return[this.produce(t,e,(a,s)=>{r=a,i=s}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Ey(n)||Yg(8),Lw(n)&&(n=function(r){return Lw(r)||Yg(10,r),UK(r)}(n));const t=G5(this),e=OT(n,void 0);return e[sg].isManual_=!0,FT(t),e}finishDraft(n,t){const e=n&&n[sg];e&&e.isManual_||Yg(9);const{scope_:r}=e;return K5(r,t),Y5(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,t){let e;for(e=t.length-1;e>=0;e--){const i=t[e];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}e>-1&&(t=t.slice(e+1));const r=Ay("Patches").applyPatches_;return Lw(n)?r(n,t):this.produce(n,i=>r(i,t))}},Pht=Yd.produce;function Q5(n,t){var e=t.pinId,r=!1;for(var i in n.signalData){var a=n.signalData[i],s=a.pinIds.indexOf(e);if(s!==-1){a.pinIds.splice(s,1),delete a.pinTimes[e],delete a.pinValues[e],a.type==="continuous"&&delete a.curves[e],r=!0;break}}if(!r)throw new Error("Pin with id ".concat(e," not found"));n.orgData.pinIds=n.orgData.pinIds.filter(function(c){return c!==e}),delete n.orgData.signalIdByPinId[e]}Yd.produceWithPatches.bind(Yd),Yd.setAutoFreeze.bind(Yd),Yd.setUseStrictShallowCopy.bind(Yd),Yd.applyPatches.bind(Yd),Yd.createDraft.bind(Yd),Yd.finishDraft.bind(Yd);var Tht={addPin:function(n,t){var e=t.signalId,r=t.pinId,i=t.pinTime,a=t.pinValue,s=t.functionString,c=n.signalData[e];if(!c)throw new Error("Signal with id ".concat(e," not found"));var f=c.type;if(f==="continuous"&&typeof a!="number")throw new Error("Pin value must be a number for continuous signals");if(f==="discrete"&&typeof a!="string")throw new Error("Pin value must be a string for discrete signals");for(var d in n.signalData)if(n.signalData[d].pinIds.includes(r))throw new Error("Pin with id ".concat(r," already exists"));if(Object.values(c.pinTimes).includes(i))throw new Error("Pin time must be unique within the signal");var h=n.timelineData.numberOfFrames;if(i<0||i>h)throw new Error("Pin time must be between 0 and ".concat(h));if(f==="continuous"){var m=c.range,y=m[0],w=m[1];if(a<y||a>w)throw new Error("Pin value must be between ".concat(y," and ").concat(w));if(!s)throw new Error("Curve is required for continuous signals")}var C=c.pinIds;if(C.length===0)c.pinIds.push(r);else{var k=C.findIndex(function(M){return c.pinTimes[M]>=i});k===-1&&(k=C.length),c.pinIds.splice(k,0,r)}c.pinTimes[r]=i,c.pinValues[r]=a,f==="continuous"&&(c.curves[r]=s),n.orgData.pinIds.push(r),n.orgData.signalIdByPinId[r]=e},deletePin:Q5,updatePinTime:function(n,t){var e=t.pinId,r=t.pinTime,i=n.timelineData.numberOfFrames;if(r<0||r>i)throw new Error("Pin time must be between 0 and ".concat(i));var a=!1,s=function(f){var d=n.signalData[f];if(d.pinIds.includes(e)){d.pinTimes[e]=r;var h=d.pinIds,m=h.indexOf(e);h.splice(m,1);var y=h.findIndex(function(w){return d.pinTimes[w]>=r});return y===-1&&(y=h.length),h.splice(y,0,e),a=!0,"break"}};for(var c in n.signalData)if(s(c)==="break")break;if(!a)throw new Error("Pin with id ".concat(e," not found"))},updatePinValue:function(n,t){var e=t.pinId,r=t.pinValue,i=!1;for(var a in n.signalData){var s=n.signalData[a];if(s.pinIds.includes(e)){if(s.type==="continuous"&&typeof r!="number")throw new Error("Pin value must be a number for continuous signals");if(s.type==="discrete"&&typeof r!="string")throw new Error("Pin value must be a string for discrete signals");if(s.type==="continuous"){var c=s.range,f=c[0],d=c[1];if(r<f||r>d)throw new Error("Pin value must be between ".concat(f," and ").concat(d))}s.pinValues[e]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(e," not found"))},updatePins:function(n,t){for(var e=function(a){var s=a.pinId,c=a.pinTime,f=a.pinValue,d=a.functionString,h=n.orgData.signalIdByPinId[s];if(!h)throw new Error("Pin with id ".concat(s," not found"));var m=n.signalData[h];if(m.type==="continuous"&&typeof f!="number")throw new Error("Pin value must be a number for continuous signals");if(m.type==="discrete"&&typeof f!="string")throw new Error("Pin value must be a string for discrete signals");if(m.type==="continuous"){var y=m.range,w=y[0],C=y[1];if(f<w||f>C)throw new Error("Pin value must be between ".concat(w," and ").concat(C));if(!d)throw new Error("Curve is required for continuous signals")}m.pinTimes[s]=c,m.pinValues[s]=f;var k=m.pinIds,M=k.indexOf(s);k.splice(M,1);var N=k.findIndex(function(B){return m.pinTimes[B]>=c});N===-1&&(N=k.length),k.splice(N,0,s),m.type==="continuous"&&(m.curves[s]=d)},r=0,i=t.pins;r<i.length;r++)e(i[r])},updateCurve:function(n,t){var e=t.pinId,r=t.functionString,i=!1;for(var a in n.signalData){var s=n.signalData[a];if(s.type!=="discrete"&&s.pinIds.includes(e)){s.curves[e]=r,i=!0;break}}if(!i)throw new Error("Pin with id ".concat(e," not found"))},createSignal:function(n,t){var e,r=t.signalId,i=t.signalType,a=t.signalName,s=t.range;if(n.signalData[r])throw new Error("Signal with id ".concat(r," already exists"));if(i!=="continuous"&&i!=="discrete")throw new Error("Signal type must be continuous or discrete");if(i==="continuous"){if(!s)throw new Error("Range is required for continuous signals");if(s[0]>=s[1])throw new Error("Min value must be less than max value");e={id:r,type:i,range:s,pinIds:[],pinTimes:{},pinValues:{},curves:{}}}i==="discrete"&&(e={id:r,type:i,pinIds:[],pinTimes:{},pinValues:{}}),n.signalData[r]=e,n.orgData.signalIds.push(r),n.orgData.signalNames[r]=a,n.orgData.signalTypes[r]=i,n.orgData.activeSignalIds.push(r)},deleteSignal:function(n,t){var e=t.signalId;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));delete n.signalData[e],n.orgData.signalIds=n.orgData.signalIds.filter(function(r){return r!==e}),delete n.orgData.signalNames[e],n.orgData.activeSignalIds=n.orgData.activeSignalIds.filter(function(r){return r!==e})},updateSignalName:function(n,t){var e=t.signalId,r=t.signalName;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));n.orgData.signalNames[e]=r},updateSignalRange:function(n,t){var e=t.signalId,r=t.range;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));if(n.signalData[e].type!=="continuous")throw new Error("Range can only be updated for continuous signals");if(r[0]>=r[1])throw new Error("Min value must be less than max value");n.signalData[e].range=r},updateSignalIndex:function(n,t){var e=t.signalId,r=t.index,i=n.orgData.signalIds,a=i.indexOf(e);if(a===-1)throw new Error("Signal with id ".concat(e," not found"));i.splice(a,1),i.splice(r,0,e)},updateSignalActiveStatus:function(n,t){var e=t.signalId,r=t.active;if(!n.signalData[e])throw new Error("Signal with id ".concat(e," not found"));var i=n.orgData.activeSignalIds,a=i.indexOf(e);r&&a===-1&&i.push(e),r||a===-1||i.splice(a,1)},updateFramesPerSecond:function(n,t){var e=t.framesPerSecond;if(e<=0)throw new Error("Frames per second must be greater than 0");n.timelineData.framesPerSecond=e},updatePlayheadPosition:function(n,t){var e=t.playheadPosition;if(e<0||e>n.timelineData.numberOfFrames)throw new Error("Playhead position must be between 0 and ".concat(n.timelineData.numberOfFrames));n.timelineData.playheadPosition=e},updateNumberOfFrames:function(n,t){var e=t.numberOfFrames;if(e<=0)throw new Error("Number of frames must be greater than 0");for(var r in n.timelineData.numberOfFrames=e,n.signalData)for(var i=n.signalData[r],a=0,s=i.pinIds;a<s.length;a++){var c=s[a];i.pinTimes[c]>e&&Q5(n,{type:"deletePin",pinId:c})}},updateProjectName:function(n,t){var e=t.projectName;n.metaData.name=e},updateFocusRange:function(n,t){var e=t.focusRange,r=e[0],i=e[1];if(r<0||i>n.timelineData.numberOfFrames||r>=i)throw new Error("Invalid focus range");n.timelineData.focusRange=e},updateCurveTemplate:function(n,t){var e=t.curveId,r=t.functionString;if(!n.templateData[e])throw new Error("Curve template with id ".concat(e," not found"));n.templateData[e]=r},addCurveTemplate:function(n,t){var e=t.curveId,r=t.functionString;if(n.templateData[e])throw new Error("Curve template with id ".concat(e," already exists"));n.templateData[e]=r},deleteCurveTemplate:function(n,t){var e=t.curveId;if(!n.templateData[e])throw new Error("Curve template with id ".concat(e," not found"));delete n.templateData[e]}};function Z5(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}var Oht={type:"saveAsNamedState",namedState:"commit"},Nht={type:"goToNamedState",namedState:"commit"};function aw(n,t,e,r,i){return{type:"addPin",signalId:n,pinId:t,pinTime:e,pinValue:r,functionString:i}}function t7(n,t){var e=n(),r=Object.keys(e.signalData).find(function(f){var d;return(d=e.signalData[f])===null||d===void 0?void 0:d.pinIds.includes(t)});if(!r)throw new Error("Pin not found");var i=e.signalData[r].type,a=e.signalData[r].pinTimes[t],s=e.signalData[r].pinValues[t],c=i==="continuous"?e.signalData[r].curves[t]:void 0;return{type:"addNextState",forward:[{type:"deletePin",pinId:t}],backward:[aw(r,t,a,s,c)]}}var e7=Sht,Iht=Eht,fM=function(t,e){return Pht(t,function(r){for(var i=0;i<e.length;i++){var a=e[i];(0,Tht[a.type])(r,a)}})},Bht=function(){function n(t,e,r,i){if(e){if(!r&&!i)throw new Error("Project or worm must be provided to host project controller");var a=void 0;if(r&&(a=e7.fromProject({dispatch:t,projectTransformer:fM},r)).worm.saveAsNamedState("commit"),i&&(a=e7.fromSerializedWorm({dispatch:t,projectTransformer:fM},i)),!a)throw new Error("Project node not created");this.projectNode=a,this.connectToHost=function(){throw new Error("Host project controller cannot connect to host")}}else{this.projectNode=new Iht({dispatch:t,projectTransformer:fM});var s=this.projectNode.requestProject.bind(this.projectNode);this.connectToHost=s}}return n.Host=function(t,e){return new n(t,!0,e)},n.HostFromProject=function(t,e){return new n(t,!0,e)},n.prototype.serializeWorm=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");if(!this.projectNode.worm)throw new Error("Project node worm not found");return this.projectNode.worm.serialize()},n.HostFromSerializedWorm=function(t,e){return new n(t,!0,void 0,e)},n.Client=function(t){return new n(t,!1,void 0)},n.prototype.receive=function(t){this.projectNode.receive(t)},Object.defineProperty(n.prototype,"projectTools",{get:function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");var t=this.projectNode.pushUpdate.bind(this.projectNode),e=this.projectNode.getProject.bind(this.projectNode),r=this.projectNode.pushCommand.bind(this.projectNode);return this.projectNode.pushCommands.bind(this.projectNode),function(i,a,s,c){function f(){a(function(){return Nht})}function d(){a(function(){return Oht})}return{returnToLastCommit:function(){f()},pushUpdate:i,addPinContinuous:function(h,m,y,w,C,k){k&&f(),a(function(){var M=c().signalData[h],N=M.pinTimes,B=M.pinIds.findIndex(function(V){return N[V]===y}),L=[];B!==-1&&L.push({type:"deletePin",pinId:M.pinIds[B]}),L.push(aw(h,m,y,w,C));var z=[];if(z.push({type:"deletePin",pinId:m}),B!==-1){var q=M.pinIds[B];z.push(aw(h,q,M.pinTimes[q],M.pinValues[q],M.curves[q]))}return{type:"addNextState",forward:L,backward:z}}),k&&(d(),i())},addPinDiscrete:function(h,m,y,w,C){C&&f(),a(function(){var k=c().signalData[h],M=k.pinTimes,N=k.pinIds.findIndex(function(q){return M[q]===y}),B=[];N!==-1&&B.push({type:"deletePin",pinId:k.pinIds[N]}),B.push(aw(h,m,y,w));var L=[];if(L.push({type:"deletePin",pinId:m}),N!==-1){var z=k.pinIds[N];L.push(aw(h,z,k.pinTimes[z],k.pinValues[z]))}return{type:"addNextState",forward:B,backward:L}}),C&&(d(),i())},deletePin:function(h){f(),a(function(){return t7(c,h)}),d(),i()},deletePins:function(h){f(),h.forEach(function(m){a(function(){return t7(c,m)})}),d(),i()},updatePins:function(h,m){m&&f();var y=c(),w={type:"updatePins",pins:[]},C={type:"updatePins",pins:[]};h.forEach(function(k){var M=k.pinId,N=y.orgData.signalIdByPinId[M],B=k.pinTime,L=k.pinValue,z=k.pinType==="continuous"?k.functionString:void 0,q=y.signalData[N].pinTimes[M],V=y.signalData[N].pinValues[M],X=k.pinType==="continuous"?y.signalData[N].curves[M]:void 0,nt={pinId:M,pinTime:B??q,pinValue:L??V,functionString:z??X},it={pinId:M,pinTime:q,pinValue:V,functionString:X};w.pins.push(nt),C.pins.push(it)}),a(function(){return{type:"addNextState",forward:[w],backward:[C]}}),m&&d(),i()},updateCurve:function(h,m){f(),a(function(){var y=c(),w=Object.keys(y.signalData).find(function(C){var k;return(k=y.signalData[C])===null||k===void 0?void 0:k.pinIds.includes(h)});if(!w)throw new Error("Pin not found");if(y.signalData[w].type==="discrete")throw new Error("Cannot update curve of discrete signal");return{type:"addNextState",forward:[{type:"updateCurve",pinId:h,functionString:m}],backward:[{type:"updateCurve",pinId:h,functionString:y.signalData[w].curves[h]}]}}),d(),i()},createSignal:function(h,m,y,w){f(),a(function(){return{type:"addNextState",forward:[{type:"createSignal",signalId:h,signalType:m,signalName:y,range:w}],backward:[{type:"deleteSignal",signalId:h}]}}),d(),i()},duplicateSignal:function(h){f();var m=Z5();a(function(){var y=c(),w=y.signalData[h];if(!w)throw new Error("Signal not found");var C=y.orgData.signalNames[h]+"_copy",k=w.type==="continuous"?w.range:void 0;return{type:"addNextState",forward:[{type:"createSignal",signalId:m,signalType:w.type,signalName:C,range:k}],backward:[{type:"deleteSignal",signalId:m}]}}),a(function(){var y=c(),w=y.signalData[h].pinIds,C=y.signalData[h].type,k=w.map(function(M){var N,B=y.signalData[h].pinTimes[M],L=y.signalData[h].pinValues[M];return C==="continuous"&&(N=y.signalData[h].curves[M]),{pinTime:B,pinValue:L,functionString:N,pinId:Z5()}});return{type:"addNextState",forward:k.map(function(M){return aw(m,M.pinId,M.pinTime,M.pinValue,M.functionString)}),backward:k.map(function(M){return{type:"deletePin",pinId:M.pinId}})}}),d(),i()},deleteSignal:function(h){f(),a(function(){var m=c(),y=m.signalData[h];if(!y)throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"deleteSignal",signalId:h}],backward:[{type:"createSignal",signalId:h,signalType:y.type,signalName:m.orgData.signalNames[h],range:y.type==="continuous"?y.range:void 0}]}}),d(),i()},updateSignalName:function(h,m){f(),a(function(){var y=c();if(!y.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalName",signalId:h,signalName:m}],backward:[{type:"updateSignalName",signalId:h,signalName:y.orgData.signalNames[h]}]}}),d(),i()},updateSignalRange:function(h,m){f(),a(function(){var y=c().signalData[h];if(!y)throw new Error("Signal not found");if(y.type==="discrete")throw new Error("Cannot update range of discrete signal");return{type:"addNextState",forward:[{type:"updateSignalRange",signalId:h,range:m}],backward:[{type:"updateSignalRange",signalId:h,range:y.range}]}}),d(),i()},updateSignalIndex:function(h,m,y){y&&f(),a(function(){var w=c();if(!w.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalIndex",signalId:h,index:m}],backward:[{type:"updateSignalIndex",signalId:h,index:w.orgData.activeSignalIds.indexOf(h)}]}}),y&&d(),i()},updateSignalActiveStatus:function(h,m){f(),a(function(){var y=c();if(!y.signalData[h])throw new Error("Signal not found");return{type:"addNextState",forward:[{type:"updateSignalActiveStatus",signalId:h,active:m}],backward:[{type:"updateSignalActiveStatus",signalId:h,active:y.orgData.activeSignalIds.includes(h)}]}}),d(),i()},updateFramesPerSecond:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateFramesPerSecond",framesPerSecond:h}],backward:[{type:"updateFramesPerSecond",framesPerSecond:m.timelineData.framesPerSecond}]}}),d(),i()},updatePlayheadPosition:function(h,m){m&&f(),a(function(){var y=c();return{type:"addNextState",forward:[{type:"updatePlayheadPosition",playheadPosition:h}],backward:[{type:"updatePlayheadPosition",playheadPosition:y.timelineData.playheadPosition}]}}),m&&d(),i()},updateFocusRange:function(h){var m=h[0],y=h[1];f(),a(function(){var w=c();return{type:"addNextState",forward:[{type:"updateFocusRange",focusRange:[m,y]}],backward:[{type:"updateFocusRange",focusRange:w.timelineData.focusRange}]}}),d(),i()},updateNumberOfFrames:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateNumberOfFrames",numberOfFrames:h}],backward:[{type:"updateNumberOfFrames",numberOfFrames:m.timelineData.numberOfFrames}]}}),d(),i()},updateProjectName:function(h){f(),a(function(){var m=c();return{type:"addNextState",forward:[{type:"updateProjectName",projectName:h}],backward:[{type:"updateProjectName",projectName:m.metaData.name}]}}),d(),i()},undo:function(){f(),a(function(){return{type:"previous"}}),d(),i()},redo:function(){f(),a(function(){return{type:"next"}}),d(),i()},addCurveTemplate:function(h,m){a(function(){return{type:"appendToCurrentState",forward:[{type:"addCurveTemplate",curveId:h,functionString:m}],backward:[{type:"deleteCurveTemplate",curveId:h}]}}),i()},deleteCurveTemplate:function(h){a(function(){return{type:"appendToCurrentState",forward:[{type:"deleteCurveTemplate",curveId:h}],backward:[{type:"addCurveTemplate",curveId:h,functionString:c().templateData[h]}]}}),i()},updateCurveTemplate:function(h,m){a(function(){return{type:"appendToCurrentState",forward:[{type:"updateCurveTemplate",curveId:h,functionString:m}],backward:[{type:"updateCurveTemplate",curveId:h,functionString:c().templateData[h]}]}}),i()}}}(t,r,0,e)},enumerable:!1,configurable:!0}),n.prototype.getProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");return this.projectNode.getProject()},n.prototype.prettyPrintProject=function(){if(!this.projectNode.initialized)throw new Error("Project not initialized");console.log(JSON.stringify(this.projectNode.getProject(),null,2))},n.prototype.subscribeToProjectUpdates=function(t){return this.projectNode.subscribeToProjectUpdates(t)},n.prototype.interpolateSignalValueAtTime=function(t,e){if(!this.projectNode.initialized)throw new Error("Project not initialized");var r=this.projectNode.getProject();return $K(r,t,e)},n}(),Rht=Object.freeze({__proto__:null,dispatchProjectEvent:function(t,e,r){return r===void 0&&(r="default"),function(i){var a={type:"projectNodeEvent",event:i,channel:r};t.postMessage(a,e)}},subscribeToProjectEvents:function(t,e){return e===void 0&&(e="default"),function(r){function i(a){if(a.origin===t&&a.data.type==="projectNodeEvent"&&a.data.channel===e){var s=a.data.event;r(s)}}return window.addEventListener("message",i),function(){return window.removeEventListener("message",i)}}}}),jht=Object.freeze({__proto__:null,dispatchProjectEvent:function(n){return n===void 0&&(n="default"),function(t){var e=new CustomEvent("projectNodeEvent",{detail:{event:t,channel:n}});window.dispatchEvent(e)}},subscribeToProjectEvents:function(n){return n===void 0&&(n="default"),function(t){function e(r){if(r.type==="projectNodeEvent"&&r.detail.channel===n){var i=r.detail.event;t(i)}}return window.addEventListener("projectNodeEvent",e),function(){return window.removeEventListener("projectNodeEvent",e)}}}}),Lht=Object.freeze({__proto__:null,CustomEventAPI:jht,PinsAndCurvesProjectController:Bht,PostMessageAPI:Rht});function zht(n,t,e){return n+(t-n)*e}function n7(n){return n*n*n}function r7(n){return 1-Math.pow(1-n,3)}function i7(n){return n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2}function o7(n){var t=2*Math.PI/3;return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((10*n-.75)*t)+1}var b_={},a7={},s7=1e-6,Uht=function(n,t,e,r){var i=n.signalData[t],a=Object.entries(i.pinTimes).sort(function(c,f){return c[1]-f[1]}).find(function(c){return c[0],c[1]>=e});if(a===void 0)return"END VALUE";var s=a[0];return a[1],i.pinValues[s]},$K=function(n,t,e,r){if(r===void 0&&(r=0),++r>1e3)throw new Error("Exceeded maximum iteration count");var i=n.timelineData.numberOfFrames;if(e<0||e>i)throw new Error("Time out of range");var a=n.signalData[t].type;if(a==="discrete")return[Uht(n,t,e),[]];if(a==="continuous")return function(s,c,f,d){var h=s.signalData[c],m=h.range,y=m[0],w=m[1],C=Object.entries(h.pinTimes).sort(function(mt,vt){return mt[1]-vt[1]}),k=C.find(function(mt){return mt[0],mt[1]>=f});if(k===void 0)return[y,[]];var M,N=k,B=N[0],L=N[1],z=h.pinValues[B],q=h.curves[B],V=y,X=0,nt=C.findIndex(function(mt){var vt=mt[0];return mt[1],vt===B});if(nt>0){var it=C[nt-1],ct=it[0],ft=it[1];V=h.pinValues[ct],X=ft}var gt=a7[c+B];if(gt===void 0||gt.functionString!==q){var Ct=`
            let nextPinTime = context.nextPinTime;
            let nextPinValue = context.nextPinValue;
            let previousPinTime = context.previousPinTime;
            let previousPinValue = context.previousPinValue;
            let relativeTime = context.relativeTime;
            let frame = context.frame;
            let numberOfFrames = context.numberOfFrames;
            let framesPerSecond = context.framesPerSecond;

            let interpolateSignalValue = context.interpolateSignalValue;

            let easyLinear = context.easyLinear;
            let easyEaseIn = context.easyEaseIn;
            let easyEaseOut = context.easyEaseOut;
            let easyStep = context.easyStep;
            let easyEase = context.easyEase;
            let easyEaseOutElastic = context.easyEaseOutElastic;


            `.concat(q);M=new Function("context","templates",Ct),a7[c+B]={functionString:q,cachedFunction:M}}else M=gt.cachedFunction;var kt=(f-X)/(L!==X?L-X:1),Tt=y,At=[];try{var Zt=function(mt){var vt=mt.nextPinTime,Lt=mt.project,ee=mt.range,pe=mt.pinId,ve=mt.frame,Oe=mt.numberOfFrames,qe=mt.framesPerSecond,He=mt.nextPinValue,wn=mt.previousPinTime,nn=mt.previousPinValue,cr=mt.relativeTime,bi=mt.interpolateSignalValueAtTime,Vt=ee[0],rt=ee[1];return{nextPinTime:vt,nextPinValue:He,project:Lt,previousPinTime:wn,previousPinValue:nn,relativeTime:cr,frame:ve,pinId:pe,numberOfFrames:Oe,framesPerSecond:qe,maxValue:rt,minValue:Vt,linearInterpolation:zht,easeInCubic:n7,easeOutCubic:r7,easeInOutCubic:i7,easeOutElastic:o7,easyLinear:function(){return cr*(He-nn)+nn},easyStep:function(){return He},easyEaseIn:function(){return nn+n7(cr)*(He-nn)},easyEaseOut:function(){return nn+r7(cr)*(He-nn)},easyEase:function(){return nn+i7(cr)*(He-nn)},easyEaseOutElastic:function(){return nn+o7(cr)*(He-nn)},interpolateSignalValueAtTime:bi}}({nextPinTime:L,nextPinValue:z,previousPinTime:X,project:s,previousPinValue:V,relativeTime:kt,pinId:B,frame:f,range:[y,w],numberOfFrames:s.timelineData.numberOfFrames,framesPerSecond:s.timelineData.framesPerSecond,interpolateSignalValueAtTime:function(mt,vt){var Lt=s.orgData.signalIds.find(function(Oe){return s.orgData.signalNames[Oe]===mt});if(Lt===void 0)throw new Error("Signal not found");var ee=$K(s,Lt,vt,d),pe=ee[0],ve=ee[1];if(typeof pe=="string")throw new Error("Interpolation function returned string");return At.push.apply(At,ve),pe}}),_t=function(mt){var vt={};return Object.entries(mt.templateData).forEach(function(Lt){var ee=Lt[0],pe=Lt[1];if(b_[ee]!==void 0){if(b_[ee].functionString===pe){var ve=b_[ee].cachedFunction;return void(vt[ee]=ve)}}else ve=new Function("return ".concat(pe,";"))(),vt[ee]=ve,b_[ee]={functionString:pe,cachedFunction:ve}}),vt}(s);Tt=M(Zt,_t)}catch(mt){At.push({signalId:c,frame:f,error:mt.message})}if(isNaN(Tt)&&(Tt=y,At.push({signalId:c,frame:f,error:"Interpolated value is NaN"})),Tt<y&&(Tt=y,Math.abs(Tt-y)>s7&&At.push({signalId:c,frame:f,error:"Interpolated value below minimum"})),Tt>w){var Et=Tt;Tt=w,Math.abs(Et-w)>s7&&At.push({signalId:c,frame:f,error:"Interpolated value above maximum: "+Et})}return[Tt,At]}(n,t,e,r);throw new Error("Invalid signal type")};function ey(n,t){return[n[0]+t[0],n[1]+t[1]]}function l0(n,t){return[n[0]-t[0],n[1]-t[1]]}function hM(n,t){return[n[0]*t[0],n[1]*t[1]]}function ED(n){return Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2))}function c0(n,t){return[n[0]*t,n[1]*t]}function qy(n,t){var e=[n[0][0],n[0][1],n[2][0],n[2][1]],r=e[0],i=e[1],a=e[2],s=e[3],c=[t[0][0],t[0][1],t[2][0],t[2][1]];return!(r>c[2]||a<c[0]||i>c[3]||s<c[1])}var Vf=function(){function n(t,e,r){t===void 0&&(t=[0,0]),e===void 0&&(e=0),r===void 0&&(r=0),this._o=t,this._w=e,this._h=r}return Object.defineProperty(n.prototype,"w",{get:function(){return this._w},set:function(t){this._w=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"h",{get:function(){return this._h},set:function(t){this._h=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"o",{get:function(){return this._o},set:function(t){this._o=t},enumerable:!1,configurable:!0}),n.prototype.pointInside=function(t){var e={x:t[0],y:t[1]},r=e.x,i=e.y,a={oX:this.o[0],oY:this.o[1]},s=a.oX,c=a.oY;return!(r<s||r>s+this.w||i<c||i>c+this.h)},n.prototype.clone=function(){return new n(Ug([],this.o),this.w,this.h)},n.prototype.getBoundingBox=function(){return[this.o,ey(this.o,[this.w,0]),ey(this.o,[this.w,this.h]),ey(this.o,[0,this.h])]},n.prototype.getCenter=function(){return ey(this.o,[this.w/2,this.h/2])},n}(),gv=function(n){function t(){var e=n.call(this)||this;return e.layer=0,e.children=[],e._isPrimaryCamera=!1,e._needsUpdate=!1,e._needsUpdate_root=!1,e.updateWhenCameraChanges=!1,e.state=void 0,e.context={},e.windowDidMountPrimitiveIsRunning=!1,e.childIndex=0,e.isCanvasRoot=!1,e.props={},e.globalPositioning=!1,e}return mh(t,n),Object.defineProperty(t.prototype,"_cameraSnapshot",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_canvas",{get:function(){var e;if(!this._root)throw new Error("Root not connected");return(e=this._root)===null||e===void 0?void 0:e.canvas},enumerable:!1,configurable:!0}),t.prototype.setAsPrimaryCamera=function(){var e;(e=this._root)===null||e===void 0||e.installCamera(this)},t.prototype.setState=function(e){var r,i;if(this.state===e)throw new Error("Cannot set state to previous state. ");this.windowDidMountPrimitiveIsRunning?this.state=e:(this._isPrimaryCamera&&((r=this._root)===null||r===void 0||r.windows.forEach(function(a){a.updateWhenCameraChanges&&(a._needsUpdate=!0)})),(i=this._root)===null||i===void 0||i.scheduleStateUpdate(this,e))},t.prototype.setContext=function(e,r){var i,a;this.windowDidMountPrimitiveIsRunning?this.context[e]=r:(this._isPrimaryCamera&&((i=this._root)===null||i===void 0||i.windows.forEach(function(s){s.updateWhenCameraChanges&&(s._needsUpdate=!0)})),this.context[e]=r,(a=this._root)===null||a===void 0||a.scheduleContextUpdate(this,e,r))},t.prototype.windowDidMountPrimitive=function(e){this.windowDidMountPrimitiveIsRunning=!0,this.windowDidMount(e),this.windowDidMountPrimitiveIsRunning=!1},t.prototype.windowDidMount=function(e){},t.prototype.windowDidUpdate=function(e){},t.prototype.cameraDidUpdate=function(){},t.prototype.windowWillUnmount=function(){},t.prototype.getBoxPrimitive=function(){if(this._boxSnapshot)return this._boxSnapshot;var e=this.getBox();return this._boxSnapshot=e,e},t.prototype.getBox=function(){return new Vf([0,0],0,0)},Object.defineProperty(t.prototype,"o",{get:function(){return this.getBoxPrimitive().o},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"w",{get:function(){return this.getBoxPrimitive().w},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.getBoxPrimitive().h},enumerable:!1,configurable:!0}),t.prototype.cameraPassUpdateSelf=function(){var e,r,i=this;this._isPrimaryCamera?(e=this._root)===null||e===void 0||e.windows.forEach(function(a){var s;(s=i._root)===null||s===void 0||s.taintLayer(a.layer)}):(this._needsUpdate&&(this._boxSnapshot=void 0,(r=this._root)===null||r===void 0||r.taintLayer(this.layer)),this.cameraPassUpdateChildren(),this._needsUpdate&&this.windowDidUpdate(gu({},this.props)))},t.prototype.cameraPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(c){return c(e)}),i=this.children.filter(function(c){return!r.includes(c)}),a=r.filter(function(c){return!e.children.includes(c)});this.children=r,i.forEach(function(c){return c.windowWillUnmount()}),a.forEach(function(c){return c.windowDidMountPrimitive(c.props)});var s=this.children.find(function(c){return c._needsUpdate});this.children.forEach(function(c){c._needsUpdate=!0}),s&&s.cameraPassUpdateSelf()},t.prototype.regularPassUpdateSelf=function(){var e;this._boxSnapshot=void 0,(e=this._root)===null||e===void 0||e.taintLayer(this.layer),this.regularPassUpdateChildren(),this.windowDidUpdate(gu({},this.props))},t.prototype.regularPassUpdateChildren=function(){var e=this;this.childIndex=0;var r=this.getChildren(this.props).map(function(s){return s(e)}),i=this.children.filter(function(s){return!r.includes(s)}),a=r.filter(function(s){return!e.children.includes(s)});this.children=r,i.forEach(function(s){return s.windowWillUnmount()}),a.forEach(function(s){s.windowDidMountPrimitive(s.props)}),this.children.forEach(function(s){s.regularPassUpdateSelf()})},t.prototype.getChildren=function(e){return[]},t.prototype.incChildIndex=function(){this.childIndex++},t.Node=function(e){var r=this,i=this.name;return function(a){if(a.isCanvasRoot){var s=void 0;return(s=new r)._root=a,s.setKey("root"),s.props=e||{},s.context=gu({},s.context),s}var c=a.childIndex;e||(e={});var f=e.key?e.key:"".concat(i,"[").concat(c,"]");return s=void 0,a.children.findIndex(function(d){return d.key===f})!==-1?s=a.children.find(function(d){return d.key===f}):((s=new r)._parent=a,s._root=a._root,s.setKey(f)),s.props=gu({},e),s.context=gu(gu({},s.context),a.context),a.incChildIndex(),s}},Object.defineProperty(t.prototype,"parentO",{get:function(){return this._parent?this._parent.globalO:[0,0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentW",{get:function(){return this._parent?this._parent.w:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parentH",{get:function(){return this._parent?this._parent.h:0},enumerable:!1,configurable:!0}),t.prototype.getChildByKey=function(e){return this.children.find(function(r){return r.key===e})},t.prototype.getBoundingBox=function(){var e=this.globalO,r=e[0],i=e[1];return[[r,i],[r+this.w,i],[r+this.w,i+this.h],[r,i+this.h]]},t.prototype.pointInside=function(e){return n.prototype.pointInside.call(this,l0(e,this.parentO))},Object.defineProperty(t.prototype,"globalO",{get:function(){if(!this._parent||this.globalPositioning)return this.o;var e=this._parent.globalO,r=e[0],i=e[1],a=this.o;return[r+a[0],i+a[1]]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalKey",{get:function(){return this._parent?this._parent.globalKey+"@"+this.key:"root"},enumerable:!1,configurable:!0}),t.prototype.getLayer=function(){return this.layer},t.prototype.setLayer=function(e){this.layer=e},t.prototype.setKey=function(e){this.key=e},Object.defineProperty(t.prototype,"displayConnected",{get:function(){return this._cameraSnapshot&&this._canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteUnit",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasO",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return[this._cameraSnapshot.o[0],this._cameraSnapshot.o[1]]},enumerable:!1,configurable:!0}),t.prototype.absoluteToCanvasMeasure=function(e){return hM(e,[this._canvas.width/this._cameraSnapshot.w,this._canvas.height/this._cameraSnapshot.h])},t.prototype.canvasToAbsoluteMeasure=function(e){return hM(e,[this._cameraSnapshot.w/this._canvas.width,this._cameraSnapshot.h/this._canvas.height])},Object.defineProperty(t.prototype,"cameraSnapshot",{get:function(){return this._cameraSnapshot},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){if(!this.displayConnected)throw new Error("Display not connected");return this._canvas},enumerable:!1,configurable:!0}),t.prototype.prepareHandlerProps=function(){var e=this.cameraSnapshot,r=this.canvas,i=this.absoluteToCanvasMeasure.bind(this),a=this.canvasToAbsoluteMeasure.bind(this),s=this.canvasUnit,c=this.absoluteUnit,f=this.canvasO;return{canvasDimensions:[r.width,r.height],absoluteToCanvasMeasure:i,canvasToAbsoluteMeasure:a,camera:e,canvasUnit:s,canvasO:f,absoluteUnit:c}},t.prototype.preparePostBoxHandlerProps=function(){var e=this,r=this._cameraSnapshot,i=this._canvas,a=function(c){var f=e.globalO,d=c[0],h=c[1],m=[f[0]+d,f[1]+h],y=m[0],w=m[1],C=r.o,k=[y-C[0],w-C[1]],M=k[1];return[k[0]*(i.width/r.w),M*(i.height/r.h)]},s=a([0,0]);return gu(gu({},this.prepareHandlerProps()),{localToCanvas:a,canvasToLocal:function(c){var f=e.globalO;return l0(ey(hM(c,[r.w/i.width,r.h/i.height]),r.o),f)},absoluteO:s})},t.prototype.prepareMouseHandlerProps=function(e,r){var i=this.preparePostBoxHandlerProps(),a=this.canvasUnit,s=a[0],c=a[1],f=this.canvasO,d=f[0],h=f[1],m=[d+e[0]*s,h+e[1]*c],y=l0(m,this.globalO),w=this.pointInside(m);return gu(gu({},i),{relativePos:y,canvasPos:e,absolutePos:m,pointInside:w,terminateEvent:r})},t.prototype.prepareWheelHandlerProps=function(e){var r=this.preparePostBoxHandlerProps();return gu(gu({},r),{terminateEvent:e})},t.prototype.renderPrimitive=function(e){if(this.render){var r=this.preparePostBoxHandlerProps();this.render(gu(gu({},r),{ctx:e}))}},t.prototype.render=function(e){},t.prototype.onMouseDownPrimitive=function(e,r,i){this.onMouseDown&&this.onMouseDown(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseDown=function(e,r){},t.prototype.onMouseMovePrimitive=function(e,r,i){this.onMouseMove&&this.onMouseMove(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseMove=function(e,r){},t.prototype.onMouseUpPrimitive=function(e,r,i){this.onMouseUp&&this.onMouseUp(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onMouseUp=function(e,r){},t.prototype.onClickPrimitive=function(e,r,i){this.onClick&&this.onClick(this.prepareMouseHandlerProps(e,r),i)},t.prototype.onClick=function(e,r){},t.prototype.onWheelPrimitive=function(e,r){this.onWheel&&this.onWheel(this.prepareWheelHandlerProps(e),r)},t.prototype.onWheel=function(e,r){},t.prototype.strokeOutline=function(e,r){e.ctx.strokeStyle=r;var i=e.absoluteO,a=e.absoluteUnit,s=i[0],c=i[1],f=a[0],d=a[1];e.ctx.strokeRect(s,c,this.w*f,this.h*d)},t}(Vf),Ub={},u7,x_,D_,C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},__={exports:{}},$ht=(u7||(u7=1,x_=__,D_=__.exports,(function(){var n,t="Expected a function",e="__lodash_hash_undefined__",r="__lodash_placeholder__",i=32,a=128,s=1/0,c=9007199254740991,f=NaN,d=4294967295,h=[["ary",a],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",i],["partialRight",64],["rearg",256]],m="[object Arguments]",y="[object Array]",w="[object Boolean]",C="[object Date]",k="[object Error]",M="[object Function]",N="[object GeneratorFunction]",B="[object Map]",L="[object Number]",z="[object Object]",q="[object Promise]",V="[object RegExp]",X="[object Set]",nt="[object String]",it="[object Symbol]",ct="[object WeakMap]",ft="[object ArrayBuffer]",gt="[object DataView]",Ct="[object Float32Array]",kt="[object Float64Array]",Tt="[object Int8Array]",At="[object Int16Array]",Zt="[object Int32Array]",_t="[object Uint8Array]",Et="[object Uint8ClampedArray]",mt="[object Uint16Array]",vt="[object Uint32Array]",Lt=/\b__p \+= '';/g,ee=/\b(__p \+=) '' \+/g,pe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,Oe=/[&<>"']/g,qe=RegExp(ve.source),He=RegExp(Oe.source),wn=/<%-([\s\S]+?)%>/g,nn=/<%([\s\S]+?)%>/g,cr=/<%=([\s\S]+?)%>/g,bi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vt=/^\w*$/,rt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(dt.source),Ot=/^\s+/,Bt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xt=/\{\n\/\* \[wrapped with (.+)\] \*/,Kt=/,? & /,ge=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,Ze=/\\(\\)?/g,Xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Se=/\w*$/,je=/^[-+]0x[0-9a-f]+$/i,rn=/^0b[01]+$/i,zi=/^\[object .+?Constructor\]$/,Yi=/^0o[0-7]+$/i,Ui=/^(?:0|[1-9]\d*)$/,xo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ai=/($^)/,us=/['\n\r\u2028\u2029\\]/g,ko="\\ud800-\\udfff",vu="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ja="\\u2700-\\u27bf",ls="a-z\\xdf-\\xf6\\xf8-\\xff",yu="A-Z\\xc0-\\xd6\\xd8-\\xde",dl="\\ufe0e\\ufe0f",Ns="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ol="["+ko+"]",gl="["+Ns+"]",Pa="["+vu+"]",ml="\\d+",wu="["+ja+"]",Ou="["+ls+"]",Ks="[^"+ko+Ns+ml+ja+ls+yu+"]",Nu="\\ud83c[\\udffb-\\udfff]",ts="[^"+ko+"]",fa="(?:\\ud83c[\\udde6-\\uddff]){2}",ba="[\\ud800-\\udbff][\\udc00-\\udfff]",ho="["+yu+"]",Iu="\\u200d",nu="(?:"+Ou+"|"+Ks+")",cs="(?:"+ho+"|"+Ks+")",nl="(?:['](?:d|ll|m|re|s|t|ve))?",Nl="(?:['](?:D|LL|M|RE|S|T|VE))?",vl="(?:"+Pa+"|"+Nu+")?",bu="["+dl+"]?",Gs=bu+vl+"(?:"+Iu+"(?:"+[ts,fa,ba].join("|")+")"+bu+vl+")*",kc="(?:"+[wu,fa,ba].join("|")+")"+Gs,hf="(?:"+[ts+Pa+"?",Pa,fa,ba,Ol].join("|")+")",Mc=RegExp("[']","g"),ln=RegExp(Pa,"g"),Vn=RegExp(Nu+"(?="+Nu+")|"+hf+Gs,"g"),hr=RegExp([ho+"?"+Ou+"+"+nl+"(?="+[gl,ho,"$"].join("|")+")",cs+"+"+Nl+"(?="+[gl,ho+nu,"$"].join("|")+")",ho+"?"+nu+"+"+nl,ho+"+"+Nl,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ml,kc].join("|"),"g"),Xi=RegExp("["+Iu+ko+vu+dl+"]"),es=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ru=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Do=-1,De={};De[Ct]=De[kt]=De[Tt]=De[At]=De[Zt]=De[_t]=De[Et]=De[mt]=De[vt]=!0,De[m]=De[y]=De[ft]=De[w]=De[gt]=De[C]=De[k]=De[M]=De[B]=De[L]=De[z]=De[V]=De[X]=De[nt]=De[ct]=!1;var be={};be[m]=be[y]=be[ft]=be[gt]=be[w]=be[C]=be[Ct]=be[kt]=be[Tt]=be[At]=be[Zt]=be[B]=be[L]=be[z]=be[V]=be[X]=be[nt]=be[it]=be[_t]=be[Et]=be[mt]=be[vt]=!0,be[k]=be[M]=be[ct]=!1;var Xr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},xa=parseFloat,tp=parseInt,Kc=typeof C_=="object"&&C_&&C_.Object===Object&&C_,Tf=typeof self=="object"&&self&&self.Object===Object&&self,ze=Kc||Tf||Function("return this")(),$i=D_&&!D_.nodeType&&D_,kr=$i&&x_&&!x_.nodeType&&x_,Fc=kr&&kr.exports===$i,Bu=Fc&&Kc.process,pr=function(){try{return kr&&kr.require&&kr.require("util").types||Bu&&Bu.binding&&Bu.binding("util")}catch{}}(),Ru=pr&&pr.isArrayBuffer,Ji=pr&&pr.isDate,qn=pr&&pr.isMap,rl=pr&&pr.isRegExp,Zc=pr&&pr.isSet,wc=pr&&pr.isTypedArray;function Mn(J,st,et){switch(et.length){case 0:return J.call(st);case 1:return J.call(st,et[0]);case 2:return J.call(st,et[0],et[1]);case 3:return J.call(st,et[0],et[1],et[2])}return J.apply(st,et)}function uh(J,st,et,pt){for(var Nt=-1,Jt=J==null?0:J.length;++Nt<Jt;){var Fe=J[Nt];st(pt,Fe,et(Fe),J)}return pt}function Bn(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt&&st(J[et],et,J)!==!1;);return J}function tf(J,st){for(var et=J==null?0:J.length;et--&&st(J[et],et,J)!==!1;);return J}function Cs(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(!st(J[et],et,J))return!1;return!0}function Br(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];st(Fe,et,J)&&(Jt[Nt++]=Fe)}return Jt}function br(J,st){return!(J==null||!J.length)&&Ii(J,st,0)>-1}function xi(J,st,et){for(var pt=-1,Nt=J==null?0:J.length;++pt<Nt;)if(et(st,J[pt]))return!0;return!1}function Be(J,st){for(var et=-1,pt=J==null?0:J.length,Nt=Array(pt);++et<pt;)Nt[et]=st(J[et],et,J);return Nt}function Er(J,st){for(var et=-1,pt=st.length,Nt=J.length;++et<pt;)J[Nt+et]=st[et];return J}function Jr(J,st,et,pt){var Nt=-1,Jt=J==null?0:J.length;for(pt&&Jt&&(et=J[++Nt]);++Nt<Jt;)et=st(et,J[Nt],Nt,J);return et}function ef(J,st,et,pt){var Nt=J==null?0:J.length;for(pt&&Nt&&(et=J[--Nt]);Nt--;)et=st(et,J[Nt],Nt,J);return et}function Is(J,st){for(var et=-1,pt=J==null?0:J.length;++et<pt;)if(st(J[et],et,J))return!0;return!1}var uc=Da("length");function ql(J,st,et){var pt;return et(J,function(Nt,Jt,Fe){if(st(Nt,Jt,Fe))return pt=Jt,!1}),pt}function jr(J,st,et,pt){for(var Nt=J.length,Jt=et+(pt?1:-1);pt?Jt--:++Jt<Nt;)if(st(J[Jt],Jt,J))return Jt;return-1}function Ii(J,st,et){return st==st?function(pt,Nt,Jt){for(var Fe=Jt-1,mn=pt.length;++Fe<mn;)if(pt[Fe]===Nt)return Fe;return-1}(J,st,et):jr(J,Bs,et)}function bc(J,st,et,pt){for(var Nt=et-1,Jt=J.length;++Nt<Jt;)if(pt(J[Nt],st))return Nt;return-1}function Bs(J){return J!=J}function xu(J,st){var et=J==null?0:J.length;return et?Ys(J,st)/et:f}function Da(J){return function(st){return st==null?n:st[J]}}function ju(J){return function(st){return J==null?n:J[st]}}function Pc(J,st,et,pt,Nt){return Nt(J,function(Jt,Fe,mn){et=pt?(pt=!1,Jt):st(et,Jt,Fe,mn)}),et}function Ys(J,st){for(var et,pt=-1,Nt=J.length;++pt<Nt;){var Jt=st(J[pt]);Jt!==n&&(et=et===n?Jt:et+Jt)}return et}function Il(J,st){for(var et=-1,pt=Array(J);++et<J;)pt[et]=st(et);return pt}function Bl(J){return J&&J.slice(0,La(J)+1).replace(Ot,"")}function Ln(J){return function(st){return J(st)}}function yl(J,st){return Be(st,function(et){return J[et]})}function fi(J,st){return J.has(st)}function wl(J,st){for(var et=-1,pt=J.length;++et<pt&&Ii(st,J[et],0)>-1;);return et}function Xs(J,st){for(var et=J.length;et--&&Ii(st,J[et],0)>-1;);return et}var Gc=ju({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),Tc=ju({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Lu(J){return"\\"+Xr[J]}function ha(J){return Xi.test(J)}function Gi(J){var st=-1,et=Array(J.size);return J.forEach(function(pt,Nt){et[++st]=[Nt,pt]}),et}function zu(J,st){return function(et){return J(st(et))}}function Di(J,st){for(var et=-1,pt=J.length,Nt=0,Jt=[];++et<pt;){var Fe=J[et];Fe!==st&&Fe!==r||(J[et]=r,Jt[Nt++]=et)}return Jt}function ns(J){var st=-1,et=Array(J.size);return J.forEach(function(pt){et[++st]=pt}),et}function Wr(J){return ha(J)?function(st){for(var et=Vn.lastIndex=0;Vn.test(st);)++et;return et}(J):uc(J)}function xr(J){return ha(J)?function(st){return st.match(Vn)||[]}(J):function(st){return st.split("")}(J)}function La(J){for(var st=J.length;st--&&Bt.test(J.charAt(st)););return st}var lc=ju({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),Co=function J(st){var et,pt=(st=st==null?ze:Co.defaults(ze.Object(),st,Co.pick(ze,ru))).Array,Nt=st.Date,Jt=st.Error,Fe=st.Function,mn=st.Math,zt=st.Object,Ne=st.RegExp,ke=st.String,Pe=st.TypeError,vr=pt.prototype,Ci=Fe.prototype,hi=zt.prototype,Ca=st["__core-js_shared__"],pi=Ci.toString,Ce=hi.hasOwnProperty,kh=0,_i=(et=/[^.]+$/.exec(Ca&&Ca.keys&&Ca.keys.IE_PROTO||""))?"Symbol(src)_1."+et:"",Rs=hi.toString,Yc=pi.call(zt),pf=ze._,lh=Ne("^"+pi.call(Ce).replace(dt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),iu=Fc?st.Buffer:n,tr=st.Symbol,js=st.Uint8Array,Rl=iu?iu.allocUnsafe:n,ea=zu(zt.getPrototypeOf,zt),Yf=zt.create,Oc=hi.propertyIsEnumerable,Uu=vr.splice,jl=tr?tr.isConcatSpreadable:n,io=tr?tr.iterator:n,Bo=tr?tr.toStringTag:n,za=function(){try{var o=si(zt,"defineProperty");return o({},"",{}),o}catch{}}(),nf=st.clearTimeout!==ze.clearTimeout&&st.clearTimeout,Xf=Nt&&Nt.now!==ze.Date.now&&Nt.now,Of=st.setTimeout!==ze.setTimeout&&st.setTimeout,Ua=mn.ceil,$u=mn.floor,ou=zt.getOwnPropertySymbols,xc=iu?iu.isBuffer:n,Nc=st.isFinite,Wh=vr.join,Lh=zu(zt.keys,zt),sn=mn.max,on=mn.min,pa=Nt.now,Du=st.parseInt,df=mn.random,xh=vr.reverse,il=si(st,"DataView"),_a=si(st,"Map"),oa=si(st,"Promise"),ii=si(st,"Set"),Ko=si(st,"WeakMap"),aa=si(zt,"create"),sa=Ko&&new Ko,Mo={},gf=so(il),bl=so(_a),cc=so(oa),rf=so(ii),Jf=so(Ko),rs=tr?tr.prototype:n,is=rs?rs.valueOf:n,Ll=rs?rs.toString:n;function P(o){if(Le(o)&&!ie(o)&&!(o instanceof ce)){if(o instanceof or)return o;if(Ce.call(o,"__wrapped__"))return Au(o)}return new or(o)}var Go=function(){function o(){}return function(u){if(!We(u))return{};if(Yf)return Yf(u);o.prototype=u;var l=new o;return o.prototype=n,l}}();function Pt(){}function or(o,u){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}function ce(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Hr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function vn(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function Fr(o){var u=-1,l=o==null?0:o.length;for(this.clear();++u<l;){var g=o[u];this.set(g[0],g[1])}}function St(o){var u=-1,l=o==null?0:o.length;for(this.__data__=new Fr;++u<l;)this.add(o[u])}function zn(o){var u=this.__data__=new vn(o);this.size=u.size}function Wu(o,u){var l=ie(o),g=!l&&Eo(o),b=!l&&!g&&Nr(o),E=!l&&!g&&!b&&xn(o),O=l||g||b||E,R=O?Il(o.length,ke):[],W=R.length;for(var A in o)!u&&!Ce.call(o,A)||O&&(A=="length"||b&&(A=="offset"||A=="parent")||E&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||ur(A,W))||R.push(A);return R}function En(o){var u=o.length;return u?o[fs(0,u-1)]:n}function Bi(o,u){return Hs(An(o),Qi(u,0,o.length))}function Kl(o){return Hs(An(o))}function da(o,u,l){(l!==n&&!Mr(o[u],l)||l===n&&!(u in o))&&Rr(o,u,l)}function Fo(o,u,l){var g=o[u];Ce.call(o,u)&&Mr(g,l)&&(l!==n||u in o)||Rr(o,u,l)}function ga(o,u){for(var l=o.length;l--;)if(Mr(o[l][0],u))return l;return-1}function _s(o,u,l,g){return ki(o,function(b,E,O){u(g,b,l(b),O)}),g}function Hu(o,u){return o&&$n(u,en(u),o)}function Rr(o,u,l){u=="__proto__"&&za?za(o,u,{configurable:!0,enumerable:!0,value:l,writable:!0}):o[u]=l}function Gl(o,u){for(var l=-1,g=u.length,b=pt(g),E=o==null;++l<g;)b[l]=E?n:rc(o,u[l]);return b}function Qi(o,u,l){return o==o&&(l!==n&&(o=o<=l?o:l),u!==n&&(o=o>=u?o:u)),o}function yr(o,u,l,g,b,E){var O,R=1&u,W=2&u,A=4&u;if(l&&(O=b?l(o,g,b,E):l(o)),O!==n)return O;if(!We(o))return o;var _=ie(o);if(_){if(O=function(K){var tt=K.length,ut=new K.constructor(tt);return tt&&typeof K[0]=="string"&&Ce.call(K,"index")&&(ut.index=K.index,ut.input=K.input),ut}(o),!R)return An(o,O)}else{var T=cn(o),U=T==M||T==N;if(Nr(o))return Cl(o,R);if(T==z||T==m||U&&!b){if(O=W||U?{}:Qo(o),!R)return W?function(K,tt){return $n(K,ua(K),tt)}(o,function(K,tt){return K&&$n(tt,Xn(tt),K)}(O,o)):function(K,tt){return $n(K,mr(K),tt)}(o,Hu(O,o))}else{if(!be[T])return b?o:{};O=function(K,tt,ut){var ot,wt=K.constructor;switch(tt){case ft:return Su(K);case w:case C:return new wt(+K);case gt:return function(yt,jt){var xt=jt?Su(yt.buffer):yt.buffer;return new yt.constructor(xt,yt.byteOffset,yt.byteLength)}(K,ut);case Ct:case kt:case Tt:case At:case Zt:case _t:case Et:case mt:case vt:return _l(K,ut);case B:return new wt;case L:case nt:return new wt(K);case V:return function(yt){var jt=new yt.constructor(yt.source,Se.exec(yt));return jt.lastIndex=yt.lastIndex,jt}(K);case X:return new wt;case it:return ot=K,is?zt(is.call(ot)):{}}}(o,T,R)}}E||(E=new zn);var G=E.get(o);if(G)return G;E.set(o,O),Qu(o)?o.forEach(function(K){O.add(yr(K,u,l,K,o,E))}):Qn(o)&&o.forEach(function(K,tt){O.set(tt,yr(K,u,l,tt,o,E))});var Z=_?n:(A?W?po:Ya:W?Xn:en)(o);return Bn(Z||o,function(K,tt){Z&&(K=o[tt=K]),Fo(O,tt,yr(K,u,l,tt,o,E))}),O}function Vu(o,u,l){var g=l.length;if(o==null)return!g;for(o=zt(o);g--;){var b=l[g],E=u[b],O=o[b];if(O===n&&!(b in o)||!E(O))return!1}return!0}function $a(o,u,l){if(typeof o!="function")throw new Pe(t);return gi(function(){o.apply(n,l)},u)}function Ro(o,u,l,g){var b=-1,E=br,O=!0,R=o.length,W=[],A=u.length;if(!R)return W;l&&(u=Be(u,Ln(l))),g?(E=xi,O=!1):u.length>=200&&(E=fi,O=!1,u=new St(u));t:for(;++b<R;){var _=o[b],T=l==null?_:l(_);if(_=g||_!==0?_:0,O&&T==T){for(var U=A;U--;)if(u[U]===T)continue t;W.push(_)}else E(u,T,g)||W.push(_)}return W}P.templateSettings={escape:wn,evaluate:nn,interpolate:cr,variable:"",imports:{_:P}},P.prototype=Pt.prototype,P.prototype.constructor=P,or.prototype=Go(Pt.prototype),or.prototype.constructor=or,ce.prototype=Go(Pt.prototype),ce.prototype.constructor=ce,Hr.prototype.clear=function(){this.__data__=aa?aa(null):{},this.size=0},Hr.prototype.delete=function(o){var u=this.has(o)&&delete this.__data__[o];return this.size-=u?1:0,u},Hr.prototype.get=function(o){var u=this.__data__;if(aa){var l=u[o];return l===e?n:l}return Ce.call(u,o)?u[o]:n},Hr.prototype.has=function(o){var u=this.__data__;return aa?u[o]!==n:Ce.call(u,o)},Hr.prototype.set=function(o,u){var l=this.__data__;return this.size+=this.has(o)?0:1,l[o]=aa&&u===n?e:u,this},vn.prototype.clear=function(){this.__data__=[],this.size=0},vn.prototype.delete=function(o){var u=this.__data__,l=ga(u,o);return!(l<0||(l==u.length-1?u.pop():Uu.call(u,l,1),--this.size,0))},vn.prototype.get=function(o){var u=this.__data__,l=ga(u,o);return l<0?n:u[l][1]},vn.prototype.has=function(o){return ga(this.__data__,o)>-1},vn.prototype.set=function(o,u){var l=this.__data__,g=ga(l,o);return g<0?(++this.size,l.push([o,u])):l[g][1]=u,this},Fr.prototype.clear=function(){this.size=0,this.__data__={hash:new Hr,map:new(_a||vn),string:new Hr}},Fr.prototype.delete=function(o){var u=Jo(this,o).delete(o);return this.size-=u?1:0,u},Fr.prototype.get=function(o){return Jo(this,o).get(o)},Fr.prototype.has=function(o){return Jo(this,o).has(o)},Fr.prototype.set=function(o,u){var l=Jo(this,o),g=l.size;return l.set(o,u),this.size+=l.size==g?0:1,this},St.prototype.add=St.prototype.push=function(o){return this.__data__.set(o,e),this},St.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.clear=function(){this.__data__=new vn,this.size=0},zn.prototype.delete=function(o){var u=this.__data__,l=u.delete(o);return this.size=u.size,l},zn.prototype.get=function(o){return this.__data__.get(o)},zn.prototype.has=function(o){return this.__data__.has(o)},zn.prototype.set=function(o,u){var l=this.__data__;if(l instanceof vn){var g=l.__data__;if(!_a||g.length<199)return g.push([o,u]),this.size=++l.size,this;l=this.__data__=new Fr(g)}return l.set(o,u),this.size=l.size,this};var ki=Aa(bn),Ss=Aa(Sa,!0);function fc(o,u){var l=!0;return ki(o,function(g,b,E){return l=!!u(g,b,E)}),l}function Wa(o,u,l){for(var g=-1,b=o.length;++g<b;){var E=o[g],O=u(E);if(O!=null&&(R===n?O==O&&!jn(O):l(O,R)))var R=O,W=E}return W}function au(o,u){var l=[];return ki(o,function(g,b,E){u(g,b,E)&&l.push(g)}),l}function gn(o,u,l,g,b){var E=-1,O=o.length;for(l||(l=sr),b||(b=[]);++E<O;){var R=o[E];u>0&&l(R)?u>1?gn(R,u-1,l,g,b):Er(b,R):g||(b[b.length]=R)}return b}var hc=Zs(),Ha=Zs(!0);function bn(o,u){return o&&hc(o,u,en)}function Sa(o,u){return o&&Ha(o,u,en)}function ma(o,u){return Br(u,function(l){return yi(o[l])})}function Vr(o,u){for(var l=0,g=(u=ai(u,o)).length;o!=null&&l<g;)o=o[Nn(u[l++])];return l&&l==g?o:n}function Ea(o,u,l){var g=u(o);return ie(o)?g:Er(g,l(o))}function tn(o){return o==null?o===n?"[object Undefined]":"[object Null]":Bo&&Bo in zt(o)?function(u){var l=Ce.call(u,Bo),g=u[Bo];try{u[Bo]=n;var b=!0}catch{}var E=Rs.call(u);return b&&(l?u[Bo]=g:delete u[Bo]),E}(o):function(u){return Rs.call(u)}(o)}function Ho(o,u){return o>u}function Ls(o,u){return o!=null&&Ce.call(o,u)}function xl(o,u){return o!=null&&u in zt(o)}function pc(o,u,l){for(var g=l?xi:br,b=o[0].length,E=o.length,O=E,R=pt(E),W=1/0,A=[];O--;){var _=o[O];O&&u&&(_=Be(_,Ln(u))),W=on(_.length,W),R[O]=!l&&(u||b>=120&&_.length>=120)?new St(O&&_):n}_=o[0];var T=-1,U=R[0];t:for(;++T<b&&A.length<W;){var G=_[T],Z=u?u(G):G;if(G=l||G!==0?G:0,!(U?fi(U,Z):g(A,Z,l))){for(O=E;--O;){var K=R[O];if(!(K?fi(K,Z):g(o[O],Z,l)))continue t}U&&U.push(Z),A.push(G)}}return A}function Po(o,u,l){var g=(o=Ws(o,u=ai(u,o)))==null?o:o[Nn(Ar(u))];return g==null?n:Mn(g,o,l)}function Js(o){return Le(o)&&tn(o)==m}function _o(o,u,l,g,b){return o===u||(o==null||u==null||!Le(o)&&!Le(u)?o!=o&&u!=u:function(E,O,R,W,A,_){var T=ie(E),U=ie(O),G=T?y:cn(E),Z=U?y:cn(O),K=(G=G==m?z:G)==z,tt=(Z=Z==m?z:Z)==z,ut=G==Z;if(ut&&Nr(E)){if(!Nr(O))return!1;T=!0,K=!1}if(ut&&!K)return _||(_=new zn),T||xn(E)?El(E,O,R,W,A,_):function(xt,It,ae,Ht,ye,oe,xe){switch(ae){case gt:if(xt.byteLength!=It.byteLength||xt.byteOffset!=It.byteOffset)return!1;xt=xt.buffer,It=It.buffer;case ft:return!(xt.byteLength!=It.byteLength||!oe(new js(xt),new js(It)));case w:case C:case L:return Mr(+xt,+It);case k:return xt.name==It.name&&xt.message==It.message;case V:case nt:return xt==It+"";case B:var Ve=Gi;case X:var an=1&Ht;if(Ve||(Ve=ns),xt.size!=It.size&&!an)return!1;var On=xe.get(xt);if(On)return On==It;Ht|=2,xe.set(xt,It);var Dn=El(Ve(xt),Ve(It),Ht,ye,oe,xe);return xe.delete(xt),Dn;case it:if(is)return is.call(xt)==is.call(It)}return!1}(E,O,G,R,W,A,_);if(!(1&R)){var ot=K&&Ce.call(E,"__wrapped__"),wt=tt&&Ce.call(O,"__wrapped__");if(ot||wt){var yt=ot?E.value():E,jt=wt?O.value():O;return _||(_=new zn),A(yt,jt,R,W,_)}}return!!ut&&(_||(_=new zn),function(xt,It,ae,Ht,ye,oe){var xe=1&ae,Ve=Ya(xt),an=Ve.length;if(an!=Ya(It).length&&!xe)return!1;for(var On=an;On--;){var Dn=Ve[On];if(!(xe?Dn in It:Ce.call(It,Dn)))return!1}var nr=oe.get(xt),Cr=oe.get(It);if(nr&&Cr)return nr==It&&Cr==xt;var Ao=!0;oe.set(xt,It),oe.set(It,xt);for(var ro=xe;++On<an;){var vo=xt[Dn=Ve[On]],Kr=It[Dn];if(Ht)var ss=xe?Ht(Kr,vo,Dn,It,xt,oe):Ht(vo,Kr,Dn,xt,It,oe);if(!(ss===n?vo===Kr||ye(vo,Kr,ae,Ht,oe):ss)){Ao=!1;break}ro||(ro=Dn=="constructor")}if(Ao&&!ro){var Lr=xt.constructor,Za=It.constructor;Lr==Za||!("constructor"in xt)||!("constructor"in It)||typeof Lr=="function"&&Lr instanceof Lr&&typeof Za=="function"&&Za instanceof Za||(Ao=!1)}return oe.delete(xt),oe.delete(It),Ao}(E,O,R,W,A,_))}(o,u,l,g,_o,b))}function jo(o,u,l,g){var b=l.length,E=b,O=!g;if(o==null)return!E;for(o=zt(o);b--;){var R=l[b];if(O&&R[2]?R[1]!==o[R[0]]:!(R[0]in o))return!1}for(;++b<E;){var W=(R=l[b])[0],A=o[W],_=R[1];if(O&&R[2]){if(A===n&&!(W in o))return!1}else{var T=new zn;if(g)var U=g(A,_,W,o,u,T);if(!(U===n?_o(_,A,3,g,T):U))return!1}}return!0}function qu(o){return!(!We(o)||(u=o,_i&&_i in u))&&(yi(o)?lh:zi).test(so(o));var u}function Cu(o){return typeof o=="function"?o:o==null?_n:typeof o=="object"?ie(o)?Wi(o[0],o[1]):zs(o):Io(o)}function Ta(o){if(!Zr(o))return Lh(o);var u=[];for(var l in zt(o))Ce.call(o,l)&&l!="constructor"&&u.push(l);return u}function dr(o,u){return o<u}function ar(o,u){var l=-1,g=$e(o)?pt(o.length):[];return ki(o,function(b,E,O){g[++l]=u(b,E,O)}),g}function zs(o){var u=er(o);return u.length==1&&u[0][2]?dc(u[0][0],u[0][1]):function(l){return l===o||jo(l,o,u)}}function Wi(o,u){return Dr(o)&&Wl(u)?dc(Nn(o),u):function(l){var g=rc(l,o);return g===n&&g===u?Fi(l,o):_o(u,g,3)}}function Si(o,u,l,g,b){o!==u&&hc(u,function(E,O){if(b||(b=new zn),We(E))(function(W,A,_,T,U,G,Z){var K=ao(W,_),tt=ao(A,_),ut=Z.get(tt);if(ut)da(W,_,ut);else{var ot=G?G(K,tt,_+"",W,A,Z):n,wt=ot===n;if(wt){var yt=ie(tt),jt=!yt&&Nr(tt),xt=!yt&&!jt&&xn(tt);ot=tt,yt||jt||xt?ie(K)?ot=K:Je(K)?ot=An(K):jt?(wt=!1,ot=Cl(tt,!0)):xt?(wt=!1,ot=_l(tt,!0)):ot=[]:la(tt)||Eo(tt)?(ot=K,Eo(K)?ot=ys(K):We(K)&&!yi(K)||(ot=Qo(tt))):wt=!1}wt&&(Z.set(tt,ot),U(ot,tt,T,G,Z),Z.delete(tt)),da(W,_,ot)}})(o,u,O,l,Si,g,b);else{var R=g?g(ao(o,O),E,O+"",o,u,b):n;R===n&&(R=E),da(o,O,R)}},Xn)}function _u(o,u){var l=o.length;if(l)return ur(u+=u<0?l:0,l)?o[u]:n}function Qs(o,u,l){u=u.length?Be(u,function(E){return ie(E)?function(O){return Vr(O,E.length===1?E[0]:E)}:E}):[_n];var g=-1;u=Be(u,Ln(Yt()));var b=ar(o,function(E,O,R){var W=Be(u,function(A){return A(E)});return{criteria:W,index:++g,value:E}});return function(E,O){var R=E.length;for(E.sort(O);R--;)E[R]=E[R].value;return E}(b,function(E,O){return function(R,W,A){for(var _=-1,T=R.criteria,U=W.criteria,G=T.length,Z=A.length;++_<G;){var K=ps(T[_],U[_]);if(K)return _>=Z?K:K*(A[_]=="desc"?-1:1)}return R.index-W.index}(E,O,l)})}function Zi(o,u,l){for(var g=-1,b=u.length,E={};++g<b;){var O=u[g],R=Vr(o,O);l(R,O)&&os(E,ai(O,o),R)}return E}function Dl(o,u,l,g){var b=g?bc:Ii,E=-1,O=u.length,R=o;for(o===u&&(u=An(u)),l&&(R=Be(o,Ln(l)));++E<O;)for(var W=0,A=u[E],_=l?l(A):A;(W=b(R,_,W,g))>-1;)R!==o&&Uu.call(R,W,1),Uu.call(o,W,1);return o}function zl(o,u){for(var l=o?u.length:0,g=l-1;l--;){var b=u[l];if(l==g||b!==E){var E=b;ur(b)?Uu.call(o,b,1):oi(o,b)}}return o}function fs(o,u){return o+$u(df()*(u-o+1))}function Us(o,u){var l="";if(!o||u<1||u>c)return l;do u%2&&(l+=o),(u=$u(u/2))&&(o+=o);while(u);return l}function ue(o,u){return no(go(o,u,_n),o+"")}function Es(o){return En(Zn(o))}function mi(o,u){var l=Zn(o);return Hs(l,Qi(u,0,l.length))}function os(o,u,l,g){if(!We(o))return o;for(var b=-1,E=(u=ai(u,o)).length,O=E-1,R=o;R!=null&&++b<E;){var W=Nn(u[b]),A=l;if(W==="__proto__"||W==="constructor"||W==="prototype")return o;if(b!=O){var _=R[W];(A=g?g(_,W,R):n)===n&&(A=We(_)?_:ur(u[b+1])?[]:{})}Fo(R,W,A),R=R[W]}return o}var Yl=sa?function(o,u){return sa.set(o,u),o}:_n,hs=za?function(o,u){return za(o,"toString",{configurable:!0,enumerable:!1,value:Tl(u),writable:!0})}:_n;function ol(o){return Hs(Zn(o))}function Un(o,u,l){var g=-1,b=o.length;u<0&&(u=-u>b?0:b+u),(l=l>b?b:l)<0&&(l+=b),b=u>l?0:l-u>>>0,u>>>=0;for(var E=pt(b);++g<b;)E[g]=o[g+u];return E}function Xc(o,u){var l;return ki(o,function(g,b,E){return!(l=u(g,b,E))}),!!l}function Fn(o,u,l){var g=0,b=o==null?g:o.length;if(typeof u=="number"&&u==u&&b<=2147483647){for(;g<b;){var E=g+b>>>1,O=o[E];O!==null&&!jn(O)&&(l?O<=u:O<u)?g=E+1:b=E}return b}return to(o,u,_n,l)}function to(o,u,l,g){var b=0,E=o==null?0:o.length;if(E===0)return 0;for(var O=(u=l(u))!=u,R=u===null,W=jn(u),A=u===n;b<E;){var _=$u((b+E)/2),T=l(o[_]),U=T!==n,G=T===null,Z=T==T,K=jn(T);if(O)var tt=g||Z;else tt=A?Z&&(g||U):R?Z&&U&&(g||!G):W?Z&&U&&!G&&(g||!K):!G&&!K&&(g?T<=u:T<u);tt?b=_+1:E=_}return on(E,4294967294)}function Or(o,u){for(var l=-1,g=o.length,b=0,E=[];++l<g;){var O=o[l],R=u?u(O):O;if(!l||!Mr(R,W)){var W=R;E[b++]=O===0?0:O}}return E}function Qr(o){return typeof o=="number"?o:jn(o)?f:+o}function fn(o){if(typeof o=="string")return o;if(ie(o))return Be(o,fn)+"";if(jn(o))return Ll?Ll.call(o):"";var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function Yn(o,u,l){var g=-1,b=br,E=o.length,O=!0,R=[],W=R;if(l)O=!1,b=xi;else if(E>=200){var A=u?null:of(o);if(A)return ns(A);O=!1,b=fi,W=new St}else W=u?[]:R;t:for(;++g<E;){var _=o[g],T=u?u(_):_;if(_=l||_!==0?_:0,O&&T==T){for(var U=W.length;U--;)if(W[U]===T)continue t;u&&W.push(T),R.push(_)}else b(W,T,l)||(W!==R&&W.push(T),R.push(_))}return R}function oi(o,u){return(o=Ws(o,u=ai(u,o)))==null||delete o[Nn(Ar(u))]}function na(o,u,l,g){return os(o,u,l(Vr(o,u)),g)}function Va(o,u,l,g){for(var b=o.length,E=g?b:-1;(g?E--:++E<b)&&u(o[E],E,o););return l?Un(o,g?0:E,g?E+1:b):Un(o,g?E+1:0,g?b:E)}function qa(o,u){var l=o;return l instanceof ce&&(l=l.value()),Jr(u,function(g,b){return b.func.apply(b.thisArg,Er([g],b.args))},l)}function Ri(o,u,l){var g=o.length;if(g<2)return g?Yn(o[0]):[];for(var b=-1,E=pt(g);++b<g;)for(var O=o[b],R=-1;++R<g;)R!=b&&(E[b]=Ro(E[b]||O,o[R],u,l));return Yn(gn(E,1),u,l)}function Yo(o,u,l){for(var g=-1,b=o.length,E=u.length,O={};++g<b;){var R=g<E?u[g]:n;l(O,o[g],R)}return O}function wr(o){return Je(o)?o:[]}function di(o){return typeof o=="function"?o:_n}function ai(o,u){return ie(o)?o:Dr(o,u)?[o]:Ic(we(o))}var Xl=ue;function Ur(o,u,l){var g=o.length;return l=l===n?g:l,!u&&l>=g?o:Un(o,u,l)}var Jl=nf||function(o){return ze.clearTimeout(o)};function Cl(o,u){if(u)return o.slice();var l=o.length,g=Rl?Rl(l):new o.constructor(l);return o.copy(g),g}function Su(o){var u=new o.constructor(o.byteLength);return new js(u).set(new js(o)),u}function _l(o,u){var l=u?Su(o.buffer):o.buffer;return new o.constructor(l,o.byteOffset,o.length)}function ps(o,u){if(o!==u){var l=o!==n,g=o===null,b=o==o,E=jn(o),O=u!==n,R=u===null,W=u==u,A=jn(u);if(!R&&!A&&!E&&o>u||E&&O&&W&&!R&&!A||g&&O&&W||!l&&W||!b)return 1;if(!g&&!E&&!A&&o<u||A&&l&&b&&!g&&!E||R&&l&&b||!O&&b||!W)return-1}return 0}function al(o,u,l,g){for(var b=-1,E=o.length,O=l.length,R=-1,W=u.length,A=sn(E-O,0),_=pt(W+A),T=!g;++R<W;)_[R]=u[R];for(;++b<O;)(T||b<E)&&(_[l[b]]=o[b]);for(;A--;)_[R++]=o[b++];return _}function Sl(o,u,l,g){for(var b=-1,E=o.length,O=-1,R=l.length,W=-1,A=u.length,_=sn(E-R,0),T=pt(_+A),U=!g;++b<_;)T[b]=o[b];for(var G=b;++W<A;)T[G+W]=u[W];for(;++O<R;)(U||b<E)&&(T[G+l[O]]=o[b++]);return T}function An(o,u){var l=-1,g=o.length;for(u||(u=pt(g));++l<g;)u[l]=o[l];return u}function $n(o,u,l,g){var b=!l;l||(l={});for(var E=-1,O=u.length;++E<O;){var R=u[E],W=g?g(l[R],o[R],R,l,o):n;W===n&&(W=o[R]),b?Rr(l,R,W):Fo(l,R,W)}return l}function ji(o,u){return function(l,g){var b=ie(l)?uh:_s,E=u?u():{};return b(l,o,Yt(g,2),E)}}function Mi(o){return ue(function(u,l){var g=-1,b=l.length,E=b>1?l[b-1]:n,O=b>2?l[2]:n;for(E=o.length>3&&typeof E=="function"?(b--,E):n,O&&Ue(l[0],l[1],O)&&(E=b<3?n:E,b=1),u=zt(u);++g<b;){var R=l[g];R&&o(u,R,g,E)}return u})}function Aa(o,u){return function(l,g){if(l==null)return l;if(!$e(l))return o(l,g);for(var b=l.length,E=u?b:-1,O=zt(l);(u?E--:++E<b)&&g(O[E],E,O)!==!1;);return l}}function Zs(o){return function(u,l,g){for(var b=-1,E=zt(u),O=g(u),R=O.length;R--;){var W=O[o?R:++b];if(l(E[W],W,E)===!1)break}return u}}function Eu(o){return function(u){var l=ha(u=we(u))?xr(u):n,g=l?l[0]:u.charAt(0),b=l?Ur(l,1).join(""):u.slice(1);return g[o]()+b}}function Lo(o){return function(u){return Jr(fu(li(u).replace(Mc,"")),o,"")}}function zo(o){return function(){var u=arguments;switch(u.length){case 0:return new o;case 1:return new o(u[0]);case 2:return new o(u[0],u[1]);case 3:return new o(u[0],u[1],u[2]);case 4:return new o(u[0],u[1],u[2],u[3]);case 5:return new o(u[0],u[1],u[2],u[3],u[4]);case 6:return new o(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new o(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var l=Go(o.prototype),g=o.apply(l,u);return We(g)?g:l}}function va(o){return function(u,l,g){var b=zt(u);if(!$e(u)){var E=Yt(l,3);u=en(u),l=function(R){return E(b[R],R,b)}}var O=o(u,l,g);return O>-1?b[E?u[O]:O]:n}}function Uo(o){return Ei(function(u){var l=u.length,g=l,b=or.prototype.thru;for(o&&u.reverse();g--;){var E=u[g];if(typeof E!="function")throw new Pe(t);if(b&&!O&&So(E)=="wrapper")var O=new or([],!0)}for(g=O?g:l;++g<l;){var R=So(E=u[g]),W=R=="wrapper"?gs(E):n;O=W&&Kn(W[0])&&W[1]==424&&!W[4].length&&W[9]==1?O[So(W[0])].apply(O,W[3]):E.length==1&&Kn(E)?O[R]():O.thru(E)}return function(){var A=arguments,_=A[0];if(O&&A.length==1&&ie(_))return O.plant(_).value();for(var T=0,U=l?u[T].apply(this,A):_;++T<l;)U=u[T].call(this,U);return U}})}function To(o,u,l,g,b,E,O,R,W,A){var _=u&a,T=1&u,U=2&u,G=24&u,Z=512&u,K=U?n:zo(o);return function tt(){for(var ut=arguments.length,ot=pt(ut),wt=ut;wt--;)ot[wt]=arguments[wt];if(G)var yt=vi(tt),jt=function(Ht,ye){for(var oe=Ht.length,xe=0;oe--;)Ht[oe]===ye&&++xe;return xe}(ot,yt);if(g&&(ot=al(ot,g,b,G)),E&&(ot=Sl(ot,E,O,G)),ut-=jt,G&&ut<A){var xt=Di(ot,yt);return ds(o,u,To,tt.placeholder,l,ot,xt,R,W,A-ut)}var It=T?l:this,ae=U?It[o]:o;return ut=ot.length,R?ot=function(Ht,ye){for(var oe=Ht.length,xe=on(ye.length,oe),Ve=An(Ht);xe--;){var an=ye[xe];Ht[xe]=ur(an,oe)?Ve[an]:n}return Ht}(ot,R):Z&&ut>1&&ot.reverse(),_&&W<ut&&(ot.length=W),this&&this!==ze&&this instanceof tt&&(ae=K||zo(ae)),ae.apply(It,ot)}}function oo(o,u){return function(l,g){return function(b,E,O,R){return bn(b,function(W,A,_){E(R,O(W),A,_)}),R}(l,o,u(g),{})}}function eo(o,u){return function(l,g){var b;if(l===n&&g===n)return u;if(l!==n&&(b=l),g!==n){if(b===n)return g;typeof l=="string"||typeof g=="string"?(l=fn(l),g=fn(g)):(l=Qr(l),g=Qr(g)),b=o(l,g)}return b}}function Oo(o){return Ei(function(u){return u=Be(u,Ln(Yt())),ue(function(l){var g=this;return o(u,function(b){return Mn(b,g,l)})})})}function Xo(o,u){var l=(u=u===n?" ":fn(u)).length;if(l<2)return l?Us(u,o):u;var g=Us(u,Ua(o/Wr(u)));return ha(u)?Ur(xr(g),0,o).join(""):g.slice(0,o)}function Ku(o){return function(u,l,g){return g&&typeof g!="number"&&Ue(u,l,g)&&(l=g=n),u=ui(u),l===n?(l=u,u=0):l=ui(l),function(b,E,O,R){for(var W=-1,A=sn(Ua((E-b)/(O||1)),0),_=pt(A);A--;)_[R?A:++W]=b,b+=O;return _}(u,l,g=g===n?u<l?1:-1:ui(g),o)}}function Ka(o){return function(u,l){return typeof u=="string"&&typeof l=="string"||(u=Qe(u),l=Qe(l)),o(u,l)}}function ds(o,u,l,g,b,E,O,R,W,A){var _=8&u;u|=_?i:64,4&(u&=~(_?64:i))||(u&=-4);var T=[o,u,b,_?E:n,_?O:n,_?n:E,_?n:O,R,W,A],U=l.apply(n,T);return Kn(o)&&kl(U,T),U.placeholder=g,As(U,o,u)}function ra(o){var u=mn[o];return function(l,g){if(l=Qe(l),(g=g==null?0:on(se(g),292))&&Nc(l)){var b=(we(l)+"e").split("e");return+((b=(we(u(b[0]+"e"+(+b[1]+g)))+"e").split("e"))[0]+"e"+(+b[1]-g))}return u(l)}}var of=ii&&1/ns(new ii([,-0]))[1]==s?function(o){return new ii(o)}:hl;function Ul(o){return function(u){var l=cn(u);return l==B?Gi(u):l==X?function(b){var E=-1,O=Array(b.size);return b.forEach(function(R){O[++E]=[R,R]}),O}(u):function(g,b){return Be(b,function(E){return[E,g[E]]})}(u,o(u))}}function gr(o,u,l,g,b,E,O,R){var W=2&u;if(!W&&typeof o!="function")throw new Pe(t);var A=g?g.length:0;if(A||(u&=-97,g=b=n),O=O===n?O:sn(se(O),0),R=R===n?R:se(R),A-=b?b.length:0,64&u){var _=g,T=b;g=b=n}var U=W?n:gs(o),G=[o,u,l,g,b,_,T,E,O,R];if(U&&function(K,tt){var ut=K[1],ot=tt[1],wt=ut|ot,yt=wt<131,jt=ot==a&&ut==8||ot==a&&ut==256&&K[7].length<=tt[8]||ot==384&&tt[7].length<=tt[8]&&ut==8;if(!yt&&!jt)return K;1&ot&&(K[2]=tt[2],wt|=1&ut?0:4);var xt=tt[3];if(xt){var It=K[3];K[3]=It?al(It,xt,tt[4]):xt,K[4]=It?Di(K[3],r):tt[4]}(xt=tt[5])&&(It=K[5],K[5]=It?Sl(It,xt,tt[6]):xt,K[6]=It?Di(K[5],r):tt[6]),(xt=tt[7])&&(K[7]=xt),ot&a&&(K[8]=K[8]==null?tt[8]:on(K[8],tt[8])),K[9]==null&&(K[9]=tt[9]),K[0]=tt[0],K[1]=wt}(G,U),o=G[0],u=G[1],l=G[2],g=G[3],b=G[4],!(R=G[9]=G[9]===n?W?0:o.length:sn(G[9]-A,0))&&24&u&&(u&=-25),u&&u!=1)Z=u==8||u==16?function(K,tt,ut){var ot=zo(K);return function wt(){for(var yt=arguments.length,jt=pt(yt),xt=yt,It=vi(wt);xt--;)jt[xt]=arguments[xt];var ae=yt<3&&jt[0]!==It&&jt[yt-1]!==It?[]:Di(jt,It);return(yt-=ae.length)<ut?ds(K,tt,To,wt.placeholder,n,jt,ae,n,n,ut-yt):Mn(this&&this!==ze&&this instanceof wt?ot:K,this,jt)}}(o,u,R):u!=i&&u!=33||b.length?To.apply(n,G):function(K,tt,ut,ot){var wt=1&tt,yt=zo(K);return function jt(){for(var xt=-1,It=arguments.length,ae=-1,Ht=ot.length,ye=pt(Ht+It),oe=this&&this!==ze&&this instanceof jt?yt:K;++ae<Ht;)ye[ae]=ot[ae];for(;It--;)ye[ae++]=arguments[++xt];return Mn(oe,wt?ut:this,ye)}}(o,u,l,g);else var Z=function(K,tt,ut){var ot=1&tt,wt=zo(K);return function yt(){return(this&&this!==ze&&this instanceof yt?wt:K).apply(ot?ut:this,arguments)}}(o,u,l);return As((U?Yl:kl)(Z,G),o,u)}function $s(o,u,l,g){return o===n||Mr(o,hi[l])&&!Ce.call(g,l)?u:o}function Ga(o,u,l,g,b,E){return We(o)&&We(u)&&(E.set(u,o),Si(o,u,n,Ga,E),E.delete(u)),o}function Nf(o){return la(o)?n:o}function El(o,u,l,g,b,E){var O=1&l,R=o.length,W=u.length;if(R!=W&&!(O&&W>R))return!1;var A=E.get(o),_=E.get(u);if(A&&_)return A==u&&_==o;var T=-1,U=!0,G=2&l?new St:n;for(E.set(o,u),E.set(u,o);++T<R;){var Z=o[T],K=u[T];if(g)var tt=O?g(K,Z,T,u,o,E):g(Z,K,T,o,u,E);if(tt!==n){if(tt)continue;U=!1;break}if(G){if(!Is(u,function(ut,ot){if(!fi(G,ot)&&(Z===ut||b(Z,ut,l,g,E)))return G.push(ot)})){U=!1;break}}else if(Z!==K&&!b(Z,K,l,g,E)){U=!1;break}}return E.delete(o),E.delete(u),U}function Ei(o){return no(go(o,n,Oa),o+"")}function Ya(o){return Ea(o,en,mr)}function po(o){return Ea(o,Xn,ua)}var gs=sa?function(o){return sa.get(o)}:hl;function So(o){for(var u=o.name+"",l=Mo[u],g=Ce.call(Mo,u)?l.length:0;g--;){var b=l[g],E=b.func;if(E==null||E==o)return b.name}return u}function vi(o){return(Ce.call(P,"placeholder")?P:o).placeholder}function Yt(){var o=P.iteratee||ic;return o=o===ic?Cu:o,arguments.length?o(arguments[0],arguments[1]):o}function Jo(o,u){var l,g,b=o.__data__;return((g=typeof(l=u))=="string"||g=="number"||g=="symbol"||g=="boolean"?l!=="__proto__":l===null)?b[typeof u=="string"?"string":"hash"]:b.map}function er(o){for(var u=en(o),l=u.length;l--;){var g=u[l],b=o[g];u[l]=[g,b,Wl(b)]}return u}function si(o,u){var l=function(g,b){return g==null?n:g[b]}(o,u);return qu(l)?l:n}var mr=ou?function(o){return o==null?[]:(o=zt(o),Br(ou(o),function(u){return Oc.call(o,u)}))}:qr,ua=ou?function(o){for(var u=[];o;)Er(u,mr(o)),o=ea(o);return u}:qr,cn=tn;function $l(o,u,l){for(var g=-1,b=(u=ai(u,o)).length,E=!1;++g<b;){var O=Nn(u[g]);if(!(E=o!=null&&l(o,O)))break;o=o[O]}return E||++g!=b?E:!!(b=o==null?0:o.length)&&Gn(b)&&ur(O,b)&&(ie(o)||Eo(o))}function Qo(o){return typeof o.constructor!="function"||Zr(o)?{}:Go(ea(o))}function sr(o){return ie(o)||Eo(o)||!!(jl&&o&&o[jl])}function ur(o,u){var l=typeof o;return!!(u=u??c)&&(l=="number"||l!="symbol"&&Ui.test(o))&&o>-1&&o%1==0&&o<u}function Ue(o,u,l){if(!We(l))return!1;var g=typeof u;return!!(g=="number"?$e(l)&&ur(u,l.length):g=="string"&&u in l)&&Mr(l[u],o)}function Dr(o,u){if(ie(o))return!1;var l=typeof o;return!(l!="number"&&l!="symbol"&&l!="boolean"&&o!=null&&!jn(o))||Vt.test(o)||!bi.test(o)||u!=null&&o in zt(u)}function Kn(o){var u=So(o),l=P[u];if(typeof l!="function"||!(u in ce.prototype))return!1;if(o===l)return!0;var g=gs(l);return!!g&&o===g[0]}(il&&cn(new il(new ArrayBuffer(1)))!=gt||_a&&cn(new _a)!=B||oa&&cn(oa.resolve())!=q||ii&&cn(new ii)!=X||Ko&&cn(new Ko)!=ct)&&(cn=function(o){var u=tn(o),l=u==z?o.constructor:n,g=l?so(l):"";if(g)switch(g){case gf:return gt;case bl:return B;case cc:return q;case rf:return X;case Jf:return ct}return u});var Al=Ca?yi:Ir;function Zr(o){var u=o&&o.constructor;return o===(typeof u=="function"&&u.prototype||hi)}function Wl(o){return o==o&&!We(o)}function dc(o,u){return function(l){return l!=null&&l[o]===u&&(u!==n||o in zt(l))}}function go(o,u,l){return u=sn(u===n?o.length-1:u,0),function(){for(var g=arguments,b=-1,E=sn(g.length-u,0),O=pt(E);++b<E;)O[b]=g[u+b];b=-1;for(var R=pt(u+1);++b<u;)R[b]=g[b];return R[u]=l(O),Mn(o,this,R)}}function Ws(o,u){return u.length<2?o:Vr(o,Un(u,0,-1))}function ao(o,u){if((u!=="constructor"||typeof o[u]!="function")&&u!="__proto__")return o[u]}var kl=sl(Yl),gi=Of||function(o,u){return ze.setTimeout(o,u)},no=sl(hs);function As(o,u,l){var g=u+"";return no(o,function(b,E){var O=E.length;if(!O)return b;var R=O-1;return E[R]=(O>1?"& ":"")+E[R],E=E.join(O>2?", ":" "),b.replace(Rt,`{
/* [wrapped with `+E+`] */
`)}(g,function(b,E){return Bn(h,function(O){var R="_."+O[0];E&O[1]&&!br(b,R)&&b.push(R)}),b.sort()}(function(b){var E=b.match(Xt);return E?E[1].split(Kt):[]}(g),l)))}function sl(o){var u=0,l=0;return function(){var g=pa(),b=16-(g-l);if(l=g,b>0){if(++u>=800)return arguments[0]}else u=0;return o.apply(n,arguments)}}function Hs(o,u){var l=-1,g=o.length,b=g-1;for(u=u===n?g:u;++l<u;){var E=fs(l,b),O=o[E];o[E]=o[l],o[l]=O}return o.length=u,o}var Ic=function(){var o=Ju(function(l){var g=[];return l.charCodeAt(0)===46&&g.push(""),l.replace(rt,function(b,E,O,R){g.push(O?R.replace(Ze,"$1"):E||b)}),g},function(l){return u.size===500&&u.clear(),l}),u=o.cache;return o}();function Nn(o){if(typeof o=="string"||jn(o))return o;var u=o+"";return u=="0"&&1/o==-1/0?"-0":u}function so(o){if(o!=null){try{return pi.call(o)}catch{}try{return o+""}catch{}}return""}function Au(o){if(o instanceof ce)return o.clone();var u=new or(o.__wrapped__,o.__chain__);return u.__actions__=An(o.__actions__),u.__index__=o.__index__,u.__values__=o.__values__,u}var Ql=ue(function(o,u){return Je(o)?Ro(o,gn(u,1,Je,!0)):[]}),mf=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),Yt(l,2)):[]}),ch=ue(function(o,u){var l=Ar(u);return Je(l)&&(l=n),Je(o)?Ro(o,gn(u,1,Je,!0),n,l):[]});function Zl(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),jr(o,Yt(u,3),b)}function uo(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g-1;return l!==n&&(b=se(l),b=l<0?sn(g+b,0):on(b,g-1)),jr(o,Yt(u,3),b,!0)}function Oa(o){return o!=null&&o.length?gn(o,1):[]}function lo(o){return o&&o.length?o[0]:n}var Ml=ue(function(o){var u=Be(o,wr);return u.length&&u[0]===o[0]?pc(u):[]}),vf=ue(function(o){var u=Ar(o),l=Be(o,wr);return u===Ar(l)?u=n:l.pop(),l.length&&l[0]===o[0]?pc(l,Yt(u,2)):[]}),yf=ue(function(o){var u=Ar(o),l=Be(o,wr);return(u=typeof u=="function"?u:n)&&l.pop(),l.length&&l[0]===o[0]?pc(l,n,u):[]});function Ar(o){var u=o==null?0:o.length;return u?o[u-1]:n}var ul=ue(tu);function tu(o,u){return o&&o.length&&u&&u.length?Dl(o,u):o}var fh=Ei(function(o,u){var l=o==null?0:o.length,g=Gl(o,u);return zl(o,Be(u,function(b){return ur(b,l)?+b:b}).sort(ps)),g});function Gu(o){return o==null?o:xh.call(o)}var Dc=ue(function(o){return Yn(gn(o,1,Je,!0))}),Hl=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Yn(gn(o,1,Je,!0),Yt(u,2))}),Qf=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Yn(gn(o,1,Je,!0),n,u)});function Cc(o){if(!o||!o.length)return[];var u=0;return o=Br(o,function(l){if(Je(l))return u=sn(l.length,u),!0}),Il(u,function(l){return Be(o,Da(l))})}function su(o,u){if(!o||!o.length)return[];var l=Cc(o);return u==null?l:Be(l,function(g){return Mn(u,n,g)})}var Mh=ue(function(o,u){return Je(o)?Ro(o,u):[]}),Fh=ue(function(o){return Ri(Br(o,Je))}),Ph=ue(function(o){var u=Ar(o);return Je(u)&&(u=n),Ri(Br(o,Je),Yt(u,2))}),hh=ue(function(o){var u=Ar(o);return u=typeof u=="function"?u:n,Ri(Br(o,Je),n,u)}),Th=ue(Cc),If=ue(function(o){var u=o.length,l=u>1?o[u-1]:n;return l=typeof l=="function"?(o.pop(),l):n,su(o,l)});function Zf(o){var u=P(o);return u.__chain__=!0,u}function Yu(o,u){return u(o)}var th=Ei(function(o){var u=o.length,l=u?o[0]:0,g=this.__wrapped__,b=function(E){return Gl(E,o)};return!(u>1||this.__actions__.length)&&g instanceof ce&&ur(l)?((g=g.slice(l,+l+(u?1:0))).__actions__.push({func:Yu,args:[b],thisArg:n}),new or(g,this.__chain__).thru(function(E){return u&&!E.length&&E.push(n),E})):this.thru(b)}),ms=ji(function(o,u,l){Ce.call(o,l)?++o[l]:Rr(o,l,1)}),Bf=va(Zl),af=va(uo);function wf(o,u){return(ie(o)?Bn:ki)(o,Yt(u,3))}function sf(o,u){return(ie(o)?tf:Ss)(o,Yt(u,3))}var Dh=ji(function(o,u,l){Ce.call(o,l)?o[l].push(u):Rr(o,l,[u])}),Rf=ue(function(o,u,l){var g=-1,b=typeof u=="function",E=$e(o)?pt(o.length):[];return ki(o,function(O){E[++g]=b?Mn(u,O,l):Po(O,u,l)}),E}),tc=ji(function(o,u,l){Rr(o,l,u)});function uu(o,u){return(ie(o)?Be:ar)(o,Yt(u,3))}var eh=ji(function(o,u,l){o[l?0:1].push(u)},function(){return[[],[]]}),Ch=ue(function(o,u){if(o==null)return[];var l=u.length;return l>1&&Ue(o,u[0],u[1])?u=[]:l>2&&Ue(u[0],u[1],u[2])&&(u=[u[0]]),Qs(o,gn(u,1),[])}),Xu=Xf||function(){return ze.Date.now()};function uf(o,u,l){return u=l?n:u,u=o&&u==null?o.length:u,gr(o,a,n,n,n,n,u)}function Bc(o,u){var l;if(typeof u!="function")throw new Pe(t);return o=se(o),function(){return--o>0&&(l=u.apply(this,arguments)),o<=1&&(u=n),l}}var ec=ue(function(o,u,l){var g=1;if(l.length){var b=Di(l,vi(ec));g|=i}return gr(o,g,u,l,b)}),bf=ue(function(o,u,l){var g=3;if(l.length){var b=Di(l,vi(bf));g|=i}return gr(u,g,o,l,b)});function jf(o,u,l){var g,b,E,O,R,W,A=0,_=!1,T=!1,U=!0;if(typeof o!="function")throw new Pe(t);function G(ot){var wt=g,yt=b;return g=b=n,A=ot,O=o.apply(yt,wt)}function Z(ot){var wt=ot-W;return W===n||wt>=u||wt<0||T&&ot-A>=E}function K(){var ot=Xu();if(Z(ot))return tt(ot);R=gi(K,function(wt){var yt=u-(wt-W);return T?on(yt,E-(wt-A)):yt}(ot))}function tt(ot){return R=n,U&&g?G(ot):(g=b=n,O)}function ut(){var ot=Xu(),wt=Z(ot);if(g=arguments,b=this,W=ot,wt){if(R===n)return function(yt){return A=yt,R=gi(K,u),_?G(yt):O}(W);if(T)return Jl(R),R=gi(K,u),G(W)}return R===n&&(R=gi(K,u)),O}return u=Qe(u)||0,We(l)&&(_=!!l.leading,E=(T="maxWait"in l)?sn(Qe(l.maxWait)||0,u):E,U="trailing"in l?!!l.trailing:U),ut.cancel=function(){R!==n&&Jl(R),A=0,g=W=b=R=n},ut.flush=function(){return R===n?O:tt(Xu())},ut}var ia=ue(function(o,u){return $a(o,1,u)}),ka=ue(function(o,u,l){return $a(o,Qe(u)||0,l)});function Ju(o,u){if(typeof o!="function"||u!=null&&typeof u!="function")throw new Pe(t);var l=function(){var g=arguments,b=u?u.apply(this,g):g[0],E=l.cache;if(E.has(b))return E.get(b);var O=o.apply(this,g);return l.cache=E.set(b,O)||E,O};return l.cache=new(Ju.Cache||Fr),l}function ks(o){if(typeof o!="function")throw new Pe(t);return function(){var u=arguments;switch(u.length){case 0:return!o.call(this);case 1:return!o.call(this,u[0]);case 2:return!o.call(this,u[0],u[1]);case 3:return!o.call(this,u[0],u[1],u[2])}return!o.apply(this,u)}}Ju.Cache=Fr;var nh=Xl(function(o,u){var l=(u=u.length==1&&ie(u[0])?Be(u[0],Ln(Yt())):Be(gn(u,1),Ln(Yt()))).length;return ue(function(g){for(var b=-1,E=on(g.length,l);++b<E;)g[b]=u[b].call(this,g[b]);return Mn(o,this,g)})}),Fl=ue(function(o,u){var l=Di(u,vi(Fl));return gr(o,i,n,u,l)}),lf=ue(function(o,u){var l=Di(u,vi(lf));return gr(o,64,n,u,l)}),ll=Ei(function(o,u){return gr(o,256,n,n,n,u)});function Mr(o,u){return o===u||o!=o&&u!=u}var Lf=Ka(Ho),gc=Ka(function(o,u){return o>=u}),Eo=Js(function(){return arguments}())?Js:function(o){return Le(o)&&Ce.call(o,"callee")&&!Oc.call(o,"callee")},ie=pt.isArray,_c=Ru?Ln(Ru):function(o){return Le(o)&&tn(o)==ft};function $e(o){return o!=null&&Gn(o.length)&&!yi(o)}function Je(o){return Le(o)&&$e(o)}var Nr=xc||Ir,$o=Ji?Ln(Ji):function(o){return Le(o)&&tn(o)==C};function lu(o){if(!Le(o))return!1;var u=tn(o);return u==k||u=="[object DOMException]"||typeof o.message=="string"&&typeof o.name=="string"&&!la(o)}function yi(o){if(!We(o))return!1;var u=tn(o);return u==M||u==N||u=="[object AsyncFunction]"||u=="[object Proxy]"}function cu(o){return typeof o=="number"&&o==se(o)}function Gn(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function We(o){var u=typeof o;return o!=null&&(u=="object"||u=="function")}function Le(o){return o!=null&&typeof o=="object"}var Qn=qn?Ln(qn):function(o){return Le(o)&&cn(o)==B};function lr(o){return typeof o=="number"||Le(o)&&tn(o)==L}function la(o){if(!Le(o)||tn(o)!=z)return!1;var u=ea(o);if(u===null)return!0;var l=Ce.call(u,"constructor")&&u.constructor;return typeof l=="function"&&l instanceof l&&pi.call(l)==Yc}var Li=rl?Ln(rl):function(o){return Le(o)&&tn(o)==V},Qu=Zc?Ln(Zc):function(o){return Le(o)&&cn(o)==X};function ku(o){return typeof o=="string"||!ie(o)&&Le(o)&&tn(o)==nt}function jn(o){return typeof o=="symbol"||Le(o)&&tn(o)==it}var xn=wc?Ln(wc):function(o){return Le(o)&&Gn(o.length)&&!!De[tn(o)]},Wo=Ka(dr),Ae=Ka(function(o,u){return o<=u});function cl(o){if(!o)return[];if($e(o))return ku(o)?xr(o):An(o);if(io&&o[io])return function(l){for(var g,b=[];!(g=l.next()).done;)b.push(g.value);return b}(o[io]());var u=cn(o);return(u==B?Gi:u==X?ns:Zn)(o)}function ui(o){return o?(o=Qe(o))===s||o===-1/0?17976931348623157e292*(o<0?-1:1):o==o?o:0:o===0?o:0}function se(o){var u=ui(o),l=u%1;return u==u?l?u-l:u:0}function vs(o){return o?Qi(se(o),0,d):0}function Qe(o){if(typeof o=="number")return o;if(jn(o))return f;if(We(o)){var u=typeof o.valueOf=="function"?o.valueOf():o;o=We(u)?u+"":u}if(typeof o!="string")return o===0?o:+o;o=Bl(o);var l=rn.test(o);return l||Yi.test(o)?tp(o.slice(2),l?2:8):je.test(o)?f:+o}function ys(o){return $n(o,Xn(o))}function we(o){return o==null?"":fn(o)}var Oh=Mi(function(o,u){if(Zr(u)||$e(u))$n(u,en(u),o);else for(var l in u)Ce.call(u,l)&&Fo(o,l,u[l])}),mo=Mi(function(o,u){$n(u,Xn(u),o)}),Vs=Mi(function(o,u,l,g){$n(u,Xn(u),o,g)}),nc=Mi(function(o,u,l,g){$n(u,en(u),o,g)}),Pn=Ei(Gl),Na=ue(function(o,u){o=zt(o);var l=-1,g=u.length,b=g>2?u[2]:n;for(b&&Ue(u[0],u[1],b)&&(g=1);++l<g;)for(var E=u[l],O=Xn(E),R=-1,W=O.length;++R<W;){var A=O[R],_=o[A];(_===n||Mr(_,hi[A])&&!Ce.call(o,A))&&(o[A]=E[A])}return o}),as=ue(function(o){return o.push(n,Ga),Mn(Fs,n,o)});function rc(o,u,l){var g=o==null?n:Vr(o,u);return g===n?l:g}function Fi(o,u){return o!=null&&$l(o,u,xl)}var eu=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),o[u]=l},Tl(_n)),rh=oo(function(o,u,l){u!=null&&typeof u.toString!="function"&&(u=Rs.call(u)),Ce.call(o,u)?o[u].push(l):o[u]=[l]},Yt),Ms=ue(Po);function en(o){return $e(o)?Wu(o):Ta(o)}function Xn(o){return $e(o)?Wu(o,!0):function(l){if(!We(l))return function(O){var R=[];if(O!=null)for(var W in zt(O))R.push(W);return R}(l);var g=Zr(l),b=[];for(var E in l)(E!="constructor"||!g&&Ce.call(l,E))&&b.push(E);return b}(o)}var Mu=Mi(function(o,u,l){Si(o,u,l)}),Fs=Mi(function(o,u,l,g){Si(o,u,l,g)}),Fu=Ei(function(o,u){var l={};if(o==null)return l;var g=!1;u=Be(u,function(E){return E=ai(E,o),g||(g=E.length>1),E}),$n(o,po(o),l),g&&(l=yr(l,7,Nf));for(var b=u.length;b--;)oi(l,u[b]);return l}),ph=Ei(function(o,u){return o==null?{}:function(l,g){return Zi(l,g,function(b,E){return Fi(l,E)})}(o,u)});function Wn(o,u){if(o==null)return{};var l=Be(po(o),function(g){return[g]});return u=Yt(u),Zi(o,l,function(g,b){return u(g,b[0])})}var Pl=Ul(en),Sc=Ul(Xn);function Zn(o){return o==null?[]:yl(o,en(o))}var Tn=Lo(function(o,u,l){return u=u.toLowerCase(),o+(l?ti(u):u)});function ti(o){return Zo(we(o).toLowerCase())}function li(o){return(o=we(o))&&o.replace(xo,Gc).replace(ln,"")}var No=Lo(function(o,u,l){return o+(l?"-":"")+u.toLowerCase()}),Xa=Lo(function(o,u,l){return o+(l?" ":"")+u.toLowerCase()}),Ec=Eu("toLowerCase"),co=Lo(function(o,u,l){return o+(l?"_":"")+u.toLowerCase()}),Rc=Lo(function(o,u,l){return o+(l?" ":"")+Zo(u)}),Pu=Lo(function(o,u,l){return o+(l?" ":"")+u.toUpperCase()}),Zo=Eu("toUpperCase");function fu(o,u,l){return o=we(o),(u=l?n:u)===n?function(g){return es.test(g)}(o)?function(g){return g.match(hr)||[]}(o):function(g){return g.match(ge)||[]}(o):o.match(u)||[]}var Ps=ue(function(o,u){try{return Mn(o,n,u)}catch(l){return lu(l)?l:new Jt(l)}}),Ja=Ei(function(o,u){return Bn(u,function(l){l=Nn(l),Rr(o,l,ec(o[l],o))}),o});function Tl(o){return function(){return o}}var hu=Uo(),fl=Uo(!0);function _n(o){return o}function ic(o){return Cu(typeof o=="function"?o:yr(o,1))}var ca=ue(function(o,u){return function(l){return Po(l,o,u)}}),Jc=ue(function(o,u){return function(l){return Po(o,l,u)}});function Qa(o,u,l){var g=en(u),b=ma(u,g);l!=null||We(u)&&(b.length||!g.length)||(l=u,u=o,o=this,b=ma(u,en(u)));var E=!(We(l)&&"chain"in l&&!l.chain),O=yi(o);return Bn(b,function(R){var W=u[R];o[R]=W,O&&(o.prototype[R]=function(){var A=this.__chain__;if(E||A){var _=o(this.__wrapped__);return(_.__actions__=An(this.__actions__)).push({func:W,args:arguments,thisArg:o}),_.__chain__=A,_}return W.apply(o,Er([this.value()],arguments))})}),o}function hl(){}var Ac=Oo(Be),cf=Oo(Cs),xf=Oo(Is);function Io(o){return Dr(o)?Da(Nn(o)):function(u){return function(l){return Vr(l,u)}}(o)}var fr=Ku(),ta=Ku(!0);function qr(){return[]}function Ir(){return!1}var Ma,jc=eo(function(o,u){return o+u},0),ws=ra("ceil"),Zu=eo(function(o,u){return o/u},1),ff=ra("floor"),zf=eo(function(o,u){return o*u},1),oc=ra("round"),Qc=eo(function(o,u){return o-u},0);return P.after=function(o,u){if(typeof u!="function")throw new Pe(t);return o=se(o),function(){if(--o<1)return u.apply(this,arguments)}},P.ary=uf,P.assign=Oh,P.assignIn=mo,P.assignInWith=Vs,P.assignWith=nc,P.at=Pn,P.before=Bc,P.bind=ec,P.bindAll=Ja,P.bindKey=bf,P.castArray=function(){if(!arguments.length)return[];var o=arguments[0];return ie(o)?o:[o]},P.chain=Zf,P.chunk=function(o,u,l){u=(l?Ue(o,u,l):u===n)?1:sn(se(u),0);var g=o==null?0:o.length;if(!g||u<1)return[];for(var b=0,E=0,O=pt(Ua(g/u));b<g;)O[E++]=Un(o,b,b+=u);return O},P.compact=function(o){for(var u=-1,l=o==null?0:o.length,g=0,b=[];++u<l;){var E=o[u];E&&(b[g++]=E)}return b},P.concat=function(){var o=arguments.length;if(!o)return[];for(var u=pt(o-1),l=arguments[0],g=o;g--;)u[g-1]=arguments[g];return Er(ie(l)?An(l):[l],gn(u,1))},P.cond=function(o){var u=o==null?0:o.length,l=Yt();return o=u?Be(o,function(g){if(typeof g[1]!="function")throw new Pe(t);return[l(g[0]),g[1]]}):[],ue(function(g){for(var b=-1;++b<u;){var E=o[b];if(Mn(E[0],this,g))return Mn(E[1],this,g)}})},P.conforms=function(o){return function(u){var l=en(u);return function(g){return Vu(g,u,l)}}(yr(o,1))},P.constant=Tl,P.countBy=ms,P.create=function(o,u){var l=Go(o);return u==null?l:Hu(l,u)},P.curry=function o(u,l,g){var b=gr(u,8,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.curryRight=function o(u,l,g){var b=gr(u,16,n,n,n,n,n,l=g?n:l);return b.placeholder=o.placeholder,b},P.debounce=jf,P.defaults=Na,P.defaultsDeep=as,P.defer=ia,P.delay=ka,P.difference=Ql,P.differenceBy=mf,P.differenceWith=ch,P.drop=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=l||u===n?1:se(u))<0?0:u,g):[]},P.dropRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,0,(u=g-(u=l||u===n?1:se(u)))<0?0:u):[]},P.dropRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0,!0):[]},P.dropWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!0):[]},P.fill=function(o,u,l,g){var b=o==null?0:o.length;return b?(l&&typeof l!="number"&&Ue(o,u,l)&&(l=0,g=b),function(E,O,R,W){var A=E.length;for((R=se(R))<0&&(R=-R>A?0:A+R),(W=W===n||W>A?A:se(W))<0&&(W+=A),W=R>W?0:vs(W);R<W;)E[R++]=O;return E}(o,u,l,g)):[]},P.filter=function(o,u){return(ie(o)?Br:au)(o,Yt(u,3))},P.flatMap=function(o,u){return gn(uu(o,u),1)},P.flatMapDeep=function(o,u){return gn(uu(o,u),s)},P.flatMapDepth=function(o,u,l){return l=l===n?1:se(l),gn(uu(o,u),l)},P.flatten=Oa,P.flattenDeep=function(o){return o!=null&&o.length?gn(o,s):[]},P.flattenDepth=function(o,u){return o!=null&&o.length?gn(o,u=u===n?1:se(u)):[]},P.flip=function(o){return gr(o,512)},P.flow=hu,P.flowRight=fl,P.fromPairs=function(o){for(var u=-1,l=o==null?0:o.length,g={};++u<l;){var b=o[u];g[b[0]]=b[1]}return g},P.functions=function(o){return o==null?[]:ma(o,en(o))},P.functionsIn=function(o){return o==null?[]:ma(o,Xn(o))},P.groupBy=Dh,P.initial=function(o){return o!=null&&o.length?Un(o,0,-1):[]},P.intersection=Ml,P.intersectionBy=vf,P.intersectionWith=yf,P.invert=eu,P.invertBy=rh,P.invokeMap=Rf,P.iteratee=ic,P.keyBy=tc,P.keys=en,P.keysIn=Xn,P.map=uu,P.mapKeys=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,u(g,b,E),g)}),l},P.mapValues=function(o,u){var l={};return u=Yt(u,3),bn(o,function(g,b,E){Rr(l,b,u(g,b,E))}),l},P.matches=function(o){return zs(yr(o,1))},P.matchesProperty=function(o,u){return Wi(o,yr(u,1))},P.memoize=Ju,P.merge=Mu,P.mergeWith=Fs,P.method=ca,P.methodOf=Jc,P.mixin=Qa,P.negate=ks,P.nthArg=function(o){return o=se(o),ue(function(u){return _u(u,o)})},P.omit=Fu,P.omitBy=function(o,u){return Wn(o,ks(Yt(u)))},P.once=function(o){return Bc(2,o)},P.orderBy=function(o,u,l,g){return o==null?[]:(ie(u)||(u=u==null?[]:[u]),ie(l=g?n:l)||(l=l==null?[]:[l]),Qs(o,u,l))},P.over=Ac,P.overArgs=nh,P.overEvery=cf,P.overSome=xf,P.partial=Fl,P.partialRight=lf,P.partition=eh,P.pick=ph,P.pickBy=Wn,P.property=Io,P.propertyOf=function(o){return function(u){return o==null?n:Vr(o,u)}},P.pull=ul,P.pullAll=tu,P.pullAllBy=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,Yt(l,2)):o},P.pullAllWith=function(o,u,l){return o&&o.length&&u&&u.length?Dl(o,u,n,l):o},P.pullAt=fh,P.range=fr,P.rangeRight=ta,P.rearg=ll,P.reject=function(o,u){return(ie(o)?Br:au)(o,ks(Yt(u,3)))},P.remove=function(o,u){var l=[];if(!o||!o.length)return l;var g=-1,b=[],E=o.length;for(u=Yt(u,3);++g<E;){var O=o[g];u(O,g,o)&&(l.push(O),b.push(g))}return zl(o,b),l},P.rest=function(o,u){if(typeof o!="function")throw new Pe(t);return ue(o,u=u===n?u:se(u))},P.reverse=Gu,P.sampleSize=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),(ie(o)?Bi:mi)(o,u)},P.set=function(o,u,l){return o==null?o:os(o,u,l)},P.setWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:os(o,u,l,g)},P.shuffle=function(o){return(ie(o)?Kl:ol)(o)},P.slice=function(o,u,l){var g=o==null?0:o.length;return g?(l&&typeof l!="number"&&Ue(o,u,l)?(u=0,l=g):(u=u==null?0:se(u),l=l===n?g:se(l)),Un(o,u,l)):[]},P.sortBy=Ch,P.sortedUniq=function(o){return o&&o.length?Or(o):[]},P.sortedUniqBy=function(o,u){return o&&o.length?Or(o,Yt(u,2)):[]},P.split=function(o,u,l){return l&&typeof l!="number"&&Ue(o,u,l)&&(u=l=n),(l=l===n?d:l>>>0)?(o=we(o))&&(typeof u=="string"||u!=null&&!Li(u))&&!(u=fn(u))&&ha(o)?Ur(xr(o),0,l):o.split(u,l):[]},P.spread=function(o,u){if(typeof o!="function")throw new Pe(t);return u=u==null?0:sn(se(u),0),ue(function(l){var g=l[u],b=Ur(l,0,u);return g&&Er(b,g),Mn(o,this,b)})},P.tail=function(o){var u=o==null?0:o.length;return u?Un(o,1,u):[]},P.take=function(o,u,l){return o&&o.length?Un(o,0,(u=l||u===n?1:se(u))<0?0:u):[]},P.takeRight=function(o,u,l){var g=o==null?0:o.length;return g?Un(o,(u=g-(u=l||u===n?1:se(u)))<0?0:u,g):[]},P.takeRightWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3),!1,!0):[]},P.takeWhile=function(o,u){return o&&o.length?Va(o,Yt(u,3)):[]},P.tap=function(o,u){return u(o),o},P.throttle=function(o,u,l){var g=!0,b=!0;if(typeof o!="function")throw new Pe(t);return We(l)&&(g="leading"in l?!!l.leading:g,b="trailing"in l?!!l.trailing:b),jf(o,u,{leading:g,maxWait:u,trailing:b})},P.thru=Yu,P.toArray=cl,P.toPairs=Pl,P.toPairsIn=Sc,P.toPath=function(o){return ie(o)?Be(o,Nn):jn(o)?[o]:An(Ic(we(o)))},P.toPlainObject=ys,P.transform=function(o,u,l){var g=ie(o),b=g||Nr(o)||xn(o);if(u=Yt(u,4),l==null){var E=o&&o.constructor;l=b?g?new E:[]:We(o)&&yi(E)?Go(ea(o)):{}}return(b?Bn:bn)(o,function(O,R,W){return u(l,O,R,W)}),l},P.unary=function(o){return uf(o,1)},P.union=Dc,P.unionBy=Hl,P.unionWith=Qf,P.uniq=function(o){return o&&o.length?Yn(o):[]},P.uniqBy=function(o,u){return o&&o.length?Yn(o,Yt(u,2)):[]},P.uniqWith=function(o,u){return u=typeof u=="function"?u:n,o&&o.length?Yn(o,n,u):[]},P.unset=function(o,u){return o==null||oi(o,u)},P.unzip=Cc,P.unzipWith=su,P.update=function(o,u,l){return o==null?o:na(o,u,di(l))},P.updateWith=function(o,u,l,g){return g=typeof g=="function"?g:n,o==null?o:na(o,u,di(l),g)},P.values=Zn,P.valuesIn=function(o){return o==null?[]:yl(o,Xn(o))},P.without=Mh,P.words=fu,P.wrap=function(o,u){return Fl(di(u),o)},P.xor=Fh,P.xorBy=Ph,P.xorWith=hh,P.zip=Th,P.zipObject=function(o,u){return Yo(o||[],u||[],Fo)},P.zipObjectDeep=function(o,u){return Yo(o||[],u||[],os)},P.zipWith=If,P.entries=Pl,P.entriesIn=Sc,P.extend=mo,P.extendWith=Vs,Qa(P,P),P.add=jc,P.attempt=Ps,P.camelCase=Tn,P.capitalize=ti,P.ceil=ws,P.clamp=function(o,u,l){return l===n&&(l=u,u=n),l!==n&&(l=(l=Qe(l))==l?l:0),u!==n&&(u=(u=Qe(u))==u?u:0),Qi(Qe(o),u,l)},P.clone=function(o){return yr(o,4)},P.cloneDeep=function(o){return yr(o,5)},P.cloneDeepWith=function(o,u){return yr(o,5,u=typeof u=="function"?u:n)},P.cloneWith=function(o,u){return yr(o,4,u=typeof u=="function"?u:n)},P.conformsTo=function(o,u){return u==null||Vu(o,u,en(u))},P.deburr=li,P.defaultTo=function(o,u){return o==null||o!=o?u:o},P.divide=Zu,P.endsWith=function(o,u,l){o=we(o),u=fn(u);var g=o.length,b=l=l===n?g:Qi(se(l),0,g);return(l-=u.length)>=0&&o.slice(l,b)==u},P.eq=Mr,P.escape=function(o){return(o=we(o))&&He.test(o)?o.replace(Oe,Tc):o},P.escapeRegExp=function(o){return(o=we(o))&&bt.test(o)?o.replace(dt,"\\$&"):o},P.every=function(o,u,l){var g=ie(o)?Cs:fc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.find=Bf,P.findIndex=Zl,P.findKey=function(o,u){return ql(o,Yt(u,3),bn)},P.findLast=af,P.findLastIndex=uo,P.findLastKey=function(o,u){return ql(o,Yt(u,3),Sa)},P.floor=ff,P.forEach=wf,P.forEachRight=sf,P.forIn=function(o,u){return o==null?o:hc(o,Yt(u,3),Xn)},P.forInRight=function(o,u){return o==null?o:Ha(o,Yt(u,3),Xn)},P.forOwn=function(o,u){return o&&bn(o,Yt(u,3))},P.forOwnRight=function(o,u){return o&&Sa(o,Yt(u,3))},P.get=rc,P.gt=Lf,P.gte=gc,P.has=function(o,u){return o!=null&&$l(o,u,Ls)},P.hasIn=Fi,P.head=lo,P.identity=_n,P.includes=function(o,u,l,g){o=$e(o)?o:Zn(o),l=l&&!g?se(l):0;var b=o.length;return l<0&&(l=sn(b+l,0)),ku(o)?l<=b&&o.indexOf(u,l)>-1:!!b&&Ii(o,u,l)>-1},P.indexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=l==null?0:se(l);return b<0&&(b=sn(g+b,0)),Ii(o,u,b)},P.inRange=function(o,u,l){return u=ui(u),l===n?(l=u,u=0):l=ui(l),function(g,b,E){return g>=on(b,E)&&g<sn(b,E)}(o=Qe(o),u,l)},P.invoke=Ms,P.isArguments=Eo,P.isArray=ie,P.isArrayBuffer=_c,P.isArrayLike=$e,P.isArrayLikeObject=Je,P.isBoolean=function(o){return o===!0||o===!1||Le(o)&&tn(o)==w},P.isBuffer=Nr,P.isDate=$o,P.isElement=function(o){return Le(o)&&o.nodeType===1&&!la(o)},P.isEmpty=function(o){if(o==null)return!0;if($e(o)&&(ie(o)||typeof o=="string"||typeof o.splice=="function"||Nr(o)||xn(o)||Eo(o)))return!o.length;var u=cn(o);if(u==B||u==X)return!o.size;if(Zr(o))return!Ta(o).length;for(var l in o)if(Ce.call(o,l))return!1;return!0},P.isEqual=function(o,u){return _o(o,u)},P.isEqualWith=function(o,u,l){var g=(l=typeof l=="function"?l:n)?l(o,u):n;return g===n?_o(o,u,n,l):!!g},P.isError=lu,P.isFinite=function(o){return typeof o=="number"&&Nc(o)},P.isFunction=yi,P.isInteger=cu,P.isLength=Gn,P.isMap=Qn,P.isMatch=function(o,u){return o===u||jo(o,u,er(u))},P.isMatchWith=function(o,u,l){return l=typeof l=="function"?l:n,jo(o,u,er(u),l)},P.isNaN=function(o){return lr(o)&&o!=+o},P.isNative=function(o){if(Al(o))throw new Jt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return qu(o)},P.isNil=function(o){return o==null},P.isNull=function(o){return o===null},P.isNumber=lr,P.isObject=We,P.isObjectLike=Le,P.isPlainObject=la,P.isRegExp=Li,P.isSafeInteger=function(o){return cu(o)&&o>=-9007199254740991&&o<=c},P.isSet=Qu,P.isString=ku,P.isSymbol=jn,P.isTypedArray=xn,P.isUndefined=function(o){return o===n},P.isWeakMap=function(o){return Le(o)&&cn(o)==ct},P.isWeakSet=function(o){return Le(o)&&tn(o)=="[object WeakSet]"},P.join=function(o,u){return o==null?"":Wh.call(o,u)},P.kebabCase=No,P.last=Ar,P.lastIndexOf=function(o,u,l){var g=o==null?0:o.length;if(!g)return-1;var b=g;return l!==n&&(b=(b=se(l))<0?sn(g+b,0):on(b,g-1)),u==u?function(E,O,R){for(var W=R+1;W--;)if(E[W]===O)return W;return W}(o,u,b):jr(o,Bs,b,!0)},P.lowerCase=Xa,P.lowerFirst=Ec,P.lt=Wo,P.lte=Ae,P.max=function(o){return o&&o.length?Wa(o,_n,Ho):n},P.maxBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),Ho):n},P.mean=function(o){return xu(o,_n)},P.meanBy=function(o,u){return xu(o,Yt(u,2))},P.min=function(o){return o&&o.length?Wa(o,_n,dr):n},P.minBy=function(o,u){return o&&o.length?Wa(o,Yt(u,2),dr):n},P.stubArray=qr,P.stubFalse=Ir,P.stubObject=function(){return{}},P.stubString=function(){return""},P.stubTrue=function(){return!0},P.multiply=zf,P.nth=function(o,u){return o&&o.length?_u(o,se(u)):n},P.noConflict=function(){return ze._===this&&(ze._=pf),this},P.noop=hl,P.now=Xu,P.pad=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;if(!u||g>=u)return o;var b=(u-g)/2;return Xo($u(b),l)+o+Xo(Ua(b),l)},P.padEnd=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?o+Xo(u-g,l):o},P.padStart=function(o,u,l){o=we(o);var g=(u=se(u))?Wr(o):0;return u&&g<u?Xo(u-g,l)+o:o},P.parseInt=function(o,u,l){return l||u==null?u=0:u&&(u=+u),Du(we(o).replace(Ot,""),u||0)},P.random=function(o,u,l){if(l&&typeof l!="boolean"&&Ue(o,u,l)&&(u=l=n),l===n&&(typeof u=="boolean"?(l=u,u=n):typeof o=="boolean"&&(l=o,o=n)),o===n&&u===n?(o=0,u=1):(o=ui(o),u===n?(u=o,o=0):u=ui(u)),o>u){var g=o;o=u,u=g}if(l||o%1||u%1){var b=df();return on(o+b*(u-o+xa("1e-"+((b+"").length-1))),u)}return fs(o,u)},P.reduce=function(o,u,l){var g=ie(o)?Jr:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,ki)},P.reduceRight=function(o,u,l){var g=ie(o)?ef:Pc,b=arguments.length<3;return g(o,Yt(u,4),l,b,Ss)},P.repeat=function(o,u,l){return u=(l?Ue(o,u,l):u===n)?1:se(u),Us(we(o),u)},P.replace=function(){var o=arguments,u=we(o[0]);return o.length<3?u:u.replace(o[1],o[2])},P.result=function(o,u,l){var g=-1,b=(u=ai(u,o)).length;for(b||(b=1,o=n);++g<b;){var E=o==null?n:o[Nn(u[g])];E===n&&(g=b,E=l),o=yi(E)?E.call(o):E}return o},P.round=oc,P.runInContext=J,P.sample=function(o){return(ie(o)?En:Es)(o)},P.size=function(o){if(o==null)return 0;if($e(o))return ku(o)?Wr(o):o.length;var u=cn(o);return u==B||u==X?o.size:Ta(o).length},P.snakeCase=co,P.some=function(o,u,l){var g=ie(o)?Is:Xc;return l&&Ue(o,u,l)&&(u=n),g(o,Yt(u,3))},P.sortedIndex=function(o,u){return Fn(o,u)},P.sortedIndexBy=function(o,u,l){return to(o,u,Yt(l,2))},P.sortedIndexOf=function(o,u){var l=o==null?0:o.length;if(l){var g=Fn(o,u);if(g<l&&Mr(o[g],u))return g}return-1},P.sortedLastIndex=function(o,u){return Fn(o,u,!0)},P.sortedLastIndexBy=function(o,u,l){return to(o,u,Yt(l,2),!0)},P.sortedLastIndexOf=function(o,u){if(o!=null&&o.length){var l=Fn(o,u,!0)-1;if(Mr(o[l],u))return l}return-1},P.startCase=Rc,P.startsWith=function(o,u,l){return o=we(o),l=l==null?0:Qi(se(l),0,o.length),u=fn(u),o.slice(l,l+u.length)==u},P.subtract=Qc,P.sum=function(o){return o&&o.length?Ys(o,_n):0},P.sumBy=function(o,u){return o&&o.length?Ys(o,Yt(u,2)):0},P.template=function(o,u,l){var g=P.templateSettings;l&&Ue(o,u,l)&&(u=n),o=we(o),u=Vs({},u,g,$s);var b,E,O=Vs({},u.imports,g.imports,$s),R=en(O),W=yl(O,R),A=0,_=u.interpolate||Ai,T="__p += '",U=Ne((u.escape||Ai).source+"|"+_.source+"|"+(_===cr?Xe:Ai).source+"|"+(u.evaluate||Ai).source+"|$","g"),G="//# sourceURL="+(Ce.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Do+"]")+`
`;o.replace(U,function(tt,ut,ot,wt,yt,jt){return ot||(ot=wt),T+=o.slice(A,jt).replace(us,Lu),ut&&(b=!0,T+=`' +
__e(`+ut+`) +
'`),yt&&(E=!0,T+=`';
`+yt+`;
__p += '`),ot&&(T+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),A=jt+tt.length,tt}),T+=`';
`;var Z=Ce.call(u,"variable")&&u.variable;if(Z){if(Ee.test(Z))throw new Jt("Invalid `variable` option passed into `_.template`")}else T=`with (obj) {
`+T+`
}
`;T=(E?T.replace(Lt,""):T).replace(ee,"$1").replace(pe,"$1;"),T="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(b?", __e = _.escape":"")+(E?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+T+`return __p
}`;var K=Ps(function(){return Fe(R,G+"return "+T).apply(n,W)});if(K.source=T,lu(K))throw K;return K},P.times=function(o,u){if((o=se(o))<1||o>c)return[];var l=d,g=on(o,d);u=Yt(u),o-=d;for(var b=Il(g,u);++l<o;)u(l);return b},P.toFinite=ui,P.toInteger=se,P.toLength=vs,P.toLower=function(o){return we(o).toLowerCase()},P.toNumber=Qe,P.toSafeInteger=function(o){return o?Qi(se(o),-9007199254740991,c):o===0?o:0},P.toString=we,P.toUpper=function(o){return we(o).toUpperCase()},P.trim=function(o,u,l){if((o=we(o))&&(l||u===n))return Bl(o);if(!o||!(u=fn(u)))return o;var g=xr(o),b=xr(u);return Ur(g,wl(g,b),Xs(g,b)+1).join("")},P.trimEnd=function(o,u,l){if((o=we(o))&&(l||u===n))return o.slice(0,La(o)+1);if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,0,Xs(g,xr(u))+1).join("")},P.trimStart=function(o,u,l){if((o=we(o))&&(l||u===n))return o.replace(Ot,"");if(!o||!(u=fn(u)))return o;var g=xr(o);return Ur(g,wl(g,xr(u))).join("")},P.truncate=function(o,u){var l=30,g="...";if(We(u)){var b="separator"in u?u.separator:b;l="length"in u?se(u.length):l,g="omission"in u?fn(u.omission):g}var E=(o=we(o)).length;if(ha(o)){var O=xr(o);E=O.length}if(l>=E)return o;var R=l-Wr(g);if(R<1)return g;var W=O?Ur(O,0,R).join(""):o.slice(0,R);if(b===n)return W+g;if(O&&(R+=W.length-R),Li(b)){if(o.slice(R).search(b)){var A,_=W;for(b.global||(b=Ne(b.source,we(Se.exec(b))+"g")),b.lastIndex=0;A=b.exec(_);)var T=A.index;W=W.slice(0,T===n?R:T)}}else if(o.indexOf(fn(b),R)!=R){var U=W.lastIndexOf(b);U>-1&&(W=W.slice(0,U))}return W+g},P.unescape=function(o){return(o=we(o))&&qe.test(o)?o.replace(ve,lc):o},P.uniqueId=function(o){var u=++kh;return we(o)+u},P.upperCase=Pu,P.upperFirst=Zo,P.each=wf,P.eachRight=sf,P.first=lo,Qa(P,(Ma={},bn(P,function(o,u){Ce.call(P.prototype,u)||(Ma[u]=o)}),Ma),{chain:!1}),P.VERSION="4.17.21",Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){P[o].placeholder=P}),Bn(["drop","take"],function(o,u){ce.prototype[o]=function(l){l=l===n?1:sn(se(l),0);var g=this.__filtered__&&!u?new ce(this):this.clone();return g.__filtered__?g.__takeCount__=on(l,g.__takeCount__):g.__views__.push({size:on(l,d),type:o+(g.__dir__<0?"Right":"")}),g},ce.prototype[o+"Right"]=function(l){return this.reverse()[o](l).reverse()}}),Bn(["filter","map","takeWhile"],function(o,u){var l=u+1,g=l==1||l==3;ce.prototype[o]=function(b){var E=this.clone();return E.__iteratees__.push({iteratee:Yt(b,3),type:l}),E.__filtered__=E.__filtered__||g,E}}),Bn(["head","last"],function(o,u){var l="take"+(u?"Right":"");ce.prototype[o]=function(){return this[l](1).value()[0]}}),Bn(["initial","tail"],function(o,u){var l="drop"+(u?"":"Right");ce.prototype[o]=function(){return this.__filtered__?new ce(this):this[l](1)}}),ce.prototype.compact=function(){return this.filter(_n)},ce.prototype.find=function(o){return this.filter(o).head()},ce.prototype.findLast=function(o){return this.reverse().find(o)},ce.prototype.invokeMap=ue(function(o,u){return typeof o=="function"?new ce(this):this.map(function(l){return Po(l,o,u)})}),ce.prototype.reject=function(o){return this.filter(ks(Yt(o)))},ce.prototype.slice=function(o,u){o=se(o);var l=this;return l.__filtered__&&(o>0||u<0)?new ce(l):(o<0?l=l.takeRight(-o):o&&(l=l.drop(o)),u!==n&&(l=(u=se(u))<0?l.dropRight(-u):l.take(u-o)),l)},ce.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},ce.prototype.toArray=function(){return this.take(d)},bn(ce.prototype,function(o,u){var l=/^(?:filter|find|map|reject)|While$/.test(u),g=/^(?:head|last)$/.test(u),b=P[g?"take"+(u=="last"?"Right":""):u],E=g||/^find/.test(u);b&&(P.prototype[u]=function(){var O=this.__wrapped__,R=g?[1]:arguments,W=O instanceof ce,A=R[0],_=W||ie(O),T=function(ut){var ot=b.apply(P,Er([ut],R));return g&&U?ot[0]:ot};_&&l&&typeof A=="function"&&A.length!=1&&(W=_=!1);var U=this.__chain__,G=!!this.__actions__.length,Z=E&&!U,K=W&&!G;if(!E&&_){O=K?O:new ce(this);var tt=o.apply(O,R);return tt.__actions__.push({func:Yu,args:[T],thisArg:n}),new or(tt,U)}return Z&&K?o.apply(this,R):(tt=this.thru(T),Z?g?tt.value()[0]:tt.value():tt)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(o){var u=vr[o],l=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",g=/^(?:pop|shift)$/.test(o);P.prototype[o]=function(){var b=arguments;if(g&&!this.__chain__){var E=this.value();return u.apply(ie(E)?E:[],b)}return this[l](function(O){return u.apply(ie(O)?O:[],b)})}}),bn(ce.prototype,function(o,u){var l=P[u];if(l){var g=l.name+"";Ce.call(Mo,g)||(Mo[g]=[]),Mo[g].push({name:u,func:l})}}),Mo[To(n,2).name]=[{name:"wrapper",func:n}],ce.prototype.clone=function(){var o=new ce(this.__wrapped__);return o.__actions__=An(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=An(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=An(this.__views__),o},ce.prototype.reverse=function(){if(this.__filtered__){var o=new ce(this);o.__dir__=-1,o.__filtered__=!0}else(o=this.clone()).__dir__*=-1;return o},ce.prototype.value=function(){var o=this.__wrapped__.value(),u=this.__dir__,l=ie(o),g=u<0,b=l?o.length:0,E=function(jt,xt,It){for(var ae=-1,Ht=It.length;++ae<Ht;){var ye=It[ae],oe=ye.size;switch(ye.type){case"drop":jt+=oe;break;case"dropRight":xt-=oe;break;case"take":xt=on(xt,jt+oe);break;case"takeRight":jt=sn(jt,xt-oe)}}return{start:jt,end:xt}}(0,b,this.__views__),O=E.start,R=E.end,W=R-O,A=g?R:O-1,_=this.__iteratees__,T=_.length,U=0,G=on(W,this.__takeCount__);if(!l||!g&&b==W&&G==W)return qa(o,this.__actions__);var Z=[];t:for(;W--&&U<G;){for(var K=-1,tt=o[A+=u];++K<T;){var ut=_[K],ot=ut.iteratee,wt=ut.type,yt=ot(tt);if(wt==2)tt=yt;else if(!yt){if(wt==1)continue t;break t}}Z[U++]=tt}return Z},P.prototype.at=th,P.prototype.chain=function(){return Zf(this)},P.prototype.commit=function(){return new or(this.value(),this.__chain__)},P.prototype.next=function(){this.__values__===n&&(this.__values__=cl(this.value()));var o=this.__index__>=this.__values__.length;return{done:o,value:o?n:this.__values__[this.__index__++]}},P.prototype.plant=function(o){for(var u,l=this;l instanceof Pt;){var g=Au(l);g.__index__=0,g.__values__=n,u?b.__wrapped__=g:u=g;var b=g;l=l.__wrapped__}return b.__wrapped__=o,u},P.prototype.reverse=function(){var o=this.__wrapped__;if(o instanceof ce){var u=o;return this.__actions__.length&&(u=new ce(this)),(u=u.reverse()).__actions__.push({func:Yu,args:[Gu],thisArg:n}),new or(u,this.__chain__)}return this.thru(Gu)},P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=function(){return qa(this.__wrapped__,this.__actions__)},P.prototype.first=P.prototype.head,io&&(P.prototype[io]=function(){return this}),P}();kr?((kr.exports=Co)._=Co,$i._=Co):ze._=Co}).call(__.exports)),__.exports);function l7(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function uE(){return uE=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},uE.apply(null,arguments)}(function(){function n(t,e){this.isCanvasRoot=!0,this.DEBUG=!1,this.onUpdateFunction=void 0,this.scheduledStateUpdates=[],this.scheduledUpdateIds=[],this.scheduledUpdateNodeMap={},this.currentUpdateId="",this.updateScheduled=!1,this.updateRunning=!1,this.taintedLayers=[],this.cameraNode=void 0,this.scheduledCameraNode=void 0,this.canvas=e,this.rootNode=t(this),this.rootNode.windowDidMountPrimitive(this.rootNode.props),this.rootNode.setAsPrimaryCamera()}Object.defineProperty(n.prototype,"windows",{get:function(){var t=function(e){return Ug([e],e.children.flatMap(t))};return $ht.orderBy(t(this.rootNode),function(e){return e.getLayer()},"asc")},enumerable:!1,configurable:!0}),n.prototype.logWindows=function(){var t=function(e){var r=e._boxSnapshot,i=[];if(i.push("KEY: ".concat(e.key)),e._isPrimaryCamera&&i.push("[[PRIMARY CAMERA]]"),i.push("LAYER: ".concat(e.getLayer())),i.push("BOX: [".concat(e.o[0],", ").concat(e.o[1],", ").concat(e.w,", ").concat(e.h,"]")),i.push("GLOBAL O: [".concat(e.globalO[0],", ").concat(e.globalO[1],"]")),i.push("CHILDREN:"),e.children.length>0){for(var a=e.children,s=[],c=0;c<a.length;c++){var f=a[c];s.push(t(f))}for(i.push(" |"),c=0;c<s.length;c++){for(var d=s[c],h=c===s.length-1?" ":" ",m=0;m<d.length;m++){var y=m===0?h:c===s.length-1?"   ":" | ",w=d[m];i.push("".concat(y,"  ").concat(w))}c<s.length-1&&i.push(" |")}}else i.push("  |"),i.push("   (no children)");return e._boxSnapshot=r,i};console.log(t(this.rootNode).join(`
`))},n.prototype.onUpdate=function(t){this.onUpdateFunction=t},Object.defineProperty(n.prototype,"cameraSnapshot",{get:function(){return this.cameraNode?new Vf(this.cameraNode.globalO,this.cameraNode.w,this.cameraNode.h):new Vf([0,0],this.canvas.width,this.canvas.height)},enumerable:!1,configurable:!0}),n.prototype.scheduleStateUpdate=function(t,e){var r=this.scheduleUpdate(t);this.scheduledStateUpdates.push([r,function(){t.state=e}])},n.prototype.scheduleContextUpdate=function(t,e,r){var i=this.scheduleUpdate(t);this.scheduledStateUpdates.push([i,function(){t.context[e]=r}])},n.prototype.setSingleUpdateFlag=function(t,e){this.scheduledUpdateNodeMap[e]||(this.scheduledUpdateNodeMap[e]={}),this.scheduledUpdateNodeMap[e][t.globalKey]=!0},n.prototype.scheduleUpdate=function(t){var e=this,r=function(){e.DEBUG&&console.log("Scheduling update for ".concat(t.globalKey,". Received id ").concat(e.currentUpdateId))};if(!this.updateRunning&&!this.updateScheduled){this.updateScheduled=!0;var i=l7();return this.scheduledUpdateIds.push(i),this.currentUpdateId=i,Promise.resolve().then(function(){for(e.DEBUG&&console.log("Executing batched updates: Update Ids are ".concat(JSON.stringify(e.scheduledUpdateIds,null,2),`.
                    `)),e.updateRunning=!0;e.scheduledUpdateIds.length>0;)e.updateScheduled=!1,e.updateCurrentId();e.updateRunning=!1}),this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId}if(!this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&!this.updateScheduled)return this.updateScheduled=!0,i=l7(),this.scheduledUpdateIds.push(i),this.currentUpdateId=i,this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;if(this.updateRunning&&this.updateScheduled)return this.setSingleUpdateFlag(t,this.currentUpdateId),r(),this.currentUpdateId;throw new Error("Invalid state")},n.prototype.onAnimationFrame=function(){try{this.render()}catch(t){console.error(t)}},n.prototype.propogateUpdateFlags=function(t){var e=this,r=function(i,a,s){e.scheduledUpdateNodeMap[a]||(e.scheduledUpdateNodeMap[a]={}),e.scheduledUpdateNodeMap[a][i.globalKey]&&(s=!0),e.scheduledUpdateNodeMap[a][i.globalKey]=s,i.children.forEach(function(c){return r(c,a,s)})};r(this.rootNode,t,!1)},n.prototype.updateCurrentId=function(){var t=this,e=this.scheduledUpdateIds[0];Object.keys(this.scheduledUpdateNodeMap[e]).forEach(function(i){t.propogateUpdateFlags(e)}),this.DEBUG&&console.log("STARTING UPDATE: Update with id: ".concat(this.scheduledUpdateIds[0],`. 
STATE UPDATE STAGE. State updates are scheduled for `).concat(this.scheduledStateUpdates.map(function(i){return i[0]}),`.
            `)),this.scheduledUpdateIds=this.scheduledUpdateIds.filter(function(i){return i!==e}),this.scheduledStateUpdates.filter(function(i){return i[0]===e}).forEach(function(i){return i[0],(0,i[1])()}),this.scheduledStateUpdates=this.scheduledStateUpdates.filter(function(i){return i[0]!==e});var r=this.scheduledUpdateNodeMap[e];this.update(r),delete this.scheduledUpdateNodeMap[e]},n.prototype.taintLayer=function(t){this.taintedLayers.includes(t)||this.taintedLayers.push(t)},n.prototype.findCameraPathRecursive=function(t,e){var r,i;if(t._isPrimaryCamera){var a=t.globalKey;return gu(gu({},e),((r={})[a]=!0,r))}for(var s=t.children,c=0;c<s.length;c++){var f=s[c],d=(a=f.globalKey,gu(gu({},e),((i={})[a]=!0,i))),h=this.findCameraPathRecursive(f,d);if(h)return h}},n.prototype.AND_updateMaps=function(t,e){var r={};for(var i in t)e[i]&&(r[i]=!0);return r},n.prototype.XOR_updateMaps=function(t,e){var r={};for(var i in t)e[i]||(r[i]=!0);for(var i in e)t[i]||(r[i]=!0);return r},n.prototype.factorizeUpdateMap=function(t,e){var r=this.AND_updateMaps(t,e);return[r,this.XOR_updateMaps(t,r)]},n.prototype.setNeedsUpdateToMap=function(t){var e=function(r){var i=r.globalKey;t[i]?r._needsUpdate=!0:r._needsUpdate=!1,r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.setNeedsUpdateToMapAdd=function(t){var e=function(r){var i=r.globalKey;t[i]&&(r._needsUpdate=!0),r.children.forEach(function(a){return e(a)})};e(this.rootNode)},n.prototype.installCamera=function(t){this.cameraNode!==t&&(this.scheduledCameraNode=t,this.scheduleUpdate(this.rootNode))},n.prototype.update=function(t){this.onUpdateFunction&&this.onUpdateFunction(),this.scheduledCameraNode&&(this.cameraNode&&(this.cameraNode._isPrimaryCamera=!1),this.cameraNode=this.scheduledCameraNode,this.cameraNode._isPrimaryCamera=!0,this.scheduledCameraNode=void 0);var e=this.findCameraPathRecursive(this.rootNode,{});if(!e)throw new Error("No camera found in the tree");var r=this.factorizeUpdateMap(t,e),i=r[0],a=r[1];this.DEBUG&&console.log("RENDER STAGE. Updates flags are set for: ".concat(JSON.stringify(Object.keys(t),null,2),`.
Will update in the two passes:
First pass: `).concat(JSON.stringify(Object.keys(i),null,2),`
Second pass: `).concat(JSON.stringify(Object.keys(a),null,2),`
            `));var s=function(c,f){c._needsUpdate?f?c.cameraPassUpdateSelf():c.regularPassUpdateSelf():c.children.forEach(function(d){return s(d,f)})};this.setNeedsUpdateToMap(i),s(this.rootNode,!0),this.setNeedsUpdateToMapAdd(a),s(this.rootNode,!1),this.setNeedsUpdateToMap({}),this.DEBUG&&(console.log(`RENDER STAGE COMPLETE. The new tree will be displayed below.
Dirty layers are `.concat(JSON.stringify(this.taintedLayers,null,2),`.
            `)),this.logWindows())},n.prototype.render=function(){var t=this.canvas.getContext("2d");if(!t)throw new Error("Could not get 2d context from canvas");t.clearRect(0,0,this.canvas.width,this.canvas.height),function(r,i,a,s,c){var f=(r=new Vf(Ug([],r.o),r.w,r.h)).getBoundingBox(),d=i.filter(function(w){return qy(w.getBoundingBox(),f)}),h=Array.from(new Set(d.map(function(w){return w.getLayer()}))).sort(function(w,C){return w-C});s.clearRect(0,0,a.width,a.height);for(var m=function(w){var C=h[w],k=d.filter(function(X){return X.getLayer()===h[w]});if(c.includes(C)){var M=C+"";if(Ub[M]===void 0){var N=document.createElement("canvas");N.width=a.width,N.height=a.height,Ub[M]=N}var B=Ub[M],L=B.getContext("2d");L.clearRect(0,0,B.width,B.height);for(var z=0,q=k;z<q.length;z++)q[z].renderPrimitive(L)}var V=C+"";Ub[V]&&s.drawImage(Ub[V],0,0)},y=0;y<h.length;y++)m(y)}(this.cameraSnapshot,this.windows,this.canvas,t,this.taintedLayers),this.taintedLayers=[]},n.prototype.mouseDownHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new Vf(Ug([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return qy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onMouseDownPrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseMoveHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new Vf(Ug([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return qy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onMouseMovePrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseUpHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new Vf(Ug([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return qy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onMouseUpPrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)},n.prototype.mouseWheelHandler=function(t){(function(r,i,a,s){for(var c=(r=new Vf(Ug([],r.o),r.w,r.h)).getBoundingBox(),f=i.filter(function(w){return qy(w.getBoundingBox(),c)}).reverse(),d=!0,h=function(){d=!1},m=0,y=f;m<y.length&&(y[m].onWheelPrimitive(h,s),d);m++);})(this.cameraSnapshot,this.windows,this.canvas,t)},n.prototype.clickHandler=function(t,e){(function(i,a,s,c,f){for(var d=(i=new Vf(Ug([],i.o),i.w,i.h)).getBoundingBox(),h=a.filter(function(k){return qy(k.getBoundingBox(),d)}).reverse(),m=!0,y=function(){m=!1},w=0,C=h;w<C.length&&(C[w].onClickPrimitive(c,y,f),m);w++);})(this.cameraSnapshot,this.windows,this.canvas,t,e)}})();var WK={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function S_(n,t){return!(!function(e){return typeof e=="object"&&e&&e.constructor===Object}(n)&&!Array.isArray(n)||!AD(Wht,t)&&(t in Object.prototype||t in Function.prototype))}var Wht={length:!0,name:!0},Hht={toString:!0,valueOf:!0,toLocaleString:!0};class Vht{constructor(t){this.wrappedObject=t,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(t=>this.has(t)).values()}get(t){return function(r,i){if(S_(r,i))return r[i];throw typeof r[i]=="function"&&function(a,s){return!(a==null||typeof a[s]!="function"||AD(a,s)&&Object.getPrototypeOf&&s in Object.getPrototypeOf(a)||!AD(Hht,s)&&(s in Object.prototype||s in Function.prototype))}(r,i)?new Error('Cannot access method "'+i+'" as a property'):new Error('No access to property "'+i+'"')}(this.wrappedObject,t)}set(t,e){return function(r,i,a){if(S_(r,i))return r[i]=a,a;throw new Error('No access to property "'+i+'"')}(this.wrappedObject,t,e),this}has(t){return S_(this.wrappedObject,t)&&t in this.wrappedObject}entries(){return t=this.keys(),e=r=>[r,this.get(r)],{next:()=>{var r=t.next();return r.done?r:{value:e(r.value),done:!1}}};var t,e}forEach(t){for(var e of this.keys())t(this.get(e),e,this)}delete(t){S_(this.wrappedObject,t)&&delete this.wrappedObject[t]}clear(){for(var t of this.keys())this.delete(t)}get size(){return Object.keys(this.wrappedObject).length}}function Gf(n){return typeof n=="number"}function $p(n){return!(!n||typeof n!="object"||typeof n.constructor!="function")&&(n.isBigNumber===!0&&typeof n.constructor.prototype=="object"&&n.constructor.prototype.isBigNumber===!0||typeof n.constructor.isDecimal=="function"&&n.constructor.isDecimal(n)===!0)}function qht(n){return typeof n=="bigint"}function HK(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isComplex===!0||!1}function VK(n){return n&&typeof n=="object"&&Object.getPrototypeOf(n).isFraction===!0||!1}function qK(n){return n&&n.constructor.prototype.isUnit===!0||!1}function km(n){return typeof n=="string"}var Qh=Array.isArray;function Lm(n){return n&&n.constructor.prototype.isMatrix===!0||!1}function lE(n){return Array.isArray(n)||Lm(n)}function Kht(n){return n&&n.isDenseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Ght(n){return n&&n.isSparseMatrix&&n.constructor.prototype.isMatrix===!0||!1}function Yht(n){return n&&n.constructor.prototype.isRange===!0||!1}function WN(n){return n&&n.constructor.prototype.isIndex===!0||!1}function Xht(n){return typeof n=="boolean"}function Jht(n){return n&&n.constructor.prototype.isResultSet===!0||!1}function Qht(n){return n&&n.constructor.prototype.isHelp===!0||!1}function Zht(n){return typeof n=="function"}function tpt(n){return n instanceof Date}function ept(n){return n instanceof RegExp}function HN(n){return!(!n||typeof n!="object"||n.constructor!==Object||HK(n)||VK(n))}function npt(n){return!!n&&(n instanceof Map||n instanceof Vht||typeof n.set=="function"&&typeof n.get=="function"&&typeof n.keys=="function"&&typeof n.has=="function")}function rpt(n){return n===null}function ipt(n){return n===void 0}function opt(n){return n&&n.isAccessorNode===!0&&n.constructor.prototype.isNode===!0||!1}function apt(n){return n&&n.isArrayNode===!0&&n.constructor.prototype.isNode===!0||!1}function spt(n){return n&&n.isAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function upt(n){return n&&n.isBlockNode===!0&&n.constructor.prototype.isNode===!0||!1}function lpt(n){return n&&n.isConditionalNode===!0&&n.constructor.prototype.isNode===!0||!1}function cpt(n){return n&&n.isConstantNode===!0&&n.constructor.prototype.isNode===!0||!1}function fpt(n){return n&&n.isFunctionAssignmentNode===!0&&n.constructor.prototype.isNode===!0||!1}function hpt(n){return n&&n.isFunctionNode===!0&&n.constructor.prototype.isNode===!0||!1}function ppt(n){return n&&n.isIndexNode===!0&&n.constructor.prototype.isNode===!0||!1}function dpt(n){return n&&n.isNode===!0&&n.constructor.prototype.isNode===!0||!1}function gpt(n){return n&&n.isObjectNode===!0&&n.constructor.prototype.isNode===!0||!1}function mpt(n){return n&&n.isOperatorNode===!0&&n.constructor.prototype.isNode===!0||!1}function vpt(n){return n&&n.isParenthesisNode===!0&&n.constructor.prototype.isNode===!0||!1}function ypt(n){return n&&n.isRangeNode===!0&&n.constructor.prototype.isNode===!0||!1}function wpt(n){return n&&n.isRelationalNode===!0&&n.constructor.prototype.isNode===!0||!1}function bpt(n){return n&&n.isSymbolNode===!0&&n.constructor.prototype.isNode===!0||!1}function xpt(n){return n&&n.constructor.prototype.isChain===!0||!1}function ly(n){var t=typeof n;return t==="object"?n===null?"null":$p(n)?"BigNumber":n.constructor&&n.constructor.name?n.constructor.name:"Object":t}function mp(n){var t=typeof n;if(t==="number"||t==="bigint"||t==="string"||t==="boolean"||n==null)return n;if(typeof n.clone=="function")return n.clone();if(Array.isArray(n))return n.map(function(e){return mp(e)});if(n instanceof Date)return new Date(n.valueOf());if($p(n))return n;if(HN(n))return function(e,r){var i={};for(var a in e)AD(e,a)&&(i[a]=r(e[a]));return i}(n,mp);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(n,")"))}function E0(n,t){var e,r,i;if(Array.isArray(n)){if(!Array.isArray(t)||n.length!==t.length)return!1;for(r=0,i=n.length;r<i;r++)if(!E0(n[r],t[r]))return!1;return!0}if(typeof n=="function")return n===t;if(n instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(e in n)if(!(e in t)||!E0(n[e],t[e]))return!1;for(e in t)if(!(e in n))return!1;return!0}return n===t}function AD(n,t){return n&&Object.hasOwnProperty.call(n,t)}var VN=function(n){if(n)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(WK)};function c7(){return!0}function gg(){return!1}function Ky(){}uE(VN,WK,{MATRIX_OPTIONS:["Matrix","Array"],NUMBER_OPTIONS:["number","BigNumber","Fraction"]});const f7="Argument is not a typed-function.";var cE=function n(){function t(rt){return typeof rt=="object"&&rt!==null&&rt.constructor===Object}const e=[{name:"number",test:function(rt){return typeof rt=="number"}},{name:"string",test:function(rt){return typeof rt=="string"}},{name:"boolean",test:function(rt){return typeof rt=="boolean"}},{name:"Function",test:function(rt){return typeof rt=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(rt){return rt instanceof Date}},{name:"RegExp",test:function(rt){return rt instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(rt){return rt===null}},{name:"undefined",test:function(rt){return rt===void 0}}],r={name:"any",test:c7,isAny:!0};let i,a,s=0,c={createCount:0};function f(rt){const dt=i.get(rt);if(dt)return dt;let bt='Unknown type "'+rt+'"';const Ot=rt.toLowerCase();let Bt;for(Bt of a)if(Bt.toLowerCase()===Ot){bt+='. Did you mean "'+Bt+'" ?';break}throw new TypeError(bt)}function d(rt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const bt=dt?f(dt).index:a.length,Ot=[];for(let Rt=0;Rt<rt.length;++Rt){if(!rt[Rt]||typeof rt[Rt].name!="string"||typeof rt[Rt].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const Xt=rt[Rt].name;if(i.has(Xt))throw new TypeError('Duplicate type name "'+Xt+'"');Ot.push(Xt),i.set(Xt,{name:Xt,test:rt[Rt].test,isAny:rt[Rt].isAny,index:bt+Rt,conversionsTo:[]})}const Bt=a.slice(bt);a=a.slice(0,bt).concat(Ot).concat(Bt);for(let Rt=bt+Ot.length;Rt<a.length;++Rt)i.get(a[Rt]).index=Rt}function h(){i=new Map,a=[],s=0,d([r],!1)}function m(rt){const dt=a.filter(bt=>{const Ot=i.get(bt);return!Ot.isAny&&Ot.test(rt)});return dt.length?dt:["any"]}function y(rt){return rt&&typeof rt=="function"&&"_typedFunctionData"in rt}function w(rt,dt,bt){if(!y(rt))throw new TypeError(f7);const Ot=bt&&bt.exact,Bt=B(Array.isArray(dt)?dt.join(","):dt),Rt=C(Bt);if(!Ot||Rt in rt.signatures){const Ee=rt._typedFunctionData.signatureMap.get(Rt);if(Ee)return Ee}const Xt=Bt.length;let Kt,ge;if(Ot){let Ee;for(Ee in Kt=[],rt.signatures)Kt.push(rt._typedFunctionData.signatureMap.get(Ee))}else Kt=rt._typedFunctionData.signatures;for(let Ee=0;Ee<Xt;++Ee){const Ze=Bt[Ee],Xe=[];let Se;for(Se of Kt){const je=V(Se.params,Ee);if(je&&(!Ze.restParam||je.restParam)){if(!je.hasAny){const rn=N(je);if(Ze.types.some(zi=>!rn.has(zi.name)))continue}Xe.push(Se)}}if(Kt=Xe,Kt.length===0)break}for(ge of Kt)if(ge.params.length<=Xt)return ge;throw new TypeError("Signature not found (signature: "+(rt.name||"unnamed")+"("+C(Bt,", ")+"))")}function C(rt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return rt.map(bt=>bt.name).join(dt)}function k(rt){const dt=rt.indexOf("...")===0,bt=(dt?rt.length>3?rt.slice(3):"any":rt).split("|").map(Rt=>f(Rt.trim()));let Ot=!1,Bt=dt?"...":"";return{types:bt.map(function(Rt){return Ot=Rt.isAny||Ot,Bt+=Rt.name+"|",{name:Rt.name,typeIndex:Rt.index,test:Rt.test,isAny:Rt.isAny,conversion:null,conversionIndex:-1}}),name:Bt.slice(0,-1),hasAny:Ot,hasConversion:!1,restParam:dt}}function M(rt){const dt=function(Rt){if(Rt.length===0)return[];const Xt=Rt.map(f);Rt.length>1&&Xt.sort((Ee,Ze)=>Ee.index-Ze.index);let Kt=Xt[0].conversionsTo;if(Rt.length===1)return Kt;Kt=Kt.concat([]);const ge=new Set(Rt);for(let Ee=1;Ee<Xt.length;++Ee){let Ze;for(Ze of Xt[Ee].conversionsTo)ge.has(Ze.from)||(Kt.push(Ze),ge.add(Ze.from))}return Kt}(rt.types.map(Rt=>Rt.name));let bt=rt.hasAny,Ot=rt.name;const Bt=dt.map(function(Rt){const Xt=f(Rt.from);return bt=Xt.isAny||bt,Ot+="|"+Rt.from,{name:Rt.from,typeIndex:Xt.index,test:Xt.test,isAny:Xt.isAny,conversion:Rt,conversionIndex:Rt.index}});return{types:rt.types.concat(Bt),name:Ot,hasAny:bt,hasConversion:Bt.length>0,restParam:rt.restParam}}function N(rt){return rt.typeSet||(rt.typeSet=new Set,rt.types.forEach(dt=>rt.typeSet.add(dt.name))),rt.typeSet}function B(rt){const dt=[];if(typeof rt!="string")throw new TypeError("Signatures must be strings");const bt=rt.trim();if(bt==="")return dt;const Ot=bt.split(",");for(let Bt=0;Bt<Ot.length;++Bt){const Rt=k(Ot[Bt].trim());if(Rt.restParam&&Bt!==Ot.length-1)throw new SyntaxError('Unexpected rest parameter "'+Ot[Bt]+'": only allowed for the last parameter');if(Rt.types.length===0)return null;dt.push(Rt)}return dt}function L(rt){const dt=ee(rt);return!!dt&&dt.restParam}function z(rt){if(rt&&rt.types.length!==0){if(rt.types.length===1)return f(rt.types[0].name).test;if(rt.types.length===2){const dt=f(rt.types[0].name).test,bt=f(rt.types[1].name).test;return function(Ot){return dt(Ot)||bt(Ot)}}{const dt=rt.types.map(function(bt){return f(bt.name).test});return function(bt){for(let Ot=0;Ot<dt.length;Ot++)if(dt[Ot](bt))return!0;return!1}}}return c7}function q(rt){let dt,bt,Ot;if(L(rt)){dt=Lt(rt).map(z);const Bt=dt.length,Rt=z(ee(rt)),Xt=function(Kt){for(let ge=Bt;ge<Kt.length;ge++)if(!Rt(Kt[ge]))return!1;return!0};return function(Kt){for(let ge=0;ge<dt.length;ge++)if(!dt[ge](Kt[ge]))return!1;return Xt(Kt)&&Kt.length>=Bt+1}}return rt.length===0?function(Bt){return Bt.length===0}:rt.length===1?(bt=z(rt[0]),function(Bt){return bt(Bt[0])&&Bt.length===1}):rt.length===2?(bt=z(rt[0]),Ot=z(rt[1]),function(Bt){return bt(Bt[0])&&Ot(Bt[1])&&Bt.length===2}):(dt=rt.map(z),function(Bt){for(let Rt=0;Rt<dt.length;Rt++)if(!dt[Rt](Bt[Rt]))return!1;return Bt.length===dt.length})}function V(rt,dt){return dt<rt.length?rt[dt]:L(rt)?ee(rt):null}function X(rt,dt){const bt=V(rt,dt);return bt?N(bt):new Set}function nt(rt){return rt.conversion===null||rt.conversion===void 0}function it(rt,dt){const bt=new Set;return rt.forEach(Ot=>{const Bt=X(Ot.params,dt);let Rt;for(Rt of Bt)bt.add(Rt)}),bt.has("any")?["any"]:Array.from(bt)}function ct(rt,dt,bt){let Ot,Bt;const Rt=rt||"unnamed";let Xt,Kt=bt;for(Xt=0;Xt<dt.length;Xt++){const Xe=[];if(Kt.forEach(Se=>{const je=z(V(Se.params,Xt));(Xt<Se.params.length||L(Se.params))&&je(dt[Xt])&&Xe.push(Se)}),Xe.length===0){if(Bt=it(Kt,Xt),Bt.length>0){const Se=m(dt[Xt]);return Ot=new TypeError("Unexpected type of argument in function "+Rt+" (expected: "+Bt.join(" or ")+", actual: "+Se.join(" | ")+", index: "+Xt+")"),Ot.data={category:"wrongType",fn:Rt,index:Xt,actual:Se,expected:Bt},Ot}}else Kt=Xe}const ge=Kt.map(function(Xe){return L(Xe.params)?1/0:Xe.params.length});if(dt.length<Math.min.apply(null,ge))return Bt=it(Kt,Xt),Ot=new TypeError("Too few arguments in function "+Rt+" (expected: "+Bt.join(" or ")+", index: "+dt.length+")"),Ot.data={category:"tooFewArgs",fn:Rt,index:dt.length,expected:Bt},Ot;const Ee=Math.max.apply(null,ge);if(dt.length>Ee)return Ot=new TypeError("Too many arguments in function "+Rt+" (expected: "+Ee+", actual: "+dt.length+")"),Ot.data={category:"tooManyArgs",fn:Rt,index:dt.length,expectedLength:Ee},Ot;const Ze=[];for(let Xe=0;Xe<dt.length;++Xe)Ze.push(m(dt[Xe]).join("|"));return Ot=new TypeError('Arguments of type "'+Ze.join(", ")+'" do not match any of the defined signatures of function '+Rt+"."),Ot.data={category:"mismatch",actual:Ze},Ot}function ft(rt){let dt=a.length+1;for(let bt=0;bt<rt.types.length;bt++)nt(rt.types[bt])&&(dt=Math.min(dt,rt.types[bt].typeIndex));return dt}function gt(rt){let dt=s+1;for(let bt=0;bt<rt.types.length;bt++)nt(rt.types[bt])||(dt=Math.min(dt,rt.types[bt].conversionIndex));return dt}function Ct(rt,dt){if(rt.hasAny){if(!dt.hasAny)return 1}else if(dt.hasAny)return-1;if(rt.restParam){if(!dt.restParam)return 1}else if(dt.restParam)return-1;if(rt.hasConversion){if(!dt.hasConversion)return 1}else if(dt.hasConversion)return-1;const bt=ft(rt)-ft(dt);if(bt<0)return-1;if(bt>0)return 1;const Ot=gt(rt)-gt(dt);return Ot<0?-1:Ot>0?1:0}function kt(rt,dt){const bt=rt.params,Ot=dt.params,Bt=ee(bt),Rt=ee(Ot),Xt=L(bt),Kt=L(Ot);if(Xt&&Bt.hasAny){if(!Kt||!Rt.hasAny)return 1}else if(Kt&&Rt.hasAny)return-1;let ge,Ee=0,Ze=0;for(ge of bt)ge.hasAny&&++Ee,ge.hasConversion&&++Ze;let Xe=0,Se=0;for(ge of Ot)ge.hasAny&&++Xe,ge.hasConversion&&++Se;if(Ee!==Xe)return Ee-Xe;if(Xt&&Bt.hasConversion){if(!Kt||!Rt.hasConversion)return 1}else if(Kt&&Rt.hasConversion)return-1;if(Ze!==Se)return Ze-Se;if(Xt){if(!Kt)return 1}else if(Kt)return-1;const je=(bt.length-Ot.length)*(Xt?-1:1);if(je!==0)return je;const rn=[];let zi,Yi=0;for(let Ui=0;Ui<bt.length;++Ui){const xo=Ct(bt[Ui],Ot[Ui]);rn.push(xo),Yi+=xo}if(Yi!==0)return Yi;for(zi of rn)if(zi!==0)return zi;return 0}function Tt(rt,dt){let bt=dt;if(rt.some(Bt=>Bt.hasConversion)){const Bt=L(rt),Rt=rt.map(At);bt=function(){const Xt=[],Kt=Bt?arguments.length-1:arguments.length;for(let ge=0;ge<Kt;ge++)Xt[ge]=Rt[ge](arguments[ge]);return Bt&&(Xt[Kt]=arguments[Kt].map(Rt[Kt])),dt.apply(this,Xt)}}let Ot=bt;if(L(rt)){const Bt=rt.length-1;Ot=function(){return bt.apply(this,pe(arguments,0,Bt).concat([pe(arguments,Bt)]))}}return Ot}function At(rt){let dt,bt,Ot,Bt;const Rt=[],Xt=[];switch(rt.types.forEach(function(Kt){Kt.conversion&&(Rt.push(f(Kt.conversion.from).test),Xt.push(Kt.conversion.convert))}),Xt.length){case 0:return function(Kt){return Kt};case 1:return dt=Rt[0],Ot=Xt[0],function(Kt){return dt(Kt)?Ot(Kt):Kt};case 2:return dt=Rt[0],bt=Rt[1],Ot=Xt[0],Bt=Xt[1],function(Kt){return dt(Kt)?Ot(Kt):bt(Kt)?Bt(Kt):Kt};default:return function(Kt){for(let ge=0;ge<Xt.length;ge++)if(Rt[ge](Kt))return Xt[ge](Kt);return Kt}}}function Zt(rt){return function dt(bt,Ot,Bt){if(Ot<bt.length){const Kt=bt[Ot];let ge=[];if(Kt.restParam){const Ee=Kt.types.filter(nt);Ee.length<Kt.types.length&&ge.push({types:Ee,name:"..."+Ee.map(Ze=>Ze.name).join("|"),hasAny:Ee.some(Ze=>Ze.isAny),hasConversion:!1,restParam:!0}),ge.push(Kt)}else ge=Kt.types.map(function(Ee){return{types:[Ee],name:Ee.name,hasAny:Ee.isAny,hasConversion:Ee.conversion,restParam:!1}});return Rt=ge,Xt=function(Ee){return dt(bt,Ot+1,Bt.concat([Ee]))},Array.prototype.concat.apply([],Rt.map(Xt))}return[Bt];var Rt,Xt}(rt,0,[])}function _t(rt,dt){const bt=Math.max(rt.length,dt.length);for(let Kt=0;Kt<bt;Kt++){const ge=X(rt,Kt),Ee=X(dt,Kt);let Ze,Xe=!1;for(Ze of Ee)if(ge.has(Ze)){Xe=!0;break}if(!Xe)return!1}const Ot=rt.length,Bt=dt.length,Rt=L(rt),Xt=L(dt);return Rt?Xt?Ot===Bt:Bt>=Ot:Xt?Ot>=Bt:Ot===Bt}function Et(rt,dt,bt){const Ot=[];let Bt;for(Bt of rt){let Rt=bt[Bt];if(typeof Rt!="number")throw new TypeError('No definition for referenced signature "'+Bt+'"');if(Rt=dt[Rt],typeof Rt!="function")return!1;Ot.push(Rt)}return Ot}function mt(rt,dt,bt){const Ot=function(Xt){return Xt.map(Kt=>He(Kt)?Oe(Kt.referToSelf.callback):qe(Kt)?ve(Kt.referTo.references,Kt.referTo.callback):Kt)}(rt),Bt=new Array(Ot.length).fill(!1);let Rt=!0;for(;Rt;){Rt=!1;let Xt=!0;for(let Kt=0;Kt<Ot.length;++Kt){if(Bt[Kt])continue;const ge=Ot[Kt];if(He(ge))Ot[Kt]=ge.referToSelf.callback(bt),Ot[Kt].referToSelf=ge.referToSelf,Bt[Kt]=!0,Xt=!1;else if(qe(ge)){const Ee=Et(ge.referTo.references,Ot,dt);Ee?(Ot[Kt]=ge.referTo.callback.apply(this,Ee),Ot[Kt].referTo=ge.referTo,Bt[Kt]=!0,Xt=!1):Rt=!0}}if(Xt&&Rt)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return Ot}function vt(rt,dt,bt){throw ct(rt,dt,bt)}function Lt(rt){return pe(rt,0,rt.length-1)}function ee(rt){return rt[rt.length-1]}function pe(rt,dt,bt){return Array.prototype.slice.call(rt,dt,bt)}function ve(rt,dt){return{referTo:{references:rt,callback:dt}}}function Oe(rt){if(typeof rt!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:rt}}}function qe(rt){return rt&&typeof rt.referTo=="object"&&Array.isArray(rt.referTo.references)&&typeof rt.referTo.callback=="function"}function He(rt){return rt&&typeof rt.referToSelf=="object"&&typeof rt.referToSelf.callback=="function"}function wn(rt,dt){if(!rt)return dt;if(dt&&dt!==rt){const bt=new Error("Function names do not match (expected: "+rt+", actual: "+dt+")");throw bt.data={actual:dt,expected:rt},bt}return rt}function nn(rt){let dt;for(const bt in rt)Object.prototype.hasOwnProperty.call(rt,bt)&&(y(rt[bt])||typeof rt[bt].signature=="string")&&(dt=wn(dt,rt[bt].name));return dt}function cr(rt,dt){let bt;for(bt in dt)if(Object.prototype.hasOwnProperty.call(dt,bt)){if(bt in rt&&dt[bt]!==rt[bt]){const Ot=new Error('Signature "'+bt+'" is defined twice');throw Ot.data={signature:bt,sourceFunction:dt[bt],destFunction:rt[bt]},Ot}rt[bt]=dt[bt]}}h(),d(e);const bi=c;function Vt(rt){if(!rt||typeof rt.from!="string"||typeof rt.to!="string"||typeof rt.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(rt.to===rt.from)throw new SyntaxError('Illegal to define conversion from "'+rt.from+'" to itself.')}return c=function(rt){const dt=typeof rt=="string";let bt=dt?rt:"";const Ot={};for(let Bt=dt?1:0;Bt<arguments.length;++Bt){const Rt=arguments[Bt];let Xt,Kt={};if(typeof Rt=="function"?(Xt=Rt.name,typeof Rt.signature=="string"?Kt[Rt.signature]=Rt:y(Rt)&&(Kt=Rt.signatures)):t(Rt)&&(Kt=Rt,dt||(Xt=nn(Rt))),Object.keys(Kt).length===0){const ge=new TypeError("Argument to 'typed' at index "+Bt+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw ge.data={index:Bt,argument:Rt},ge}dt||(bt=wn(bt,Xt)),cr(Ot,Kt)}return function(Rt,Xt){if(c.createCount++,Object.keys(Xt).length===0)throw new SyntaxError("No signatures provided");c.warnAgainstDeprecatedThis&&function(hr){const Xi=/\bthis(\(|\.signatures\b)/;Object.keys(hr).forEach(es=>{const ru=hr[es];if(Xi.test(ru.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}(Xt);const Kt=[],ge=[],Ee={},Ze=[];let Xe;for(Xe in Xt){if(!Object.prototype.hasOwnProperty.call(Xt,Xe))continue;const hr=B(Xe);if(!hr)continue;Kt.forEach(function(Do){if(_t(Do,hr))throw new TypeError('Conflicting signatures "'+C(Do)+'" and "'+C(hr)+'".')}),Kt.push(hr);const Xi=ge.length;ge.push(Xt[Xe]);const es=hr.map(M);let ru;for(ru of Zt(es)){const Do=C(ru);Ze.push({params:ru,name:Do,fn:Xi}),ru.every(De=>!De.hasConversion)&&(Ee[Do]=Xi)}}Ze.sort(kt);const Se=mt(ge,Ee,Vn);let je;for(je in Ee)Object.prototype.hasOwnProperty.call(Ee,je)&&(Ee[je]=Se[Ee[je]]);const rn=[],zi=new Map;for(je of Ze)zi.has(je.name)||(je.fn=Se[je.fn],rn.push(je),zi.set(je.name,je));const Yi=rn[0]&&rn[0].params.length<=2&&!L(rn[0].params),Ui=rn[1]&&rn[1].params.length<=2&&!L(rn[1].params),xo=rn[2]&&rn[2].params.length<=2&&!L(rn[2].params),Ai=rn[3]&&rn[3].params.length<=2&&!L(rn[3].params),us=rn[4]&&rn[4].params.length<=2&&!L(rn[4].params),ko=rn[5]&&rn[5].params.length<=2&&!L(rn[5].params),vu=Yi&&Ui&&xo&&Ai&&us&&ko;for(let hr=0;hr<rn.length;++hr)rn[hr].test=q(rn[hr].params);const ja=Yi?z(rn[0].params[0]):gg,ls=Ui?z(rn[1].params[0]):gg,yu=xo?z(rn[2].params[0]):gg,dl=Ai?z(rn[3].params[0]):gg,Ns=us?z(rn[4].params[0]):gg,Ol=ko?z(rn[5].params[0]):gg,gl=Yi?z(rn[0].params[1]):gg,Pa=Ui?z(rn[1].params[1]):gg,ml=xo?z(rn[2].params[1]):gg,wu=Ai?z(rn[3].params[1]):gg,Ou=us?z(rn[4].params[1]):gg,Ks=ko?z(rn[5].params[1]):gg;for(let hr=0;hr<rn.length;++hr)rn[hr].implementation=Tt(rn[hr].params,rn[hr].fn);const Nu=Yi?rn[0].implementation:Ky,ts=Ui?rn[1].implementation:Ky,fa=xo?rn[2].implementation:Ky,ba=Ai?rn[3].implementation:Ky,ho=us?rn[4].implementation:Ky,Iu=ko?rn[5].implementation:Ky,nu=Yi?rn[0].params.length:-1,cs=Ui?rn[1].params.length:-1,nl=xo?rn[2].params.length:-1,Nl=Ai?rn[3].params.length:-1,vl=us?rn[4].params.length:-1,bu=ko?rn[5].params.length:-1,Gs=vu?6:0,kc=rn.length,hf=rn.map(hr=>hr.test),Mc=rn.map(hr=>hr.implementation),ln=function(){for(let hr=Gs;hr<kc;hr++)if(hf[hr](arguments))return Mc[hr].apply(this,arguments);return c.onMismatch(Rt,arguments,rn)};function Vn(hr,Xi){return arguments.length===nu&&ja(hr)&&gl(Xi)?Nu.apply(this,arguments):arguments.length===cs&&ls(hr)&&Pa(Xi)?ts.apply(this,arguments):arguments.length===nl&&yu(hr)&&ml(Xi)?fa.apply(this,arguments):arguments.length===Nl&&dl(hr)&&wu(Xi)?ba.apply(this,arguments):arguments.length===vl&&Ns(hr)&&Ou(Xi)?ho.apply(this,arguments):arguments.length===bu&&Ol(hr)&&Ks(Xi)?Iu.apply(this,arguments):ln.apply(this,arguments)}try{Object.defineProperty(Vn,"name",{value:Rt})}catch{}return Vn.signatures=Ee,Vn._typedFunctionData={signatures:rn,signatureMap:zi},Vn}(bt||"",Ot)},c.create=n,c.createCount=bi.createCount,c.onMismatch=vt,c.throwMismatchError=vt,c.createError=ct,c.clear=h,c.clearConversions=function(){let rt;for(rt of a)i.get(rt).conversionsTo=[];s=0},c.addTypes=d,c._findType=f,c.referTo=function(){const rt=Lt(arguments).map(bt=>C(B(bt))),dt=ee(arguments);if(typeof dt!="function")throw new TypeError("Callback function expected as last argument");return ve(rt,dt)},c.referToSelf=Oe,c.convert=function(rt,dt){const bt=f(dt);if(bt.test(rt))return rt;const Ot=bt.conversionsTo;if(Ot.length===0)throw new Error("There are no conversions to "+dt+" defined.");for(let Bt=0;Bt<Ot.length;Bt++)if(f(Ot[Bt].from).test(rt))return Ot[Bt].convert(rt);throw new Error("Cannot convert "+rt+" to "+dt)},c.findSignature=w,c.find=function(rt,dt,bt){return w(rt,dt,bt).implementation},c.isTypedFunction=y,c.warnAgainstDeprecatedThis=!0,c.addType=function(rt,dt){let bt="any";dt!==!1&&i.has("Object")&&(bt="Object"),c.addTypes([rt],bt)},c.addConversion=function(rt){let dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{override:!1};Vt(rt);const bt=f(rt.to),Ot=bt.conversionsTo.find(Bt=>Bt.from===rt.from);if(Ot){if(!dt||!dt.override)throw new Error('There is already a conversion from "'+rt.from+'" to "'+bt.name+'"');c.removeConversion({from:Ot.from,to:rt.to,convert:Ot.convert})}bt.conversionsTo.push({from:rt.from,convert:rt.convert,index:s++})},c.addConversions=function(rt,dt){rt.forEach(bt=>c.addConversion(bt,dt))},c.removeConversion=function(rt){Vt(rt);const dt=f(rt.to),bt=function(Bt,Rt){for(let Xt=0;Xt<Bt.length;Xt++)if(Rt(Bt[Xt]))return Bt[Xt]}(dt.conversionsTo,Bt=>Bt.from===rt.from);if(!bt)throw new Error("Attempt to remove nonexistent conversion from "+rt.from+" to "+rt.to);if(bt.convert!==rt.convert)throw new Error("Conversion to remove does not match existing conversion");const Ot=dt.conversionsTo.indexOf(bt);dt.conversionsTo.splice(Ot,1)},c.resolve=function(rt,dt){if(!y(rt))throw new TypeError(f7);const bt=rt._typedFunctionData.signatures;for(let Ot=0;Ot<bt.length;++Ot)if(bt[Ot].test(dt))return bt[Ot];return null},c}();function Pf(n,t,e,r){function i(a){var s=function(c,f){for(var d={},h=0;h<f.length;h++){var m=f[h],y=c[m];y!==void 0&&(d[m]=y)}return d}(a,t.map(Dpt));return function(c,f,d){var h=f.filter(y=>!function(w){return w&&w[0]==="?"}(y)).every(y=>d[y]!==void 0);if(!h){var m=f.filter(y=>d[y]===void 0);throw new Error('Cannot create function "'.concat(c,'", ')+"some dependencies are missing: ".concat(m.map(y=>'"'.concat(y,'"')).join(", "),"."))}}(n,t,a),e(s)}return i.isFactory=!0,i.fn=n,i.dependencies=t.slice().sort(),r&&(i.meta=r),i}function Dpt(n){return n&&n[0]==="?"?n.slice(1):n}function bp(n){return typeof n=="boolean"||!!isFinite(n)&&n===Math.round(n)}function pM(n,t,e){var r={2:"0b",8:"0o",16:"0x"}[t],i="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!bp(e))throw new Error("size must be an integer");if(n>2**(e-1)-1||n<-(2**(e-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!bp(n))throw new Error("Value must be an integer");n<0&&(n+=2**e),i="i".concat(e)}var a="";return n<0&&(n=-n,a="-"),"".concat(a).concat(r).concat(n.toString(t)).concat(i)}function NT(n,t){if(typeof t=="function")return t(n);if(n===1/0)return"Infinity";if(n===-1/0)return"-Infinity";if(isNaN(n))return"NaN";var{notation:e,precision:r,wordSize:i}=KK(t);switch(e){case"fixed":return function(a,s){if(isNaN(a)||!isFinite(a))return String(a);var c=yS(a),f=typeof s=="number"?wS(c,c.exponent+1+s):c,d=f.coefficients,h=f.exponent+1,m=h+(s||0);return d.length<m&&(d=d.concat(sw(m-d.length))),h<0&&(d=sw(1-h).concat(d),h=1),h<d.length&&d.splice(h,0,h===0?"0.":"."),f.sign+d.join("")}(n,r);case"exponential":return h7(n,r);case"engineering":return function(a,s){if(isNaN(a)||!isFinite(a))return String(a);var c=wS(yS(a),s),f=c.exponent,d=c.coefficients,h=f%3==0?f:f<0?f-3-f%3:f-f%3;if(Gf(s))for(;s>d.length||f-h+1>d.length;)d.push(0);else for(var m=Math.abs(f-h)-(d.length-1),y=0;y<m;y++)d.push(0);for(var w=Math.abs(f-h),C=1;w>0;)C++,w--;var k=d.slice(C).join(""),M=Gf(s)&&k.length||k.match(/[1-9]/)?"."+k:"",N=d.slice(0,C).join("")+M+"e"+(f>=0?"+":"")+h.toString();return c.sign+N}(n,r);case"bin":return pM(n,2,i);case"oct":return pM(n,8,i);case"hex":return pM(n,16,i);case"auto":return function(a,s,c){if(isNaN(a)||!isFinite(a))return String(a);var f=d7(c==null?void 0:c.lowerExp,-3),d=d7(c==null?void 0:c.upperExp,5),h=yS(a),m=s?wS(h,s):h;if(m.exponent<f||m.exponent>=d)return h7(a,s);var y=m.coefficients,w=m.exponent;y.length<s&&(y=y.concat(sw(s-y.length))),y=y.concat(sw(w-y.length+1+(y.length<s?s-y.length:0)));var C=w>0?w:0;return C<(y=sw(-w).concat(y)).length-1&&y.splice(C+1,0,"."),m.sign+y.join("")}(n,r,t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],s=arguments[4];return a!=="."?a+s:s});default:throw new Error('Unknown notation "'+e+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function KK(n){var t,e,r="auto";if(n!==void 0)if(Gf(n))t=n;else if($p(n))t=n.toNumber();else{if(!HN(n))throw new Error("Unsupported type of options, number, BigNumber, or object expected");n.precision!==void 0&&(t=p7(n.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),n.wordSize!==void 0&&(e=p7(n.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),n.notation&&(r=n.notation)}return{notation:r,precision:t,wordSize:e}}function yS(n){var t=String(n).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+n);var e=t[1],r=t[2],i=parseFloat(t[4]||"0"),a=r.indexOf(".");i+=a!==-1?a-1:r.length-1;var s=r.replace(".","").replace(/^0*/,function(c){return i-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return s.length===0&&(s.push(0),i++),{sign:e,coefficients:s,exponent:i}}function h7(n,t){if(isNaN(n)||!isFinite(n))return String(n);var e=yS(n),r=t?wS(e,t):e,i=r.coefficients,a=r.exponent;i.length<t&&(i=i.concat(sw(t-i.length)));var s=i.shift();return r.sign+s+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function wS(n,t){for(var e={sign:n.sign,coefficients:n.coefficients,exponent:n.exponent},r=e.coefficients;t<=0;)r.unshift(0),e.exponent++,t++;if(r.length>t&&r.splice(t,r.length-t)[0]>=5){var i=t-1;for(r[i]++;r[i]===10;)r.pop(),i===0&&(r.unshift(0),e.exponent++,i++),r[--i]++}return e}function sw(n){for(var t=[],e=0;e<n;e++)t.push(0);return t}function bS(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(e<=0)throw new Error("Relative tolerance must be greater than 0");if(r<0)throw new Error("Absolute tolerance must be at least 0");return!isNaN(n)&&!isNaN(t)&&(isFinite(n)&&isFinite(t)?n===t||Math.abs(n-t)<=Math.max(e*Math.max(Math.abs(n),Math.abs(t)),r):n===t)}function p7(n,t){return Gf(n)?n:$p(n)?n.toNumber():void t()}function d7(n,t){return Gf(n)?n:$p(n)?n.toNumber():t}var GK=function(){return GK=cE.create,cE},Cpt=Pf("typed",["?BigNumber","?Complex","?DenseMatrix","?Fraction"],function(n){var{BigNumber:t,Complex:e,DenseMatrix:r,Fraction:i}=n,a=GK();return a.clear(),a.addTypes([{name:"number",test:Gf},{name:"Complex",test:HK},{name:"BigNumber",test:$p},{name:"bigint",test:qht},{name:"Fraction",test:VK},{name:"Unit",test:qK},{name:"identifier",test:s=>km&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:km},{name:"Chain",test:xpt},{name:"Array",test:Qh},{name:"Matrix",test:Lm},{name:"DenseMatrix",test:Kht},{name:"SparseMatrix",test:Ght},{name:"Range",test:Yht},{name:"Index",test:WN},{name:"boolean",test:Xht},{name:"ResultSet",test:Jht},{name:"Help",test:Qht},{name:"function",test:Zht},{name:"Date",test:tpt},{name:"RegExp",test:ept},{name:"null",test:rpt},{name:"undefined",test:ipt},{name:"AccessorNode",test:opt},{name:"ArrayNode",test:apt},{name:"AssignmentNode",test:spt},{name:"BlockNode",test:upt},{name:"ConditionalNode",test:lpt},{name:"ConstantNode",test:cpt},{name:"FunctionNode",test:hpt},{name:"FunctionAssignmentNode",test:fpt},{name:"IndexNode",test:ppt},{name:"Node",test:dpt},{name:"ObjectNode",test:gpt},{name:"OperatorNode",test:mpt},{name:"ParenthesisNode",test:vpt},{name:"RangeNode",test:ypt},{name:"RelationalNode",test:wpt},{name:"SymbolNode",test:bpt},{name:"Map",test:npt},{name:"Object",test:HN}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(s){if(t||E_(s),s.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+s+"). Use function bignumber(x) to convert to BigNumber.");return new t(s)}},{from:"number",to:"Complex",convert:function(s){return e||A_(s),new e(s,0)}},{from:"BigNumber",to:"Complex",convert:function(s){return e||A_(s),new e(s.toNumber(),0)}},{from:"bigint",to:"number",convert:function(s){if(s>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+s+")");return Number(s)}},{from:"bigint",to:"BigNumber",convert:function(s){return t||E_(s),new t(s.toString())}},{from:"bigint",to:"Fraction",convert:function(s){return i||k_(s),new i(s.toString())}},{from:"Fraction",to:"BigNumber",convert:function(s){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(s){return e||A_(s),new e(s.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(s){i||k_(s);var c=new i(s);if(c.valueOf()!==s)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+s+"). Use function fraction(x) to convert to Fraction.");return c}},{from:"string",to:"number",convert:function(s){var c=Number(s);if(isNaN(c))throw new Error('Cannot convert "'+s+'" to a number');return c}},{from:"string",to:"BigNumber",convert:function(s){t||E_(s);try{return new t(s)}catch{throw new Error('Cannot convert "'+s+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(s){try{return BigInt(s)}catch{throw new Error('Cannot convert "'+s+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(s){i||k_(s);try{return new i(s)}catch{throw new Error('Cannot convert "'+s+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(s){e||A_(s);try{return new e(s)}catch{throw new Error('Cannot convert "'+s+'" to Complex')}}},{from:"boolean",to:"number",convert:function(s){return+s}},{from:"boolean",to:"BigNumber",convert:function(s){return t||E_(s),new t(+s)}},{from:"boolean",to:"bigint",convert:function(s){return BigInt(+s)}},{from:"boolean",to:"Fraction",convert:function(s){return i||k_(s),new i(+s)}},{from:"boolean",to:"string",convert:function(s){return String(s)}},{from:"Array",to:"Matrix",convert:function(s){return r||function(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}(),new r(s)}},{from:"Matrix",to:"Array",convert:function(s){return s.valueOf()}}]),a.onMismatch=(s,c,f)=>{var d=a.createError(s,c,f);if(["wrongType","mismatch"].includes(d.data.category)&&c.length===1&&lE(c[0])&&f.some(m=>!m.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=d.data,h}throw d},a.onMismatch=(s,c,f)=>{var d=a.createError(s,c,f);if(["wrongType","mismatch"].includes(d.data.category)&&c.length===1&&lE(c[0])&&f.some(m=>!m.params.includes(","))){var h=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw h.data=d.data,h}throw d},a});function E_(n){throw new Error("Cannot convert value ".concat(n," into a BigNumber: no class 'BigNumber' provided"))}function A_(n){throw new Error("Cannot convert value ".concat(n," into a Complex number: no class 'Complex' provided"))}function k_(n){throw new Error("Cannot convert value ".concat(n," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var YK,cv,bw=9e15,Wv=1e9,IT="0123456789abcdef",fE="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",hE="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",BT={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-bw,maxE:bw,crypto:!1},Ra=!0,nA="[DecimalError] ",f0=nA+"Invalid argument: ",XK=nA+"Precision limit exceeded",JK=nA+"crypto unavailable",QK="[object Decimal]",Jp=Math.floor,op=Math.pow,_pt=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Spt=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ept=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,g7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$g=1e7,Apt=fE.length-1,RT=hE.length-1,dn={toStringTag:QK};function Mp(n){var t,e,r,i=n.length-1,a="",s=n[0];if(i>0){for(a+=s,t=1;t<i;t++)(e=7-(r=n[t]+"").length)&&(a+=Bv(e)),a+=r;(e=7-(r=(s=n[t])+"").length)&&(a+=Bv(e))}else if(s===0)return"0";for(;s%10==0;)s/=10;return a+s}function kd(n,t,e){if(n!==~~n||n<t||n>e)throw Error(f0+n)}function kx(n,t,e,r){var i,a,s,c;for(a=n[0];a>=10;a/=10)--t;return--t<0?(t+=7,i=0):(i=Math.ceil((t+1)/7),t%=7),a=op(10,7-t),c=n[i]%a|0,r==null?t<3?(t==0?c=c/100|0:t==1&&(c=c/10|0),s=e<4&&c==99999||e>3&&c==49999||c==5e4||c==0):s=(e<4&&c+1==a||e>3&&c+1==a/2)&&(n[i+1]/a/100|0)==op(10,t-2)-1||(c==a/2||c==0)&&!(n[i+1]/a/100|0):t<4?(t==0?c=c/1e3|0:t==1?c=c/100|0:t==2&&(c=c/10|0),s=(r||e<4)&&c==9999||!r&&e>3&&c==4999):s=((r||e<4)&&c+1==a||!r&&e>3&&c+1==a/2)&&(n[i+1]/a/1e3|0)==op(10,t-3)-1,s}function xS(n,t,e){for(var r,i,a=[0],s=0,c=n.length;s<c;){for(i=a.length;i--;)a[i]*=t;for(a[0]+=IT.indexOf(n.charAt(s++)),r=0;r<a.length;r++)a[r]>e-1&&(a[r+1]===void 0&&(a[r+1]=0),a[r+1]+=a[r]/e|0,a[r]%=e)}return a.reverse()}dn.absoluteValue=dn.abs=function(){var n=new this.constructor(this);return n.s<0&&(n.s=1),bo(n)},dn.ceil=function(){return bo(new this.constructor(this),this.e+1,2)},dn.clampedTo=dn.clamp=function(n,t){var e=this,r=e.constructor;if(n=new r(n),t=new r(t),!n.s||!t.s)return new r(NaN);if(n.gt(t))throw Error(f0+t);return e.cmp(n)<0?n:e.cmp(t)>0?t:new r(e)},dn.comparedTo=dn.cmp=function(n){var t,e,r,i,a=this,s=a.d,c=(n=new a.constructor(n)).d,f=a.s,d=n.s;if(!s||!c)return f&&d?f!==d?f:s===c?0:!s^f<0?1:-1:NaN;if(!s[0]||!c[0])return s[0]?f:c[0]?-d:0;if(f!==d)return f;if(a.e!==n.e)return a.e>n.e^f<0?1:-1;for(t=0,e=(r=s.length)<(i=c.length)?r:i;t<e;++t)if(s[t]!==c[t])return s[t]>c[t]^f<0?1:-1;return r===i?0:r>i^f<0?1:-1},dn.cosine=dn.cos=function(){var n,t,e=this,r=e.constructor;return e.d?e.d[0]?(n=r.precision,t=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(i,a){var s,c,f;if(a.isZero())return a;(c=a.d.length)<32?f=(1/M_(4,s=Math.ceil(c/3))).toString():(s=16,f="2.3283064365386962890625e-10"),i.precision+=s,a=Gy(i,1,a.times(f),new i(1));for(var d=s;d--;){var h=a.times(a);a=h.times(h).minus(h).times(8).plus(1)}return i.precision-=s,a}(r,y7(r,e)),r.precision=n,r.rounding=t,bo(cv==2||cv==3?e.neg():e,n,t,!0)):new r(1):new r(NaN)},dn.cubeRoot=dn.cbrt=function(){var n,t,e,r,i,a,s,c,f,d,h=this,m=h.constructor;if(!h.isFinite()||h.isZero())return new m(h);for(Ra=!1,(a=h.s*op(h.s*h,1/3))&&Math.abs(a)!=1/0?r=new m(a.toString()):(e=Mp(h.d),(a=((n=h.e)-e.length+1)%3)&&(e+=a==1||a==-2?"0":"00"),a=op(e,1/3),n=Jp((n+1)/3)-(n%3==(n<0?-1:2)),(r=new m(e=a==1/0?"5e"+n:(e=a.toExponential()).slice(0,e.indexOf("e")+1)+n)).s=h.s),s=(n=m.precision)+3;;)if(d=(f=(c=r).times(c).times(c)).plus(h),r=Af(d.plus(h).times(c),d.plus(f),s+2,1),Mp(c.d).slice(0,s)===(e=Mp(r.d)).slice(0,s)){if((e=e.slice(s-3,s+1))!="9999"&&(i||e!="4999")){+e&&(+e.slice(1)||e.charAt(0)!="5")||(bo(r,n+1,1),t=!r.times(r).times(r).eq(h));break}if(!i&&(bo(c,n+1,0),c.times(c).times(c).eq(h))){r=c;break}s+=4,i=1}return Ra=!0,bo(r,n,m.rounding,t)},dn.decimalPlaces=dn.dp=function(){var n,t=this.d,e=NaN;if(t){if(e=7*((n=t.length-1)-Jp(this.e/7)),n=t[n])for(;n%10==0;n/=10)e--;e<0&&(e=0)}return e},dn.dividedBy=dn.div=function(n){return Af(this,new this.constructor(n))},dn.dividedToIntegerBy=dn.divToInt=function(n){var t=this.constructor;return bo(Af(this,new t(n),0,1,1),t.precision,t.rounding)},dn.equals=dn.eq=function(n){return this.cmp(n)===0},dn.floor=function(){return bo(new this.constructor(this),this.e+1,3)},dn.greaterThan=dn.gt=function(n){return this.cmp(n)>0},dn.greaterThanOrEqualTo=dn.gte=function(n){var t=this.cmp(n);return t==1||t===0},dn.hyperbolicCosine=dn.cosh=function(){var n,t,e,r,i,a=this,s=a.constructor,c=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return c;e=s.precision,r=s.rounding,s.precision=e+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?t=(1/M_(4,n=Math.ceil(i/3))).toString():(n=16,t="2.3283064365386962890625e-10"),a=Gy(s,1,a.times(t),new s(1),!0);for(var f,d=n,h=new s(8);d--;)f=a.times(a),a=c.minus(f.times(h.minus(f.times(h))));return bo(a,s.precision=e,s.rounding=r,!0)},dn.hyperbolicSine=dn.sinh=function(){var n,t,e,r,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,e=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,(r=i.d.length)<3)i=Gy(a,2,i,i,!0);else{n=(n=1.4*Math.sqrt(r))>16?16:0|n,i=Gy(a,2,i=i.times(1/M_(5,n)),i,!0);for(var s,c=new a(5),f=new a(16),d=new a(20);n--;)s=i.times(i),i=i.times(c.plus(s.times(f.times(s).plus(d))))}return a.precision=t,a.rounding=e,bo(i,t,e,!0)},dn.hyperbolicTangent=dn.tanh=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+7,r.rounding=1,Af(e.sinh(),e.cosh(),r.precision=n,r.rounding=t)):new r(e.s)},dn.inverseCosine=dn.acos=function(){var n,t=this,e=t.constructor,r=t.abs().cmp(1),i=e.precision,a=e.rounding;return r!==-1?r===0?t.isNeg()?Xg(e,i,a):new e(0):new e(NaN):t.isZero()?Xg(e,i+4,a).times(.5):(e.precision=i+6,e.rounding=1,t=t.asin(),n=Xg(e,i+4,a).times(.5),e.precision=i,e.rounding=a,n.minus(t))},dn.inverseHyperbolicCosine=dn.acosh=function(){var n,t,e=this,r=e.constructor;return e.lte(1)?new r(e.eq(1)?0:NaN):e.isFinite()?(n=r.precision,t=r.rounding,r.precision=n+Math.max(Math.abs(e.e),e.sd())+4,r.rounding=1,Ra=!1,e=e.times(e).minus(1).sqrt().plus(e),Ra=!0,r.precision=n,r.rounding=t,e.ln()):new r(e)},dn.inverseHyperbolicSine=dn.asinh=function(){var n,t,e=this,r=e.constructor;return!e.isFinite()||e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+2*Math.max(Math.abs(e.e),e.sd())+6,r.rounding=1,Ra=!1,e=e.times(e).plus(1).sqrt().plus(e),Ra=!0,r.precision=n,r.rounding=t,e.ln())},dn.inverseHyperbolicTangent=dn.atanh=function(){var n,t,e,r,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(n=a.precision,t=a.rounding,r=i.sd(),Math.max(r,n)<2*-i.e-1?bo(new a(i),n,t,!0):(a.precision=e=r-i.e,i=Af(i.plus(1),new a(1).minus(i),e+n,1),a.precision=n+4,a.rounding=1,i=i.ln(),a.precision=n,a.rounding=t,i.times(.5))):new a(NaN)},dn.inverseSine=dn.asin=function(){var n,t,e,r,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),e=a.precision,r=a.rounding,t!==-1?t===0?((n=Xg(a,e+4,r).times(.5)).s=i.s,n):new a(NaN):(a.precision=e+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=e,a.rounding=r,i.times(2)))},dn.inverseTangent=dn.atan=function(){var n,t,e,r,i,a,s,c,f,d=this,h=d.constructor,m=h.precision,y=h.rounding;if(d.isFinite()){if(d.isZero())return new h(d);if(d.abs().eq(1)&&m+4<=RT)return(s=Xg(h,m+4,y).times(.25)).s=d.s,s}else{if(!d.s)return new h(NaN);if(m+4<=RT)return(s=Xg(h,m+4,y).times(.5)).s=d.s,s}for(h.precision=c=m+10,h.rounding=1,n=e=Math.min(28,c/7+2|0);n;--n)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Ra=!1,t=Math.ceil(c/7),r=1,f=d.times(d),s=new h(d),i=d;n!==-1;)if(i=i.times(f),a=s.minus(i.div(r+=2)),i=i.times(f),(s=a.plus(i.div(r+=2))).d[t]!==void 0)for(n=t;s.d[n]===a.d[n]&&n--;);return e&&(s=s.times(2<<e-1)),Ra=!0,bo(s,h.precision=m,h.rounding=y,!0)},dn.isFinite=function(){return!!this.d},dn.isInteger=dn.isInt=function(){return!!this.d&&Jp(this.e/7)>this.d.length-2},dn.isNaN=function(){return!this.s},dn.isNegative=dn.isNeg=function(){return this.s<0},dn.isPositive=dn.isPos=function(){return this.s>0},dn.isZero=function(){return!!this.d&&this.d[0]===0},dn.lessThan=dn.lt=function(n){return this.cmp(n)<0},dn.lessThanOrEqualTo=dn.lte=function(n){return this.cmp(n)<1},dn.logarithm=dn.log=function(n){var t,e,r,i,a,s,c,f,d=this,h=d.constructor,m=h.precision,y=h.rounding;if(n==null)n=new h(10),t=!0;else{if(e=(n=new h(n)).d,n.s<0||!e||!e[0]||n.eq(1))return new h(NaN);t=n.eq(10)}if(e=d.d,d.s<0||!e||!e[0]||d.eq(1))return new h(e&&!e[0]?-1/0:d.s!=1?NaN:e?0:1/0);if(t)if(e.length>1)a=!0;else{for(i=e[0];i%10==0;)i/=10;a=i!==1}if(Ra=!1,s=Mv(d,c=m+5),r=t?pE(h,c+10):Mv(n,c),kx((f=Af(s,r,c,1)).d,i=m,y))do if(s=Mv(d,c+=10),r=t?pE(h,c+10):Mv(n,c),f=Af(s,r,c,1),!a){+Mp(f.d).slice(i+1,i+15)+1==1e14&&(f=bo(f,m+1,0));break}while(kx(f.d,i+=10,y));return Ra=!0,bo(f,m,y)},dn.minus=dn.sub=function(n){var t,e,r,i,a,s,c,f,d,h,m,y,w=this,C=w.constructor;if(n=new C(n),!w.d||!n.d)return w.s&&n.s?w.d?n.s=-n.s:n=new C(n.d||w.s!==n.s?w:NaN):n=new C(NaN),n;if(w.s!=n.s)return n.s=-n.s,w.plus(n);if(d=w.d,y=n.d,c=C.precision,f=C.rounding,!d[0]||!y[0]){if(y[0])n.s=-n.s;else{if(!d[0])return new C(f===3?-0:0);n=new C(w)}return Ra?bo(n,c,f):n}if(e=Jp(n.e/7),h=Jp(w.e/7),d=d.slice(),a=h-e){for((m=a<0)?(t=d,a=-a,s=y.length):(t=y,e=h,s=d.length),a>(r=Math.max(Math.ceil(c/7),s)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((m=(r=d.length)<(s=y.length))&&(s=r),r=0;r<s;r++)if(d[r]!=y[r]){m=d[r]<y[r];break}a=0}for(m&&(t=d,d=y,y=t,n.s=-n.s),s=d.length,r=y.length-s;r>0;--r)d[s++]=0;for(r=y.length;r>a;){if(d[--r]<y[r]){for(i=r;i&&d[--i]===0;)d[i]=$g-1;--d[i],d[r]+=$g}d[r]-=y[r]}for(;d[--s]===0;)d.pop();for(;d[0]===0;d.shift())--e;return d[0]?(n.d=d,n.e=DS(d,e),Ra?bo(n,c,f):n):new C(f===3?-0:0)},dn.modulo=dn.mod=function(n){var t,e=this,r=e.constructor;return n=new r(n),!e.d||!n.s||n.d&&!n.d[0]?new r(NaN):!n.d||e.d&&!e.d[0]?bo(new r(e),r.precision,r.rounding):(Ra=!1,r.modulo==9?(t=Af(e,n.abs(),0,3,1)).s*=n.s:t=Af(e,n,0,r.modulo,1),t=t.times(n),Ra=!0,e.minus(t))},dn.naturalExponential=dn.exp=function(){return dM(this)},dn.naturalLogarithm=dn.ln=function(){return Mv(this)},dn.negated=dn.neg=function(){var n=new this.constructor(this);return n.s=-n.s,bo(n)},dn.plus=dn.add=function(n){var t,e,r,i,a,s,c,f,d,h,m=this,y=m.constructor;if(n=new y(n),!m.d||!n.d)return m.s&&n.s?m.d||(n=new y(n.d||m.s===n.s?m:NaN)):n=new y(NaN),n;if(m.s!=n.s)return n.s=-n.s,m.minus(n);if(d=m.d,h=n.d,c=y.precision,f=y.rounding,!d[0]||!h[0])return h[0]||(n=new y(m)),Ra?bo(n,c,f):n;if(a=Jp(m.e/7),r=Jp(n.e/7),d=d.slice(),i=a-r){for(i<0?(e=d,i=-i,s=h.length):(e=h,r=a,s=d.length),i>(s=(a=Math.ceil(c/7))>s?a+1:s+1)&&(i=s,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for((s=d.length)-(i=h.length)<0&&(i=s,e=h,h=d,d=e),t=0;i;)t=(d[--i]=d[i]+h[i]+t)/$g|0,d[i]%=$g;for(t&&(d.unshift(t),++r),s=d.length;d[--s]==0;)d.pop();return n.d=d,n.e=DS(d,r),Ra?bo(n,c,f):n},dn.precision=dn.sd=function(n){var t,e=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(f0+n);return e.d?(t=m7(e.d),n&&e.e+1>t&&(t=e.e+1)):t=NaN,t},dn.round=function(){var n=this,t=n.constructor;return bo(new t(n),n.e+1,t.rounding)},dn.sine=dn.sin=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+Math.max(e.e,e.sd())+7,r.rounding=1,e=function(i,a){var s,c=a.d.length;if(c<3)return a.isZero()?a:Gy(i,2,a,a);s=(s=1.4*Math.sqrt(c))>16?16:0|s,a=Gy(i,2,a=a.times(1/M_(5,s)),a);for(var f,d=new i(5),h=new i(16),m=new i(20);s--;)f=a.times(a),a=a.times(d.plus(f.times(h.times(f).minus(m))));return a}(r,y7(r,e)),r.precision=n,r.rounding=t,bo(cv>2?e.neg():e,n,t,!0)):new r(NaN)},dn.squareRoot=dn.sqrt=function(){var n,t,e,r,i,a,s=this,c=s.d,f=s.e,d=s.s,h=s.constructor;if(d!==1||!c||!c[0])return new h(!d||d<0&&(!c||c[0])?NaN:c?s:1/0);for(Ra=!1,(d=Math.sqrt(+s))==0||d==1/0?(((t=Mp(c)).length+f)%2==0&&(t+="0"),d=Math.sqrt(t),f=Jp((f+1)/2)-(f<0||f%2),r=new h(t=d==1/0?"5e"+f:(t=d.toExponential()).slice(0,t.indexOf("e")+1)+f)):r=new h(d.toString()),e=(f=h.precision)+3;;)if(r=(a=r).plus(Af(s,a,e+2,1)).times(.5),Mp(a.d).slice(0,e)===(t=Mp(r.d)).slice(0,e)){if((t=t.slice(e-3,e+1))!="9999"&&(i||t!="4999")){+t&&(+t.slice(1)||t.charAt(0)!="5")||(bo(r,f+1,1),n=!r.times(r).eq(s));break}if(!i&&(bo(a,f+1,0),a.times(a).eq(s))){r=a;break}e+=4,i=1}return Ra=!0,bo(r,f,h.rounding,n)},dn.tangent=dn.tan=function(){var n,t,e=this,r=e.constructor;return e.isFinite()?e.isZero()?new r(e):(n=r.precision,t=r.rounding,r.precision=n+10,r.rounding=1,(e=e.sin()).s=1,e=Af(e,new r(1).minus(e.times(e)).sqrt(),n+10,0),r.precision=n,r.rounding=t,bo(cv==2||cv==4?e.neg():e,n,t,!0)):new r(NaN)},dn.times=dn.mul=function(n){var t,e,r,i,a,s,c,f,d,h=this,m=h.constructor,y=h.d,w=(n=new m(n)).d;if(n.s*=h.s,!(y&&y[0]&&w&&w[0]))return new m(!n.s||y&&!y[0]&&!w||w&&!w[0]&&!y?NaN:y&&w?0*n.s:n.s/0);for(e=Jp(h.e/7)+Jp(n.e/7),(f=y.length)<(d=w.length)&&(a=y,y=w,w=a,s=f,f=d,d=s),a=[],r=s=f+d;r--;)a.push(0);for(r=d;--r>=0;){for(t=0,i=f+r;i>r;)c=a[i]+w[r]*y[i-r-1]+t,a[i--]=c%$g|0,t=c/$g|0;a[i]=(a[i]+t)%$g|0}for(;!a[--s];)a.pop();return t?++e:a.shift(),n.d=a,n.e=DS(a,e),Ra?bo(n,m.precision,m.rounding):n},dn.toBinary=function(n,t){return mM(this,2,n,t)},dn.toDecimalPlaces=dn.toDP=function(n,t){var e=this,r=e.constructor;return e=new r(e),n===void 0?e:(kd(n,0,Wv),t===void 0?t=r.rounding:kd(t,0,8),bo(e,n+e.e+1,t))},dn.toExponential=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=Sm(r,!0):(kd(n,0,Wv),t===void 0?t=i.rounding:kd(t,0,8),e=Sm(r=bo(new i(r),n+1,t),!0,n+1)),r.isNeg()&&!r.isZero()?"-"+e:e},dn.toFixed=function(n,t){var e,r,i=this,a=i.constructor;return n===void 0?e=Sm(i):(kd(n,0,Wv),t===void 0?t=a.rounding:kd(t,0,8),e=Sm(r=bo(new a(i),n+i.e+1,t),!1,n+r.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e},dn.toFraction=function(n){var t,e,r,i,a,s,c,f,d,h,m,y,w=this,C=w.d,k=w.constructor;if(!C)return new k(w);if(d=e=new k(1),r=f=new k(0),s=(a=(t=new k(r)).e=m7(C)-w.e-1)%7,t.d[0]=op(10,s<0?7+s:s),n==null)n=a>0?t:d;else{if(!(c=new k(n)).isInt()||c.lt(d))throw Error(f0+c);n=c.gt(t)?a>0?t:d:c}for(Ra=!1,c=new k(Mp(C)),h=k.precision,k.precision=a=7*C.length*2;m=Af(c,t,0,1,1),(i=e.plus(m.times(r))).cmp(n)!=1;)e=r,r=i,i=d,d=f.plus(m.times(i)),f=i,i=t,t=c.minus(m.times(i)),c=i;return i=Af(n.minus(e),r,0,1,1),f=f.plus(i.times(d)),e=e.plus(i.times(r)),f.s=d.s=w.s,y=Af(d,r,a,1).minus(w).abs().cmp(Af(f,e,a,1).minus(w).abs())<1?[d,r]:[f,e],k.precision=h,Ra=!0,y},dn.toHexadecimal=dn.toHex=function(n,t){return mM(this,16,n,t)},dn.toNearest=function(n,t){var e=this,r=e.constructor;if(e=new r(e),n==null){if(!e.d)return e;n=new r(1),t=r.rounding}else{if(n=new r(n),t===void 0?t=r.rounding:kd(t,0,8),!e.d)return n.s?e:n;if(!n.d)return n.s&&(n.s=e.s),n}return n.d[0]?(Ra=!1,e=Af(e,n,0,t,1).times(n),Ra=!0,bo(e)):(n.s=e.s,e=n),e},dn.toNumber=function(){return+this},dn.toOctal=function(n,t){return mM(this,8,n,t)},dn.toPower=dn.pow=function(n){var t,e,r,i,a,s,c=this,f=c.constructor,d=+(n=new f(n));if(!(c.d&&n.d&&c.d[0]&&n.d[0]))return new f(op(+c,d));if((c=new f(c)).eq(1))return c;if(r=f.precision,a=f.rounding,n.eq(1))return bo(c,r,a);if((t=Jp(n.e/7))>=n.d.length-1&&(e=d<0?-d:d)<=9007199254740991)return i=ZK(f,c,e,r),n.s<0?new f(1).div(i):bo(i,r,a);if((s=c.s)<0){if(t<n.d.length-1)return new f(NaN);if(1&n.d[t]||(s=1),c.e==0&&c.d[0]==1&&c.d.length==1)return c.s=s,c}return(t=(e=op(+c,d))!=0&&isFinite(e)?new f(e+"").e:Jp(d*(Math.log("0."+Mp(c.d))/Math.LN10+c.e+1)))>f.maxE+1||t<f.minE-1?new f(t>0?s/0:0):(Ra=!1,f.rounding=c.s=1,e=Math.min(12,(t+"").length),(i=dM(n.times(Mv(c,r+e)),r)).d&&kx((i=bo(i,r+5,1)).d,r,a)&&(t=r+10,+Mp((i=bo(dM(n.times(Mv(c,t+e)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=bo(i,r+1,0))),i.s=s,Ra=!0,f.rounding=a,bo(i,r,a))},dn.toPrecision=function(n,t){var e,r=this,i=r.constructor;return n===void 0?e=Sm(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(kd(n,1,Wv),t===void 0?t=i.rounding:kd(t,0,8),e=Sm(r=bo(new i(r),n,t),n<=r.e||r.e<=i.toExpNeg,n)),r.isNeg()&&!r.isZero()?"-"+e:e},dn.toSignificantDigits=dn.toSD=function(n,t){var e=this.constructor;return n===void 0?(n=e.precision,t=e.rounding):(kd(n,1,Wv),t===void 0?t=e.rounding:kd(t,0,8)),bo(new e(this),n,t)},dn.toString=function(){var n=this,t=n.constructor,e=Sm(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()&&!n.isZero()?"-"+e:e},dn.truncated=dn.trunc=function(){return bo(new this.constructor(this),this.e+1,1)},dn.valueOf=dn.toJSON=function(){var n=this,t=n.constructor,e=Sm(n,n.e<=t.toExpNeg||n.e>=t.toExpPos);return n.isNeg()?"-"+e:e};var Af=function(){function n(r,i,a){var s,c=0,f=r.length;for(r=r.slice();f--;)s=r[f]*i+c,r[f]=s%a|0,c=s/a|0;return c&&r.unshift(c),r}function t(r,i,a,s){var c,f;if(a!=s)f=a>s?1:-1;else for(c=f=0;c<a;c++)if(r[c]!=i[c]){f=r[c]>i[c]?1:-1;break}return f}function e(r,i,a,s){for(var c=0;a--;)r[a]-=c,c=r[a]<i[a]?1:0,r[a]=c*s+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s,c,f){var d,h,m,y,w,C,k,M,N,B,L,z,q,V,X,nt,it,ct,ft,gt,Ct=r.constructor,kt=r.s==i.s?1:-1,Tt=r.d,At=i.d;if(!(Tt&&Tt[0]&&At&&At[0]))return new Ct(r.s&&i.s&&(Tt?!At||Tt[0]!=At[0]:At)?Tt&&Tt[0]==0||!At?0*kt:kt/0:NaN);for(f?(w=1,h=r.e-i.e):(f=$g,w=7,h=Jp(r.e/w)-Jp(i.e/w)),ft=At.length,it=Tt.length,B=(N=new Ct(kt)).d=[],m=0;At[m]==(Tt[m]||0);m++);if(At[m]>(Tt[m]||0)&&h--,a==null?(V=a=Ct.precision,s=Ct.rounding):V=c?a+(r.e-i.e)+1:a,V<0)B.push(1),C=!0;else{if(V=V/w+2|0,m=0,ft==1){for(y=0,At=At[0],V++;(m<it||y)&&V--;m++)X=y*f+(Tt[m]||0),B[m]=X/At|0,y=X%At|0;C=y||m<it}else{for((y=f/(At[0]+1)|0)>1&&(At=n(At,y,f),Tt=n(Tt,y,f),ft=At.length,it=Tt.length),nt=ft,z=(L=Tt.slice(0,ft)).length;z<ft;)L[z++]=0;(gt=At.slice()).unshift(0),ct=At[0],At[1]>=f/2&&++ct;do y=0,(d=t(At,L,ft,z))<0?(q=L[0],ft!=z&&(q=q*f+(L[1]||0)),(y=q/ct|0)>1?(y>=f&&(y=f-1),(d=t(k=n(At,y,f),L,M=k.length,z=L.length))==1&&(y--,e(k,ft<M?gt:At,M,f))):(y==0&&(d=y=1),k=At.slice()),(M=k.length)<z&&k.unshift(0),e(L,k,z,f),d==-1&&(d=t(At,L,ft,z=L.length))<1&&(y++,e(L,ft<z?gt:At,z,f)),z=L.length):d===0&&(y++,L=[0]),B[m++]=y,d&&L[0]?L[z++]=Tt[nt]||0:(L=[Tt[nt]],z=1);while((nt++<it||L[0]!==void 0)&&V--);C=L[0]!==void 0}B[0]||B.shift()}if(w==1)N.e=h,YK=C;else{for(m=1,y=B[0];y>=10;y/=10)m++;N.e=m+h*w-1,bo(N,c?a+N.e+1:a,s,C)}return N}}();function bo(n,t,e,r){var i,a,s,c,f,d,h,m,y,w=n.constructor;t:if(t!=null){if(!(m=n.d))return n;for(i=1,c=m[0];c>=10;c/=10)i++;if((a=t-i)<0)a+=7,s=t,f=(h=m[y=0])/op(10,i-s-1)%10|0;else if((y=Math.ceil((a+1)/7))>=(c=m.length)){if(!r)break t;for(;c++<=y;)m.push(0);h=f=0,i=1,s=(a%=7)-7+1}else{for(h=c=m[y],i=1;c>=10;c/=10)i++;f=(s=(a%=7)-7+i)<0?0:h/op(10,i-s-1)%10|0}if(r=r||t<0||m[y+1]!==void 0||(s<0?h:h%op(10,i-s-1)),d=e<4?(f||r)&&(e==0||e==(n.s<0?3:2)):f>5||f==5&&(e==4||r||e==6&&(a>0?s>0?h/op(10,i-s):0:m[y-1])%10&1||e==(n.s<0?8:7)),t<1||!m[0])return m.length=0,d?(t-=n.e+1,m[0]=op(10,(7-t%7)%7),n.e=-t||0):m[0]=n.e=0,n;if(a==0?(m.length=y,c=1,y--):(m.length=y+1,c=op(10,7-a),m[y]=s>0?(h/op(10,i-s)%op(10,s)|0)*c:0),d)for(;;){if(y==0){for(a=1,s=m[0];s>=10;s/=10)a++;for(s=m[0]+=c,c=1;s>=10;s/=10)c++;a!=c&&(n.e++,m[0]==$g&&(m[0]=1));break}if(m[y]+=c,m[y]!=$g)break;m[y--]=0,c=1}for(a=m.length;m[--a]===0;)m.pop()}return Ra&&(n.e>w.maxE?(n.d=null,n.e=NaN):n.e<w.minE&&(n.e=0,n.d=[0])),n}function Sm(n,t,e){if(!n.isFinite())return eG(n);var r,i=n.e,a=Mp(n.d),s=a.length;return t?(e&&(r=e-s)>0?a=a.charAt(0)+"."+a.slice(1)+Bv(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(n.e<0?"e":"e+")+n.e):i<0?(a="0."+Bv(-i-1)+a,e&&(r=e-s)>0&&(a+=Bv(r))):i>=s?(a+=Bv(i+1-s),e&&(r=e-i-1)>0&&(a=a+"."+Bv(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),e&&(r=e-s)>0&&(i+1===s&&(a+="."),a+=Bv(r))),a}function DS(n,t){var e=n[0];for(t*=7;e>=10;e/=10)t++;return t}function pE(n,t,e){if(t>Apt)throw Ra=!0,e&&(n.precision=e),Error(XK);return bo(new n(fE),t,1,!0)}function Xg(n,t,e){if(t>RT)throw Error(XK);return bo(new n(hE),t,e,!0)}function m7(n){var t=n.length-1,e=7*t+1;if(t=n[t]){for(;t%10==0;t/=10)e--;for(t=n[0];t>=10;t/=10)e++}return e}function Bv(n){for(var t="";n--;)t+="0";return t}function ZK(n,t,e,r){var i,a=new n(1),s=Math.ceil(r/7+4);for(Ra=!1;;){if(e%2&&w7((a=a.times(t)).d,s)&&(i=!0),(e=Jp(e/2))===0){e=a.d.length-1,i&&a.d[e]===0&&++a.d[e];break}w7((t=t.times(t)).d,s)}return Ra=!0,a}function v7(n){return 1&n.d[n.d.length-1]}function tG(n,t,e){for(var r,i=new n(t[0]),a=0;++a<t.length;){if(!(r=new n(t[a])).s){i=r;break}i[e](r)&&(i=r)}return i}function dM(n,t){var e,r,i,a,s,c,f,d=0,h=0,m=0,y=n.constructor,w=y.rounding,C=y.precision;if(!n.d||!n.d[0]||n.e>17)return new y(n.d?n.d[0]?n.s<0?0:1/0:1:n.s?n.s<0?0:n:NaN);for(t==null?(Ra=!1,f=C):f=t,c=new y(.03125);n.e>-2;)n=n.times(c),m+=5;for(f+=r=Math.log(op(2,m))/Math.LN10*2+5|0,e=a=s=new y(1),y.precision=f;;){if(a=bo(a.times(n),f,1),e=e.times(++h),Mp((c=s.plus(Af(a,e,f,1))).d).slice(0,f)===Mp(s.d).slice(0,f)){for(i=m;i--;)s=bo(s.times(s),f,1);if(t!=null)return y.precision=C,s;if(!(d<3&&kx(s.d,f-r,w,d)))return bo(s,y.precision=C,w,Ra=!0);y.precision=f+=10,e=a=c=new y(1),h=0,d++}s=c}}function Mv(n,t){var e,r,i,a,s,c,f,d,h,m,y,w=1,C=n,k=C.d,M=C.constructor,N=M.rounding,B=M.precision;if(C.s<0||!k||!k[0]||!C.e&&k[0]==1&&k.length==1)return new M(k&&!k[0]?-1/0:C.s!=1?NaN:k?0:C);if(t==null?(Ra=!1,h=B):h=t,M.precision=h+=10,r=(e=Mp(k)).charAt(0),!(Math.abs(a=C.e)<15e14))return d=pE(M,h+2,B).times(a+""),C=Mv(new M(r+"."+e.slice(1)),h-10).plus(d),M.precision=B,t==null?bo(C,B,N,Ra=!0):C;for(;r<7&&r!=1||r==1&&e.charAt(1)>3;)r=(e=Mp((C=C.times(n)).d)).charAt(0),w++;for(a=C.e,r>1?(C=new M("0."+e),a++):C=new M(r+"."+e.slice(1)),m=C,f=s=C=Af(C.minus(1),C.plus(1),h,1),y=bo(C.times(C),h,1),i=3;;){if(s=bo(s.times(y),h,1),Mp((d=f.plus(Af(s,new M(i),h,1))).d).slice(0,h)===Mp(f.d).slice(0,h)){if(f=f.times(2),a!==0&&(f=f.plus(pE(M,h+2,B).times(a+""))),f=Af(f,new M(w),h,1),t!=null)return M.precision=B,f;if(!kx(f.d,h-10,N,c))return bo(f,M.precision=B,N,Ra=!0);M.precision=h+=10,d=s=C=Af(m.minus(1),m.plus(1),h,1),y=bo(C.times(C),h,1),i=c=1}f=d,i+=2}}function eG(n){return String(n.s*n.s/0)}function gM(n,t){var e,r,i;for((e=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(e<0&&(e=r),e+=+t.slice(r+1),t=t.substring(0,r)):e<0&&(e=t.length),r=0;t.charCodeAt(r)===48;r++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(r,i)){if(i-=r,n.e=e=e-r-1,n.d=[],r=(e+1)%7,e<0&&(r+=7),r<i){for(r&&n.d.push(+t.slice(0,r)),i-=7;r<i;)n.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";n.d.push(+t),Ra&&(n.e>n.constructor.maxE?(n.d=null,n.e=NaN):n.e<n.constructor.minE&&(n.e=0,n.d=[0]))}else n.e=0,n.d=[0];return n}function Gy(n,t,e,r,i){var a,s,c,f,d=n.precision,h=Math.ceil(d/7);for(Ra=!1,f=e.times(e),c=new n(r);;){if(s=Af(c.times(f),new n(t++*t++),d,1),c=i?r.plus(s):r.minus(s),r=Af(s.times(f),new n(t++*t++),d,1),(s=c.plus(r)).d[h]!==void 0){for(a=h;s.d[a]===c.d[a]&&a--;);if(a==-1)break}a=c,c=r,r=s,s=a}return Ra=!0,s.d.length=h+1,s}function M_(n,t){for(var e=n;--t;)e*=n;return e}function y7(n,t){var e,r=t.s<0,i=Xg(n,n.precision,1),a=i.times(.5);if((t=t.abs()).lte(a))return cv=r?4:1,t;if((e=t.divToInt(i)).isZero())cv=r?3:2;else{if((t=t.minus(e.times(i))).lte(a))return cv=v7(e)?r?2:3:r?4:1,t;cv=v7(e)?r?1:4:r?3:2}return t.minus(i).abs()}function mM(n,t,e,r){var i,a,s,c,f,d,h,m,y,w=n.constructor,C=e!==void 0;if(C?(kd(e,1,Wv),r===void 0?r=w.rounding:kd(r,0,8)):(e=w.precision,r=w.rounding),n.isFinite()){for(C?(i=2,t==16?e=4*e-3:t==8&&(e=3*e-2)):i=t,(s=(h=Sm(n)).indexOf("."))>=0&&(h=h.replace(".",""),(y=new w(1)).e=h.length-s,y.d=xS(Sm(y),10,i),y.e=y.d.length),a=f=(m=xS(h,10,i)).length;m[--f]==0;)m.pop();if(m[0]){if(s<0?a--:((n=new w(n)).d=m,n.e=a,m=(n=Af(n,y,e,r,0,i)).d,a=n.e,d=YK),s=m[e],c=i/2,d=d||m[e+1]!==void 0,d=r<4?(s!==void 0||d)&&(r===0||r===(n.s<0?3:2)):s>c||s===c&&(r===4||d||r===6&&1&m[e-1]||r===(n.s<0?8:7)),m.length=e,d)for(;++m[--e]>i-1;)m[e]=0,e||(++a,m.unshift(1));for(f=m.length;!m[f-1];--f);for(s=0,h="";s<f;s++)h+=IT.charAt(m[s]);if(C){if(f>1)if(t==16||t==8){for(s=t==16?4:3,--f;f%s;f++)h+="0";for(f=(m=xS(h,i,t)).length;!m[f-1];--f);for(s=1,h="1.";s<f;s++)h+=IT.charAt(m[s])}else h=h.charAt(0)+"."+h.slice(1);h=h+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)h="0"+h;h="0."+h}else if(++a>f)for(a-=f;a--;)h+="0";else a<f&&(h=h.slice(0,a)+"."+h.slice(a))}else h=C?"0p+0":"0";h=(t==16?"0x":t==2?"0b":t==8?"0o":"")+h}else h=eG(n);return n.s<0?"-"+h:h}function w7(n,t){if(n.length>t)return n.length=t,!0}function kpt(n){return new this(n).abs()}function Mpt(n){return new this(n).acos()}function Fpt(n){return new this(n).acosh()}function Ppt(n,t){return new this(n).plus(t)}function Tpt(n){return new this(n).asin()}function Opt(n){return new this(n).asinh()}function Npt(n){return new this(n).atan()}function Ipt(n){return new this(n).atanh()}function Bpt(n,t){n=new this(n),t=new this(t);var e,r=this.precision,i=this.rounding,a=r+4;return n.s&&t.s?n.d||t.d?!t.d||n.isZero()?(e=t.s<0?Xg(this,r,i):new this(0)).s=n.s:!n.d||t.isZero()?(e=Xg(this,a,1).times(.5)).s=n.s:t.s<0?(this.precision=a,this.rounding=1,e=this.atan(Af(n,t,a,1)),t=Xg(this,a,1),this.precision=r,this.rounding=i,e=n.s<0?e.minus(t):e.plus(t)):e=this.atan(Af(n,t,a,1)):(e=Xg(this,a,1).times(t.s>0?.25:.75)).s=n.s:e=new this(NaN),e}function Rpt(n){return new this(n).cbrt()}function jpt(n){return bo(n=new this(n),n.e+1,2)}function Lpt(n,t,e){return new this(n).clamp(t,e)}function zpt(n){if(!n||typeof n!="object")throw Error(nA+"Object expected");var t,e,r,i=n.defaults===!0,a=["precision",1,Wv,"rounding",0,8,"toExpNeg",-bw,0,"toExpPos",0,bw,"maxE",0,bw,"minE",-bw,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(e=a[t],i&&(this[e]=BT[e]),(r=n[e])!==void 0){if(!(Jp(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(f0+e+": "+r);this[e]=r}if(e="crypto",i&&(this[e]=BT[e]),(r=n[e])!==void 0){if(r!==!0&&r!==!1&&r!==0&&r!==1)throw Error(f0+e+": "+r);if(r){if(typeof crypto>"u"||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(JK);this[e]=!0}else this[e]=!1}return this}function Upt(n){return new this(n).cos()}function $pt(n){return new this(n).cosh()}function Wpt(n,t){return new this(n).div(t)}function Hpt(n){return new this(n).exp()}function Vpt(n){return bo(n=new this(n),n.e+1,3)}function qpt(){var n,t,e=new this(0);for(Ra=!1,n=0;n<arguments.length;)if((t=new this(arguments[n++])).d)e.d&&(e=e.plus(t.times(t)));else{if(t.s)return Ra=!0,new this(1/0);e=t}return Ra=!0,e.sqrt()}function b7(n){return n instanceof ub||n&&n.toStringTag===QK||!1}function Kpt(n){return new this(n).ln()}function Gpt(n,t){return new this(n).log(t)}function Ypt(n){return new this(n).log(2)}function Xpt(n){return new this(n).log(10)}function Jpt(){return tG(this,arguments,"lt")}function Qpt(){return tG(this,arguments,"gt")}function Zpt(n,t){return new this(n).mod(t)}function tdt(n,t){return new this(n).mul(t)}function edt(n,t){return new this(n).pow(t)}function ndt(n){var t,e,r,i,a=0,s=new this(1),c=[];if(n===void 0?n=this.precision:kd(n,1,Wv),r=Math.ceil(n/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(i=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(JK);for(t=crypto.randomBytes(r*=4);a<r;)(i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(c.push(i%1e7),a+=4);a=r/4}else for(;a<r;)c[a++]=1e7*Math.random()|0;for(n%=7,(r=c[--a])&&n&&(i=op(10,7-n),c[a]=(r/i|0)*i);c[a]===0;a--)c.pop();if(a<0)e=0,c=[0];else{for(e=-1;c[0]===0;e-=7)c.shift();for(r=1,i=c[0];i>=10;i/=10)r++;r<7&&(e-=7-r)}return s.e=e,s.d=c,s}function rdt(n){return bo(n=new this(n),n.e+1,this.rounding)}function idt(n){return(n=new this(n)).d?n.d[0]?n.s:0*n.s:n.s||NaN}function odt(n){return new this(n).sin()}function adt(n){return new this(n).sinh()}function sdt(n){return new this(n).sqrt()}function udt(n,t){return new this(n).sub(t)}function ldt(){var n=0,t=arguments,e=new this(t[n]);for(Ra=!1;e.s&&++n<t.length;)e=e.plus(t[n]);return Ra=!0,bo(e,this.precision,this.rounding)}function cdt(n){return new this(n).tan()}function fdt(n){return new this(n).tanh()}function hdt(n){return bo(n=new this(n),n.e+1,1)}dn[Symbol.for("nodejs.util.inspect.custom")]=dn.toString,dn[Symbol.toStringTag]="Decimal";var ub=dn.constructor=function n(t){var e,r,i;function a(s){var c,f,d,h=this;if(!(h instanceof a))return new a(s);if(h.constructor=a,b7(s))return h.s=s.s,void(Ra?!s.d||s.e>a.maxE?(h.e=NaN,h.d=null):s.e<a.minE?(h.e=0,h.d=[0]):(h.e=s.e,h.d=s.d.slice()):(h.e=s.e,h.d=s.d?s.d.slice():s.d));if((d=typeof s)=="number"){if(s===0)return h.s=1/s<0?-1:1,h.e=0,void(h.d=[0]);if(s<0?(s=-s,h.s=-1):h.s=1,s===~~s&&s<1e7){for(c=0,f=s;f>=10;f/=10)c++;return void(Ra?c>a.maxE?(h.e=NaN,h.d=null):c<a.minE?(h.e=0,h.d=[0]):(h.e=c,h.d=[s]):(h.e=c,h.d=[s]))}return 0*s!=0?(s||(h.s=NaN),h.e=NaN,void(h.d=null)):gM(h,s.toString())}if(d!=="string")throw Error(f0+s);return(f=s.charCodeAt(0))===45?(s=s.slice(1),h.s=-1):(f===43&&(s=s.slice(1)),h.s=1),g7.test(s)?gM(h,s):function(y,w){var C,k,M,N,B,L,z,q,V;if(w.indexOf("_")>-1){if(w=w.replace(/(\d)_(?=\d)/g,"$1"),g7.test(w))return gM(y,w)}else if(w==="Infinity"||w==="NaN")return+w||(y.s=NaN),y.e=NaN,y.d=null,y;if(Spt.test(w))C=16,w=w.toLowerCase();else if(_pt.test(w))C=2;else{if(!Ept.test(w))throw Error(f0+w);C=8}for((N=w.search(/p/i))>0?(z=+w.slice(N+1),w=w.substring(2,N)):w=w.slice(2),B=(N=w.indexOf("."))>=0,k=y.constructor,B&&(N=(L=(w=w.replace(".","")).length)-N,M=ZK(k,new k(C),N,2*N)),N=V=(q=xS(w,C,$g)).length-1;q[N]===0;--N)q.pop();return N<0?new k(0*y.s):(y.e=DS(q,V),y.d=q,Ra=!1,B&&(y=Af(y,M,4*L)),z&&(y=y.times(Math.abs(z)<54?op(2,z):ub.pow(2,z))),Ra=!0,y)}(h,s)}if(a.prototype=dn,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=a.set=zpt,a.clone=n,a.isDecimal=b7,a.abs=kpt,a.acos=Mpt,a.acosh=Fpt,a.add=Ppt,a.asin=Tpt,a.asinh=Opt,a.atan=Npt,a.atanh=Ipt,a.atan2=Bpt,a.cbrt=Rpt,a.ceil=jpt,a.clamp=Lpt,a.cos=Upt,a.cosh=$pt,a.div=Wpt,a.exp=Hpt,a.floor=Vpt,a.hypot=qpt,a.ln=Kpt,a.log=Gpt,a.log10=Xpt,a.log2=Ypt,a.max=Jpt,a.min=Qpt,a.mod=Zpt,a.mul=tdt,a.pow=edt,a.random=ndt,a.round=rdt,a.sign=idt,a.sin=odt,a.sinh=adt,a.sqrt=sdt,a.sub=udt,a.sum=ldt,a.tan=cdt,a.tanh=fdt,a.trunc=hdt,t===void 0&&(t={}),t&&t.defaults!==!0)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)t.hasOwnProperty(r=i[e++])||(t[r]=this[r]);return a.config(t),a}(BT);fE=new ub(fE),hE=new ub(hE);var pdt=Pf("BigNumber",["?on","config"],n=>{var{on:t,config:e}=n,r=ub.clone({precision:e.precision,modulo:ub.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&r.config({precision:i.precision})}),r},{isClass:!0});const Gp=Math.cosh||function(n){return Math.abs(n)<1e-9?1-n:.5*(Math.exp(n)+Math.exp(-n))},mg=Math.sinh||function(n){return Math.abs(n)<1e-9?n:.5*(Math.exp(n)-Math.exp(-n))},vM=function(n,t){return(n=Math.abs(n))<(t=Math.abs(t))&&([n,t]=[t,n]),n<1e8?Math.sqrt(n*n+t*t):(t/=n,n*Math.sqrt(1+t*t))},Yy=function(){throw SyntaxError("Invalid Param")};function yM(n,t){const e=Math.abs(n),r=Math.abs(t);return n===0?Math.log(r):t===0?Math.log(e):e<3e3&&r<3e3?.5*Math.log(n*n+t*t):(n*=.5,t*=.5,.5*Math.log(n*n+t*t)+Math.LN2)}const ddt={re:0,im:0},$0=function(n,t){const e=ddt;if(n==null)e.re=e.im=0;else if(t!==void 0)e.re=n,e.im=t;else switch(typeof n){case"object":if("im"in n&&"re"in n)e.re=n.re,e.im=n.im;else if("abs"in n&&"arg"in n){if(!isFinite(n.abs)&&isFinite(n.arg))return Ye.INFINITY;e.re=n.abs*Math.cos(n.arg),e.im=n.abs*Math.sin(n.arg)}else if("r"in n&&"phi"in n){if(!isFinite(n.r)&&isFinite(n.phi))return Ye.INFINITY;e.re=n.r*Math.cos(n.phi),e.im=n.r*Math.sin(n.phi)}else n.length===2?(e.re=n[0],e.im=n[1]):Yy();break;case"string":e.im=e.re=0;const r=n.replace(/_/g,"").match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g);let i=1,a=0;r===null&&Yy();for(let s=0;s<r.length;s++){const c=r[s];c===" "||c==="	"||c===`
`||(c==="+"?i++:c==="-"?a++:c==="i"||c==="I"?(i+a===0&&Yy(),r[s+1]===" "||isNaN(r[s+1])?e.im+=parseFloat((a%2?"-":"")+"1"):(e.im+=parseFloat((a%2?"-":"")+r[s+1]),s++),i=a=0):((i+a===0||isNaN(c))&&Yy(),r[s+1]==="i"||r[s+1]==="I"?(e.im+=parseFloat((a%2?"-":"")+c),s++):e.re+=parseFloat((a%2?"-":"")+c),i=a=0))}i+a>0&&Yy();break;case"number":e.im=0,e.re=n;break;default:Yy()}return isNaN(e.re)||isNaN(e.im),e};function Ye(n,t){if(!(this instanceof Ye))return new Ye(n,t);const e=$0(n,t);this.re=e.re,this.im=e.im}Ye.prototype={re:0,im:0,sign:function(){const n=vM(this.re,this.im);return new Ye(this.re/n,this.im/n)},add:function(n,t){const e=$0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return r||i?r&&i?Ye.NAN:Ye.INFINITY:new Ye(this.re+e.re,this.im+e.im)},sub:function(n,t){const e=$0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im));return r||i?r&&i?Ye.NAN:Ye.INFINITY:new Ye(this.re-e.re,this.im-e.im)},mul:function(n,t){const e=$0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),a=this.re===0&&this.im===0,s=e.re===0&&e.im===0;return r&&s||i&&a?Ye.NAN:r||i?Ye.INFINITY:e.im===0&&this.im===0?new Ye(this.re*e.re,0):new Ye(this.re*e.re-this.im*e.im,this.re*e.im+this.im*e.re)},div:function(n,t){const e=$0(n,t),r=this.isInfinite(),i=!(isFinite(e.re)&&isFinite(e.im)),a=this.re===0&&this.im===0,s=e.re===0&&e.im===0;if(a&&s||r&&i)return Ye.NAN;if(s||r)return Ye.INFINITY;if(a||i)return Ye.ZERO;if(e.im===0)return new Ye(this.re/e.re,this.im/e.re);if(Math.abs(e.re)<Math.abs(e.im)){const c=e.re/e.im,f=e.re*c+e.im;return new Ye((this.re*c+this.im)/f,(this.im*c-this.re)/f)}{const c=e.im/e.re,f=e.im*c+e.re;return new Ye((this.re+this.im*c)/f,(this.im-this.re*c)/f)}},pow:function(n,t){const e=$0(n,t),r=this.re===0&&this.im===0;if(e.re===0&&e.im===0)return Ye.ONE;if(e.im===0){if(this.im===0&&this.re>0)return new Ye(Math.pow(this.re,e.re),0);if(this.re===0)switch((e.re%4+4)%4){case 0:return new Ye(Math.pow(this.im,e.re),0);case 1:return new Ye(0,Math.pow(this.im,e.re));case 2:return new Ye(-Math.pow(this.im,e.re),0);case 3:return new Ye(0,-Math.pow(this.im,e.re))}}if(r&&e.re>0)return Ye.ZERO;const i=Math.atan2(this.im,this.re),a=yM(this.re,this.im);let s=Math.exp(e.re*a-e.im*i),c=e.im*a+e.re*i;return new Ye(s*Math.cos(c),s*Math.sin(c))},sqrt:function(){const n=this.re,t=this.im;if(t===0)return n>=0?new Ye(Math.sqrt(n),0):new Ye(0,Math.sqrt(-n));const e=vM(n,t);let r=Math.sqrt(.5*(e+Math.abs(n))),i=Math.abs(t)/(2*r);return n>=0?new Ye(r,t<0?-i:i):new Ye(i,t<0?-r:r)},exp:function(){const n=Math.exp(this.re);return this.im===0?new Ye(n,0):new Ye(n*Math.cos(this.im),n*Math.sin(this.im))},expm1:function(){const n=this.re,t=this.im;return new Ye(Math.expm1(n)*Math.cos(t)+function(e){const r=Math.PI/4;if(-r>e||e>r)return Math.cos(e)-1;const i=e*e;return i*(i*(i*(i*(i*(i*(i*(i/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-.5)}(t),Math.exp(n)*Math.sin(t))},log:function(){const n=this.re,t=this.im;return t===0&&n>0?new Ye(Math.log(n),0):new Ye(yM(n,t),Math.atan2(t,n))},abs:function(){return vM(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){const n=this.re,t=this.im;return new Ye(Math.sin(n)*Gp(t),Math.cos(n)*mg(t))},cos:function(){const n=this.re,t=this.im;return new Ye(Math.cos(n)*Gp(t),-Math.sin(n)*mg(t))},tan:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)+Gp(t);return new Ye(Math.sin(n)/e,mg(t)/e)},cot:function(){const n=2*this.re,t=2*this.im,e=Math.cos(n)-Gp(t);return new Ye(-Math.sin(n)/e,mg(t)/e)},sec:function(){const n=this.re,t=this.im,e=.5*Gp(2*t)+.5*Math.cos(2*n);return new Ye(Math.cos(n)*Gp(t)/e,Math.sin(n)*mg(t)/e)},csc:function(){const n=this.re,t=this.im,e=.5*Gp(2*t)-.5*Math.cos(2*n);return new Ye(Math.sin(n)*Gp(t)/e,-Math.cos(n)*mg(t)/e)},asin:function(){const n=this.re,t=this.im,e=new Ye(t*t-n*n+1,-2*n*t).sqrt(),r=new Ye(e.re-t,e.im+n).log();return new Ye(r.im,-r.re)},acos:function(){const n=this.re,t=this.im,e=new Ye(t*t-n*n+1,-2*n*t).sqrt(),r=new Ye(e.re-t,e.im+n).log();return new Ye(Math.PI/2-r.im,r.re)},atan:function(){const n=this.re,t=this.im;if(n===0){if(t===1)return new Ye(0,1/0);if(t===-1)return new Ye(0,-1/0)}const e=n*n+(1-t)*(1-t),r=new Ye((1-t*t-n*n)/e,-2*n/e).log();return new Ye(-.5*r.im,.5*r.re)},acot:function(){const n=this.re,t=this.im;if(t===0)return new Ye(Math.atan2(1,n),0);const e=n*n+t*t;return e!==0?new Ye(n/e,-t/e).atan():new Ye(n!==0?n/0:0,t!==0?-t/0:0).atan()},asec:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ye(0,1/0);const e=n*n+t*t;return e!==0?new Ye(n/e,-t/e).acos():new Ye(n!==0?n/0:0,t!==0?-t/0:0).acos()},acsc:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ye(Math.PI/2,1/0);const e=n*n+t*t;return e!==0?new Ye(n/e,-t/e).asin():new Ye(n!==0?n/0:0,t!==0?-t/0:0).asin()},sinh:function(){const n=this.re,t=this.im;return new Ye(mg(n)*Math.cos(t),Gp(n)*Math.sin(t))},cosh:function(){const n=this.re,t=this.im;return new Ye(Gp(n)*Math.cos(t),mg(n)*Math.sin(t))},tanh:function(){const n=2*this.re,t=2*this.im,e=Gp(n)+Math.cos(t);return new Ye(mg(n)/e,Math.sin(t)/e)},coth:function(){const n=2*this.re,t=2*this.im,e=Gp(n)-Math.cos(t);return new Ye(mg(n)/e,-Math.sin(t)/e)},csch:function(){const n=this.re,t=this.im,e=Math.cos(2*t)-Gp(2*n);return new Ye(-2*mg(n)*Math.cos(t)/e,2*Gp(n)*Math.sin(t)/e)},sech:function(){const n=this.re,t=this.im,e=Math.cos(2*t)+Gp(2*n);return new Ye(2*Gp(n)*Math.cos(t)/e,-2*mg(n)*Math.sin(t)/e)},asinh:function(){let n=this.im;this.im=-this.re,this.re=n;const t=this.asin();return this.re=-this.im,this.im=n,n=t.re,t.re=-t.im,t.im=n,t},acosh:function(){const n=this.acos();if(n.im<=0){const t=n.re;n.re=-n.im,n.im=t}else{const t=n.im;n.im=-n.re,n.re=t}return n},atanh:function(){const n=this.re,t=this.im,e=n>1&&t===0,r=1-n,i=1+n,a=r*r+t*t,s=a!==0?new Ye((i*r-t*t)/a,(t*r+i*t)/a):new Ye(n!==-1?n/0:0,t!==0?t/0:0),c=s.re;return s.re=yM(s.re,s.im)/2,s.im=Math.atan2(s.im,c)/2,e&&(s.im=-s.im),s},acoth:function(){const n=this.re,t=this.im;if(n===0&&t===0)return new Ye(0,Math.PI/2);const e=n*n+t*t;return e!==0?new Ye(n/e,-t/e).atanh():new Ye(n!==0?n/0:0,t!==0?-t/0:0).atanh()},acsch:function(){const n=this.re,t=this.im;if(t===0)return new Ye(n!==0?Math.log(n+Math.sqrt(n*n+1)):1/0,0);const e=n*n+t*t;return e!==0?new Ye(n/e,-t/e).asinh():new Ye(n!==0?n/0:0,t!==0?-t/0:0).asinh()},asech:function(){const n=this.re,t=this.im;if(this.isZero())return Ye.INFINITY;const e=n*n+t*t;return e!==0?new Ye(n/e,-t/e).acosh():new Ye(n!==0?n/0:0,t!==0?-t/0:0).acosh()},inverse:function(){if(this.isZero())return Ye.INFINITY;if(this.isInfinite())return Ye.ZERO;const n=this.re,t=this.im,e=n*n+t*t;return new Ye(n/e,-t/e)},conjugate:function(){return new Ye(this.re,-this.im)},neg:function(){return new Ye(-this.re,-this.im)},ceil:function(n){return n=Math.pow(10,n||0),new Ye(Math.ceil(this.re*n)/n,Math.ceil(this.im*n)/n)},floor:function(n){return n=Math.pow(10,n||0),new Ye(Math.floor(this.re*n)/n,Math.floor(this.im*n)/n)},round:function(n){return n=Math.pow(10,n||0),new Ye(Math.round(this.re*n)/n,Math.round(this.im*n)/n)},equals:function(n,t){const e=$0(n,t);return Math.abs(e.re-this.re)<=Ye.EPSILON&&Math.abs(e.im-this.im)<=Ye.EPSILON},clone:function(){return new Ye(this.re,this.im)},toString:function(){let n=this.re,t=this.im,e="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(n)<Ye.EPSILON&&(n=0),Math.abs(t)<Ye.EPSILON&&(t=0),t===0?e+n:(n!==0?(e+=n,e+=" ",t<0?(t=-t,e+="-"):e+="+",e+=" "):t<0&&(t=-t,e+="-"),t!==1&&(e+=t),e+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!this.isFinite()}},Ye.ZERO=new Ye(0,0),Ye.ONE=new Ye(1,0),Ye.I=new Ye(0,1),Ye.PI=new Ye(Math.PI,0),Ye.E=new Ye(Math.E,0),Ye.INFINITY=new Ye(1/0,1/0),Ye.NAN=new Ye(NaN,NaN),Ye.EPSILON=1e-15;var gdt=Pf("Complex",[],()=>(Object.defineProperty(Ye,"name",{value:"Complex"}),Ye.prototype.constructor=Ye,Ye.prototype.type="Complex",Ye.prototype.isComplex=!0,Ye.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},Ye.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},Ye.prototype.format=function(n){var t=this.im,e=this.re,r=NT(this.re,n),i=NT(this.im,n),a=Gf(n)?n:n?n.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(e/t)<s&&(e=0),Math.abs(t/e)<s&&(t=0)}return t===0?r:e===0?t===1?"i":t===-1?"-i":i+"i":t<0?t===-1?r+" - i":r+" - "+i.substring(1)+"i":t===1?r+" + i":r+" + "+i+"i"},Ye.fromPolar=function(n){switch(arguments.length){case 1:var t=arguments[0];if(typeof t=="object")return Ye(t);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var e=arguments[0],r=arguments[1];if(Gf(e)){if(qK(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),Gf(r))return new Ye({r:e,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},Ye.prototype.valueOf=Ye.prototype.toString,Ye.fromJSON=function(n){return new Ye(n)},Ye.compare=function(n,t){return n.re>t.re?1:n.re<t.re?-1:n.im>t.im?1:n.im<t.im?-1:0},Ye),{isClass:!0}),Ni={s:1,n:0,d:1};function iv(n,t){if(isNaN(n=parseInt(n,10)))throw CS();return n*t}function Eh(n,t){if(t===0)throw qN();var e=Object.create(td.prototype);e.s=n<0?-1:1;var r=xw(n=n<0?-n:n,t);return e.n=n/r,e.d=t/r,e}function x7(n){for(var t={},e=n,r=2,i=4;i<=e;){for(;e%r==0;)e/=r,t[r]=(t[r]||0)+1;i+=1+2*r++}return e!==n?e>1&&(t[e]=(t[e]||0)+1):t[n]=(t[n]||0)+1,t}var Xd=function(n,t){var e,r=0,i=1,a=1,s=0,c=0,f=0,d=1,h=1,m=0,y=1,w=1,C=1,k=1e7;if(n!=null)if(t!==void 0){if(a=(r=n)*(i=t),r%1!=0||i%1!=0)throw mdt()}else switch(typeof n){case"object":if("d"in n&&"n"in n)r=n.n,i=n.d,"s"in n&&(r*=n.s);else{if(!(0 in n))throw CS();r=n[0],1 in n&&(i=n[1])}a=r*i;break;case"number":if(n<0&&(a=n,n=-n),n%1==0)r=n;else if(n>0){for(n>=1&&(n/=h=Math.pow(10,Math.floor(1+Math.log(n)/Math.LN10)));y<=k&&C<=k;){if(n===(e=(m+w)/(y+C))){y+C<=k?(r=m+w,i=y+C):C>y?(r=w,i=C):(r=m,i=y);break}n>e?(m+=w,y+=C):(w+=m,C+=y),y>k?(r=w,i=C):(r=m,i=y)}r*=h}else(isNaN(n)||isNaN(t))&&(i=r=NaN);break;case"string":if((y=n.match(/\d+|./g))===null)throw CS();if(y[m]==="-"?(a=-1,m++):y[m]==="+"&&m++,y.length===m+1?c=iv(y[m++],a):y[m+1]==="."||y[m]==="."?(y[m]!=="."&&(s=iv(y[m++],a)),(1+ ++m===y.length||y[m+1]==="("&&y[m+3]===")"||y[m+1]==="'"&&y[m+3]==="'")&&(c=iv(y[m],a),d=Math.pow(10,y[m].length),m++),(y[m]==="("&&y[m+2]===")"||y[m]==="'"&&y[m+2]==="'")&&(f=iv(y[m+1],a),h=Math.pow(10,y[m+1].length)-1,m+=3)):y[m+1]==="/"||y[m+1]===":"?(c=iv(y[m],a),d=iv(y[m+2],1),m+=3):y[m+3]==="/"&&y[m+1]===" "&&(s=iv(y[m],a),c=iv(y[m+2],a),d=iv(y[m+4],1),m+=5),y.length<=m){a=r=f+(i=d*h)*s+h*c;break}default:throw CS()}if(i===0)throw qN();Ni.s=a<0?-1:1,Ni.n=Math.abs(r),Ni.d=Math.abs(i)};function xw(n,t){if(!n)return t;if(!t)return n;for(;;){if(!(n%=t))return t;if(!(t%=n))return n}}function td(n,t){if(Xd(n,t),!(this instanceof td))return Eh(Ni.s*Ni.n,Ni.d);n=xw(Ni.d,Ni.n),this.s=Ni.s,this.n=Ni.n/n,this.d=Ni.d/n}var qN=function(){return new Error("Division by Zero")},CS=function(){return new Error("Invalid argument")},mdt=function(){return new Error("Parameters must be integer")};td.prototype={s:1,n:0,d:1,abs:function(){return Eh(this.n,this.d)},neg:function(){return Eh(-this.s*this.n,this.d)},add:function(n,t){return Xd(n,t),Eh(this.s*this.n*Ni.d+Ni.s*this.d*Ni.n,this.d*Ni.d)},sub:function(n,t){return Xd(n,t),Eh(this.s*this.n*Ni.d-Ni.s*this.d*Ni.n,this.d*Ni.d)},mul:function(n,t){return Xd(n,t),Eh(this.s*Ni.s*this.n*Ni.n,this.d*Ni.d)},div:function(n,t){return Xd(n,t),Eh(this.s*Ni.s*this.n*Ni.d,this.d*Ni.n)},clone:function(){return Eh(this.s*this.n,this.d)},mod:function(n,t){if(isNaN(this.n)||isNaN(this.d))return new td(NaN);if(n===void 0)return Eh(this.s*this.n%this.d,1);if(Xd(n,t),Ni.n===0&&this.d===0)throw qN();return Eh(this.s*(Ni.d*this.n)%(Ni.n*this.d),Ni.d*this.d)},gcd:function(n,t){return Xd(n,t),Eh(xw(Ni.n,this.n)*xw(Ni.d,this.d),Ni.d*this.d)},lcm:function(n,t){return Xd(n,t),Ni.n===0&&this.n===0?Eh(0,1):Eh(Ni.n*this.n,xw(Ni.n,this.n)*xw(Ni.d,this.d))},ceil:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new td(NaN):Eh(Math.ceil(n*this.s*this.n/this.d),n)},floor:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new td(NaN):Eh(Math.floor(n*this.s*this.n/this.d),n)},round:function(n){return n=Math.pow(10,n||0),isNaN(this.n)||isNaN(this.d)?new td(NaN):Eh(Math.round(n*this.s*this.n/this.d),n)},roundTo:function(n,t){return Xd(n,t),Eh(this.s*Math.round(this.n*Ni.d/(this.d*Ni.n))*Ni.n,Ni.d)},inverse:function(){return Eh(this.s*this.d,this.n)},pow:function(n,t){if(Xd(n,t),Ni.d===1)return Ni.s<0?Eh(Math.pow(this.s*this.d,Ni.n),Math.pow(this.n,Ni.n)):Eh(Math.pow(this.s*this.n,Ni.n),Math.pow(this.d,Ni.n));if(this.s<0)return null;var e=x7(this.n),r=x7(this.d),i=1,a=1;for(var s in e)if(s!=="1"){if(s==="0"){i=0;break}if(e[s]*=Ni.n,e[s]%Ni.d!=0)return null;e[s]/=Ni.d,i*=Math.pow(s,e[s])}for(var s in r)if(s!=="1"){if(r[s]*=Ni.n,r[s]%Ni.d!=0)return null;r[s]/=Ni.d,a*=Math.pow(s,r[s])}return Ni.s<0?Eh(a,i):Eh(i,a)},equals:function(n,t){return Xd(n,t),this.s*this.n*Ni.d==Ni.s*Ni.n*this.d},compare:function(n,t){Xd(n,t);var e=this.s*this.n*Ni.d-Ni.s*Ni.n*this.d;return(0<e)-(e<0)},simplify:function(n){if(isNaN(this.n)||isNaN(this.d))return this;n=n||.001;for(var t=this.abs(),e=t.toContinued(),r=1;r<e.length;r++){for(var i=Eh(e[r-1],1),a=r-2;a>=0;a--)i=i.inverse().add(e[a]);if(Math.abs(i.sub(t).valueOf())<n)return i.mul(this.s)}return this},divisible:function(n,t){return Xd(n,t),!(!(Ni.n*this.d)||this.n*Ni.d%(Ni.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(n){var t,e="",r=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=r:(n&&(t=Math.floor(r/i))>0&&(e+=t,e+=" ",r%=i),e+=r,e+="/",e+=i),e},toLatex:function(n){var t,e="",r=this.n,i=this.d;return this.s<0&&(e+="-"),i===1?e+=r:(n&&(t=Math.floor(r/i))>0&&(e+=t,r%=i),e+="\\frac{",e+=r,e+="}{",e+=i,e+="}"),e},toContinued:function(){var n,t=this.n,e=this.d,r=[];if(isNaN(t)||isNaN(e))return r;do r.push(Math.floor(t/e)),n=t%e,t=e,e=n;while(t!==1);return r},toString:function(n){var t=this.n,e=this.d;if(isNaN(t)||isNaN(e))return"NaN";n=n||15;var r=function(c,f){for(;f%2==0;f/=2);for(;f%5==0;f/=5);if(f===1)return 0;for(var d=10%f,h=1;d!==1;h++)if(d=10*d%f,h>2e3)return 0;return h}(0,e),i=function(c,f,d){for(var h=1,m=function(w,C,k){for(var M=1;C>0;w=w*w%k,C>>=1)1&C&&(M=M*w%k);return M}(10,d,f),y=0;y<300;y++){if(h===m)return y;h=10*h%f,m=10*m%f}return 0}(0,e,r),a=this.s<0?"-":"";if(a+=t/e|0,t%=e,(t*=10)&&(a+="."),r){for(var s=i;s--;)a+=t/e|0,t%=e,t*=10;for(a+="(",s=r;s--;)a+=t/e|0,t%=e,t*=10;a+=")"}else for(s=n;t&&s--;)a+=t/e|0,t%=e,t*=10;return a}};var vdt=Pf("Fraction",[],()=>(Object.defineProperty(td,"name",{value:"Fraction"}),td.prototype.constructor=td,td.prototype.type="Fraction",td.prototype.isFraction=!0,td.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},td.fromJSON=function(n){return new td(n)},td),{isClass:!0}),ydt=Pf("Matrix",[],()=>{function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator")}return n.prototype.type="Matrix",n.prototype.isMatrix=!0,n.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},n.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},n.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},n.prototype.subset=function(t,e,r){throw new Error("Cannot invoke subset on a Matrix interface")},n.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},n.prototype.set=function(t,e,r){throw new Error("Cannot invoke set on a Matrix interface")},n.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},n.prototype.reshape=function(t,e){throw new Error("Cannot invoke reshape on a Matrix interface")},n.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},n.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},n.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},n.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},n.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},n.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},n.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},n.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},n.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},n},{isClass:!0});function wM(n,t,e){var r=new n.constructor(2),i="";if(e){if(e<1)throw new Error("size must be in greater than 0");if(!bp(e))throw new Error("size must be an integer");if(n.greaterThan(r.pow(e-1).sub(1))||n.lessThan(r.pow(e-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(e-1,", 2^").concat(e-1,"-1]"));if(!n.isInteger())throw new Error("Value must be an integer");n.lessThan(0)&&(n=n.add(r.pow(e))),i="i".concat(e)}switch(t){case 2:return"".concat(n.toBinary()).concat(i);case 8:return"".concat(n.toOctal()).concat(i);case 16:return"".concat(n.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(t," not supported "))}}function D7(n,t){return t!==void 0?n.toExponential(t-1):n.toExponential()}function C7(n,t){return Gf(n)?n:$p(n)?n.toNumber():t}function Pd(n,t){var e=function(r,i){return typeof r=="number"?NT(r,i):$p(r)?function(s,c){if(typeof c=="function")return c(s);if(!s.isFinite())return s.isNaN()?"NaN":s.gt(0)?"Infinity":"-Infinity";var{notation:f,precision:d,wordSize:h}=KK(c);switch(f){case"fixed":return function(k,M){return k.toFixed(M)}(s,d);case"exponential":return D7(s,d);case"engineering":return function(k,M){var N=k.e,B=N%3==0?N:N<0?N-3-N%3:N-N%3,L=k.mul(Math.pow(10,-B)).toPrecision(M);return L.includes("e")&&(L=new k.constructor(L).toFixed()),L+"e"+(N>=0?"+":"")+B.toString()}(s,d);case"bin":return wM(s,2,h);case"oct":return wM(s,8,h);case"hex":return wM(s,16,h);case"auto":var m=C7(c==null?void 0:c.lowerExp,-3),y=C7(c==null?void 0:c.upperExp,5);if(s.isZero())return"0";var w=s.toSignificantDigits(d),C=w.e;return(C>=m&&C<y?w.toFixed():D7(s,d)).replace(/((\.\d*?)(0+))($|e)/,function(){var k=arguments[2],M=arguments[4];return k!=="."?k+M:M});default:throw new Error('Unknown notation "'+f+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}(r,i):function(a){return a&&typeof a=="object"&&typeof a.s=="number"&&typeof a.n=="number"&&typeof a.d=="number"||!1}(r)?i&&i.fraction==="decimal"?r.toString():r.s*r.n+"/"+r.d:Array.isArray(r)?nG(r,i):km(r)?_7(r):typeof r=="function"?r.syntax?String(r.syntax):"function":r&&typeof r=="object"?typeof r.format=="function"?r.format(i):r&&r.toString(i)!=={}.toString()?r.toString(i):"{"+Object.keys(r).map(a=>_7(a)+": "+Pd(r[a],i)).join(", ")+"}":String(r)}(n,t);return t&&typeof t=="object"&&"truncate"in t&&e.length>t.truncate?e.substring(0,t.truncate-3)+"...":e}function _7(n){for(var t=String(n),e="",r=0;r<t.length;){var i=t.charAt(r);e+=i in S7?S7[i]:i,r++}return'"'+e+'"'}var S7={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function nG(n,t){if(Array.isArray(n)){for(var e="[",r=n.length,i=0;i<r;i++)i!==0&&(e+=", "),e+=nG(n[i],t);return e+"]"}return Pd(n,t)}function qc(n,t,e){if(!(this instanceof qc))throw new SyntaxError("Constructor must be called with the new operator");this.actual=n,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(n)?"["+n.join(", ")+"]":n)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}function ny(n,t,e){if(!(this instanceof ny))throw new SyntaxError("Constructor must be called with the new operator");this.index=n,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}function am(n){for(var t=[];Array.isArray(n);)t.push(n.length),n=n[0];return t}function rG(n,t,e){var r,i=n.length;if(i!==t[e])throw new qc(i,t[e]);if(e<t.length-1){var a=e+1;for(r=0;r<i;r++){var s=n[r];if(!Array.isArray(s))throw new qc(t.length-1,t.length,"<");rG(n[r],t,a)}}else for(r=0;r<i;r++)if(Array.isArray(n[r]))throw new qc(t.length+1,t.length,">")}function E7(n,t){if(t.length===0){if(Array.isArray(n))throw new qc(n.length,0)}else rG(n,t,0)}function Rh(n,t){if(n!==void 0){if(!Gf(n)||!bp(n))throw new TypeError("Index must be an integer (value: "+n+")");if(n<0||typeof t=="number"&&n>=t)throw new ny(n,t)}}function A7(n,t,e){if(!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");return t.forEach(function(r){if(!Gf(r)||!bp(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Pd(t)+")")}),(Gf(n)||$p(n))&&(n=[n]),jT(n,t,0,e!==void 0?e:0),n}function jT(n,t,e,r){var i,a,s=n.length,c=t[e],f=Math.min(s,c);if(n.length=c,e<t.length-1){var d=e+1;for(i=0;i<f;i++)a=n[i],Array.isArray(a)||(a=[a],n[i]=a),jT(a,t,d,r);for(i=f;i<c;i++)a=[],n[i]=a,jT(a,t,d,r)}else{for(i=0;i<f;i++)for(;Array.isArray(n[i]);)n[i]=n[i][0];for(i=f;i<c;i++)n[i]=r}}function iG(n,t){var e=function(a){if(!Array.isArray(a))return a;var s=[];return a.forEach(function c(f){Array.isArray(f)?f.forEach(c):s.push(f)}),s}(n),r=e.length;if(!Array.isArray(n)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new qc(0,r,"!=");var i=oG(t=KN(t,r));if(r!==i)throw new qc(i,r,"!=");try{return function(a,s){for(var c,f=a,d=s.length-1;d>0;d--){var h=s[d];c=[];for(var m=f.length/h,y=0;y<m;y++)c.push(f.slice(y*h,(y+1)*h));f=c}return f}(e,t)}catch(a){throw a instanceof qc?new qc(i,r,"!="):a}}function KN(n,t){var e=oG(n),r=n.slice(),i=n.indexOf(-1);if(n.indexOf(-1,i+1)>=0)throw new Error("More than one wildcard in sizes");if(i>=0){if(t%e!=0)throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-e);r[i]=-t/e}return r}function oG(n){return n.reduce((t,e)=>t*e,1)}function aG(n,t,e,r){var i=r||am(n);if(e)for(var a=0;a<e;a++)n=[n],i.unshift(1);for(n=sG(n,t,0);i.length<t;)i.push(1);return n}function sG(n,t,e){var r,i;if(Array.isArray(n)){var a=e+1;for(r=0,i=n.length;r<i;r++)n[r]=sG(n[r],t,a)}else for(var s=e;s<t;s++)n=[n];return n}function GN(n,t){for(var e,r=0,i=0;i<n.length;i++){var a=n[i],s=Array.isArray(a);if(i===0&&s&&(r=a.length),s&&a.length!==r)return;var c=s?GN(a,t):t(a);if(e===void 0)e=c;else if(e!==c)return"mixed"}return e}function uG(n,t,e,r){if(r<e){if(n.length!==t.length)throw new qc(n.length,t.length);for(var i=[],a=0;a<n.length;a++)i[a]=uG(n[a],t[a],e,r+1);return i}return n.concat(t)}function lG(){var n=Array.prototype.slice.call(arguments,0,-1),t=Array.prototype.slice.call(arguments,-1);if(n.length===1)return n[0];if(n.length>1)return n.slice(1).reduce(function(e,r){return uG(e,r,t,0)},n[0]);throw new Error("Wrong number of arguments in function concat")}function cG(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];for(var r=t.map(y=>y.length),i=Math.max(...r),a=new Array(i).fill(null),s=0;s<t.length;s++)for(var c=t[s],f=r[s],d=0;d<f;d++){var h=i-f+d;c[d]>a[h]&&(a[h]=c[d])}for(var m=0;m<t.length;m++)fG(t[m],a);return a}function fG(n,t){for(var e=t.length,r=n.length,i=0;i<r;i++){var a=e-r+i;if(n[i]<t[a]&&n[i]>1||n[i]>t[a])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(n,") not possible to broadcast dimension ").concat(r," with size ").concat(n[i]," to size ").concat(t[a]))}}function LT(n,t){var e=am(n);if(E0(e,t))return n;fG(e,t);var r,i,a,s=cG(e,t),c=s.length,f=[...Array(c-e.length).fill(1),...e],d=function(m){return uE([],m)}(n);e.length<c&&(e=am(d=iG(d,f)));for(var h=0;h<c;h++)e[h]<s[h]&&(r=d,i=s[h],a=h,e=am(d=lG(...Array(i).fill(r),a)));return d}function hG(n,t){if(!Array.isArray(n))throw new Error("Array expected");var e=am(n);if(t.length!==e.length)throw new qc(t.length,e.length);for(var r=0;r<t.length;r++)Rh(t[r],e[r]);return t.reduce((i,a)=>i[a],n)}function dE(n,t,e){if(cE.isTypedFunction(n)){var r=(t.isMatrix?t.size():am(t)).map(()=>0),i=t.isMatrix?t.get(r):hG(t,r),a=Object.keys(n.signatures).length===1,s=function(f,d,h,m){for(var y=[d,h,m],w=3;w>0;w--){var C=y.slice(0,w);if(cE.resolve(f,C)!==null)return w}}(n,i,r,t),c=a?Object.values(n.signatures)[0]:n;return s>=1&&s<=3?function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return k7(c,d.slice(0,s),e,n.name)}:function(){for(var f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return k7(c,d,e,n.name)}}return n}function k7(n,t,e,r){try{return n(...t)}catch(i){(function(a,s,c,f){var d;if(a instanceof TypeError&&((d=a.data)===null||d===void 0?void 0:d.category)==="wrongType"){var h=[];throw h.push("value: ".concat(ly(s[0]))),s.length>=2&&h.push("index: ".concat(ly(s[1]))),s.length>=3&&h.push("array: ".concat(ly(s[2]))),new TypeError("Function ".concat(c," cannot apply callback arguments ")+"".concat(f,"(").concat(h.join(", "),") at index ").concat(JSON.stringify(s[1])))}throw new TypeError("Function ".concat(c," cannot apply callback arguments ")+"to function ".concat(f,": ").concat(a.message))})(i,t,e,r)}}qc.prototype=new RangeError,qc.prototype.constructor=RangeError,qc.prototype.name="DimensionError",qc.prototype.isDimensionError=!0,ny.prototype=new RangeError,ny.prototype.constructor=RangeError,ny.prototype.name="IndexError",ny.prototype.isIndexError=!0;var wdt=Pf("DenseMatrix",["Matrix"],n=>{var{Matrix:t}=n;function e(f,d){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");if(d&&!km(d))throw new Error("Invalid datatype: "+d);if(Lm(f))f.type==="DenseMatrix"?(this._data=mp(f._data),this._size=mp(f._size),this._datatype=d||f._datatype):(this._data=f.toArray(),this._size=f.size(),this._datatype=d||f._datatype);else if(f&&Qh(f.data)&&Qh(f.size))this._data=f.data,this._size=f.size,E7(this._data,this._size),this._datatype=d||f.datatype;else if(Qh(f))this._data=c(f),this._size=am(this._data),E7(this._data,this._size),this._datatype=d;else{if(f)throw new TypeError("Unsupported type of data ("+ly(f)+")");this._data=[],this._size=[0],this._datatype=d}}function r(f,d,h,m){var y=m===h-1,w=d.dimension(m);return y?w.map(function(C){return Rh(C,f.length),f[C]}).valueOf():w.map(function(C){return Rh(C,f.length),r(f[C],d,h,m+1)}).valueOf()}function i(f,d,h,m,y){var w=y===m-1,C=d.dimension(y);w?C.forEach(function(k,M){Rh(k),f[k]=h[M[0]]}):C.forEach(function(k,M){Rh(k),i(f[k],d,h[M[0]],m,y+1)})}function a(f,d,h){if(d.length===0){for(var m=f._data;Qh(m);)m=m[0];return m}return f._size=d.slice(0),f._data=A7(f._data,f._size,h),f}function s(f,d,h){for(var m=f._size.slice(0),y=!1;m.length<d.length;)m.push(0),y=!0;for(var w=0,C=d.length;w<C;w++)d[w]>m[w]&&(m[w]=d[w],y=!0);y&&a(f,m,h)}function c(f){return Lm(f)?c(f.valueOf()):Qh(f)?f.map(c):f}return e.prototype=new t,e.prototype.createDenseMatrix=function(f,d){return new e(f,d)},Object.defineProperty(e,"name",{value:"DenseMatrix"}),e.prototype.constructor=e,e.prototype.type="DenseMatrix",e.prototype.isDenseMatrix=!0,e.prototype.getDataType=function(){return GN(this._data,ly)},e.prototype.storage=function(){return"dense"},e.prototype.datatype=function(){return this._datatype},e.prototype.create=function(f,d){return new e(f,d)},e.prototype.subset=function(f,d,h){switch(arguments.length){case 1:return function(m,y){if(!WN(y))throw new TypeError("Invalid index");if(y.isScalar())return m.get(y.min());var w=y.size();if(w.length!==m._size.length)throw new qc(w.length,m._size.length);for(var C=y.min(),k=y.max(),M=0,N=m._size.length;M<N;M++)Rh(C[M],m._size[M]),Rh(k[M],m._size[M]);return new e(r(m._data,y,w.length,0),m._datatype)}(this,f);case 2:case 3:return function(m,y,w,C){if(!y||y.isIndex!==!0)throw new TypeError("Invalid index");var k,M=y.size(),N=y.isScalar();if(Lm(w)?(k=w.size(),w=w.valueOf()):k=am(w),N){if(k.length!==0)throw new TypeError("Scalar expected");m.set(y.min(),w,C)}else{if(!E0(k,M))try{k=am(w=k.length===0?LT([w],M):LT(w,M))}catch{}if(M.length<m._size.length)throw new qc(M.length,m._size.length,"<");if(k.length<M.length){for(var B=0,L=0;M[B]===1&&k[B]===1;)B++;for(;M[B]===1;)L++,B++;w=aG(w,M.length,L,k)}if(!E0(M,k))throw new qc(M,k,">");var z=y.max().map(function(V){return V+1});s(m,z,C);var q=M.length;i(m._data,y,w,q,0)}return m}(this,f,d,h);default:throw new SyntaxError("Wrong number of arguments")}},e.prototype.get=function(f){return hG(this._data,f)},e.prototype.set=function(f,d,h){if(!Qh(f))throw new TypeError("Array expected");if(f.length<this._size.length)throw new qc(f.length,this._size.length,"<");var m,y,w;s(this,f.map(function(k){return k+1}),h);var C=this._data;for(m=0,y=f.length-1;m<y;m++)Rh(w=f[m],C.length),C=C[w];return Rh(w=f[f.length-1],C.length),C[w]=d,this},e.prototype.resize=function(f,d,h){if(!lE(f))throw new TypeError("Array or Matrix expected");var m=f.valueOf().map(y=>Array.isArray(y)&&y.length===1?y[0]:y);return a(h?this.clone():this,m,d)},e.prototype.reshape=function(f,d){var h=d?this.clone():this;h._data=iG(h._data,f);var m=h._size.reduce((y,w)=>y*w);return h._size=KN(f,m),h},e.prototype.clone=function(){return new e({data:mp(this._data),size:mp(this._size),datatype:this._datatype})},e.prototype.size=function(){return this._size.slice(0)},e.prototype._forEach=function(f){var d=this,h=d.size();if(h.length!==1){var m=Array(h.length).fill(0),y=Array(h.length-1),w=y.length-1;y[0]=d._data[0];for(var C=0;C<w;C++)y[C+1]=y[C][0];for(m[w]=-1;;){var k=void 0;for(k=w;k>=0;k--){if(m[k]++,m[k]!==h[k]){y[k]=k===0?d._data[m[k]]:y[k-1][m[k]];for(var M=k;M<w;M++)y[M+1]=y[M][0];for(var N=0;N<h[y.length];N++)m[y.length]=N,f(y[w],N,m.slice(0));break}m[k]=0}if(k===-1)break}}else for(var B=0;B<h[0];B++)f(d._data,B,[B])},e.prototype.map=function(f){var d=this,h=new e(d),m=dE(f,d._data,"map");return h._forEach(function(y,w,C){y[w]=m(y[w],C,d)}),h},e.prototype.forEach=function(f){var d=this,h=dE(f,d._data,"map");d._forEach(function(m,y,w){h(m[y],w,d)})},e.prototype[Symbol.iterator]=function*(){var f=function*(d,h){if(Qh(d))for(var m=0;m<d.length;m++)yield*f(d[m],h.concat(m));else yield{value:d,index:h}};yield*f(this._data,[])},e.prototype.rows=function(){var f=[];if(this.size().length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var h of d)f.push(new e([h],this._datatype));return f},e.prototype.columns=function(){var f=this,d=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var m=this._data,y=function(C){var k=m.map(M=>[M[C]]);d.push(new e(k,f._datatype))},w=0;w<h[1];w++)y(w);return d},e.prototype.toArray=function(){return mp(this._data)},e.prototype.valueOf=function(){return this._data},e.prototype.format=function(f){return Pd(this._data,f)},e.prototype.toString=function(){return Pd(this._data)},e.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},e.prototype.diagonal=function(f){if(f){if($p(f)&&(f=f.toNumber()),!Gf(f)||!bp(f))throw new TypeError("The parameter k must be an integer number")}else f=0;for(var d=f>0?f:0,h=f<0?-f:0,m=this._size[0],y=this._size[1],w=Math.min(m-h,y-d),C=[],k=0;k<w;k++)C[k]=this._data[k+h][k+d];return new e({data:C,size:[w],datatype:this._datatype})},e.diagonal=function(f,d,h,m){if(!Qh(f))throw new TypeError("Array expected, size parameter");if(f.length!==2)throw new Error("Only two dimensions matrix are supported");if(f=f.map(function(q){if($p(q)&&(q=q.toNumber()),!Gf(q)||!bp(q)||q<1)throw new Error("Size values must be positive integers");return q}),h){if($p(h)&&(h=h.toNumber()),!Gf(h)||!bp(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var y,w=h>0?h:0,C=h<0?-h:0,k=f[0],M=f[1],N=Math.min(k-C,M-w);if(Qh(d)){if(d.length!==N)throw new Error("Invalid value array length");y=function(q){return d[q]}}else if(Lm(d)){var B=d.size();if(B.length!==1||B[0]!==N)throw new Error("Invalid matrix length");y=function(q){return d.get([q])}}else y=function(){return d};m||(m=$p(y(0))?y(0).mul(0):0);var L=[];if(f.length>0){L=A7(L,f,m);for(var z=0;z<N;z++)L[z+C][z+w]=y(z)}return new e({data:L,size:[k,M]})},e.fromJSON=function(f){return new e(f)},e.prototype.swapRows=function(f,d){if(!(Gf(f)&&bp(f)&&Gf(d)&&bp(d)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rh(f,this._size[0]),Rh(d,this._size[0]),e._swapRows(f,d,this._data),this},e._swapRows=function(f,d,h){var m=h[f];h[f]=h[d],h[d]=m},e},{isClass:!0});function YN(n,t,e){return n&&typeof n.map=="function"?n.map(function(r){return YN(r,t)}):t(n)}var M7="isInteger",bdt=Pf(M7,["typed"],n=>{var{typed:t}=n;return t(M7,{number:bp,BigNumber:function(e){return e.isInt()},bigint:function(e){return!0},Fraction:function(e){return e.d===1&&isFinite(e.n)},"Array | Matrix":t.referToSelf(e=>r=>YN(r,e))})}),F7="number, number";function pG(n,t){return n+t}function dG(n,t){return n-t}function gG(n){return-n}pG.signature=F7,dG.signature=F7,gG.signature="number";var xdt=Pf("compareUnits",["typed"],n=>{var{typed:t}=n;return{"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return t.find(e,[r.valueType(),i.valueType()])(r.value,i.value)})}}),gE="equalScalar",Ddt=Pf(gE,["typed","config"],n=>{var{typed:t,config:e}=n,r=xdt({typed:t});return t(gE,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return bS(i,a,e.relTol,e.absTol)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||function(s,c){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(f<=0)throw new Error("Relative tolerance must be greater than 0");if(d<0)throw new Error("Absolute tolerance must be at least 0");return!s.isNaN()&&!c.isNaN()&&(s.isFinite()&&c.isFinite()?!!s.eq(c)||s.minus(c).abs().lte(s.constructor.max(s.constructor.max(s.abs(),c.abs()).mul(f),d)):s.eq(c))}(i,a,e.relTol,e.absTol)},"bigint, bigint":function(i,a){return i===a},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return function(s,c,f,d){return bS(s.re,c.re,f,d)&&bS(s.im,c.im,f,d)}(i,a,e.relTol,e.absTol)}},r)});Pf(gE,["typed","config"],n=>{var{typed:t,config:e}=n;return t(gE,{"number, number":function(r,i){return bS(r,i,e.relTol,e.absTol)}})});var Cdt=Pf("SparseMatrix",["typed","equalScalar","Matrix"],n=>{var{typed:t,equalScalar:e,Matrix:r}=n;function i(h,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!km(m))throw new Error("Invalid datatype: "+m);if(Lm(h))(function(y,w,C){w.type==="SparseMatrix"?(y._values=w._values?mp(w._values):void 0,y._index=mp(w._index),y._ptr=mp(w._ptr),y._size=mp(w._size),y._datatype=C||w._datatype):a(y,w.valueOf(),C||w._datatype)})(this,h,m);else if(h&&Qh(h.index)&&Qh(h.ptr)&&Qh(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=m||h.datatype;else if(Qh(h))a(this,h,m);else{if(h)throw new TypeError("Unsupported type of data ("+ly(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(h,m,y){h._values=[],h._index=[],h._ptr=[],h._datatype=y;var w=m.length,C=0,k=e,M=0;if(km(y)&&(k=t.find(e,[y,y])||e,M=t.convert(0,y)),w>0){var N=0;do{h._ptr.push(h._index.length);for(var B=0;B<w;B++){var L=m[B];if(Qh(L)){if(N===0&&C<L.length&&(C=L.length),N<L.length){var z=L[N];k(z,M)||(h._values.push(z),h._index.push(B))}}else N===0&&C<1&&(C=1),k(L,M)||(h._values.push(L),h._index.push(B))}N++}while(N<C)}h._ptr.push(h._index.length),h._size=[w,C]}function s(h,m,y,w){if(y-m==0)return y;for(var C=m;C<y;C++)if(w[C]===h)return C;return m}function c(h,m,y,w,C,k,M){C.splice(h,0,w),k.splice(h,0,m);for(var N=y+1;N<M.length;N++)M[N]++}function f(h,m,y,w){var C=w||0,k=e,M=0;km(h._datatype)&&(k=t.find(e,[h._datatype,h._datatype])||e,M=t.convert(0,h._datatype),C=t.convert(C,h._datatype));var N,B,L,z=!k(C,M),q=h._size[0],V=h._size[1];if(y>V){for(B=V;B<y;B++)if(h._ptr[B]=h._values.length,z)for(N=0;N<q;N++)h._values.push(C),h._index.push(N);h._ptr[y]=h._values.length}else y<V&&(h._ptr.splice(y+1,V-y),h._values.splice(h._ptr[y],h._values.length),h._index.splice(h._ptr[y],h._index.length));if(V=y,m>q){if(z){var X=0;for(B=0;B<V;B++){h._ptr[B]=h._ptr[B]+X,L=h._ptr[B+1]+X;var nt=0;for(N=q;N<m;N++,nt++)h._values.splice(L+nt,0,C),h._index.splice(L+nt,0,N),X++}h._ptr[V]=h._values.length}}else if(m<q){var it=0;for(B=0;B<V;B++){h._ptr[B]=h._ptr[B]-it;var ct=h._ptr[B],ft=h._ptr[B+1]-it;for(L=ct;L<ft;L++)(N=h._index[L])>m-1&&(h._values.splice(L,1),h._index.splice(L,1),it++)}h._ptr[B]=h._values.length}return h._size[0]=m,h._size[1]=y,h}function d(h,m,y,w,C){var k,M,N=w[0],B=w[1],L=[];for(k=0;k<N;k++)for(L[k]=[],M=0;M<B;M++)L[k][M]=0;for(M=0;M<B;M++)for(var z=y[M],q=y[M+1],V=z;V<q;V++)L[k=m[V]][M]=h?C?mp(h[V]):h[V]:1;return L}return i.prototype=new r,i.prototype.createSparseMatrix=function(h,m){return new i(h,m)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return GN(this._values,ly)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,m){return new i(h,m)},i.prototype.density=function(){var h=this._size[0],m=this._size[1];return h!==0&&m!==0?this._index.length/(h*m):0},i.prototype.subset=function(h,m,y){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return function(w,C){if(!WN(C))throw new TypeError("Invalid index");if(C.isScalar())return w.get(C.min());var k,M,N,B,L=C.size();if(L.length!==w._size.length)throw new qc(L.length,w._size.length);var z=C.min(),q=C.max();for(k=0,M=w._size.length;k<M;k++)Rh(z[k],w._size[k]),Rh(q[k],w._size[k]);var V=w._values,X=w._index,nt=w._ptr,it=C.dimension(0),ct=C.dimension(1),ft=[],gt=[];it.forEach(function(At,Zt){gt[At]=Zt[0],ft[At]=!0});var Ct=V?[]:void 0,kt=[],Tt=[];return ct.forEach(function(At){for(Tt.push(kt.length),N=nt[At],B=nt[At+1];N<B;N++)k=X[N],ft[k]===!0&&(kt.push(gt[k]),Ct&&Ct.push(V[N]))}),Tt.push(kt.length),new i({values:Ct,index:kt,ptr:Tt,size:L,datatype:w._datatype})}(this,h);case 2:case 3:return function(w,C,k,M){if(!C||C.isIndex!==!0)throw new TypeError("Invalid index");var N,B=C.size(),L=C.isScalar();if(Lm(k)?(N=k.size(),k=k.toArray()):N=am(k),L){if(N.length!==0)throw new TypeError("Scalar expected");w.set(C.min(),k,M)}else{if(B.length!==1&&B.length!==2)throw new qc(B.length,w._size.length,"<");if(N.length<B.length){for(var z=0,q=0;B[z]===1&&N[z]===1;)z++;for(;B[z]===1;)q++,z++;k=aG(k,B.length,q,N)}if(!E0(B,N))throw new qc(B,N,">");if(B.length===1)C.dimension(0).forEach(function(nt,it){Rh(nt),w.set([nt,0],k[it[0]],M)});else{var V=C.dimension(0),X=C.dimension(1);V.forEach(function(nt,it){Rh(nt),X.forEach(function(ct,ft){Rh(ct),w.set([nt,ct],k[it[0]][ft[0]],M)})})}}return w}(this,h,m,y);default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.get=function(h){if(!Qh(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new qc(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=h[0],y=h[1];Rh(m,this._size[0]),Rh(y,this._size[1]);var w=s(m,this._ptr[y],this._ptr[y+1],this._index);return w<this._ptr[y+1]&&this._index[w]===m?this._values[w]:0},i.prototype.set=function(h,m,y){if(!Qh(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new qc(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=h[0],C=h[1],k=this._size[0],M=this._size[1],N=e,B=0;km(this._datatype)&&(N=t.find(e,[this._datatype,this._datatype])||e,B=t.convert(0,this._datatype)),(w>k-1||C>M-1)&&(f(this,Math.max(w+1,k),Math.max(C+1,M),y),k=this._size[0],M=this._size[1]),Rh(w,k),Rh(C,M);var L=s(w,this._ptr[C],this._ptr[C+1],this._index);return L<this._ptr[C+1]&&this._index[L]===w?N(m,B)?function(z,q,V,X,nt){V.splice(z,1),X.splice(z,1);for(var it=q+1;it<nt.length;it++)nt[it]--}(L,C,this._values,this._index,this._ptr):this._values[L]=m:N(m,B)||c(L,w,C,m,this._values,this._index,this._ptr),this},i.prototype.resize=function(h,m,y){if(!lE(h))throw new TypeError("Array or Matrix expected");var w=h.valueOf().map(C=>Array.isArray(C)&&C.length===1?C[0]:C);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");return w.forEach(function(C){if(!Gf(C)||!bp(C)||C<0)throw new TypeError("Invalid size, must contain positive integers (size: "+Pd(w)+")")}),f(y?this.clone():this,w[0],w[1],m)},i.prototype.reshape=function(h,m){if(!Qh(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(gt){if(!Gf(gt)||!bp(gt)||gt<=-2||gt===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+Pd(h)+")")});var y=this._size[0]*this._size[1];if(y!==(h=KN(h,y))[0]*h[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var w=m?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return w;for(var C=[],k=0;k<w._ptr.length;k++)for(var M=0;M<w._ptr[k+1]-w._ptr[k];M++)C.push(k);for(var N=w._values.slice(),B=w._index.slice(),L=0;L<w._index.length;L++){var z=B[L],q=C[L],V=z*w._size[1]+q;C[L]=V%h[1],B[L]=Math.floor(V/h[1])}w._values.length=0,w._index.length=0,w._ptr.length=h[1]+1,w._size=h.slice();for(var X=0;X<w._ptr.length;X++)w._ptr[X]=0;for(var nt=0;nt<N.length;nt++){var it=B[nt],ct=C[nt],ft=N[nt];c(s(it,w._ptr[ct],w._ptr[ct+1],w._index),it,ct,ft,w._values,w._index,w._ptr)}return w},i.prototype.clone=function(){return new i({values:this._values?mp(this._values):void 0,index:mp(this._index),ptr:mp(this._ptr),size:mp(this._size),datatype:this._datatype})},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var y=this,w=this._size[0],C=this._size[1],k=dE(h,y,"map");return function(M,N,B,L,z,q,V){var X=[],nt=[],it=[],ct=e,ft=0;km(M._datatype)&&(ct=t.find(e,[M._datatype,M._datatype])||e,ft=t.convert(0,M._datatype));for(var gt=function(vt,Lt,ee){var pe=q(vt,Lt,ee);ct(pe,ft)||(X.push(pe),nt.push(Lt))},Ct=0;Ct<=z;Ct++){it.push(X.length);var kt=M._ptr[Ct],Tt=M._ptr[Ct+1];if(V)for(var At=kt;At<Tt;At++){var Zt=M._index[At];Zt>=0&&Zt<=B&&gt(M._values[At],Zt-0,Ct-0)}else{for(var _t={},Et=kt;Et<Tt;Et++)_t[M._index[Et]]=M._values[Et];for(var mt=0;mt<=B;mt++)gt(mt in _t?_t[mt]:0,mt-0,Ct-0)}}return it.push(X.length),new i({values:X,index:nt,ptr:it,size:[B-0+1,z-0+1]})}(this,0,w-1,0,C-1,function(M,N,B){return k(M,[N,B],y)},m)},i.prototype.forEach=function(h,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var y=this,w=this._size[0],C=this._size[1],k=dE(h,y,"forEach"),M=0;M<C;M++){var N=this._ptr[M],B=this._ptr[M+1];if(m)for(var L=N;L<B;L++){var z=this._index[L];k(this._values[L],[z,M],y)}else{for(var q={},V=N;V<B;V++)q[this._index[V]]=this._values[V];for(var X=0;X<w;X++)k(X in q?q[X]:0,[X,M],y)}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],m=0;m<h;m++)for(var y=this._ptr[m],w=this._ptr[m+1],C=y;C<w;C++){var k=this._index[C];yield{value:this._values[C],index:[k,m]}}},i.prototype.toArray=function(){return d(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return d(this._values,this._index,this._ptr,this._size,!1)},i.prototype.format=function(h){for(var m=this._size[0],y=this._size[1],w=this.density(),C="Sparse Matrix ["+Pd(m,h)+" x "+Pd(y,h)+"] density: "+Pd(w,h)+`
`,k=0;k<y;k++)for(var M=this._ptr[k],N=this._ptr[k+1],B=M;B<N;B++)C+=`
    (`+Pd(this._index[B],h)+", "+Pd(k,h)+") ==> "+(this._values?Pd(this._values[B],h):"X");return C},i.prototype.toString=function(){return Pd(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if($p(h)&&(h=h.toNumber()),!Gf(h)||!bp(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,y=h<0?-h:0,w=this._size[0],C=this._size[1],k=Math.min(w-y,C-m),M=[],N=[],B=[];B[0]=0;for(var L=m;L<C&&M.length<k;L++)for(var z=this._ptr[L],q=this._ptr[L+1],V=z;V<q;V++){var X=this._index[V];if(X===L-m+y){M.push(this._values[V]),N[M.length-1]=X-y;break}}return B.push(M.length),new i({values:M,index:N,ptr:B,size:[k,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,m,y,w,C){if(!Qh(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(kt){if($p(kt)&&(kt=kt.toNumber()),!Gf(kt)||!bp(kt)||kt<1)throw new Error("Size values must be positive integers");return kt}),y){if($p(y)&&(y=y.toNumber()),!Gf(y)||!bp(y))throw new TypeError("The parameter k must be an integer number")}else y=0;var k=e,M=0;km(C)&&(k=t.find(e,[C,C])||e,M=t.convert(0,C));var N,B=y>0?y:0,L=y<0?-y:0,z=h[0],q=h[1],V=Math.min(z-L,q-B);if(Qh(m)){if(m.length!==V)throw new Error("Invalid value array length");N=function(kt){return m[kt]}}else if(Lm(m)){var X=m.size();if(X.length!==1||X[0]!==V)throw new Error("Invalid matrix length");N=function(kt){return m.get([kt])}}else N=function(){return m};for(var nt=[],it=[],ct=[],ft=0;ft<q;ft++){ct.push(nt.length);var gt=ft-B;if(gt>=0&&gt<V){var Ct=N(gt);k(Ct,M)||(it.push(gt+L),nt.push(Ct))}}return ct.push(nt.length),new i({values:nt,index:it,ptr:ct,size:[z,q]})},i.prototype.swapRows=function(h,m){if(!(Gf(h)&&bp(h)&&Gf(m)&&bp(m)))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Rh(h,this._size[0]),Rh(m,this._size[0]),i._swapRows(h,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,m,y,w,C){for(var k=w[h],M=w[h+1],N=k;N<M;N++)C(y[N],m[N])},i._swapRows=function(h,m,y,w,C,k){for(var M=0;M<y;M++){var N=k[M],B=k[M+1],L=s(h,N,B,C),z=s(m,N,B,C);if(L<B&&z<B&&C[L]===h&&C[z]===m){if(w){var q=w[L];w[L]=w[z],w[z]=q}}else if(L<B&&C[L]===h&&(z>=B||C[z]!==m)){var V=w?w[L]:void 0;C.splice(z,0,m),w&&w.splice(z,0,V),C.splice(z<=L?L+1:L,1),w&&w.splice(z<=L?L+1:L,1)}else if(z<B&&C[z]===m&&(L>=B||C[L]!==h)){var X=w?w[z]:void 0;C.splice(L,0,h),w&&w.splice(L,0,X),C.splice(L<=z?z+1:z,1),w&&w.splice(L<=z?z+1:z,1)}}},i},{isClass:!0}),P7="matrix",_dt=Pf(P7,["typed","Matrix","DenseMatrix","SparseMatrix"],n=>{var{typed:t,Matrix:e,DenseMatrix:r,SparseMatrix:i}=n;return t(P7,{"":function(){return a([])},string:function(s){return a([],s)},"string, string":function(s,c){return a([],s,c)},Array:function(s){return a(s)},Matrix:function(s){return a(s,s.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(s,c,f){if(c==="dense"||c==="default"||c===void 0)return new r(s,f);if(c==="sparse")return new i(s,f);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),T7="unaryMinus",Sdt=Pf(T7,["typed"],n=>{var{typed:t}=n;return t(T7,{number:gG,"Complex | BigNumber | Fraction":e=>e.neg(),bigint:e=>-e,Unit:t.referToSelf(e=>r=>{var i=r.clone();return i.value=t.find(e,i.valueType())(r.value),i}),"Array | Matrix":t.referToSelf(e=>r=>YN(r,e))})}),O7="addScalar",Edt=Pf(O7,["typed"],n=>{var{typed:t}=n;return t(O7,{"number, number":pG,"Complex, Complex":function(e,r){return e.add(r)},"BigNumber, BigNumber":function(e,r){return e.plus(r)},"bigint, bigint":function(e,r){return e+r},"Fraction, Fraction":function(e,r){return e.add(r)},"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),N7="subtractScalar",Adt=Pf(N7,["typed"],n=>{var{typed:t}=n;return t(N7,{"number, number":dG,"Complex, Complex":function(e,r){return e.sub(r)},"BigNumber, BigNumber":function(e,r){return e.minus(r)},"bigint, bigint":function(e,r){return e-r},"Fraction, Fraction":function(e,r){return e.sub(r)},"Unit, Unit":t.referToSelf(e=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var a=r.clone();return a.value=t.find(e,[a.valueType(),i.valueType()])(a.value,i.value),a.fixPrefix=!1,a})})}),kdt=Pf("matAlgo12xSfs",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,i,a,s){var c=r._values,f=r._index,d=r._ptr,h=r._size,m=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,w=h[0],C=h[1],k=a;typeof m=="string"&&(y=m,i=t.convert(i,y),k=t.find(a,[y,y]));for(var M=[],N=[],B=[],L=0;L<C;L++){for(var z=L+1,q=d[L],V=d[L+1],X=q;X<V;X++){var nt=f[X];N[nt]=c[X],B[nt]=z}for(var it=0;it<w;it++)L===0&&(M[it]=[]),B[it]===z?M[it][L]=s?k(i,N[it]):k(N[it],i):M[it][L]=s?k(i,0):k(0,i)}return new e({data:M,size:[w,C],datatype:y})}}),Mdt=Pf("matAlgo14xDs",["typed"],n=>{var{typed:t}=n;return function(r,i,a,s){var c,f=r._data,d=r._size,h=r._datatype,m=a;typeof h=="string"&&(c=h,i=t.convert(i,c),m=t.find(a,[c,c]));var y=d.length>0?e(m,0,d,d[0],f,i,s):[];return r.createDenseMatrix({data:y,size:mp(d),datatype:c})};function e(r,i,a,s,c,f,d){var h=[];if(i===a.length-1)for(var m=0;m<s;m++)h[m]=d?r(f,c[m]):r(c[m],f);else for(var y=0;y<s;y++)h[y]=e(r,i+1,a,a[i+1],c[y],f,d);return h}}),Fdt=Pf("matAlgo03xDSf",["typed"],n=>{var{typed:t}=n;return function(e,r,i,a){var s=e._data,c=e._size,f=e._datatype||e.getDataType(),d=r._values,h=r._index,m=r._ptr,y=r._size,w=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(c.length!==y.length)throw new qc(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,k=c[0],M=c[1],N=0,B=i;typeof f=="string"&&f===w&&f!=="mixed"&&(C=f,N=t.convert(0,C),B=t.find(i,[C,C]));for(var L=[],z=0;z<k;z++)L[z]=[];for(var q=[],V=[],X=0;X<M;X++){for(var nt=X+1,it=m[X],ct=m[X+1],ft=it;ft<ct;ft++){var gt=h[ft];q[gt]=a?B(d[ft],s[gt][X]):B(s[gt][X],d[ft]),V[gt]=nt}for(var Ct=0;Ct<k;Ct++)V[Ct]===nt?L[Ct][X]=q[Ct]:L[Ct][X]=a?B(N,s[Ct][X]):B(s[Ct][X],N)}return e.createDenseMatrix({data:L,size:[k,M],datatype:f===e._datatype&&w===r._datatype?C:void 0})}}),Pdt=Pf("matAlgo05xSfSf",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,i,a){var s=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype||r._data===void 0?r._datatype:r.getDataType(),m=i._values,y=i._index,w=i._ptr,C=i._size,k=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(d.length!==C.length)throw new qc(d.length,C.length);if(d[0]!==C[0]||d[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+C+")");var M,N=d[0],B=d[1],L=e,z=0,q=a;typeof h=="string"&&h===k&&h!=="mixed"&&(M=h,L=t.find(e,[M,M]),z=t.convert(0,M),q=t.find(a,[M,M]));var V,X,nt,it,ct=s&&m?[]:void 0,ft=[],gt=[],Ct=ct?[]:void 0,kt=ct?[]:void 0,Tt=[],At=[];for(X=0;X<B;X++){gt[X]=ft.length;var Zt=X+1;for(nt=f[X],it=f[X+1];nt<it;nt++)V=c[nt],ft.push(V),Tt[V]=Zt,Ct&&(Ct[V]=s[nt]);for(nt=w[X],it=w[X+1];nt<it;nt++)Tt[V=y[nt]]!==Zt&&ft.push(V),At[V]=Zt,kt&&(kt[V]=m[nt]);if(ct)for(nt=gt[X];nt<ft.length;){var _t=Tt[V=ft[nt]],Et=At[V];if(_t===Zt||Et===Zt){var mt=q(_t===Zt?Ct[V]:z,Et===Zt?kt[V]:z);L(mt,z)?ft.splice(nt,1):(ct.push(mt),nt++)}}}return gt[B]=ft.length,r.createSparseMatrix({values:ct,index:ft,ptr:gt,size:[N,B],datatype:h===r._datatype&&k===i._datatype?M:void 0})}}),Tdt=Pf("matAlgo13xDD",["typed"],n=>{var{typed:t}=n;return function(r,i,a){var s,c=r._data,f=r._size,d=r._datatype,h=i._data,m=i._size,y=i._datatype,w=[];if(f.length!==m.length)throw new qc(f.length,m.length);for(var C=0;C<f.length;C++){if(f[C]!==m[C])throw new RangeError("Dimension mismatch. Matrix A ("+f+") must match Matrix B ("+m+")");w[C]=f[C]}var k=a;typeof d=="string"&&d===y&&(s=d,k=t.find(a,[s,s]));var M=w.length>0?e(k,0,w,w[0],c,h):[];return r.createDenseMatrix({data:M,size:w,datatype:s})};function e(r,i,a,s,c,f){var d=[];if(i===a.length-1)for(var h=0;h<s;h++)d[h]=r(c[h],f[h]);else for(var m=0;m<s;m++)d[m]=e(r,i+1,a,a[i+1],c[m],f[m]);return d}});function pp(n,t){if(E0(n.size(),t.size()))return[n,t];var e=cG(n.size(),t.size());return[n,t].map(r=>function(i,a){return E0(i.size(),a)?i:i.create(LT(i.valueOf(),a),i.datatype())}(r,e))}var mG=Pf("matrixAlgorithmSuite",["typed","matrix"],n=>{var{typed:t,matrix:e}=n,r=Tdt({typed:t}),i=Mdt({typed:t});return function(a){var s,c=a.elop,f=a.SD||a.DS;c?(s={"DenseMatrix, DenseMatrix":(m,y)=>r(...pp(m,y),c),"Array, Array":(m,y)=>r(...pp(e(m),e(y)),c).valueOf(),"Array, DenseMatrix":(m,y)=>r(...pp(e(m),y),c),"DenseMatrix, Array":(m,y)=>r(...pp(m,e(y)),c)},a.SS&&(s["SparseMatrix, SparseMatrix"]=(m,y)=>a.SS(...pp(m,y),c,!1)),a.DS&&(s["DenseMatrix, SparseMatrix"]=(m,y)=>a.DS(...pp(m,y),c,!1),s["Array, SparseMatrix"]=(m,y)=>a.DS(...pp(e(m),y),c,!1)),f&&(s["SparseMatrix, DenseMatrix"]=(m,y)=>f(...pp(y,m),c,!0),s["SparseMatrix, Array"]=(m,y)=>f(...pp(e(y),m),c,!0))):(s={"DenseMatrix, DenseMatrix":t.referToSelf(m=>(y,w)=>r(...pp(y,w),m)),"Array, Array":t.referToSelf(m=>(y,w)=>r(...pp(e(y),e(w)),m).valueOf()),"Array, DenseMatrix":t.referToSelf(m=>(y,w)=>r(...pp(e(y),w),m)),"DenseMatrix, Array":t.referToSelf(m=>(y,w)=>r(...pp(y,e(w)),m))},a.SS&&(s["SparseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.SS(...pp(y,w),m,!1))),a.DS&&(s["DenseMatrix, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.DS(...pp(y,w),m,!1)),s["Array, SparseMatrix"]=t.referToSelf(m=>(y,w)=>a.DS(...pp(e(y),w),m,!1))),f&&(s["SparseMatrix, DenseMatrix"]=t.referToSelf(m=>(y,w)=>f(...pp(w,y),m,!0)),s["SparseMatrix, Array"]=t.referToSelf(m=>(y,w)=>f(...pp(e(w),y),m,!0))));var d=a.scalar||"any";(a.Ds||a.Ss)&&(c?(s["DenseMatrix,"+d]=(m,y)=>i(m,y,c,!1),s[d+", DenseMatrix"]=(m,y)=>i(y,m,c,!0),s["Array,"+d]=(m,y)=>i(e(m),y,c,!1).valueOf(),s[d+", Array"]=(m,y)=>i(e(y),m,c,!0).valueOf()):(s["DenseMatrix,"+d]=t.referToSelf(m=>(y,w)=>i(y,w,m,!1)),s[d+", DenseMatrix"]=t.referToSelf(m=>(y,w)=>i(w,y,m,!0)),s["Array,"+d]=t.referToSelf(m=>(y,w)=>i(e(y),w,m,!1).valueOf()),s[d+", Array"]=t.referToSelf(m=>(y,w)=>i(e(w),y,m,!0).valueOf())));var h=a.sS!==void 0?a.sS:a.Ss;return c?(a.Ss&&(s["SparseMatrix,"+d]=(m,y)=>a.Ss(m,y,c,!1)),h&&(s[d+", SparseMatrix"]=(m,y)=>h(y,m,c,!0))):(a.Ss&&(s["SparseMatrix,"+d]=t.referToSelf(m=>(y,w)=>a.Ss(y,w,m,!1))),h&&(s[d+", SparseMatrix"]=t.referToSelf(m=>(y,w)=>h(w,y,m,!0)))),c&&c.signatures&&function(m,y){for(var w in y)AD(y,w)&&(m[w]=y[w])}(s,c.signatures),s}}),vG=Pf("matAlgo01xDSid",["typed"],n=>{var{typed:t}=n;return function(e,r,i,a){var s=e._data,c=e._size,f=e._datatype||e.getDataType(),d=r._values,h=r._index,m=r._ptr,y=r._size,w=r._datatype||r._data===void 0?r._datatype:r.getDataType();if(c.length!==y.length)throw new qc(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");if(!d)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var C,k,M=c[0],N=c[1],B=typeof f=="string"&&f!=="mixed"&&f===w?f:void 0,L=B?t.find(i,[B,B]):i,z=[];for(C=0;C<M;C++)z[C]=[];var q=[],V=[];for(k=0;k<N;k++){for(var X=k+1,nt=m[k],it=m[k+1],ct=nt;ct<it;ct++)q[C=h[ct]]=a?L(d[ct],s[C][k]):L(s[C][k],d[ct]),V[C]=X;for(C=0;C<M;C++)V[C]===X?z[C][k]=q[C]:z[C][k]=s[C][k]}return e.createDenseMatrix({data:z,size:[M,N],datatype:f===e._datatype&&w===r._datatype?B:void 0})}}),Odt=Pf("matAlgo04xSidSid",["typed","equalScalar"],n=>{var{typed:t,equalScalar:e}=n;return function(r,i,a){var s=r._values,c=r._index,f=r._ptr,d=r._size,h=r._datatype||r._data===void 0?r._datatype:r.getDataType(),m=i._values,y=i._index,w=i._ptr,C=i._size,k=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(d.length!==C.length)throw new qc(d.length,C.length);if(d[0]!==C[0]||d[1]!==C[1])throw new RangeError("Dimension mismatch. Matrix A ("+d+") must match Matrix B ("+C+")");var M,N=d[0],B=d[1],L=e,z=0,q=a;typeof h=="string"&&h===k&&h!=="mixed"&&(M=h,L=t.find(e,[M,M]),z=t.convert(0,M),q=t.find(a,[M,M]));var V,X,nt,it,ct,ft=s&&m?[]:void 0,gt=[],Ct=[],kt=s&&m?[]:void 0,Tt=s&&m?[]:void 0,At=[],Zt=[];for(X=0;X<B;X++){Ct[X]=gt.length;var _t=X+1;for(it=f[X],ct=f[X+1],nt=it;nt<ct;nt++)V=c[nt],gt.push(V),At[V]=_t,kt&&(kt[V]=s[nt]);for(it=w[X],ct=w[X+1],nt=it;nt<ct;nt++)if(At[V=y[nt]]===_t){if(kt){var Et=q(kt[V],m[nt]);L(Et,z)?At[V]=null:kt[V]=Et}}else gt.push(V),Zt[V]=_t,Tt&&(Tt[V]=m[nt]);if(kt&&Tt)for(nt=Ct[X];nt<gt.length;)At[V=gt[nt]]===_t?(ft[nt]=kt[V],nt++):Zt[V]===_t?(ft[nt]=Tt[V],nt++):gt.splice(nt,1)}return Ct[B]=gt.length,r.createSparseMatrix({values:ft,index:gt,ptr:Ct,size:[N,B],datatype:h===r._datatype&&k===i._datatype?M:void 0})}}),yG=Pf("matAlgo10xSids",["typed","DenseMatrix"],n=>{var{typed:t,DenseMatrix:e}=n;return function(r,i,a,s){var c=r._values,f=r._index,d=r._ptr,h=r._size,m=r._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var y,w=h[0],C=h[1],k=a;typeof m=="string"&&(y=m,i=t.convert(i,y),k=t.find(a,[y,y]));for(var M=[],N=[],B=[],L=0;L<C;L++){for(var z=L+1,q=d[L],V=d[L+1],X=q;X<V;X++){var nt=f[X];N[nt]=c[X],B[nt]=z}for(var it=0;it<w;it++)L===0&&(M[it]=[]),B[it]===z?M[it][L]=s?k(i,N[it]):k(N[it],i):M[it][L]=i}return new e({data:M,size:[w,C],datatype:y})}}),I7="subtract",Ndt=Pf(I7,["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],n=>{var{typed:t,matrix:e,equalScalar:r,subtractScalar:i,unaryMinus:a,DenseMatrix:s,concat:c}=n,f=vG({typed:t}),d=Fdt({typed:t}),h=Pdt({typed:t,equalScalar:r}),m=yG({typed:t,DenseMatrix:s}),y=kdt({typed:t,DenseMatrix:s}),w=mG({typed:t,matrix:e,concat:c});return t(I7,{"any, any":i},w({elop:i,SS:h,DS:f,SD:d,Ss:y,sS:m}))}),B7="concat",Idt=Pf(B7,["typed","matrix","isInteger"],n=>{var{typed:t,matrix:e,isInteger:r}=n;return t(B7,{"...Array | Matrix | number | BigNumber":function(i){var a,s,c=i.length,f=-1,d=!1,h=[];for(a=0;a<c;a++){var m=i[a];if(Lm(m)&&(d=!0),Gf(m)||$p(m)){if(a!==c-1)throw new Error("Dimension must be specified as last argument");if(s=f,f=m.valueOf(),!r(f))throw new TypeError("Integer number expected for dimension");if(f<0||a>0&&f>s)throw new ny(f,s+1)}else{var y=mp(m).valueOf(),w=am(y);if(h[a]=y,s=f,f=w.length-1,a>0&&f!==s)throw new qc(s+1,f+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var C=h.shift();h.length;)C=lG(C,h.shift(),f);return d?e(C):C},"...string":function(i){return i.join("")}})}),Bdt=Pf("add",["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],n=>{var{typed:t,matrix:e,addScalar:r,equalScalar:i,DenseMatrix:a,SparseMatrix:s,concat:c}=n,f=vG({typed:t}),d=Odt({typed:t,equalScalar:i}),h=yG({typed:t,DenseMatrix:a}),m=mG({typed:t,matrix:e,concat:c});return t("add",{"any, any":r,"any, any, ...any":t.referToSelf(y=>(w,C,k)=>{for(var M=y(w,C),N=0;N<k.length;N++)M=y(M,k[N]);return M})},m({elop:r,DS:f,SS:d,Ss:h}))}),Rdt=pdt({config:VN}),jdt=gdt({}),Ldt=vdt({}),XN=ydt({}),rA=wdt({Matrix:XN}),tv=Cpt({BigNumber:Rdt,Complex:jdt,DenseMatrix:rA,Fraction:Ldt}),zdt=Edt({typed:tv}),JN=Ddt({config:VN,typed:tv}),Udt=bdt({typed:tv}),wG=Cdt({Matrix:XN,equalScalar:JN,typed:tv}),$dt=Adt({typed:tv}),Wdt=Sdt({typed:tv}),QN=_dt({DenseMatrix:rA,Matrix:XN,SparseMatrix:wG,typed:tv}),bG=Idt({isInteger:Udt,matrix:QN,typed:tv}),xG=Ndt({DenseMatrix:rA,concat:bG,equalScalar:JN,matrix:QN,subtractScalar:$dt,typed:tv,unaryMinus:Wdt}),Xy=Bdt({DenseMatrix:rA,SparseMatrix:wG,addScalar:zdt,concat:bG,equalScalar:JN,matrix:QN,typed:tv}),Hdt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return mh(t,n),Object.defineProperty(t.prototype,"displayDimensions",{get:function(){var e,r;return[((e=this._root)===null||e===void 0?void 0:e.canvas.width)||0,((r=this._root)===null||r===void 0?void 0:r.canvas.height)||0]},enumerable:!1,configurable:!0}),t.prototype.windowDidMount=function(){this.setAsPrimaryCamera()},Object.defineProperty(t.prototype,"canvasDimensions",{get:function(){return this.context.workingCanvasDimensions},enumerable:!1,configurable:!0}),t.prototype.translate=function(e,r){var i=this.canvasDimensions,a=i[0],s=i[1],c=Ug([],e.o),f=e.w,d=e.h,h=[c=Xy(c,r),Xy(c,[f,0]),Xy(c,[0,d]),Xy(c,[f,d])],m=Math.min.apply(Math,h.map(function(M){return M[0]})),y=Math.max.apply(Math,h.map(function(M){return M[0]})),w=Math.min.apply(Math,h.map(function(M){return M[1]})),C=Math.max.apply(Math,h.map(function(M){return M[1]})),k=[0,0];return m<0?k[0]=-m:y>a&&(k[0]=a-y),w<0?k[1]=-w:C>s&&(k[1]=s-C),Ug([],c),c=Xy(c,k),new Vf(c,f,d)},t.prototype.withinBounds=function(e,r,i,a){return a===void 0&&(a=1e-10),e>=r-a&&e<=i+a},t.prototype.updateDimensions=function(e,r,i){this.setState(gu(gu({},this.state),{cameraBox:new Vf(e,r,i)})),this.checkBounds()},t.prototype.checkBounds=function(){var e,r,i,a=this.canvasDimensions,s=a[0],c=a[1];e=this.state.cameraBox.o,r=this.state.cameraBox.w,i=this.state.cameraBox.h,e[0]=Math.max(Math.min(e[0],s),0),e[1]=Math.max(Math.min(e[1],c),0),r=Math.max(Math.min(r,s-e[0]),0),i=Math.max(Math.min(i,c-e[1]),0),this.setState(gu(gu({},this.state),{cameraBox:new Vf(e,r,i)}))},t.prototype.onGlobalWindowChange=function(){},t.prototype.scale=function(e,r,i){var a,s,c,f=this.canvasDimensions,d=f[0],h=f[1];if(r[0]<=0||r[1]<=0)throw new Error("Scale factor must be positive");a=e.o;var m=d/(s=e.w),y=h/(c=e.h),w=Math.min(m,y),C=s*(r=[Math.min(r[0],w),Math.min(r[1],w)])[0],k=c*r[1],M=[i[0]-a[0],i[1]-a[1]],N=M[0],B=M[1],L=this.canvasUnit,z=L[0],q=L[1],V=[N*z,B*q],X=V[0],nt=V[1],it=[N*r[0],B*r[1]],ct=[it[0]*z,it[1]*q],ft=[X-ct[0],nt-ct[1]],gt=ft[0],Ct=ft[1],kt=this.absoluteUnit,Tt=[gt*kt[0],Ct*kt[1]],At=[a[0]+N*r[0],a[1]+B*r[1]];return xG(i,At),console.log(N,B),s=C,c=k,this.translate(new Vf(a,s,c),Tt)},t.prototype.getCenter=function(){return Xy(this.o,[this.w/2,this.h/2])},t.prototype.getBox=function(){return this.state.cameraBox},t}(gv),Vdt=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isInteractiveCamera=!0,e.layer=-100,e.scaleAnchor=[0,0],e}return mh(t,n),t.prototype.windowDidMount=function(){var e=this;n.prototype.windowDidMount.call(this);var r=this.displayDimensions,i=r[0],a=r[1],s=this.canvasDimensions,c=s[0],f=s[1],d=new Vf([c/2-i/2,f/2-a/2],i,a);console.log(d);var h=this.translate(d,[0,0]);this.setState({isPanning:!1,lastMousePosition:[0,0],cameraBox:h}),this.props.subscribeToCanvasResize(function(){var m=e.state.cameraBox.clone().o,y=e.state.cameraBox.w,w=e.state.cameraBox.h,C=e.displayDimensions,k=w*(C[0]/C[1]),M=k-y,N=e.translate(new Vf(m,k,w),[-M/2,0]);e.setState({cameraBox:N})})},t.prototype.windowDidUpdate=function(e){},t.prototype.onMouseDown=function(e,r){if(r.button===1){var i=e.terminateEvent,a=e.canvasPos;this.setState(gu(gu({},this.state),{lastMousePosition:a,isPanning:!0})),i()}},t.prototype.onMouseMove=function(e,r){var i=e.terminateEvent,a=e.canvasPos,s=e.absolutePos,c=e.canvasUnit,f=c[0],d=c[1],h=gu({},this.state);if(this.scaleAnchor=s,this.state.isPanning){i();var m=xG(a,this.state.lastMousePosition),y=m[0],w=m[1],C=this.translate(this.state.cameraBox.clone(),[-y*f,-w*d]);h=gu(gu({},h),{lastMousePosition:a,cameraBox:C}),this.setState(h)}},t.prototype.onMouseUp=function(e,r){this.setState(gu(gu({},this.state),{isPanning:!1}))},t.prototype.onWheel=function(e,r){var i=e.terminateEvent,a=e.canvasToAbsoluteMeasure,s=r.deltaX,c=r.deltaY,f=r.ctrlKey,d=r.altKey;if(f){var h;if(h=s!==0?1+.01*s:1-.01*c,!d){if(this.w*h<50)return;var m=this.scale(this.state.cameraBox.clone(),[Math.max(.1,h),Math.max(.1,h)],this.scaleAnchor);this.setState(gu(gu({},this.state),{cameraBox:m}))}}else{var y=a([s,c]),w=y[0],C=y[1];m=this.translate(this.state.cameraBox.clone(),[w,C]),this.setState(gu(gu({},this.state),{cameraBox:m}))}i()},t.prototype.render=function(e){},t}(Hdt),qdt=[1e4,1e4],Kdt=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=100,e}return mh(t,n),t.prototype.getBox=function(){var e=this.context.workingCanvasDimensions,r=e[0],i=e[1];return new Vf([r/2,i/2],0,0)},t.prototype.getChildren=function(){return this.props.objects},t.prototype.render=function(e){if(this.context.mode!=="view"){var r=e.ctx,i=e.absoluteO,a=i[0],s=i[1],c=[[a,s+13],[a,s-13],[a+13,s],[a-13,s]];r.strokeStyle="white",r.lineWidth=1,r.beginPath(),r.moveTo(c[0][0],c[0][1]),r.lineTo(c[1][0],c[1][1]),r.moveTo(c[2][0],c[2][1]),r.lineTo(c[3][0],c[3][1]),r.stroke()}},t}(gv);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.windowDidMount=function(e){var r=this,i=this.props.controller;this.setContext("controller",i),this.setContext("project",i.getProject()),this.setContext("projectTools",i.projectTools),i.subscribeToProjectUpdates(function(){var a=i.getProject();r.setContext("project",a)}),this.setContext("workingCanvasDimensions",qdt),this.props.modeManager.subscribeToModeUpdates(function(a){r.setContext("mode",a)}),this.setContext("setMode",function(a){r.props.modeManager.setMode(a)})},t.prototype.getChildren=function(e){var r=[];r.push(Vdt.Node({subscribeToCanvasResize:this.props.subscribeToCanvasResize}));var i={mode:this.props.mode};return r.push(Kdt.Node({objects:this.props.getObjects(i)})),r}})(gv);var F_=function(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},Gdt=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return mh(t,n),t.prototype.getBox=function(){return new Vf([0,0],this.parentW,this.parentH)},t.prototype.render=function(e){this.strokeOutline(e,"green")},t}(gv),Jg=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return mh(t,n),t.prototype.evaluateSignal=function(e,r){var i=this.context.controller.interpolateSignalValueAtTime(e,r),a=i[0],s=i[1];return s.length>0&&console.error(s),a},Object.defineProperty(t.prototype,"currentFrame",{get:function(){return this.context.project.timelineData.playheadPosition||0},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){return this.context.mode==="edit"||this.context.mode==="record"?[Gdt.Node()]:[]},t.prototype.useSignal=function(e,r,i,a){return this.context.project.orgData.signalIds.findIndex(function(s){return s===e})===-1&&(r==="continuous"&&(this.context.projectTools.createSignal(e,r,e,i),this.context.projectTools.addPinContinuous(e,F_(),this.context.project.timelineData.numberOfFrames,i[1],"return easyLinear();",!0)),r==="discrete"&&(this.context.projectTools.createSignal(e,r,e),this.context.projectTools.addPinDiscrete(e,F_(),this.context.project.timelineData.numberOfFrames,"default",!0))),this.evaluateSignal(e,a||this.currentFrame)},t.prototype.setSignalValue=function(e,r,i,a,s){r==="continuous"&&this.context.projectTools.addPinContinuous(e,F_(),a,i,"return easyLinear();",s),r==="discrete"&&this.context.projectTools.addPinDiscrete(e,F_(),a,i,s)},t.prototype.setDiscreteSignalValue=function(e,r,i,a){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(s){return s===e})===-1&&this.context.projectTools.createSignal(e,"discrete",e),a=a||this.currentFrame,this.setSignalValue(e,"discrete",r,a,i)},t.prototype.setContinuousSignalValue=function(e,r,i,a,s){i===void 0&&(i=!0),this.context.project.orgData.signalIds.findIndex(function(c){return c===e})===-1&&this.context.projectTools.createSignal(e,"continuous",e,a),s=s||this.currentFrame,this.setSignalValue(e,"continuous",r,s,i)},t.prototype.useContinuousSignal=function(e,r,i){return this.useSignal(e,"continuous",r,i)},t.prototype.useDiscreteSignal=function(e,r){return this.useSignal(e,"discrete",void 0,r)},t.prototype.render=function(e){this.context.mode==="edit"||this.context.mode;var r=gu(gu({},e),{useContinuousSignal:this.useContinuousSignal.bind(this),useDiscreteSignal:this.useDiscreteSignal.bind(this)});this.draw(r)},t.prototype.draw=function(e){},t}(gv);function I0(n,t,e){return Math.min(Math.max(n,t),e)}var zT=function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.layer=1e3,e}return mh(t,n),t.prototype.getBox=function(){var e=this.canvasUnit,r=e[0],i=e[1];return new Vf(this.props.o,25*r,25*i)},t.prototype.render=function(e){var r=this.context.mode,i=this.absoluteUnit,a=i[0],s=i[1],c=e.absoluteO,f=c[0],d=c[1],h=[f+this.w/2*a,d+this.h/2*s],m=h[0],y=h[1];e.ctx.globalAlpha=this.props.alpha?this.props.alpha:1,e.ctx.beginPath(),e.ctx.ellipse(m,y,this.w/2*a,this.h/2*s,0,0,2*Math.PI),this.props.color?e.ctx.strokeStyle=this.props.color:e.ctx.strokeStyle=r==="edit"?"green":this.props.dragging?"red":"pink",e.ctx.lineWidth=2,e.ctx.stroke(),e.ctx.beginPath(),e.ctx.moveTo(m-this.w/2*a,y),e.ctx.lineTo(m+this.w/2*a,y),e.ctx.moveTo(m,y-this.h/2*s),e.ctx.lineTo(m,y+this.h/2*s),e.ctx.stroke(),e.ctx.globalAlpha=1},t}(Jg),Ydt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return mh(t,n),t.prototype.windowDidMount=function(e){this.setState({dragging:!1})},t.prototype.getChildren=function(e){return[zT.Node({o:[0,0],dragging:this.state.dragging,anchor:this.props.anchor})]},t.prototype.getBox=function(e){var r=this.canvasUnit,i=r[0],a=r[1];return new Vf([-12.5*i,-12.5*a],25*i,25*a)},t.prototype.onMouseDown=function(e,r){e.pointInside&&this.context.mode==="record"&&this.setState({dragging:!0})},t.prototype.chooseSetSignalValueFunction=function(e,r,i){var a=this.props.topProps.type,s=r.angle,c=r.magnitude,f=r.vector,d=r.range,h=r.rangeX,m=r.rangeY;switch(s=s&&Number(s.toFixed(2)),c=c&&Number(c.toFixed(2)),f=f&&f.map(function(B){return Number(B.toFixed(2))}),this.props.topProps.degreesOfFreedom){case"1-angular":if(a==="discrete")this.setDiscreteSignalValue(e,JSON.stringify({angle:s}),i);else{var y=d[0],w=d[1];this.setContinuousSignalValue(e,I0(s,y,w),i,d)}break;case"1-normal":a==="discrete"?this.setDiscreteSignalValue(e,JSON.stringify({magnitude:c}),i):(y=d[0],w=d[1],this.setContinuousSignalValue(e,I0(c,y,w),i,d));break;case"2-cartesian":if(a==="discrete")this.setDiscreteSignalValue(e,JSON.stringify({vector:f}),i);else{var C=h[0],k=h[1],M=m[0],N=m[1];this.setContinuousSignalValue(e+"_x",I0(f[0],C,k),i,h),this.setContinuousSignalValue(e+"_y",I0(f[1],M,N),i,m)}}},t.prototype.moveHandle=function(e,r){var i;this.context.projectTools.returnToLastCommit();var a={};switch(this.props.topProps.degreesOfFreedom){case"1-angular":var s=this.props.anchor,c=s[0],f=s[1],d=e.absolutePos,h=d[0]-c,m=d[1]-f;a={angle:Math.atan2(m,h),range:[-Math.PI,Math.PI]};break;case"1-normal":var y=l0(e.absolutePos,this.props.anchor);if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var w=this.props.topProps.initialDirection,C=function(q,V){return q[0]*V[0]+q[1]*V[1]}(y,c0(w,1/ED(w))),k=c0(w,C);if(!(L=this.props.topProps.range))throw new Error("Range not defined for 1-normal handle");a={magnitude:I0(Math.sign(C)*ED(k),L[0],L[1]),range:L};break;case"2-cartesian":var M=l0(e.absolutePos,this.props.anchor),N=(h=M[0],m=M[1],this.props.topProps.rangeX),B=this.props.topProps.rangeY;if(!N||!B){var L;if(!(L=this.props.topProps.range))throw new Error("Range not defined for 2-cartesian handle");N=L,B=L}a={vector:[h=(i=[I0(h,N[0],N[1]),I0(m,B[0],B[1])])[0],m=i[1]],rangeX:N,rangeY:B}}this.chooseSetSignalValueFunction(this.props.topProps.id,a,r),this.context.projectTools.pushUpdate()},t.prototype.onMouseMove=function(e,r){this.state.dragging&&this.moveHandle(e,!1)},t.prototype.onMouseUp=function(e,r){this.state.dragging&&(this.moveHandle(e,!0),this.setState({dragging:!1}))},t.prototype.render=function(e){},t}(Jg),Xdt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return mh(t,n),t.prototype.getChildren=function(e){var r=this.getOnionSkinCrosshairPositions(),i=r[0],a=r[1],s=this.canvasUnit,c=[12.5*s[0],12.5*s[1]];return[zT.Node({o:l0(i,c),alpha:.5,color:"#d0e681",anchor:this.props.anchor}),zT.Node({o:l0(a,c),alpha:.5,color:"#77d4cd",anchor:this.props.anchor})]},t.prototype.getPreviousNextPinValues=function(){var e,r,i=this,a=this.props.topProps.id,s=Object.entries(this.context.project.signalData[a].pinTimes).sort(function(w,C){return w[1]-C[1]}),c=(e=s.find(function(w){return w[0],w[1]>=i.context.project.timelineData.playheadPosition}))===null||e===void 0?void 0:e[0],f=s.findIndex(function(w){var C=w[0];return w[1],C===c});try{r=JSON.parse(this.useDiscreteSignal(a,this.context.project.timelineData.playheadPosition))}catch{r={angle:0,magnitude:0,vector:[0,0]}}var d=f>0,h=f<s.length-1,m=r,y=r;if(d)try{m=JSON.parse(this.context.project.signalData[a].pinValues[s[f-1][0]])}catch{}if(h)try{y=JSON.parse(this.context.project.signalData[a].pinValues[s[f+1][0]])}catch{}return[m,y]},t.prototype.getOnionSkinCrosshairPositions=function(){var e,r,i=this.getPreviousNextPinValues(),a=i[0],s=i[1],c=a.magnitude,f=a.angle,d=a.vector,h=s.magnitude,m=s.angle,y=s.vector;switch(this.props.topProps.degreesOfFreedom){case"1-angular":if(!this.props.topProps.initialLength)throw new Error("Initial length not defined for 1-angular handle");var w=this.props.initialLength;e=[w*Math.cos(f),w*Math.sin(f)],r=[w*Math.cos(m),w*Math.sin(m)];break;case"1-normal":if(!this.props.topProps.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var C=c0(this.props.topProps.initialDirection,1/ED(this.props.topProps.initialDirection)),k=C[0],M=C[1];e=c0([k,M],c),r=c0([k,M],h);break;case"2-cartesian":e=d,r=y;break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}var N=l0(this.parentO,this.props.anchor);return[e=ey(e,N),r=ey(r,N)]},t}(Jg),Jdt=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return mh(t,n),t.prototype.getChildren=function(e){var r=this.props.children?Ug([],this.props.children):[],i={id:this.props.id,topProps:this.props,anchor:this.parentO},a=Ydt.Node(i);return r.push(a),r},t.prototype.retrieveSignalValue=function(e){if(this.props.type==="discrete"){var r=this.useDiscreteSignal(e,this.context.project.timelineData.playheadPosition),i={angle:0,magnitude:0,vector:[0,0]};try{i=JSON.parse(r)}catch{}switch(this.props.degreesOfFreedom){case"1-angular":return i.angle;case"1-normal":return i.magnitude;case"2-cartesian":return i.vector;default:throw new Error("Degrees of freedom not defined for VectorHandle")}}else switch(this.props.degreesOfFreedom){case"1-angular":return this.useContinuousSignal(e,[-Math.PI,Math.PI]);case"1-normal":return this.useContinuousSignal(e,this.props.range);case"2-cartesian":var a=this.props.rangeX,s=this.props.rangeY;if(!a||!s){var c=this.props.range;if(!c)throw new Error("Range not defined for 2-cartesian handle");a=c,s=c}return[this.useContinuousSignal(e+"_x",a),this.useContinuousSignal(e+"_y",s)];default:throw new Error("Degrees of freedom not defined for VectorHandle")}},t.prototype.getBox=function(){var e,r,i,a,s;switch(this.props.degreesOfFreedom){case"1-angular":var c=this.retrieveSignalValue(this.props.id);if(!this.props.initialLength)throw new Error("Initial length not defined for 1-angular handle");var f=this.props.initialLength;a=(e=[f*Math.cos(c),f*Math.sin(c)])[0],s=e[1];break;case"1-normal":var d=this.retrieveSignalValue(this.props.id);if(!this.props.initialDirection)throw new Error("Initial direction not defined for 1-normal handle");var h=c0(this.props.initialDirection,1/ED(this.props.initialDirection));a=(r=[h[0]*d,h[1]*d])[0],s=r[1];break;case"2-cartesian":a=(i=this.retrieveSignalValue(this.props.id))[0],s=i[1];break;default:throw new Error("Degrees of freedom not defined for VectorHandle")}return new Vf([a,s],0,0)},t.prototype.render=function(e){var r=this.context.mode;if(r==="edit"||r==="record"){var i=e.absoluteO,a=i[0],s=i[1],c=this.absoluteUnit,f=c[0],d=c[1],h=[a+this.w/2*f,s+this.h/2*d],m=h[0],y=h[1];if(this.props.displayLine){e.ctx.beginPath(),e.ctx.strokeStyle="green",e.ctx.lineWidth=2,e.ctx.setLineDash([3,1]);var w=e.localToCanvas(c0(this.o,-1)),C=w[0],k=w[1];e.ctx.moveTo(C,k),e.ctx.lineTo(m,y),e.ctx.stroke()}if(this.props.displayCircle){e.ctx.beginPath(),e.ctx.strokeStyle="green",e.ctx.lineWidth=2,e.ctx.setLineDash([3,1]);var M=ED(this.o),N=e.localToCanvas(c0(this.o,-1));C=N[0],k=N[1],e.ctx.ellipse(C,k,M*f,M*d,0,0,2*Math.PI),e.ctx.stroke()}e.ctx.setLineDash([]),e.ctx.font="20px Arial",e.ctx.fillStyle=r==="edit"?"green":"pink",e.ctx.fillText(this.props.id,m,y-17)}},t}(Jg),bM=function(n){function t(){return n!==null&&n.apply(this,arguments)||this}return mh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(Jdt.Node(this.props)),this.props.onionSkin&&r.push(Xdt.Node({id:this.props.id,topProps:this.props,anchor:this.parentO})),r},t}(Jg);(function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(bM.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"2-cartesian",rangeX:e.rangeX,rangeY:e.rangeY,range:e.range,children:e.children,displayLine:e.displayLine,onionSkin:e.onionSkin})),r}})(gv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(bM.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"1-angular",children:e.children,initialLength:e.initialLength,displayCircle:e.displayCircle,onionSkin:e.onionSkin})),r}}(gv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.getChildren=function(e){var r=[];return r.push(bM.Node({id:e.id,type:e.discrete?"discrete":"continuous",degreesOfFreedom:"1-normal",initialDirection:e.initialDirection,range:e.range,children:e.children,displayLine:e.displayLine,onionSkin:e.onionSkin})),r}}(gv),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.getChildren=function(){var e=this,r={continuous:this.useContinuousSignal.bind(this),discrete:this.useDiscreteSignal.bind(this),frame:function(){return e.currentFrame},project:function(){return e.context.project},setDiscreteSignal:function(i,a,s){return e.setDiscreteSignalValue(i,a,!0,s)},setContinuousSignal:function(i,a,s,c){return e.setContinuousSignalValue(i,a,!0,c,s)}};return this.props.getChildren(r)}}(Jg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){return new Vf([this.props.x,this.props.y],this.props.w,this.props.h)},t.prototype.draw=function(e){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){e.ctx.save();var i=e.absoluteO,a=i[0],s=i[1];e.ctx.translate(a,s);var c=e.ctx;this.absoluteToCanvasMeasure;var f=this.absoluteUnit,d=f[0],h=f[1],m={moveTo:function(w,C){c.moveTo(w*d,C*h)},lineTo:function(w,C){c.lineTo(w*d,C*h)},arc:function(w,C,k,M,N,B){c.arc(w*d,C*h,k*d,M,N,B)},fillRect:function(w,C,k,M){c.fillRect(w*d,C*h,k*d,M*h)},strokeRect:function(w,C,k,M){c.strokeRect(w*d,C*h,k*d,M*h)},fillText:function(w,C,k){c.fillText(w,C*d,k*h)},strokeText:function(w,C,k){c.strokeText(w,C*d,k*h)},arcTo:function(w,C,k,M,N){c.arcTo(w*d,C*h,k*d,M*h,N*d)},bezierCurveTo:function(w,C,k,M,N,B){c.bezierCurveTo(w*d,C*h,k*d,M*h,N*d,B*h)},quadraticCurveTo:function(w,C,k,M){c.quadraticCurveTo(w*d,C*h,k*d,M*h)},rect:function(w,C,k,M){c.rect(w*d,C*h,k*d,M*h)},clearRect:function(w,C,k,M){c.clearRect(w*d,C*h,k*d,M*h)},translate:function(w,C){c.translate(w*d,C*h)},transform:function(w,C,k,M,N,B){c.transform(w,C,k,M,N*d,B*h)},setTransform:function(w,C,k,M,N,B){c.setTransform(w,C,k,M,N*d,B*h)},createRadialGradient:function(w,C,k,M,N,B){return c.createRadialGradient(w*d,C*h,k*d,M*d,N*h,B*d)}},y=new Proxy(e.ctx,{get:function(w,C){if(C in m)return m[C];var k=Reflect.get(w,C);return typeof k=="function"?k.bind(w):k},set:function(w,C,k){return Reflect.set(w,C,k)}});y.beginPath(),y.rect(0,0,this.props.w,this.props.h),y.clip(),this.props.draw(y),e.ctx.restore()}}}(Jg),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.globalPositioning=!0,e}mh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){var e=this.context.workingCanvasDimensions[0],r=this.context.workingCanvasDimensions[1];return new Vf([0,0],e,r)},t.prototype.draw=function(e){var r=this.context.mode;this.props.modes&&!this.props.modes.includes(r)||this.props.draw(e.ctx)}}(Jg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.getBox=function(){return new Vf([this.props.x,this.props.y],this.props.w,this.props.h)},t.prototype.getChildren=function(){return this.props.children}}(Jg),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e._img=null,e}mh(t,n),t.prototype.windowDidMount=function(e){n.prototype.windowDidMount.call(this,e),this.props.layer!==void 0&&this.setLayer(this.props.layer)},t.prototype.getBox=function(){return new Vf([this.props.x,this.props.y],this.props.w,this.props.h)},Object.defineProperty(t.prototype,"img",{get:function(){var e=this;if(!this._img){var r=new Image;return r.src=this.props.src,r.onload=function(){e._img=r},r}return this._img},enumerable:!1,configurable:!0}),t.prototype.draw=function(e){var r=this.context.mode;if(!this.props.modes||this.props.modes.includes(r)){e.ctx.save();var i=e.absoluteO,a=i[0],s=i[1],c=this.absoluteUnit,f=c[0],d=c[1];e.ctx.translate(a,s),e.ctx.drawImage(this.img,0,0,this.props.w*f,this.props.h*d),e.ctx.restore()}}}(Jg),function(n){function t(){return n!==null&&n.apply(this,arguments)||this}mh(t,n),t.prototype.windowDidMount=function(e){this.props.onMount()}}(gv),function(n){function t(){var e=n!==null&&n.apply(this,arguments)||this;return e.isSceneCamera=!0,e}mh(t,n),t.prototype.getChildren=function(){return this.props.children},t.prototype.getBox=function(){return new Vf([this.props.x||0,this.props.y||0],this.props.w||500,this.props.h||500)},t.prototype.render=function(e){this.strokeOutline(e,"white")}}(Jg),Lht.PinsAndCurvesProjectController,_ht.defaultProject;function Qdt(){const n=WT(),[t,e]=Vi.useState("http://localhost:3000");return fe.jsx("div",{style:{backgroundColor:"var(--gray1)",width:"100vw",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:fe.jsxs("div",{style:{backgroundColor:"var(--gray2)",borderRadius:"var(--borderRadiusSmall)",padding:"45px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"600px",fontSize:"16px"},children:[fe.jsx("img",{src:"/media/LOGOTEXT.svg",alt:"Pins and Curves",style:{width:"100%",marginBottom:"20px"}}),fe.jsx("br",{}),fe.jsx("div",{style:{color:"var(--gray6)"},children:" Welcome to Pins and Curves. Enter your server url to launch the editor."}),fe.jsx("br",{}),fe.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"10px",color:"var(--gray6)"},children:["Server url:",fe.jsx(Tst,{initialValue:t,isValid:r=>{const i=r.trim();return!!/^(https?:\/\/)/.test(i)},onCommit:e}),fe.jsx(Nst,{text:"launch editor",iconName:"rocket_launch",onClick:()=>{const r=encodeURIComponent(t);n(`run/${r}`)}})]})]})})}function Zdt(){return fe.jsx(GY,{children:fe.jsxs(_Y,{children:[fe.jsx(DM,{path:"/",element:fe.jsx(Qdt,{})}),fe.jsx(DM,{path:"run/:serverUrl",element:fe.jsx(Zot,{})})]})})}OG.createRoot(document.getElementById("root")).render(fe.jsx(re.StrictMode,{children:fe.jsx(Zdt,{})}));
